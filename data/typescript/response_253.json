[{"tags": ["json", "typescript", "class", "encapsulation", "protected"], "comments": [{"owner": {"reputation": 1765, "user_id": 1434301, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d8de9f3bd3f0ca6d0d32e63696c52bf3?s=128&d=identicon&r=PG", "display_name": "yantrab", "link": "https://stackoverflow.com/users/1434301/yantrab"}, "edited": false, "score": 0, "creation_date": 1573690492, "post_id": 58847270, "comment_id": 103968587, "body": "use getters if you can."}, {"owner": {"reputation": 1560, "user_id": 7238194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c46497aa6a9bfc3011e601e06c564449?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy P", "link": "https://stackoverflow.com/users/7238194/jimmy-p"}, "reply_to_user": {"reputation": 1765, "user_id": 1434301, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d8de9f3bd3f0ca6d0d32e63696c52bf3?s=128&d=identicon&r=PG", "display_name": "yantrab", "link": "https://stackoverflow.com/users/1434301/yantrab"}, "edited": false, "score": 0, "creation_date": 1573690722, "post_id": 58847270, "comment_id": 103968634, "body": "Sorry, I should&#39;ve clarified that in the description but that&#39;s not possible because the property is actually dynamic. I&#39;ll change the question."}], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 7238194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c46497aa6a9bfc3011e601e06c564449?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy P", "link": "https://stackoverflow.com/users/7238194/jimmy-p"}, "edited": false, "score": 0, "creation_date": 1573697596, "post_id": 58848275, "comment_id": 103970098, "body": "Love it, thanks. I always forget about this feature because the syntax jukes the hell outta me."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1573696758, "creation_date": 1573696758, "answer_id": 58848275, "question_id": 58847270, "link": "https://stackoverflow.com/questions/58847270/how-to-ignore-protected-readonly-member-of-class-during-serialization/58848275#58848275", "title": "How to ignore protected readonly member of class during serialization", "body": "<p>How about using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring\" rel=\"nofollow noreferrer\">object destructuring</a>:</p>\n\n<pre><code>public toJSON(): string {\n    const { swag: _, ...props } = this;\n    return JSON.stringify(props);\n}\n</code></pre>\n\n<p>That has the effect of copying all properties of <code>this</code> into <code>props</code> except for the <code>swag</code> property.</p>\n\n<pre><code>console.log(new Yolo(\"shwag\").toJSON()); //{\"swolo\":false}\n</code></pre>\n\n<p>Looks good to me.  Hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/MYGwhgzhAECaD2J7QN4ChqegBwK4CMQBLYaAJwFMwATeAOxAE9oIB3ReALmn3kSrrQAvNABmYEBAoBuDFgD086ABl4AFxjxR0dQAsKZHGXjYDaohQho5mYPQhqyuYGvhkAFNmNqKLitXIqWgZmNjAAc24HMiI6cOFoAHJEgEpUaABfGxwCYlJXACkAZQB5ADl3FKjHWPj0LAboOzoHdLDI6AB9ABpoADoBrxMYDIS1XSIIWUasSjVcMkFi8r7o2qJRRk9jbAgU6awsrLRmiH4+pHD3OgpWOA53ACIIXVYIx5S+wtKKlP3oRQoZ7sJCPTjiSQUDJAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1560, "user_id": 7238194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c46497aa6a9bfc3011e601e06c564449?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy P", "link": "https://stackoverflow.com/users/7238194/jimmy-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 58848275, "answer_count": 1, "score": 0, "last_activity_date": 1573697302, "creation_date": 1573688489, "last_edit_date": 1573697302, "question_id": 58847270, "link": "https://stackoverflow.com/questions/58847270/how-to-ignore-protected-readonly-member-of-class-during-serialization", "title": "How to ignore protected readonly member of class during serialization", "body": "<p>Suppose I have a class in Typescript with a protected readonly member that's a constructor argument, and multiple classes that extend from the class and use that property:</p>\n\n<pre><code>class Yolo {\n    public readonly swolo: boolean = false;\n    // Lots of other properties\n\n    constructor(protected readonly swag: string = '') {}\n}\n</code></pre>\n\n<p>and I want the string that results from <code>JSON.stringify(new Yolo())</code> to not have any <code>swag</code>:</p>\n\n<pre><code>{\"swolo\":false, ...(Every other property except \"swag\")}\n</code></pre>\n\n<p>Is there a way to accomplish this <em>by exclusion</em> (i.e., not using a second parameter on <code>JSON.stringify</code>) because there are many other properties on the class, <em>and still retain Intellisense</em>?</p>\n\n<p>My initial inclination was to write <code>toJSON</code> as something like</p>\n\n<pre><code>public toJSON() {\n    const serializableEntries: {\n        -readonly [K in keyof Yolo]: Yolo[K]\n    } = {\n        ...this\n    };\n\n    delete serializableEntries.swag;\n    return serializableEntries;\n}\n</code></pre>\n\n<p>but that results in a compilation error because <code>keyof Yolo</code> doesn't include <code>swag</code>:</p>\n\n<blockquote>\n  <p>Property 'swag' does not exist on type '{ toJSON: () => string; }'.</p>\n</blockquote>\n\n<p>I've considered the following workarounds:</p>\n\n<ol>\n<li>I could cast to <code>any</code> in <code>toJSON</code></li>\n<li>I could remove the <code>readonly</code>\nmodifier from the Class declaration and remove the type declaration on <code>serializableEntries</code> in <code>toJSON</code></li>\n<li>I could make <code>swag</code> public</li>\n</ol>\n\n<p>but none of those options are favorable in my opinion. I would like to keep Intellisense and the access modifiers as-is. Is it even possible? </p>\n"}, {"tags": ["node.js", "typescript", "amazon-dynamodb"], "answers": [{"tags": [], "owner": {"reputation": 14983, "user_id": 1833961, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/WzG31.png?s=128&g=1", "display_name": "bvdb", "link": "https://stackoverflow.com/users/1833961/bvdb"}, "is_accepted": false, "score": 1, "last_activity_date": 1573688543, "creation_date": 1573688543, "answer_id": 58847281, "question_id": 58847185, "link": "https://stackoverflow.com/questions/58847185/types-for-the-response-data-of-a-get/58847281#58847281", "title": "types for the response data of a get", "body": "<p>Considering to rewrite it like this:</p>\n\n<pre><code>try {\n  const data: DocumentClient.GetItemOutput = await promisify((cb) =&gt; (docClient.get(params, cb)))()\n  return data &amp;&amp; data.Item != null;\n} catch( err ) {\n  return false;\n}\n</code></pre>\n\n<p>Not 100% sure if the type <code>GetItemOutput</code> is correct.\nBut it seems to match for now.</p>\n"}], "owner": {"reputation": 14983, "user_id": 1833961, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/WzG31.png?s=128&g=1", "display_name": "bvdb", "link": "https://stackoverflow.com/users/1833961/bvdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573688543, "creation_date": 1573687854, "question_id": 58847185, "link": "https://stackoverflow.com/questions/58847185/types-for-the-response-data-of-a-get", "title": "types for the response data of a get", "body": "<p>I am migrating a NodeJS project from javascript to typescript.\nSo, I am trying to add types.</p>\n\n<p>The only problem that I have left, are issues with the types for dynamodb queries.</p>\n\n<pre><code>  static async hasUser(user: string): Promise&lt;boolean&gt; {\n    const params = {\n      TableName: \"users\",\n      Key: { user }\n    };\n\n    const data = await new Promise((resolve, reject) =&gt; {\n      docClient.get(params, (err, data) =&gt; {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(data);\n        }\n      });\n    }).catch((_err) =&gt; false);\n\n    if (!data) return false;\n    const user = data.Item;            &lt;&lt;----- problem is here.\n    return user != null;    \n  }\n</code></pre>\n\n<p>When AWS dynamodb performs a <code>get(...)</code>, there actually always is an <code>Item</code> property on the return value. However, I don't know which type I should use here to depict it.</p>\n\n<p>I have the <code>aws-sdk</code> dependency already in place.\n(And from what I read, the <code>@types/aws-sdk</code> dependency is no longer necessary because the types are supposed to be included inside the <code>aws-sdk</code> dependency.</p>\n"}, {"tags": ["typescript", "typescript-generics", "typescript3.0"], "answers": [{"comments": [{"owner": {"reputation": 1570, "user_id": 5335355, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/28044f3ce9ab71c5aa481ef3000ffcc5?s=128&d=identicon&r=PG&f=1", "display_name": "CShark", "link": "https://stackoverflow.com/users/5335355/cshark"}, "edited": false, "score": 0, "creation_date": 1573697000, "post_id": 58847913, "comment_id": 103969970, "body": "Ok, thanks. I had tried something very similar, but I just wasn&#39;t sure what to put for the type parameter inside of <code>GenericClass</code>. Looking at it now though, I guess <code>any</code> makes sense, but it still seems a little weird to me."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573697903, "post_id": 58847913, "comment_id": 103970155, "body": "&quot;ensure that your generic class actually uses the generic type parameter&quot; \ud83d\udc4d relevant <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-doesnt-type-inference-work-on-this-interface-interface-foot--\" rel=\"nofollow noreferrer\">FAQ entry</a>"}, {"owner": {"reputation": 1570, "user_id": 5335355, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/28044f3ce9ab71c5aa481ef3000ffcc5?s=128&d=identicon&r=PG&f=1", "display_name": "CShark", "link": "https://stackoverflow.com/users/5335355/cshark"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573698996, "post_id": 58847913, "comment_id": 103970422, "body": "@jcalz Thanks, I was wondering if that was in their documentation anywhere, I just didn&#39;t know what to search for to find it."}], "tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 2, "last_activity_date": 1573695277, "last_edit_date": 1573695277, "creation_date": 1573693415, "answer_id": 58847913, "question_id": 58847047, "link": "https://stackoverflow.com/questions/58847047/in-typescript-how-can-i-get-a-generic-type-parameter-to-be-inferred-in-a-method/58847913#58847913", "title": "In TypeScript, how can i get a generic type parameter to be inferred in a method that has multiple type parameters?", "body": "<p>You'll want to define a helper to extract the type:</p>\n\n<pre><code>type ExtractGenericClassType&lt;T&gt; = T extends GenericClass&lt;infer TInner&gt; ? TInner : never;\n\nclass Testing {\n    static testIt&lt;T extends GenericClass&lt;any&gt;&gt;(testClass: Type&lt;T&gt;): ExtractGenericClassType&lt;T&gt; {\n      ...\n    }\n}\n</code></pre>\n\n<p>Moreover, you need to ensure that your generic class actually uses the generic type parameter, otherwise this will not work.</p>\n"}], "owner": {"reputation": 1570, "user_id": 5335355, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/28044f3ce9ab71c5aa481ef3000ffcc5?s=128&d=identicon&r=PG&f=1", "display_name": "CShark", "link": "https://stackoverflow.com/users/5335355/cshark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 58847913, "answer_count": 1, "score": 1, "last_activity_date": 1573695277, "creation_date": 1573686871, "last_edit_date": 1573692381, "question_id": 58847047, "link": "https://stackoverflow.com/questions/58847047/in-typescript-how-can-i-get-a-generic-type-parameter-to-be-inferred-in-a-method", "title": "In TypeScript, how can i get a generic type parameter to be inferred in a method that has multiple type parameters?", "body": "<p>I'm trying to get the type of <code>T3</code> to be inferenced properly in the example below, but it is just being shown as <code>unknown</code>. I can't understand how it can properly infer the base type <code>T2</code> when calling <code>Testing.testIt</code>, but not the type parameter for the class it extends (<code>T3</code>). Here is the <a href=\"https://stackblitz.com/edit/typescript-testing-type-inference\" rel=\"nofollow noreferrer\">running example</a>. I was trying to figure out if the <code>infer</code> keyword would be useful here, but I can't see how that would fit into this.</p>\n\n<pre><code>export interface Type&lt;T&gt; extends Function {\n    new (...args: any[]): T;\n}\n\nclass GenericClass&lt;T&gt; {\n}\n\nclass ChildClass extends GenericClass&lt;string&gt; {\n\n}\n\nclass Testing {\n    static testIt&lt;T3, T2 extends GenericClass&lt;T3&gt;&gt;(testClass: Type&lt;T2&gt;): T3 {\n      console.log('testIt called');\n      return '' as any;\n    }\n\n    static testIt2(val: string): void {\n      console.log(val);\n    }\n}\n\nconst result = Testing.testIt(ChildClass);\nTesting.testIt2(result);\n</code></pre>\n"}, {"tags": ["typescript", "inheritance", "typescript-generics", "keyof"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573697664, "post_id": 58846817, "comment_id": 103970113, "body": "This is ultimately going to be a <a href=\"https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\" rel=\"nofollow noreferrer\">variance</a> and <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">substitution</a> issue. I should be able to call <code>brokenFruit.mergeWith((x: &quot;seeds&quot;)=&gt;0)</code>, where the callback <i>requires</i> its parameter be the string literal <code>&quot;seeds&quot;</code>. But a value <code>brokenTomato.mergeWith((x: &quot;seeds&quot;)=&gt;0)</code> is an error; its callback must accept either a <code>&quot;seeds&quot;</code> or a <code>&quot;color&quot;</code> argument. Since I can&#39;t use <code>brokenTomato</code> in place of <code>brokenFruit</code>, it means <code>BrokenTomato</code> is not a <code>BrokenFruit</code>."}, {"owner": {"reputation": 23, "user_id": 9743450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "John Jeng", "link": "https://stackoverflow.com/users/9743450/john-jeng"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573763011, "post_id": 58846817, "comment_id": 104001338, "body": "Thanks for commenting jcalz. I appreciate you naming the category of problem. Regarding the difference between the error code and non-error code, should my conclusion be that using <code>mergeWith&lt;K extends keyof TProps&gt;(merger: (key: K)</code> constrains <code>key</code> to be anything that could be a key of TProps (eg. just <code>&quot;seeds&quot;</code>) but writing <code>(key: keyof TProps)</code> requires it to be exactly <code>keyof TProps</code>? ie. <code>&quot;seeds&quot; | &quot;color&quot;</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573763865, "post_id": 58846817, "comment_id": 104001654, "body": "The generic one is more forgiving in what type of callback it accepts, but it becomes much harder to implement. (After all, what can you do with a callback <code>merger</code> of type <code>(k: K)=&gt;void</code> for some type <code>K</code> that you don&#39;t know?  Pretty much nothing.   You can&#39;t call <code>merger(&quot;seeds&quot;)</code> because maybe <code>merger</code> only accepts <code>&quot;color&quot;</code>.  The concrete one is less forgiving in what it accepts: it needs to be a callback that can both handle <code>&quot;seeds&quot;</code> and <code>&quot;color&quot;</code> as an input.  This is much easier to implement.  Frankly I think the problem is with your non-&quot;broken&quot; interface."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573764130, "post_id": 58846817, "comment_id": 104001753, "body": "Note that in general just because <code>Y extends X</code> it doesn&#39;t mean that <code>F&lt;Y&gt; extends F&lt;X&gt;</code>.  If you plan to have <code>F&lt;T&gt;</code> both read and write values of type <code>T</code>, then <code>F&lt;Y&gt;</code> and <code>F&lt;X&gt;</code> are generally unrelated; you can&#39;t substitute one for the other at all.  So &quot;if <code>Tomato</code> extends <code>Fruit</code>, then <code>Wrapper&lt;Tomato&gt;</code> as <code>Wrapper&lt;Fruit&gt;</code> ought to work&quot; will only be true or safe in very specific circumstances.  TypeScript does normally allow a lack of safety in a bunch of places, though, so you might still force this relation even if it&#39;s unsafe, depending on the use case."}, {"owner": {"reputation": 23, "user_id": 9743450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "John Jeng", "link": "https://stackoverflow.com/users/9743450/john-jeng"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573765095, "post_id": 58846817, "comment_id": 104002162, "body": "&quot;Frankly I think the problem is with your non-&quot;broken&quot; interface.&quot; Hmm, I see what you mean here. This makes a lot more sense after reading more about <a href=\"https://medium.com/@michalskoczylas/covariance-contravariance-and-a-little-bit-of-typescript-2e61f41f6f68\" rel=\"nofollow noreferrer\">covariance vs contravariance</a>. Thanks again for your help!"}], "owner": {"reputation": 23, "user_id": 9743450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "John Jeng", "link": "https://stackoverflow.com/users/9743450/john-jeng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1573685327, "creation_date": 1573685327, "question_id": 58846817, "link": "https://stackoverflow.com/questions/58846817/whats-the-difference-between-these-two-key-type-argument-declarations", "title": "What&#39;s the difference between these two key type argument declarations?", "body": "<p>When using a generic wrapper around some kind of known state, I ran into incompatible type errors when casting a child to its parent. The idea being that if <code>Tomato</code> extends <code>Fruit</code>, then <code>Wrapper&lt;Tomato&gt;</code> as <code>Wrapper&lt;Fruit&gt;</code> ought to work.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Wrapper&lt;TProps&gt; {\n    // This next line is correct\n    mergeWith&lt;K extends keyof TProps&gt;(merger: (key: K) =&gt; any): void;\n\n    update&lt;K extends keyof TProps&gt;(updater: (value: TProps[K]) =&gt; any): void;\n}\n\ninterface BrokenWrapper&lt;TProps&gt; {\n    // Somehow this next line seems identical to mergeWith above\n    mergeWith(merger: (key: keyof TProps) =&gt; any): void;\n\n    update&lt;K extends keyof TProps&gt;(updater: (value: TProps[K]) =&gt; any): void;\n}\n\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#code/PTAECEEMGcFNQJYDsAusBOAzSBjW1QB3ACw3gHsl5YAPNJAEwJVNHJYwChk0td4AYugCuCFAAZQAb06g5oOLCYAuUEmEBbAEYYA3JwC+3VBmx5QAFXIbIKcpNr0moIaInTZ8nOQA25dKoAROhKgfpGxrxm8ADq6JAADgkYADwWAAro5AnQAHwe8qAglsQIBFR0oD7I8GWg3ughOCiechoYAOawMWLEKQDSoI6wjAQA1rAAnuSYlpnZeQAU7ehdAaCLE5Oq-QCUoAC8+ZBIk7uqAG7kCAz6raDCCQy2sANDdCPOWzNzWTm5i0ez14qkWF0gPmEsFUGT+0AA2v0ALr7I6gE5nS7XW6GTiRUz8CBZCZIOKJZLoNLzf4FeTFADK1lgxHIhFALDqFRQVRqClgsA0BBuIxQCBwEPZ5FAABkAIyy9FacgXeBaYTcurIBpNFAAOn19xWXR6LGWnQwoK2qm+s1hC1Rx1O51AVxud0KxQAktziDAFEyOUgOpLQAwpYReuikOxSOhQO0WOQGOifNApShJslkxGWOjQF0qOgxfcgS83sNRqAbb8FgDSyCNuDIdCazlESjDo7MS7seE8cULKUCIR-GNoJwM8kXCIxIdQGSkqlXGJxLl9JP4FYbHY5wuKWlrLZ7GvON4kNBuVuj3PAoF0QRhEgxtHCEh75ZD3Z9GeL-UYNyDg-bcpT9ZcUDuAchyGRp-AIWx2VYJUUDsDQJ0zeBwGJEYwLnTDyBJPclxnCQTw3Il8JGK8d0AvCCPiRdKSo49v0oX9aMoz8pUA2930fZ9WTfP12KQJiWPPblxQvABRGC4xorCRM499hLAu5OCAA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}, {"tags": ["typescript", "generics", "typescript-generics"], "comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1574358454, "post_id": 58846811, "comment_id": 104214568, "body": "Does this <a href=\"https://stackoverflow.com/questions/58781523/interface-is-allowing-extra-property-when-it-is-used-as-return-type-of-a-functio\">answer</a> help out?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1574358500, "post_id": 58846811, "comment_id": 104214591, "body": "It is relatd to how excess property checks work. <code>d&lt;B&gt;(() =&gt; ({ bar: &#39;bar&#39;, ping: &#39;ping&#39; }))</code> compiles, as the return type of the inner callback is just expected to be structurally assignable (speak sub-type) to <code>B</code> as instantiation of type parameter <code>InferredType</code>. The given object literal does not need to match <code>B</code> exactly: You did not annotate the inner callback return type explicitely with <code>B</code>, so the object type is inferred here in the inner function context."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1574358673, "post_id": 58846811, "comment_id": 104214669, "body": "Or said differently, in order to let excess property checks work, you have to &quot;immediately&quot; type the object literal in the context - like in the last example, that emits an error."}, {"owner": {"reputation": 536, "user_id": 2450657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/06b26104ebf0976ff9b4cc0b74f91adf?s=128&d=identicon&r=PG", "display_name": "Calummm", "link": "https://stackoverflow.com/users/2450657/calummm"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1574379612, "post_id": 58846811, "comment_id": 104223194, "body": "Thank you @ford04. That answer did help out. It is a shame that I cannot force this &quot;fresh&quot; check via generics unless I have missed something. My use case is enforcing specific definitions for selector generation in an existing code base. I may have to handle this via tslint ruling. Thank you for your help."}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 3655644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c7676c3212fc446682992e5a556718?s=128&d=identicon&r=PG", "display_name": "nicolasrigaudiere", "link": "https://stackoverflow.com/users/3655644/nicolasrigaudiere"}, "is_accepted": false, "score": 3, "last_activity_date": 1574267376, "creation_date": 1574267376, "answer_id": 58959105, "question_id": 58846811, "link": "https://stackoverflow.com/questions/58846811/default-generic-works-as-expected-as-parameter-but-not-as-a-return-type-for-a-fu/58959105#58959105", "title": "Default generic works as expected as parameter but not as a return type for a function parameter", "body": "<p>I've been looking into your issue and in my understanding, it is supposed to be working like that.</p>\n\n<p>If you look into your <code>d()</code> function's type, you have a <code>InferredType extends T</code>.</p>\n\n<p>On lines 16-18, <code>T</code> is passed as <code>B</code>. When you try with <code>T</code> being passed as <code>A</code> (<code>d&lt;A&gt;(() =&gt; ({ bar: 'bar', ping: 'ping' }));</code>) it will trigger an error saying that <code>foo</code> is required.</p>\n\n<p>So what I think is that your InferredType is interpreted as being <code>{ ping?: string}</code> as it extends your <code>T</code> type. And you can go on and on with for example: <code>d&lt;B&gt;(() =&gt; ({ bar: 'bar', ping: 'ping', pong: 'pong', hello: 'hello' }));</code>. As long as <code>bar</code> is defined, there is no error.</p>\n\n<p>Don't hesitate to ask if it is not clear enough!</p>\n"}], "owner": {"reputation": 536, "user_id": 2450657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/06b26104ebf0976ff9b4cc0b74f91adf?s=128&d=identicon&r=PG", "display_name": "Calummm", "link": "https://stackoverflow.com/users/2450657/calummm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1574267376, "creation_date": 1573685295, "question_id": 58846811, "link": "https://stackoverflow.com/questions/58846811/default-generic-works-as-expected-as-parameter-but-not-as-a-return-type-for-a-fu", "title": "Default generic works as expected as parameter but not as a return type for a function parameter", "body": "<p>I have managed to use a default for my generic of type A and this works well when using it as an object parameter (function c), however if I attempt to use it as the return type of a passed in function parameter (function d) it does not correctly error with <code>Object literal may only specify known properties, and 'ping' does not exist in type 'B'.</code></p>\n\n<pre><code>type A = { foo: string }\ntype B = { bar: string }\n\nfunction c&lt;T = A, InferredType extends T = T&gt;(config: InferredType): void { }\nfunction d&lt;T = A, InferredType extends T = T&gt;(config: () =&gt; InferredType): void { }\n\nc({ foo: 'foo' });\nc({ bar: 'bar' }); // Correctly errors\nc&lt;A&gt;({ bar: 'bar' }); // Correctly errors\nc&lt;B&gt;({ bar: 'bar' });\nc&lt;B&gt;({ bar: 'bar', ping: 'ping' }); // Correctly errors\n\nd(() =&gt; ({ foo: 'foo' }));\nd(() =&gt; ({ bar: 'bar' })); // Correctly errors\nd&lt;A&gt;(() =&gt; ({ bar: 'bar' })); // Correctly errors\nd&lt;B&gt;(() =&gt; ({ bar: 'bar' }));\nd&lt;B&gt;(() =&gt; ({ bar: 'bar', ping: 'ping' })); // Should error with unknown property but doesn't\nd&lt;B&gt;((): B =&gt; ({ bar: 'bar', ping: 'ping' })); // Errors correctly but requires duplicate type\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/?ssl=18&amp;ssc=95&amp;pln=1&amp;pc=1#code/C4TwDgpgBAglC8UDeUBmB7dAuKBnYATgJYB2A5lAL4CwAUKJFAEILJQBGAhgTvseVTp1UAVxIBjYEXQko4gDwAVVjAA0UAJIlUEAgQgATReGgQAHsAgkDuKMsSKAfAApxM1ETI4tOvYeOQAJQ4AG7oRAZsNLSiElIyUAZKKuo+uvpGJlDmlta29nYubtqeOM6BCI6a2un+JsFQYRFRQrTizigY2FAA5F09VIEA3HTtKFw8vRMDlMNQAPTzUADC6H6SADYg2XpruKPyMC7j3Dg904NDC0ur68BbOwR7B0zHHKdT3DPDL28TZ9N1GBSF5esDyN8rosVmt9JttulnrQ6AZnOVKlAOmhMGd+oMfrRUej4FUsf9PgRvnNobc4fcEbsCPtCYcXMTSSdJucvvioTdYRB4Y8kUlXmiKiTMZyATzZgTRWyJRz3lzAVBwaCehqqXyoABlAAW6BEG0iiIIUAA7kRgAaoGIANYkdCW2RgJ6QAigDgiYCJdAQXAkHrAFHyMXlHAsSVkj7cylAkFnbW865QACijNsbjuD3Yvqg+gAjiIiPpbAYRGANkRxJxLFAGBA6EA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n\n<p>If I specify the type (B) a second time, as you can see on the final line, it works as expected but this defeats the purpose of using a generic in the first place. </p>\n\n<p>Is this an issue with typescript itself or am I missing something here?</p>\n"}, {"tags": ["c#", "angular", "typescript", "entity-framework"], "comments": [{"owner": {"reputation": 269, "user_id": 2839376, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/588cc83e32af842b17c45dcd23578b41?s=128&d=identicon&r=PG&f=1", "display_name": "bnu", "link": "https://stackoverflow.com/users/2839376/bnu"}, "edited": false, "score": 1, "creation_date": 1573713256, "post_id": 58846765, "comment_id": 103974085, "body": "&quot;System.Text.Json.JsonException&quot; The problem seems to be in serialization to json, not in EF."}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 12369520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDv5ZjszJZZPFLSy5JMAeiOlSgWJZYEQfAqcdloaw=k-s128", "display_name": "Adam999777", "link": "https://stackoverflow.com/users/12369520/adam999777"}, "is_accepted": false, "score": 1, "last_activity_date": 1573942613, "creation_date": 1573942613, "answer_id": 58895705, "question_id": 58846765, "link": "https://stackoverflow.com/questions/58846765/cycle-in-database/58895705#58895705", "title": "Cycle in database", "body": "<p>I was trying to change configuration, models etc. Problem solved by adding this line. Thanks @bnu</p>\n\n<p><code>services.AddControllers().AddNewtonsoftJson(x =&gt; x.SerializerSettings.ReferenceLoopHandling = Newtonsoft.Json.ReferenceLoopHandling.Ignore);</code></p>\n"}], "owner": {"reputation": 29, "user_id": 12369520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDv5ZjszJZZPFLSy5JMAeiOlSgWJZYEQfAqcdloaw=k-s128", "display_name": "Adam999777", "link": "https://stackoverflow.com/users/12369520/adam999777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573942613, "creation_date": 1573685048, "last_edit_date": 1573686269, "question_id": 58846765, "link": "https://stackoverflow.com/questions/58846765/cycle-in-database", "title": "Cycle in database", "body": "<p>during working on my project (angular 8 + asp.net 3.0) i received 500 error when trying to get all Products:</p>\n\n<p><code>\"System.Text.Json.JsonException: A possible object cycle was detected which is not supported. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32.\"</code></p>\n\n<p>Where is my cycle? Maybe i should rebuild all my models? Can anybody explain me what I am doing wrong?\nThe idea was to create CRUD with Products which could be used to make Dishes from them. In future User will be able to add product or dish to his daily menu. Thanks for help. </p>\n\n<p>my modelBuilder below</p>\n\n<pre><code>modelBuilder.Entity&lt;Ingredient&gt;()\n                .HasOne(x =&gt; x.Dish)\n                .WithMany(x =&gt; x.Ingredients)\n                .HasForeignKey(x =&gt; x.DishId)\n                .OnDelete(DeleteBehavior.Cascade);\n\n            modelBuilder.Entity&lt;Ingredient&gt;()\n                .HasOne(x =&gt; x.Product)\n                .WithMany(x =&gt; x.Element)\n                .HasForeignKey(x =&gt; x.ProductId)\n                .OnDelete(DeleteBehavior.Cascade);\n\n            modelBuilder.Entity&lt;Ingredient&gt;()\n                .HasKey(x =&gt; new { x.DishId, x.ProductId });\n\n            modelBuilder.Entity&lt;Product&gt;()\n                .HasOne(x =&gt; x.Photo)\n                .WithMany()\n                .OnDelete(DeleteBehavior.NoAction);\n\n            modelBuilder.Entity&lt;Dish&gt;()\n                .HasOne(x =&gt; x.Photo)\n                .WithMany()\n                .OnDelete(DeleteBehavior.NoAction);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UJ9De.png\" rel=\"nofollow noreferrer\">Database diagram</a></p>\n"}, {"tags": ["typescript", "graphql", "nestjs", "typegraphql"], "comments": [{"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573683914, "post_id": 58846540, "comment_id": 103966782, "body": "Why do you have <code>@ResolverProperty</code> everywhere when there are no <code>@Query()</code> or <code>@Mutation()</code> decorators that relate to the <code>BlogEntity</code>?"}, {"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573684104, "post_id": 58846540, "comment_id": 103966847, "body": "I think I do not undertand your question, but i added <code>@ResolverProperty</code> because without this I was also getting this error but i found this <a href=\"https://github.com/nestjs/graphql/issues/226\" rel=\"nofollow noreferrer\">issue</a> with soullution so I decided to try this but it didn&#39;t worked"}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573684304, "post_id": 58846540, "comment_id": 103966920, "body": "As of now, there is no way for you to run graphql requests to get a <code>BlogPost</code> because there is no <code>@Query()</code> that relates to the <code>BlogEntity</code>. <code>@ResolverProperty()</code> is used for define how to resolve <i>properties</i> of the originally queried object."}, {"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573684479, "post_id": 58846540, "comment_id": 103966983, "body": "I understand, I added it only for kind of test (i was getting this error and i thought that maybe by adding this i can resolve my problem). SO how should I get rid of this error (i thought it was because i have this unresolved custom types in my BlogEntity) ?"}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573684726, "post_id": 58846540, "comment_id": 103967069, "body": "I believe you should add in some sort of <code>@Query()</code> method that resolves to a <code>BlogEntity</code>, similar to how your <code>helloBlog</code> resovles to a String"}, {"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573684906, "post_id": 58846540, "comment_id": 103967125, "body": "ye but what kind of <code>@Qury()</code> ? for example <code>@Query(() =&gt; [ArticleEntity])   async getPosts(): Promise&lt;ArticleEntity[]&gt; {     return [];   }</code>. It is not working."}, {"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1573685003, "post_id": 58846540, "comment_id": 103967162, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202290/discussion-between-kanow-and-jay-mcdoniel\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "is_accepted": true, "score": 2, "last_activity_date": 1573898990, "last_edit_date": 1573898990, "creation_date": 1573763377, "answer_id": 58866028, "question_id": 58846540, "link": "https://stackoverflow.com/questions/58846540/why-i-am-getting-noexplicittypeerror/58866028#58866028", "title": "Why I am getting NoExplicitTypeError?", "body": "<p>So problem was not in <code>@ResolverProperty</code> and my resolver. Problem of this error was in deffinition of BlogEntity fields: <code>posts</code>, <code>projects</code> and <code>tutorials</code>. You can ask why? So for every type which is not primary (expect number there you also have to define what it will be Float or maybe Integer) and also for every field which is an <strong>array</strong> even array of primary types like string you also have to define a type of returnig values. How to do it, you just need to add <code>returnTpyFunction</code> to <code>@Field()</code> decorator.</p>\n\n<p><strong>Example</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Entity()\n@ObjectType()\nexport class BlogEntity {\n  @Field(() =&gt; ID)\n  @ObjectIdColumn()\n  _id: string;\n\n  @Field(() =&gt; [ArticleEntity])\n  @Column()\n  posts: ArticleEntity[];\n\n  @Field(() =&gt; [ArticleEntity])\n  @Column()\n  projects: ArticleEntity[];\n\n  @Field(() =&gt; [ArticleEntity])\n  @Column()\n  tutorials: ArticleEntity[];\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1568, "favorite_count": 0, "accepted_answer_id": 58866028, "answer_count": 1, "score": 0, "last_activity_date": 1573898990, "creation_date": 1573683780, "question_id": 58846540, "link": "https://stackoverflow.com/questions/58846540/why-i-am-getting-noexplicittypeerror", "title": "Why I am getting NoExplicitTypeError?", "body": "<p>I am createing <code>Nest.js</code> application and I decided to create my project with GrapQL. I read some documentation and I decided to go <strong>code first</strong> approach(GraphQL schema should automagically render itself). For this approach it was needed to install <strong>type-graphql</strong> which is really cool, but after I created some simple examples with only primary types I decided to do something more challanging. </p>\n\n<p>In my appliaction I have <code>BlogEntity</code>(from those <strong>Entities</strong> type-graphql is generating GraphQL schema) which is using <code>ArticleEntity</code> becouse it is needed to add typing to <code>posts</code>, <code>projects</code> and <code>tutorials</code>. I created my resolver and defined <code>@ResolveProperty</code> for <code>posts</code>, <code>projects</code> and <code>tutorials</code>. When I am trying to run <code>nest start</code> command i am getting this error:</p>\n\n<blockquote>\n  <p>throw new errors_1.NoExplicitTypeError(prototype.constructor.name, propertyKey, parameterIndex);</p>\n  \n  <blockquote>\n    <p>NoExplicitTypeError: You need to provide explicit type for BlogEntity#posts !</p>\n  </blockquote>\n</blockquote>\n\n<p>Can someone explain me why I am getting this error and what should I do to fix it?</p>\n\n<p><strong>BlogEntity</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Entity, Column, ObjectIdColumn } from 'typeorm';\nimport { Field, ID, ObjectType } from 'type-graphql';\nimport { ArticleEntity } from '../../articles/models/article.entity';\n\n@Entity()\n@ObjectType()\nexport class BlogEntity {\n  @Field(() =&gt; ID)\n  @ObjectIdColumn()\n  _id: string;\n\n  @Field()\n  @Column()\n  posts: ArticleEntity[];\n\n  @Field()\n  @Column()\n  projects: ArticleEntity[];\n\n  @Field()\n  @Column()\n  tutorials: ArticleEntity[];\n}\n</code></pre>\n\n<p><strong>BlogResolver</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Resolver(() =&gt; BlogEntity)\nexport class BlogResolver {\n  constructor(\n    private readonly blogService: BlogService,\n    private readonly articlesService: ArticlesService) {}\n\n  @Query(() =&gt; String)\n  async helloBlog(): Promise&lt;string&gt; {\n    return 'Hello blog';\n  }\n\n  @ResolveProperty('posts', () =&gt; ArticleEntity)\n  async getPosts(): Promise&lt;ArticleEntity[]&gt; {\n    return await this.articlesService.findAll();\n  }\n\n  @ResolveProperty('projects', () =&gt; ArticleEntity)\n  async getProjects(): Promise&lt;ArticleEntity[]&gt; {\n    return await this.articlesService.findAll();\n  }\n\n  @ResolveProperty('tutorials', () =&gt; ArticleEntity)\n  async getTutorials(): Promise&lt;ArticleEntity[]&gt; {\n    return await this.articlesService.findAll();\n  }\n\n}\n</code></pre>\n\n<p>If you need anything else ping me in the comment section</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1573683548, "post_id": 58846414, "comment_id": 103966626, "body": "Why do these key names need to be chosen dynamically?"}, {"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1573683665, "post_id": 58846414, "comment_id": 103966672, "body": "I simply want whatever is in one class to be required in the other."}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1573684233, "post_id": 58846414, "comment_id": 103966890, "body": "Is there a reason you&#39;ve made these classes instead of objects? A class with only static members is basically an object."}], "answers": [{"tags": [], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "is_accepted": false, "score": 2, "last_activity_date": 1573684419, "creation_date": 1573684419, "answer_id": 58846664, "question_id": 58846414, "link": "https://stackoverflow.com/questions/58846414/ensure-the-static-keys-exist-on-another-class/58846664#58846664", "title": "Ensure the static keys exist on another class", "body": "<p>This works for regular objects:</p>\n\n<pre><code>export const Components = {\n    [Pages.home]: Home.Page,\n    [Pages.login]: Login.Page,\n    [Pages.logout]: Logout.Page,\n    [Pages.dashboardManage]: DashboardManage.Page,\n    [Pages.dashboardOrganizationTable]: DashboardOrganizationTable.Page,\n    [Pages.organizationSettings]: OrganizationSettings.Page,\n}\n\ntype PageKeysInUse = keyof typeof Components\ntype PagesInUse = { [key in PageKeysInUse]: any }\n\nexport const Resolvers: PagesInUse = {\n    [Pages.home]: Home.Page,\n    [Pages.login]: Login.Page,\n    [Pages.logout]: Logout.Page,\n    [Pages.dashboardManage]: DashboardManage.Page,\n    [Pages.dashboardOrganizationTable]: DashboardOrganizationTable.Page,\n    [Pages.organizationSettings]: OrganizationSettings.Page,\n}\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573684419, "creation_date": 1573683141, "last_edit_date": 1573684293, "question_id": 58846414, "link": "https://stackoverflow.com/questions/58846414/ensure-the-static-keys-exist-on-another-class", "title": "Ensure the static keys exist on another class", "body": "<p>I am looking for a way to ensure that all the properties from one class exist in another.</p>\n\n<pre><code>export class Components {\n    static [Pages.home] = Home.Page\n    static [Pages.login] = Login.Page\n    static [Pages.logout] = Logout.Page\n    static [Pages.dashboardManage] = DashboardManage.Page\n    static [Pages.dashboardOrganizationTable] = DashboardOrganizationTable.Page\n    static [Pages.organizationSettings] = OrganizationSettings.Page\n}\n\nexport class Resolvers implements Components {\n    static [Pages.home] = Home.Page\n    static [Pages.login] = Login.Page\n    static [Pages.logout] = Logout.Page\n    static [Pages.dashboardManage] = DashboardManage.Page\n    static [Pages.dashboardOrganizationTable] = DashboardOrganizationTable.Page\n    static [Pages.organizationSettings] = OrganizationSettings.Page\n}\n</code></pre>\n\n<p><code>implements Components</code> does not work</p>\n\n<p>I tried this as well:</p>\n\n<pre><code>type PagesInUse = keyof typeof Components\ntype ExmapB = {[key in PagesInUse]: any}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "ecmascript-6", "ecmascript-5"], "comments": [{"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 1, "creation_date": 1573683256, "post_id": 58846364, "comment_id": 103966525, "body": "as far as I know, neither <code>import</code> nor typescript are supported by node. You&#39;ll need some sort of transpilation step."}, {"owner": {"reputation": 114, "user_id": 6119347, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dQ3KmkdlmOU/AAAAAAAAAAI/AAAAAAAAABI/RLdzKtn5AdE/photo.jpg?sz=128", "display_name": "Jahongir", "link": "https://stackoverflow.com/users/6119347/jahongir"}, "edited": false, "score": 2, "creation_date": 1573684936, "post_id": 58846364, "comment_id": 103967142, "body": "Here already answered to this question <a href=\"https://stackoverflow.com/questions/45854169/how-can-i-use-an-es6-import-in-node\" title=\"how can i use an es6 import in node\">stackoverflow.com/questions/45854169/&hellip;</a>"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573691497, "post_id": 58846364, "comment_id": 103968811, "body": "Explanation here: <a href=\"https://stackoverflow.com/questions/58775491/node-js-javascript-calling-functions-from-javascript-file/58775856#58775856\">Using import in node.js</a>"}, {"owner": {"reputation": 344, "user_id": 10941222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/597950a6ccc7373d5797246d11492849?s=128&d=identicon&r=PG&f=1", "display_name": "user2222", "link": "https://stackoverflow.com/users/10941222/user2222"}, "edited": false, "score": 0, "creation_date": 1580656770, "post_id": 58846364, "comment_id": 106160769, "body": "run the script with npx ts-node was the solution"}], "owner": {"reputation": 344, "user_id": 10941222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/597950a6ccc7373d5797246d11492849?s=128&d=identicon&r=PG&f=1", "display_name": "user2222", "link": "https://stackoverflow.com/users/10941222/user2222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 1, "closed_date": 1573691578, "answer_count": 0, "score": 0, "last_activity_date": 1573683264, "creation_date": 1573682833, "last_edit_date": 1573683264, "question_id": 58846364, "link": "https://stackoverflow.com/questions/58846364/i-cant-use-es6-syntax-to-run-a-script", "closed_reason": "Duplicate", "title": "I can&#39;t use es6 syntax to run a script", "body": "<p>I want to run a js script, that require some ts, and js file in my node project.\nI use this command node --experimental-modules src/scripts/myScript.js\nIn my myScript.js i can't use import syntax only require is working. So i tend to use require only.\nBut myScript.js is using multiple ts and js files that are using import syntax.\nHere is the error i got:</p>\n\n<pre><code>SyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:721:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:690:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.&lt;anonymous&gt; (/Users/*****/Desktop/*****/l****/src/scripts/myScript.js:6:22)\n    at Module._compile (internal/modules/cjs/loader.js:776:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1573689004, "post_id": 58846352, "comment_id": 103968226, "body": "It&#39;d be best to narrow down you code to what you think the issue is and post it here."}, {"owner": {"reputation": 1008, "user_id": 9088454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kegYJCFMCro/AAAAAAAAAAI/AAAAAAAAATU/LZizxkFtrXY/photo.jpg?sz=128", "display_name": "user9088454", "link": "https://stackoverflow.com/users/9088454/user9088454"}, "edited": false, "score": 0, "creation_date": 1573715120, "post_id": 58846352, "comment_id": 103974809, "body": "Also if you wish to share code then share like this: <a href=\"https://github.com/gokujy/ioniccanvas.github.io\" rel=\"nofollow noreferrer\">github.com/gokujy/ioniccanvas.github.io</a>  remove node module, plugins, and platform folder and upload other things,"}, {"owner": {"reputation": 306, "user_id": 5614471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PibL6.jpg?s=128&g=1", "display_name": "Shriniwas b", "link": "https://stackoverflow.com/users/5614471/shriniwas-b"}, "edited": false, "score": 0, "creation_date": 1573716129, "post_id": 58846352, "comment_id": 103975241, "body": "You can use ionic predesigned tabs template for this. Just hit this command to create &quot;ionic start myApp tabs&quot; and then after you can add more tabs and homepage into it."}], "owner": {"reputation": 1, "user_id": 12369392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3853166eb04c246317ecc94ea6286c65?s=128&d=identicon&r=PG&f=1", "display_name": "Josmar Martins", "link": "https://stackoverflow.com/users/12369392/josmar-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573682762, "creation_date": 1573682762, "question_id": 58846352, "link": "https://stackoverflow.com/questions/58846352/for-some-reason-not-displayed-at-home-it-may-be-something-better-than-i-know", "title": "For some reason not displayed at home... It may be something better than I know, but I&#39;m here days... Ionic 4", "body": "<p>I was making my code for a job, an application, and when I wanted to add some Modal but it went wrong so as I can't clean and remove Modal codes, I deleted everything and did it again. Doing it again, I redo the same process but for some reason the home page doesn't look like the home page. I know maybe it's a really stupid mistake but take it easy please I'm a simple studen... xD</p>\n\n<p>I say here my code, to ask me to help, say thank you!</p>\n\n<p><a href=\"https://github.com/JosmarStrech/Sport-Tool\" rel=\"nofollow noreferrer\">https://github.com/JosmarStrech/Sport-Tool</a></p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 165, "user_id": 12150919, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0T2qZJSgfZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reINEKNTFTIPPSSQPYz3FkdNrImjQ/photo.jpg?sz=128", "display_name": "Leo Davtyan", "link": "https://stackoverflow.com/users/12150919/leo-davtyan"}, "edited": false, "score": 0, "creation_date": 1573684311, "post_id": 58846226, "comment_id": 103966921, "body": "I have been looking for something like this as well."}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1573684357, "post_id": 58846226, "comment_id": 103966942, "body": "So what type of carousel you are looking for? can you just give any example link even of js or jquery plugin?"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 12150919, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0T2qZJSgfZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reINEKNTFTIPPSSQPYz3FkdNrImjQ/photo.jpg?sz=128", "display_name": "Leo Davtyan", "link": "https://stackoverflow.com/users/12150919/leo-davtyan"}, "edited": false, "score": 0, "creation_date": 1573684282, "post_id": 58846359, "comment_id": 103966909, "body": "I think they wanted a slider where you don&#39;t show images."}], "tags": [], "owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "is_accepted": false, "score": -1, "last_activity_date": 1573682813, "creation_date": 1573682813, "answer_id": 58846359, "question_id": 58846226, "link": "https://stackoverflow.com/questions/58846226/is-there-a-carousel-for-angular-4/58846359#58846359", "title": "Is there a carousel for Angular 4+?", "body": "<p>yes there are multiple npm packages for <code>angular</code>. You can try <code>ngx-gallery</code> and also <code>ngx-slider</code>. Checkout their implementation on <code>npm</code></p>\n"}], "owner": {"reputation": 97, "user_id": 12328030, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RGde_KhHbD8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdtv6V1oURkYNKFPpgt9MT7GvNZAg/photo.jpg?sz=128", "display_name": "Ana", "link": "https://stackoverflow.com/users/12328030/ana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1573682813, "creation_date": 1573682114, "question_id": 58846226, "link": "https://stackoverflow.com/questions/58846226/is-there-a-carousel-for-angular-4", "title": "Is there a carousel for Angular 4+?", "body": "<p>I need to create a carousel of different information (words only). \nI looked all over internet. Majority of carousels are for images and written in JS/Jquery. \nIs there one for Angular?</p>\n\n<p><a href=\"https://stackblitz.com/edit/dynamic-carousel-in-angular?file=src%2Fapp%2Fcarousel%2Fcarousel.component.html\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"comments": [{"owner": {"reputation": 6375, "user_id": 6826164, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh6.googleusercontent.com/-CKThqFqe5Eo/AAAAAAAAAAI/AAAAAAAAP10/ih0uh1YgT_I/photo.jpg?sz=128", "display_name": "Jonathan Tuzman", "link": "https://stackoverflow.com/users/6826164/jonathan-tuzman"}, "edited": false, "score": 0, "creation_date": 1573680923, "post_id": 58845853, "comment_id": 103965553, "body": "I&#39;ve posted the full code. <code>version</code> doesn&#39;t occur anywhere in the styled code, but it&#39;s used inside <code>&lt;HeaderVersion&gt;</code> in the final component itself, if that&#39;s what you mean. I tried <code>const HeaderVersion = styled(&#39;div&#39;)&lt;{version: string}&gt;({</code> but that didn&#39;t fix anything."}], "tags": [], "owner": {"reputation": 4433, "user_id": 10795348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e854668f7e109c734e6e82ce75b0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Red Baron", "link": "https://stackoverflow.com/users/10795348/red-baron"}, "is_accepted": false, "score": 0, "last_activity_date": 1573680312, "creation_date": 1573680312, "answer_id": 58845853, "question_id": 58845495, "link": "https://stackoverflow.com/questions/58845495/type-error-in-connected-container-component/58845853#58845853", "title": "Type error in connected container component", "body": "<p>are you using the version prop anywhere inside your styled component?\nyou might have to pass <code>version</code> directly to the styled component like so <code>const Header = styled.div&lt;HeaderProps&gt;</code></p>\n\n<p>where <code>HeaderProps</code> is:</p>\n\n<pre><code>interface HeaderProps {\n    version: type\n}\n</code></pre>\n"}], "owner": {"reputation": 6375, "user_id": 6826164, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh6.googleusercontent.com/-CKThqFqe5Eo/AAAAAAAAAAI/AAAAAAAAP10/ih0uh1YgT_I/photo.jpg?sz=128", "display_name": "Jonathan Tuzman", "link": "https://stackoverflow.com/users/6826164/jonathan-tuzman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573680845, "creation_date": 1573678653, "last_edit_date": 1573680845, "question_id": 58845495, "link": "https://stackoverflow.com/questions/58845495/type-error-in-connected-container-component", "title": "Type error in connected container component", "body": "<p>I'm converting a React app to TypeScript, and my app container component contains these container components:</p>\n\n<h3><code>App.tsx</code></h3>\n\n<pre><code>class App extends Component {\n  render() {\n    return (\n      &lt;AppContainer&gt;\n        &lt;HeaderContainer /&gt;\n        &lt;TabContainer /&gt;\n        &lt;ViewContainer /&gt;\n      &lt;/AppContainer&gt;\n    )\n  }\n}\n\nexport default App\n</code></pre>\n\n<h3><code>HeaderContainer.tsx</code></h3>\n\n<pre><code>const mapStateToProps = (state: AppState) =&gt; ({version: state.settings.version})\n\nconst mapDispatchToProps = () =&gt; ({})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Header)\n</code></pre>\n\n<h3><code>Header.tsx</code></h3>\n\n<pre><code>const HeaderContainer = styled('header')({\n    flex: '0 0 auto',\n    flexDirection: 'row-reverse',\n});\nconst HeaderRow = styled('div')({\n    padding: '10px 0px 0px 0px',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n    justifyContent: 'right',\n    maxHeight: '100px',\n});\n\nconst HeaderLogo = styled('img')({\n    margin: '0px 5px',\n    height: '80px',\n    width: '80px',\n    display: 'flex',\n    order: 1,\n});\n\nconst HeaderInfo = styled('div')({\n    margin: '0px 15px 0px 10px',\n    display: 'flex',\n    justifyContent: 'flex-start',\n    flexDirection: 'column',\n    order: 0,\n});\n\nconst HeaderName = styled('div')({\n    display: 'flex',\n    marginTop: '7px',\n    flexGrow: 1,\n    order: 0,\n    fontSize: '40px',\n});\n\nconst HeaderVersion = styled('div')({\n    display: 'flex',\n    flexGrow: 1,\n    order: 1,\n    fontSize: '20px',\n});\nconst Header = ({ version }) =&gt; (\n  &lt;HeaderContainer&gt;\n    &lt;Disclaimer /&gt;\n    &lt;HeaderRow&gt;\n        &lt;HeaderLogo src={process.env.PUBLIC_URL + \"/icons/icon-512x512.png\"} alt=\"logo\" /&gt;\n        &lt;HeaderInfo&gt;\n            &lt;HeaderName&gt;App Name&lt;/HeaderName&gt;\n            &lt;HeaderVersion&gt;{version}&lt;/HeaderVersion&gt;\n        &lt;/HeaderInfo&gt;\n    &lt;/HeaderRow&gt;\n  &lt;/HeaderContainer&gt;\n)\n\nHeader.propTypes = {\n  version: PropTypes.string.isRequired,\n}\n\nexport default Header\n</code></pre>\n\n<p>I'm getting a type error on <code>HeaderContainer</code> in <code>App.tsx</code>: </p>\n\n<p><code>Type error: Property 'version' is missing in type '{}' but required in type 'Pick&lt;InferProps&lt;{ version: Validator&lt;string&gt;; }&gt;, \"version\"&gt;'.</code></p>\n\n<p>I do basically understand what this is saying. However, I don't get why the error is showing up on <code>HeaderContainer</code> and not in <code>Header</code>, and I don't get why the error is showing up at all because <code>Header</code> is only being implemented inside of the <code>connect</code> function in the container, passing it the required prop.</p>\n\n<p>Commenting out the <code>propTypes</code> in <code>Header</code> silences the error.</p>\n"}, {"tags": ["angular", "typescript", "sorting", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573678732, "post_id": 58845354, "comment_id": 103964582, "body": "I mean it done in a function which is carried out in ngOnInit, so what youre saying is done in my code.  Also, what if i change the datasource?  Say, I select a Dropdown and the list of data being rendered changes,  datassource changes as i assign dataSource to a new instance of MatTableDataSource."}, {"owner": {"reputation": 147, "user_id": 11056800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTy32.png?s=128&g=1", "display_name": "HalfpennyIan", "link": "https://stackoverflow.com/users/11056800/halfpennyian"}, "reply_to_user": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573679144, "post_id": 58845354, "comment_id": 103964761, "body": "Yes you can reassign datasource to re-render the table changes. The best way to do this is with a filter. Your table should sort as long as you have this.dataSource.sort = this.sort defined in a function onInit()."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573679829, "post_id": 58845354, "comment_id": 103965064, "body": "So, it sounds like I should create 1 instance of datasource and then change the underlying data?"}, {"owner": {"reputation": 147, "user_id": 11056800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTy32.png?s=128&g=1", "display_name": "HalfpennyIan", "link": "https://stackoverflow.com/users/11056800/halfpennyian"}, "reply_to_user": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573679915, "post_id": 58845354, "comment_id": 103965110, "body": "Yes that is the best approach"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573680162, "post_id": 58845354, "comment_id": 103965215, "body": "Can you edit to show me how then?  I did a brief update with additional information, which doesnt change much. Instead it sounds like I will need to change the data to whatever it is defined as."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573681281, "post_id": 58845354, "comment_id": 103965707, "body": "since you create a new instance of MatTableDataSource, it looks like you need to reassign sort to it no?"}, {"owner": {"reputation": 147, "user_id": 11056800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTy32.png?s=128&g=1", "display_name": "HalfpennyIan", "link": "https://stackoverflow.com/users/11056800/halfpennyian"}, "reply_to_user": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573681339, "post_id": 58845354, "comment_id": 103965733, "body": "make sure your types align from what you receive and subscribe to from your service. The datasource should update accordingly."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1573681442, "post_id": 58845354, "comment_id": 103965785, "body": "Im setting the type to <i>any</i> while I work to solve the problem, then I can extend the implementation into a class.  Anyways, What you have done has been the exact same code as what was written.  Do you have a running sample, showing this working, because it doesnt work still for me."}], "tags": [], "owner": {"reputation": 147, "user_id": 11056800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTy32.png?s=128&g=1", "display_name": "HalfpennyIan", "link": "https://stackoverflow.com/users/11056800/halfpennyian"}, "is_accepted": false, "score": 0, "last_activity_date": 1573681392, "last_edit_date": 1573681392, "creation_date": 1573677932, "answer_id": 58845354, "question_id": 58845227, "link": "https://stackoverflow.com/questions/58845227/mattable-with-sort-doesnt-seem-to-sort-the-column/58845354#58845354", "title": "MatTable with Sort doesnt seem to sort the column", "body": "<p>Yes, in order for the sort to work for the mat data table you will need to use this.dataSource.sort = this.sort within ngOnInit()</p>\n\n<pre><code>ngOnInit() {\n    this.dataSource = new MatTableDataSource&lt;FooModel&gt;(foobar);\n                this.dataSource.paginator = this.paginator;\n                this.dataSource.sort = this.sort;\n}\n</code></pre>\n\n<p>Notice how the datasource can be updated from your service subscription:</p>\n\n<pre><code>    this.fooService.getFoobar(this.isFoo).subscribe((foobar: Foo[]) =&gt; {\n              if (foobars != null) {\n                this.dataSource = new MatTableDataSource&lt;Foo&gt;(foobar);\n                this.dataSource.sort = this.sort;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "is_accepted": true, "score": 0, "last_activity_date": 1573748883, "last_edit_date": 1573748883, "creation_date": 1573748536, "answer_id": 58861372, "question_id": 58845227, "link": "https://stackoverflow.com/questions/58845227/mattable-with-sort-doesnt-seem-to-sort-the-column/58861372#58861372", "title": "MatTable with Sort doesnt seem to sort the column", "body": "<p>There is a built in change for matSort you can catch to handle sorting.  This bypasses the: <code>this.dataSource.sort = this.sort;</code> lines.  So you can trim all of that code out.</p>\n\n<pre><code>&lt;table mat-table \n       [dataSource]=\"dataSource\" \n       matSort \n       (matSortChange)=\"sortData($event)\"&gt;&lt;/table&gt;\n</code></pre>\n\n<p>and then in the code you can put:</p>\n\n<pre><code>sortData(sort: Sort){\n  // Sort sorts the current list, but it wasnt updating it unless i reassigned.\n  this.dataSource.data = this.dataSource.data.sort((a, b) =&gt; {\n    const isAsc = sort.direction === 'asc';\n    return this._compare(a[sort.active], b[sort.active], isAsc);\n  });\n}\nprivate _compare(a: number | string, b: number | string, isAsc: boolean) {\n  return (a &lt; b ? -1 : 1) * (isAsc ? 1 : -1);\n}\n</code></pre>\n\n<p>The other answer was not working at all for me, but now, everything flows well.</p>\n\n<p>Since there are 3 states for <code>sort.direction</code>, 'asc', 'desc', and '', so for the empty string, I would set datasource equal to the original list order.</p>\n\n<p>Here is the modified Component, with commented out areas which can now be deleted</p>\n\n<pre><code>class GridComponent {\n    /// Initialize the datasource we will be augmenting its inner data.\n    dataSource: MatTableDataSource&lt;any&gt; = new MatTableDataSource();\n    displayedColumns = [\"interface\"];\n    //@ViewChild(MatSort, {static: true}) sort: MatSort;\n    @Input() set data(val: any[]) {\n      this._data = val;\n      getInfo();\n    }\n    get data () { return this._data; }\n    private _data: any[];\n    ngOnInit() {\n      //this.dataSource = new MatTableDataSource([])\n      //this.dataSource.sort = this.sort\n    }\n\n    getInfo() {\n      this._service.get(this._data).subscribe( data =&gt; {\n          /// For the ease of understanding. assume data is defined below.\n          const arr = [{\"interface\":\"foo\"},{\"interface\":\"bar\"}]\n          /// Updated the below line to just update data.\n          this.dataSource.data = arr;\n          //this.dataSource.sort = this.sort\n      });\n    }\n    sortData(sort: Sort){\n      // Sort sorts the current list, but it wasnt updating it unless i reassigned.\n      this.dataSource.data = this.dataSource.data.sort((a, b) =&gt; {\n        const isAsc = sort.direction === 'asc';\n        return this._compare(a[sort.active], b[sort.active], isAsc);\n      });\n    }\n    private _compare(a: number | string, b: number | string, isAsc: boolean) {\n      return (a &lt; b ? -1 : 1) * (isAsc ? 1 : -1);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "accepted_answer_id": 58861372, "answer_count": 2, "score": 3, "last_activity_date": 1573748883, "creation_date": 1573677338, "last_edit_date": 1573680089, "question_id": 58845227, "link": "https://stackoverflow.com/questions/58845227/mattable-with-sort-doesnt-seem-to-sort-the-column", "title": "MatTable with Sort doesnt seem to sort the column", "body": "<p>I have a simple design I was working with.  In the module file, I have added the imports:  MatSortModule and MatTableModule.  When looking at the component I created, it was simple:</p>\n\n<pre><code>&lt;table mat-table [dataSource]=\"dataSource\"\n       matSort&gt;\n  &lt;ng-container matColumnDef=\"interface\"&gt; &lt;!-- vvv This area may have some importance vvv --&gt;\n    &lt;th mat-header-cell *matHeaderCellDef mat-sort-header id=\"interface\"&gt;Interface&lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt;&lt;span&gt;{{element.interface}}&lt;/span&gt;&lt;/td&gt;\n  &lt;/ng-container&gt;\n  &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n  &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>and then the TS file:</p>\n\n<pre><code>class GridComponent {\n    dataSource = null\n    displayedColumns = [\"interface\"];\n    @ViewChild(MatSort, {static: true}) sort: MatSort;\n    @Input() set data(val: any[]) {\n      this._data = val;\n      getInfo();\n    }\n    get data () { return this._data; }\n    private _data: any[];\n    ngOnInit() {\n      this.dataSource = new MatTableDataSource([])\n      this.dataSource.sort = this.sort\n    }\n\n    getInfo() {\n      this._service.get(this._data).subscribe( data =&gt; {\n          /// For the ease of understanding. assume data is defined below.\n          const arr = [{\"interface\":\"foo\"},{\"interface\":\"bar\"}]\n          this.dataSource = new MatTableDataSource(arr)\n          this.dataSource.sort = this.sort\n      });\n    }\n}\n</code></pre>\n\n<p>The grid renders all the rows, and the toggle button shows etc.  When I toggle it though the information does not reorder.</p>\n\n<p>Is there something I am missing?  I saw some samples which said I needed to do:  <code>this.dataSource.sort = this.sort</code> but I dont really understand that purpose and if it is somehow interfering with the sorting mechanism.</p>\n\n<p>When looking at the coding sample at the bottom of: <a href=\"https://material.angular.io/components/sort/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/components/sort/overview</a> , I was confused as I didnt see any sort of ID being used, or assigned to the <em>mat-sort-header</em> property, but in some of the API it was stating to do that</p>\n\n<p>I would love some clarification.</p>\n\n<p><em>Edit</em>:  I am looking for a dynamic answer, one which allows me to easily change the data in the datasource.  Right now, beyond the scope of the issue, I have an input which allows me to change the array of data associated with the datasource, so i am working towards keeping it encapsulated in such a way that I can handle setting properties outside of Initializers of components.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573676992, "post_id": 58845084, "comment_id": 103963866, "body": "Please consider editing the above code to constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with no dependencies on external types in order to demonstrate your issue.  This is likely a design limitation in TypeScript (see <a href=\"https://github.com/microsoft/TypeScript/issues/22735\" rel=\"nofollow noreferrer\">microsoft/TypeScript#22735</a>) and there is an open issue suggesting possible ways to address it (see <a href=\"https://github.com/microsoft/TypeScript/issues/33912\" rel=\"nofollow noreferrer\">microsoft/TypeScript#33912</a>)"}, {"owner": {"reputation": 1051, "user_id": 1150878, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NqNoW.jpg?s=128&g=1", "display_name": "Duffmaster33", "link": "https://stackoverflow.com/users/1150878/duffmaster33"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573679012, "post_id": 58845084, "comment_id": 103964700, "body": "Thank you, I edited to remove the one external type.  I also did not see that first link you sent over which gave me a way to resolve this, which I will post as an answer.  Still curious if there is a better solution but hopefully this helps if someone else runs into this."}], "answers": [{"comments": [{"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1610337662, "post_id": 58845606, "comment_id": 116091826, "body": "Anyone know why it&#39;s not capable of making the inference? It seems straight forward to me."}], "tags": [], "owner": {"reputation": 1051, "user_id": 1150878, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NqNoW.jpg?s=128&g=1", "display_name": "Duffmaster33", "link": "https://stackoverflow.com/users/1150878/duffmaster33"}, "is_accepted": false, "score": 0, "last_activity_date": 1573679235, "creation_date": 1573679235, "answer_id": 58845606, "question_id": 58845084, "link": "https://stackoverflow.com/questions/58845084/typescript-conditional-return-errors/58845606#58845606", "title": "TypeScript Conditional Return errors", "body": "<p>@jcalz provided a link that explained the errors here:\n<a href=\"https://github.com/microsoft/TypeScript/issues/22735\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/issues/22735</a></p>\n\n<p>The relevant part is</p>\n\n<blockquote>\n  <p>In order for this to work you have to explicitly cast the return\n  values to match the return type annotation because the type checker\n  isn't capable of proving that it is always true:</p>\n</blockquote>\n\n<p>So, using this I ended up with the following which returns the correct type with no errors:</p>\n\n<pre><code>export const getMessageAttributes = &lt;T extends string | number = string&gt;(\n    attributes: { [key: string]: { Name: string; Value: string } },\n    name: string,\n    defaultValue?: T,\n): T extends string ? string : number =&gt; {\n    const attribute = attributes[name];\n\n    if (!attribute) {\n        if (defaultValue === undefined)\n            throw new Error(`MessageAttribute ${name} required but not found`);\n\n        return (defaultValue as unknown) as T extends string ? string : number;\n    }\n\n    const value = attribute.Value;\n\n    if (typeof defaultValue === 'number')\n        return (parseInt(value, 10) as unknown) as T extends string\n            ? string\n            : number;\n\n    return (value as unknown) as T extends string ? string : number;\n};\n</code></pre>\n\n<p>Unsure if this is the best approach but it does work so hopefully helps someone else if they run into something similar.</p>\n"}], "owner": {"reputation": 1051, "user_id": 1150878, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NqNoW.jpg?s=128&g=1", "display_name": "Duffmaster33", "link": "https://stackoverflow.com/users/1150878/duffmaster33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1573679235, "creation_date": 1573676746, "last_edit_date": 1573678777, "question_id": 58845084, "link": "https://stackoverflow.com/questions/58845084/typescript-conditional-return-errors", "title": "TypeScript Conditional Return errors", "body": "<p>I have a relatively simple function that should return a string or a number based on what it is given.  I have read over many of the existing issues, and do have function overloads working, but I just want to know why the following errors on all the return lines.</p>\n\n<p>This function should accept a string or number defaultValue, and then return that type.  So if defaultValue is a string, it should return a string.  If defaultValue is a number, it should return a number.</p>\n\n<pre><code>export const getMessageAttributes = &lt;T extends string | number = string&gt;(\n    attributes: { [key: string]: { Name: string; Value: string } },\n    name: string,\n    defaultValue?: T,\n): T extends string ? string : number =&gt; {\n    const attribute = attributes[name];\n\n    if (!attribute) {\n        if (defaultValue === undefined)\n            throw new Error(`MessageAttribute ${name} required but not found`);\n\n        return defaultValue;\n    }\n\n    const value = attribute.Value;\n\n    if (typeof defaultValue === 'number') return parseInt(value, 10);\n\n    return value;\n};\n</code></pre>\n\n<p>On the <code>return defaultValue;</code> line, I get this error:</p>\n\n<pre><code>Type 'T' is not assignable to type 'T extends string ? string : number'.\n  Type 'string | number' is not assignable to type 'T extends string ? string : number'.\n    Type 'string' is not assignable to type 'T extends string ? string : number'.ts(2322)\n</code></pre>\n\n<p>On the <code>return parseInt</code> line, I get this error:</p>\n\n<pre><code>Type 'number' is not assignable to type 'T extends string ? string : number'.ts(2322)\n</code></pre>\n\n<p>On the final <code>return value;</code> line, I get this error:</p>\n\n<pre><code>Type 'string' is not assignable to type 'T extends string ? string : number'.ts(2322)\n</code></pre>\n\n<p>I am using TypeScript version 3.7.2 if that helps.  As mentioned, I do have this working with type overloads and technically, this might be better solved with 2 separate functions (<code>getStringMessageAttribute</code> and <code>getNumberMessageAttribute</code>) but really just trying to expand my TypeScript knowledge and understand why it currently fails and if there is a way to fix it.  Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1573676728, "post_id": 58845027, "comment_id": 103963752, "body": "So where do you set your this.information?"}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "reply_to_user": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1573677052, "post_id": 58845027, "comment_id": 103963886, "body": "in my ngOnInit like the form is also there"}, {"owner": {"reputation": 781, "user_id": 6434590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxWOw.jpg?s=128&g=1", "display_name": "David G.", "link": "https://stackoverflow.com/users/6434590/david-g"}, "edited": false, "score": 0, "creation_date": 1573677489, "post_id": 58845027, "comment_id": 103964062, "body": "What is the structure of what&#39;s in this.information? Have you tried setting the values when you initialize the FormGroup?"}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573677619, "post_id": 58845027, "comment_id": 103964116, "body": "The structure is a JSON array from an api username=&quot;user&quot;, age = 30 etc, no how would that work?"}, {"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1573677894, "post_id": 58845027, "comment_id": 103964230, "body": "Just put your updateForm inside your subscribe. It is just not available yet when you init your form.."}], "answers": [{"comments": [{"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573681940, "post_id": 58845309, "comment_id": 103965996, "body": "this does not work. With <code>information.username</code>I get an error that I have to use <code>this.</code>and when I use that my Input in the app is just empty"}, {"owner": {"reputation": 4332, "user_id": 9369606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bp5iz6kBNgY/AAAAAAAAAAI/AAAAAAAADsM/vnrFyE7XH_Q/photo.jpg?sz=128", "display_name": "Rafi Henig", "link": "https://stackoverflow.com/users/9369606/rafi-henig"}, "reply_to_user": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573682313, "post_id": 58845309, "comment_id": 103966153, "body": "Are <code>information</code>&#39;s value correspond to the form fields&#39; name?"}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573684846, "post_id": 58845309, "comment_id": 103967105, "body": "Yeah Thank you! That woks!"}], "tags": [], "owner": {"reputation": 4332, "user_id": 9369606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bp5iz6kBNgY/AAAAAAAAAAI/AAAAAAAADsM/vnrFyE7XH_Q/photo.jpg?sz=128", "display_name": "Rafi Henig", "link": "https://stackoverflow.com/users/9369606/rafi-henig"}, "is_accepted": true, "score": 2, "last_activity_date": 1596130839, "last_edit_date": 1596130839, "creation_date": 1573677714, "answer_id": 58845309, "question_id": 58845027, "link": "https://stackoverflow.com/questions/58845027/how-to-initialize-the-users-editable-data-in-the-input/58845309#58845309", "title": "How to initialize the users editable data in the input?", "body": "<p>One approach (is initializing the fields when defining your <code>FormGroup</code> as following:</p>\n<pre><code>    this.updateUserForm = new FormGroup({\n      username: new FormControl(this.information ? information.username : &quot;&quot;, Validators.required),\n      email: new FormControl(this.information ? information.email : &quot;&quot;,, Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      birthdate: new FormControl(Validators.required),\n      gender: new FormControl(this.genders[0], Validators.required),\n\n    });\n</code></pre>\n<h1>Update</h1>\n<p>If data is provided asynchronously, use <code>FormControl.setValue()</code> function as following:</p>\n<pre class=\"lang-js prettyprint-override\"><code> updateUserForm: FormGroup;\n\n  ngOnInit() {\n    if (this.authService.authenticationState) {\n      this.storage.get(USER_ID).then(val =&gt; {\n        this.id = val;\n        this.userService.getUserDetails(this.id).subscribe(result =&gt; {\n          this.updateUserForm.get(&quot;username&quot;).setValue(result.username)\n          this.updateUserForm.get(&quot;email&quot;).setValue(result.email)\n\n          // If result value corrspond with updateUserForm fileds' names use: \n          // this.updateUserForm.setValue(result)\n        });\n      });\n    }\n\n\n    this.updateUserForm = new FormGroup({\n      username: new FormControl('', Validators.required),\n      email: new FormControl('', Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      birthdate: new FormControl(Validators.required),\n      gender: new FormControl(this.genders[0], Validators.required),\n\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58845309, "answer_count": 1, "score": 1, "last_activity_date": 1596130839, "creation_date": 1573676554, "last_edit_date": 1573677024, "question_id": 58845027, "link": "https://stackoverflow.com/questions/58845027/how-to-initialize-the-users-editable-data-in-the-input", "title": "How to initialize the users editable data in the input?", "body": "<p>I want the possibility a user can edit his data. I made the data accessible for this page. Its stored in <code>information</code> I want that the user already sees his data when entering the view like his username or his email and that he also can edit or delete the string. I first tried it with placeholder but this is then not the actual input. What I also tried to init the data in my form but this also does not work.</p>\n\n<p>This is what I tried.</p>\n\n<p>page.html</p>\n\n<pre><code>...\n    &lt;ion-item class=\"input-item\"&gt;\n                  &lt;ion-label color=\"secondary\" position=\"floating\"&gt;Username&lt;/ion-label&gt;\n                  &lt;ion-input type=\"text\" formControlName=\"username\" required&gt;&lt;/ion-input&gt;\n                &lt;/ion-item&gt;\n...\n</code></pre>\n\n<p>page.ts</p>\n\n<pre><code>ngOnInit() {\n      if (this.authService.authenticationState) {\n      this.storage.get(USER_ID).then(val =&gt; {\n        this.id = val;\n        console.log(this.id);\n        this.userService.getUserDetails(this.id).subscribe(result =&gt; {\n          this.information = result;\n          console.log(this.information);\n        });\n      });\n    }\n\n\n      this.updateUserForm = new FormGroup({\n        username: new FormControl('', Validators.required),\n        email: new FormControl('', Validators.compose([\n          Validators.required,\n          Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n        ])),\n        birthdate: new FormControl(Validators.required),\n        gender: new FormControl(this.genders[0], Validators.required),\n\n      });\n\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1573682264, "post_id": 58845202, "comment_id": 103966139, "body": "Thanks, That worked, should every attribute defined earlier?"}, {"owner": {"reputation": 712, "user_id": 6778270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZiGmk.jpg?s=128&g=1", "display_name": "Koga", "link": "https://stackoverflow.com/users/6778270/koga"}, "reply_to_user": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1573718297, "post_id": 58845202, "comment_id": 103976151, "body": "It is always recommend to initialize all the component&#39;s variables in constructor for optimization and better performance."}], "tags": [], "owner": {"reputation": 712, "user_id": 6778270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZiGmk.jpg?s=128&g=1", "display_name": "Koga", "link": "https://stackoverflow.com/users/6778270/koga"}, "is_accepted": true, "score": 0, "last_activity_date": 1573677225, "creation_date": 1573677225, "answer_id": 58845202, "question_id": 58845012, "link": "https://stackoverflow.com/questions/58845012/reactjs-display-state-information/58845202#58845202", "title": "reactjs display state information", "body": "<p>Add that property when initializing the state object, then update accordingly.</p>\n\n<pre><code>         this.state = {\n            page: 'dashboard',\n            ...this.savedSettings(),\n            setPage: this.setPage,\n            firstVisit: false,\n            confirmFavorites: this.confirmFavorites\n        }\n</code></pre>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "accepted_answer_id": 58845202, "answer_count": 1, "score": 1, "last_activity_date": 1573677225, "creation_date": 1573676496, "question_id": 58845012, "link": "https://stackoverflow.com/questions/58845012/reactjs-display-state-information", "title": "reactjs display state information", "body": "<p>I'm trying to use react context in one of my project. Part of the below, I'm trying to display the state information once the state is updated ie; function confirmFavourites is called.</p>\n\n<pre><code>export class AppProvider extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            page: 'dashboard',\n            ...this.savedSettings(),\n            setPage: this.setPage,\n            confirmFavorites: this.confirmFavorites\n        }\n    }\n\n    confirmFavorites = () =&gt; {        \n        this.setState({\n            firstVisit: false,\n            page: 'dashboard'\n        })\n\n        localStorage.setItem('cryptoDash', JSON.stringify({\n            'test': 'hello'\n        }))\n        console.log('Hello1 -', this.state)\n    }\n</code></pre>\n\n<p>When I view the state information in the logs, I don't see the firstVisit variable being displayed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WTzGM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WTzGM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1573674865, "post_id": 58844579, "comment_id": 103962927, "body": "Are you working with the <code>OnPush</code> strategy ?"}, {"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 1, "creation_date": 1573675169, "post_id": 58844579, "comment_id": 103963068, "body": "Image seems to be an array and title is empty in your response. So empty cards seems to be expected?"}, {"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "edited": false, "score": 0, "creation_date": 1573681053, "post_id": 58844579, "comment_id": 103965613, "body": "I think nircraft has got the right idea. For the future you can use the <a href=\"https://angular.io/api/common/JsonPipe\" rel=\"nofollow noreferrer\">json pipe</a> to dump out the <code>favourite</code> by putting <code>{{ favorite | json }}</code>. This lets you be sure the data is really there. In your case you should just expand <code>image</code> and see what properties are inside of it."}], "answers": [{"tags": [], "owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "is_accepted": false, "score": 2, "last_activity_date": 1573676642, "last_edit_date": 1573676642, "creation_date": 1573675243, "answer_id": 58844723, "question_id": 58844579, "link": "https://stackoverflow.com/questions/58844579/data-that-can-be-seen-in-the-console-is-not-displaying-in-the-view/58844723#58844723", "title": "Data that can be seen in the console is not displaying in the view", "body": "<p>In your response image is an <code>Array</code>. You can't see the images because <code>\"src\"</code> attribute on <code>&lt;img&gt;</code> is not getting proper src url to load.</p>\n\n<p>You can use first url in image array as <code>src</code> for your image.</p>\n\n<pre><code>&lt;img [src]=\"favorite?.image[0]\"&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12075155"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573676642, "creation_date": 1573674659, "question_id": 58844579, "link": "https://stackoverflow.com/questions/58844579/data-that-can-be-seen-in-the-console-is-not-displaying-in-the-view", "title": "Data that can be seen in the console is not displaying in the view", "body": "<p>I am grabbing data from Firestore. In the console, the data is displaying like this. \n<a href=\"https://i.stack.imgur.com/Jxlti.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jxlti.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when, I try to display the data in the view, I don't see any data. I just see empty cards. </p>\n\n<p>HTML </p>\n\n<pre><code> &lt;ion-grid&gt;\n        &lt;ion-row&gt;\n        &lt;ion-col size=\"12\" &gt;\n        &lt;ion-card *ngFor =\"let favorite of favoriteList\"&gt;\n          &lt;img [src]=\"favorite?.image\"&gt;\n          &lt;div class=\"card-title\"&gt;{{favorite?.title}}&lt;/div&gt;\n        &lt;/ion-card&gt;\n        &lt;/ion-col&gt;\n      &lt;/ion-row&gt;\n      &lt;/ion-grid&gt; \n</code></pre>\n\n<p>TS </p>\n\n<pre><code> favoriteList: any;  \n public favoriteListRef: firebase.firestore.CollectionReference;\n\n this.favoriteService.getfavoriteList().then(favoriteListSnapshot =&gt; {\n      this.favoriteList = [];\n      favoriteListSnapshot.forEach(snap =&gt; {\n        this.favoriteList.push({\n          id: snap.id,\n          image: snap.data().image,\n          favorite: snap.data().favourite\n        });\n        console.log(snap.data().favourite)\n        return false;\n      });\n    });\n  }\n</code></pre>\n\n<p>Favorite Service</p>\n\n<pre><code>async getfavoriteList(): Promise&lt;firebase.firestore.QuerySnapshot&gt; {\n    const user: firebase.User = await this.authService.getUser();\n    if (user) \n          {\n    this.FavoriteListRef = firebase\n      .firestore()\n      .collection(`userFavorites`);\n    return this.FavoriteListRef.where('uid', '==', user.uid).get();\n              }\n           } \n       }\n</code></pre>\n\n<p>Can someone please point out what I am doing wrong? </p>\n"}, {"tags": ["angular", "forms", "typescript", "post", "http-post"], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 6048237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001267268772/picture?type=large", "display_name": "Dilan Tharaka", "link": "https://stackoverflow.com/users/6048237/dilan-tharaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1573888672, "creation_date": 1573888672, "answer_id": 58888476, "question_id": 58844562, "link": "https://stackoverflow.com/questions/58844562/angular-7-http-post-using-php-fails-with-404/58888476#58888476", "title": "Angular 7 http post using php fails with 404", "body": "<p>Try using\n<code>header('Access-Control-Allow-Origin: ' . $_SERVER['HTTP_REFERER']);</code>\n intead of\n<code>header('Access-Control-Allow-Origin: ' . $_SERVER['HTTP_ORIGIN']);</code></p>\n\n<p>Some browsers doesn't set <code>HTTP_ORIGIN</code> and it's not secure to use</p>\n"}], "owner": {"reputation": 15, "user_id": 10988710, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YY0vZQ7r8iY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMGPsQae66eqzo3uJQcN6qzOLUuQw/mo/photo.jpg?sz=128", "display_name": "SashTheTash", "link": "https://stackoverflow.com/users/10988710/sashthetash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 58888476, "answer_count": 1, "score": 0, "last_activity_date": 1573940967, "creation_date": 1573674573, "last_edit_date": 1573884767, "question_id": 58844562, "link": "https://stackoverflow.com/questions/58844562/angular-7-http-post-using-php-fails-with-404", "title": "Angular 7 http post using php fails with 404", "body": "<p>For my website (programmed with Angular 7) I have built a contact form which I use to send a JSON object to a PHP file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/q9OQp.png\" rel=\"nofollow noreferrer\">Screenshot console error</a></p>\n\n<p>The MessageService passes the absolute path to the PHP file and the message object in POST. The POST works, but I get a 404 back.</p>\n\n<p><strong>message.service.ts</strong></p>\n\n<pre><code>export class MessageService {\n  baseUrl = '&lt;domain&gt;/dev/src/app/entities/contact/message.php';\n\n  constructor(private http: HttpClient) { }\n\n  send(message: Message) {\n    this.http.post(this.baseUrl, { data: message }).subscribe((data) =&gt; {\n      console.log('Sent Data', data);\n    }, (error) =&gt; {\n      console.log('Something went wrong', error);\n    });\n  }\n}\n</code></pre>\n\n<p><strong>message.php</strong></p>\n\n<pre><code>&lt;?php\n  header('Access-Control-Allow-Origin: ' . $_SERVER['HTTP_ORIGIN']);\n  header('Access-Control-Allow-Methods: GET, PUT, POST, DELETE, OPTIONS');\n  header('Access-Control-Max-Age: 1000');\n  header('Access-Control-Allow-Headers: Content-Type, Authorization, X-Requested-With');\n\n  $post = file_get_contents('php://input');\n\n  echo $postdata;\n?&gt;\n</code></pre>\n\n<p>MessageService and message.php are in the same folder. But I'm not sure if the absolute path in the POST is correct.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ntXiD.png\" rel=\"nofollow noreferrer\">Screenshot file tree</a></p>\n\n<p>I'd be happy if you could help me solve my problem.</p>\n\n<p>Many thanks in advance</p>\n\n<p>Sascha</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 256, "user_id": 5152441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gdrv2KtMW5Q/AAAAAAAAAAI/AAAAAAAAB1Y/IDLVfbB_BPc/photo.jpg?sz=128", "display_name": "Joey Watts", "link": "https://stackoverflow.com/users/5152441/joey-watts"}, "is_accepted": true, "score": 2, "last_activity_date": 1573674319, "creation_date": 1573674319, "answer_id": 58844491, "question_id": 58844386, "link": "https://stackoverflow.com/questions/58844386/can-i-return-void-from-a-function-with-a-type-predicate/58844491#58844491", "title": "Can I return `void` from a function with a type predicate?", "body": "<p>You can do this with the new assertion functions in TypeScript 3.7. Read more about them <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#assertion-functions\" rel=\"nofollow noreferrer\">in the TypeScript handbook</a>.</p>\n\n<p>For your example, you would change the return type of the <code>validate</code> function to <code>asserts o is MyType</code>. This informs the type system about the type of the parameter in subsequent code in the same scope after a <code>validate</code> call.</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1573674364, "creation_date": 1573674364, "answer_id": 58844511, "question_id": 58844386, "link": "https://stackoverflow.com/questions/58844386/can-i-return-void-from-a-function-with-a-type-predicate/58844511#58844511", "title": "Can I return `void` from a function with a type predicate?", "body": "<p>You are looking for the new <a href=\"https://github.com/microsoft/TypeScript/pull/32695\" rel=\"nofollow noreferrer\">custom type assertion syntax</a> </p>\n\n<pre><code>interface MyType {\n\n  numberField: number;\n\n  stringField: string;\n}\nfunction isValid(o: any): o is MyType {\n  return typeof o === \"object\"\n    &amp;&amp; o !== null\n    &amp;&amp; typeof o.numberField === \"number\"\n    &amp;&amp; typeof o.stringField === \"string\";\n}\n\nfunction validate(o: any): asserts o is MyType{\n  if (!isValid(o)) {\n    throw new Error(\"Invalid MyType object.\")\n  }\n}\n\ndeclare var o: any;\nvalidate(o)\no.numberField //ok\no.numberField2 //err\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=23&amp;pc=21#code/JYOwLgpgTgZghgYwgAgLIE8Aq6AOKDeAUIcsiAK4C2ARtAGLAQA2AJgFxlW1QDcxpAZzBRQAcwbN2yISJCi+AX0IxyIBGGAB7EMmACAanCbAWACk0c4IdAEoOm3QLRZcBEsigQw5KDrCvNGGQHAF4w5AAiTWoAKwh1CPdSADJk4OQAQnCKJiYk5FTkfzxA4IA6Chp6RlZkMJDIyu5E0hS04ohSzTKZMQla+sjeuQjFYhU1DW1kADcjEzhIc0trO2Q4AQFoMCcHPWdsPCJSYCDTDL1DYzNNGxtkY9awAAsoTQB3MghPgFEoN6gpgiAEkQHNrgdXMFYvEwGUIjZ3EolIQWPEmHBPLNMcEVug+OCFktboRuk1qpJkAB6KmaADWpIqXAprAATNSqdAoEA\" rel=\"nofollow noreferrer\">Play</a> </p>\n"}], "owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 58844491, "answer_count": 2, "score": 1, "last_activity_date": 1573684107, "creation_date": 1573673860, "last_edit_date": 1573684107, "question_id": 58844386, "link": "https://stackoverflow.com/questions/58844386/can-i-return-void-from-a-function-with-a-type-predicate", "title": "Can I return `void` from a function with a type predicate?", "body": "<p>When writing data validation APIs, I often provide two functions -- one that returns a <code>boolean</code> and one that throws. The one that throws usually has a <code>void</code> return type.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface MyType {\n    numberField: number;\n    stringField: string;\n}\n\nfunction isMyType(o: any): o is MyType {\n    return typeof o === \"object\"\n        &amp;&amp; o !== null\n        &amp;&amp; typeof o.numberField === \"number\"\n        &amp;&amp; typeof o.stringField === \"string\";\n}\n\nfunction validateMyType(o: any): void {\n    if (!isMyType(o)) {\n        throw new Error(\"Invalid MyType object.\")\n    }\n}\n</code></pre>\n\n<p>What I'd like to do is use a type predicate so that all subsequent code in the same block (or any sub-block) can assume the type of the object.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const input: any = ...;\nvalidateMyType(input);\n// here I would like TypeScript to understand that input is a MyType\n</code></pre>\n\n<p>Can I do this?</p>\n"}, {"tags": ["typescript", "nestjs"], "comments": [{"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "edited": false, "score": 0, "creation_date": 1573680734, "post_id": 58844352, "comment_id": 103965480, "body": "You mean like a boolean send a true/false in admin? can you give an example?"}, {"owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "reply_to_user": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "edited": false, "score": 0, "creation_date": 1573692087, "post_id": 58844352, "comment_id": 103968945, "body": "Yes, the thing is that everything i send via post on the body is assigned on the dto object. Its like the old times when rails was not yet with strong parameters and the mass assign caused a security breach because it was in the &quot;allow all attributes for default&quot;"}, {"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "edited": false, "score": 0, "creation_date": 1573708676, "post_id": 58844352, "comment_id": 103972649, "body": "Ok I got really confused, there is not asignation on a DTO, a DTO is like a blueprint of the parameters you need to perform an operation, to get more in context I need to know what you need to store or process in the createUser procedure maybe you can give an example"}, {"owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "reply_to_user": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "edited": false, "score": 0, "creation_date": 1573726437, "post_id": 58844352, "comment_id": 103980464, "body": "I updated the question with my code."}], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "edited": false, "score": 0, "creation_date": 1573756640, "post_id": 58856301, "comment_id": 103997990, "body": "does not work, i have updated the question again trying to be more concise, sorry for your time."}, {"owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "edited": false, "score": 0, "creation_date": 1573757998, "post_id": 58856301, "comment_id": 103998633, "body": "Nice! realy thanks, the problem that i see is security, if someone creates a new field or update the schema with a new sensitive field chances are that he is not know where to look... because the default is to ~accept for default~...  every place that updates the schema with data comming from the web should be updated. This looks like ten years ago when ruby on rails was in this same situation."}, {"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "reply_to_user": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "edited": false, "score": 0, "creation_date": 1573766437, "post_id": 58856301, "comment_id": 104002711, "body": "I can&#39;t really see the security problem, you seldom update the schema and the advantage of this architecture is that you only update the entity and the DTO, maybe inheritance can help you out have you seen the link I put in the answer?"}, {"owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "edited": false, "score": 0, "creation_date": 1573768082, "post_id": 58856301, "comment_id": 104003386, "body": "the problem is that being a default example it will be followed by the users, and destructure all undesirable attributes is a big responsability."}, {"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "reply_to_user": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "edited": false, "score": 0, "creation_date": 1573768302, "post_id": 58856301, "comment_id": 104003461, "body": "what do you mean by default? you can set it as optional too"}, {"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "reply_to_user": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "edited": false, "score": 0, "creation_date": 1573768375, "post_id": 58856301, "comment_id": 104003484, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202365/discussion-between-ralphjs-and-vinicius-gati\">continue this discussion in chat</a>."}, {"owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "reply_to_user": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "edited": false, "score": 0, "creation_date": 1573779925, "post_id": 58856301, "comment_id": 104006741, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202371/discussion-between-vinicius-gati-and-ralphjs\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "is_accepted": false, "score": 1, "last_activity_date": 1573740252, "last_edit_date": 1573740252, "creation_date": 1573732768, "answer_id": 58856301, "question_id": 58844352, "link": "https://stackoverflow.com/questions/58844352/strong-parameters-on-nestjs/58856301#58856301", "title": "Strong Parameters on nestjs", "body": "<p>I think it is as simple as adding a parameter to the class with the @IsBolean decorator</p>\n\n<pre><code>@IsBoolean()\npublic admin!: boolean;\n</code></pre>\n\n<p>Maybe you can take a look to the class-validator <a href=\"https://github.com/typestack/class-validator\" rel=\"nofollow noreferrer\">documentation</a> wich is the library that NestJS uses to defining DTOs</p>\n\n<p>Edit: with the changes you did in your question I understood perfectly now in the DTO part you can't do what you are planning as it is like a blueprint of the operation in the DTO you can do some form changes that comes in the body like parsing a string or converting a nested object to an specific class before the operation, depending on the complexity you want to add youu can have two aproaches: object destructuring(the one that is in the example) or create a custom pipe that does that transformation, I would recomend you use destructuring, I don't see any problem in that.</p>\n"}], "owner": {"reputation": 344, "user_id": 1208060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcf6cccdbca2194b2cfcf470d99096f2?s=128&d=identicon&r=PG", "display_name": "vinicius gati", "link": "https://stackoverflow.com/users/1208060/vinicius-gati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573779888, "creation_date": 1573673691, "last_edit_date": 1573779888, "question_id": 58844352, "link": "https://stackoverflow.com/questions/58844352/strong-parameters-on-nestjs", "title": "Strong Parameters on nestjs", "body": "<p>Hi im new to nestjs and ts to, i am trying to do a user registration using nestjs and it is working fine, dto's looks like the way to go to flow data from web to any datasource on nest.</p>\n\n<p>The problem is that i have a dto with 2 fields login and password and my database schema has 3, login, password and admin(boolean).</p>\n\n<p>If i do a request and validate this login and password and they are fine i just save it to the database, no problema until now.</p>\n\n<p>The problem is that using DTO if i pass the admin with true the admin data flows directly to the database, ok i know i have to be responsible and remover this from the object but im kind of concerned with this being the default behavior because this can lead very easily to a security breach. </p>\n\n<p>My code is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nlet body = {\n    login: 'vinicius',\n    password: 'keyboardcat',\n    admin: 'true'\n}\n\n// DTO\nclass Login {\n    login!: string;\n    password!: string;\n}\n\nlet data = body as Login;\n\nconsole.log(JSON.stringify(data)); \n// =&gt; {\"login\":\"vinicius\",\"password\":\"keyboardcat\",\"admin\":\"true\"}\n// note that the admin is on the object even so its not on DTO\n\n// this destructuring achieves the desired behavior\nconst { admin, ...desiredData } = body;\n\nconsole.log(JSON.stringify(desiredData));\n// =&gt; {\"login\":\"vinicius\",\"password\":\"keyboardcat\"} // this is the desired\n</code></pre>\n\n<p>The question is, how you guys deal with this?\nIs there any better way of doing this without, i mean, without too much deviation from the default DTO that everyone uses?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1573673828, "post_id": 58844203, "comment_id": 103962448, "body": "No not possible"}, {"owner": {"reputation": 905, "user_id": 9287029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5cd72ac1361a607ea6c2d1206e040f?s=128&d=identicon&r=PG", "display_name": "Chris Yungmann", "link": "https://stackoverflow.com/users/9287029/chris-yungmann"}, "edited": false, "score": 1, "creation_date": 1573680161, "post_id": 58844203, "comment_id": 103965213, "body": "You can probably make use of the <a href=\"https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API\" rel=\"nofollow noreferrer\">TypeScript Compiler API</a>  Edit: You can find some examples of transforms via <a href=\"https://github.com/microsoft/TypeScript/issues/14419#issuecomment-298814505\" rel=\"nofollow noreferrer\">this comment</a>."}], "owner": {"reputation": 322, "user_id": 6642051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5lf1.png?s=128&g=1", "display_name": "ProgramGamer", "link": "https://stackoverflow.com/users/6642051/programgamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573673150, "creation_date": 1573673150, "question_id": 58844203, "link": "https://stackoverflow.com/questions/58844203/can-i-configure-typescript-to-automatically-prefix-private-members-with-undersco", "title": "Can I configure TypeScript to automatically prefix private members with underscores in js output?", "body": "<p>I'm making a small in-house JavaScript library for work which uses TypeScript. I'd like for the TypeScript compiler to automatically prefix private member names with underscores in its output so as to discourage their use in production. I tried searching for an answer myself, but most results lead to code style discussions.</p>\n\n<p>I know I could prefix them myself, but it would be significantly nicer to let the compiler handle this so that my source code is less muddied with underscores everywhere. Again, their use in production would be discouraged so this wouldn't affect my end users at all.</p>\n\n<p>Is this possible somehow?</p>\n"}, {"tags": ["css", "typescript", "vue.js", "internet-explorer-11", "css-grid"], "comments": [{"owner": {"reputation": 6569, "user_id": 1241619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9usn.jpg?s=128&g=1", "display_name": "Daniil Ryzhkov", "link": "https://stackoverflow.com/users/1241619/daniil-ryzhkov"}, "edited": false, "score": 0, "creation_date": 1573673842, "post_id": 58844200, "comment_id": 103962455, "body": "You should probably have rowIndex and columnIndex in arguments of your function definition. And you only have index here. Does it work in other browsers?"}, {"owner": {"reputation": 225, "user_id": 3492317, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Rlfse.png?s=128&g=1", "display_name": "romie99", "link": "https://stackoverflow.com/users/3492317/romie99"}, "reply_to_user": {"reputation": 6569, "user_id": 1241619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9usn.jpg?s=128&g=1", "display_name": "Daniil Ryzhkov", "link": "https://stackoverflow.com/users/1241619/daniil-ryzhkov"}, "edited": false, "score": 0, "creation_date": 1573674068, "post_id": 58844200, "comment_id": 103962552, "body": "Sorry, updated. the issue is not related to that actually. the problem is IE 11 is not rendering the &quot;-ms-grid-row&quot; values."}, {"owner": {"reputation": 6569, "user_id": 1241619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9usn.jpg?s=128&g=1", "display_name": "Daniil Ryzhkov", "link": "https://stackoverflow.com/users/1241619/daniil-ryzhkov"}, "edited": false, "score": 0, "creation_date": 1573675105, "post_id": 58844200, "comment_id": 103963040, "body": "Have you tried it without &#39;-ms-&#39; prefixed styles? Vue pretends to do it automatically <a href=\"https://vuejs.org/v2/guide/class-and-style.html#Auto-prefixing\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/class-and-style.html#Auto-prefixing</a>"}, {"owner": {"reputation": 225, "user_id": 3492317, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Rlfse.png?s=128&g=1", "display_name": "romie99", "link": "https://stackoverflow.com/users/3492317/romie99"}, "reply_to_user": {"reputation": 6569, "user_id": 1241619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9usn.jpg?s=128&g=1", "display_name": "Daniil Ryzhkov", "link": "https://stackoverflow.com/users/1241619/daniil-ryzhkov"}, "edited": false, "score": 0, "creation_date": 1573676801, "post_id": 58844200, "comment_id": 103963779, "body": "Since IE has an outdated syntax, Auto Prefixing does not work in this case. If I do inspect elements, the inline style does not show the -ms-grid-row property which it should technically."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 3492317, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Rlfse.png?s=128&g=1", "display_name": "romie99", "link": "https://stackoverflow.com/users/3492317/romie99"}, "edited": false, "score": 0, "creation_date": 1573674703, "post_id": 58844563, "comment_id": 103962839, "body": "IE does support CSS Grid, it just have a different syntax which I am already following and those properties which I applied using regular css block are rendering. the only css that is not rendering is from the typescript method I mentioned above."}, {"owner": {"reputation": 696, "user_id": 10765428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE5MM.png?s=128&g=1", "display_name": "Mileta Dulovic", "link": "https://stackoverflow.com/users/10765428/mileta-dulovic"}, "reply_to_user": {"reputation": 225, "user_id": 3492317, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Rlfse.png?s=128&g=1", "display_name": "romie99", "link": "https://stackoverflow.com/users/3492317/romie99"}, "edited": false, "score": 0, "creation_date": 1573674882, "post_id": 58844563, "comment_id": 103962941, "body": "IE 10 and 11 support CSS grid but with an outdated specification. Taken from wiki. Just take care because it might break in future and you don&#39;t want that if IE is something that you must support like I do sometimes.."}], "tags": [], "owner": {"reputation": 696, "user_id": 10765428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE5MM.png?s=128&g=1", "display_name": "Mileta Dulovic", "link": "https://stackoverflow.com/users/10765428/mileta-dulovic"}, "is_accepted": false, "score": -1, "last_activity_date": 1573674579, "creation_date": 1573674579, "answer_id": 58844563, "question_id": 58844200, "link": "https://stackoverflow.com/questions/58844200/applying-css-grid-style-using-typescript-not-working-in-ie-vue-js/58844563#58844563", "title": "Applying css grid style using typescript not working in IE. Vue JS", "body": "<p>IE is not supporting grid. I suggest you switch to flex. Also. Flex wont work under IE 11 as it should. And flex won't work on items that have <code>min-height</code> and <code>max-height</code> properties if their parents have <code>display-flex</code> so take care of that.</p>\n\n<p>You can check any other info <a href=\"https://caniuse.com/\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1573696932, "post_id": 58846731, "comment_id": 103969957, "body": "Thanks for posting the solution for this issue. I suggest you to try to mark your own answer as an accepted answer for this question after 48 hrs, when it is available to mark. It can help other community members in future in similar kind of issues. Thanks for your understanding."}], "tags": [], "owner": {"reputation": 225, "user_id": 3492317, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Rlfse.png?s=128&g=1", "display_name": "romie99", "link": "https://stackoverflow.com/users/3492317/romie99"}, "is_accepted": true, "score": 1, "last_activity_date": 1573686066, "last_edit_date": 1573686066, "creation_date": 1573684804, "answer_id": 58846731, "question_id": 58844200, "link": "https://stackoverflow.com/questions/58844200/applying-css-grid-style-using-typescript-not-working-in-ie-vue-js/58846731#58846731", "title": "Applying css grid style using typescript not working in IE. Vue JS", "body": "<p>So I found a solution which is bit weird but I am posting it anyway because it may help someone. I was able to render the inline style for IE using camleCase version of the same attributes. </p>\n\n<pre><code>  getTitleStyle: function(rowIndex, columnIndex) {\n        return {\n          'grid-row-start': rowIndex,\n          'grid-column-start': columnIndex,\n          msGridColumn:columnIndex,\n          msGridRow :rowIndex,\n        }\n      }\n</code></pre>\n\n<p>you can see instead of writing traditional kebab-case('-ms-grid-row'), I am using camelCase (msGridRow). I don't know the reason why IE11 react this way but that is the solution I am moving forward with.  </p>\n"}], "owner": {"reputation": 225, "user_id": 3492317, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Rlfse.png?s=128&g=1", "display_name": "romie99", "link": "https://stackoverflow.com/users/3492317/romie99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 58846731, "answer_count": 2, "score": 0, "last_activity_date": 1573686066, "creation_date": 1573673140, "last_edit_date": 1573673999, "question_id": 58844200, "link": "https://stackoverflow.com/questions/58844200/applying-css-grid-style-using-typescript-not-working-in-ie-vue-js", "title": "Applying css grid style using typescript not working in IE. Vue JS", "body": "<p>I have a title block where I am applying css using the typescript method in Vue js. The style is about applying rows and column value to CSS grid. Since I am using dynamic values  I have to use method to apply those values inline. Below is my code:</p>\n\n<p>HTML: </p>\n\n<pre><code>&lt;div :style=\"getTitleStyle(rowIndex, columnIndex)\"&gt;{{title}}\n&lt;/div&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code> getTitleStyle: function(rowIndex, columnIndex) {\n        return {\n          'grid-row-start': rowIndex,\n          '-ms-grid-row': rowIndex,\n          'grid-column-start': columnIndex,\n          '-ms-grid-column': columnIndex\n        }\n      }\n</code></pre>\n\n<p>So the inline style is being applied but since IE 11 is <strong>not</strong> rendering the inline style I am providing. Here <code>rowIndex</code> and <code>columnIndex</code> contains intege values for rows and column. </p>\n"}, {"tags": ["typescript", "protractor", "internet-explorer-11"], "comments": [{"owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "edited": false, "score": 0, "creation_date": 1573700925, "post_id": 58844119, "comment_id": 103970848, "body": "Can your app run well in IE 11 without protractor? Besides, a lot of es6 syntax is not supported by IE 11, you should convert your typescript to es5 javascript. You could try to modify the <code>target</code> in <b>tsconfig.json</b> to <code>es5</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9975398"}, "reply_to_user": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "edited": false, "score": 0, "creation_date": 1573702478, "post_id": 58844119, "comment_id": 103971168, "body": "I have already tried that. but no luck!"}, {"owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "edited": false, "score": 0, "creation_date": 1573711724, "post_id": 58844119, "comment_id": 103973519, "body": "You could try to enable or disable all the protected mode on all 4 zones in IE and make sure the statuses are the same on all zones. You could refer to <a href=\"https://stackoverflow.com/questions/37456099/protractor-test-in-ie\">this thread</a> for the detailed steps of protractor test in IE. If it still doesn&#39;t work, it could be better if you provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">a minimal, reproducible example</a> so that we can have a better understanding of the issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9975398"}, "reply_to_user": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "edited": false, "score": 0, "creation_date": 1573827259, "post_id": 58844119, "comment_id": 104024745, "body": "I just discovered that one of the dependency library having es6 code only. I removed the library and it is wotking now."}, {"owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "edited": false, "score": 0, "creation_date": 1574041233, "post_id": 58844119, "comment_id": 104076587, "body": "So glad that you have solved the issue. You could post an answer as the solution for the issue and mark the answer as an accepted answer. It can help other community members in future in similar kind of issues. Thanks for your understanding."}], "owner": {"user_type": "does_not_exist", "display_name": "user9975398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573672814, "creation_date": 1573672814, "question_id": 58844119, "link": "https://stackoverflow.com/questions/58844119/protractor-ie11-not-compatible-with-es6-producing-javascripterror-error-execu", "title": "Protractor IE11 not compatible with ES6 - producing JavascriptError: Error executing JavaScript", "body": "<p>I am using typescript with protractor. All my tests are passing find in Chrome and Firefox but failing in IE11. </p>\n\n<p>Error:</p>\n\n<pre><code>  JavascriptError: Error executing JavaScript\n Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:53'\n System info: host: 'INENGHOSHA1L1C', ip: '10.42.47.147', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_221'\n Driver info: driver.version: unknown\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowUnusedLabels\": false,\n    \"baseUrl\": \".\",\n    \"lib\": [\"dom\", \"es7\"],\n    \"declaration\": false,\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"noImplicitAny\": false,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"noEmitHelpers\": true,\n    \"importHelpers\": true,\n    \"outDir\": \"transform\",\n    \"removeComments\": false,\n    \"resolveJsonModule\": true,\n    \"skipLibCheck\": true,\n    \"sourceMap\": true,\n    \"mapRoot\": \"transform\",\n    \"target\": \"es6\",\n    \"typeRoots\": [\"./node_modules/@types\"],\n    \"types\": [\"node\", \"cucumber\"]\n  },\n  \"exclude\": [\"node_modules\", \"typescript\"]\n}\n</code></pre>\n\n<p>my IE capability:</p>\n\n<pre><code>browserName: 'internet explorer',\n    ignoreProtectedModeSettings: true,\n    platform: 'ANY',\n    version: '11',\n    args: ['--silent', '--no-sandbox', '--test-type=browser', '--lang=US', '--start-maximized'],\n\n</code></pre>\n\n<p>I use to run:</p>\n\n<pre><code>tsc\n</code></pre>\n\n<p>to compile TS to JS and then run protractor command to execute tests.</p>\n\n<p>Can you let me know, what I am missing for running my tests successfully against IE11?</p>\n\n<p>Note:</p>\n\n<p>For some of the test, couple of step execute just fine in IE but some features like map function/Expected conditions are failing </p>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573671588, "post_id": 58843825, "comment_id": 103961447, "body": "You need <code>(Object.keys(Two) as Array&lt;keyof typeof Two&gt;)</code>."}], "owner": {"reputation": 4793, "user_id": 572747, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0a577c41cde30752036471c926d94515?s=128&d=identicon&r=PG", "display_name": "skube", "link": "https://stackoverflow.com/users/572747/skube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1007, "favorite_count": 0, "closed_date": 1573671792, "answer_count": 0, "score": 1, "last_activity_date": 1573671471, "creation_date": 1573671471, "question_id": 58843825, "link": "https://stackoverflow.com/questions/58843825/element-implicitly-has-an-any-type-because-expression-of-type-string-cant-b", "closed_reason": "Duplicate", "title": "Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index type", "body": "<p>I'm trying to use <code>enum</code> as a reference to another <code>enum</code>. Even though it works, TS gives an error.</p>\n\n<pre><code>enum One {\n    some = 'some text here',\n    other = 'other stuff here'\n}\n\nenum Two {\n    thing = 'some',\n    whatever = 'other'\n}\n\nObject.keys(Two).forEach(k =&gt;  console.log(One[Two[k]]))\n                                           ~~~~~~~~~~~\n// Console:\n// some text here\n// other stuff here\n</code></pre>\n\n<p>Gives the follow error: </p>\n\n<blockquote>\n  <p>Element implicitly has an 'any' type because expression of type 'any' can't be used to index type 'typeof One'.(7053)</p>\n  \n  <p>Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'typeof Two'.</p>\n  \n  <p>No index signature with a parameter of type 'string' was found on type 'typeof Two'.(7053)</p>\n</blockquote>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573670885, "post_id": 58843610, "comment_id": 103961138, "body": "Try <code>Array.isArray()</code> instead?  Can you edit the above code into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with no external unreferenced dependencies?  Then someone can answer with code they actually test.  Good luck!"}, {"owner": {"reputation": 8795, "user_id": 1144632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008380b8eab5df4a15de69741d59a825?s=128&d=identicon&r=PG", "display_name": "danielbeard", "link": "https://stackoverflow.com/users/1144632/danielbeard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573671547, "post_id": 58843610, "comment_id": 103961424, "body": "@jcalz yep, that&#39;s the piece I was missing."}], "answers": [{"comments": [{"owner": {"reputation": 8795, "user_id": 1144632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008380b8eab5df4a15de69741d59a825?s=128&d=identicon&r=PG", "display_name": "danielbeard", "link": "https://stackoverflow.com/users/1144632/danielbeard"}, "edited": false, "score": 0, "creation_date": 1573671452, "post_id": 58843733, "comment_id": 103961386, "body": "Appears that just using <code>!Array.isArray(fileInfo.data)</code> is enough here, thanks!"}], "tags": [], "owner": {"reputation": 352, "user_id": 7626283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bIYS9lVoge8/AAAAAAAAAAI/AAAAAAAApL8/zyiYw867enE/photo.jpg?sz=128", "display_name": "Rajesh Dwivedi", "link": "https://stackoverflow.com/users/7626283/rajesh-dwivedi"}, "is_accepted": true, "score": 1, "last_activity_date": 1573671064, "creation_date": 1573671064, "answer_id": 58843733, "question_id": 58843610, "link": "https://stackoverflow.com/questions/58843610/typescript-type-assertion-for-type-that-can-be-an-array-or-plain/58843733#58843733", "title": "Typescript type assertion for type that can be an array or plain", "body": "<p>You can use <code>!Array.isArray(fileInfo.data) &amp;&amp; typeof fileInfo.data === 'object'</code> to check if a variable is array or not and it is an object.</p>\n\n<p>This way you can only use objects and it will filter array.</p>\n"}, {"comments": [{"owner": {"reputation": 604, "user_id": 11279581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CW8mt.jpg?s=128&g=1", "display_name": "MrRobboto", "link": "https://stackoverflow.com/users/11279581/mrrobboto"}, "edited": false, "score": 0, "creation_date": 1573671692, "post_id": 58843844, "comment_id": 103961490, "body": "To note, not good if you are trying to confirm the variable isn&#39;t a string - but if you know it&#39;s an object | array | undefined this works I think."}], "tags": [], "owner": {"reputation": 604, "user_id": 11279581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CW8mt.jpg?s=128&g=1", "display_name": "MrRobboto", "link": "https://stackoverflow.com/users/11279581/mrrobboto"}, "is_accepted": false, "score": 0, "last_activity_date": 1573671587, "creation_date": 1573671587, "answer_id": 58843844, "question_id": 58843610, "link": "https://stackoverflow.com/questions/58843610/typescript-type-assertion-for-type-that-can-be-an-array-or-plain/58843844#58843844", "title": "Typescript type assertion for type that can be an array or plain", "body": "<p>Anything wrong with a simple check on length?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var arr = [];\nvar obj = {};\n\ntypeof arr.length !== 'undefined' // true\ntypeof obj.length !== 'undefined' // false\n</code></pre>\n"}], "owner": {"reputation": 8795, "user_id": 1144632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008380b8eab5df4a15de69741d59a825?s=128&d=identicon&r=PG", "display_name": "danielbeard", "link": "https://stackoverflow.com/users/1144632/danielbeard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 58843733, "answer_count": 2, "score": 0, "last_activity_date": 1573671587, "creation_date": 1573670607, "question_id": 58843610, "link": "https://stackoverflow.com/questions/58843610/typescript-type-assertion-for-type-that-can-be-an-array-or-plain", "title": "Typescript type assertion for type that can be an array or plain", "body": "<p>I'm currently working with the <code>@octokit/rest</code> library in typescript. Currently stuck on how to narrow a certain type to what I want. Here's the response object from the endpoint I'm calling:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  type ReposGetContentsResponse =\n    | {\n        _links: ReposGetContentsResponseLinks;\n        content?: string;\n        download_url: string | null;\n        encoding?: string;\n        git_url: string;\n        html_url: string;\n        name: string;\n        path: string;\n        sha: string;\n        size: number;\n        type: string;\n        url: string;\n        target?: string;\n        submodule_git_url?: string;\n      }\n    | Array&lt;ReposGetContentsResponseItem&gt;\n</code></pre>\n\n<p>I'm having trouble with checking if the returned response object is the object or array type. In my case, I only want to use the object, as returning the array indicates that a user passed in a directory rather than a file <code>path</code>.</p>\n\n<p>Here's my code so far:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  // Returns contents of a file, if ref is not specified, it will use the default branch.\n  async getFileContents(path: string, ref?: string) {\n    let fileInfo: octokit.Response&lt;octokit.ReposGetContentsResponse&gt;;\n    const owner = this.owner;\n    const repo = this.repo;\n    if (ref) {\n      fileInfo = await this._client.repos.getContents({owner, repo, path, ref});\n    } else {\n      fileInfo = await this._client.repos.getContents({owner, repo, path});\n    }\n    // Only want a single file response, if we get an array, something went wrong.\n    // This is not working, how do I ensure that this *isn't* the type octokit.ReposGetContentsResponse[] ?\n    if (!fileInfo.data instanceof Object) {\n      if (fileInfo.data.type !== 'file') {\n        return null;\n      }\n      const buffer = Buffer.from(fileInfo.data.content, 'base64');\n      return buffer.toString('utf-8');\n    }\n    return null;\n  }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "sorting", "react-component"], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 9157545, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-76owq-2XNtI/AAAAAAAAAAI/AAAAAAAAAIU/71Ic_BedIfE/photo.jpg?sz=128", "display_name": "trashtatur", "link": "https://stackoverflow.com/users/9157545/trashtatur"}, "is_accepted": true, "score": 1, "last_activity_date": 1573744304, "last_edit_date": 1573744304, "creation_date": 1573739784, "answer_id": 58858463, "question_id": 58843558, "link": "https://stackoverflow.com/questions/58843558/react-sort-child-components-of-parent-component-based-on-state-in-child/58858463#58858463", "title": "React Sort Child Components of Parent Component based on state in Child", "body": "<p>As it always is, soon after you ask, you find the answer yourself:</p>\n\n<p>I solved it by using unique keys each time I render the Creature Components. Since react identifies components via keys, they had to be new each time I rendered due to a change of ini value. If not, react would have not changed the dom tree order, since the component with that key was still there.</p>\n\n<p>I added this function to <code>Encounter</code> to generate creatures based on a button click:</p>\n\n<pre><code>addCreature() {\n        let creatureMap = this.state.creatureMap;\n        let creatureEntry =\n            {\n                id: this.uuidv4(),\n                name: Math.random().toString(36).substring(7),\n                ini: 2,\n                currentIni: Math.floor(Math.random() * 20) + 2,\n\n            };\n        creatureMap.push(creatureEntry);\n        let creatureMapSorted = creatureMap.sort((creatureA, creatureB) =&gt; {\n            if (creatureA.currentIni &lt; creatureB.currentIni) return 1;\n            if (creatureA.currentIni &gt; creatureB.currentIni) return -1;\n            return 0;\n        });\n        this.setState({\n            creatureMap: creatureMapSorted\n        });\n    }\n</code></pre>\n\n<p>As you can see I gave each creature a unique id. This can most likely also be solved with <a href=\"https://reactjs.org/docs/refs-and-the-dom.html\" rel=\"nofollow noreferrer\">Refs</a> but I didn't feel fully comfortable with that yet. I am using the uuidv4 Function from <a href=\"https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\">this thread</a> (answer from Briguy37). Creatures will give their id when the <code>ini</code> value in their input field changes so it can be changed in the creature map:</p>\n\n<pre><code>&lt;p className={style.statDisplay}&gt;INI:&lt;input type=\"number\" className={style.inputField} defaultValue={this.state.currentIni} onBlur={e=&gt;{this.handleIniChange(e); this.props.sortByIni(e,this.props.id)}}/&gt;&lt;/p&gt;\n</code></pre>\n\n<p>which then triggers this function in <code>Encounter</code></p>\n\n<pre><code>    sortByIni(event,id) {\n        let creatureMap = this.state.creatureMap;\n        creatureMap.filter(creature=&gt; {\n            return creature.id == id\n        })[0].currentIni = parseInt(event.target.value);\n        let creatureMapSorted = creatureMap.sort((creatureA,creatureB) =&gt; {\n            if (creatureA.currentIni &lt; creatureB.currentIni) return 1;\n            if (creatureA.currentIni &gt; creatureB.currentIni) return -1;\n            return 0;\n        });\n        this.setState({creatureMap : creatureMapSorted})\n    }\n</code></pre>\n\n<p>Creatures objects are put into an array and that array then gets sorted based on current initiative value, before getting applied to the state, thus triggering a render.</p>\n\n<p>As you can see, just a simple sort function with a custom comparator. Nothing fancy. Now as I said, normally react would not care that this list is sorted because the keys for the components are still the same. So it would not rerender them. I solved that problem like that:</p>\n\n<pre><code>    render(): any {\n\n        return (\n            &lt;div&gt;\n                &lt;button type=\"button\" onClick={this.addCreature}&gt;Add Creature&lt;/button&gt;\n                {this.state.creatureMap.map((creature, i) =&gt; {\n                    return (\n                        &lt;Creature\n                            id={creature.id}\n                            name={creature.name}\n                            hitpoints={creature.hitpoints}\n                            key={this.uuidv4()}\n                            */Shortened...*/\n                        /&gt;\n                    )\n                })}\n            &lt;/div&gt;\n\n</code></pre>\n\n<p>Like this, the key attribute is unique in every render, thus forcing react to rerender the entire thing and as such keep it sorted!</p>\n"}], "owner": {"reputation": 221, "user_id": 9157545, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-76owq-2XNtI/AAAAAAAAAAI/AAAAAAAAAIU/71Ic_BedIfE/photo.jpg?sz=128", "display_name": "trashtatur", "link": "https://stackoverflow.com/users/9157545/trashtatur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 58858463, "answer_count": 1, "score": 1, "last_activity_date": 1573744304, "creation_date": 1573670354, "question_id": 58843558, "link": "https://stackoverflow.com/questions/58843558/react-sort-child-components-of-parent-component-based-on-state-in-child", "title": "React Sort Child Components of Parent Component based on state in Child", "body": "<p>I am developing a tool for running Pen and Paper Campaigns. In this tool I want to be able to display any number of creature entities under one another. They are supposed to be displayed in a certain order.</p>\n\n<p>That order is supposed to be derived from the value of the \"ini\" of the creatures (i.e. the ones with the highest values get displayed on top). That order is always to be maintained. So when the value changes (since it is contained in an input field) the creature components are supposed to be sorted again.</p>\n\n<p>I have already made the necessary creature components and made a parent component to display them in. But I do not know how to sort them now. I have passed a function from the parent to the children that gets triggered once the value changes. But I do not know how to access the children and sort them based on their state value. I am still quite new to React, so excuse me if this is a trivial thing. I just found no answer anywhere!</p>\n\n<p>I have tried using <code>React.Children.toArray(...)</code> but that does not seem to be right. I also wanted to try out using refs to save the child components. But I did not really understand how to use them and didn't know how to approach this. Beyond that I am rather clueless.</p>\n\n<p>This is my parent component:</p>\n\n<pre><code>export class Encounter extends React.Component&lt;IEncounterProps,IEncounterState&gt; {\n\n    sortByIni(event) {\n        //somehow trigger something that sorts the creature components\n    }\n\n    addCreature() {\n\n        let creature =\n            &lt;Creature\n                name={'Ancient Bugbear'}\n                //I removed other props for the sake of reducing verbosity... \n                ini={12}\n            /&gt;;\n        return creature\n    }\n\n\n    render(): any {\n        return (\n            &lt;div&gt;\n                {this.addCreature()}\n                {this.addCreature()}\n                {this.addCreature()}\n            &lt;/div&gt;\n\n        )\n    }\n\n}\n</code></pre>\n\n<p>And this is the creature component:</p>\n\n<pre><code>export interface ICreatureProps {\n    name: string,\n    ini: number,\n    //Removing non relevant props for verbosity reducing...\n}\n\nexport interface ICreatureState {\n    hitpoints: number\n    armorclass: number\n    ini: number\n}\n\nexport class Creature extends React.Component&lt;ICreatureProps, ICreatureState&gt; {\n\n    constructor(props) {\n        super(props);\n        this.state= {\n            hitpoints: this.props.hitpoints || 0,\n            armorclass: this.props.armorclass || 0,\n            ini: this.props.ini || 0\n        };\n        this.handleIniChange = this.handleIniChange.bind(this);\n        this.handleACChange = this.handleACChange.bind(this);\n        this.handleHPChange = this.handleHPChange.bind(this)\n    }\n\n    handleIniChange(event) {\n        this.setState({ini: event.target.value})\n    }\n\n    handleACChange(event) {\n        this.setState({armorclass: event.target.value})\n    }\n\n    handleHPChange(event) {\n        this.setState({hitpoints: event.target.value})\n    }\n\n    render(): any {\n        return (\n            &lt;div&gt;\n                &lt;div className={style.creatureContainer}&gt;\n                    &lt;div className={style.nextToTitleContainer}&gt;\n                        &lt;p className={style.statDisplay}&gt;TP: &lt;input type=\"number\" className={style.inputField} value={this.state.hitpoints} onChange={this.handleHPChange}/&gt;&lt;/p&gt;\n                        &lt;p className={style.statDisplay}&gt;RK: &lt;input type=\"number\" className={style.inputField} value={this.state.armorclass} onChange={this.handleACChange}/&gt;&lt;/p&gt;\n                        //This is the field that is supposed to trigger sorting when it changes value\n                        &lt;p className={style.statDisplay}&gt;INI:&lt;input type=\"number\" className={style.inputField} value={this.state.ini} onChange={e=&gt;{this.handleIniChange(e); this.props.sortByIni(e)}}/&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>This is the supposed outcome when it works. As one sees the creature with the highest value is on top. And of course it is supposed to resort itself whenever a value changes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cr84D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cr84D.jpg\" alt=\"Desired Outcome\"></a></p>\n"}, {"tags": ["angular", "typescript", "routing", "nestjs", "fastify"], "comments": [{"owner": {"reputation": 367, "user_id": 4844732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6vKtHl9oeU0/AAAAAAAAAAI/AAAAAAAAADQ/f3W5dbuAmV4/photo.jpg?sz=128", "display_name": "Adam Pine", "link": "https://stackoverflow.com/users/4844732/adam-pine"}, "edited": false, "score": 0, "creation_date": 1582124778, "post_id": 58843476, "comment_id": 106670139, "body": "Have you been able to find a solution to this issue? I&#39;m having this same issue."}], "answers": [{"comments": [{"owner": {"reputation": 915, "user_id": 1603689, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NQXv2.jpg?s=128&g=1", "display_name": "fredtma", "link": "https://stackoverflow.com/users/1603689/fredtma"}, "edited": false, "score": 0, "creation_date": 1597736953, "post_id": 60309368, "comment_id": 112223675, "body": "This is really frustrating, I am also forced to use express over fastify. In my case, the routing will work locally but not on the docker instance."}], "tags": [], "owner": {"reputation": 367, "user_id": 4844732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6vKtHl9oeU0/AAAAAAAAAAI/AAAAAAAAADQ/f3W5dbuAmV4/photo.jpg?sz=128", "display_name": "Adam Pine", "link": "https://stackoverflow.com/users/4844732/adam-pine"}, "is_accepted": false, "score": 1, "last_activity_date": 1582147654, "last_edit_date": 1582147654, "creation_date": 1582147048, "answer_id": 60309368, "question_id": 58843476, "link": "https://stackoverflow.com/questions/58843476/routing-issue-when-using-static-content-angular-8-with-nestjs-and-fastify/60309368#60309368", "title": "Routing Issue when using static content (Angular 8) with NestJS and Fastify", "body": "<p>I found a solution, but annoyingly it requires replacing Fastify with Express. It seems that Fastify has some issues with routing.</p>\n\n<p>main.ts</p>\n\n<pre><code>import { NestExpressApplication } from '@nestjs/platform-express';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create&lt;NestExpressApplication&gt;(AppModule);\n  app.setGlobalPrefix('api');\n  await app.listen(3000);\n}\nbootstrap();\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { CommentModule } from './comment/comment.module';\nimport { Module, HttpModule } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { ProfessorModule } from './professor/professor.module';\nimport { ServeStaticModule } from '@nestjs/serve-static';\nimport { join } from 'path';\n\n@Module({\n  imports: [\n    ServeStaticModule.forRoot({\n      rootPath: join(__dirname, '..', '..', 'client/dist/client'),\n    }),\n    HttpModule,\n    ...\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule { }\n</code></pre>\n\n<p>I really wanted to keep Fastify, but I spent the whole day today trying to figure out why the routing was broken, when I could simply change to express and it works perfectly!</p>\n\n<p>I will also admit that I didn't try this exact solution with fastify, so it may work with fastify, if you just keep the old fastify app creation code, get rid of that weird \"useStaticAssets\" call, and just use serve-static on app.module.ts</p>\n"}], "owner": {"reputation": 21, "user_id": 12368481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/881f4f40cf90091f468540c8e1572b53?s=128&d=identicon&r=PG&f=1", "display_name": "jcorekinASRC", "link": "https://stackoverflow.com/users/12368481/jcorekinasrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1582147654, "creation_date": 1573670013, "last_edit_date": 1573670892, "question_id": 58843476, "link": "https://stackoverflow.com/questions/58843476/routing-issue-when-using-static-content-angular-8-with-nestjs-and-fastify", "title": "Routing Issue when using static content (Angular 8) with NestJS and Fastify", "body": "<p>I've been searching for the last several days for a way to fix a routing issue when using static content with NestJS and Fastify.  Specifically I am trying to use Angular 8 hosted by NestJS with Fastify under the hood.  I've been following the example given in by the tutorial: <a href=\"https://www.djamware.com/post/5d2898430707cc5968d9d57f/build-a-web-app-using-nestjs-fastify-mongodb-and-angular-8\" rel=\"nofollow noreferrer\">https://www.djamware.com/post/5d2898430707cc5968d9d57f/build-a-web-app-using-nestjs-fastify-mongodb-and-angular-8</a></p>\n\n<p>The issue is that if you try to navigate directly to a specific URL, such as <a href=\"http://localhost:3000/articles\" rel=\"nofollow noreferrer\">http://localhost:3000/articles</a>, the Fastify server responds with a JSON string containing a 404 error message.  I've narrowed down the issue to something specifically problematic with Fastify by cloning the tutorial's GitHub repo and doing nothing more to it than is required to replace Fastify with Express, which does work.</p>\n\n<p>I'm posting my code in the hope that someone can tell me what I am doing wrong.  I'd like to use Fastify instead of Express, because if the speed claims are accurate I could really use the increased performance. I've left the commented out code that I used to switch the project of Express. Thank you to anyone who takes the time to look this over and even try to help.</p>\n\n<p>EDIT:  I just realized that I forgot to provide a link to the GitHub repo, here it is: <a href=\"https://github.com/didinj/nestjs-fastify-mongodb-angular8.git\" rel=\"nofollow noreferrer\">https://github.com/didinj/nestjs-fastify-mongodb-angular8.git</a></p>\n\n<p>main.ts</p>\n\n<pre><code>import { NestFactory } from '@nestjs/core';\nimport { FastifyAdapter, NestFastifyApplication } from '@nestjs/platform-fastify';\nimport { AppModule } from './app.module';\nimport { join } from 'path';\n\n\nasync function bootstrap() {\n  // const app = await NestFactory.create(AppModule);\n\n  const app = await NestFactory.create&lt;NestFastifyApplication&gt;(\n    AppModule,\n    new FastifyAdapter({\n      wildcard: false,\n      logger: {\n        level: 'trace',\n        file: '/Users/jcorekin/fastify.log' // Will use pino.destination()\n      }\n    }),\n  );\n  app.useStaticAssets({\n    root: join(__dirname, '../client/dist/\n  });\n\n  await app.listen(3000, '0.0.0.0');\n}\nbootstrap();\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { Module } from '@nestjs/common';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { ArticleModule } from './article/article.module';\nimport { ServeStaticModule } from '@nestjs/serve-static';\nimport { join } from 'path';\n\n@Module({\n  imports: \n  [\n    // ArticleModule,\n    // ServeStaticModule.forRoot({\n    //   rootPath: join(__dirname, '../client/dist/client'),\n    // }),\n  ],\n  // controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app.service.ts</p>\n\n<pre><code>import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getHello(): string {\n    return 'Hello World!';\n  }\n}\n</code></pre>\n"}, {"tags": ["html", "css", "angular", "typescript", "ngx-toastr"], "answers": [{"tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": true, "score": 0, "last_activity_date": 1582799579, "last_edit_date": 1582799579, "creation_date": 1573666324, "answer_id": 58842586, "question_id": 58842585, "link": "https://stackoverflow.com/questions/58842585/toaster-ngx-toastr-top-center-alignment-doesnt-have-top-margin/58842586#58842586", "title": "Toaster (ngx-toastr) top-center alignment doesn&#39;t have top margin", "body": "<p>Even if I think that this is a design problem, I found out in <a href=\"https://github.com/scttcper/ngx-toastr/issues/579\" rel=\"nofollow noreferrer\">here</a> and workaround. You just need to put the following in your main .css or.scss:</p>\n\n<pre><code>.toast-top-center {\n    top: 30px;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1573666464, "creation_date": 1573666464, "answer_id": 58842615, "question_id": 58842585, "link": "https://stackoverflow.com/questions/58842585/toaster-ngx-toastr-top-center-alignment-doesnt-have-top-margin/58842615#58842615", "title": "Toaster (ngx-toastr) top-center alignment doesn&#39;t have top margin", "body": "<p>Add this in <strong>style.css</strong></p>\n\n<pre><code>.toast {\n    margin-top: 45px !important;\n}\n</code></pre>\n"}], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 0, "accepted_answer_id": 58842586, "answer_count": 2, "score": 0, "last_activity_date": 1582799579, "creation_date": 1573666324, "question_id": 58842585, "link": "https://stackoverflow.com/questions/58842585/toaster-ngx-toastr-top-center-alignment-doesnt-have-top-margin", "title": "Toaster (ngx-toastr) top-center alignment doesn&#39;t have top margin", "body": "<p>I'm using the <a href=\"https://www.npmjs.com/package/ngx-toastr\" rel=\"nofollow noreferrer\">ngx-toastr</a> library. I'm launching a message positioned at the top-center of the screen like this:</p>\n\n<pre><code>@Injectable()\nexport class MessageService {\n\n    constructor(private toastrService: ToastrService) { }\n\n    showErrorMessage(message: string) {\n         this.toastrService.error(message, undefined, {\n              positionClass: 'toast-top-center'\n         });\n    }\n}\n</code></pre>\n\n<p>The problem is that the toast is being shown without any margin on the top:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GHV6h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHV6h.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I solve this? </p>\n"}, {"tags": ["angular", "typescript", "angular-material", "observable", "mat-table"], "answers": [{"comments": [{"owner": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573670301, "post_id": 58843398, "comment_id": 103960897, "body": "this.table.datasource.paginator = this.paginator; fails saying TypeError: Cannot set property &#39;paginator&#39; of undefined"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573675748, "post_id": 58843398, "comment_id": 103963320, "body": "Have you wrote datasource with capital - <code>dataSource</code>? If no, I recommend to install autocomplete plugin also to your IDE. I haven&#39;t checked the spellings"}, {"owner": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573676037, "post_id": 58843398, "comment_id": 103963448, "body": "it;s written correctly as this.table.dataSource.paginator = this.paginator"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573676335, "post_id": 58843398, "comment_id": 103963583, "body": "In your snippet this.table.dataSource.paginator = this.paginator  is not in <code>ngAfterViewInit</code>"}, {"owner": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573676520, "post_id": 58843398, "comment_id": 103963665, "body": "well paginator is highlighted as red saying it&#39;s not a property of CDKTableDataSourceInput&lt;any&gt;  so i dont think it matters where it is defined."}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573677106, "post_id": 58843398, "comment_id": 103963914, "body": "Actually yes, dataSource is not the same, but placement does matter. Simple way would be to make own MatTableDatasource and provide to table."}, {"owner": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573703035, "post_id": 58843398, "comment_id": 103971300, "body": "well my code works for observable part. it is only attaching the paginator. so not sure why that should need to reimplemnt my own datasource provider"}, {"owner": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573703767, "post_id": 58843398, "comment_id": 103971463, "body": "one more thing the line u modified this.dataSource.data = c; gives me error as Type Card is missing the following properties from Unknown[] like push, pop and 18 others"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "edited": false, "score": 0, "creation_date": 1573711821, "post_id": 58843398, "comment_id": 103973551, "body": "Because you want a simple way to make it work. MatTableDataSurce takes Paginator as input and reacts to its changes to render different data in the table. You simply no need to o anything else. Thats why I propose this way. About the error - it is fixed in updated snippet."}], "tags": [], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "is_accepted": true, "score": 4, "last_activity_date": 1573711696, "last_edit_date": 1573711696, "creation_date": 1573669686, "answer_id": 58843398, "question_id": 58842534, "link": "https://stackoverflow.com/questions/58842534/using-mat-paginator-with-mat-table-using-observable-array-as-the-datasource/58843398#58843398", "title": "using mat-paginator with mat-table using observable array as the datasource", "body": "<p>You just need to get a reference to your tables' <code>DataSource</code> <a href=\"https://github.com/angular/components/blob/master/src/material/table/table-data-source.ts#L103\" rel=\"nofollow noreferrer\">and set your paginator</a> in it. Eg:</p>\n\n<pre><code>dataSource = new MatTableDataSource()\n\nasync ngOnInit() {\n\n  this.dataSvc.fetchCards().pipe(\n    map((cards: any) =&gt; cards.map(cardObj =&gt; {\n      var c = new Card(cardObj.key, cardObj._frontImageUrl, cardObj._date, cardObj._rawData)\n  })).subscribe(cards =&gt; this.dataSource.data = cards);\n\n);\n\nngAfterViewInit() {\n  this.dataSource.paginator = this.paginator;\n}\n\n  &lt;mat-table [dataSource]=\"dataSource\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 804, "user_id": 10758175, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QHgLnOabX24/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpVAbOUtele0Uf_4Yn5u_i5djX_g/mo/photo.jpg?sz=128", "display_name": "Moblize IT", "link": "https://stackoverflow.com/users/10758175/moblize-it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 1, "accepted_answer_id": 58843398, "answer_count": 1, "score": 2, "last_activity_date": 1573711696, "creation_date": 1573666117, "last_edit_date": 1573676142, "question_id": 58842534, "link": "https://stackoverflow.com/questions/58842534/using-mat-paginator-with-mat-table-using-observable-array-as-the-datasource", "title": "using mat-paginator with mat-table using observable array as the datasource", "body": "<p>I am using an observable array as the datasource. This works fine except that i am unable to figure out how to use paginator now. below is the html and ts</p>\n\n<p>html</p>\n\n<pre><code> &lt;table mat-table #TABLE [dataSource]=\"cards\" class=\"mat-elevation-z8\"&gt;          \n                &lt;!-- Email Column --&gt;\n             &lt;ng-container matColumnDef=\"date\"&gt;\n                &lt;th mat-header-cell *matHeaderCellDef  class=\"tbl-th\"&gt; Date &lt;/th&gt;\n                &lt;td mat-cell *matCellDef=\"let element\"&gt; {{core.pretifyDate(element.date)}} &lt;/td&gt;\n              &lt;/ng-container&gt;\n\n            &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n            &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;\n            &lt;/tr&gt;\n          &lt;/table&gt;\n          &lt;mat-paginator [pageSizeOptions]=\"[5, 10, 20, 50, 100]\" [pageSize]=\"pageSize\" showFirstLastButtons&gt;&lt;/mat-paginator&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>export class CardQueueComponent implements OnInit {\n\n  @ViewChild('TABLE', {static: false}) table: MatTable&lt;any&gt;;\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\n\n  displayedColumns: string[] = [ 'image', 'customer', 'email',  'date', 'process' ];\n  cards: Observable&lt;Card[]&gt; \n  pageSize = 5\n\n\n  constructor(public dataSvc: SBDataService,\n              public core:CoreService,\n              private changeDetectorRefs: ChangeDetectorRef,\n              ) { }\n\n    async ngOnInit() {\n\n      this.cards = this.dataSvc.fetchCards().pipe(\n        map((cards: any) =&gt; cards.map(cardObj =&gt; {\n          var c = new Card(cardObj.key, cardObj._frontImageUrl, cardObj._date, cardObj._rawData)\n\n        return c\n      }))\n    );\n\n\n    this.changeDetectorRefs.detectChanges();\n\n    //this.dataSource.paginator = this.paginator;\n\n  }\n\n}\n</code></pre>\n\n<p>so the last commented line on paginator is something i need to figure out with after i directly associated cards observavble. Please advise</p>\n"}, {"tags": ["angular", "typescript", "onclick", "angular-material"], "comments": [{"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1573674072, "post_id": 58842462, "comment_id": 103962554, "body": "Inside the map, you\u2019ll have to return this._filter(value)... or remove the () around it.."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11626483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404afb445456887612aa8c939aebd60b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Franklin", "link": "https://stackoverflow.com/users/11626483/jack-franklin"}, "edited": false, "score": 0, "creation_date": 1573679191, "post_id": 58844918, "comment_id": 103964785, "body": "Thank you for the help David!"}, {"owner": {"reputation": 781, "user_id": 6434590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxWOw.jpg?s=128&g=1", "display_name": "David G.", "link": "https://stackoverflow.com/users/6434590/david-g"}, "reply_to_user": {"reputation": 55, "user_id": 11626483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404afb445456887612aa8c939aebd60b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Franklin", "link": "https://stackoverflow.com/users/11626483/jack-franklin"}, "edited": false, "score": 1, "creation_date": 1573680058, "post_id": 58844918, "comment_id": 103965174, "body": "You are very welcome! Maybe you could upvote and mark it as the solution? :P"}, {"owner": {"reputation": 55, "user_id": 11626483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404afb445456887612aa8c939aebd60b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Franklin", "link": "https://stackoverflow.com/users/11626483/jack-franklin"}, "edited": false, "score": 0, "creation_date": 1573680314, "post_id": 58844918, "comment_id": 103965288, "body": "David! Thank you for taking time to help me. &quot;this,myControl.value&quot; in place of option is exactly what I was looking for and solved my issue. Appreciate it big time."}], "tags": [], "owner": {"reputation": 781, "user_id": 6434590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxWOw.jpg?s=128&g=1", "display_name": "David G.", "link": "https://stackoverflow.com/users/6434590/david-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1573676129, "creation_date": 1573676129, "answer_id": 58844918, "question_id": 58842462, "link": "https://stackoverflow.com/questions/58842462/angular-8-trouble-passing-value-through-form-click/58844918#58844918", "title": "Angular 8, trouble passing value through form (click)", "body": "<p>You code looks fine to me, I reproduced it into stackblitz and it seems to work. The only problem I see is you are passing <code>option</code> as an argument in the submit button on click event. That option is only going to be the click event, but it has nothing to do with the input field. You are not going to get the value of the field through there.\nYou are assigning the input to the FormControl object you are creating though, so you can access it through <code>this.myControl.value</code>, that should contain the value of the field.\nYou never mention whether the option list is working fine or not, but I don't see any problems with it.</p>\n\n<p>Here is the stackblitz for reference: <a href=\"https://stackblitz.com/edit/material-select\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/material-select</a></p>\n\n<p>You are also doing a lot of data manipulation with what you receive from your request, and calling several functions. I think it could be simplified using RxJS,this is untested code though:</p>\n\n<pre><code>ngOnInit() {\n  let res = this.http.get(\"myroutehere\")\n    .pipe(\n       map(resp =&gt; resp.jobs),\n    )\n    .subscribe(names =&gt; this.options = names.map(name =&gt; name.data.title));\n  ...\n};\n</code></pre>\n\n<p>You could get rid of <code>saveData</code> and <code>saveJobTitles</code> that way.</p>\n"}], "owner": {"reputation": 55, "user_id": 11626483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404afb445456887612aa8c939aebd60b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Franklin", "link": "https://stackoverflow.com/users/11626483/jack-franklin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1654, "favorite_count": 1, "accepted_answer_id": 58844918, "answer_count": 1, "score": 0, "last_activity_date": 1573676129, "creation_date": 1573665821, "last_edit_date": 1573671111, "question_id": 58842462, "link": "https://stackoverflow.com/questions/58842462/angular-8-trouble-passing-value-through-form-click", "title": "Angular 8, trouble passing value through form (click)", "body": "<p>New to angular &amp; ts, I greatly appreciate any and all help and apologize for an amateur question.</p>\n\n<p>I am having trouble storing the value from the auto-complete form to a variable and keep getting undefined. I cannot figure out the solution. I want to be able to store the selected option in a variable to be called on in other functions later on.</p>\n\n<p><strong>This is my component HTML</strong></p>\n\n<pre><code>&lt;mat-grid-list cols=\"1\" rowHeight=\"50px\"&gt;\n&lt;mat-grid-tile&gt;\n    &lt;h2&gt;Search job postings:&lt;/h2&gt;\n    &lt;form&gt;\n\n        &lt;mat-form-field&gt;\n            &lt;input type=\"text\" matInput [matAutocomplete]=\"auto\" [formControl]=\"myControl\" /&gt;\n        &lt;/mat-form-field&gt;\n        &lt;button (click)=\"onclick(option)\" mat-raised-button color=\"primary\"&gt;Search&lt;/button&gt;\n\n        &lt;mat-autocomplete role=\"input\" #auto=\"matAutocomplete\"\n            [displayWith]=\"displayFunc\"&gt;\n            &lt;mat-option *ngFor=\"let option of filterOptions | async\" [value]=\"option\"&gt;\n                {{option}}\n            &lt;/mat-option&gt;\n\n        &lt;/mat-autocomplete&gt;\n\n    &lt;/form&gt;\n&lt;/mat-grid-tile&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>And this below is my component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from \"@angular/common/http\";\nimport { FormControl } from \"@angular/forms\";\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-jobs',\n  templateUrl: './jobs.component.html',\n  styleUrls: ['./jobs.component.scss']\n})\nexport class JobsComponent implements OnInit {\n\n  public jobs;\n  public options: string[] = [];\n  public myControl = new FormControl();\n  public filterOptions: Observable&lt;string[]&gt;;\n  public chosenJob = \"\";\n\n  constructor(private http: HttpClient) { }\n  ngOnInit() {\n    let res = this.http.get(\"myroutehere\");\n    res.subscribe(data =&gt; {\n      this.saveData(data);\n    });\n    this.filterOptions = this.myControl.valueChanges.pipe(\n      startWith(''),\n      map(value =&gt; (this._filter(value))\n      ))\n  };\n\n  private _filter(value: string): string[] {\n    const filterVal = value.toLowerCase();\n    return this.options.filter(option =&gt;\n      option.toLowerCase().includes(filterVal)\n    );\n  };\n\n  saveData(resp) {\n    this.jobs = resp.jobs\n    console.log(this.jobs)\n    this.saveJobTitles(this.jobs)\n  };\n\n  saveJobTitles(x) {\n    x.map(name =&gt; this.options.push(name.data.title))\n    console.log(this.options)\n  };\n\n  // Fills form out with a string instead of object\n  displayFunc(subj) {\n    return subj ? subj : undefined;\n  };\n\n\n  onclick(value) {\n    this.chosenJob = value\n    console.log(this.chosenJob);\n    console.log(value)\n  };\n\n};\n\n\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "set"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573666068, "post_id": 58842347, "comment_id": 103958950, "body": "Yeah, it uses object reference equality.  Don&#39;t use a <code>Set</code> for this... presumably an <code>Employee</code> has some unique identifier... use a plain object whose keys are that identifier and whose values are the corresponding <code>Employee</code> object.  Then you just lookup by key"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573666299, "post_id": 58842347, "comment_id": 103959063, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29759480/how-to-customize-object-equality-for-javascript-set\">How to customize object equality for JavaScript Set</a>"}], "owner": {"reputation": 700, "user_id": 7402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8018fd1a1a0d8b3b29ef863c0cbd3c29?s=128&d=identicon&r=PG&f=1", "display_name": "M.Dietz", "link": "https://stackoverflow.com/users/7402025/m-dietz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573665363, "creation_date": 1573665363, "question_id": 58842347, "link": "https://stackoverflow.com/questions/58842347/objects-with-the-same-values-are-inside-a-set", "title": "Objects with the same values are inside a set", "body": "<p>I have the following class:</p>\n\n<pre><code>export class DailyEntry {\n  date: Moment;\n  breaks: Duration;\n  startTime: Moment;\n  endTime: Moment;\n  project: Project;\n  employee: Employee;\n  workplace: string;\n  performanceRecord: string;\n  duration?: Duration;\n  status;\n  _links?: Link;\n\n  constructor(date: string, breaks: string, startTime: string, endTime: string, workplace: string, performanceRecord: string,\n              status: string, _links: Link, employee?: Employee) {\n    this.date = moment(date);\n    this.breaks = moment.duration(breaks);\n    this.startTime = moment(date + 'T' + startTime);\n    this.endTime = moment(date + 'T' + endTime);\n    this.duration = moment.duration(this.endTime.diff(this.startTime)).subtract(this.breaks);\n    this.workplace = workplace;\n    this.performanceRecord = performanceRecord;\n    this.status = STATUS[status];\n    this._links = _links;\n    this.employee = employee;\n  }\n}\n</code></pre>\n\n<p>I have an API-request in my customerService which maps the response to an array of DailyEntry:</p>\n\n<pre><code>search(searchUrl: string, params: HttpParams): Observable&lt;DailyEntry[]&gt; {\n    return this.http.get&lt;Data&gt;(BASE_URL + 'search/' + searchUrl, this.authService.setHeadersWithParams('application/json', params))\n      .pipe(\n        map(function (data) {\n          const entries: DailyEntry[] = [];\n          data.forEach(function (e) {\n            entries.push(new DailyEntry(e.date, e.breaks, e.startTime, e.endTime, e.workplace, e.performanceRecord, e.status, e._links, e.employee));\n          });\n          return entries;\n        }),\n        catchError(this.handleService.error)\n      );\n  }\n</code></pre>\n\n<p>In my customerComponent i have the following set defined:</p>\n\n<pre><code>employeesSet: Set&lt;Employee&gt; = new Set();\n</code></pre>\n\n<p>And inside that method, i call the search method the following way:</p>\n\n<pre><code>const dailyEntriesObservable = this.dailyEntryService.search('findByProjectId', httpParams);\n          dailyEntriesObservable.subscribe(dailyEntries =&gt; {\n            dailyEntries.forEach(dailyEntry =&gt; {\n              this.employeesSet.add(dailyEntry.employee);\n            });\n          });\n</code></pre>\n\n<p>So i expected only unique employees being added to the set. But the set contains the same employee several times. But i guess they only have same values, but arent actually the same objects so they are still added in the set? How could i fix that?</p>\n"}, {"tags": ["typescript", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 3494812, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0f40948e76e9363d33aab652448a6d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jeahel", "link": "https://stackoverflow.com/users/3494812/jeahel"}, "edited": false, "score": 0, "creation_date": 1573720213, "post_id": 58850885, "comment_id": 103976981, "body": "TypeScript has no problem picking up the function and IntelliSense is also providing documentation and autocompletion about it. The problem really lies with Cypress which doesn&#39;t register the function."}], "tags": [], "owner": {"reputation": 4028, "user_id": 3487902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b277f160d5cd3c633559575ae9270c8b?s=128&d=identicon&r=PG&f=1", "display_name": "san1deep2set3hi", "link": "https://stackoverflow.com/users/3487902/san1deep2set3hi"}, "is_accepted": false, "score": 0, "last_activity_date": 1573713917, "creation_date": 1573713917, "answer_id": 58850885, "question_id": 58842276, "link": "https://stackoverflow.com/questions/58842276/cypress-custom-command-in-ts-is-not-recognized-during-tests-typeerror-cy-a-is/58850885#58850885", "title": "Cypress custom command in TS is not recognized during tests (&#39;TypeError: cy.a is not a function&#39;)", "body": "<p>For IntelliSense we use following but in JS:</p>\n\n<pre><code>///&lt;reference types=\"cypress\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 620, "user_id": 3494812, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0f40948e76e9363d33aab652448a6d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jeahel", "link": "https://stackoverflow.com/users/3494812/jeahel"}, "edited": false, "score": 0, "creation_date": 1574083407, "post_id": 58882390, "comment_id": 104092712, "body": "Thank you for your answer. I did not strip it down, it&#39;s only a shortcut because we only use data attribute to focus elements from Cypress. I will try your advice as soon as I can"}], "tags": [], "owner": {"reputation": 2867, "user_id": 2883129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf24d2865eca1e6db31a507abd61616b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan", "link": "https://stackoverflow.com/users/2883129/brendan"}, "is_accepted": false, "score": 0, "last_activity_date": 1573841236, "last_edit_date": 1573841236, "creation_date": 1573840750, "answer_id": 58882390, "question_id": 58842276, "link": "https://stackoverflow.com/questions/58842276/cypress-custom-command-in-ts-is-not-recognized-during-tests-typeerror-cy-a-is/58882390#58882390", "title": "Cypress custom command in TS is not recognized during tests (&#39;TypeError: cy.a is not a function&#39;)", "body": "<p>1) Is your example stripped down from your actual custom command by chance?  And imports anything?</p>\n\n<p>I ran into this issue following some guide online, but my custom command used an object imported from another module.  In this case you have to use the global namespace declaration.  Either way, it's worth it a try to see if the global namespace works for you</p>\n\n<p>2) You've added your command to the <code>Chainable&lt;Subject&gt;</code> interface, that is used for chaining off something, like <code>cy.get(\"#something\").myCommand()</code> but your command is used directly off of <code>cy</code>, so it should be on the <code>Chainable</code> interface.</p>\n\n<pre><code>// support/commands.ts\nimport { someObject } from \"someModule\";\n\ndeclare global { // &lt; SEE HERE FOR 1)\n  namespace Cypress {\n    interface Chainable { // &lt; SEE HERE FOR 2)\n      getByDataAttribute: typeof getByDataAttribute\n    }\n  }\n}\n\n/**\n * Get a DOM element by targeting its data-cy attribute value\n * @param data_target data-cy attribute value to target\n */\nfunction getByDataAttribute(data_target: string) {\n  // do something with someObject here\n  return cy.get(\"[data-cy=\" + data_target + \"]\")\n}\n\nCypress.Commands.add(\"getByDataAttribute\", getByDataAttribute)\n\n\nexport {}; // &lt; Don't forget this!\n</code></pre>\n\n<p>See here for more info:</p>\n\n<p><a href=\"https://github.com/cypress-io/cypress/issues/1065#issuecomment-410324355\" rel=\"nofollow noreferrer\">https://github.com/cypress-io/cypress/issues/1065#issuecomment-410324355</a></p>\n"}], "owner": {"reputation": 620, "user_id": 3494812, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0f40948e76e9363d33aab652448a6d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jeahel", "link": "https://stackoverflow.com/users/3494812/jeahel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1170, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573841236, "creation_date": 1573665084, "question_id": 58842276, "link": "https://stackoverflow.com/questions/58842276/cypress-custom-command-in-ts-is-not-recognized-during-tests-typeerror-cy-a-is", "title": "Cypress custom command in TS is not recognized during tests (&#39;TypeError: cy.a is not a function&#39;)", "body": "<p>I have a very simple Cypress test specification which is the following:</p>\n\n<pre><code>// integration/connection.ts\n\ndescribe(\"First page displayed\", function() {\n    before(() =&gt; {\n        cy.visit(\"/\")\n    })\n\n    it(\"Is an error page when no token is given\", function() {\n        cy.getByDataAttribute(\"error-page\")\n    )}\n})\n</code></pre>\n\n<p>Now the <code>getByDataAttribute</code> is a custom command defined like so:</p>\n\n<pre><code>// support/commands.ts\n\ndeclare namespace Cypress {\n  interface Chainable&lt;Subject&gt; {\n    getByDataAttribute: typeof getByDataAttribute\n  }\n}\n\n/**\n * Get a DOM element by targeting its data-cy attribute value\n * @param data_target data-cy attribute value to target\n */\nfunction getByDataAttribute(data_target: string) {\n  return cy.get(\"[data-cy=\" + data_target + \"]\")\n}\n\nCypress.Commands.add(\"getByDataAttribute\", getByDataAttribute)\n</code></pre>\n\n<p>As you can see, everything is written in TypeScript and compiles fine (I even get IntelliSense for my custom command.) I also have my <code>support/index.ts</code> which only imports the commands:</p>\n\n<pre><code>import './commands'\n</code></pre>\n\n<p>I can't figure out what goes wrong but when running the test, Cypress throws the following error:</p>\n\n<blockquote>\n  <p>TypeError: cy.getByDataAttribute is not a function</p>\n</blockquote>\n\n<p>My custom command previously worked, and it's when I tried adding IntelliSense that I started having problems. Now even if I revert back to vanilla JS, the command is not recognized. I tried a lot of tweaks in the configuration and can't remember everything I tried but I think now everything is in order and should work. But it obviously doesn't.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1573665243, "post_id": 58842272, "comment_id": 103958550, "body": "Your TypeScript interfaces are invalid - you should use semicolons instead of commas when defining the properties in the interfaces (they&#39;re not like JSON, where you can use commas instead of semicolons)."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1573665357, "post_id": 58842272, "comment_id": 103958595, "body": "@Edric not true.. both <code>;</code> and <code>,</code>are valid as separators: <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgILIN7LgLmSAVwFsAjaAGmRL0NOmQF8AoUSWRFAIU2xuLKgBuKnzpQGQA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 3299, "user_id": 1392601, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9vTNP.png?s=128&g=1", "display_name": "Gags", "link": "https://stackoverflow.com/users/1392601/gags"}, "edited": false, "score": 0, "creation_date": 1573665561, "post_id": 58842272, "comment_id": 103958692, "body": "even if i use semi colons, error is same"}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1573665728, "post_id": 58842272, "comment_id": 103958782, "body": "@TitianCernicova-Dragomir Interesting observation - didn&#39;t know you could do that!"}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1573666190, "post_id": 58842272, "comment_id": 103959005, "body": "It&#39;s probably caused by the &quot;string index type&quot; (or the <code>[key: string]</code> portion you&#39;ve defined) applying to all of the other properties in that same interface, which causes a hiccup as the types aren&#39;t the same. In this case, either set the <code>[key: string]</code>&#39;s value to <code>any</code>, or remove it entirely."}, {"owner": {"reputation": 3299, "user_id": 1392601, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9vTNP.png?s=128&g=1", "display_name": "Gags", "link": "https://stackoverflow.com/users/1392601/gags"}, "edited": false, "score": 0, "creation_date": 1573666443, "post_id": 58842272, "comment_id": 103959138, "body": "if i set it to any then i wont get auto completions :("}], "answers": [{"comments": [{"owner": {"reputation": 3299, "user_id": 1392601, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9vTNP.png?s=128&g=1", "display_name": "Gags", "link": "https://stackoverflow.com/users/1392601/gags"}, "edited": false, "score": 0, "creation_date": 1573665963, "post_id": 58842351, "comment_id": 103958906, "body": "See this.. still same <a href=\"https://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgILIN7LgLmSAVwFsAjaAGmRL0NOmQF8AoUSWRFAIU2xuLKgBuKnzpRGTFuGjwkyACIQAzsCgQAJgCVlABwD2IJSgxNkZ5AG0A1hACeeJWCigA5gF1keE+Z-I9JACtUPAB5QNQLN3JTXzN-AM5QwM5ImLMGaJ81BD0odSU8bRy8pUzzAAtgR1z7ZAAJKrAapmYpNlkUItz8zDTLG1rHZxB3PABRIh0ukuQAH2QJuGAAG2n8wT6iZSU4FwgHJ1cWyVYZDmQwoN7jtrO5S+5vcxvT9jkJqYhinpMX6TeUIsVmslBgGEA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/index.html#code/&hellip;</a>"}], "tags": [], "owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "is_accepted": false, "score": 0, "last_activity_date": 1573665689, "last_edit_date": 1573665689, "creation_date": 1573665374, "answer_id": 58842351, "question_id": 58842272, "link": "https://stackoverflow.com/questions/58842272/dynamic-key-value-typing-typescript/58842351#58842351", "title": "Dynamic key Value Typing Typescript", "body": "<p><strong>EDIT:</strong></p>\n\n<p>This is actually caused by a single issue in your code where you've defined your interface to use a list version of the <code>Records</code> interface for your <code>records</code> property as compared to what your API response is actually returning (not an array - an object):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface DesiredResponse {\n  // ...\n  records: Records; // Originally Records[]\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Original answer:</strong></p>\n\n<p>This is because defining separate properties in a TypeScript interface usually requires you to use semicolons instead of commas, unlike that of JSON where you could do the opposite (aka use commas instead of semicolons):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface MyInterface {\n  property1: string;\n  property2: boolean;\n  // etc\n}\n</code></pre>\n\n<p>vs:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface MyInterface {\n  property1: string,\n  property2: boolean // Would not compile\n}\n</code></pre>\n"}], "owner": {"reputation": 3299, "user_id": 1392601, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9vTNP.png?s=128&g=1", "display_name": "Gags", "link": "https://stackoverflow.com/users/1392601/gags"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573665689, "creation_date": 1573665074, "question_id": 58842272, "link": "https://stackoverflow.com/questions/58842272/dynamic-key-value-typing-typescript", "title": "Dynamic key Value Typing Typescript", "body": "<p>I need a little help here.</p>\n\n<p>My API response is as below:</p>\n\n<pre><code>Week At A Glance: { objA: [{}], objB: [{}] },\nrecords: { Employee Records: [{}], Email Records: [{}], message: \"\" },\nhistory: { [{}] }\n</code></pre>\n\n<p>When i am trying to create a model for it as below, i am not able to proceed. I created as below</p>\n\n<pre><code>interface DesiredResponse {\n    [key: string] : {\n        objA: ObjA[],\n        objB: ObjB[]\n    },\n    records: Records[],\n    history: History[]\n}\n\ninterface Records {\n    [key: string]: EmpRecords | EmailRecords;\n    message: string\n}\n</code></pre>\n\n<p><strong>Typescript error:</strong> Property 'records' of type 'Records[]' is not assignable to string index type '{ objA: BbjA[]; objB: ObjB[] }'</p>\n\n<p>Property 'message' of type 'string' is not assignable to string index type 'EmpRecords | EmailRecords'</p>\n\n<p>How can i efficiently type it so that i get auto suggestion while accessing this model.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573666490, "post_id": 58842588, "comment_id": 103959157, "body": "It&#39;s considered <a href=\"https://github.com/microsoft/TypeScript/issues/10530\" rel=\"nofollow noreferrer\">a bug</a> that <code>result[key]</code> isn&#39;t guarded... or at least it&#39;s a design limitation (since the compiler would need to recognize that <code>key</code> is the same value in both expressions despite having a <code>string</code> type)"}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1573669040, "last_edit_date": 1573669040, "creation_date": 1573666345, "answer_id": 58842588, "question_id": 58842163, "link": "https://stackoverflow.com/questions/58842163/why-object-can-be-null-with-array-isarrayobj-check/58842588#58842588", "title": "Why Object can be null with Array.isArray(obj) check?", "body": "<p>It's because <code>Array.isArray()</code> guards the result of <code>result[key]</code> expression. The second occurrence of <code>result[key]</code> is a different expression, and it isn't guarded (TS cannot figure out that it's guarded). As a workaround, you can save the result of <code>result[key]</code> to a variable, and guard the variable, for example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...\nconst arr = result[key];\nif (Array.isArray(arr)) {\n    arr.push(submenuKey);\n}\n</code></pre>\n\n<p>I think it's because the key is a variable, in case of a static key, guard works well, for example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (Array.isArray(result['fookey'])) {\n    result['fookey'].push(submenuKey); // no errors\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9400491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Trk8n.jpg?s=128&g=1", "display_name": "Vladimir Martyniuk", "link": "https://stackoverflow.com/users/9400491/vladimir-martyniuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1573669040, "creation_date": 1573664764, "last_edit_date": 1573665193, "question_id": 58842163, "link": "https://stackoverflow.com/questions/58842163/why-object-can-be-null-with-array-isarrayobj-check", "title": "Why Object can be null with Array.isArray(obj) check?", "body": "<p>In the code example is below, TypeScript is points on <code>result[key].push(submenuKey);</code> that result can be <code>null</code>, but there is a check for <code>Array.isArray()</code></p>\n\n<p>Code snippet:</p>\n\n<pre><code>interface resultI {\n    [key: string]: string | null | any[];\n}\nconst result: resultI = {\n    fookey: ['foo', 'bar']\n};\n\nconst key = 'fookey';\nconst submenuKey = 'submenuKey';\n\nif (Array.isArray(result[key])) {\n    result[key].push(submenuKey);\n}\n\n</code></pre>\n\n<p>How is this possible?</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=14&amp;pc=1#code/JYOwLgpgTgZghgYwgAihAzgVwDZgJLIDeAUMmcgNoDWEAngFzLphSgDmAuo86yG8gB9kIHNkHI4IWhQ4BuYgF9iCAPYhmqDDjCM0WXAQC8RUuRgqVNBpQDk5lTYA0yGwCM4UGx0XzlajVbIxnYWVjbyqupgTJiuALYQIgDSdEEuWPGJmCm04cTEwDDIABQAglBQcLQAdMDo5ZW0xXra1HQcAJQdJuSa+mBttBzVAA6Y6AAWxRkJyXQd8kpAA\" rel=\"nofollow noreferrer\">Link to playground</a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 1, "creation_date": 1573665844, "post_id": 58842326, "comment_id": 103958844, "body": "This is the correct answer; this kind of type is called a &quot;discriminated union&quot; or &quot;tagged union&quot; because the <code>op</code> property can be used to test (and narrow) which branch of the union the object has."}, {"owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1573665904, "post_id": 58842326, "comment_id": 103958877, "body": "Interesting.  Does this feel a little &quot;brute force&quot; to you at all?  E.g., could we have defined an <code>OperationType</code> to be the union type of the string operations and used that somehow?  Or does getting too fancy make it unreadable?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1573666330, "post_id": 58842326, "comment_id": 103959085, "body": "@icfantv the only simplification that is possible i think is the last to cases can be merged: <a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAygxgCwgWwIZQLwCgpQD5QDeUARAPZgkBcpwEAzsCQDSlirALVSMBOAlgDsA5qxIA3VABsArhG58hwqAF8c+IqQrcSvFGXHyx7TguACRq9QWLlKNEqgAmTlmw5caikWMmz5XuZKANoAuqpQAPSRUH5yUHCoglAARtDB3qI8QSKh1pp2OnpgUqhwRu6mgRZZEtJy3AAsAExWuDZa9qTIBvIaJHAUIG4kAGa8ZMhmNcYe00ptUFhYUhDAUGQ08EhomJoUDj2GbuOTDm4mCOdWq+tkzVuIKOgY+2AOekcVp8jnrJfnFRRGIQXi8IA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1573666396, "post_id": 58842326, "comment_id": 103959111, "body": "@icfantv just notices <code>test</code> also has the same members with the same types so taht can be added into the last case as well .. but I think that should be it .."}, {"owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1573666605, "post_id": 58842326, "comment_id": 103959195, "body": "Yea, ok.  I think maybe I&#39;m just over-thinking it.  Bias towards action.  Moving on.  Thanks all!."}, {"owner": {"reputation": 305, "user_id": 9301734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2de7afc05983df872e451ae19df7ef2?s=128&d=identicon&r=PG&f=1", "display_name": "jake-ferguson", "link": "https://stackoverflow.com/users/9301734/jake-ferguson"}, "edited": false, "score": 0, "creation_date": 1604406997, "post_id": 58842326, "comment_id": 114333081, "body": "This is a super cool solution,but TS gives me an error when I want to access <code>value</code> within my selector..."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 305, "user_id": 9301734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2de7afc05983df872e451ae19df7ef2?s=128&d=identicon&r=PG&f=1", "display_name": "jake-ferguson", "link": "https://stackoverflow.com/users/9301734/jake-ferguson"}, "edited": false, "score": 0, "creation_date": 1604407126, "post_id": 58842326, "comment_id": 114333139, "body": "@jake-ferguson ask another question , post your code with the actual error and maybe I can have a look (or someone else surely will :) )"}, {"owner": {"reputation": 305, "user_id": 9301734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2de7afc05983df872e451ae19df7ef2?s=128&d=identicon&r=PG&f=1", "display_name": "jake-ferguson", "link": "https://stackoverflow.com/users/9301734/jake-ferguson"}, "edited": false, "score": 0, "creation_date": 1604407288, "post_id": 58842326, "comment_id": 114333234, "body": "<a href=\"https://stackoverflow.com/questions/64663055/typescript-conditional-property-base-on-another-property-with-union-type-gives\" title=\"typescript conditional property base on another property with union type gives\">stackoverflow.com/questions/64663055/&hellip;</a>   :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1573666424, "last_edit_date": 1573666424, "creation_date": 1573665267, "answer_id": 58842326, "question_id": 58842138, "link": "https://stackoverflow.com/questions/58842138/conditonal-typescript-type-property-based-on-another-propertys-value/58842326#58842326", "title": "Conditonal typescript type property based on another property&#39;s value", "body": "<p>You are looking for <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union types</a>, specifically discriminated unions.  </p>\n\n<pre><code>type Schema =\n  | { \"op\": \"test\", \"path\": string, \"value\": string }\n  | { \"op\": \"remove\", \"path\": string }\n  | { \"op\": \"add\", \"path\": string, \"value\": string[] } // value can be [string, string]\n  | { \"op\": \"replace\", \"path\": string, \"value\": 42 }\n  | { \"op\": \"move\", \"from\": string, \"path\": string }\n  | { \"op\": \"copy\", \"from\": string, \"path\": string }\n\n\nlet o: Schema = { op: \"move\", from: \"\", path: \"\" }\nlet o2: Schema = { op: \"remove\", from: \"\", path: \"\"} // err\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=11&amp;ssc=60&amp;pln=1&amp;pc=1#code/C4TwDgpgBAygxgCwgWwIZQLwCgpQD5QDeUARAPZgkBcpwEAzsCQDSlirALVSMBOAlgDsA5qxIA3VABsArhG58hwqAF8c+IqQrcSvFGXHyx7TguACRq9QWLlKNEqgAmTlmw5caikWMmz5XuZKANoAuqpQAPSRUH5yUHCoglAARtDB3qI8QSKh1pp2OnpgUqhwRu6mgRZZEtJy3AAsAExWuDZa9qTIBhUkAGa8ZMhmNcYeo0ptGrbaDnAUIG4DQyPVSuNV2TXTWFhSEMBQZDTwSGiYmhQOPYZug8MObiYIT1YHR2TNp4go6BhXMAOPS3CoPZBPVgvJ4qKIxCC8XhAA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58842326, "answer_count": 1, "score": 0, "last_activity_date": 1573666424, "creation_date": 1573664680, "question_id": 58842138, "link": "https://stackoverflow.com/questions/58842138/conditonal-typescript-type-property-based-on-another-propertys-value", "title": "Conditonal typescript type property based on another property&#39;s value", "body": "<p>I'm trying to type out the <a href=\"https://tools.ietf.org/html/rfc6902\" rel=\"nofollow noreferrer\">HTTP PATCH document structure</a> and could have sworn I'd seen conditional Typescript properties based on another prop value, but I can't be sure.  There may also be a way to do this via union types...</p>\n\n<p>Here's the schema:</p>\n\n<pre><code>[\n { \"op\": \"test\", \"path\": \"/a/b/c\", \"value\": \"foo\" },\n { \"op\": \"remove\", \"path\": \"/a/b/c\" },\n { \"op\": \"add\", \"path\": \"/a/b/c\", \"value\": [ \"foo\", \"bar\" ] },\n { \"op\": \"replace\", \"path\": \"/a/b/c\", \"value\": 42 },\n { \"op\": \"move\", \"from\": \"/a/b/c\", \"path\": \"/a/b/d\" },\n { \"op\": \"copy\", \"from\": \"/a/b/d\", \"path\": \"/a/b/e\" }\n]\n</code></pre>\n\n<p>Note, there's an <code>op</code> property whose values can be <code>\"test\" | \"remove\" | \"add\" | \"replace\" | \"move\" | \"copy\"</code>.  The <code>move</code> and <code>copy</code> operations have a <code>from</code> property and do not contain the <code>value</code> property that the others (except for <code>remove</code>) have.</p>\n\n<p>Clearly, I can just make <code>from</code> and <code>value</code> optional and move on with my life, but I lose the validation aspect so I was wondering if it was possible (if not exactly easy) to define types that adhere to the schema.</p>\n"}, {"tags": ["typescript", "amazon-web-services", "aws-lambda", "serverless"], "comments": [{"owner": {"reputation": 1513, "user_id": 12160881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pnvvr.jpg?s=128&g=1", "display_name": "Aaron Stuyvenberg", "link": "https://stackoverflow.com/users/12160881/aaron-stuyvenberg"}, "edited": false, "score": 0, "creation_date": 1573767387, "post_id": 58842120, "comment_id": 104003123, "body": "How did you deploy this function to AWS? Did you run <code>sls deploy</code>? Or some other way?"}, {"owner": {"reputation": 1, "user_id": 3819607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30528b574a82aab1fa81d276dbc0a38a?s=128&d=identicon&r=PG&f=1", "display_name": "Ylies Chahi", "link": "https://stackoverflow.com/users/3819607/ylies-chahi"}, "reply_to_user": {"reputation": 1513, "user_id": 12160881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pnvvr.jpg?s=128&g=1", "display_name": "Aaron Stuyvenberg", "link": "https://stackoverflow.com/users/12160881/aaron-stuyvenberg"}, "edited": false, "score": 0, "creation_date": 1573808921, "post_id": 58842120, "comment_id": 104014948, "body": "Yes I deploy it with <code>sls deploy [+OPTIONS]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3819607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30528b574a82aab1fa81d276dbc0a38a?s=128&d=identicon&r=PG&f=1", "display_name": "Ylies Chahi", "link": "https://stackoverflow.com/users/3819607/ylies-chahi"}, "edited": false, "score": 0, "creation_date": 1573725623, "post_id": 58842264, "comment_id": 103979997, "body": "Thank for the answer but what do you mean by &quot;modules are missing in the default lambda environment&quot; ? I&#39;ve some projects using the same structure as this one but I&#39;ve never experienced this issue.  When I do search about this issue, turns out It can be an npm/sls related issue and not necessarily an AWS one."}], "tags": [], "owner": {"reputation": 154, "user_id": 11510779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c37644aa953a1c1db05ad69fb3f9301?s=128&d=identicon&r=PG&f=1", "display_name": "anton.uspehov", "link": "https://stackoverflow.com/users/11510779/anton-uspehov"}, "is_accepted": false, "score": 0, "last_activity_date": 1573665037, "creation_date": 1573665037, "answer_id": 58842264, "question_id": 58842120, "link": "https://stackoverflow.com/questions/58842120/aws-serverless-unknown-error-shows-up-when-trying-to-reach-my-lambda/58842264#58842264", "title": "AWS/Serverless Unknown error shows up when trying to reach my lambda", "body": "<p>Seems like there are not some modules that you try to use in the default lambda environment. And you need to create a separate layer with those modules.</p>\n"}, {"tags": [], "owner": {"reputation": 28396, "user_id": 96806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d884d8ef0e93cd87a44593bd2380adb?s=128&d=identicon&r=PG", "display_name": "Mariusz Nowak", "link": "https://stackoverflow.com/users/96806/mariusz-nowak"}, "is_accepted": false, "score": 1, "last_activity_date": 1573806511, "creation_date": 1573806511, "answer_id": 58872998, "question_id": 58842120, "link": "https://stackoverflow.com/questions/58842120/aws-serverless-unknown-error-shows-up-when-trying-to-reach-my-lambda/58872998#58872998", "title": "AWS/Serverless Unknown error shows up when trying to reach my lambda", "body": "<p>It appears that <code>os.homedir()</code> in a framework logic resolves to not existing directory (<code>/home/sbx_user1051</code> doesn't exist), at least it's when this error can happen.</p>\n\n<p>Can it be case on your side? What is your setup?</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13103660, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B4Px9nKFLxw/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nBGQO_gDZfDRnTxsVP1_VChOaYVZA/photo.jpg?sz=128", "display_name": "junyan Liu", "link": "https://stackoverflow.com/users/13103660/junyan-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1584876289, "last_edit_date": 1584876289, "creation_date": 1584870264, "answer_id": 60797827, "question_id": 58842120, "link": "https://stackoverflow.com/questions/58842120/aws-serverless-unknown-error-shows-up-when-trying-to-reach-my-lambda/60797827#60797827", "title": "AWS/Serverless Unknown error shows up when trying to reach my lambda", "body": "<p>Please check your handle value on the lambda to make sure it is consistent with your entry function.</p>\n\n<p><img src=\"https://i.stack.imgur.com/unsX0.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 1, "user_id": 3819607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30528b574a82aab1fa81d276dbc0a38a?s=128&d=identicon&r=PG&f=1", "display_name": "Ylies Chahi", "link": "https://stackoverflow.com/users/3819607/ylies-chahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1584876289, "creation_date": 1573664604, "last_edit_date": 1573721531, "question_id": 58842120, "link": "https://stackoverflow.com/questions/58842120/aws-serverless-unknown-error-shows-up-when-trying-to-reach-my-lambda", "title": "AWS/Serverless Unknown error shows up when trying to reach my lambda", "body": "<p>I'm currently working on a nodejs lambda API using serverless. Once it's deployed and when I try to reach my API endpoints, the server is returning an internal error, and CloudWatch is not giving me a lot of informations except this output:</p>\n\n<pre><code>{\n\"errorType\": \"Error\",\n\"errorMessage\": \"ENOENT: no such file or directory, open '/home/sbx_user1051/.serverlessrc.2618284497'\",\n\"code\": \"ENOENT\",\n\"errno\": -2,\n\"syscall\": \"open\",\n\"path\": \"/home/sbx_user1051/.serverlessrc.2618284497\",\n\"stack\": [\n    \"Error: ENOENT: no such file or directory, open '/home/sbx_user1051/.serverlessrc.2618284497'\",\n    \"    at Object.openSync (fs.js:443:3)\",\n    \"    at Function.writeFileSync [as sync] (/var/task/node_modules/write-file-atomic/index.js:212:13)\",\n    \"    at createConfig (/var/task/node_modules/serverless/lib/utils/config/index.js:38:19)\",\n    \"    at getConfig (/var/task/node_modules/serverless/lib/utils/config/index.js:52:5)\",\n    \"    at Object.get (/var/task/node_modules/serverless/lib/utils/config/index.js:99:18)\",\n    \"    at Object.&lt;anonymous&gt; (/var/task/node_modules/serverless/lib/utils/isTrackingDisabled.js:5:75)\",\n    \"    at Module._compile (internal/modules/cjs/loader.js:778:30)\",\n    \"    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\",\n    \"    at Module.load (internal/modules/cjs/loader.js:653:32)\",\n    \"    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\",\n    \"    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\",\n    \"    at Module.require (internal/modules/cjs/loader.js:692:17)\",\n    \"    at require (internal/modules/cjs/helpers.js:25:18)\",\n    \"    at Object.&lt;anonymous&gt; (/var/task/node_modules/serverless/lib/utils/tracking.js:11:28)\",\n    \"    at Module._compile (internal/modules/cjs/loader.js:778:30)\",\n    \"    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\"\n]\n</code></pre>\n\n<p>After an afternoon of search, I couldn't find the beginning of an answer.</p>\n\n<p>I can provide you informations on my sls configuration or else if needed, thanks to anyone that can help me from here.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1573662837, "post_id": 58841530, "comment_id": 103957283, "body": "There&#39;s no reason to use <code>map</code> in that code. You don&#39;t need the new array it creates."}, {"owner": {"reputation": 1655, "user_id": 3225004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/vgJ6j.png?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/3225004/harsh"}, "edited": false, "score": 0, "creation_date": 1573662877, "post_id": 58841530, "comment_id": 103957302, "body": "MAP returns a new array but for loop doesn&#39;t. Do you need any a new array?"}, {"owner": {"reputation": 1058, "user_id": 10786045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RCVF4.jpg?s=128&g=1", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/10786045/konstantin"}, "edited": false, "score": 1, "creation_date": 1573663027, "post_id": 58841530, "comment_id": 103957398, "body": "if for some reason you don&#39;t want to use <code>for</code> loop, you could use a <code>forEach</code>, but not <code>map</code> for sure"}, {"owner": {"reputation": 186, "user_id": 10681733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-67GGRLUwft0/AAAAAAAAAAI/AAAAAAAABZc/SCv4VF-ls84/photo.jpg?sz=128", "display_name": "degreerichi", "link": "https://stackoverflow.com/users/10681733/degreerichi"}, "edited": false, "score": 0, "creation_date": 1573663269, "post_id": 58841530, "comment_id": 103957546, "body": "Yes, is better to use <code>forEach</code> in that case"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1058, "user_id": 10786045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RCVF4.jpg?s=128&g=1", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/10786045/konstantin"}, "edited": false, "score": 1, "creation_date": 1573663325, "post_id": 58841530, "comment_id": 103957578, "body": "@Konstantin - Well, the OP wants to break the loop early (at least, the code they&#39;re replacing does), so it would be more of a <code>some</code> thing. But really, what they&#39;re doing is <i>finding</i> something in the array, so <code>find</code>. But it&#39;s troubling, I&#39;ve seen a <b>lot</b> of this &quot;<code>map</code> as a general way to loop through arrays&quot; misunderstanding the last 18-24 months. Someone must be mis-teaching this."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 12362934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf7ebf4d1bde0efa65d0a9a432ec87e9?s=128&d=identicon&r=PG&f=1", "display_name": "samir", "link": "https://stackoverflow.com/users/12362934/samir"}, "edited": false, "score": 1, "creation_date": 1573666540, "post_id": 58841674, "comment_id": 103959168, "body": "Thank you so much for helping me  T.J. Crowder ,Its working"}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1573663229, "creation_date": 1573663229, "answer_id": 58841674, "question_id": 58841530, "link": "https://stackoverflow.com/questions/58841530/trying-to-use-map-method-instead-of-for-loop-using-react-typescript/58841674#58841674", "title": "Trying to use map method instead of for loop using React Typescript", "body": "<p><code>map</code> isn't the right choice here, you don't need the new array it creates. Also, you want to stop early, which <code>map</code> doesn't do (unless you throw an error).</p>\n\n<p>The <code>for</code> loop is fine, although you might consider <code>for-of</code> instead since you don't use the index:</p>\n\n<pre><code>renderFunction(perkProgressData) {\n    let tiers = [];\n    let currentData = { item: {} };\n    const data = perkProgressData.perkProgressData;\n    if (data &amp;&amp; data.program &amp;&amp; data.program.tiers) {\n      tiers = data.program.tiers;\n      for (const tier of tiers) {\n        if (tier.tierPerks[0].perkStatus === \"UNCLAIMED\" ||\n          data.currentTierId === tier.tierId) {\n          currentData = { item: tier };\n          break;\n        }\n      }\n    }\n    // ...\n</code></pre>\n\n<p>Or if you don't need <code>tiers</code> after the loop:</p>\n\n<pre><code>renderFunction(perkProgressData) {\n    let currentData = { item: {} };\n    const data = perkProgressData.perkProgressData;\n    if (data &amp;&amp; data.program &amp;&amp; data.program.tiers) {\n      for (const tier of data.program.tiers) {\n        if (tier.tierPerks[0].perkStatus === \"UNCLAIMED\" ||\n          data.currentTierId === tier.tierId) {\n          currentData = { item: tier };\n          break;\n        }\n      }\n    }\n    // ...\n</code></pre>\n\n<p>If you really want to use an array method, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>find</code></a> would make sense:</p>\n\n<pre><code>renderFunction(perkProgressData) {\n    const data = perkProgressData.perkProgressData\n    let currentData =\n      ( data &amp;&amp;\n        data.program &amp;&amp;\n        data.program.tiers &amp;&amp;\n        data.program.tiers.find(tier =&gt;\n          tier.tierPerks[0].perkStatus === \"UNCLAIMED\" || data.currentTierId === tier.tierId\n        )\n      ) ||  { item: {} };\n    // ...\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12362934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf7ebf4d1bde0efa65d0a9a432ec87e9?s=128&d=identicon&r=PG&f=1", "display_name": "samir", "link": "https://stackoverflow.com/users/12362934/samir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58841674, "answer_count": 1, "score": 1, "last_activity_date": 1573663229, "creation_date": 1573662681, "question_id": 58841530, "link": "https://stackoverflow.com/questions/58841530/trying-to-use-map-method-instead-of-for-loop-using-react-typescript", "title": "Trying to use map method instead of for loop using React Typescript", "body": "<p>I'm trying to use map method use instead of for loop using React Typescript for below code but not working </p>\n\n<p>Actual Code using for loop : </p>\n\n<pre><code>renderFunction(perkProgressData) {\n    let tiers = [];\n    let currentData = { item: {} }\n    const data = perkProgressData.perkProgressData\n    if (data &amp;&amp; data.program &amp;&amp; data.program.tiers) {\n      tiers = data.program.tiers\n      **for (let i = 0; i &lt; tiers.length; i++) {**\n        if (tiers[i].tierPerks[0].perkStatus === \"UNCLAIMED\" ||\n          data.currentTierId === tiers[i].tierId) {\n          currentData = { item: tiers[i] }\n          break;\n        }\n      }\n    }\n</code></pre>\n\n<p>tried using .map():(Not Working )</p>\n\n<pre><code>renderFunction(perkProgressData) {\n    let tiers = [];\n    let currentData = { item: {} }\n    const data = perkProgressData.perkProgressData\n    if (data &amp;&amp; data.program &amp;&amp; data.program.tiers) {\n      tiers = data.program.tiers\n      tiers.map((val) =&gt; {\n        if (val.tierPerks &amp;&amp; val.tierPerks[0].perkStatus === \"UNCLAIMED\" || \n          data.currentTierId === val.tierId) {\n            currentData = { item: val }\n          }\n        });\n      }\n    }\n</code></pre>\n"}, {"tags": ["typescript", "generics"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1573665593, "creation_date": 1573665593, "answer_id": 58842400, "question_id": 58841477, "link": "https://stackoverflow.com/questions/58841477/typescript-generics-and-string-literal-types-argument-of-type-onblur-is-not-a/58842400#58842400", "title": "Typescript generics and String Literal Types: Argument of type &quot;OnBlur&quot; is not assignable to parameter of type &quot;T&quot;", "body": "<p><code>T = SomeType</code> in the generic type introduces a default for the generic type <code>T</code> but in no way constrains <code>T</code>. So <code>T</code> could be any type. If you want to both constrain and have a default you need to yous both <code>extends</code> and <code>=</code> (<code>T extends SomeType = SomeType</code>)</p>\n\n<pre><code>type TextboxEvents = 'OnBlur' | 'WhileTyping' | 'WhileTypingThrottled';\ntype FormEvents = 'OnFormSubmit';\ntype DatepickerEvents = 'OnSelectDate' | 'OnCloseCalendar';\ntype WhenToProcessRule = TextboxEvents | FormEvents | DatepickerEvents;\n\nclass EventAggregator&lt;T extends string&gt; {\n}\n\nclass InputValidatorBinding&lt;T extends WhenToProcessRule = WhenToProcessRule&gt; {\n   protected readonly eventAggregator!: EventAggregator&lt;T&gt;;\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=11&amp;ssc=2&amp;pln=1&amp;pc=1#code/C4TwDgpgBAKhAewBGB7eBRAbhAdsAzlALxQDkA8jgEIA2ArgE6lQA+ZA6gBYCWNEM4bjgDmzNqS69+gkTE4MUwYHwAmpANwAoUJCgAxFAwC2WXAWJlKB4wGU6SI92Abt4aABEAhsAhhuAYwBrCAZTPEISChwbCD5-YC8fMUscAGEaFHwIVM8+HBVPJi0daC5cGBQABQV-CHx8ACU6Pgs4RFQMbHDWfUMTLvM2RN8A4NCB-C1NfxpPeqgw4ABBYWEGCGFvQwAeGCgEH3zCfGAGIWEAPigAb00AX01p2fmASRwwOmAANVzuAuBDFQhCpzrt9ohcCpCGUcBVqihavUmi0SDC4TU6o1mhArrcoPiwAofPEICooOtPCoUDgaCB9gMVmsNlsGABCABcCwZq3WmwBDF2Fy0dyAA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58842400, "answer_count": 1, "score": 0, "last_activity_date": 1573665593, "creation_date": 1573662514, "question_id": 58841477, "link": "https://stackoverflow.com/questions/58841477/typescript-generics-and-string-literal-types-argument-of-type-onblur-is-not-a", "title": "Typescript generics and String Literal Types: Argument of type &quot;OnBlur&quot; is not assignable to parameter of type &quot;T&quot;", "body": "<p>If I specify that my generic in the <code>InputValidatorBinding</code> takes in a String Literal Type and that generic type is used in another class which generic type is a string type then why do I get a compile error?  Arn't they essentially the same?  The only difference is that the <code>InputValidatorBinding</code> has a tighter constraint where as <code>EventAggregator</code> is looser.  Is there anyway to accomplish what I'm trying to do?</p>\n\n<pre><code>type TextboxEvents = 'OnBlur' | 'WhileTyping' | 'WhileTypingThrottled';\ntype FormEvents = 'OnFormSubmit';\ntype DatepickerEvents = 'OnSelectDate' | 'OnCloseCalendar';\ntype WhenToProcessRule = TextboxEvents | FormEvents | DatepickerEvents;\n\nclass EventAggregator&lt;T extends string&gt; {\n}\n\nclass InputValidatorBinding&lt;T = WhenToProcessRule&gt; {\n   protected readonly eventAggregator: EventAggregator&lt;T&gt;;\n}\n</code></pre>\n"}, {"tags": ["typescript", "union-types"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1573662429, "post_id": 58841372, "comment_id": 103957019, "body": "As in <code>func</code> normally returns <code>a | b</code> and you want to say that in <i>this</i> case, you&#39;re certain it&#39;d be only <code>a</code> or you want to make <code>func</code> only return <code>a</code>?"}, {"owner": {"reputation": 256, "user_id": 5591795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LcGLdZQwtHY/AAAAAAAAAAI/AAAAAAAABZY/rg_EAtJpE9M/photo.jpg?sz=128", "display_name": "S.j. Sakib", "link": "https://stackoverflow.com/users/5591795/s-j-sakib"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1573663414, "post_id": 58841372, "comment_id": 103957630, "body": "only in <i>this</i> case."}], "answers": [{"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 2, "last_activity_date": 1573662427, "creation_date": 1573662427, "answer_id": 58841449, "question_id": 58841372, "link": "https://stackoverflow.com/questions/58841372/how-to-pick-a-particular-return-type-in-typescript/58841449#58841449", "title": "How to pick a particular return type in Typescript?", "body": "<p>Just cast the return type:</p>\n\n<pre><code>const x: a = &lt;a&gt;func();\n</code></pre>\n\n<p>In this way, you are telling typescript that you know for sure what the return type is.</p>\n\n<hr>\n\n<p>Another way to do it is to create an overload for the function like so:</p>\n\n<pre><code>function func(): a;\n</code></pre>\n\n<p>Then call it like you did originally</p>\n\n<pre><code>const x: a = func();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 256, "user_id": 5591795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LcGLdZQwtHY/AAAAAAAAAAI/AAAAAAAABZY/rg_EAtJpE9M/photo.jpg?sz=128", "display_name": "S.j. Sakib", "link": "https://stackoverflow.com/users/5591795/s-j-sakib"}, "edited": false, "score": 0, "creation_date": 1573664955, "post_id": 58841756, "comment_id": 103958402, "body": "I forgot to mention that the function is coming from a library and it is a method of an object. How can I make it work in that case?"}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "reply_to_user": {"reputation": 256, "user_id": 5591795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LcGLdZQwtHY/AAAAAAAAAAI/AAAAAAAABZY/rg_EAtJpE9M/photo.jpg?sz=128", "display_name": "S.j. Sakib", "link": "https://stackoverflow.com/users/5591795/s-j-sakib"}, "edited": false, "score": 0, "creation_date": 1573665261, "post_id": 58841756, "comment_id": 103958559, "body": "Is it a plain JS function? If that&#39;s the case, you can write a type definition for it in a <code>d.ts</code> file. Another option is to write a wrapper around that function, so that you have full control over it"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 2, "last_activity_date": 1573663460, "creation_date": 1573663460, "answer_id": 58841756, "question_id": 58841372, "link": "https://stackoverflow.com/questions/58841372/how-to-pick-a-particular-return-type-in-typescript/58841756#58841756", "title": "How to pick a particular return type in Typescript?", "body": "<p>Casting the particular value you're interested in is certainly a valid option, but it's based on a hidden assumption that only you, the programmer, know about. If 6 months down the line you change the behaviour of your function in such a way that your assumption is no longer valid, you'll get a runtime error.</p>\n\n<p>A more robust solution would be to encode your assumption in the program through the type system, either via overloading or via conditional types.</p>\n\n<p>For example:</p>\n\n<pre><code>function f1(x: string): number | string {\n    return undefined;\n}\n\nconst a1: number = f1('foo') // wrong, can't do\n\nfunction f2(x: string): string\nfunction f2(): number\nfunction f2(x?: string): number | string {\n    return undefined;\n}\n\nconst a2s: string = f2('foo') // OK\nconst a2n: number = f2() // OK\n</code></pre>\n\n<p>Similarly, conditional types allow you to express the same thing:</p>\n\n<pre><code>function f3&lt;T&gt;(x?: T): T extends string ? string : number {\n    return undefined;\n}\n\nconst a3s: string = f3('foo') // OK\nconst a3n: number = f3()\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?strictNullChecks=false&amp;ssl=21&amp;ssc=25&amp;pln=16&amp;pc=1#code/GYVwdgxgLglg9mABMAjACgB4C5EGcoBOMYA5gJQ5ggC2ARgKYGIA+ehxJiA3gFCL+IC9KCAJJwAE3rBi9CQG4eAXx48ICfIgCGKSjQZMAvMnQByYHDimyiAPS3EAdwIISAGkQQtYU1EQS4VVBIWARkACZMHHwiUgo2WJIeYOh4JGBI+Ko6RmTwVLCMzAB+aPY4vRymVhiObj4BIRExRElpWQVlVXUwTS1w3DLExGMi80trOwcAeQBpNQ0-frBKgxGItBt7RDmg-ND0gGYAHgAVAD4SnFP408R6DCh6MAlcBLri99JEVcZ6gUEwlE4he7TAckUKgWvSWh0GX04o0OaHGVi2M3mPT6hxWiGyayRmyAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 256, "user_id": 5591795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LcGLdZQwtHY/AAAAAAAAAAI/AAAAAAAABZY/rg_EAtJpE9M/photo.jpg?sz=128", "display_name": "S.j. Sakib", "link": "https://stackoverflow.com/users/5591795/s-j-sakib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 58841756, "answer_count": 2, "score": 0, "last_activity_date": 1573663460, "creation_date": 1573662171, "last_edit_date": 1573662682, "question_id": 58841372, "link": "https://stackoverflow.com/questions/58841372/how-to-pick-a-particular-return-type-in-typescript", "title": "How to pick a particular return type in Typescript?", "body": "<p>Lets say return type of a  function is <code>a | b</code>. Now if I know that the return type will be <code>a</code> for sure for a particular call, how do I tell typescript to treat the returned value as <code>a</code>. Normally if I try this:</p>\n\n<pre><code>const x: a = func();\n</code></pre>\n\n<p>I get <code>type a | b is not assignable to type a</code></p>\n"}, {"tags": ["typescript", "inheritance", "type-inference"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1573666964, "post_id": 58841333, "comment_id": 103959351, "body": "Can you change <code>findOne()&#39;s</code> <code>this</code> parameter type to <code>Pick&lt;typeof Base, keyof typeof Base&gt; &amp; (new (...a: any[]) =&gt; T)</code>?"}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573685087, "post_id": 58841333, "comment_id": 103967197, "body": "@jcalz thanks, this done it, but do you know how to include <code>protected</code> functions / values?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573740533, "post_id": 58841333, "comment_id": 103988520, "body": "I don&#39;t know; can you edit your code to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so I can test it myself?  It&#39;s possible you can just use <code>typeof Base &amp; (new (...a: any[]) =&gt; T)</code> but I&#39;d have to see a full <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to know if it works.  The issue with <code>private</code> and <code>protected</code> members is they are intentionally hidden from <code>keyof</code>, see <a href=\"https://github.com/microsoft/TypeScript/issues/13543\" rel=\"nofollow noreferrer\">microsoft/TypeScript#13543</a>"}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573751527, "post_id": 58841333, "comment_id": 103995464, "body": "@jcalz i added an example method &amp; how i would call it"}], "answers": [{"tags": [], "owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "is_accepted": false, "score": 0, "last_activity_date": 1573719382, "last_edit_date": 1573719382, "creation_date": 1573685412, "answer_id": 58846830, "question_id": 58841333, "link": "https://stackoverflow.com/questions/58841333/typescript-class-inference-with-statics/58846830#58846830", "title": "Typescript Class inference with statics", "body": "<p><em>Thanks to <a href=\"https://stackoverflow.com/users/2887218/jcalz\">@jcalz</a></em></p>\n\n<p>His answer was to replace </p>\n\n<p><code>new (...a: any[]) =&gt; T</code> </p>\n\n<p>with </p>\n\n<p><code>Pick&lt;typeof Base, keyof typeof Base&gt; &amp; (new (...a: any[]) =&gt; T)</code>, </p>\n\n<p>this fixed it for me <em>mostly</em>  </p>\n\n<p>what i found is that this does not include <code>protected</code> values/functions</p>\n\n<p><sub><em>this question will be edited if an answer to the <code>protected</code> sub-question can be found</em></sub></p>\n"}, {"comments": [{"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573755482, "post_id": 58862444, "comment_id": 103997467, "body": "&quot;If the above doesn&#39;t suffice for your use case&quot; that is why i included the mongodb type, without defining &quot;this&quot; you dont have type support for all the values defined in the inherited class, in this case it is <code>someValue</code> in <code>.findOne({ someValue: &quot;hi&quot; })</code>, PS: i mean without doing <code>.findOne&lt;SomeExtendingClass&gt;()</code> and just having it infered from the &quot;this&quot;"}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573849730, "post_id": 58862444, "comment_id": 104035683, "body": "Sorry for the late response, didnt see the edit - &quot;initialization&quot; is a no-go in my use-case, and otherwise, i get the error i mentioned already &quot;The &quot;this&quot; context of Type &quot;typeof SomeClass&quot; cannot be assigned to the type &quot;typeof Base&quot;&quot; - this might relate to some other complex types i (have to) use"}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573849858, "post_id": 58862444, "comment_id": 104035734, "body": "&quot;Your example code doesn&#39;t show why you need any this&quot; sorry, but i linked to the repo i would need | use it in, which has a constructor with arguments"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573850150, "post_id": 58862444, "comment_id": 104035833, "body": "Initialization is just a type safety concern; if you don&#39;t want to do it, it doesn&#39;t affect the rest of the answer  (but you <i>should</i> do it, or make the property optional.  uninitialized properties are a source of bugs)."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573850299, "post_id": 58862444, "comment_id": 104035897, "body": "An external repo doesn&#39;t really count as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, unfortunately.  External links are good for convenience but not if they contain substantive information needed for the question.  All pertinent information should be in the text of the question as suggested in the guidelines for <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> (and in <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> also, fwiw)."}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573860668, "post_id": 58862444, "comment_id": 104039050, "body": "i didnt include it in the &quot;minimal reproducible example&quot;, because this was not the question (at least i think so), and &quot;uninitialized properties are a source of bugs)&quot; they are set with and decorator (default) and otherwise in the constructor, this here was just for demonstration"}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573860787, "post_id": 58862444, "comment_id": 104039074, "body": "and &quot;&lt;-- not a Promise&quot; was just a copy-paste &quot;error&quot;, because while i was testing setting the &quot;this&quot; parameter, the function was not finished"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573863626, "post_id": 58862444, "comment_id": 104039707, "body": "Okay, well at this point I&#39;ve given you all the ways I know to deal with this issue, all of which work for the example code posted in the question itself.  So I think I&#39;m probably done here.  Good luck coding!"}, {"owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "edited": false, "score": 0, "creation_date": 1573866300, "post_id": 58862444, "comment_id": 104040171, "body": "thanks for answering the question so quick &amp; sticking through to some &quot;extra&quot; - my &quot;solution&quot; was at the end, to not use the protected functions (make public / out of the class)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 0, "last_activity_date": 1573753045, "last_edit_date": 1573753045, "creation_date": 1573752011, "answer_id": 58862444, "question_id": 58841333, "link": "https://stackoverflow.com/questions/58841333/typescript-class-inference-with-statics/58862444#58862444", "title": "Typescript Class inference with statics", "body": "<p>Your example code doesn't show why you need any <code>this</code> parameter at all.  For example, the following code works even with <code>protected</code> static methods.  The default type of <code>this</code> is just <code>typeof Base</code>:</p>\n\n<pre><code>import { FilterQuery } from \"mongodb\";\nabstract class Base&lt;T extends Base&lt;any&gt;&gt; {\n    public static async findOne&lt;T extends Base&lt;any&gt;&gt;(\n        query: FilterQuery&lt;T&gt;\n    ): Promise&lt;T&gt; {\n        console.log(this.getSomeString()); \n        console.log(this.someProtectedMethod()); \n        return undefined!; // &lt;-- not a Promise\n    }\n\n    public static getSomeString(): string {\n        return \"Hello\";\n    }\n    protected static someProtectedMethod() {\n        return \"hello2\";\n    }\n}\nclass SomeExtendingClass extends Base&lt;SomeExtendingClass&gt; {\n    public someValue: string = \"123\"; // needs initialization\n}\n(async () =&gt; {\n    await SomeExtendingClass.findOne({ someValue: \"hi\" });\n})();\n</code></pre>\n\n<p>If the above doesn't suffice for your use case, please edit your example code to show some places where it breaks.  Presumably there's some reason you needed to add a <code>this</code> parameter in the first place; what's the reason?</p>\n\n<p>Anyway, hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYWwDg9gTgLgBAbzgMWAGxgUygRQK7YCecAvnAGZQQhwBEIEAdgOYQAmARrQNwBQvAQw4BnGFAEBjeBLQDhwuACE5mADwAVOJgAeWRmwXLhagY0IA+c4l5xbcMHg5pgEuKIEwXcOYUavywPoA8oxqmjp6BkoqqqYW5gAUNnYpAI4EUIQAXCjoWLgZhBrmybYAlDkAClQgwMbF1ikpEkzCEGiYAHRoEMwJMAAWdZ3MmDAAytSY42KBfWVlfE12LYxtHd29-UPCnW0gmNUQWFKYbACyYwPsCQtLy3BQY3hQjHCMeGhoAIT3tiSleyOZyudyeVyjCZTGZQOa3HKiWEsRoPJ4wF5vWgACUwXwgPEBAJSYCoJywbDcMA8Xn2h1JmFOFyuNzKKOWaIxdAGuJ6ACYCSkAQDeDI5ApJgcAKK6TD6OYAYVk8i0Mv0hhiEsw0siCqVwisCEBDicNKmADUBGgCAjZsiALx0ACMvIAzDw4AB6D3vTBnBSBYCeS3AABe1KYvABmu1srYurFnQCwVCCQ+X2+i093ogAGsBIR+EA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<hr>\n\n<p>Edit: if you need <code>this</code> to be constructible with zero args inside <code>findOne()</code>, and not allow <code>findOne()</code> to be called on a class that isn't constructible that way, you could possibly do this:</p>\n\n<pre><code>abstract class Base&lt;T extends Base&lt;any&gt;&gt; {\n    public static async findOne&lt;T extends Base&lt;any&gt;&gt;(\n        this: typeof Base &amp; (new () =&gt; any),\n        query: FilterQuery&lt;T&gt;\n    ): Promise&lt;T&gt; {\n        console.log(this.getSomeString());\n        console.log(this.someProtectedMethod());\n        new this();\n        return null!;\n    }\n    public static getSomeString(): string {\n        return \"Hello\";\n    }\n    protected static someProtectedMethod() {\n        return \"hello2\";\n    }\n}\n\nBase.findOne(null!); // error, abstract\n\nclass SomeExtendingClass extends Base&lt;SomeExtendingClass&gt; {\n    public someValue: string = \"123\"; // needs initialization\n}\nSomeExtendingClass.findOne(null!); // okay\n\nclass InvalidExtendingClass extends Base&lt;InvalidExtendingClass&gt; {\n    constructor(x: string) {\n        super();\n    }\n}\nInvalidExtendingClass.findOne(null!); // error, requires an argument\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYWwDg9gTgLgBAbzgMWAGxgUygRQK7YCecAvnAGZQQhwBEIEAdgOYQAmARrQNwBQvAQw4BnGFAEBjeBLQDhwuACE5mADwAVOJgAeWRmwXLhagY0IA+c4l5xbcMHg5pgEuKIEwXcOYUavywPoA8oxqmjp6BkoqqqYW5gAUNnYpMAAWwMIAXHAwhGCYEOTRxnAAZHAJoQDulQCUcAC8VnF1ADTJKbYAjgRQhDmoGNj4RBrmnXB1OQAKVCCZYVYIkykSTMIQaJgAdGgQzAnpmTvMmDAAytSYF2KBh3V1fF1264yb23sHRxnCO5sgTBzCBYKSYNgAWXOaXYCUezxecBquV+cIRLyg5zwUEYSLwaDQAEJ0aRJg4nF53J5XGdLtdblB7nCcqJGSxrIi4JiYNjcbQABKYAkQHiTEhkqigrBsNwwDyU67AqXgqHpWENFac7m8uhpIX7ABMopS4vFvCMuwCwVCVXxRKecAA9I6tFAqFA2t4RGJJDB+DI5AoroCAKK6TD6e4AYVk8i04f0hhiwcwYci0djwmWZMczlcAMwADUBGgCCy7uzGnQAIwGgDMPCdLtC4IUgWAnhLwAAXvKmLxxSm0xG2BnAzsrWwQphbQTCQ7nXAIABrASEf2ZuAASUYADcu2xh5GWDHA-HIknjKod-vnIeE6OT5ns2sNmI8FJoAltOW2cwNasdjCHgBRQGiYoDrwN4Hkej7MKe8gToEU42owdrztwTauu6nqYr0wCYgopjeFAzB4ICjB+rwCQ+H49RNC+dgCNUAgdnAQ4PmOiGTtOCRIAWxalpgOS0BktCkE8A51OB-BAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<p>If you have other requirements (like allowing different constructor arguments for subclasses) then let me know.  Good luck again!</p>\n"}], "owner": {"reputation": 530, "user_id": 8944059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1db42c85f5bc1a17f53190eb55fe93?s=128&d=identicon&r=PG", "display_name": "hasezoey", "link": "https://stackoverflow.com/users/8944059/hasezoey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573753045, "creation_date": 1573662016, "last_edit_date": 1573751494, "question_id": 58841333, "link": "https://stackoverflow.com/questions/58841333/typescript-class-inference-with-statics", "title": "Typescript Class inference with statics", "body": "<pre class=\"lang-js prettyprint-override\"><code>import { FilterQuery } from \"mongodb\";\n\nabstract class Base&lt;T extends Base&lt;any&gt;&gt; {\n    public static async findOne&lt;T extends Base&lt;any&gt;&gt;(\n        this: new (...a: any[]) =&gt; T,\n        query: FilterQuery&lt;T&gt;\n    ): Promise&lt;T&gt; {\n        console.log(this.getSomeString()); // currently: \"getSomeString\" dosnt exists on type \"new (...a: any[]) =&gt; T\"\n        // already tried \"typeof T\" - because \"typeof\" is not allowed on generics\n        // already tried https://stackoverflow.com/a/52358194/8944059 's static solution\n        // already tried \"T\" - which makes \"this: any\"\n        // and i tried various other things, which resulted in \"await SomeExtendingClass\" cannot be assigned to \"this\"\n\n        // Edit for @jcalz\n        console.log(this.someProtectedMethod()); // error \"someProtectedMethod\" does not exists on type \"this\"\n\n        return undefined;\n    }\n\n    public static getSomeString(): string {\n        this.someProtectedMethod(); // this would work\n        return \"Hello\";\n    }\n\n    // Edit for @jcalz\n    protected static someProtectedMethod() {\n        return \"hello2\";\n    }\n}\n\nclass SomeExtendingClass extends Base&lt;SomeExtendingClass&gt; {\n    public someValue: string;\n}\n\n(async () =&gt; {\n    await SomeExtendingClass.findOne({ someValue: \"hi\" });\n})();\n</code></pre>\n\n<p>Goal is to have all statics in <code>this</code> while being able to call it with <code>new this(...args)</code> and while having all keys of (Parent class) insert-able into <code>query</code> and without having to remove <code>abstract</code></p>\n\n<p>Already tried:<br>\n- <a href=\"https://stackoverflow.com/a/58037767/8944059\">https://stackoverflow.com/a/58037767/8944059</a><br>\n- <a href=\"https://stackoverflow.com/a/52358194/8944059\">https://stackoverflow.com/a/52358194/8944059</a> 's static solution  </p>\n\n<p>PS: i dont understand most of the magic of typescript types, that is why i'm asking...  </p>\n\n<p>PPS: <a href=\"https://github.com/hasezoey/typegoose-v2/blob/dc29eee627e9f1ac77845da14b5206b3ad2f97c0/src/baseModel.ts#L37-L46\" rel=\"nofollow noreferrer\">here is the project i would need it</a>  </p>\n"}, {"tags": ["javascript", "angular", "typescript", "gojs"], "comments": [{"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1573664440, "post_id": 58841284, "comment_id": 103958146, "body": "There is a sample repo for providing a basic example of using GoJS in an Angular app.: <a href=\"https://github.com/NorthwoodsSoftware/gojs-angular-basic\" rel=\"nofollow noreferrer\">github.com/NorthwoodsSoftware/gojs-angular-basic</a>"}, {"owner": {"reputation": 1, "user_id": 4046727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BtOCQZpvmVM/AAAAAAAAAAI/AAAAAAAAABg/2dfbIb6Rzqo/photo.jpg?sz=128", "display_name": "David Levinson", "link": "https://stackoverflow.com/users/4046727/david-levinson"}, "reply_to_user": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1573675589, "post_id": 58841284, "comment_id": 103963255, "body": "That example doesn&#39;t include a palette. I&#39;m specifically looking for the best way to implement the diagram and palette being their own components."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11317302, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219011628190386/picture?type=large", "display_name": "Ryan Johnson", "link": "https://stackoverflow.com/users/11317302/ryan-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1573742947, "creation_date": 1573742947, "answer_id": 58859551, "question_id": 58841284, "link": "https://stackoverflow.com/questions/58841284/gojs-with-angular-8-diagram-and-palette-in-separate-components/58859551#58859551", "title": "GoJS with Angular 8 Diagram and Palette in Separate Components", "body": "<p>I suppose it depends on exactly what you want to do, but for a general case of needing a Palette with some Nodes you can drag onto a Diagram, you just need to define a Palette Component, that contains a div in which you initialize your Palette (probably in ngAfterViewInit), and a Diagram Component, that contains a div in which you initialize your Diagram (also probably in ngAfterViewInit).  </p>\n\n<p>If you need to bind data, such as node data, to these components, just pass them as @Input() properties from your wrapper Component.</p>\n\n<p>We plan to release some Angular / GoJS Components to make this process even easier, but I cannot say when they'll be ready. Let me know if you have further questions.</p>\n"}], "owner": {"reputation": 1, "user_id": 4046727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BtOCQZpvmVM/AAAAAAAAAAI/AAAAAAAAABg/2dfbIb6Rzqo/photo.jpg?sz=128", "display_name": "David Levinson", "link": "https://stackoverflow.com/users/4046727/david-levinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573742947, "creation_date": 1573661862, "question_id": 58841284, "link": "https://stackoverflow.com/questions/58841284/gojs-with-angular-8-diagram-and-palette-in-separate-components", "title": "GoJS with Angular 8 Diagram and Palette in Separate Components", "body": "<p>I have a very basic question about the best way to implement GoJS with Angular 8 where the diagram and palette are represented by separate components. This seems to me to be a more organized way to implement the GoJS library, however I'm uncertain if this would be feesible and what the best way to share data between the diagram and palette components would be.</p>\n"}, {"tags": ["typescript", "enzyme", "preact"], "owner": {"reputation": 21, "user_id": 12367695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9121f3bc646bccfdb517a2ccb6816e89?s=128&d=identicon&r=PG&f=1", "display_name": "d689440", "link": "https://stackoverflow.com/users/12367695/d689440"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1573661127, "creation_date": 1573661127, "question_id": 58841079, "link": "https://stackoverflow.com/questions/58841079/enzyme-typescript-cannot-set-property-target-of-object-event-which-has-only", "title": "Enzyme typescript \u2013 Cannot set property target of [object Event] which has only a getter at Function.assign", "body": "<p>code:</p>\n\n<pre><code>...\nwrapper.find('input').simulate('input', { target: {value: 's'}})\n</code></pre>\n\n<p>cmd:</p>\n\n<pre><code>jest test\n</code></pre>\n\n<p>result</p>\n\n<pre><code>Cannot set property target of [object Event] which has only a getter at Function.assign\n</code></pre>\n\n<p>Error in node_modules/enzyme-adapter-preact-pure/build/src/MountRenderer.js </p>\n\n<pre><code>    var event = new Event(eventName, {\n        bubbles: args.bubbles,\n        composed: args.composed,\n        cancelable: args.cancelable,\n    });\n    Object.assign(event, args);\n</code></pre>\n\n<p>Event is interface from typescript/libs/lib.d.ts</p>\n\n<pre><code>interface Event {\n    ...\n    readonly target: EventTarget | null;\n    ...\n}\n</code></pre>\n\n<p>target is <strong>readonly</strong>, how set custom target? </p>\n\n<p>package.json</p>\n\n<pre><code>\"@types/jest\": \"^24.0.19\",\n\"@types/jquery\": \"^3.3.31\",\n\"enzyme\": \"^3.10.0\",\n\"enzyme-adapter-preact-pure\": \"^2.1.0\",\n\"enzyme-to-json\": \"^3.4.3\",\n\"jest\": \"^24.9.0\",\n\"preact\": \"^8.4.2\",\n\"preact-context\": \"^1.1.4\",\n\"preact-redux\": \"^2.0.3\",\n\"redux\": \"^4.0.1\",\n\"ts-jest\": \"^24.1.0\",\n\"ts-loader\": \"^4.5.0\",\n\"typescript\": \"^3.5.3\",\n\"webpack\": \"^4.39.1\",\n\"webpack-cli\": \"^3.3.9\"\n</code></pre>\n"}, {"tags": ["typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 12571059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92339778bcf275ca903459ad2fc03cc?s=128&d=identicon&r=PG&f=1", "display_name": "Josh V&#225;zquez Rendo", "link": "https://stackoverflow.com/users/12571059/josh-v%c3%a1zquez-rendo"}, "is_accepted": false, "score": 3, "last_activity_date": 1576849471, "creation_date": 1576849471, "answer_id": 59426243, "question_id": 58841053, "link": "https://stackoverflow.com/questions/58841053/forwardref-on-a-custom-component-typescript/59426243#59426243", "title": "ForwardRef on a custom component typescript", "body": "<p>You are missing some types on the way.</p>\n\n<pre><code>interface Handles {\n    customFunction: ()=&gt;void\n}\ninterface Props {\n    props1: string\n}\n\nconst component: RefForwardingComponent&lt;Handles, Props&gt; = (props,ref) =&gt; {\n\n    useImperativeHandle(ref, () =&gt; ({\n        customFunction: () =&gt; {\n            console.log(\"Custom\");    \n        }\n    }));\n\n    return &lt;View&gt;props.children&lt;/View&gt;\n};\nconst Children = forwardRef(component)\n\n\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 9412673, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Toto NaBendo", "link": "https://stackoverflow.com/users/9412673/toto-nabendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1976, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576849471, "creation_date": 1573661037, "question_id": 58841053, "link": "https://stackoverflow.com/questions/58841053/forwardref-on-a-custom-component-typescript", "title": "ForwardRef on a custom component typescript", "body": "<p>I'm trying to access a children component function from his parent using references.</p>\n\n<p>I've my parent component :</p>\n\n<pre><code>const Parent: FC = (props) =&gt; {\n    let childRef = useRef(null);\n\n    const handle = () =&gt; {\n        childRef.current.customFunction();\n    }\n\n    return (\n        &lt;Children props1=\"value\" ref={childRef}/&gt;\n        &lt;Button onPress={handle}/&gt;\n}\n</code></pre>\n\n<p>And my children component :</p>\n\n<pre><code>interface Props {\n    props1: string\n}\n\nconst Children: FC&lt;Props&gt; = forwardRef((props,ref) =&gt; {\n    const customFunction = () =&gt; {\n        console.log(\"Custom\");    \n    }\n\n    return &lt;View&gt;props.children&lt;/View&gt;\n})\n</code></pre>\n\n<p>I have a typescript error when rendering my children component :</p>\n\n<blockquote>\n  <p>Property 'ref' does not exist on type 'intrinsicAttribute &amp; props &amp;\n  {children?:ReactNode}</p>\n</blockquote>\n\n<p>Note that I would like to keep any strict type.</p>\n"}, {"tags": ["typescript"], "owner": {"reputation": 67, "user_id": 12367662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b84bc174c8d5eb564791cfd86f51df?s=128&d=identicon&r=PG&f=1", "display_name": "user12367662", "link": "https://stackoverflow.com/users/12367662/user12367662"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573660139, "creation_date": 1573660139, "question_id": 58840785, "link": "https://stackoverflow.com/questions/58840785/property-x-does-not-exist-on-type-of-import-in-case-of-modules", "title": "&lt; Property X does not exist on type of import(&quot;...&quot;) &gt; in case of modules", "body": "<p>One module exports function \"A\". Second module exports functions \"A\" and \"B\".</p>\n\n<p>At first I need to create a map array, like this:</p>\n\n<pre><code>const map = [\n  {\n    name: 'A',\n    data: moduleA\n  },\n  {\n    name: 'B',\n    data: moduleB\n  }\n];\n</code></pre>\n\n<p>I'm trying to run functions \"A\" and \"B\" in a cycle like this:</p>\n\n<pre><code>item.data.A('some data');\n\nif(item.data &amp;&amp; item.data.B)    // here's error\n    item.data.B('other data');\n</code></pre>\n\n<p>But getting this weird error:</p>\n\n<blockquote>\n  <p>Property 'B' does not exist on type 'typeof import(\".../moduleA\")'</p>\n</blockquote>\n\n<p>How to get rid if this error? And why does it even happen?</p>\n\n<p><a href=\"https://codesandbox.io/s/youthful-joliot-qyihx?fontsize=14&amp;hidenavigation=1&amp;theme=dark\" rel=\"nofollow noreferrer\">Codesandbox example</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 370, "user_id": 8862424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6047dbd5ffd27dac5ca8d00e79710a?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Mihaylov", "link": "https://stackoverflow.com/users/8862424/ivan-mihaylov"}, "edited": false, "score": 0, "creation_date": 1573660768, "post_id": 58840651, "comment_id": 103956007, "body": "Maybe this thread is going to answer your question <a href=\"https://github.com/angular/components/issues/12931\" rel=\"nofollow noreferrer\">github.com/angular/components/issues/12931</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1116, "user_id": 2666738, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bca2fd3e6986e35212a7ef32b54917e1?s=128&d=identicon&r=PG", "display_name": "PrazSam", "link": "https://stackoverflow.com/users/2666738/prazsam"}, "edited": false, "score": 0, "creation_date": 1600259718, "post_id": 58840958, "comment_id": 113030742, "body": "Life saving answer. This applies to the mat-right-sheet (<a href=\"https://www.npmjs.com/package/mat-right-sheet\" rel=\"nofollow noreferrer\">npmjs.com/package/mat-right-sheet</a>) as well."}], "tags": [], "owner": {"reputation": 211, "user_id": 6168042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1603564846585295/picture?type=large", "display_name": "Ivan Tkachyshyn", "link": "https://stackoverflow.com/users/6168042/ivan-tkachyshyn"}, "is_accepted": true, "score": 7, "last_activity_date": 1573660739, "creation_date": 1573660739, "answer_id": 58840958, "question_id": 58840651, "link": "https://stackoverflow.com/questions/58840651/change-detection-seems-to-not-work-in-a-dynamically-instantiated-component/58840958#58840958", "title": "Change detection seems to not work in a dynamically instantiated component", "body": "<p>Material BottomSheet wraps your component with 'mat-bottom-sheet-container' which sets ChangeDetection to OnPush so your FooterComponent inherits it. You have to manually trigger change detection by injecting ChangeDetectorRef and calling 'markForCheck' method ;)</p>\n"}], "owner": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 58840958, "answer_count": 1, "score": 3, "last_activity_date": 1576502492, "creation_date": 1573659734, "last_edit_date": 1576502492, "question_id": 58840651, "link": "https://stackoverflow.com/questions/58840651/change-detection-seems-to-not-work-in-a-dynamically-instantiated-component", "title": "Change detection seems to not work in a dynamically instantiated component", "body": "<p>(Working demo <a href=\"https://stackblitz.com/edit/angular-lmdbxw\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>I made a very simple component which displays a message for 3s then a \"Done\" message : </p>\n\n<p><strong>footer.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core'\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n\n  waiting = true;\n\n  ngOnInit() {\n    setTimeout(() =&gt; this.waiting = false, 3000);\n  }\n\n}\n</code></pre>\n\n<p><strong>footer.component.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"footer\"&gt;\n  &lt;div *ngIf=\"waiting\"&gt;Waiting 3s&lt;/div&gt;\n  &lt;div *ngIf=\"!waiting\"&gt;Done !&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This component works like a charm when added to a template with <code>app-footer</code>.</p>\n\n<p>However, when instantiated dynamically with a Material's <code>BottomSheet</code>, the change detection does not happen. The variable <code>waiting</code> has the right value but the displayed text is wrong. I have to manually call the <code>ChangeDetectorRef</code>.</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>constructor(private _bottomSheet: MatBottomSheet) {}\n\nshowBottomSheet() {\n  this._bottomSheet.open(FooterComponent);\n}\n</code></pre>\n\n<p>After looking on StackOverflow, I learnt that change detection behaves differently with dynamically instantiated components but it seems that the only change is with <code>@Input()</code> variables. Is it the expected behavior ? Is it a bug from Material's <code>BottomSheet</code>?</p>\n"}, {"tags": ["typescript", "android-pay", "google-api-js-client", "google-pay", "typescript-types"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1573660113, "post_id": 58840636, "comment_id": 103955639, "body": "Most likely, type declarations haven&#39;t been updated to include this method. Declare it yourself and then creative a pr to definitely typed that adds it"}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 4467136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30564e7f6c8d011f44d2753c74ff7?s=128&d=identicon&r=PG&f=1", "display_name": "chouxy-dev", "link": "https://stackoverflow.com/users/4467136/chouxy-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1574793346, "last_edit_date": 1574793346, "creation_date": 1574793029, "answer_id": 59057338, "question_id": 58840636, "link": "https://stackoverflow.com/questions/58840636/type-for-gapi-savetoandroidpay/59057338#59057338", "title": "Type for gapi.savetoandroidpay", "body": "<p>The <code>@types/gapi</code> package does not contain definitions to Google Pay implementations such as <code>gapi.savetoandroidpay</code> (as of Nov-26-2019).</p>\n\n<p>Until the types are updated, I'd suggest declaring <code>gapi</code> as a type in your <code>global.d.ts</code>, or the TypeScript file where you use <code>gapi.savetoandroidpay.render()</code>.</p>\n\n<p><strong>sample.ts</strong></p>\n\n<pre><code>declare var gapi: any;\n\nconst init=()=&gt;{\n  gapi.savetoandroidpay.render(\"dom-container\",{\n     \"jwt\": \"JWT\",\n     \"onsuccess\": \"successHandler\",\n     \"onfailure\": \"failureHandler\"\n  });\n}\n</code></pre>\n\n<p>Important to note that will only suppress type errors.</p>\n"}], "owner": {"reputation": 61, "user_id": 4555219, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X9XNY0WVmOs/AAAAAAAAAAI/AAAAAAAAALU/dopE56pYeJo/photo.jpg?sz=128", "display_name": "Jos&#233; Gabriel Reyes Garc&#237;a", "link": "https://stackoverflow.com/users/4555219/jos%c3%a9-gabriel-reyes-garc%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574793346, "creation_date": 1573659686, "last_edit_date": 1574793057, "question_id": 58840636, "link": "https://stackoverflow.com/questions/58840636/type-for-gapi-savetoandroidpay", "title": "Type for gapi.savetoandroidpay", "body": "<p>I am trying to use Google Pay Passes with Typescript. There is a package to define the type: <code>npm install --save @types/gapi</code> but I don't have any method to use </p>\n\n<pre><code>gapi.savetoandroidpay.render(\"dom-container\",{\n  \"jwt\": \"JWT\",\n  \"onsuccess\": \"successHandler\",\n  \"onfailure\": \"failureHandler\"\n});\n</code></pre>\n\n<p><a href=\"https://developers.google.com/pay/passes/reference/s2w-reference#gapi.savetoandroidpay.render-function\" rel=\"nofollow noreferrer\">Here is the documentation</a></p>\n\n<p>Am I using the wrong package or is this missing?</p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 577, "user_id": 9021492, "user_type": "registered", "profile_image": "https://graph.facebook.com/1741823645828317/picture?type=large", "display_name": "Smail Galijasevic", "link": "https://stackoverflow.com/users/9021492/smail-galijasevic"}, "edited": false, "score": 0, "creation_date": 1573659958, "post_id": 58840591, "comment_id": 103955538, "body": "Why would you need to do that ?"}, {"owner": {"reputation": 506, "user_id": 7110178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DFAg6.jpg?s=128&g=1", "display_name": "Dan Zawadzki", "link": "https://stackoverflow.com/users/7110178/dan-zawadzki"}, "reply_to_user": {"reputation": 577, "user_id": 9021492, "user_type": "registered", "profile_image": "https://graph.facebook.com/1741823645828317/picture?type=large", "display_name": "Smail Galijasevic", "link": "https://stackoverflow.com/users/9021492/smail-galijasevic"}, "edited": false, "score": 0, "creation_date": 1573660967, "post_id": 58840591, "comment_id": 103956121, "body": "Enum seems to be more natural here, but i don&#39;t want to type <code>@@FOLDER</code> multiple times, but it&#39;s important to me to keep action domain context."}], "answers": [{"tags": [], "owner": {"reputation": 4706, "user_id": 1024298, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1c0ce7a5ba0adf8456bd2bc3342b2eda?s=128&d=identicon&r=PG", "display_name": "abuduba", "link": "https://stackoverflow.com/users/1024298/abuduba"}, "is_accepted": false, "score": 2, "last_activity_date": 1573661556, "creation_date": 1573661556, "answer_id": 58841199, "question_id": 58840591, "link": "https://stackoverflow.com/questions/58840591/strings-concatenation-in-enum-value/58841199#58841199", "title": "Strings concatenation in enum value", "body": "<p>You can create a helper method that accepts a string prefix and list of the actions that should be created &amp; prefixed.</p>\n\n<p>Given a prefix and array method should create an object having action types as keys and prefixed types as a values.</p>\n\n<p>So given <code>PREFIX/</code> and <code>['a', 'b']</code> the output should be <code>{ a: 'PREFIX/a', b: 'PREFIX/b' }</code></p>\n\n<p>This might be simply done with the <code>reduce</code> array method.</p>\n\n<p>The magic comes when you use use TS types - it can infer the output object keys from the function argument. \nSo, as result IDE will autocomplete the action types for you :)</p>\n\n<pre><code>type ActionTypeMap&lt;T extends string&gt; = { [key in T ]: string };\n\nconst createActionTypesMap = &lt;T extends string&gt;(prefix: string, types: T[]): ActionTypeMap&lt;T&gt; =&gt;\n  types.reduce(\n    (obj, key) =&gt; ({ \n      ...obj,\n      [key]: `${prefix}${key}`\n    }),\n    {} as ActionTypeMap&lt;T&gt;\n  );\n\nconst folderActionTypes = createActionTypesMap(\n  '@FOLDER/',\n  [\n    'REQUEST',\n    'SUCCESS',\n    'ERROR',\n    'CHECK',\n    'UNCHECK',\n    'CLOSE',\n    'OPEN'\n  ]\n);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TcvFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TcvFV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 506, "user_id": 7110178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DFAg6.jpg?s=128&g=1", "display_name": "Dan Zawadzki", "link": "https://stackoverflow.com/users/7110178/dan-zawadzki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1573682038, "creation_date": 1573659532, "last_edit_date": 1573682038, "question_id": 58840591, "link": "https://stackoverflow.com/questions/58840591/strings-concatenation-in-enum-value", "title": "Strings concatenation in enum value", "body": "<p>I'm trying to refactor my redux action types to be enum type, but the problem is I would like to generate values through string concatenation.</p>\n\n<p>Currently, my action looks like this (it is not symmetrical, so static generators won't work):</p>\n\n<pre><code>export const TYPE = '@@FOLDER';\nexport const FolderActionTypes = {\n    REQUEST: `${TYPE}/REQUEST`,\n    SUCCESS: `${TYPE}/SUCCESS`,\n    ERROR: `${TYPE}/ERROR`,\n    CHECK: `${TYPE}/CHECK`,\n    UNCHECK: `${TYPE}/UNCHECK`,\n    CLOSE: `${TYPE}/CLOSE`,\n    OPEN: `${TYPE}/OPEN`\n};\n</code></pre>\n\n<p>How I would like to make it looks like:</p>\n\n<pre><code>export const TYPE = '@@FOLDER';\nexport enum FolderActionTypes = {\n    REQUEST = `${TYPE}/REQUEST`;\n    SUCCESS = `${TYPE}/SUCCESS`;\n    ERROR = `${TYPE}/ERROR`;\n    CHECK = `${TYPE}/CHECK`;\n    UNCHECK = `${TYPE}/UNCHECK`;\n    CLOSE = `${TYPE}/CLOSE`;\n    OPEN = `${TYPE}/OPEN`;\n};\n</code></pre>\n\n<p>Is there any simple way to make it works?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "ionic4", "behaviorsubject"], "answers": [{"comments": [{"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1573659474, "post_id": 58840533, "comment_id": 103955203, "body": "I&#39;d strongly recommend to use an alternative to <code>JSON.parse(JSON.stringify(data))</code>"}, {"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "reply_to_user": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 1, "creation_date": 1573659557, "post_id": 58840533, "comment_id": 103955262, "body": "@lealceldeiro yeah, I have mentioned that it is not performant and should not be preferred."}], "tags": [], "owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "is_accepted": false, "score": 2, "last_activity_date": 1573659372, "creation_date": 1573659372, "answer_id": 58840533, "question_id": 58840265, "link": "https://stackoverflow.com/questions/58840265/behaviorsubject-behaves-diffent-with-string-and-an-object/58840533#58840533", "title": "BehaviorSubject behaves diffent with string and an object", "body": "<p>The problem is because of the mutation of the object and is not exclusive to Behavior Subject. Objects are passed by reference and when you mutate the object in parent, it also changes the other places the same object is referenced to.</p>\n\n<p>You could do</p>\n\n<pre><code>this.data.objCurr.subscribe(data =&gt; this.obj = {...data}); // Assuming there are no nested objects inside data\n</code></pre>\n\n<p>In case of nested objects, you could use <code>JSON.parse(JSON.stringify(data))</code> though it is not very performant and something like lodash may be used for the deep cloning utility (or you could write a recursive function that clones nested objects too)</p>\n"}], "owner": {"reputation": 11, "user_id": 7679853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S7my-ArNvRg/AAAAAAAAAAI/AAAAAAAAAGA/g194BA8snN4/photo.jpg?sz=128", "display_name": "Hugo Melo", "link": "https://stackoverflow.com/users/7679853/hugo-melo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573659427, "creation_date": 1573658473, "last_edit_date": 1573658972, "question_id": 58840265, "link": "https://stackoverflow.com/questions/58840265/behaviorsubject-behaves-diffent-with-string-and-an-object", "title": "BehaviorSubject behaves diffent with string and an object", "body": "<p>I trying to use a data service in a ionic/angular project to share data across components, but the service isn't working as I expected with objects. </p>\n\n<p>In one component (i.e.: a parent), when a local object that got the attributes values from subscribing to the service has a value changed it propagates the value to other components, but I think this just could happen if the value is changed via the service with next(). </p>\n\n<p>Below a minimum example in a blank ionic project, to compare a string and object in this scenario. In the parent component there're two methods, one that change the local values (where occurs the problem with the object and not with the string) and the other that change values via service (works as expected).</p>\n\n<p>May I be doing something wrong, behaviorSubject works this way with objects or is it an issue?? </p>\n\n<p>data.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n\n  private strSrc = new BehaviorSubject('default');\n  readonly strCurr = this.strSrc.asObservable();\n\n  private objSrc = new BehaviorSubject({ name : 'Default' });\n  readonly objCurr = this.objSrc.asObservable();\n\n  constructor() { }\n\n  chgStr(strNew) {\n    this.strSrc.next(strNew);\n  }\n\n  chgObj(objNew) {\n    this.objSrc.next(objNew);\n  }\n} \n</code></pre>\n\n<p>child.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../../service/data.service';\n\n@Component({\n  selector: 'app-child',\n  template: `\n  &lt;p&gt;child data String: {{ str }}&lt;/p&gt;\n  &lt;p&gt;child data Object: {{ obj.name }}&lt;/p&gt;\n  `\n})\n\nexport class ChildComponent implements OnInit {\n  str: string;\n  obj: { name: string };\n\n  constructor(private data: DataService) { }\n\n  ngOnInit() {\n    this.data.strCurr.subscribe(data =&gt; this.str = data);\n    this.data.objCurr.subscribe(data =&gt; this.obj = data);\n  }\n}\n</code></pre>\n\n<p>home.page.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../service/data.service';\n\n@Component({\n  selector: 'app-home',\n  template: `&lt;ion-content&gt;\n  &lt;p&gt;parent data String: {{ str }}&lt;/p&gt;\n  &lt;p&gt;parent data Object: {{ obj.name }}&lt;/p&gt;\n  &lt;br/&gt;\n  &lt;app-child&gt;&lt;/app-child&gt;\n    &lt;ion-button (click)=\"chgLocal()\"&gt;\n      change parent variable\n    &lt;/ion-button&gt;\n    &lt;ion-button (click)=\"chgBehaviorSubject()\" color=\"secondary\"&gt;\n      change behaviorSubject\n    &lt;/ion-button&gt;\n  &lt;/ion-content&gt;`,\n})\nexport class HomePage implements OnInit {\n  str: string;\n  obj: { name: string };\n\n  constructor(private data: DataService) { }\n\n  ngOnInit() {\n    this.data.strCurr.subscribe(data =&gt; this.str = data);\n    this.data.objCurr.subscribe(data =&gt; this.obj = data);\n  }\n\n  chgLocal() {\n    this.str = 'changed String';\n    this.obj.name = 'changed Object';\n    // --Output in HTML\n    // parent data String: changed String\n    // parent data Object: changed Object\n\n    // child data String: default\n    // child data Object: changed Object &lt;--PROBLEM!\n\n    // --Expected output in HTML\n    // parent data String: changed String\n    // parent data Object: changed Object\n\n    // child data String: default\n    // child data Object: Defaul\n  }\n\n  chgBehaviorSubject() {\n    this.data.chgStr('behavior string');\n    this.data.chgObj({ name: 'Behavior Object' });\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1197, "user_id": 4611543, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6a35f014285f808cd629290297055612?s=128&d=identicon&r=PG", "display_name": "Mickers", "link": "https://stackoverflow.com/users/4611543/mickers"}, "edited": false, "score": 0, "creation_date": 1573657284, "post_id": 58839787, "comment_id": 103953936, "body": "See <a href=\"https://stackoverflow.com/questions/40676343/typescript-input-onchange-event-target-value\">here</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user967451"}, "reply_to_user": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1573660782, "post_id": 58839787, "comment_id": 103956013, "body": "@Dupocas actually React normalizes keycodes into strings as of a recent version so <code>key</code> is a valid property nowadays."}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1573661053, "post_id": 58839787, "comment_id": 103956173, "body": "Yes, that completely escaped my mind. You&#39;re right. Deleting the comment then"}], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 6497399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rMLGJ.jpg?s=128&g=1", "display_name": "Honza", "link": "https://stackoverflow.com/users/6497399/honza"}, "is_accepted": true, "score": 1, "last_activity_date": 1573658119, "creation_date": 1573658119, "answer_id": 58840143, "question_id": 58839787, "link": "https://stackoverflow.com/questions/58839787/what-is-the-right-way-to-type-check-an-event-onkeypress-in-react/58840143#58840143", "title": "What is the right way to type check an event onKeyPress in React?", "body": "<p><code>onKeyPress</code> event of React input has this type: \n<code>(event: React.KeyboardEvent&lt;HTMLInputElement&gt;) =&gt; void</code></p>\n\n<p>Type definition: <a href=\"https://github.com/facebook/react/blob/4cb399a433771c84e861d5ca3d38a24733d23ad8/packages/react-interactions/events/src/dom/Keyboard.js#L36\" rel=\"nofollow noreferrer\">https://github.com/facebook/react/blob/4cb399a433771c84e861d5ca3d38a24733d23ad8/packages/react-interactions/events/src/dom/Keyboard.js#L36</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user967451"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 58840143, "answer_count": 1, "score": 1, "last_activity_date": 1573658307, "creation_date": 1573656910, "question_id": 58839787, "link": "https://stackoverflow.com/questions/58839787/what-is-the-right-way-to-type-check-an-event-onkeypress-in-react", "title": "What is the right way to type check an event onKeyPress in React?", "body": "<p>The following code:</p>\n\n<pre><code>  &lt;input\n    type=\"text\"\n    onKeyPress={(e) =&gt; addTag(e)}\n  /&gt;\n\n  const addTag = (e: React.SyntheticEvent&lt;HTMLInputElement&gt;): void =&gt; {\n    if (e.key === 'Enter')) {\n      // Do something with `e.currentTarget.value`\n    }\n  };\n</code></pre>\n\n<p>It results in this error:</p>\n\n<pre><code>Property 'key' does not exist on type 'SyntheticEvent&lt;HTMLInputElement, Event&gt;'.\n</code></pre>\n\n<p>How shall I type event here? Whatever I use must also work with <code>e.currentTarget.value</code>.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 5733, "user_id": 963195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79a3e34a1b01290d16f57a61bdaa350?s=128&d=identicon&r=PG", "display_name": "Andrew E", "link": "https://stackoverflow.com/users/963195/andrew-e"}, "is_accepted": true, "score": 1, "last_activity_date": 1573657762, "creation_date": 1573657762, "answer_id": 58840032, "question_id": 58839748, "link": "https://stackoverflow.com/questions/58839748/typescript-make-generic-typed-parameter-flow-from-function-to-function/58840032#58840032", "title": "Typescript: Make Generic Typed Parameter Flow From Function to Function", "body": "<p>The main things you're looking for is function generics and return types, but there's a couple other things that will help.</p>\n\n<p>First, I recommend using \"T\" instead of <code>Item</code>. You don't have to, but it's conventional, and it makes it clearer to read in this case (I kept wondering \"where is the <code>Item</code> type!):</p>\n\n<pre><code>interface Props&lt;T&gt; {\n    selectedItem?: T\n}\n</code></pre>\n\n<p>To your main question, you needed to make the function generic:</p>\n\n<pre><code>function makeReturn&lt;T&gt;(props: Props&lt;T&gt;): T|undefined {\n    if (props.selectedItem) {\n        return props.selectedItem\n    }\n\n    return undefined\n}\n</code></pre>\n\n<p>or technically this is fine too (assuming <code>props</code> is never null or undefined):</p>\n\n<pre><code>function makeReturn&lt;T&gt;(props: Props&lt;T&gt;): T|undefined {\n    return props.selectedItem\n}\n</code></pre>\n\n<p>Note how the return type is <code>T|undefined</code>. In your example you returned an empty string. You can't do that in TypeScript without a warning or an error.</p>\n\n<p>I tweaked the next function a bit (but there are multiple ways to skin the cat):</p>\n\n<pre><code>function use&lt;T&gt;(userProps?: Props&lt;T&gt;): T|undefined {\n    return makeReturn(userProps || {})\n}\n</code></pre>\n\n<p>Full code (<a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=23&amp;pc=1#\" rel=\"nofollow noreferrer\">playground</a>):</p>\n\n<pre><code>interface Props&lt;T&gt; {\n    selectedItem?: T\n}\n\nfunction makeReturn&lt;T&gt;(props: Props&lt;T&gt;): T|undefined {\n    if (props.selectedItem) {\n        return props.selectedItem\n    }\n\n    return undefined\n}\n\nfunction use&lt;T&gt;(userProps?: Props&lt;T&gt;): T|undefined {\n    return makeReturn(userProps || {})\n}\n\ninterface MyItem {\n    city: 'string',\n    rating: number\n}\n\nconst selectedItem = use&lt;MyItem&gt;()\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 5106072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xoa4Z.jpg?s=128&g=1", "display_name": "Arihant", "link": "https://stackoverflow.com/users/5106072/arihant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58840032, "answer_count": 1, "score": 0, "last_activity_date": 1573657762, "creation_date": 1573656790, "question_id": 58839748, "link": "https://stackoverflow.com/questions/58839748/typescript-make-generic-typed-parameter-flow-from-function-to-function", "title": "Typescript: Make Generic Typed Parameter Flow From Function to Function", "body": "<p>Consider the following code ( also on <a href=\"https://www.typescriptlang.org/play/?ssl=9&amp;ssc=1&amp;pln=10&amp;pc=1#code/JYOwLgpgTgZghgYwgAgApQPYAcDOAeASUgFsA+ZAbwChlbkcIAbCBSAEyImIH4AuZTsSoBfKlRgBXEK2AYQyYnADWEAEoQwEqCAAUWTLn7psOAJSUadYDGR6DOAHQNmrCBxLnqdb8igat8vomTkws7IKWtKKRvv7ayADkCSJiktJgsvISDIQkpDox2dDGhmj2uVzkALyUop4xCHI4YLFgAGpwjMg1iirqmto6RVAlZgDcMX4D8lMdjBPRoJCwiCgAsgCeghbeCMBgG-wJzVCgAOYJADSTcBkgZ-wgEsQARtApVI0gzfShru5cbrIIp4TaCfKmKhAA\" rel=\"nofollow noreferrer\">TS Play</a> )</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ninterface Props&lt;Item&gt; {\n    selectedItem?: Item\n}\n\nfunction makeReturn(props: Props) { // complaints : Generic type 'Props&lt;Item&gt;' requires 1 type argument(s).\n    if (props.selectedItem) {\n        return props.selectedItem\n    }\n\n    return ''\n}\n\nfunction useAutosuggest&lt;Item&gt;(\n    userProps: Props&lt;Item&gt; = {}\n) {\n    const retVal = makeReturn(userProps);\n    return retVal;\n}\n\ninterface MyItem {\n    city: 'string',\n    rating: number\n}\n\nconst selectedItem = useAutosuggest&lt;MyItem&gt;()\n\n</code></pre>\n\n<p>My thought process is \u2013 what do I do, so that the <code>makeReturn</code> function be able to know that <code>selectedItem</code> should be of whatever type <code>useAutosuggest</code> takes in (in this case <code>MyType</code>). I'm not sure if I'm thinking correctly. If I am, what to do to act upon this thought process, if not what am I thinking wrong?</p>\n"}, {"tags": ["typescript", "eslint"], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 9949983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZFQqcIeRqhI/AAAAAAAAAAI/AAAAAAAAAGg/zc-B1e4fjjM/photo.jpg?sz=128", "display_name": "Abel Tilahun", "link": "https://stackoverflow.com/users/9949983/abel-tilahun"}, "is_accepted": false, "score": 0, "last_activity_date": 1573850471, "creation_date": 1573850471, "answer_id": 58884399, "question_id": 58839680, "link": "https://stackoverflow.com/questions/58839680/overriding-eslint-rule/58884399#58884399", "title": "Overriding eslint rule", "body": "<p>If all is lost then you can specify rule for a single line using the below command. </p>\n\n<pre><code>/*eslint-disable */\n\n//It will disable all the warnings between comments\nalert('eslint disabled');\n\n//To enable just add the below line of code.\n/*eslint-enable */\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 104340, "user_id": 23649, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e9f543f0ffdb7c9a899e628fe76e7f3?s=128&d=identicon&r=PG", "display_name": "jtbandes", "link": "https://stackoverflow.com/users/23649/jtbandes"}, "is_accepted": true, "score": 5, "last_activity_date": 1573852438, "last_edit_date": 1573852438, "creation_date": 1573851606, "answer_id": 58884589, "question_id": 58839680, "link": "https://stackoverflow.com/questions/58839680/overriding-eslint-rule/58884589#58884589", "title": "Overriding eslint rule", "body": "<p>I was able to use your configs on a small .tsx file after installing several node modules. It seems like the solution is just: rather than</p>\n\n<pre><code>\"no-use-before-define\": [\"error\", { \"functions\": false, \"classes\": true }]\n</code></pre>\n\n<p>it seems you need to use</p>\n\n<pre><code>\"@typescript-eslint/no-use-before-define\": [\"error\", { \"functions\": false, \"classes\": true }]\n</code></pre>\n\n<p>because the error is coming from <code>@typescript-eslint</code>.</p>\n"}], "owner": {"reputation": 6323, "user_id": 390407, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26929cfd38c72772ebb3a94b94c3e8ad?s=128&d=identicon&r=PG", "display_name": "ryan", "link": "https://stackoverflow.com/users/390407/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1658, "favorite_count": 1, "accepted_answer_id": 58884589, "answer_count": 2, "score": 1, "last_activity_date": 1573852438, "creation_date": 1573656571, "question_id": 58839680, "link": "https://stackoverflow.com/questions/58839680/overriding-eslint-rule", "title": "Overriding eslint rule", "body": "<p>I can't seem to override the behavior of <code>\"no-use-before-define\"</code>. I don't want to be warned when a function is used before defined. I've tried disabling &amp; re-enabling the ESLint service in VS Code but with no success.</p>\n\n<p><a href=\"https://i.stack.imgur.com/t10uV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t10uV.png\" alt=\"warning example\"></a></p>\n\n<p>VS Code Extensions: <a href=\"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\" rel=\"nofollow noreferrer\">ESLint</a>, <a href=\"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode\" rel=\"nofollow noreferrer\">Prettier</a></p>\n\n<p><strong>.eslintrc</strong></p>\n\n<pre><code>{\n  \"env\": {\n    \"browser\": true\n  },\n  \"parser\": \"@typescript-eslint/parser\",\n  \"plugins\": [\"@typescript-eslint\"],\n  \"extends\": [\n    \"airbnb\",\n    \"plugin:@typescript-eslint/recommended\",\n    \"prettier\",\n    \"prettier/@typescript-eslint\",\n    \"prettier/react\",\n    \"prettier/standard\",\n    \"prettier/@typescript-eslint\",\n    \"plugin:prettier/recommended\"\n  ],\n  \"settings\": {\n    \"import/resolver\": {\n      \"node\": {\n        \"extensions\": [\".js\", \".jsx\", \".ts\", \".tsx\"]\n      }\n    }\n  },\n  \"rules\": {\n    \"no-use-before-define\": [\"error\", { \"functions\": false, \"classes\": true }]\n  }\n}\n</code></pre>\n\n<p><strong>.prettierrc.js</strong></p>\n\n<pre><code>module.exports = {\n  semi:  true,\n  trailingComma:  'all',\n  singleQuote:  true,\n  printWidth:  120,\n  tabWidth:  2,\n  endOfLine: 'auto',\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "rxjs", "reactive-programming"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1573655077, "post_id": 58839082, "comment_id": 103952713, "body": "Nesting subscribes in rxjs is almost always an indication of poor API usage and sometimes actual mistakes."}, {"owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "edited": false, "score": 0, "creation_date": 1573656202, "post_id": 58839082, "comment_id": 103953326, "body": "Check the buffer operator <a href=\"https://www.learnrxjs.io/operators/transformation/buffer.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/transformation/buffer.html</a>"}, {"owner": {"reputation": 2421, "user_id": 11025582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a45b1fd0442131ea4522f1d291e21a4?s=128&d=identicon&r=PG&f=1", "display_name": "HTN", "link": "https://stackoverflow.com/users/11025582/htn"}, "edited": false, "score": 0, "creation_date": 1573660132, "post_id": 58839082, "comment_id": 103955652, "body": "If you don&#39;t want to loss any event, <code>merge</code> would work. But it seems that&#39;s not all you need."}], "answers": [{"comments": [{"owner": {"reputation": 2485, "user_id": 567897, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d34b85ecc91abd2910d4617e0f21daad?s=128&d=identicon&r=PG", "display_name": "sensor", "link": "https://stackoverflow.com/users/567897/sensor"}, "edited": false, "score": 0, "creation_date": 1573655744, "post_id": 58839251, "comment_id": 103953084, "body": "Thanks for the answer! I was looking into combineLatest, but If I start the initialState$ and updateEvent$ together and then receive 10 update events before the first initialState completes, I&#39;ll loose all but the last update Event."}, {"owner": {"reputation": 80, "user_id": 3932470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3cb3ec083de75008e425609cfa4e0b?s=128&d=identicon&r=PG&f=1", "display_name": "electrofly", "link": "https://stackoverflow.com/users/3932470/electrofly"}, "reply_to_user": {"reputation": 2485, "user_id": 567897, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d34b85ecc91abd2910d4617e0f21daad?s=128&d=identicon&r=PG", "display_name": "sensor", "link": "https://stackoverflow.com/users/567897/sensor"}, "edited": false, "score": 0, "creation_date": 1573655953, "post_id": 58839251, "comment_id": 103953200, "body": "How would you buffer your updateEvent? Would you combine the updates or you will need all the updates that has happened until the initialState has loaded? And also are initialState$ and updateEvent$ observables of the same type?"}], "tags": [], "owner": {"reputation": 80, "user_id": 3932470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3cb3ec083de75008e425609cfa4e0b?s=128&d=identicon&r=PG&f=1", "display_name": "electrofly", "link": "https://stackoverflow.com/users/3932470/electrofly"}, "is_accepted": false, "score": 0, "last_activity_date": 1573655433, "last_edit_date": 1573655433, "creation_date": 1573655045, "answer_id": 58839251, "question_id": 58839082, "link": "https://stackoverflow.com/questions/58839082/rxjs-initial-state-and-updates/58839251#58839251", "title": "RxJS - initial state and updates", "body": "<p>If I am understanding it correctly what you want is to trigger both of the requests simultaneously and subscribe to them only if both are already available. I think you are looking for the <code>combineLatest</code> operator.</p>\n\n<pre><code>combineLatest([initialState$, updateEvent$]).subscribe(([initialState, updateEvent] =&gt; {\n    console.log({initialState, updateEvent});\n}));\n</code></pre>\n\n<p>This way the combined observable will wait for both initialState$ and updateEvent$ to have emitted something and after that it will trigger emits if either of the combined observables emits something. See <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">https://www.learnrxjs.io/operators/combination/combinelatest.html</a> for more information.</p>\n\n<p>Note: You should prevent doing a subscribe in another subscribe. It is often a code smell for doing something wrong.</p>\n"}, {"comments": [{"owner": {"reputation": 2485, "user_id": 567897, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d34b85ecc91abd2910d4617e0f21daad?s=128&d=identicon&r=PG", "display_name": "sensor", "link": "https://stackoverflow.com/users/567897/sensor"}, "edited": false, "score": 0, "creation_date": 1573832511, "post_id": 58842915, "comment_id": 104027717, "body": "Thanks, that solution is awesome!"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 1, "last_activity_date": 1573667698, "creation_date": 1573667698, "answer_id": 58842915, "question_id": 58839082, "link": "https://stackoverflow.com/questions/58839082/rxjs-initial-state-and-updates/58842915#58842915", "title": "RxJS - initial state and updates", "body": "<p>It looks like you could achieve what you need by using <code>buffer</code> for the second websocket stream until the first one emits. Although, this chain gets a little more complicated because you want to start receiving values only after the first stream emits. </p>\n\n<pre><code>const initialStateShared = initialState.pipe(share());\nconst updateEventShared = updateEvent.pipe(share());\n\nmerge(\n  initialStateShared,\n  updateEventShared.pipe( // Buffer the second stream but only once\n    buffer(initialStateShared),\n    take(1),\n  ),\n  updateEventShared.pipe( // Updates from the second stream will be buffered first and then continue comming from here\n    skipUntil(initialStateShared),\n  )\n).subscribe(...);\n</code></pre>\n"}], "owner": {"reputation": 2485, "user_id": 567897, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d34b85ecc91abd2910d4617e0f21daad?s=128&d=identicon&r=PG", "display_name": "sensor", "link": "https://stackoverflow.com/users/567897/sensor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 58842915, "answer_count": 2, "score": 1, "last_activity_date": 1573667698, "creation_date": 1573654452, "last_edit_date": 1573654817, "question_id": 58839082, "link": "https://stackoverflow.com/questions/58839082/rxjs-initial-state-and-updates", "title": "RxJS - initial state and updates", "body": "<p>I need to obtain data from websocket and I want to use RxJS to do so. </p>\n\n<p>There is a <strong>websocket 1</strong> for the latest initial data (~1000 records) and <strong>websocket 2</strong> for the incremental updates.</p>\n\n<p>I have created two observables: </p>\n\n<ul>\n<li><code>initalState$</code> that goes to <strong>websocket 1</strong> and fetches the initial data and then completes.</li>\n<li><code>updateEvent$</code> that goes to <strong>websocket 2</strong> and continuously receives updates. </li>\n</ul>\n\n<p>My initial implementation was: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>initialState.subscribe(initialData=&gt; {\n    console.log(initialData);\n    updateEvent.subscribe(updateEvent =&gt; {\n        console.log(updateEvent);\n    });\n});\n\n</code></pre>\n\n<p>The issue that I'm facing is that there is a gap after fetching the <strong>initalState</strong> and receiving the first update (<strong>updateEvent</strong>).</p>\n\n<p>(I might lose update that happens after I fetch the initial data and before the subscribe).</p>\n\n<p>Is there some practical way that I can create a new Observer that subscribes to both of my observers at the same time and buffer the <strong>updateEvent</strong> observer until the <strong>initalState</strong> completes and then have them in the right order \"initial data first\" then \"updates\" ? </p>\n\n<p>Basically making the initialState just the \"first\" update, but making sure there aren't any missing updates after that. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 381, "user_id": 9597226, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ahmed Bajra", "link": "https://stackoverflow.com/users/9597226/ahmed-bajra"}, "edited": false, "score": 2, "creation_date": 1573656022, "post_id": 58839035, "comment_id": 103953236, "body": "the type <code>() =&gt; string | string</code> would mean <code>() =&gt; (string | string)</code> i.e. just the function <code>() =&gt; string</code> rather than <code>(() =&gt; string) | string</code>, however, if you put brackets around the function type it should work."}], "answers": [{"tags": [], "owner": {"reputation": 5733, "user_id": 963195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79a3e34a1b01290d16f57a61bdaa350?s=128&d=identicon&r=PG", "display_name": "Andrew E", "link": "https://stackoverflow.com/users/963195/andrew-e"}, "is_accepted": true, "score": 0, "last_activity_date": 1573659986, "creation_date": 1573659986, "answer_id": 58840739, "question_id": 58839035, "link": "https://stackoverflow.com/questions/58839035/typescript-how-to-declare-a-function-type-for-a-rest-function-param/58840739#58840739", "title": "Typescript: how to declare a function type for a rest function param?", "body": "<p>The issue is the order of precendence in how types are declared, as the comment from Ahmed suggests in his comment.</p>\n\n<p>One solution is this:</p>\n\n<pre><code>type FooFunc = () =&gt; string\ntype FooInput = string | FooFunc\n\nfunction foo (...args: FooInput[]) {\n</code></pre>\n\n<p>Another is:</p>\n\n<pre><code>type FooInput = string | (() =&gt; string)\n\nfunction foo (...args: FooInput[]) {\n</code></pre>\n\n<p>I'd have the function as:</p>\n\n<pre><code>function foo (a: FooInput, b: FooInput) {\n</code></pre>\n\n<p>but maybe you have a reason for expecting an unknown number of args.</p>\n"}], "owner": {"reputation": 9341, "user_id": 941570, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4b87e92f59be0085c0efc987d61c45c1?s=128&d=identicon&r=PG", "display_name": "darksoulsong", "link": "https://stackoverflow.com/users/941570/darksoulsong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58840739, "answer_count": 1, "score": 0, "last_activity_date": 1573659986, "creation_date": 1573654291, "question_id": 58839035, "link": "https://stackoverflow.com/questions/58839035/typescript-how-to-declare-a-function-type-for-a-rest-function-param", "title": "Typescript: how to declare a function type for a rest function param?", "body": "<p>This function accepts 2 parameters: param a is a string and b is a function that returns a string. I'm trying to call it with a rest parameter and type it accordingly.</p>\n\n<p>But at line 10 (last line) the TS compiler is throwing \"Argument of type '\"a\"' is not assignable to parameter of type 'TFoo'.ts(2345)\".</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type TFoo = () =&gt; string | string;\n\nfunction foo (...args: TFoo[]) {\n  let [a, b] = args;\n\n  if (typeof b === 'function') {\n    b  = b();\n  }  \n}\n\nfoo('a', () =&gt; 'baz');\n</code></pre>\n\n<p>I expect TS to allow string or functions to these function parameters.</p>\n\n<p>How can I sort this out?</p>\n"}, {"tags": ["angular", "typescript", "module"], "answers": [{"tags": [], "owner": {"reputation": 1927, "user_id": 3125339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJoVN.png?s=128&g=1", "display_name": "MEDZ", "link": "https://stackoverflow.com/users/3125339/medz"}, "is_accepted": true, "score": 1, "last_activity_date": 1573655906, "creation_date": 1573655906, "answer_id": 58839505, "question_id": 58838934, "link": "https://stackoverflow.com/questions/58838934/its-even-possible-to-decide-which-modules-should-be-loaded-into-app/58839505#58839505", "title": "It&#39;s even possible to decide which modules should be loaded into app?", "body": "<p>In your app routing module, you can create a guard that only shows depending on country:</p>\n\n<p><em>app-routing.module.ts</em></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule, PreloadAllModules, NoPreloading } from '@angular/router';\nimport { MainComponent } from './main/main.component';\nimport { AuthGuard } from './auth/services/auth.guard';\n\nconst gbRoutes: Routes = [{\n  path: 'gb',\n  loadChildren: () =&gt; import('./Sale_en_GB/Sale_en_GB.module').then(mod =&gt; mod.SalesGBModule),\n  canLoad: [CountryGuard],\n}];\nconst frRoutes: Routes = [{\n  path: 'fr',\n  loadChildren: () =&gt; import('./Sale_fr_FR/Sale_fr_FR.module').then(mod =&gt; mod.SalesFRModule),\n  canLoad: [CountryGuard],\n}];\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: 'gb', //default\n    pathMatch: 'full'\n  },\n  {\n    path: '',\n    component: MainComponent, //there will be a main component for both modules.\n    canActivate: [CountryGuard],\n    children: [\n      ...gbRoutes,\n      ...frRoutes,\n    ]\n  },\n]\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n</code></pre>\n\n<p><em>auth.guard.ts</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanActivate, CanActivateChild, CanLoad, Route, UrlSegment, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router, Resolve } from '@angular/router';\nimport { Observable, throwError, of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate, CanActivateChild, CanLoad, Resolve&lt;any&gt; {\n  token: any;\n  user: any;\n  constructor(private router: Router) {}\n\n  canActivate(){\n    if (checkCountry('GB')) { //find a way to check user country\n        this.router.navigate(['/gb']);\n    } else if(checkCountry('FR')) {\n        this.router.navigate(['/fr']);\n    }\n    return false;\n  }\n\n  canActivateChild(){\n    return true;\n  }\n\n  canLoad(){\n    if (checkCountry('GB')) { //find a way to check user country\n        this.router.navigate(['/gb']);\n    } else if(checkCountry('FR')) {\n        this.router.navigate(['/fr']);\n    }\n    return false;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12367226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ab0cea10bc825cf70ea9e190f6e14?s=128&d=identicon&r=PG&f=1", "display_name": "obain", "link": "https://stackoverflow.com/users/12367226/obain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 58839505, "answer_count": 1, "score": -1, "last_activity_date": 1573673244, "creation_date": 1573653974, "last_edit_date": 1573673244, "question_id": 58838934, "link": "https://stackoverflow.com/questions/58838934/its-even-possible-to-decide-which-modules-should-be-loaded-into-app", "title": "It&#39;s even possible to decide which modules should be loaded into app?", "body": "<p>I need to solve a question from my title.\nFor eg. i need to make two different version of app, one for france and one for UK. In few places they have totally different implementation. It's possible to swap components on build (for eg. Sale_en_GB.module for Sale_fr_FR.module)? If not, it's possible for components (with same naming pattern)?</p>\n"}, {"tags": ["typescript", "class", "interface", "abstract", "typeof"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8688225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6ov8.jpg?s=128&g=1", "display_name": "jboxberger", "link": "https://stackoverflow.com/users/8688225/jboxberger"}, "is_accepted": false, "score": 0, "last_activity_date": 1573656662, "creation_date": 1573656662, "answer_id": 58839708, "question_id": 58838928, "link": "https://stackoverflow.com/questions/58838928/type-not-allowing-me-to-create-instances/58839708#58839708", "title": "type not allowing me to create instances", "body": "<p>So far i can unserstand you want to instanciate your clases dynmically.\nSo here i can referr to: <a href=\"https://stackoverflow.com/questions/5029329/dynamic-instantiation-in-javascript\">Dynamic instantiation in JavaScript</a></p>\n\n<p>For Autocompletion you can cast later to the desired object.</p>\n\n<p>Iam not shure if this finally helps you but maybe this bings you a little bit closer to the solution:</p>\n\n<pre><code>interface simpleInter {\n  el: string;\n}\n\nconst cls: simpleInter[] = [];\ncls.push({\n  el: 'c1'\n},{\n  el: 'c2'\n});\n\nfunction instantiate(className: string, args: any) {\n  var o, f, c;\n  c = window[className]; // get reference to class constructor function\n  f = function(){}; // dummy function\n  f.prototype = c.prototype; // reference same prototype\n  o = new f(); // instantiate dummy function to copy prototype properties\n  c.apply(o, args); // call class constructor, supplying new object as context\n  o.constructor = c; // assign correct constructor (not f)\n  return o;\n}\n\nfor (const classObj of cls) {\n  const c = instantiate(classObj.el, []); // error: Cannot create an instance of an abstract class. ts(2511)\n  console.log(c.thing());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1573729911, "last_edit_date": 1573729911, "creation_date": 1573658233, "answer_id": 58840183, "question_id": 58838928, "link": "https://stackoverflow.com/questions/58838928/type-not-allowing-me-to-create-instances/58840183#58840183", "title": "type not allowing me to create instances", "body": "<p>Define a constructor function interface <code>CConstructor</code>, use it as base type for your concrete classes instead of <code>typeof abstractClass</code> and you should be good to go.</p>\n\n<pre><code>export interface CConstructor {\n    new(): abstractClass\n}\n\nexport abstract class abstractClass {\n    abstract thing(): string\n}\n\nexport class c1 extends abstractClass {\n    thing(): string {\n        return \"hello\"\n    }\n}\n\nexport class c2 extends abstractClass {\n    thing(): string {\n        return \"world\"\n    }\n}\n\nconst cls: CConstructor[] = [c1, c2];\n\nfor (const classObj of cls) {\n    const c = new (classObj)()\n    console.log(c.thing())\n}\n</code></pre>\n\n<p>Update: </p>\n\n<p><code>new(): abstractClass</code> in <code>CConstructor</code> is called a \"Construct Signature\", which can be created by adding the <code>new</code> keyword in front of a call signature. For more infos, have a look at the <a href=\"https://microsoft.github.io/TypeScript-New-Handbook/chapters/more-on-functions/#construct-signatures\" rel=\"nofollow noreferrer\">new TS handbook page</a>.</p>\n"}], "owner": {"reputation": 310, "user_id": 7335674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Evo2w.png?s=128&g=1", "display_name": "Avior", "link": "https://stackoverflow.com/users/7335674/avior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 58840183, "answer_count": 2, "score": 0, "last_activity_date": 1573729911, "creation_date": 1573653952, "question_id": 58838928, "link": "https://stackoverflow.com/questions/58838928/type-not-allowing-me-to-create-instances", "title": "type not allowing me to create instances", "body": "<p>I've got a problem for some time</p>\n\n<p>let's have this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export abstract class abstractClass {\n    abstract thing(): string\n}\n\nexport class c1 extends abstractClass {\n    thing(): string {\n        return \"hello\"\n    }\n}\n\nexport class c2 extends abstractClass {\n    thing(): string {\n        return \"world\"\n    }\n}\n\nexport interface simpleInter {\n    el: typeof abstractClass\n}\n\nconst cls: simpleInter[] = [];\ncls.push({\n    el: c1\n},{\n    el: c2\n})\n\nfor (const classObj of cls) {\n    const c = new (classObj.el)() // error: Cannot create an instance of an abstract class. ts(2511)\n    console.log(c.thing())\n}\n</code></pre>\n\n<p>What I can't seems to answer is how can I make understand the compiler understand that I want as a type classes that extends my <code>abstractClass</code></p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 1, "creation_date": 1573653868, "post_id": 58838827, "comment_id": 103951947, "body": "Usually is not a good idea to directly manipulate the <code>DOM</code>. But you can use <code>getElementsByTagName</code> or similar to select the <code>body</code> and apply  <code>class</code> and <code>style</code> to it"}], "answers": [{"comments": [{"owner": {"reputation": 654, "user_id": 9535703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1lur.jpg?s=128&g=1", "display_name": "Antoni", "link": "https://stackoverflow.com/users/9535703/antoni"}, "edited": false, "score": 1, "creation_date": 1573654327, "post_id": 58839011, "comment_id": 103952205, "body": "Personally I prefer <code>styles-components</code> because you can set instant the value and do not need to work with classes etc."}], "tags": [], "owner": {"reputation": 654, "user_id": 9535703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1lur.jpg?s=128&g=1", "display_name": "Antoni", "link": "https://stackoverflow.com/users/9535703/antoni"}, "is_accepted": false, "score": 0, "last_activity_date": 1573654622, "last_edit_date": 1573654622, "creation_date": 1573654234, "answer_id": 58839011, "question_id": 58838827, "link": "https://stackoverflow.com/questions/58838827/how-to-toggle-a-class-on-the-body-with-react-onclick/58839011#58839011", "title": "How to toggle a class on the body with React onClick", "body": "<p>You could use <code>this.setState</code> like this in Components</p>\n\n<pre><code>....\nhandleClick = () =&gt; {\n  this.setState((state) =&gt; { \n    addClass: !state.addClass\n  })\n}\n\nrender () {\n  const { addClass } = this.state\n\n  return (\n    &lt;&gt;\n      &lt;button onClick={this.handleClick}&gt;Button&lt;/button&gt;\n      &lt;div className={addClass ? 'yourClassName'}&gt;hello&lt;/div&gt;\n    &lt;&gt;\n  )\n}\n\n</code></pre>\n\n<p>And in function like this </p>\n\n<pre><code>function Example() {\n  const [addClassValue, addClass] = useState(0);\n\n  return (\n    &lt;div&gt;\n      &lt;button onClick={() =&gt; addClass(!addClassValue)}&gt;\n        Click me\n      &lt;/button&gt;\n      &lt;div className={addClass ? 'yourClassName'}&gt;hello&lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n\n<p>But you do not need classes because React works with components and you can show your modal like</p>\n\n<pre><code>function Example() {\n  const [addClassValue, addClass] = useState(false);\n\n  return (\n    &lt;div&gt;\n      &lt;button onClick={() =&gt; addClass(!addClassValue)}&gt;\n        Click me\n      &lt;/button&gt;\n      // this Component will be only rendered if addClassValue is true\n      {addClassValue &amp;&amp; &lt;ModalComponent /&gt;}\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n"}], "owner": {"reputation": 1737, "user_id": 1785576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a82c3ee61373af0c314869e3c186b92?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1785576/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1573656429, "creation_date": 1573653688, "last_edit_date": 1573656429, "question_id": 58838827, "link": "https://stackoverflow.com/questions/58838827/how-to-toggle-a-class-on-the-body-with-react-onclick", "title": "How to toggle a class on the body with React onClick", "body": "<p>I have a button that opens a div that looks like a modal. </p>\n\n<p>On click of this button, I want to add a class on to the body, then on click of a close button, I want to remove this class.</p>\n\n<p>How would you do this in React functional component with <code>useEffect</code> / <code>useState</code>?</p>\n"}, {"tags": ["arrays", "typescript", "recursion", "nested"], "comments": [{"owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "edited": false, "score": 0, "creation_date": 1573653767, "post_id": 58838567, "comment_id": 103951888, "body": "Which type of conditions will you be using to filter the new userMenu?"}, {"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "reply_to_user": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "edited": false, "score": 0, "creation_date": 1573656921, "post_id": 58838567, "comment_id": 103953735, "body": "Hello, i should check if the current user have a certain role that match with the id property of IMenuNode. If so, then the menu or the submenu should be added to the userMenu."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1573674428, "post_id": 58841944, "comment_id": 103962711, "body": "Thank you. The code works, but i&#39;m not able give submenu access (or not) to users. If i put an if statement at (if (newNode.haveChildren)... as example, the program get stuck.      if (newNode.haveChildren) {         newNode.node = newUserMenu(menu.node);     }  I would like to check if the currentUser have the permission to access the current menu.id or to the submenu.id menu..."}, {"owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "reply_to_user": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1573675411, "post_id": 58841944, "comment_id": 103963183, "body": "@AmiStack If the program stuck it&#39;s probably because of a infinite recursive call. You should validate the permission only of the current level of the menu, and let the recursive call <code>newNode.node = newUserMenu(menu.node);</code> validate the next level... If in some way, you have to validate children first, to decide if the current menu should be added, than the code would be a little different. But to help I need to understand better what exactly you are trying to accomplish."}, {"owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "reply_to_user": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1573675679, "post_id": 58841944, "comment_id": 103963292, "body": "What could be resulting in a infinite recursive call, it&#39;s a circular reference between menus... eg: <code>menu1 -&gt; submenu1 -&gt; subsubmenu1 -&gt; menu1</code>. That will make it run indefinetly. Or even a mistake of calling <code>newUserMenu()</code> again to the current level, instead of the children."}, {"owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "reply_to_user": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1573677641, "post_id": 58841944, "comment_id": 103964128, "body": "@AmiStack I&#39;ve added a new example where the children is validated before the current level."}, {"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1573758468, "post_id": 58841944, "comment_id": 103998823, "body": "Thank you again. The first example works fine. I haven&#39;t tried the second example, yet."}, {"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1573932979, "post_id": 58841944, "comment_id": 104053796, "body": "What if i want to pass to the function another parameter such as &quot;MenuTitle&quot; and search through all MenuData and it&#39;s submenu. Then if the menu is found is pushed to the newMenu array. It is possible a function like this?"}, {"owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "reply_to_user": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1574099447, "post_id": 58841944, "comment_id": 104101840, "body": "@AmiStack For sure it is... Just make sure you pass the paranter to all the subsequent calls. And i suggest to use the second example as base, as it verify children before the current level. Any help needed just let me now."}, {"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1574100114, "post_id": 58841944, "comment_id": 104102156, "body": "Thank you JDuwe. It&#39;s possible to write an e-mail or it is possible to chat?"}, {"owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "reply_to_user": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1574162336, "post_id": 58841944, "comment_id": 104124760, "body": "@AmiStack Hi, sorry for the delay, i&#39;m a little off these days, but surely we can chat, you mean stackoverflow chat? Or something else? If there a way to send you my email address, not being here, that would be an option too."}, {"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1575987463, "post_id": 58841944, "comment_id": 104745666, "body": "Hello, sorry for my delay too. Don&#39;t know if there&#39;s a way to realtime chat on stackoverflow."}, {"owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "edited": false, "score": 0, "creation_date": 1575987741, "post_id": 58841944, "comment_id": 104745840, "body": "Hello, sorry for my delay too. Don&#39;t know if there&#39;s a way to realtime chat on stackoverflow - my e-mail is amiblit at gmail dot com"}], "tags": [], "owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "is_accepted": true, "score": 0, "last_activity_date": 1574163843, "last_edit_date": 1574163843, "creation_date": 1573664088, "answer_id": 58841944, "question_id": 58838567, "link": "https://stackoverflow.com/questions/58838567/typescript-recursive-check-nestest-arrays/58841944#58841944", "title": "Typescript: recursive check nestest arrays", "body": "<p>The function below apparently do what you expect, hope it helps.</p>\n\n<pre><code>userMenu = newUserMenu(MenuData);\n\nfunction newUserMenu(original: Array&lt;IMenuNode&gt;): Array&lt;IMenuNode&gt; {\n    const newMenu: Array&lt;IMenuNode&gt; = []\n    for (let menu of original) {\n        if (User.hasAccess(menu)) { // Or other conditions\n\n            // To ensure new reference\n            // Note not passing the children, it must pass through recursive method below\n            const newNode = new DataNode(menu.title, menu.haveChildren, menu.id, null, menu.link, menu.img, menu.value);\n            newMenu.push(newNode);\n            if (newNode.haveChildren) {\n                newNode.node = newUserMenu(menu.node);\n            }\n        }\n    }\n    return newMenu;\n} \n</code></pre>\n\n<p>I've edited your class and interface too, to ensure that the construction works like the example.</p>\n\n<pre><code>interface IMenuNode {\n    title: string;\n    haveChildren: boolean;\n    id: string;\n    node?: Array&lt;IMenuNode&gt;;\n    link?: string;\n    img?: string;\n    value?: string;\n}\n\nclass DataNode implements IMenuNode {\n\n    constructor(\n        public title: string,\n        public haveChildren: boolean,\n        public id: string,\n        public node?: Array&lt;IMenuNode&gt;,\n        public link?: string,\n        public img?: string,\n        public value?: string,\n    ) { }\n}\n</code></pre>\n\n<p>Edit: new example validating the children before adding current level on new menu.</p>\n\n<pre><code>// The new function only add the \"dir\" menus if they have children where the user have access\nfunction newUserMenu2(original: Array&lt;IMenuNode&gt;): Array&lt;IMenuNode&gt; {\n    const newMenu: Array&lt;IMenuNode&gt; = [];\n    for (let menu of original) {\n        if (User.hasAccess(menu)) {// Or other conditions\n            // To ensure new reference\n            // Note not passing the children, it must pass through recursive method below\n            const newNode = new DataNode(menu.title, menu.haveChildren, menu.id, null, menu.link, menu.img, menu.value);\n            if (newNode.haveChildren) {\n                newNode.node = newUserMenu2(menu.node);\n            }\n            // Note, only add the menu if it has a link or if it \"stores\" a menu that the user has access and that has a link\n            if (Array.isArray(newNode.node) &amp;&amp; newNode.node.length &gt; 0 || newNode.link) {\n                newMenu.push(newNode);\n            }\n        }\n    }\n    return newMenu;\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9364459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5380e8fbc28014c1949346e08a5b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AmiStack", "link": "https://stackoverflow.com/users/9364459/amistack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 58841944, "answer_count": 1, "score": 0, "last_activity_date": 1574163843, "creation_date": 1573652866, "question_id": 58838567, "link": "https://stackoverflow.com/questions/58838567/typescript-recursive-check-nestest-arrays", "title": "Typescript: recursive check nestest arrays", "body": "<p>i have problem looping through a nested array that can contains arrays of itself... that should represent a dynamic menu as follow:</p>\n\n<p>this is how the objects are made:</p>\n\n<pre><code>Interface IMenuNode:\n\nexport interface IMenuNode {\n    title: string;\n    haveChildren: boolean;\n    id: string;\n    node: Array&lt;IMenuNode&gt;;\n    link: string;\n    img: string;\n    value: string;\n}\n\nClass DataNode that implements IMenuNode\n\nexport class DataNode implements IMenuNode {\n    title: string;\n    haveChildren: boolean;\n    id: string;\n    node: Array&lt;IMenuNode&gt;;\n    link: string;\n    img: string;\n    value: string;\n\n\nuserMenu: Array&lt;IMenuNode&gt;;\n</code></pre>\n\n<p>Now i have some informations in the MenuData as follow:</p>\n\n<pre><code>const MenuData: Array&lt;IMenuNode&gt; =\n    [\n        new DataNode('Menu 1', true, 'menu1', [\n            new DataNode('SubMenu 1', true, 'submenu1',[\n                new DataNode('SubSubMenu1', false ,'subsubmenu1', null, \"/\", \"pathSelectorIcon.png\"),\n                new DataNode('SubSubmenu2', false, 'subsubmenu2', null ,\"/\", \"pathSelectorIcon.png\"),\n            ]),\n            new DataNode('Menu 2', true, 'menu2', [\n            new DataNode('SubMenu 1', true, 'submenu1',[\n                new DataNode('SubSubMenu1', false ,'subsubmenu1', null, \"/\", \"pathSelectorIcon.png\"),\n                new DataNode('SubSubmenu2', false, 'subsubmenu2', null ,\"/\", \"pathSelectorIcon.png\"),\n            ]),\n</code></pre>\n\n<p>How can i loop the entire MenuData (even recursively) and dynamically build a new menu (userMenu) based on some conditions\nto choose which items (menu and submenu) the new menu should have of?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573652975, "post_id": 58838461, "comment_id": 103951430, "body": "Someone might come here and give you a way to circumvent the circular conditional type restriction, but as far as I know <a href=\"https://github.com/microsoft/TypeScript/issues/26980\" rel=\"nofollow noreferrer\">that is not supported</a>.  Generally in situations like this I pick some reasonable max depth and implement for that.  You basically need to do that anyway; what&#39;s the final return type of <code>interface Add { (val: number): Add, val: number }</code> ?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573654945, "post_id": 58838461, "comment_id": 103952635, "body": "For <a href=\"http://www.typescriptlang.org/play/#code/PTS8G4UvdQKvdQ7HcWAJACZIeD+AEALALpgDgZwC4QBzAS03QFcAjAOgGMB7AW2GdPoCdG9GAzTMAAqATxwBTAMpdSOQaTx5K4vMABMANjVqAzAGIFS8U2bNxAO0wBaAKwBGHXYAcAdh1vUceICEyZNAgAUJhi4qgAYqTmAIYANgBK4piUnOaiEgA8QgB8qAC8AaioAN6oAAwEqEIANKh2FRHR8YnJqSHpCUkpaeLpAKIAHpicUfSYmTUAFLTTURVR5iIAlHk58yJZG6gAvgDaBZWo4oMWACZ4qFMzcwvLuasLqAD8tagVpfsAugFBIaiSQ3lwpFYh0Wt10hNbjlISsLlC4bCYXdUHghpFiDkQCi0eZiN9IphxJw+CNQgBBE4nYoXABusQq5kozGoRMWFQpJxqdJiDKZLM42wA3AFgAAqVCUcwmMyWVAsmKMADuqD4jAFfElPwkqAA6uhGIx8KRQrkgY1QV02hysoLUFj6FFKHgVIdONwBVFqIwaeIAIQi8Wi4ABIA\" rel=\"nofollow noreferrer\">example</a>..."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573655018, "post_id": 58838461, "comment_id": 103952676, "body": "Do you have an actual need for greater than 4 layers?  I&#39;m trying to figure out how best to formulate an answer"}, {"owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573656306, "post_id": 58838461, "comment_id": 103953387, "body": "No - not really. You&#39;ve got a good point. It&#39;s interesting to see why it&#39;s a bad idea, thanks!"}, {"owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573656489, "post_id": 58838461, "comment_id": 103953484, "body": "But feel free to post it with the caveats and I&#39;ll accept it!"}], "answers": [{"comments": [{"owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "edited": false, "score": 0, "creation_date": 1573668368, "post_id": 58841651, "comment_id": 103960049, "body": "Amazing answer. I&#39;ll mount that on my wall."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1573663126, "creation_date": 1573663126, "answer_id": 58841651, "question_id": 58838461, "link": "https://stackoverflow.com/questions/58838461/how-to-extract-the-final-return-type-of-a-higher-order-function-in-typescript/58841651#58841651", "title": "How to extract the final return type of a higher order function in typescript?", "body": "<p>Okay, expanding comments into answer:</p>\n\n<p>Recursive conditional types like the one you want to make with <code>FinalReturnType</code> are not officially supported.  See <a href=\"https://github.com/microsoft/TypeScript/issues/26980\" rel=\"nofollow noreferrer\">microsoft/TypeScript#26980</a> for a suggestion to lift this constraint and allow such circular type definitions.  The problem with supporting them, at least right now, is that the compiler generally evaluates types eagerly instead of deferring them (with a few exceptions); when the definition of the type is dependent on itself, the compiler would get stuck in a loop if it allowed such types.  In practice what happens is that it either notices that there will be a loop and immediately warns you with a \"type alias circularly references itself\" error, or some other such error like \"X is referenced directly or indirectly in its own type annotation\", <em>or</em> it actually gets into the loop and gives you an error of the form \"type instantiation is excessively deep and possibly infinite\" after it reaches some internal recursion limit.  </p>\n\n<p>There are, for better or worse, ways to fool the compiler.  They generally use features intended to allow some limited deferring of type evaluation.  One such feature is that you can build recursively nested object types, like <code>type LinkedList = {value: any, next?: LinkedList}</code>.  The compiler defers the type evaluation when you push things down into object properties.  This is explicitly intended to allow recursion, which is one piece of shoving your foot in the door.  Combined with the ability to <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">look up</a> object property types by key, you have a dangerous tool.</p>\n\n<p>Another such feature is when a conditional type depends on an unspecified generic type parameter, like <code>type Foo&lt;T&gt; = T extends any ? true : false</code>.  That type <code>Foo&lt;T&gt;</code> will not evaluate to <code>true</code> until you specify <code>T</code>.  Now if you could make such conditional types directly self-referential you'd be done, but the compiler tries to notice this and warns about it.  But if you combine the this with the object nesting-and-lookup trick above, you get this:</p>\n\n<pre><code>type FinalReturnType&lt;T&gt; = {\n  0: T,\n  1: FinalReturnType&lt;ReturnType&lt;Extract&lt;T, (...a: any) =&gt; any&gt;&gt;&gt;\n}[T extends (...a: any) =&gt; any ? 1 : 0]\n</code></pre>\n\n<p>Push the recursive bit into the <code>1</code> property, pull it out with a lookup, and make that lookup deferred by having it be dependent on an unresolved conditional type with no direct recursion in it.  It works, too:</p>\n\n<pre><code>type Str = FinalReturnType&lt;() =&gt; () =&gt; () =&gt; () =&gt; () =&gt; string&gt; // string\n</code></pre>\n\n<h1>BUT DON'T DO THIS!!</h1>\n\n<p>It is <a href=\"https://github.com/microsoft/TypeScript/issues/26980#issuecomment-421354117\" rel=\"nofollow noreferrer\">not supported</a>.  It is <a href=\"https://github.com/microsoft/TypeScript/issues/26223#issuecomment-513187373\" rel=\"nofollow noreferrer\">against the rules</a>.  It is not guaranteed to work in all cases.</p>\n\n<p>For example, consider this:</p>\n\n<pre><code>interface Add { (val: number): Add, val: number };\nfunction a(this: { val: number }, x: number): Add {\n  return Object.assign(a.bind({ val: x + this.val }), { val: x + this.val });\n}\nconst add: Add = a.bind({ val: 0 })(0);\nconsole.log(add(1)(2)(3).val); // 6\nconsole.log(add(4)(5)(6).val); // 15\n</code></pre>\n\n<p>What's the final return type of <code>Add</code>?  Let's see:</p>\n\n<pre><code>type Whoopsie = FinalReturnType&lt;Add&gt;; // any\n</code></pre>\n\n<p>Well, okay, maybe that's fine... uh oh, look back up at <code>FinalReturnType</code>'s definition:</p>\n\n<pre><code>type FinalReturnType&lt;T&gt; = {\n  0: T,\n  1: FinalReturnType&lt;ReturnType&lt;Extract&lt;T, (...a: any) =&gt; any&gt;&gt;&gt; // error!\n//~ &lt;--- '1' is referenced directly or indirectly in its own type annotation\n}[T extends (...a: any) =&gt; any ? 1 : 0]; \n</code></pre>\n\n<p>There's an error now.  </p>\n\n<hr>\n\n<p>This issue is certainly <em>patchable</em>.  One thing I've done before is write my own recursion limiter, like this:</p>\n\n<pre><code>type Prev = [never, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\ntype FinalReturnType&lt;T, N extends number = 15&gt; =\n  0 extends N ? T : {\n    0: T, 1: FinalReturnType&lt;ReturnType&lt;Extract&lt;T, (...a: any) =&gt; any&gt;&gt;, Prev[N]&gt;\n  }[T extends (...a: any) =&gt; any ? 1 : 0]\n\ntype Str = FinalReturnType&lt;() =&gt; () =&gt; () =&gt; () =&gt; () =&gt; string&gt; // string\ntype OkayNow = FinalReturnType&lt;Add&gt;; // Add\n</code></pre>\n\n<p>Where <code>FinalReturnType&lt;T, N&gt;</code> takes a type <code>T</code> and a recursion limit <code>N</code> and bails out by returning just <code>T</code> if you recurse too far.  As long as <code>N</code> is kept smaller than the nebulous internal compiler recursion limit, it should work, maybe, possibly. It's still not officially supported.</p>\n\n<hr>\n\n<p>Other people have other ways of convincing the compiler into supporting arbitrary-depth recursive type analysis.  There's a <a href=\"https://pirix-gh.github.io/ts-toolbelt/\" rel=\"nofollow noreferrer\">ts-toolbelt</a> library that may soon <a href=\"https://github.com/microsoft/TypeScript/pull/33810\" rel=\"nofollow noreferrer\">make it into TypeScript's test cases</a>; once that happens, you might be able to use something from that library, since we'll at least expect it not to break when the language is updated.  But for now it's not in there, so I can't advise you to do that.</p>\n\n<hr>\n\n<p>Normally what I do in these cases is build something that works up to some reasonable max depth, sort of like what you've already done up to depth 4.  That type might be ugly, but it's straightforward, and it does what you've asked it to do.  You might be able to rewrite it in some less ugly-looking way, but the basic issue is still there: circular conditional types are not currently directly supported.</p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBACgThAblAvFA2gOyROAaKABgIEYCAmAgZgIBYCBWAgNgIHYCAOAgTlOKgkygyoJqD6gpoOYBdAFAB6RVAAWwYGADOALmUBzAJbBVAVwBGAOgDGAewC2i+4etxbW2wDNgigCrgIAGVXQzAfQy0tUwgtRXJmcnIqAGIIqIg7e3sITGAAWgYSKhJONioypRVAXg3AFL2qwAq9qsA7HcBYAkABMkB4P6gAYQBJACVugFUAGQBBfp6AeQA5ABFe317ZsZGoXwBNGABRWCmR3u7tgEJjqGaWwCEyDoba+VBIKAAxQ0wAQwAbfohgUzhMfyQAA8vgIMygEAAHsAcgATLRQTCmezmXCoKQAPlQ8igRAh0LhCPBAH51lAdFAAN443FECmgwQUl7vL4-P4AgJA76-f6AiBA7bQuBvazAEEEAAUlmlbwpb0wIAAlKgsfKQBiMQR4Eh0DNZBiaQBfdC+fEwzDwqBSmVyhXKlCqhVQUkkclEBT3AJQQLAODo5mfbnsvlAiX2rFhlVW8PRqORh1QLS+176LHKRPJzD6eTyV4wuCeEXQMaw2FUq2IT4UpEo3CKikl2EESsfavI1F+w0AbnknlMmFFhlsmCgbwlJgiFMpUBbbdrnYIkLnHfrUEbVJpCB5I6m5gAVhlgJY3pFDPpMBK3pZzK9YRLp7OoJCoABqKATrSWFtQQ2KggPqsn1fd9VAiL9Ph-RUe0NeQ7EwJNR1LBtS3RK8bwte8Z0AwhIIlQgoNg4cPA+CBLA+Wx9EvUsJRIRUJXIOiqEVcCPigqB02YQj4NsEiyIoqi71oOiGDo5hmJbNj0xIBgcweaApgAazeEAZlsAB3f1XkDNleU5RsMS7diVEbeQgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 58841651, "answer_count": 1, "score": 0, "last_activity_date": 1573663126, "creation_date": 1573652510, "question_id": 58838461, "link": "https://stackoverflow.com/questions/58838461/how-to-extract-the-final-return-type-of-a-higher-order-function-in-typescript", "title": "How to extract the final return type of a higher order function in typescript?", "body": "<p>I'm trying to create a FinalReturnType which extracts the final return type of a higher order function in Typescript:</p>\n\n<pre><code>type FinalReturnType = FinalReturnType&lt;(a: string) =&gt; (b: string) =&gt; (c: string) =&gt; (d: string) =&gt; number&gt;;\n// expect FinalReturnType = number\n</code></pre>\n\n<p>I'm having issues because it circularly references itself.</p>\n\n<p>I want to write this:</p>\n\n<pre><code>type FinalReturnType&lt;F&gt; =\n  F extends (...args: any[]) =&gt; infer R\n    ? FinalReturnType&lt;R&gt;\n    : R;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Type alias 'FinalReturnType' circularly references itself.\n</code></pre>\n\n<p>And this is what I'm using at the moment - it's just a bit ugly and limited to four layers deep:</p>\n\n<pre><code>type FinalReturnType&lt;A&gt; = A extends (...args: any[]) =&gt; infer R1\n  ? R1 extends (...args: any[]) =&gt; infer R2\n    ? R2 extends (...args: any[]) =&gt; infer R3\n      ? R3 extends (...args: any[]) =&gt; infer R4\n        ? R4\n        : R3\n      : R2\n    : R1\n  : never;\n</code></pre>\n\n<p>I feel like this should be possible, but maybe it isn't?</p>\n"}, {"tags": ["typescript", "jestjs", "ramda.js", "clasp"], "answers": [{"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1573654697, "creation_date": 1573654697, "answer_id": 58839158, "question_id": 58838404, "link": "https://stackoverflow.com/questions/58838404/can-i-add-a-run-time-dependency-to-a-clasp-project/58839158#58839158", "title": "Can I add a run-time dependency to a Clasp project?", "body": "<p>While I know nothing about Clasp, Ramda is usually supplied as a single-file, dependency-free script.  I would imagine any system that allows multiple files would let you upload -- or at worst paste the contents of -- <code>ramda.js</code>.</p>\n\n<p>Have you tried this and run into issues?</p>\n"}], "owner": {"reputation": 4457, "user_id": 1179137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/561be56442fcc03169b0c9cafb6b1626?s=128&d=identicon&r=PG", "display_name": "Salim Fadhley", "link": "https://stackoverflow.com/users/1179137/salim-fadhley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573654697, "creation_date": 1573652276, "last_edit_date": 1573652574, "question_id": 58838404, "link": "https://stackoverflow.com/questions/58838404/can-i-add-a-run-time-dependency-to-a-clasp-project", "title": "Can I add a run-time dependency to a Clasp project?", "body": "<p>I want to develop some small scripts to enhance a Google Sheet. Clasp allows me to easily develop scripts locally, compile TypeScript and then push them into the Google Script environment. So far, excellent.</p>\n\n<p>I want to use Ramda so that I can do some functional-style programming in my project. Is there a way I can add this and some other dependencies to my project?</p>\n\n<p>What if I wanted to use Jest or some kind of testing library? Can this be done?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms", "reactive-forms"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1573652121, "post_id": 58838323, "comment_id": 103950924, "body": "<code>i</code> is the index into <code>personal.radioButtons.radiot</code> that would give you the current <code>item</code>, so it&#39;s unclear what you expect from <code>item[i]</code>. That would be e.g. <code>{ section: &quot;yes&quot;, sectionCode: &quot;1&quot; }[0]</code>, hence <code>undefined</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3003, "user_id": 2402389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0b2a1fd61370728bf43101452a158888?s=128&d=identicon&r=PG", "display_name": "Tom Rudge", "link": "https://stackoverflow.com/users/2402389/tom-rudge"}, "edited": false, "score": 0, "creation_date": 1573652952, "post_id": 58838496, "comment_id": 103951416, "body": "Hi. Thanks, yes I changed this but values only appear when selected and remain checked."}], "tags": [], "owner": {"reputation": 1113, "user_id": 9295177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a9b82448f5df71eb3a5f56b46723fe?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9295177/sam"}, "is_accepted": false, "score": 2, "last_activity_date": 1573652613, "creation_date": 1573652613, "answer_id": 58838496, "question_id": 58838323, "link": "https://stackoverflow.com/questions/58838323/angular-reactive-form-ngfor-loop-cannot-read-property-of-undefined/58838496#58838496", "title": "Angular reactive form *ngFor loop, cannot read &#39;property&#39; of undefined", "body": "<p>You don't need to use <code>i</code> in *ngFor you already have reference to the object at that position.</p>\n\n<p>So for the first iteration your <code>item</code> would be </p>\n\n<pre><code>{\n          section: \"yes\",\n          sectionCode: \"1\"\n}\n</code></pre>\n\n<p>So you can just do <code>item.section</code> - no need for the index position.</p>\n\n<pre><code>&lt;span&gt;{{item.section}}&lt;/span&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 310, "user_id": 11549319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6070fedbd113868635c6942975db7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eudz", "link": "https://stackoverflow.com/users/11549319/eudz"}, "is_accepted": false, "score": 0, "last_activity_date": 1573653610, "creation_date": 1573653610, "answer_id": 58838798, "question_id": 58838323, "link": "https://stackoverflow.com/questions/58838323/angular-reactive-form-ngfor-loop-cannot-read-property-of-undefined/58838798#58838798", "title": "Angular reactive form *ngFor loop, cannot read &#39;property&#39; of undefined", "body": "<p>You should put <code>=</code> instead of <code>:</code></p>\n\n<pre><code>radiot = [\n  {\n    section: \"yes\",\n    sectionCode: \"1\"\n  },\n  {\n    section: \"no\",\n    sectionCode: \"2\"\n  },\n  {\n    section: \"maybe\",\n    sectionCode: \"3\"\n  }\n];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1573671272, "creation_date": 1573671272, "answer_id": 58843780, "question_id": 58838323, "link": "https://stackoverflow.com/questions/58838323/angular-reactive-form-ngfor-loop-cannot-read-property-of-undefined/58843780#58843780", "title": "Angular reactive form *ngFor loop, cannot read &#39;property&#39; of undefined", "body": "<p>Change your template from <strong>[formControlName]</strong> to <strong>formControlName</strong></p>\n\n<pre><code>        &lt;label for=\"{{item.section}}\" class=\"col-12 customradio\"\n            &gt;&lt;span&gt;{{item.section}}&lt;/span&gt;\n            &lt;input value=\"{{item.section}}\" name=\"formGroupName\" id=\"{{item.section}}\" type=\"radio\" formControlName=\"radiot\"/&gt;\n            &lt;span class=\"checkmark\"&gt;&lt;/span&gt;\n        &lt;/label&gt;\n</code></pre>\n\n<p>As it is currently written you were telling angular to look for a <strong>variable</strong> named radiot which is undefined, but what it needs is a <strong>string</strong> so it can look for it as a property on the current form object</p>\n"}], "owner": {"reputation": 3003, "user_id": 2402389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0b2a1fd61370728bf43101452a158888?s=128&d=identicon&r=PG", "display_name": "Tom Rudge", "link": "https://stackoverflow.com/users/2402389/tom-rudge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58843780, "answer_count": 3, "score": 0, "last_activity_date": 1573671272, "creation_date": 1573652026, "question_id": 58838323, "link": "https://stackoverflow.com/questions/58838323/angular-reactive-form-ngfor-loop-cannot-read-property-of-undefined", "title": "Angular reactive form *ngFor loop, cannot read &#39;property&#39; of undefined", "body": "<p><a href=\"https://stackblitz.com/edit/angular-r4g6uv?file=src/app/personal/personal.component.html\" rel=\"nofollow noreferrer\">StackBlitz</a> example</p>\n\n<p>I'm trying to loop dynamic values to create radio button items on my form. I have managed to display the three radio buttons coming from my data:</p>\n\n<pre><code>radiot: [\n        {\n          section: \"yes\",\n          sectionCode: \"1\"\n        },\n        {\n          section: \"no\",\n          sectionCode: \"2\"\n        },\n        {\n          section: \"maybe\",\n          sectionCode: \"3\"\n        }\n      ]\n</code></pre>\n\n<p>The problem is I cant display the option of \"section\".</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;div class=\"form-check-inline\" *ngFor=\"let item of personal.radioButtons.radiot; let i = index\"&gt;\n\n    &lt;label for=\"yes\" class=\"col-12 customradio\"\n        &gt;&lt;span&gt;{{item[i].section}}&lt;/span&gt;\n        &lt;input value=\"{{item[i].section}}\" id=\"{{item[i]}}\" type=\"radio\" [formControlName]=\"i\"/&gt;\n        &lt;span class=\"checkmark\"&gt;&lt;/span&gt;\n    &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What am I doing wrong? getting the error - <code>Cannot read property 'section' of undefined</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-r4g6uv?file=src/app/personal/personal.component.html\" rel=\"nofollow noreferrer\">StackBlitz</a> example</p>\n"}, {"tags": ["reactjs", "typescript", "react-admin"], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 9133878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9aa235de735796e038c0bf88dcd6269?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/9133878/mike"}, "edited": false, "score": 1, "creation_date": 1580135944, "post_id": 59652852, "comment_id": 105988493, "body": "Thank you, this is the right answer. As a general rule, declaring the module in index.d.ts will generally work."}], "tags": [], "owner": {"reputation": 196, "user_id": 11809410, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211154987853787/picture?type=large", "display_name": "Maciek Przybylski", "link": "https://stackoverflow.com/users/11809410/maciek-przybylski"}, "is_accepted": true, "score": 12, "last_activity_date": 1578512826, "creation_date": 1578512826, "answer_id": 59652852, "question_id": 58838216, "link": "https://stackoverflow.com/questions/58838216/how-do-i-import-react-admin-in-a-react-typescript-appplication/59652852#59652852", "title": "How do I import react-admin in a React Typescript appplication?", "body": "<p>Current version of react-admin does not export types definition. To make your project to compile you need to create <code>index.d.ts</code> file and modify <code>tsconfig.json</code>.</p>\n\n<pre><code>\u251c\u2500\u2500 @types\n\u2502   \u2514\u2500\u2500 react-admin\n\u2502       \u2514\u2500\u2500 index.d.ts\n\u2514\u2500\u2500 tsconfig.json\n</code></pre>\n\n<pre><code>// tsconfig.json\n\n{\n  ...\n  \"compilerOptions\": {\n    ...\n    \"typeRoots\": [\"./@types\"],\n    ...\n  },\n  ...\n}\n</code></pre>\n\n<pre><code>// index.d.ts\ndeclare module 'react-admin';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 9840345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zP0qV.jpg?s=128&g=1", "display_name": "Shahnad", "link": "https://stackoverflow.com/users/9840345/shahnad"}, "is_accepted": false, "score": 0, "last_activity_date": 1595914797, "creation_date": 1595914797, "answer_id": 63127697, "question_id": 58838216, "link": "https://stackoverflow.com/questions/58838216/how-do-i-import-react-admin-in-a-react-typescript-appplication/63127697#63127697", "title": "How do I import react-admin in a React Typescript appplication?", "body": "<p>if the issue exist after after the .d.ts file creation, use <code>&quot;noImplicitAny&quot;: false,</code> in your tsconfig.json</p>\n"}], "owner": {"reputation": 509, "user_id": 9133878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9aa235de735796e038c0bf88dcd6269?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/9133878/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3285, "favorite_count": 2, "accepted_answer_id": 59652852, "answer_count": 2, "score": 11, "last_activity_date": 1595914797, "creation_date": 1573651699, "last_edit_date": 1573655649, "question_id": 58838216, "link": "https://stackoverflow.com/questions/58838216/how-do-i-import-react-admin-in-a-react-typescript-appplication", "title": "How do I import react-admin in a React Typescript appplication?", "body": "<p>I'm trying to set up a react-admin app in typescript and I can't quite figure out how to import react-admin. It gives me the (simple) error saying </p>\n\n<pre><code>\"Could not find a declaration file for module 'react-admin'. \n'.../node_modules/react-admin/lib/index.js' implicitly has an 'any' type.\nTry `npm install @types/react-admin` if it exists or add a new declaration (.d.ts)\n file containing `declare module 'react-admin';`\"\n</code></pre>\n\n<p>@types/react-admin is not a valid package but I couldn't find anyone else complaining about this on github or stackoverflow. Am I missing something? As far as I can see, most things have already been migrated to typescript.</p>\n\n<p>Edit: Found <a href=\"https://github.com/marmelab/react-admin/issues/3242\" rel=\"noreferrer\">this</a> which actually references the problem with ts. However it's been 5 months since they said \"it will take months\"</p>\n"}, {"tags": ["angular", "typescript", "selenium", "protractor", "leaflet"], "answers": [{"tags": [], "owner": {"reputation": 1434, "user_id": 5300496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JFKjP.jpg?s=128&g=1", "display_name": "Julien METRAL", "link": "https://stackoverflow.com/users/5300496/julien-metral"}, "is_accepted": true, "score": 0, "last_activity_date": 1574333018, "creation_date": 1574333018, "answer_id": 58972995, "question_id": 58837682, "link": "https://stackoverflow.com/questions/58837682/how-to-click-on-the-center-of-a-leaflet-map-using-protractor/58972995#58972995", "title": "How to click on the center of a leaflet map using protractor", "body": "<p>So i've found a solution, by default when i click on the map element, protractor click on the center:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await pageObject.getMap().click();\n</code></pre>\n\n<p>To click on a specific address, I directly type an address on the geocoder bar and then click on the map to get the center but i do not found a solution with \u00a0<code>moveMove(element, { x, y\u00a0})</code></p>\n"}], "owner": {"reputation": 1434, "user_id": 5300496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JFKjP.jpg?s=128&g=1", "display_name": "Julien METRAL", "link": "https://stackoverflow.com/users/5300496/julien-metral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 58972995, "answer_count": 1, "score": 2, "last_activity_date": 1574333018, "creation_date": 1573649874, "last_edit_date": 1573654134, "question_id": 58837682, "link": "https://stackoverflow.com/questions/58837682/how-to-click-on-the-center-of-a-leaflet-map-using-protractor", "title": "How to click on the center of a leaflet map using protractor", "body": "<p>I'm trying to click on the center of a map that is on the second column in the page (so it has an offset) but it doesn't work, it seems that the cursor always point to the center of the page :</p>\n\n<p><a href=\"https://i.stack.imgur.com/jUPb8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jUPb8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to additionnate the location with the half of the width/height, Here is the code :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    it('should select center point', async () =&gt; {\n        const map = pageObject.getMap(); // $('.map-container')\n        const size = await map.getSize();\n        const location = await map.getLocation();\n        const halfWidth = parseInt(await map.getAttribute('clientWidth'), 10) / 2;\n        const halfHeight = parseInt(await map.getAttribute('clientHeight'), 10) / 2;\n        const x = location.x + halfWidth;\n        const y = location.y + halfHeight;\n        await browser\n          .actions()\n          .mouseMove(map, { x, y })\n          .click()\n          .perform();\n        console.log('size', size); { height: 482, width: 840 }\n        console.log('location', location); { x: 523, y:145 }\n        console.log('halfWidth', halfWidth); // 420\n        console.log('halfHeight', halfHeight); // 241\n        console.log('x', x); // 943\n        console.log('y', y); // 386\n        debugger;\n      });\n</code></pre>\n\n<p>The window size is <code>1380*668</code> so <code>943</code> and <code>386</code> seems to be correct, i don't know why it doesn't work.</p>\n\n<p>I've tried to don't take care of the offset too and it doesn't work :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    await browser\n              .actions()\n              .mouseMove(map, { x: halfWidth, y: halfHeight })\n              .click()\n              .perform();\n</code></pre>\n\n<p>I've tried to use <code>map.getWebElement()</code>, to change the selector but nothing work </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5255, "user_id": 4359365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbf1d1f083c191962d7a3274a1a1fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Antikhippe", "link": "https://stackoverflow.com/users/4359365/antikhippe"}, "edited": false, "score": 1, "creation_date": 1573648906, "post_id": 58837318, "comment_id": 103949049, "body": "You should use <code>ngSwitch</code> directive (see <a href=\"https://angular.io/api/common/NgSwitch\" rel=\"nofollow noreferrer\">angular.io/api/common/NgSwitch</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573651936, "post_id": 58837423, "comment_id": 103950812, "body": "Thank you for your answer, but I have 4 statuses :/ and im not sure how to implement 4 colors with this solution, im just a newbie"}, {"owner": {"reputation": 829, "user_id": 6581776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8huO.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6581776/tony"}, "reply_to_user": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573652470, "post_id": 58837423, "comment_id": 103951151, "body": "i have updated the code with 4 different classes please check again"}, {"owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573652786, "post_id": 58837423, "comment_id": 103951330, "body": "Thank you! But I am not sure how to implement that to work, I have table with many data, and in column with Status I got 4 possible status (open, progress, closed, done) and I wanna do checking if displayed data (which is in {{item.status49}} is open to change color in table to lets say green and with thumb up icon, not by clicking or anything else, code will do it by itself"}, {"owner": {"reputation": 829, "user_id": 6581776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8huO.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6581776/tony"}, "reply_to_user": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573653820, "post_id": 58837423, "comment_id": 103951913, "body": "hi i have changed to a table view..hope this will meet your requirement"}, {"owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573654395, "post_id": 58837423, "comment_id": 103952234, "body": "Thank you, coloring works! Even tho im not sure how to set diferent icons for different status, as you can see from the picture above"}, {"owner": {"reputation": 829, "user_id": 6581776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8huO.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6581776/tony"}, "reply_to_user": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573654670, "post_id": 58837423, "comment_id": 103952434, "body": "use can use fav icons as per the status changes"}, {"owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573654936, "post_id": 58837423, "comment_id": 103952630, "body": "Hm... ok, you choose colors with class name and in css file, but where do you place 4 different icons, they cannot be placed in css somehow along with colors? I am using mat-icons, can it be done?"}, {"owner": {"reputation": 829, "user_id": 6581776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8huO.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6581776/tony"}, "reply_to_user": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573655580, "post_id": 58837423, "comment_id": 103953000, "body": "you can combine that with class name name we already have like <code>red material-icons add_alert</code>"}], "tags": [], "owner": {"reputation": 829, "user_id": 6581776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8huO.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6581776/tony"}, "is_accepted": true, "score": 4, "last_activity_date": 1573651761, "last_edit_date": 1573651761, "creation_date": 1573649019, "answer_id": 58837423, "question_id": 58837318, "link": "https://stackoverflow.com/questions/58837318/set-color-of-text-and-change-icon-based-on-data-text/58837423#58837423", "title": "Set color of text and change icon based on data text", "body": "<p>Use <code>[class]</code> and change dynamically:</p>\n\n<pre><code>&lt;p [class]=\"visible ? 'green' : 'red'\"&gt;\n    Start editing to see some magic happen :)\n&lt;/p&gt;\n</code></pre>\n\n<p>For Reference</p>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/angular-bbvwxr\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bbvwxr</a></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573651785, "post_id": 58837466, "comment_id": 103950710, "body": "Thank you for your answer :) , if I use ng-container how to I implement corectly condition to check if status is open then use this and that and if status is closed... Where do i go with my {{ item.status49 }} ?"}, {"owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573652120, "post_id": 58837466, "comment_id": 103950920, "body": "As well, when I try last solution with [ngSwitch] like this   `     &lt;div [ngSwitch]=&quot;item.status49&quot;&gt;                   &lt;ng-container [ngSwitchCase]=&quot;open&quot;&gt; Something 1&lt;/ng-container&gt;                   &lt;ng-container [ngSwitchCase]=&quot;close&quot;&gt;Something 2&lt;/ng-container&gt;                 &lt;/div&gt;  ` I got an error :/"}, {"owner": {"reputation": 561, "user_id": 10283464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ofgcx.png?s=128&g=1", "display_name": "Caro", "link": "https://stackoverflow.com/users/10283464/caro"}, "reply_to_user": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "edited": false, "score": 0, "creation_date": 1573659710, "post_id": 58837466, "comment_id": 103955365, "body": "Sorry we need *ngSwitchCase=&quot;&#39;open&#39;&quot;"}], "tags": [], "owner": {"reputation": 561, "user_id": 10283464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ofgcx.png?s=128&g=1", "display_name": "Caro", "link": "https://stackoverflow.com/users/10283464/caro"}, "is_accepted": false, "score": 1, "last_activity_date": 1573661760, "last_edit_date": 1573661760, "creation_date": 1573649146, "answer_id": 58837466, "question_id": 58837318, "link": "https://stackoverflow.com/questions/58837318/set-color-of-text-and-change-icon-based-on-data-text/58837466#58837466", "title": "Set color of text and change icon based on data text", "body": "<p>You could do:</p>\n\n<pre><code>&lt;div *ngIf=\"condition1\"&gt;\n      your text + your icon\n&lt;/div&gt;\n&lt;div *ngIf=\"condition2\"&gt;\n      text2 + icon2\n&lt;/div&gt;\n&lt;div *ngIf=\"condition3\"&gt;\n      text3 + icon3\n&lt;/div&gt;\n</code></pre>\n\n<p>or you can use ng-container:</p>\n\n<pre><code>&lt;td&gt;\n  &lt;ng-container *ngIf=\"condition1\"&gt; your text + icon&lt;/ng-container&gt;\n  &lt;ng-container *ngIf=\"condition2\"&gt; your text + icon&lt;/ng-container&gt;\n...\n&lt;/td&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;div [ngSwitch]=\"item.status49\"&gt;\n   &lt;ng-container *ngSwitchCase=\"'open'\"&gt; &lt;/ng-container&gt;\n   &lt;ng-container *ngSwitchCase=\"'close'\"&gt;&lt;/ng-container&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11410952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23365de340de85ac11e10b485755eda?s=128&d=identicon&r=PG&f=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/11410952/matej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 58837423, "answer_count": 2, "score": 1, "last_activity_date": 1573661760, "creation_date": 1573648645, "last_edit_date": 1573653738, "question_id": 58837318, "link": "https://stackoverflow.com/questions/58837318/set-color-of-text-and-change-icon-based-on-data-text", "title": "Set color of text and change icon based on data text", "body": "<p>I am working with Angular/typescript and I am getting live data from base and ordering it in table.</p>\n\n<p>My question is how can I change color of text and add different icon based of what do I get.\nI got this </p>\n\n<pre><code>  &lt;td&gt;\n      {{ item.status49 }}\n   &lt;/td&gt;\n</code></pre>\n\n<p>[In the end, I would like to have something like this][1] but of course as one or another  </p>\n\n<p>And I got 4 possible text status so If else will not work for me, I think</p>\n\n<p><img src=\"https://i.stack.imgur.com/g3Ssh.png\" /></p>\n"}, {"tags": ["typescript", "react-native", "styled-components"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1573648435, "post_id": 58837147, "comment_id": 103948806, "body": "just cast the result to any"}, {"owner": {"reputation": 996, "user_id": 3971896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1J8fy.jpg?s=128&g=1", "display_name": "Muneef M", "link": "https://stackoverflow.com/users/3971896/muneef-m"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1573648594, "post_id": 58837147, "comment_id": 103948888, "body": "@Eldar Am sorry which result could just give me an example?"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1573648634, "post_id": 58837147, "comment_id": 103948908, "body": "like this : <code>const RootContainer = styled.TouchableOpacity((props: IDefaultStyle) =&gt; (&lt;any&gt;{   flexDirection: &#39;row&#39;,   ...props.style }))</code>"}, {"owner": {"reputation": 996, "user_id": 3971896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1J8fy.jpg?s=128&g=1", "display_name": "Muneef M", "link": "https://stackoverflow.com/users/3971896/muneef-m"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1573652112, "post_id": 58837147, "comment_id": 103950916, "body": "@Eldar this doesnt seems to work"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6004919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a0afca745311544d13da3c26845f7b?s=128&d=identicon&r=PG&f=1", "display_name": "erik_e", "link": "https://stackoverflow.com/users/6004919/erik-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1582920802, "creation_date": 1582920802, "answer_id": 60458650, "question_id": 58837147, "link": "https://stackoverflow.com/questions/58837147/type-issue-in-typescript-react-native-styled-component/60458650#60458650", "title": "Type issue in Typescript React-native styled-component", "body": "<p>flexDirection: 'row' as const </p>\n\n<p>This solved the issue for me.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 9234218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QeIzsSTytNQ/AAAAAAAAAAI/AAAAAAAAAZU/6dDtDRHPAYM/photo.jpg?sz=128", "display_name": "Just01", "link": "https://stackoverflow.com/users/9234218/just01"}, "is_accepted": false, "score": 0, "last_activity_date": 1608712540, "creation_date": 1608712540, "answer_id": 65421257, "question_id": 58837147, "link": "https://stackoverflow.com/questions/58837147/type-issue-in-typescript-react-native-styled-component/65421257#65421257", "title": "Type issue in Typescript React-native styled-component", "body": "<p>change</p>\n<pre><code>const RootContainer = styled.TouchableOpacity((props: IDefaultStyle)\n=&gt; ({   flexDirection: 'row',   ...props.style }))\n</code></pre>\n<p>to</p>\n<pre><code>const RootContainer = styled.TouchableOpacity&lt;IDefaultStyle&gt;`  \n    flexDirection: row;\n    ${...props.style}\n`\n</code></pre>\n"}], "owner": {"reputation": 996, "user_id": 3971896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1J8fy.jpg?s=128&g=1", "display_name": "Muneef M", "link": "https://stackoverflow.com/users/3971896/muneef-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 824, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1608712540, "creation_date": 1573648062, "last_edit_date": 1573652754, "question_id": 58837147, "link": "https://stackoverflow.com/questions/58837147/type-issue-in-typescript-react-native-styled-component", "title": "Type issue in Typescript React-native styled-component", "body": "<p><strong>I am trying to create a TouchableOpacity using styled-component in react-native and was working successfully but since i am using typescript its showing some error when using style <code>flowDirection: 'row'</code></strong></p>\n\n<p>here is my code</p>\n\n<pre><code>interface IDefaultStyle {\n  style?: object\n}\n\nconst RootContainer = styled.TouchableOpacity((props: IDefaultStyle) =&gt; ({\n  flexDirection: 'row',\n  ...props.style\n}))\n</code></pre>\n\n<p><strong>And the type error is</strong> </p>\n\n<pre><code>Argument of type '(props: IDefaultStyle) =&gt; { flexDirection: string; } | { flexDirection: string; }' is not assignable to parameter of type 'TemplateStringsArray'.\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AhBje.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AhBje.png\" alt=\"Type Error\"></a></p>\n\n<p>And when i remove <code>flexDirection</code> and add any other style type. the error is gone. </p>\n\n<p>The same issue is seen in styled-components <code>Text</code> when <code>fontWeight: 'bold'</code> is given</p>\n\n<p>My <strong>package.json</strong> </p>\n\n<pre><code>{\n  \"name\": \"@appmaker/ui\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"scripts\": {\n    \"android\": \"react-native run-android\",\n    \"ios\": \"react-native run-ios\",\n    \"start\": \"react-native start\",\n    \"test\": \"jest\",\n    \"lint\": \"eslint .\"\n  },\n  \"peerDependencies\": {\n    \"react\": \"16.9.0\",\n    \"react-native\": \"0.61.2\"\n  },\n  \"devDependencies\": {\n    \"@babel/core\": \"7.6.4\",\n    \"@babel/preset-typescript\": \"^7.7.2\",\n    \"@babel/runtime\": \"7.6.3\",\n    \"@react-native-community/eslint-config\": \"0.0.3\",\n    \"@types/jest\": \"^24.0.20\",\n    \"@types/react\": \"^16.9.11\",\n    \"@types/react-native\": \"^0.60.22\",\n    \"@types/react-test-renderer\": \"^16.9.1\",\n    \"@types/styled-components\": \"^4.1.20\",\n    \"@typescript-eslint/eslint-plugin\": \"^2.5.0\",\n    \"@typescript-eslint/parser\": \"^2.5.0\",\n    \"babel-jest\": \"24.9.0\",\n    \"babel-plugin-styled-components\": \"^1.10.6\",\n    \"jest\": \"24.9.0\",\n    \"metro-react-native-babel-preset\": \"0.51.1\",\n    \"prettier\": \"^1.18.2\",\n    \"react-test-renderer\": \"16.9.0\",\n    \"tslint\": \"^5.20.0\",\n    \"tslint-config-prettier\": \"^1.18.0\",\n    \"tslint-config-standard\": \"^8.0.1\",\n    \"tslint-eslint-rules\": \"^5.4.0\",\n    \"tslint-react\": \"^4.1.0\",\n    \"typescript\": \"^3.6.3\",\n    \"typescript-plugin-styled-components\": \"^1.4.3\"\n  },\n  \"jest\": {\n    \"preset\": \"react-native\",\n    \"moduleFileExtensions\": [\n      \"ts\",\n      \"tsx\",\n      \"js\",\n      \"jsx\",\n      \"json\",\n      \"node\"\n    ]\n  },\n  \"bit\": {\n    \"env\": {\n      \"compiler\": \"bit.envs/compilers/react-typescript@3.0.27\"\n    },\n    \"componentsDefaultDirectory\": \"components/{name}\",\n    \"packageManager\": \"npm\"\n  },\n  \"dependencies\": {\n    \"i\": \"^0.3.6\",\n    \"npm\": \"^6.12.0\",\n    \"prop-types\": \"^15.7.2\",\n    \"react-native-image-slider\": \"^2.0.3\",\n    \"react-native-image-slider-box\": \"^1.0.5\",\n    \"react-native-snap-carousel\": \"^3.8.3\",\n    \"styled-components\": \"^4.4.0\"\n  }\n}\n</code></pre>\n\n<p><em>it will be greatly appreciated if someone could help me with this</em></p>\n\n<p><strong>Edit</strong>\ncomponent usage </p>\n\n<pre><code>/**\n * ## AuthorView  | SellerView\n * Component to show Author info\n * @param props\n */\nconst AuthorView = (props: IProps) =&gt; {\n\n  const { name, style, imageUrl, rating, subtext, onPress } = props\n\n  // if imageUrl is not provided use default star icon\n  const imageSource = imageUrl ? { uri: imageUrl } : require('../../icons/star-grey.png')\n\n  return(\n    &lt;RootContainer onPress={onPress} style={style}&gt;\n        &lt;ImageViewContainer&gt;\n            &lt;ImageView\n              defaultImage={imageUrl ? false : true}\n              source={ imageSource }\n            /&gt;\n        &lt;/ImageViewContainer&gt;\n        &lt;RightContainer&gt;\n            &lt;Name&gt;{name}&lt;/Name&gt;\n            &lt;View style={{ flexDirection: 'row' }}&gt;\n            {rating &amp;&amp; &lt;RatingView style={{ marginRight: 3 }} rating={rating} /&gt;}\n            &lt;SubText&gt;{subtext}&lt;/SubText&gt;\n            &lt;/View&gt;\n        &lt;/RightContainer&gt;\n    &lt;/RootContainer&gt;\n  )\n}\n\nexport default AuthorView\n</code></pre>\n"}, {"tags": ["typescript", "webpack", "ts-loader"], "comments": [{"owner": {"reputation": 679, "user_id": 6670846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/295769cbefb1eedd3b032cabdf556ec5?s=128&d=identicon&r=PG&f=1", "display_name": "IT Man", "link": "https://stackoverflow.com/users/6670846/it-man"}, "edited": false, "score": 0, "creation_date": 1573647617, "post_id": 58836885, "comment_id": 103948386, "body": "When project stopped to compile? After some changes or it does not compile &quot;from the start&quot;? Are paths ok?"}], "owner": {"reputation": 4880, "user_id": 5010413, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1073378492675881/picture?type=large", "display_name": "Edgaras Karka", "link": "https://stackoverflow.com/users/5010413/edgaras-karka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1340, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573647198, "creation_date": 1573647198, "question_id": 58836885, "link": "https://stackoverflow.com/questions/58836885/webpack-ts-loader-module-not-found-error-cant-resolve", "title": "Webpack ts-loader `Module not found: Error: Can&#39;t resolve`", "body": "<p>I trying to build my app using <code>webpack</code> and <code>ts-loader</code> plugin.</p>\n\n<p>But get this error: </p>\n\n<pre><code>ERROR in ./jobs/createUpdateSimasFilters.ts\nModule not found: Error: Can't resolve '../services/data.service' in '/Users/gefalko/gecars2/jobs'\n @ ./jobs/createUpdateSimasFilters.ts 53:10-45\n\nERROR in ./jobs/createUpdateSimasFilters.ts\nModule not found: Error: Can't resolve '~/appData/simasData/activeFilters' in '/Users/gefalko/gecars2/jobs'\n @ ./jobs/createUpdateSimasFilters.ts 52:22-66\n\n</code></pre>\n\n<p>file: </p>\n\n<pre><code>3 import filters from '~/appData/simasData/activeFilters'\n4 const ser = require('../services/data.service')\n</code></pre>\n\n<p>tsconfig.json: </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"skipLibCheck\": true,\n    \"sourceMap\": true,\n    \"target\": \"esnext\",\n    \"jsx\": \"react\",\n    \"module\": \"esnext\",\n    \"allowSyntheticDefaultImports\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"strict\": true,\n    \"moduleResolution\": \"node\",\n    \"declaration\": false,\n    \"removeComments\": true,\n    \"noImplicitReturns\": true,\n    \"strictNullChecks\": true,\n    \"outDir\": \"build\",\n    \"noUnusedLocals\": true,\n    \"lib\": [\"es6\", \"es7\", \"dom\"],\n    \"types\": [\"node\"],\n    \"baseUrl\": \"./\",\n    \"paths\": {\n      \"~*\": [\"./*\"]\n    }\n  },\n  \"exclude\": [\"build\", \"node_modules\"]\n}\n</code></pre>\n\n<p>webpack.config.json:</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = function(env, args) {\n  const config = {\n    module: {\n      rules: [\n        {\n          test: /\\.ts?$/,\n          use: 'ts-loader',\n          exclude: /node_modules/,\n        },\n      ],\n    },\n    resolve: {\n      extensions: ['.ts', '.js'],\n    },\n    output: {\n      path: path.resolve(__dirname, 'dist'),\n    },\n    target: 'async-node',\n    mode: 'development'\n  }\n\n\n  if(args.targetFile === 'createUpdateSimasFilters') {\n    config.entry = './jobs/createUpdateSimasFilters.ts'\n    config.output.filename = 'createUpdateSimasFilters.js'\n  }\n\n  return config\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "express"], "answers": [{"tags": [], "owner": {"reputation": 845, "user_id": 7729975, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6kkxh.png?s=128&g=1", "display_name": "christian", "link": "https://stackoverflow.com/users/7729975/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1573649407, "creation_date": 1573649407, "answer_id": 58837540, "question_id": 58836853, "link": "https://stackoverflow.com/questions/58836853/argument-of-type-void-is-not-assignable-to-parameter-of-type-pathparams/58837540#58837540", "title": "Argument of type &#39;void&#39; is not assignable to parameter of type &#39;PathParams&#39;", "body": "<p>To use the <code>loadConstantsMiddleware</code> as middleware, you have to return a request handler, like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const loadConstantsMiddleware = (app:Application) =&gt; {\n    app.locals = constants;\n    return (req, res, next) =&gt; {\n      next();\n    }\n};\n</code></pre>\n\n<p>But in this scenario, it probably doesn't make sense to use it as a middleware since the constants are scoped to the entire application (versus just the request).</p>\n\n<p>To just add it to the app directly, without middleware, you can do:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// main\napp.use(cors());\napp.use(express.json());\nloadConstantsMiddleware(app);\n\n// load-constants-middleware\nexport const loadConstantsMiddleware = (app:Application) =&gt; {\n  app.locals = constants\n};\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 9590554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cxxF0-uwUwU/AAAAAAAAAAI/AAAAAAAAB6A/zfDcXwM1RZE/photo.jpg?sz=128", "display_name": "Sudharsan Venkatraj", "link": "https://stackoverflow.com/users/9590554/sudharsan-venkatraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 591, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573649407, "creation_date": 1573647071, "last_edit_date": 1573649069, "question_id": 58836853, "link": "https://stackoverflow.com/questions/58836853/argument-of-type-void-is-not-assignable-to-parameter-of-type-pathparams", "title": "Argument of type &#39;void&#39; is not assignable to parameter of type &#39;PathParams&#39;", "body": "<p>Created route <code>handler</code> and while adding in my <code>route</code>.</p>\n\n<pre><code>import {Application, NextFunction} from 'express';\nimport {container} from 'tsyringe';\nconst routeConstantsArray  = { };\n\nconst constants: any  = []\nconstants.push(routeConstantsArray)\nlet next : NextFunction;\nexport const loadConstantsMiddleware = (app:Application) =&gt; {\n    app.locals = constants\n    next();\n};\n</code></pre>\n\n<p><strong>Route</strong> </p>\n\n<pre><code>import express from 'express';\nimport {Application} from 'express';\nimport cors from 'cors';\n// Import Internal Modules\nimport {loadConstantsMiddleware} from '../core/middleware/constants_middleware';\n const startupRouterConfig = (app: Application): Application =&gt; {\n    app.use(cors());\n    app.use(express.json());\n    app.use(loadConstantsMiddleware(app));\n    return app;\n};\n</code></pre>\n\n<p><strong>Error</strong><br>\n (parameter) app: <code>express.Application</code>\n    No overload matches this call.\n      The last overload gave the following error:</p>\n\n<pre><code>Argument of type 'void' is not assignable to parameter of type 'PathParams'.ts(2769)\nindex.d.ts(55, 5): The last overload is declared here.\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "sharepoint-online", "spfx"], "comments": [{"owner": {"reputation": 1463, "user_id": 6325973, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/If7dN.jpg?s=128&g=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/6325973/harish"}, "edited": false, "score": 0, "creation_date": 1573646573, "post_id": 58836488, "comment_id": 103947891, "body": "can you update question with your <code>rhourComponent </code>? one more at time of consoling the values in <code>foreach</code> callback you are getting iterator as <code>rt</code> and consoling as <code>tr</code>, is it type in posting question or typo in your code?"}, {"owner": {"reputation": 209, "user_id": 1639320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f63ee25eae14f90da33fc1f2c103bb4?s=128&d=identicon&r=PG", "display_name": "TheBigCheese", "link": "https://stackoverflow.com/users/1639320/thebigcheese"}, "reply_to_user": {"reputation": 1463, "user_id": 6325973, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/If7dN.jpg?s=128&g=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/6325973/harish"}, "edited": false, "score": 0, "creation_date": 1573653111, "post_id": 58836488, "comment_id": 103951497, "body": "That was a typo in the code for the question. The actual code works well. The this is weird because if I do console.log(rTimes) it shows me the 3 object in the array when I expand the objects in the console. But if I do for instance console.log (Obj.rTimes[1].hours) it also shows me 0."}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 1639320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f63ee25eae14f90da33fc1f2c103bb4?s=128&d=identicon&r=PG", "display_name": "TheBigCheese", "link": "https://stackoverflow.com/users/1639320/thebigcheese"}, "edited": false, "score": 0, "creation_date": 1573650637, "post_id": 58836769, "comment_id": 103950022, "body": "I&#39;m setting the state in the main component and passing down as props. Should I pass the props into the state of the child components and then use the state to their childs? I have now used Object.assign to clone the objects before passing them down so they don&#39;t update the original references. Also I have a callback that updates the values in their textboxes up on the main component and sets the state there only."}, {"owner": {"reputation": 6459, "user_id": 6225838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/454b014c1824907e3042d51841b1ca1f?s=128&d=identicon&r=PG&f=1", "display_name": "CPHPython", "link": "https://stackoverflow.com/users/6225838/cphpython"}, "reply_to_user": {"reputation": 209, "user_id": 1639320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f63ee25eae14f90da33fc1f2c103bb4?s=128&d=identicon&r=PG", "display_name": "TheBigCheese", "link": "https://stackoverflow.com/users/1639320/thebigcheese"}, "edited": false, "score": 1, "creation_date": 1573662179, "post_id": 58836769, "comment_id": 103956874, "body": "The <code>rhourComponent</code> can have its own state with the hour(s) being set in its constructor (through the props you pass). Assigning to the state avoids props objects reading issues. Furthermore by using <code>update</code> from <a href=\"https://reactjs.org/docs/update.html\" rel=\"nofollow noreferrer\"><i>immutability-helper</i></a> the entire state is reset based on the old state and only the objects that you want to change are updated (avoids <code>Object.assign</code>)."}, {"owner": {"reputation": 209, "user_id": 1639320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f63ee25eae14f90da33fc1f2c103bb4?s=128&d=identicon&r=PG", "display_name": "TheBigCheese", "link": "https://stackoverflow.com/users/1639320/thebigcheese"}, "edited": false, "score": 0, "creation_date": 1573725536, "post_id": 58836769, "comment_id": 103979939, "body": "I&#39;ll take a look into the immutability-helper. That may make my code simpler. I&#39;m also trying to migrate this to React 16.8 so I can use Hooks. Let&#39;s see where this is going because all this behavior is looking strange to me."}], "tags": [], "owner": {"reputation": 6459, "user_id": 6225838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/454b014c1824907e3042d51841b1ca1f?s=128&d=identicon&r=PG&f=1", "display_name": "CPHPython", "link": "https://stackoverflow.com/users/6225838/cphpython"}, "is_accepted": false, "score": 1, "last_activity_date": 1573647480, "last_edit_date": 1573647480, "creation_date": 1573646760, "answer_id": 58836769, "question_id": 58836488, "link": "https://stackoverflow.com/questions/58836488/react-typescript-spfx-foreach-and-map-function-issues-with-complex-objects/58836769#58836769", "title": "React/TypeScript/SPFx forEach and map function issues with complex objects", "body": "<p><code>rTimes</code> objects are likely being updated after the component is rendered.</p>\n\n<p>I would try:</p>\n\n<ol>\n<li>outputting through the console each of the array objects to verify if <code>idH</code> is being updated;</li>\n<li>encapsulate the <code>forEach</code> in a <code>setTimeout</code>;</li>\n<li>avoid using the component props directly in the JSX by assigning them to an internal component variable and than mapping that array instead.</li>\n</ol>\n\n<p>An example of (3):</p>\n\n<pre><code>constructor(props) {\n  super(props);\n  this.state = {\n    hours: this.props.Obj.hours\n  };\n}\n</code></pre>\n\n<p>And then on the JSX:</p>\n\n<pre><code>&lt;div&gt;\n{this.state.hours.map((h) =&gt; \n    &lt;rhourComponent hours={h} /&gt;\n)}\n&lt;/div&gt;\n</code></pre>\n\n<p>Or (in passing the entire array):</p>\n\n<pre><code>&lt;div&gt;\n    &lt;rhourComponent hours={this.state.hours} /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can then manipulate <code>hours</code> like so:</p>\n\n<pre><code>this.setState(\n  update(this.state, {\n    hours: [], // any array you want to change to\n  }),\n);\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 1639320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f63ee25eae14f90da33fc1f2c103bb4?s=128&d=identicon&r=PG", "display_name": "TheBigCheese", "link": "https://stackoverflow.com/users/1639320/thebigcheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573647480, "creation_date": 1573645817, "last_edit_date": 1573646162, "question_id": 58836488, "link": "https://stackoverflow.com/questions/58836488/react-typescript-spfx-foreach-and-map-function-issues-with-complex-objects", "title": "React/TypeScript/SPFx forEach and map function issues with complex objects", "body": "<p>I have a problem in rendering React with Dynamic UI.</p>\n\n<p>I found out that one of my components is misbehaving.</p>\n\n<p>I have an object with an array property that I get through props.</p>\n\n<p>The object is similar to the following</p>\n\n<p>Obj:</p>\n\n<pre><code>{\n  title: \"title\",\n  id: 0,\n  rTimes: [\n  { idH: 0, hours: 2 }, \n  { idH: 1, hours: 3 }, \n  { idH: 2, hours: 1 }]\n};\n</code></pre>\n\n<p>if I log the object with console.log() it shows the correct output but if I iterate with <code>forEach</code> on the hours array it becomes weird.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.props.Obj.rTimes.forEach((rt) =&gt; {\n  console.log(tr.hours);\n});\n</code></pre>\n\n\n\n<pre><code>=== Console Output ===\n\n0\n0\n0\n</code></pre>\n\n<p>This is blocking rendering for me because it is passing down these on <code>render()</code> because I'm mapping the values as such:</p>\n\n<pre><code>render()\n{\n    return(\n           &lt;div&gt;\n           {this.props.Obj.hours.map((h) =&gt; \n               &lt;rhourComponent hours={h.hours} /&gt;\n           )}\n           &lt;/div&gt;\n          );\n}\n</code></pre>\n\n<p>So, I end up with 3 components with Zero as value.</p>\n\n<p>Any idea why this can happen?</p>\n\n<p>This is a React SPFx Client-Side Webpart.</p>\n"}, {"tags": ["node.js", "typescript", "macos-catalina"], "comments": [{"owner": {"reputation": 35246, "user_id": 238753, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cf783142f0b3dcaf9db99265f5855e08?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/238753/sam"}, "edited": false, "score": 0, "creation_date": 1573710946, "post_id": 58836344, "comment_id": 103973286, "body": "I started getting this error after upgrading the Typegoose, Mongoose and MongoDB NPM packages in my project. Did you recently upgrade one of these in yours?"}, {"owner": {"reputation": 388, "user_id": 9221663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWfkF.jpg?s=128&g=1", "display_name": "Mehmet N. Yarar", "link": "https://stackoverflow.com/users/9221663/mehmet-n-yarar"}, "reply_to_user": {"reputation": 35246, "user_id": 238753, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cf783142f0b3dcaf9db99265f5855e08?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/238753/sam"}, "edited": false, "score": 0, "creation_date": 1573712855, "post_id": 58836344, "comment_id": 103973900, "body": "I upgraded all my packages in monorepo project via VS&#39;s <a href=\"https://marketplace.visualstudio.com/items?itemName=howardzuo.vscode-npm-dependency\" rel=\"nofollow noreferrer\">NPM dependency</a> extension. After getting this error, I also thought that it might be related to these packages (I also use TypeGraphQL). I rolled back changes, reset modules but the error still appears. Have you got rid of it already?"}, {"owner": {"reputation": 333, "user_id": 7940097, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWl1zktb6MA/AAAAAAAAAAI/AAAAAAAAALA/Ayhbgwdlljo/photo.jpg?sz=128", "display_name": "Antoine Bon", "link": "https://stackoverflow.com/users/7940097/antoine-bon"}, "edited": false, "score": 0, "creation_date": 1573725253, "post_id": 58836344, "comment_id": 103979775, "body": "Same problem here, I started getting this error after upgrading Mongoose and Typegoose to the new repository (it got moved)."}, {"owner": {"reputation": 35246, "user_id": 238753, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cf783142f0b3dcaf9db99265f5855e08?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/238753/sam"}, "edited": false, "score": 0, "creation_date": 1573772659, "post_id": 58836344, "comment_id": 104004947, "body": "Taking a look through the <code>node_modules</code> folder, I can see the warning being logged by Typegoose. See <code>prop.js</code>. Still need to figure out why though..."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 9221663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWfkF.jpg?s=128&g=1", "display_name": "Mehmet N. Yarar", "link": "https://stackoverflow.com/users/9221663/mehmet-n-yarar"}, "edited": false, "score": 1, "creation_date": 1573791144, "post_id": 58869135, "comment_id": 104009051, "body": "Thanks @Sam, this was enlightening. I imported <code>setGlobalOptions</code> and called it immediately in the entry file, but the messages still appear. Is it because the warnings are being logged? I opened an issue in the <a href=\"https://github.com/typegoose/typegoose/issues/124\" rel=\"nofollow noreferrer\">GitHub</a>."}, {"owner": {"reputation": 35246, "user_id": 238753, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cf783142f0b3dcaf9db99265f5855e08?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/238753/sam"}, "reply_to_user": {"reputation": 388, "user_id": 9221663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWfkF.jpg?s=128&g=1", "display_name": "Mehmet N. Yarar", "link": "https://stackoverflow.com/users/9221663/mehmet-n-yarar"}, "edited": false, "score": 1, "creation_date": 1573793314, "post_id": 58869135, "comment_id": 104009488, "body": "@MehmetN.Yarar, I had the same problem but fixed it by moving the code to the earliest possible point in my code. Maybe there are other conditions that trigger the warnings. Thanks for raising the GitHub issue. Looking forward to getting a definitive answer from the developer! :)"}, {"owner": {"reputation": 388, "user_id": 9221663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWfkF.jpg?s=128&g=1", "display_name": "Mehmet N. Yarar", "link": "https://stackoverflow.com/users/9221663/mehmet-n-yarar"}, "edited": false, "score": 1, "creation_date": 1573834703, "post_id": 58869135, "comment_id": 104029035, "body": "In my case, it was an <a href=\"https://github.com/typegoose/typegoose/issues/124#issuecomment-554420725\" rel=\"nofollow noreferrer\">import order issue</a> because I had to import model classes in order to use in a middleware :)"}], "tags": [], "owner": {"reputation": 35246, "user_id": 238753, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cf783142f0b3dcaf9db99265f5855e08?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/238753/sam"}, "is_accepted": true, "score": 3, "last_activity_date": 1573847483, "last_edit_date": 1573847483, "creation_date": 1573782070, "answer_id": 58869135, "question_id": 58836344, "link": "https://stackoverflow.com/questions/58836344/old-enum-behaviour-is-used-please-upgrade-to-the-new-one/58869135#58869135", "title": "Old Enum Behaviour is used, please upgrade to the new one", "body": "<p>Typegoose is changing how it handles <code>enum</code> properties, and the old behaviour is deprecated.</p>\n\n<h3>Check for breaking changes</h3>\n\n<p>If you are working on an existing project, then review the documentation to ensure your app and DB will be compatible with the new behaviour:</p>\n\n<ul>\n<li><a href=\"https://typegoose.github.io/typegoose/docs/decorators/prop/#enum\" rel=\"nofollow noreferrer\">Enum properties</a></li>\n<li><a href=\"https://typegoose.github.io/typegoose/docs/functions/setGlobalOptions/\" rel=\"nofollow noreferrer\"><code>useNewEnum</code> flag</a></li>\n</ul>\n\n<h3>Opt-in to the new enum behaviour</h3>\n\n<p>Run the following as early as possible in your start-up code:</p>\n\n<pre><code>import { setGlobalOptions } from \"@typegoose/typegoose\";\n\nsetGlobalOptions({\n  globalOptions: {\n    useNewEnum: true,\n  },\n});\n</code></pre>\n\n<p>If you still get the warnings, then try the following:</p>\n\n<ul>\n<li>Ensure the code is running before any other app start-up logic</li>\n<li>Run the code before any other <code>import</code>s</li>\n</ul>\n"}], "owner": {"reputation": 388, "user_id": 9221663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWfkF.jpg?s=128&g=1", "display_name": "Mehmet N. Yarar", "link": "https://stackoverflow.com/users/9221663/mehmet-n-yarar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 58869135, "answer_count": 1, "score": 4, "last_activity_date": 1573847483, "creation_date": 1573645354, "last_edit_date": 1573823679, "question_id": 58836344, "link": "https://stackoverflow.com/questions/58836344/old-enum-behaviour-is-used-please-upgrade-to-the-new-one", "title": "Old Enum Behaviour is used, please upgrade to the new one", "body": "<p>I'm encountering this weird message out of blue on my Node server (Express + GraphQL) in the terminal window. Message doesn't say where it comes from.</p>\n\n<p>Anyone experiencing this problem or any idea why it's happening?</p>\n\n<p><a href=\"https://github.com/typegoose/typegoose/issues/124\" rel=\"nofollow noreferrer\">Github Issue in Typegoose Repository</a></p>\n"}, {"tags": ["angular", "typescript", "routing"], "answers": [{"tags": [], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "is_accepted": true, "score": 0, "last_activity_date": 1573645216, "creation_date": 1573645216, "answer_id": 58836302, "question_id": 58836225, "link": "https://stackoverflow.com/questions/58836225/angular-routing-passing-dynamic-url-data-to-components/58836302#58836302", "title": "Angular Routing: Passing dynamic url data to components", "body": "<p>In your constructor</p>\n\n<pre><code>public constructor(private route:ActivatedRoute, private router:Router) {\n      console.log(route.snapshot.data['country']);\n  }\n</code></pre>\n\n<p>Or you can use the following as per documentation from the router outlet (<a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">check here</a>)</p>\n\n<pre><code>export class AppComponent {\n  getCountryData(outlet: RouterOutlet) {\n    return outlet &amp;&amp; outlet.activatedRouteData &amp;&amp; outlet.activatedRouteData['country'];\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1943, "user_id": 2447211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgIoL.jpg?s=128&g=1", "display_name": "Michael Desigaud", "link": "https://stackoverflow.com/users/2447211/michael-desigaud"}, "is_accepted": false, "score": 1, "last_activity_date": 1573645225, "creation_date": 1573645225, "answer_id": 58836308, "question_id": 58836225, "link": "https://stackoverflow.com/questions/58836225/angular-routing-passing-dynamic-url-data-to-components/58836308#58836308", "title": "Angular Routing: Passing dynamic url data to components", "body": "<p>You do not need the country property in the data object. The country info in the url should be enough. </p>\n\n<p>To retrieve the country parameter from the route :</p>\n\n<pre><code>class  SignUpComponent implements OnInit {\n  constructor(private activatedRoute: ActivatedRoute) {}\n  ngOnInit() {\n    this.activatedRoute.params.subscribe((params) =&gt; {\n        // params.country should be defined here    \n    });\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1573645535, "creation_date": 1573645535, "answer_id": 58836399, "question_id": 58836225, "link": "https://stackoverflow.com/questions/58836225/angular-routing-passing-dynamic-url-data-to-components/58836399#58836399", "title": "Angular Routing: Passing dynamic url data to components", "body": "<p>Try like this:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-router-basic-example-gsp7da?embed=1&amp;file=app/views/home/home.component.ts\" rel=\"nofollow noreferrer\">WORKING DEMO</a> // click on Home</p>\n\n<p><code>import {  ActivatedRoute } from '@angular/router';</code></p>\n\n<pre><code>constructor(private route: ActivatedRoute) {\n  alert(route.snapshot[\"data\"].country)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2000, "user_id": 9427395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52a8e4b5f4f9875d69a059574e3416d?s=128&d=identicon&r=PG&f=1", "display_name": "dasunse", "link": "https://stackoverflow.com/users/9427395/dasunse"}, "is_accepted": false, "score": 1, "last_activity_date": 1573646953, "creation_date": 1573646953, "answer_id": 58836812, "question_id": 58836225, "link": "https://stackoverflow.com/questions/58836225/angular-routing-passing-dynamic-url-data-to-components/58836812#58836812", "title": "Angular Routing: Passing dynamic url data to components", "body": "<p>You do not need to pass this way <code>country: ':country'</code>. \nBy using this way you can read path variables</p>\n\n<pre><code>import {  ActivatedRoute } from '@angular/router';\n\nconstructor(private route: ActivatedRoute) {\n  alert(route.snapshot[\"data\"].country)\n}\n</code></pre>\n"}], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 58836302, "answer_count": 4, "score": 0, "last_activity_date": 1573646953, "creation_date": 1573644949, "last_edit_date": 1573645268, "question_id": 58836225, "link": "https://stackoverflow.com/questions/58836225/angular-routing-passing-dynamic-url-data-to-components", "title": "Angular Routing: Passing dynamic url data to components", "body": "<p>I have the following routes:</p>\n\n<pre><code>const routes: Routes = [\n    {\n        path: ':product/new',\n        children: [{\n            path: 'std/:country',\n            component: SignUpComponent,\n            data: {\n                animation: 'animate',\n                segment: 'std',\n                country: ':country'\n            }\n        }, {\n            path: 'exp/:country',\n            component: PaymentComponent,\n            data: {\n                animation: 'animate',\n                segment: 'exp'\n            }\n        }\n    }\n]\n</code></pre>\n\n<p>Is <code>country: ':country'</code> the right way of passing dynamic url data to the <code>SignUpComponent</code>? If yes, How can I consume this data in my <code>SignUpComponent Component</code>?</p>\n"}, {"tags": ["javascript", "html", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 11377496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXBFe.jpg?s=128&g=1", "display_name": "Souradip", "link": "https://stackoverflow.com/users/11377496/souradip"}, "edited": false, "score": 0, "creation_date": 1573663728, "post_id": 58837489, "comment_id": 103957794, "body": "This is not something I am looking for. I have already stated all the details.If you need any other things please specify it"}, {"owner": {"reputation": 19, "user_id": 9076306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7ef84c25d77b6e1ebcbcc065494550?s=128&d=identicon&r=PG&f=1", "display_name": "Ofek Tsoref", "link": "https://stackoverflow.com/users/9076306/ofek-tsoref"}, "reply_to_user": {"reputation": 101, "user_id": 11377496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXBFe.jpg?s=128&g=1", "display_name": "Souradip", "link": "https://stackoverflow.com/users/11377496/souradip"}, "edited": false, "score": 0, "creation_date": 1573985201, "post_id": 58837489, "comment_id": 104062619, "body": "By &quot;pre-populating the form&quot; do you mean that once you click on a user, its Edit form is populated by the user&#39;s data?"}, {"owner": {"reputation": 101, "user_id": 11377496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXBFe.jpg?s=128&g=1", "display_name": "Souradip", "link": "https://stackoverflow.com/users/11377496/souradip"}, "edited": false, "score": 0, "creation_date": 1574060792, "post_id": 58837489, "comment_id": 104081171, "body": "Yes. I want to pre populate all the fields in the form"}], "tags": [], "owner": {"reputation": 19, "user_id": 9076306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7ef84c25d77b6e1ebcbcc065494550?s=128&d=identicon&r=PG&f=1", "display_name": "Ofek Tsoref", "link": "https://stackoverflow.com/users/9076306/ofek-tsoref"}, "is_accepted": false, "score": 0, "last_activity_date": 1573649223, "creation_date": 1573649223, "answer_id": 58837489, "question_id": 58836170, "link": "https://stackoverflow.com/questions/58836170/how-to-prepopulate-a-form-with-specific-data-on-click-of-a-edit-button-in-java/58837489#58837489", "title": "How to prepopulate a form with specific data on click of a &#39;EDIT&#39; button in JavaScript? (without using any database)", "body": "<p>I'm not sure I understand what you're trying to achieve, but if you're trying to prepopulate your page without the use of any database, you could use a file with some json data in it. \nsee <a href=\"https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\">JavaScript: Create and save file</a>\nOr you could pretty much hardcode it into your page on an on-load event.</p>\n\n<p>On a side note, if you know you're not going to work with Internet Explorer you could use the <strong>find()</strong> function instead of the <strong>filter()</strong>, as <strong>find()</strong> will stop its iteration on the array once it finds the FIRST occurrence of whatever you passed in its function, and <strong>filter()</strong> will just keep going. \nSeeing as you're trying to get data using a unique ID, it might be better to use it instead :)\nsee <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find</a></p>\n"}], "owner": {"reputation": 101, "user_id": 11377496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXBFe.jpg?s=128&g=1", "display_name": "Souradip", "link": "https://stackoverflow.com/users/11377496/souradip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573649223, "creation_date": 1573644744, "last_edit_date": 1573648279, "question_id": 58836170, "link": "https://stackoverflow.com/questions/58836170/how-to-prepopulate-a-form-with-specific-data-on-click-of-a-edit-button-in-java", "title": "How to prepopulate a form with specific data on click of a &#39;EDIT&#39; button in JavaScript? (without using any database)", "body": "<p>I am using simple JavaScript code to submit a form and storing the form data into an array in the form of objects and later showing the data on click of a button. I also have provided two buttons -'EDIT' and 'DELETE' for each elements while showing the data in tabular form under 'Action' header.</p>\n\n<p>I can pass the corresponding ids to those methods to perform edit and delete operation on specific entries/object and based on that I want to keep data in final array and want to show them after the operation.</p>\n\n<p>However I have done the 'delete' functionality but I could not get any lead to implement the 'EDIT' button functionality. \nI want to know- is it possible to prepopulate the form with data available and make the changes and again save it back when I click on edit button?</p>\n\n<p>Note: I am not using any database connection for this. Here in the below code I am storing the objects in <strong>dataArray</strong></p>\n\n<p>sample form object- I am storing dataArray after submit:</p>\n\n<pre><code>0: CreateUser\ndescription: \"I am Web developer\"\nemail: \"test@gmail.com\"\nenglish: \"english\"\ngender: \"Male\"\nhindi: \"hindi\"\nid: \"12312\"\nname: \"test\"\nothersLang: \"others\"\nrole: \"dev\"\n</code></pre>\n\n<p>Please have a look at it ---</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nfunction getEmployeeDetails() {\n  let totalLength = userArray.length;\n\n  if (totalLength === 0) {\n    alert(\"No user Data Found\");\n    return;\n  }\n\n  let tbody = document.getElementById(\"tbody\");\n  tbody.innerHTML = \"\";\n\n  for (let i = 0; i &lt; userArray.length; i++) {\n    let tr = `&lt;tr id=` + userArray[i].id + `&gt;`;\n    tr +=\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].id +\n      \"&lt;/td&gt;\" +\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].name +\n      \"&lt;/td&gt;\" +\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].email +\n      \"&lt;/td&gt;\" +\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].gender +\n      \"&lt;/td&gt;\" +\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].role +\n      \"&lt;/td&gt;\" +\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].english +\n      userArray[i].hindi +\n      userArray[i].othersLang +\n      \"&lt;/td&gt;\" +\n      \"&lt;td class='table-data'/td&gt;\" +\n      userArray[i].description +\n      \"&lt;/td&gt;\" +\n      `&lt;td class=\"table-data\"&gt;\n      &lt;button onclick=\"deleteUser(` +\n      userArray[i].id +\n      `)\"&gt;Delete&lt;/button&gt; || &lt;button onclick=\"editUser( ` +\n      userArray[i].id +\n      `)\"&gt;Edit&lt;/button&gt;\n      &lt;/td&gt;`;\n\n    tbody.innerHTML += tr;\n  }\n}\n\nfunction deleteUser(id) {\n  console.log('ID',id);\n  userArray = userArray.filter(x =&gt; x.id === id);\n  console.log(\"aftre\", userArray);\n  let elem = document.getElementById(id);\n  elem.remove();\n  return userArray;\n}\nfunction editUser(id) {\n  console.log(\"edit\", id);//prints corresponding id\n}\n\n\n</code></pre>\n\n<p>I am not sure if this can be achieved or not.</p>\n\n<p>Any suggestion on this is highly appreciated.</p>\n"}, {"tags": ["angular", "typescript", "asp.net-core"], "comments": [{"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573719065, "post_id": 58836075, "comment_id": 103976461, "body": "Access token is used to access resources which protected by Azure AD . Your scenario is not suitable with <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow\" rel=\"nofollow noreferrer\">On-Behalf-Of flow</a> , the access token is pass to second app as query string . You&#39;d better implement authentication in your angular app and acquire access token for that protected api ."}, {"owner": {"reputation": 1, "user_id": 12366339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255fe263ef7f23997608bf037f364dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Sneaky17", "link": "https://stackoverflow.com/users/12366339/sneaky17"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573720750, "post_id": 58836075, "comment_id": 103977261, "body": "Ok maybe I have wrote something wrong. Question is pretty easy: How to pass already aquired token from ASP.NET MVC app to Angular App?"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573720954, "post_id": 58836075, "comment_id": 103977362, "body": "You can pass with query string or http header ."}, {"owner": {"reputation": 1, "user_id": 12366339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255fe263ef7f23997608bf037f364dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Sneaky17", "link": "https://stackoverflow.com/users/12366339/sneaky17"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573723829, "post_id": 58836075, "comment_id": 103978925, "body": "Yes that is totally known...But what can we do with it? How to &quot;init&quot; ADAL with this token? Or how to get new token for this new site?"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573724151, "post_id": 58836075, "comment_id": 103979127, "body": "You can&#39;t use access token in your angular application for sign-in . Your angular app still need to authenticate  with AAD ."}, {"owner": {"reputation": 1, "user_id": 12366339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255fe263ef7f23997608bf037f364dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Sneaky17", "link": "https://stackoverflow.com/users/12366339/sneaky17"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573724444, "post_id": 58836075, "comment_id": 103979288, "body": "Isn&#39;t that what SSO is all about? We just want to log in in one place (ASP.NET MVC) and use this on all other sites (for example Angular Apps) Login in inside APP1, use it in APP2,APP3,APP4,....,APPn"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573724846, "post_id": 58836075, "comment_id": 103979545, "body": "If you have same browser session cookie you can achieve SSO among applications with same identity provider . That is not related to access token . You misunderstand the scenario ."}, {"owner": {"reputation": 1, "user_id": 12366339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255fe263ef7f23997608bf037f364dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Sneaky17", "link": "https://stackoverflow.com/users/12366339/sneaky17"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1573725182, "post_id": 58836075, "comment_id": 103979737, "body": "That is obvious that all apps are using same identity provider... but how to avoid asking about credentials/identity once we already have it confirmed in one of those apps?"}], "owner": {"reputation": 1, "user_id": 12366339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255fe263ef7f23997608bf037f364dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Sneaky17", "link": "https://stackoverflow.com/users/12366339/sneaky17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573644354, "creation_date": 1573644354, "question_id": 58836075, "link": "https://stackoverflow.com/questions/58836075/adal-net-core-mvc-redirect-to-angular-app", "title": "ADAL .Net Core MVC redirect to Angular app", "body": "<p>I'm puzzled about how I can achieve the following:</p>\n\n<p>I'm implementing the On-behalf-of flow with Azure AD. I have a .Net Core MVC app where I first log in. After that I have a simple redirect to Angular application where I am passing an access token in the url and I want to authenticate with that token. Here is where my problem comes up - how can I pass this token using the adal-angular4 library to ultimately get a new token for my app and log in as the user as in the MVC app?</p>\n\n<p>My code for redirecting to the Angular app:</p>\n\n<pre><code>public IActionResult RedirectToSecondApp()\n    {\n        string userObjectID = User.FindFirst(\"http://schemas.microsoft.com/identity/claims/objectidentifier\").Value;\n        var authContext = new AuthenticationContext(AzureAdOptions.Settings.Authority,\n                                                    new NaiveSessionCache(userObjectID, HttpContext.Session));\n        var accessToken = authContext.TokenCache.ReadItems().First().AccessToken;\n        return Redirect($\"https://localhost:44377?token={accessToken}\");\n    }\n</code></pre>\n\n<p>Code for the Angular component using AdalService:</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { AdalService } from \"adal-angular4\";\nimport { CookieService } from \"ngx-cookie-service\";\n\n@Component({\n  selector: \"app-toolbar\",\n  templateUrl: \"./toolbar.component.html\",\n  styleUrls: [\"./toolbar.component.css\"]\n})\nexport class ToolbarComponent implements OnInit {\n  constructor(\n    private adalService: AdalService,\n    private cookieService: CookieService\n  ) {}\n\n  ngOnInit() {\n    this.adalService.handleWindowCallback();\n  }\n\n  login() {\n    this.adalService.login();\n  }\n\n  logout() {\n    this.adalService.logOut();\n  }\n\n  get authenticated(): boolean {\n    return this.adalService.userInfo.authenticated;\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "internet-explorer-11", "angular8"], "comments": [{"owner": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 1, "creation_date": 1573644893, "post_id": 58836057, "comment_id": 103947088, "body": "What error messages are you getting?  It could be a simple module issue."}, {"owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "reply_to_user": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 0, "creation_date": 1573646257, "post_id": 58836057, "comment_id": 103947741, "body": "@Winnemucca it just says &quot;Syntaxfehler&quot; which is german for syntax error"}, {"owner": {"reputation": 528, "user_id": 9002136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYLEC.jpg?s=128&g=1", "display_name": "s sharif", "link": "https://stackoverflow.com/users/9002136/s-sharif"}, "edited": false, "score": 0, "creation_date": 1573647993, "post_id": 58836057, "comment_id": 103948567, "body": "I was facing the same issue: I ended up fixing this by importing the offending script globally through angular.json. For whatever reason, one of my 3rd party scripts was getting compiled incorrectly if I imported using the import statement. Now I import it globally and it&#39;s working fine."}, {"owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "edited": false, "score": 0, "creation_date": 1573648162, "post_id": 58836057, "comment_id": 103948657, "body": "okay I will try to find the 3rd party script what do you mean by &quot;import it globally&quot;? In the head of the index.html?"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "edited": false, "score": 0, "creation_date": 1573645650, "post_id": 58836175, "comment_id": 103947426, "body": "I&#39;ll add a screenshot of my polyfill"}, {"owner": {"reputation": 1943, "user_id": 2447211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgIoL.jpg?s=128&g=1", "display_name": "Michael Desigaud", "link": "https://stackoverflow.com/users/2447211/michael-desigaud"}, "edited": false, "score": 1, "creation_date": 1573645865, "post_id": 58836175, "comment_id": 103947543, "body": "If you&#39;ve got an error in the vendor.js it may comes from a third party library that is not compatible with IE11"}, {"owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "edited": false, "score": 0, "creation_date": 1573646225, "post_id": 58836175, "comment_id": 103947724, "body": "I don&#39;t think so, because a month ago the application worked on IE11. We did not update or install any dependencies since then. But I am not entirely sure cause I just inherited the app from another dev. I will provide the dependencies too, maybe someone sees a package that may cause an issue. And I will go through them too."}, {"owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "edited": false, "score": 0, "creation_date": 1573646318, "post_id": 58836175, "comment_id": 103947770, "body": "Could a dev-dependency cause issues too? I don&#39;t think so or am I wrong?"}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1573644772, "creation_date": 1573644772, "answer_id": 58836175, "question_id": 58836057, "link": "https://stackoverflow.com/questions/58836057/angular-8-project-not-working-in-ie11-even-thought-i-have-gone-through-every-ste/58836175#58836175", "title": "Angular 8 Project not working in IE11 even thought I have gone through every step", "body": "<p>Under the folder src there is a file called polyfills.ts. Did you look at this file and install the dependencies required for IE support and uncomment the lines?</p>\n\n<p><a href=\"https://angular.io/guide/browser-support\" rel=\"nofollow noreferrer\">https://angular.io/guide/browser-support</a></p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "edited": false, "score": 0, "creation_date": 1573648568, "post_id": 58836913, "comment_id": 103948873, "body": "Okay I have tried that thread too. It was one of the first things while I was searchign for a solution. But the babel tip is new. That would be a workaround but not a real solution if it worked."}], "tags": [], "owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "is_accepted": false, "score": 0, "last_activity_date": 1573648473, "last_edit_date": 1573648473, "creation_date": 1573647312, "answer_id": 58836913, "question_id": 58836057, "link": "https://stackoverflow.com/questions/58836057/angular-8-project-not-working-in-ie11-even-thought-i-have-gone-through-every-ste/58836913#58836913", "title": "Angular 8 Project not working in IE11 even thought I have gone through every step", "body": "<p>Please refer to <a href=\"https://stackoverflow.com/questions/57362323/angular-8-project-not-working-in-microsoft-edge-and-ie11\">this thread</a> to config ES5 in angular 8 application polyfill. Then, run the serve with this configuration using the below command:</p>\n\n<pre><code>    ng serve --configuration es5\n</code></pre>\n\n<p>About the arrow function issue, please try to use the <a href=\"https://babeljs.io/repl\" rel=\"nofollow noreferrer\">babel</a> translate the related code to ES5.</p>\n"}], "owner": {"reputation": 73, "user_id": 5831261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8c45fe6782b96a488b104f00313778c?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah Yel", "link": "https://stackoverflow.com/users/5831261/nurullah-yel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2022, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1573648473, "creation_date": 1573644292, "last_edit_date": 1573646300, "question_id": 58836057, "link": "https://stackoverflow.com/questions/58836057/angular-8-project-not-working-in-ie11-even-thought-i-have-gone-through-every-ste", "title": "Angular 8 Project not working in IE11 even thought I have gone through every step", "body": "<p>you have probably heard of this problem way too often. But I can't seem to find the solution for this. Every time I server the app and start it on IE I get a syntax error in the vendor.js pointing to an arrow function.</p>\n\n<p>I have gone through following steps:</p>\n\n<ul>\n<li>changed the <code>target</code> in my <code>tsconfig</code> to <code>es5</code></li>\n<li>in the <code>browserlist</code> I changed <code>not IE 9-11</code> to <code>IE 9-11</code></li>\n<li>In the polyfill.js uncommented all core-js imports and added the classlist.js import and even installed the package</li>\n</ul>\n\n<p>After all the steps I still get the same issue. It seems only the polyfill.js file is being transpiled to a polyfill-es5.js file and I don't know why.</p>\n\n<p>I have an Angular application with following setup:</p>\n\n<pre><code>@angular-devkit/architect           0.801.3\n@angular-devkit/build-angular       0.801.3\n@angular-devkit/build-optimizer     0.801.3\n@angular-devkit/build-webpack       0.801.3\n@angular-devkit/core                8.1.3\n@angular-devkit/schematics          8.1.0\n@angular/animations                 8.1.0\n@angular/cdk                        8.2.3\n@angular/cli                        8.1.0\n@angular/common                     8.1.0\n@angular/compiler                   8.1.0\n@angular/compiler-cli               8.1.0\n@angular/forms                      8.1.0\n@angular/platform-browser           8.1.0\n@angular/platform-browser-dynamic   8.1.0\n@angular/platform-server            8.1.0\n@angular/router                     8.1.0\n@ngtools/webpack                    8.1.3\n@schematics/angular                 8.1.0\n@schematics/update                  0.801.0\nng-packagr                          5.7.1\nrxjs                                6.5.3\ntypescript                          3.4.5\nwebpack                             4.35.2\n</code></pre>\n\n<p>Any ideas on this?</p>\n\n<p>best regards,</p>\n\n<p>Nuru</p>\n\n<p>EDIT:\nThis is how my polyfills.ts looks like:</p>\n\n<pre><code>import 'core-js/';\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es7/array';\nimport 'core-js/fn/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'classlist.js';\nimport 'intl';\nimport 'web-animations-js';\n\n\nimport 'zone.js/dist/zone';\n</code></pre>\n\n<p>Additionally I've also tryed to install and import <code>typedarray</code> and <code>blobjs</code></p>\n\n<p>And my dependencies:</p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/animations\": \"8.1.0\",\n    \"@angular/cdk\": \"^8.0.2\",\n    \"@angular/common\": \"8.1.0\",\n    \"@angular/core\": \"^8.1.0\",\n    \"@angular/forms\": \"8.1.0\",\n    \"@angular/platform-browser\": \"8.1.0\",\n    \"@angular/platform-browser-dynamic\": \"8.1.0\",\n    \"@angular/platform-server\": \"8.1.0\",\n    \"@angular/router\": \"8.1.0\",\n    \"@ng-bootstrap/ng-bootstrap\": \"^4.0.1\",\n    \"@ng-select/ng-select\": \"^2.11.2\",\n    \"@ngrx/core\": \"^1.2.0\",\n    \"@ngrx/store\": \"^8.0.1\",\n    \"@ngx-translate/core\": \"^10.0.2\",\n    \"@ngx-translate/http-loader\": \"^3.0.1\",\n    \"angular2-tinymce\": \"^2.1.2\",\n    \"balloon-css\": \"^0.5.0\",\n    \"bcryptjs\": \"^2.4.3\",\n    \"chart.js\": \"^2.7.1\",\n    \"core-js\": \"^2.5.1\",\n    \"favico.js\": \"^0.3.10\",\n    \"lazysizes\": \"^5.1.1\",\n    \"linkify-it\": \"^2.1.0\",\n    \"mapbox.js\": \"^3.1.1\",\n    \"md5\": \"^2.2.1\",\n    \"moment\": \"^2.24.0\",\n    \"mousetrap\": \"^1.6.2\",\n    \"ng-pick-datetime\": \"^7.0.0\",\n    \"ng-pick-datetime-moment\": \"^1.0.8\",\n    \"ng2-dragula\": \"^2.1.1\",\n    \"ngx-bowser\": \"^0.1.0\",\n    \"ngx-device-detector\": \"^1.3.5\",\n    \"ngx-image-cropper\": \"^1.4.1\",\n    \"ngx-infinite-scroll\": \"^6.0.1\",\n    \"ngx-moment\": \"^3.3.0\",\n    \"ngx-pipes\": \"^2.5.1\",\n    \"papaparse\": \"^4.6.3\",\n    \"push.js\": \"^1.0.4\",\n    \"resumablejs\": \"^1.0.2\",\n    \"rxjs\": \"^6.5.2\",\n    \"socket.io-client\": \"^2.1.1\",\n    \"text-encoding\": \"^0.6.4\",\n    \"twemoji\": \"^11.0.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux", "redux-observable"], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1585837242, "creation_date": 1573643774, "last_edit_date": 1585837242, "question_id": 58835927, "link": "https://stackoverflow.com/questions/58835927/experiences-with-redux-and-redux-observable-middleware-for-handling-asynchronous", "title": "Experiences with Redux and Redux-Observable middleware for handling Asynchronous Http Requests", "body": "<p>I am learning and trying redux in a typescript react environment. So far I have managed to get basic small web application implemented and am at the stage where I would like to refactor and improve the architecture.</p>\n\n<p>I am using \"typescript-actions\" and custom factory methods to facilitate creating actions for Api request, success and failure payload types. I am using a wrapper around http library and have decided upon Axios due to its availability in both node and browser environments. This means no poly fills required when testing with tools such as jest.</p>\n\n<p>I have decided upon \"redux-observable\" to handle API middleware.\nI am currently trying to create a generic factory method that creates an epic(middleware handler) that handles an API Request. I am thinking along the lines of one generic factory method per request flow, e.g. providing a factory method to create an epic handler for:</p>\n\n<ol>\n<li>DELETE, SUCCESS, FAIL FLOW</li>\n<li>GET, SUCCESS, FAIL FLOW</li>\n<li>POST, SUCCESS, FAIL FLOW</li>\n<li>PUT, SUCCESS, FAIL FLOW</li>\n</ol>\n\n<p>Currently, struggling to get this transpiling with Typescript as detailed <a href=\"https://stackoverflow.com/questions/58823453/how-to-create-generic-async-request-epics-that-uses-typesafe-actions-asynccreato\">here</a>.</p>\n\n<p>What are others doing in their production environments with respect to handling asynchronous API requests? For example:</p>\n\n<ol>\n<li><p>Not using redux at all to process intermediary API request states. Instead react components make and handle the request. The response is handled directly or dispatched onto the store once completed.</p></li>\n<li><p>Using a dedicated epic for each individual resource type API flow:</p>\n\n<ul>\n<li>Epic1=FETCH_RESOURCE1, SUCCESS_RESOURCE1, FAIL_RESOURCE1</li>\n<li>Epic2=FETCH_RESOURCE2, FETCH_SUCCESS_RESOURCE2, FETCH_FAIL_RESOURCE2</li>\n<li>EpicN=PATCH_RESOURCEN, PATCH_SUCCESS_RESOURCEN, PATCH_FAIL_RESOURCEN</li>\n</ul></li>\n</ol>\n\n<p>3.Using a generic factory method to create each individual middleware flow. Each factory method accepting reusable parameters and generics such as url, parameters, body data type etc.</p>\n\n<p>Each epic handler for option 2 would likely include duplicate code with the exception that each implementation would include different data such as request url, method, parameters, request body data type etc.</p>\n\n<p>Many of the resources and examples that I have read so far hard code each individual API resource request flow. For example, hardcoding flows for Product, hardcoding flows for Customer etc. Subsequently, duplicate code is the result. How are others tackling this problem in their production environments?</p>\n"}, {"tags": ["angular", "typescript", "three.js"], "owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573643152, "creation_date": 1573643152, "question_id": 58835755, "link": "https://stackoverflow.com/questions/58835755/avoiding-typescript-index-signature", "title": "Avoiding typescript index signature", "body": "<p>I am trying to make use of the EventDispatcher of three.js to add various events to my objects. the problem with my code is that I am getting back the callback interface and have to do some weird things to get to my actual object. all I need it the Object3D that is the target of the event function. But this function returns the callback interface instead. </p>\n\n<p>Typescript has suggested me to use index signature for this but I would much rather get the actual object instead of the callback. Any ideas where I am going wrong to achieve this effect?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Callback {\n    [x: string]: any; // I want to avoid this\n    type: string;\n    event(callback: Callback): void;\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>    this.scene.addObject('planetCore',\n      new THREE.Mesh(\n        new THREE.IcosahedronBufferGeometry(0.3, 1),\n        this.materialLibrary.getMaterial('planetCore')),\n      {\n        type: 'update', event: (callback: Callback) =&gt; { // this object should be the Object3D instead...\n          const target = callback.target as THREE.Object3D; // Also want to avoid this\n\n          target.rotateX(-0.002);\n          target.rotateY(-0.003);\n        }\n      });\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>  addObject(name: string, object: THREE.Object3D, callback?: Callback) {\n    this.sceneData.set(name, object);\n    super.add(object);\n\n    if (callback) {\n      THREE.EventDispatcher.call(object);\n      callback.target = object;\n      object.addEventListener(callback.type, callback.event);\n    }\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1573643051, "post_id": 58835585, "comment_id": 103946176, "body": "@Andreas I&#39;m not using <code>.map()</code>, I&#39;m using <code>.forEach()</code>. But the type guard does not work for either of them. Edit: Sorry, now I see. But that&#39;s still not the point of the question."}, {"owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1573643157, "post_id": 58835585, "comment_id": 103946230, "body": "Ok sorry, I changed that now, but the question remains."}, {"owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1573643246, "post_id": 58835585, "comment_id": 103946279, "body": "Fair point, I would also comment on that in a code review."}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1573643404, "post_id": 58835585, "comment_id": 103946368, "body": "I would guess that the typescript linter just isn&#39;t &quot;smart&quot; enough. It just sees <code>settings[key].forEach(...)</code> and <code>settings[key]</code> is defined as <code>string[]</code> and therefor shows the warning."}, {"owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1573643576, "post_id": 58835585, "comment_id": 103946460, "body": "So generally speaking, type guards do not work for ternary expressions? I can&#39;t be the first one to notice this, but I also can&#39;t find an issue for this on Github."}], "answers": [{"comments": [{"owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1573649985, "post_id": 58836568, "comment_id": 103949648, "body": "That actually makes sense. Is there some way to express with types that an object will not have any getters?"}, {"owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1573650866, "post_id": 58836568, "comment_id": 103950179, "body": "I think in my case (iterating over the enumerable properties of an object) the simplest way to assign the property to a variable is to just use <code>Object.values()</code> instead of <code>Object.keys()</code>."}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "reply_to_user": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1573654832, "post_id": 58836568, "comment_id": 103952560, "body": "@LarsNystr&#246;m: yes, this would be a cleaner way."}], "tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": true, "score": 4, "last_activity_date": 1573646031, "creation_date": 1573646031, "answer_id": 58836568, "question_id": 58835585, "link": "https://stackoverflow.com/questions/58835585/why-doesnt-this-type-guard-work-in-this-ternary-expression/58836568#58836568", "title": "Why doesn&#39;t this type guard work in this ternary expression?", "body": "<p>Type guards don't work with getter expressions, like here</p>\n\n<pre><code>    (isArray(settings[key]))  // (1)\n        ? settings[key].forEach(val =&gt; console.log(val)) // (2)\n</code></pre>\n\n<p>because the compiler cannot be sure that <code>settings[key]</code> in (1) and (2) are the same thing. You have to assign it to a temp variable first:</p>\n\n<pre><code>    let temp = settings[key];\n    (isArray(temp))\n        ? temp.forEach(val =&gt; console.log(val))\n        : console.log(temp)\n</code></pre>\n"}], "owner": {"reputation": 4527, "user_id": 1227116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3804fd195b7cf7ff8c5f2836acd6c894?s=128&d=identicon&r=PG", "display_name": "Lars Nystr&#246;m", "link": "https://stackoverflow.com/users/1227116/lars-nystr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 58836568, "answer_count": 1, "score": 1, "last_activity_date": 1573646031, "creation_date": 1573642618, "last_edit_date": 1573643277, "question_id": 58835585, "link": "https://stackoverflow.com/questions/58835585/why-doesnt-this-type-guard-work-in-this-ternary-expression", "title": "Why doesn&#39;t this type guard work in this ternary expression?", "body": "<p>I have this code:</p>\n\n<pre><code>function isArray(v: any): v is any[] {\n    return Array.isArray(v);\n}\n\ntype Settings = {\n    [key: string]: string | string[]\n}\n\nfunction myfunc(settings: Settings) {\n    Object.keys(settings).forEach(key =&gt; (\n        (isArray(settings[key]))\n            ? settings[key].forEach(val =&gt; console.log(val))\n            : console.log(settings[key])\n    ));\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABDAzgQQE4YIYE8AUAbgFyLZi4CUphyKZFA2gLqIDeAUIt4hgKZQQGJJhy4AdKlF4ilANwcAvhw5RcABz6IAygNhgA5vQC87Lj0YBrPrlIooGGIeZ2HTg4gA+ie48MslFVBIWAREAFtcYIh8FD13FFJdKH0jSjMeRAB5ACMAKz5ocWtcFFj4wxRKcWA4DABRbAgAC3wSxGMAPkR8c0zufCksGTiUhKsbZkpKPv7MgH4fCqMJ3GYausaWomwAGw7uiAQUOF2+cV24Ax3d6dm57lIjsBOzi6vyscrVqdnphUUQA\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>At <code>settings[key].forEach(</code> I'm seeing the message:</p>\n\n<blockquote>\n  <p>Property 'forEach' does not exist on type 'string | string[]'.<br>\n    Property 'forEach' does not exist on type 'string'.</p>\n</blockquote>\n\n<p>So why doesn't the <code>isArray</code> type guard work?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "edited": false, "score": 0, "creation_date": 1573644163, "post_id": 58835911, "comment_id": 103946754, "body": "In what file do you want me to add this line?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12251171"}, "reply_to_user": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "edited": false, "score": 0, "creation_date": 1573644578, "post_id": 58835911, "comment_id": 103946945, "body": "In your main settings file of VSCode or in <code>yourproject&#47;.vscode&#47;settings.json</code> if you only want it to apply to that project."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12251171"}, "is_accepted": false, "score": 0, "last_activity_date": 1573643700, "creation_date": 1573643700, "answer_id": 58835911, "question_id": 58835569, "link": "https://stackoverflow.com/questions/58835569/vscode-does-not-recognize-typescript-3-7-2-features/58835911#58835911", "title": "VSCode does not recognize typescript 3.7.2 features", "body": "<p>You can add the following to your settings so it uses the TypeScript in your node_modules instead of its built-in one (which is probably still on 3.6):</p>\n\n<pre><code>\"typescript.tsdk\": \"node_modules/typescript/lib\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "is_accepted": true, "score": 1, "last_activity_date": 1574232039, "creation_date": 1574232039, "answer_id": 58948209, "question_id": 58835569, "link": "https://stackoverflow.com/questions/58835569/vscode-does-not-recognize-typescript-3-7-2-features/58948209#58948209", "title": "VSCode does not recognize typescript 3.7.2 features", "body": "<p>Installing <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-typescript-next\" rel=\"nofollow noreferrer\">JavaScript and TypeScript Nightly</a> solved my issue.</p>\n"}], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 58948209, "answer_count": 2, "score": 0, "last_activity_date": 1574232039, "creation_date": 1573642578, "question_id": 58835569, "link": "https://stackoverflow.com/questions/58835569/vscode-does-not-recognize-typescript-3-7-2-features", "title": "VSCode does not recognize typescript 3.7.2 features", "body": "<p>I'm using VS Code 1.40.0 and i have the following <code>package.json</code></p>\n\n<pre><code>{\n  \"name\": \"test\",\n  \"version\": \"0.0.1\",\n  \"description\": \"test\",\n  \"main\": \"./src/main.ts\",\n  \"sideEffects\": false,  \n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@typescript-eslint/eslint-plugin\": \"^2.6.1\",\n    \"@typescript-eslint/parser\": \"^2.6.1\",\n    \"eslint\": \"^6.5.1\",\n    \"typescript\": \"^3.7.2\"\n  },\n  \"dependencies\": {\n  }\n}\n</code></pre>\n\n<p>And the following <code>tsconfig.json</code></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n            \"es2019\",\n            \"dom\",\n            \"es2019.array\"\n        ],\n        \"target\": \"es6\",\n        \"module\": \"es6\",\n        \"strict\": true,\n        \"strictBindCallApply\": true,\n        \"strictFunctionTypes\": true,\n        \"strictPropertyInitialization\": true,\n        \"moduleResolution\": \"node\",\n        \"noImplicitAny\": true,\n        \"noImplicitReturns\": true,\n        \"noImplicitThis\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"noFallthroughCasesInSwitch\": true,\n        \"strictNullChecks\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"sourceMap\": true,\n        \"alwaysStrict\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": true\n    }\n}\n</code></pre>\n\n<p>But when writing the following code <code>const a = null ?? 0;</code> vscode complains, but when compiling it works as intended, so is there some setting that must be changed to allow vscode to to parse Typescript 3.7 correctly?</p>\n"}, {"tags": ["typescript", "vue.js", "stenciljs", "stencil-component"], "comments": [{"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1573643072, "post_id": 58835222, "comment_id": 103946190, "body": "Is it possible to see the contents of the stencil-component-test package?"}, {"owner": {"reputation": 772, "user_id": 4011023, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/535042827/picture?type=large", "display_name": "Johan Byr&#233;n", "link": "https://stackoverflow.com/users/4011023/johan-byr%c3%a9n"}, "reply_to_user": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1573649096, "post_id": 58835222, "comment_id": 103949148, "body": "Yes, you can look at it and try it here <a href=\"https://www.npmjs.com/package/stencil-component-test\" rel=\"nofollow noreferrer\">npmjs.com/package/stencil-component-test</a>"}, {"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 1, "creation_date": 1573651530, "post_id": 58835222, "comment_id": 103950553, "body": "have you put &lt;script src=&#39;<a href=\"https://unpkg.com/my-component@0.0.1/dist/mycomponent.js&#39;&gt;&lt;/script\" rel=\"nofollow noreferrer\">unpkg.com/my-component@0.0.1/dist/mycomponent.js&#39;&gt;&lt;/&hellip;</a>&gt; in the head of your index.html file?"}, {"owner": {"reputation": 772, "user_id": 4011023, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/535042827/picture?type=large", "display_name": "Johan Byr&#233;n", "link": "https://stackoverflow.com/users/4011023/johan-byr%c3%a9n"}, "reply_to_user": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1573653175, "post_id": 58835222, "comment_id": 103951532, "body": "@MJ_Wales I can see now that I get an 404 when I include the script-tag. It can&#39;t find the package. I don&#39;t know why tho..."}, {"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1573653544, "post_id": 58835222, "comment_id": 103951746, "body": "Does mycomponent.js file exist in the dist folder in the my-component folder in node_modules?"}, {"owner": {"reputation": 772, "user_id": 4011023, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/535042827/picture?type=large", "display_name": "Johan Byr&#233;n", "link": "https://stackoverflow.com/users/4011023/johan-byr%c3%a9n"}, "reply_to_user": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1573653989, "post_id": 58835222, "comment_id": 103952026, "body": "I got it to work, I had the wrong name. It should be &lt;script src=&#39;unpkg.com/my-component@0.0.1/dist/my-component.js&#39;&gt;&lt;/\u2026&gt;  So now I can see it. Thanks for the help, you got me to look in to the path and guid me in the right direction! THANKS @MJ_Wales"}, {"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 1, "creation_date": 1573654595, "post_id": 58835222, "comment_id": 103952381, "body": "Great! No worries."}], "owner": {"reputation": 772, "user_id": 4011023, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/535042827/picture?type=large", "display_name": "Johan Byr&#233;n", "link": "https://stackoverflow.com/users/4011023/johan-byr%c3%a9n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573641430, "creation_date": 1573641430, "question_id": 58835222, "link": "https://stackoverflow.com/questions/58835222/add-stenciljs-component-fron-npm-to-vue-js-application", "title": "Add stenciljs component fron NPM to Vue.js application", "body": "<p>I don't get my tag to work in my Vue project. \nI have create a Stencil.js component test, its just the origional code from stencil when you create an web component. \nI have upload it to NPM as a public package. </p>\n\n<p>So now it should just be to install and import the package in my vue app, but I cant make it work. (Vue app just build with Vue CLI and have typescript)</p>\n\n<p>When I do the <code>npm install stencil-component-test --save</code> I can see the code in my node_modules, so that works. </p>\n\n<p>I try to import and use it in my Home.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"home\"&gt;\n    &lt;img alt=\"Vue logo\" src=\"../assets/logo.png\" /&gt;\n    &lt;HelloWorld msg=\"Welcome to Your Vue.js App\" /&gt;\n    &lt;my-component&gt;&lt;/my-component&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n// @ is an alias to /src\nimport HelloWorld from \"@/components/HelloWorld.vue\";\nimport MyComponent from \"stencil-component-test\";\n\nexport default {\n  name: \"home\",\n  components: {\n    HelloWorld,\n    MyComponent\n  }\n};\n&lt;/script&gt; \n</code></pre>\n\n<p>Its just an empty tag if I look in chrome dev-tools. \nWhat am I doing wrong? </p>\n"}, {"tags": ["typescript", "webpack", "terser"], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 2073149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s36D2.jpg?s=128&g=1", "display_name": "Michael B.", "link": "https://stackoverflow.com/users/2073149/michael-b"}, "edited": false, "score": 2, "creation_date": 1602631935, "post_id": 58878357, "comment_id": 113780754, "body": "Just as info, this answers the question, but if you intend to use it for minification - this does not make your bundle smaller! From obfuscator docs: &quot;... the obfuscated code is 15-80% slower (depends on options) and the files are significantly larger.&quot;"}, {"owner": {"reputation": 1216, "user_id": 1998097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxHNf.jpg?s=128&g=1", "display_name": "Oleg Zarevennyi", "link": "https://stackoverflow.com/users/1998097/oleg-zarevennyi"}, "reply_to_user": {"reputation": 487, "user_id": 2073149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s36D2.jpg?s=128&g=1", "display_name": "Michael B.", "link": "https://stackoverflow.com/users/2073149/michael-b"}, "edited": false, "score": 0, "creation_date": 1603188268, "post_id": 58878357, "comment_id": 113950701, "body": "@MichaelB. I mostly agree with you, but Terser minification is too delicate without options to make it more strict. The process of minification includes the changes of the names to the shortest possible form \u2013 this already makes code looks mangled (obfuscated). The problem is highly visible in comparison to &quot;Uglify JS&quot; ( &quot;--compress&quot; arg. only)."}], "tags": [], "owner": {"reputation": 1216, "user_id": 1998097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxHNf.jpg?s=128&g=1", "display_name": "Oleg Zarevennyi", "link": "https://stackoverflow.com/users/1998097/oleg-zarevennyi"}, "is_accepted": false, "score": 4, "last_activity_date": 1573825607, "creation_date": 1573825607, "answer_id": 58878357, "question_id": 58835084, "link": "https://stackoverflow.com/questions/58835084/webpackterserplugin-mangle-ignores-properties-and-class-names-poor-quality-o/58878357#58878357", "title": "WebPack+TerserPlugin: mangle ignores properties and class names \u2013 poor quality of the mangled code", "body": "<p>Unfortunately, there is <strong>no</strong> easy solution, and this code is already the best of what you can get with Terser.</p>\n\n<hr>\n\n<p>However, I found a perfect solution: <a href=\"https://github.com/javascript-obfuscator/javascript-obfuscator#readme\" rel=\"nofollow noreferrer\">\"<strong>JavaScript obfuscator</strong>\"\n \u2013 https://github.com/javascript-obfuscator/javascript-obfuscator#readme</a></p>\n\n<p>And its WebPack plugin: <a href=\"https://github.com/javascript-obfuscator/webpack-obfuscator\" rel=\"nofollow noreferrer\">\"<strong>javascript-obfuscator plugin for Webpack</strong>\"\n\u2013 https://github.com/javascript-obfuscator/webpack-obfuscator</a></p>\n\n<p>The resulting JS file after beautifying in Google Chrome will look like this:\n<a href=\"https://i.stack.imgur.com/kSz2n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSz2n.png\" alt=\"An example of perfectly obfuscated JS code with &quot;JavaScript obfuscator&quot;.\"></a></p>\n\n<p>By the way, in my case it is only ~35% larger.</p>\n\n<hr>\n\n<p>So, summarize, the all you need, just to:</p>\n\n<ol>\n<li>Install \"javascript-obfuscator plugin for Webpack\": \"npm install\n--save-dev webpack-obfuscator\"</li>\n<li>And add plugin to the WebPack:</li>\n</ol>\n\n<pre><code>const JavaScriptObfuscator = require('webpack-obfuscator');\n\n// ...\n\n// webpack plugins array\nplugins: [\n    new JavaScriptObfuscator ({\n      rotateUnicodeArray: true\n  }, ['excluded_bundle_name.js'])\n],\n</code></pre>\n\n<p><em>That's all!</em></p>\n"}, {"comments": [{"owner": {"reputation": 1216, "user_id": 1998097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxHNf.jpg?s=128&g=1", "display_name": "Oleg Zarevennyi", "link": "https://stackoverflow.com/users/1998097/oleg-zarevennyi"}, "edited": false, "score": 0, "creation_date": 1575793325, "post_id": 59229752, "comment_id": 104679518, "body": "Interesting solution! Thank you for an example with reference to the docs"}], "tags": [], "owner": {"reputation": 1259, "user_id": 1990647, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jEcME.png?s=128&g=1", "display_name": "Ken Lin", "link": "https://stackoverflow.com/users/1990647/ken-lin"}, "is_accepted": false, "score": 5, "last_activity_date": 1575749369, "creation_date": 1575749369, "answer_id": 59229752, "question_id": 58835084, "link": "https://stackoverflow.com/questions/58835084/webpackterserplugin-mangle-ignores-properties-and-class-names-poor-quality-o/59229752#59229752", "title": "WebPack+TerserPlugin: mangle ignores properties and class names \u2013 poor quality of the mangled code", "body": "<p>I believe in your original config you need to add <a href=\"https://github.com/terser/terser#mangle-properties-options\" rel=\"noreferrer\">mangle.properties</a> to get your ES6 class methods and data members to be mangled.  To avoid mangling external libraries, I \"uniquely\" name all my methods and data members to be mangled using a prefix strategy matching the regex below.  </p>\n\n<pre><code>            new TerserPlugin({\n                terserOptions: {\n                    mangle: {\n                        properties: {\n                            regex: /(^P1|^p1|^_p1)[A-Z]\\w*/\n                        }\n                    }\n                }\n            })\n</code></pre>\n\n<pre><code>        \"terser-webpack-plugin\": \"^2.2.1\",\n</code></pre>\n\n<p>The niggly bits of this approach:</p>\n\n<ul>\n<li>My naming currently doesn't match the naming in the external libraries I am using.  There's no guarantee of this in future library releases.</li>\n<li>It makes my original src a bit uglier.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11554, "user_id": 451480, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/SU8kZ.jpg?s=128&g=1", "display_name": "Blaise", "link": "https://stackoverflow.com/users/451480/blaise"}, "is_accepted": false, "score": 0, "last_activity_date": 1618426939, "creation_date": 1618426939, "answer_id": 67097639, "question_id": 58835084, "link": "https://stackoverflow.com/questions/58835084/webpackterserplugin-mangle-ignores-properties-and-class-names-poor-quality-o/67097639#67097639", "title": "WebPack+TerserPlugin: mangle ignores properties and class names \u2013 poor quality of the mangled code", "body": "<p><code>mangle: { properties: true }</code> is safe if you're not doing introspection or other magic that is untypical in TypeScript:</p>\n<pre><code>class MyClassName {\n    constructor(public arg: string) {\n        console.log(arg);\n    }\n\n    getContext() {\n        console.log(&quot;I'm not mangled because I might be a HTMLCanvasElement.getContext&quot;);\n    }\n\n    someCustomMethodName() {\n        console.log(&quot;What's my name?&quot;);\n    }\n}\n\nconst x = new Foo(&quot;Hello world&quot;);\nx.getContext();\nx.someCustomMethodName();\n\n</code></pre>\n<p>will be turned into</p>\n<pre><code>(() =&gt; {\n    const e = new class {\n        constructor(e) {\n            this.o = e, console.log(e);\n        }\n\n        getContext() {\n            console.log(&quot;I'm not mangled because I might be a HTMLCanvasElement.getContext&quot;);\n        }\n\n        t() {\n            console.log(&quot;What's my name?&quot;);\n        }\n    }(&quot;Hello world&quot;);\n    e.getContext(), e.t();\n})();\n</code></pre>\n"}], "owner": {"reputation": 1216, "user_id": 1998097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxHNf.jpg?s=128&g=1", "display_name": "Oleg Zarevennyi", "link": "https://stackoverflow.com/users/1998097/oleg-zarevennyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2683, "favorite_count": 1, "answer_count": 3, "score": 8, "last_activity_date": 1618426939, "creation_date": 1573641074, "question_id": 58835084, "link": "https://stackoverflow.com/questions/58835084/webpackterserplugin-mangle-ignores-properties-and-class-names-poor-quality-o", "title": "WebPack+TerserPlugin: mangle ignores properties and class names \u2013 poor quality of the mangled code", "body": "<p>The resulting code is <strong>minified</strong> but almost <strong>not mangled</strong>. This is how it looks like in the Google Chrome (<em>beautified</em>):\n<a href=\"https://i.stack.imgur.com/6jibX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6jibX.png\" alt=\"Example of result did not mangled code 1/2.\"></a>\n<a href=\"https://i.stack.imgur.com/F4e7i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F4e7i.png\" alt=\"Example of result did not mangled code 1/2.\"></a></p>\n\n<p>All properties names, lots of variables have their original names.\nEven with Terser's mangle options specified explicitly: </p>\n\n<ul>\n<li>mangle: true,</li>\n<li>sourceMap: false,</li>\n<li>keep_fnames: false, </li>\n<li>toplevel: true,</li>\n</ul>\n\n<p>This is WebPack config:</p>\n\n<pre><code>const TerserPlugin = require('terser-webpack-plugin');\nconst path = require('path');\n\nmodule.exports = {\n    entry: './src/scripts/index.ts',\n    devtool: 'inline-source-map',\n    module: {\n        rules: [        \n            {\n                test: /\\.tsx?$/,                \n                use: {\n                    loader: 'ts-loader',\n                    options: { configFile: 'tsconfig-build.json' }\n                },\n                exclude: /node_modules/,                \n            },\n        ],        \n    },\n    resolve: {\n        extensions: [ '.tsx', '.ts', '.js' ],\n    },\n    plugins: [ ],\n\n    // PROBLEMS HERE:\n    optimization: {        \n        minimize: true,        \n        minimizer: [new TerserPlugin({\n            sourceMap: false,            \n            extractComments: false, // To avoid separate file with licenses.\n            terserOptions: {\n                mangle: true,\n                sourceMap: false,       \n                //keep_classnames: false,\n                keep_fnames: false,\n                toplevel: true,                                \n            },                     \n        })],\n    },\n\n    output: {    \n        path: path.resolve(__dirname, resultDirPath),\n        filename: 'main.js',\n        publicPath: './',\n    }   \n\n}\n</code></pre>\n\n<p><strong>Did I miss something in the config?</strong></p>\n"}, {"tags": ["typescript", "ecmascript-6", "ecmascript-5", "tsconfig"], "comments": [{"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1573641498, "post_id": 58835079, "comment_id": 103945299, "body": "It&#39;s certainly possible, have you tried anything?"}], "answers": [{"tags": [], "owner": {"reputation": 273, "user_id": 9776240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98f52ee9944357a8ef16191460ee393?s=128&d=identicon&r=PG", "display_name": "Anon", "link": "https://stackoverflow.com/users/9776240/anon"}, "is_accepted": true, "score": 11, "last_activity_date": 1573644932, "last_edit_date": 1573644932, "creation_date": 1573642067, "answer_id": 58835421, "question_id": 58835079, "link": "https://stackoverflow.com/questions/58835079/compile-typescript-to-multiple-targets/58835421#58835421", "title": "Compile TypeScript to multiple targets", "body": "<p>A simple solution would be to create two <code>tsconfig.json</code> files with the different targets and output directories.</p>\n\n<p><strong>tsconfig-es5.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"outDir\": \"./ES5\",\n    // Additional configuration like module type etc.\n}\n</code></pre>\n\n<p><strong>tsconfig-es6.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES6\",\n    \"outDir\": \"./ES6\",\n    // Additional configuration like module type etc.\n}\n</code></pre>\n\n<p>Then create a build script that concatenates the building, e.g. for Windows:</p>\n\n<p><code>tsc --project ./tsconfig-es5.json &amp;&amp; tsc --project ./tsconfig-es6.json</code></p>\n\n<p>The alternative would be to have one tsconfig.json and directly specify the <code>target</code> and <code>outDir</code> parameters in the build script (see <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">Compiler Options</a>).</p>\n"}], "owner": {"reputation": 55, "user_id": 8480256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa16a21de3da84e445b78d3d510641?s=128&d=identicon&r=PG&f=1", "display_name": "fveltmann", "link": "https://stackoverflow.com/users/8480256/fveltmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1449, "favorite_count": 0, "accepted_answer_id": 58835421, "answer_count": 1, "score": 3, "last_activity_date": 1573644932, "creation_date": 1573641062, "question_id": 58835079, "link": "https://stackoverflow.com/questions/58835079/compile-typescript-to-multiple-targets", "title": "Compile TypeScript to multiple targets", "body": "<p>I want to compile Typescript files to multiple targets like to ES5 and ES6 both. I have the following example directory:</p>\n\n<p><strong>ES5</strong></p>\n\n<p><strong>ES6</strong></p>\n\n<p><strong>test.ts</strong></p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<p>So when I run the compiler I want it to compile test.ts as ES5 to the ES5 folder and as ES6 to the ES6 folder. Is that possible somehow?</p>\n"}, {"tags": ["angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1573640245, "post_id": 58834807, "comment_id": 103944632, "body": "Show us your code please"}, {"owner": {"reputation": 505, "user_id": 5409086, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ydixo.jpg?s=128&g=1", "display_name": "Maartenw", "link": "https://stackoverflow.com/users/5409086/maartenw"}, "edited": false, "score": 0, "creation_date": 1573641544, "post_id": 58834807, "comment_id": 103945333, "body": "Please show us your module.ts and component.ts. Have you properly imported the package?"}, {"owner": {"reputation": 29, "user_id": 9891187, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Atomx", "link": "https://stackoverflow.com/users/9891187/atomx"}, "edited": false, "score": 0, "creation_date": 1573641915, "post_id": 58834807, "comment_id": 103945548, "body": "Library is certainly correct, I imported it in a new Project and It works. I&#39;ve problems when i try to use that in an existing angular 8 app, with the same angular.json/tsconfig.json"}, {"owner": {"reputation": 29, "user_id": 9891187, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Atomx", "link": "https://stackoverflow.com/users/9891187/atomx"}, "edited": false, "score": 0, "creation_date": 1573738513, "post_id": 58834807, "comment_id": 103987339, "body": "I found the problem, I serve my application with --aot param. I changed this: ng serve --aot --proxy-config proxy.conf.js to ng serve --proxy-config proxy.conf.js And now it works correctly. Thanks for your help :)"}], "owner": {"reputation": 29, "user_id": 9891187, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Atomx", "link": "https://stackoverflow.com/users/9891187/atomx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573640120, "creation_date": 1573640120, "question_id": 58834807, "link": "https://stackoverflow.com/questions/58834807/angular-app-cannot-import-npm-custom-module", "title": "Angular app, cannot import npm custom module", "body": "<p>I created a library using tutorial found here <a href=\"https://angular.io/guide/creating-libraries\" rel=\"nofollow noreferrer\">https://angular.io/guide/creating-libraries</a>, it works correctly, I can import that in a new Angular project, but when I try to import in an existing Project I've an error: Cannot find module \"xxx\"\nProjects using the same modules versions and angular.json/tsconfig is the same. Thanks</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1573648465, "creation_date": 1573648465, "answer_id": 58837253, "question_id": 58834525, "link": "https://stackoverflow.com/questions/58834525/how-to-infer-data-based-on-key-in-input-parameters/58837253#58837253", "title": "How to infer data based on key in input parameters?", "body": "<p>The issue here is that type parameter <code>K</code> <a href=\"https://github.com/microsoft/TypeScript/issues/13995\" rel=\"nofollow noreferrer\">cannot be narrowed</a> with the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#control-flow-based-type-analysis\" rel=\"nofollow noreferrer\">control flow</a> (the <code>switch</code>). An example:</p>\n\n<pre><code>function fooGeneric&lt;T extends \"a\" | \"b\"&gt;(t: T) {\n  if (t === \"a\") {\n    t // t is still T extends \"a\" | \"b\" \ud83d\ude15\n  }\n}\n\nfunction fooConcrete(t: \"a\" | \"b\") {\n  if (t === \"a\") {\n    t // t is now \"a\" as expected\n  }\n}\n</code></pre>\n\n<p>The conditional type <code>Data&lt;K&gt;</code> will not be narrowed as well, so TS doesn't know how the function parameter <code>data</code> looks like in the branches of the <code>switch</code> statement. </p>\n\n<p>Solution: It is fine and safe to just use a type assertion here, as you already checked the value of <code>key</code>.</p>\n\n<pre><code>const doSomething = &lt;K extends someTypes|otherTypes&gt;(key:K, data: Data&lt;K&gt;) =&gt; {\n  switch (key) {\n    case \"b\":\n      console.log((data as Data&lt;\"b\"&gt;).length);\n      break;\n    case \"e\":\n      console.log((data as Data&lt;\"e\"&gt;).foo);\n      break;\n  }\n}\n</code></pre>\n\n<p>Alternatively, you could make <code>doSomething</code> concrete and use a mapping <code>Data</code> type (this one alters function signature):</p>\n\n<pre><code>type DataAlt = { [K in someTypes]: string } &amp; { [K in otherTypes]: someObject }\n\nconst doSomethingAlt = (key: keyof DataAlt, data: DataAlt) =&gt; {\n  switch (key) {\n    case \"b\":\n      const resB = data[key] // const resB: string\n      resB.length // \u2705\n      break;\n    case \"e\":\n      const resE = data[key] // const resE: someObject\n      resE.foo // \u2705\n      break;\n  }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=34&amp;ssc=2&amp;pln=21&amp;pc=1#code/C4TwDgpgBAzg9gWwgFXBGUC8UBEBDHKAH1wCNCScBjHAWAChRIo5gALCAJ1Ug2xwAmFXBGE4AZnXoMAlgDtgXcXirR4SAPKkAVhCrAohgN4ND4uHABcsYJ3kBzBgF8GDJtAAieYHgA8AaQA%20LCh-KAgAD0U5AQx1FDQMAH4bOzl7KGt4rV19V3oqODkYAwE4AGVECHYHEIDwqIgYuKqedCJWDm5EwIAKAGsIEEt-ABooAW88ay8fAMCASixgk3pDGAB3GWAqNigBoaXVw0MqPBhoHHJLUxPTovgAGwgAOke4e17eyZ8oc6hZn4rjhFm8mvZ2AsANy3O6kTgQPD9GFrE5nC4iHA3VF3QrFODPN4fL4-PB-DCA3w4USg8xwaGwk7wxHI24uejstxoAFTACCjwM2CMUAA2mF5LBWokALpZWy1JxQABkUGFYqgEs6XDaMFlks0Oj0Bk5BQepQqVRq6X5gv2g2GUHtcHEPJ8NvGpJmfIFS0wK1um22uzth1VjPRl2ujPuxQMCJgACEQqSRfbpVAAPQZqB4kpQeMJuVpRw4k4FsHpdiZ7OAUHJo1BmUiUbjzpdRNi7jG8-GAKLJqapobprM5s359A9rJVHJG%20u9l506tQOulwyN1mo9nsoA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58837253, "answer_count": 1, "score": 0, "last_activity_date": 1573648465, "creation_date": 1573639251, "question_id": 58834525, "link": "https://stackoverflow.com/questions/58834525/how-to-infer-data-based-on-key-in-input-parameters", "title": "How to infer data based on key in input parameters?", "body": "<p>Not quite sure why this doesn't work.</p>\n\n<pre><code>type someTypes = \"a\" | \"b\" | \"c\"\ntype otherTypes = \"d\" | \"e\" | \"f\"\n\ninterface someObject   {\n  foo: string\n}\n\ntype Data&lt;K&gt; = K extends someTypes ? string : someObject\n\nconst doSomething = &lt;K extends someTypes|otherTypes&gt;(key:K, data: Data&lt;K&gt;) =&gt; {\n  switch (key) {\n    case \"b\":\n      console.log(data.length);\n      break;\n    case \"e\":\n      console.log(data.foo);\n      break;\n  }\n}\n</code></pre>\n\n<p>What I want to achieve is that with some key values data has one shape, while others give another shape. If this would be overloading the signatures would be any of these:</p>\n\n<pre><code>const doSomething = (key: someTypes, data: string) =&gt; { }\nconst doSomething = (key: otherTypes, data: someObject) =&gt; { }\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBAzg9gWwgFXBGUC8UBEBDHKAH1wCNCScBjHAWAChRIo5gALCAJ1Ug2xwAmFXBGE4AZnXoMAlgDtgXcXirR4SAPKkAVhCrAohgN4ND4uHABcsYJ3kBzBgF8GDJtAAieYHgA8AaQA+LCh-KAgAD0U5AQx1FDQMAH4bOzl7KGt4rV19V3oqODkYAwE4AGVECHYHEIDwqIgYuKqedCJWDm5EwIAKAGsIEEt-ABooAW88ay8fAMCASixgk3pDGAB3GWAqNigBoaXVw0MqPBhoHHJLUxPTovgAGwgAOke4e17Jnzem+3YFgBuW53UicCB4frAtYnM4XEQ4G4wu6FYpwZ5vD5fKYvcxwIEgk5giFQ24uejkhhAA\" rel=\"nofollow noreferrer\">ts-playground</a></p>\n"}, {"tags": ["javascript", "typescript", "blob", "arraybuffer"], "answers": [{"tags": [], "owner": {"reputation": 4662, "user_id": 4035845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IXWOi.jpg?s=128&g=1", "display_name": "AnthumChris", "link": "https://stackoverflow.com/users/4035845/anthumchris"}, "is_accepted": false, "score": 0, "last_activity_date": 1576009027, "creation_date": 1576009027, "answer_id": 59274728, "question_id": 58834498, "link": "https://stackoverflow.com/questions/58834498/html-dom-to-array-buffer-to-make-blob-for-pdf/59274728#59274728", "title": "Html DOM to Array Buffer to make BLOB for pdf?", "body": "<p>Consider using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder\" rel=\"nofollow noreferrer\">TextEncoder</a>, which can easily encode/decode Strings and ArrayBuffers:</p>\n\n<pre><code>const encoder = new TextEncoder(),\n      decoder = new TextDecoder(),\n      text = 'Hello',\n      textEncoded = encoder.encode(text),\n      textDecoded = decoder.decode(textEncoded);\n\nconsole.log({ text, textDecoded, textEncoded });\n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 8418313, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a66f9068254b8cf25e6c80780c81e764?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Naeem Akhtar", "link": "https://stackoverflow.com/users/8418313/muhammad-naeem-akhtar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576009027, "creation_date": 1573639170, "question_id": 58834498, "link": "https://stackoverflow.com/questions/58834498/html-dom-to-array-buffer-to-make-blob-for-pdf", "title": "Html DOM to Array Buffer to make BLOB for pdf?", "body": "<p>I want to show my HTML DOM as pdf in new tab using BLOB. We can achieve this by calling a API which will return a blob but I want to do this without the involvement of any server side API. I am facing problems in converting my html string to ARRAY BUFFER. Here is the code on stackblitz you can test this and please let me know how to solve this. Thanks</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-clrg5r\" rel=\"nofollow noreferrer\">generate pdf from html dom</a>  </p>\n"}, {"tags": ["typescript", "visual-studio-code", "intellisense", "type-inference", "monaco-editor"], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 3198373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb338019879c63fdcb334d636bd176a?s=128&d=identicon&r=PG&f=1", "display_name": "ImFonky", "link": "https://stackoverflow.com/users/3198373/imfonky"}, "edited": false, "score": 0, "creation_date": 1574250608, "post_id": 58944783, "comment_id": 104163135, "body": "Thank you so much. You just gave me exactly what i needed!"}], "tags": [], "owner": {"reputation": 163, "user_id": 3925216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SdbDi.jpg?s=128&g=1", "display_name": "blutorange", "link": "https://stackoverflow.com/users/3925216/blutorange"}, "is_accepted": false, "score": 4, "last_activity_date": 1574208879, "creation_date": 1574208879, "answer_id": 58944783, "question_id": 58834378, "link": "https://stackoverflow.com/questions/58834378/different-typescript-inference-management-between-vscode-and-monaco-editor/58944783#58944783", "title": "Different Typescript inference management between vscode and monaco-editor", "body": "<h1>TL;DR</h1>\n\n<p>Until Monaco Editor implements a proper solution, just use <code>monaco.languages.typescript.typescriptDefaults.addExtraLib(YOUR_CUSTOM_LIBRARY,\"defaultLib:lib.es6.d.ts\")</code> and don't bother with <code>setCompilerOptions</code> at all. You can create your own custom lib by combining the parts you want from <a href=\"https://github.com/microsoft/TypeScript/tree/master/lib\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/tree/master/lib</a>.</p>\n\n<h1>Long version</h1>\n\n<p>I'm using monaco editor as well and had the same issue. After looking around a bit at the monaco source code, I think I found a solution (workaround?) that does not require modifying the source code of monaco editor.</p>\n\n<p>First of all, let's take a look at the current behavior. Monaco Editor uses a so-called <a href=\"https://github.com/microsoft/TypeScript/blob/454a3a0b0fd1d197e1f970e40e49fc7b29741d47/src/services/types.ts#L203\" rel=\"nofollow noreferrer\">LanguageServiceHost</a> to implement TypeScript related functionality, see also <a href=\"https://github.com/microsoft/TypeScript/wiki/Using-the-Language-Service-API\" rel=\"nofollow noreferrer\">Using the Language Service API\n</a>:</p>\n\n<blockquote>\n  <p>It [the language host] abstracts all interactions between the language service and the external world. The language service host defers managing, monitoring and maintaining input files to the host.</p>\n</blockquote>\n\n<p>The TypeScript language host for Monaco editor is part of the <a href=\"https://github.com/microsoft/monaco-typescript\" rel=\"nofollow noreferrer\">microsoft/monaco-typescript</a> repository and can be found in <a href=\"https://github.com/microsoft/monaco-typescript/blob/master/src/tsWorker.ts#L23\" rel=\"nofollow noreferrer\">tsWorker.ts</a>.</p>\n\n<p>Now, if we take a look at the source code, we find that only <a href=\"https://github.com/microsoft/monaco-typescript/blob/master/src/tsWorker.ts#L13\" rel=\"nofollow noreferrer\">two library files</a> are <a href=\"https://github.com/microsoft/monaco-typescript/blob/master/src/tsWorker.ts#L116\" rel=\"nofollow noreferrer\">currently supported</a> by Monaco Editor:</p>\n\n<ul>\n<li>lib.d.ts (<a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.d.ts\" rel=\"nofollow noreferrer\">source code</a>)</li>\n<li>lib.es6.d.ts (<a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.es6.d.ts\" rel=\"nofollow noreferrer\">source code</a>)</li>\n</ul>\n\n<p><code>lib.d.ts</code> is used when the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler option</a> <a href=\"https://microsoft.github.io/monaco-editor/api/interfaces/monaco.languages.typescript.compileroptions.html#target\" rel=\"nofollow noreferrer\">target</a> is set to <a href=\"https://microsoft.github.io/monaco-editor/api/enums/monaco.languages.typescript.scripttarget.html#es5\" rel=\"nofollow noreferrer\">ES5</a>, otherwise <code>lib.es6.d.ts</code> is used. Some more debugging reveals that no matter what we set for the <a href=\"https://microsoft.github.io/monaco-editor/api/interfaces/monaco.languages.typescript.compileroptions.html#lib\" rel=\"nofollow noreferrer\">lib</a> option, one of these both files is used as the library. As you mention, we could use the <a href=\"https://microsoft.github.io/monaco-editor/api/interfaces/monaco.languages.typescript.compileroptions.html#nolib\" rel=\"nofollow noreferrer\">noLib</a> option, but this results in other side effects such as type inference not working correctly anymore.</p>\n\n<hr>\n\n<p>So now I had the idea that most of the time, you don't want no library, but a different library. The DOM specific parts  (which I presume you don't want) are in  <a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.dom.d.ts\" rel=\"nofollow noreferrer\">lib.dom.d.ts</a>, which is included by <a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.d.ts\" rel=\"nofollow noreferrer\">lib.d.ts</a>. \nUsually, it's a good idea to add at least <a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.es5.d.ts\" rel=\"nofollow noreferrer\">lib.es5.d.ts</a>, which contains the types for JavaScript basics such as <code>Object</code>, <code>Function</code> or <code>Number</code>; or perhaps <a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.es2015.d.ts\" rel=\"nofollow noreferrer\">lib.es2015.d.ts</a>, which contains <code>Symbol</code>, new array methods and more. So the question becomes: How do we make Monaco Editor use a custom - possibly empty - library? </p>\n\n<p>In <code>monaco-typescript</code>, the library source code is hard-coded in the file <a href=\"https://github.com/microsoft/monaco-typescript/blob/master/src/lib/lib.ts\" rel=\"nofollow noreferrer\">lib.ts</a>. So if we were using a bundler such as webpack, we could just replace that file with our own version that exports a constant <code>lib_dts</code> or <code>lib_es6_dts</code> with the library we want to use. This option may not always be possible, and modifying the source code of a library is not a good idea anyway.</p>\n\n<p>But if we take another look at <code>tsWorker.ts</code> and <a href=\"https://github.com/microsoft/monaco-typescript/blob/master/src/tsWorker.ts#L71\" rel=\"nofollow noreferrer\">how it retrieves the content for a given file name</a>, another solution (workaround?) presents itself: If we <a href=\"https://microsoft.github.io/monaco-editor/api/interfaces/monaco.languages.typescript.languageservicedefaults.html#addextralib\" rel=\"nofollow noreferrer\">add an extra lib</a> with a specific name, that extra lib will be used instead of the built-in libraries. </p>\n\n<ul>\n<li>for <code>lib.d.ts</code>, use the file name <code>defaultLib:lib.d.ts</code></li>\n<li>for <code>lib.es6.d.ts</code>, use the file name <code>defaultLib:lib.es6.d.ts</code></li>\n</ul>\n\n<p>To summarize, here's an example with your code that can be run on the <a href=\"https://microsoft.github.io/monaco-editor/playground.html\" rel=\"nofollow noreferrer\">Monaco Editor playground</a>. Please note that this sets the target to <code>ES5</code> (as in your example), but we could also not modify the compiler options at all and just use <code>lib.es6.d.ts</code> when adding the extra lib. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const code = `\ninterface SimplifiedTypeMap {\n    string: string;\n    number: number;\n    boolean: boolean;\n}\n\ntype GlobalMethodAdd = &lt;T extends keyof SimplifiedTypeMap&gt;(\n    name: string,\n    types: T[],\n    method: () =&gt; SimplifiedTypeMap[T]\n) =&gt; void;\n\ninterface MethodStore {\n    [name: string]: {\n        types: (keyof SimplifiedTypeMap)[];\n        method: () =&gt; SimplifiedTypeMap[keyof SimplifiedTypeMap];\n    };\n}\n\nexport const methodStorage: MethodStore = {};\n\nconst addMethod: GlobalMethodAdd = (name, types, method) =&gt; {\n    methodStorage[name] = { types, method };\n};\n\n// Try hovering over addMethod, type inferrence works correctly\naddMethod(\"test\", [\"string\", \"number\"], () =&gt;\n    1 &gt; 0.5 ? \"abcd\" : 1234\n);\n\n// No DOM library loaded, so this gives an error\nnew HTMLAnchorElement();    \n`;\n\nasync function setup() {\n    const response = await fetch(\"https://raw.githubusercontent.com/microsoft/TypeScript/master/lib/lib.es5.d.ts\");\n    const libes5 = await response.text();\n\n    monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\n        allowNonTsExtensions: true,\n        target: monaco.languages.typescript.ScriptTarget.ES5,\n    });\n\n    // Use \"lib.custom.d.ts\" for ES5, and \"defaultLib:lib.es6.d.ts\" for ESNext (the default)\n    monaco.languages.typescript.typescriptDefaults.addExtraLib(\n        libes5,\n        \"defaultLib:lib.d.ts\"\n    );\n\n    monaco.editor.create(document.getElementById(\"container\"), {\n        value: code,\n        language: \"typescript\"\n    });\n}\n\nsetup();\n</code></pre>\n\n<p>Also, here's a <a href=\"https://codesandbox.io/s/wonderful-brook-t4q6g\" rel=\"nofollow noreferrer\">modified version of your Code Sandbox example</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pbBVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pbBVg.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 735, "user_id": 3198373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb338019879c63fdcb334d636bd176a?s=128&d=identicon&r=PG&f=1", "display_name": "ImFonky", "link": "https://stackoverflow.com/users/3198373/imfonky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574208879, "creation_date": 1573638822, "last_edit_date": 1574084367, "question_id": 58834378, "link": "https://stackoverflow.com/questions/58834378/different-typescript-inference-management-between-vscode-and-monaco-editor", "title": "Different Typescript inference management between vscode and monaco-editor", "body": "<p>I just made a complex function that take 3 arguments : name, types and method.\nThis function stores a method in a store. It infer the return type of the third agument from the second one.</p>\n\n<p><strong>addMethod.d.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface SimplifiedTypeMap {\n  string: string;\n  number: number;\n  boolean: boolean;\n}\n\ntype GlobalMethodAdd = &lt;T extends keyof SimplifiedTypeMap&gt;(\n  name: string,\n  types: T[],\n  method: () =&gt; SimplifiedTypeMap[T]\n) =&gt; void;\n\ninterface MethodStore {\n  [name: string]: {\n    types: (keyof SimplifiedTypeMap)[];\n    method: () =&gt; SimplifiedTypeMap[keyof SimplifiedTypeMap];\n  };\n}\n</code></pre>\n\n<p>Thanks to typescript engine, the return type of the last argument (method) is inferred from the items in the second argument (types) and int forces the user of the function to write a method with a specific return type </p>\n\n<p><strong>addMethod.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { random } from \"lodash-es\";\n\nexport const methodStorage: MethodStore = {};\n\nconst addMethod: GlobalMethodAdd = (name, types, method) =&gt; {\n  methodStorage[name] = { types, method };\n};\n\naddMethod(\"test\", [\"string\", \"number\"], () =&gt;\n  random(1, true) &gt; 0.5 ? \"abcd\" : 1234\n);\n</code></pre>\n\n<p>When i'm using the addMethod function on Visual-Studio Code or Codesandbox, the return type of the third argument is well known but not on monaco-editor :</p>\n\n<p><strong>visual studio code</strong>\n<a href=\"https://i.stack.imgur.com/qVzn5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qVzn5.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>codesandbox editor</strong>\n<a href=\"https://i.stack.imgur.com/sYxhu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYxhu.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>(FAILING) monaco editor</strong>\n<a href=\"https://i.stack.imgur.com/P2nxv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2nxv.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://codesandbox.io/s/wizardly-brattain-ly11j\" rel=\"nofollow noreferrer\">Here is my example in codesandbox</a></p>\n\n<p>=========================================================================</p>\n\n<p><strong>EDIT</strong>\nI found out that it's the usage of noLib compiler option that makes that happen.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>reactMonaco.languages.typescript.typescriptDefaults.setCompilerOptions({\n  target: reactMonaco.languages.typescript.ScriptTarget.ES5,\n  noLib: true,\n  allowNonTsExtensions: true,\n  checkJs: true,\n});\n</code></pre>\n\n<p>Is there a way to avoid es5 libs autocompletion while keeping inference working properly?</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "google-chrome-devtools", "private-members"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1573639092, "post_id": 58834372, "comment_id": 103944023, "body": "Devtools uses CodeMirror editor which doesn&#39;t support private fields. VSCode will ship it once it&#39;s implemented in TypeScript. The V8 issue says the support is added in the internal debugging protocol used by devtools."}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1578467538, "post_id": 58834372, "comment_id": 105443453, "body": "See <a href=\"https://stackoverflow.com/questions/59640931/how-can-i-use-javascript-private-fields-in-vs-code/59640932\" title=\"how can i use javascript private fields in vs code\">stackoverflow.com/questions/59640931/&hellip;</a> for the VS Code part"}], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1573647700, "creation_date": 1573638798, "last_edit_date": 1573647700, "question_id": 58834372, "link": "https://stackoverflow.com/questions/58834372/private-class-fields-support-in-chrome-developer-tools-visual-studio-code", "title": "Private class fields: support in Chrome developer tools / Visual Studio Code", "body": "<p>Private class fields have been shipped in Chrome 74 according to <a href=\"https://caniuse.com/#feat=mdn-javascript_classes_private_class_fields\" rel=\"nofollow noreferrer\">caniuse</a>. <em>I am aware that despite being shipped, private class fields still have <a href=\"https://github.com/tc39/proposal-class-fields\" rel=\"nofollow noreferrer\">proposal status as of TC39</a>.</em></p>\n\n<p>We would very much love to use these in the webcomponent library we're developing. Our build setup fully supports this and the code works as designed.</p>\n\n<p>Unfortunately, by the looks of it there is still no support for this feature in the Chrome developer tools (as of Version 78.0.3904.97) - despite a <a href=\"https://bugs.chromium.org/p/v8/issues/detail?id=8337\" rel=\"nofollow noreferrer\">Chromium issue claiming the opposite</a>.</p>\n\n<p>Not only can you not look into private class fields while debugging</p>\n\n<p><a href=\"https://i.stack.imgur.com/YaGpK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YaGpK.png\" alt=\"Chrome debugger won&#39;t show the contents of private class fields\"></a></p>\n\n<p>but also the indentation is completely screwed in the source view (we're using sourcemaps). Identically wrong indentation behaviour is found in Visual Studio Code 1.39.2 (which, I assume, is the reason I'm seeing this wrong indentation in Chrome developer tools).</p>\n\n<p><a href=\"https://i.stack.imgur.com/0lhfo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0lhfo.png\" alt=\"Indentation is wrecked\"></a></p>\n\n<p>Also VS Code linter shows <code>Invalid character</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wg8VW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wg8VW.png\" alt=\"VS code linter does not know prviate class field syntax\"></a></p>\n\n<p>I tried to research information on this, but wasn't able to find anything substantial.</p>\n\n<p>Does anyone have any reference/knowledge as of </p>\n\n<ol>\n<li>is this supposed to work (which I'd expect for a feature shipped 5 versions ago, maybe behind a flag?), </li>\n<li>if not, <strong><em>when</em></strong> will this work,</li>\n<li>is there any way to enable support for private class fields in VS Code (e.g. via a plugin)?</li>\n</ol>\n\n<p>What I was able to find:</p>\n\n<ul>\n<li><a href=\"https://bugs.chromium.org/p/v8/issues/detail?id=8337\" rel=\"nofollow noreferrer\">Chromium Issue 8337: Include private fields in GetInternalProperties</a> Status: Fixed (Closed)</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/issues/9950\" rel=\"nofollow noreferrer\">Typescript issue (has been going on since 2016)</a></li>\n<li><a href=\"https://github.com/Microsoft/vscode/issues/72867\" rel=\"nofollow noreferrer\">VS Code issue (marked as a duplicate of above Typescript issue)</a></li>\n</ul>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1221, "user_id": 2136825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3065b38f45cc365a6f4dd8b52f89f53?s=128&d=identicon&r=PG", "display_name": "Shivratna Kumar", "link": "https://stackoverflow.com/users/2136825/shivratna-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1573639672, "last_edit_date": 1573639672, "creation_date": 1573639239, "answer_id": 58834520, "question_id": 58834347, "link": "https://stackoverflow.com/questions/58834347/get-random-object-from-object-freeze/58834520#58834520", "title": "Get random object from Object.freeze", "body": "<p>You can do like this:-</p>\n\n<pre><code>function getRandomCounty(obj) {\n    const keys = Object.keys(obj);\n    const randomeIndex = Math.floor(Math.random() * (keys.length));\n    return obj[keys[randomeIndex]];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 1, "last_activity_date": 1573639351, "creation_date": 1573639351, "answer_id": 58834558, "question_id": 58834347, "link": "https://stackoverflow.com/questions/58834347/get-random-object-from-object-freeze/58834558#58834558", "title": "Get random object from Object.freeze", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class AppComponent {\r\n  countyCode = Object.freeze({\r\n    '01': 'Alba',\r\n    '02': 'Arad',\r\n    '03': 'Arges',\r\n    '04': 'Bacau',\r\n    '05': 'Bihor',\r\n    '06': 'Bistrita-Nasaud',\r\n    '07': 'Botosani',\r\n    '08': 'Brasov',\r\n    '09': 'Braila',\r\n    10: 'Buzau',\r\n    11: 'Caras-Severin',\r\n    12: 'Cluj',\r\n    13: 'Constanta',\r\n    14: 'Covasna',\r\n    15: 'Dambovita',\r\n    16: 'Dolj',\r\n    17: 'Galati',\r\n    18: 'Gorj',\r\n    19: 'Harghita',\r\n    20: 'Hunedoara',\r\n    21: 'Ialomita',\r\n    22: 'Iasi',\r\n    23: 'Ilfov',\r\n    24: 'Maramures',\r\n    25: 'Mehedinti',\r\n    26: 'Mures',\r\n    27: 'Neamt',\r\n    28: 'Olt',\r\n    29: 'Prahova',\r\n    30: 'Satu Mare',\r\n    31: 'Salaj',\r\n    32: 'Sibiu',\r\n    33: 'Suceava',\r\n    34: 'Teleorman',\r\n    35: 'Timis',\r\n    36: 'Tulcea',\r\n    37: 'Vaslui',\r\n    38: 'Valcea',\r\n    39: 'Vrancea',\r\n    40: 'Bucuresti',\r\n    41: 'Bucuresti S.1',\r\n    42: 'Bucuresti S.2',\r\n    43: 'Bucuresti S.3',\r\n    44: 'Bucuresti S.4',\r\n    45: 'Bucuresti S.5',\r\n    46: 'Bucuresti S.6',\r\n    51: 'Calarasi',\r\n    52: 'Giurgiu'\r\n  });\r\n\r\n  getRandomCounty() { // this must return random object from countyCode like {'03': 'Arges'}\r\n     const props = Object.getOwnPropertyNames(this.countyCode);\r\n     return this.countyCode[props[Math.floor(Math.random() * props.length)]];\r\n  }\r\n}\r\n\r\nconst appComponent = new AppComponent();\r\n\r\nconsole.log(appComponent.getRandomCounty());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 434, "user_id": 11562992, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_MMvbu3IMhI/AAAAAAAAAAI/AAAAAAAAAh0/Yw6I0R5safY/photo.jpg?sz=128", "display_name": "Youssef Tounoussi", "link": "https://stackoverflow.com/users/11562992/youssef-tounoussi"}, "is_accepted": true, "score": 1, "last_activity_date": 1573639781, "creation_date": 1573639781, "answer_id": 58834702, "question_id": 58834347, "link": "https://stackoverflow.com/questions/58834347/get-random-object-from-object-freeze/58834702#58834702", "title": "Get random object from Object.freeze", "body": "<p>I hope this work for you </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>countyCode =  [\r\n{'01': 'Alba'},\r\n{'02': 'Arad'},\r\n{'03': 'Arges'},\r\n{'04': 'Bacau'},\r\n{'05': 'Bihor'},\r\n{'06': 'Bistrita-Nasaud'},\r\n{'07': 'Botosani'},\r\n{'08': 'Brasov'},\r\n{'09': 'Braila'},\r\n{'10': 'Buzau'},\r\n{'11': 'Caras-Severin'},\r\n{'12': 'Cluj'},\r\n{'13': 'Constanta'},\r\n{'14': 'Covasna'},\r\n{'15': 'Dambovita'},\r\n{'16': 'Dolj'},\r\n{'17': 'Galati'},\r\n{'18': 'Gorj'},\r\n{'19': 'Harghita'},\r\n{'20': 'Hunedoara'},\r\n{'21': 'Ialomita'},\r\n{'22': 'Iasi'},\r\n{'23': 'Ilfov'},\r\n{'24': 'Maramures'},\r\n{'25': 'Mehedinti'},\r\n{'26': 'Mures'},\r\n{'27': 'Neamt'},\r\n{'28': 'Olt'},\r\n{'29': 'Prahova'},\r\n{'30': 'Satu Mare'},\r\n{'31': 'Salaj'},\r\n{'32': 'Sibiu'},\r\n{'33': 'Suceava'},\r\n{'34': 'Teleorman'},\r\n{'35': 'Timis'},\r\n{'36': 'Tulcea'},\r\n{'37': 'Vaslui'},\r\n{'38': 'Valcea'},\r\n{'39': 'Vrancea'},\r\n{'40': 'Bucuresti'},\r\n{'41': 'Bucuresti S.1'},\r\n{'42': 'Bucuresti S.2'},\r\n{'43': 'Bucuresti S.3'},\r\n{'44': 'Bucuresti S.4'},\r\n{'45': 'Bucuresti S.5'},\r\n{'46': 'Bucuresti S.6'},\r\n{'51': 'Calarasi'},\r\n{'52': 'Giurgiu'} ];\r\n\r\nObject.freeze(countyCode);\r\n\r\nconsole.log(getRandomCounty());\r\n\r\nfunction getRandomCounty() \r\n{ // this must return random object from countyCode like {'03': 'Arges'}\r\n let keys = Object.keys(countyCode)\r\nreturn countyCode[keys[ keys.length * Math.random() &lt;&lt; 0]];\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 6102848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532ed53a75191b68bfec321170e71537?s=128&d=identicon&r=PG&f=1", "display_name": "niac", "link": "https://stackoverflow.com/users/6102848/niac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58834702, "answer_count": 3, "score": 0, "last_activity_date": 1573639781, "creation_date": 1573638712, "question_id": 58834347, "link": "https://stackoverflow.com/questions/58834347/get-random-object-from-object-freeze", "title": "Get random object from Object.freeze", "body": "<p>How can I write <code>getRandomCounty()</code> function to return always a random object from <code>countyCode</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppComponent {\n  countyCode: { [key: string]: string } = Object.freeze({\n    '01': 'Alba',\n    '02': 'Arad',\n    '03': 'Arges',\n    '04': 'Bacau',\n    '05': 'Bihor',\n    '06': 'Bistrita-Nasaud',\n    '07': 'Botosani',\n    '08': 'Brasov',\n    '09': 'Braila',\n    10: 'Buzau',\n    11: 'Caras-Severin',\n    12: 'Cluj',\n    13: 'Constanta',\n    14: 'Covasna',\n    15: 'Dambovita',\n    16: 'Dolj',\n    17: 'Galati',\n    18: 'Gorj',\n    19: 'Harghita',\n    20: 'Hunedoara',\n    21: 'Ialomita',\n    22: 'Iasi',\n    23: 'Ilfov',\n    24: 'Maramures',\n    25: 'Mehedinti',\n    26: 'Mures',\n    27: 'Neamt',\n    28: 'Olt',\n    29: 'Prahova',\n    30: 'Satu Mare',\n    31: 'Salaj',\n    32: 'Sibiu',\n    33: 'Suceava',\n    34: 'Teleorman',\n    35: 'Timis',\n    36: 'Tulcea',\n    37: 'Vaslui',\n    38: 'Valcea',\n    39: 'Vrancea',\n    40: 'Bucuresti',\n    41: 'Bucuresti S.1',\n    42: 'Bucuresti S.2',\n    43: 'Bucuresti S.3',\n    44: 'Bucuresti S.4',\n    45: 'Bucuresti S.5',\n    46: 'Bucuresti S.6',\n    51: 'Calarasi',\n    52: 'Giurgiu'\n  });\n\n  getRandomCounty() { // this must return random object from countyCode like {'03': 'Arges'}\n     // ?????\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1573646277, "post_id": 58833965, "comment_id": 103947751, "body": "you can do that without much ado by simply setting <code>myObject[&#39;privateProp&#39;]=whatever</code>."}, {"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1573650059, "post_id": 58833965, "comment_id": 103949701, "body": "Yes but it isn&#39;t typesafe. And in our project access via <code>[&#39;something&#39;]</code> is forbidden (ts-lint)"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1573656034, "post_id": 58833965, "comment_id": 103953246, "body": "<code>keyof</code> and mapped types don&#39;t work with <code>private</code>. what about something like <a href=\"https://www.typescriptlang.org/play/#code/MYGwhgzhAECyCeBhcVoG8BQ1vQA4CcBLANzABcBTaAQWgF5oBWAbixwJPKoCF7oAiAGYB7YfwwBfDBgD0M6BQC2hMjAr58w-NEKDoAawrxoW6KRABXKmXi4qFgHb6HwgO4OMwYQ4hkaALjgkFAgAbX5qfgBdPgBmT29faG5AhGRIMP5uaL5+ACMwfHEMQUdgMkJvaAgKMgAFIlJKAB4AFQUAD0oHABMYYTyAKwpygD4ACjJA1oAaaEUwXEC0aFCAaUDfIgcAcyjAsAdjCQBKafQ2bHxai3wHaAB5IZGyADoMwh2HSbmF3BPJNIvD4-MI+A4KK4gukoOMATV6o0uONhHMVtQ5rxTkDEsIQBRXiBhDsUQCgA\" rel=\"nofollow noreferrer\">this</a> to at least check the prop key and value types ?"}], "owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573637429, "creation_date": 1573637429, "question_id": 58833965, "link": "https://stackoverflow.com/questions/58833965/is-it-possible-to-map-private-members-and-methods-to-be-public-with-typescript", "title": "Is it possible to map private members and methods to be public with Typescript?", "body": "<p>lets say I have </p>\n\n<pre><code>class MyClass {\n    private A = 5;\n\n    public printA() {\n        console.log(`A is ${this.A}`)\n        this.updateA();\n    }\n\n    private updateA() {\n        this.A = Math.random();\n    }\n}\n</code></pre>\n\n<p>is it possible to map it to convert all the private to public? like</p>\n\n<pre><code>const myClassWithAllPublic = &lt;somethingHere&gt;new MyClass();\n</code></pre>\n\n<p>My use case is the follow: </p>\n\n<p>I have a big service with a lot of public APIs. I want to construct debug functions that change the state of the class so I can say something like \"Put A in value 7\". For that I want to send <code>myClassWithAllPublic</code> where I can modify it without creating noise in my service class.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": true, "score": 1, "last_activity_date": 1573640969, "last_edit_date": 1573640969, "creation_date": 1573640644, "answer_id": 58834951, "question_id": 58833931, "link": "https://stackoverflow.com/questions/58833931/extend-generic-interface-with-strongly-typed-implementations/58834951#58834951", "title": "Extend generic interface with strongly typed implementations", "body": "<pre><code>type TransformerKeyType = {\n  'number': number,\n  'string': string,\n}\n\ninterface DataTransformer&lt;T extends keyof TransformerKeyType&gt; {\n    type: T,\n    apply(data: TransformerKeyType[T]) : TransformerKeyType[T]\n}\n\ntype NumberTransformer = DataTransformer&lt;'number'&gt;;\ntype StringTransformer = DataTransformer&lt;'string'&gt;;\n\nconst a : (DataTransformer&lt;'number'&gt; |  DataTransformer&lt;'string'&gt;)[] = [{\n    type: 'number',\n    apply: (n) =&gt; n * 10\n},\n{\n    type: 'string',\n    apply: (str) =&gt; str.substr(0,1)\n}];\n\na.forEach(s =&gt; {\n  if (s.type === 'string') {\n    s // here properly we have DataTransformer&lt;'string'&gt;\n  }\n});\n</code></pre>\n\n<p>Explanation:\n<code>TransformerKeyType</code> is a type which give us relation between string and type. So we can easly map string <code>'number'</code> to type <code>number</code></p>\n\n<p><code>DataTransformer</code> as a generic parameter which takes only keys of <code>TransformerKeyType</code> so only <code>number</code> or <code>string</code>. And automatically body of the type is setting proper <code>K</code> by saying that <code>K</code> is <code>TransformerKeyType[T]</code>. So type for the given property <code>T</code> inside <code>TransformerKeyType</code>. </p>\n\n<p><code>type NumberTransformer = DataTransformer&lt;'number'&gt;;</code> is instance of our type. It is properly setting apply function with type <code>number</code></p>\n\n<p><code>(DataTransformer&lt;'number'&gt; |  DataTransformer&lt;'string'&gt;)[]</code> is saying that we have an array which contains or DataTransformer with number or DataTransformer with string. It nicely works, in the way that you don't need to declare argument types in apply function, and you can leave <code>n =&gt; n * 10</code> where type is known as number.</p>\n"}], "owner": {"reputation": 2679, "user_id": 1318360, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/da52e45aae841d985ae1e0650dabcda2?s=128&d=identicon&r=PG&f=1", "display_name": "IggY", "link": "https://stackoverflow.com/users/1318360/iggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58834951, "answer_count": 1, "score": 0, "last_activity_date": 1573640969, "creation_date": 1573637324, "question_id": 58833931, "link": "https://stackoverflow.com/questions/58833931/extend-generic-interface-with-strongly-typed-implementations", "title": "Extend generic interface with strongly typed implementations", "body": "<p>I have a Transformer interface:</p>\n\n<pre><code>interface Transformer&lt;K&gt; {\n    type: string,\n    apply&lt;K&gt;(data: K) : K\n}\n</code></pre>\n\n<p>I want to create 2 interface that extends <code>Transformer</code></p>\n\n<pre><code>\ninterface NumberTransformer extends Transformer&lt;number&gt; {\n    type: 'number',\n    apply&lt;number&gt;(data: number) : number\n}\n\ninterface StringTransformer extends Transformer&lt;string&gt; {\n    type: 'string',\n    apply&lt;string&gt;(data: string) : string\n}\n</code></pre>\n\n<p>This throws 2 TS errors <code>(TS6133) 'string'/'number' is declared but its value is never read</code> and I don't get why</p>\n\n<p>Then, in a Transformer[] list, I want to be able to use the <code>type</code> parameter as a type guard like</p>\n\n<pre><code>const a : DataTransformer&lt;??&gt;[] = [{\n    type: 'number',\n    apply: (n :number) =&gt; n * 10\n},\n{\n    type: 'string',\n    apply: (str :string) =&gt; str.substr(0,1)\n}];\n\na.forEach(s =&gt; {\n  if (s.type === 'string')\n    //s.apply is string =&gt; string type\n});\n</code></pre>\n\n<p>But I don't know what the type of <code>a</code> should be ? <code>DataTransformer&lt;any&gt;</code> ?</p>\n"}, {"tags": ["reactjs", "typescript"], "owner": {"reputation": 107, "user_id": 10948867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XspcfmjOSP8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQa94VmcY0scq0ALyoqR9c4anI_A/mo/photo.jpg?sz=128", "display_name": "Ebadta", "link": "https://stackoverflow.com/users/10948867/ebadta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573636159, "creation_date": 1573636159, "question_id": 58833642, "link": "https://stackoverflow.com/questions/58833642/typescript-intersection-and-usestoreactions-hook-gives-me-type-has-no-call-sign", "title": "Typescript intersection and useStoreActions hook gives me &quot;Type has no call signatures.ts(2349)&quot; error", "body": "<p>I am trying to do <a href=\"https://easy-peasy.now.sh/docs/recipes/generalising-models.html\" rel=\"nofollow noreferrer\">generalizing</a> and code splitting with store addModel/removeModel functions at model level, with typescript and <a href=\"https://easy-peasy.now.sh/\" rel=\"nofollow noreferrer\">easy-peasy</a>.</p>\n\n<p><a href=\"https://codesandbox.io/s/easy-peasy-typescript-no-call-signature-error-86xqz\" rel=\"nofollow noreferrer\">There is a sandbox example</a> for the problem illustration.</p>\n\n<p>I get the </p>\n\n<pre><code>This expression is not callable.Type 'Computed&lt;CommonModuleModel, string[], StoreModel&gt;' has no call signatures.ts(2349)\n</code></pre>\n\n<p>error message.\nI see this is a common issue with ts, I checked a number of posts about it, but cannot figure out, how to avoid this error in my case.</p>\n\n<p>There is a newmodule.tsx component, wich is lazily loaded, and it adds it's own slice to the model level, but cannot call the nextTodos function from the generalized commonModuleModel model.</p>\n\n<p>How can I get this functionality?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 0, "creation_date": 1573636471, "post_id": 58833589, "comment_id": 103942620, "body": "Where are you putting <code>myDirective</code> on? <code>NgControl</code> has to be provided by someone. In my experience its either the reactive forms or template driven forms directives that do so, think <code>ngModel</code>, <code>formControlName</code> and <code>formControl</code>"}, {"owner": {"reputation": 187, "user_id": 11163863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad4105e37c70e5db39e9b414cbc96b55?s=128&d=identicon&r=PG&f=1", "display_name": "dmd", "link": "https://stackoverflow.com/users/11163863/dmd"}, "reply_to_user": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 0, "creation_date": 1573636975, "post_id": 58833589, "comment_id": 103942854, "body": "@realappie Thank you for reply, I updated my question above. I put myDirective in a reactive form."}, {"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1573637032, "post_id": 58833589, "comment_id": 103942892, "body": "Please check the usage of the directive. The field should have an associated <code>[formControl]</code> or <code>formControlName</code>"}, {"owner": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 0, "creation_date": 1573637601, "post_id": 58833589, "comment_id": 103943201, "body": "@dmd Can you show me how you are using it? The folder structure is not helping me under the issue."}, {"owner": {"reputation": 187, "user_id": 11163863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad4105e37c70e5db39e9b414cbc96b55?s=128&d=identicon&r=PG&f=1", "display_name": "dmd", "link": "https://stackoverflow.com/users/11163863/dmd"}, "reply_to_user": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 0, "creation_date": 1573638290, "post_id": 58833589, "comment_id": 103943557, "body": "@realappie I got the problem, because I place it on the &lt;form&gt; tag(which has formgroup), but not on &lt;input&gt; tag (which has formControlName). Thank you!"}, {"owner": {"reputation": 187, "user_id": 11163863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad4105e37c70e5db39e9b414cbc96b55?s=128&d=identicon&r=PG&f=1", "display_name": "dmd", "link": "https://stackoverflow.com/users/11163863/dmd"}, "reply_to_user": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 1, "creation_date": 1573638326, "post_id": 58833589, "comment_id": 103943578, "body": "@SachinGupta Thank you for the tip! I got the problem as I said above. Thank you!"}, {"owner": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 0, "creation_date": 1573656849, "post_id": 58833589, "comment_id": 103953690, "body": "@dmd Tip, if you don&#39;t want your directive to throw that error whenever you are injecting <code>NgControl</code> you can use the <code>Optional</code> decorator. This is useful in case someone in your codebase uses the directive without knowing its dependency on a forms directive, in that case you can throw a more descriptive error or even link to this stackoverflow post :D You would do so by checking the presence of <code>ngControl</code> yourself. Think <code>if (this.ngControl == null) { console.warn(&#39;descriptive error..&#39;) } </code>"}, {"owner": {"reputation": 187, "user_id": 11163863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad4105e37c70e5db39e9b414cbc96b55?s=128&d=identicon&r=PG&f=1", "display_name": "dmd", "link": "https://stackoverflow.com/users/11163863/dmd"}, "reply_to_user": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 0, "creation_date": 1573712222, "post_id": 58833589, "comment_id": 103973692, "body": "@realappie Thank you very much for the tip, Optional is a good idea! I will do that, thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 3415, "user_id": 1098046, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LULOr.jpg?s=128&g=1", "display_name": "Mackelito", "link": "https://stackoverflow.com/users/1098046/mackelito"}, "is_accepted": false, "score": 0, "last_activity_date": 1602773277, "creation_date": 1602773277, "answer_id": 64374201, "question_id": 58833589, "link": "https://stackoverflow.com/questions/58833589/ngcontrol-in-directive-no-provider-for-ngcontrol/64374201#64374201", "title": "NgControl in Directive: No Provider for NgControl", "body": "<p>Try this constructor in your directive..</p>\n<pre><code>  constructor(@Optional() @Self() public ngControl: NgControl) {}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 11163863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad4105e37c70e5db39e9b414cbc96b55?s=128&d=identicon&r=PG&f=1", "display_name": "dmd", "link": "https://stackoverflow.com/users/11163863/dmd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1602773277, "creation_date": 1573635997, "last_edit_date": 1573636863, "question_id": 58833589, "link": "https://stackoverflow.com/questions/58833589/ngcontrol-in-directive-no-provider-for-ngcontrol", "title": "NgControl in Directive: No Provider for NgControl", "body": "<p>I have a Directive which I would like to inject 'NgControl' but got 'No provider for NgControl' error.</p>\n\n<p>My File Directory is as following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>app folder\r\n |--directives folder\r\n        |--myDirective\r\n |\r\n |--components folder\r\n        |--events folder\r\n             |--event.module.ts\r\n             |--event1 folder          \r\n                 |--event1.compoenent.html &lt;-- where I use myDirective, which is a reactive form\r\n                 |--event1.component.ts\r\n        \r\n |--app.module.ts\r\n |--custom-material.module.ts &lt;-- where I declare my myDirective</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>my directive:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Directive, OnInit, OnDestroy } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: \"[myDirective]\"\r\n})\r\nexport class myDirective implements OnInit{\r\n\r\n  constructor(public ngControl: NgControl) {}\r\n\r\n   ngOnInit(): void {\r\n    this.ngControl.control.valueChanges.subscribe(\r\n      value =&gt; {\r\n          console.log('xxx');\r\n      }\r\n    );\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>my custom-material.module.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@NgModule({\r\n  imports:      [ FormsModule, ReactiveFormsModule ],\r\n  declarations: [ myDirective ],\r\n  exports: [\r\n    myDirective\r\n  ],\r\n})\r\nexport class CustomMaterialModule { \r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "angular8", "tree-shaking"], "answers": [{"comments": [{"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1573730602, "post_id": 58835294, "comment_id": 103982971, "body": "I know those configuration very well. i just want to ensure if i didn&#39;t change any configuration, will tree-shaking takles place in dev mode or not?. this is my question"}], "tags": [], "owner": {"reputation": 2421, "user_id": 11025582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a45b1fd0442131ea4522f1d291e21a4?s=128&d=identicon&r=PG&f=1", "display_name": "HTN", "link": "https://stackoverflow.com/users/11025582/htn"}, "is_accepted": false, "score": 0, "last_activity_date": 1573641672, "creation_date": 1573641672, "answer_id": 58835294, "question_id": 58833418, "link": "https://stackoverflow.com/questions/58833418/is-tree-shaking-happening-in-angular-8-development-mode/58835294#58835294", "title": "Is tree-shaking happening in angular 8 development mode?", "body": "<p>For recent versions of Angular: optimization is fault by default.\nFor the configuration, you can look at your <code>angular.json</code> file in projects > project-name > architect > build</p>\n"}], "owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573642422, "creation_date": 1573635369, "last_edit_date": 1573642422, "question_id": 58833418, "link": "https://stackoverflow.com/questions/58833418/is-tree-shaking-happening-in-angular-8-development-mode", "title": "Is tree-shaking happening in angular 8 development mode?", "body": "<p>I just want to know, if tree-shaking takes place in angular 8 development mode?</p>\n\n<p>When using below command:</p>\n\n<blockquote>\n  <p>ng build</p>\n</blockquote>\n\n<p>I know if I use the command below tree-shaking takes place.</p>\n\n<blockquote>\n  <p>ng build --optimization=true|false</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "fullcalendar"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1573646636, "post_id": 58833173, "comment_id": 103947935, "body": "any reason you can&#39;t re-write the jQuery versions in TypeScript/JavaScript? Everything jQuery does must have a JavaScript equivalent, because jQuery is simply a layer of convenience methods on top of JavaScript."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1573646690, "post_id": 58833173, "comment_id": 103947963, "body": "Anyway, unless you show us some relevant bits of your code, and also specify the <b>exact</b> behaviour you want to see (because &quot;some logic&quot; is not an implementable requirement!), and also show us the jQuery examples you think would provide equivalent functionality, then it&#39;s really not possible for us to give you specific advice on how to implement it."}], "owner": {"reputation": 45, "user_id": 12155024, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L23oc5QV5gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVvhtiNZy21IK124FG3HkCuSoPHg/photo.jpg?sz=128", "display_name": "Omkar Khandekar", "link": "https://stackoverflow.com/users/12155024/omkar-khandekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573634408, "creation_date": 1573634408, "question_id": 58833173, "link": "https://stackoverflow.com/questions/58833173/to-change-fullcalendar-cell-background-color-on-an-event-in-angular-6-typescript", "title": "To change FullCalendar Cell background color on an Event in Angular 6 Typescript", "body": "<p>I have a requirement, i need to change the background color of some cells of the calendar which have Events on them.</p>\n\n<p>The events are dynamically populated from the db, now i want to change the colors of the cells with multiple colors based on some logic i have added in the .ts file.\nI have come across multiple solutions, but they are in JQuery, and i have added all this in Typescript.</p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["javascript", "typescript", "foreach", "promise", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 7023095, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--DKsmS8N-Xs/AAAAAAAAAAI/AAAAAAAAAEI/7XRzoRfNh6o/photo.jpg?sz=128", "display_name": "Ahmed Chioua", "link": "https://stackoverflow.com/users/7023095/ahmed-chioua"}, "edited": false, "score": 0, "creation_date": 1575022428, "post_id": 58834835, "comment_id": 104437745, "body": "is there a way I Can create a promise for each chunk and chain the promisses ? since the Promise.all() method wait for all the requests to complete at the same time  resulting in a timeout"}, {"owner": {"reputation": 1674, "user_id": 2726561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8305eb6b7caf74b7d5e75989d8ec09fe?s=128&d=identicon&r=PG&f=1", "display_name": "Vovan", "link": "https://stackoverflow.com/users/2726561/vovan"}, "reply_to_user": {"reputation": 308, "user_id": 7023095, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--DKsmS8N-Xs/AAAAAAAAAAI/AAAAAAAAAEI/7XRzoRfNh6o/photo.jpg?sz=128", "display_name": "Ahmed Chioua", "link": "https://stackoverflow.com/users/7023095/ahmed-chioua"}, "edited": false, "score": 0, "creation_date": 1575132569, "post_id": 58834835, "comment_id": 104466412, "body": "for sure, you can follow this <a href=\"https://stackoverflow.com/questions/44955463/creating-a-promise-chain-in-a-for-loop\" title=\"creating a promise chain in a for loop\">stackoverflow.com/questions/44955463/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1674, "user_id": 2726561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8305eb6b7caf74b7d5e75989d8ec09fe?s=128&d=identicon&r=PG&f=1", "display_name": "Vovan", "link": "https://stackoverflow.com/users/2726561/vovan"}, "is_accepted": true, "score": 1, "last_activity_date": 1573640212, "creation_date": 1573640212, "answer_id": 58834835, "question_id": 58833014, "link": "https://stackoverflow.com/questions/58833014/how-to-split-up-data-before-upload/58834835#58834835", "title": "How to split up data before upload?", "body": "<p>You can get list of promise results with <a href=\"https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">Promise.all()</a></p>\n\n<p>So in your case instead of using forEach function, you want to generate array of promises:</p>\n\n<pre><code>Promise.all(\n   chunks.map(chunk =&gt; this.portalService.updateDataForChart(variableId, chunk)))...\n).then(results =&gt; {\n   // iterate over results array and do other stuff\n})\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 7023095, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--DKsmS8N-Xs/AAAAAAAAAAI/AAAAAAAAAEI/7XRzoRfNh6o/photo.jpg?sz=128", "display_name": "Ahmed Chioua", "link": "https://stackoverflow.com/users/7023095/ahmed-chioua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58834835, "answer_count": 1, "score": 0, "last_activity_date": 1573640212, "creation_date": 1573633711, "last_edit_date": 1573636893, "question_id": 58833014, "link": "https://stackoverflow.com/questions/58833014/how-to-split-up-data-before-upload", "title": "How to split up data before upload?", "body": "<p>I have a function that uploads data to a server that I need to modify to upload data by chunks.</p>\n\n<p>The original function implementation is the following :</p>\n\n<pre><code>    private async updateDatasource(variableName: string, variableRecords: ChartDataResponse[]):Promise&lt;boolean&gt; {\n    // unrelated code\n        return this.portalService.updateDataForChart(variableId, variableRecords)\n            .then((updateRes: boolean) =&gt; {\n                 if (updateRes) {\n                    return this.executeRequest&lt;HealthDataSource, boolean&gt;({\n                      path: `/variable/user/datasources/${dataSource.identifier}`,\n                      method: 'PUT',\n                      body: {\n                        libelle: dataSource.datasource.libelle,\n                        type: dataSource.datasource.type,\n                        lastSyncDate: Math.max(maxDate, dataSource.datasource.lastSyncDate)\n                      },\n                      headers: this.getHeaders()\n                    });\n                  } else {\n                    return false;\n                  }\n                });\n            } else {\n              return Promise.reject(false);\n            }\n          }\n\n</code></pre>\n\n<p>I have tried the following but I can't seem to know how to return a promise with the result on it:</p>\n\n<pre><code>    private async updateDatasource(variableName: string, variableRecords: ChartDataResponse[]): Promise&lt;boolean&gt; {\n    //unrelated code \n    //chunked the data\n          var chunks = _.chunk(variableRecords, 30);\n\n          return _.forEach(chunks, (chunk) =&gt; this.portalService.updateDataForChart(variableId, chunk))\n            .then((updateRes: boolean) =&gt; {\n              if (updateRes) {\n                return this.executeRequest&lt;HealthDataSource, boolean&gt;({\n                  path: `/variable/user/datasources/${dataSource.identifier}`,\n                  method: 'PUT',\n                  body: {\n                    libelle: dataSource.datasource.libelle,\n                    type: dataSource.datasource.type,\n                    lastSyncDate: Math.max(maxDate, dataSource.datasource.lastSyncDate)\n                  },\n                  headers: this.getHeaders()\n                });\n              } else {\n                return false;\n              }\n            });\n        } else {\n          return Promise.reject(false);\n     }\n    }\n</code></pre>\n"}, {"tags": ["typescript", "generics", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 2, "last_activity_date": 1573639458, "last_edit_date": 1573639458, "creation_date": 1573638957, "answer_id": 58834420, "question_id": 58833000, "link": "https://stackoverflow.com/questions/58833000/it-it-possible-to-infer-function-generic-type-based-on-all-rest-arguments/58834420#58834420", "title": "It it possible to infer function generic type based on all rest arguments?", "body": "<p>The compiler infers tuple types for <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#generic-rest-parameters\" rel=\"nofollow noreferrer\">generic rest parameters</a> properly, when type parameter <code>T</code> has an array type constraint <code>&lt;T extends Boxed&lt;any&gt;[]&gt;</code> instead of an item constraint:</p>\n\n<pre><code>type Boxed&lt;T&gt; = { inner: T }\n\nconst box = &lt;T&gt;(inner: T): Boxed&lt;T&gt; =&gt; ({ inner });\n\n// here 'extends Boxed&lt;any&gt;[]' instead of 'extends Boxed&lt;any&gt;'\nfunction test&lt;T extends Boxed&lt;any&gt;[]&gt;(...args: T): T extends Boxed&lt;infer I&gt;[] ? I : never {\n    return args[0].inner;\n}\n\ntest(box(0), box('str')); // string | number \ud83c\udf89\ntest(...[box(0), box('str')]); // string | number \ud83c\udf89\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=10&amp;pc=50#code/C4TwDgpgBAQg9gDwgEwDwBUB8UC8UDeUAlgHYkQBOAXFOlAL4CwAUCwMZwkDOwUARolxQMmABSly1WgEoa8JGiy5sowhMoNpAbhYsAZgFcSbYEU5RgEHhigQElksi6xEKVAEMSITAG0AumIAdMHuFADmXDTosrS29hCOzvJupHoaAJK%20flAA-FDpUDTkAG4a%20CxQlVAUEMAGFCRQoRE%20AAx%20geoUOsxMrMyWPKICCKKt0gA0-IiiAOQ8FLPS2lAA9KtQC6RhUAA%20UCQGALZ8lCyDwKLBgT4jY5PTo-PAi9J%20K%20ubL9t7B8enFCAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>If you write it <code>T extends Boxed&lt;any&gt;&gt;(...args: T[])</code>, TS apparently is eager to infer the whole array type by the type of first item, as all rest parameter items are supposed to have the same type.</p>\n\n<pre><code>declare function foo&lt;T extends string | number&gt;(...args: T[]): void\n// foo&lt;\"bar\"&gt;(...args: \"bar\"[]): void;\nfoo(\"bar\", 1) // nono, '1' is not assignable to parameter of type '\"bar\"'\n</code></pre>\n\n<p>This notation resolves the generic rest parameters correctly.</p>\n\n<pre><code>declare function foo2&lt;T extends (string | number)[]&gt;(...args: T): void\n// foo2&lt;[\"bar\", 1]&gt;(args_0: \"bar\", args_1: 1): void\nfoo2(\"bar\", 1)\n</code></pre>\n"}], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 1, "accepted_answer_id": 58834420, "answer_count": 1, "score": 1, "last_activity_date": 1573639458, "creation_date": 1573633642, "question_id": 58833000, "link": "https://stackoverflow.com/questions/58833000/it-it-possible-to-infer-function-generic-type-based-on-all-rest-arguments", "title": "It it possible to infer function generic type based on all rest arguments?", "body": "<p>I have the code similar to following:</p>\n\n<pre><code>type Boxed&lt;T&gt; = { inner: T }\n\nconst box = &lt;T&gt;(inner: T): Boxed&lt;T&gt; =&gt; ({ inner });\n\nfunction test&lt;T extends Boxed&lt;any&gt;&gt;(...args: T[]): T extends Boxed&lt;infer I&gt; ? I : never {\n    return args[0].inner;\n}\n</code></pre>\n\n<p>Here, <code>Boxed&lt;T&gt;</code> stand for some complex generic type, and the function is meant to effectively \"unbox\" its inputs into some value of the union type, based on all the inputs. But, if we simply pass in the values we need, type <code>T</code> is inferred to be the type of the first argument, and all other arguments are rejected:</p>\n\n<pre><code>test(box(0), box('str'));\n// Argument of type 'Boxed&lt;string&gt;' is not assignable to parameter of type 'Boxed&lt;number&gt;'.\n</code></pre>\n\n<p>At the same time, passing this arguments by destructuring a tuple works fine:</p>\n\n<pre><code>test(...[box(0), box('str')]);\n// Works and has an expected type (string | number).\n</code></pre>\n\n<p>Can I do something to the function definition so that the first (clearly more ergonomic) example would work too?</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/?ssl=7&amp;ssc=2&amp;pln=5&amp;pc=1#code/C4TwDgpgBAQg9gDwgEwDwBUB8UC8UDeUAlgHYkQBOAXFOlAL4CwAUCwMZwkDOwUARolxQMmABSly1WgEoa8JGiy5sowhMoNpAbhYsAZgFcSbYEU5RgEHhigQElksi6xEKVAEMSITGIB0-9woAcy4adABtAF1ZWlt7CEdneTdSPQ0ASWwAfih0qBpyADcNfBYocqgKCGADChIoQJDwgAZI33UKHWYmVmZLHlEBBFFm6QAafkRRAHIeCmnpbSgAemWoAEFggwBbBN44PQtwaGnktDnSIMxp4mcSOF53Li4iIJJ3PgAbaGA4KDBAu5dpYKFADkdIFBTq40CQdnxKNdfCx+sBRP5fOEhiNxpNhrNgPNpNEtCs1gB1OAUADWzk8yCgAAsng16nZICYUBDoKILiQglAAD5QOHbBEUaRAA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}, {"tags": ["angular", "typescript", "form-control", "formgroups", "angular-validator"], "comments": [{"owner": {"reputation": 705, "user_id": 9028176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0349d36b2e6b71da8b4c41f575d203da?s=128&d=identicon&r=PG&f=1", "display_name": "mikegross", "link": "https://stackoverflow.com/users/9028176/mikegross"}, "edited": false, "score": 1, "creation_date": 1573634861, "post_id": 58832992, "comment_id": 103941725, "body": "I believe that unfortunately you will have to target each controller individually. Additionally you could write one method that will do that for you every time it is called if you need to reuse it multiple times."}], "answers": [{"comments": [{"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 8, "creation_date": 1586333641, "post_id": 58833272, "comment_id": 108087059, "body": "What on earth is the point of that? So if I would like to trigger a check on a whole FormGroup, I&#39;m supposed to call it only on one control?? What were they thinking???"}], "tags": [], "owner": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "is_accepted": true, "score": 14, "last_activity_date": 1573634801, "creation_date": 1573634801, "answer_id": 58833272, "question_id": 58832992, "link": "https://stackoverflow.com/questions/58832992/angular-6-this-formgroup-updatevalueandvalidity-not-working-properly/58833272#58833272", "title": "Angular 6, this.formGroup.updateValueAndValidity() not working properly", "body": "<p><code>updateValueAndValidity()</code> is bottom-up, so if you call this method over a control, it will check only validations of this control and their parents, but not their children.</p>\n\n<p>For more details, see <a href=\"https://github.com/angular/angular/blob/7.2.15/packages/forms/src/model.ts#L573-L595\" rel=\"noreferrer\">AbstractControl#updateValueAndValidity</a> on github to how it works.</p>\n\n<pre><code>  updateValueAndValidity(opts: {onlySelf?: boolean, emitEvent?: boolean} = {}): void {\n    this._setInitialStatus();\n    this._updateValue();\n\n    if (this.enabled) {\n      this._cancelExistingSubscription();\n      (this as{errors: ValidationErrors | null}).errors = this._runValidator();\n      (this as{status: string}).status = this._calculateStatus();\n\n      if (this.status === VALID || this.status === PENDING) {\n        this._runAsyncValidator(opts.emitEvent);\n      }\n    }\n\n    if (opts.emitEvent !== false) {\n      (this.valueChanges as EventEmitter&lt;any&gt;).emit(this.value);\n      (this.statusChanges as EventEmitter&lt;string&gt;).emit(this.status);\n    }\n\n    if (this._parent &amp;&amp; !opts.onlySelf) {\n      this._parent.updateValueAndValidity(opts);\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "is_accepted": false, "score": 5, "last_activity_date": 1573634848, "creation_date": 1573634848, "answer_id": 58833282, "question_id": 58832992, "link": "https://stackoverflow.com/questions/58832992/angular-6-this-formgroup-updatevalueandvalidity-not-working-properly/58833282#58833282", "title": "Angular 6, this.formGroup.updateValueAndValidity() not working properly", "body": "<p>I stumbled upon this last week too, and I came to the conclusion that this is the expected behavior. The <a href=\"https://angular.io/api/forms/AbstractControl#updateValueAndValidity\" rel=\"noreferrer\">docs</a> states the following:</p>\n\n<blockquote>\n  <p>By default, it also updates the value and validity of its ancestors.</p>\n</blockquote>\n\n<p>Note that it says \"ancestor\" and not \"descendants\". This means that when you have run <code>updateValueAndValidity()</code> on <code>control1</code> and <code>control2</code>, and they're both valid, <code>myForm</code> will be marked as valid too.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 2219320, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/32dd4b562e385e86be33365b73140b2b?s=128&d=identicon&r=PG", "display_name": "ssnake", "link": "https://stackoverflow.com/users/2219320/ssnake"}, "is_accepted": false, "score": 0, "last_activity_date": 1592834277, "creation_date": 1592834277, "answer_id": 62516146, "question_id": 58832992, "link": "https://stackoverflow.com/questions/58832992/angular-6-this-formgroup-updatevalueandvalidity-not-working-properly/62516146#62516146", "title": "Angular 6, this.formGroup.updateValueAndValidity() not working properly", "body": "<p>As Serginho said in the accepted answer, the problem is that updateValueAndValidity method is bottom-up, so it will not validate children controls.\nA possible solution for that is to write a custom prototype method for the FormGroup class like this:</p>\n<pre><code>import { FormGroup, FormControl } from '@angular/forms';\n\ndeclare module '@angular/forms/forms' {\n  interface FormGroup {\n    validate(): void;\n  }\n}\n\nFormGroup.prototype.validate = function(this: FormGroup): void {\n  for (const key in this.controls) {\n    const formElement = this.get(key);\n    if (formElement instanceof FormControl) {\n      formElement.updateValueAndValidity();\n    } else if (formElement instanceof FormGroup) {\n      formElement.validate();\n    }\n  }\n};\n</code></pre>\n<p>validate is a recursive method that call updateValueAndValidity for each leaf (FormControl) of the tree (FormGroup), even in case of nested form groups.</p>\n<p>Don't forget to import your module where you need to use the validate method:</p>\n<pre><code>import '../core/extensions/formGroup';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 4391692, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/NrPDt.jpg?s=128&g=1", "display_name": "Leogout", "link": "https://stackoverflow.com/users/4391692/leogout"}, "is_accepted": false, "score": 0, "last_activity_date": 1602058696, "creation_date": 1602058696, "answer_id": 64240006, "question_id": 58832992, "link": "https://stackoverflow.com/questions/58832992/angular-6-this-formgroup-updatevalueandvalidity-not-working-properly/64240006#64240006", "title": "Angular 6, this.formGroup.updateValueAndValidity() not working properly", "body": "<p><strong>DISCLAIMER</strong>: This may be bad practice, but it does what Angular doesn't allow me to do simply. Be warned that this is highly inefficient compared to Angular's way of dealing with validation. Here is how to refresh the whole form validation :</p>\n<pre><code>  validateForm(control: AbstractControl) {\n    control['controls'].forEach(\n      // make sure to pass {onlySelf: true, emitEvent: false} \n      // or it will recurse indefinitely\n      control =&gt; control.updateValueAndValidity({onlySelf: true, emitEvent: false})\n    );\n\n    return null;\n  }\n</code></pre>\n<p>And for my usecase I needed that the whole form validity to be updated each time the user changes any field (and not just the validation of the current field or only the fields that were touched, yadi yada) :</p>\n<pre><code>this.form.setValidators(this.validateForm);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 8563705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b18828f44bb7fcd79155342cc898960?s=128&d=identicon&r=PG&f=1", "display_name": "brett", "link": "https://stackoverflow.com/users/8563705/brett"}, "is_accepted": false, "score": 0, "last_activity_date": 1615556575, "creation_date": 1615556575, "answer_id": 66601042, "question_id": 58832992, "link": "https://stackoverflow.com/questions/58832992/angular-6-this-formgroup-updatevalueandvalidity-not-working-properly/66601042#66601042", "title": "Angular 6, this.formGroup.updateValueAndValidity() not working properly", "body": "<p>Try this:</p>\n<pre><code>const forms = [this.form1, this.form2, this.form3];\n\n    for (let f of forms) {\n      for (let key in f.controls) {\n        f.controls[key].updateValueAndValidity();\n      }\n    }\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 7068024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f0018384d48779df05e030b80b46d56?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh Singh", "link": "https://stackoverflow.com/users/7068024/ashutosh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9395, "favorite_count": 2, "accepted_answer_id": 58833272, "answer_count": 5, "score": 8, "last_activity_date": 1615556575, "creation_date": 1573633613, "last_edit_date": 1573633881, "question_id": 58832992, "link": "https://stackoverflow.com/questions/58832992/angular-6-this-formgroup-updatevalueandvalidity-not-working-properly", "title": "Angular 6, this.formGroup.updateValueAndValidity() not working properly", "body": "<p>I am trying to add and remove validators in a <code>formGroup</code> controls based on certain condition.</p>\n\n<p>When I am updating the validators through <code>formGroup.updateValueAndValidity()</code> for whole form its not updating, where as if I am specifically applying for each Control i.e. <code>formGroup.get('formControl').updateValueAndValidity()</code>, it is working but i have to write for each control which is i hope not the correct way. What am i doing wrong?</p>\n\n<pre><code>if (data == 'x') {\n    this.myForm.get('control2').setValue(null);\n    this.myForm.get('control2').setValidators(Validators.nullValidator);\n    this.myForm.get('control1').setValidators(Validators.required);\n} else if (data == 'y') {\n    this.myForm.get('control1').setValue(null);\n    this.myForm.get('control1').setValidators(Validators.nullValidator);\n    this.myForm.get('control2').setValidators(Validators.required);\n}\nthis.myForm.get('control1').updateValueAndValidity();\nthis.myForm.get('control2').updateValueAndValidity();\n</code></pre>\n\n<p>this is working, but,</p>\n\n<pre><code>this.myForm.updateValueAndValidity();\n</code></pre>\n\n<p>this is not working.</p>\n"}, {"tags": ["angular", "typescript", "angular7", "angular-http-interceptors", "custom-error-handling"], "comments": [{"owner": {"reputation": 2103, "user_id": 3209523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1", "display_name": "canbax", "link": "https://stackoverflow.com/users/3209523/canbax"}, "edited": false, "score": 1, "creation_date": 1574089576, "post_id": 58832850, "comment_id": 104096429, "body": "<a href=\"https://stackoverflow.com/questions/28010548/restangular-how-to-override-error-interceptors\" title=\"restangular how to override error interceptors\">stackoverflow.com/questions/28010548/&hellip;</a> might help"}], "owner": {"reputation": 151, "user_id": 2038538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286b62228b0896d7244f9ecfff54cf63?s=128&d=identicon&r=PG", "display_name": "user2038538", "link": "https://stackoverflow.com/users/2038538/user2038538"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 612, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1574089221, "creation_date": 1573633042, "last_edit_date": 1574089221, "question_id": 58832850, "link": "https://stackoverflow.com/questions/58832850/how-to-override-global-error-handler-by-some-methods-in-angular-7", "title": "How to Override Global Error Handler by some methods in angular 7", "body": "<p>I have implemented Global error handling in my Angular 7 application which is working fine to handle all errors.</p>\n\n<pre><code>export class RequestInterceptor implements HttpInterceptor {  \n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    // My code\n    });\n\n    return next.handle(request)\n        .pipe(\n            map((event: HttpEvent&lt;any&gt;) =&gt; {\n             //\n                return event;\n            }),\n            catchError((error: HttpErrorResponse) =&gt; {                    \n                if (error.status === 403) {                                                \n                   // code here\n                }\n\n                if (error.status === 401) {\n                   // code here\n                }\n\n                if (error.status === 0){\n\n                }                                        \n            }));\n        }\n}\n</code></pre>\n\n<p>Here my question was \" How can we override this Global Catcherror method by some methods in the component and handle error in the component method Catch block itself\".</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1573633188, "post_id": 58832783, "comment_id": 103940972, "body": "from where you are getting addressFinalData values? is it a form or http call"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12250118"}, "reply_to_user": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1573633238, "post_id": 58832783, "comment_id": 103940991, "body": "just some basic data manipulation, I don&#39;t want to track the api in anyway or the form, just the variable addressFinalData"}, {"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1573633291, "post_id": 58832783, "comment_id": 103941012, "body": "You have to create an Observable of addressFinalData and subscribe to it"}], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 4834907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d05fc2366f1d52b4b3acf5e7d844ae01?s=128&d=identicon&r=PG&f=1", "display_name": "Pujan Shah", "link": "https://stackoverflow.com/users/4834907/pujan-shah"}, "is_accepted": true, "score": 0, "last_activity_date": 1573634579, "last_edit_date": 1573634579, "creation_date": 1573633544, "answer_id": 58832974, "question_id": 58832783, "link": "https://stackoverflow.com/questions/58832783/angular-8-have-one-variable-subscribe-to-another-variable-in-1-component-class/58832974#58832974", "title": "Angular 8: Have One Variable Subscribe to another variable in 1 Component class", "body": "<p>You can create observable of AddressMailingData and in the subscription you can change with new value.</p>\n\n<pre><code>public addressFinalData = new Subject&lt;AddressMailingData&gt;();\n mailingArchive: AddressMailingData[] = [];\n\nngOnInit() {\n   this.addressFinalData.subscribe(\n       (val: any) =&gt; {\n           this.mailingArchive[2] = val;\n        }\n   )\n}\n</code></pre>\n\n<p>So whenever you are changing the value of addressFinalData, you need to emit that data with next method.</p>\n\n<pre><code>this.addressFinalData.next({newData});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12250118"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58832974, "answer_count": 1, "score": 0, "last_activity_date": 1573634579, "creation_date": 1573632709, "question_id": 58832783, "link": "https://stackoverflow.com/questions/58832783/angular-8-have-one-variable-subscribe-to-another-variable-in-1-component-class", "title": "Angular 8: Have One Variable Subscribe to another variable in 1 Component class", "body": "<p>I have two objects in Angular of the same type.</p>\n\n<pre><code> public addressFinalData: AddressMailingData;\n mailingArchive: AddressMailingData[] = [];\n</code></pre>\n\n<p>How do I subscribe to data objects of the same type in 1 component</p>\n\n<p>Want mailingArchive[2] to always subscribing to value of addressFinalData (anytime AddressFinalData changes, MailingArchive should store the value in array number 2).</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1573631983, "post_id": 58832618, "comment_id": 103940479, "body": "setTimeout is <i>asynchronous</i>, it won&#39;t block the for loop."}, {"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1573632049, "post_id": 58832618, "comment_id": 103940510, "body": "@jonrsharpe Okay i see... so what would work?"}], "answers": [{"tags": [], "owner": {"reputation": 1894, "user_id": 6850994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/41c03a52caf073aacaeb3f5a371f05d5?s=128&d=identicon&r=PG&f=1", "display_name": "Poldo", "link": "https://stackoverflow.com/users/6850994/poldo"}, "is_accepted": false, "score": -1, "last_activity_date": 1573632417, "creation_date": 1573632417, "answer_id": 58832726, "question_id": 58832618, "link": "https://stackoverflow.com/questions/58832618/how-to-make-a-for-loop-wait-some-time-before-going-through-the-loop-again/58832726#58832726", "title": "How to make a for-loop wait some time before going through the loop again", "body": "<p>create another variable that will hold the values for slides and use it in your html.</p>\n\n<pre><code>newSlides: any;\n\nfor(let i = 0; i &lt; this.slides.length; i++){\n        let slide = this.slides[i];\n        setTimeout(() =&gt; {\n            this.newSlides.push(slide);\n        }, 2000*(i+1));\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 1, "creation_date": 1573645702, "post_id": 58832960, "comment_id": 103947453, "body": "Thanks, you really helped me ^^"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 1, "last_activity_date": 1573636826, "last_edit_date": 1573636826, "creation_date": 1573633482, "answer_id": 58832960, "question_id": 58832618, "link": "https://stackoverflow.com/questions/58832618/how-to-make-a-for-loop-wait-some-time-before-going-through-the-loop-again/58832960#58832960", "title": "How to make a for-loop wait some time before going through the loop again", "body": "<p>You used the tag <code>angular</code> so you can use <code>Observables</code> for this:</p>\n\n<pre><code>from(this.slides).pipe(\n  concatMap((slide) =&gt; of(slide).pipe(\n    tap((slide) =&gt; this.currentSlide = slide),\n    delay(slide.slideTime)\n  ))\n).subscribe()\n</code></pre>\n\n<p>If observables are a bit too tricky for you, you can use the <code>await/async</code> method:</p>\n\n<pre><code>async goThroughSlides(): Promise&lt;void&gt; {\n  for (let i = 0; i &lt; this.slides.length; i++) {\n    this.currentSlide = this.slides[i];\n    await new Promise((resolve) =&gt; setTimeout(resolve, this.currentSlide.slideTime));\n  }\n}\n</code></pre>\n\n<p>I made an example <a href=\"https://stackblitz.com/edit/angular-ifwyym\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 11938709, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mdMCSEarAy0/AAAAAAAAAAI/AAAAAAAAEMQ/AQ3XPpGLphc/photo.jpg?sz=128", "display_name": "Long Nguyen", "link": "https://stackoverflow.com/users/11938709/long-nguyen"}, "is_accepted": false, "score": -1, "last_activity_date": 1573633633, "creation_date": 1573633633, "answer_id": 58832998, "question_id": 58832618, "link": "https://stackoverflow.com/questions/58832618/how-to-make-a-for-loop-wait-some-time-before-going-through-the-loop-again/58832998#58832998", "title": "How to make a for-loop wait some time before going through the loop again", "body": "<p>We should have only one instance of setTimeout/setInterval at once for your problem.</p>\n\n<p>Is it helpful for you?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Slider(sliders) {\r\n  let current = 0\r\n  let timeoutId\r\n  this.sliders = sliders\r\n  const show = () =&gt; {\r\n    console.log('showing', this.sliders[current].src)\r\n    timeoutId = setTimeout(show, this.sliders[current].slidetime * 1000)\r\n    current = (current + 1) % sliders.length\r\n  }\r\n  \r\n  return {\r\n    start: () =&gt; {\r\n      current = 0;\r\n      show();\r\n    },\r\n    stop: () =&gt; {\r\n      clearTimeout(timeoutId)\r\n    }\r\n  }\r\n}\r\n\r\nconst slider = new Slider([\r\n{\r\n  src: 'photo-1',\r\n  slidetime: 1\r\n},\r\n{\r\n  src: 'photo-2',\r\n  slidetime: 2\r\n},\r\n{\r\n  src: 'photo-3',\r\n  slidetime: 1\r\n},\r\n{\r\n  src: 'photo-4',\r\n  slidetime: 2\r\n}])</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button onclick=\"slider.start()\"&gt;Start&lt;/button&gt;\r\n&lt;button onclick=\"slider.stop()\"&gt;Stop&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58832960, "answer_count": 3, "score": 0, "last_activity_date": 1573636826, "creation_date": 1573631910, "last_edit_date": 1573631959, "question_id": 58832618, "link": "https://stackoverflow.com/questions/58832618/how-to-make-a-for-loop-wait-some-time-before-going-through-the-loop-again", "title": "How to make a for-loop wait some time before going through the loop again", "body": "<p>I want to display an array of slides and each slide has a value which tells the programm how long it should be displayed for. Since the slides are stored in an array I thought about just looping through the array, display the current slide and then just wait the amount of time at the end before looping again.</p>\n\n<p>So this is my attempt:</p>\n\n<pre><code>for (let  i= 0; i &lt; this.slides.length; i++) {\n  setTimeout(() =&gt; {\n    this.currentSlide = this.slides[i]\n  }, this.slides[i].slidetime * 1000);\n}\n</code></pre>\n\n<p>I even tried doing it like this:</p>\n\n<pre><code>for (let  i= 0; i &lt; this.slides.length; i++) {\n  this.currentSlide = this.slides[i];\n  this.wait(this.slides[i].slidetime);\n}\n\nwait(seconds) {\n  setTimeout(() =&gt; {}, seconds * 1000);\n}\n</code></pre>\n\n<p>But it didn't make a difference. </p>\n"}, {"tags": ["javascript", "typescript", "jestjs", "koa", "koa2"], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 10606188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce177537c4a2eb8e071fe6a619816766?s=128&d=identicon&r=PG", "display_name": "polRk", "link": "https://stackoverflow.com/users/10606188/polrk"}, "edited": false, "score": 0, "creation_date": 1573634111, "post_id": 58832957, "comment_id": 103941381, "body": "Thank you. But you can&#39;t compare value and type.  <code>typeof context - object</code> <code>ParameterizedContext&lt;AppState, AppContext&gt; - type definition</code>"}], "tags": [], "owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "is_accepted": false, "score": 0, "last_activity_date": 1573633470, "creation_date": 1573633470, "answer_id": 58832957, "question_id": 58832594, "link": "https://stackoverflow.com/questions/58832594/how-can-i-test-koa-middleware-with-typescript/58832957#58832957", "title": "How can I test koa middleware with typescript", "body": "<p>a linter will check for type compliances and will be able to customize them more. However, you would just need to make sure that you export the function to your test file and then run a <code>expect(typeof context).to.be(ParameterizedContext&lt;AppState, AppContext&gt;)</code> that's not 100% copy/pasteable code, but, I think that it is on the right track. Also, for testability it could be easier if you created a class out of your middlewares that way importing and testing are done easier. </p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 10606188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce177537c4a2eb8e071fe6a619816766?s=128&d=identicon&r=PG", "display_name": "polRk", "link": "https://stackoverflow.com/users/10606188/polrk"}, "is_accepted": false, "score": 0, "last_activity_date": 1573634853, "last_edit_date": 1573634853, "creation_date": 1573634008, "answer_id": 58833089, "question_id": 58832594, "link": "https://stackoverflow.com/questions/58832594/how-can-i-test-koa-middleware-with-typescript/58833089#58833089", "title": "How can I test koa middleware with typescript", "body": "<p>It's my simple type support solution. I'm not sure if it is suitable for everyone.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as httpMocks from 'node-mocks-http'\nimport * as Koa from 'koa'\n\nexport interface MockContext&lt;RequestBody = undefined&gt; extends Koa.Context {\n  request: Koa.Context['request'] &amp; {\n    body?: RequestBody\n  }\n}\n\nexport const koaMockContext = &lt;\n  State = Koa.DefaultState,\n  Context = MockContext,\n  RequestBody = undefined\n&gt;(\n  requestBody?: RequestBody\n) =&gt; {\n  const req = httpMocks.createRequest()\n  const res = httpMocks.createResponse()\n  const app = new Koa&lt;State, Context&gt;()\n  const context = app.createContext(req, res) as MockContext&lt;RequestBody&gt; &amp; Koa.ParameterizedContext&lt;State, Context&gt;\n  res.statusCode = 404\n  context.request.body = requestBody\n  return context\n}\n</code></pre>\n\n<p>And example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { AppContext, AppState } from './types'\nimport { koaMockContext } from './utils'\nimport { internationalizationPlugin } from '../src/internationalizationPlugin'\n\ndescribe('internationalizationPlugin', () =&gt; {\n  const ctx = koaMockContext&lt;AppState, AppContext&gt;()\n\n  it('should not be undefined', async () =&gt; {\n    await internationalizationPlugin(ctx, async () =&gt; {})\n    expect(ctx.state.i18n).not.toBe(undefined)\n  })\n})\n\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 10606188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce177537c4a2eb8e071fe6a619816766?s=128&d=identicon&r=PG", "display_name": "polRk", "link": "https://stackoverflow.com/users/10606188/polrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1005, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1573634853, "creation_date": 1573631800, "last_edit_date": 1573633782, "question_id": 58832594, "link": "https://stackoverflow.com/questions/58832594/how-can-i-test-koa-middleware-with-typescript", "title": "How can I test koa middleware with typescript", "body": "<p>I have a lot of middleware. Here is one of them. How can I test my middleware with type compliance and with context.state validation on typescript ?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nasync function internationalizationPlugin(\n  context: ParameterizedContext&lt;AppState, AppContext&gt;,\n  next: Next\n) {\n  context.state.i18n = await (i18next as any).createInstance({\n    lng: context.state.language,\n    fallbackLng: 'en',\n  })\n  await next()\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1573630584, "post_id": 58832292, "comment_id": 103939815, "body": "Show the error."}, {"owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1573630954, "post_id": 58832292, "comment_id": 103940000, "body": "@Adrita Sharma Error added"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1573631052, "post_id": 58832292, "comment_id": 103940048, "body": "home.page.html is a component right? and part of which module? I dont&#39;t see it in app.module"}, {"owner": {"reputation": 1067, "user_id": 4565953, "user_type": "registered", "profile_image": "https://graph.facebook.com/789324271159194/picture?type=large", "display_name": "HaSnen Tai", "link": "https://stackoverflow.com/users/4565953/hasnen-tai"}, "edited": false, "score": 0, "creation_date": 1573631138, "post_id": 58832292, "comment_id": 103940089, "body": "Hii Abhilash..!! make sure you are using correct selector for that &lt;app-chat&gt; , Is this is the same in the Chat.module.ts file ?"}, {"owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "edited": false, "score": 0, "creation_date": 1573631310, "post_id": 58832292, "comment_id": 103940176, "body": "Hi  HaSnen Tai I have added chat.page.ts file"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1573631424, "post_id": 58832292, "comment_id": 103940232, "body": "Show Homepage component"}, {"owner": {"reputation": 823, "user_id": 10437436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVyGq.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10437436/daniel"}, "edited": false, "score": 0, "creation_date": 1573631544, "post_id": 58832292, "comment_id": 103940286, "body": "Please, show firsts lines of chat-page.component.ts"}, {"owner": {"reputation": 1113, "user_id": 7887257, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9eqc-lOfdkE/AAAAAAAAAAI/AAAAAAAAACw/H2CaEZ68o3k/photo.jpg?sz=128", "display_name": "Rise", "link": "https://stackoverflow.com/users/7887257/rise"}, "edited": false, "score": 0, "creation_date": 1573631883, "post_id": 58832292, "comment_id": 103940437, "body": "It would be nice if you can show online demo in fiddle"}, {"owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "edited": false, "score": 0, "creation_date": 1573631928, "post_id": 58832292, "comment_id": 103940449, "body": "Hi Daniel  I have already added chat page component."}, {"owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "edited": false, "score": 0, "creation_date": 1573632051, "post_id": 58832292, "comment_id": 103940511, "body": "Hi Adrita Sharma So you are saying i need to import Home module also in app.module.ts ?"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1573632215, "post_id": 58832292, "comment_id": 103940581, "body": "I am saying HomePage is a comonent and must be part of some module. Which module?"}, {"owner": {"reputation": 823, "user_id": 10437436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVyGq.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10437436/daniel"}, "edited": false, "score": 0, "creation_date": 1573632253, "post_id": 58832292, "comment_id": 103940599, "body": "Is it possible that you have a loginPageModule and home.page.html is part of this module?"}, {"owner": {"reputation": 823, "user_id": 10437436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVyGq.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10437436/daniel"}, "edited": false, "score": 0, "creation_date": 1573633392, "post_id": 58832292, "comment_id": 103941055, "body": "In any case, you have written in some html of your <code>LoginPageModule</code> <code>&lt;app-chat&gt;&lt;&#47;app-chat&gt;</code> and your error is precisely that you have not imported the <code>ChatPage</code> module in <code>LoginPageModule</code>."}], "answers": [{"comments": [{"owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "edited": false, "score": 0, "creation_date": 1573633374, "post_id": 58832681, "comment_id": 103941051, "body": "It is working fine when i&#39;m adding chat component as a declaration in home module. But i cannot declare the chat component in any other modules. Since it is showing &quot;move the declaration to some other module which is importing both chat and home modules&quot;."}, {"owner": {"reputation": 823, "user_id": 10437436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVyGq.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10437436/daniel"}, "reply_to_user": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "edited": false, "score": 0, "creation_date": 1573633917, "post_id": 58832681, "comment_id": 103941280, "body": "@AbhilashShajan The declaration of a single component must be in the parent module, to use a component in different modules, you need to create what is called a shared module, this shared module would be the one that declares the component and also to export it, so that any module of your application that wants to use it, can import the shared module."}, {"owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "edited": false, "score": 0, "creation_date": 1573634864, "post_id": 58832681, "comment_id": 103941727, "body": "Yes Daniel I have imported the chat module into my home module as you said. Now I&#39;m able to see the chat template in my home template. But the problem is home page template disappeared. chat template just replaced the home template. How to see both?"}], "tags": [], "owner": {"reputation": 1067, "user_id": 4565953, "user_type": "registered", "profile_image": "https://graph.facebook.com/789324271159194/picture?type=large", "display_name": "HaSnen Tai", "link": "https://stackoverflow.com/users/4565953/hasnen-tai"}, "is_accepted": false, "score": 0, "last_activity_date": 1573632203, "creation_date": 1573632203, "answer_id": 58832681, "question_id": 58832292, "link": "https://stackoverflow.com/questions/58832292/how-to-include-one-component-template-into-another/58832681#58832681", "title": "How to include one component template into another?", "body": "<p>I know you have two different modules and you want to use it in a different module. \nHere is an example of how the Hello component is being shared by the app component. \nThe working example here.</p>\n\n<p>This is done in the same module. If you want you can follow the same.</p>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/angular-8-viewchild-example-cazvny\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-8-viewchild-example-cazvny</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1573632329, "creation_date": 1573632329, "answer_id": 58832715, "question_id": 58832292, "link": "https://stackoverflow.com/questions/58832292/how-to-include-one-component-template-into-another/58832715#58832715", "title": "How to include one component template into another?", "body": "<p>Since <code>HomePage</code> component  is not declared in <code>app.module</code>, </p>\n\n<blockquote>\n  <p>You need to import <code>ChatPageModule</code> in the module where <code>HomePage</code>\n  component is declared.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 10437436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVyGq.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10437436/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1573633484, "last_edit_date": 1573633484, "creation_date": 1573632587, "answer_id": 58832764, "question_id": 58832292, "link": "https://stackoverflow.com/questions/58832292/how-to-include-one-component-template-into-another/58832764#58832764", "title": "How to include one component template into another?", "body": "<p>Is it possible that you have a loginPageModule and home.page.html is part of this module?</p>\n\n<p>You do not need to import <code>ChatPageModule</code> into <code>AppModule</code>, you must import <code>ChatPageModule</code> into <code>LoginPageModule</code>.</p>\n\n<hr>\n\n<p>In any case, you have written in some html of your <code>LoginPageModule</code> <code>&lt;app-chat&gt;&lt;/app-chat&gt;</code> and your error is precisely that you have not imported the <code>ChatPage</code> module in <code>LoginPageModule</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "is_accepted": false, "score": 0, "last_activity_date": 1573681724, "creation_date": 1573681724, "answer_id": 58846146, "question_id": 58832292, "link": "https://stackoverflow.com/questions/58832292/how-to-include-one-component-template-into-another/58846146#58846146", "title": "How to include one component template into another?", "body": "<p>I've never heard of including a page itself inside another page. </p>\n\n<p>What I would expect to see is for you to generate a component with the commandline like:</p>\n\n<pre><code>ionic generate component components/chat\n</code></pre>\n\n<p>Then you would get a group of  <code>chat.component.ts</code> (scss, html, etc) files.</p>\n\n<p>Refactor everything out of the <code>app-chat</code> into the component.</p>\n\n<p>Then you will need to make your own shared module so that you can reuse it on more than one page:</p>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=za5NaFavux4\" rel=\"nofollow noreferrer\">Using Custom Components on Multiple Pages in Ionic - YouTube</a></li>\n<li><a href=\"http://meumobi.github.io/ionic/2017/08/23/creating-shared-module-ionic.html\" rel=\"nofollow noreferrer\">Creating a shared module for Ionic App | meumobi Dev Blog</a></li>\n<li><a href=\"https://angularfirebase.com/snippets/how-manage-shared-components-in-an-ionic-4-app/\" rel=\"nofollow noreferrer\">Organize Shared Components in an Ionic 4 App | AngularFirebase</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2865, "user_id": 8584904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84e90a4f75fb784ac13ac7be08521043?s=128&d=identicon&r=PG&f=1", "display_name": "H S Progr", "link": "https://stackoverflow.com/users/8584904/h-s-progr"}, "is_accepted": false, "score": 0, "last_activity_date": 1601624986, "creation_date": 1601624986, "answer_id": 64167936, "question_id": 58832292, "link": "https://stackoverflow.com/questions/58832292/how-to-include-one-component-template-into-another/64167936#64167936", "title": "How to include one component template into another?", "body": "<p>One Page can not be used in other page. For this purpose ionic have components which makes small portion of whole screen/page.</p>\n<p>It can be done in the following way:</p>\n<p>Instead of chat page, create chat component and then use it in your pages/components where ever you want.</p>\n<p>Use the selector of your chat component inside your parent component/page.</p>\n<p>In child component ts file:</p>\n<pre><code>@Component({\n  selector: 'app-chat-component', // &lt;---- This is the selector name\n  templateUrl: './chat-component.html',\n  styleUrls: ['./chat-component.scss'],\n})\n</code></pre>\n<p>In parent component/other pages HTML file:</p>\n<pre><code>&lt;app-chat-component&gt;&lt;/app-chat-component&gt; \n</code></pre>\n<p>Also create the components.module file and import all the components which you want to use in the pages then in page.module file import ComponentsModule.</p>\n"}], "owner": {"reputation": 500, "user_id": 6658245, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-v-ZF7JMvEcI/AAAAAAAAAAI/AAAAAAAAA-o/L27NDFEThvw/photo.jpg?sz=128", "display_name": "Abhilash Shajan", "link": "https://stackoverflow.com/users/6658245/abhilash-shajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1601630998, "creation_date": 1573630440, "last_edit_date": 1601630998, "question_id": 58832292, "link": "https://stackoverflow.com/questions/58832292/how-to-include-one-component-template-into-another", "title": "How to include one component template into another?", "body": "<p>I'm using ionic 5.0.0 application andIi have a chat page and home page in it. I want to include the chat page into home page. equivalent to <code>ng-include</code>.</p>\n<p>I have added the <strong><code>exports[]</code></strong> in my <strong><code>chat.module.ts</code></strong> as seen below</p>\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [ChatPage], // --&gt; Here it is\n  declarations: [ChatPage]\n})\nexport class ChatPageModule {}\n</code></pre>\n<p>Then I imported chat module in my <strong><code>app.module.ts</code></strong> as follows</p>\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { PopoverPageModule } from './popover/popover.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { GlobalFunctions } from '../providers/global-functions';\nimport { AuthGuard } from '../providers/security/auth-guard';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { HttpProvider } from '../providers/http/http';\nimport { HttpAngularProvider } from '../providers/http/http-angular';\nimport { HttpNativeProvider } from '../providers/http/http-native';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport { NgxUiLoaderModule } from  'ngx-ui-loader';\nimport { IonicGestureConfig } from '../providers/IonicGestureConfig';\nimport { HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\nimport { ChatPageModule } from './chat/chat.module';\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [\n    BrowserModule, \n    HttpClientModule, \n    IonicModule.forRoot(), \n    AppRoutingModule, \n    PopoverPageModule,\n    NgxUiLoaderModule,\n    ChatPageModule // --&gt; Here it is\n  ],\n  providers: [\n    HttpProvider,\n    HttpAngularProvider,\n    HttpNativeProvider,\n    GlobalFunctions,\n    AuthGuard,\n    StatusBar,\n    ScreenOrientation,\n    SplashScreen,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n    { provide: HAMMER_GESTURE_CONFIG,useClass: IonicGestureConfig\n  },\n    HTTP\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n<p>Then I have added the chat component selector in my <code>home.page.html</code> as follow.</p>\n<pre><code>&lt;ion-header&gt;\n    &lt;ion-toolbar&gt;\n        &lt;ion-title text-center&gt;HOME&lt;/ion-title&gt;                \n    &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content  class=&quot;homepage-content no-scroll&quot; &gt;\n&lt;ion-row&gt;\n...\n&lt;/ion-row&gt;\n\n&lt;ion-row&gt;\n ...\n &lt;/ion-row&gt;\n\n&lt;ion-row&gt;  \n&lt;app-chat&gt;&lt;/app-chat&gt; &lt;!-- Here it is --&gt;\n&lt;/ion-row&gt;\n\n&lt;/ion-content&gt;\n</code></pre>\n<p>But when I run my application I'm getting below error in console.</p>\n<p><a href=\"https://i.stack.imgur.com/PTsog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTsog.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my <strong><code>chat.page.ts</code></strong></p>\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.page.html',\n  styleUrls: ['./chat.page.scss'],\n})\nexport class ChatPage implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n<p>Here is my <strong><code>home.page.ts</code></strong></p>\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HttpProvider } from '../../providers/http/http';\nimport { GlobalFunctions } from '../../providers/global-functions';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { MenuController } from '@ionic/angular';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport * as _ from 'underscore';\nimport { NgxUiLoaderService } from 'ngx-ui-loader';\nimport { Platform } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit, OnDestroy {\n...\n}\n</code></pre>\n<p>See my code structure of both chat module and home module. Both are different modules.</p>\n<p><a href=\"https://i.stack.imgur.com/LjTL9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LjTL9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ujpSh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ujpSh.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["json", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "is_accepted": false, "score": 0, "last_activity_date": 1573638300, "creation_date": 1573638300, "answer_id": 58834214, "question_id": 58832244, "link": "https://stackoverflow.com/questions/58832244/how-to-get-data-from-json-file-how-can-i-parse-the-date-object-to-retrieve-the/58834214#58834214", "title": "How to get Data from JSON file, how can I parse the Date object to retrieve the data?", "body": "<p>How does your <code>JSON</code> file looks like ?<br>\nSecond where from are you trying to get the <code>JSON</code> from a server or you have defined somewhere in your code as file.\nThird you need to create an empty array of objects which at you it is <code>blog</code> and then to parse that <code>Json</code> to this <code>blog</code> and then through <code>*ngFor</code> you can easily show data in your <code>UI</code> which depends on your HTML.</p>\n"}], "owner": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1573638300, "creation_date": 1573630268, "last_edit_date": 1573631033, "question_id": 58832244, "link": "https://stackoverflow.com/questions/58832244/how-to-get-data-from-json-file-how-can-i-parse-the-date-object-to-retrieve-the", "title": "How to get Data from JSON file, how can I parse the Date object to retrieve the data?", "body": "<pre><code>export interface blog { \n  id: number; \n  name: any; \n  status: any; \n  active: string; \n  modifiedAt: Date; \n}\n</code></pre>\n"}]