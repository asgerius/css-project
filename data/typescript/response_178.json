[{"tags": ["javascript", "node.js", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 2, "last_activity_date": 1528333289, "creation_date": 1528333289, "answer_id": 50731590, "question_id": 50731019, "link": "https://stackoverflow.com/questions/50731019/how-to-compile-down-typescript-while-using-personal-and-external-modules/50731590#50731590", "title": "How to compile down typescript while using personal and external modules?", "body": "<p>This is referred to as \"bundling\"; TypeScript does not provide bundling for compilations that use module constructs like <code>import</code>, <code>export</code>, or <code>require</code>. You'll need to use a tool, such as webpack or rollup, to combine multiple modules into a single file.</p>\n"}], "owner": {"reputation": 313, "user_id": 2936448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c537d61dd3d3324664ad4e88f8579e07?s=128&d=identicon&r=PG&f=1", "display_name": "user2936448", "link": "https://stackoverflow.com/users/2936448/user2936448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528333289, "creation_date": 1528327803, "question_id": 50731019, "link": "https://stackoverflow.com/questions/50731019/how-to-compile-down-typescript-while-using-personal-and-external-modules", "title": "How to compile down typescript while using personal and external modules?", "body": "<p>I have a typescript project where I want to supplement my code with an imported library that was downloaded from npm. How can I compile all of this down to a single javascript file that includes all of my code <em>along with</em> the node library it depends on?</p>\n\n<p>Basically:</p>\n\n<ul>\n<li>file1.ts (depends on file2.ts)</li>\n<li>file2.ts (depends on an external npm\nlibrary)</li>\n</ul>\n\n<p>compiles <code>file1.ts</code> + <code>file2.ts</code> + <code>external library</code> into a single <code>build.js</code> file</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "rxjs6"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1528325380, "post_id": 50730598, "comment_id": 88469035, "body": "Something worth reading: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide&zwnj;&#8203;/v6/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 4, "creation_date": 1528367519, "post_id": 50730665, "comment_id": 88485478, "body": "<code>Observable.throw</code> -&gt; <code>throwError</code>."}], "tags": [], "owner": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "is_accepted": true, "score": 7, "last_activity_date": 1528325314, "creation_date": 1528325314, "answer_id": 50730665, "question_id": 50730598, "link": "https://stackoverflow.com/questions/50730598/property-catcherror-does-not-exist-on-type-observablehttpeventany/50730665#50730665", "title": "Property &#39;catchError&#39; does not exist on type &#39;Observable&lt;HttpEvent&lt;any&gt;&gt;&#39;", "body": "<p>This is more of a change with rxjs. You'll want to familiarize yourself with lettable operators, but heres the code change you'll want to make...</p>\n\n<pre><code>import { Injectable, Injector } from '@angular/core';\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n\n\n@Injectable()\nexport class HttpInterceptorService implements HttpInterceptor {\n  constructor() { }\n\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    return next.handle(authReq)\n      .pipe(catchError((error, caught) =&gt; {\n        console.log('Error Occurred');\n        console.log(error);\n        return Observable.throw(error);\n      })) as any;\n  }\n}\n</code></pre>\n\n<p>Pretty easy right! Most of the rxjs operators are now passed into the <code>pipe</code> function of the observable!</p>\n"}], "owner": {"reputation": 3335, "user_id": 4812515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-fxpyA0DpmoE/AAAAAAAAAAI/AAAAAAAAABY/XTBU5YBFdW8/photo.jpg?sz=128", "display_name": "alphapilgrim", "link": "https://stackoverflow.com/users/4812515/alphapilgrim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3054, "favorite_count": 0, "accepted_answer_id": 50730665, "answer_count": 1, "score": 3, "last_activity_date": 1528325314, "creation_date": 1528324819, "question_id": 50730598, "link": "https://stackoverflow.com/questions/50730598/property-catcherror-does-not-exist-on-type-observablehttpeventany", "title": "Property &#39;catchError&#39; does not exist on type &#39;Observable&lt;HttpEvent&lt;any&gt;&gt;&#39;", "body": "<p>Went from angular 5 to 6(using angular 6 &amp; rxjs 6), getting the following two errors in my linter. Anybody have any ideas, please and thank you.</p>\n\n<pre><code>[ts] 'catchError' is declared but its value is never read.\n[ts] Property 'catchError' does not exist on type 'Observable&lt;HttpEvent&lt;any&gt;&gt;'.\n</code></pre>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { Injectable, Injector } from '@angular/core';\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n\n\n@Injectable()\nexport class HttpInterceptorService implements HttpInterceptor {\n  constructor() { }\n\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    return next.handle(authReq)\n      .catchError((error, caught) =&gt; {\n        console.log('Error Occurred');\n        console.log(error);\n        return Observable.throw(error);\n      }) as any;\n  }\n}\n</code></pre>\n\n\n"}, {"tags": ["javascript", "typescript", "onload"], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 935795, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98b844b22916b61c5423d046ff1679bd?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/935795/martin"}, "edited": false, "score": 0, "creation_date": 1528324389, "post_id": 50730532, "comment_id": 88468723, "body": "How do I do that in TypeScript?"}, {"owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "reply_to_user": {"reputation": 310, "user_id": 935795, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98b844b22916b61c5423d046ff1679bd?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/935795/martin"}, "edited": false, "score": 0, "creation_date": 1528324417, "post_id": 50730532, "comment_id": 88468732, "body": "valid javascript is valid typescript @Martin"}, {"owner": {"reputation": 709, "user_id": 7309154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-d_yOqCzrknI/AAAAAAAAAAI/AAAAAAAAIrw/IWUHx2BqztA/photo.jpg?sz=128", "display_name": "Brandon Dixon", "link": "https://stackoverflow.com/users/7309154/brandon-dixon"}, "edited": false, "score": 0, "creation_date": 1528324595, "post_id": 50730532, "comment_id": 88468785, "body": "Out of curiosity, can you explain how this all works?  I am not familiar with using promises in this fashion."}, {"owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "reply_to_user": {"reputation": 709, "user_id": 7309154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-d_yOqCzrknI/AAAAAAAAAAI/AAAAAAAAIrw/IWUHx2BqztA/photo.jpg?sz=128", "display_name": "Brandon Dixon", "link": "https://stackoverflow.com/users/7309154/brandon-dixon"}, "edited": false, "score": 0, "creation_date": 1528324704, "post_id": 50730532, "comment_id": 88468814, "body": "<code>loadScript</code> returns a Promise which is resolved only when either resolve or reject is called. I&#39;m calling <code>resolve</code> on the script load callback. <code>await</code> waits for a promise to resolve before proceeding, so it&#39;ll wait for the script to load indirectly (because that&#39;s when the promise is resolved). Hence mission accomplished @BrandonDixon"}, {"owner": {"reputation": 709, "user_id": 7309154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-d_yOqCzrknI/AAAAAAAAAAI/AAAAAAAAIrw/IWUHx2BqztA/photo.jpg?sz=128", "display_name": "Brandon Dixon", "link": "https://stackoverflow.com/users/7309154/brandon-dixon"}, "edited": false, "score": 0, "creation_date": 1528324939, "post_id": 50730532, "comment_id": 88468898, "body": "Ah, I see now, in a sense, by using await, in the loadScripts() you are forcing the scripts to load synchronously, but the fact that loadScripts() itself is async still gets the job done in an async fashion."}, {"owner": {"reputation": 310, "user_id": 935795, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98b844b22916b61c5423d046ff1679bd?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/935795/martin"}, "edited": false, "score": 0, "creation_date": 1528325565, "post_id": 50730532, "comment_id": 88469101, "body": "Thank you! With your help and little corrections it worked! I&#39;ve added a <code>--target es2015</code> option to <code>tsc</code> compiler, and used my <code>init</code> function instead of <code>console.log</code> and viola! it works and now it looks great!"}], "tags": [], "owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "is_accepted": true, "score": 3, "last_activity_date": 1528324467, "last_edit_date": 1528324467, "creation_date": 1528324246, "answer_id": 50730532, "question_id": 50730500, "link": "https://stackoverflow.com/questions/50730500/load-several-scripts-in-certain-order/50730532#50730532", "title": "Load several scripts in certain order", "body": "<p>Yes! There is. Use <code>Promises</code> and <code>async/await</code></p>\n\n<pre><code>function loadScript(url) {\n  return new Promise((resolve, reject) =&gt; {\n    const script = document.createElement('script')\n    script.src = url\n    document.head.appendChild(script)\n    script.onload = () =&gt; resolve()\n  })\n}\n\nasync function loadScripts() {\n  await loadScript('script1.js')\n  await loadScript('script2.js')\n  // ..\n}\n\nloadScripts().then(_ =&gt; console.log('All scripts loaded in specified order'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 310, "user_id": 935795, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98b844b22916b61c5423d046ff1679bd?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/935795/martin"}, "edited": false, "score": 0, "creation_date": 1528325706, "post_id": 50730551, "comment_id": 88469143, "body": "Thanks man! I was thinking of making a function (DRY - don&#39;t repeat yourself), but I felt that this <code>onload</code> thing is too old, so I wanted some more fresh approach!"}], "tags": [], "owner": {"reputation": 709, "user_id": 7309154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-d_yOqCzrknI/AAAAAAAAAAI/AAAAAAAAIrw/IWUHx2BqztA/photo.jpg?sz=128", "display_name": "Brandon Dixon", "link": "https://stackoverflow.com/users/7309154/brandon-dixon"}, "is_accepted": false, "score": 1, "last_activity_date": 1528324410, "creation_date": 1528324410, "answer_id": 50730551, "question_id": 50730500, "link": "https://stackoverflow.com/questions/50730500/load-several-scripts-in-certain-order/50730551#50730551", "title": "Load several scripts in certain order", "body": "<p>A more elegant way might be something like the code below, where you define everything first, but still load everything in order as above.  This uses a helper function to append, then set the load function of the next script, and stores the script references in an array to make this streamlined.</p>\n\n<pre><code>/*\n* Load the scripts in a specific order\n*/\nfunction loadScripts() {\n    var scripts = [];\n    var numScripts = 2\n    for (let i=0; i&lt;numScripts, i++) {\n        scripts[i] = document.createElement('script');\n        scripts[i].type = 'text/javascript';\n        scripts[i].src = '\"script\"+i+\".js\"; //NOTE: if your scripts start on 1, not 0, you need \"i+i\"\n    }\n    loadScriptHelper(scripts,0);\n}\n\n/*\n* Helper function for load scripts\n*/\nfunction loadScriptHelper(scripts,i) {\n    document.head.appendChild(scripts[i]);\n    scripts[i].onload = function() {\n        loadScriptHelper(scripts,i+1);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 935795, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98b844b22916b61c5423d046ff1679bd?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/935795/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 50730532, "answer_count": 2, "score": 2, "last_activity_date": 1528324467, "creation_date": 1528324024, "question_id": 50730500, "link": "https://stackoverflow.com/questions/50730500/load-several-scripts-in-certain-order", "title": "Load several scripts in certain order", "body": "<p>I need to load several js scripts in certain order. In fact I'm doing it in typescript, I can't use jQuery, only pure ts/js. What I have now is:</p>\n\n<pre><code>var script1 = document.createElement('script');\nscript1.type = 'text/javascript';\nscript1.src = 'script1.js';\ndocument.head.appendChild(script1);\nscript1.onload = function () {\n\n    var script2 = document.createElement('script');\n    script2.type = 'text/javascript';\n    script2.src = 'script2.js';\n    document.head.appendChild(script2);\n    script2.onload = function () {\n\n        etc...\n\n    }\n\n}\n</code></pre>\n\n<p>It works, but I believe that there is some more elegant way to do that? Please give examples in vanilla javascript or typescript.</p>\n"}, {"tags": ["typescript", "typescript-compiler-api"], "answers": [{"comments": [{"owner": {"reputation": 3292, "user_id": 1268612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6368794d8eacf0127fbb12569c40c14?s=128&d=identicon&r=PG", "display_name": "Karl Horky", "link": "https://stackoverflow.com/users/1268612/karl-horky"}, "edited": false, "score": 0, "creation_date": 1609689433, "post_id": 50732752, "comment_id": 115895333, "body": "Really cool, thanks for this! Do you have a demo repo for this?"}, {"owner": {"reputation": 3292, "user_id": 1268612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6368794d8eacf0127fbb12569c40c14?s=128&d=identicon&r=PG", "display_name": "Karl Horky", "link": "https://stackoverflow.com/users/1268612/karl-horky"}, "edited": false, "score": 0, "creation_date": 1609689436, "post_id": 50732752, "comment_id": 115895335, "body": "I&#39;m currently trying (and failing) to run a Language Service Plugin from the command line over here: <a href=\"https://github.com/karlhorky/ts-language-service-plugin-formatting-cli\" rel=\"nofollow noreferrer\">github.com/karlhorky/ts-language-service-plugin-formatting-c&zwnj;&#8203;li</a>"}], "tags": [], "owner": {"reputation": 1603, "user_id": 531727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0a165dd0ed2b2e3f054a7f430154420?s=128&d=identicon&r=PG", "display_name": "cspotcode", "link": "https://stackoverflow.com/users/531727/cspotcode"}, "is_accepted": false, "score": 2, "last_activity_date": 1528343972, "creation_date": 1528343972, "answer_id": 50732752, "question_id": 50730406, "link": "https://stackoverflow.com/questions/50730406/instantiate-typescript-languageservice-w-plugins-via-api/50732752#50732752", "title": "Instantiate TypeScript LanguageService w/plugins via API", "body": "<p>I think I figured it out.  <code>import * as ts from 'typescript/lib/tsserverlibrary';</code> (same import used when authoring plugins) and create a <code>new ts.server.ProjectService</code>.  Then open a source file via <code>projectService.openClientFile</code> which will cause the service to automatically pick up your tsconfig and create a new <code>ConfiguredProject</code> which you can retrieve via various methods.  Then <code>configuredProject.getLanguageService()</code>.</p>\n\n<p>You have to set <code>serverHost.require</code> or else the service can't load plugins and they'll be skipped.  I copied TS's internal implementation from <a href=\"https://github.com/Microsoft/TypeScript/blob/e53e56cf8212e45d0ebdd6affe462d161c7e0dc5/src/server/server.ts#L888-L895\" rel=\"nofollow noreferrer\">src/server/server.ts</a></p>\n\n<p>I'm leaving out a lot of messy details, but these are the steps.  Intellisense tells you everything else you need to do.</p>\n"}], "owner": {"reputation": 1603, "user_id": 531727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0a165dd0ed2b2e3f054a7f430154420?s=128&d=identicon&r=PG", "display_name": "cspotcode", "link": "https://stackoverflow.com/users/531727/cspotcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528343972, "creation_date": 1528323325, "question_id": 50730406, "link": "https://stackoverflow.com/questions/50730406/instantiate-typescript-languageservice-w-plugins-via-api", "title": "Instantiate TypeScript LanguageService w/plugins via API", "body": "<p>How can I use the TypeScript compiler API to instantiate a languageService with language service plugins?  I thought that <code>createLanguageService</code> would do the trick, but it doesn't seem to load plugins.</p>\n\n<p>Is this wrapped up in tsserver somewhere?  Ideally I want to run everything in-process.  Is there some sort of <code>ServerHost</code> I need to instantiate to give the <code>languageService</code> access to <code>require()</code> node_modules?</p>\n\n<p>My motivation: I want to programmatically apply plugin quick-fixes to a codebase from a CLI tool I'm building.</p>\n"}, {"tags": ["angular", "typescript", "input"], "comments": [{"owner": {"reputation": 707, "user_id": 4189495, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32b41ca437465cea70c1c02aebeafaa1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony_89", "link": "https://stackoverflow.com/users/4189495/tony-89"}, "edited": false, "score": 0, "creation_date": 1528321915, "post_id": 50730100, "comment_id": 88467990, "body": "Is there no parent component using the input? As in trying to pass the dish in when it uses the app-dishdetail selector?"}, {"owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "edited": false, "score": 0, "creation_date": 1528322086, "post_id": 50730100, "comment_id": 88468036, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38960141/angular2-rc5-cant-bind-to-property-x-since-it-isnt-a-known-property-of-chi\">Angular2 RC5: Can&#39;t bind to &#39;Property X&#39; since it isn&#39;t a known property of &#39;Child Component&#39;</a>"}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1528322157, "post_id": 50730100, "comment_id": 88468067, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/988363/how-can-i-debug-my-javascript-code\">How can I debug my JavaScript code?</a>"}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1528480312, "post_id": 50730100, "comment_id": 88539585, "body": "No need to edit your title or question to announce that it&#39;s solved (that&#39;s what accepted answers are for). I rolled back your edit, accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6233325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--pt3duNgONI/AAAAAAAAAAI/AAAAAAAAAFs/klmX5EnKJRs/photo.jpg?sz=128", "display_name": "Gregers Walker", "link": "https://stackoverflow.com/users/6233325/gregers-walker"}, "edited": false, "score": 0, "creation_date": 1528478571, "post_id": 50730151, "comment_id": 88538823, "body": "Thanks. I got so hung up on using the cli errors, I didnt think to look at the developer console. There was a parameter being bound with the click event elsewhere (which was removed) that didn&#39;t have a place to get its parameter. When I removed that line from the separate component, it solved the problem. Thanks for the help"}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": true, "score": 2, "last_activity_date": 1528321929, "creation_date": 1528321929, "answer_id": 50730151, "question_id": 50730100, "link": "https://stackoverflow.com/questions/50730100/angular-removing-an-input-decorator-from-code/50730151#50730151", "title": "Angular removing an @Input decorator from code", "body": "<p>If you would just open your browser's console, you would see the big fat error message, saying something like </p>\n\n<blockquote>\n  <p>Can't bind to 'dish' since it isn't a known property of 'app-dishdetail'</p>\n</blockquote>\n\n<p>Additionally, the error message tells you exactly where you try to bind to <code>dish</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 6233325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--pt3duNgONI/AAAAAAAAAAI/AAAAAAAAAFs/klmX5EnKJRs/photo.jpg?sz=128", "display_name": "Gregers Walker", "link": "https://stackoverflow.com/users/6233325/gregers-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 50730151, "answer_count": 1, "score": -1, "last_activity_date": 1528480272, "creation_date": 1528321644, "last_edit_date": 1528480272, "question_id": 50730100, "link": "https://stackoverflow.com/questions/50730100/angular-removing-an-input-decorator-from-code", "title": "Angular removing an @Input decorator from code", "body": "<p>I'm writing code for a class on Angular, and cannot understand why pulling the @Input decorator from my component is causing the entire application not to load. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, Input } from '@angular/core';\r\nimport { Dish } from '../shared/dish';\r\nimport { DishService } from '../services/dish.service';\r\n\r\nimport { Params, ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-dishdetail',\r\n  templateUrl: './dishdetail.component.html',\r\n  styleUrls: ['./dishdetail.component.scss']\r\n})\r\nexport class DishdetailComponent implements OnInit {\r\n\r\n  @Input()\r\n  dish: Dish;\r\n\r\n  constructor(private dishservice: DishService,\r\n    private route: ActivatedRoute,\r\n    private location: Location) { }\r\n\r\n  ngOnInit() {\r\n    let id = +this.route.snapshot.params['id'];\r\n    this.dish = this.dishservice.getDish(id);\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The input component isn't used anywhere else in the application, and as far as I can tell its not that strongly related even to this component, so can anyone explain why it is that when I remove that decorator, it breaks my program?</p>\n"}, {"tags": ["angular", "typescript", "speech"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1528322703, "post_id": 50729719, "comment_id": 88468251, "body": "Well, you didn&#39;t import <code>SpeechRecognition</code> nor <code>SpeechGrammarList</code>. Note that the <code>&#47;&#47;&#47; &lt;reference</code> is ONLY for Visual Studio, it is treated as any comment by TypeScript/JavaScript"}, {"owner": {"reputation": 6733, "user_id": 4486146, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BZuMx.jpg?s=128&g=1", "display_name": "Danoram", "link": "https://stackoverflow.com/users/4486146/danoram"}, "edited": false, "score": 0, "creation_date": 1528322829, "post_id": 50729719, "comment_id": 88468290, "body": "They must have in there are no compiler errors?"}, {"owner": {"reputation": 2312, "user_id": 1732607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5842343fa9db2450e380fcf3e1a92587?s=128&d=identicon&r=PG", "display_name": "Uzer", "link": "https://stackoverflow.com/users/1732607/uzer"}, "edited": false, "score": 0, "creation_date": 1528323005, "post_id": 50729719, "comment_id": 88468331, "body": "What browser you testing in? The API doesn&#39;t work on all browsers as yet... Check the browser support compatibility here <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 5037890, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ltoregSk8q4/AAAAAAAAAAI/AAAAAAAAAKc/7rcHlP_yoaI/photo.jpg?sz=128", "display_name": "Florian Hilfenhaus", "link": "https://stackoverflow.com/users/5037890/florian-hilfenhaus"}, "is_accepted": true, "score": 1, "last_activity_date": 1529006904, "creation_date": 1529006904, "answer_id": 50865137, "question_id": 50729719, "link": "https://stackoverflow.com/questions/50729719/angular-4-using-web-speech-api/50865137#50865137", "title": "Angular 4 using Web Speech API", "body": "<p>Jonathan was right with his hint, Chrome support this feature but only with webkit-prefixe.</p>\n\n<p>So i insert a checking</p>\n\n<pre><code>var reg: SpeechRecognition;\nvar typ = typeof SpeechRecognition;\n\nreg = typ === \"undefined\" ? new webkitSpeechRecognition() :\n                                new SpeechRecognition();\n</code></pre>\n\n<p>This works for FF and Chrome.</p>\n"}], "owner": {"reputation": 44, "user_id": 5037890, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ltoregSk8q4/AAAAAAAAAAI/AAAAAAAAAKc/7rcHlP_yoaI/photo.jpg?sz=128", "display_name": "Florian Hilfenhaus", "link": "https://stackoverflow.com/users/5037890/florian-hilfenhaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3653, "favorite_count": 0, "accepted_answer_id": 50865137, "answer_count": 1, "score": 0, "last_activity_date": 1529006904, "creation_date": 1528319726, "last_edit_date": 1528322670, "question_id": 50729719, "link": "https://stackoverflow.com/questions/50729719/angular-4-using-web-speech-api", "title": "Angular 4 using Web Speech API", "body": "<p>I try to use the Web Speech API Interfaces (<a href=\"https://github.com/mdn/web-speech-api/\" rel=\"nofollow noreferrer\">https://github.com/mdn/web-speech-api/</a>) with a angular (version 4.25) and a asp core web-server. All is build by the visual studio 2017 (version 15.7.1). I add the \n@types/webspeechapi typedefinions to the package.json (version 0.0.29) </p>\n\n<p>My (angular) componente looks like:</p>\n\n<pre><code> /// &lt;reference path=\"../../../../node_modules/@types/webspeechapi/index.d.ts\" /&gt;\n    import { Component } from '@angular/core';\n\n    @Component({\n        selector: 'home',\n        templateUrl: './home.component.html'\n    })\n    export class HomeComponent {\n\n        constructor() {\n\n            var recognition = new SpeechRecognition();\n            var speechRecognitionList = new SpeechGrammarList();\n...\n</code></pre>\n\n<p>Compiler has no erros at design time. But if i try to open the page i got a 500 error-message <strong>NodeInvocationException: Uncaught (in promise): ReferenceError: SpeechRecognition is not defined</strong></p>\n\n<p>The console log of the web-server in vs is the same.</p>\n\n<p>I want to use the typing definitions but why and who tries to resolve the\ntype SpeechRecognition?</p>\n"}, {"tags": ["typescript", "inheritance", "class-method"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1528318805, "post_id": 50729485, "comment_id": 88466786, "body": "You can&#39;t, and shouldn&#39;t; you&#39;re violating the contract of the parent and the Liskov substitution principle."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1528378964, "post_id": 50729485, "comment_id": 88493133, "body": "Can you explain what you are trying to accomplish?  This might be one of those <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY situations</a> where the problem you need to solve has a solution other than attempting to override a method with an incompatible signature."}, {"owner": {"reputation": 749, "user_id": 6548154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc33522cf81dfed48b6c57fc9e70b1e0?s=128&d=identicon&r=PG&f=1", "display_name": "A_A", "link": "https://stackoverflow.com/users/6548154/a-a"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1528436034, "post_id": 50729485, "comment_id": 88515768, "body": "@jcalz This would have been only one solution, others are still viable for my problem. I just wondered if this would be possible as I didn&#39;t find documentation on this myself (yet all examples used this Liskov substitution principle)"}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 10, "last_activity_date": 1528320122, "creation_date": 1528320122, "answer_id": 50729811, "question_id": 50729485, "link": "https://stackoverflow.com/questions/50729485/override-method-with-different-argument-types-in-extended-class-typescript/50729811#50729811", "title": "Override method with different argument types in extended class - Typescript", "body": "<p>There is not a way to do this*. In TypeScript, <a href=\"https://stackoverflow.com/questions/23592131/what-is-the-difference-between-subtyping-and-inheritance-in-oo-programming\">inheritance implies subtyping</a>, so you can't inherit from a base class while not being a valid subtype of it.</p>\n\n<p><sub>\n<code>*</code> Technically not true but I'm not going to mention them because they're gross hacks that you shouldn't do.</sub></p>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 1426210, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0c2be5a6a843deb687c81a218cc98b7?s=128&d=identicon&r=PG&f=1", "display_name": "sKopheK", "link": "https://stackoverflow.com/users/1426210/skophek"}, "edited": false, "score": 0, "creation_date": 1587624211, "post_id": 50732215, "comment_id": 108584819, "body": "any way how to make it work also for return types, not ony for parameters?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 143, "user_id": 1426210, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0c2be5a6a843deb687c81a218cc98b7?s=128&d=identicon&r=PG&f=1", "display_name": "sKopheK", "link": "https://stackoverflow.com/users/1426210/skophek"}, "edited": false, "score": 1, "creation_date": 1587626364, "post_id": 50732215, "comment_id": 108585871, "body": "@sKopheK Not really, for parameters you can get away with it because the derived class is the one handling the new parameter type. For return type, if your derived class returns a number and you use the derived class where the base class is expected (as you should be able to) the code that uses the base class has no way to deal with the unexpected return type. You can do some surgery on the type and create a derived class incompatible with the base class. But ask it as a different question, as that answer is a bit long for comments"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 5, "last_activity_date": 1528378770, "last_edit_date": 1528378770, "creation_date": 1528339088, "answer_id": 50732215, "question_id": 50729485, "link": "https://stackoverflow.com/questions/50729485/override-method-with-different-argument-types-in-extended-class-typescript/50732215#50732215", "title": "Override method with different argument types in extended class - Typescript", "body": "<p>As mentioned by others this is not a good idea because you break Liskov substitution. </p>\n\n<p>What you can easily do, is provide an override that takes both <code>string</code> and <code>number</code>. This allows your class to still be used wherever the base class is expected.</p>\n\n<pre><code>class Base {\n     public myMethod(myString: string): undefined {\n         return;\n     }\n }\n\nclass Child extends Base {\n    public myMethod(myNumberOrString: number | string): undefined {\n        if (typeof myNumberOrString === 'number') {\n            return super.myMethod(String(myNumberOrString));\n        } else {\n            return super.myMethod(myNumberOrString);\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 749, "user_id": 6548154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc33522cf81dfed48b6c57fc9e70b1e0?s=128&d=identicon&r=PG&f=1", "display_name": "A_A", "link": "https://stackoverflow.com/users/6548154/a-a"}, "edited": false, "score": 0, "creation_date": 1601706879, "post_id": 64169416, "comment_id": 113494529, "body": "Thanks for sharing this, works like expected. I&#39;m curious if you see any use case for this apart from documenting already existing code which can&#39;t be refactor due to some circumstances."}, {"owner": {"reputation": 749, "user_id": 6548154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc33522cf81dfed48b6c57fc9e70b1e0?s=128&d=identicon&r=PG&f=1", "display_name": "A_A", "link": "https://stackoverflow.com/users/6548154/a-a"}, "edited": false, "score": 1, "creation_date": 1601707097, "post_id": 64169416, "comment_id": 113494565, "body": "And while I think it answers my question and I upvoted it, I would leave the accepted &quot;Don&#39;t do it... but it would be possible&quot; answer. Those who really need the workaround will still find it after scrolling a bit."}], "tags": [], "owner": {"reputation": 698, "user_id": 598154, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7844738439470a7a42be9b4376ac3621?s=128&d=identicon&r=PG", "display_name": "Catalin Enache", "link": "https://stackoverflow.com/users/598154/catalin-enache"}, "is_accepted": false, "score": 2, "last_activity_date": 1601634296, "last_edit_date": 1601634296, "creation_date": 1601631640, "answer_id": 64169416, "question_id": 50729485, "link": "https://stackoverflow.com/questions/50729485/override-method-with-different-argument-types-in-extended-class-typescript/64169416#64169416", "title": "Override method with different argument types in extended class - Typescript", "body": "<p>It seems there is a way that works, even for return types, at least with TypeScript v 4.02 using an interim class.</p>\n<p>But this is breaking Liskov substitution principle since it changes the return type and is not handling the case where the parameter is a string.</p>\n<p>So it worths being mentioned just for the sake of knowledge, but in a code review I would not accept this hack, since a subclass should be able to replace the base class without breaking the functionality.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Base {\n    public myMethod(myString: string): string {\n        return myString + myString;\n    }\n}\n\n// weaken\n// inspired by comment here: https://github.com/microsoft/TypeScript/issues/3402#issuecomment-385975990\nclass Interim extends Base {\n    public myMethod(x: any): any { return super.myMethod(x); }\n}\n\nclass Child extends Interim {\n    public myMethod(myNumber: number): number {\n        return myNumber * myNumber;\n    }\n}\n\n// we can have a helper/utility for this\nfunction weaken(klass: { new(...args: any[]): any; }, key: string) {\n    return class extends klass {\n        [key](...args: any[]) { super[key](...args); }\n    }\n}\n\n\nclass ChildOther extends weaken(Base, 'myMethod') {\n    public myMethod(myNumber: number): number {\n        return myNumber * myNumber;\n    }\n}\n\nconsole.log((new Child()) instanceof Base); // true\nconsole.log((new ChildOther()) instanceof Base); // true\nconsole.log(new Base().myMethod('str')); // strstr\nconsole.log(new Child().myMethod(3)); // 9\nconsole.log(new ChildOther().myMethod(3)); // 9</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 749, "user_id": 6548154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc33522cf81dfed48b6c57fc9e70b1e0?s=128&d=identicon&r=PG&f=1", "display_name": "A_A", "link": "https://stackoverflow.com/users/6548154/a-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4982, "favorite_count": 2, "accepted_answer_id": 50729811, "answer_count": 3, "score": 16, "last_activity_date": 1601634296, "creation_date": 1528318659, "question_id": 50729485, "link": "https://stackoverflow.com/questions/50729485/override-method-with-different-argument-types-in-extended-class-typescript", "title": "Override method with different argument types in extended class - Typescript", "body": "<p>I want to override a method and pass different argument types to it:</p>\n\n<pre><code>class Base {\n    public myMethod(myString: string): undefined {\n        return;\n    }\n}\n\nclass Child extends Base {\n    public myMethod(myNumber: number): undefined {\n        return super.myMethod(String(myNumber));\n    }\n}\n</code></pre>\n\n<p>Yet this yields a typescript error:</p>\n\n<blockquote>\n  <p>Property 'myMethod' in type 'Child' is not assignable to the same\n  property in base type 'Base'.   Type '(myNumber: number) => undefined'\n  is not assignable to type '(myString: string) => undefined'.\n      Types of parameters 'myNumber' and 'myString' are incompatible.\n        Type 'string' is not assignable to type 'number'.</p>\n</blockquote>\n\n<p>Is there a way to do this without creating a typescript error?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 4, "creation_date": 1528318213, "post_id": 50729287, "comment_id": 88466519, "body": "Related: <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">Proposal: Variadic Kinds</a>"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1528318431, "post_id": 50729287, "comment_id": 88466623, "body": "@CRice, no workaround in my case, except specifiing tons of overloads? Also seems like proposal is only about arrays and I don&#39;t see there anything like <code>&amp;&lt;...T&gt;</code>."}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1528319541, "post_id": 50729287, "comment_id": 88467117, "body": "There&#39;s a little discussion about it in that proposal, and I noticed they link to another issue <a href=\"https://github.com/Microsoft/TypeScript/issues/3870\" rel=\"nofollow noreferrer\">describing this almost exactly</a>. I don&#39;t know of any way to do it without overloads currently. Even the <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es6.d.ts#L4434\" rel=\"nofollow noreferrer\">stdlib&#39;s definition for <code>Object.assign</code></a> uses a giant overload. But there may be a way I&#39;m just not aware of."}], "answers": [{"comments": [{"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1528363192, "post_id": 50732491, "comment_id": 88482450, "body": "Interesting, but in this case it&#39;s impossible to specify every type explicitly?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1528364848, "post_id": 50732491, "comment_id": 88483681, "body": "You can specify the union type and explicitly, but that will not restrict the position and number of times each type can appear. I did mention it&#39;s workaround :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1562843020, "post_id": 50732491, "comment_id": 100509983, "body": "@Qwertiy Thank you for bringing this to my attentions. When I answered this 3.0 was not on the horizon and since I have 2500 answers it&#39;s hard to updated them all. I try to update answers as they are upvoted or if someone pings me about it, which you did so 10x:)"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1562843102, "post_id": 50732491, "comment_id": 100510028, "body": "Sorry, assidentially deleted the comment. Here is the link: <a href=\"https://ru.stackoverflow.com/a/1001736/178988\">ru.stackoverflow.com/a/1001736/178988</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1562843316, "last_edit_date": 1562843316, "creation_date": 1528341989, "answer_id": 50732491, "question_id": 50729287, "link": "https://stackoverflow.com/questions/50729287/varargs-in-typescript/50732491#50732491", "title": "Varargs in typescript", "body": "<p><strong>Edit for 3.0</strong></p>\n\n<p>While the original answer is correct, since I first gave it typescript has changed. In typescript 3.0 it is possible to use tuples in rest parameters to capture the type of the arguments in a tuple</p>\n\n<pre><code>type UnionToIntersection&lt;U&gt; =\n    (U extends any ? (k: U) =&gt; void : never) extends ((k: infer I) =&gt; void) ? I : never\n\nfunction f&lt;A extends any[]&gt;(...args: A): UnionToIntersection&lt;A[number]&gt; { return null! }\nvar smth = f({ x: 1 }, new A(), new B());  // will have type  A &amp; B &amp; { x: number; }\n</code></pre>\n\n<p><strong>Original answer</strong></p>\n\n<p>While as others have mentioned <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">Proposal: Variadic Kinds</a> would help with this task, we can find some workarounds for your specific example.</p>\n\n<p>If we write the function signature with a single type argument, we can get a union type of the arguments:</p>\n\n<pre><code>function f&lt;A&gt;(...args: A[]): A {}\nvar smth = f({ x: 1 }, { y: 2 }, { z: 3 });\ntypeof smth = {\n    x: number;\n    y?: undefined;\n    z?: undefined;\n} | {\n    y: number;\n    x?: undefined;\n    z?: undefined;\n} | {\n    z: number;\n    x?: undefined;\n    y?: undefined;\n}\n</code></pre>\n\n<p>The problem with this approach is that if we use a class instead of an object literal the compiler will refuse to infer the union and give us an error instead. If we let the rest parameter go (<code>...</code>) and just use an array the compiler will infer a union of the parameter type:</p>\n\n<pre><code>function f&lt;A&gt;(args: A[]): A { /*\u2026*/}\nvar smth = f([{ x: 1 }, new A(), new B()]); \ntypeof smth == A | B | {\n    x: number;\n}\n</code></pre>\n\n<p>So now we have a union of types, but you want an intersection. We can convert the union to an intersection using conditional types (see <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type\">this</a> answer)</p>\n\n<pre><code>type UnionToIntersection&lt;U&gt; = \n(U extends any ? (k: U)=&gt;void : never) extends ((k: infer I)=&gt;void) ? I : never\n\nfunction f&lt;A&gt;(args: A[]): UnionToIntersection&lt;A&gt; {\n    return Object.assign({}, ...args);\n}\n\nclass A { z: number }\nclass B { y: number }\n\nvar smth = f([{ x: 1 }, new A(), new B()]); // will have type  A &amp; B &amp; { x: number; }\nvar res = smth.x + smth.y + smth.z;\n</code></pre>\n\n<p>Hope this helps, and gives you a usable workaround at least until we get variadic kinds.</p>\n"}], "owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6427, "favorite_count": 0, "accepted_answer_id": 50732491, "answer_count": 1, "score": 4, "last_activity_date": 1562843316, "creation_date": 1528317801, "last_edit_date": 1528318289, "question_id": 50729287, "link": "https://stackoverflow.com/questions/50729287/varargs-in-typescript", "title": "Varargs in typescript", "body": "<p>I want to pass arbitrary number of arguments of different types into a function and use these types. It looks <a href=\"http://www.typescriptlang.org/play/#src=%250D%250Afunction%2520f%3CA%3E(a%253A%2520A)%253A%2520A%253B%250D%250Afunction%2520f%3CA%252C%2520B%3E(a%253A%2520A%252C%2520b%253A%2520B)%253A%2520A%2520%2526%2520B%253B%250D%250Afunction%2520f%3CA%252C%2520B%252C%2520C%3E(a%253A%2520A%252C%2520b%253A%2520B%252C%2520c%253A%2520C)%253A%2520A%2520%2526%2520B%2520%2526%2520C%253B%250D%250Afunction%2520f%3CA%252C%2520B%252C%2520C%252C%2520D%3E(a%253A%2520A%252C%2520b%253A%2520B%252C%2520c%253A%2520C%252C%2520d%253A%2520D)%253A%2520A%2520%2526%2520B%2520%2526%2520C%2520%2526%2520D%253B%250D%250A%250D%250Afunction%2520f(...args%253A%2520any%255B%255D)%2520%257B%250D%250A%2520%2520%2520%2520return%2520Object.assign(%257B%257D%252C%2520...args)%253B%250D%250A%257D%250D%250A%250D%250Avar%2520smth%2520%253D%2520f(%257B%2520x%253A%25201%2520%257D%252C%2520%257B%2520y%253A%25202%2520%257D%252C%2520%257B%2520z%253A%25203%2520%257D)%253B%250D%250Avar%2520res%2520%253D%2520smth.x%2520%252B%2520smth.y%2520%252B%2520smth.z%253B\" rel=\"nofollow noreferrer\">like following</a>:</p>\n\n<pre><code>function f&lt;A&gt;(a: A): A;\nfunction f&lt;A, B&gt;(a: A, b: B): A &amp; B;\nfunction f&lt;A, B, C&gt;(a: A, b: B, c: C): A &amp; B &amp; C;\nfunction f&lt;A, B, C, D&gt;(a: A, b: B, c: C, d: D): A &amp; B &amp; C &amp; D;\n\nfunction f(...args: any[]) {\n    return Object.assign({}, ...args);\n}\n\nvar smth = f({ x: 1 }, { y: 2 }, { z: 3 });\nvar res = smth.x + smth.y + smth.z;\n</code></pre>\n\n<p>As I want arbitrary number of parameters, I'd like to get rid of these declarations</p>\n\n<pre><code>function f&lt;A&gt;(a: A): A;\nfunction f&lt;A, B&gt;(a: A, b: B): A &amp; B;\nfunction f&lt;A, B, C&gt;(a: A, b: B, c: C): A &amp; B &amp; C;\nfunction f&lt;A, B, C, D&gt;(a: A, b: B, c: C, d: D): A &amp; B &amp; C &amp; D;\n</code></pre>\n\n<p>and use a single declaration like:</p>\n\n<pre><code>function f&lt;...T&gt;(args: [...T]): &amp;&lt;...T&gt;;\n</code></pre>\n\n<p>but this thing is syntactically wrong.</p>\n\n<p>Is there a way to rewrite it in a correct way?</p>\n\n<p>PS: <a href=\"//ru.stackoverflow.com/q/838771/178988\">Same question in Russian.</a></p>\n"}, {"tags": ["ajax", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 849, "user_id": 9046380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2a3901a83058a91ac4c28c37b4cc87c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Grass", "link": "https://stackoverflow.com/users/9046380/marcus-grass"}, "edited": false, "score": 0, "creation_date": 1528318348, "post_id": 50729296, "comment_id": 88466581, "body": "That solved it completely, now I can clean up my code a bit too!"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 849, "user_id": 9046380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2a3901a83058a91ac4c28c37b4cc87c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Grass", "link": "https://stackoverflow.com/users/9046380/marcus-grass"}, "edited": false, "score": 0, "creation_date": 1528318392, "post_id": 50729296, "comment_id": 88466603, "body": "Your&#39;re welcome. :)  Please, don&#39;t forget to mark my answer as solution."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1528317862, "creation_date": 1528317862, "answer_id": 50729296, "question_id": 50729199, "link": "https://stackoverflow.com/questions/50729199/angular-typescript-subscribed-value-is-empty-but-data-is-still-supplied-to-the-t/50729296#50729296", "title": "Angular Typescript subscribed value is empty but data is still supplied to the template", "body": "<p>The problem comes with the Subscription to an Observable. Your console.log()-calls are processed much earlier than the values return. That's why you always see empty objects although, a few millisecs later, they are filled with data.</p>\n\n<p>try it this way:</p>\n\n<pre><code> ngOnInit() {\n   this.loadInvoices();\n }\n\n private loadInvoices(){\n   this.invoiceService.getUserInvoices().pipe(first()).subscribe(invoices =&gt; {\n     this.invoices=invoices;\n     console.log(this.invoices);\n     this.dataSource = new MatTableDataSource&lt;Invoice&gt;(this.invoices); \n     this.dataSource.paginator = this.paginator;\n     this.dataSource.sort = this.sort;\n   });\n }\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 9046380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2a3901a83058a91ac4c28c37b4cc87c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Grass", "link": "https://stackoverflow.com/users/9046380/marcus-grass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 50729296, "answer_count": 1, "score": 0, "last_activity_date": 1528318449, "creation_date": 1528317465, "last_edit_date": 1528318449, "question_id": 50729199, "link": "https://stackoverflow.com/questions/50729199/angular-typescript-subscribed-value-is-empty-but-data-is-still-supplied-to-the-t", "title": "Angular Typescript subscribed value is empty but data is still supplied to the template", "body": "<p>I'm very new to Angular and Typescript and have ran into a, to me, seemingly strange issue.\nI'm trying to build a mat-table and using the value of my class to create a MatTableDataSource object. I'm getting the values from a get request to my back-end but any time I try to use the recovered values in my component the values are empty, but when it comes time to load the template they are suddenly there.</p>\n\n<p>Here's my component:</p>\n\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\nimport { first } from 'rxjs/operators';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator, MatSort } from '@angular/material';\n\nimport { Invoice } from '../_models';\nimport { InvoiceService } from '../_services';\n\n@Component({\n  selector: 'app-invoices',\n  templateUrl: './invoices.component.html',\n  styleUrls: ['./invoices.component.css']\n})\nexport class InvoicesComponent implements OnInit {\n  displayedColumns=['rating', 'amount', 'debtor', 'serial', 'dateout', 'expiration', 'daysleft', 'fid']\n  invoices: Invoice[] = [];\n  dataSource= new MatTableDataSource&lt;Invoice&gt;(this.invoices);\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(\n    private invoiceService: InvoiceService\n  ) { }\n\n  ngOnInit() {\n    this.loadInvoices();\n    console.log(this.invoices);\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n  private loadInvoices(){\n    this.invoiceService.getUserInvoices().pipe(first()).subscribe(invoices =&gt; {\n      this.invoices=invoices;\n    });\n    console.log(this.invoices);\n\n\n  }\n  applyFilter(filterValue: string) {\n    filterValue = filterValue.trim(); // Remove whitespace\n    filterValue = filterValue.toLowerCase(); // Datasource defaults to lowercase matches\n    this.dataSource.filter = filterValue;\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n}\n</code></pre>\n\n<p>And here is the template:</p>\n\n<pre><code>&lt;h3&gt; All Uploaded invoices:&lt;/h3&gt;\n&lt;mat-form-field&gt;\n    &lt;input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\"&gt;\n&lt;/mat-form-field&gt;\n&lt;div class=\"mat-elevation-z8\"&gt;\n  &lt;mat-table #table [dataSource]=\"invoices\" matSort class=\"mat-elevation-z8\"&gt;\n\n    &lt;ng-container matColumnDef=\"rating\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt; Rating &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.rating}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"amount\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt; Amount &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.amount}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"debtor\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Debtor &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.debtor}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"serial\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Serial &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.serial}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"dateout\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Dateout &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.dateout}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"expiration\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Expiration &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.expiration}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"daysleft\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef mat-sort-header &gt; Days left &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.daysleft}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"fid\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Fid &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.fid}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n\n    &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/mat-header-row&gt;\n    &lt;mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/mat-row&gt;\n  &lt;/mat-table&gt;\n  &lt;mat-paginator [pageSizeOptions]=\"[3, 100, 200]\" showFirstLastButtons&gt;&lt;/mat-paginator&gt; \n&lt;/div&gt;\n&lt;p&gt;&lt;a [routerLink]=\"['/login']\"&gt;Logout&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n\n<p>The important part is <code>[dataSource]=\"invoices\"</code>, as that get populated with the data collected from my get request that is initiated by the loadInvoices method. If i change it to <code>[dataSource]=\"dataSource\"</code> it comes out as an empty array. Similarly both my console.logs output an empty array. Is there a way to use the data from my request to create a MatTableDataSource object and pass it to the template, and if so, how might I do that?</p>\n\n<p>New component after @DiabolicWords solved it:</p>\n\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\nimport { first } from 'rxjs/operators';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator, MatSort } from '@angular/material';\n\nimport { Invoice } from '../_models';\nimport { InvoiceService } from '../_services';\n\n@Component({\n  selector: 'app-invoices',\n  templateUrl: './invoices.component.html',\n  styleUrls: ['./invoices.component.css']\n})\nexport class InvoicesComponent implements OnInit {\n  displayedColumns=['rating', 'amount', 'debtor', 'serial', 'dateout', 'expiration', 'daysleft', 'fid']\n  dataSource: MatTableDataSource&lt;Invoice&gt;;\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(\n    private invoiceService: InvoiceService\n  ) { }\n\n  ngOnInit() {\n    this.loadInvoices();\n  }\n  private loadInvoices(){\n    this.invoiceService.getUserInvoices().pipe(first()).subscribe(invoices =&gt; {\n      this.dataSource = new MatTableDataSource&lt;Invoice&gt;(invoices);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    });\n\n\n  }\n  applyFilter(filterValue: string) {\n    filterValue = filterValue.trim(); // Remove whitespace\n    filterValue = filterValue.toLowerCase(); // Datasource defaults to lowercase matches\n    this.dataSource.filter = filterValue;\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "vscode-extensions"], "answers": [{"comments": [{"owner": {"reputation": 1594, "user_id": 2512078, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NDKib.png?s=128&g=1", "display_name": "spikespaz", "link": "https://stackoverflow.com/users/2512078/spikespaz"}, "edited": false, "score": 0, "creation_date": 1528352948, "post_id": 50733810, "comment_id": 88476342, "body": "I figured out that it does get called when Visual Studio Code is closed. I would assume it also gets called when the extension is disabled or uninstalled. But I don&#39;t understand why it&#39;s undocumented."}], "tags": [], "owner": {"reputation": 36245, "user_id": 1137174, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/361fd9b1b32d13cd1c1dc03e5c6a2127?s=128&d=identicon&r=PG", "display_name": "Mike Lischke", "link": "https://stackoverflow.com/users/1137174/mike-lischke"}, "is_accepted": false, "score": 0, "last_activity_date": 1528350734, "creation_date": 1528350734, "answer_id": 50733810, "question_id": 50729017, "link": "https://stackoverflow.com/questions/50729017/vs-code-extensions-api-undocumented-function-exports-deactivate/50733810#50733810", "title": "VS Code Extensions API undocumented function &quot;exports.deactivate&quot;", "body": "<p>No, the <code>deactivate()</code> function has no parameters at all. And to be honest, I'm not sure if this function is called at all. At least I have no code there and I have seen quite a number of extensions that either don't implement it at all or just have an empty body.</p>\n"}], "owner": {"reputation": 1594, "user_id": 2512078, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NDKib.png?s=128&g=1", "display_name": "spikespaz", "link": "https://stackoverflow.com/users/2512078/spikespaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528350734, "creation_date": 1528316773, "question_id": 50729017, "link": "https://stackoverflow.com/questions/50729017/vs-code-extensions-api-undocumented-function-exports-deactivate", "title": "VS Code Extensions API undocumented function &quot;exports.deactivate&quot;", "body": "<p>When using the Yeoman Extension Generator, <code>yo code</code> to initialize an extension, it creates an exported function called <code>deactivate()</code>. I want to implement this for my extension to clean up when it is deactivated or disabled, but I don't know if it takes an extension context like the <code>activate(context)</code> export.</p>\n\n<p>I can't find any uses for the function in example extensions or the <a href=\"https://code.visualstudio.com/docs/extensionAPI/vscode-api#Extension\" rel=\"nofollow noreferrer\">relevant documentation</a>.</p>\n\n<p>If anyone knows how this function is used or what arguments are passed to it, when it is called, please let me know, and maybe we should update the documentation to include this export. </p>\n"}, {"tags": ["node.js", "typescript", "express", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 2588, "user_id": 2208597, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/35a25776a18df6ac3bd78b864c6c438e?s=128&d=identicon&r=PG", "display_name": "Aleksa", "link": "https://stackoverflow.com/users/2208597/aleksa"}, "is_accepted": false, "score": 2, "last_activity_date": 1528325416, "creation_date": 1528325416, "answer_id": 50730683, "question_id": 50728961, "link": "https://stackoverflow.com/questions/50728961/getters-to-json/50730683#50730683", "title": "Getters to JSON", "body": "<p>I found a solution. Adding <code>@Column(DataType.VIRTUAL)</code> solved the problem:</p>\n\n<pre><code>@Column(DataType.VIRTUAL)\nget isSalesforceUser(): boolean {\n  return this.externalLogins.length &gt; 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 2588, "user_id": 2208597, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/35a25776a18df6ac3bd78b864c6c438e?s=128&d=identicon&r=PG", "display_name": "Aleksa", "link": "https://stackoverflow.com/users/2208597/aleksa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1528325416, "creation_date": 1528316613, "question_id": 50728961, "link": "https://stackoverflow.com/questions/50728961/getters-to-json", "title": "Getters to JSON", "body": "<p>I have <code>sequelize</code> model <code>User</code> with a getter field:</p>\n\n<pre><code>public get isExternalUser(): boolean {\n  return this.externalLogins.length &gt; 0;\n}\n</code></pre>\n\n<p>When I fetch <code>User</code> from DB, I can see in debugger that he has <code>isExternalUser</code> property set to <code>false</code> which is fine, but then when I return it from controller and it gets serialized to JSON, that getter disappers and only <code>User</code> fields are serialized.</p>\n\n<p>What am I missing? Are there any settings that can tell <code>sequelize</code> that it should serialize getter fields also?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "leaflet", "angular-cli"], "comments": [{"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528316708, "post_id": 50728941, "comment_id": 88465863, "body": "Is it possible that the minified version you have of that script isn&#39;t actually exporting any object? Unlikely but I figured I&#39;d ask."}, {"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 1, "creation_date": 1528316737, "post_id": 50728941, "comment_id": 88465871, "body": "Also, just a style thing, but why do you have a component in your services folder? :/"}, {"owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "reply_to_user": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528316851, "post_id": 50728941, "comment_id": 88465923, "body": "ha, services describe a part of the application, the client provides &quot;services&quot; of on-site installations, and they are stuck on the terminology for describing what they do for their own clients."}, {"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528316885, "post_id": 50728941, "comment_id": 88465942, "body": "whoopsies. My bad. I shouldn&#39;t have assumed, lol. anyway, back to my first question"}, {"owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "reply_to_user": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528316911, "post_id": 50728941, "comment_id": 88465952, "body": "so the files do not export anything, they are meant to augment the existing leaflet.js functions"}, {"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528316939, "post_id": 50728941, "comment_id": 88465962, "body": "Yeah. So the reason it&#39;s failing is because it doesn&#39;t export anything. So you can&#39;t import them."}, {"owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "reply_to_user": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528317011, "post_id": 50728941, "comment_id": 88465994, "body": "I guess I am wondering what my options are, how can I add these plugins to my angular app for use with the existing leaflet.js map"}, {"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528317043, "post_id": 50728941, "comment_id": 88466007, "body": "Ok, so, try this. I think you want to include the file in the &quot;scripts&quot; array in your angular-cli.json. That should wrap it up in your webpack output, and you won&#39;t need to actually import it. Does that work for you?"}, {"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "edited": false, "score": 0, "creation_date": 1528317135, "post_id": 50728941, "comment_id": 88466046, "body": "Added an official answer below."}], "answers": [{"comments": [{"owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "edited": false, "score": 0, "creation_date": 1528317220, "post_id": 50729104, "comment_id": 88466087, "body": "already tried that, the browserPrint that should be accessible prevents building via the cli"}, {"owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "reply_to_user": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "edited": false, "score": 0, "creation_date": 1528317303, "post_id": 50729104, "comment_id": 88466126, "body": "well lets try to fix this issue then because i believe this is the correct way to solve your problem, it&#39;s just not working. I feel like i&#39;ve run into the same issue before (angular.cli scripts couldn&#39;t be found by webpack while building). I&#39;ll brainstorm"}, {"owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "edited": false, "score": 0, "creation_date": 1528317544, "post_id": 50729104, "comment_id": 88466241, "body": "this link is an example I am trying to follow <a href=\"https://github.com/Asymmetrik/ngx-leaflet-tutorial-plugins/tree/master/Leaflet.BrowserPrint\" rel=\"nofollow noreferrer\">github.com/Asymmetrik/ngx-leaflet-tutorial-plugins/tree/mast&zwnj;&#8203;er/&hellip;</a>"}], "tags": [], "owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "is_accepted": false, "score": 0, "last_activity_date": 1528317126, "creation_date": 1528317126, "answer_id": 50729104, "question_id": 50728941, "link": "https://stackoverflow.com/questions/50728941/angular-cli-build-gives-error-leaflet-browser-print-is-not-a-module/50729104#50729104", "title": "angular-cli build gives error: leaflet.browser.print &quot;is not a module&quot;", "body": "<p>I think you want to include the file in the \"scripts\" array in your angular-cli.json. That should wrap it up in your webpack output, and you won't need to actually import it (as you've said above, that particular file doesn't export anything, so you can't import it anyway).</p>\n\n<p>Documentation here:</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/wiki/stories-global-scripts\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/stories-global-scripts</a></p>\n"}], "owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528317126, "creation_date": 1528316544, "question_id": 50728941, "link": "https://stackoverflow.com/questions/50728941/angular-cli-build-gives-error-leaflet-browser-print-is-not-a-module", "title": "angular-cli build gives error: leaflet.browser.print &quot;is not a module&quot;", "body": "<p>I have an Angular 4.1.1 app that is successfully pulling in leaflet.js to provide maps and map layers etc.  I am trying to add a leaflet plugin called <a href=\"https://github.com/Igor-Vladyka/leaflet.browser.print\" rel=\"nofollow noreferrer\">browserPrint</a></p>\n\n<p>I import Leaflet into a Component like this:</p>\n\n<pre><code>import * as L from \"leaflet\";\nimport * as browserPrint from \"../../../../assets/scripts/leaflet.browser.print.min\";\n</code></pre>\n\n<p>The import statement for Leaflet works great and I can create and display a map.</p>\n\n<p>The error occurs when I try and add the second line for <strong>browserPrint</strong>.</p>\n\n<p>The angular-cli build throws an error:</p>\n\n<blockquote>\n  <p>ERROR in\n  /src/app/services/driverLists/driver-lists-map/driverLists.map.component.ts\n  (8,31): File '/src/assets/scripts/leaflet.browser.print.min.js' is not\n  a module.</p>\n</blockquote>\n\n<p>What I have tried:</p>\n\n<ol>\n<li>I added <strong>declare var browserPrint: any;</strong> to the typings.d.ts</li>\n<li><p>I tried switching the import to:</p>\n\n<p><strong>import \"../../../../assets/scripts/leaflet.browser.print.min\";</strong></p>\n\n<p>but that just threw tons of errors and broke the maps all together</p></li>\n<li><p>I tried switching the import to:</p>\n\n<p><strong>import * as BrowserPrint from \"../../../../assets/scripts/leaflet.browser.print\";</strong></p>\n\n<p>but the error changes to <strong><em>Cannot find module leaflet.browser.print</em></strong></p></li>\n<li><p>I have also tried changing the file paths to use the files from the leaflet.browser.print node modules folder.  But the same errors are generated.</p></li>\n</ol>\n\n<h2>QUESTION</h2>\n\n<p>Can someone help me figure out how to add the leaflet browser print plugin to a leaflet map inside an Angular4+ app?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1528314975, "post_id": 50728485, "comment_id": 88465074, "body": "A little unclear since there are a few ways I can see to do this. You may be looking for <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#extending-interfaces\" rel=\"nofollow noreferrer\">extending interfaces</a>, or maybe <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"nofollow noreferrer\">intersection types</a>?"}, {"owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1528328655, "post_id": 50728485, "comment_id": 88469910, "body": "Yes, I was looking for &quot;intersection types&quot;. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1528315281, "post_id": 50728568, "comment_id": 88465232, "body": "Thanks, just found that! Typescript did not complain when I used the code in my OP, is that also valid?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 1, "creation_date": 1528316626, "post_id": 50728568, "comment_id": 88465824, "body": "<code>[ P in keyof X]: X[P]</code> is mapped type syntax, but that doesn&#39;t allow you to add extra properties, I was not able to get your code to complie..."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 7, "last_activity_date": 1528315053, "creation_date": 1528315053, "answer_id": 50728568, "question_id": 50728485, "link": "https://stackoverflow.com/questions/50728485/composite-type-in-typescript/50728568#50728568", "title": "&quot;Composite type&quot; in typescript", "body": "<p>You can just use an intersection type </p>\n\n<pre><code>// type or interface\ntype X = {\n    a: number\n};\n\n\ntype XPlus = X &amp; {\n    b: boolean    // add a new property\n};\n\n// instance includes properties from both X and XPlus\nconst instance: XPlus = {\n    a: 100,\n    b: false\n};\n</code></pre>\n"}], "owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1736, "favorite_count": 0, "accepted_answer_id": 50728568, "answer_count": 1, "score": 3, "last_activity_date": 1528315066, "creation_date": 1528314688, "question_id": 50728485, "link": "https://stackoverflow.com/questions/50728485/composite-type-in-typescript", "title": "&quot;Composite type&quot; in typescript", "body": "<p>I recall seeing a feature in Typescript where a type could be composed of another type's properties as well as it's own. But I'm not sure if I'm remembering it correctly. Consider the following:</p>\n\n<pre><code>// type or interface\ntype X = {\n  a: number\n};\n\n// type or interface\n// composes properties from X ???\ntype XPlus = {\n  [P: keyof X], // include properties from X\n  b: boolean    // add a new property\n};\n\n// instance includes properties from both X and XPlus\nconst instance: XPlus = {\n  a: 100,\n  b: false\n};\n</code></pre>\n\n<p>This seems to work, but I'm not sure it's doing what I think it is. Does such a feature exist, and if so, what's it called?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "edited": false, "score": 0, "creation_date": 1528331905, "post_id": 50729955, "comment_id": 88470694, "body": "Thanks I actually implemented this and it works as long as the confirm is dirty. Is there a way to show the error when the user starts to enter a pw only without yet touching the confirm input?"}, {"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "reply_to_user": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "edited": false, "score": 0, "creation_date": 1528378748, "post_id": 50729955, "comment_id": 88492994, "body": "If you add a custom ErrorStateMatcher to the input, you can theoretically show an error based on just about anything. Error when dirty is common - see the angular docs <a href=\"https://material.angular.io/components/input/overview#changing-when-error-messages-are-shown\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "is_accepted": false, "score": 4, "last_activity_date": 1528320896, "creation_date": 1528320896, "answer_id": 50729955, "question_id": 50728460, "link": "https://stackoverflow.com/questions/50728460/password-confirm-angular-material/50729955#50729955", "title": "Password Confirm Angular Material", "body": "<p>Based on your code, it doesn't look like you added any validation for the confirmPassword field: <code>confirmPassword: new FormControl(null, )</code> so the only validation happening is via the <code>required</code> attribute. Also, the mat-error will only be displayed by the form field if the form control is invalid. That means you can't force an error to be displayed just by using ngIf. Since you only have <code>required</code> validation on that field, it makes sense that you only have an error when the field is empty. To solve this problem, you need to create a validator for mismatch checking and add it to the confirmPassword form control. As an alternative, you can manually add errors to the form control using <code>setErrors()</code> when the field changes by adding an input listener - for example (this is just from memory - may need fixing):</p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;mat-label&gt;Confirm&lt;/mat-label&gt;\n    &lt;input matInput required type=\"password\" #confirm formControlName=\"confirmPassword\"\n        (input)=\"onInput($event.target.value)\"&gt;\n    &lt;mat-error *ngIf=\"form.get('confirmPassword').invalid&gt;\n        Password does not match\n    &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n\nonInput(value) {\n    if (this.form.hasError('confirmedDoesNotMatch')) { // or some other test of the value\n        this.form.get('confirmPassword').setErrors([{'confirmedDoesNotMatch': true}]);\n    } else {\n        this.form.get('confirmPassword').setErrors(null);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8489, "user_id": 4747193, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WBKGw.png?s=128&g=1", "display_name": "weibeld", "link": "https://stackoverflow.com/users/4747193/weibeld"}, "is_accepted": true, "score": 9, "last_activity_date": 1538841844, "creation_date": 1538841844, "answer_id": 52680899, "question_id": 50728460, "link": "https://stackoverflow.com/questions/50728460/password-confirm-angular-material/52680899#52680899", "title": "Password Confirm Angular Material", "body": "<p>I solved it like this:</p>\n\n<p><strong>Template:</strong>   </p>\n\n<pre><code>  &lt;mat-form-field&gt;\n    &lt;input matInput type=\"password\" placeholder=\"Password\" formControlName=\"password\" (input)=\"onPasswordInput()\"&gt;\n    &lt;mat-error *ngIf=\"password.hasError('required')\"&gt;Password is required&lt;/mat-error&gt;\n    &lt;mat-error *ngIf=\"password.hasError('minlength')\"&gt;Password must have at least {{minPw}} characters&lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput type=\"password\" placeholder=\"Confirm password\" formControlName=\"password2\" (input)=\"onPasswordInput()\"&gt;\n    &lt;mat-error *ngIf=\"password2.hasError('required')\"&gt;Please confirm your password&lt;/mat-error&gt;\n    &lt;mat-error *ngIf=\"password2.invalid &amp;&amp; !password2.hasError('required')\"&gt;Passwords don't match&lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n</code></pre>\n\n<p><strong>Component:</strong></p>\n\n<pre><code>export class SignUpFormComponent implements OnInit {\n\n  minPw = 8;\n  formGroup: FormGroup;\n\n  constructor(private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n      password: ['', [Validators.required, Validators.minLength(this.minPw)]],\n      password2: ['', [Validators.required]]\n    }, {validator: passwordMatchValidator});\n  }\n\n  /* Shorthands for form controls (used from within template) */\n  get password() { return this.formGroup.get('password'); }\n  get password2() { return this.formGroup.get('password2'); }\n\n  /* Called on each input in either password field */\n  onPasswordInput() {\n    if (this.formGroup.hasError('passwordMismatch'))\n      this.password2.setErrors([{'passwordMismatch': true}]);\n    else\n      this.password2.setErrors(null);\n  }\n}\n</code></pre>\n\n<p><strong>Validator:</strong></p>\n\n<pre><code>export const passwordMatchValidator: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null =&gt; {\n  if (formGroup.get('password').value === formGroup.get('password2').value)\n    return null;\n  else\n    return {passwordMismatch: true};\n};\n</code></pre>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li>Thanks to <code>onPasswordInput()</code> being called from either password field, editing the first password field (and thus invalidating the password confirmation) also causes the mismatch error to be displayed in the password confirmation field.</li>\n<li>The <code>*ngIf=\"password2.invalid &amp;&amp; !password2.hasError('required')\"</code> test for the password confirmation field ensures that never both error messages (\"mismatch\" and \"required\") are displayed at the same time.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 9404548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5b8c70f1f595b837b7391f883c25a0?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/9404548/henry"}, "is_accepted": false, "score": 2, "last_activity_date": 1545557860, "creation_date": 1545557860, "answer_id": 53902553, "question_id": 50728460, "link": "https://stackoverflow.com/questions/50728460/password-confirm-angular-material/53902553#53902553", "title": "Password Confirm Angular Material", "body": "<p>you are essentially validating how 2 fields in a form interact with each other (\"password\" and \"confirm password\" fields). This is known as \"<strong>cross-field validation</strong>\"</p>\n\n<p>that means, your custom validator cannot be assigned to just 1 field. The custom validator needs to be assigned to the common parent, the form.</p>\n\n<p>Here is the official documented best practice, for validating how 2 fields in a form interact with each other</p>\n\n<p><a href=\"https://angular.io/guide/form-validation#cross-field-validation\" rel=\"nofollow noreferrer\">https://angular.io/guide/form-validation#cross-field-validation</a></p>\n\n<p>this code snippet worked for me</p>\n\n<p>template:</p>\n\n<pre><code>&lt;form method=\"post\" [formGroup]=\"newPasswordForm\"&gt;\n  &lt;input type=\"password\" formControlName=\"newPassword\" /&gt;\n  &lt;input type=\"password\" formControlName=\"newPasswordConfirm\" /&gt;\n  &lt;div class=\"err-msg\" *ngIf=\"newPasswordForm.errors?.passwordMismatch &amp;&amp; (newPasswordForm.touched || newPasswordForm.dirty)\"&gt;\n        confirm-password does not match password\n      &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>component.ts:</p>\n\n<pre><code>export class Component implements OnInit {\n    this.newPasswordForm = new FormGroup({\n      'newPassword': new FormControl('', [\n        Validators.required,\n      ]),\n      'newPasswordConfirm': new FormControl('', [\n        Validators.required\n      ])\n    }, { validators: passwordMatchValidator });\n}\n\nexport const passwordMatchValidator: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null =&gt; {\n  return formGroup.get('newPassword').value === formGroup.get('newPasswordConfirm').value ?\n    null : { 'passwordMismatch': true };\n}\n</code></pre>\n\n<p>Note that for <code>passwordMatchValidator</code>, it is outside the component class. It is NOT inside the class</p>\n"}, {"tags": [], "owner": {"reputation": 10433, "user_id": 1002908, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e02c5c35a6b1479ccc24368a2e085a9?s=128&d=identicon&r=PG", "display_name": "Rob Lyndon", "link": "https://stackoverflow.com/users/1002908/rob-lyndon"}, "is_accepted": false, "score": 1, "last_activity_date": 1581464485, "creation_date": 1581464485, "answer_id": 60179005, "question_id": 50728460, "link": "https://stackoverflow.com/questions/50728460/password-confirm-angular-material/60179005#60179005", "title": "Password Confirm Angular Material", "body": "<p>Henry's answer was very helpful (and I'm surprised it doesn't have more votes), but I've made a tweak to it so that it plays well with Angular Material controls.</p>\n\n<p>The tweak relies on the fact that the <code>FormGroup</code> class has a <code>parent</code> property. Using this property, you can tie the validation message to the password confirmation field, and then refer up the chain in the validator.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public signUpFormGroup: FormGroup = this.formBuilder.group({\n  email: ['', [Validators.required, Validators.pattern(validation.patterns.email)]],\n  newPassword: this.formBuilder.group({\n    password: ['', [\n      Validators.required,\n      Validators.minLength(validation.passwordLength.min),\n      Validators.maxLength(validation.passwordLength.max)]],\n    confirmPassword: ['', [Validators.required, passwordMatchValidator]]\n  })\n});\n</code></pre>\n\n<p>The validator looks like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const passwordMatchValidator: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null =&gt; {\n  const parent = formGroup.parent as FormGroup;\n  if (!parent) return null;\n  return parent.get('password').value === parent.get('confirmPassword').value ?\n    null : { 'mismatch': true };\n}\n</code></pre>\n\n<p>and the form then looks like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div formGroupName=\"newPassword\" class=\"full-width new-password\"&gt;\n  &lt;mat-form-field class=\"full-width sign-up-password\"&gt;\n    &lt;mat-label&gt;{{ 'sign-up.password' | translate }}&lt;/mat-label&gt;\n    &lt;input matInput [type]=\"toggleSignUpPass.type\" [maxlength]=\"max\" [minlength]=\"min\" formControlName=\"password\" required/&gt;\n    &lt;mat-pass-toggle-visibility #toggleSignUpPass matSuffix&gt;&lt;/mat-pass-toggle-visibility&gt;\n    &lt;mat-icon matSuffix [color]=\"color$ | async\"&gt;lock&lt;/mat-icon&gt;\n    &lt;mat-hint aria-live=\"polite\"&gt;{{ signUpFormGroup.get('newPassword').value.password.length }}\n      / {{ max }} &lt;/mat-hint&gt;\n    &lt;mat-error *ngIf=\"signUpFormGroup?.get('newPassword')?.controls?.password?.hasError('required')\"&gt;\n      {{ 'sign-up.password-error.required' | translate }}\n    &lt;/mat-error&gt;\n    &lt;mat-error class=\"password-too-short\" *ngIf=\"signUpFormGroup?.get('newPassword')?.controls?.password?.hasError('minlength')\"&gt;\n      {{ 'sign-up.password-error.min-length' | translate:passwordRestriction.minLength }}\n    &lt;/mat-error&gt;\n    &lt;mat-error *ngIf=\"signUpFormGroup?.get('newPassword')?.controls?.password?.hasError('maxlength')\"&gt;\n      {{ 'sign-up.password-error.max-length' | translate:passwordRestriction.maxLength }}\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n  &lt;mat-form-field class=\"full-width sign-up-confirm-password\"&gt;\n    &lt;mat-label&gt;{{ 'sign-up.confirm-password' | translate }}&lt;/mat-label&gt;\n    &lt;input matInput [type]=\"toggleSignUpPassConf.type\" formControlName=\"confirmPassword\" required /&gt;\n    &lt;mat-pass-toggle-visibility #toggleSignUpPassConf matSuffix&gt;&lt;/mat-pass-toggle-visibility&gt;\n    &lt;mat-icon matSuffix [color]=\"color$ | async\"&gt;lock&lt;/mat-icon&gt;\n    &lt;mat-error *ngIf=\"signUpFormGroup?.get('newPassword')?.controls?.confirmPassword?.hasError('required')\"&gt;\n      {{ 'sign-up.confirm-password-error.required' | translate }}\n    &lt;/mat-error&gt;\n    &lt;mat-error class=\"password-mismatch\" *ngIf=\"signUpFormGroup?.get('newPassword')?.controls?.confirmPassword?.hasError('mismatch')\"&gt;\n      {{ 'sign-up.password-error.mismatch' | translate }}\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17746, "favorite_count": 1, "accepted_answer_id": 52680899, "answer_count": 4, "score": 3, "last_activity_date": 1581464485, "creation_date": 1528314605, "question_id": 50728460, "link": "https://stackoverflow.com/questions/50728460/password-confirm-angular-material", "title": "Password Confirm Angular Material", "body": "<p>I'm working to authenticate a user with Angular Material. I'm currently trying to get the proper mat-error to display when the confirmation password doesn't match the first entered pw. </p>\n\n<p>Here is my html: </p>\n\n<pre><code> &lt;mat-form-field hintLabel=\"Minimum 8 Characters\" class=\"\"&gt;\n                            &lt;mat-label&gt;Password&lt;/mat-label&gt;\n                            &lt;input \n                            matInput \n                            #input \n                            type=\"password\"\n                            formControlName=\"password\"&gt;\n                            &lt;mat-hint align=\"end\"&gt;{{input.value?.length || 0}}/8&lt;/mat-hint&gt;\n                        &lt;/mat-form-field&gt;\n\n                        &lt;mat-form-field&gt;\n                            &lt;mat-label&gt;Confirm&lt;/mat-label&gt;\n                            &lt;input \n                            matInput\n                            required  \n                            type=\"password\"\n                            #confirm\n                            formControlName=\"confirmPassword\"&gt;\n                            &lt;mat-error *ngIf=\"form.get('confirmPassword').invalid || confirmPasswordMismatch\"&gt;Password does not match&lt;/mat-error&gt;\n                            &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>The error displays once the user has focused on password confirmation and unfocuses without entering anything. Once the user enters anything, the error goes away even though the confirmation doesn't match the password.</p>\n\n<p>Here is my TS file:</p>\n\n<pre><code>public get confirmPasswordMismatch() {\n        return (this.form.get('password').dirty || this.form.get('confirmPassword').dirty) &amp;&amp; this.form.hasError('confirmedDoesNotMatch');\n    }\n\nthis.form = new FormGroup({\n            userName: new FormControl(null, [Validators.required]),\n            fullName: new FormControl(null, [Validators.required]),\n            email: new FormControl(null, [Validators.required, Validators.pattern(this.EMAIL_REGEX)]),\n            password: new FormControl(null),\n            confirmPassword: new FormControl(null, ),\n        }, (form: FormGroup) =&gt; passwordValidator.validate(form));\n</code></pre>\n\n<p>The desired effect is that the error shows when the user has entered text into pw input when confirm pw is empty and to show an error when both have text but confirm doesn't match pw. </p>\n"}, {"tags": ["angular", "unit-testing", "typescript", "angular5", "karma-jasmine"], "comments": [{"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1528314414, "post_id": 50728302, "comment_id": 88464787, "body": "I guess that, the error is from your html template, in which you are trying to access <code>userName</code>. Can you show html?"}, {"owner": {"reputation": 229, "user_id": 8929827, "user_type": "registered", "profile_image": "https://graph.facebook.com/1658237010916004/picture?type=large", "display_name": "Developer", "link": "https://stackoverflow.com/users/8929827/developer"}, "reply_to_user": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1528314467, "post_id": 50728302, "comment_id": 88464815, "body": "I added html code too"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1528314547, "post_id": 50728302, "comment_id": 88464847, "body": "Ok, then you have to mock <code>personalInfo</code> data inside <code>beforeEach()</code> and then call <code>fixture.detectChanges()</code>"}, {"owner": {"reputation": 229, "user_id": 8929827, "user_type": "registered", "profile_image": "https://graph.facebook.com/1658237010916004/picture?type=large", "display_name": "Developer", "link": "https://stackoverflow.com/users/8929827/developer"}, "reply_to_user": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1528314682, "post_id": 50728302, "comment_id": 88464905, "body": "okay let me do it and see thanks"}], "answers": [{"tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 0, "last_activity_date": 1528314679, "creation_date": 1528314679, "answer_id": 50728483, "question_id": 50728302, "link": "https://stackoverflow.com/questions/50728302/error-while-doing-angular-unit-testing/50728483#50728483", "title": "Error while doing Angular Unit Testing", "body": "<p>You should mock component data while testing, especially the <code>@Input</code> properties which will usually get the value from parent component. But in unit testing you will have to mock it by yourself, because no parent component is involved.</p>\n\n<pre><code>beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(ProfilePersonalInformationComponent);\n    component = fixture.componentInstance;\n    // mock input data\n    component.personalInfo = {\"userName\" : \"XYZ\"};\n    fixture.detectChanges();\n});\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 8929827, "user_type": "registered", "profile_image": "https://graph.facebook.com/1658237010916004/picture?type=large", "display_name": "Developer", "link": "https://stackoverflow.com/users/8929827/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 50728483, "answer_count": 1, "score": 2, "last_activity_date": 1528314679, "creation_date": 1528313982, "last_edit_date": 1528314454, "question_id": 50728302, "link": "https://stackoverflow.com/questions/50728302/error-while-doing-angular-unit-testing", "title": "Error while doing Angular Unit Testing", "body": "<p>I am facing an error while doing Angular unit testing. I am trying to test create component \nPlease see error below file and let me know why I am facing that, \nI also import the services related with the providers and imports for the module.</p>\n\n<p>the below error is shown by Karma while unit testing. I think I am missing something</p>\n\n<pre><code>TypeError: Cannot read property 'userName' of undefined\nat Object.eval [as updateRenderer] (ng:///DynamicTestModule/ProfilePersonalInformationComponent.ngfactory.js:72:38)\nat Object.debugUpdateRenderer [as updateRenderer] (webpack:///./node_modules/@angular/core/esm5/core.js?:14909:21)\nat checkAndUpdateView (webpack:///./node_modules/@angular/core/esm5/core.js?:14023:14)\nat callViewAction (webpack:///./node_modules/@angular/core/esm5/core.js?:14369:21)\nat execEmbeddedViewsAction (webpack:///./node_modules/@angular/core/esm5/core.js?:14327:17)\nat checkAndUpdateView (webpack:///./node_modules/@angular/core/esm5/core.js?:14019:5)\nat callViewAction (webpack:///./node_modules/@angular/core/esm5/core.js?:14369:21)\nat execEmbeddedViewsAction (webpack:///./node_modules/@angular/core/esm5/core.js?:14327:17)\nat checkAndUpdateView (webpack:///./node_modules/@angular/core/esm5/core.js?:14019:5)\nat callViewAction (webpack:///./node_modules/@angular/core/esm5/core.js?:14369:21)\n</code></pre>\n\n<p>To solve above error, I created PerosnalInfoStub class but it didnt work.</p>\n\n<p>component.spec.ts file</p>\n\n<pre><code>describe('ProfilePersonalInformationComponent', () =&gt; {\n  let component: ProfilePersonalInformationComponent;\n  let fixture: ComponentFixture&lt;ProfilePersonalInformationComponent&gt;;\n  let personalInfo : PersonalInfo;\n\n  class PersonalInfoStub{\n      personalInfo: Subject&lt;any[]&gt; = new Subject&lt;any[]&gt;();\n\n\n\n  }\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n\n        imports: [FormsModule, SharedModule, HttpModule, BrowserModule],\n      declarations: [ ProfilePersonalInformationComponent ],\n      providers: [\n        {\n           provide: PersonalInfo, useClass: PersonalInfo\n        },\n\n        {\n            provide: NotificationService, useClass: NotificationService\n        },\n\n        {\n            provide: LoginService, useClass: LoginService\n        },\n        {\n            provide: ConfigService, useClass: ConfigService\n        }\n\n    ],\n\n\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n\n    fixture = TestBed.createComponent(ProfilePersonalInformationComponent);\n    component = fixture.componentInstance;\n\n    fixture.detectChanges();\n  });\n\n  it('should create', () =&gt; {\n\n    expect(component).toBeTruthy();\n  });\n</code></pre>\n\n<p>personal-info.ts</p>\n\n<pre><code>export class PersonalInfo {\n  userName: string;\n}\n</code></pre>\n\n<p>class file of component</p>\n\n<pre><code>ProfilePersonalInformationComponent implements OnInit {\n\n\n\n\n  @Input() personalInfo: PersonalInfo;\n  @Input() loadingData;\n  savingData: boolean;\n\n  passwordHelpTextArray: string[];\n  passwordHelpText: string;\n  formErrors: any = {\n    username: {\n      error: '',\n      errorMessage: ''\n    },\n    currentPassword: {\n      error: '',\n      errorMessage: ''\n    },\n    newPassword: {\n      error: '',\n      errorMessage: ''\n    },\n    verifyNewPassword: {\n      error: '',\n      errorMessage: ''\n    }\n  };\n\n  updatedUsername: string = '';\n  existingPassword: string = '';\n  newPassword: string = '';\n  reEnterNewPassword: string = '';\n\n  constructor(private personalInfoService: PersonalInformationService,\n    private notificationService: NotificationService) { }\n\n  ngOnInit(): void {\n    this.populateInfo();\n  }\n\n  populateInfo() {\n    setTimeout(() =&gt; {\n      if (this.loadingData === false) {\n        this.updatedUsername = this.personalInfo.userName;\n      } else {\n        this.populateInfo();\n      }\n\n    }, 500);\n  }\n</code></pre>\n\n<p>Html code for User Name</p>\n\n<pre><code> &lt;div class=\"col-sm-2\"&gt;\n        &lt;h3&gt;Username&lt;/h3&gt;\n        &lt;p&gt;{{personalInfo.userName}}&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-2\"&gt;\n        &lt;h3&gt;Password&lt;/h3&gt;\n        &lt;p&gt;********&lt;/p&gt;\n      &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1528312188, "post_id": 50727883, "comment_id": 88463758, "body": "Where do you use <code>val</code>? (or <code>getData</code>)?"}, {"owner": {"reputation": 2677, "user_id": 2895075, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8ded1d1c602b74590a765002eef9b911?s=128&d=identicon&r=PG", "display_name": "Michael Hulet", "link": "https://stackoverflow.com/users/2895075/michael-hulet"}, "edited": false, "score": 3, "creation_date": 1528312237, "post_id": 50727883, "comment_id": 88463788, "body": "Is <code>subscribe</code> asynchronous? If so, <code>getData</code> is returning before the function you pass to <code>subscribe</code> ever runs"}, {"owner": {"reputation": 7110, "user_id": 5100278, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aa065dfeba4c9e4bfa5f98726bfb0782?s=128&d=identicon&r=PG&f=1", "display_name": "Kingamere", "link": "https://stackoverflow.com/users/5100278/kingamere"}, "edited": false, "score": 0, "creation_date": 1528312275, "post_id": 50727883, "comment_id": 88463807, "body": "<code>getData</code> is called from another method in the same class, and <code>val</code> is used in that same method that calls <code>getData</code>"}, {"owner": {"reputation": 2677, "user_id": 2895075, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8ded1d1c602b74590a765002eef9b911?s=128&d=identicon&r=PG", "display_name": "Michael Hulet", "link": "https://stackoverflow.com/users/2895075/michael-hulet"}, "edited": false, "score": 0, "creation_date": 1528312392, "post_id": 50727883, "comment_id": 88463869, "body": "Judging by the naming scheme, the function you pass to <code>subscribe</code> is just a callback for when something changes. Am I right in guessing that?"}, {"owner": {"reputation": 7110, "user_id": 5100278, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aa065dfeba4c9e4bfa5f98726bfb0782?s=128&d=identicon&r=PG&f=1", "display_name": "Kingamere", "link": "https://stackoverflow.com/users/5100278/kingamere"}, "reply_to_user": {"reputation": 2677, "user_id": 2895075, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8ded1d1c602b74590a765002eef9b911?s=128&d=identicon&r=PG", "display_name": "Michael Hulet", "link": "https://stackoverflow.com/users/2895075/michael-hulet"}, "edited": false, "score": 0, "creation_date": 1528312421, "post_id": 50727883, "comment_id": 88463879, "body": "@MichaelHulet Yes that&#39;s right"}], "answers": [{"tags": [], "owner": {"reputation": 2677, "user_id": 2895075, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8ded1d1c602b74590a765002eef9b911?s=128&d=identicon&r=PG", "display_name": "Michael Hulet", "link": "https://stackoverflow.com/users/2895075/michael-hulet"}, "is_accepted": false, "score": 2, "last_activity_date": 1528312562, "creation_date": 1528312562, "answer_id": 50727996, "question_id": 50727883, "link": "https://stackoverflow.com/questions/50727883/typescript-update-variable-in-arrow-function/50727996#50727996", "title": "Typescript - update variable in arrow function", "body": "<p>What's happening here is that <code>subscribe</code> takes the function you give it, and hangs onto it for later, when some event happens. It doesn't actually run your function when you pass it. Because of this, the <code>getData</code> function moves on without your callback ever being called, so the value of <code>val</code> never changes before <code>getData</code> returns. If you want it to return <code>false</code>, you'll need to change <code>val</code> outside of the callback that you pass to <code>subscribe</code>.</p>\n"}], "owner": {"reputation": 7110, "user_id": 5100278, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aa065dfeba4c9e4bfa5f98726bfb0782?s=128&d=identicon&r=PG&f=1", "display_name": "Kingamere", "link": "https://stackoverflow.com/users/5100278/kingamere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528312562, "creation_date": 1528312103, "question_id": 50727883, "link": "https://stackoverflow.com/questions/50727883/typescript-update-variable-in-arrow-function", "title": "Typescript - update variable in arrow function", "body": "<p>I have a function like this:</p>\n\n<pre><code>private data: MyCustomDataObject;\nprivate getData(): boolean {\n    let val: boolean = true;   // variable declared\n    this.service.callMethod().subscribe(data =&gt; {\n        this.data = data;\n        if (data == null) {\n            val = false;   // val declared above is not updating\n        } \n    });\nreturn val; // this is still true, should be false\n}\n</code></pre>\n\n<p>How come <code>val</code> isn't updating?</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1528311945, "post_id": 50727735, "comment_id": 88463657, "body": "it seems you have 2 module in your app and declared AnimatesDirective in both."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1528312709, "post_id": 50727735, "comment_id": 88464009, "body": "How can I give a solution for this? @fatemefazli"}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 1, "creation_date": 1528313021, "post_id": 50727735, "comment_id": 88464140, "body": "Remove the declaration from app.module.ts, but update the AppModule configuration to import your another module."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1528314807, "post_id": 50727735, "comment_id": 88464981, "body": "Thanks a lot. It works. Please put your comment as an answer. Then I can close this post. @fatemefazli"}], "answers": [{"tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": true, "score": 1, "last_activity_date": 1528317471, "last_edit_date": 1528317471, "creation_date": 1528317138, "answer_id": 50729109, "question_id": 50727735, "link": "https://stackoverflow.com/questions/50727735/typescript-error-type-animatesdirective-in-is-part-of-the-declarations-of-2-modu/50729109#50729109", "title": "Typescript error Type AnimatesDirective in is part of the declarations of 2 modules", "body": "<p>it seems you have 2 module in your app and declared <code>AnimatesDirective</code> in both. Remove the declaration from <code>app.module.ts</code>, but update the <code>app.module.ts</code> configuration to import your another module.</p>\n\n<p><em>app.module.ts</em></p>\n\n<pre><code>import { AnimatorModule } from 'css-animator';\n\n@NgModule({\n  declarations: [\n    MyApp,\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule,\n    AppConfigModule,\n    IonicStorageModule.forRoot(),\n    AnimatorModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    NativeStorage,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n  ]\n})\n</code></pre>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 50729109, "answer_count": 1, "score": -1, "last_activity_date": 1528317471, "creation_date": 1528311611, "question_id": 50727735, "link": "https://stackoverflow.com/questions/50727735/typescript-error-type-animatesdirective-in-is-part-of-the-declarations-of-2-modu", "title": "Typescript error Type AnimatesDirective in is part of the declarations of 2 modules", "body": "<p>When I used below CLI, It shows the error. The error message is not clear to me.</p>\n\n<pre><code>&gt; ionic cordova run android --prod --device\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code> typescript error\n            Type AnimatesDirective in\n            D:/Freelance-Work/Clients/ionic3/node_modules/css-animator/angular/animates.directive.d.ts\n            is part of the declarations of 2 modules: AppModule in\n            D:/Freelance-Work/Clients/ionic3/src/app/app.module.ts and AnimatorModule in\n            D:/Freelance-Work/Clients/ionic3/node_modules/css-animator/angular/animator.module.d.ts!\n            Please consider moving AnimatesDirective in\n            D:/Freelance-Work/Clients/ionic3/node_modules/css-animator/angular/animates.directive.d.ts\n            to a higher module that imports AppModule in\n            D:/Freelance-Work/Clients/ionic3/src/app/app.module.ts and AnimatorModule in\n            D:/Freelance-Work/Clients/ionic3/node_modules/css-animator/angular/animator.module.d.ts. You\n            can also create a new NgModule that exports and includes AnimatesDirective in\n            D:/Freelance-Work/Clients/ionic3/node_modules/css-animator/angular/animates.directive.d.ts\n            then import that NgModule in AppModule in\n            D:/Freelance-Work/Clients/ionic3/src/app/app.module.ts and AnimatorModule in\n            D:/Freelance-Work/Clients/ionic3/node_modules/css-animator/angular/animator.module.d.ts.\n\nError: The Angular AoT build failed. See the issues above\n    at D:\\Freelance-Work\\Clients\\ionic3\\node_modules\\@ionic\\app-scripts\\dist\\aot\\aot-compiler.js:237:55\n    at step (D:\\Freelance-Work\\Clients\\ionic3\\node_modules\\@ionic\\app-scripts\\dist\\aot\\aot-compiler.js:32:23)\n    at Object.next (D:\\Freelance-Work\\Clients\\ionic3\\node_modules\\@ionic\\app-scripts\\dist\\aot\\aot-compiler.js:13:53)\n    at fulfilled (D:\\Freelance-Work\\Clients\\ionic3\\node_modules\\@ionic\\app-scripts\\dist\\aot\\aot-compiler.js:4:58)\n    at &lt;anonymous&gt;\n</code></pre>\n\n<p>Could you tell me how to sort out this issue?</p>\n\n<p><em>app.module.ts</em></p>\n\n<pre><code>import { AnimationService, AnimatesDirective } from 'css-animator';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    AnimatesDirective\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule,\n    AppConfigModule,\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n   ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    NativeStorage,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    AnimationService,   \n  ]\n})\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 383, "user_id": 6106899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhgwA.jpg?s=128&g=1", "display_name": "55 Cancri", "link": "https://stackoverflow.com/users/6106899/55-cancri"}, "is_accepted": false, "score": 1, "last_activity_date": 1528314701, "last_edit_date": 1528314701, "creation_date": 1528311830, "answer_id": 50727802, "question_id": 50727679, "link": "https://stackoverflow.com/questions/50727679/how-can-reacts-lifecycle-methods-be-written-in-typescript-with-es6-arrow-notat/50727802#50727802", "title": "How can React&#39;s lifecycle method&#39;s be written in Typescript with es6 arrow notation?", "body": "<p>Upon looking more at Typescript's documentation, I found that adding <code>private</code> in front of the lifecycle method's will cause the errors to vanish. However, I still do not know why this is. The private keyword, from my understanding restricts access to the class by outside method's. That is all I know for now. Will update when I have more information.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Appending <code>private</code> to the lifecycle methods does <strong>not</strong> solve the issue. The error instead movies to the class name and states: </p>\n\n<blockquote>\n  <p>Class 'Pages' incorrectly extends base class 'Component'.   Property 'componentWillMount' is private in type\n  'Pages' but not in type 'Component'.</p>\n</blockquote>\n\n<p>I went into react typescript types in the node_modules folder (index.d.ts) and found where the interface for <code>Component</code> is defined:</p>\n\n<pre><code>interface Component&lt;P = {}, S = {}, SS = any&gt; extends ComponentLifecycle&lt;P, S, SS&gt; { }\n</code></pre>\n\n<p>I see that it extends the ComponentLifecycle interface:</p>\n\n<pre><code>interface ComponentLifecycle&lt;P, S, SS = any&gt; extends NewLifecycle&lt;P, S, SS&gt;, DeprecatedLifecycle&lt;P, S&gt; {\n    componentDidMount?(): void;\n    shouldComponentUpdate?(nextProps: Readonly&lt;P&gt;, nextState: Readonly&lt;S&gt;, nextContext: any): boolean;\n    **componentWillUnmount?(): void;**\n    componentDidCatch?(error: Error, errorInfo: ErrorInfo): void;\n}\n</code></pre>\n\n<p>In that interface, <code>componentWillUnmount</code> is defined as:</p>\n\n<pre><code>componentWillUnmount?(): void;\n</code></pre>\n\n<p>So, my question is, why does typescript not recognize <code>componentWillUnmount? = (): void =&gt; {};</code> as an alternative to <code>componentWillUnmount?(): void;</code></p>\n"}], "owner": {"reputation": 383, "user_id": 6106899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhgwA.jpg?s=128&g=1", "display_name": "55 Cancri", "link": "https://stackoverflow.com/users/6106899/55-cancri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1257, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1528314701, "creation_date": 1528311403, "question_id": 50727679, "link": "https://stackoverflow.com/questions/50727679/how-can-reacts-lifecycle-methods-be-written-in-typescript-with-es6-arrow-notat", "title": "How can React&#39;s lifecycle method&#39;s be written in Typescript with es6 arrow notation?", "body": "<p>The following code will produce the typescript error:</p>\n\n<blockquote>\n  <p>\"Class 'Component' defines instance member\n  function 'componentWillMount', but extended class 'Pages' defines it\n  as instance member property.\"</p>\n</blockquote>\n\n<pre><code>  interface IProps {\n     history?: any\n  }\n\n  interface IState {\n    mql: MediaQueryList\n    sidebarDocked: boolean\n    sidebarOpen: boolean\n  }\n\nexport class Pages extends Component&lt;IProps, IState&gt; {\n\n  componentWillMount = () =&gt; {\n    mql.addListener(this.mediaQueryChanged)\n    this.setState({ mql: mql, sidebarDocked: mql.matches })\n  }\n\n  componentWillUnmount = () =&gt; {\n    this.state.mql.removeListener(this.mediaQueryChanged)\n  }\n  ...\n}\n</code></pre>\n\n<p>However, a non-lifecycle method <em>will</em> function properly using es6 arrow notation:</p>\n\n<pre><code>  mediaQueryChanged = () =&gt; {\n    const { setDockMode } = this.props\n    this.setState({ sidebarDocked: this.state.mql.matches })\n  }\n</code></pre>\n\n<p>The error informs me that Pages is a class that defines an instance member. So my question essentially boils down to \"how can typescript instance members be written using es6 arrow notation?\"</p>\n\n<p>I should also mention that regular function notation <em>does</em> function properly, but then I have to concern myself with binding this. So far, I have been successful in only using arrow notation with React, but Typescript seems to ruin that.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1528311066, "post_id": 50727527, "comment_id": 88463244, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47241357/how-to-reuse-function-signature-definition-in-typescript\">How to reuse function signature definition in TypeScript</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1528314029, "post_id": 50727719, "comment_id": 88464611, "body": "Wow, I was so close! Thanks!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1528311566, "creation_date": 1528311566, "answer_id": 50727719, "question_id": 50727527, "link": "https://stackoverflow.com/questions/50727527/how-to-have-anonymous-object-with-function-property-matching-another-functions/50727719#50727719", "title": "How to have anonymous object with function property matching another function&#39;s signature?", "body": "<p>You can just use the <code>typeof</code> operator on the function to get it's type </p>\n\n<pre><code>function doIt(thing: SomeThing, iterations: number): void {\n    // ...\n}\n\nclass ThingProcessor {\n    private state: {\n        // how to avoid specifying the arguments again?\n        action: typeof doIt;\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 50727719, "answer_count": 1, "score": 1, "last_activity_date": 1528311566, "creation_date": 1528310918, "question_id": 50727527, "link": "https://stackoverflow.com/questions/50727527/how-to-have-anonymous-object-with-function-property-matching-another-functions", "title": "How to have anonymous object with function property matching another function&#39;s signature?", "body": "<p>Consider this:</p>\n\n<pre><code>function doIt(thing: SomeThing, iterations: number): void {\n  // ...\n}\n\nclass ThingProcessor{\n  private state: {\n    // how to avoid specifying the arguments again?\n    action: (thing: SomeThing, iterations: number) =&gt; void\n  };\n}\n</code></pre>\n\n<p>In this example, I have to specify the <code>doIt</code> function parameters twice. I'd rather indicate that <code>state.action</code> is <code>typeof(doIt)</code>, e.g. use the same signature as the <code>doIt</code> function.</p>\n"}, {"tags": ["javascript", "regex", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1528313032, "post_id": 50727462, "comment_id": 88464143, "body": "I am not sure it is relevant, but your results are not in line with OP. OP wants <code>, some text between commas,</code> as first match, while you have <code>, some text between commas</code> (without the trailing comma)."}], "tags": [], "owner": {"reputation": 691, "user_id": 1219899, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uXAZb.jpg?s=128&g=1", "display_name": "Boric", "link": "https://stackoverflow.com/users/1219899/boric"}, "is_accepted": false, "score": 0, "last_activity_date": 1528311148, "last_edit_date": 1528311148, "creation_date": 1528310668, "answer_id": 50727462, "question_id": 50727275, "link": "https://stackoverflow.com/questions/50727275/regex-how-to-match-text-between-commas/50727462#50727462", "title": "Regex - how to match text between commas", "body": "<p>Use this regex with a positive lookahead to ensure that the text is between commas without consuming the second comma. </p>\n\n<pre class=\"lang-regex prettyprint-override\"><code>/,([^,]*)(?=,)/g\n</code></pre>\n\n<p>See here for a working example: <a href=\"https://regexr.com/3qkui\" rel=\"nofollow noreferrer\">https://regexr.com/3qkui</a></p>\n"}, {"comments": [{"owner": {"reputation": 691, "user_id": 1219899, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uXAZb.jpg?s=128&g=1", "display_name": "Boric", "link": "https://stackoverflow.com/users/1219899/boric"}, "edited": false, "score": 0, "creation_date": 1528311395, "post_id": 50727584, "comment_id": 88463398, "body": "This includes the &quot;something something&quot; that is not between commas at the end."}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "reply_to_user": {"reputation": 691, "user_id": 1219899, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uXAZb.jpg?s=128&g=1", "display_name": "Boric", "link": "https://stackoverflow.com/users/1219899/boric"}, "edited": false, "score": 0, "creation_date": 1528312086, "post_id": 50727584, "comment_id": 88463707, "body": "@Boric Hadn&#39;t noticed that. Fixed now."}, {"owner": {"reputation": 43, "user_id": 9086226, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ktOLVtc07Vo/AAAAAAAAAAI/AAAAAAAAIEw/_sPeioQK2dM/photo.jpg?sz=128", "display_name": "Abhner Araujo", "link": "https://stackoverflow.com/users/9086226/abhner-araujo"}, "edited": false, "score": 0, "creation_date": 1529497699, "post_id": 50727584, "comment_id": 88894011, "body": "Looks nice, i will give it a try."}], "tags": [], "owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "is_accepted": true, "score": 2, "last_activity_date": 1528315789, "last_edit_date": 1528315789, "creation_date": 1528311110, "answer_id": 50727584, "question_id": 50727275, "link": "https://stackoverflow.com/questions/50727275/regex-how-to-match-text-between-commas/50727584#50727584", "title": "Regex - how to match text between commas", "body": "<p>One way is to split the on the comma's (including optional whitespaces).<br>\nThen remove the first &amp; last elements of the array.<br>\nBut that works fine as long those starting &amp; ending comma's aren't required in the resulting array.</p>\n\n<p><strong>Example snippet:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"Something, some text between commas, between comma, and more text between commas, something something\";\r\n\r\nvar arr = str.split(/\\s*,\\s*/).slice(1,-1);\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But if you do need to keep the start&amp;end comma's in the result?<br>\nThen matching with a lookahead should do the trick. </p>\n\n<p><strong>Example snippet:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"Something, some text between commas, between comma, and more text between commas, something something\";\r\n\r\nvar re = /,[^,]*(?=,)/g;\r\nvar arr = [];\r\nvar match;\r\nwhile (match = re.exec(str)) {\r\n   arr.push(match[0]+',');\r\n}\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>(although I don't really see the point to keep those comma's)</em></p>\n"}], "owner": {"reputation": 43, "user_id": 9086226, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ktOLVtc07Vo/AAAAAAAAAAI/AAAAAAAAIEw/_sPeioQK2dM/photo.jpg?sz=128", "display_name": "Abhner Araujo", "link": "https://stackoverflow.com/users/9086226/abhner-araujo"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2639, "favorite_count": 0, "closed_date": 1528313081, "accepted_answer_id": 50727584, "answer_count": 2, "score": 3, "last_activity_date": 1533168241, "creation_date": 1528309954, "last_edit_date": 1592644375, "question_id": 50727275, "link": "https://stackoverflow.com/questions/50727275/regex-how-to-match-text-between-commas", "closed_reason": "Duplicate", "title": "Regex - how to match text between commas", "body": "<p>I have a text like: &quot;Something, some text between commas, between comma, and more text between commas, something something.&quot; I need to match every piece of text that is insides two commas. I found this regex <code>/,([^,]*),/g</code>, but it is returning me:</p>\n<p>, some text between commas,</p>\n<p>, and more text between commas,</p>\n<p><strong>but i need it to return:</strong></p>\n<p>some text between commas</p>\n<p>between comma</p>\n<p>and more text between commas</p>\n<p>Need your help guys.</p>\n"}, {"tags": ["jquery", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 765, "user_id": 414137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tsdQY.jpg?s=128&g=1", "display_name": "Leonard Thieu", "link": "https://stackoverflow.com/users/414137/leonard-thieu"}, "is_accepted": true, "score": 2, "last_activity_date": 1538862563, "creation_date": 1538862563, "answer_id": 52683624, "question_id": 50727144, "link": "https://stackoverflow.com/questions/50727144/how-to-extend-jquery-3-selector-in-typescript/52683624#52683624", "title": "How to extend JQuery 3 selector in TypeScript", "body": "<p>The code posted now works as of <code>@types/jquery@3.3.12</code> (fixed by <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/29503\" rel=\"nofollow noreferrer\">DefinitelyTyped/DefinitelyTyped#29503</a>).</p>\n\n<hr>\n\n<p>For older versions, you would've had to add the following declaration to your project.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface JQueryStatic {\n    expr: any;\n}\n</code></pre>\n\n<p>This declaration would merge with the declaration of <code>JQueryStatic</code> from <code>@types/jquery</code> and make <code>expr</code> available.</p>\n"}], "owner": {"reputation": 881, "user_id": 142257, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1yqj0.jpg?s=128&g=1", "display_name": "dhysong", "link": "https://stackoverflow.com/users/142257/dhysong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 52683624, "answer_count": 1, "score": 1, "last_activity_date": 1538862563, "creation_date": 1528309452, "question_id": 50727144, "link": "https://stackoverflow.com/questions/50727144/how-to-extend-jquery-3-selector-in-typescript", "title": "How to extend JQuery 3 selector in TypeScript", "body": "<p>After upgrading JQuery from 2 to 3, the latest TypeScript definition no longer contains:</p>\n\n<pre><code>expr: any;\n</code></pre>\n\n<p>Our code base extends the JQuery selector to provide a case insensitive selector:</p>\n\n<pre><code>    $.extend($.expr[\":\"], {\n        containsCaseInsensitive: (elem: any, i: number, match: any, array: any) =&gt;\n            (elem.textContent || elem.innerText || \"\").toLowerCase().indexOf((match[3] || \"\").toLowerCase()) &gt;= 0\n    });\n</code></pre>\n\n<p>With the latest TS definition, this no longer transpiles.  Is there a way to provide the same functionality in JQuery 3 without manually updating the TS definition for JQuery?</p>\n"}, {"tags": ["typescript", "ionic3", "md5"], "comments": [{"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1528324701, "post_id": 50727036, "comment_id": 88468812, "body": "so did you try to console.log(form.value.toString(),this.chemInfo.toString(), this.lonlat.toString()) just before md5 hashing and ensure these are actually different strings?"}, {"owner": {"reputation": 1877, "user_id": 6000966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CBWU6IbBTGE/AAAAAAAAAAI/AAAAAAAAABo/ZmVPbtOluXA/photo.jpg?sz=128", "display_name": "Stephen Romero", "link": "https://stackoverflow.com/users/6000966/stephen-romero"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1528378328, "post_id": 50727036, "comment_id": 88492738, "body": "Yes, I&#39;m sure there was an issue with the local environment because it worked fine on a device."}], "answers": [{"tags": [], "owner": {"reputation": 1877, "user_id": 6000966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CBWU6IbBTGE/AAAAAAAAAAI/AAAAAAAAABo/ZmVPbtOluXA/photo.jpg?sz=128", "display_name": "Stephen Romero", "link": "https://stackoverflow.com/users/6000966/stephen-romero"}, "is_accepted": true, "score": 0, "last_activity_date": 1529588207, "last_edit_date": 1529588207, "creation_date": 1528378230, "answer_id": 50742555, "question_id": 50727036, "link": "https://stackoverflow.com/questions/50727036/md5-variable-assigns-same-value/50742555#50742555", "title": "md5 variable assigns same value", "body": "<p>I believe I found my answer. Apparently something on my local machine was causing the hash print out the same md5 string, but I went ahead and tested it on my android device and it worked fine! \nI know for a fact it is very rare the data will be the same let alone the gps location. So I tested multiple times on the device and it gave me a unique hash every time!</p>\n\n<p>edit: I also changed the code up a bit and this seemed to be the issue.</p>\n\n<pre><code>  (JSON.stringify(form.value)).appendStr(JSON.stringify(this.chemInfo))\n</code></pre>\n\n<p>I was trying to get the array to string using .toString() instead of JSON.stringify which was returning an object instead of a string. </p>\n"}], "owner": {"reputation": 1877, "user_id": 6000966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CBWU6IbBTGE/AAAAAAAAAAI/AAAAAAAAABo/ZmVPbtOluXA/photo.jpg?sz=128", "display_name": "Stephen Romero", "link": "https://stackoverflow.com/users/6000966/stephen-romero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 50742555, "answer_count": 1, "score": 0, "last_activity_date": 1538660565, "creation_date": 1528308981, "last_edit_date": 1538660565, "question_id": 50727036, "link": "https://stackoverflow.com/questions/50727036/md5-variable-assigns-same-value", "title": "md5 variable assigns same value", "body": "<p>I am wanting to create md5 variable and use that to hash unique form values and sending to an API for unique data, however every time I submit the data the md5 value is the same.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform  } from 'ionic-angular';\nimport { ModalController, ViewController } from 'ionic-angular';\nimport { NgForm } from '@angular/forms';\nimport { Md5 } from 'ts-md5/dist/md5';\nimport { Geolocation } from '@ionic-native/geolocation';\n\n@IonicPage()\n@Component({\nselector: 'page-bol',\ntemplateUrl: 'bol.html',\n})\nexport class BolPage {\n\nprivate chemInfo:any[] = [];\nprivate submitAllData:any[] = [];\nprivate lonlat:any = [];\nprivate md5Data:any;\nconstructor(public navCtrl: NavController,\n          public navParams: NavParams,\n          public modalCtrl: ModalController,\n          private geolocation: Geolocation\n          private platform: Platform) {\n  }\n\nionViewDidLoad() {\n\n   /* Ensure the platform is ready */\n   this.platform.ready().then(() =&gt; {\n   /* Perform initial geolocation */\n   this.geolocation.getCurrentPosition().then((resp) =&gt; {\n       this.lonlat = [resp.coords.latitude,resp.coords.longitude];\n       console.log(this.lonlat);\n     }).catch((error) =&gt; {\n       console.log('Error getting location', error);\n     });\n   });\n}\n\nsubmitBOL(form: NgForm){\n   //console.log(form.value);\n   var md5 = new Md5();\n   this.submitAllData.push(form.value,{'sub':this.chemInfo}, \n  {'gpsLoc':this.lonlat.toString()});\n\n   //In theory this value should be unique every time\n   this.md5Data = md5.appendStr(form.value.toString()).appendStr(this.chemInfo.toString()).appendStr(this.lonlat.toString()).end();\n   this.submitAllData.push({'md5':this.md5Data});\n   console.log(this.submitAllData);\n}\n</code></pre>\n\n<p>I keep getting this value from the console:\n{\"md5\":\"703137aef9805f0ca95b8c8b56619f84\"} and I'm not sure why it is the same value every time.  I'm not very familiar with this functionality in Ionic so any feedback helps. Thanks!</p>\n"}, {"tags": ["javascript", "typescript", "generics", "axios", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "edited": false, "score": 1, "creation_date": 1528357778, "post_id": 50727615, "comment_id": 88479052, "body": "Thank you so much Titian, after looking at the source code you are absolutely correct in saying that all its doing is calling JSON.parse. I probably shouldn&#39;t have assumed that it was actually doing type casting. Your solution is succinct and works perfectly. Thanks again."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1528311199, "creation_date": 1528311199, "answer_id": 50727615, "question_id": 50726908, "link": "https://stackoverflow.com/questions/50726908/axios-generic-post-returns-wrong-type-in-typescript/50727615#50727615", "title": "Axios generic Post returns wrong type in TypeScript", "body": "<p>Just because something has the same properties as the class does not mean it is an instance of the class. In your case the response from the server is probably parsed using <code>JSON.parse</code> which will create simple objects. Only objects created using <code>new GetSliceResponse</code> will actually be instances of the class.</p>\n\n<p>The type parameter to the post method is meant to help describe the shape of the response but will not actually change the runtime behavior (nor could it, genetics are erased during compilation).</p>\n\n<p>This being said, you can still access the properties of the object as if the object was an instance of the class, the only thing that will not work is <code>instanceof</code> and don't expect any method to be present.</p>\n\n<p>If you want to make sure nobody uses <code>instanceof</code> by mistake you can make the type am interface instead.</p>\n\n<p>If you really need the class you can create an instance using <code>new</code> and use <code>Object.assign</code> to assign all fields</p>\n\n<pre><code>export class GetSliceResponse \n{\n    Success: boolean;\n}\n\nAxios.post&lt;GetSliceResponse&gt;(\"myurl/Get\", request).then(o =&gt; {\n    o = Object.assign(new GetSliceResponse(), o);\n});\n</code></pre>\n"}], "owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3652, "favorite_count": 0, "accepted_answer_id": 50727615, "answer_count": 1, "score": 2, "last_activity_date": 1528311199, "creation_date": 1528308495, "last_edit_date": 1528309940, "question_id": 50726908, "link": "https://stackoverflow.com/questions/50726908/axios-generic-post-returns-wrong-type-in-typescript", "title": "Axios generic Post returns wrong type in TypeScript", "body": "<p>I am trying to return a typed object using the Axios API. I am using the generic type to declare that I am returning an instance of <code>GetSliceResponse</code> but unfortunately Axios seems to still return an object of type any.</p>\n\n<p>My code looks like this </p>\n\n<pre><code>export class GetSliceResponse \n{\n    Success: boolean;\n}\n\nAxios.post&lt;GetSliceResponse&gt;(\"myurl/Get\", request).then(o =&gt; {\n    var expectedResult = (new GetSliceResponse()) instanceof GetSliceResponse;\n    //expectedResult = true;\n    var unexpectedResult = o.data instanceof GetSliceResponse;\n    //unexpectedResult = false;\n});\n</code></pre>\n\n<p>The Http response is exactly what you would expect:</p>\n\n<pre><code>{\"Success\":false}\n</code></pre>\n\n<p>As the above code illustrates I can correctly create an instance of my type using the <code>new</code> syntax but the Axios data property appears unaffected by the type declaration. </p>\n"}, {"tags": ["typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1528324872, "post_id": 50726679, "comment_id": 88468873, "body": "so you are not &quot;popping&quot; it off the pages stack just keep pushing the same page in or?"}], "answers": [{"tags": [], "owner": {"reputation": 374, "user_id": 8906113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OCenG.png?s=128&g=1", "display_name": "Sherif Abdulmawla", "link": "https://stackoverflow.com/users/8906113/sherif-abdulmawla"}, "is_accepted": true, "score": 0, "last_activity_date": 1528327769, "creation_date": 1528327769, "answer_id": 50731017, "question_id": 50726679, "link": "https://stackoverflow.com/questions/50726679/ionic-function-works-for-the-first-few-times-and-stops-working-from-later-shows/50731017#50731017", "title": "Ionic function works for the first few times and stops working from later shows it is not a function even when nothing is changed", "body": "<p>Everything seems fine from the code sample you provided, if you're using live reload then it might be the problem as it has a weird behavior that some newer changes are not detected.\nif you're using live reload, just go to the home.ts and save it again without editing anything just to force the live reload to be updated and detect the current code used inside this file, if the problem still occurs try to stop the live reload and run again.</p>\n"}], "owner": {"reputation": 1, "user_id": 9904885, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050608775096010/picture?type=large", "display_name": "Varun Dwarkani", "link": "https://stackoverflow.com/users/9904885/varun-dwarkani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 50731017, "answer_count": 1, "score": 0, "last_activity_date": 1528327769, "creation_date": 1528307668, "last_edit_date": 1528322296, "question_id": 50726679, "link": "https://stackoverflow.com/questions/50726679/ionic-function-works-for-the-first-few-times-and-stops-working-from-later-shows", "title": "Ionic function works for the first few times and stops working from later shows it is not a function even when nothing is changed", "body": "<p>I am new in ionic and trying out simple switching between pages using button</p>\n\n<p>I placed the below code in home.html</p>\n\n<pre><code>&lt;button ion-button (click)=\"callnew()\"&gt;Click me&lt;/button&gt;\n</code></pre>\n\n<p>I place the following code in home.ts</p>\n\n<pre><code>callnew() {\n    this.navCtrl.push(Page2Page);\n}\n</code></pre>\n\n<p>In home.ts I have placed the import above</p>\n\n<pre><code>import { Page2Page } from'../page2/page2';\n</code></pre>\n\n<p>I have included necessary lines in app.module.ts :</p>\n\n<pre><code>import { Page2Page } from '../pages/page2/page2';\n@NgModule({declarations: [\n    MyApp,\n    HomePage,\n    ListPage,\n    Page2Page\n],\nentryComponents: [\n    MyApp,\n    HomePage,\n    ListPage,\n    Page2Page \n],\n</code></pre>\n\n<p>The function works for some 4-5 times then stops later even when nothing is changed. Please let me know where I am going wrong.</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "this"], "comments": [{"owner": {"reputation": 299, "user_id": 404305, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/733fcd1773b9fe7b7e2dbca20bf692ca?s=128&d=identicon&r=PG", "display_name": "C J", "link": "https://stackoverflow.com/users/404305/c-j"}, "edited": false, "score": 0, "creation_date": 1528604031, "post_id": 50726554, "comment_id": 88567671, "body": "<a href=\"http://exploringjs.com/es6/ch_arrow-functions.html\" rel=\"nofollow noreferrer\">exploringjs.com/es6/ch_arrow-functions.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1528307526, "post_id": 50726631, "comment_id": 88461486, "body": "This is not accurate; the question is not about the behavior of <code>setTimeout()</code> but about how the arrow functions are created."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1528307606, "post_id": 50726631, "comment_id": 88461525, "body": "Also, if <code>this</code> was undefined then <code>this.name</code> would throw. <code>this</code> simply refers to the global scope when the arrow function is not within another function scope."}, {"owner": {"reputation": 3001, "user_id": 5120092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wXHo9.png?s=128&g=1", "display_name": "Aseem Upadhyay", "link": "https://stackoverflow.com/users/5120092/aseem-upadhyay"}, "edited": false, "score": 0, "creation_date": 1528307715, "post_id": 50726631, "comment_id": 88461584, "body": "Yes, both of you are correct. There was a slight misunderstanding on my side. Also, have updated my answer to rectify"}, {"owner": {"reputation": 299, "user_id": 404305, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/733fcd1773b9fe7b7e2dbca20bf692ca?s=128&d=identicon&r=PG", "display_name": "C J", "link": "https://stackoverflow.com/users/404305/c-j"}, "edited": false, "score": 0, "creation_date": 1528334679, "post_id": 50726631, "comment_id": 88471271, "body": "yeah @AseemUpadhyay if we do it your way it will print the the name for sure.. As instance will hold the value of variable."}], "tags": [], "owner": {"reputation": 3001, "user_id": 5120092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wXHo9.png?s=128&g=1", "display_name": "Aseem Upadhyay", "link": "https://stackoverflow.com/users/5120092/aseem-upadhyay"}, "is_accepted": false, "score": 0, "last_activity_date": 1528307809, "last_edit_date": 1528307809, "creation_date": 1528307481, "answer_id": 50726631, "question_id": 50726554, "link": "https://stackoverflow.com/questions/50726554/typescript-fat-arrow-this-scope-relation/50726631#50726631", "title": "Typescript : fat arrow &amp; this scope relation", "body": "<p><code>undefiend</code> is shown as output, since <code>this</code> refers to the scope inside the <code>setTimeout()</code> function where <code>name</code> isn't available, hence, <code>undefined</code></p>\n\n<p>I usually do it something on the lines of</p>\n\n<pre><code>ayLater : function(){ let instance = this;\n    setTimeout(function(){\n      console.log(\"sayLater :&gt; \"+instance.name); \n    },3000)\n},\n</code></pre>\n\n<p>Hope this answers :)</p>\n"}, {"tags": [], "owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "is_accepted": false, "score": 3, "last_activity_date": 1528307560, "creation_date": 1528307560, "answer_id": 50726650, "question_id": 50726554, "link": "https://stackoverflow.com/questions/50726554/typescript-fat-arrow-this-scope-relation/50726650#50726650", "title": "Typescript : fat arrow &amp; this scope relation", "body": "<p>The <code>this</code> value for those arrow functions is the value of <code>this</code> in the context where the functions were created. That's <em>not</em> the object you're constructing; it's whatever <code>this</code> is where that object initializer code exists.</p>\n\n<p>In other words, inside</p>\n\n<pre><code>let obj = {\n  // whatever\n};\n</code></pre>\n\n<p>the value of <code>this</code> does not change from what it is before or after that initialization. The language does not provide a way to refer to an \"under construction\" object in an initializer block.</p>\n"}, {"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1528310254, "post_id": 50726668, "comment_id": 88462839, "body": "<i>&quot;This will always refer to the object you are calling from&quot;</i> What exactly is that supposed to mean? In an arrow function, <code>this</code> is resolved lexically like any other variable."}, {"owner": {"reputation": 299, "user_id": 404305, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/733fcd1773b9fe7b7e2dbca20bf692ca?s=128&d=identicon&r=PG", "display_name": "C J", "link": "https://stackoverflow.com/users/404305/c-j"}, "edited": false, "score": 0, "creation_date": 1528334991, "post_id": 50726668, "comment_id": 88471329, "body": "In Case of obj.sayLater();  function has been called but setTimeout has only been initialed.At the time of setTimeout executes the console.log the value of this will be undefined in that function scope.Am I right @Luca"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "reply_to_user": {"reputation": 299, "user_id": 404305, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/733fcd1773b9fe7b7e2dbca20bf692ca?s=128&d=identicon&r=PG", "display_name": "C J", "link": "https://stackoverflow.com/users/404305/c-j"}, "edited": false, "score": 0, "creation_date": 1528356503, "post_id": 50726668, "comment_id": 88478350, "body": "Your are right, @CJ"}], "tags": [], "owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "is_accepted": false, "score": 1, "last_activity_date": 1528307627, "creation_date": 1528307627, "answer_id": 50726668, "question_id": 50726554, "link": "https://stackoverflow.com/questions/50726554/typescript-fat-arrow-this-scope-relation/50726668#50726668", "title": "Typescript : fat arrow &amp; this scope relation", "body": "<p>There is no <code>this</code> referring to the object a arrow function is in in an arrow function, </p>\n\n<blockquote>\n  <p>An arrow function expression has a shorter syntax than a function expression and does not have its own this[...]</p>\n</blockquote>\n\n<p>This will always refer to the object you are calling from, i.e. <code>window</code> in a browser</p>\n"}, {"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1528307658, "creation_date": 1528307658, "answer_id": 50726678, "question_id": 50726554, "link": "https://stackoverflow.com/questions/50726554/typescript-fat-arrow-this-scope-relation/50726678#50726678", "title": "Typescript : fat arrow &amp; this scope relation", "body": "<p>Fat arrows capture the <em>surrounding <code>this</code> value</em>. For an expression in an object literal at the top level of a file, the <em>surrounding <code>this</code> value</em> is <code>window</code> (non-strict mode) or <code>undefined</code> (strict mode).</p>\n\n<p>So the behavior you see is:</p>\n\n<ul>\n<li><code>sayLater</code>: <code>undefined</code> because the inner function uses no <code>this</code>-capturing mechanism (thus <code>this</code> is \"lost\" and goes back to <code>window</code> / <code>undefined</code>)</li>\n<li><code>sayNow</code>: <code>Cj</code> because of the normal <code>this</code> semantics (<code>this</code> is \"what's to the left of the <code>.</code>\" in a method invocation)</li>\n<li><code>sayLaterFA</code> - same as <code>sayNow</code> except that the inner function captured the outer function's \"correct\" <code>this</code></li>\n<li><code>sayNowFA</code> - poorly named because it's identical to <code>sayNow</code></li>\n<li><code>sayLaterPureFatArrow</code> / <code>sayLaterPureFatArrow</code> - both captured <code>window</code> as <code>this</code></li>\n</ul>\n"}], "owner": {"reputation": 299, "user_id": 404305, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/733fcd1773b9fe7b7e2dbca20bf692ca?s=128&d=identicon&r=PG", "display_name": "C J", "link": "https://stackoverflow.com/users/404305/c-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "closed_date": 1528308337, "accepted_answer_id": 50726678, "answer_count": 4, "score": 2, "last_activity_date": 1528335269, "creation_date": 1528307226, "last_edit_date": 1528335269, "question_id": 50726554, "link": "https://stackoverflow.com/questions/50726554/typescript-fat-arrow-this-scope-relation", "closed_reason": "Duplicate", "title": "Typescript : fat arrow &amp; this scope relation", "body": "<p>I was practicing below code \nCode Reference : <a href=\"https://codecraft.tv/courses/angular/es6-typescript/arrow/\" rel=\"nofollow noreferrer\">Link</a></p>\n\n<pre><code>   let obj = {\n    name : \"Cj\",   \n    sayLater : function(){\n        setTimeout(function(){\n          console.log(\"sayLater :&gt; \"+this.name); \n        },3000)\n    },\n    sayNow : function(){\n      console.log(\"sayNow :&gt; \"+this.name); \n    },\n    sayLaterFA : function(){\n      setTimeout(() =&gt; console.log(\"sayLaterFA :&gt; \"+this.name) ,3000)\n    },\n    sayNowFA : () =&gt; console.log(\"sayNowFA :&gt; \"+this.name),\n    sayLaterPureFatArrow : () =&gt; { setTimeout(() =&gt; console.log(\"sayLaterPureFatArrow :&gt; \"+this.name),4000) },\n    sayNowPureFatArrow : () =&gt; { console.log(\"sayNowPureFatArrow :&gt; \"+this.name) }\n  }\n\n\n\n obj.sayLater();             //Output : sayLater :&gt; undefined\n  obj.sayNow();               //Output : sayNow :&gt; Cj\n  obj.sayLaterFA();           //Output : sayLaterFA :&gt; Cj \n  obj.sayNowFA();             //Output : sayNowFA :&gt; Cj\n  obj.sayLaterPureFatArrow(); //Output : sayLaterPureFatArrow :&gt; undefined \n  obj.sayNowPureFatArrow();   //Output : sayNowPureFatArrow :&gt; undefined\n</code></pre>\n\n<p>Can anyone explain me why my output is undefined though I am using fat arrow function</p>\n"}, {"tags": ["javascript", "typescript", "validation", "instanceof"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528307238, "post_id": 50726401, "comment_id": 88461315, "body": "OK So effectively new (...args: ...) is typescripts way of saying that the function is a constructor function type?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1528307289, "post_id": 50726401, "comment_id": 88461344, "body": "Specifically, the <code>new (...) =&gt; ...</code> is what indicates a constructor."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528311854, "post_id": 50726401, "comment_id": 88463624, "body": "So if I understand correctly the typeof targetTypeConstructor === function is redundant because the last check object instanceOf targetTypeConstructor will be false if the always if hte targetTypeConstructor is not a function ... wonder if it&#39;s safer to just keep it in the event that the java runtime for some reason throws an exception in the future ... or in the past for certain runtimes ....?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528312353, "post_id": 50726401, "comment_id": 88463850, "body": "No, it&#39;s redundant because TypeScript already enforces that type at compile-time, so the parameter will never be anything but <code>null</code> or <code>typeof === &#39;function&#39;</code>. The check should just be <code>targetTypeConstructor &amp;&amp; object instanceof targetTypeConstructor</code>, the first conditional being necessary to prevent the second one from throwing <code>TypeError</code>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528317465, "post_id": 50726401, "comment_id": 88466196, "body": "Don&#39;t we also have to consider the corresponding javascript runtime version, <code>function (object, targetTypeConstructor)</code>, and the runtime cases where perhaps targetTypeConstructor is something other than a function (User error scenarios)?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528317564, "post_id": 50726401, "comment_id": 88466248, "body": "User error will result in a TypeScript compilation error -- it would never reach runtime."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528317875, "post_id": 50726401, "comment_id": 88466380, "body": "What happens if we publish the library to NPM, compile for both ES6 and Typescript use cases, and someone uses it for an ES6 library without typescript support?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528318274, "post_id": 50726401, "comment_id": 88466546, "body": "Then they&#39;d have a hell of a time going through the process of setting up a babel environment just to circumvent the use of TypeScript in the library and be able to use decorator functions like this, which have no native support. Simple solution. Don&#39;t release ES6 pre-compiled output, and specify that the point of these typings is to avoid the overhead of runtime checks in the first place."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528318521, "post_id": 50726401, "comment_id": 88466662, "body": "I agree with you on the recommendation, but try to always make libraries compatible with other runtimes anyways, because I know there are a ton of people (React ...) that will just use straight up ES without any typescript.  I love typescript though, and I&#39;m trying my best to stick with it!"}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": false, "score": 2, "last_activity_date": 1528313632, "last_edit_date": 1528313632, "creation_date": 1528306660, "answer_id": 50726401, "question_id": 50726326, "link": "https://stackoverflow.com/questions/50726326/how-to-go-about-understanding-the-type-new-args-any-any/50726401#50726401", "title": "How to go about understanding the type `new (...args: any[]) =&gt; any`", "body": "<pre><code>new (...args: any[]) =&gt; any\n</code></pre>\n\n<p>This type specifies a function that accepts any number of arguments that are <code>any</code> type, returns <code>any</code> value, and can be invoked with <code>new</code>.</p>\n\n<p>A constructor is a special type of function that enforces invocation with the <code>new</code> keyword at runtime, but in TypeScript, that can be statically detected, so <code>targetTypeConstructor</code> is specifying an arbitrary constructor as the  second parameter to <code>isInstance()</code>.</p>\n\n<p>To that end, it seems redundant to check</p>\n\n<pre><code>typeof targetTypeConstructor === \"function\"\n</code></pre>\n\n<p>as that's already enforced by <code>targetTypeConstructor : new (...args: any[]) =&gt; any</code> at compile-time by TypeScript.</p>\n\n<p>If the passed value is <code>null</code>, it is already invalidated by the <code>targetTypeConstructor &amp;&amp; ...</code> conditional, which <em>is</em> necessary at runtime to prevent <code>object instanceof targetTypeConstructor</code> from throwing <code>TypeError</code> in the event that <code>targetTypeConstructor</code> is actually <code>null</code> due to Step 4 \nin <a href=\"https://tc39.github.io/ecma262/#sec-instanceofoperator\" rel=\"nofollow noreferrer\">\u00a712.10.4 of the ECMAScript Specification</a>:</p>\n\n<blockquote>\n  <p><strong>12.10.4 Runtime Semantics: InstanceofOperator ( <em>V</em>, <em>target</em> )</strong></p>\n  \n  <ol>\n  <li>If Type(<em>target</em>) is not Object, throw a <strong>TypeError</strong> exception.</li>\n  <li>Let <em>instOfHandler</em> be ? GetMethod(<em>target</em>, @@hasInstance).</li>\n  <li><p>If <em>instOfHandler</em> is not <strong>undefined</strong>, then</p>\n  \n  <p>a. Return ToBoolean(? Call(<em>instOfHandler</em>, <em>target</em>, \u00ab <em>V</em> \u00bb)).</p></li>\n  <li>If IsCallable(<em>target</em>) is <strong>false</strong>, throw a <strong>TypeError</strong> exception.</li>\n  <li>Return ? OrdinaryHasInstance(<em>target</em>, <em>V</em>).</li>\n  </ol>\n  \n  <blockquote>\n    <p>NOTE</p>\n    \n    <p>Steps 4 and 5 provide compatibility with previous editions of ECMAScript that did not use a @@hasInstance method to define the <strong>instanceof</strong> operator semantics. If an object does not define or inherit @@hasInstance it uses the default <strong>instanceof</strong> semantics.</p>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1528306698, "creation_date": 1528306698, "answer_id": 50726413, "question_id": 50726326, "link": "https://stackoverflow.com/questions/50726326/how-to-go-about-understanding-the-type-new-args-any-any/50726413#50726413", "title": "How to go about understanding the type `new (...args: any[]) =&gt; any`", "body": "<p>Means that the parameter <code>targetTypeConstructor</code> is a function that accepts parameters and <strong>can be used as a constructor (you can use with <code>new</code> keyword and create instances)</strong>. You can pass a simple function or a class that are not <em>abstracts</em>.</p>\n\n<p>For more you can check an example in the <a href=\"https://www.typescriptlang.org/play/index.html#src=%0D%0Aclass%20Check%20%7B%0D%0A%0D%0A%20%20%20%20static%20isInstance(targetTypeConstructor%3A%20new%20(...args%3A%20any%5B%5D)%20%3D%3E%20any)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20targetTypeConstructor%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20typeof%20targetTypeConstructor%20%3D%3D%3D%20%22function%22%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%7D%0D%0A%0D%0Aabstract%20class%20A%20%7B%20%7D%0D%0A%0D%0Aclass%20B%20%7B%20%7D%0D%0A%0D%0ACheck.isInstance(B)%0D%0ACheck.isInstance(A)\" rel=\"nofollow noreferrer\"><strong>Typescript Playground</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 11, "last_activity_date": 1528307226, "creation_date": 1528307226, "answer_id": 50726553, "question_id": 50726326, "link": "https://stackoverflow.com/questions/50726326/how-to-go-about-understanding-the-type-new-args-any-any/50726553#50726553", "title": "How to go about understanding the type `new (...args: any[]) =&gt; any`", "body": "<p>Let's reduce the type to smaller, bite size pieces that are more easily understood and then build back up to the full thing.</p>\n\n<p>First, let's drop the <code>new</code> from our mind and focus on the latter part of the definition:</p>\n\n<blockquote>\n  <p><code>(...args: any[]) =&gt; any</code></p>\n</blockquote>\n\n<p>Next let's forget about the arguments for now:</p>\n\n<blockquote>\n  <p><code>() =&gt; any</code></p>\n</blockquote>\n\n<p>Hopefully this is familiar as a function that returns type <code>any</code>.</p>\n\n<p>Next we can add back in the args:</p>\n\n<blockquote>\n  <p><code>(...args: any[]) =&gt; any</code></p>\n</blockquote>\n\n<p><code>...args: any[]</code> is using the Rest Parameters construct which essentially says that there can be any number of parameters of the provided type <code>any</code>. Because there are an unknown amount of <code>any</code> parameters, the type of the argument is an array of <code>any</code>.</p>\n\n<p>So hopefully now it makes sense that this is a function that accepts any amount of arguments (of type <code>any</code>) and returns type <code>any</code>.</p>\n\n<p>Finally we can add back the <code>new</code> keyword to get:</p>\n\n<blockquote>\n  <p><code>new (...args: any[]) =&gt; any</code></p>\n</blockquote>\n\n<p>The <code>new</code> keyword here specifies that this function can be treated as a class constructor function and called with the <code>new</code> keyword.</p>\n\n<p>This gives us the whole picture that the function is <em>a function that accepts any amount of arguments (of type <code>any</code>) that returns type <code>any</code> and can be used as a constructor function with the <code>new</code> keyword</em>.</p>\n\n<p>When taken in the context of the API, it is essentially allowing you to pass any class constructor to the function.</p>\n"}, {"tags": [], "owner": {"reputation": 10896, "user_id": 1678614, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/UaOyS.jpg?s=128&g=1", "display_name": "Nelu", "link": "https://stackoverflow.com/users/1678614/nelu"}, "is_accepted": false, "score": 2, "last_activity_date": 1572374987, "last_edit_date": 1572374987, "creation_date": 1528307450, "answer_id": 50726620, "question_id": 50726326, "link": "https://stackoverflow.com/questions/50726326/how-to-go-about-understanding-the-type-new-args-any-any/50726620#50726620", "title": "How to go about understanding the type `new (...args: any[]) =&gt; any`", "body": "<p>Breaking it down into pieces:</p>\n\n<p><strong><code>new</code></strong><br>\nThis keyword in TypeScript specifies what the constructor should look like, for the given property. Nice explanation here: <a href=\"https://stackoverflow.com/a/39623422/1678614\">https://stackoverflow.com/a/39623422/1678614</a>.</p>\n\n<p><strong><code>(...args: any[]) =&gt; any</code></strong><br>\nThis syntax describe a function type (the constructor is a function).</p>\n\n<p><strong><code>...</code></strong><br>\nis the ES6 spread operator. It's short hand for listing out all array elements one by one.</p>\n\n<p><strong><code>any[]</code></strong><br>\nmeans that <code>args</code> is an array and it's elements can be of any type.</p>\n\n<p><strong><code>=&gt; any</code></strong><br>\nspecifies the return type of the function. In this case it allows the constructor to return any type.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2032, "favorite_count": 0, "accepted_answer_id": 50726553, "answer_count": 4, "score": 4, "last_activity_date": 1572375169, "creation_date": 1528306396, "last_edit_date": 1572375169, "question_id": 50726326, "link": "https://stackoverflow.com/questions/50726326/how-to-go-about-understanding-the-type-new-args-any-any", "title": "How to go about understanding the type `new (...args: any[]) =&gt; any`", "body": "<p>I'm reading through the code of the <a href=\"https://github.com/typestack/class-validator\" rel=\"nofollow noreferrer\">class-validator</a> library and it has the following <code>isInstance</code> method in it:</p>\n\n<pre><code>/**\n * Checks if the value is an instance of the specified object.\n */\nisInstance(object: any, targetTypeConstructor: new (...args: any[]) =&gt; any) {\n    return targetTypeConstructor\n        &amp;&amp; typeof targetTypeConstructor === \"function\"\n        &amp;&amp; object instanceof targetTypeConstructor;\n}\n</code></pre>\n\n<p>Any thoughts on how to go about understanding the type <code>new (...args: any[]) =&gt; any</code>?  This is the first time I'm seeing this type of construct ...</p>\n"}, {"tags": ["angular", "typescript", "service", "angular6", "async-hooks"], "answers": [{"tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 0, "last_activity_date": 1528310266, "creation_date": 1528310266, "answer_id": 50727360, "question_id": 50726176, "link": "https://stackoverflow.com/questions/50726176/cannot-find-module-async-hooks-in-angular-application/50727360#50727360", "title": "Cannot find module &#39;async_hooks&#39; in Angular Application", "body": "<p>As the error message states, the problem is that <code>number</code> does not have a field <code>id</code> as your Post-object has. And that's why typescript denies to accept this method-signature as valid. The Objects must have the same set of compulsory fields.</p>\n\n<p>You could try to create a wrapper object that possesses all the fields your Post-Object contains and add the <code>number</code> as an additional field. But I'd avoid this effort and rather try it with 2 different methods sharing a main method:</p>\n\n<p>Somehow this way:</p>\n\n<p><strong>Your TS-File</strong></p>\n\n<pre><code>removePost(post: Post) {\n    if (confirm('Are you Sure?')) {\n      this.postService.removePostById(post.id).subscribe(() =&gt; { \n          this.posts.forEach((cur, index) =&gt; {\n              if (post.id === cur.id ) {\n                   this.posts.splice(index, 1);\n              }\n          });\n      });\n   }\n}\n</code></pre>\n\n<p><strong>Your Service</strong></p>\n\n<pre><code>public removePostById(id: number): Observable&lt;Post&gt; {\n    return this.removePost(id);\n}\n\npublic removePostByPostObject(post: Post): Observable&lt;Post&gt; {\n    return this.removePost(post.id);\n}\n\nprivate removePost(id: number): Observable&lt;Post&gt; {\n    const url = `${this.postsUrl}/${id}`;\n\n    return this.http.delete&lt;Post&gt;(url, httpOptions);\n}\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 5324571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11d4fe7c689701e07ed1366d7afd8854?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/5324571/ani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549537993, "creation_date": 1528305886, "last_edit_date": 1549537993, "question_id": 50726176, "link": "https://stackoverflow.com/questions/50726176/cannot-find-module-async-hooks-in-angular-application", "title": "Cannot find module &#39;async_hooks&#39; in Angular Application", "body": "<p>Trying to delete a post coming from jsonplaceholder/post website in the post component of my angular app. While calling delete HTTP from Json placeholder using a service, I am getting the following error. </p>\n\n<blockquote>\n  <p>ERROR in src/app/components/post/post.component.ts(5,27): error TS2307: Cannot find module 'async_hooks'.\n  src/app/components/post/post.component.ts(55,35): error TS2345: Argument of type 'Number' is not assignable to parameter of type 'number | Post'.\n    Type 'Number' is not assignable to type 'Post'.\n      Property 'id' is missing in type 'Number'.</p>\n</blockquote>\n\n<p>This is the remove post method in the component where the delete is happening:</p>\n\n<pre><code>removePost(post: Post) {\nif (confirm('Are you Sure?')) {\n  this.postService.removePost(post.id).subscribe(() =&gt; { //calling the service using the dependency injection and subscribing it to the function in the service\n    this.posts.forEach((cur, index) =&gt; {\n      if (post.id === cur.id ) {\n        this.posts.splice(index, 1);\n      }\n    });\n  });\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is The removePost method in the service:</p>\n\n<pre><code>removePost(post: Post | number): Observable&lt;Post&gt; {\nconst id = typeof post === 'number' ? post : post.id;\nconst url = `${this.postsUrl}/${id}`;\n\nreturn this.http.delete&lt;Post&gt;(url, httpOptions);\n</code></pre>\n\n<p>}</p>\n\n<p>The HTML file</p>\n\n<pre><code>    &lt;div class=\"card mb-2\" *ngFor= 'let msg of posts'&gt;\n  &lt;div class=\"card-body\"&gt;\n    &lt;h3&gt;{{msg.title}}&lt;/h3&gt;\n    {{msg.body}}\n    &lt;hr&gt;\n    &lt;button (click)= 'removePost(msg)' class=\"btn btn-danger\"&gt;\n      &lt;i class=\"fa fa-remove light\"&gt;&lt;/i&gt;\n    &lt;/button&gt;\n\n    &lt;button (click)='editPost(msg)' class=\"btn btn-light\"&gt;\n      &lt;i class=\"fa fa-pencil light\"&gt;&lt;/i&gt;\n    &lt;/button&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1528312675, "post_id": 50727331, "comment_id": 88463992, "body": "Great answer as always. @marthinus-engelbrecht I am curious why one would avoid the tuple type syntax though"}, {"owner": {"reputation": 309, "user_id": 3304875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKoA3.png?s=128&g=1", "display_name": "Marthinus Engelbrecht", "link": "https://stackoverflow.com/users/3304875/marthinus-engelbrecht"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1528367806, "post_id": 50727331, "comment_id": 88485658, "body": "@TitianCernicova-Dragomir It&#39;s a long story and might warrant another question. I&#39;m in the process of writing a babel-like language plugin that extends collections using the typescript compiler API and there are certain cases where I need to replace all references to array literals with my extended array class. So I ran into the tuple situation when initializing a Map with an array literal which is really a &quot;tuple literal&quot; in that context in I&#39;m not sure of the best approach to deal with it."}, {"owner": {"reputation": 309, "user_id": 3304875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKoA3.png?s=128&g=1", "display_name": "Marthinus Engelbrecht", "link": "https://stackoverflow.com/users/3304875/marthinus-engelbrecht"}, "edited": false, "score": 0, "creation_date": 1528367977, "post_id": 50727331, "comment_id": 88485747, "body": "@jcalz Thanks for the detailed answer. I didn&#39;t actually think about the fact that <code>Tuple&lt;K, V&gt; = [K,V]</code> is incorrect in that it limits the total amount of items. So I meant it &#39;defeats the idea&#39; in the sense that I&#39;m using the array literal syntax. Will update my question."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1528310818, "last_edit_date": 1528310818, "creation_date": 1528310155, "answer_id": 50727331, "question_id": 50725325, "link": "https://stackoverflow.com/questions/50725325/is-there-a-way-to-declare-a-tuple-without-using-the-array-literal-type-notation/50727331#50727331", "title": "Is there a way to declare a tuple without using the array literal type notation?", "body": "<p>What exactly \"defeats the whole idea\" of <code>type Tuple&lt;K, V&gt;</code>?  Is it that <code>Tuple&lt;&gt;</code> doesn't allow an arbitrary number of type parameters?  Or that it uses <code>[]</code> inside its definition?  </p>\n\n<hr>\n\n<p>Here is one possible path to a solution, depending on your use case:</p>\n\n<pre><code>type Tuple&lt;A, B = never, C = never, D = never, E = never, F = never, G = never&gt; =\n  [G] extends [never] ? [F] extends [never] ? [E] extends [never] ?\n  [D] extends [never] ? [C] extends [never] ? [B] extends [never] ?\n  [A] : [A, B] : [A, B, C] : [A, B, C, D] : [A, B, C, D, E] :\n  [A, B, C, D, E, F] : [A, B, C, D, E, F, G]\n</code></pre>\n\n<p>Here, <code>Tuple&lt;&gt;</code> is a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional type</a> which uses <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#generic-parameter-defaults\" rel=\"nofollow noreferrer\">default generic parameters</a> to allow you to specify anywhere between one and seven tuple elements:</p>\n\n<pre><code>const e: Tuple&lt;string, number&gt; = [\"string\", 1]; // okay\n</code></pre>\n\n<p>If you need more elements you can extend the above definition, although you can never get an arbitrary number of them without something like <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">variadic kinds</a>, which are not part of TypeScript (as of 2.9 anyway).</p>\n\n<p>Or maybe this doesn't count because tuple syntax is being used inside the definition.  If you want to completely avoid tuple syntax, you could try to make a type which is similar to a tuple... something like this for the two-element case:</p>\n\n<pre><code>interface FakeTuple2&lt;A, B&gt; extends Array&lt;A | B&gt; {\n  readonly length: 2,\n  0: A,\n  1: B,\n}\n</code></pre>\n\n<p>This is tuple-like enough for many purposes, depending on what you need:</p>\n\n<pre><code>const f: FakeTuple2&lt;string, number&gt; = [\"string\", 1]; // okay\n</code></pre>\n\n<p>And if you want a variable number of elements as well as the fake tuple, you could use both approaches above to get something like:</p>\n\n<pre><code>type StripNever&lt;T&gt; = Pick&lt;T, { [K in keyof T]: T[K] extends never ? never : K }[keyof T]&gt;\ntype FakeTuple&lt;A, B = never, C = never, D = never, E = never, F = never, G = never&gt; =\n  Array&lt;A | B | C | D | E | F | G&gt; &amp; \n  StripNever&lt;{ 0: A, 1: B, 2: C, 3: D, 4: E, 5: F, 6: G }&gt; &amp; {\n    length: [G] extends [never] ? [F] extends [never] ? [E] extends [never] ?\n    [D] extends [never] ? [C] extends [never] ? [B] extends [never] ? \n    1 : 2 : 3 : 4 : 5 : 6 : 7\n  }\n</code></pre>\n\n<p>which also works for one through seven elements and can be extended.  </p>\n\n<hr>\n\n<p>So those are some ideas for you.  Hope they help.  Good luck!</p>\n"}], "owner": {"reputation": 309, "user_id": 3304875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKoA3.png?s=128&g=1", "display_name": "Marthinus Engelbrecht", "link": "https://stackoverflow.com/users/3304875/marthinus-engelbrecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 50727331, "answer_count": 1, "score": 1, "last_activity_date": 1528368277, "creation_date": 1528302690, "last_edit_date": 1528368277, "question_id": 50725325, "link": "https://stackoverflow.com/questions/50725325/is-there-a-way-to-declare-a-tuple-without-using-the-array-literal-type-notation", "title": "Is there a way to declare a tuple without using the array literal type notation?", "body": "<p>Ok, so this is mostly for my curiosity. See below code: </p>\n\n<pre><code>const a: [string, number] = [\"string\", 1]; //valid\nconst b: Array&lt;string, number&gt; = [\"string\", 1]; //invalid\nconst c: Array&lt;[string, number]&gt; = [\"string\", 1] //invalid, it means [[\"string\", 1]]\n</code></pre>\n\n<p>There seems to be no way to declare a tuple unless you use <code>[]</code> notation. My next thought was to look for a tuple type, but there seems to be nothing built in.</p>\n\n<p>You could declare a <code>Tuple</code> type like so: <code>type Tuple&lt;K, V&gt; = [K, V]</code> but that defeats the whole idea.  </p>\n\n<p>Also something like : </p>\n\n<pre><code>let d: Array&lt;string | number&gt; = [\"string\", 1]\n</code></pre>\n\n<p>Would compile but you would be able to assign something like <code>[\"string\", \"another string\", 1, 2, \"stuff\"]</code> to it.</p>\n\n<p><strong>Update 1:</strong>\nAs indicated by @jcalz <code>type Tuple&lt;K, V&gt; = [K, V]</code> is incorrect in that it limits the number of elements of the tuple type to 2. </p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1528310757, "post_id": 50725073, "comment_id": 88463098, "body": "Sorry, but I don&#39;t know this behavior at all. Do you use any plug-in&#39;s that provide this &quot;light bulb&quot;?"}, {"owner": {"reputation": 39, "user_id": 1373954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8903a17d48db5d3c233e9749b11dae3?s=128&d=identicon&r=PG", "display_name": "slyDog", "link": "https://stackoverflow.com/users/1373954/slydog"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1528378988, "post_id": 50725073, "comment_id": 88493147, "body": "I added a screenshot of the code action light bulb."}], "owner": {"reputation": 39, "user_id": 1373954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8903a17d48db5d3c233e9749b11dae3?s=128&d=identicon&r=PG", "display_name": "slyDog", "link": "https://stackoverflow.com/users/1373954/slydog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528374521, "creation_date": 1528301763, "last_edit_date": 1528374521, "question_id": 50725073, "link": "https://stackoverflow.com/questions/50725073/vscode-code-action-method-position", "title": "vscode code action method position", "body": "<p>When using a code action (light bulb) in Visual Studio Code to add a method  to a class, the method is always added at the very top. Is there a way to add it under the constructor and/or under the class members? Specifically in a TypeScript file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XqNts.jpg\" rel=\"nofollow noreferrer\">screenshot of code action light bulb</a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1528302657, "post_id": 50725161, "comment_id": 88458836, "body": "&quot;using a custom mapped type will remove those modifiers&quot; isn&#39;t true in general (after all, <code>Pick&lt;&gt;</code> is just part of the standard library and isn&#39;t special-cased by the compiler) but it is true that there is <a href=\"https://github.com/Microsoft/TypeScript/issues/24679#issuecomment-394710628\" rel=\"nofollow noreferrer\">an issue</a> with using conditional types and mapped types this way that is circumvented by using a layer of indirection like <code>Pick&lt;&gt;</code>."}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 2, "last_activity_date": 1528303854, "last_edit_date": 1528303854, "creation_date": 1528302110, "answer_id": 50725161, "question_id": 50724826, "link": "https://stackoverflow.com/questions/50724826/composing-overwrite-merge-type-operator/50725161#50725161", "title": "Composing Overwrite (merge) type operator", "body": "<p>Try using the built in <code>Pick</code> type instead of creating your own mapped type. Something like:</p>\n\n<pre><code>type Overwrite&lt;T, U&gt; = Pick&lt;T, Exclude&lt;keyof T, keyof U&gt;&gt; &amp; U\n</code></pre>\n\n<p>That will preserve any modifiers on <code>T</code>, such as readonly or optional, whereas using a custom mapped type will remove those modifiers<a href=\"https://stackoverflow.com/questions/50724826/composing-overwrite-merge-type-operator/50725161?noredirect=1#comment88458836_50725161\">*</a>.</p>\n\n<p>When using that type with your example:</p>\n\n<pre><code>declare const test: Overwrite&lt;A, B&gt;;\ntest.a // (property) a?: number (note: still optional, no undefined union)\ntest.b // (property) b: number\ntest.c // (property) d: boolean\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=type%20Overwrite%3CT%2C%20U%3E%20%3D%20Pick%3CT%2C%20Exclude%3Ckeyof%20T%2C%20keyof%20U%3E%3E%20%26%20U%3B%0D%0A%0D%0Atype%20A%20%3D%20%7B%0D%0A%0D%0A%20%20a%3F%3A%20number%2C%0D%0A%20%20d%3A%20boolean%0D%0A%20%20b%3A%20string%0D%0A%7D%0D%0A%0D%0Atype%20B%20%3D%20%7B%20%20%0D%0A%20%20b%3A%20number%0D%0A%7D%0D%0A%0D%0Adeclare%20const%20test%3A%20Overwrite%3CA%2C%20B%3E%3B%0D%0Atest.a%0D%0Atest.b%0D%0Atest.d%0D%0A\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 19357, "user_id": 733596, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f5dcb5f94bda9396909b08cafbd82edb?s=128&d=identicon&r=PG", "display_name": "WHITECOLOR", "link": "https://stackoverflow.com/users/733596/whitecolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 50725161, "answer_count": 1, "score": 1, "last_activity_date": 1528303854, "creation_date": 1528300909, "question_id": 50724826, "link": "https://stackoverflow.com/questions/50724826/composing-overwrite-merge-type-operator", "title": "Composing Overwrite (merge) type operator", "body": "<p>Trying to compose <code>Overwrite</code> type operator, which should take keys from first operand type and replace them with the keys from second (aka object <code>merge</code> operation):</p>\n\n<pre><code>type Overwrite&lt;T, U&gt; = { [P in Exclude&lt;keyof T, keyof U&gt;]: T[P] } &amp; U\n\ntype A = {\n\n  a?: number,\n  d: boolean\n  b: string\n}\n\ntype B = {  \n  b: number\n}\n\ntype C = Overwrite&lt;A, B&gt; = {\n  a: number | undefined; // not optinal anymore\n  d: boolean;\n} &amp; B\n</code></pre>\n\n<p>Optinal key <code>a</code> from first operand <code>A</code> becomes required (though with <code>undefined</code> value possible)</p>\n\n<p>Is it possible to leave it optional?</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 622, "user_id": 9890685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0xeVMGKig_Q/AAAAAAAAAAI/AAAAAAAABFw/ovj61LJmluc/photo.jpg?sz=128", "display_name": "m.belica", "link": "https://stackoverflow.com/users/9890685/m-belica"}, "is_accepted": true, "score": 3, "last_activity_date": 1528301385, "creation_date": 1528301385, "answer_id": 50724959, "question_id": 50724766, "link": "https://stackoverflow.com/questions/50724766/updating-value-in-copied-object-is-affecting-all-the-other-copied-objects-value/50724959#50724959", "title": "updating value in copied object is affecting all the other copied objects value in angular 5", "body": "<p><code>let asignees1 = this.assignees.slice(0);</code> clones array <strong>but</strong> objects inside have references to the objects in original array, you need to get deep clone of array of objects, you can do it using this simple trick:</p>\n\n<pre><code>let asignees1 = JSON.parse(JSON.stringify(this.assignees));\n</code></pre>\n\n<p>Then you will have cloned array with no references to original array.</p>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 6096754, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-mxSJc-JGt_0/AAAAAAAAAAI/AAAAAAAAACE/W9gL9eUD7I0/photo.jpg?sz=128", "display_name": "Ajith K P", "link": "https://stackoverflow.com/users/6096754/ajith-k-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1528302127, "creation_date": 1528302127, "answer_id": 50725169, "question_id": 50724766, "link": "https://stackoverflow.com/questions/50724766/updating-value-in-copied-object-is-affecting-all-the-other-copied-objects-value/50725169#50725169", "title": "updating value in copied object is affecting all the other copied objects value in angular 5", "body": "<p>deep clone of array objects will help you out.try this,</p>\n\n<pre><code>let asigneesData = JSON.parse(JSON.stringify(this.assignees));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 0, "last_activity_date": 1528306370, "creation_date": 1528306370, "answer_id": 50726315, "question_id": 50724766, "link": "https://stackoverflow.com/questions/50724766/updating-value-in-copied-object-is-affecting-all-the-other-copied-objects-value/50726315#50726315", "title": "updating value in copied object is affecting all the other copied objects value in angular 5", "body": "<p>You could also do it using <code>Object.assign()</code></p>\n\n<pre><code>newAssignes = [];\n\nthis.assignees.forEach((assignee, i) =&gt; {\n    this.newAssignes[i] = Object.assign({}, assignee)\n});\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-yfzxbq\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}], "owner": {"reputation": 225, "user_id": 7008305, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-3NARo_BSsVg/AAAAAAAAAAI/AAAAAAAAABU/jjXaGVzTrQs/photo.jpg?sz=128", "display_name": "Vinay Sharma", "link": "https://stackoverflow.com/users/7008305/vinay-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 50724959, "answer_count": 3, "score": 0, "last_activity_date": 1528306370, "creation_date": 1528300713, "question_id": 50724766, "link": "https://stackoverflow.com/questions/50724766/updating-value-in-copied-object-is-affecting-all-the-other-copied-objects-value", "title": "updating value in copied object is affecting all the other copied objects value in angular 5", "body": "<hr>\n\n<p>In Component, I made http call to get all assignees from Backend.</p>\n\n<p>Component :- </p>\n\n<pre><code> const req = this.assigneeService.getAssignees();\n    req.subscribe(\n      data =&gt; {\n        this.assignees = data['data'];\n        // On response json will be like below\n        [  \n         {  \n           name:\"Name 3\",\n           id:1,\n           status:\"Not_Assigned\"\n         },\n         {  \n           name:\"Archana\",\n           id:2,\n           status:\"Not_Assigned\"\n          }\n        ]\n       },\n       err =&gt; {       \n     }\n );\n</code></pre>\n\n<p>On click of button,the below function will call and create say objectM.\nNow assume I have created 2 more same object say objectM1 and objectM2 with same method.</p>\n\n<pre><code>    public addObj1(): void {\n        let asignees1 = this.assignees.slice(0);\n        let objectM = new Module();\n        objectM.assignees = asignees1;\n      }\n\n//onchange funtion where object is selected Object, action as string and id of user\n    changeAssigneeState(object, action, assigneeId ) {\n\n    for (let a of object.assignees) {\n     if (a.id == assigneeId) {\n        a.status = action;\n      }\n     }\n    }\n</code></pre>\n\n<p>On changing the assignee.status of id 1 in objectM. It affects objectM1 and objectM2 assignee.status of same id.</p>\n\n<p>Please help me out. Thanks in advance.</p>\n"}, {"tags": ["reactjs", "typescript"], "owner": {"reputation": 1210, "user_id": 2494599, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a11f27671cd7052805d9553841ff5c88?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/2494599/sebastien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 3, "answer_count": 0, "score": 8, "last_activity_date": 1528299789, "creation_date": 1528299789, "question_id": 50724459, "link": "https://stackoverflow.com/questions/50724459/react-typescript-ant-design-form-cannot-pass-props-to-wrapped-components", "title": "React - TypeScript - Ant Design Form - Cannot pass props to wrapped components", "body": "<p>I have a component wrapping an ant design form like so:</p>\n\n<pre><code>export interface IMyProps {\n    onSubmit: () =&gt; void,\n    anInput: React.ReactNode\n}\n\nexport class MyForm extends React.Component&lt;IMyProps&gt; {\n\n    constructor(props: any) {\n        super(props)\n    }\n\n    render() {\n        return (\n            &lt;Form onSubmit={this.props.onSubmit}&gt;\n                {this.props.anInput}\n            &lt;/Form&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>I wanted to be able to pass any ReactNode to my form structure and a function to handle the submiting of the form.</p>\n\n<p>So I also have this component that defines the component passed to MyForm:</p>\n\n<pre><code>export interface IDecoratorProps extends FormComponentProps {\n    onSubmit: () =&gt; void,\n    value: string\n}\n\nclass MyDecoratedForm extends React.Component&lt;IDecoratorProps&gt; {\n\n    constructor(props: any) {\n        super(props)\n    }\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;MyForm\n                    onSubmit={this.props.onSubmit}\n                    anInput={\n                        &lt;Form.Item\n                            label={\"label\"}\n                            hasFeedback&gt;\n                            {\n                                this.props.form.getFieldDecorator(\n                                    \"label\",\n                                    {\n                                        rules: [{required: true, message: 'This is required'}]\n                                    }\n                                )\n                                (\n                                    &lt; Input size=\"large\" type=\"text\" value={this.props.value}/&gt;\n                                )\n                            }\n                        &lt;/Form.Item&gt;\n                    }/&gt;\n            &lt;/div&gt;\n        )\n    }\n}\nexport const MyFormDecorator = Form.create&lt;IDecoratorProps&gt;()(MyDecoratedForm);\n</code></pre>\n\n<p>And finally I have the Page component that is supposed to pass in the value props and onSubmit props.</p>\n\n<p>Something like this:</p>\n\n<pre><code>...\nrender() {\n    &lt;MyFormDecorator value={this.state.value} onSubmit={() =&gt; {}}/&gt;\n}\n</code></pre>\n\n<p>My problem is that I have a </p>\n\n<blockquote>\n  <p>TS2339: Property 'value' does not exist on type 'IntrinsicAttributes &amp;\n  IntrinsicClassAttributes, ComponentState>>\n  &amp; ...</p>\n</blockquote>\n"}, {"tags": ["reactjs", "typescript", "d3.js"], "comments": [{"owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "edited": false, "score": 0, "creation_date": 1528298955, "post_id": 50724170, "comment_id": 88456692, "body": "I included the [<a href=\"https://stackoverflow.com/questions/tagged/typescript\">typescript</a>] and [<a href=\"https://stackoverflow.com/questions/tagged/d3\">d3</a>] tags because they are tangentially related (we&#39;re working in Typescript, d3 is being replaced), but really this question is about React. I hope I&#39;ve tagged this right."}, {"owner": {"reputation": 976, "user_id": 6297496, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JogBvaqFGNg/AAAAAAAAAAI/AAAAAAAAADw/UyXrfoDp2qo/photo.jpg?sz=128", "display_name": "Chetan Jadhav CD", "link": "https://stackoverflow.com/users/6297496/chetan-jadhav-cd"}, "edited": false, "score": 0, "creation_date": 1528301278, "post_id": 50724170, "comment_id": 88458138, "body": "Have you tried replacing &lt;&gt;&lt;/&gt; with &lt;React.Fragment&gt;&lt;/React.Fragment&gt;? Not really sure where I&#39;m going with this, but thought you could try it.."}, {"owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "reply_to_user": {"reputation": 976, "user_id": 6297496, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JogBvaqFGNg/AAAAAAAAAAI/AAAAAAAAADw/UyXrfoDp2qo/photo.jpg?sz=128", "display_name": "Chetan Jadhav CD", "link": "https://stackoverflow.com/users/6297496/chetan-jadhav-cd"}, "edited": false, "score": 0, "creation_date": 1528301620, "post_id": 50724170, "comment_id": 88458305, "body": "@ChetanJadhavCD No, I haven&#39;t; I will."}], "owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 391, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528301858, "creation_date": 1528298895, "last_edit_date": 1528301858, "question_id": 50724170, "link": "https://stackoverflow.com/questions/50724170/maintaining-state-outside-react-and-replacing-react-rendered-children-with-a-ne", "title": "Maintaining state outside React and &quot;Replacing React-rendered children with a new root component.&quot; warning", "body": "<p>I am working on an application that only recently began to use React (replacing d3). It's built roughly along the MVC paradigm, where React is only used in (some of) the view, and therefore does not have some root React component whose state controls everything. In fact, almost all of our React components are stateless (only a few have small internal states for handling things that don't require updating the model).</p>\n\n<p>So instead of having a root component with a controlling state, we have React components reporting actions through callbacks, which eventually update the model and trigger rerendering the view. As in, <code>ReactDom.render(&lt;SomeComponent {...props} /&gt;, someElement);</code> where <code>props</code> has been created based on the new, updated model. Not everything in the view uses React (though we are working towards that goal), and not every React component is contained in any single root React component (and that will likely never change, if for no other reason than that our application sometimes uses multiple browser windows).</p>\n\n<p>Is just calling <code>ReactDom.render</code> again with new props the correct way to update our React views in this situation? This seemed surprising to us, but it seemed to be what we were reading in the documentation etc. It certainly seemed to work. But today I added a new call to <code>ReactDom.render</code>, and now we get this warning in the console:</p>\n\n<blockquote>\n  <p>Warning: render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render.</p>\n</blockquote>\n\n<p>We are only getting this with the new <code>ReactDom.render</code> call; numerous others before this one have not given us this warning. In fact, the code triggering this warning is something quite like this:</p>\n\n<pre><code>// selection is a d3 selection that has not been converted to React yet\n// data includes the updated data for this object and its children\nselection.each(function (data) {\n    const someElement = d3.select(this).select('.some-class').node();\n    ReactDom.render(\n        &lt;&gt;\n            {data.someChildren\n                .map(toSomeProps)\n                .map(someProps =&gt;\n                    &lt;SomeComponent key={keyOf(someProps)} {...someProps} /&gt;\n                )\n            }\n        &lt;/&gt;,\n        someElement\n    );\n\n    const anotherElement = d3.select(this).select('.another-class').node();\n    const anotherProps = toAnotherProps(data);\n    ReactDom.render(\n        &lt;AnotherComponent {...anotherProps} /&gt;,\n        anotherElement\n    );\n});\n</code></pre>\n\n<p>(For those unfamiliar with d3, this is effectively taking an array of elements, finding particular subelements within them, and rendering React components inside those subelements. Eventually this will be migrated to just React.)</p>\n\n<p>The <code>SomeComponent</code>s group is the new one, and the <code>AnotherComponent</code> has been there. I get the warning about <code>SomeComponent</code>, but not about <code>AnotherComponent</code>. Maybe it doesn't repeat the warnings for the two next to each other, but we never got the warning when <code>AnotherComponent</code> was the only part that was there.</p>\n\n<p>The only notable difference that I can tell here is the use of <code>&lt;&gt;{...}&lt;/&gt;</code> in the <code>SomeComponent</code> case, instead of a \u201creal\u201d wrapping component. Does that matter? And if so, <em>why?</em></p>\n"}, {"tags": ["angular", "typescript", "angular-promise", "angular2-changedetection", "ngzone"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 1, "creation_date": 1528298704, "post_id": 50723991, "comment_id": 88456521, "body": "Can you show your <code>@Component</code> decorator?"}, {"owner": {"reputation": 2520, "user_id": 2963111, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IDwfr.jpg?s=128&g=1", "display_name": "harvzor", "link": "https://stackoverflow.com/users/2963111/harvzor"}, "edited": false, "score": 0, "creation_date": 1528298833, "post_id": 50723991, "comment_id": 88456602, "body": "Please create a JS Fiddle (<a href=\"http://jsfiddle.net/\" rel=\"nofollow noreferrer\">jsfiddle.net</a>) so people can quickly and easily test your code. Also, in Angular 1.x you had to tell the view to update (<code>$scope.$apply()</code>) if something happened outside of the normal Angular pipeline, though I don&#39;t know if this is the same with 2.x."}, {"owner": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528379115, "post_id": 50723991, "comment_id": 88493245, "body": "I tried creating a plunker here: <a href=\"https://embed.plnkr.co/LTAEwV6bNvoGQAFoky60/\" rel=\"nofollow noreferrer\">embed.plnkr.co/LTAEwV6bNvoGQAFoky60</a>  Turns out, I think the problem is with the angular material dialog window (the data doesn&#39;t update after I close it). But I can&#39;t seem to get MatDialog working with plunker at this moment."}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528301792, "post_id": 50724161, "comment_id": 88458394, "body": "This gives me:  ERROR Error: Uncaught (in promise): Error: ViewDestroyedError: Attempt to use a destroyed view: detectChanges  I tried some solutions for it from here, but none of them worked unfortunately: <a href=\"https://stackoverflow.com/questions/37849453/attempt-to-use-a-destroyed-view-detectchanges\" title=\"attempt to use a destroyed view detectchanges\">stackoverflow.com/questions/37849453/&hellip;</a>"}, {"owner": {"reputation": 1328, "user_id": 8558515, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GkCni.png?s=128&g=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/8558515/sanju"}, "reply_to_user": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528358042, "post_id": 50724161, "comment_id": 88479200, "body": "It seems your actual component doesn&#39;t know there&#39;s a change in the service because you have triggered a change from a dialog component. You need to notify the parent component that a change has occurred. That can be done by emitting an event to the parent component. Can you post the simplified code in plunker or jsFiddle because it&#39;s difficult to get the context?"}, {"owner": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528364335, "post_id": 50724161, "comment_id": 88483281, "body": "I tried to create a plunker here: <a href=\"https://embed.plnkr.co/pvBT5jGddQP8IrYHGi79/\" rel=\"nofollow noreferrer\">embed.plnkr.co/pvBT5jGddQP8IrYHGi79</a>  I used some existing code and tried to format to work like mine (it is really hard to extract it). Unfortunately the promise doesn&#39;t work right now, but if we could get that working maybe we could test it."}, {"owner": {"reputation": 1328, "user_id": 8558515, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GkCni.png?s=128&g=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/8558515/sanju"}, "reply_to_user": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528368828, "post_id": 50724161, "comment_id": 88486232, "body": "Change your promise section to this to make it work on plunker: <code>this.http.get(&quot;https:&#47;&#47;randomapi.com&#47;api&#47;6de6abfedb24f889e0b&zwnj;&#8203;5f675edc50deb?fmt=ra&zwnj;&#8203;w&amp;sole&quot;)       .subscribe(response =&gt; {         response.json();         component.pushGroup();       });</code>"}, {"owner": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528379068, "post_id": 50724161, "comment_id": 88493203, "body": "Thanks. I got it working. And the whole promise thing works. I think the problem might be with my angular material dialog window. After I close it, it get&#39;s the data from the promise but the view doesn&#39;t update. I tried to create a plunker with MatDialog, but it seems all exmaples for it are broken with plunker (at the moment at least):  <a href=\"https://embed.plnkr.co/LTAEwV6bNvoGQAFoky60/\" rel=\"nofollow noreferrer\">embed.plnkr.co/LTAEwV6bNvoGQAFoky60</a>"}, {"owner": {"reputation": 1328, "user_id": 8558515, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GkCni.png?s=128&g=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/8558515/sanju"}, "reply_to_user": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528449358, "post_id": 50724161, "comment_id": 88522135, "body": "If the problem persists, try emitting an event from the dialog component to the parent indicating the status of the operation. Then you can call _cdr.detectChanges() at that event."}], "tags": [], "owner": {"reputation": 1328, "user_id": 8558515, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GkCni.png?s=128&g=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/8558515/sanju"}, "is_accepted": false, "score": 0, "last_activity_date": 1528298874, "creation_date": 1528298874, "answer_id": 50724161, "question_id": 50723991, "link": "https://stackoverflow.com/questions/50723991/angular-2-view-doesnt-update-when-function-is-called-from-promise/50724161#50724161", "title": "Angular 2 : View doesn&#39;t update when function is called from promise", "body": "<p>Promise will postpone the change detection to the next detection cycle. </p>\n\n<p><strong>Try this:</strong></p>\n\n<p>Add <code>private _cdr: ChangeDetectorRef</code> in the constructor.(obviously import <code>ChangeDetectorRef</code>)</p>\n\n<p>Add <code>this._cdr.detectChanges()</code> inside promise (at the end).</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "edited": false, "score": 0, "creation_date": 1528302216, "post_id": 50724192, "comment_id": 88458614, "body": "Unfortunately, this does not change anything. I suspected that it might somehow be a different object (when I create the component), but that&#39;s why I extracted the actual pushing to a separate method."}], "tags": [], "owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "is_accepted": false, "score": 1, "last_activity_date": 1528298966, "creation_date": 1528298966, "answer_id": 50724192, "question_id": 50723991, "link": "https://stackoverflow.com/questions/50723991/angular-2-view-doesnt-update-when-function-is-called-from-promise/50724192#50724192", "title": "Angular 2 : View doesn&#39;t update when function is called from promise", "body": "<p>Why don't you use arrow function and forget this hack <code>let component = this</code>? Maybe this can be the problem. Use the ES6 features, follow the angular styleguide.</p>\n\n<pre><code>public addGroup(group: Group) {\n  this.api.postWrapper('groups', group).then( (data: Group) =&gt; {\n     this.pushNewGroup(data);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 5639563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/601bca1d9381e9adf4124e9911ccc422?s=128&d=identicon&r=PG&f=1", "display_name": "PadaKatel", "link": "https://stackoverflow.com/users/5639563/padakatel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528379002, "creation_date": 1528298336, "last_edit_date": 1528379002, "question_id": 50723991, "link": "https://stackoverflow.com/questions/50723991/angular-2-view-doesnt-update-when-function-is-called-from-promise", "title": "Angular 2 : View doesn&#39;t update when function is called from promise", "body": "<p>My angular is pretty basic. I have a view where I display an object (which is in a service):</p>\n\n<pre><code>&lt;div *ngFor=\"let group of service.groups\"&gt;\n    {{group.id}} - {{group.name}}\n&lt;/div&gt;\n</code></pre>\n\n<p>The simple version of my service looks like this:</p>\n\n<pre><code>public pushNewGroup(group) {\n\n    this.groups.push(group);\n    console.log('Pushing new group!');\n\n    // this.zone.run(() =&gt; {\n    //     this.groups.push(group);\n    // });\n\n}\n\npublic addGroup(group: Group) {\n    let component = this;\n    this.api.postWrapper('groups', group).then(function (data: Group) {\n        component.pushNewGroup(data);\n    });\n}\n</code></pre>\n\n<p>If I create a button to call the service, everything works and the view updates:</p>\n\n<pre><code>&lt;input type=\"button\" (click)=\"pushGroup()\" value=\"Add group/&gt;\n</code></pre>\n\n<p>With service call in the view component:</p>\n\n<pre><code>pushGroup() {\n    let group = { ... }\n    this.service.pushNewGroup(group);\n}\n</code></pre>\n\n<p>But if I call the promise through a dialog window then it doesn't update the view:</p>\n\n<pre><code>&lt;li (click)=\"addGroup()\" &gt;&lt;a&gt;Add Group&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Component (simplified):</p>\n\n<pre><code>addGroup() {\n    let dialogRef = this.dialog.open(AddGroupComponent, {\n        data: {\n            ...\n        },\n    });\n}\n\nexport class AddGroupComponent {\n\n    constructor(private service: service) {}\n\n    addGroup(group: Group) {\n        this.service.addGroup(group);\n    }\n}\n</code></pre>\n\n<p>I've tried both ngZone and ChangeDetectionStrategy.Default. Both solutions did not work for me. I can see that the object changes both times and the console log also works. But the view does not update.</p>\n\n<hr>\n\n<p>My @Componment doesn't have anything interesting. For the whole class it's:</p>\n\n<pre><code>@Component({\n    templateUrl: './mainComponent.html',\n    styleUrls: ['./mainComponent.scss'],\n    providers: []\n})\n</code></pre>\n\n<p>And for my add group dialog it is:</p>\n\n<pre><code>@Component({\n    selector: 'addGroup',\n    templateUrl: './AddGroupComponent.html',\n    styleUrls: ['./AddGroupComponent.scss'],\n    providers: [ApiService, PermissionsService, Service],\n    changeDetection: ChangeDetectionStrategy.Default\n})\n</code></pre>\n\n<hr>\n\n<p>EDIT: It's very hard to extract the whole thing into plunker, but I tried recreating it and turns out the promise thing works. I think the fault might be with MatDialog. It doesn't update the main view. I tried recreating the whole thing in plunker, but I can't get angular material working in plunker. And it seems like all other examples on the net are broken as well:</p>\n\n<p><a href=\"https://embed.plnkr.co/LTAEwV6bNvoGQAFoky60/\" rel=\"nofollow noreferrer\">https://embed.plnkr.co/LTAEwV6bNvoGQAFoky60/</a></p>\n"}, {"tags": ["angular", "typescript", "angular-services", "angular-components"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1528317189, "post_id": 50723702, "comment_id": 88466069, "body": "Your code is really hard to get running. There are some elements missing. Do you see any chance providing the whole project via Dropbox or so?"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 7208764, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0ab345099168163d98ae58f82917c497?s=128&d=identicon&r=PG&f=1", "display_name": "JLH", "link": "https://stackoverflow.com/users/7208764/jlh"}, "is_accepted": false, "score": 0, "last_activity_date": 1528330814, "creation_date": 1528330814, "answer_id": 50731357, "question_id": 50723702, "link": "https://stackoverflow.com/questions/50723702/angular-2-deleting-recursively-instantiated-components-somehow-creates-new-comp/50731357#50731357", "title": "Angular 2: Deleting recursively instantiated components somehow creates new component instances", "body": "<p>It turns out there were two keys to solving this problem: </p>\n\n<p>1) The sample data I was using was not made correctly. I had the same id values for two items in my items array, which was giving me a strange error on specific operations. So I fixed that.</p>\n\n<p>2) I created a root component that held a subscription to the array in my service, which passed its value to a child component that recursively generated the list. This way I only had one place, the root, that was receiving updates from the service Subject, and building the array from that root component. The way I was initially doing it, I had every component that was a part of the component tree subscribing to a Subject in my service, which was wrong. </p>\n"}], "owner": {"reputation": 63, "user_id": 7208764, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0ab345099168163d98ae58f82917c497?s=128&d=identicon&r=PG&f=1", "display_name": "JLH", "link": "https://stackoverflow.com/users/7208764/jlh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528330814, "creation_date": 1528297540, "question_id": 50723702, "link": "https://stackoverflow.com/questions/50723702/angular-2-deleting-recursively-instantiated-components-somehow-creates-new-comp", "title": "Angular 2: Deleting recursively instantiated components somehow creates new component instances", "body": "<p>As the title indicates, I have a recursively instantiated group of components. The components are based off of a tree-like data model called Item and are instantiated in nested lists by recursively calling a template and passing my model's nested arrays as @Input() values. While this works fine, the issue is that manipulating the data (which is stored in list.service.ts) that defines how many times this template is instantiated causes certain errors. I have two buttons attached to two functions. One deletes a specific item and shifts the remaining items upwards in the item tree. This works fine. The other button is supposed to delete all items in a given item's item array, effectively deleting its child items. Interestingly, the \"delete and shift\" function only works correctly if I use a Subject and Subscription for my service and component. While the \"delete children\" function appears to only work correctly if I do not use a subscription. Instead, it seems to destroy the component instance of the component instance on which I clicked \"delete children\" (this should not happen as I am not deleting this item, merely it's items array), and then rebuild the nested components from the root component. </p>\n\n<p>For example, if I had the following nested item arrays as rendered by my components in the DOM:</p>\n\n<ul>\n<li>item 1\n\n<ul>\n<li>item 2\n\n<ul>\n<li>item 3\n\n<ul>\n<li>item 4</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>and I clicked the Delete Children button on item 3, I would expect onDestroy to be called for item 4, leaving items 1, 2, and 3 untouched, however what it ultimately ends up looking like is this:</p>\n\n<ul>\n<li>item 1\n\n<ul>\n<li>item 1\n\n<ul>\n<li>item 2\n\n<ul>\n<li>item 3</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>What I would hope to ask anyone who is more knowledgeable of Angular 2's lifecycle hooks than I am is 1) Why does the subscription stop the delete children function from working correctly, 2) why does the item tree get rebuilt from the root node whenever I click the Delete Children button, and 3) how do I go about changing my code to fix this problem?</p>\n\n<p><strong>item.model.ts</strong></p>\n\n<pre><code>export class Item{\n  constructor(public id: number, public details: string, public date: Date, public items?: Item[]){}\n}\n</code></pre>\n\n<p><strong>item-list.component.html</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let item of items\"&gt;\n    &lt;ul&gt;\n      &lt;li&gt; {{item.details}}\n        &lt;br&gt;\n        &lt;button (click)=\"onDelete(item.id)\"&gt;Delete&lt;/button&gt;\n        &lt;button (click)=\"onDeleteChildren(item.id)\"&gt;\n          Delete Children&lt;/button&gt;\n         &lt;app-item-list [items]=\"item.items\" *ngIf=\"item.items\"&gt;\n         &lt;/app-item-list&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>item-list.component.ts</strong></p>\n\n<pre><code>  @Input() items: Item[] = [];\n  listSubscription: Subscription;\n  constructor(private list: ListService) {\n    this.items = this.list.getItems();\n    console.log('constructor called');\n    this.listSubscription = this.list.listUpdated.subscribe(\n      (items: Item[]) =&gt; {\n        this.items = items;\n      }\n    );\n  }\n\n  onDelete(index: number) {\n    this.list.deleteItemAndShiftChildren(index);\n  }\n\n  onDeleteChildren(index: number) {\n    this.list.deleteChildItems(index);   \n  }\n</code></pre>\n\n<p><strong>list.service.ts</strong></p>\n\n<pre><code>  deleteChildItems(index: number) {\n    this.recursiveChildDelete(this.items, index);\n    this.listUpdated.next(this.items.slice());\n  }\n\n  deleteItemAndShiftChildren(index: number) {\n    this.recursiveChildShift(this.items, this.items[0], index);\n    this.listUpdated.next(this.items.slice());\n  }\n\n  recursiveChildDelete(items: Item[], index: number) {\n    items.forEach( element =&gt; {\n      if (element.id === index) {\n        if(element.items){\n          element.items = [];\n        }\n      } else if (element.items) {\n        this.recursiveChildDelete(element.items, index);\n      }\n    });\n  }\n\n  recursiveChildShift(items: Item[], oldItem: Item, index: number) {\n    items.forEach( element =&gt; {\n      // if the id of the element to be deleted is found\n      if (element.id === index) {\n      //if the deleted element is the root node\n        if(oldItem==element){\n          if(element.items){\n            this.items = element.items;\n            return;\n          } else {\n            this.items = [];\n            return;\n          }\n        }\n        oldItem.items = element.items;\n        return;\n      } else if (element.items) {\n        oldItem = element;\n        this.recursiveChildShift(element.items, oldItem, index);\n      }\n    });\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 8732608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fwg1A.jpg?s=128&g=1", "display_name": "Scott Reed", "link": "https://stackoverflow.com/users/8732608/scott-reed"}, "is_accepted": true, "score": 1, "last_activity_date": 1528495494, "creation_date": 1528495494, "answer_id": 50768951, "question_id": 50722886, "link": "https://stackoverflow.com/questions/50722886/unserializing-and-serializing-models-for-models-between-backend-and-frontend-an/50768951#50768951", "title": "Unserializing and serializing models for models between backend and frontend (Angular 6)", "body": "<p>I found out that this is possible in Typescript with Declaration Merging.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-merging.html</a></p>\n\n<p>You can have an interface with the same name of a class, which allows you to create a class that automatically implements all of the properties of the interface that it implements.</p>\n\n<pre><code>interface AnswerInterface {\n  id: number;\n  createdAt?: number;\n  updatedAt?: number;\n  inventory: Inventory | number;\n  question: Question | number;\n  user: number;\n  response: number; // 1 = Strongly Disagree, 4 = Strongly Agree\n}\n\nexport interface SerializedAnswer extends AnswerInterface { }\nexport class SerializedAnswer implements AnswerInterface {\n  inventory: number;\n  question: number;\n}\n\nexport interface Answer extends AnswerInterface { }\nexport class Answer implements AnswerInterface {\n    inventory: Inventory;\n    question: Question;\n\n    public constructor(init?: Partial&lt;Answer&gt;) {\n        Object.assign(this, init);\n    }\n\n    serialize(): SerializedAnswer {\n      return Object.assign(this, {\n        question: this.question.id,\n        inventory: this.inventory.id\n      });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 8732608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fwg1A.jpg?s=128&g=1", "display_name": "Scott Reed", "link": "https://stackoverflow.com/users/8732608/scott-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 1, "accepted_answer_id": 50768951, "answer_count": 1, "score": 3, "last_activity_date": 1528495494, "creation_date": 1528295163, "question_id": 50722886, "link": "https://stackoverflow.com/questions/50722886/unserializing-and-serializing-models-for-models-between-backend-and-frontend-an", "title": "Unserializing and serializing models for models between backend and frontend (Angular 6)", "body": "<p>Is there a better way of being able to do this? I want to create a method for every model that I have to serialize it for transport to the backend. </p>\n\n<p>Certain properties will come from the backend into the application in the form of an ID which the frontend will lookup in an object store.</p>\n\n<p>I wanted to have the SerializedAnswer interface be able to have user and question of type number, but I had to create a new parent interface of Answer in order to do that which allows for the multiple types.</p>\n\n<p>What I originally wanted to do was:</p>\n\n<pre><code>interface SerializedAnswer extends Answer {\n  inventory: number;\n  question: number;\n  user: number;\n}\n</code></pre>\n\n<p>This gives the following error:</p>\n\n<pre><code>[ts]\nInterface 'SerializedAnswer' incorrectly extends interface 'Answer'.\nTypes of property 'inventory' are incompatible.\nType 'number' is not assignable to type 'Inventory'.\n</code></pre>\n\n<p>This works but it seems a bit cumbersome and repetitive:</p>\n\n<pre><code>import { User } from './user';\nimport { Question } from './question';\n\ninterface AnswerInterface {\n  id: number;\n  user: User | number;\n  question: Question | number;\n  response: number;\n}\n\ninterface SerializedAnswer extends AnswerInterface {\n  id: number;\n  user: number;\n  question: number;\n  response: number;\n}\n\nclass Answer {\n  id: number;\n  user: User;\n  question: Question;\n  response: number;\n\n  serialize(): SerializedAnswer {\n    return Object.assign(this, {\n      user: this.user.id,\n      question: this.question.id\n    });\n  }\n}\n</code></pre>\n\n<p>I would like to be able to do something like this in a service:</p>\n\n<pre><code>function getAnswer(id: number): Observable&lt;Answer&gt; {\n  this._apiService.get&lt;SerializedAnswer&gt;(['answer', id]).pipe(map(res =&gt; {\n    return new Answer({\n      ...res,\n      ... { user: this._userService.find(res.user) },\n      ... { question: this._questionService.find(res.question) }\n    });\n  }));\n}\n\nfunction saveAnswer(answer: Answer): Observable&lt;Answer&gt; {\n  return this._apiService.post(['answer', 'save'], answer.serialize());\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 8829888, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8vZZsfr5Fnw/AAAAAAAAAAI/AAAAAAAAABQ/F6MCguM1NDc/photo.jpg?sz=128", "display_name": "Neha Bhoi", "link": "https://stackoverflow.com/users/8829888/neha-bhoi"}, "is_accepted": false, "score": 3, "last_activity_date": 1528575014, "creation_date": 1528575014, "answer_id": 50778119, "question_id": 50722593, "link": "https://stackoverflow.com/questions/50722593/angular-material-datepicker-custom-format/50778119#50778119", "title": "Angular material datepicker custom format", "body": "<p>After looking into material datepicker and NativeDateAdapter source code I found the solution for above issue.</p>\n\n<p><strong>modify MyDateAdapter</strong> </p>\n\n<pre><code>import {TranslateService} from '@ngx-translate/core';\nexport class MyDateAdapter  extends NativeDateAdapter {\n    format:string;\n    constructor( private datepipe: DatePipe,  platform: Platform,translate: TranslateService) {\n        super('en', platform);\n        translate.get('dateFormat').subscribe(ts =&gt;{ \n             this.format=dateFormat;\n        });\n    }\n    format(date: Date, displayFormat: Object): string {\n        if (displayFormat === 'input') {\n            return this.datepipe.transform(date, this.format);\n        } else {\n            return date.toDateString();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Add factory function:</strong></p>\n\n<pre><code>export function createDateAdapterLoader (dp: DatePipe,  platform: Platform,ts: TranslateService) {\n  return new MyDateAdapter(dp,  platform, ts);\n}\n</code></pre>\n\n<p><strong>modify Directive:</strong></p>\n\n<pre><code>    import {TranslateService} from '@ngx-translate/core';\n    import {DatePipe} from '@angular/common';\n    import {Platform} from '@angular/cdk/platform';\n    @Directive({\n      selector: '[dateFormat]',\n      providers: [\n        {\n          provide: NG_VALIDATORS,\n          useExisting: DateFormatDirective,\n          multi: true\n        },\n        {\n          provide: DateAdapter,\n          useFactory: createDateAdapterLoader,\n          deps: [DatePipe, Platform ,TranslateService]\n        },\n        {\n          provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS\n        }\n      ]\n    })\n    export class DateFormatDirective {\n      @Input('dateFormat') format: string;\n    }\n</code></pre>\n\n<p>You need to provide DatePipe in AppModule.</p>\n\n<p>This is called Factory provider to create the dependent value dynamically!! <a href=\"https://angular.io/guide/dependency-injection#factory-providers\" rel=\"nofollow noreferrer\">refer</a></p>\n\n<p>To get format value from i18n file you can use any internationalization (i18n) library, eg:<a href=\"https://github.com/ngx-translate/core\" rel=\"nofollow noreferrer\">@ngx-translate</a></p>\n"}], "owner": {"reputation": 121, "user_id": 8829888, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8vZZsfr5Fnw/AAAAAAAAAAI/AAAAAAAAABQ/F6MCguM1NDc/photo.jpg?sz=128", "display_name": "Neha Bhoi", "link": "https://stackoverflow.com/users/8829888/neha-bhoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1553, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528575014, "creation_date": 1528294304, "last_edit_date": 1528450840, "question_id": 50722593, "link": "https://stackoverflow.com/questions/50722593/angular-material-datepicker-custom-format", "title": "Angular material datepicker custom format", "body": "<p>I have created a custom directive to add features to the existing matDatePicker control. This directive has an Input attribute called format which gives date format at run time. I have provided the MyDateAdapter as mention in \n<a href=\"https://stackoverflow.com/questions/44452966/angular-2-material-2-datepicker-date-format\">Angular 2 Material 2 datepicker date format</a> </p>\n\n<p>My question is; how I can set the Input format value to the datepicker date format at run time as an when my value of format get changed.</p>\n\n<p><strong>My Directive:</strong></p>\n\n<pre><code>@Directive({\n  selector: '[dateFormat]',\n  providers: [\n    {\n      provide: NG_VALIDATORS,\n      useExisting: DateFormatDirective,\n      multi: true\n    },\n    {\n      provide: DateAdapter, useClass: MyDateAdapter\n    },\n    {\n      provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS\n    }\n  ]\n})\nexport class DateFormatDirective {\n  @Input('dateFormat') format: string;\n}\n</code></pre>\n\n<p>MyDateAdapter class and  MY_DATE_FORMATS constant  <a href=\"https://stackoverflow.com/questions/44452966/angular-2-material-2-datepicker-date-format\">refer</a></p>\n"}, {"tags": ["angular", "typescript", "angular-forms"], "comments": [{"owner": {"reputation": 1300, "user_id": 7400496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89e1409bdb29a036635f3ea387d74543?s=128&d=identicon&r=PG&f=1", "display_name": "yer", "link": "https://stackoverflow.com/users/7400496/yer"}, "edited": false, "score": 0, "creation_date": 1528294334, "post_id": 50722368, "comment_id": 88453502, "body": "I would use a validator for the input field or number pipe like this -  item.cost_price | number : &#39;1.2-2&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 7569617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29d9279d40662bc273ac502672ffbd52?s=128&d=identicon&r=PG&f=1", "display_name": "ihist", "link": "https://stackoverflow.com/users/7569617/ihist"}, "is_accepted": false, "score": 2, "last_activity_date": 1528295041, "creation_date": 1528295041, "answer_id": 50722838, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5/50722838#50722838", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>I am using <a href=\"https://www.npmjs.com/package/ng2-currency-mask\" rel=\"nofollow noreferrer\">ng2-currency-mask</a>, it is pretty useful. it will help you.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 1552107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/884d291873bfa713ad575e9a66ecd422?s=128&d=identicon&r=PG", "display_name": "xiaobing", "link": "https://stackoverflow.com/users/1552107/xiaobing"}, "edited": false, "score": 1, "creation_date": 1589407607, "post_id": 50723557, "comment_id": 109286645, "body": "it does not work for me. looks like input is only assigned the current character not the whole value."}], "tags": [], "owner": {"reputation": 1379, "user_id": 5689117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcea5aef9c09788f4bc153ae4f7c6b89?s=128&d=identicon&r=PG&f=1", "display_name": "pau", "link": "https://stackoverflow.com/users/5689117/pau"}, "is_accepted": false, "score": 5, "last_activity_date": 1528297159, "creation_date": 1528297159, "answer_id": 50723557, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5/50723557#50723557", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>Easiest way to achieve that would be binding to the \"keypress\" event and validate with a regex expression whether that's a valid input or not.</p>\n\n<pre><code>&lt;input type=\"number\" ... placeholder=\"Cost Price\"  (keypress)=\"validateNumber($event)\" /&gt;\n</code></pre>\n\n<p>And then the <code>validateNumber</code> would be something like:</p>\n\n<pre><code>validateNumber(e: any) {\n    let input = String.fromCharCode(e.charCode);\n    const reg = /^\\d*(?:[.,]\\d{1,2})?$/;\n\n    if (!reg.test(input)) {\n      e.preventDefault();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5134, "user_id": 3492996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/853f44b0d51a51fc3b07a9cc476a30a2?s=128&d=identicon&r=PG&f=1", "display_name": "mrapi", "link": "https://stackoverflow.com/users/3492996/mrapi"}, "edited": false, "score": 1, "creation_date": 1533135004, "post_id": 50736992, "comment_id": 90236990, "body": "hi.this is a good code but found a bug:if user select the existing  2 decimals content with dbl click default behavior is to overwrite the content on a key press,in the above directive will try to append it that calling event.preventDefault() and the control seems like to be readonly"}, {"owner": {"reputation": 165, "user_id": 7449651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6964d17706ce10cc80e980690b2e32?s=128&d=identicon&r=PG&f=1", "display_name": "Gobind Gupta", "link": "https://stackoverflow.com/users/7449651/gobind-gupta"}, "edited": false, "score": 0, "creation_date": 1565076529, "post_id": 50736992, "comment_id": 101227057, "body": "Your answer is working fine but when we try to edit value before decimal, then it is not allowing me to input any number.  @Sanoj_V"}, {"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "reply_to_user": {"reputation": 165, "user_id": 7449651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6964d17706ce10cc80e980690b2e32?s=128&d=identicon&r=PG&f=1", "display_name": "Gobind Gupta", "link": "https://stackoverflow.com/users/7449651/gobind-gupta"}, "edited": false, "score": 0, "creation_date": 1565083686, "post_id": 50736992, "comment_id": 101230690, "body": "@GobindGupta thanx for sharing issue. Now it&#39;s fixed!"}, {"owner": {"reputation": 165, "user_id": 7449651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6964d17706ce10cc80e980690b2e32?s=128&d=identicon&r=PG&f=1", "display_name": "Gobind Gupta", "link": "https://stackoverflow.com/users/7449651/gobind-gupta"}, "edited": false, "score": 0, "creation_date": 1565091116, "post_id": 50736992, "comment_id": 101234566, "body": "Yes it is fixed. Thanks @Sanoj_V"}, {"owner": {"reputation": 155, "user_id": 2481938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec1a7b04bb37aac86dddd004964f0cab?s=128&d=identicon&r=PG", "display_name": "Griffin", "link": "https://stackoverflow.com/users/2481938/griffin"}, "edited": false, "score": 1, "creation_date": 1570027957, "post_id": 50736992, "comment_id": 102786172, "body": "One Improvement I would make is to add a <code>const positionEnd = this.el.nativeElement.selectionEnd;</code> to catch circumstances where the user might be trying to type over a selected range of the input.    Then you can use endPosition for the end slice to cut out the selected characters: <code>const next: string = [current.slice(0, position), event.key == &#39;Decimal&#39; ? &#39;.&#39; : event.key, current.slice(endPosition)].join(&#39;&#39;);</code>.    You can also rename <code>position</code> as <code>startPosition</code> to keep everything consistent."}, {"owner": {"reputation": 125, "user_id": 2810431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9820d61ad638cbd21049d37a2531f911?s=128&d=identicon&r=PG&f=1", "display_name": "Dadasaheb Karande", "link": "https://stackoverflow.com/users/2810431/dadasaheb-karande"}, "edited": false, "score": 0, "creation_date": 1574328379, "post_id": 50736992, "comment_id": 104196532, "body": "Thanks <b>@Griffin</b>, your suggested improvement is useful."}, {"owner": {"reputation": 135, "user_id": 11113835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd7e8e04c871d4bc0ffd4b1cbd447368?s=128&d=identicon&r=PG&f=1", "display_name": "venkatesh karthick", "link": "https://stackoverflow.com/users/11113835/venkatesh-karthick"}, "edited": false, "score": 0, "creation_date": 1594274665, "post_id": 50736992, "comment_id": 111069628, "body": "I found an issue in your code. after typing the values i just wanted to select all by pressing the ctrl+a button but it is not working. try to add this also if possible."}, {"owner": {"reputation": 515, "user_id": 2855804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59edb6e9174b0fcc3d0fd03e51bcff89?s=128&d=identicon&r=PG&f=1", "display_name": "Leonya", "link": "https://stackoverflow.com/users/2855804/leonya"}, "edited": false, "score": 2, "creation_date": 1598629866, "post_id": 50736992, "comment_id": 112531174, "body": "NOTE this doesn&#39;t work for input type=number on chrome anymore"}, {"owner": {"reputation": 196, "user_id": 1668186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4949883a20983732075d7fc34aa65fb?s=128&d=identicon&r=PG", "display_name": "Vikash Dwivedi", "link": "https://stackoverflow.com/users/1668186/vikash-dwivedi"}, "edited": false, "score": 0, "creation_date": 1602057138, "post_id": 50736992, "comment_id": 113595799, "body": "How to restrict user to enter max 10 digit only before decimal and two after decimal?"}, {"owner": {"reputation": 126, "user_id": 2580621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b29a13429ff99f221d345e895fa6b07?s=128&d=identicon&r=PG", "display_name": "user2580621", "link": "https://stackoverflow.com/users/2580621/user2580621"}, "edited": false, "score": 0, "creation_date": 1606921753, "post_id": 50736992, "comment_id": 115110167, "body": "WARNING: With this code you can still input any text if you use a non-keyboard input method, such as voice recognition on a mobile device."}, {"owner": {"reputation": 1722, "user_id": 922929, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/yNc1A.jpg?s=128&g=1", "display_name": "Pawan Pillai", "link": "https://stackoverflow.com/users/922929/pawan-pillai"}, "edited": false, "score": 0, "creation_date": 1614796395, "post_id": 50736992, "comment_id": 117496935, "body": "Why does this not work on type=&quot;number&quot; input fields?"}], "tags": [], "owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "is_accepted": true, "score": 55, "last_activity_date": 1565083766, "last_edit_date": 1565083766, "creation_date": 1528361709, "answer_id": 50736992, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5/50736992#50736992", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>First create Directive for limit the two decimal places in typescript like this:</p>\n\n<pre><code>import { Directive, ElementRef, HostListener } from '@angular/core';\n@Directive({\n  selector: '[appTwoDigitDecimaNumber]'\n})\nexport class TwoDigitDecimaNumberDirective {\n  private regex: RegExp = new RegExp(/^\\d*\\.?\\d{0,2}$/g);\n  private specialKeys: Array&lt;string&gt; = ['Backspace', 'Tab', 'End', 'Home', '-', 'ArrowLeft', 'ArrowRight', 'Del', 'Delete'];\n  constructor(private el: ElementRef) {\n  }\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    console.log(this.el.nativeElement.value);\n    // Allow Backspace, tab, end, and home keys\n    if (this.specialKeys.indexOf(event.key) !== -1) {\n      return;\n    }\n    let current: string = this.el.nativeElement.value;\n    const position = this.el.nativeElement.selectionStart;\n    const next: string = [current.slice(0, position), event.key == 'Decimal' ? '.' : event.key, current.slice(position)].join('');\n    if (next &amp;&amp; !String(next).match(this.regex)) {\n      event.preventDefault();\n    }\n  }\n}\n</code></pre>\n\n<p>Inject Directive in your <code>app.module.ts</code>.\nIn your html use that directive like this:</p>\n\n<pre><code>&lt;input type=\"textbox\" [(ngModel)]=\"InputValue\" appTwoDigitDecimaNumber&gt;\n</code></pre>\n\n<p>Here is working example in Angular 4/5/6:  <a href=\"https://stackblitz.com/edit/limit-two-digit-decimal-place\" rel=\"noreferrer\">Limit Two decimal places number validation</a></p>\n\n<p>Hope this will help you!!!!</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 3803848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43871e2ce2b188d9e9b9f7f844371594?s=128&d=identicon&r=PG&f=1", "display_name": "user3803848", "link": "https://stackoverflow.com/users/3803848/user3803848"}, "is_accepted": false, "score": 4, "last_activity_date": 1538142408, "creation_date": 1538142408, "answer_id": 52556788, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5/52556788#52556788", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>Answer provided by @Sanoj_V can be improved:</p>\n\n<p>1) you cannot use the arrow keys to edit the number, you can just add digits at the end or you have to click where you want to change the number.</p>\n\n<p>2) once you have two decimals inserted you can only use backspace so either removing the last decimal or clicking somewhere else and removing a digit, but you cannot add anything so you can't change a digit by replacing it.</p>\n\n<p>To solve that just replace : <code>private specialKeys: Array&lt;string&gt; = ['Backspace', 'Tab', 'End', 'Home', '-'];</code></p>\n\n<p>by:  <code>private specialKeys: Array&lt;string&gt; = ['Backspace', 'Tab', 'End', 'Home', '-', 'ArrowLeft', 'ArrowRight'];</code></p>\n\n<p>Then replace: <code>let next: string = current.concat(event.key);</code></p>\n\n<p>by: <code>const next: string = [current.slice(0, position), event.key, current.slice(position)].join('');</code></p>\n\n<p>then add this line just above: <code>const position = this.el.nativeElement.selectionStart;</code></p>\n\n<p>Thanks @Sanoj_V for this directive, I've spent all day trying to figure out how to deal with currencies input.</p>\n"}, {"tags": [], "owner": {"reputation": 4330, "user_id": 5736236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UHJW49zI260/AAAAAAAAAAI/AAAAAAAAAqs/QeHB6Qr5kMI/photo.jpg?sz=128", "display_name": "Kamil Naja", "link": "https://stackoverflow.com/users/5736236/kamil-naja"}, "is_accepted": false, "score": 4, "last_activity_date": 1552428589, "last_edit_date": 1552428589, "creation_date": 1552085097, "answer_id": 55072025, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5/55072025#55072025", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>@Sanoj_v and user3803848 solution works great, but there is one more bug in IE. When user uses dot sign from numeric keyboard, there is emitted 'Decimal' key event and directive not work properly.</p>\n\n<p>Fix for this:</p>\n\n<pre><code>    const next: string = [current.slice(0, position), event.key === 'Decimal' ? '.' : event.key, current.slice(position)].join('');\n</code></pre>\n\n<p>Just in case, I added '.' and ',' char to regex, that checks user input.</p>\n\n<p>Below whole directive</p>\n\n<pre><code>@Directive({\n  selector: '[appTwoDigitDecimalNumber]',\n})\nexport class TwoDigitDecimaNumberDirective {\n  private regex: RegExp = new RegExp(/^\\d+[.,]?\\d{0,2}$/g);// user can put . or , char.\n// input also cannot start from , or .\n  private specialKeys: Array&lt;string&gt; = ['Backspace', 'Tab', 'End', 'Home', '-', 'ArrowLeft', 'ArrowRight', 'Del', 'Delete'];\n\n  constructor(private el: ElementRef) {\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    if (this.specialKeys.includes(event.key)) {\n      return;\n    }\n    const current: string = this.el.nativeElement.value;\n    const position = this.el.nativeElement.selectionStart;\n    const next: string = [current.slice(0, position), event.key == 'Decimal' ? '.' : event.key, current.slice(position)].join('');\n    if (next &amp;&amp; !String(next).match(this.regex)) {\n      event.preventDefault();\n    }\n  }\n}\n</code></pre>\n\n<p>You should remember, that is still possible to paste some wrong data into input. That's why, you probably need one more validation, maybe on Input event to prevent pasting wrong data.</p>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 5284448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebeea986c5fbab2a9ecb566e7b0fee7?s=128&d=identicon&r=PG&f=1", "display_name": "Brijesh Ray", "link": "https://stackoverflow.com/users/5284448/brijesh-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1563775850, "last_edit_date": 1563775850, "creation_date": 1563167328, "answer_id": 57033528, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5/57033528#57033528", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>Below coding is to make textbox to allow numeric field with two decimal places(above two decimal places will give warning),without using regex:</p>\n\n<p>abc.component.html:</p>\n\n<pre><code>&lt;div &gt;\n                                &lt;input class=\"\" type=\"text\" [(ngModel)]=\"\" value=\"\" (keyup)=\"\" [disabled]=\"\" (keypress)=\"numberOnly($event)\"&gt;\n                                &lt;span class=\"d-block ml-2\"&gt;NumericBox(two decimal places)&lt;/span&gt;\n                            &lt;/div&gt;\n</code></pre>\n\n<p>abc.component.ts:</p>\n\n<p>public dotCount:number=0;</p>\n\n<pre><code>numberOnly(event): boolean {          \n    const charCode = (event.which) ? event.which : event.keyCode;      \n    if (charCode == 46) {\n        this.dotCount += 1;\n        this.checkNumberOnly = (event.target.value);\n        var numericCheck = (event.target.value).toString();\n        if (numericCheck.includes('.')) {\n            this.dotCount += 1;\n        }\n        if (this.dotCount &gt; 1) {   \n            this.dotCount = 0;\n            return false;\n        }\n    }\n    if (charCode &gt; 31 &amp;&amp; (charCode &lt; 45 || charCode &gt; 57 || charCode==47)) {\n        return false;\n    }\n    this.checkNumberOnly = (event.target.value);\n    if (this.checkNumberOnly != null) {\n        var numeric = (event.target.value).toString();\n        if (numeric.includes('.')) {\n            var checkNumeric = numeric.split('.');\n            if (checkNumeric.length &gt; 2) {\n                return false;\n            }\n            this.checkString = checkNumeric[1].split('');\n            if (this.checkString.length &gt; 1) {\n                this.toastrService.warning(\"Invalid value\", \"Warning\");\n                return false;\n            }\n        }\n\n    }\n    this.dotCount = 0;\n    this.cdr.detectChanges();\n    return true;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1588, "user_id": 723334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Yoz09.jpg?s=128&g=1", "display_name": "prajeesh", "link": "https://stackoverflow.com/users/723334/prajeesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58550, "favorite_count": 7, "accepted_answer_id": 50736992, "answer_count": 6, "score": 15, "last_activity_date": 1565560754, "creation_date": 1528293665, "last_edit_date": 1565560754, "question_id": 50722368, "link": "https://stackoverflow.com/questions/50722368/limit-input-field-to-two-decimal-places-angular-5", "title": "Limit input field to two decimal places - Angular 5", "body": "<p>The code is as follows </p>\n\n<pre><code>&lt;input type=\"number\" class=\"form-control\" value=\"\" name=\"cost_price\" #name=\"ngModel\" [(ngModel)]=\"item.cost_price\" placeholder=\"Cost Price\"  /&gt;\n</code></pre>\n\n<p>User should not be able to type more that 2 decimal places. </p>\n\n<p>For example, if the user wants to enter 21.256. He should be only allowed to enter 21.25</p>\n\n<p>How to achieve this using angular 5?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "edited": false, "score": 0, "creation_date": 1528307985, "post_id": 50722324, "comment_id": 88461719, "body": "Do you mean if you get the parameter that was executed before, you don&#39;t want to exectute it again, right?  How long time you don&#39;t want to re-run again?"}, {"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "reply_to_user": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "edited": false, "score": 0, "creation_date": 1528313002, "post_id": 50722324, "comment_id": 88464133, "body": "exactly. I added a example for further clarification. 50-75ms"}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1528392435, "post_id": 50722324, "comment_id": 88501569, "body": "I have updated my answer to include a possible solution."}, {"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528448050, "post_id": 50722324, "comment_id": 88521395, "body": "awesome thanks. will have a look if I can apply this to my example."}], "answers": [{"comments": [{"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528361686, "post_id": 50736154, "comment_id": 88481360, "body": "thanks for your answer. why does every call create a new subject? the subject itself ist just created once in the beginning? but if i add one stream per id how do I actually combine them in the end? I need some sort of &quot;single stream&quot; to be able to do this or am I wrong?"}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "reply_to_user": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528362549, "post_id": 50736154, "comment_id": 88481967, "body": "@NicolasGehlert  wrote <i>&quot;a new observable based on the subject&quot;</i>, not <i>&quot; a new subject&quot;</i>. I assumed you wanted to group requests with the same id. If that&#39;s not the case then you want one observable per time slot, but that&#39;s still one observable per &quot;unit&quot; as opposed to one subject only."}, {"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528362658, "post_id": 50736154, "comment_id": 88482047, "body": "ah ok. yeah that makes more sense. yeah not the same id. but different ids into the same request. and how do I create &quot;an observable per time slot&quot; ? (without creating a timer)"}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "reply_to_user": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528363484, "post_id": 50736154, "comment_id": 88482662, "body": "@NicolasGehlert Good question. It&#39;s generally possible with the <code>windowTime</code> operator, but I&#39;m not sure it&#39;s a good fit here. If you don&#39;t want a timer you can store the last time a new observable has been created and create a new one if necessary. But a timer is actually a good idea as it&#39;s the only way to reliably complete a stream."}, {"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528372576, "post_id": 50736154, "comment_id": 88488555, "body": "ok yeah a timer probably makes sense. but still the question is how to I achieve this. First function call, start timer, second call check if timer is running, combine observables, start new timer... and I don&#39;t want to have an interval that is running the entire time in the background and pools every x seconds. This is a waste of memory I guess"}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "reply_to_user": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528372944, "post_id": 50736154, "comment_id": 88488802, "body": "@NicolasGehlert An interval is much more efficient than anything else. I&#39;ll try to update the answer with a possible solution later this day."}, {"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528379776, "post_id": 50736154, "comment_id": 88493705, "body": "highly appreciate your answer. but isn&#39;t it weird to have a interval running the entire time, even if you just really need it once every 10 minutes? if you add a couple of those they&#39;ll block unneeded memory."}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "reply_to_user": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "edited": false, "score": 0, "creation_date": 1528389960, "post_id": 50736154, "comment_id": 88500369, "body": "@NicolasGehlert Rest assured that it consumes less memory than a <code>Subject</code> ^^"}], "tags": [], "owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1528392388, "last_edit_date": 1528392388, "creation_date": 1528359331, "answer_id": 50736154, "question_id": 50722324, "link": "https://stackoverflow.com/questions/50722324/observable-combine-multiple-function-calls-into-single-observable/50736154#50736154", "title": "Observable combine multiple function calls into single Observable", "body": "<pre><code>this.makeRequest(1).subscribe();\n\nprivate makeRequest(number: number) {\n  this.values.next(number);\n  return this.idObservable.pipe(\n</code></pre>\n\n<p>You emit the value before you subscribe -> The value gets lost.</p>\n\n<pre><code>private values: Subject = new Subject();\nprivate idObservable = this.values.pipe(\n\nprivate makeRequest(number: number) {\n  this.values.next(number);\n  return this.idObservable.pipe(    \n</code></pre>\n\n<p>Every call creates a new observable based on the subject. Whenever you emit a value, <strong>all</strong> subscribers receive the value.</p>\n\n<p>A possible solution could look something like this (I'm using the new rxjs syntax here):</p>\n\n<pre><code>subject: Subject&lt;String&gt; = null;\nobservable = null;\nwindow = 100;\n\nconstructor() {\n  this.subject = null;\n  this.window = 100;\n\n  this.makeRequest('1').subscribe(console.log)\n  this.makeRequest('2').subscribe(console.log)\n  setTimeout(() =&gt; {\n    this.makeRequest('3').subscribe(console.log)\n  }, 1000)\n}\n\nprivate makeRequest(id: string) {\n  if (!this.subject) {\n    this.subject = new ReplaySubject()\n    this.observable = this.subject.pipe(\n      takeUntil(timer(this.window).pipe(take(1))),\n      reduce((url, id, index) =&gt; this.combine(url, id), baseUrl),\n      flatMap(url =&gt; this.request(url)),\n      tap(() =&gt; this.subject = null),\n      share()\n    )\n  }      \n\n  this.subject.next(id);\n  return this.observable;\n}  \n</code></pre>\n\n<p>Where <code>combine</code> creates the url and <code>request</code> makes the actual request.</p>\n"}, {"tags": [], "owner": {"reputation": 696, "user_id": 707037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6651b114f1604bbe53d46c558c12397a?s=128&d=identicon&r=PG", "display_name": "DNJohnson", "link": "https://stackoverflow.com/users/707037/dnjohnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1558743936, "creation_date": 1558743936, "answer_id": 56300761, "question_id": 50722324, "link": "https://stackoverflow.com/questions/50722324/observable-combine-multiple-function-calls-into-single-observable/56300761#56300761", "title": "Observable combine multiple function calls into single Observable", "body": "<p>Rxjs is quite good at handling this kind of case. You'll need two different Subjects:</p>\n\n<ol>\n<li>One will be used to collect and combine all requests</li>\n<li>The second will be used for subscribing to results</li>\n</ol>\n\n<p>When a request is made, the value will be pushed onto the first subject but the second will be returned, abstracting away the internal logic of combining requests.</p>\n\n<pre><code>private values: Subject = new Subject();\nprivate results: Subject = new Subject();\n\nprivate makeRequest(number: number) {\n  this.values.next(number);\n  return this.results;\n}\n</code></pre>\n\n<p>The pipeline for merging the requests could be a <code>buffer</code> and <code>debounceTime</code> as indicated in the question or other logic, as required. When a response is recieved, it just needs to be pushed onto the results Subject:</p>\n\n<pre><code>constructor(private http: HttpClient) {\n  this.values\n    .pipe(\n      buffer(this.values.pipe(debounceTime(1000))),\n      switchMap(values =&gt; this.getUrl(values)),\n      map(response =&gt; this.results.next(response)))\n    .subscribe();\n}\n</code></pre>\n\n<p>I've used a <code>switchMap</code> to simulate an asynchronous request before pushing the response onto the results.</p>\n\n<p>Full example here: <a href=\"https://angular-8yyvku.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-8yyvku.stackblitz.io</a></p>\n"}], "owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1274, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1558743936, "creation_date": 1528293523, "last_edit_date": 1528312980, "question_id": 50722324, "link": "https://stackoverflow.com/questions/50722324/observable-combine-multiple-function-calls-into-single-observable", "title": "Observable combine multiple function calls into single Observable", "body": "<p>I have a function that does an http request based on a parameter. And I want to add some kind of \"debounce\" functionality. So if the function gets called multiple times in a set time window, I want to combine the parameters into one request instead of making multiple requests.</p>\n\n<p>I want to achieve this with Observables and in Angular. This does not sound that complicated, however I'm not able to get it running, maybe I'm missing something.</p>\n\n<p>For now let's just skip the combining in a single request as this can be done with an aggregated debounce or a Oberservable.buffer. I have trouble combining the single Observables.</p>\n\n<p>Here's what I've tried so far.</p>\n\n<p>I tried using a Subject, as this seemed to be the proper object for this case (<a href=\"https://stackblitz.com/edit/angular-hcn41v?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-hcn41v?file=src%2Fapp%2Fapp.component.ts</a>).</p>\n\n<pre><code>constructor(private http: HttpClient) {\n  this.makeRequest('1').subscribe(x =&gt; console.log(x))\n  this.makeRequest('2').subscribe(console.log)\n  setTimeout(() =&gt; {\n    this.makeRequest('3').subscribe(console.log)\n  }, 1000)\n}\n\nprivate makeRequest(id: string) {\n  this.observable = this.observable.pipe(\n    merge(Observable.of(id).pipe(delay(1)))\n  )\n  return this.aggregateDebounce(this.observable)\n}\n\nprivate getUrl(value) {\n  console.log('getUrl Call', value);\n  return 'https://jsonplaceholder.typicode.com/posts/1';\n}\n\nprivate aggregateDebounce(ob$) {\n  const shared$ = ob$.publishReplay(1).refCount()\n  return shared$.buffer(shared$.debounceTime(75))\n}\n</code></pre>\n\n<p>I expect to have one 'getUrl Call' log for each function call and one result log. However I only get results if I add more than 1 calls to this.makeRequest() and the result is also weird. All previous values are always returned as well. I think I don't fully understand how Subject works in this case.</p>\n\n<p>Another approach (taken from here <a href=\"https://stackoverflow.com/questions/35720339/rxjs-aggregated-debounce\">RXJS: Aggregated debounce</a>) was to create some sort of aggregate debounce (<a href=\"https://stackblitz.com/edit/angular-mx232d?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mx232d?file=src/app/app.component.ts</a>)</p>\n\n<pre><code>constructor(private http: HttpClient) {\n  this.makeRequest('1').subscribe(x =&gt; console.log(x))\n  this.makeRequest('2').subscribe(console.log)\n  setTimeout(() =&gt; {\n    this.makeRequest('3').subscribe(console.log)\n  }, 1000)\n}\n\nprivate makeRequest(id: string) {\n  this.observable = this.observable.pipe(\n    merge(Observable.of(id).pipe(delay(1)))\n  )\n  return this.aggregateDebounce(this.observable)\n}\n\nprivate getUrl(value) {\n  console.log('getUrl Call', value);\n  return 'https://jsonplaceholder.typicode.com/posts/1';\n}\n\nprivate aggregateDebounce(ob$) {\n  const shared$ = ob$.publishReplay(1).refCount()\n  return shared$.buffer(shared$.debounceTime(75))\n}\n</code></pre>\n\n<p>In this scenario I have the problem I'm also getting all previous values as well.</p>\n\n<p>In theory (at least to me) both variants sounded plausible, however it seems like I'm missing something. Any wink in the right direction is highly appreciated. </p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>As requested I added the final real-world goal.</p>\n\n<p>Imagine a service that requests information from an API. Within 50-75ms you call the service with a certain id. I want to group those ids together to a single request instead of doing 3. And if 100ms later another call to the service is made, a new request will be done</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 2, "creation_date": 1528293406, "post_id": 50722209, "comment_id": 88452867, "body": "The only possible error I see is the missing <code>let</code> keyword before the <code>profile</code> var and some missing semicolons. The rest of the code seems OK to me... please consider to provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> if possible in order to reproduce the possible error. This way, it&#39;s more likely volunteers on SO can help you."}, {"owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "edited": false, "score": 1, "creation_date": 1528293604, "post_id": 50722209, "comment_id": 88452995, "body": "Also be sure to write what you were expecting to happen. After the fixes, the above code is valid TypeScript, so what do you mean by &quot;nothing happening&quot; -- what did you expect to happen? And what do you mean by &quot;no error&quot; -- what kind of error did you expect?"}, {"owner": {"reputation": 463, "user_id": 3843967, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/v3V4B.jpg?s=128&g=1", "display_name": "Berk Akkerman", "link": "https://stackoverflow.com/users/3843967/berk-akkerman"}, "edited": false, "score": 0, "creation_date": 1528294315, "post_id": 50722209, "comment_id": 88453487, "body": "it works fine. I just added <code>var</code> before profile. I am using Typescript 2.5.3 maybe it is about the version."}, {"owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "edited": false, "score": 0, "creation_date": 1528295415, "post_id": 50722209, "comment_id": 88454250, "body": "it works, thanks a lot"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1528297962, "creation_date": 1528297962, "answer_id": 50723865, "question_id": 50722209, "link": "https://stackoverflow.com/questions/50722209/how-to-push-a-new-key-value-pair-in-typescript/50723865#50723865", "title": "how to push a new key value pair in typescript", "body": "<p>The code in your question is largely correct, here is a full working example:</p>\n\n<pre><code>const profile = {\n    \"RouteID\": \"B76F77922EF83A4EE04024921F591A6F\",\n    \"Name\": \"3019998FALCON\",\n    \"rName\": \"KILGORE REMOVED\"\n}\n\nprofile[\"userID\"] = \"jzket\";\n\n// Works everywhere\nconsole.log(profile[\"userID\"]);\n\n// Works, but violates the type information available here\nconsole.log(profile.userID);\n</code></pre>\n\n<p>You'll notice that the type system will complain about the latter usage, because <code>userID</code> isn't part of the type inferred for <code>profile</code>.</p>\n\n<p>You can either stick with the first example (<code>profile['userID']</code>) or provide a bit more type information:</p>\n\n<pre><code>interface Profile {\n    RouteID: string;\n    Name: string;\n    rName: string;\n    userID?: string;\n}\n\nconst profile: Profile = {\n    \"RouteID\": \"B76F77922EF83A4EE04024921F591A6F\",\n    \"Name\": \"3019998FALCON\",\n    \"rName\": \"KILGORE REMOVED\"\n}\n\nprofile[\"userID\"] = \"jzket\";\n\n// Works everywhere\nconsole.log(profile[\"userID\"]);\n\n// Works, but violates the type information available here\nconsole.log(profile.userID);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1062, "user_id": 7138366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zD2M.png?s=128&g=1", "display_name": "Marko Savic", "link": "https://stackoverflow.com/users/7138366/marko-savic"}, "is_accepted": false, "score": 0, "last_activity_date": 1528398057, "creation_date": 1528398057, "answer_id": 50748472, "question_id": 50722209, "link": "https://stackoverflow.com/questions/50722209/how-to-push-a-new-key-value-pair-in-typescript/50748472#50748472", "title": "how to push a new key value pair in typescript", "body": "<p>I totally agree with @Fenton. Maybe a little bit better approach is to add a new <em>key</em> / <em>value</em> pair with:</p>\n\n<p><code>Object.assign</code> like this:</p>\n\n<pre><code>const newProfile = Object.assign(profile, { userID: \"jzket\" });\n</code></pre>\n\n<p>Or with <code>Spread Syntax</code>:</p>\n\n<pre><code>const newProfile = ({...profile, userID: \"jzket\" });\n</code></pre>\n\n<p><strong>JSFiddle</strong> example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const profile = {\r\n  \"ruteID\":\"B76F77922EF83A4EE04024921F591A6F\",\r\n  \"Name\":\"3019998FALCON\",\r\n  \"rName\":\"KILGORE REMOVED\",\r\n};\r\n\r\n// With object assign\r\nconst exampleOne = Object.assign(profile, { userID: \"jzket\" });\r\n\r\n// With spread syntax\r\nconst exampleTwo = ({...profile, userID: \"jzket\" })\r\n\r\nconsole.log(exampleOne);\r\nconsole.log(exampleTwo);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Useful links:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">Spread Syntax</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Object Assign</a></p>\n"}], "owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 50723865, "answer_count": 2, "score": 0, "last_activity_date": 1528398057, "creation_date": 1528293181, "last_edit_date": 1528295395, "question_id": 50722209, "link": "https://stackoverflow.com/questions/50722209/how-to-push-a-new-key-value-pair-in-typescript", "title": "how to push a new key value pair in typescript", "body": "<p>Hi I want to push a new key value pair an existing in TypeScript, I tried below step but nothing happening and no error please help</p>\n\n<pre><code> profile = {\"RouteID\":\"B76F77922EF83A4EE04024921F591A6F\",\"Name\":\"3019998FALCON\",\"rName\":\"KILGORE REMOVED\"}\n\nlet newvalue = \"jzket\"\nprofile[\"userID\"] = newvalue\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "treeview", "angular-tree-component"], "comments": [{"owner": {"reputation": 421, "user_id": 1223119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BQHj.jpg?s=128&g=1", "display_name": "Wouter van Vegchel", "link": "https://stackoverflow.com/users/1223119/wouter-van-vegchel"}, "edited": false, "score": 0, "creation_date": 1528293258, "post_id": 50722184, "comment_id": 88452776, "body": "In your component you are using template and you commented-out templateUrl. Any specific reason?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1528301729, "post_id": 50722184, "comment_id": 88458366, "body": "your are using incorrect selector .. check my answer"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "edited": false, "score": 0, "creation_date": 1528361684, "post_id": 50725023, "comment_id": 88481355, "body": "Thank you for feedback really appreciated. I did use the TreeViewComponent in my html, but still no tree unfortunately. All i get is the label My Tree View."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "edited": false, "score": 0, "creation_date": 1528368922, "post_id": 50725023, "comment_id": 88486307, "body": "did you check the error in console? can you post your HTML that you are using now? what are <code>[nodes]=&quot;Items&quot; </code> here ?"}, {"owner": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "edited": false, "score": 0, "creation_date": 1528447006, "post_id": 50725023, "comment_id": 88520899, "body": "Hi so i manage to get everything working in a new project. How would i go about making the tree clickable with the mouse and not just the keyboard , thanks."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "edited": false, "score": 0, "creation_date": 1528479906, "post_id": 50725023, "comment_id": 88539408, "body": "@MarcVanDeSandt there are some issues with the CSS and also remove [focused]=&quot;true&quot;"}, {"owner": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "edited": false, "score": 0, "creation_date": 1529061938, "post_id": 50725023, "comment_id": 88750607, "body": "Hi , i have yet another issue now, but this is when i try to apply this to my works project. I get  zone.js:958 GET <a href=\"http://localhost:50400/angular-tree-component\" rel=\"nofollow noreferrer\">localhost:50400/angular-tree-component</a> 404 (Not Found) Error: Fetch error: 404 Not Found I dont have an app.component but every component now has its own module file."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "edited": false, "score": 0, "creation_date": 1529076351, "post_id": 50725023, "comment_id": 88759175, "body": "@MarcVanDeSandt this looks like a routing issue ... please post a separate question with your routing file."}], "tags": [], "owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "is_accepted": false, "score": 2, "last_activity_date": 1528301639, "creation_date": 1528301639, "answer_id": 50725023, "question_id": 50722184, "link": "https://stackoverflow.com/questions/50722184/angular-tree-component-not-displaying-any-nodes/50725023#50725023", "title": "Angular-tree-component not displaying any nodes", "body": "<p>you are not using the correct selector of the component in the HTML. as your selector name is - <code>'TreeViewComponent'</code> you should use it like below -</p>\n\n<pre><code>&lt;div class=\"angular-tree-component\"&gt;\n    My Tree View\n    &lt;TreeViewComponent&gt;&lt;/TreeViewComponent&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the code for <code>TreeViewComponent</code>  -</p>\n\n<pre><code>import { Component, OnInit, OnDestroy, NgModule, } from '@angular/core';\nimport { TreeModule } from 'angular-tree-component';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/distinctUntilChanged';\n\n\n@Component({\n    selector: 'TreeViewComponent',\n    template: '&lt;tree-root [nodes]=\"nodes\" [focused]=\"true\" [options]=\"options\"&gt;&lt;/tree-root&gt;',\n    styles:[`.tree-children.tree-children-no-padding { padding-left: 0 }\n.tree-children { padding-left: 20px; overflow: hidden }\n.node-drop-slot { display: block; height: 2px }\n.node-drop-slot.is-dragging-over { background: #ddffee; height: 20px; border: 2px dotted #888; }\n.toggle-children-wrapper-expanded .toggle-children { transform: rotate(90deg) }\n.toggle-children-wrapper-collapsed .toggle-children { transform: rotate(0); }\n.toggle-children-wrapper {\n  padding: 2px 3px 5px 1px;\n}\n/* tslint:disable */\n.toggle-children {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYzRkRFQjcxODUzNTExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYzRkRFQjcwODUzNTExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+5iogFwAAAGhJREFUeNpiYGBgKABigf///zOQg0EARH4A4gZyDIIZ8B/JoAJKDIDhB0CcQIkBRBtEyABkgxwoMQCGD6AbRKoBGAYxQgXIBRuZGKgAKPIC3QLxArnRSHZCIjspk52ZKMrOFBUoAAEGAKnq593MQAZtAAAAAElFTkSuQmCC');\n  height: 8px;\n  width: 9px;\n  background-size: contain;\n  display: inline-block;\n  position: relative;\n  top: 1px;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.toggle-children-placeholder {\n  display: inline-block;\n  height: 10px;\n  width: 10px;\n  position: relative;\n  top: 1px;\n  padding-right: 3px;\n}\n.node-content-wrapper {\n  display: inline-block;\n  padding: 2px 5px;\n  border-radius: 2px;\n  transition: background-color .15s,box-shadow .15s;\n}\n.node-wrapper {display: flex; align-items: flex-start;}\n.node-content-wrapper-active,\n.node-content-wrapper.node-content-wrapper-active:hover,\n.node-content-wrapper-active.node-content-wrapper-focused {\n  background: #beebff;\n}\n.node-content-wrapper-focused { background: #e7f4f9 }\n.node-content-wrapper:hover { background: #f7fbff }\n.node-content-wrapper-active, .node-content-wrapper-focused, .node-content-wrapper:hover {\n  box-shadow: inset 0 0 1px #999;\n}\n.node-content-wrapper.is-dragging-over { background: #ddffee; box-shadow: inset 0 0 1px #999; }\n.node-content-wrapper.is-dragging-over-disabled { opacity: 0.5 }\n\ntree-viewport {\n  -webkit-tap-highlight-color: transparent;\n  height: 100%;\n  overflow: auto;\n  display: block;\n}\n.tree-children { padding-left: 20px }\n.empty-tree-drop-slot .node-drop-slot { height: 20px; min-width: 100px }\n.angular-tree-component {\n  width: 100%;\n  position:relative;\n  display: inline-block;\n  cursor: pointer;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none;   /* Chrome/Safari/Opera */\n  -khtml-user-select: none;    /* Konqueror */\n  -moz-user-select: none;      /* Firefox */\n  -ms-user-select: none;       /* IE/Edge */\n  user-select: none;           /* non-prefixed version, currently not supported by any browser */\n}\n\ntree-root .angular-tree-component-rtl {\n  direction: rtl;\n}\ntree-root .angular-tree-component-rtl .toggle-children-wrapper-collapsed .toggle-children {\n  transform: rotate(180deg) !important;\n}\ntree-root .angular-tree-component-rtl .tree-children {\n  padding-right: 20px;\n  padding-left: 0;\n}\n\ntree-node-checkbox {\n  padding: 1px;\n}`]\n\n})\n\n\n\nexport class TreeViewComponent {\n    nodes = [\n        {\n            id: 1,\n            name: 'root1',\n            children: [\n                { id: 2, name: 'child1' },\n                { id: 3, name: 'child2' }\n            ]\n        },\n        {\n            id: 4,\n            name: 'root2',\n            children: [\n                { id: 5, name: 'child2.1' },\n                {\n                    id: 6,\n                    name: 'child2.2',\n                    children: [\n                        { id: 7, name: 'subsub' }\n                    ]\n                }\n            ]\n        },\n        {\n            id: 8,\n            name: 'root3',\n            children: [\n                { id: 9, name: 'child1' }\n            ]\n        }\n    ];\n    options = {};\n}\n</code></pre>\n\n<p>Here is the complete <strong>app.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { TreeModule } from 'angular-tree-component';\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport {TreeViewComponent} from \"./treeview.component\"\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule,TreeModule ],\n  declarations: [ AppComponent, HelloComponent,TreeViewComponent ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>As you have set <code>[focused]=\"true\"</code> in the template like below </p>\n\n<pre><code>&lt;tree-root [nodes]=\"nodes\" [focused]=\"true\" [options]=\"options\"&gt;&lt;/tree-root&gt;\n</code></pre>\n\n<p>The children nodes can be opened only by keyboard keys.</p>\n\n<p>Here is a working demo : </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular4-kgl5cj?file=app%2Ftreeview.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular4-kgl5cj?file=app%2Ftreeview.component.ts</a> </p>\n"}], "owner": {"reputation": 71, "user_id": 8339381, "user_type": "registered", "profile_image": "https://graph.facebook.com/447057945677946/picture?type=large", "display_name": "Marc Van De Sandt", "link": "https://stackoverflow.com/users/8339381/marc-van-de-sandt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3722, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1558459135, "creation_date": 1528293090, "last_edit_date": 1558459135, "question_id": 50722184, "link": "https://stackoverflow.com/questions/50722184/angular-tree-component-not-displaying-any-nodes", "title": "Angular-tree-component not displaying any nodes", "body": "<p>I am very new to Angular and web development in general.</p>\n\n<p>All I want is for the TreeView to show the nodes \"Root1\" and \"Root2\".\nAt the moment, all I get is the label \"My Tree View\". I am trying to implement the angular2-tree library. The problem is most likely in my HTML. Thanks for any feedback.</p>\n\n<p>Documentation: \n<a href=\"https://angular2-tree.readme.io/docs/getting-started\" rel=\"nofollow noreferrer\">https://angular2-tree.readme.io/docs/getting-started</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, OnDestroy, NgModule, } from '@angular/core';\r\nimport { TreeViewService, } from './tree-view.service';\r\nimport { TreeModule } from 'angular-tree-component';\r\n\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\n\r\n@NgModule({\r\n    imports: [TreeModule],\r\n    \r\n})\r\n\r\n@Component({\r\n    selector: 'TreeViewComponent',\r\n    template: '&lt;tree-root [focused] = \"true\" [nodes]=\"nodes\"&gt;&lt;/tree-root&gt;'\r\n        \r\n    //templateUrl: './tree-view.component.html',\r\n    //styleUrls: ['./tree-view.component.css']\r\n})\r\n\r\n\r\n\r\nexport class TreeViewComponent {\r\n    nodes = [\r\n        {\r\n            id: 1,\r\n            name: 'root1',\r\n            children: [\r\n                { id: 2, name: 'child1' },\r\n                { id: 3, name: 'child2' }\r\n            ]\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'root2',\r\n            children: [\r\n                { id: 5, name: 'child2.1' },\r\n                {\r\n                    id: 6,\r\n                    name: 'child2.2',\r\n                    children: [\r\n                        { id: 7, name: 'subsub' }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ];\r\n    options = {};\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tree-children.tree-children-no-padding { padding-left: 0 }\r\n.tree-children { padding-left: 20px; overflow: hidden }\r\n.node-drop-slot { display: block; height: 2px }\r\n.node-drop-slot.is-dragging-over { background: #ddffee; height: 20px; border: 2px dotted #888; }\r\n.toggle-children-wrapper-expanded .toggle-children { transform: rotate(90deg) }\r\n.toggle-children-wrapper-collapsed .toggle-children { transform: rotate(0); }\r\n.toggle-children-wrapper {\r\n  padding: 2px 3px 5px 1px;\r\n}\r\n/* tslint:disable */\r\n.toggle-children {\r\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYzRkRFQjcxODUzNTExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYzRkRFQjcwODUzNTExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+5iogFwAAAGhJREFUeNpiYGBgKABigf///zOQg0EARH4A4gZyDIIZ8B/JoAJKDIDhB0CcQIkBRBtEyABkgxwoMQCGD6AbRKoBGAYxQgXIBRuZGKgAKPIC3QLxArnRSHZCIjspk52ZKMrOFBUoAAEGAKnq593MQAZtAAAAAElFTkSuQmCC');\r\n  height: 8px;\r\n  width: 9px;\r\n  background-size: contain;\r\n  display: inline-block;\r\n  position: relative;\r\n  top: 1px;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.toggle-children-placeholder {\r\n  display: inline-block;\r\n  height: 10px;\r\n  width: 10px;\r\n  position: relative;\r\n  top: 1px;\r\n  padding-right: 3px;\r\n}\r\n.node-content-wrapper {\r\n  display: inline-block;\r\n  padding: 2px 5px;\r\n  border-radius: 2px;\r\n  transition: background-color .15s,box-shadow .15s;\r\n}\r\n.node-wrapper {display: flex; align-items: flex-start;}\r\n.node-content-wrapper-active,\r\n.node-content-wrapper.node-content-wrapper-active:hover,\r\n.node-content-wrapper-active.node-content-wrapper-focused {\r\n  background: #beebff;\r\n}\r\n.node-content-wrapper-focused { background: #e7f4f9 }\r\n.node-content-wrapper:hover { background: #f7fbff }\r\n.node-content-wrapper-active, .node-content-wrapper-focused, .node-content-wrapper:hover {\r\n  box-shadow: inset 0 0 1px #999;\r\n}\r\n.node-content-wrapper.is-dragging-over { background: #ddffee; box-shadow: inset 0 0 1px #999; }\r\n.node-content-wrapper.is-dragging-over-disabled { opacity: 0.5 }\r\n\r\ntree-viewport {\r\n  -webkit-tap-highlight-color: transparent;\r\n  height: 100%;\r\n  overflow: auto;\r\n  display: block;\r\n}\r\n.tree-children { padding-left: 20px }\r\n.empty-tree-drop-slot .node-drop-slot { height: 20px; min-width: 100px }\r\n.angular-tree-component {\r\n  width: 100%;\r\n  position:relative;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n  -webkit-user-select: none;   /* Chrome/Safari/Opera */\r\n  -khtml-user-select: none;    /* Konqueror */\r\n  -moz-user-select: none;      /* Firefox */\r\n  -ms-user-select: none;       /* IE/Edge */\r\n  user-select: none;           /* non-prefixed version, currently not supported by any browser */\r\n}\r\n\r\ntree-root .angular-tree-component-rtl {\r\n  direction: rtl;\r\n}\r\ntree-root .angular-tree-component-rtl .toggle-children-wrapper-collapsed .toggle-children {\r\n  transform: rotate(180deg) !important;\r\n}\r\ntree-root .angular-tree-component-rtl .tree-children {\r\n  padding-right: 20px;\r\n  padding-left: 0;\r\n}\r\n\r\ntree-node-checkbox {\r\n  padding: 1px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"angular-tree-component\"&gt;\r\n    My Tree View\r\n    &lt;tree-root class=\"panel-body \" [nodes]=\"Items\" [options]=\"options\"&gt;\r\n    &lt;/tree-root&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "ngfor"], "comments": [{"owner": {"reputation": 1122, "user_id": 1746812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46236a54ad89409e65b7fb0e7f6fa299?s=128&d=identicon&r=PG", "display_name": "Birju Shah", "link": "https://stackoverflow.com/users/1746812/birju-shah"}, "edited": false, "score": 0, "creation_date": 1528292527, "post_id": 50721930, "comment_id": 88452285, "body": "In case if you haven&#39;t noted you are storing data in clientsData and iterating over clientsData1"}, {"owner": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "reply_to_user": {"reputation": 1122, "user_id": 1746812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46236a54ad89409e65b7fb0e7f6fa299?s=128&d=identicon&r=PG", "display_name": "Birju Shah", "link": "https://stackoverflow.com/users/1746812/birju-shah"}, "edited": false, "score": 0, "creation_date": 1528292778, "post_id": 50721930, "comment_id": 88452465, "body": "Yes Birju, and I&#39;ve left it that way on purpose as an example of a way I&#39;m being able to update DOM with data. Anyway I&#39;ll edit it so no one else gets confused."}], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "edited": false, "score": 0, "creation_date": 1528293152, "post_id": 50722090, "comment_id": 88452710, "body": "Thank you very much for your quick response Kraken. I did modifications on code to match your suggestion but when I click the button nothing really happens."}, {"owner": {"reputation": 1565, "user_id": 6911789, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b017bdbd9e4fc01e91c21bdc89371d0a?s=128&d=identicon&r=PG&f=1", "display_name": "Kraken", "link": "https://stackoverflow.com/users/6911789/kraken"}, "reply_to_user": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "edited": false, "score": 1, "creation_date": 1528294061, "post_id": 50722090, "comment_id": 88453312, "body": "Yes for sure i didn&#39;t notice that you got <code>public clientsData : string;</code> change type to any"}, {"owner": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "edited": false, "score": 0, "creation_date": 1528294880, "post_id": 50722090, "comment_id": 88453892, "body": "Thanks for all the efforts guys. I know I&#39;m quite close thanks to your help but yet no luck. If I &quot;manually&quot; create the variable clientsData in getItems() this way: this.clientsData = [{&#39;id&#39;: 2}, {&#39;id&#39;: 4}, {&#39;id&#39;: 6}]; in the html I can see dom updated with data but api returns json in a slightly different way so maybe this is the problem? This is the api url: <a href=\"http://www.mocky.io/v2/5808862710000087232b75ac\" rel=\"nofollow noreferrer\">mocky.io/v2/5808862710000087232b75ac</a>"}, {"owner": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "edited": false, "score": 0, "creation_date": 1528296007, "post_id": 50722090, "comment_id": 88454671, "body": "Thank you very much Kraken, your new comment is ok but I&#39;m sure the problem now is with the json format the api is returning, is not [{},{},...] but {&quot;clients&quot;: [{}, {}, ...]} so maybe I need to extract the clients node or maybe instead of writting {{client?.id}} I should write something slightly different."}, {"owner": {"reputation": 1565, "user_id": 6911789, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b017bdbd9e4fc01e91c21bdc89371d0a?s=128&d=identicon&r=PG&f=1", "display_name": "Kraken", "link": "https://stackoverflow.com/users/6911789/kraken"}, "reply_to_user": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "edited": false, "score": 0, "creation_date": 1528296102, "post_id": 50722090, "comment_id": 88454729, "body": "so ipdata.clients or ipdata.clientsJson.clients, you need an array, you can;t iterate though object via ngFor"}, {"owner": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "edited": false, "score": 0, "creation_date": 1528299701, "post_id": 50722090, "comment_id": 88457187, "body": "Ok @Kraken, I&#39;ve finally done it and your help was the key because you pointed me in the right direction from the beginning. In my case class IPData is useless (have taken it from another example) so the final key was remove IPData class, return Observable&lt;string&gt; in getItems and return res.json().clients in extractData. I&#39;ll mark your answer as correct and thanks for your valuable help."}], "tags": [], "owner": {"reputation": 1565, "user_id": 6911789, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b017bdbd9e4fc01e91c21bdc89371d0a?s=128&d=identicon&r=PG&f=1", "display_name": "Kraken", "link": "https://stackoverflow.com/users/6911789/kraken"}, "is_accepted": true, "score": 4, "last_activity_date": 1528294937, "last_edit_date": 1528294937, "creation_date": 1528292755, "answer_id": 50722090, "question_id": 50721930, "link": "https://stackoverflow.com/questions/50721930/angular-2-filling-an-html-table-with-ngfor-when-data-is-get-from-api/50722090#50722090", "title": "Angular 2+ filling an html table with ngFor when data is get from api", "body": "<p>Firstly this is bad practice to use any DOM manipulation in your TS files. You can add click event handler like this</p>\n\n<pre><code>&lt;button (click)='getItemsSubscription()'&gt;Get Clients&lt;/button&gt;\n</code></pre>\n\n<p>and to iterate trough array that are not present from the moment when component are created you need to use ngFor like this</p>\n\n<pre><code> &lt;tbody *ngFor=\"let client of clientsData\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;{{client?.id}}&lt;/td&gt;\n        &lt;/tr&gt;\n &lt;/tbody\n</code></pre>\n\n<p>with a quote mark on client. Quote mark means that you will get your data rendered when you will have it on you component lexical environment, or won't render it at all.</p>\n\n<p>And one more thing if you want to call data with a button click. When you calling to a function you are not subscribing to it, so you need to wrap it up and do something like this </p>\n\n<pre><code>  getItemsSubscription() {\n       this.getItems().subscribe(\n              ipdata =&gt; this.clientsData = ipdata.clientsJson\n        }\n  }\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 2807741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fe6a68b3da76695474102296b68da199?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perez", "link": "https://stackoverflow.com/users/2807741/diego-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3500, "favorite_count": 0, "accepted_answer_id": 50722090, "answer_count": 1, "score": 2, "last_activity_date": 1528294937, "creation_date": 1528292275, "last_edit_date": 1528292879, "question_id": 50721930, "link": "https://stackoverflow.com/questions/50721930/angular-2-filling-an-html-table-with-ngfor-when-data-is-get-from-api", "title": "Angular 2+ filling an html table with ngFor when data is get from api", "body": "<p>I'm quite new to Angular so although I'm trying to accomplish something I guess it's not difficult I'm stuck and need your help.</p>\n\n<p>What I need to do is to fill an html table with clients data on button click and after data is received from an api call.</p>\n\n<p>I'm being able to display \"fixed\" data with ngFor if I define it as a public property of the TypeScript class as seen with clientsData1 (I leave it as an example), but cannot bind ngFor to variable containing json result (clientsData) changes.</p>\n\n<p>In short, what I'm trying to do is when I click button I launch getItems method and as soon as getItems has a result I need to update the table.</p>\n\n<p>This is my TypeScript class:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport { Injectable }     from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable }     from 'rxjs/Observable';\n\nimport 'rxjs/add/observable/throw';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\n@Component({\n  selector: 'demo-app',\n  templateUrl: 'app/views/app.component.html'\n})\nexport class AppComponent {\n  public clientsData : string;\n  private clientsUrl : string = 'http://www.mocky.io/v2/5808862710000087232b75ac';\n  public clientsData1 : any = [{'id': 1}, {'id': 3}, {'id': 5}];\n  constructor (private http: Http) { }\n  ngOnInit() {\n    let btnGetClients = document.getElementById(\"btnGetClients\");\n    btnGetClients.addEventListener(\"click\", (e:Event) =&gt; this.getItems()\n        .subscribe(\n          ipdata =&gt; this.clientsData = ipdata.clientsJson\n        ));\n  }  \n  getItems(): Observable&lt;IPData&gt; {    \n        return this.http.get(this.clientsUrl)\n                        .map(this.extractData);\n  }\n  extractData(res: Response) {\n    return res.json();\n  }\n}\nclass IPData {\n  public clientsJson : string;\n}\n</code></pre>\n\n<p>And this is the html template:</p>\n\n<pre><code>&lt;h1&gt;Insurance App&lt;/h1&gt;\n&lt;hr /&gt;\n&lt;button id=\"btnGetClients\"&gt;Get Clients&lt;/button&gt;\n&lt;br/&gt;&lt;br/&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n        &lt;th&gt;Id&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n        &lt;th&gt;Role&lt;/th&gt;\n    &lt;/thead&gt;\n    &lt;tbody *ngFor=\"let client of clientsData\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;{{client.id}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Any help will be much appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["reactjs", "typescript", "axios"], "answers": [{"comments": [{"owner": {"reputation": 11708, "user_id": 2024590, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ixKgZ.jpg?s=128&g=1", "display_name": "Hinrich", "link": "https://stackoverflow.com/users/2024590/hinrich"}, "reply_to_user": {"reputation": 23, "user_id": 9899296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1921d394c07f9495372268a1af94703?s=128&d=identicon&r=PG&f=1", "display_name": "MeatballMan", "link": "https://stackoverflow.com/users/9899296/meatballman"}, "edited": false, "score": 0, "creation_date": 1528292589, "post_id": 50721888, "comment_id": 88452335, "body": "I guess this is wrong <code>&lt;MoviesList data={this.state.moviesList} &#47;&gt;</code> Make sure to pass the right props and in the render, check if props are filled before rendering."}, {"owner": {"reputation": 23, "user_id": 9899296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1921d394c07f9495372268a1af94703?s=128&d=identicon&r=PG&f=1", "display_name": "MeatballMan", "link": "https://stackoverflow.com/users/9899296/meatballman"}, "edited": false, "score": 0, "creation_date": 1528295977, "post_id": 50721888, "comment_id": 88454648, "body": "So, after some tinkering i seem to keep coming back to the same error about the .map part of the code  {this.state.movie &amp;&amp; this.state.movie.results.map(movie =&gt; (      ... ))} i get this error in chrome: TypeError: Cannot read property &#39;map&#39; of undefined"}], "tags": [], "owner": {"reputation": 11708, "user_id": 2024590, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ixKgZ.jpg?s=128&g=1", "display_name": "Hinrich", "link": "https://stackoverflow.com/users/2024590/hinrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1528292466, "last_edit_date": 1528292466, "creation_date": 1528292162, "answer_id": 50721888, "question_id": 50721783, "link": "https://stackoverflow.com/questions/50721783/unhandled-rejection-typeerror-this-state-movie-map-is-not-a-function/50721888#50721888", "title": "Unhandled Rejection (TypeError): this.state.movie.map is not a function", "body": "<p><code>response.data</code> is actually not an array, but an object. Change your api call to this:</p>\n\n<pre><code>this.setState(\n  loading: false,\n  movie: response.data.results // results is the array you are looking for.\n});\n</code></pre>\n\n<p>Or, maybe better, map over results in render function:</p>\n\n<pre><code>{this.state.movie &amp;&amp; this.state.movie.results.map(movie =&gt; ( \n    ...\n))}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9899296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1921d394c07f9495372268a1af94703?s=128&d=identicon&r=PG&f=1", "display_name": "MeatballMan", "link": "https://stackoverflow.com/users/9899296/meatballman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528301985, "creation_date": 1528291881, "last_edit_date": 1528301985, "question_id": 50721783, "link": "https://stackoverflow.com/questions/50721783/unhandled-rejection-typeerror-this-state-movie-map-is-not-a-function", "title": "Unhandled Rejection (TypeError): this.state.movie.map is not a function", "body": "<p>After hours, multiple searches and trying to correct my code on my own, i cannot get this working or find any clear documentation on my specific issue. Any help will be much appreciated!</p>\n\n<p>I'm trying to make a movie rating app and i've gotten almost to the end. However, what i'm trying to do now is to display my information from the API. I have a separate component \"SearchForm.tsx\" that handles the search-field that is called in app.tsx after the API call as \" + SearchForm \" which is supposed to equal the query for the API. When i try to input text and hit return i get stuck at the: <h3>\"unhandled Rejection (TypeError): this.state.movie.map is not a function\".</h3> <h3>The issue occurs in my App.tsx file at line 46 and 27. </h3></p>\n\n<h2>API Example:</h2>\n\n<p>Here's where i'm trying to display \"<a href=\"https://api.themoviedb.org/3/search/movie?api_key=58db259ec7d41d210fee1d1dc69b6fca&amp;query=home\" rel=\"nofollow noreferrer\">https://api.themoviedb.org/3/search/movie?api_key=58db259ec7d41d210fee1d1dc69b6fca&amp;query=home</a>\"</p>\n\n<h1>App.tsx</h1>\n\n<pre><code>import axios from \"axios\";\nimport * as React from \"react\";\nimport \"./App.css\";\nimport MoviesList from \"./Components/MoviesList\";\nimport SearchForm from \"./Components/SearchForm\";\n\nexport default class App extends React.Component&lt;any, any&gt; {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      loading: true,\n      movie: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  public handleSubmit(value: any) {\n    // const searchInput = value; // you get the value of movieName input here\n\n    const sortByPop = \"&amp;sort_by=popularity.desc\";\n    const requestUrl =\n      \"https://api.themoviedb.org/3/search/movie?api_key=58db259ec7d41d210fee1d1dc69b6fca&amp;query=\" +\n      SearchForm +\n      sortByPop;\n\n    return axios.get(requestUrl).then(response =&gt; {\n[27]err this.setState(\n        loading: false,\n        movie: response.data\n      });\n      // tslint:disable-next-line:no-console\n      console.log(response.data);\n    });\n  }\n\n  public render() {\n    return (\n      &lt;div&gt;\n        &lt;div className=\"main-header\"&gt;\n          &lt;div className=\"inner\"&gt;\n            &lt;h1 className=\"main-title\"&gt;Playpilot Assignment&lt;/h1&gt;\n            &lt;SearchForm onSubmit={this.handleSubmit} /&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div className=\"main-content\"&gt;\n[46]err   {this.state.movie.map(movie =&gt; ( \n            &lt;div className=\"movieTitle\"&gt;\n              &lt;div className=\"movieCard\"&gt;\n                &lt;img\n                  className=\"posterImg\"\n                  src={`https://image.tmdb.org/t/p/w185_and_h278_bestv2/${\n                    movie.poster_path\n                  }`}\n                  alt={movie.title}\n                /&gt;\n                &lt;div className=\"searchFilmTitles\" key={movie.id}&gt;\n                  {movie.title}\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          ))}\n          {this.state.loading ? (\n            &lt;h2&gt;Loading...&lt;/h2&gt;\n          ) : (\n            &lt;MoviesList data={this.state.moviesList} /&gt;\n          )}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<h1>SearchForm.tsx</h1>\n\n<pre><code>import * as React from \"react\";\n\nexport default class SearchForm extends React.Component&lt;any, any&gt; {\n  public value: HTMLInputElement | null;\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      movie: []\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  public handleChange(event: any) {\n    this.setState({ value: event.target.value });\n  }\n\n  public handleSubmit(event: any) {\n    event.preventDefault();\n    if (this.props.onSubmit &amp;&amp; typeof this.props.onSubmit === \"function\") {\n      this.props.onSubmit(this.state.value);\n    }\n  }\n\n  public render() {\n    return (\n      &lt;form className=\"search-form\" onSubmit={this.handleSubmit}&gt;\n        &lt;label className=\"is-hidden\" htmlFor=\"search\"&gt;\n          Search\n        &lt;/label&gt;\n        &lt;input\n          type=\"search\"\n          onChange={this.handleChange}\n          name=\"search\"\n          ref={input =&gt; (this.value = input)}\n          placeholder=\"Search...\"\n        /&gt;\n        &lt;button type=\"submit\" id=\"submit\" className=\"search-button\"&gt;\n          &lt;i className=\"material-icons icn-search\" /&gt;\n        &lt;/button&gt;\n      &lt;/form&gt;\n    );\n  }\n}\n</code></pre>\n\n<h1>MoviesList.tsx</h1>\n\n<pre><code>import * as React from \"react\";\nimport Movie from \"./Movie\";\n\nconst MoviesList = (props: any) =&gt; {\n  const results = props.data;\n  let movie: any;\n[7]err  if (results.data) {\n    // tslint:disable-next-line:no-shadowed-variable\n    movie = results.map((movie: any) =&gt; (\n      &lt;Movie url={props.url} key={movie.id} /&gt;\n    ));\n  } else {\n    movie = &lt;h1&gt;404: No movies found.&lt;/h1&gt;;\n  }\n\n  return &lt;ul className=\"movie-list\"&gt;{movie}&lt;/ul&gt;;\n};\n\nexport default MoviesList;\n</code></pre>\n\n<h2>Again, thank you for any help!</h2>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 21257, "user_id": 3783478, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fMtGE.jpg?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/3783478/rajesh"}, "edited": false, "score": 0, "creation_date": 1528291142, "post_id": 50721430, "comment_id": 88451251, "body": "Try this <code>interface IInnerObj { [key: string]: number} interface IouterObj { things: IInnerObj }</code>"}, {"owner": {"reputation": 361, "user_id": 1530871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i3OSP.jpg?s=128&g=1", "display_name": "scetiner", "link": "https://stackoverflow.com/users/1530871/scetiner"}, "edited": false, "score": 0, "creation_date": 1528291176, "post_id": 50721430, "comment_id": 88451274, "body": "if not necessary, keep your &quot;things&quot; object as  things: any"}, {"owner": {"reputation": 21526, "user_id": 448144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23669428cf9bb71de32f413006ff784d?s=128&d=identicon&r=PG&f=1", "display_name": "Nope", "link": "https://stackoverflow.com/users/448144/nope"}, "edited": false, "score": 0, "creation_date": 1528291261, "post_id": 50721430, "comment_id": 88451335, "body": "I think you might be looking for generics. <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\"><b>TypeScript Generics</b></a>"}, {"owner": {"reputation": 892, "user_id": 5504356, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2rwS5.png?s=128&g=1", "display_name": "juan garcia", "link": "https://stackoverflow.com/users/5504356/juan-garcia"}, "edited": false, "score": 0, "creation_date": 1528291497, "post_id": 50721430, "comment_id": 88451513, "body": "... after doing some tries this one represented the JSON: type Response&lt;T&gt; = { [key: string]: { [key: string]: T } }"}], "answers": [{"comments": [{"owner": {"reputation": 892, "user_id": 5504356, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2rwS5.png?s=128&g=1", "display_name": "juan garcia", "link": "https://stackoverflow.com/users/5504356/juan-garcia"}, "edited": false, "score": 1, "creation_date": 1528291744, "post_id": 50721570, "comment_id": 88451708, "body": "This is also possible: type Response&lt;T&gt; = { [key: string]: { [key: string]: T } , the solution you present also solves the problem"}, {"owner": {"reputation": 10808, "user_id": 5723098, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7SKfC.jpg?s=128&g=1", "display_name": "Harshal Patil", "link": "https://stackoverflow.com/users/5723098/harshal-patil"}, "reply_to_user": {"reputation": 892, "user_id": 5504356, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2rwS5.png?s=128&g=1", "display_name": "juan garcia", "link": "https://stackoverflow.com/users/5504356/juan-garcia"}, "edited": false, "score": 0, "creation_date": 1528292897, "post_id": 50721570, "comment_id": 88452532, "body": "Yes. Indeed. Just that is it a common practice to prefer interfaces over type aliases when defining the shape of an object. Type aliases are used to create aliases, union types, partials, etc."}], "tags": [], "owner": {"reputation": 10808, "user_id": 5723098, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7SKfC.jpg?s=128&g=1", "display_name": "Harshal Patil", "link": "https://stackoverflow.com/users/5723098/harshal-patil"}, "is_accepted": true, "score": 5, "last_activity_date": 1528291295, "creation_date": 1528291295, "answer_id": 50721570, "question_id": 50721430, "link": "https://stackoverflow.com/questions/50721430/how-to-define-a-type-of-typescript-with-a-variable-number-of-keys/50721570#50721570", "title": "How to define a type of typescript with a variable number of keys?", "body": "<p>This should work:</p>\n\n<pre><code>interface Response&lt;T&gt; {\n\n    things: {\n        [key: string]: T;\n    };\n}\n</code></pre>\n\n<p>If you have certain keys fixed like <code>a</code>, you can do:</p>\n\n<pre><code>interface Response&lt;T, R&gt; {\n\n    things: {\n        // fixed keys\n        a: R;\n        // some more fixed keys.\n\n        [key: string]: T;\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 892, "user_id": 5504356, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2rwS5.png?s=128&g=1", "display_name": "juan garcia", "link": "https://stackoverflow.com/users/5504356/juan-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 50721570, "answer_count": 1, "score": 0, "last_activity_date": 1528291321, "creation_date": 1528290926, "question_id": 50721430, "link": "https://stackoverflow.com/questions/50721430/how-to-define-a-type-of-typescript-with-a-variable-number-of-keys", "title": "How to define a type of typescript with a variable number of keys?", "body": "<p>I have the following case I don't know exactly how to express in typescript:</p>\n\n<pre><code>{\n  \"things\": {\n    \"a\": 11,\n    \"b\": 22,\n    .\n    .\n    .\n  }\n}\n</code></pre>\n\n<p>Then I would like to define something like:</p>\n\n<pre><code>type Response&lt;T&gt; = { [_: string]: T }\n</code></pre>\n\n<p>So the type above represents any response with a key and a certain value of type T, but I will have many keys like stated in the json, \"a\" \"b\"... and I don't find the type for it.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "edited": false, "score": 0, "creation_date": 1528291409, "post_id": 50721283, "comment_id": 88451454, "body": "You want to call once when all the subscribe is done?  Or call every time when each of the subscribe is done?"}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "reply_to_user": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "edited": false, "score": 0, "creation_date": 1528291544, "post_id": 50721283, "comment_id": 88451551, "body": "when all subscribe are done"}, {"owner": {"reputation": 4122, "user_id": 5119765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca110abbbe4d7ed8cd9ff564de4e8024?s=128&d=identicon&r=PG&f=1", "display_name": "ADreNaLiNe-DJ", "link": "https://stackoverflow.com/users/5119765/adrenaline-dj"}, "edited": false, "score": 0, "creation_date": 1528291680, "post_id": 50721283, "comment_id": 88451663, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48583940/angular-5-rxjs-wait-for-all-subscription\">Angular 5 &amp; Rxjs: Wait for all subscription</a>"}], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1528291758, "creation_date": 1528291758, "answer_id": 50721736, "question_id": 50721283, "link": "https://stackoverflow.com/questions/50721283/waiting-observable-subscribe-inside-foreach-to-end/50721736#50721736", "title": "waiting observable subscribe inside foreach to end", "body": "<p>In RxJS 5 it could look like this. In RxJS 6 just replace <code>Observable.forkJoin</code> with <code>forkJoin</code>.</p>\n\n<pre><code>const observables = [];\n\nthis.cliente.coberturas.forEach(cobertura =&gt; {\n  // just create the Observable here but don't subscribe yet\n  observables.push(this._dataService.ObterSimulacao(...));\n});\n\nObservable.forkJoin(observables)\n  .subscribe(results =&gt; this.calcularSimulacao());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1528302328, "post_id": 50722721, "comment_id": 88458682, "body": "doesnt really work, the second foreach needs to be inside the first one, each cobertura runs the second block of code and adds an array of MovimentosProjetados =/"}, {"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "reply_to_user": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1528305420, "post_id": 50722721, "comment_id": 88460310, "body": "@DanielBezerraDeMenezes Which RxJS version do you use?"}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1528305470, "post_id": 50722721, "comment_id": 88460338, "body": "5.5 is it any relevant?"}, {"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "reply_to_user": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1528305935, "post_id": 50722721, "comment_id": 88460583, "body": "@DanielBezerraDeMenezes I&#39;ve been updated my answer.  Would you take a try?"}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 1, "creation_date": 1528307323, "post_id": 50722721, "comment_id": 88461366, "body": "Nice!!!!!!!!! works exacly how i needed, i really need to improve my rxjs skills, if u have any recomendation on where to search for material to study i would appreaciate, thanks for you time man! have a nice day."}], "tags": [], "owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "is_accepted": true, "score": 4, "last_activity_date": 1528305909, "last_edit_date": 1528305909, "creation_date": 1528294678, "answer_id": 50722721, "question_id": 50721283, "link": "https://stackoverflow.com/questions/50721283/waiting-observable-subscribe-inside-foreach-to-end/50722721#50722721", "title": "waiting observable subscribe inside foreach to end", "body": "<p>You can try using <code>forkJoin</code> with <code>onCompleted</code> callback.  See below:</p>\n\n<pre><code>calculaSimulacoesPorInscricao() {\n    let lista = [\n        '2019-01-01',\n        '2020-02-02',\n        '2021-01-01',\n        '2022-01-01',\n        '2023-01-01'\n    ];\n    let all_obs = [];\n    this.cliente.coberturas.forEach(cobertura =&gt; {\n        cobertura.MovimentosProjetados = [];\n        all_obs.push(\n            this._dataService.ObterSimulacao(cobertura.codigoInscricao, lista).pipe(\n                map(\n                    (data: any[]) =&gt; {\n                        data[0].simulacaoRentabilidadeEntities.forEach(simulacao =&gt; {\n                            let movimento = {\n                                dataMovimento: '',\n                                valor: 1,\n                                imposto: 1,\n                                percentualCarregamento: 1,\n                                fundoCotacao: []\n                            };\n                            movimento.dataMovimento = simulacao.anoRentabilidade;\n                            movimento.imposto =\n                                cobertura.totalFundos *\n                                simulacao.demonstrativo.demonstrativo[0].aliquota;\n                            movimento.percentualCarregamento =\n                                simulacao.valorPercentualCarregamento *\n                                (cobertura.totalFundos +\n                                    cobertura.totalFundos * simulacao.percentualRentabilidade);\n                            movimento.valor =\n                                cobertura.totalFundos +\n                                cobertura.totalFundos * simulacao.percentualRentabilidade;\n                            cobertura.MovimentosProjetados.push(movimento);\n                        });\n                    })\n            )\n        );\n    });\n\n    forkJoin(all_obs).subscribe(\n        undefined,\n        undefined,\n        () =&gt; {\n            this.calcularSimulacao();\n        }\n    );\n}\n</code></pre>\n\n<p>Just remember to import <code>forkJoin</code> if you're using RxJS 6.</p>\n\n<pre><code>import { forkJoin } from 'rxjs';\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5736, "favorite_count": 2, "accepted_answer_id": 50722721, "answer_count": 2, "score": 1, "last_activity_date": 1528305909, "creation_date": 1528290584, "last_edit_date": 1528291564, "question_id": 50721283, "link": "https://stackoverflow.com/questions/50721283/waiting-observable-subscribe-inside-foreach-to-end", "title": "waiting observable subscribe inside foreach to end", "body": "<p>Im iterating over an array of objects and for each iteration i run a observable.subscribe, how can i ensure that the all the subscribes were completed, so i can call another function?</p>\n\n<p>this is the function </p>\n\n<pre><code>calculaSimulacoesPorInscricao(){\n    let lista = [\"2019-01-01\",\"2020-02-02\",\"2021-01-01\",\"2022-01-01\",\"2023-01-01\"];\n    this.cliente.coberturas.forEach(cobertura =&gt; {\n      cobertura.MovimentosProjetados = [];\n      this._dataService.ObterSimulacao(cobertura.codigoInscricao,lista)\n      .subscribe((data:any[])=&gt;{\n        data[0].simulacaoRentabilidadeEntities.forEach(simulacao =&gt;{ \n          let movimento = {\n            dataMovimento: '',\n            valor: 1,\n            imposto: 1,\n            percentualCarregamento: 1,\n            fundoCotacao: []\n          };         \n        movimento.dataMovimento = simulacao.anoRentabilidade;\n        movimento.imposto = cobertura.totalFundos * simulacao.demonstrativo.demonstrativo[0].aliquota;\n        movimento.percentualCarregamento = simulacao.valorPercentualCarregamento * (cobertura.totalFundos + (cobertura.totalFundos * simulacao.percentualRentabilidade));\n        movimento.valor = cobertura.totalFundos + (cobertura.totalFundos * simulacao.percentualRentabilidade);\n        cobertura.MovimentosProjetados.push(movimento);\n        });\n      })\n    });\n    this.calcularSimulacao();\n\n  }\n</code></pre>\n\n<p>i need to call calcularSimulacao() after all subscribe inside the coberturas.foreach is done. Any tips?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1528292434, "post_id": 50721250, "comment_id": 88452211, "body": "... wait, isn&#39;t <code>id</code> a <code>number</code>?  How would it equal the string <code>&quot;filter&quot;</code>?"}, {"owner": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1528298034, "post_id": 50721250, "comment_id": 88456040, "body": "It&#39;s the DOM element ID."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1528298478, "post_id": 50721250, "comment_id": 88456355, "body": "Okay, makes sense"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1528298552, "post_id": 50721250, "comment_id": 88456405, "body": "Still, if your error is <code>Argument of type &#39;{[x: number]: any;}...</code>, it implies that TypeScript thinks <code>event.target.id</code> is a <code>number</code>.  Are you sure about that error message?"}], "answers": [{"comments": [{"owner": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "edited": false, "score": 1, "creation_date": 1528336698, "post_id": 50724087, "comment_id": 88471765, "body": "Thanks Fenton, that was really helpful, as well as the blogpost. It took me forward but I&#39;m still having a problem. The state is strongly typed and it now gives me: Argument of type &#39;{ [x: string]: any; }&#39; is not assignable to parameter of type &#39;PlayerListState  \u2026   Type &#39;{ [x: string]: any; }&#39; is not assignable to type &#39;Pick&lt;PlayerListState, &quot;id&quot; | &quot;filter&quot; | &quot;redirect&quot; | &quot;player&quot;&gt;&#39;  It&#39;s accurate that I should be passing in a string with one of those four values to the React component state. Is there a way for me to typecheck this similar to what you already showed me?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "edited": false, "score": 0, "creation_date": 1528359571, "post_id": 50724087, "comment_id": 88480016, "body": "I might need to see the types <code>Pick</code> and <code>PlayerListState</code> to answer that one."}, {"owner": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "edited": false, "score": 0, "creation_date": 1528372459, "post_id": 50724087, "comment_id": 88488487, "body": "I&#39;ve updated the question with what I hope is helpful info @Fenton"}, {"owner": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "edited": false, "score": 0, "creation_date": 1528387454, "post_id": 50724087, "comment_id": 88499058, "body": "Also, Pick is defined as part of TypeScript: <a href=\"https://medium.com/@curtistatewilkinson/typescript-2-1-and-the-power-of-pick-ff433f1e6fb\" rel=\"nofollow noreferrer\">medium.com/@curtistatewilkinson/&hellip;</a>"}, {"owner": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "edited": false, "score": 0, "creation_date": 1528486167, "post_id": 50724087, "comment_id": 88541903, "body": "Marking this as resolved since you got me over the original hump. I&#39;m dropping back down to TypeScript 2.8 as there seem to be some rough edges as of now with React. Thanks again..."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1528298634, "creation_date": 1528298634, "answer_id": 50724087, "question_id": 50721250, "link": "https://stackoverflow.com/questions/50721250/typescript-2-9-error-with-dynamic-assignment/50724087#50724087", "title": "Typescript 2.9 error with dynamic assignment", "body": "<p>I tend to belt-and-braces my element types when there is chance they won't be what I expect.</p>\n\n<p>Here is an example adapted from <a href=\"https://www.stevefenton.co.uk/2018/01/embracing-typescript-strict-mode/\" rel=\"nofollow noreferrer\">this blog post on narrowing types</a>.</p>\n\n<pre><code>function isInputElement(target: EventTarget | any): target is HTMLInputElement {\n  if (!target) {\n    return false;\n  }\n\n  return (target.tagName &amp;&amp; target.tagName === 'INPUT')\n}\n\n// Note: Arbitrary element selection to make the demo complete :)\ndocument.getElementById('filter').onload = (e) =&gt; {\n    const target = e.target;\n\n    if (!isInputElement(target)) {\n        return;\n    }\n\n    if (target.id == 'filter') {\n        this.setState({ [target.id]: target.value });\n    }\n}\n</code></pre>\n\n<p>Within the type guard, you can throw an exception, log a message, or take whatever action is needed when the event target isn't actually an INPUT element.</p>\n"}], "owner": {"reputation": 3938, "user_id": 561817, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8d9678dc54492f4711c46bb0e0e35718?s=128&d=identicon&r=PG&f=1", "display_name": "BenjiFB", "link": "https://stackoverflow.com/users/561817/benjifb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 50724087, "answer_count": 1, "score": 2, "last_activity_date": 1528372377, "creation_date": 1528290517, "last_edit_date": 1528372377, "question_id": 50721250, "link": "https://stackoverflow.com/questions/50721250/typescript-2-9-error-with-dynamic-assignment", "title": "Typescript 2.9 error with dynamic assignment", "body": "<p>With this code:</p>\n\n<pre><code>else if (event.target.id == 'filter') {\n            this.setState({ [event.target.id]: event.target.value });\n</code></pre>\n\n<p>I get this typescript error:\nTS2345 TypeScript (TS) Argument of type '{ [x: number]: any; }' is not assignable to parameter of type '{ id: number; redirect: boolean; filter: string; player: Player; } | ((prevState: Reado...'.' \u2026</p>\n\n<p>But if I instead do this:</p>\n\n<pre><code>else if (event.target.id == 'filter') {\n            this.setState({ filter: event.target.value });\n</code></pre>\n\n<p>there's no error. Despite the error, the code runs fine. I think this started with TypeScript 2.9. I realize I can just use the second example, but I have other code like:</p>\n\n<pre><code>handleChange(event) {\n        if (event.target.type == 'checkbox') {\n            this.setState({ [event.target.id]: event.target.checked });\n        } else {\n            this.setState({ [event.target.id]: event.target.value });\n        }\n    }\n</code></pre>\n\n<p>which is useful. Is there a better way to do this in TypeScript 2.9?</p>\n\n<p>Update: also relevant:</p>\n\n<pre><code>type PlayerListState = {\n    id: number,\n    redirect: boolean,\n    filter: string,\n    player: GamePlayer\n};\n\nclass PlayerListComponent extends React.Component&lt;PlayerListProps, PlayerListState&gt; {\n</code></pre>\n\n<p>and the type definition of SetState from React:</p>\n\n<pre><code>    setState&lt;K extends keyof S&gt;(\n        state: ((prevState: Readonly&lt;S&gt;, props: P) =&gt; (Pick&lt;S, K&gt; | S | null)) | (Pick&lt;S, K&gt; | S | null),\n        callback?: () =&gt; void\n    ): void;\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 1876, "user_id": 644634, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4b70b55e2d68092c62a214e81609edcb?s=128&d=identicon&r=PG", "display_name": "Austin France", "link": "https://stackoverflow.com/users/644634/austin-france"}, "edited": false, "score": 1, "creation_date": 1528300824, "post_id": 50721149, "comment_id": 88457888, "body": "Neither of those work unfortunately.  They both complains about AbortController, csstype (in @types/react/index.d.ts) and something about RequestInt and signal.  I built a more isolated example, going to update my question with the details."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1876, "user_id": 644634, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4b70b55e2d68092c62a214e81609edcb?s=128&d=identicon&r=PG", "display_name": "Austin France", "link": "https://stackoverflow.com/users/644634/austin-france"}, "edited": false, "score": 0, "creation_date": 1528302308, "post_id": 50721149, "comment_id": 88458675, "body": "@AustinFrance try with a higher es library version es2018 for example. But the specific error of those built - in types not being found is caused by the lack of a default es library."}, {"owner": {"reputation": 1876, "user_id": 644634, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4b70b55e2d68092c62a214e81609edcb?s=128&d=identicon&r=PG", "display_name": "Austin France", "link": "https://stackoverflow.com/users/644634/austin-france"}, "edited": false, "score": 1, "creation_date": 1528302410, "post_id": 50721149, "comment_id": 88458726, "body": "I figured out the problem.  I was running the globally installed older version of typescript when I have a newer version installed locally.  If I run tsc through npm, my original code it works fine, though I had to also include --module commonjs to prevent @types/react complaining."}, {"owner": {"reputation": 1876, "user_id": 644634, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4b70b55e2d68092c62a214e81609edcb?s=128&d=identicon&r=PG", "display_name": "Austin France", "link": "https://stackoverflow.com/users/644634/austin-france"}, "edited": false, "score": 1, "creation_date": 1528302764, "post_id": 50721149, "comment_id": 88458878, "body": "Going to mark yours as the answer, because given just the context of the question, adding --lib dom does produce the errors seen, and removing --lib dom corrects that, as you suggested."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 16, "last_activity_date": 1528290236, "creation_date": 1528290236, "answer_id": 50721149, "question_id": 50721103, "link": "https://stackoverflow.com/questions/50721103/error-ts2318-cannot-find-global-type-object/50721149#50721149", "title": "error TS2318: Cannot find global type &#39;Object&#39;", "body": "<p><code>dom</code> contains just the definitions for browser specific DOM elements. You need to include one of the <code>es*</code> libraries which includes the core es types needed for compilation. Once you specify a <code>--lib</code> option you have to include all necessary types, the compiler will no longer include any library based on your target: </p>\n\n<pre><code>tsc --jsx react --target es6 --lib es2015,dom src/lib/Fetch.tsx\n</code></pre>\n\n<p>Or if you are not actually just using the default libraries, you can just omit the option altogether:</p>\n\n<pre><code>tsc --jsx react --target es6 src/lib/Fetch.tsx\n</code></pre>\n"}], "owner": {"reputation": 1876, "user_id": 644634, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4b70b55e2d68092c62a214e81609edcb?s=128&d=identicon&r=PG", "display_name": "Austin France", "link": "https://stackoverflow.com/users/644634/austin-france"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12218, "favorite_count": 1, "accepted_answer_id": 50721149, "answer_count": 1, "score": 16, "last_activity_date": 1528302891, "creation_date": 1528290097, "last_edit_date": 1528302891, "question_id": 50721103, "link": "https://stackoverflow.com/questions/50721103/error-ts2318-cannot-find-global-type-object", "title": "error TS2318: Cannot find global type &#39;Object&#39;", "body": "<p>Very simple project, no tsconfig.json just using the command line:</p>\n\n<pre><code>tsc --jsx react --target es6 --lib dom src/lib/Fetch.tsx\n</code></pre>\n\n<p>and I get the following errors and I don't understand why, these types are literally defined everywhere, and specifically in lib.es6.d.ts which is I believe included by <code>--target es6</code></p>\n\n<pre><code>error TS2318: Cannot find global type 'Array'.\nerror TS2318: Cannot find global type 'Boolean'.\nerror TS2318: Cannot find global type 'Function'.\nerror TS2318: Cannot find global type 'IArguments'.\nerror TS2318: Cannot find global type 'Number'.\nerror TS2318: Cannot find global type 'Object'.\nerror TS2318: Cannot find global type 'RegExp'.\n</code></pre>\n\n<p>Have the following dependencies installed</p>\n\n<pre><code>\"dependencies\": {\n  \"@types/react-dom\": \"^16.0.6\",\n  \"@types/react\": \"^16.3.16\",\n  \"react\": \"^16.4.0\",\n  \"react-dom\": \"^16.4.0\"\n},\n\"devDependencies\": {\n  \"@types/node\": \"^10.3.1\",\n  \"typescript\": \"^2.9.1\"\n}\n</code></pre>\n\n<p><em>RESOLVED</em></p>\n\n<p>Figured out my problem.  Having typescript installed locally, but was running the globally installed and older version typescript.  When I ran tsc via npm scripts it compiles with the following command:</p>\n\n<pre><code>tsc --jsx react --target es6 --module commonjs src/lib/Fetch.tsx\n</code></pre>\n"}, {"tags": ["javascript", "angular", "forms", "typescript", "disabled-input"], "comments": [{"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1528289908, "post_id": 50720870, "comment_id": 88450395, "body": "There are some good articles about this behavior : <a href=\"https://blog.appverse.io/why-it-is-a-bad-idea-to-use-methods-in-the-html-templates-with-angular-2-30d49f0d3b16\" rel=\"nofollow noreferrer\">blog.appverse.io/&hellip;</a>"}, {"owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "reply_to_user": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1528290899, "post_id": 50720870, "comment_id": 88451066, "body": "Ok, i was aware of angular cycle but do not know that it apply to attribute too. Txt. I will find another solution to control the disabled state of the input. If someone as suggestion, it would be great"}], "answers": [{"comments": [{"owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528295306, "post_id": 50721263, "comment_id": 88454185, "body": "This is not applicable in my case. Status is always the same. Permissions are retrieved on the user connection. I change my code to use a directive that add disabled attribute. Now i need to find a way to tell the mat-form-field to take into account this change."}, {"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "reply_to_user": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528296044, "post_id": 50721263, "comment_id": 88454691, "body": "Even you are using directive, you still have to facing change detection issues.  Can you share your <code>isDisabled</code> implementation?"}, {"owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528296210, "post_id": 50721263, "comment_id": 88454803, "body": "I test it, method in the onInit of the directive is only called once. Input get it&#39;s disabled attribute but this is not apply on the view as Mat-form-field does not detect the chance. I update my question to post my directive"}, {"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "reply_to_user": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528306156, "post_id": 50721263, "comment_id": 88460712, "body": "@Scandinave Does your <code>this.authService.hasPermission()</code> only need execute once after the component been initialized?"}, {"owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528306208, "post_id": 50721263, "comment_id": 88460742, "body": "When using a directive yes."}, {"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "reply_to_user": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528306379, "post_id": 50721263, "comment_id": 88460831, "body": "No, I mean do you &quot;NEED&quot; it been execute only once?  I thought you need check this periodically."}, {"owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528306995, "post_id": 50721263, "comment_id": 88461192, "body": "Just only once. The disabled state is computed based on the user permissions. So this will not change until reconnection."}, {"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "reply_to_user": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "edited": false, "score": 0, "creation_date": 1528307035, "post_id": 50721263, "comment_id": 88461208, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172619/discussion-between-will-huang-and-scandinave\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "is_accepted": false, "score": 1, "last_activity_date": 1528290535, "creation_date": 1528290535, "answer_id": 50721263, "question_id": 50720870, "link": "https://stackoverflow.com/questions/50720870/why-is-input-attribute-called-hundreds-of-times-when-evaluating-a-function/50721263#50721263", "title": "Why is input attribute called hundreds of times when evaluating a function", "body": "<p>You better not doing property binding to a method to avoid too frequently checking status.</p>\n\n<p>Here are my suggestions:</p>\n\n<ol>\n<li>Use <strong>RxJS</strong> to track changes.\n\n<ul>\n<li>Try to detect your <strong>permissions.applications.any.update</strong> changes and wrapping into a Observable.  You can subscribe this from the <code>ngOnInit</code> hook in your component.</li>\n</ul></li>\n<li>Use <strong>Pure Pipe</strong> to detect changes.\n\n<ul>\n<li>Try to move your <code>isDisabled</code> method to a pure pipe component.</li>\n</ul></li>\n<li>Use <strong>setInterval</strong> to check status changes periodically.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "edited": false, "score": 0, "creation_date": 1528291775, "post_id": 50721299, "comment_id": 88451731, "body": "I think put things in the <code>ngDoCheck</code> lifecycle hook is not a good option."}], "tags": [], "owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "is_accepted": false, "score": 0, "last_activity_date": 1528290627, "last_edit_date": 1592644375, "creation_date": 1528290627, "answer_id": 50721299, "question_id": 50720870, "link": "https://stackoverflow.com/questions/50720870/why-is-input-attribute-called-hundreds-of-times-when-evaluating-a-function/50721299#50721299", "title": "Why is input attribute called hundreds of times when evaluating a function", "body": "<p>The short answer is your method is executed by angular in changes detection algorithm. Angular scans every binding to detect changes and act accordingly and it does it fairly often and it can happen many times per single event. You need to learn about <a href=\"https://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html\" rel=\"nofollow noreferrer\">this process</a> and how to <a href=\"https://www.lucidchart.com/techblog/2016/05/04/angular-2-best-practices-change-detector-performance/\" rel=\"nofollow noreferrer\">minimize it</a>. This is a big subject and going into details in SO answer is not appropriate, but three tips from the referenced article are:</p>\n<blockquote>\n<p>Have less DOM. This is a critically important piece of the puzzle. If DOM elements aren\u2019t visible, you should remove them from the DOM by using *ngIf instead of simply hiding elements with CSS. As the saying goes, the fastest code is code that is not run\u2014and the fastest DOM is DOM that doesn\u2019t exist.</p>\n<p>Make your expressions faster. Move complex calculations into the ngDoCheck lifecycle hook, and refer to the calculated value in your view. Cache results to complex calculations as long as possible.</p>\n<p>Use the OnPush change detection strategy to tell Angular 2 there have been no changes. This lets you skip the entire change detection step on most of your application most of the time.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "is_accepted": false, "score": 0, "last_activity_date": 1528307189, "creation_date": 1528307189, "answer_id": 50726541, "question_id": 50720870, "link": "https://stackoverflow.com/questions/50720870/why-is-input-attribute-called-hundreds-of-times-when-evaluating-a-function/50726541#50726541", "title": "Why is input attribute called hundreds of times when evaluating a function", "body": "<p>OK, i found a solution to my problem, \nI pre-calculate the state off all fields in the component side. \nSo for a user profile this is my function : </p>\n\n<pre><code> computesFieldsDisableState() {\n    this.disabled = {\n      thumbnails: !this.authService.hasPermission([this.permissions.profil.update], this.user.id, \"user\", \"thumbnails\"),\n      name: !this.authService.hasPermission([this.permissions.profil.update], this.user.id, \"user\", \"name\"),\n      firstname: !this.authService.hasPermission([this.permissions.profil.update], this.user.id, \"user\", \"firstname\"),\n      password: !this.authService.hasPermission([this.permissions.profil.update], this.user.id, \"user\", \"password\"),\n      email: !this.authService.hasPermission([this.permissions.profil.update], this.user.id, \"user\", \"email\"),\n      roles: !this.authService.hasPermission([this.permissions.profil.update], this.user.id, \"user\", \"roles\"),\n    };\n  }\n</code></pre>\n\n<p>Now i just have to use <code>[disabled]=\"disabled.thumbnails\"</code> to get the state of the field.</p>\n\n<p>Thank you all for you answers.</p>\n"}], "owner": {"reputation": 1148, "user_id": 1387310, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8f74d156563677c2e32d455cfd1969?s=128&d=identicon&r=PG", "display_name": "Scandinave", "link": "https://stackoverflow.com/users/1387310/scandinave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1528307189, "creation_date": 1528289394, "last_edit_date": 1528296343, "question_id": 50720870, "link": "https://stackoverflow.com/questions/50720870/why-is-input-attribute-called-hundreds-of-times-when-evaluating-a-function", "title": "Why is input attribute called hundreds of times when evaluating a function", "body": "<p>I use an attribute by control access to check if a field should be enabled or disabled.</p>\n\n<p>So i have something like this : </p>\n\n<pre><code>&lt;input matInput type=\"text\" #name=\"ngModel\" name=\"application.name\" [ngModel]=\"application?.name\" (ngModelChange)=\"application.name=$event\"\n              placeholder=\"Nom de l'application\" required [disabled]=\"isDisabled([permissions.applications.any.update, permissions.applications.own.update], 'name')\"[appUnique]=\"application\" [listElem]=\"applications\" key=\"name\" maxlength=\"255\"&gt;\n</code></pre>\n\n<p>The <code>isDisabled</code> function is called hundreds times when the input is displayed and each action on the form triggers something like 12 or 32 additional calls.</p>\n\n<p>That causes my browser to freeze.</p>\n\n<p>Any idea why this behavior is occuring? Is it ZoneJS which cause this?</p>\n\n<p>How can make just one called to this function?</p>\n\n<p>Edit: Directive implementation </p>\n\n<pre><code>/**\n * Check if the component should be disabled\n */\n@Directive({\n  selector: \"[appIsDisabled]\"\n})\nexport class IsDisabledDirective implements OnInit {\n  // Listof permission to check \n  @Input(\"appIsDisabled\") permissions: PermissionInterface[];\n  // The resource id to be access\n  @Input() resourceId: number;\n  // The resource type to be access\n  @Input() resourceType: string;\n   // Attribute to be check(eg: name, firstname... for a user resource)\n  @Input() attribute: string;\n  constructor(private authService: AuthService, private el: ElementRef, private utilsService: UtilsService, private renderer: Renderer2) {\n  }\n\n  ngOnInit() {\n    if (!this.authService.hasPermission(this.permissions, this.resourceId, this.resourceType, this.attribute)) {\n      this.renderer.setAttribute(this.el.nativeElement, \"disabled\", \"disabled\");\n    }\n\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "http", "get", "ionic3"], "comments": [{"owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1528289563, "post_id": 50720668, "comment_id": 88450178, "body": "which line is causing the error? can you post the full log?"}, {"owner": {"reputation": 11, "user_id": 4564827, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-80otpsmtaLE/AAAAAAAAAAI/AAAAAAAAADw/80nzMCuJy1Q/photo.jpg?sz=128", "display_name": "Mon", "link": "https://stackoverflow.com/users/4564827/mon"}, "reply_to_user": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1528309332, "post_id": 50720668, "comment_id": 88462386, "body": "getMarkers() {  this.http.get(&#39;src/assets/data/markers.json&#39;)  .map((res) =&gt; res.json())"}, {"owner": {"reputation": 11, "user_id": 4564827, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-80otpsmtaLE/AAAAAAAAAAI/AAAAAAAAADw/80nzMCuJy1Q/photo.jpg?sz=128", "display_name": "Mon", "link": "https://stackoverflow.com/users/4564827/mon"}, "reply_to_user": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1528309350, "post_id": 50720668, "comment_id": 88462396, "body": "This line is giving the error."}], "owner": {"reputation": 11, "user_id": 4564827, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-80otpsmtaLE/AAAAAAAAAAI/AAAAAAAAADw/80nzMCuJy1Q/photo.jpg?sz=128", "display_name": "Mon", "link": "https://stackoverflow.com/users/4564827/mon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528288844, "creation_date": 1528288844, "question_id": 50720668, "link": "https://stackoverflow.com/questions/50720668/typescript-error-supplied-parameters-do-not-match-any-signature-of-call-target", "title": "Typescript Error: Supplied parameters do not match any signature of call target", "body": "<p>I have the following code to get coordinates from a JSON file and creating markers on the map:</p>\n\n<pre><code>getMarkers() {\n this.http.get('src/assets/data/markers.json')\n .map((res) =&gt; res.json())\n .subscribe(data =&gt; {\n  this.addMarkersToMap(data);\n });\n}\n\n\naddMarkersToMap(markers) {\n for(let marker of markers) {\n  var position = new google.maps.LatLng(marker.latitude, marker.longitude);\n  var dogwalkMarker = new google.maps.Marker({position: position, title:marker.title});\n   dogwalkMarker.setMap(this.map);\n  }\n}\n</code></pre>\n\n<p>My JSON file:</p>\n\n<pre><code>   [\n  {\n   \"latitude\": 12.8418306,\n   \"longitude\": 77.6468554,\n   \"name\": \"Area1\"\n   },\n {\n  \"latitude\": 12.8424916,\n  \"longitude\": 77.6518233,\n  \"name\": \"Area2\"\n  },\n {\n  \"latitude\": 12.8407116,\n  \"longitude\": 77.6486245,\n  \"name\": \"Area3\"\n  }\n]\n</code></pre>\n\n<p>I'm getting this error:</p>\n\n<pre><code>[ts] Supplied parameters do not match any signature of call target.\n</code></pre>\n\n<p>I've imported 'rxjs/add/operator/map'.</p>\n\n<p>I looked at other posts regarding this problem but I couldn't solve this issue. </p>\n"}, {"tags": ["typescript", "events", "delegates", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 1864299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eO7K.png?s=128&g=1", "display_name": "GoDogGo", "link": "https://stackoverflow.com/users/1864299/godoggo"}, "edited": false, "score": 0, "creation_date": 1528385113, "post_id": 50720890, "comment_id": 88497636, "body": "EventAggregator was exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 3078, "user_id": 8343610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6PA.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8343610/jesse"}, "is_accepted": true, "score": 1, "last_activity_date": 1528289800, "last_edit_date": 1528289800, "creation_date": 1528289452, "answer_id": 50720890, "question_id": 50720629, "link": "https://stackoverflow.com/questions/50720629/aurelia-custom-element-bubbling-delegating-from-within-a-function/50720890#50720890", "title": "Aurelia custom element bubbling/delegating from within a function?", "body": "<p>You can use the <a href=\"https://github.com/aurelia/event-aggregator\" rel=\"nofollow noreferrer\"><code>aurelia-event-aggregator</code></a> to accomplish this. You can publish an event on your <code>focusout</code>, and subscribe to that event somewhere else in your code (most likely a service somewhere) that will update your database.</p>\n\n<hr>\n\n<p><em>custom-element.ts</em></p>\n\n<pre><code>import { autoinject, EventAggregator } from \"aurelia-framework\";\n\n@autoinject\nexport class CustomElement {\n  constructor(private ea: EventAggregator)\n\n\n...\n\n        $(me.titleInputEditor).one('focusout', function () {\n            me.ea.publish('input-changed', me.title);\n            me.toggleEditTitle();\n        });\n...\n}\n</code></pre>\n\n<p><em>service.ts</em></p>\n\n<pre><code>import { autoinject, EventAggregator } from \"aurelia-framework\";\n\n@autoinject\nexport class Service {\n  constructor(private ea: EventAggregator)\n\n  public attached() {\n    this.ea.subscribe('input-changed', (value) =&gt; {\n       // update database using value\n    });\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>For more documentation on the event-aggregator, refer <a href=\"https://aurelia.io/docs/api/event-aggregator/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 910, "user_id": 3528503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wvvAP.jpg?s=128&g=1", "display_name": "Schadensbegrenzer", "link": "https://stackoverflow.com/users/3528503/schadensbegrenzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1528289791, "creation_date": 1528289791, "answer_id": 50721012, "question_id": 50720629, "link": "https://stackoverflow.com/questions/50720629/aurelia-custom-element-bubbling-delegating-from-within-a-function/50721012#50721012", "title": "Aurelia custom element bubbling/delegating from within a function?", "body": "<p>From what I see you try to bind a function. That's done with the .call binding, that's correct.</p>\n\n<p>Add a @bindable attribute to your custom element and call it from the appropriate palce</p>\n\n<pre><code>@binable onUpdateChanges: Function;\nupdateText(){\n   if(this.onUpdateChanges)\n      this.onUpdateChanges();\n}\n</code></pre>\n\n<p>in app.html bind it like this:</p>\n\n<pre><code>&lt;custom-element title=\"Default Text\" \n    allow-edit-title.bind=\"true\" \n    on-update-changes.call=\"saveTextFunction()\"&gt;\n&lt;/custom-element&gt;\n</code></pre>\n\n<p>in app.ts add the saveTextFunction</p>\n\n<pre><code>saveTextFunction(){\n      //Do stuff to update/save/persist something\n}\n</code></pre>\n\n<p>in case you want to pass args you need to register onUpdateChanges in your custom-element slightly differently</p>\n\n<p><strong>custom-element.ts</strong></p>\n\n<pre><code>updateText(){\n   if(this.onUpdateChanges)\n      this.onUpdateChanges({text: what_ever_value_you_want_to_pass});\n}\n</code></pre>\n\n<p><strong>app.html</strong></p>\n\n<pre><code>&lt;custom-element title=\"Default Text\" \n    allow-edit-title.bind=\"true\" \n    on-update-changes.call=\"saveTextFunction(text)\"&gt;\n&lt;/custom-element&gt;\n</code></pre>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code> saveTextFunction(text:string){\n      //Do stuff to update/save/persist something\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 910, "user_id": 3528503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wvvAP.jpg?s=128&g=1", "display_name": "Schadensbegrenzer", "link": "https://stackoverflow.com/users/3528503/schadensbegrenzer"}, "edited": false, "score": 0, "creation_date": 1528403766, "post_id": 50740490, "comment_id": 88507222, "body": "I do not completely agree.Passing a function is not passing behavior down. It&#39;s more like a phone number the child custom component can call in case something specific happens. In fact you are doing the same: onFocusOut call parent. I agree that the EventAggregator should be used if components are in arbitrary positions and might not be able to communicate directly.Or use the event aggregator to broadcast message. But here in this case the custom component must be able to communicate with its parent so I&#39;d rather go with my or your solution. However, at the end all 3 solutions do work. :-)"}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "reply_to_user": {"reputation": 910, "user_id": 3528503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wvvAP.jpg?s=128&g=1", "display_name": "Schadensbegrenzer", "link": "https://stackoverflow.com/users/3528503/schadensbegrenzer"}, "edited": false, "score": 0, "creation_date": 1528420977, "post_id": 50740490, "comment_id": 88512161, "body": "It&#39;s a poor choice of wording in hindsight. Consider the semantics: you&#39;re listening to an event, and you want to make a direct 1-on-1 mapping of passing that event further up. In that case dispatching a CustomEvent (in my opinion) is the most &#39;natural&#39; solution. The event will bubble up to any level up in the tree. When this 1-on-1 mapping is less obvious, or when the elements have easy access to each other via a binding, a function call can be the cleaner solution. Less lines of code to achieve the same thing, but harder to refactor. So it just depends. Your solution could indeed be better."}], "tags": [], "owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "is_accepted": false, "score": 1, "last_activity_date": 1528372242, "last_edit_date": 1592644375, "creation_date": 1528372242, "answer_id": 50740490, "question_id": 50720629, "link": "https://stackoverflow.com/questions/50720629/aurelia-custom-element-bubbling-delegating-from-within-a-function/50740490#50740490", "title": "Aurelia custom element bubbling/delegating from within a function?", "body": "<p>Jesse's answer (EventAggregator) is the way to go if you need to pass information between two elements which are located on arbitrary positions in the app (e.g. &quot;bubbling up&quot; won't always work)</p>\n<p>Schadensbegrenzer's answer will also work for your particular case, but I personally think passing a function via a bindable is more meant for dynamically passing behavior down to custom elements, rather than cross-element communication.</p>\n<p>What I'd do in your case is actually let an event bubble up. You can accomplish this with a <code>CustomEvent</code> like so:</p>\n<h3>custom-element.ts</h3>\n<pre><code>$(me.titleInputEditor).one('focusout', function () {\n    // it'd be slightly cleaner to inject `Element` in your CustomElement\n    // and dispatch this event on that element instead\n    me.titleInputEditor.dispatchEvent(new CustomEvent('input-changed', {\n        detail: me, // if you want to pass this CustomElement instance up to the listener\n        bubbles: true\n    }));\n    me.toggleEditTitle();\n});\n</code></pre>\n<h3>app.html</h3>\n<pre><code>&lt;custom-element title=&quot;Default Text&quot; \n        allow-edit-title.bind=&quot;true&quot; \n        input-changed.delegate=&quot;saveTextFunction&quot;&gt;\n&lt;/custom-element&gt;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 1864299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eO7K.png?s=128&g=1", "display_name": "GoDogGo", "link": "https://stackoverflow.com/users/1864299/godoggo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 50720890, "answer_count": 3, "score": 1, "last_activity_date": 1528372242, "creation_date": 1528288723, "question_id": 50720629, "link": "https://stackoverflow.com/questions/50720629/aurelia-custom-element-bubbling-delegating-from-within-a-function", "title": "Aurelia custom element bubbling/delegating from within a function?", "body": "<p>I have a custom element that displays some text in a span, and if the user decides to edit the text, I hide the span and display a text input.\nWhen the user focuses off the text input, I hide the input and display the span again with the updated text.\nThis all works great.</p>\n\n<p>When I use the custom element on a page, I need to be able to trigger a function on the page to take the updated text from the custom element to update the text in a database.</p>\n\n<p>When the user completes editing the text and I re-display the span, I don't know how to bubble out that event so I can call a function on the page to save the change.\nIf I was using a button or something, I could set the delegate for the button click, but don't know how to accomplish this since I'm not using a button.</p>\n\n<p>Hope this makes sense!  Thanks in advance!</p>\n\n<p>Here is some of the stripped down code.</p>\n\n<p><strong>custom-element.html:</strong></p>\n\n<pre><code>&lt;i if.bind=\"icon\" class=\"${icon}\"&gt;&lt;/i&gt;&lt;span if.bind=\"!(allowEditTitle &amp;&amp; isEditingTitle)\" maxlength&gt;${title}&lt;/span&gt;\n&lt;input ref=\"titleInputEditor\" type=\"text\" value.bind=\"title\" if.bind=\"allowEditTitle &amp;&amp; isEditingTitle\" maxlength=\"100\" /&gt;\n</code></pre>\n\n<p><strong>custom-element.ts</strong></p>\n\n<pre><code>@bindable title: string;\n@bindable allowEditTitle: boolean = false;\nisEditingTitle: boolean = false;\n\ntoggleEditTitle() {\n    let me = this;\n    if (this.allowEditTitle === true) {\n        this.isEditingTitle = !this.isEditingTitle;\n    }\n    if (this.isEditingTitle == true) {\n        window.setTimeout(function () {\n            $(me.titleInputEditor).focus();\n            $(me.titleInputEditor).select();\n            $(window).one('click', function () {\n                if (me.isEditingTitle == true) {\n                    me.toggleEditTitle();\n                } \n            });\n            $(me.titleInputEditor).one('click', function (e) {\n                e.stopPropagation();\n            });\n            $(me.titleInputEditor).one('focusout', function () {\n                me.toggleEditTitle();\n            });\n        });\n    }\n}\n</code></pre>\n\n<p><strong>app.html</strong></p>\n\n<pre><code>&lt;custom-element title=\"Default Text\" \n        allow-edit-title.bind=\"true\" \n        on-???????.call=\"saveTextFunction\"&gt;\n&lt;/custom-element&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5", "meta-tags"], "comments": [{"owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 0, "creation_date": 1528288654, "post_id": 50720514, "comment_id": 88449615, "body": "This is the expected behaviour. The client side template render cannot change the markup (from the index.html), it changes the DOM. This is not a thing from Angular, this is how javascript works."}, {"owner": {"reputation": 370, "user_id": 4947379, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-5cJoKWBHhoM/AAAAAAAAAAI/AAAAAAAAAhI/SEAC6307Xqw/photo.jpg?sz=128", "display_name": "sai kiran", "link": "https://stackoverflow.com/users/4947379/sai-kiran"}, "reply_to_user": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 0, "creation_date": 1528288996, "post_id": 50720514, "comment_id": 88449847, "body": "Is there any other way for meta tags ?"}], "owner": {"reputation": 370, "user_id": 4947379, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-5cJoKWBHhoM/AAAAAAAAAAI/AAAAAAAAAhI/SEAC6307Xqw/photo.jpg?sz=128", "display_name": "sai kiran", "link": "https://stackoverflow.com/users/4947379/sai-kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528288507, "creation_date": 1528288408, "last_edit_date": 1528288507, "question_id": 50720514, "link": "https://stackoverflow.com/questions/50720514/dynamically-add-meta-description-in-angular-5", "title": "Dynamically add meta description in Angular 5", "body": "<p>I'm using Angular 5,I want to add meta tags dynamically</p>\n\n<p>I Tried below code it is showing in inspect element (console), but it is not showing on source code</p>\n\n<pre><code>import {BrowserModule, DomSanitizer, Meta} from '@angular/platform-browser';\n\nconstructor(private route: ActivatedRoute, private router: Router,\nprivate meta: Meta) { \n\n    this.meta.addTags([\n             {property: 'og:title', content: 'this is a content'},\n    ])\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/glLRf.png\" rel=\"nofollow noreferrer\">this is my elements (console) image </a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1528286126, "post_id": 50719751, "comment_id": 88447926, "body": "Combined duplicate of <a href=\"https://stackoverflow.com/questions/6847697/how-to-return-value-from-an-asynchronous-callback-function\" title=\"how to return value from an asynchronous callback function\">stackoverflow.com/questions/6847697/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/16796918/what-does-this-refer-to-in-a-javascript-function\" title=\"what does this refer to in a javascript function\">stackoverflow.com/questions/16796918/&hellip;</a>"}, {"owner": {"reputation": 1277, "user_id": 1737811, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab510b7d0d145c538fcc7638395ee703?s=128&d=identicon&r=PG", "display_name": "mutantkeyboard", "link": "https://stackoverflow.com/users/1737811/mutantkeyboard"}, "edited": false, "score": 0, "creation_date": 1528286154, "post_id": 50719751, "comment_id": 88447947, "body": "Why do you have <code>setTimeout()</code> inside the loop? It will create 3 different counters. You can just call the function without a loop, and simply call it with <code>setTimeout(()=&gt; {this.getUsersChat();}, 3000});</code>"}, {"owner": {"reputation": 902, "user_id": 5145804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NqNbvtmmvlU/AAAAAAAAAAI/AAAAAAAAAIE/Vdjej-z6jjI/photo.jpg?sz=128", "display_name": "Kevin Dias", "link": "https://stackoverflow.com/users/5145804/kevin-dias"}, "edited": false, "score": 0, "creation_date": 1528286419, "post_id": 50719751, "comment_id": 88448137, "body": "if i do it wont stop calling the function, i just want bo te executed just 3 times"}], "answers": [{"comments": [{"owner": {"reputation": 902, "user_id": 5145804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NqNbvtmmvlU/AAAAAAAAAAI/AAAAAAAAAIE/Vdjej-z6jjI/photo.jpg?sz=128", "display_name": "Kevin Dias", "link": "https://stackoverflow.com/users/5145804/kevin-dias"}, "edited": false, "score": 0, "creation_date": 1528292242, "post_id": 50719926, "comment_id": 88452071, "body": "I see, it works thanks but it does not exit the loop is calling the method every one second and not doing exit"}, {"owner": {"reputation": 3549, "user_id": 7260635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-UJo0zFC_-Tk/AAAAAAAAAAI/AAAAAAAAAAc/WwnRP6HrUyY/photo.jpg?sz=128", "display_name": "manish kumar", "link": "https://stackoverflow.com/users/7260635/manish-kumar"}, "reply_to_user": {"reputation": 902, "user_id": 5145804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NqNbvtmmvlU/AAAAAAAAAAI/AAAAAAAAAIE/Vdjej-z6jjI/photo.jpg?sz=128", "display_name": "Kevin Dias", "link": "https://stackoverflow.com/users/5145804/kevin-dias"}, "edited": false, "score": 0, "creation_date": 1528360395, "post_id": 50719926, "comment_id": 88480522, "body": "try declaring <code>let i=0</code> inside the for loop."}], "tags": [], "owner": {"reputation": 3549, "user_id": 7260635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-UJo0zFC_-Tk/AAAAAAAAAAI/AAAAAAAAAAc/WwnRP6HrUyY/photo.jpg?sz=128", "display_name": "manish kumar", "link": "https://stackoverflow.com/users/7260635/manish-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1528287046, "last_edit_date": 1528287046, "creation_date": 1528286500, "answer_id": 50719926, "question_id": 50719751, "link": "https://stackoverflow.com/questions/50719751/cant-call-funtion-after-3-seconds-angular-4/50719926#50719926", "title": "Cant call funtion after 3 seconds Angular 4", "body": "<p>because the <strong>getUsersChat</strong> is not in the this scope inside <code>setTimeout</code></p>\n\n<p>try preserving the scope of this and using like this.</p>\n\n<pre><code>newmessageNumber(array: any) {\n     // tslint:disable-next-line:no-shadowed-variable\n     let element;\n     let i = 0;\n\n    for (let index = 0; index &lt; array.length; index++) {\n      element = array[index]['name'];\n    }\n\n    this.mySegService.getChatsLast().subscribe(res =&gt; {\n       try {\n        localStorage.setItem('user', res[0]['user']);\n       } catch (error) {\n        // nd\n       }\n       this.chatcheck = localStorage.getItem('user');\n      // console.log(this.chatcheck);\n       if (this.chatcheck === element ) {\n            this.compare = '1';\n      }\n    });\n    var self=this;\n    for ( i ; i &lt; 3; i++) {\n\n      (function(i) {\n          setTimeout(() =&gt; {\n            self.getUsersChat();\n          }, 1000 * i);\n      })(i);\n  }\n\n\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 902, "user_id": 5145804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NqNbvtmmvlU/AAAAAAAAAAI/AAAAAAAAAIE/Vdjej-z6jjI/photo.jpg?sz=128", "display_name": "Kevin Dias", "link": "https://stackoverflow.com/users/5145804/kevin-dias"}, "is_accepted": true, "score": 0, "last_activity_date": 1528294497, "creation_date": 1528294497, "answer_id": 50722665, "question_id": 50719751, "link": "https://stackoverflow.com/questions/50719751/cant-call-funtion-after-3-seconds-angular-4/50722665#50722665", "title": "Cant call funtion after 3 seconds Angular 4", "body": "<p>solved by doing this</p>\n\n<pre><code> getUsersChat() {\n\n        let clientsKeys: Array &lt; any &gt; ;\n\n        let i = 0;\n        // tslint:disable-next-line:prefer-const\n        let key: any;\n        // tslint:disable-next-line:no-shadowed-variable\n        let element: any;\n\n        this.mySegService.getChats().subscribe(res =&gt; {\n\n          this.clientsShortList = new Array &lt; any &gt; ();\n          clientsKeys = Object.keys(res);\n\n          this.totalNumberClients += clientsKeys.length;\n\n          clientsKeys.forEach(clientKey =&gt; {\n\n            if (i &lt; ++i &amp;&amp; res[clientKey]['messages'] !== undefined) {\n              this.clientsShortList.push({\n                name: res[clientKey]['name'],\n              });\n            }\n\n\n            if (res[clientKey]['name'] === this.chatcheck) {\n              this.clientsShortList = new Array &lt; any &gt; ();\n              this.clientsShortList.push({\n                name: res[clientKey]['name'],\n                number: '1'\n              });\n            }\n\n            this.clientsShortList.reverse();\n            console.log(this.clientsShortList);\n          });\n\n        });\n        // this.newmessageNumber(this.clientsShortList);\n        for (let index = 0; index &lt; this.clientsShortList.length; index++) {\n          element = this.clientsShortList[index]['name'];\n        }\n\n        this.mySegService.getChatsLast().subscribe(res =&gt; {\n          // console.log(res);\n          try {\n            localStorage.setItem('user', res[0]['user']);\n          } catch (error) {\n            // nd\n          }\n          this.chatcheck = localStorage.getItem('user');\n          console.log(this.chatcheck);\n          if (this.chatcheck === element) {\n            this.getUsersChat();\n          }\n\n        });\n\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 902, "user_id": 5145804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NqNbvtmmvlU/AAAAAAAAAAI/AAAAAAAAAIE/Vdjej-z6jjI/photo.jpg?sz=128", "display_name": "Kevin Dias", "link": "https://stackoverflow.com/users/5145804/kevin-dias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 50722665, "answer_count": 2, "score": 0, "last_activity_date": 1528294497, "creation_date": 1528285933, "last_edit_date": 1528288590, "question_id": 50719751, "link": "https://stackoverflow.com/questions/50719751/cant-call-funtion-after-3-seconds-angular-4", "title": "Cant call funtion after 3 seconds Angular 4", "body": "<p>The code is working fine but when i try to call <strong>getUsersChats</strong> again if there is a new message  to display a badge, </p>\n\n<p>i cant as it is giving me this error, </p>\n\n<pre><code> \"ERROR TypeError: Cannot read property 'getUsersChat' of undefined\"\n</code></pre>\n\n<blockquote>\n  <p>getUsersChat function</p>\n</blockquote>\n\n<pre><code> getUsersChat() {\n\n    let clientsKeys: Array &lt; any &gt; ;\n\n    let i = 0;\n    // tslint:disable-next-line:prefer-const\n    let key: any;\n\n    this.mySegService.getChats().subscribe(res =&gt; {\n\n      this.clientsShortList = new Array &lt; any &gt; ();\n      clientsKeys = Object.keys(res);\n\n      this.totalNumberClients += clientsKeys.length;\n\n      clientsKeys.forEach(clientKey =&gt; {\n\n        if (i &lt; ++i &amp;&amp; res[clientKey]['messages'] !== undefined ) {\n          this.clientsShortList.push({\n            name: res[clientKey]['name'],\n          });\n        }\n\n        if (res[clientKey]['name'] === this.chatcheck ) {\n\n          this.clientsShortList = new Array &lt; any &gt; ();\n          this.clientsShortList.push({\n            name: res[clientKey]['name'],\n            number: this.compare\n          });\n        }\n        this.clientsShortList.reverse();\n        console.log(this.clientsShortList);\n\n      });\n\n    });\n    this.newmessageNumber(this.clientsShortList);\n  }\n</code></pre>\n\n<p>here is where the error comes on the setTimeout(() =>... what im doing wrong here, any help would be nice</p>\n\n<pre><code>newmessageNumber(array: any) {\n     // tslint:disable-next-line:no-shadowed-variable\n     let element;\n     let i = 0;\n\n    for (let index = 0; index &lt; array.length; index++) {\n      element = array[index]['name'];\n    }\n\n    this.mySegService.getChatsLast().subscribe(res =&gt; {\n       try {\n        localStorage.setItem('user', res[0]['user']);\n       } catch (error) {\n        // nd\n       }\n       this.chatcheck = localStorage.getItem('user');\n      // console.log(this.chatcheck);\n       if (this.chatcheck === element ) {\n            this.compare = '1';\n      }\n    });\n\n    for ( i ; i &lt; 3; i++) {\n\n      (function(i) {\n          setTimeout(() =&gt; {\n            this.getUsersChat();\n          }, 1000 * i);\n      })(i);\n  }\n\n\n }\n</code></pre>\n\n<p>Can someone help me out on this.</p>\n"}, {"tags": ["angular", "typescript", "angular5", "swiper"], "owner": {"reputation": 1030, "user_id": 8235589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e07eebe1dde0145701f361b919e6218e?s=128&d=identicon&r=PG&f=1", "display_name": "kamalav", "link": "https://stackoverflow.com/users/8235589/kamalav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1528285469, "creation_date": 1528285469, "question_id": 50719606, "link": "https://stackoverflow.com/questions/50719606/stop-sliding-for-some-operation-completion-in-swiper-in-angular", "title": "Stop sliding for some operation completion in swiper in angular", "body": "<p>I am changing contents of swiper slider after sliding. before changing contents it navigates to next slide.Can I stop sliding untill my api response comes.can anyone pls help me.below is my swiper initialization</p>\n\n<pre><code>   setTimeout( ()=&gt;{  var mySwiper = new Swiper('.swiper-container', {\ndirection: 'horizontal',\n  loop: true,\n  speed: 700,\n  replaceState: true,\n  initialSlide: 1,\n  centeredSlides: true,\n  slidesPerView: 'auto',\n  loopedSlides: 2,\n  keyboard: true,\n  scrollbar: false,\n  pagination: false,\n  navigation: true,\n\n  preloadImages          : true,\n\n  roundLengths           : true,\n  observer               : true,\n\n\nonSlideNextStart:function(swiper){\n\n  ChangeContents(swiper)\n},\n\nmousewheelControl: false\n });},3000);\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1528283751, "creation_date": 1528283751, "answer_id": 50719060, "question_id": 50718790, "link": "https://stackoverflow.com/questions/50718790/checkbox-hide-show-based-on-another-checkbox-value-in-typescript/50719060#50719060", "title": "Checkbox hide/show based on another checkbox value in typescript", "body": "<p>Just bind with <code>ngModel</code> no need to call change event like this -</p>\n\n<pre><code>          &lt;div class=\"form-group\"&gt;\n        &lt;div&gt;\n            &lt;p-checkbox [(ngModel)]=\"isFDV\"  \n            label=\"Documentation\" binary=\"true\"&gt;&lt;/p-checkbox&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"isFDV\" &gt;\n            &lt;p-checkbox  label=\"doc1\" binary=\"true\"&gt;&lt;/p-checkbox&gt;\n        &lt;/div&gt; \n        &lt;div *ngIf=\"isFDV\"&gt;\n            &lt;p-checkbox label=\"doc2\" binary=\"true\"&gt;&lt;/p-checkbox&gt;\n        &lt;/div&gt;\n     &lt;/div&gt; \n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 9864008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IwyRE.jpg?s=128&g=1", "display_name": "ancy", "link": "https://stackoverflow.com/users/9864008/ancy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583236495, "creation_date": 1528282942, "last_edit_date": 1583236495, "question_id": 50718790, "link": "https://stackoverflow.com/questions/50718790/checkbox-hide-show-based-on-another-checkbox-value-in-typescript", "title": "Checkbox hide/show based on another checkbox value in typescript", "body": "<p>I am using primeng checkbox.Here i want to hide/show and check/unchecked the value based on  condition.</p>\n\n<p><strong>Condition 1</strong>:</p>\n\n<pre><code>If the first checkbox is checked the second and third checkbox will checked and show.\n</code></pre>\n\n<p><strong>Condition 2:</strong></p>\n\n<pre><code>If the first checkbox is unchecked the second and third checkbox will unchecked and hide. \n</code></pre>\n\n<p><strong>.html</strong></p>\n\n<pre><code>          &lt;div class=\"form-group\"&gt;\n            &lt;div&gt;\n                &lt;p-checkbox (onChange)=\"Changes($event)\" \n                label=\"Documentation\" binary=\"true\"&gt;&lt;/p-checkbox&gt;\n            &lt;/div&gt;\n            &lt;div *ngIf=\"isFDV\" &gt;\n                &lt;p-checkbox  label=\"doc1\" binary=\"true\"&gt;&lt;/p-checkbox&gt;\n            &lt;/div&gt; \n            &lt;div *ngIf=\"isFDV\"&gt;\n                &lt;p-checkbox label=\"doc2\" binary=\"true\"&gt;&lt;/p-checkbox&gt;\n            &lt;/div&gt;\n         &lt;/div&gt; \n</code></pre>\n\n<p><strong>.ts</strong></p>\n\n<pre><code> isFDV = false;\n    Changes(event) {\n       this.isFDV = event;\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1528282108, "post_id": 50718484, "comment_id": 88445313, "body": "Could you post a sample of the content of <code>value</code> ?"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1528282171, "post_id": 50718484, "comment_id": 88445352, "body": "don&#39;t use const type inside the for loop"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 2, "creation_date": 1528282493, "post_id": 50718484, "comment_id": 88445576, "body": "@SachilaRanawaka Please Note: you definitely <i>can</i> use <code>const</code> in a for-of loop: <code>const value = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]; for (const app of value) { console.log(app); }</code>"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1528282659, "post_id": 50718484, "comment_id": 88445686, "body": "@jozofe - the most likely issue is that <code>value</code> isn&#39;t an array... a common case would be where the array is deeper, i.e. <code>value.someCollection</code>. As Titian said, you need to share what is in <code>value</code> so we can answer the question."}, {"owner": {"reputation": 79, "user_id": 6858744, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/39e9df090c3e3a34d8c6dd3230c4203a?s=128&d=identicon&r=PG&f=1", "display_name": "jozofe", "link": "https://stackoverflow.com/users/6858744/jozofe"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1528282775, "post_id": 50718484, "comment_id": 88445780, "body": "@Fenton I edited my question"}, {"owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1528283105, "post_id": 50718484, "comment_id": 88445996, "body": "Is your <code>resolve</code> from <code>fetchData2</code> outside of the <code>promise</code>?? if so, it is being resolved before any data is available, it needs to be just outside the scope of the <code>for</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "is_accepted": true, "score": 0, "last_activity_date": 1528284220, "last_edit_date": 1528284220, "creation_date": 1528283153, "answer_id": 50718861, "question_id": 50718484, "link": "https://stackoverflow.com/questions/50718484/angular-typescript-doesnt-execute-for-loop/50718861#50718861", "title": "Angular/Typescript doesn&#39;t execute for loop", "body": "<p>It looks as though your resolve from <code>fetchData2</code> is outside of the <code>promise</code>. If so, <code>resolve</code> is called before any data is available and needs to be just outside the scope of the <code>for</code>.</p>\n\n<p>This is because of the <code>async</code> nature, and your resolve completes before the request is complete and returns instead the initialised value of <code>reducedAppList</code></p>\n\n<p>Should look something like this:</p>\n\n<pre><code>for (const app of this.appList) {\n   // logic ommitted\n}\nresolve(this.reducedAppList); // move inside the `.then(response =&gt; ....`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5936, "user_id": 8881420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pf80t.jpg?s=128&g=1", "display_name": "Pierre Mallet", "link": "https://stackoverflow.com/users/8881420/pierre-mallet"}, "is_accepted": false, "score": 1, "last_activity_date": 1528283562, "creation_date": 1528283562, "answer_id": 50719001, "question_id": 50718484, "link": "https://stackoverflow.com/questions/50718484/angular-typescript-doesnt-execute-for-loop/50719001#50719001", "title": "Angular/Typescript doesn&#39;t execute for loop", "body": "<p>Ok all your problem is that you dont wait the fetchAppData response before resolving. </p>\n\n<p>You resolve your promise after 100ms with this.reduceAppList as an empty Array.\nLater when fetchAppData response is received you populate this array.\nThats why the data are displayed in the console ( since the console use Object reference to display data ) and not in debug mode (since the breakpoint is set before populating the Array.</p>\n\n<p>You should change the fetchData2 function to this : </p>\n\n<pre><code>fetchData2() {\n   this.reducedAppList = [];\n   this.httpService.fetchAppData().then(response =&gt; {\n       this.appList = this.httpService.statistics;\n       for (const app of this.appList) {\n           if (app.appMailings !== null) {\n               this.reducedAppList.push(app);\n           }\n       }\n       return this.reducedAppList;\n   });\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6858744, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/39e9df090c3e3a34d8c6dd3230c4203a?s=128&d=identicon&r=PG&f=1", "display_name": "jozofe", "link": "https://stackoverflow.com/users/6858744/jozofe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 50718861, "answer_count": 2, "score": 0, "last_activity_date": 1528284220, "creation_date": 1528282037, "last_edit_date": 1528283861, "question_id": 50718484, "link": "https://stackoverflow.com/questions/50718484/angular-typescript-doesnt-execute-for-loop", "title": "Angular/Typescript doesn&#39;t execute for loop", "body": "<p>I'm fetching data with promise. I'm using this callback function to loop through the value.</p>\n\n<pre><code>selectedAppIdCalculator() {\nthis.fetchData2().then( value =&gt; {\n\n  console.log(\"value: \", value);\n\n\n  for (let app of value) {\n    console.log(\"in for loop\");\n  }\n});\n}\n</code></pre>\n\n<p>The response value is not null, because it logs first the value. The value is a array with json objects.</p>\n\n<p>But the for loop is never executed. Why?</p>\n\n<p>In the debugging mode I noticed something weird. </p>\n\n<p><a href=\"https://i.stack.imgur.com/QXuW8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QXuW8.png\" alt=\"enter image description here\"></a></p>\n\n<p>The value is empty. Also the value in the log console is empty:\n<a href=\"https://i.stack.imgur.com/n0GWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0GWg.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when running normally it logs normally the response value. I'm really confused.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1589, "user_id": 3548035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba32f862f7ccd49b3a6c1d1dd7efbf23?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Pandey", "link": "https://stackoverflow.com/users/3548035/lokesh-pandey"}, "edited": false, "score": 0, "creation_date": 1528281763, "post_id": 50718280, "comment_id": 88445110, "body": "according to what you are saying <code>a service is called and the download URL for that checkbox is returned</code> you already have a url. You just need to assign. JavaScript is a pass by reference"}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 0, "creation_date": 1528281813, "post_id": 50718280, "comment_id": 88445144, "body": "Op wants to copy to cliboard"}, {"owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "reply_to_user": {"reputation": 1589, "user_id": 3548035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba32f862f7ccd49b3a6c1d1dd7efbf23?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Pandey", "link": "https://stackoverflow.com/users/3548035/lokesh-pandey"}, "edited": false, "score": 0, "creation_date": 1528282003, "post_id": 50718280, "comment_id": 88445244, "body": "@Lokesh, so after I get the download URL if I right click the mouse and click paste that URL should be pasted on the notepad/browser. I am not able to achieve this paste functionality"}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 1, "creation_date": 1528282463, "post_id": 50718280, "comment_id": 88445551, "body": "Did you try <a href=\"https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\" title=\"how do i copy to the clipboard in javascript\">stackoverflow.com/questions/400212/&hellip;</a> ? (the <code>Copy to clipboard without displaying input</code>part)"}], "owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558645572, "creation_date": 1528281399, "last_edit_date": 1558645572, "question_id": 50718280, "link": "https://stackoverflow.com/questions/50718280/copy-the-value-inside-a-variable-in-ts-js-angular", "title": "Copy the value inside a variable in ts/js/Angular", "body": "<p>I work on Angular 4. My page has many checkbox and a share button. If any check box is selected and share is clicked a service is called and the download URL for that checkbox is returned. I have to copy this returned URL so that if user want he can paste it in notepad/browser. How to copy text in a variable inside javascript/typescript/Angular? Please guide.</p>\n\n<pre><code>&lt;div *ngFor=\"let hero of heros\"&gt;\n    &lt;span&gt;\n        &lt;input type='checkbox' name='drama'  /&gt;\n    &lt;/span&gt;\n    &lt;span&gt;hero.name&lt;/span&gt;\n&lt;/div&gt;\n&lt;button [class.disabled]='!inEditMode' (click)='selectedHero()'&gt;Share&lt;/button&gt;\n\nselectedHero(){\n    var elements = document.getElementsByName(\"drama\");\n    for (let i = 0; i &lt; elements.length; i++) {\n        if (elements[i].type == \"checkbox\") {\n            if (elements[i].checked) {\n                //Service call is made here and the URL is stored in \"this.docURL\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How to copy  the value inside \"this.docURL\" ?</p>\n"}, {"tags": ["angular", "typescript", "angular-services", "angular-ng-if"], "answers": [{"comments": [{"owner": {"reputation": 1745, "user_id": 5903934, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c8adfd94be2a07820942891d1a2b7ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Anders Pedersen", "link": "https://stackoverflow.com/users/5903934/anders-pedersen"}, "edited": false, "score": 0, "creation_date": 1528286718, "post_id": 50718086, "comment_id": 88448302, "body": "I tried this way, but it dosent update the loggedIn variable, it just sets it to false OnInit and never updates it. ( the navbar only getting initialized once in app.comonent.html)"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 1745, "user_id": 5903934, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c8adfd94be2a07820942891d1a2b7ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Anders Pedersen", "link": "https://stackoverflow.com/users/5903934/anders-pedersen"}, "edited": false, "score": 0, "creation_date": 1528356693, "post_id": 50718086, "comment_id": 88478448, "body": "Oh. We forget to subscribe to the observable so the request was not made. I have updated"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 3, "last_activity_date": 1528356702, "last_edit_date": 1528356702, "creation_date": 1528280732, "answer_id": 50718086, "question_id": 50718043, "link": "https://stackoverflow.com/questions/50718043/angular-ng-if-with-async-data/50718086#50718086", "title": "angular ng if with async data?", "body": "<p>Running function in the template is a bad practice. You can have a variable which is correspond for the status of the user and store the <code>data.success</code> there. Call your async function into the <code>ngOnInit</code> and assign the result to the variable.</p>\n\n<pre><code>ngOnInit() {\n   return this.http.get('http://localhost:3000/users/validateToken')\n      .map(res =&gt; res.json()).subscribe(data =&gt; this.isLoggedIn = data.success);\n}\n</code></pre>\n\n<p>And template would be like</p>\n\n<pre><code>*ngIf=\"isLoggedIn\"\n</code></pre>\n\n<p>What about waiting for the response of the async function, you don't need to worry about it, if the result will come and be assigned to the variable - DI mechanism will detect that change and update the template</p>\n\n<p><strong>Advice</strong> As I guess from the <code>res.json()</code> you use not an <code>HttpClient</code>, but <code>Http</code> which is deprecated. Use <code>HttpClient</code> and <code>HttpClientModule</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1528281053, "creation_date": 1528281053, "answer_id": 50718186, "question_id": 50718043, "link": "https://stackoverflow.com/questions/50718043/angular-ng-if-with-async-data/50718186#50718186", "title": "angular ng if with async data?", "body": "<p>You can use the <code>async</code> pipe since if request returns a observable.</p>\n\n<pre><code>*ngIf=\"!authService.loggedIn() | async\"\n</code></pre>\n"}], "owner": {"reputation": 1745, "user_id": 5903934, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c8adfd94be2a07820942891d1a2b7ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Anders Pedersen", "link": "https://stackoverflow.com/users/5903934/anders-pedersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2669, "favorite_count": 1, "accepted_answer_id": 50718086, "answer_count": 2, "score": 1, "last_activity_date": 1528356702, "creation_date": 1528280608, "last_edit_date": 1528281007, "question_id": 50718043, "link": "https://stackoverflow.com/questions/50718043/angular-ng-if-with-async-data", "title": "angular ng if with async data?", "body": "<p>In my angular <code>navbar</code> I have a <code>*ngIf</code> for rather or not login/logout button should be showing</p>\n\n<pre><code>*ngIf=\"!authService.loggedIn()\n</code></pre>\n\n<p>it uses a service with this loggedIn function that returns true or false</p>\n\n<pre><code>  loggedIn() {\n    return this.http.get('http://localhost:3000/users/validateToken')\n      .map(res =&gt; res.json()).map(data =&gt; data.success);\n  }\n</code></pre>\n\n<p>bu this is async, how I make my <code>ngIf</code> await it ? or how can I differently get the same result ?</p>\n"}, {"tags": ["javascript", "typescript", "d3.js", "angular2-forms"], "comments": [{"owner": {"reputation": 175, "user_id": 4314672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a6d857dab33a2ef32af4103d528a3163?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/4314672/ashok"}, "edited": false, "score": 0, "creation_date": 1528354710, "post_id": 50717894, "comment_id": 88477303, "body": "I think this question represents a problem, so this is a valid question."}], "owner": {"reputation": 175, "user_id": 4314672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a6d857dab33a2ef32af4103d528a3163?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/4314672/ashok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531312773, "creation_date": 1528280184, "last_edit_date": 1531312773, "question_id": 50717894, "link": "https://stackoverflow.com/questions/50717894/zoom-in-and-zoom-out-doesnt-work-for-real-time-d3-line-chart", "title": "Zoom in and zoom out doesn&#39;t work for real time D3 line chart", "body": "<p>I created a real time d3 line chart. You can see it in <a href=\"http://jsfiddle.net/peDzT/1403/\" rel=\"nofollow noreferrer\">JSFiddle</a>. </p>\n\n<p>There are two issues : </p>\n\n<p>1 - While zooming and zooming out both work fine, it doesn't last because the realTime updating of the chart sets the chat back to a non-zoomed state. </p>\n\n<p>How can I make it so the chart maintains it's zoomed-in or zoomed-out state after it's been updated? </p>\n\n<p>Following is the zooming and zoom out code which is not working on refresh. For entire sample code, you can go to <a href=\"http://jsfiddle.net/peDzT/1403/\" rel=\"nofollow noreferrer\">JSFiddle</a>. </p>\n\n<p>What I expect in this code is, I should be able to save viewport position so that on refresh I can just use that position and move navigation bar to old position.</p>\n\n<pre><code>this.zoom = d3.zoom()\n.scaleExtent([1, Infinity])\n.translateExtent([[0, 0], [this.width, this.height]])\n.extent([[0, 0], [this.width, this.height]])\n.on(\"zoom\", ()=&gt; {\n    if (d3.event.sourceEvent &amp;&amp; d3.event.sourceEvent.type === \"brush\") {\n    return; // ignore zoom-by-brush\n  }\n  let t = d3.event.transform;;\n  if (d3.event.sourceEvent &amp;&amp; d3.event.sourceEvent.type === \"wheel\") {\n   thisObj.zoomTransform = d3.event.transform;\n   }\n\n if(thisObj.isToUpdateChart &amp;&amp; (typeof thisObj.zoomTransform != 'undefined'))\n {\n   //t = this.zoomTransform;\n   thisObj.isToUpdateChart = false;\n   //this.zoomTransform = undefined;\n }\n else\n    thisObj.isToUpdateChart = false;\n  thisObj.mainXScale.domain(t .rescaleX(thisObj.navXScale).domain());\n  let count = 0;\n  thisObj.mainLinePath.forEach(linePath =&gt; {\n    linePath\n    // .attr('transform', null)\n    // .transition()\n    // .duration(this.duration)\n    // .ease(this.transition)\n    .attr(\"d\", thisObj.mainChartLine[count]);\n    count++;\n  });\n  thisObj.mainXAxisGroup\n  // .transition()\n  // .duration(this.duration)\n  // .ease(this.transition)\n  .call( thisObj.mainXAxis);\n  thisObj.navGroup.select(\".x.brush\")\n  .call(thisObj.navXBrush.move, thisObj.mainXScale.range().map(t.invertX, t));\n});\n</code></pre>\n\n<p>2 - I want to be able to navigate through the main chart by using navigation chart below it. I made it work by maintaining <code>navViewportLeft</code> and <code>isToUpdateChart</code> positions of <code>view-port</code> (of selected area from navigation bar). But I'm not pleased with this solution. Is there a better way to do it? </p>\n"}, {"tags": ["angular", "typescript", "gruntjs", "protractor"], "comments": [{"owner": {"reputation": 1192, "user_id": 4049723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mzpoP.jpg?s=128&g=1", "display_name": "Protozoid", "link": "https://stackoverflow.com/users/4049723/protozoid"}, "edited": false, "score": 1, "creation_date": 1528280436, "post_id": 50717827, "comment_id": 88444294, "body": "Have you tried adding <code>baseUrl: &#39;http:&#47;&#47;www.angular.io&#39;</code> in protractor.conf.js as a top level property? (e.g. on the same level as <code>specs</code>, <code>capabilities</code>, <code>onPrepare</code> etc.)"}, {"owner": {"reputation": 467, "user_id": 3421383, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/3050b4f357e30652b7ca6beb39013e46?s=128&d=identicon&r=PG&f=1", "display_name": "simond", "link": "https://stackoverflow.com/users/3421383/simond"}, "reply_to_user": {"reputation": 1192, "user_id": 4049723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mzpoP.jpg?s=128&g=1", "display_name": "Protozoid", "link": "https://stackoverflow.com/users/4049723/protozoid"}, "edited": false, "score": 0, "creation_date": 1528283231, "post_id": 50717827, "comment_id": 88446073, "body": "Basically i want to know how it always launch localhost:4200. I read it is due to default behavior i.e. angular always listening on 4200."}, {"owner": {"reputation": 467, "user_id": 3421383, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/3050b4f357e30652b7ca6beb39013e46?s=128&d=identicon&r=PG&f=1", "display_name": "simond", "link": "https://stackoverflow.com/users/3421383/simond"}, "reply_to_user": {"reputation": 1192, "user_id": 4049723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mzpoP.jpg?s=128&g=1", "display_name": "Protozoid", "link": "https://stackoverflow.com/users/4049723/protozoid"}, "edited": false, "score": 0, "creation_date": 1528283582, "post_id": 50717827, "comment_id": 88446302, "body": "Yes i have tried  but it still launching localhost:4200, When i call -page.navigateTo(&#39;/&#39;); then expectation is it should navigate to baseUrl which i have provided"}, {"owner": {"reputation": 467, "user_id": 3421383, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/3050b4f357e30652b7ca6beb39013e46?s=128&d=identicon&r=PG&f=1", "display_name": "simond", "link": "https://stackoverflow.com/users/3421383/simond"}, "reply_to_user": {"reputation": 1192, "user_id": 4049723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mzpoP.jpg?s=128&g=1", "display_name": "Protozoid", "link": "https://stackoverflow.com/users/4049723/protozoid"}, "edited": false, "score": 0, "creation_date": 1528284503, "post_id": 50717827, "comment_id": 88446888, "body": "this command worked for me protractor --basurl=<a href=\"http://www.sites.net\" rel=\"nofollow noreferrer\">sites.net</a> but dont why it is not working when i set base url and say npm run e2e"}, {"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 1, "creation_date": 1528291033, "post_id": 50717827, "comment_id": 88451183, "body": "Please show your <code>package.jsonn</code> in your question"}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 7345558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/df1354ee4c985c37a2439af0724c9251?s=128&d=identicon&r=PG&f=1", "display_name": "Parthi", "link": "https://stackoverflow.com/users/7345558/parthi"}, "is_accepted": false, "score": 1, "last_activity_date": 1528362084, "creation_date": 1528362084, "answer_id": 50737149, "question_id": 50717827, "link": "https://stackoverflow.com/questions/50717827/protractor-typescript-to-launch-application-using-baseurl/50737149#50737149", "title": "Protractor Typescript to launch application using baseUrl", "body": "<p>Declare the baseUrl in config file as below,</p>\n\n<pre><code>exports.config = {\nframework: 'custom',\n//frameworkPath: protractorCucumberFramework,\nframeworkPath: require.resolve('protractor-cucumber-framework'),\n\nseleniumAddress: 'http://localhost:4444/wd/hub',\nbaseUrl: 'your application url',\n\n//Browser Configurations\ncapabilities: {\n    'browserName': 'chrome',\n    chromeOptions: {\n        // Chrome is controlled by automated software : disable\"\n        'args': ['disable-infobars=true'],\n    }\n},\n</code></pre>\n\n<p>And in Spec file, Call the baseUrl as mentioned below, </p>\n\n<pre><code> browser.get(\"\");\n</code></pre>\n\n<p>It Should work.</p>\n"}], "owner": {"reputation": 467, "user_id": 3421383, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/3050b4f357e30652b7ca6beb39013e46?s=128&d=identicon&r=PG&f=1", "display_name": "simond", "link": "https://stackoverflow.com/users/3421383/simond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528736481, "creation_date": 1528279968, "last_edit_date": 1528736481, "question_id": 50717827, "link": "https://stackoverflow.com/questions/50717827/protractor-typescript-to-launch-application-using-baseurl", "title": "Protractor Typescript to launch application using baseUrl", "body": "<p>I am using Protractor typescript for automation of angular application. When i run the using \"npm run e2e\" then i have observed that angular is always listening on <a href=\"https://localhost:4200\" rel=\"nofollow noreferrer\">https://localhost:4200</a>.</p>\n\n<p>I Tried to declare baseUrl in Protractor.conf.js as param as below -</p>\n\n<pre><code>params:\n    {\n    baseUrl: 'http://www.angular.io'}\n    ,\n</code></pre>\n\n<p>I am passing that baseUrl to navigate method in e2e-spec.ts as below -</p>\n\n<pre><code> page.navigateTo(browser.params.baseUrl);\n</code></pre>\n\n<p>But i don't want to pass Url each time in it block to the navigate() method. So i want baseUrl should be set once and reflected or used by all spec-ts file as base url. Like when i run the application using \"npm run e2e\" it automatically launches <a href=\"https://localhost:4200\" rel=\"nofollow noreferrer\">https://localhost:4200</a></p>\n\n<p>Can you please help me , how to change url at one place e.g. in protraactor.conf.js and it should automatically used by navigate() in spec.ts.</p>\n\n<p>Thanks for you help...</p>\n"}, {"tags": ["angular", "typescript", "signalr", "asp.net-core-signalr", "asp.net-core-2.1"], "comments": [{"owner": {"reputation": 2744, "user_id": 4098052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cf60de4dccb4a7525e0d49f5b20a99f?s=128&d=identicon&r=PG", "display_name": "Stephu", "link": "https://stackoverflow.com/users/4098052/stephu"}, "edited": false, "score": 0, "creation_date": 1528286696, "post_id": 50717806, "comment_id": 88448284, "body": "Show where you start the connection. Best show all signalr relevant javascript.Whats inside &quot;this._gameKey&quot;?"}, {"owner": {"reputation": 350, "user_id": 7766563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc3608061fb84c1c2d53dcd7f630686?s=128&d=identicon&r=PG&f=1", "display_name": "Arhire Ionut", "link": "https://stackoverflow.com/users/7766563/arhire-ionut"}, "reply_to_user": {"reputation": 2744, "user_id": 4098052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cf60de4dccb4a7525e0d49f5b20a99f?s=128&d=identicon&r=PG", "display_name": "Stephu", "link": "https://stackoverflow.com/users/4098052/stephu"}, "edited": false, "score": 0, "creation_date": 1528289198, "post_id": 50717806, "comment_id": 88449966, "body": "@Stephu I&#39;ve edited in the connection building code. this._gameKey is just an int."}, {"owner": {"reputation": 2744, "user_id": 4098052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cf60de4dccb4a7525e0d49f5b20a99f?s=128&d=identicon&r=PG", "display_name": "Stephu", "link": "https://stackoverflow.com/users/4098052/stephu"}, "edited": false, "score": 0, "creation_date": 1528289259, "post_id": 50717806, "comment_id": 88450002, "body": "Your shure that the connectipn established?"}, {"owner": {"reputation": 350, "user_id": 7766563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc3608061fb84c1c2d53dcd7f630686?s=128&d=identicon&r=PG&f=1", "display_name": "Arhire Ionut", "link": "https://stackoverflow.com/users/7766563/arhire-ionut"}, "reply_to_user": {"reputation": 2744, "user_id": 4098052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cf60de4dccb4a7525e0d49f5b20a99f?s=128&d=identicon&r=PG", "display_name": "Stephu", "link": "https://stackoverflow.com/users/4098052/stephu"}, "edited": false, "score": 0, "creation_date": 1528289408, "post_id": 50717806, "comment_id": 88450091, "body": "@Stephu yes. It is."}, {"owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "edited": false, "score": 0, "creation_date": 1528383930, "post_id": 50717806, "comment_id": 88496770, "body": "Open issue: <a href=\"https://github.com/aspnet/SignalR/issues/2439\" rel=\"nofollow noreferrer\">aspnet/SignalR#2439</a>"}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1528419810, "post_id": 50717806, "comment_id": 88511973, "body": "Have you tried enabling detailed error on the server side (e.g. like this: <a href=\"https://github.com/aspnet/SignalR/blob/3d0f68b22c05b918c4e2637af0d879e34c0b48a2/test/Microsoft.AspNetCore.SignalR.Tests/HubConnectionHandlerTests.cs#L515\" rel=\"nofollow noreferrer\">github.com/aspnet/SignalR/blob/&hellip;</a>)?"}], "owner": {"reputation": 350, "user_id": 7766563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc3608061fb84c1c2d53dcd7f630686?s=128&d=identicon&r=PG&f=1", "display_name": "Arhire Ionut", "link": "https://stackoverflow.com/users/7766563/arhire-ionut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1051, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528289153, "creation_date": 1528279903, "last_edit_date": 1528289153, "question_id": 50717806, "link": "https://stackoverflow.com/questions/50717806/signalr-throwing-hubexception-on-server-and-getting-the-error-message-on-typesc", "title": "SignalR: Throwing HubException on server and getting the error message on typescript client", "body": "<p>Starting the connection client-side:</p>\n\n<pre><code>ngOnInit() {\n    this._gameKey = parseInt(this._route.snapshot.paramMap.get('game-key'));\n\n    this._hubConnection = new HubConnectionBuilder()\n                          .withUrl('http://localhost:5000/match').build();\n\n    this._hubConnection.on('Connected', (data) =&gt; {this.connected(data)});\n\n    ...\n\n    this._hubConnection\n      .start()\n      .then(() =&gt; {})\n      .catch(err =&gt; console.log(err));\n}\n</code></pre>\n\n<p>Here is the back-end method I'm invoking:   </p>\n\n<pre><code>public async Task SendResources(string gameKey) {\n      throw new HubException(\"oops\");\n      ...\n}\n</code></pre>\n\n<p>In my typescript client I have:</p>\n\n<pre><code>public connected(data): void {    \n  this._hubConnection.invoke('SendResources', this._gameKey).catch(this.errorHandler);\n}\n\npublic errorHandler(err): void {\n  console.log(err);\n}\n</code></pre>\n\n<p>The execution flow enters 'errorHandler' with 'err' being of type Error. The problem is that I can't access the message of the exception. All info I get from the 'err' variable is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6kTVe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6kTVe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any Idea how to handle error messages correctly with signalR?</p>\n\n<h2>Versions:</h2>\n\n<p>.net core: 2.1<br>\nangular: 5<br>\n@aspnet/signalr: 1.0.0</p>\n"}, {"tags": ["reactjs", "typescript", "konvajs"], "answers": [{"comments": [{"owner": {"reputation": 4319, "user_id": 5449450, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/SYTTU.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/5449450/alan"}, "edited": false, "score": 0, "creation_date": 1528279721, "post_id": 50717274, "comment_id": 88443846, "body": "Thanks for your answer, but I do include the dom and it is still not working: &quot;lib&quot;: [&quot;es6&quot;, &quot;dom&quot;],"}], "tags": [], "owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "is_accepted": false, "score": 0, "last_activity_date": 1528278493, "creation_date": 1528278493, "answer_id": 50717274, "question_id": 50717127, "link": "https://stackoverflow.com/questions/50717127/new-window-image-is-not-working-with-typescript-react/50717274#50717274", "title": "new window.Image() is not working with typescript / react", "body": "<p>You're probably not including the <code>DOM</code> library.</p>\n\n<p>If you're using a tsconfig.json, include the following:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n            \"dom\"\n        ]\n    }\n}\n</code></pre>\n\n<p>Or if using the CLI:</p>\n\n<pre><code>tsc --lib dom ...\n</code></pre>\n\n<p>See <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a> for more info.</p>\n"}, {"tags": [], "owner": {"reputation": 4319, "user_id": 5449450, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/SYTTU.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/5449450/alan"}, "is_accepted": false, "score": 2, "last_activity_date": 1528280175, "creation_date": 1528280175, "answer_id": 50717892, "question_id": 50717127, "link": "https://stackoverflow.com/questions/50717127/new-window-image-is-not-working-with-typescript-react/50717892#50717892", "title": "new window.Image() is not working with typescript / react", "body": "<p>Solution is :</p>\n\n<pre><code>const image = new (window as any).Image()\nimage.src = './dragFile.png'\nimage.onload = () =&gt; {\n  this.setState({\n    image: image\n  })\n}\n</code></pre>\n\n<p>source: <a href=\"https://github.com/Microsoft/reactxp/blob/master/src/web/Image.tsx#L139\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/reactxp/blob/master/src/web/Image.tsx#L139</a></p>\n"}, {"tags": [], "owner": {"reputation": 2320, "user_id": 311701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5U4G.jpg?s=128&g=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/311701/guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1529961037, "creation_date": 1529961037, "answer_id": 51031837, "question_id": 50717127, "link": "https://stackoverflow.com/questions/50717127/new-window-image-is-not-working-with-typescript-react/51031837#51031837", "title": "new window.Image() is not working with typescript / react", "body": "<p>I found a solution using the following <a href=\"https://stackoverflow.com/questions/12709074/how-do-you-explicitly-set-a-new-property-on-window-in-typescript\">Stackoverflow question</a></p>\n\n<p>Since you're using KonvajS, they override the global <code>Image</code> definition with their own type which breaks the default Image HTMLImageElement DOM type</p>\n\n<p>If you're using stricter tslint rules that don't allow <code>any</code> keyword then this solution would work:</p>\n\n<pre><code>interface IHTMLImageElement {\n  prototype: HTMLImageElement\n  new(): HTMLImageElement\n}\n\ndeclare global {\n  // tslint:disable-next-line\n  interface Window {\n    Image: IHTMLImageElement\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4319, "user_id": 5449450, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/SYTTU.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/5449450/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1279, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1529961037, "creation_date": 1528278123, "last_edit_date": 1528279928, "question_id": 50717127, "link": "https://stackoverflow.com/questions/50717127/new-window-image-is-not-working-with-typescript-react", "title": "new window.Image() is not working with typescript / react", "body": "<p>I am using the library KonvasJs for React. (<a href=\"https://github.com/lavrton/react-konva#using-images\" rel=\"nofollow noreferrer\">https://github.com/lavrton/react-konva#using-images</a>)</p>\n\n<p>To load an image in javascript/React it is</p>\n\n<pre><code>  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"http://konvajs.github.io/assets/yoda.jpg\";\n    image.onload = () =&gt; {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n</code></pre>\n\n<p>It works fine.\nWhen I switch Typescript, I have this error: \n<a href=\"https://i.stack.imgur.com/TCewW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCewW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried also to add:</p>\n\n<pre><code>interface Window {\n    Image: typeof Image;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  interface Windows extends Window {\n      Image: typeof Image;\n  }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>declare global {\n  interface Window {\n      Image: typeof Image;\n  }\n}\n</code></pre>\n\n<p>Without success</p>\n\n<p><a href=\"https://i.stack.imgur.com/rVTXt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rVTXt.png\" alt=\"enter image description here\"></a>\nor\n<a href=\"https://i.stack.imgur.com/lon6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lon6l.png\" alt=\"enter image description here\"></a>\nAny ideas?</p>\n\n<p>Related issues:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/10241\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/10241</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/25203906/typescript-new-image-from-global-scope?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">TypeScript -- new Image() from global scope</a></p>\n\n<p><a href=\"https://ourcodeworld.com/articles/read/337/how-to-declare-a-new-property-on-the-window-object-with-typescript\" rel=\"nofollow noreferrer\">https://ourcodeworld.com/articles/read/337/how-to-declare-a-new-property-on-the-window-object-with-typescript</a></p>\n\n<p><a href=\"https://www.reddit.com/r/typescript/comments/5fieja/how_do_i_add_a_property_to_window_in_typescript_2/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/typescript/comments/5fieja/how_do_i_add_a_property_to_window_in_typescript_2/</a></p>\n"}, {"tags": ["angular", "typescript", "testing", "jasmine", "nativescript"], "comments": [{"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528278891, "post_id": 50717076, "comment_id": 88443318, "body": "can you remove <code>&quot;module&quot;: &quot;commonjs&quot;,</code> from your tsconfig.json file and try it???"}, {"owner": {"reputation": 43, "user_id": 5731959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syRSB.jpg?s=128&g=1", "display_name": "LightX", "link": "https://stackoverflow.com/users/5731959/lightx"}, "reply_to_user": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528282175, "post_id": 50717076, "comment_id": 88445355, "body": "@Sanoj_V i removed and still same error.."}], "owner": {"reputation": 43, "user_id": 5731959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syRSB.jpg?s=128&g=1", "display_name": "LightX", "link": "https://stackoverflow.com/users/5731959/lightx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1528302112, "creation_date": 1528277966, "last_edit_date": 1528302112, "question_id": 50717076, "link": "https://stackoverflow.com/questions/50717076/error-exports-is-not-defined-nativescript", "title": "Error: exports is not defined - Nativescript", "body": "<p>im tring to test the app with jasmine, and when the compilation is done i get this message:</p>\n\n<pre><code>Chrome 67.0.3396 (Windows 10 0.0.0) ERROR\n  {\n    \"message\": \"Uncaught ReferenceError: exports is not defined\\nat app/app-routing.module.js:2:23\\n\\nReferenceError: exports is not defined\\n    at app/app-routing.module.js:2:23\",\n    \"str\": \"Uncaught ReferenceError: exports is not defined\\nat app/app-routing.module.js:2:23\\n\\nReferenceError: exports is not defined\\n    at app/app-routing.module.js:2:23\"\n  }\n</code></pre>\n\n<p>i tried to add <code>export = 0</code> on the top of the file but i get another error:\n<code>An export assignment cannot be used in a module with other exported elements.</code> </p>\n\n<p>also i tried to move jasmine from devDependencies to dependencies, it didn't work..</p>\n\n<p>also tried to change <code>compilerOptions.module</code> to none, did'nt work either...\n<strong>and in the browser (karma)</strong>:\n<a href=\"https://i.stack.imgur.com/UgZcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UgZcv.png\" alt=\"karma debugger errors\"></a></p>\n\n<p><strong>app-routing.module.ts</strong>:</p>\n\n<pre><code>import { NgModule } from \"@angular/core\";\nimport { Routes } from \"@angular/router\";\nimport { NativeScriptRouterModule } from \"nativescript-angular/router\";\nimport { LoggedInLazyLoadGuard } from \"./logged-in-lazy-load.guard\";\n\nconst routes: Routes = [\n    { path: \"\", redirectTo: \"/home\", pathMatch: \"full\" },\n    { path: \"login\", loadChildren: \"./login/login.module#LoginModule\" },\n    { path: \"home\", loadChildren: \"./home/home.module#HomeModule\", canLoad: [LoggedInLazyLoadGuard] }\n];\n\n@NgModule({\n    imports: [NativeScriptRouterModule.forRoot(routes)],\n    exports: [NativeScriptRouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p><strong>tsconfig.json</strong>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"experimentalDecorators\": true,\n        \"emitDecoratorMetadata\": true,\n        \"noEmitHelpers\": true,\n        \"noEmitOnError\": true,\n\n        \"lib\": [\n            \"es6\",\n            \"dom\",\n            \"es2015.iterable\"\n        ],\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"~/*\": [\n                \"app/*\"\n            ],\n            \"*\": [\n                \"./node_modules/tns-core-modules/*\",\n                \"./node_modules/*\"\n            ]\n        }\n    },\n    \"exclude\": [\n        \"node_modules\",\n        \"platforms\"\n    ]\n}\n</code></pre>\n\n<p><strong>versions</strong></p>\n\n<pre><code>tns: 4.1.0\nnpm: 6.1.0\nnode: 8.11.2\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1528278897, "post_id": 50717065, "comment_id": 88443322, "body": "You can use this approach, but it will not work with generic functions optional parameter are not well handled <a href=\"https://stackoverflow.com/questions/49303695/promisify-functions-with-callbacks-in-typescript/49303971#49303971\" title=\"promisify functions with callbacks in typescript\">stackoverflow.com/questions/49303695/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1528281327, "post_id": 50717065, "comment_id": 88444854, "body": "I found a question I believe to be identical, If that answer does not satisfy you let me know and we can reopen this question or add clarifications on the other answer :)"}], "owner": {"reputation": 1347, "user_id": 229571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6ea5a29ef1a9ed54dedbf8a9721a368c?s=128&d=identicon&r=PG", "display_name": "chase", "link": "https://stackoverflow.com/users/229571/chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1528281257, "answer_count": 0, "score": 2, "last_activity_date": 1528277930, "creation_date": 1528277930, "question_id": 50717065, "link": "https://stackoverflow.com/questions/50717065/change-function-return-type-while-keeping-parameters", "closed_reason": "Duplicate", "title": "Change function return type while keeping parameters", "body": "<p>Given a function with an arbitrary signature, is it possible in TypeScript type system to express a new function type with the same signature, but a different return type?</p>\n\n<p>Getting the same type is easy with generics and type constraints (<code>T extends Function</code>). Conditional types with <code>infer</code> keyword allow one to extract the return type. But can something similar be done with the function's parameters?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webbrowser-control", "page-refresh"], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 9449389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f64798c6c7ef53243d7ba40c390f8261?s=128&d=identicon&r=PG&f=1", "display_name": "BlizZard", "link": "https://stackoverflow.com/users/9449389/blizzard"}, "edited": false, "score": 0, "creation_date": 1528279038, "post_id": 50717163, "comment_id": 88443413, "body": "Works like a Charm! Thanks mate, this is what i needed. @nesk"}], "tags": [], "owner": {"reputation": 256, "user_id": 1513045, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/22e14b6ee5f5343307e3ff45b3167324?s=128&d=identicon&r=PG", "display_name": "Nesk", "link": "https://stackoverflow.com/users/1513045/nesk"}, "is_accepted": false, "score": 1, "last_activity_date": 1528278223, "creation_date": 1528278223, "answer_id": 50717163, "question_id": 50717047, "link": "https://stackoverflow.com/questions/50717047/unable-to-get-confirm-box-when-user-refreshes-reloads-page-in-angular-4/50717163#50717163", "title": "Unable to get confirm box when user Refreshes/Reloads page in Angular 4", "body": "<p>Here's what what <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload\" rel=\"nofollow noreferrer\">MDN</a> says:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onbeforeunload = function(e) {\r\n  var dialogText = 'Dialog text here';\r\n  e.returnValue = dialogText;\r\n  return dialogText;\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You should use the <code>returnValue</code> property in addition to the <code>return</code> keyword.</p>\n"}], "owner": {"reputation": 518, "user_id": 9449389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f64798c6c7ef53243d7ba40c390f8261?s=128&d=identicon&r=PG&f=1", "display_name": "BlizZard", "link": "https://stackoverflow.com/users/9449389/blizzard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528278223, "creation_date": 1528277880, "question_id": 50717047, "link": "https://stackoverflow.com/questions/50717047/unable-to-get-confirm-box-when-user-refreshes-reloads-page-in-angular-4", "title": "Unable to get confirm box when user Refreshes/Reloads page in Angular 4", "body": "<p>I am building an angular 4 app, and i want to implement <code>a confirm box</code> which will be shown, only when the user is pressing the page refresh or does page reload. The confirm box should be something like <a href=\"https://i.stack.imgur.com/LvVoq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LvVoq.png\" alt=\"this\"></a></p>\n\n<p>I have used the same code as it is in <a href=\"https://jsfiddle.net/Lda61q3d/119/\" rel=\"nofollow noreferrer\">here</a>.\nIn jsfiddle, the functionality is working fine, but in my angular app, it is not working.\nIf i put any <code>console.log</code> inside the function, then i am able to get the output in console, as soon as i refresh the page, but this doesnt stop the page from reloading.</p>\n\n<p>Any suggestion whats wrong here!</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1528277468, "post_id": 50716653, "comment_id": 88442285, "body": "@R&#233;miRousselet improved it with a function version as well"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1528278749, "post_id": 50716653, "comment_id": 88443197, "body": "Do you know if there&#39;s any way to remove <code>Foo</code> from the typedef/function ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1528278798, "post_id": 50716653, "comment_id": 88443225, "body": "@R&#233;miRousselet I though about it but I don&#39;t know of a solution"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1528277447, "last_edit_date": 1528277447, "creation_date": 1528276737, "answer_id": 50716653, "question_id": 50716477, "link": "https://stackoverflow.com/questions/50716477/how-to-merge-fooa-foob-into-fooa-b/50716653#50716653", "title": "How to merge Foo&lt;A&gt; | Foo&lt;B&gt; into Foo&lt;A | B&gt;", "body": "<p>You can use a conditional type to achieve this (union types distribute over unions which helps us in this case)</p>\n\n<pre><code>type UnionOfFooToFooOfUnion&lt;T extends Foo&lt;any&gt; &gt; = Foo&lt; T extends Foo&lt;infer U&gt; ? U : never&gt;\n\nlet foo!: Foo&lt;string&gt; | Foo&lt;number&gt; | Foo&lt;boolean&gt;;\n\nlet merged: UnionOfFooToFooOfUnion&lt;typeof foo&gt; =  foo // we can just assign it \n</code></pre>\n\n<p>Or we could use a function:</p>\n\n<pre><code>function mergeFoo&lt;T extends Foo&lt;any&gt;&gt;(foo: T): UnionOfFooToFooOfUnion&lt;T&gt; {\n    return foo;\n}\nmergeFoo(foo).pipe(s=&gt; console.log(s)) // s is number | string | boolean\n</code></pre>\n"}], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 50716653, "answer_count": 1, "score": 4, "last_activity_date": 1528277447, "creation_date": 1528276238, "last_edit_date": 1528276864, "question_id": 50716477, "link": "https://stackoverflow.com/questions/50716477/how-to-merge-fooa-foob-into-fooa-b", "title": "How to merge Foo&lt;A&gt; | Foo&lt;B&gt; into Foo&lt;A | B&gt;", "body": "<p>I fell into a case where I have the following variable :</p>\n\n<pre><code>var foo: Foo&lt;string&gt; | Foo&lt;number&gt; | Foo&lt;boolean&gt;;\n</code></pre>\n\n<p>generated dynamically (using keyof and stuff), which is fully intended at that point of the code. But then, I need to call methods inside that object defined like this :</p>\n\n<pre><code>class Foo&lt;T&gt; {\n    pipe(): Foo&lt;T&gt;;\n    pipe&lt;A, B&gt;(obj: Operator&lt;T, A&gt;, obj2: Operator&lt;A, B&gt;): Foo&lt;B&gt;;\n    pipe&lt;A&gt;(obj: Operator&lt;T, A&gt;): Foo&lt;A&gt;;\n    pipe(...obj: Operator[]): Foo&lt;any&gt; {\n        return new Foo();\n    }\n}\n</code></pre>\n\n<p>The problem being, when I do the following :</p>\n\n<pre><code>const f = foo.pipe((bar) =&gt; new Foo());\n</code></pre>\n\n<p><code>bar</code> is infered as <code>string</code> while I'd expect <code>string | number | boolean</code>.</p>\n\n<p>My guess here is that I need to convert <code>Foo&lt;string&gt; | Foo&lt;number&gt; | Foo&lt;boolean&gt;</code> into <code>Foo&lt;string | number | boolean&gt;</code> where it solves the problem.</p>\n\n<p>How can I do such convertion ?</p>\n"}, {"tags": ["reactjs", "typescript", "mobx"], "comments": [{"owner": {"reputation": 11708, "user_id": 2024590, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ixKgZ.jpg?s=128&g=1", "display_name": "Hinrich", "link": "https://stackoverflow.com/users/2024590/hinrich"}, "edited": false, "score": 0, "creation_date": 1528274630, "post_id": 50715760, "comment_id": 88440429, "body": "Your <code>input</code> is in fact controlled, so I don&#39;t see the problem. Maybe you have another input element somewhere in your code, that is not controlled?"}, {"owner": {"reputation": 65, "user_id": 9901952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0f024c6eebae2540c62086133548a0?s=128&d=identicon&r=PG&f=1", "display_name": "cooperJCW", "link": "https://stackoverflow.com/users/9901952/cooperjcw"}, "reply_to_user": {"reputation": 11708, "user_id": 2024590, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ixKgZ.jpg?s=128&g=1", "display_name": "Hinrich", "link": "https://stackoverflow.com/users/2024590/hinrich"}, "edited": false, "score": 0, "creation_date": 1528276800, "post_id": 50715760, "comment_id": 88441825, "body": "No, i have only one input in project"}, {"owner": {"reputation": 11708, "user_id": 2024590, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ixKgZ.jpg?s=128&g=1", "display_name": "Hinrich", "link": "https://stackoverflow.com/users/2024590/hinrich"}, "edited": false, "score": 0, "creation_date": 1528277359, "post_id": 50715760, "comment_id": 88442213, "body": "Can you set up a plunkr, codepen, or similar to reproduce this problem?"}], "answers": [{"tags": [], "owner": {"reputation": 2941, "user_id": 280630, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/37dc1ac107970e31e25710b9ddfe8703?s=128&d=identicon&r=PG", "display_name": "adharris", "link": "https://stackoverflow.com/users/280630/adharris"}, "is_accepted": true, "score": 4, "last_activity_date": 1582344917, "last_edit_date": 1582344917, "creation_date": 1528293109, "answer_id": 50722189, "question_id": 50715760, "link": "https://stackoverflow.com/questions/50715760/react-mobx-warning-a-component-is-changing-an-uncontrolled-input/50722189#50722189", "title": "React-Mobx Warning: A component is changing an uncontrolled input", "body": "<p>React's inputs are controlled/uncontrolled based on the presence of the value prop on the input. You're passing the value prop, but <code>_inputText</code> starts as <code>undefined</code>. And when input's value starts undefined, React will always start the input in uncontrolled mode.</p>\n\n<p>Once you type in the input, <code>_inputText</code> is no longer undefined, and the input flips to controlled mode, and you get the warning.</p>\n\n<p>For your case, the fix is simple; just initialize <code>_inputText</code> to the empty string:</p>\n\n<pre><code>@observable\nprivate _inputText: string = '';\n</code></pre>\n\n<p>You could also tweak your <code>&lt;InputField /&gt;</code> to force undefined value props to be the empty string:</p>\n\n<pre><code>  render() {\n    return (\n      &lt;div&gt;\n        &lt;input\n          type=\"text\"\n          value={this.props.value == null ? '' : this.props.value}\n          onChange={this.onChange}\n        /&gt;\n     &lt;/div&gt;\n   );\n }\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 9901952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0f024c6eebae2540c62086133548a0?s=128&d=identicon&r=PG&f=1", "display_name": "cooperJCW", "link": "https://stackoverflow.com/users/9901952/cooperjcw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 50722189, "answer_count": 1, "score": 6, "last_activity_date": 1582344917, "creation_date": 1528274024, "question_id": 50715760, "link": "https://stackoverflow.com/questions/50715760/react-mobx-warning-a-component-is-changing-an-uncontrolled-input", "title": "React-Mobx Warning: A component is changing an uncontrolled input", "body": "<p>I use React + TypeScript + Mobx. I made the form with input, everything is working, but the browser gives an error. What am I doing wrong?</p>\n\n<blockquote>\n  <p>Warning: A component is changing an uncontrolled input of type text to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component.</p>\n</blockquote>\n\n<p>Form:</p>\n\n<pre><code>@observer\nexport class SearchForm extends React.Component {\n\n    @observable\n    private _inputText: string;\n\n    submitForm = (event: SyntheticEvent&lt;HTMLFormElement&gt;) =&gt; {\n    event.preventDefault();\n    }\n\n    render() {\n      return (\n        &lt;form onSubmit={this.submitForm}&gt;\n          &lt;InputField\n            value={this._inputText}\n            onChange={action((value: string) =&gt; this._inputText = value)}\n          /&gt;\n       &lt;/form&gt;\n    );}}\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>interface Props {\n  value: string;\n  onChange: (inputText: string) =&gt; void;\n}\n\n@observer\nexport class InputField extends React.Component&lt;Props&gt; {\n\n  onChange = (event: SyntheticEvent&lt;HTMLInputElement&gt;) =&gt; {\n  this.props.onChange(event.currentTarget.value);\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;input\n          type=\"text\"\n          value={this.props.value}\n          onChange={this.onChange}\n        /&gt;\n     &lt;/div&gt;\n   );\n }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase"], "comments": [{"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1528274044, "post_id": 50715633, "comment_id": 88440096, "body": "what is <code>this._property</code>?"}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1528274045, "post_id": 50715633, "comment_id": 88440099, "body": "What is <code>_property</code>?"}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "reply_to_user": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1528274191, "post_id": 50715633, "comment_id": 88440184, "body": "@dfsq public _property: PropertyService (linking to a service where I have created that function)"}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "reply_to_user": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1528274215, "post_id": 50715633, "comment_id": 88440195, "body": "@sabithpocker I have answered above but could not tag you"}, {"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1528274278, "post_id": 50715633, "comment_id": 88440229, "body": "Make sure your service is injectable."}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "reply_to_user": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1528274407, "post_id": 50715633, "comment_id": 88440302, "body": "@dfsq it is injectable"}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1528274693, "post_id": 50715633, "comment_id": 88440466, "body": "I\u2019m getting \u201cProperty \u2018subscribe\u2019 does not exist on type AngularFirestoreCollection&lt;any&gt;\u201d"}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "reply_to_user": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1528274799, "post_id": 50715633, "comment_id": 88440529, "body": "@dfsq is that helps at all?"}, {"owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1528290618, "post_id": 50715633, "comment_id": 88450858, "body": "don&#39;t you need to call <code>valueChanges()</code> on your collection before you can <code>subscribe()</code>"}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1528298386, "post_id": 50715633, "comment_id": 88456287, "body": "can you post the constructor of the component along with ngOnInit, or may the complete component file with unwanted functions stripped off? And may be the complete service file as well. The info provided here is not enough to reproduce the problem or even to guess what might have gone wrong."}], "answers": [{"tags": [], "owner": {"reputation": 2209, "user_id": 1441024, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xCyqk.png?s=128&g=1", "display_name": "prettyfly", "link": "https://stackoverflow.com/users/1441024/prettyfly"}, "is_accepted": false, "score": 0, "last_activity_date": 1528362519, "creation_date": 1528362519, "answer_id": 50737298, "question_id": 50715633, "link": "https://stackoverflow.com/questions/50715633/calling-a-firebase-function-in-angular/50737298#50737298", "title": "Calling a Firebase function in Angular", "body": "<p>Your service function <code>getAllLikedProperties()</code> isn't returning an observable, it's returning the value of your filtered afs collection.</p>\n\n<p>Change your function to return an observable, and you can subscribe to it, for example:</p>\n\n<pre><code>getAllUserLikedProperties(): AngularFirestoreCollection&lt;any&gt; {\n\n    const properties$: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n    properties$.next(this.afs.collection('users', ref =&gt;\n      ref.where('uid', '==', this._auth.currentUserId)\n        .where('likedProp', '==', true)\n    ));\n   return properties$;\n}\n</code></pre>\n\n<p>Alternatively, you could use RxJs's <code>of</code> operator to return the observable stream:</p>\n\n<pre><code>import { of } from 'rxjs';\n\ngetAllUserLikedProperties(): AngularFirestoreCollection&lt;any&gt; {\n    return of(this.afs.collection('users', ref =&gt;\n      ref.where('uid', '==', this._auth.currentUserId)\n        .where('likedProp', '==', true)\n    ));\n}\n</code></pre>\n\n<p>Or, forget the subscription altogether, and just assign the value immediately.</p>\n\n<pre><code>ngOnInit() {\n    this.likedProp = this._property.getAllUserLikedProperties();\n}\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528362519, "creation_date": 1528273627, "last_edit_date": 1528361723, "question_id": 50715633, "link": "https://stackoverflow.com/questions/50715633/calling-a-firebase-function-in-angular", "title": "Calling a Firebase function in Angular", "body": "<p>I have made this function: </p>\n\n<pre><code>  getAllUserLikedProperties(): AngularFirestoreCollection&lt;any&gt; {\n    return this.afs.collection('users', ref =&gt;\n      ref.where('uid', '==', this._auth.currentUserId)\n        .where('likedProp', '==', true)\n    );\n  }\n</code></pre>\n\n<p>and I have tried to call it liked this:</p>\n\n<pre><code>  ngOnInit() {\n      this._property.getAllUserLikedProperties().subscribe(likedProp =&gt; {\n        console.log(likedProp);\n        this.likedProp = likedProp;\n      });\n\n    }\n</code></pre>\n\n<p>however it returns this error:</p>\n\n<pre><code>ERROR TypeError: this._property.getAllUserLikedProperties is not a function\n</code></pre>\n\n<p>Anyone know why? And know how I should call this?</p>\n"}, {"tags": ["sql", "cordova", "typescript", "ionic3", "cordova-plugins"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6682439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HthHF.jpg?s=128&g=1", "display_name": "Matthew M", "link": "https://stackoverflow.com/users/6682439/matthew-m"}, "edited": false, "score": 0, "creation_date": 1528286919, "post_id": 50718934, "comment_id": 88448458, "body": "Perfect, i can&#39;t believe it was something so simple, it has been driving me crazy over the last day! Thanks for your help Dave."}], "tags": [], "owner": {"reputation": 28127, "user_id": 777265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BNXHx.jpg?s=128&g=1", "display_name": "DaveAlden", "link": "https://stackoverflow.com/users/777265/davealden"}, "is_accepted": true, "score": 1, "last_activity_date": 1528283334, "creation_date": 1528283334, "answer_id": 50718934, "question_id": 50715516, "link": "https://stackoverflow.com/questions/50715516/database-table-not-being-created-using-sqliteporter-syntax-error/50718934#50718934", "title": "Database table not being created using SQLitePorter - Syntax Error", "body": "<p>Your SQL statement is using MySQL syntax but you are attempting to import it to a SQLite database.</p>\n\n<p>For example, <code>KEY</code> is a MySQL keyword; its SQLite equivalent is <code>INDEX</code> (<a href=\"https://stackoverflow.com/a/13835275/777265\">see here</a>).</p>\n\n<p>In SQLite, the index can't be created in the <code>CREATE TABLE</code> statement, so requires a separate <code>CREATE INDEX</code> statement, e.g.</p>\n\n<pre><code>CREATE INDEX fkIdx_30 ON localListItems(itemId)\n</code></pre>\n\n<p>You can paste your SQL into an online tool such as <a href=\"http://sqlfiddle.com\" rel=\"nofollow noreferrer\">http://sqlfiddle.com</a>, set the engine to SQLite and hit \"Build Schema\" to test the syntax works in SQLite.</p>\n"}], "owner": {"reputation": 331, "user_id": 6682439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HthHF.jpg?s=128&g=1", "display_name": "Matthew M", "link": "https://stackoverflow.com/users/6682439/matthew-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 50718934, "answer_count": 1, "score": 0, "last_activity_date": 1528283334, "creation_date": 1528273256, "last_edit_date": 1528280920, "question_id": 50715516, "link": "https://stackoverflow.com/questions/50715516/database-table-not-being-created-using-sqliteporter-syntax-error", "title": "Database table not being created using SQLitePorter - Syntax Error", "body": "<p>So i'm having an issue with creating a specific table using the SQLitePorter plugin.</p>\n\n<p>I have a file in my assets folder called initDB.sql, within this i have this SQL Line:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `localListItems` (\n   `id` INTEGER NOT NULL ,\n   `quantity` TINYINT(2) NOT NULL , \n   `checked` TINYINT(1) NOT NULL DEFAULT 0 ,\n   `listId` INTEGER NOT NULL , \n   `itemId` INTEGER NOT NULL , \n    PRIMARY KEY (`id`), \n    KEY `fkIdx_26` (`listId`), \n    CONSTRAINT `FK_26` \n      FOREIGN KEY `fkIdx_26` (`listId`) \n      REFERENCES `localLists` (`id`) \n      ON DELETE CASCADE, \n    KEY `fkIdx_30` (`itemId`), \n    CONSTRAINT `FK_30` \n      FOREIGN KEY `fkIdx_30` (`itemId`) \n      REFERENCES `localItems` (`id`) \n      ON DELETE CASCADE\n);\n</code></pre>\n\n<p>Minified Version:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `localListItems` ( `id` INTEGER NOT NULL , `quantity` TINYINT(2) NOT NULL , `checked` TINYINT(1) NOT NULL DEFAULT 0 , `listId` INTEGER NOT NULL , `itemId` INTEGER NOT NULL , PRIMARY KEY (`id`), KEY `fkIdx_26` (`listId`), CONSTRAINT `FK_26` FOREIGN KEY `fkIdx_26` (`listId`) REFERENCES `localLists` (`id`) ON DELETE CASCADE, KEY `fkIdx_30` (`itemId`), CONSTRAINT `FK_30` FOREIGN KEY `fkIdx_30` (`itemId`) REFERENCES `localItems` (`id`) ON DELETE CASCADE);\n</code></pre>\n\n<p>which is minified in the document and therefore takes up one line to prevent escaping errors '\\n'</p>\n\n<p>I am calling this file using the following typescript code:</p>\n\n<pre><code>this.httpClient.get('assets/initDB.sql', { responseType: 'text' })\n      .subscribe((sql:any) =&gt; {\n        this.sqlitePorter.importSqlToDb(this.database, sql)\n          .then(data =&gt; {\n            this.databaseReady.next(true);\n            this.storage.set('database_filled', this.databaseVersionControl);\n          })\n          .catch(e =&gt; console.log(e));\n      });\n</code></pre>\n\n<p>All the other tables are inserting as required (not shown in the above) however the SQL above works fine in PHPMyAdmin but is not working when trying to create it using SQLite.</p>\n\n<p>The error appearing in the console is the following JSON.</p>\n\n<pre><code>{\n  \"code\":5,\n  \"message\":\"Failed to import SQL; message=near \\\"KEY\\\": syntax error\",\n  \"statement\":\"CREATE TABLE IF NOT EXISTS `localListItems` ( `id` INTEGER NOT NULL , `quantity` TINYINT(2) NOT NULL , `checked` TINYINT(1) NOT NULL DEFAULT 0 , `listId` INTEGER NOT NULL , `itemId` INTEGER NOT NULL , PRIMARY KEY (`id`), KEY `fkIdx_26` (`listId`), CONSTRAINT `FK_26` FOREIGN KEY `fkIdx_26` (`listId`) REFERENCES `localLists` (`id`) ON DELETE CASCADE, KEY `fkIdx_30` (`itemId`), CONSTRAINT `FK_30` FOREIGN KEY `fkIdx_30` (`itemId`) REFERENCES `localItems` (`id`) ON DELETE CASCADE)\"\n}\n</code></pre>\n\n<p>Any help as to why this isn't working would be much appriciated. As i can't understand the error code much.</p>\n\n<p>Thank you.</p>\n\n<ul>\n<li>Matt</li>\n</ul>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1528273247, "post_id": 50715459, "comment_id": 88439601, "body": "Angular and the language service don&#39;t currently support type checks in the template bindings, see e.g. <a href=\"https://github.com/angular/vscode-ng-language-service/issues/143\" rel=\"nofollow noreferrer\">github.com/angular/vscode-ng-language-service/issues/143</a>. Also please note that a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be in the question itself."}, {"owner": {"reputation": 377, "user_id": 3703539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8d8f4ad3b67984a6469497901241924?s=128&d=identicon&r=PG&f=1", "display_name": "user3703539", "link": "https://stackoverflow.com/users/3703539/user3703539"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1528273481, "post_id": 50715459, "comment_id": 88439734, "body": "Thanks a lot, It&#39;s the answer, one day type checks will be supported ?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1528273547, "post_id": 50715459, "comment_id": 88439766, "body": "I don&#39;t know whether that&#39;s planned and certainly can&#39;t predict whether it will ever get implemented."}], "owner": {"reputation": 377, "user_id": 3703539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8d8f4ad3b67984a6469497901241924?s=128&d=identicon&r=PG&f=1", "display_name": "user3703539", "link": "https://stackoverflow.com/users/3703539/user3703539"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528273281, "creation_date": 1528273036, "question_id": 50715459, "link": "https://stackoverflow.com/questions/50715459/angular-typescript-generic-class-not-throw-error", "title": "Angular Typescript Generic Class not throw error", "body": "<p>I try to use a generic class that works on a set of types (using an interface). When i pass my attributes to the component, i need to throw an error if the type was not respected.</p>\n\n<p>Here is the example : <a href=\"https://codesandbox.io/s/m7ryzwyrj\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/m7ryzwyrj</a></p>\n\n<p>I defined title as a string, but when i passed title as an Array or Number or something else none errors are throws.</p>\n\n<blockquote>\n  <p>[title]=\"{title: []}\" &lt;--- No Error Type (but must be a string)</p>\n</blockquote>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 9903489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b9193627b5ab8c247c41be2f3f01e8?s=128&d=identicon&r=PG&f=1", "display_name": "Yaugen Zhuk", "link": "https://stackoverflow.com/users/9903489/yaugen-zhuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1528290178, "last_edit_date": 1528290178, "creation_date": 1528289724, "answer_id": 50720984, "question_id": 50715335, "link": "https://stackoverflow.com/questions/50715335/typescript-keyof-keyword-makes-error-when-using-with-react-setstate-function/50720984#50720984", "title": "Typescript &#39;keyof&#39; keyword makes error when using with react setState function", "body": "<p>Try this code:</p>\n\n<pre><code>onChange = (key: keyof IState) =&gt; (event: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n    this.setState({\n      [key]: event.currentTarget.value\n    } as Pick&lt;IState, keyof IState&gt;);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 5988867, "user_type": "registered", "profile_image": "https://graph.facebook.com/926174397495756/picture?type=large", "display_name": "jeyongOh", "link": "https://stackoverflow.com/users/5988867/jeyongoh"}, "edited": false, "score": 0, "creation_date": 1528300958, "post_id": 50721000, "comment_id": 88457966, "body": "Thanks. You save my time."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1528289770, "creation_date": 1528289770, "answer_id": 50721000, "question_id": 50715335, "link": "https://stackoverflow.com/questions/50715335/typescript-keyof-keyword-makes-error-when-using-with-react-setstate-function/50721000#50721000", "title": "Typescript &#39;keyof&#39; keyword makes error when using with react setState function", "body": "<p>You have run into a <a href=\"https://github.com/Microsoft/TypeScript/issues/13948\" rel=\"nofollow noreferrer\">known TypeScript bug</a> where a computed property of a union type is widened to an index signature.  It <em>looks</em> like this will be <a href=\"https://github.com/Microsoft/TypeScript/pull/21070\" rel=\"nofollow noreferrer\">fixed</a> for TypeScript 3.0, but that's not certain.</p>\n\n<p>The workaround you should use for now is just to <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">assert</a> that the object is of the expected type:</p>\n\n<pre><code>this.setState({ [key]: value } as Record&lt;typeof key, typeof value&gt;);\n</code></pre>\n\n<p>I'm not familiar enough with React to know if <code>setState()</code> is expecting a full <code>State</code>, but be warned that <code>{ [key]: value }</code> is a <code>Partial&lt;State&gt;</code> since it won't contain both keys... and TypeScript won't catch this because <code>key</code> is a union type.  So be careful at runtime.  You might want to do the assertion as</p>\n\n<pre><code>this.setState({ [key]: value } as Partial&lt;State&gt;);\n</code></pre>\n\n<p>and if that causes an error, it is a real error you should fix.</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 3120368, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/595d29099fa8c595678ff69e13a184d6?s=128&d=identicon&r=PG&f=1", "display_name": "mrOak", "link": "https://stackoverflow.com/users/3120368/mroak"}, "is_accepted": false, "score": 0, "last_activity_date": 1575668970, "last_edit_date": 1575668970, "creation_date": 1575668540, "answer_id": 59220693, "question_id": 50715335, "link": "https://stackoverflow.com/questions/50715335/typescript-keyof-keyword-makes-error-when-using-with-react-setstate-function/59220693#59220693", "title": "Typescript &#39;keyof&#39; keyword makes error when using with react setState function", "body": "<p>Adding this as an alternative as this solved my issue.</p>\n\n<p>It seems that when setting the state <code>this.setState({prop: value})</code> React TS can sometimes expect the full <code>state</code>as speculated by @jcalz on the selected answer.</p>\n\n<pre><code>this.setState({\n      ...this.state,\n      [key]: value\n});\n</code></pre>\n\n<p>More information about best practices regarding this issue here:\n<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/26635\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/issues/26635</a></p>\n"}], "owner": {"reputation": 79, "user_id": 5988867, "user_type": "registered", "profile_image": "https://graph.facebook.com/926174397495756/picture?type=large", "display_name": "jeyongOh", "link": "https://stackoverflow.com/users/5988867/jeyongoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 1, "accepted_answer_id": 50721000, "answer_count": 3, "score": 0, "last_activity_date": 1575668970, "creation_date": 1528272635, "question_id": 50715335, "link": "https://stackoverflow.com/questions/50715335/typescript-keyof-keyword-makes-error-when-using-with-react-setstate-function", "title": "Typescript &#39;keyof&#39; keyword makes error when using with react setState function", "body": "<p>I'm coding Simple LoginForm with react and typescript.    </p>\n\n<pre><code>interface State {\n    username: string;\n    password: string;\n}\n\nclass LoginForm extends React.Component&lt;Props, State&gt; {\n    readonly state: Readonly&lt;State&gt; = {\n        username: '',\n        password: ''\n    }\n\n    onChange = (key: keyof State) =&gt; (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n        const value = e.currentTarget.value;\n        this.setState({ [key]: value });  // error\n    }\n\n    render() {\n        return (\n            ...\n            &lt;TextField\n                ...\n                onChange={this.onChange('username')}\n            /&gt;\n            &lt;TextField\n                ...\n                onChange={this.onChange('password')}\n            /&gt;\n            ...\n        )\n    }\n}\n</code></pre>\n\n<p>Typescript failed to compile in setState line with is error.</p>\n\n<blockquote>\n  <p>Argument of type '{ [x: string]: string; }' is not assignable to parameter of type 'State | ((prevState: Readonly, props: Props) => State | Pick'.\n      Property 'username' is missing in type '{ [x: string]: string; }'.</p>\n</blockquote>\n\n<p>The 'key' parameter in this.onChange function only allows either 'username' or 'password' as I expected. This means that typescript knows\ntypeof 'key' parameter must be either 'username' or 'password'. This is obvious because I defined it as (key: key of State).</p>\n\n<p>But why in setState function, typeof 'key' parameter changes to just normal string?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["arrays", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3536, "user_id": 1463584, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7634126fd83f4491bfd991374f6a099a?s=128&d=identicon&r=PG", "display_name": "Sebi", "link": "https://stackoverflow.com/users/1463584/sebi"}, "edited": false, "score": 0, "creation_date": 1528272777, "post_id": 50715297, "comment_id": 88439326, "body": "Thank you wasn&#39;t aware the there is a difference between objects and classes."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1528272495, "creation_date": 1528272495, "answer_id": 50715297, "question_id": 50715103, "link": "https://stackoverflow.com/questions/50715103/typescript-tells-me-method-is-property-and-cant-create-object/50715297#50715297", "title": "Typescript tells me method is property and can&#39;t create Object", "body": "<p>The problem is that object literals are not instances of the class <code>Employee</code>. In order to create an instance of <code>Employee</code> you need to use the <code>new</code> operator ( <code>new Employee()</code> ). </p>\n\n<p>Since typescript uses structural compatibility to determine type compatibility, you can assign an object literal if you provide ALL the members of the class. But the object literal will still not be an instance of the class:</p>\n\n<pre><code>let emp: Employee =  { \n    id: 1, title: Titles.Nothing, firstName: \"Max\", lastName: \"Mustermann\",\n    getName : Employee.prototype.getName\n} // This is ok, we have the getName  member\n\nconsole.log(emp instanceof Employee) /// Still false, not an instance since we did not create it using new Employee\n</code></pre>\n\n<p>A better option would be to provide a constructor that accepts the object literal as a parameter an use that: </p>\n\n<pre><code>export class Employee implements Person{\n    constructor (data: Partial&lt;Employee&gt;) {\n        Object.assign(this, data);\n    }\n    /// ....\n}\n\n\nlet emp: Employee =  new Employee({ \n    id: 1, title: Titles.Nothing, firstName: \"Max\", lastName: \"Mustermann\",\n});\n\nconsole.log(emp instanceof Employee) /// True now\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "is_accepted": false, "score": 1, "last_activity_date": 1528272503, "creation_date": 1528272503, "answer_id": 50715299, "question_id": 50715103, "link": "https://stackoverflow.com/questions/50715103/typescript-tells-me-method-is-property-and-cant-create-object/50715299#50715299", "title": "Typescript tells me method is property and can&#39;t create Object", "body": "<p>Since <code>Employee</code> is a class, not a simple object, you need to create new <code>Employee</code>s with <code>new</code>, not with a simple object declaration.</p>\n\n<p>Define a constructor that takes <code>id</code>, <code>title</code>, <code>firstName</code>, and <code>lastName</code> as arguments, then do something like this:</p>\n\n<pre><code>export const PROJECTMANAGER: Employee[] = [\n    new Employee(1, Titles.Nothing, \"Max\", \"Mustermann\"),\n    new Employee(2, Titles.Nothing, \"Willy\", \"Brandt\"),\n    new Employee(3, Titles.Dr, \"Walter\", \"Steinmeier\")\n];\n</code></pre>\n"}], "owner": {"reputation": 3536, "user_id": 1463584, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7634126fd83f4491bfd991374f6a099a?s=128&d=identicon&r=PG", "display_name": "Sebi", "link": "https://stackoverflow.com/users/1463584/sebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 50715297, "answer_count": 2, "score": 2, "last_activity_date": 1577097233, "creation_date": 1528271876, "last_edit_date": 1592644375, "question_id": 50715103, "link": "https://stackoverflow.com/questions/50715103/typescript-tells-me-method-is-property-and-cant-create-object", "title": "Typescript tells me method is property and can&#39;t create Object", "body": "<p>iam new to typescript and don't understand the following behaviour. I have an interface like this:</p>\n<pre><code>import { Titles } from &quot;../enumerations/titles&quot;;\n\n/**\n * Representing a Person\n */\nexport interface Person{\n    id: number;\n    title: Titles\n    firstName: string;\n    lastName: string;\n    getName(): string;\n}\n</code></pre>\n<p>And now I want to create an Const Array for mocking some Employees. Therefore I got this class:</p>\n<pre><code>import { Person } from &quot;../interfaces/person&quot;;\nimport { Titles } from &quot;../enumerations/titles&quot;;\n\n/**\n * Represents an Employee\n */\nexport class Employee implements Person{\n    id: number;\n    title: Titles\n    firstName: string;\n    lastName: string;\n    \n    getName(): string {\n\n        if (this.title === Titles.Nothing){\n            return this.firstName + &quot; &quot; + this.lastName;\n        }\n\n        return this.title + &quot; &quot; + this.firstName + &quot; &quot; + this.lastName;        \n    }\n}\n</code></pre>\n<p>And the Constant:</p>\n<pre><code>import { Titles } from &quot;../enumerations/titles&quot;;\nimport { Person } from &quot;../interfaces/person&quot;;\n\nexport const PROJECTMANAGER: Employee[] = [\n    { id: 1, title: Titles.Nothing, firstName: &quot;Max&quot;, lastName: &quot;Mustermann&quot; },\n    { id: 2, title: Titles.Nothing, firstName: &quot;Willy&quot;, lastName: &quot;Brandt&quot; },\n    { id: 3, title: Titles.Dr, firstName: &quot;Walter&quot;, lastName: &quot;Steinmeier&quot; }\n];\n</code></pre>\n<p>The precompiler told me that this can't work, because Property getName isn't declared in my example values. But this is a Method I just want to initilize some Persons to fill the array.</p>\n<blockquote>\n<p>The Type &quot;({ id: number; title: Titles.Nothing; firstName: string; lastName: string; } | { id: number; titl...&quot; cannot be assigned to &quot;Employee[]&quot;.</p>\n<p>The Property &quot;getName&quot; is missed in Type &quot;{ id: number; title: Titles.Nothing; firstName: string; lastName: string; }&quot;.</p>\n</blockquote>\n<p>Someone can help? I'm sure it's stupid but I'm stucking.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1528272358, "post_id": 50715160, "comment_id": 88439100, "body": "Why is there a super call ? Otherwise, could you explain why it is bad ? I kind of like the simplicity (I didn&#39;t know this way before)"}, {"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "edited": false, "score": 1, "creation_date": 1528281200, "post_id": 50715160, "comment_id": 88444769, "body": "In a constructor you should always include the <code>super()</code> call to pass any init up higher in the chain (in this case for the Object constructor). It&#39;s bad because you could be overriding things this way and aren&#39;t checking that it&#39;s actually correct data - ie, validating that there&#39;s not a typo etc - it also makes it harder to test because you&#39;re basically allowing anything through. Finally this way doesn&#39;t work for making a subclass - you&#39;d still need <code>Person</code> to have a <code>this.address = new Address(data.address);</code> for that."}], "tags": [], "owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "is_accepted": false, "score": 3, "last_activity_date": 1528272061, "creation_date": 1528272061, "answer_id": 50715160, "question_id": 50715010, "link": "https://stackoverflow.com/questions/50715010/databinding-to-class-member-functions/50715160#50715160", "title": "Databinding to class member functions", "body": "<p>Looks like you're not mapping the object to the class - you're saying it has that <em>type</em>, but that's not the same as creating an instance of a <code>Person</code> and then creating an instance of an <code>Address</code> within it.</p>\n\n<p>You need to create a constructor for <code>Person</code> and take the correct member data from <code>data</code>, and do the same for the <code>Address</code> - but call that constructor from within the <code>Person</code> constructor.</p>\n\n<p>A <strong>very</strong> bad way (that works) is to simply have the constructor similar to this - </p>\n\n<pre><code>export class Address {\n    constructor(data: object) {\n        super();\n        Object.assign(this, data);\n    }\n    ...\n}\n</code></pre>\n\n<p>You should however just copy the correct members over - doesn't take much more work, and is a lot safer...</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 0, "last_activity_date": 1528272066, "creation_date": 1528272066, "answer_id": 50715162, "question_id": 50715010, "link": "https://stackoverflow.com/questions/50715010/databinding-to-class-member-functions/50715162#50715162", "title": "Databinding to class member functions", "body": "<p>When you make an HTTP call, the answer you're getting is a plain Object, not an instance of a class. </p>\n\n<p>In code, this would mean that you make </p>\n\n<pre><code>const person = { address: {...}, id: 1, description: '' };\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>const person = new Person(1, '', new Address(...));\n</code></pre>\n\n<p>You need to explicitly state that your object is an instance of a class. </p>\n\n<p>To do that, you will need to map your call like this </p>\n\n<pre><code>this.http.get&lt;Person&gt;(...)\n  .map(person =&gt; {\n    const _person = new Person();\n    _person.id = person.id;\n    // ... And so on\n  });\n</code></pre>\n\n<p>You could either use this, or a custom constructor, or a function that takes your response and returns an instance. Some libraries exist too, that can do that, such as <a href=\"https://github.com/typestack/class-transformer\" rel=\"nofollow noreferrer\">class transformer</a> </p>\n"}], "owner": {"reputation": 1200, "user_id": 4106030, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/90244d3362729707c5bb3629e6bfde40?s=128&d=identicon&r=PG&f=1", "display_name": "badera", "link": "https://stackoverflow.com/users/4106030/badera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 50715162, "answer_count": 2, "score": 0, "last_activity_date": 1528272066, "creation_date": 1528271515, "question_id": 50715010, "link": "https://stackoverflow.com/questions/50715010/databinding-to-class-member-functions", "title": "Databinding to class member functions", "body": "<p>Assume I have to following classes:</p>\n\n<pre><code>export class Address {\n    id: number;\n    streetAndNumber: string;\n    addressSuffix: string;\n    city: string;\n    zip: string;\n\n    toString(): string {\n        return this.streetAndNumber + ', ' + this.zip + this.city;\n    }\n\n    asOptionX(): string {\n        return 'asjfhklasjfh';\n    }\n}\n\nexport class Person {\n    id: number;\n    description: string;\n    address: Address;\n}\n</code></pre>\n\n<p>An Object of type Person is retrieved by HttpClient:</p>\n\n<pre><code>this.http.get&lt;Person&gt;(...).subscribe(data =&gt; person = data;)\n</code></pre>\n\n<p>Now I like to have a databinding in my template e.g.:</p>\n\n<pre><code>&lt;div&gt;{{person.address}}&lt;/div&gt;\n</code></pre>\n\n<p>Why does this output <code>[Object object]</code>? It seems that toString() is not available.</p>\n\n<p>If I try:</p>\n\n<pre><code>&lt;div&gt;{{person.address.asOptionX()}}&lt;/div&gt;\n</code></pre>\n\n<p>An error is output in console: <code>...address.asOptionX is not a function</code>.</p>\n\n<p>I also have no luck trying to make getters and bind to them.</p>\n\n<p>What is wrong?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 4266, "user_id": 1120704, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb3b3ef15deb3536f609298e029b0be9?s=128&d=identicon&r=PG", "display_name": "Shaun Xu", "link": "https://stackoverflow.com/users/1120704/shaun-xu"}, "is_accepted": false, "score": 1, "last_activity_date": 1528282052, "creation_date": 1528282052, "answer_id": 50718488, "question_id": 50714912, "link": "https://stackoverflow.com/questions/50714912/typescript-referenceerror-myclass-not-defined-when-i-used-myclass-inside-a-con/50718488#50718488", "title": "Typescript ReferenceError: MyClass not defined, when I used MyClass inside a constructor", "body": "<p>I figured out the root cause. This is related with some changed in TypeScript transpile module in v2.9. When I was compile and run my source code, or using <code>ts-node</code> with default options, everything works well. But when I was using <code>node -r ts-node/register/transpile-only main.ts</code>, I got this error.</p>\n\n<p>Developer in TypeScript already acknowledge this issue and they said it will be fixed in v2.9.2.</p>\n\n<p><a href=\"https://github.com/TypeStrong/ts-node/issues/591\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/ts-node/issues/591</a>\n<a href=\"https://github.com/Microsoft/TypeScript/issues/24620\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/24620</a> </p>\n"}], "owner": {"reputation": 4266, "user_id": 1120704, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb3b3ef15deb3536f609298e029b0be9?s=128&d=identicon&r=PG", "display_name": "Shaun Xu", "link": "https://stackoverflow.com/users/1120704/shaun-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1528282052, "creation_date": 1528271210, "question_id": 50714912, "link": "https://stackoverflow.com/questions/50714912/typescript-referenceerror-myclass-not-defined-when-i-used-myclass-inside-a-con", "title": "Typescript ReferenceError: MyClass not defined, when I used MyClass inside a constructor", "body": "<p>I have a class defined in <code>my_class.ts</code></p>\n\n<pre><code>export default class MyClass {}\n</code></pre>\n\n<p>And I have another class using it inside the constructor</p>\n\n<pre><code>import MyClass from \"./my-class.ts\";\nexport default class MyOtherClass {\n    constructor(public myClass: MyClass) {}\n}\n</code></pre>\n\n<p>In my <code>main.ts</code> I got reference error when running the code (no error when compiled)</p>\n\n<pre><code>import MyClass from \"./my-class.ts\";\nimport MyOtherClass from \"./my-other-class.ts\";\nconst myOtherClass = new MyOtherClass(new MyClass());\n                                          ^^^^^^^\n        ReferenceError: my_class_1 is not defined\n</code></pre>\n\n<p>And if I changed my code to</p>\n\n<pre><code>const myClass = new MyClass();\nconst myOtherClass = new MyOtherClass(myClass);\n</code></pre>\n\n<p>It worked.</p>\n\n<p>This happened when I upgrade TypeScript from 2.8.3 to 2.9.1.\nI checked the compiled JavaScript code and they were exactly same between 2.8.3 and 2.9.1.</p>\n"}, {"tags": ["angular", "unit-testing", "typescript", "testing", "jasmine"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1528271368, "post_id": 50714891, "comment_id": 88438504, "body": "Your test doesn&#39;t make sense. You&#39;re subscribing to a method that isn&#39;t on the component under test, and which you&#39;ve mocked out then called back through to. What are you actually trying to test here? You should properly mock out the auth to return an observable of <code>true</code> then test that <code>navigate</code> on a mocked router gets called."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9699663"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1528271675, "post_id": 50714891, "comment_id": 88438683, "body": "When the result is true, I want to navigate in <code>this.router.navigate([&#39;&#47;home&#39;]);</code> like in function."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1528272017, "post_id": 50714891, "comment_id": 88438892, "body": "Yes, I understand that, but that&#39;s not at all the behaviour the test is driving out. You&#39;re calling a spied method on a collaborator of the component under test, which makes no sense at all. I&#39;d advise reading e.g. <a href=\"https://angular.io/guide/testing\" rel=\"nofollow noreferrer\">angular.io/guide/testing</a> and thinking more carefully about what&#39;s in and out of scope for the tests of the component."}], "owner": {"user_type": "does_not_exist", "display_name": "user9699663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528271156, "creation_date": 1528271156, "question_id": 50714891, "link": "https://stackoverflow.com/questions/50714891/angular-5-unit-test-router-navigation", "title": "Angular 5 Unit test Router Navigation", "body": "<p>I want to test this function. When return true I want to navigate in this router.</p>\n\n<p>My component code:</p>\n\n<pre><code>  onLogin() {\n    this.loading = true;\n    this.auth.login(\n      this.loginForm.controls['username'].value,\n      this.loginForm.controls['password'].value)\n      .subscribe(\n      result =&gt; {\n        if (result === true) {\n          this.router.navigate(['/home']);\n        } else {\n          this.loading = false;\n        }\n      }\n      );\n  }\n</code></pre>\n\n<p>I tried this test, that result is true</p>\n\n<pre><code>  it('should call service.login when onLogin', done =&gt; {\n    const mock = [];\n    spyOn(component['auth'], 'login').and.callThrough()\n    component['auth'].login('abcs', '1').subscribe(\n      result =&gt; {\n        if (result === true) {\n        }\n        console.log(result)\n          done();\n      });\n    component.onLogin();\n  })\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "drop-down-menu", "css-selectors"], "owner": {"reputation": 3172, "user_id": 6726592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6xIeo.jpg?s=128&g=1", "display_name": "Roxy&#39;Pro", "link": "https://stackoverflow.com/users/6726592/roxypro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528281396, "creation_date": 1528271044, "last_edit_date": 1528281396, "question_id": 50714861, "link": "https://stackoverflow.com/questions/50714861/angular-how-to-programatically-set-select-select2-value-after-onsubmit", "title": "Angular: How to programatically set select/select2 value after onSubmit()", "body": "<p>I'm using HTML <code>&lt;select&gt;</code> Tag, so as it is known allready:</p>\n\n<blockquote>\n  <p>The  element is used to create a drop-down list.</p>\n  \n  <p>The  tags inside the  element define the available\n  options in the list.</p>\n</blockquote>\n\n<p>I want to achieve next thing:</p>\n\n<p>after I select value in a drop-down list I would like to set select's value to a default value which is \"-/-\" .. </p>\n\n<p>Here is how it looks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oSvok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSvok.png\" alt=\"enter image description here\"></a></p>\n\n<p>And code:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n  &lt;label class=\"control-label dash-control-label col-sm-3\" for=\"\"&gt;Select Select2:&lt;/label&gt;\n  &lt;div class=\"col-sm-3\"&gt;\n    &lt;select id=\"taxSelect\" class=\"form-control dash-form-control select2\"  style=\"width: 100%;\" data-minimum-results-for-search=\"Infinity\"&gt;\n      &lt;option disabled [ngValue]=\"null\" &gt;-/-&lt;/option&gt;\n      &lt;option *ngFor=\"let code of codes\" [value]=\"code.id\"&gt;\n        {{code.title}}\n      &lt;/option&gt;\n    &lt;/select&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>I mean when I open modal again I want to see \"-/-\" as it is <strong>default value</strong>, and not the value that I previously selected.. So basically <code>onSubmit()</code> in typescript I would like to reset  to set again \"-/-\" as a default value..</p>\n\n<p>P.S I've tried:</p>\n\n<pre><code>show() {\n\n    $('select').val('0');\n    $('select').val($('select').children().eq(0).val());\n\n    $('select2').val('0');\n    $('select2').val($('select').children().eq(0).val());\n\n    $(\"select[title='-/-']\").attr('selected', 'selected');\n}\n</code></pre>\n\n<p>So basically when Modal is shown I wanted to reset drop-down values to \"-/-\" but it doesn't work..</p>\n\n<p>Thanks a lot guys!\nCHEERS!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "edited": false, "score": 0, "creation_date": 1528271277, "post_id": 50714820, "comment_id": 88438461, "body": "Don&#39;t know if it&#39;s would help, but, I set and get router parameter in another way. The main thing, which may impact - is to use subscribe for getting router parameter and save it to you component variable. I had have the same problem and it was resolved it for me."}, {"owner": {"reputation": 2907, "user_id": 4707886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/62c534e944711d62231e330bbe1853a9?s=128&d=identicon&r=PG&f=1", "display_name": "D.B", "link": "https://stackoverflow.com/users/4707886/d-b"}, "reply_to_user": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "edited": false, "score": 0, "creation_date": 1528272250, "post_id": 50714820, "comment_id": 88439040, "body": "well, as u can see in the code i tried with &quot;subscribe&quot; and it didn&#39;t work. Even worse, the example u can see in the code has the value i want to display hardcoded, i am not event reading the query params anymore. I am wondering if ity has something to do that the this._router.navigate is being triggered from a custom error handler."}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1528276507, "post_id": 50714820, "comment_id": 88441639, "body": "Why do you want to pass the error as URL parameter? Store it in the error handler and inject that into the <code>ErrorsComponent</code> where you can read the error."}, {"owner": {"reputation": 2907, "user_id": 4707886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/62c534e944711d62231e330bbe1853a9?s=128&d=identicon&r=PG&f=1", "display_name": "D.B", "link": "https://stackoverflow.com/users/4707886/d-b"}, "edited": false, "score": 0, "creation_date": 1528291171, "post_id": 50714820, "comment_id": 88451270, "body": "Store it? U mean using a service?"}], "answers": [{"comments": [{"owner": {"reputation": 2907, "user_id": 4707886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/62c534e944711d62231e330bbe1853a9?s=128&d=identicon&r=PG&f=1", "display_name": "D.B", "link": "https://stackoverflow.com/users/4707886/d-b"}, "edited": false, "score": 0, "creation_date": 1528272245, "post_id": 50715029, "comment_id": 88439037, "body": "well, as u can see in the code i tried with &quot;subscribe&quot; and it didn&#39;t work. Even worse, the example u can see in the code has the value i want to display hardcoded, i am not event reading the query params anymore. I am wondering if ity has something to do that the this._router.navigate is being triggered from a custom error handler."}], "tags": [], "owner": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "is_accepted": false, "score": 0, "last_activity_date": 1528271589, "creation_date": 1528271589, "answer_id": 50715029, "question_id": 50714820, "link": "https://stackoverflow.com/questions/50714820/angular-data-is-loaded-after-template-is-rendered-router-navigate-from-a-cus/50715029#50715029", "title": "Angular - Data is loaded after template is rendered - router.navigate from a custom error handler", "body": "<p>Component from which we redirect: </p>\n\n<pre><code>moveToErrorView(myError: string) {\nthis._router.navigate(['app/error-view', myError]);\n}\n</code></pre>\n\n<p>Component error-view(get the parameter):</p>\n\n<pre><code>sub: any;\n...\nconstructor(praivate _activatedRoute: ActivatedRoute) {\n};\n...\nngOnInit() {\nthis.sub = this._activatedRoute.params.subscribe(params =&gt; {\nthis.redirectedError = params['myError'];\n});\n</code></pre>\n\n<p>and then use the redirectedError variable to bind it to HTML view as {{redirectedError}}</p>\n"}, {"tags": [], "owner": {"reputation": 2907, "user_id": 4707886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/62c534e944711d62231e330bbe1853a9?s=128&d=identicon&r=PG&f=1", "display_name": "D.B", "link": "https://stackoverflow.com/users/4707886/d-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1529032917, "creation_date": 1529032917, "answer_id": 50868677, "question_id": 50714820, "link": "https://stackoverflow.com/questions/50714820/angular-data-is-loaded-after-template-is-rendered-router-navigate-from-a-cus/50868677#50868677", "title": "Angular - Data is loaded after template is rendered - router.navigate from a custom error handler", "body": "<p>The problem is that when an exception is triggered it makes the app leaves the angular zone, this is by design. The solution is to redirect to the error page using the run method of the service NgZone , forcing to reenter the Angular zone as follows:</p>\n\n<pre><code>this._zone.run(() =&gt; router.navigate(['/error'], { queryParams: {error: error} }));\n</code></pre>\n\n<p>Import the module:</p>\n\n<pre><code>import { ErrorHandler, Injectable, Injector, NgZone } from '@angular/core';\n</code></pre>\n"}], "owner": {"reputation": 2907, "user_id": 4707886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/62c534e944711d62231e330bbe1853a9?s=128&d=identicon&r=PG&f=1", "display_name": "D.B", "link": "https://stackoverflow.com/users/4707886/d-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 50868677, "answer_count": 2, "score": 0, "last_activity_date": 1529032917, "creation_date": 1528270876, "last_edit_date": 1528329072, "question_id": 50714820, "link": "https://stackoverflow.com/questions/50714820/angular-data-is-loaded-after-template-is-rendered-router-navigate-from-a-cus", "title": "Angular - Data is loaded after template is rendered - router.navigate from a custom error handler", "body": "<p>I have built a custom error handler class to intercept all the errors that happen in the app. When an error happens, the app redirects the user to an error view using router.navigate and sending the error details as query parameters. The component simply reads the query parameters and bind them in the view. Although i can see that the query parameter variable has data in the developer console, it is not being displayed in the view. I need to refresh the error page to see that data in the view.</p>\n\n<p>I decided to hard-coded the variable value that i want to display in the view in the constructor and/or in the ngOnInit methods, in order to see if the variable is displayed in the view, and i still cannot see the value when the page is being loaded from the handler using the router.navigate. If i type the error URL directly i can indeed see the value binded. </p>\n\n<p>I am wondering if the issue has something to do that the this._router.navigate is being triggered from a custom error handler.</p>\n\n<p>I appreciate any help?</p>\n\n<p>Error handler Class:</p>\n\n<pre><code>@Injectable()\nexport class ErrorsHandler implements ErrorHandler {\n constructor(\n     private injector: Injector,\n ) {}\n\nhandleError(error: Error | HttpErrorResponse) {        \n\n  const router = this.injector.get(Router);\n  const appService = this.injector.get(AppService);\n\n  router.navigate(['/error'], { queryParams: {error: error} }); \n\n  }\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>export class ErrorsComponent implements OnInit {\n\n      errorMessage: any;\n      constructor(private activatedRoute: ActivatedRoute, private _appService: AppService) {\n\n        // activatedRoute.queryParams.subscribe(\n        //   params =&gt; {\n        //     this.errorMessage = params;\n        //     console.log(this.errorMessage.error);\n\n        //   });\n\n        this.errorMessage = 'Hi';\n        console.log(this.errorMessage);\n\n      }\n\n      ngOnInit() {\n\n      }\n    }\n</code></pre>\n\n<p>Template:</p>\n\n<pre><code>    &lt;div class=\"error-container\"&gt;\n      &lt;div&gt;\n        &lt;h1 *ngIf=\"errorMessage\" &gt;ERROR {{errorMessage}}&lt;/h1&gt;\n        &lt;a mat-raised-button [routerLink]=\"'/'\"&gt;\n          &lt;h5&gt;Get a new Candiate&lt;/h5&gt;\n        &lt;/a&gt;\n      &lt;/div&gt;  \n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 3947376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D2nUy.jpg?s=128&g=1", "display_name": "Hardik Solanki", "link": "https://stackoverflow.com/users/3947376/hardik-solanki"}, "edited": false, "score": 0, "creation_date": 1528269737, "post_id": 50714288, "comment_id": 88437586, "body": "yes, i have added. but forgot to add,    <code>import { MatDialogRef } from &#39;@angular&#47;material;</code>"}], "tags": [], "owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1528269188, "creation_date": 1528269188, "answer_id": 50714288, "question_id": 50714235, "link": "https://stackoverflow.com/questions/50714235/angular-5-dialog-box-close-is-not-working-in-ie/50714288#50714288", "title": "angular 5 dialog box close is not working in IE", "body": "<p>Make sure that you are importing <code>MdDialogRef</code> in your code,</p>\n\n<p>For example, </p>\n\n<pre><code>import {MdDialogRef} from '@angular/material';\n\nexport class YourClass implements OnInit {\n   constructor(public dialogRef: MdDialogRef&lt;ModalComponent&gt;) {}\n\n   handleDialogClose() {\n       this.dialogRef.close();\n   }\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 189, "user_id": 3947376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D2nUy.jpg?s=128&g=1", "display_name": "Hardik Solanki", "link": "https://stackoverflow.com/users/3947376/hardik-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528736568, "creation_date": 1528269007, "last_edit_date": 1528736568, "question_id": 50714235, "link": "https://stackoverflow.com/questions/50714235/angular-5-dialog-box-close-is-not-working-in-ie", "title": "angular 5 dialog box close is not working in IE", "body": "<p>angular 5 Dialog box close is not working in IE-Edge and IE-11.\nI try with below code. It's working fine in chrome and safari.</p>\n\n<pre><code>&lt;mat-icon class=\"close-icon\" (click)=\"handleDialogClose()\" &gt;close&lt;/mat-icon&gt; \n</code></pre>\n\n<p>and </p>\n\n<pre><code>handleDialogClose() {\n        this.dialogRef.close();\n    }\n</code></pre>\n"}, {"tags": ["typescript", "jhipster", "angular6", "zone.js"], "comments": [{"owner": {"reputation": 1026, "user_id": 8788388, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j4tnBdMaXfk/AAAAAAAAAAI/AAAAAAACwcU/Jg67BYcCeW0/photo.jpg?sz=128", "display_name": "Hakan ERDOGAN", "link": "https://stackoverflow.com/users/8788388/hakan-erdogan"}, "edited": false, "score": 1, "creation_date": 1528269766, "post_id": 50714064, "comment_id": 88437605, "body": "No one can be in an efficient help unless you provide what did you really try. I recommend you to take some time to read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 5934, "user_id": 3737815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f88bda0d824d52354be2cfa6bb1e7b85?s=128&d=identicon&r=PG", "display_name": "Jon Ruddell", "link": "https://stackoverflow.com/users/3737815/jon-ruddell"}, "edited": false, "score": 1, "creation_date": 1528298538, "post_id": 50714064, "comment_id": 88456391, "body": "You will get a 401 error by default unless you log in and authenticate, the page requests the current user&#39;s account information on load and returns 401 if not logged in"}, {"owner": {"reputation": 1431, "user_id": 1049548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UtY1v.jpg?s=128&g=1", "display_name": "jiali passion", "link": "https://stackoverflow.com/users/1049548/jiali-passion"}, "reply_to_user": {"reputation": 5934, "user_id": 3737815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f88bda0d824d52354be2cfa6bb1e7b85?s=128&d=identicon&r=PG", "display_name": "Jon Ruddell", "link": "https://stackoverflow.com/users/3737815/jon-ruddell"}, "edited": false, "score": 0, "creation_date": 1528390395, "post_id": 50714064, "comment_id": 88500574, "body": "This error has nothing to do with zone.js, just like @JonRuddell said, it is because you are not log in or not authorized."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9709162"}, "edited": false, "score": 0, "creation_date": 1528716776, "post_id": 50714064, "comment_id": 88599337, "body": "thank you very much.I found solution.Solution is to allow all users to reach urls in securityConfiguration.java.I have rearranged this file."}], "owner": {"user_type": "does_not_exist", "display_name": "user9709162"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528304876, "creation_date": 1528268358, "last_edit_date": 1528304876, "question_id": 50714064, "link": "https://stackoverflow.com/questions/50714064/zone-js-in-angular-6", "title": "Zone.js in Angular 6", "body": "<p>I created an application with jhipster. It is working but when I make a request to backend side I get 401(Unauthorized) error with zone.js. I think my code is working but I think that I have a general error.</p>\n\n<p>I made some researches about zone.js but I could not find any solution. Do you have any idea?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "edited": false, "score": 2, "creation_date": 1528279862, "post_id": 50713447, "comment_id": 88443931, "body": "So, even if <code>main</code> in <code>package.json</code> is pointed at <code>lib&#47;index.js</code>, &quot;folder paths&quot; are relative to the root package folder? Thats something from node module resolution I have actually never noticed until now."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1528266162, "creation_date": 1528266162, "answer_id": 50713447, "question_id": 50712650, "link": "https://stackoverflow.com/questions/50712650/exporting-declarations-for-library-with-multiple-entry-points/50713447#50713447", "title": "Exporting declarations for library with multiple entry points", "body": "<blockquote>\n  <p>How should I structure the output in order to achieve that?</p>\n</blockquote>\n\n<pre><code>|__ lib\n| |__ index.js\n| |__ index.d.ts\n| |__ other-file.js\n| |__ other-file.d.ts\n|__ src\n| |__ index.ts\n| |__ other-file.ts\n</code></pre>\n\n<p>With <code>tsconfig.json</code> having <code>outDir:lib</code>/ <code>declaration:true</code>/ <code>include:['src']</code>. </p>\n\n<p>Use will look like: </p>\n\n<pre><code>import { something } from 'library'\nimport { other } from 'library/lib/other-file'\n</code></pre>\n\n<h1>More</h1>\n\n<ul>\n<li><a href=\"https://github.com/typestyle/typestyle\" rel=\"nofollow noreferrer\">Example Project</a></li>\n<li><a href=\"https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html\" rel=\"nofollow noreferrer\">Library authoring guide</a></li>\n</ul>\n"}], "owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 50713447, "answer_count": 1, "score": 3, "last_activity_date": 1528266162, "creation_date": 1528261984, "last_edit_date": 1528264711, "question_id": 50712650, "link": "https://stackoverflow.com/questions/50712650/exporting-declarations-for-library-with-multiple-entry-points", "title": "Exporting declarations for library with multiple entry points", "body": "<p>Let's say I'm exporting a library with a file structure like</p>\n\n<pre><code>|__ src\n| |__ index.ts\n| |__ other-file.ts\n</code></pre>\n\n<p>And I'd like to consume it like</p>\n\n<pre><code>import { something } from 'library'\nimport { other } from 'library/other-file'\n</code></pre>\n\n<p>How should I structure the output in order to achieve that?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 7545, "user_id": 1315053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d8154b3f9ba6f4190483c5231d577d3?s=128&d=identicon&r=PG", "display_name": "ken", "link": "https://stackoverflow.com/users/1315053/ken"}, "edited": false, "score": 0, "creation_date": 1528268064, "post_id": 50713484, "comment_id": 88436593, "body": "I had already added <code>export { RealTimeDB } from &quot;abstracted-firebase&quot;;</code> to the file which is throwing the error. Error is still thrown. If you looked up the repo you&#39;re not seeing this because I haven&#39;t pushed these changes yet. I can if it&#39;s helpful."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1528266282, "creation_date": 1528266282, "answer_id": 50713484, "question_id": 50712225, "link": "https://stackoverflow.com/questions/50712225/switching-ts-to-target-es2015-getting-unexplained-errors-named-exports/50713484#50713484", "title": "Switching TS to target ES2015, getting unexplained errors named exports", "body": "<blockquote>\n  <p>It is not; it is publicly exported.</p>\n</blockquote>\n\n<p>Must also be exported from the file that is showing this error. Add:</p>\n\n<pre><code>export {RealTimeDB}\n</code></pre>\n\n<h1>More</h1>\n\n<ul>\n<li>you are currently only <em>importing</em> it into the file. </li>\n</ul>\n"}], "owner": {"reputation": 7545, "user_id": 1315053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d8154b3f9ba6f4190483c5231d577d3?s=128&d=identicon&r=PG", "display_name": "ken", "link": "https://stackoverflow.com/users/1315053/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528314432, "creation_date": 1528258930, "last_edit_date": 1528314432, "question_id": 50712225, "link": "https://stackoverflow.com/questions/50712225/switching-ts-to-target-es2015-getting-unexplained-errors-named-exports", "title": "Switching TS to target ES2015, getting unexplained errors named exports", "body": "<p>I have been happily transpiling a Typescript library of mine to CJS for some time but decided I wanted to transpile to ES2015 to get more out tree-shaking. Anyway, I suddenly got a number of errors that I'd not seen before. Many of them were both understandable and helpful but I'm left with a few cases of an error I just can't comprehend. Here's an example:</p>\n\n<blockquote>\n  <p>error TS4043: Return type of public getter 'db' from exported class has or is using private name 'RealTimeDB'.</p>\n</blockquote>\n\n<p>In this case the code that's being complained about looks like this:</p>\n\n<pre><code>public get db() {\n  return this._db;\n}\n</code></pre>\n\n<p>and indeed the TYPE of <code>_db</code> is:</p>\n\n<pre><code>private _db: RealTimeDB;\n</code></pre>\n\n<p>My assumption here is that it implying that the type <code>RealTimeDB</code> is private. It is not; it is publicly exported. Not only does the module it is taken from exposing it but I have also exposed it directly in this package too. Am I misunderstanding the error?</p>\n\n<blockquote>\n  <p>error TS4041: Return type of public getter 'relationships' from exported class has or is using name 'ISchemaRelationshipMetaProperties' from external module \"/Users/xxx/mine/forest-fire/firemodel/src/decorators/schema\" but cannot be named.</p>\n</blockquote>\n\n<p>In this case it gets even more odd as not only is <code>ISchemaRelationshipMetaProperties</code> exported but it is exported as PART of this project (note: this is the \"firemodel\" project). Here are a few code snippets to further demonstrate this:</p>\n\n<pre><code>public get relationships() {\n  return this._schema.META.relationships;\n}\n</code></pre>\n\n<p>and the <code>_schema</code> property:</p>\n\n<pre><code>protected _schema: T;\n</code></pre>\n\n<p>Where T extends <code>BaseSchema</code> which states:</p>\n\n<pre><code>public META?: Partial&lt;ISchemaOptions&gt;;\n</code></pre>\n\n<p>And then <code>ISchemaOptions</code> includes:</p>\n\n<pre><code>relationships?: ISchemaRelationshipMetaProperties[];\n</code></pre>\n\n<p>And this can be found locally as:</p>\n\n<pre><code>export interface ISchemaRelationshipMetaProperties extends ISchemaMetaProperties {\n  isRelationship: true;\n  isProperty: false;\n  relType: ISchemaRelationshipType;\n}\n</code></pre>\n\n<p>Sorry this chain is a bit long but the point is all of the dependencies are local to the package not <em>external</em> as the error suggests. They are also ALL exported as part of the package.</p>\n\n<hr>\n\n<p>Complete source can be found here:</p>\n\n<p><a href=\"https://github.com/forest-fire/firemodel/blob/29ba1693a0abda1b4bab3a84dcd8f911863e911c/src/list.ts\" rel=\"nofollow noreferrer\">List Class</a> which throws the first error</p>\n\n<hr>\n\n<h1>Update</h1>\n\n<p>I have found a way to get rid of the errors but I still have no idea WHY I get the errors. In this example from above where I was getting an error about the 'RealTimeDB' using a private name ... I simply change to:</p>\n\n<pre><code>protected get db(): RealTimeDB {\n  return this._model.db;\n}\n</code></pre>\n\n<p>Note that the only change is I'm explicitly stating the return type in the getter and explicitly stating what it implicitly already knew. This is the same pattern I've used in all other errors and with the same result. I guess I'm ok now but I'd really love to hear from someone about WHY this is happening. It <em>feels</em> like a bug in TypeScript.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528261448, "post_id": 50712170, "comment_id": 88433964, "body": "the problem is  ` *ngIf=&quot;mycart &amp;&amp; mycart.length&quot; ` Use insead <code>[hidden]=&quot;mycart &amp;&amp; mycart.length&quot;</code> I am not sure, take it a try."}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "reply_to_user": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528261618, "post_id": 50712170, "comment_id": 88434016, "body": "Not working @Sanoj_V"}, {"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528262753, "post_id": 50712170, "comment_id": 88434365, "body": "You should initialize <code>mycart: Array&lt;any&gt;=[];</code> in typescript and in your html <code>[hidden]=&quot;mycart.length==0&quot;</code>"}, {"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528262914, "post_id": 50712170, "comment_id": 88434417, "body": "if you are using *ngIf this throws error because *ngIf remove the html DOM element and you will always get error."}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "reply_to_user": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1528263886, "post_id": 50712170, "comment_id": 88434731, "body": "it&#39;s also working but page get freeze if there is no product in the cart @Sanoj_V"}, {"owner": {"reputation": 14730, "user_id": 6120338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0865ba5a8a6f29ef80937137f7869026?s=128&d=identicon&r=PG", "display_name": "Ritwick Dey", "link": "https://stackoverflow.com/users/6120338/ritwick-dey"}, "edited": false, "score": 0, "creation_date": 1528305095, "post_id": 50712170, "comment_id": 88460137, "body": "Stackblitz demo plz"}], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528259754, "post_id": 50712249, "comment_id": 88433458, "body": "Please see the attached image ,there I call the detele_My_Cart method when the user clicked on the green rounded button and am not call that method inside the ngOnInit @Devjoks"}, {"owner": {"reputation": 42, "user_id": 1553471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7378f85ce6e89626a8119435a9b037aa?s=128&d=identicon&r=PG", "display_name": "Devjoks", "link": "https://stackoverflow.com/users/1553471/devjoks"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528260075, "post_id": 50712249, "comment_id": 88433542, "body": "Inside on <code>app.component.html</code> do you have a modal?? Can you show the modal ??"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528260894, "post_id": 50712249, "comment_id": 88433777, "body": "did you checked it @Devjoks"}, {"owner": {"reputation": 42, "user_id": 1553471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7378f85ce6e89626a8119435a9b037aa?s=128&d=identicon&r=PG", "display_name": "Devjoks", "link": "https://stackoverflow.com/users/1553471/devjoks"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528262396, "post_id": 50712249, "comment_id": 88434260, "body": "Maybe could be <code>!this.mycart.length</code>... if the cart it&#39;s empty <code>this.mycart = []</code> the <code>!this.mycart.length</code> value return <code>true</code>. but in the HTML <code>mycart &amp;&amp; mycart.length</code> is <code>true &amp;&amp; 0 == false</code> so the element <code>#closeModalBtn </code> doesn&#39;t exist and is <code>undefined</code>."}, {"owner": {"reputation": 42, "user_id": 1553471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7378f85ce6e89626a8119435a9b037aa?s=128&d=identicon&r=PG", "display_name": "Devjoks", "link": "https://stackoverflow.com/users/1553471/devjoks"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528263037, "post_id": 50712249, "comment_id": 88434455, "body": "try with <code>this.mycart &amp;&amp; this.mycart.length</code> on <code>closeModalIfNoCart</code>"}], "tags": [], "owner": {"reputation": 42, "user_id": 1553471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7378f85ce6e89626a8119435a9b037aa?s=128&d=identicon&r=PG", "display_name": "Devjoks", "link": "https://stackoverflow.com/users/1553471/devjoks"}, "is_accepted": false, "score": -1, "last_activity_date": 1528259555, "last_edit_date": 1528259555, "creation_date": 1528259223, "answer_id": 50712249, "question_id": 50712170, "link": "https://stackoverflow.com/questions/50712170/error-typeerror-cannot-read-property-nativeelement-of-undefined-in-angular-5/50712249#50712249", "title": "ERROR TypeError: Cannot read property &#39;nativeElement&#39; of undefined in angular 5", "body": "<p>Where do you call <code>detele_My_Cart</code>? If is called in the <code>ngOnInit</code> the closeModalBtn is not defined yet. It's defined after the <code>ngAfterViewInit</code> method as you can see below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m7aUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m7aUP.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528263603, "post_id": 50712859, "comment_id": 88434632, "body": "It&#39;s working but the page get freeze when I clicked on mycart Icon if there is no product in it .@ChatarSIngh"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528264886, "post_id": 50712859, "comment_id": 88435113, "body": "Please help me to fix that freezing issue after applying this code @ChatarSIngh"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528265170, "post_id": 50712859, "comment_id": 88435216, "body": "replaced it  by your code &quot;[hidden]=&quot;!(mycart &amp;&amp; mycart.length)&quot;"}, {"owner": {"reputation": 723, "user_id": 9827247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3e0aa3641e6b4d64349bd7c8e19d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Chatar Singh", "link": "https://stackoverflow.com/users/9827247/chatar-singh"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528265592, "post_id": 50712859, "comment_id": 88435382, "body": "Remove this code and try. Why are you using this code?"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528265777, "post_id": 50712859, "comment_id": 88435451, "body": "I want to show the modal if there is at least one product in it ,If the cart is empty I don&#39;t want to show it .So as in the above image when user delete the product by click on the close Icon (green) immediately the modal will get closed  because there is no product in it that why I have this code and the function in my typescript code @Chatar SIngh"}, {"owner": {"reputation": 723, "user_id": 9827247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3e0aa3641e6b4d64349bd7c8e19d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Chatar Singh", "link": "https://stackoverflow.com/users/9827247/chatar-singh"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528265889, "post_id": 50712859, "comment_id": 88435494, "body": "So you can disable click on the cart button while the cart items are 0. And the model is closed by typescript code if cart length is equal to 0 while deleting the cart item"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528265898, "post_id": 50712859, "comment_id": 88435498, "body": "If I remove the validation from html code then the user clicked on the cart Icon it will open an empty modal"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528265963, "post_id": 50712859, "comment_id": 88435523, "body": "I am new to these thing ,Can you help me to disable the onclick if cart is zero"}, {"owner": {"reputation": 723, "user_id": 9827247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3e0aa3641e6b4d64349bd7c8e19d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Chatar Singh", "link": "https://stackoverflow.com/users/9827247/chatar-singh"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1528266055, "post_id": 50712859, "comment_id": 88435565, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172560/discussion-between-chatar-singh-and-nikson\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 723, "user_id": 9827247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3e0aa3641e6b4d64349bd7c8e19d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Chatar Singh", "link": "https://stackoverflow.com/users/9827247/chatar-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1528263340, "creation_date": 1528263340, "answer_id": 50712859, "question_id": 50712170, "link": "https://stackoverflow.com/questions/50712170/error-typeerror-cannot-read-property-nativeelement-of-undefined-in-angular-5/50712859#50712859", "title": "ERROR TypeError: Cannot read property &#39;nativeElement&#39; of undefined in angular 5", "body": "<p>this error may be due to this code <code>*ngIf=\"mycart &amp;&amp; mycart.length\"</code></p>\n\n<p>So when mycart.length is equal to 0 all elements are removed from DOM. So Either you remove this code from HTML or replace with the following code.</p>\n\n<p><code>[hidden]=\"!(mycart &amp;&amp; mycart.length)\"</code></p>\n"}], "owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1388, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528263340, "creation_date": 1528258464, "last_edit_date": 1528260211, "question_id": 50712170, "link": "https://stackoverflow.com/questions/50712170/error-typeerror-cannot-read-property-nativeelement-of-undefined-in-angular-5", "title": "ERROR TypeError: Cannot read property &#39;nativeElement&#39; of undefined in angular 5", "body": "<p>I know I am not the first to ask this ,But I am sure about my issue is slight different from others .</p>\n\n<p>In my application once user delete the products from mycart I want to close the modal automatically .(Modal will shown after click on the mycart Icon).</p>\n\n<p>My code is working as I expected but I got the console errors.</p>\n\n<p>Error :</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'nativeElement' of undefined\n          at AppComponent.closeModalIfNoCart (app.component.ts:107)\n          at SafeSubscriber.eval [as _next] (app.component.ts:100)\n          at SafeSubscriber.__tryOrUnsub (Subscriber.js:240)\n          at SafeSubscriber.next (Subscriber.js:187)\n          at Subscriber._next (Subscriber.js:128)\n          at Subscriber.next (Subscriber.js:92)\n          at MapSubscriber._next (map.js:85)\n          at MapSubscriber.Subscriber.next (Subscriber.js:92)\n          at FilterSubscriber._next (filter.js:90)\n          at FilterSubscriber.Subscriber.next (Subscriber.js:92)</p>\n</blockquote>\n\n<p>app.component.html</p>\n\n<pre><code>     &lt;div *ngIf=\"mycart &amp;&amp; mycart.length\" class=\"modal fade modalstyle\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header headerHeight text-white \" style=\"background:rgb(0, 0, 0);font-weight:bold\"&gt;\n        &lt;h6 class=\"modal-title\" id=\"exampleModalLabel\"&gt;My Cart Items&lt;/h6&gt;\n        &lt;button #closeModalBtn type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;div *ngFor=\"let products of mycart;let i =index;\"&gt;\n          &lt;div class=\"container col-sm-12\"&gt;\n            &lt;div class=\"row\"&gt;\n              &lt;div class=\"col-sm-4 paddingforimage\"&gt;\n                &lt;img [src]=\"products['ITEM_IMAGE_PATH']\"&gt;\n              &lt;/div&gt;\n              &lt;div class=\"text-info col-sm-6\"&gt;\n                &lt;span&gt;\n                  &lt;h6&gt;{{products?.TOTAL_QTY}} &amp;times; {{products?.ITEM_PRICE}} &amp;#8377;&lt;/h6&gt;\n                &lt;/span&gt;\n                &lt;span&gt;\n                  &lt;h6&gt;{{products?.ITEM_DESC}}&lt;/h6&gt;\n                &lt;/span&gt;\n                &lt;span&gt;\n                  &lt;h6&gt;{{products?.TOTAL_AMT}} &amp;#8377;&lt;/h6&gt;\n                &lt;/span&gt;\n              &lt;/div&gt;\n              &lt;div class=\"col-sm-1 text-right\"&gt;\n                &lt;button type=\"button\" class=\"close closebtn\" aria-label=\"Close\" (click)=\"detele_My_Cart(products?.ITEM_CODE)\"&gt;\n                  &lt;span aria-hidden=\"true\" (click)=\"detele_My_Cart(products?.ITEM_CODE)\"&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;hr&gt;\n        &lt;/div&gt;\n        &lt;div class=\" container row col-sm-12\"&gt;\n          &lt;div class=\"col-sm-6\"&gt;\n            &lt;strong&gt;SHIPPING&lt;/strong&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-sm-6 text-right\"&gt;0 &amp;#8377;&lt;/div&gt;\n          &lt;hr&gt;\n          &lt;div class=\"col-sm-6\"&gt;\n            &lt;strong&gt;TOTAL&lt;/strong&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-sm-6 text-right\"&gt;{{my_Cart_Total_Amount}} &amp;#8377;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;br&gt;\n        &lt;div class=\"container row col-sm-12\" id=\"wrapper\"&gt;\n          &lt;button type=\"button\" class=\"btn btn-success buttonSize\" data-dismiss=\"modal\" routerLink=\"/cartsummary\"&gt;\n            &lt;strong&gt;CHECK OUT&lt;/strong&gt;\n          &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { DatePipe } from '@angular/common';\nimport { CartdataService } from './services/cartdata.service';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/add/observable/interval';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n\n\n})\nexport class AppComponent implements OnInit {\n\n  default_Cart_Count: number = 0;\n  my_Cart_Total_Amount: number;\n  mycart: any;\n  my_Cart_Total_Amount1: number;\n  mycartupdate: any;\n  @ViewChild('closeModalBtn') closeModalBtn: ElementRef;\n\n  constructor(private CartdataService: CartdataService, private http: HttpClient) { }\n\n  ngOnInit() {\n    // other codes\n  }\n\n  detele_My_Cart(item_Code: any) {\n    this.publicIp.v4().then(ip =&gt; {\n      this.CartdataService.delete_My_Cart(ip, item_Code).subscribe(\n        data =&gt; {\n          this.mycart = data['Table']\n          this.my_Cart_Total_Amount = data['Table1'][0]['TOTAL_AMOUNT']\n\n          this.closeModalIfNoCart();\n        });\n    });\n  }\n\n  closeModalIfNoCart() {\n    if (!this.mycart || !this.mycart.length)\n      this.closeModalBtn.nativeElement.click();\n  }\n}\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;ECommerceWebsite&lt;/title&gt;\n  &lt;base href=\"/\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"\n    crossorigin=\"anonymous\"&gt;\n  &lt;script defer src=\"https://use.fontawesome.com/releases/v5.0.6/js/all.js\"&gt;&lt;/script&gt;\n  &lt;link href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700\" rel=\"stylesheet\"&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n  &lt;app-root&gt;&lt;/app-root&gt;\n  &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\" integrity=\"sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;&lt;script&gt;\n    $('a[data-slide=\"prev\"]').click(function () { $('#myCarousel').carousel('prev'); });\n    $('a[data-slide=\"next\"]').click(function () { $('#myCarousel').carousel('next'); });\n  &lt;/script&gt;\n\n  &lt;script&gt;\n    $('a[data-slide=\"prev\"]').click(function () { $('#myCarousel1').carousel('prev'); });\n    $('a[data-slide=\"next\"]').click(function () { $('#myCarousel1').carousel('next'); });\n  &lt;/script&gt;\n\n  &lt;!-- &lt;script&gt;\n    $(function () {\n      $('#modal').modal(toggle)\n    });\n  &lt;/script&gt; --&gt;\n\n  &lt;script&gt;\n    $(document).ready(function () {\n      $('#head__top').on('click', function () {\n        $('#collapseExample').fadeToggle(300);\n        $('#innerCollapse').hide();\n      });\n      $('#head__sub').on('click', function () {\n        $('#innerCollapse').fadeToggle(300);\n      });\n    });\n  &lt;/script&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>angular-cli.json</p>\n\n<pre><code>\"styles\": [\n        \"../node_modules/bootstrap/dist/css/bootstrap.min.css\",\n        \"styles.css\"\n      ],\n      \"scripts\": [\n        \"../node_modules/jquery/dist/jquery.js\",\n        \"../node_modules/bootstrap/dist/js/bootstrap.js\"\n      ]\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>\"dependencies\": {\n    \"@agm/core\": \"^1.0.0-beta.2\",\n    \"@angular/animations\": \"^5.2.0\",\n    \"@angular/common\": \"^5.2.0\",\n    \"@angular/compiler\": \"^5.2.0\",\n    \"@angular/core\": \"^5.2.0\",\n    \"@angular/forms\": \"^5.2.0\",\n    \"@angular/http\": \"^5.2.0\",\n    \"@angular/platform-browser\": \"^5.2.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.2.0\",\n    \"@angular/router\": \"^5.2.0\",\n    \"angular-web-storage\": \"^2.0.0\",\n    \"angular-webstorage-service\": \"^1.0.2\",\n    \"auth0-js\": \"^9.3.1\",\n    \"bootstrap\": \"^4.1.1\",\n    \"core-js\": \"^2.4.1\",\n    \"dateformat\": \"^3.0.3\",\n    \"jquery\": \"^3.3.1\",\n    \"jquery.js\": \"0.0.2-security\",\n    \"popper.js\": \"^1.14.3\",\n    \"public-ip\": \"^2.4.0\",\n    \"rxjs\": \"^5.5.6\",\n    \"zone.js\": \"^0.8.19\"\n  }\n</code></pre>\n\n<p>Image :</p>\n\n<p><a href=\"https://i.stack.imgur.com/1ead9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ead9.jpg\" alt=\"enter image description here\"></a>\nI could not find that were I did the mistakes .\ncan anyone tell help me to solve this .</p>\n"}, {"tags": ["typescript", "testing", "integration-testing", "cypress"], "comments": [{"owner": {"reputation": 3098, "user_id": 1728790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eENW3.jpg?s=128&g=1", "display_name": "demouser123", "link": "https://stackoverflow.com/users/1728790/demouser123"}, "edited": false, "score": 0, "creation_date": 1528264127, "post_id": 50711829, "comment_id": 88434821, "body": "Try clearing the browser cache and if you&#39;ve have any cookies. try to clear them too and then re-run the tests"}, {"owner": {"reputation": 533, "user_id": 3764367, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d3ba895ba474e6cf95376b13ae63ae66?s=128&d=identicon&r=PG&f=1", "display_name": "radiobrain77", "link": "https://stackoverflow.com/users/3764367/radiobrain77"}, "reply_to_user": {"reputation": 3098, "user_id": 1728790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eENW3.jpg?s=128&g=1", "display_name": "demouser123", "link": "https://stackoverflow.com/users/1728790/demouser123"}, "edited": false, "score": 0, "creation_date": 1528264540, "post_id": 50711829, "comment_id": 88434991, "body": "I have put cy.clearLocalStorage() and cy.clearCookies() in both the beforeEach functions and in the start of individual tests. Should this be enough to affect the desired change?"}], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 3764367, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d3ba895ba474e6cf95376b13ae63ae66?s=128&d=identicon&r=PG&f=1", "display_name": "radiobrain77", "link": "https://stackoverflow.com/users/3764367/radiobrain77"}, "edited": false, "score": 0, "creation_date": 1528342759, "post_id": 50714825, "comment_id": 88472961, "body": "I have eliminated (a). In the case of (b) I have tried logging out at the beginning of a test. This merely inverts the problem. Instead the tests often fail because they cannot find the logout button. The problem occurs when I have previously logged out and when I restart the tests, it is logged in already."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 533, "user_id": 3764367, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d3ba895ba474e6cf95376b13ae63ae66?s=128&d=identicon&r=PG&f=1", "display_name": "radiobrain77", "link": "https://stackoverflow.com/users/3764367/radiobrain77"}, "edited": false, "score": 0, "creation_date": 1528359322, "post_id": 50714825, "comment_id": 88479866, "body": "@radiobrain77 additional information added. Have you determined where your page stores this login information? It must be kept somewhere other than cookies or local storage?"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1528359287, "last_edit_date": 1528359287, "creation_date": 1528270893, "answer_id": 50714825, "question_id": 50711829, "link": "https://stackoverflow.com/questions/50711829/cypress-browser-state-maintains-log-in-how-do-i-stop-this-from-occurring/50714825#50714825", "title": "Cypress browser state maintains log in. How do I stop this from occurring?", "body": "<p>Cypress clears all <a href=\"https://docs.cypress.io/api/commands/clearcookies.html\" rel=\"nofollow noreferrer\">cookies</a> and <a href=\"https://docs.cypress.io/api/commands/clearlocalstorage.html\" rel=\"nofollow noreferrer\">local storage</a> before each test. This suggests that your problem is one of the following:</p>\n\n<p>a) You are running multiple logical tests within a single test, or</p>\n\n<p>b) The system under test uses another mechanism to persist the login</p>\n\n<p>If you aren't doing <em>a)</em> then you need to find out what is stored (and where) when a user logs in. Once you know this, you can write a mechanism to clear it out.</p>\n\n<h1>Additional Cypress Notes</h1>\n\n<p>One of the core concepts in Cypress is that you should avoid conditional testing. For example, in other frameworks it is common to run the equivalent of...</p>\n\n<pre><code>// Not real code\nif (getelement(x).exists) {\n\n}\n</code></pre>\n\n<p>But that's not the Cypress way.</p>\n\n<p>The correct way to handle your specific case is to choose one of the following.</p>\n\n<ol>\n<li><p>Navigate to a URL that will always allow your test to sign in, such as <code>http://www.example.com/login/</code> - where even logged in users can submit the sign in form</p></li>\n<li><p>Use a query parameter to signal to the server that it should clear any user state (if it is not stored in one of the expected placed - imagine a server that pins the IP address against some state, etc)</p></li>\n<li><p>Embed data in the DOM, in a way that means it will always be found by Cypress... for example: <code>&lt;body data-logged-in=\"true\"&gt;</code>. You can then read this attribute in your test as it is always there...</p></li>\n</ol>\n\n<p>Obtaining the attribute:</p>\n\n<pre><code>cy.get('body').should('have.attr', 'data-logged-in').then((loggedIn) =&gt; {\n    // Use loggedIn here...\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8754, "user_id": 386201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1de5c0457dfa4095e308a0901413b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Stuck", "link": "https://stackoverflow.com/users/386201/stuck"}, "edited": false, "score": 0, "creation_date": 1588766800, "post_id": 51790562, "comment_id": 109023690, "body": "but I do not want to change how auth state is persisted because of a test. How can we enforce clearing the auth state before the test?"}], "tags": [], "owner": {"reputation": 326, "user_id": 625632, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/6807115/picture?type=large", "display_name": "Brian A Bird", "link": "https://stackoverflow.com/users/625632/brian-a-bird"}, "is_accepted": false, "score": 1, "last_activity_date": 1533918344, "creation_date": 1533918344, "answer_id": 51790562, "question_id": 50711829, "link": "https://stackoverflow.com/questions/50711829/cypress-browser-state-maintains-log-in-how-do-i-stop-this-from-occurring/51790562#51790562", "title": "Cypress browser state maintains log in. How do I stop this from occurring?", "body": "<p>FWIW, I was having the same issue with Cypress when paired with Firebase/Firestore. After some digging, I see that Auth persistence can be configured. See this article:  <a href=\"https://firebase.google.com/docs/auth/web/auth-state-persistence\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/web/auth-state-persistence</a></p>\n"}, {"tags": [], "owner": {"reputation": 8754, "user_id": 386201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1de5c0457dfa4095e308a0901413b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Stuck", "link": "https://stackoverflow.com/users/386201/stuck"}, "is_accepted": false, "score": 1, "last_activity_date": 1588769613, "creation_date": 1588769613, "answer_id": 61635741, "question_id": 50711829, "link": "https://stackoverflow.com/questions/50711829/cypress-browser-state-maintains-log-in-how-do-i-stop-this-from-occurring/61635741#61635741", "title": "Cypress browser state maintains log in. How do I stop this from occurring?", "body": "<p>try to also clean <code>indexedDB</code>:</p>\n\n<pre><code>indexedDB.deleteDatabase('firebaseLocalStorageDb');\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 3764367, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d3ba895ba474e6cf95376b13ae63ae66?s=128&d=identicon&r=PG&f=1", "display_name": "radiobrain77", "link": "https://stackoverflow.com/users/3764367/radiobrain77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2043, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1588769613, "creation_date": 1528255594, "question_id": 50711829, "link": "https://stackoverflow.com/questions/50711829/cypress-browser-state-maintains-log-in-how-do-i-stop-this-from-occurring", "title": "Cypress browser state maintains log in. How do I stop this from occurring?", "body": "<p>I have written a number of cypress e2e tests for an app that requires logging in. I have written successful tests, however the tests have started to fail. The tests expect the app to be logged out when they start otherwise they fail when trying to find the email and password fields. When cypress opens its browser window the app is logged in. Earlier I would merely logout through the cypress browser and rerun the test. Now it will open again as if it is still logged in.</p>\n\n<p>How can I prevent the cypress browser window from starting with the page logged in already? Is there a way to refresh the app state so that it forgets about any previous log ins?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "edited": false, "score": 2, "creation_date": 1528254808, "post_id": 50711675, "comment_id": 88432335, "body": "In angular, do not expose executable code in class directly, just wrap it with a function or constructor. And if you want your code to be executed when component is created, it&#39;s recommended to write it in <code>OnInit</code> life hook."}, {"owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "reply_to_user": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "edited": false, "score": 0, "creation_date": 1528256666, "post_id": 50711675, "comment_id": 88432693, "body": "@Pengyy if I put myfunction () {setTimeout ....}; myfunction () will work? what do you mean?"}, {"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "edited": false, "score": 0, "creation_date": 1528256920, "post_id": 50711675, "comment_id": 88432752, "body": "It&#39;s hard to explain in comment, I have given an example in below answer."}], "answers": [{"tags": [], "owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "is_accepted": true, "score": 2, "last_activity_date": 1528256864, "creation_date": 1528256864, "answer_id": 50711992, "question_id": 50711675, "link": "https://stackoverflow.com/questions/50711675/error-in-settimeout-function-in-angular/50711992#50711992", "title": "error in setTimeout function in angular", "body": "<p>In angular, do not expose executable code in class directly, just wrap it with a function or in constructor. And if you want your code to be executed when component is created, it's recommended to write it in OnInit life hook.</p>\n\n<p>See below code example:</p>\n\n<pre><code>export class AppComponent implements OnInit {\n  title = 'app';\n  myselect:any;\n  test:any= [{\"id\": \"1\", \"nombre\":\"pedro\" },{\"id\": \"2\", \"nombre\":\"yeison\" }];\n  ngOnInit() {\n    // by calling function here, you function will be executed when angular init your component\n    this.timeoutFun();\n  }\n  // wrap code in a function\n  timeoutFun() {\n    setTimeout(function(){ alert(\"Hello\"); }, 3000);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 50711992, "answer_count": 1, "score": -1, "last_activity_date": 1528257620, "creation_date": 1528254297, "last_edit_date": 1528257620, "question_id": 50711675, "link": "https://stackoverflow.com/questions/50711675/error-in-settimeout-function-in-angular", "title": "error in setTimeout function in angular", "body": "<p>I am new at angular and I do not understand why I am getting this error. I simply created a new project using <code>@angular/cli</code> command:</p>\n\n<pre><code>npm install -g @ angular / cli\nng new tutorial\n</code></pre>\n\n<p>and I modified the <code>component.ts</code> file</p>\n\n<pre><code>export class AppComponent {\n title = 'app';\n myselect:any;\n test:any= [{\"id\": \"1\", \"nombre\":\"pedro\" },{\"id\": \"2\", \"nombre\":\"yeison\" }];\n setTimeout(function(){ alert(\"Hello\"); }, 3000);\n}\n</code></pre>\n\n<p>and in the line of <code>setTimeout</code>, I'm getting this error. </p>\n\n<pre><code>ERROR in src/app/app.component.ts(15,14): error TS1138: Parameter \ndeclaration expected. src/app/app.component.ts(15,42): error TS1068: \nUnexpected token. A constructor, method, accessor, or property was expected. \nsrc/app/app.component.ts(15,48): error TS1005: ';' expected.\n</code></pre>\n\n<p>What am I doing wrong or what is the problem?</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1528252460, "post_id": 50711435, "comment_id": 88431836, "body": "This looks very suspect to me <code>(formReady)=&quot;formInitialized($event)&quot;</code>. Looks like your using an <code>@Output()</code> binding to pass internal references to other components, and then the inner state of that component is changed by outsiders. Which explains why you&#39;re getting the change error."}, {"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1528252822, "post_id": 50711435, "comment_id": 88431916, "body": "I want my childcomponent updates the MasterForm by adding a new property.  In this way, the childComponent will be more re usuable in other components.  so yes, ListComponent formInitialized send the new FormArray to MasterComponent and ItemComponent formInitialized  send the new FormGroup to add to the ListComponent FormArray.  I m opened to change a lot of thing, my main point is to keep the responsability to the child component to send the AbstractControl to the parent component."}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 11897202, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LMU5PJWZSwA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdD4RbL-4n2TJ-oIBoIXDhXV3jkZA/photo.jpg?sz=128", "display_name": "Aaron Turkel", "link": "https://stackoverflow.com/users/11897202/aaron-turkel"}, "is_accepted": true, "score": 3, "last_activity_date": 1585669489, "last_edit_date": 1585669489, "creation_date": 1585669161, "answer_id": 60954410, "question_id": 50711435, "link": "https://stackoverflow.com/questions/50711435/angular-2-reactive-form-with-nested-component/60954410#60954410", "title": "Angular 2 Reactive Form with nested component", "body": "<p>You can just follow <a href=\"https://brophy.org/post/nested-reactive-forms-in-angular2/\" rel=\"nofollow noreferrer\">Brophy's example</a>...</p>\n\n<p>Instead of having formReady emit when you create the formControl/formGroup, \nrather just add it to the parent form by passing the parent in through an @input.</p>\n\n<p>The trick is to update the form at the correct index instead of just pushing to the formArray...</p>\n\n<p>For example,</p>\n\n<p>The Parent: (TS)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>styleForm: FormGroup;\r\n@Input() style: IStyle;\r\n\r\nconstructor(private fb: FormBuilder) {}\r\n\r\nngOnInit(): void {\r\n  this.styleForm = this.buildStyleForm();\r\n}\r\n\r\n\r\nbuildStyleForm() {\r\n  return this.fb.group({\r\n    selected: false,\r\n    products: this.fb.array([])\r\n  });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The Parent: (HTML)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul class=\"style_product-list\" formArrayName=\"products\"&gt;\r\n  &lt;li class=\"style_product\" *ngFor=\"let product of style?.products; index as i\"&gt;\r\n    &lt;product [styleForm]=\"styleForm\" [productIndex]=\"i\" [product]=\"product\"&gt;&lt;/product&gt;\r\n  &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The Child:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>products: FormArray;\r\n@Input() styleForm: FormGroup;\r\n@Input() product: IProduct;\r\n@Input() productIndex: number;\r\n\r\nngOnInit(): void {\r\n  this.productForm = this.buildProductFormGroup(this.product);\r\n  this.products = this.styleForm.controls.products as FormArray;\r\n  this.pushGroupIntoArray(this.products, this.productForm, this.productIndex);\r\n}\r\n\r\npushGroupIntoArray(array: FormArray, group: FormGroup, index: number) {\r\n  if (array.at(index)) {\r\n    array.setControl(index, group);\r\n  } else {\r\n    array.push(group);\r\n  }\r\n}\r\n\r\nbuildProductFormGroup(product: IProduct): FormGroup {\r\n  return &lt;FormGroup &gt; this.fb.group({\r\n    selected: [product &amp;&amp; product.selected],\r\n    quantity: [product &amp;&amp; product.quantity, Validators.required],\r\n    parts: [product &amp;&amp; product.parts, Validators.required]\r\n  });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will give the updated formControl/formGroup to the parent (and it will be linked!)</p>\n"}], "owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "accepted_answer_id": 60954410, "answer_count": 1, "score": 1, "last_activity_date": 1585669489, "creation_date": 1528252025, "last_edit_date": 1528255108, "question_id": 50711435, "link": "https://stackoverflow.com/questions/50711435/angular-2-reactive-form-with-nested-component", "title": "Angular 2 Reactive Form with nested component", "body": "<p>Based on these 2 urls:</p>\n\n<ul>\n<li><a href=\"https://brophy.org/post/nested-reactive-forms-in-angular2/\" rel=\"nofollow noreferrer\">https://brophy.org/post/nested-reactive-forms-in-angular2/</a> (1)</li>\n<li><a href=\"https://stackblitz.com/edit/monolithic-reactive-form-async-fill\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/monolithic-reactive-form-async-fill</a> (2)</li>\n</ul>\n\n<p>I would like:</p>\n\n<ul>\n<li>a MasterComponent  </li>\n<li>with a ListComponent </li>\n<li>and a ListItemComponent</li>\n</ul>\n\n<p>MasterComponent.ts</p>\n\n<pre><code>  public data: Data;\n  public form: FormGroup = this.fb.group({});\n\n  formInitialized(name: string, form: FormGroup) {\n    this.form.addControl(name, form);\n  }\n</code></pre>\n\n<p>MasterComponent.html</p>\n\n<pre><code>  &lt;app-list [parentForm]=\"form\"\n        [items]=\"data.items\"\n        (formReady)=\"formInitialized('items', $event)\"&gt;&lt;/app-list&gt;\n</code></pre>\n\n<p>ListComponent.ts</p>\n\n<pre><code>  @Input() parentForm: FormGroup;\n  @Input() items: item[];\n  @Output() formReady = new EventEmitter&lt;AbstractControl&gt;()\n\n  public itemsForm: FormArray;\n\n  formInitialized(itemForm: FormGroup) {\n    debugger;\n    this.itemsForm.push(itemForm);\n  }\n\n  ngOnInit() {\n    debugger;\n    this.itemsForm = new FormArray([]);\n    this.formReady.emit(this.itemsForm);\n  }\n</code></pre>\n\n<p>ListComponent.html</p>\n\n<pre><code>    &lt;div [formGroup]=\"parentForm\"&gt;\n      &lt;div formArrayName=\"items\"&gt;\n        &lt;ng-template let-item let-last=\"last\" let-i=\"index\" ngFor [ngForOf]=\"items\"&gt;\n          &lt;app-item [itemsForm]=\"parentForm.controls.items\"\n                         [item]=\"item\"\n                         (formReady)=\"formInitialized($event)\"&gt;\n      &lt;/app-item&gt;\n    &lt;/ng-template&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>item.component.ts</p>\n\n<pre><code>  @Input() itemsForm: FormArray;\n  @Input() item: Item;\n  @Output() formReady = new EventEmitter&lt;AbstractControl&gt;()\n\n  public itemForm: FormGroup;\n  ngOnInit() {\n    this.itemForm = this._formBuilder.group({title: [item.title || '', Validators.required],});\n    this.formReady.emit(this.itemForm);\n  }\n</code></pre>\n\n<p>item.component.html</p>\n\n<pre><code>&lt;div class=\"md-padding\" [formGroup]=\"itemForm\"&gt;\n &lt;mat-form-field flex&gt;\n        &lt;input #title\n               name=\"title\"\n               matInput\n               type=\"text\"\n               placeholder=\"Title\"\n               formControlName=\"title\"\n               maxlength=\"150\"\n               required /&gt;\n        &lt;mat-error *ngIf=\"title.pristine || !title.errors\"&gt;\n          &lt;div *ngIf=\"title.errors?.required\"&gt;\n            this field is required.\n          &lt;/div&gt;\n          &lt;div *ngIf=\"title.errors?.maxlength\"&gt;\n            max length is 150.\n          &lt;/div&gt;\n        &lt;/mat-error&gt;\n        &lt;mat-hint align=\"end\"&gt;{{title.value.length}} / 150&lt;/mat-hint&gt;\n      &lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have an error with code:</p>\n\n<pre><code>MasterComponent.html:12 ERROR Error: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: 'Items: [object Object],[object Object]core.js:8445)\n    at expressionChangedAfterItHasBeenCheckedError (core.js:8433)\n    at checkBindingNoChanges (core.js:8535)\n    at checkNoChangesNodeInline (core.js:11403)\n    at checkNoChangesNode (core.js:11390)\n    at debugCheckNoChangesNode (core.js:11997)\n    at debugCheckDirectivesFn (core.js:11925)\n    at Object.eval [as updateDirectives] (MasterComponent.html:12)\n    at Object.debugUpdateDirectives [as updateDirectives] (core.js:11914)\n    at checkNoChangesView (core.js:11289)\n</code></pre>\n\n<p>I like the concept where the child component is in charge to give the formGroup to the master component <a href=\"https://brophy.org/post/nested-reactive-forms-in-angular2/\" rel=\"nofollow noreferrer\">1</a>.\nThe problem with the solution <a href=\"https://brophy.org/post/nested-reactive-forms-in-angular2/\" rel=\"nofollow noreferrer\">1</a> is the child component can't update the mastercomponent (see the issue <a href=\"https://github.com/brophdawg11/ng-playground/issues/5\" rel=\"nofollow noreferrer\">https://github.com/brophdawg11/ng-playground/issues/5</a>).\nSo I adapted the solution <a href=\"https://brophy.org/post/nested-reactive-forms-in-angular2/\" rel=\"nofollow noreferrer\">1</a> with the solution <a href=\"https://stackblitz.com/edit/monolithic-reactive-form-async-fill\" rel=\"nofollow noreferrer\">2</a>.</p>\n\n<p>But it doesnt work. Is there a way to fix the problem? Or do you have a good tutorial to propose?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1528250734, "post_id": 50711232, "comment_id": 88431483, "body": "Why do you need the type assertion (the &#39;cast&#39;) to fail? If you had a function that accepted an <code>IUser</code> and you passed <code>{ name: &quot;bob&quot;, bob: true }</code>, it would fail."}, {"owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1528251100, "post_id": 50711232, "comment_id": 88431547, "body": "@cartant I&#39;ve updated the code so the function receives object type IUser, it still compiles"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1528251209, "post_id": 50711232, "comment_id": 88431571, "body": "Without the type assertions, it will fail. With the type assertions, you are circumventing the excess property checks."}, {"owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1528251287, "post_id": 50711232, "comment_id": 88431590, "body": "Right, I&#39;m not forcing it to by abide to IUser, but inadvertently forcing it to compile by telling the compiler &quot;don&#39;t worry it is IUser&quot;..."}], "answers": [{"comments": [{"owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "edited": false, "score": 0, "creation_date": 1528331395, "post_id": 50711328, "comment_id": 88470562, "body": "Thanks, and here I was thinking that adding the type was making the code clearer, but I was actually making it looser"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "edited": false, "score": 0, "creation_date": 1528331696, "post_id": 50711328, "comment_id": 88470637, "body": "Type casts, also called type assertions, are <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">a way to tell the compiler \u201ctrust me, I know what I\u2019m doing&quot;</a>. In TypeScript, they are useful only when compiler can&#39;t figure out types on its own, and could be harmful otherwise."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 3, "last_activity_date": 1528251191, "creation_date": 1528251191, "answer_id": 50711328, "question_id": 50711232, "link": "https://stackoverflow.com/questions/50711232/typescript-object-cast-to-interface-should-not-compile/50711328#50711328", "title": "TypeScript object cast to interface should not compile?", "body": "<p>Extra properties check is done only when assigning object literal to a variable or function parameter. Adding any kind of cast disables the check, because the value actually is assignable to the type. This feature is called <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#strict-object-literal-assignment-checking\" rel=\"nofollow noreferrer\">Strict <strong>object literal</strong> assignment checking</a>:</p>\n\n<blockquote>\n  <p>It is an error to specify properties in an object literal that were\n  not specified on the target type, when assigned to a variable or\n  passed for a parameter of a non-empty target type.</p>\n</blockquote>\n\n<p>Example where the an extra property gives an error:</p>\n\n<pre><code>interface IUser {\n  name: string\n}\n\nconst anotherFunc = function (u: IUser) {\n    // whatever\n}\n\nconst func = function() {\n    anotherFunc({\n        name: \"bob\",\n        bob: true\n    })\n}\n\n// Argument of type '{ name: string; bob: boolean; }' is not assignable to parameter of type 'IUser'.\n//   Object literal may only specify known properties, and 'bob' does not exist in type 'IUser'.\n</code></pre>\n"}], "owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 50711328, "answer_count": 1, "score": 1, "last_activity_date": 1529887709, "creation_date": 1528250320, "last_edit_date": 1529887709, "question_id": 50711232, "link": "https://stackoverflow.com/questions/50711232/typescript-object-cast-to-interface-should-not-compile", "title": "TypeScript object cast to interface should not compile?", "body": "<p>I can't understand why this TypeScript code should compile (TypeScript 2.8.3 all strict checks on)</p>\n\n<p>I've cast an object to type IUser and included a property which doesn't exist \"bob\"</p>\n\n<p>I've read the documentation on excess checks - <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks</a></p>\n\n<p>But it still doesn't make sense that this should compile - given I'm casting it.</p>\n\n<p>The ultimate question is: How can I actually get proper typing on this object - such that casting it to an object with non-interface members (a possibly/likely typo) should fail to compile.</p>\n\n<pre><code>interface IUser {\n    name: string\n}\n\nconst func = (user: IUser) =&gt; {\n    alert(user)\n}\n\nfunc(&lt;IUser&gt; {\n    name: \"bob\",\n    bob: true\n} as IUser)\n</code></pre>\n"}, {"tags": ["wordpress", "angular", "typescript", "iframe", "cross-domain"], "owner": {"reputation": 31, "user_id": 4238540, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006465351333/picture?type=large", "display_name": "tsagita", "link": "https://stackoverflow.com/users/4238540/tsagita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528249839, "creation_date": 1528249839, "question_id": 50711184, "link": "https://stackoverflow.com/questions/50711184/how-to-embed-angular-typescript-with-dynamic-height-in-cross-origin", "title": "How to embed angular typescript with dynamic height in cross origin", "body": "<p>I have a Web Application using Angular 6 with dynamic content.</p>\n\n<p>How to embed in cross domain using Iframe and dynamic height without DOM and CORS restriction?</p>\n\n<p>The iframe looks like</p>\n\n<pre><code>&lt;iframe src=\"http://www.myAngularProjects\" frameborder=\"0\" scrolling=\"no\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>Any idea will appreciated, Thanks!</p>\n"}, {"tags": ["reactjs", "typescript", "office-js"], "answers": [{"tags": [], "owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "is_accepted": false, "score": 1, "last_activity_date": 1528247020, "creation_date": 1528247020, "answer_id": 50710903, "question_id": 50710857, "link": "https://stackoverflow.com/questions/50710857/more-missing-typescript-definitions-for-office-js/50710903#50710903", "title": "More missing TypeScript definitions for Office-JS", "body": "<p>You can always cast something to <code>any</code>.  I.e.:\n<code>(Office.context.mailbox as any).restUrl</code></p>\n\n<p>I'll let the Outlook Extensibility team know that these two are missing -- but also, if you know exactly what is missing, feel free to just <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/#make-a-pull-request\" rel=\"nofollow noreferrer\">submit a pull request</a> on <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/office-js/index.d.ts\" rel=\"nofollow noreferrer\">this file</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5418, "user_id": 519226, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/dSD4J.jpg?s=128&g=1", "display_name": "Eric Legault", "link": "https://stackoverflow.com/users/519226/eric-legault"}, "edited": false, "score": 0, "creation_date": 1528314228, "post_id": 50726790, "comment_id": 88464697, "body": "I swear I looked at that file yesterday and didn&#39;t see it, but - it was a long day lol. I had last updated the file on May 25, so I guess I just missed the change - thanks!"}], "tags": [], "owner": {"reputation": 183, "user_id": 9227753, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107136826170042/picture?type=large", "display_name": "Alexander Jerabek", "link": "https://stackoverflow.com/users/9227753/alexander-jerabek"}, "is_accepted": false, "score": 3, "last_activity_date": 1528308091, "creation_date": 1528308091, "answer_id": 50726790, "question_id": 50710857, "link": "https://stackoverflow.com/questions/50710857/more-missing-typescript-definitions-for-office-js/50726790#50726790", "title": "More missing TypeScript definitions for Office-JS", "body": "<p>Looking at the current <a href=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/office-js/index.d.ts\" rel=\"nofollow noreferrer\">d.ts file in Definitely Typed</a>, it appears both those parameters are listed and described.</p>\n\n<p>Have you updated @types/office-js recently? Several changes, particularly to Outlook, have been checked in recently.</p>\n"}], "owner": {"reputation": 5418, "user_id": 519226, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/dSD4J.jpg?s=128&g=1", "display_name": "Eric Legault", "link": "https://stackoverflow.com/users/519226/eric-legault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1528308091, "creation_date": 1528246579, "question_id": 50710857, "link": "https://stackoverflow.com/questions/50710857/more-missing-typescript-definitions-for-office-js", "title": "More missing TypeScript definitions for Office-JS", "body": "<p>Similar to the issue I <a href=\"https://stackoverflow.com/questions/50518731/office-js-mail-object-properties-missing-in-typescript/50519873#50519873\">recently posted here</a>, it seems there are two other omissions (perhaps more):</p>\n\n<ul>\n<li>Office.context.mailbox.getCallbackTokenAsync: the new options parameter for specifying isRest: true is missing</li>\n<li>Office.context.mailbox.restUrl: also missing</li>\n</ul>\n\n<p>Is there a way I can force the usage of these missing types in my React/TypeScript project (using Webstorm)? I'm geting compiler errors and can't use them at all.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 336, "user_id": 4453135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a5e644ebcfecc06f6d71da6602b885?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Jr", "link": "https://stackoverflow.com/users/4453135/denis-jr"}, "edited": false, "score": 0, "creation_date": 1528241467, "post_id": 50710260, "comment_id": 88429589, "body": "Could you post your code please? This makes it easier to help you."}, {"owner": {"reputation": 21, "user_id": 6831394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T8pwQXkZdcs/AAAAAAAAAAI/AAAAAAAACJA/RV_MP-4nt_4/photo.jpg?sz=128", "display_name": "James Simmons", "link": "https://stackoverflow.com/users/6831394/james-simmons"}, "reply_to_user": {"reputation": 336, "user_id": 4453135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a5e644ebcfecc06f6d71da6602b885?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Jr", "link": "https://stackoverflow.com/users/4453135/denis-jr"}, "edited": false, "score": 0, "creation_date": 1530894344, "post_id": 50710260, "comment_id": 89409717, "body": "Updated code section. This code works and loads the correct video. It just doesn&#39;t compile in TypeScript."}], "answers": [{"tags": [], "owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "is_accepted": false, "score": 0, "last_activity_date": 1528266464, "creation_date": 1528266464, "answer_id": 50713527, "question_id": 50710260, "link": "https://stackoverflow.com/questions/50710260/video-load-function-in-typescript-throws-error/50713527#50713527", "title": "video load function in typescript throws error", "body": "<p>The <em><a href=\"http://api.jquery.com/load/\" rel=\"nofollow noreferrer\">jQuery Api Documentation</a></em> should help you: </p>\n\n<blockquote>\n  <p>.load( url [, data ] [, complete ] )</p>\n</blockquote>\n\n<p>The <code>.load()</code> function needs at least an <strong>Url</strong> to work. </p>\n"}], "owner": {"reputation": 21, "user_id": 6831394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T8pwQXkZdcs/AAAAAAAAAAI/AAAAAAAACJA/RV_MP-4nt_4/photo.jpg?sz=128", "display_name": "James Simmons", "link": "https://stackoverflow.com/users/6831394/james-simmons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530896237, "creation_date": 1528241292, "last_edit_date": 1530896237, "question_id": 50710260, "link": "https://stackoverflow.com/questions/50710260/video-load-function-in-typescript-throws-error", "title": "video load function in typescript throws error", "body": "<p>I'm trying to load a video dynamically. TypeScript throws this error because it thinks I'm doing it on a HTML element (which is what is returned via the jquery selector), but everything works as expected. I can change out videos without any issues (besides this error).</p>\n\n<p>Code:</p>\n\n<pre><code>let url = 'https://myurl.com/videos/';\nurl = url + event + '.mp4';\n$('#video-player video source').attr('src', url);\n$('#video-player video').load();\n</code></pre>\n\n<p><code>\nERROR in src/app/secure/events/events.component.ts(43,5): error TS2554: Expected 1-3 arguments, but got 0.\n</code></p>\n\n<p>I also tried casting it to  but it throws another error saying <code>Types of property 'height' are incompatible.</code>.</p>\n\n<p>How do I get rid of the error?</p>\n\n<p>UPDATE:\nEnded up just setting the src attribute (using Angular) on the video element and setting autoplay. It all works now and no errors:</p>\n\n<pre><code>&lt;video width=\"800\" [src]=\"videoSource\" controls autoplay&gt;\n    Your browser does not support HTML5 video.\n&lt;/video&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "validation", "decorator", "typescript-decorator"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1528292405, "post_id": 50714345, "comment_id": 88452190, "body": "Excellent - Thanks a lot for pointing that out.  The other component to this is the sequence of the validation of the properties.  The purchasePrice shoujld be validated before the salesPrice...I&#39;m reading through the validator code and I think it might be as simple as just making sure that it comes first in file order...."}], "tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": true, "score": 5, "last_activity_date": 1528269382, "creation_date": 1528269382, "answer_id": 50714345, "question_id": 50710163, "link": "https://stackoverflow.com/questions/50710163/controlling-the-order-in-which-typescript-property-decorators-are-applied/50714345#50714345", "title": "Controlling the order in which typescript property decorators are applied?", "body": "<p>The decorator should not have a dependency on the usage order.\nThey should be all standalone and work independently.</p>\n\n<p>In this case, the <code>@IsGreaterThan</code> should have <code>@IsNumber</code> used internally to ensure the target is a number.</p>\n\n<p>On the other hand, controlling the order is easy. The closest is applied first. So in your case, you need</p>\n\n<pre><code>class Product {\n  @IsGreaterThan('purchasePrice')\n  @IsPositive\n  @IsNumber\n  salesPrice: number\n}\n</code></pre>\n\n<p>Decorator is just a sugar of a descriptor function, which is a higher order function like this:</p>\n\n<pre><code>function IsNumber(target, key, descriptor) { ... }\n</code></pre>\n\n<p>So the code above is actually just (pseudo code):</p>\n\n<pre><code>class Product {\n  salesPrice = IsGreaterThan('puchasePrice')(IsPositive(IsNumber(Product, 'salesPrice')))\n}\n</code></pre>\n\n<p>Since the <code>class</code> syntax is a sugar itself, the code above looks weird as I just trying to show you the underlying concept.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 50714345, "answer_count": 1, "score": 1, "last_activity_date": 1528293631, "creation_date": 1528240491, "last_edit_date": 1528293631, "question_id": 50710163, "link": "https://stackoverflow.com/questions/50710163/controlling-the-order-in-which-typescript-property-decorators-are-applied", "title": "Controlling the order in which typescript property decorators are applied?", "body": "<p>I'm considering writing a validator that checks whether one value is greater than another.  For example purchase price greater than sales price.</p>\n\n<p>But first we would have to make sure that the sales price is valid.  So we might have something like this:</p>\n\n<pre><code>class Product {        \n\n    @IsNumber\n    @IsPositive\n    purchasePrice: Number;\n\n    @IsNumber\n    @IsPositive\n    @IsGreaterThan('purchasePrice')\n    salesPrice: Number;\n}\n</code></pre>\n\n<p>In this case the <code>@IsNumber</code> and <code>@IsPositive</code> should execute on both properties before the <code>@IsGreaterThan</code> annotation should execute.  </p>\n\n<p>I'm wondering whether this is something that is simple to implement (Perhaps with some class level metadata) or whether I should just write simple function validators to check this type of stuff. </p>\n\n<p>I'm not a decorator expert, but one thought would be to have validation metadata built into each decorator using a number such that the execution of the validators is sorted by this number.</p>\n\n<p>So for example the @IsGreaterThan validator could have a number <code>2</code> assigned, and the others a number <code>1</code> and that means that the validator should execute the <code>1</code> tagged validators first, and then <code>2</code>.</p>\n"}, {"tags": ["angular", "typescript", "angular-routing", "ngfor"], "comments": [{"owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "edited": false, "score": 0, "creation_date": 1528240174, "post_id": 50710071, "comment_id": 88429281, "body": "use a key called <code>children</code>, check here <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">angular.io/guide/router</a>"}, {"owner": {"reputation": 611, "user_id": 3167443, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/536304473/picture?type=large", "display_name": "MehmetDemiray", "link": "https://stackoverflow.com/users/3167443/mehmetdemiray"}, "reply_to_user": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "edited": false, "score": 0, "creation_date": 1528240498, "post_id": 50710071, "comment_id": 88429357, "body": "@windmaomao it doesn&#39;t work. Because this is not routing class. <code>children</code> not defined."}], "owner": {"reputation": 611, "user_id": 3167443, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/536304473/picture?type=large", "display_name": "MehmetDemiray", "link": "https://stackoverflow.com/users/3167443/mehmetdemiray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528240464, "creation_date": 1528239662, "question_id": 50710071, "link": "https://stackoverflow.com/questions/50710071/how-to-make-subclass-in-angular-6", "title": "How to make subclass in angular 6?", "body": "<p>I'm trying to make multi-level list with Angular 6. Normally it works first level you can see below code.</p>\n\n<p><strong>aside/aside.component.ts</strong></p>\n\n<pre><code>declare const $: any;\ndeclare interface RouteInfo {\n  path: string;\n  title: string;\n  icon: string;\n  class: string;\n}\n\nexport const ROUTES: RouteInfo[] = [\n  { path: '/dashboard', title: 'Dashboard',  icon: 'dashboard', class: '' },\n  { path: '/user-profile', title: 'User Profile',  icon: 'person', class: '' },\n  { path: '/table-list', title: 'Table List',  icon: 'content_paste', class: '' },\n  { path: '/typography', title: 'Typography',  icon: 'library_books', class: '' },\n  { path: '/icons', title: 'Icons',  icon: 'bubble_chart', class: '' },\n  { path: '/maps', title: 'Maps',  icon: 'location_on', class: '' },\n  { path: '/maps', title: 'Maps',  icon: 'location_on', class: '' },\n  { path: '/notifications', title: 'Notifications',  icon: 'notifications', class: '' },\n  { path: '/upgrade', title: 'Upgrade to PRO',  icon: 'unarchive', class: 'active-pro' },\n];\n</code></pre>\n\n<p>It works fine with the below html code.</p>\n\n<p><strong>aside/aside.component.html</strong></p>\n\n<pre><code>    &lt;li routerLinkActive=\"active\" *ngFor=\"let menuItem of menuItems\" class=\"{{menuItem.class}}\"&gt;\n        &lt;a class=\"nav-link\" [routerLink]=\"[menuItem.path]\"&gt;\n            &lt;i class=\"material-icons\"&gt;{{menuItem.icon}}&lt;/i&gt;\n            &lt;p&gt;{{menuItem.title}}&lt;/p&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n</code></pre>\n\n<p>I want to add child paths. For example i tried this code, but it didn't work. </p>\n\n<pre><code>  { path: '/dashboard',title: 'Dashboard', icon: 'dashboard', class: '',\n    [\n        { path: '/dashboard/dashboard1', title: 'Dashboard1', icon: 'dashboard', class: ''},\n        { path: '/dashboard/dashboard2', title: 'Dashboard2', icon: 'dashboard', class: ''}\n    ]  \n  }\n</code></pre>\n\n<p>How can i add child paths ? </p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-mjh5rp?file=src/app/aside/aside.component.ts\" rel=\"nofollow noreferrer\">Live Example</a></strong></p>\n"}, {"tags": ["cordova", "typescript", "mobile", "ionic3", "cordova-plugins"], "comments": [{"owner": {"reputation": 29, "user_id": 6839517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wttZV.jpg?s=128&g=1", "display_name": "Matheus Lima", "link": "https://stackoverflow.com/users/6839517/matheus-lima"}, "edited": false, "score": 0, "creation_date": 1528246404, "post_id": 50710009, "comment_id": 88430659, "body": "i made a few tests and the problem is in the getcurrentposition() it got stuck there, anyone know why?"}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 6839517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wttZV.jpg?s=128&g=1", "display_name": "Matheus Lima", "link": "https://stackoverflow.com/users/6839517/matheus-lima"}, "is_accepted": false, "score": 0, "last_activity_date": 1528247022, "creation_date": 1528247022, "answer_id": 50710904, "question_id": 50710009, "link": "https://stackoverflow.com/questions/50710009/how-to-wait-for-use-aprove-on-geo-location-using-cordova-locationaccuracy/50710904#50710904", "title": "How to wait for use aprove on geo location using cordova LocationAccuracy?", "body": "<p>i solved this problem by reloading the page after making the request, i used window.location.reload(). not the right way but worked </p>\n"}], "owner": {"reputation": 29, "user_id": 6839517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wttZV.jpg?s=128&g=1", "display_name": "Matheus Lima", "link": "https://stackoverflow.com/users/6839517/matheus-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1588528907, "creation_date": 1528239222, "last_edit_date": 1588528907, "question_id": 50710009, "link": "https://stackoverflow.com/questions/50710009/how-to-wait-for-use-aprove-on-geo-location-using-cordova-locationaccuracy", "title": "How to wait for use aprove on geo location using cordova LocationAccuracy?", "body": "<p>I'm using <code>LocationAccuracy</code> on Ionic and got a problem when the app is open without location-enabled, the app request for permission correctly but after that he does nothing</p>\n\n<p>Code to see if the app got permission</p>\n\n<pre><code>  autorizacoes(){\n    this.diagnostic.isLocationEnabled().then(\n      (resp)=&gt;{\n        if(resp){\n          this.on_load()\n        }else{\n          this.diagnostic.registerLocationStateChangeHandler(()=&gt;{this.on_load()})\n          this.request_location()\n        }\n      }\n    ).catch(err=&gt;{\n      this.alertCtrl.create({\n        title: 'Erro',\n        buttons: [{ text: 'ok' }],\n        subTitle: 'Ative o gps para prosseguir'\n      }).present();\n    })\n  }\n</code></pre>\n\n<p>Code to request</p>\n\n<pre><code> request_location(){\n    this.carregando = true\n      this.locationAccuracy.canRequest().then((canRequest: boolean) =&gt; {\n      if (canRequest) {\n        this.status = 'pode pedir'  this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(\n          () =&gt; {\n            this.status='vai esperar'\n            this.on_load()\n          },\n        ).catch(err=&gt;{\n          this.status = 'deu erro'\n            this.alertCtrl.create({\n              title: 'Erro',\n              buttons: [{ text: 'ok' }],\n              subTitle: 'Ative o gps para prosseguir'\n            }).present();\n          this.request_location()\n\n        })\n      }\n      else{\n        this.request_location()\n      }\n\n    });\n  }\n</code></pre>\n\n<p>Finally, the code I want to run after the location is turned on</p>\n\n<pre><code>  on_load() {\n    this.geolocation.getCurrentPosition().then((resp) =&gt; {\n      this.pegar_orcamentos_diponiveis(this.raio, { lat: resp.coords.latitude, lng: resp.coords.longitude });\n      console.log(this.orcamentos.length)\n      setTimeout(()=&gt;{\n      //this dont run\n        this.autorizacoes()\n      },30000)\n    }).catch((error) =&gt; {\n      console.log('Error getting location', error);\n\n      this.autorizacoes()\n    });\n    setTimeout(() =&gt; {\n    this run\n      this.status = 'end of time'\n      this.autorizacoes()\n    }, 30000)\n  }\n</code></pre>\n\n<p>I put a <code>timeout</code> just to test where the code goes.</p>\n"}, {"tags": ["javascript", "arrays", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 2, "creation_date": 1528238074, "post_id": 50709849, "comment_id": 88428730, "body": "Lots of static sites use cloud based databases or data storage. Your approach is not practical"}, {"owner": {"reputation": 1256, "user_id": 2613444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c38224dffaa2d7383314284038f9c26?s=128&d=identicon&r=PG", "display_name": "sid-m", "link": "https://stackoverflow.com/users/2613444/sid-m"}, "edited": false, "score": 2, "creation_date": 1528238190, "post_id": 50709849, "comment_id": 88428764, "body": "This does not seem to be possible without some server side program. That is just the way HTTP works."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 3, "creation_date": 1528238200, "post_id": 50709849, "comment_id": 88428772, "body": "JSON is a serialized format,. it has no concept of random access..  Your best be might be to divide this JSON into multiple smaller JSON files."}, {"owner": {"reputation": 8771, "user_id": 2518317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2af9b5e4cff82c5868791118832f86d6?s=128&d=identicon&r=PG", "display_name": "Hashbrown", "link": "https://stackoverflow.com/users/2518317/hashbrown"}, "edited": false, "score": 0, "creation_date": 1528238481, "post_id": 50709849, "comment_id": 88428841, "body": "Write a parser for json yourself in JS (or find one online) and make it so that (as it goes) it only keeps elements x-through-y in the root array. It will download all the json (as text, thats just how http be) but it wont load them (as objects). Without serverside code, this is the only way (obviously serverside execution is the way to do what you want. But I like to say nothing is <i>impossible</i>)"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "reply_to_user": {"reputation": 8771, "user_id": 2518317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2af9b5e4cff82c5868791118832f86d6?s=128&d=identicon&r=PG", "display_name": "Hashbrown", "link": "https://stackoverflow.com/users/2518317/hashbrown"}, "edited": false, "score": 0, "creation_date": 1528238995, "post_id": 50709849, "comment_id": 88428978, "body": "@Hashbrown <code>It will download all the json (as text, thats just how http be)</code>  Actually HTTP can do ranges, depending on the format of the JSON, it might be a bit tricky though to anchor to a logical start / end for decoding.."}, {"owner": {"reputation": 8771, "user_id": 2518317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2af9b5e4cff82c5868791118832f86d6?s=128&d=identicon&r=PG", "display_name": "Hashbrown", "link": "https://stackoverflow.com/users/2518317/hashbrown"}, "edited": false, "score": 0, "creation_date": 1528238996, "post_id": 50709849, "comment_id": 88428979, "body": "Using this, you could even hook it into the xhttprequest and get it to cancel after reading the 1000 you want, possibly even not dowloading it all. But the benefit there would be negligible. Keith&#39;s idea fixes both these issues much more simply if you have access to the server with this json &quot;somewhere online&quot;."}, {"owner": {"reputation": 8771, "user_id": 2518317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2af9b5e4cff82c5868791118832f86d6?s=128&d=identicon&r=PG", "display_name": "Hashbrown", "link": "https://stackoverflow.com/users/2518317/hashbrown"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1528239062, "post_id": 50709849, "comment_id": 88428999, "body": "@keith that&#39;s amazing! I hadn&#39;t heard of that. Would only work if every element in the array has a predictable [serialised] size, though"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "reply_to_user": {"reputation": 8771, "user_id": 2518317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2af9b5e4cff82c5868791118832f86d6?s=128&d=identicon&r=PG", "display_name": "Hashbrown", "link": "https://stackoverflow.com/users/2518317/hashbrown"}, "edited": false, "score": 0, "creation_date": 1528239269, "post_id": 50709849, "comment_id": 88429047, "body": "@Hashbrown  Yes, could be tricky.  I suppose it depends on how complicated the JSON structure is.  Also it does require the Server to be able to do ranges, most do nowadays, eg.  Here on stackoverflow, the header returned is.  <code>accept-ranges: bytes</code>, this mean it can do ranged downloading.  But the OP will just need to double check were he&#39;s hosting, just in case."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1528239820, "post_id": 50709849, "comment_id": 88429192, "body": "mmm, actually thinking about this a little bit more, if the OP can pre-process his 200meg JSON file, and from this create a sort of Indexed.Json file, were it basically store&#39;s the starting &amp; ending offset of each JSON record, &amp; if were the OP is hosting can handle ranges, using the https ranged download should work nicely.."}, {"owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "edited": false, "score": 0, "creation_date": 1528240045, "post_id": 50709849, "comment_id": 88429250, "body": "I&#39;m just hosting it on Github. I&#39;ll double check whether they support ranges!"}, {"owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "edited": false, "score": 0, "creation_date": 1528240064, "post_id": 50709849, "comment_id": 88429254, "body": "You are essentially describing a file system. Just continue doing it then, ex. <code>import xxx</code> or <code>require()</code>."}, {"owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1528405685, "post_id": 50709849, "comment_id": 88508111, "body": "@Keith I get it to work when the start of byte range is 0, but it gives me an error when the start range isn&#39;t 0. I opened a new question regarding this here: <a href=\"https://stackoverflow.com/questions/50750110/http-range-request-doesnt-work-if-the-start-range-isnt-zero\" title=\"http range request doesnt work if the start range isnt zero\">stackoverflow.com/questions/50750110/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "edited": false, "score": 0, "creation_date": 1528405534, "post_id": 50710236, "comment_id": 88508042, "body": "I tried your method and it seems to only work when the range starts from 0, and it gives me an error when I put, for instance, bytes=1-1023. I open a new question for this specific problem here: <a href=\"https://stackoverflow.com/questions/50750110/http-range-request-doesnt-work-if-the-start-range-isnt-zero\" title=\"http range request doesnt work if the start range isnt zero\">stackoverflow.com/questions/50750110/&hellip;</a>."}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": true, "score": 3, "last_activity_date": 1528241096, "creation_date": 1528241096, "answer_id": 50710236, "question_id": 50709849, "link": "https://stackoverflow.com/questions/50709849/loading-random-objects-from-a-huge-200mb-array-file-without-loading-the-entir/50710236#50710236", "title": "Loading random objects from a huge (&gt;200MB) array file without loading the entire array", "body": "<p>You could attempt to download only the first partial chunk of the file and try to use that.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests</a></p>\n\n<p>You would use the Angular's HTTP service to make a <code>GET</code> request, but would add <code>Range: bytes=0-1023</code> to the headers. Where <code>0-1023</code> defines the number of bytes you would like to fetch (using a start and end range).</p>\n\n<p>If the server supports this feature, then you'll have to clean up the string JSON that is fetched from the server. Since the JSON will be cut-off before it's complete.</p>\n\n<p>Without me knowing what the structure of the JSON is. It's difficult to say if this is a practical solution, but if it's an array of JSON objects. You could try to find a byte range that ends on an array separator <code>,</code> character and just append <code>]</code> to the end of the string.</p>\n\n<p>If you need random parts of the file. You would make multiple <code>GET</code> requests for different partial chunks, and then try to clean the JSON so that it's valid.</p>\n"}], "owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 50710236, "answer_count": 1, "score": 4, "last_activity_date": 1528241096, "creation_date": 1528237918, "last_edit_date": 1528240319, "question_id": 50709849, "link": "https://stackoverflow.com/questions/50709849/loading-random-objects-from-a-huge-200mb-array-file-without-loading-the-entir", "title": "Loading random objects from a huge (&gt;200MB) array file without loading the entire array", "body": "<p>I am building a static Angular website whose data is based on 1000 random objects from a huge array that contains more than 200,000 JSON objects. I am storing the huge array of JSON objects in text form somewhere online (like Github or Dropbox), and the text file size is larger than 200MB. It's obviously not an option to load all the data in the website due to performance concerns, but I also do not want to use a database as I am building a static website. How do I only load randomly 1000 objects out of the 200,000 objects without loading the entire array?</p>\n"}, {"tags": ["javascript", "typescript", "react-native", "genymotion"], "comments": [{"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "edited": false, "score": 0, "creation_date": 1528252321, "post_id": 50709799, "comment_id": 88431817, "body": "What exactly is your goal with this text?"}, {"owner": {"reputation": 126, "user_id": 1789126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a55dca2574979fb775a05c777fd8528?s=128&d=identicon&r=PG", "display_name": "James Dale", "link": "https://stackoverflow.com/users/1789126/james-dale"}, "reply_to_user": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "edited": false, "score": 0, "creation_date": 1528268059, "post_id": 50709799, "comment_id": 88436589, "body": "@FunkSoulNinja the first goal is just to get the font size correct really. I&#39;m not too fussed about the position. I have removed the styles and all other attr apart from fontSize and I&#39;m still getting the same issue"}, {"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "edited": false, "score": 0, "creation_date": 1528268174, "post_id": 50709799, "comment_id": 88436667, "body": "I see. Do you need such a big font size? The default font size is about 14."}, {"owner": {"reputation": 126, "user_id": 1789126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a55dca2574979fb775a05c777fd8528?s=128&d=identicon&r=PG", "display_name": "James Dale", "link": "https://stackoverflow.com/users/1789126/james-dale"}, "reply_to_user": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "edited": false, "score": 0, "creation_date": 1528268641, "post_id": 50709799, "comment_id": 88436961, "body": "@FunkSoulNinja yeah for this current project I do. I didn&#39;t think this would be a hurdle to cross when I started. I assumed the fontSize would just work."}, {"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "edited": false, "score": 0, "creation_date": 1528269114, "post_id": 50709799, "comment_id": 88437219, "body": "What part of the text is being cut off? Are you sure that any parent views aren&#39;t cutting it off? Try giving a background color to the text or its parent components to see if the text is not getting squished in any way."}, {"owner": {"reputation": 126, "user_id": 1789126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a55dca2574979fb775a05c777fd8528?s=128&d=identicon&r=PG", "display_name": "James Dale", "link": "https://stackoverflow.com/users/1789126/james-dale"}, "reply_to_user": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "edited": false, "score": 0, "creation_date": 1528303110, "post_id": 50709799, "comment_id": 88459062, "body": "@FunkSoulNinja All of it get&#39;s cut off. I have now stripped the app back to just a &lt;View&gt; and &lt;Text&gt; and I still get the same issue. This is using the starter app from react-native. This is a very odd issue, could it be the emulator?"}, {"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "reply_to_user": {"reputation": 126, "user_id": 1789126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a55dca2574979fb775a05c777fd8528?s=128&d=identicon&r=PG", "display_name": "James Dale", "link": "https://stackoverflow.com/users/1789126/james-dale"}, "edited": false, "score": 0, "creation_date": 1528312622, "post_id": 50709799, "comment_id": 88463965, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172622/discussion-between-funk-soul-ninja-and-james-dale\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "is_accepted": false, "score": 0, "last_activity_date": 1528252329, "creation_date": 1528252329, "answer_id": 50711478, "question_id": 50709799, "link": "https://stackoverflow.com/questions/50709799/text-seems-to-disappear-when-reaches-a-certain-size/50711478#50711478", "title": "Text seems to disappear when reaches a certain size", "body": "<p>You shouldn't have numberOfLines={1} and flexWrap together; They contradict each other.\nIf you want it the text to wrap around, remove numberOfLines or have it be more than 1.</p>\n\n<p>If you don't want text to wrap remove flex and flexWrap properties from the style object.</p>\n\n<p>What is your goal with those styles? I recommend you start with unstyled (default) styled . Add styles one by one and see what works or doesn't work to give you your desired results.</p>\n"}], "owner": {"reputation": 126, "user_id": 1789126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a55dca2574979fb775a05c777fd8528?s=128&d=identicon&r=PG", "display_name": "James Dale", "link": "https://stackoverflow.com/users/1789126/james-dale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528252329, "creation_date": 1528237634, "question_id": 50709799, "link": "https://stackoverflow.com/questions/50709799/text-seems-to-disappear-when-reaches-a-certain-size", "title": "Text seems to disappear when reaches a certain size", "body": "<p>I have a small component and I seem to have an issue with the font size. When the fontSize is 179 the text loads correctly. When the font size is 180 and above it seems to vanish. </p>\n\n<pre><code>return (&lt;View style={{flexDirection:'row'}}&gt;\n&lt;Text numberOfLines={1} style={{\n    textAlignVertical: \"center\",\n    fontSize: 179,\n    textAlign: \"center\",\n    backgroundColor:'rgba(0,0,0,0)',\n    color:'rgba(0,0,0,.3)',    \n    flex: 1, \n    flexWrap: 'wrap', \n}}&gt;A&lt;/Text&gt;\n&lt;/View&gt;);\n</code></pre>\n\n<p>I can still see the element in dev tools:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kytl5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kytl5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Has anybody come across this before?</p>\n\n<p>Am I just missing something?</p>\n\n<p>Thanks, James</p>\n"}, {"tags": ["json", "angular", "typescript", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2963540, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/04b244c8f039e2b2be39c62c5005e962?s=128&d=identicon&r=PG&f=1", "display_name": "DeceitfulEcho", "link": "https://stackoverflow.com/users/2963540/deceitfulecho"}, "edited": false, "score": 0, "creation_date": 1528322212, "post_id": 50716371, "comment_id": 88468092, "body": "I get the following error when trying to assign resultsWrapper in the usage case: &quot;type any[] is not assignable to type ResponseWrapper&lt;Train[]&gt;. Property data is missing in type any[].&quot;"}, {"owner": {"reputation": 1036, "user_id": 1644446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSrQZ.jpg?s=128&g=1", "display_name": "Supun Dharmarathne", "link": "https://stackoverflow.com/users/1644446/supun-dharmarathne"}, "reply_to_user": {"reputation": 71, "user_id": 2963540, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/04b244c8f039e2b2be39c62c5005e962?s=128&d=identicon&r=PG&f=1", "display_name": "DeceitfulEcho", "link": "https://stackoverflow.com/users/2963540/deceitfulecho"}, "edited": false, "score": 0, "creation_date": 1528353297, "post_id": 50716371, "comment_id": 88476512, "body": "Please check my modified answer"}], "tags": [], "owner": {"reputation": 1036, "user_id": 1644446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSrQZ.jpg?s=128&g=1", "display_name": "Supun Dharmarathne", "link": "https://stackoverflow.com/users/1644446/supun-dharmarathne"}, "is_accepted": false, "score": 0, "last_activity_date": 1528353281, "last_edit_date": 1528353281, "creation_date": 1528275914, "answer_id": 50716371, "question_id": 50709737, "link": "https://stackoverflow.com/questions/50709737/casting-response-from-http-post-to-list-of-typescript-objects/50716371#50716371", "title": "Casting Response from HTTP Post to List of Typescript Objects", "body": "<p>Create a response wrapper class. This should match with the API response structure.</p>\n\n<pre><code>export declare class ResponseWrapper&lt;T&gt; {\n    static SUCCESS: number;\n     data: Array&lt;T&gt;;\n}\n</code></pre>\n\n<p>Then map the response as follows.</p>\n\n<pre><code> findTrainPage(filter = '', sortOrder = 'desc', pageNumber = 0, pageSize = 15, departStart = null, departEnd = null, origStatusWhitelist = null): Observable&lt;any&gt; {\n//retrieves a page of trains to display in the train list\n// let url = AppUtils.backendApiUrl() + '/trainList/getPage';\nconst url = 'assets/mockdata.json';\nlet requestBody = {\n  'filter': filter,\n  'sortOrder': sortOrder,\n  'pageNum': pageNumber,\n  'pageSize': pageSize,\n  'departStart': departStart,\n  'departEnd': departEnd,\n  'origStatusWhitelist': origStatusWhitelist\n};\nlet options = new RequestOptions();\nreturn this.http.get(url)\n           .map(res =&gt; res.json())\n           .catch(error =&gt; Observable.throw(error.json()));\n</code></pre>\n\n<p>}</p>\n\n<p>Usage : </p>\n\n<pre><code>trainList : Train[];\n\n  constructor(private trainService: TrainService) {\n    this.trainService.findTrainPage()\n        .subscribe(data =&gt;{\n        const  resultsWrapper:ResponseWrapper&lt;Train&gt; = data;\n        this.trainList = resultsWrapper.data;\n        });\n       //   error =&gt; this.errorMessage = error);\n  }\n</code></pre>\n\n<p>Here is the tested source <a href=\"https://gitlab.com/supun/angular-stack-overflow-ref\" rel=\"nofollow noreferrer\">https://gitlab.com/supun/angular-stack-overflow-ref</a></p>\n"}], "owner": {"reputation": 71, "user_id": 2963540, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/04b244c8f039e2b2be39c62c5005e962?s=128&d=identicon&r=PG&f=1", "display_name": "DeceitfulEcho", "link": "https://stackoverflow.com/users/2963540/deceitfulecho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2027, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528353281, "creation_date": 1528237280, "last_edit_date": 1528238988, "question_id": 50709737, "link": "https://stackoverflow.com/questions/50709737/casting-response-from-http-post-to-list-of-typescript-objects", "title": "Casting Response from HTTP Post to List of Typescript Objects", "body": "<p>I have a call to my web API already written. The API returns a list of objects serialized in JSON. I know that there are fairly reasonable ways to cast individual items from JSON to typescript objects, but I cant figure out a way to do this casting to make it return a list of a typescript object.</p>\n\n<p>I need to cast to a typescript object as there is a function in the object I want to be able to run, but without casting the function does not exist.</p>\n\n<p>Here is the code used to retrieve the JSON:</p>\n\n<pre><code>  findTrainPage(filter = '', sortOrder = 'desc', pageNumber = 0, pageSize = 15, departStart=null, departEnd=null, origStatusWhitelist=null): Observable&lt;Train[]&gt;\n  {\n    //retrieves a page of trains to display in the train list\n    let url = AppUtils.backendApiUrl() + '/trainList/getPage';\n    let requestBody = { 'filter': filter, 'sortOrder': sortOrder, 'pageNum': pageNumber, 'pageSize': pageSize, 'departStart': departStart, 'departEnd': departEnd, 'origStatusWhitelist': origStatusWhitelist };\n    let options = new RequestOptions({ headers: AppUtils.commonHttpHeaders() });\n    let headers = { headers: AppUtils.commonHttpHeaders() };\n    return this.http.post(url, requestBody, headers).map(res =&gt; res.json()).catch(error =&gt; Observable.throw(error.json()));\n  }\n</code></pre>\n\n<p>And here is the Train object I am trying to cast to:</p>\n\n<pre><code>export class Train implements TrainInterface\n{\n  trainGUID: string;\n  trainSymbol: string;\n  createTime: string; //Should be formatted as a date, SQL table uses smalldatetime\n  departTime: string;\n  origStatus: OriginalStatuses;\n  badGUIDFlag: boolean;\n  trips: Trip[];\n\n  private _evalStatus: EvalStatuses;\n  get evalStatus(): EvalStatuses\n  {\n    return this.trips.reduce((min, p) =&gt; p.evalStatus &lt; min ? p.evalStatus : min, this.trips[0].evalStatus);\n  }\n}\n</code></pre>\n\n<p>I have looked at the following SO posts:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance\">JSON to TypeScript class instance?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/36014161/angular2-http-get-cast-response-into-full-object?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Angular2 HTTP GET - Cast response into full object</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "is_accepted": false, "score": 1, "last_activity_date": 1528232523, "creation_date": 1528232523, "answer_id": 50708871, "question_id": 50708771, "link": "https://stackoverflow.com/questions/50708771/how-do-i-implement-a-data-filled-dropdown-list-with-angular-6/50708871#50708871", "title": "How do i implement a data filled dropdown list with Angular 6", "body": "<p>Assuming your data that needs to be put in the dropdown list is actually an array:</p>\n\n<pre><code> myData = {data: [v1, v2, v3, v4]};\n</code></pre>\n\n<p>In your <code>component.html</code></p>\n\n<pre><code>&lt;select&gt;\n  &lt;option *ngFor=\"let eachVal of myData['data']&gt;\n          {{eachVal}}\n  &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>should do the trick.</p>\n\n<p>Since you do not provide your code snippet, I have a <a href=\"https://stackblitz.com/edit/ng-bootstrap-workflow-test\" rel=\"nofollow noreferrer\">stackBlitz example</a> that uses <code>select</code> and <code>option</code> tags with Angular. Have a look at them.</p>\n"}, {"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 4, "last_activity_date": 1528232532, "creation_date": 1528232532, "answer_id": 50708873, "question_id": 50708771, "link": "https://stackoverflow.com/questions/50708771/how-do-i-implement-a-data-filled-dropdown-list-with-angular-6/50708873#50708873", "title": "How do i implement a data filled dropdown list with Angular 6", "body": "<pre><code> // http request with your server data.\n options$ = this.yourHttpService.getOptions(API);  // returns an Observable\n</code></pre>\n\n<p>Assume the JSON format is(we will invoke option.value int HTML):</p>\n\n<pre><code>{\n    value: 'Option1',\n    otherValue: '....'\n}\n</code></pre>\n\n<p>In your html file, populate the options with <code>async</code>:</p>\n\n<pre><code>    &lt;select [(ngModel)]=\"yourOption\" id=\"category\"&gt;\n       &lt;option value=\"\" disabled selected&gt;&gt;select an option&lt;/option&gt;\n       &lt;option *ngFor=\"let option of options$ | async\" [value]=\"option.value\"&gt;{item.category}}&lt;/option&gt;\n     &lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 668, "user_id": 643625, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/306fa9d357966d7ebde382011adb4274?s=128&d=identicon&r=PG", "display_name": "Philip Loyer", "link": "https://stackoverflow.com/users/643625/philip-loyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8356, "favorite_count": 0, "accepted_answer_id": 50708873, "answer_count": 2, "score": 3, "last_activity_date": 1528232532, "creation_date": 1528232048, "question_id": 50708771, "link": "https://stackoverflow.com/questions/50708771/how-do-i-implement-a-data-filled-dropdown-list-with-angular-6", "title": "How do i implement a data filled dropdown list with Angular 6", "body": "<p>I am new to Angular 6, or really just Angular period. I am wanting to place a drop down list on my page which will be populated with values I get from a JSON request else where. How would I go about accomplishing this task?</p>\n"}, {"tags": ["typescript", "destructuring"], "answers": [{"comments": [{"owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "edited": false, "score": 0, "creation_date": 1528290805, "post_id": 50708731, "comment_id": 88450987, "body": "The problem with this approach is that I don&#39;t want <code>c</code> to have the <code>bar</code> property. That&#39;s why I wanted the destructuring to return <code>undefined</code>, so <code>c</code> would still not have the <code>bar</code> property. I guess I&#39;ll have to create a wrapper function for that. Thank you"}, {"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "reply_to_user": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "edited": false, "score": 0, "creation_date": 1528364448, "post_id": 50708731, "comment_id": 88483363, "body": "What do you mean? <code>c</code> might have the <code>bar</code> property whether you want to or not, if you set <code>c</code> to be <code>a</code>, it&#39;s going to have it... If not, it will get <code>undefined</code>."}], "tags": [], "owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "is_accepted": true, "score": 3, "last_activity_date": 1528231827, "creation_date": 1528231827, "answer_id": 50708731, "question_id": 50708603, "link": "https://stackoverflow.com/questions/50708603/destructuring-in-typescript-with-undefined-values/50708731#50708731", "title": "Destructuring in Typescript with undefined values", "body": "<p>TypeScript won't be smart enough to deduct that <code>{foo: string, bar: string} | {foo: string}</code> can be written as <code>{foo: string, bar?: string}</code>, so you'll need to type <code>c</code> yourself as follows:</p>\n\n<pre><code>const c: { foo: string, bar?: string } = Math.random() &gt; .5 ? a : b; // doesn't matter which\nconst { foo, bar } = c;\n</code></pre>\n"}], "owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 50708731, "answer_count": 1, "score": 3, "last_activity_date": 1528231827, "creation_date": 1528231248, "question_id": 50708603, "link": "https://stackoverflow.com/questions/50708603/destructuring-in-typescript-with-undefined-values", "title": "Destructuring in Typescript with undefined values", "body": "<p>I have 2 objects:</p>\n\n<pre><code>const a = {\n    foo: \"foo\",\n    bar: \"bar\",\n}\n\nconst b = {\n    foo: \"fooooo\",\n}\n</code></pre>\n\n<p>I want to use destructuring in a method with default undefined values, like so:</p>\n\n<pre><code>const c = a or b; // I don't know which one \n</code></pre>\n\n<p>Then I want to do:</p>\n\n<pre><code>const { foo, bar } = c;\n</code></pre>\n\n<p>And I want that</p>\n\n<ul>\n<li><code>foo = \"fooooo\"</code> and <code>bar = undefined</code>\nor</li>\n<li><code>foo = \"foo\"</code> and <code>bar = \"bar\"</code></li>\n</ul>\n\n<p>How can I accomplish that with typescript?</p>\n"}, {"tags": ["node.js", "typescript", "commonjs"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528231096, "post_id": 50708521, "comment_id": 88426191, "body": "<code>module</code> syntax is deprecated, <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/modules.html</a> . It&#39;s preferable to import things explicitly for numerous reasons. The only apparent benefit of using outFile is that you can skip bundlng, which isn&#39;t relevant for Node app because it naturally uses CommonJS modules that don&#39;t need to be bundled further."}, {"owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528232208, "post_id": 50708521, "comment_id": 88426662, "body": "Interesting that the compiler doesn&#39;t mention that, but it seems like the <code>namespace</code> keyword is equivalent and still supported. I&#39;m using <code>outFile</code> because otherwise each input typescript files gets translated to an ouput Javascript file and then they have to be all executed or bundled up to work anyway. If there&#39;s a build tool that would help support the configuration I&#39;m interested in then I&#39;m open to suggestions!"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528232373, "post_id": 50708521, "comment_id": 88426753, "body": "<i>then they have to be all executed or bundled up to work anyway</i> - that&#39;s how it&#39;s usually done. You compile them to <code>dist</code> folder and execute as regular Node js app. No bundling is needed. You can use ts-node to do this transparently."}, {"owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528232661, "post_id": 50708521, "comment_id": 88426889, "body": "Sorry for the confusion. I mean they <i>would have to be further processed to work</i>. With <code>outFile</code> the contents of <code>Server.ts</code> is concatenated and runs before the contents of <code>main.ts</code> so everything works. With <code>outDir</code> there would be separate files and running <code>main.js</code> would not be enough."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528232918, "post_id": 50708521, "comment_id": 88427008, "body": "It&#39;s Node app, isn&#39;t it? <code>import</code> statements are transpiled to <code>require</code>, so running entry point is enough if you state module dependencies explicitly."}, {"owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528233157, "post_id": 50708521, "comment_id": 88427109, "body": "The question was how I could avoid using explicit import statements though..."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528233644, "post_id": 50708521, "comment_id": 88427325, "body": "You can&#39;t and you shouldn&#39;t. Omitting explicit dependencies is terrible for project maintenance. Babylon is legacy project and is client-side, so using <code>module</code> can be partially justified there."}, {"owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528233959, "post_id": 50708521, "comment_id": 88427450, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172541/discussion-between-tristan-shelton-and-estus\">continue this discussion in chat</a>."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1528234780, "post_id": 50708521, "comment_id": 88427752, "body": "I don&#39;t use SO chats because the don&#39;t work well with offline. Uncontrollable use of a namespace doesn&#39;t benefit a project. You won&#39;t ever see this in well-designed modern project. It&#39;s bad for same reason the use of globals is bad. You could override namespace variable in another file and never notice this. If the use of imports is a burden to you, I&#39;d suggest to use IDE that does auto-imports. That&#39;s a big relief in TS development."}], "answers": [{"comments": [{"owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "edited": false, "score": 0, "creation_date": 1528233864, "post_id": 50709009, "comment_id": 88427414, "body": "To answer your comment: if my project has very few external dependencies and many pieces of code that are frequently reused across many files (like a <code>Vector&lt;T&gt;</code> for example) then it seems sensible to me to put everything in a common namespace with implicit self access. This works fine in C# for example, but I hadn&#39;t ever considered using it with Typescript until seeing it in practice."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "edited": false, "score": 0, "creation_date": 1528234612, "post_id": 50709009, "comment_id": 88427696, "body": "There is common namespace in CommonJS, it&#39;s called <a href=\"http://stackabuse.com/using-global-variables-in-node-js/\" rel=\"nofollow noreferrer\">global object</a> - you can assign to <code>global.Vector</code> for example, and use it as <code>global.Vector</code> everywhere, and you can even write ambient type declaration that adds <code>Vector</code> to <code>global</code>, have it in a separate file and include that file in <code>tsconfig.json</code>. That way you could use it in a way similar to C#, but I don&#39;t think it&#39;s a normal way to do things in node.js."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1528233166, "creation_date": 1528233166, "answer_id": 50709009, "question_id": 50708521, "link": "https://stackoverflow.com/questions/50708521/how-can-i-avoid-always-having-to-import-my-own-code-in-typescript/50709009#50709009", "title": "How can I avoid always having to import my own code in Typescript?", "body": "<p>You can't have these two things at the same time, namely</p>\n\n<blockquote>\n  <p>How can I avoid always having to import my own code in Typescript?</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>I want to take advantage of some external modules</p>\n</blockquote>\n\n<p>You can avoid imports only by not using external modules, and the result will be one giant script file that can use external dependencies only as globals created by scripts loaded via <code>script</code> tag, as you already noticed. </p>\n\n<p>The language does not allow you to use external modules when you do this. If you have an import of external module at the top level, your file becomes a module and there is no way it could use code from your other files without importing them. And having import of external module inside a namespace is not allowed AFAIK.</p>\n\n<p>That said, I don't think your question - \"How can I avoid always having to import my own code in Typescript?\" - has a valid premise. CommonJS module system is the solution for preventing large projects from becoming unmaintainable mess. It does not matter if some part of a project is your own code or some external dependency  - if it's a separate part with well-defined interface, it should be packaged and consumed as a module. </p>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "is_accepted": true, "score": 0, "last_activity_date": 1528290885, "creation_date": 1528290885, "answer_id": 50721412, "question_id": 50708521, "link": "https://stackoverflow.com/questions/50708521/how-can-i-avoid-always-having-to-import-my-own-code-in-typescript/50721412#50721412", "title": "How can I avoid always having to import my own code in Typescript?", "body": "<p>The solution that worked for me is this:</p>\n\n<p><code>Server.ts</code></p>\n\n<pre><code>declare var http: any;\n\nnamespace Test {\n  export class Server {\n    constructor() {\n      console.log('Server initialized')\n      const server = http.createServer()\n      server.listen()\n    }\n  }\n}\n</code></pre>\n\n<p>Then I simply provide <code>http</code> at runtime, for example by prepending a <code>var http = require('http')</code> to the output. Thanks to artem for a nudge in the right direction.</p>\n"}], "owner": {"reputation": 227, "user_id": 1233004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2b16708836597c745557e9e6cc0face?s=128&d=identicon&r=PG", "display_name": "Tristan Shelton", "link": "https://stackoverflow.com/users/1233004/tristan-shelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 50721412, "answer_count": 2, "score": 0, "last_activity_date": 1528290885, "creation_date": 1528230779, "question_id": 50708521, "link": "https://stackoverflow.com/questions/50708521/how-can-i-avoid-always-having-to-import-my-own-code-in-typescript", "title": "How can I avoid always having to import my own code in Typescript?", "body": "<p>So I was recently hacking on a large Typescript project (<a href=\"https://github.com/BabylonJS/Babylon.js\" rel=\"nofollow noreferrer\">https://github.com/BabylonJS/Babylon.js</a>) and I noticed that they don't ever have to import anything, they just use their namespace and the rest is (seemingly) magic.</p>\n\n<p>It got me thinking that I would like to use something similar for myself, so I started a simple typescript project to try it out.</p>\n\n<p><code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"src\",\n    \"outFile\": \"server.js\"\n  }\n}\n</code></pre>\n\n<p><code>src/main.ts</code></p>\n\n<pre><code>module Test {\n  console.log('Main started')\n  const server:Server = new Server()\n}\n</code></pre>\n\n<p><code>src/Server.ts</code></p>\n\n<pre><code>// import * as http from 'http'\n\nmodule Test {\n  export class Server {\n    constructor() {\n      console.log('Server initialized')\n    }\n  }\n}\n</code></pre>\n\n<p>If I build this Typescript project then I get output like the following:</p>\n\n<pre><code>// import * as http from 'http'\nvar Test;\n(function (Test) {\n    var Server = /** @class */ (function () {\n        function Server() {\n            console.log('Server initialized');\n        }\n        return Server;\n    }());\n    Test.Server = Server;\n})(Test || (Test = {}));\nvar Test;\n(function (Test) {\n    console.log('Main started');\n    var server = new Test.Server();\n})(Test || (Test = {}));\n</code></pre>\n\n<p>So far, so good. The trouble is that I want to take advantage of some external modules, in this case namely the <code>http</code> module, so I uncomment the import line above and now Typescript reports:</p>\n\n<p><code>src/server/Server.ts(1,1): error TS6131: Cannot compile modules using option 'outFile' unless the '--module' flag is 'amd' or 'system'.</code></p>\n\n<p>Node uses the commonjs module system, so obviously setting either of those flags isn't going to help me much. I have none the less tried them as well as various other combinations of flags, but to no avail. I noticed that BabylonJS doesn't really use external imports like that, opting instead to declare them as external and provide them globally at execution time as script tags. Is there maybe an analogue to that for Node?</p>\n"}, {"tags": ["asp.net", "typescript", "model-view-controller", "angular5"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 2, "creation_date": 1528230854, "post_id": 50708235, "comment_id": 88426094, "body": "It could be because <code>indexes</code> is not initialized. Try <code>indexes: Index[] = []</code>."}, {"owner": {"reputation": 49, "user_id": 3783590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad3f440d325796c36e4fda5fcb3e022?s=128&d=identicon&r=PG&f=1", "display_name": "K3n5", "link": "https://stackoverflow.com/users/3783590/k3n5"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1528293201, "post_id": 50708235, "comment_id": 88452742, "body": "@ConnorsFan that did seem to remove the original error. So thank you for that. Ultimately I am wanting that object to hold data from the Modal and pas it back to the table on the page. The object just remains a blank object now. Oh well, as far as the original question I guess it is resolved. Thank you and I will close this question out."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 3783590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad3f440d325796c36e4fda5fcb3e022?s=128&d=identicon&r=PG&f=1", "display_name": "K3n5", "link": "https://stackoverflow.com/users/3783590/k3n5"}, "is_accepted": true, "score": 0, "last_activity_date": 1528995831, "creation_date": 1528995831, "answer_id": 50862610, "question_id": 50708235, "link": "https://stackoverflow.com/questions/50708235/why-am-i-getting-typeerror-cannot-read-property-slice-of-undefined/50862610#50862610", "title": "Why am I getting &#39;TypeError: Cannot read property &#39;slice&#39; of undefined&#39;?", "body": "<p>The Resolution to this was @ConnorsFan 's suggestion. The <code>indexes</code> were not initialized. Setting <code>indexes: Index[] = []</code> fixed the issue. Thank you @ConnorsFan.</p>\n"}], "owner": {"reputation": 49, "user_id": 3783590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad3f440d325796c36e4fda5fcb3e022?s=128&d=identicon&r=PG&f=1", "display_name": "K3n5", "link": "https://stackoverflow.com/users/3783590/k3n5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 50862610, "answer_count": 1, "score": 0, "last_activity_date": 1528995831, "creation_date": 1528229572, "question_id": 50708235, "link": "https://stackoverflow.com/questions/50708235/why-am-i-getting-typeerror-cannot-read-property-slice-of-undefined", "title": "Why am I getting &#39;TypeError: Cannot read property &#39;slice&#39; of undefined&#39;?", "body": "<p>I am working on a small project.  It is an ASP.NET MVC/Angular5 project. I am simply trying to populate a tableView (PrimeNG) with data that is selected from a Modal or PrimeNG Dialog.</p>\n\n<p>Here is a snipit of the relevent ts file: </p>\n\n<pre><code> displayIndexDialog: boolean;\n  index: Index = {};\n  selectedIndex: Index;\n  newIndex: boolean;\n  indexes: Index[];\n//METHODS\n getIndexes() {\n    this._indexesService.getIndexes().subscribe(indexes =&gt; this.indexList = indexes);\n\n  }\nshowIndexAdd() {\n    this.newIndex = true;\n    this.selectedIndex = {};\n    this.displayIndexDialog = true;\n    this.getIndexes();\n\n  }\ncloseIndexDialog() {\n    this.displayIndexDialog = false;\n  }\n saveIndex() {\n    let index = [...this.indexes];\n\n    if (this.newIndex) {\n      index.push(this.index);\n    }else\n      index[this.indexes.indexOf(this.selectedIndex)] = this.index;\n\n    this.indexes = index;\n    this.indexes = null;\n    this.displayIndexDialog = false;\n  };\n//INTERFACE\ninterface Index {\n  defaultIndex?;\n  pK_Index ?;\n  description ?;\n}\n</code></pre>\n\n<p>Here is the relevent HTML:</p>\n\n<pre><code>&lt;!--INDEX TABLE--&gt;\n&lt;p-table [columns]=\"cols3\" [value]=\"indexes\"&gt;\n            &lt;ng-template pTemplate=\"header\" let-columns&gt;\n              &lt;tr&gt;\n                &lt;th *ngFor=\"let col of columns\"&gt;\n                  {{col.header}}\n                &lt;/th&gt;\n              &lt;/tr&gt;\n            &lt;/ng-template&gt;\n            &lt;ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\"&gt;\n              &lt;tr [pSelectableRow]=\"rowData\"&gt;\n                &lt;td *ngFor=\"let col of columns\"&gt;\n                  {{rowData[col.field]}}\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/ng-template&gt;\n\n            &lt;ng-template pTemplate=\"summary\" let-rowData&gt;\n              &lt;div style=\"text-align:left\"&gt;\n                &lt;button class=\"btn-cblt\" type=\"button\" pButton icon=\"fa-plus\" (click)=\"showIndexAdd()\" label=\"Add\"&gt;&lt;/button&gt;\n              &lt;/div&gt;\n            &lt;/ng-template&gt;\n          &lt;/p-table&gt;&lt;br /&gt;\n          &lt;h4&gt;Differentials&lt;/h4&gt;\n          &lt;p-table [columns]=\"cols2\" [value]=\"diffs1\"&gt;\n            &lt;ng-template pTemplate=\"header\" let-columns&gt;\n              &lt;tr&gt;\n                &lt;th *ngFor=\"let col of columns\"&gt;\n                  {{col.header}}\n                &lt;/th&gt;\n              &lt;/tr&gt;\n            &lt;/ng-template&gt;\n            &lt;ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\"&gt;\n              &lt;tr [pSelectableRow]=\"rowData\"&gt;\n                &lt;td *ngFor=\"let col of columns\"&gt;\n                  {{rowData[col.field]}}\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/ng-template&gt;\n            &lt;ng-template pTemplate=\"summary\" let-rowData&gt;\n              &lt;div style=\"text-align:left\"&gt;\n                &lt;button class=\"btn-cblt\" type=\"button\" pButton icon=\"fa-plus\" (click)=\"showDifferentialAdd()\" label=\"Add\"&gt;&lt;/button&gt;\n              &lt;/div&gt;\n            &lt;/ng-template&gt;\n          &lt;/p-table&gt;\n\n&lt;!--ADD INDEX DIALOG--&gt;\n&lt;p-dialog class=\"sha\" header=\"Add Index\" [(visible)]=\"displayIndexDialog\" [responsive]=\"true\" showEffect=\"fade\" [modal]=\"true\" [width]=\"600\" [height]=\"300\"&gt;\n  &lt;div class=\"ui-g ui-fluid\" *ngIf=\"selectedIndex\"&gt;\n    &lt;div class=\"ui-g-12\"&gt;\n      &lt;div class=\"ui-g-4\"&gt;\n        &lt;label for=\"Index\"&gt;Index&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"ui-g-8\"&gt;\n        &lt;p-dropdown id=\"index\" placeholder=\"Select an Index\" [options]=\"indexList\" [(ngModel)]=\"selectedIndex.description\" [ngModelOptions]=\"{standalone: true}\" optionLabel=\"description\" [showClear]=\"true\"&gt; &lt;/p-dropdown&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"ui-g-12\"&gt;\n      &lt;div class=\"ui-g-4\"&gt;\n        &lt;label for=\"isDefault\"&gt;Default Index?&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"ui-g-8\"&gt;\n        &lt;p-checkbox name=\"defaultIndex\" id=\"isDefault\"  [(ngModel)]=\"selectedIndex.defaultIndex\"&gt;&lt;/p-checkbox&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"indexName\"&gt;{{index.pK_Index ? index.pK_Index: ' ' }}&lt;/div&gt;\n  &lt;/div&gt;\n\n    &lt;div class=\"ui-dialog-buttonpane ui-helper-clearfix\"&gt;\n      &lt;button class=\"btn-cblt\" type=\"button\" pButton icon=\"fa-check\" (click)=\"saveIndex()\" label=\"Save\"&gt;&lt;/button&gt;\n      &lt;button class=\"btn-cblt-danger\" type=\"button\" pButton icon=\"fa-close\" (click)=\"closeIndexDialog()\" label=\"Cancel\"&gt;&lt;/button&gt;\n    &lt;/div&gt;\n\n&lt;/p-dialog&gt;\n</code></pre>\n\n<p>Every time I click the 'save' button on the dialog, in the console I get:</p>\n\n<p>\ufeff<a href=\"https://i.stack.imgur.com/a34P9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a34P9.png\" alt=\"CHROME CONSOLE LOG\"></a></p>\n\n<p>I have been staring at this for 3 days now and Have no idea why this isn't working. Please help!</p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1528228713, "post_id": 50707956, "comment_id": 88425071, "body": "Had you tried to install TypeScript 2.7.x(.5 for example) in the app folder?"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1528228965, "post_id": 50707956, "comment_id": 88425185, "body": "I don&#39;t want to do that. I want to use features in 2.8."}, {"owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1528229451, "post_id": 50707956, "comment_id": 88425429, "body": "Try this <code>npm install typescript@2.8.0</code> in the app folder"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1528229987, "post_id": 50707956, "comment_id": 88425689, "body": "<code>No matching version found for typescript@2.8.0</code> and it says that it needs to be below <code>2.8.0</code> (i.e. <code>2.7.9</code> and below)."}, {"owner": {"reputation": 1058, "user_id": 2296564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3b211065fc909c66d26b2844cdf58c?s=128&d=identicon&r=PG", "display_name": "bc1105", "link": "https://stackoverflow.com/users/2296564/bc1105"}, "edited": false, "score": 1, "creation_date": 1528232437, "post_id": 50707956, "comment_id": 88426781, "body": "If you want to use TS 2.8 you need to use cli version 6.1.0-beta.0."}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 1058, "user_id": 2296564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3b211065fc909c66d26b2844cdf58c?s=128&d=identicon&r=PG", "display_name": "bc1105", "link": "https://stackoverflow.com/users/2296564/bc1105"}, "edited": false, "score": 0, "creation_date": 1528233823, "post_id": 50707956, "comment_id": 88427399, "body": "@bc1105 The error is not in the cli package. Updating to 6.1.0 appears to produce an unusable <code>ng new</code> project producing strange errors about missing packages."}], "owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528228458, "creation_date": 1528228458, "question_id": 50707956, "link": "https://stackoverflow.com/questions/50707956/how-to-build-with-angular-cli-6-using-typescript-2-8-x", "title": "How to build with Angular CLI 6 using Typescript 2.8.x", "body": "<p>In my <code>angular.json</code>, I have <code>cli.warnings.typescriptMismatch</code> set to false, but when I run <code>ng build</code>, I get the error:</p>\n\n<pre><code>The Angular Compiler requires TypeScript &gt;=2.7.2 and &lt;2.8.0 but 2.8.3 was found instead.\nError: The Angular Compiler requires TypeScript &gt;=2.7.2 and &lt;2.8.0 but 2.8.3 was found instead.\n</code></pre>\n\n<p>Is there some other option I need to set?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1528232175, "post_id": 50707889, "comment_id": 88426643, "body": "I don&#39;t think the issue is that you are trying to figure out whether <code>get</code> is called as a method or from an Array, it&#39;s the fact that it is looking up the property at all and you are intercepting that action and handing back what you supplied with <code>add()</code>.  What do you <b>want</b> to happen?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1528232535, "post_id": 50707889, "comment_id": 88426836, "body": "What I want, is if <code>example[&#39;get&#39;]</code> is called it should get from the array, if <code>example.get()</code> is called it should run the method."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1528232718, "post_id": 50707889, "comment_id": 88426911, "body": "A method is a property in JavaScript. It&#39;s just a property that returns a function. So behind the scenes, <code>example.get()</code> is doing <code>example[&#39;get&#39;]</code>, then trying to call it as a function."}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1528265666, "post_id": 50707889, "comment_id": 88435414, "body": "What about <code>example[&#39;get&#39;]()</code> then?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1528296709, "post_id": 50707889, "comment_id": 88455152, "body": "that would call the method since it is being called as a method. So, if it is called as a method I would like it to call the method, if it isn&#39;t called as a method I would like it to get the array value."}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528232564, "creation_date": 1528228198, "last_edit_date": 1528232564, "question_id": 50707889, "link": "https://stackoverflow.com/questions/50707889/proxy-array-has-a-key-with-the-same-name-as-a-method-name", "title": "Proxy array has a key with the same name as a method name", "body": "<p>I have a <code>Proxy</code> that my constructor returns, and I am not sure how to fix the issue of when I add items to an array of key value objects like so <code>{key: 'abc', value: 123}</code> and the key is the same as a method in the object such as <code>get</code>, and I try to call the method <code>example.get()</code> I get the following error:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: example.get is not a function</p>\n</blockquote>\n\n<p>If I don't add an item with the key <code>get</code> the method runs and there is no error.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Example {\r\n\r\n  constructor() {\r\n    this.items = []\r\n    return new Proxy(this, {\r\n      get(target, key) {\r\n        let item = target.items.find(i =&gt; i.key == key)\r\n        if (item) return item.value\r\n        return Reflect.get(target, key)\r\n      }\r\n    })\r\n  }\r\n\r\n  get(key) {\r\n    return this.items.find(i =&gt; i.key === key).value\r\n  }\r\n\r\n  add(key, value) {\r\n    this.items.push({\r\n      key,\r\n      value\r\n    })\r\n  }\r\n\r\n}\r\n\r\nlet example = new Example\r\n\r\nexample.add('nonvalue', 'a non value')\r\nexample.add('get', 'myvalue')\r\n\r\nconsole.log(example['nonvalue'])\r\nconsole.log(example.get('nonvalue'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there a way to know if something is called via method or by array key?</p>\n"}]