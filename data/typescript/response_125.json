[{"tags": ["typescript", "spring-boot", "spring-security", "cors", "spring-security-oauth2"], "comments": [{"owner": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "edited": false, "score": 0, "creation_date": 1496274182, "post_id": 44295642, "comment_id": 75598749, "body": "did you add the path <code>&#47;oauth&#47;token</code> to your <code>permitAll()</code> section?"}, {"owner": {"reputation": 71, "user_id": 8087222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f5ba42ff9c433cb825d2556584579d?s=128&d=identicon&r=PG&f=1", "display_name": "DBruns", "link": "https://stackoverflow.com/users/8087222/dbruns"}, "reply_to_user": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "edited": false, "score": 0, "creation_date": 1496302503, "post_id": 44295642, "comment_id": 75607795, "body": "thanks for your answer @ochi. I did not. I tried it this way in the ResourceServerConfiguration:   <code>.authorizeRequests().antMatchers(&quot;&#47;&quot;, &quot;&#47;oauth&#47;token&quot;).permitAll().antMatchers(&quot;&#47;cottages&quot;).authent&zwnj;&#8203;\u200c\u200bicated();</code>  Unfortunately it do not fix the problem or get I something wrong?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8087222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f5ba42ff9c433cb825d2556584579d?s=128&d=identicon&r=PG&f=1", "display_name": "DBruns", "link": "https://stackoverflow.com/users/8087222/dbruns"}, "edited": false, "score": 0, "creation_date": 1496527555, "post_id": 44319956, "comment_id": 75700360, "body": "thanks for your answer! Unfortunately this do not work for me. I added this line and the missing headers (client_id and client_secret) to allowed headers. I am still getting  <code>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http:&#47;&#47;localhost:8080&#47;oauth&#47;token. (Reason: CORS preflight channel did not succeed).</code>"}], "tags": [], "owner": {"reputation": 2206, "user_id": 1842482, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7590b13969f30417e5964db210908bb9?s=128&d=identicon&r=PG", "display_name": "chaoluo", "link": "https://stackoverflow.com/users/1842482/chaoluo"}, "is_accepted": false, "score": 0, "last_activity_date": 1496372664, "last_edit_date": 1496372664, "creation_date": 1496371045, "answer_id": 44319956, "question_id": 44295642, "link": "https://stackoverflow.com/questions/44295642/cors-preflight-channel-did-not-succeed-with-spring-security/44319956#44319956", "title": "CORS preflight channel did not succeed with Spring Security", "body": "<p>You set the <code>withCredentials</code> to <code>true</code> in your request, but you missing <code>Access-Control-Allow-Credentials</code> in preflight response. See <a href=\"https://developer.mozilla.org/en/docs/Web/HTTP/Access_control_CORS#Access-Control-Allow-Credentials\" rel=\"nofollow noreferrer\">here</a> about the header.</p>\n\n<pre><code>return ...withCredentials: true, headers: this.tokenHeaders })\n\n\nresponse.setHeader(\"Access-Control-Allow-Origin\", \"*\");\nresponse.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\");\nresponse.setHeader(\"Access-Control-Max-Age\", \"3600\");\nresponse.setHeader(\"Access-Control-Allow-Headers\", \"authorization, content-type, xsrf-token\");\n\nresponse.addHeader(\"Access-Control-Expose-Headers\", \"xsrf-token\");\n // add this\nresponse.setHeader(\"Access-Control-Allow-Headers\", \"true\");\n</code></pre>\n\n<p>I noted that your add some other heads in your request, like <code>client_id</code>, but you didn't add them to the  <code>Access-Control-Allow-Headers</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 870, "user_id": 2767213, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Bpl3p.jpg?s=128&g=1", "display_name": "anz", "link": "https://stackoverflow.com/users/2767213/anz"}, "edited": false, "score": 0, "creation_date": 1553745531, "post_id": 44556270, "comment_id": 97501169, "body": "Wow, been hitting my head against the wall. Thanks you very much for such a detailed explanation. My issue was the same Pre-flight CORS not passing through. Setting the OPTIONS to return OK, did the trick. Thanks."}], "tags": [], "owner": {"reputation": 71, "user_id": 8087222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f5ba42ff9c433cb825d2556584579d?s=128&d=identicon&r=PG&f=1", "display_name": "DBruns", "link": "https://stackoverflow.com/users/8087222/dbruns"}, "is_accepted": true, "score": 3, "last_activity_date": 1497483741, "last_edit_date": 1497483741, "creation_date": 1497483331, "answer_id": 44556270, "question_id": 44295642, "link": "https://stackoverflow.com/questions/44295642/cors-preflight-channel-did-not-succeed-with-spring-security/44556270#44556270", "title": "CORS preflight channel did not succeed with Spring Security", "body": "<p>Finally I have a solution for my problem. There was several errors on both sides (Angular/Java Spring Boot, Security). I will post my working code here and explain it.\nI will start with the Backend:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http\n    .authorizeRequests()\n    .antMatchers(\"/\", \"/users\").permitAll().anyRequest()\n    .authenticated()\n    .and()\n    .csrf().disable()\n\n}\n}\n</code></pre>\n\n<p>According spring.io tutorials an WebSecurityConfiguration is the better choice for my work - it will also work with the ResourceServerConfiguration. If I am honest I do not know what is the difference (when I have to use this and when the other).</p>\n\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class SimpleCorsFilter implements Filter {\n\npublic SimpleCorsFilter() {\n}\n\n@Override\npublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n    HttpServletResponse response = (HttpServletResponse) res;\n    HttpServletRequest request = (HttpServletRequest) req;\n    response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n    response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with, authorization, content-type\");\n\n    if (\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n        response.setStatus(HttpServletResponse.SC_OK);\n    } else {\n        chain.doFilter(req, res);\n    }\n}\n\n@Override\npublic void init(FilterConfig filterConfig) {\n}\n\n@Override\npublic void destroy() {\n}\n\n\n}\n</code></pre>\n\n<p>Without this CorsFilter I am only getting OPTIONS responses from the server. </p>\n\n<p>I do not change the AuthorizationServerConfiguration which I have posted above.</p>\n\n<p>Actually most errors were on the Angular / Frontend side. This works for me:</p>\n\n<pre><code>@Injectable()\nexport class AuthenticationService {\n\nprivate headers = new Headers({'Content-Type': 'application/json'});\n\nprivate auth64 = btoa(\"my-trusted-client:secret\");\nprivate tokenHeaders = new Headers({\n'Content-Type': 'application/x-www-form-urlencoded',\n'Authorization': 'Basic '+this.auth64\n});\n\n\nconstructor(private http: Http) {\n }\n\n\nlogin(user: User) {\nlet body = new URLSearchParams();\nbody.append('grant_type', 'password');\nbody.append('username', user.username);\nbody.append('password', user.password);\n\nreturn this.http.post(AppSettings.getApiUrl() + \"oauth/token\", body, {headers: this.tokenHeaders})\n  .map(data =&gt; {\n    console.log(\"it works!\");\n  }, error =&gt; {\n    console.log(error.json());\n  });\n\n }\n</code></pre>\n\n<p>The mapping before was a problem. It led always to the preflight CORS problem. I do not get the preflight error message with this mapping - even when I do not use a CORS filter - but you need the CORS filter to get something else than OPTIONS responses from the server. </p>\n\n<p>Atfer this I got the following error message (in a JSON Response):\n\"Full authentication is required to access this resource\"</p>\n\n<p>To fix the problem I did the following steps:</p>\n\n<ul>\n<li>change the content-type to application/x-www-form-urlencoded (important for oauth2)</li>\n<li>delete the headers client_id/client_secret</li>\n<li>add the authorization headers</li>\n<li>encode the values of my client_id/client_secrect with Base64(btoa)</li>\n<li>add the encoded values to my authorization header</li>\n</ul>\n\n<p>Maybe there are other/better ways to fix these problems but this code works fine for me - and maybe it helps someone else here :-)</p>\n"}], "owner": {"reputation": 71, "user_id": 8087222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f5ba42ff9c433cb825d2556584579d?s=128&d=identicon&r=PG&f=1", "display_name": "DBruns", "link": "https://stackoverflow.com/users/8087222/dbruns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8774, "favorite_count": 1, "accepted_answer_id": 44556270, "answer_count": 2, "score": 4, "last_activity_date": 1543216083, "creation_date": 1496269729, "last_edit_date": 1496331062, "question_id": 44295642, "link": "https://stackoverflow.com/questions/44295642/cors-preflight-channel-did-not-succeed-with-spring-security", "title": "CORS preflight channel did not succeed with Spring Security", "body": "<p>I am building an Angular 2 app with a Spring Boot backend. I am trying to fix a problem with CORS preflight for several days. According to this <a href=\"https://stackoverflow.com/questions/36809528/spring-boot-cors-filter-cors-preflight-channel-did-not-succeed\">topic</a>, it should work with CORS filter like this:</p>\n\n<pre><code>@Component\npublic class CorsFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"authorization, content-type, xsrf-token\");\n        response.addHeader(\"Access-Control-Expose-Headers\", \"xsrf-token\");\n        if (\"OPTIONS\".equals(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else { \n            filterChain.doFilter(request, response);\n        }\n    }\n}\n\n\n@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends    ResourceServerConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n        .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\n        .headers()\n            .frameOptions().disable()\n            .and()\n        .authorizeRequests()\n            .antMatchers(\"/\", \"/home\", \"/register\", \"/login\").permitAll()\n            .antMatchers(\"/cottages\").authenticated();\n    }\n}\n</code></pre>\n\n<p>Angular frontend:</p>\n\n<pre><code>  import {Injectable} from '@angular/core';\n  import {Headers, Http} from \"@angular/http\";\n  import {AppSettings} from \"../app.settings\";\n  import { URLSearchParams } from '@angular/http'\n\n  import {User} from \"../_models/_index\";\n  import {Observable} from \"rxjs\";\n\n  @Injectable()\n  export class AuthenticationService {\n   private headers = new Headers({'Content-Type': 'application/json'});\n  private tokenHeaders = new Headers({\n 'Content-Type': 'application/json',\n 'client_id': 'xxx',\n 'client_secret': 'xxx'});\n\n\nconstructor(private http: Http) {\n}\n\n\nlogin(user: User) {\nlet urlSearchParams = new URLSearchParams();\nurlSearchParams.append('username', user.username);\nurlSearchParams.append('password', user.password);\nlet body = urlSearchParams.toString();\n\nreturn this.http.post(AppSettings.getApiUrl() + \"oauth/token\", body, { withCredentials: true, headers: this.tokenHeaders })\n  .map((responseData) =&gt; {\n    return responseData.json();\n  })\n  .map((item: any) =&gt; {\n    return new User(item);\n  })\n  .catch((error: any) =&gt; Observable.of(error.json().error || 'Server error'));\n\n }\n}\n</code></pre>\n\n<p>I tried other configuration which I have found on the <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework#filter-based-cors-support\" rel=\"nofollow noreferrer\">this</a> and other sources from the Spring docs. </p>\n\n<p>I am always getting this error message:</p>\n\n<blockquote>\n  <p>Cross-Origin Request Blocked: The Same Origin Policy disallows reading\n  the remote resource at <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow noreferrer\">http://localhost:8080/oauth/token</a>. (Reason:\n  CORS preflight channel did not succeed).</p>\n</blockquote>\n\n<p>Simple CORS request to my own controller for example to register a user works perfectly. </p>\n\n<p>Can anyone explain to me what I am doing wrong? Is there an error in my Java or Typescript code?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The authorization server configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfiguration extends     AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.authenticationManager(authenticationManager);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory().withClient(\"my-trusted-client\").authorizedGrantTypes(\"client_credentials\", \"password\")\n            .authorities(\"ROLE_CLIENT\", \"ROLE_TRUSTED_CLIENT\").scopes(\"read\", \"write\", \"trust\")\n            .resourceIds(\"oauth2-resource\").accessTokenValiditySeconds(5000).secret(\"xxx\");\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n        security.checkTokenAccess(\"isAuthenticated()\");\n     }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 1529, "user_id": 8069271, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/sVGxx.jpg?s=128&g=1", "display_name": "Emeka Obianom", "link": "https://stackoverflow.com/users/8069271/emeka-obianom"}, "is_accepted": false, "score": 2, "last_activity_date": 1496278627, "creation_date": 1496278627, "answer_id": 44296850, "question_id": 44295609, "link": "https://stackoverflow.com/questions/44295609/how-to-get-property-value-from-ionic-2-storage/44296850#44296850", "title": "How to get property value from ionic 2 storage", "body": "<p>Just correct your code to this...</p>\n\n<pre><code>return new Promise(resolve =&gt; resolve(this._storage\n.get(\"user\")\n.then(value =&gt; value.acct_no)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": false, "score": 1, "last_activity_date": 1496281821, "creation_date": 1496281821, "answer_id": 44297249, "question_id": 44295609, "link": "https://stackoverflow.com/questions/44295609/how-to-get-property-value-from-ionic-2-storage/44297249#44297249", "title": "How to get property value from ionic 2 storage", "body": "<p>Your <code>return new Promise ...</code> does not make much sense as <code>storage.get</code> already returns a promise. You could just do <code>return this._storage\n.get(\"user\");</code> which would have the same effect. To get the <code>acct_no</code> property, just access it in the callback:</p>\n\n<pre><code>this._storage\n    .get(\"user\")\n    .then(value =&gt; {\n        console.log(value.acct_no);\n    });\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 6500473, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd593c9f9203d7d0b7ab36d295e22454?s=128&d=identicon&r=PG&f=1", "display_name": "Dexter", "link": "https://stackoverflow.com/users/6500473/dexter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496281821, "creation_date": 1496269483, "question_id": 44295609, "link": "https://stackoverflow.com/questions/44295609/how-to-get-property-value-from-ionic-2-storage", "title": "How to get property value from ionic 2 storage", "body": "<p>I have a Promise which i used to get the stored data of in an Ionic storage</p>\n\n<pre><code>return new Promise(resolve =&gt; resolve(this._storage\n.get(\"user\")\n.then(value =&gt; value)));\n</code></pre>\n\n<p>and it prints out {\"user-profile\":\"user\",\"acct_no\":\"1234567890\"}</p>\n\n<p>how do i get the property value of acct_no? which will be 1234567890</p>\n"}, {"tags": ["typescript", "angular2-directives"], "answers": [{"tags": [], "owner": {"reputation": 1004, "user_id": 2233782, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/guRK2.jpg?s=128&g=1", "display_name": "Jared Clemence", "link": "https://stackoverflow.com/users/2233782/jared-clemence"}, "is_accepted": false, "score": 1, "last_activity_date": 1496274702, "creation_date": 1496274702, "answer_id": 44296368, "question_id": 44295568, "link": "https://stackoverflow.com/questions/44295568/how-do-i-access-the-component-that-is-modified-by-the-directive-in-angular2/44296368#44296368", "title": "How do I access the component that is modified by the directive in Angular2?", "body": "<p>The answer was found here:  <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">Component Interactions</a></p>\n\n<p>The secret to communication is to inject a service into the constructors.  I extended the Component and the Directive to use the same service:</p>\n\n<pre><code>//The Component Definition (Psuedocode)\n@Component(\n{\n   ...,\n   providers: [ AService ],\n   ...\n}\n)\nexport class AComponent\n{\n    constructor( commonService : AService )\n    {\n         let comp : AComponent = this;\n         commonService.serviceAnnouncement$.subscribe(\n             (msg)=&gt;{\n                  //msg can be anything we like, in my specific instance,\n                  //I passed a reference to the directive instance\n\n                  comp.doSomethingWithMsg( msg );\n             }\n         );\n    }\n\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>//The Directive Definition (Psuedocode)\n@Directive(...)\nexport class IsModifiedDirective\n{\n    constructor( commonService : AService )\n    {\n         commonService.announceSomething( this );\n    }\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>//The Service Definition (Psuedocode)\nimport { Subject } from 'rxjs/Subject';\n@Injectable(...)\nexport class AService\n{\n    private source = new Subject&lt;MsgType&gt;();\n\n    serviceAnnouncement$ = this.source.toObservable();\n\n    announceSomething( msg : MsgType )\n    {\n         this.source.next( msg );\n    }\n}\n</code></pre>\n\n<p>The above classes exist in their own files. The imports and other code are mostly left out to avoid cluttering the display.  They key is that the objects can pass instances of themselves to other objects listening to the shared service.  The documentation suggests that the <code>providers</code> attribute of the @Component decorator might establish a unique provider shared by that component and its descendants; I have not tested this implied feature.</p>\n\n<p>If you are reading this, it is important to note that the communication used above, where the directive passes itself to the component, only works for my specific case, and the message that is passed between your objects should be specific to your implementation.</p>\n"}], "owner": {"reputation": 1004, "user_id": 2233782, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/guRK2.jpg?s=128&g=1", "display_name": "Jared Clemence", "link": "https://stackoverflow.com/users/2233782/jared-clemence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1496274702, "creation_date": 1496269283, "question_id": 44295568, "link": "https://stackoverflow.com/questions/44295568/how-do-i-access-the-component-that-is-modified-by-the-directive-in-angular2", "title": "How do I access the component that is modified by the directive in Angular2?", "body": "<p>Let us assume a hypothetical situation. You and I have a component (named <strong>AComponent</strong>) identified by the selector <code>a-component</code>, and a directive identified by the selector <code>[is-modified]</code>.  </p>\n\n<p>In another component's definition file, we use the following template that combines our component and our directive, which modifies the component:</p>\n\n<pre><code>&lt;a-component is-modified&gt;&lt;/a-component&gt;\n</code></pre>\n\n<p>The <a href=\"https://angular.io/docs/ts/latest/guide/attribute-directives.html\" rel=\"nofollow noreferrer\">documentation for a attribute <strong>Directive</strong></a> indicates that the constructor gives the directive access to the <strong>ElementRef</strong>, but there is no link from <strong>ElementRef</strong> to the <strong>Component</strong> parent.</p>\n\n<pre><code>export class IsModifiedDirective\n{\n    constructor( elementReference : ElementRef )\n    {\n        console.log( elementReference );\n\n        //no connection appears to exist between elementReference and the component\n        //also: ElementRef has security risks, so it should be avoided.\n\n        debugger;\n    }\n}\n</code></pre>\n\n<p>I tried using injection to inject the necessary component and changed the <code>ElementRef</code> to a <code>ComponentRef&lt;AComponent&gt;</code>; this gave the error that no provider is specified for <strong>ComponentRef</strong>.  I then tried to inject the component <code>AComponent</code>, but that generated errors as well.</p>\n\n<p>The documentation clearly indicates that \"Attribute directives\u2014change the appearance or behavior of an element, <strong>component</strong>, or another directive.\", but I do not see how the Directive obtains access to the <strong>component</strong> that it modifies.</p>\n\n<p>Can anyone provide assistance?</p>\n"}, {"tags": ["android", "angular", "cordova", "typescript", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6515307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c28e695881631a026e5787c15ab675?s=128&d=identicon&r=PG&f=1", "display_name": "Lesrac", "link": "https://stackoverflow.com/users/6515307/lesrac"}, "edited": false, "score": 1, "creation_date": 1496268701, "post_id": 44295368, "comment_id": 75597151, "body": "Thank you very much. Even though the value was defined with &quot;boolValue: boolean&quot;, that definition no longer holds true, where this code is executed."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "reply_to_user": {"reputation": 55, "user_id": 6515307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c28e695881631a026e5787c15ab675?s=128&d=identicon&r=PG&f=1", "display_name": "Lesrac", "link": "https://stackoverflow.com/users/6515307/lesrac"}, "edited": false, "score": 0, "creation_date": 1496269538, "post_id": 44295368, "comment_id": 75597455, "body": "Yep. it&#39;s going to be especially important with typescript to sanitize your inputs as early as possible since type checking doesn&#39;t happen at runtime"}], "tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": true, "score": 1, "last_activity_date": 1496268204, "creation_date": 1496268204, "answer_id": 44295368, "question_id": 44295340, "link": "https://stackoverflow.com/questions/44295340/how-to-invert-boolean-false-in-typescript-ionic3-and-cordova/44295368#44295368", "title": "How to Invert boolean &#39;false&#39; in typescript (ionic3 and cordova)", "body": "<p>This is just a guess but it's probably a decent one, I think your <code>clazz.boolValue</code> might somehow be a string rather than a boolean at runtime. This would describe the behavior you're seeing.</p>\n\n<pre><code>!'true' // evaluates to boolean value false\n!'false' // also evaluates to boolean value false\n</code></pre>\n\n<p>Try </p>\n\n<pre><code>console.log('Clazz: ', clazz.name, ' : ', clazz.boolValue, '|', typeof clazz.boolValue, ' : ', !clazz.boolValue) \n</code></pre>\n\n<p>to confirm.</p>\n"}], "owner": {"reputation": 55, "user_id": 6515307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c28e695881631a026e5787c15ab675?s=128&d=identicon&r=PG&f=1", "display_name": "Lesrac", "link": "https://stackoverflow.com/users/6515307/lesrac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 44295368, "answer_count": 1, "score": 0, "last_activity_date": 1496268301, "creation_date": 1496268051, "last_edit_date": 1496268301, "question_id": 44295340, "link": "https://stackoverflow.com/questions/44295340/how-to-invert-boolean-false-in-typescript-ionic3-and-cordova", "title": "How to Invert boolean &#39;false&#39; in typescript (ionic3 and cordova)", "body": "<p>I'm having a somewhat unexpected problem with inverting booleans in my application.</p>\n\n<p><strong>Environment:</strong>\nI'm having an application, written in typescript with Ionic 3 and I deploy it with help of cordova on an android device.</p>\n\n<ul>\n<li>Android API 25</li>\n<li>Cordova version: 7.0.1</li>\n<li>\"@angular/core\": \"4.1.0\"</li>\n<li>\"ionic-angular\": \"3.2.1\"</li>\n<li>\"@ionic/cli-plugin-cordova\": \"^1.2.1\"</li>\n<li>Typescript 2.3.3</li>\n</ul>\n\n<p><strong>Problem:</strong>\nI'm simply trying to invert a boolean, like shown in the console.log example below:</p>\n\n<pre><code>console.log('Clazz: ', clazz.name, ' : ', clazz.boolValue, ' : ', !clazz.boolValue)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Clazz:  A  :  true  :  false\nClazz:  B  :  true  :  false\nClazz:  C  :  true  :  false\nClazz:  D  :  false  :  false\nClazz:  E  :  false  :  false\nClazz:  F  :  false  :  false\n</code></pre>\n\n<p>So, 'true' gets inverted, but 'false' remains the same value. And with that my *ngIf-Directives in Angular do not work as expected.</p>\n\n<p><strong>Question:</strong>\nAm I doing something completly wrong? Or did it just happen, that the combined software versions I'm using do have a glitch together?</p>\n"}, {"tags": ["angular", "unit-testing", "typescript"], "comments": [{"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 2, "creation_date": 1496266651, "post_id": 44294960, "comment_id": 75596406, "body": "Explained here (their example is almost identical to your code)  <a href=\"https://angular.io/docs/ts/latest/guide/testing.html#!#component-with-async-service\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/&hellip;</a>"}], "owner": {"reputation": 110, "user_id": 3368833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f2d46b14b56d00e0e4e4c6e33128fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf", "link": "https://stackoverflow.com/users/3368833/ralf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3229, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1496752639, "creation_date": 1496266094, "last_edit_date": 1496752639, "question_id": 44294960, "link": "https://stackoverflow.com/questions/44294960/unit-testing-for-values-set-async-in-ngoninit-function-of-an-angular-component", "title": "unit-testing for values set async in ngOnInit() function of an angular component", "body": "<p>I'm trying to unit-test an array that is set from an async service in the ngOnInit() function of my component.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class DashboardComponent implements OnInit {\n  todos: Todo[] = [];\n\n  constructor(public todoService: TodoService) {}\n\n  ngOnInit(): void {\n    this.todoService.getTodos()\n      .then(todos =&gt; this.todos = todos.slice(1, 5));\n  }\n}\n</code></pre>\n\n<p>When I try to test this with a function like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  it('should load four todos for dashboard', function(done) {\n    expect(component.todos.length).toEqual(4);\n  });\n</code></pre>\n\n<p>I get an error that 0 is not equal to 4, as the promise is not resolved yet. The only way I could get this to work is by making the service public and running \"dirty\" code like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  it('should load four todos for dashboard', function(done) {\n    var todos = component.todoService.getTodos();\n    todos.then(x =&gt; {\n      expect(x.length).toEqual(6);\n      expect(component.todos.length).toEqual(4)\n    });\n    done();\n  });\n</code></pre>\n\n<p>But there sure is a better and cleaner way to do this, so any suggestings for improvements are welcome!</p>\n\n<p><strong>Edit 1:</strong> After the hint of dbandstra, which points in the right direction, I came up with this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('DashboardComponent', () =&gt; {\n  beforeEach( async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [\n        DashboardComponent, EmptyComponent,\n        RouterLinkStubDirective, RouterOutletStubComponent\n      ],\n      providers: [{provide: TodoService, useClass: FakeTodoService}]\n    })\n      .overrideComponent(TodoSearchComponent, EmptyComponent)\n      .compileComponents()\n      .then(() =&gt; {\n        fixture = TestBed.createComponent(DashboardComponent);\n        comp    = fixture.componentInstance;\n      });\n  }));\n\n  beforeEach(() =&gt; {\n    // TodoService actually injected into the component\n    let todoService = fixture.debugElement.injector.get(TodoService);\n\n    let spy = spyOn(todoService, 'getTodos')\n      .and.returnValue(Promise.resolve(todos));\n\n    // trigger initial data binding\n    fixture.detectChanges();\n  });\n\n  it('should load four todos for dashboard', () =&gt; {\n    fixture.whenStable().then(() =&gt; { // wait for async getTodos\n      fixture.detectChanges();        // update view with todos\n      expect(comp.todos.length).toEqual(4);\n    });\n  })\n});\n</code></pre>\n\n<p>This works like a charm, thanks!</p>\n\n<p><strong>Edit 2:</strong> I also got it to work with the suggested solution from <a href=\"https://stackoverflow.com/a/39445420/3368833\">https://stackoverflow.com/a/39445420/3368833</a> by making the fake service synchronous like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class TodoServiceMock{\n  private data: Todo[];\n\n  getTodos() {\n    let todos = [ ...insert fake data here... ];\n    this.data = todos;\n    return this;\n  }\n\n  then(callback) {\n    callback(this.data);\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "npm", "gulp"], "comments": [{"owner": {"reputation": 590, "user_id": 1076368, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/da9982679524655a72a89700489b060e?s=128&d=identicon&r=PG", "display_name": "JSess", "link": "https://stackoverflow.com/users/1076368/jsess"}, "edited": false, "score": 0, "creation_date": 1496267713, "post_id": 44294659, "comment_id": 75596823, "body": "Please <a href=\"https://stackoverflow.com/help/mcve\">create a Minimal, Complete, and Verifiable example</a> for the community to efficiently help you.  Also provide code snippets of what you&#39;ve changed, and/or have already tried in order to resolve your problem."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 5728198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fWy7azLaEX4/AAAAAAAAAAI/AAAAAAAAABs/Jnq3zr9iuUU/photo.jpg?sz=128", "display_name": "Amarnath Reddy Dornala", "link": "https://stackoverflow.com/users/5728198/amarnath-reddy-dornala"}, "is_accepted": false, "score": 0, "last_activity_date": 1496284369, "creation_date": 1496284369, "answer_id": 44297582, "question_id": 44294659, "link": "https://stackoverflow.com/questions/44294659/angular-2-system-is-undefined-error/44297582#44297582", "title": "Angular 2 System is undefined error", "body": "<p>I don't see any problem with code. </p>\n\n<p>You must first run </p>\n\n<blockquote>\n  <p>npm install</p>\n</blockquote>\n\n<p>and then </p>\n\n<blockquote>\n  <p>npm start</p>\n</blockquote>\n\n<p>It works perfectly fine for me.</p>\n"}], "owner": {"reputation": 27, "user_id": 3839724, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/87ded03c465408ca21e76c87c98c47cf?s=128&d=identicon&r=PG&f=1", "display_name": "Condra963", "link": "https://stackoverflow.com/users/3839724/condra963"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496297769, "creation_date": 1496264680, "last_edit_date": 1496283032, "question_id": 44294659, "link": "https://stackoverflow.com/questions/44294659/angular-2-system-is-undefined-error", "title": "Angular 2 System is undefined error", "body": "<p>I have an <a href=\"https://github.com/Condra963/Angular2Test\" rel=\"nofollow noreferrer\">Angular 2 project on github</a> and when i run it with npm start it gives \"System is undefined\". I use systemjsbuilder, did i do something wrong? Incorrect paths, incorrect order of build? Missing items? I followed the Angular 2 start but i tried to integrated in my own project with own order of paths. Maybe i did something wrong?</p>\n\n<p>I think i oversee something when i follow the angular tutorial. Or is miss something when i try to use gulp with it?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "slide"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496272514, "post_id": 44294185, "comment_id": 75598304, "body": "if i use  ngAfterViewInit() {     this.slides.lockSwipes(true); }  Visual Studio gives me an error -&gt;  Property lockSwipes does not exist on type Slides."}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "reply_to_user": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496274928, "post_id": 44294185, "comment_id": 75598920, "body": "That could be because Visual Studios doesn&#39;t has the last types version of  ionic, try with <code>(&lt;any&gt;this.slides).lockSwipes(true)</code> if that works on runtime   you have a types issue with VS."}, {"owner": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496319514, "post_id": 44294185, "comment_id": 75619769, "body": "Works now in Visual Studio but now i get an error.  -TypeError: this.slides.lockSwipes is not a function   Any idea ?  Ill look around in the docs ill post the solution if i find one."}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "reply_to_user": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496322552, "post_id": 44294185, "comment_id": 75622124, "body": "You have the latest Ionic version in your packages? That seems to be the issue."}, {"owner": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496326074, "post_id": 44294185, "comment_id": 75624924, "body": "Im using ionic version 2.2.3 since the new versions are corrupting my application. Ill try to update, but isnt it possible to lock the swiping with that version aswell ?"}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "reply_to_user": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496328231, "post_id": 44294185, "comment_id": 75626670, "body": "It should work, the <code>lockSwipes</code> function was added on 2.0.0-rc.5"}, {"owner": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496330655, "post_id": 44294185, "comment_id": 75628637, "body": "Strange i will try it again with a different code.  Also I tried updating Ionic to version 3.2.2 now and it gives me an error -Cannot find module &#39;@ionic/app-scripts&#39; (i know different topic)."}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "reply_to_user": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "edited": false, "score": 0, "creation_date": 1496332037, "post_id": 44294185, "comment_id": 75629660, "body": "A lot of things changed since 2.2.3, check the upgrade references in the changelog, <a href=\"https://github.com/ionic-team/ionic/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\">github.com/ionic-team/ionic/blob/master/CHANGELOG.md</a>"}], "tags": [], "owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "is_accepted": true, "score": 2, "last_activity_date": 1496262781, "creation_date": 1496262781, "answer_id": 44294185, "question_id": 44293911, "link": "https://stackoverflow.com/questions/44293911/ionic-2-slides-lock/44294185#44294185", "title": "Ionic 2 Slides LOCK", "body": "<p>Let's start from the begin.</p>\n\n<p>First of all your HTML should look something like this:</p>\n\n<pre><code>&lt;ion-slides&gt;\n    &lt;ion-slide&gt;\n    &lt;ion-item&gt;\n        &lt;img src=\"img/question.png (click)=\"goToSlide1()\"&gt;\n    &lt;/ion-item&gt;\n    &lt;/ion-slide&gt;\n\n    &lt;ion-slide&gt;\n    &lt;ion-item&gt;\n        &lt;img src=\"img/clue.png (click)=\"goToSlide2()\"&gt;\n    &lt;/ion-item&gt;\n    &lt;/ion-slide&gt;\n\n    &lt;ion-slide&gt;\n    &lt;ion-item&gt;\n        &lt;img src=\"img/answer.png (click)=\"Finish()\"&gt;\n    &lt;/ion-item&gt;\n    &lt;/ion-slide&gt;\n&lt;/ion-slides&gt;\n</code></pre>\n\n<p>Then in your TS file you should use the <code>ngAfterViewInit</code> hook, because <code>ViewChild</code> components will be ready here and not before.</p>\n\n<p>So your TS should look like this:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {NavController} from 'ionic-angular';\nimport {Finish} from '../finish/finish';\nimport { Slides } from 'ionic-angular';\nimport { ViewChild } from '@angular/core';\n\n\n@Component({\n    templateUrl: 'build/pages/slider/slider.html'\n})\nexport class Slider {\n    @ViewChild(Slides) slides: Slides;\n    value = '';\n    changeText(value: string) { this.value = value; }\n\n    constructor(private navController: NavController) {\n    }\n\n    ngAfterViewInit() {\n        // child is set\n        this.slides.lockSwipes(true);\n    }\n\n    goToSlide1() {\n        this.slides.slideTo(1, 500);\n    }\n\n    goToSlide2() {\n        this.slides.slideTo(2, 500);\n    }\n\n    goToFinish() {\n        this.navController.setRoot(Finish);\n    }    \n}\n</code></pre>\n\n<p>Check the <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow noreferrer\">angular 2 hooks</a></p>\n\n<p>That will do the job, happy coding.</p>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 9108026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9682178bdfdd062ece93d23ffea1b70a?s=128&d=identicon&r=PG&f=1", "display_name": "AissaDevLab", "link": "https://stackoverflow.com/users/9108026/aissadevlab"}, "is_accepted": false, "score": 0, "last_activity_date": 1518214856, "creation_date": 1518214856, "answer_id": 48714953, "question_id": 44293911, "link": "https://stackoverflow.com/questions/44293911/ionic-2-slides-lock/48714953#48714953", "title": "Ionic 2 Slides LOCK", "body": "<p>add this into ionViewDidLoad  function </p>\n\n<blockquote>\n<pre><code>ionViewDidLoad() {\n    this.slides.lockSwipes(true);\n}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 4679448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLq7h.png?s=128&g=1", "display_name": "KATJ Srinath", "link": "https://stackoverflow.com/users/4679448/katj-srinath"}, "is_accepted": false, "score": 3, "last_activity_date": 1519120810, "creation_date": 1519120810, "answer_id": 48882460, "question_id": 44293911, "link": "https://stackoverflow.com/questions/44293911/ionic-2-slides-lock/48882460#48882460", "title": "Ionic 2 Slides LOCK", "body": "<p>I am Using Ionic version 3 with that I did something like this </p>\n\n<p>In HTML </p>\n\n<pre><code>&lt;ion-slides #mySlider&gt; \n  &lt;ion-slide class=\"swiper-no-swiping\"&gt;Content 1 &lt;/ion-slide&gt;\n  &lt;ion-slide class=\"swiper-no-swiping\"&gt;Content 2 &lt;/ion-slide&gt;\n&lt;/ion-slides&gt;\n</code></pre>\n\n<p>IN TS File</p>\n\n<pre><code>@ViewChild('mySlider') mySlider: Slides;\n\nionViewDidLoad() {\n  this.mySlider.lockSwipes(true);\n}\n</code></pre>\n\n<p>Please Note : In html need to add \"swiper-no-swiping\" for each slide this will disable the swapping</p>\n"}], "owner": {"reputation": 163, "user_id": 7487997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2u3Bx.jpg?s=128&g=1", "display_name": "CupOfTea", "link": "https://stackoverflow.com/users/7487997/cupoftea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3231, "favorite_count": 0, "accepted_answer_id": 44294185, "answer_count": 3, "score": 3, "last_activity_date": 1519120810, "creation_date": 1496261697, "question_id": 44293911, "link": "https://stackoverflow.com/questions/44293911/ionic-2-slides-lock", "title": "Ionic 2 Slides LOCK", "body": "<p>I would like to lock the sliding feature (by swiping the screen) it should only work when i click the button.</p>\n\n<p>Since im pretty new to typescript i can't explain how i should get this to work. I found some docs on the <a href=\"https://ionicframework.com/docs/api/components/slides/Slides/#usage\" rel=\"nofollow noreferrer\">ionic page</a>.</p>\n\n<p>\"lockSwipes(shouldLockSwipes)\" \nI think this is the code i need but i have no clue how i can include it into my IonicApp.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ion-slide&gt;\n  &lt;ion-item&gt;\n    &lt;img src=\"img/question.png (click)=\"goToSlide1()\"&gt;\n  &lt;/ion-item&gt;\n&lt;/ion-slide&gt;\n\n&lt;ion-slide&gt;\n  &lt;ion-item&gt;\n    &lt;img src=\"img/clue.png (click)=\"goToSlide2()\"&gt;\n  &lt;/ion-item&gt;\n&lt;/ion-slide&gt;\n\n&lt;ion-slide&gt;\n  &lt;ion-item&gt;\n    &lt;img src=\"img/answer.png (click)=\"Finish()\"&gt;\n  &lt;/ion-item&gt;\n&lt;/ion-slide&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>        import {Component} from '@angular/core';\n        import {NavController} from 'ionic-angular';\n        import {Finish} from '../finish/finish';\n        import { Slides } from 'ionic-angular';\n        import { ViewChild } from '@angular/core';\n\n\n        @Component({\n            templateUrl: 'build/pages/slider/slider.html'\n        })\n        export class Slider {\n            @ViewChild(Slides) slides: Slides;\n            value = '';\n            changeText(value: string) { this.value = value; }\n            constructor(private navController: NavController) {\n\n            goToSlide1() {\n                this.slides.slideTo(1, 500);\n            }\n            goToSlide2() {\n                this.slides.slideTo(2, 500);\n            }\n            goToFinish() {\n                this.navController.setRoot(Finish);\n            }\n    }\n}\n</code></pre>\n\n<p>I hope someone can help me out! Thanks.</p>\n"}, {"tags": ["angular", "typescript", "tree", "treeview", "primeng"], "comments": [{"owner": {"reputation": 8013, "user_id": 783284, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/35BQP.jpg?s=128&g=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/783284/cody"}, "edited": false, "score": 0, "creation_date": 1496267084, "post_id": 44293569, "comment_id": 75596582, "body": "Can you post code of what you have tried so far?"}, {"owner": {"reputation": 49, "user_id": 1908759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6631c4956d9d357e88b9526f73e5e481?s=128&d=identicon&r=PG", "display_name": "navybofus", "link": "https://stackoverflow.com/users/1908759/navybofus"}, "reply_to_user": {"reputation": 8013, "user_id": 783284, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/35BQP.jpg?s=128&g=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/783284/cody"}, "edited": false, "score": 0, "creation_date": 1496268900, "post_id": 44293569, "comment_id": 75597207, "body": "Updated with my current copy function, but as stated, it doesn&#39;t support non-static tree node copy"}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 1908759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6631c4956d9d357e88b9526f73e5e481?s=128&d=identicon&r=PG", "display_name": "navybofus", "link": "https://stackoverflow.com/users/1908759/navybofus"}, "is_accepted": true, "score": 0, "last_activity_date": 1496350663, "creation_date": 1496350663, "answer_id": 44316973, "question_id": 44293569, "link": "https://stackoverflow.com/questions/44293569/angular-4-primeng-tree-drag-and-drop-copy-to/44316973#44316973", "title": "Angular 4 PrimeNg Tree Drag and Drop Copy to", "body": "<p>After working with another developer we found that we just needed a proper deep copy that could handle circular reference due to the TreeNode.parent.children array containing the original TreeNode object's reference.</p>\n\n<pre><code>public deepCopy(oldObj: any) {\n    // Using jquery for its extensive error checking\n    return $.extend(true, {}, oldObj);\n}\n</code></pre>\n\n<p>This allowed the TreeNode to be spliced back into the \"from\" tree without an object reference being tied to it.</p>\n"}], "owner": {"reputation": 49, "user_id": 1908759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6631c4956d9d357e88b9526f73e5e481?s=128&d=identicon&r=PG", "display_name": "navybofus", "link": "https://stackoverflow.com/users/1908759/navybofus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1385, "favorite_count": 0, "accepted_answer_id": 44316973, "answer_count": 1, "score": 1, "last_activity_date": 1496350663, "creation_date": 1496260334, "last_edit_date": 1496268858, "question_id": 44293569, "link": "https://stackoverflow.com/questions/44293569/angular-4-primeng-tree-drag-and-drop-copy-to", "title": "Angular 4 PrimeNg Tree Drag and Drop Copy to", "body": "<p>I've been working with PrimeNg's Tree module for a few days and I've been writing custom functionality for nearly everything I want it to do. However I'm still having issues with object reference in my custom <code>copyTo</code> function due to the callbacks being called post-manipulation.</p>\n\n<p>So, I'm looking for an elegant way to interrupt the drag and drop handlers so I can deep copy the data for more granular control. I feel like I should be looking into extending the class so I can override the plugin's functions, but I'm not sure if that will cause more harm down the line when upgrading.</p>\n\n<p>Any advice or \"How To\" suggestions are much appreciated!</p>\n\n<p>The code below takes an element with a known index and re-inserts it into the tree it was dragged from, thus copying from one tree to another. However this only works for known indexes and does not support varying depths of nested nodes.</p>\n\n<pre><code>    copyToTree: any = []; // tree obj cache\n    staticTree: any = []; // tree obj cache\n\n    // Fires when node is dropped on copyToTree\n    dropOnCopyTo(event: any) {\n        let dragged: any = event.dragNode;\n\n        if(dragged.field_name == null) { // dragged from staticTree\n            // re-add copy to correct position in staticTree\n            let copy: any = this.deepCopy(dragged);\n            this.staticTree.children.splice(copy.index, 0, copy);\n            // Update field_name of dragged in copyToTree\n            dragged.field_name = 'new_' + Date.now();\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "variables", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 8093861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ac6f306e244b8961c715411303b2693?s=128&d=identicon&r=PG&f=1", "display_name": "junior_dn", "link": "https://stackoverflow.com/users/8093861/junior-dn"}, "edited": false, "score": 0, "creation_date": 1496263303, "post_id": 44293749, "comment_id": 75595023, "body": "currentTiers =    &lt;-- this provides the number of how many tiers are set up, it starts with 1 and than when click the plus sign it goes up to 3 for me as a beginner, what is the advantage of using instead of if/else?"}, {"owner": {"reputation": 4593, "user_id": 7965720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f871a6402211c6c5c4f0e931fe8e7d?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/7965720/juan"}, "reply_to_user": {"reputation": 77, "user_id": 8093861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ac6f306e244b8961c715411303b2693?s=128&d=identicon&r=PG&f=1", "display_name": "junior_dn", "link": "https://stackoverflow.com/users/8093861/junior-dn"}, "edited": false, "score": 0, "creation_date": 1496264386, "post_id": 44293749, "comment_id": 75595500, "body": "I understand better what you meant now. You could use a Map or Set, see extended answer for code."}, {"owner": {"reputation": 77, "user_id": 8093861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ac6f306e244b8961c715411303b2693?s=128&d=identicon&r=PG&f=1", "display_name": "junior_dn", "link": "https://stackoverflow.com/users/8093861/junior-dn"}, "edited": false, "score": 0, "creation_date": 1496265513, "post_id": 44293749, "comment_id": 75595955, "body": "Thanks a lot. However it feels like the Maps and Sets doesn&#39;t seem to make the code much simpler or better right? So the solutions I am currently working with would be fine or would you not recommend keeping it the way it is right now?"}, {"owner": {"reputation": 4593, "user_id": 7965720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f871a6402211c6c5c4f0e931fe8e7d?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/7965720/juan"}, "reply_to_user": {"reputation": 77, "user_id": 8093861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ac6f306e244b8961c715411303b2693?s=128&d=identicon&r=PG&f=1", "display_name": "junior_dn", "link": "https://stackoverflow.com/users/8093861/junior-dn"}, "edited": false, "score": 1, "creation_date": 1496268196, "post_id": 44293749, "comment_id": 75596987, "body": "Sometimes, we focus too much on writing less code and adding more magic but then maintainability efforts go up when we go re-visit old code.  I prefer to keep things simple, if they work, are unit testable, readable (plain English) and they work, I keep them. I personally advice to avoid magic at all costs. We can always go back and refactor and make things better adn re-usable as the code evolves.  I would definitively use enums or constants to give meaning to the numeric values, but I think I&#39;d keep the if/else&#39;s or switch statements. Really easy to read and know what&#39;s going on."}], "tags": [], "owner": {"reputation": 4593, "user_id": 7965720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f871a6402211c6c5c4f0e931fe8e7d?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/7965720/juan"}, "is_accepted": true, "score": 1, "last_activity_date": 1496264660, "last_edit_date": 1496264660, "creation_date": 1496261008, "answer_id": 44293749, "question_id": 44293382, "link": "https://stackoverflow.com/questions/44293382/angular2-make-a-variable-more-variable/44293749#44293749", "title": "angular2 - make a variable more variable", "body": "<p>Use an enumeration. Enums allow you to define a set of named numeric constants:</p>\n\n<pre><code>export enum Tiers {\n  Show,\n  NotSetup,\n  Hide,\n  Edit\n}\n</code></pre>\n\n<p>So, <code>Show</code> will hold <code>0</code> as its value, <code>NotSetup</code> <code>1</code>, and <code>Hide</code> <code>2</code> and <code>Edit</code> <code>3</code>.</p>\n\n<p>If you want to give them specific fixed numeric values:</p>\n\n<pre><code>export enum Tiers {\n  Show = 1,\n  NotSetup = 2,\n  Hide = 3,\n  Edit = 4\n}\n</code></pre>\n\n<p>I don't know what tiers 1, 2 and 3 mean, so for display purposes I gave them meaning with an enumeration called Rewards with the values Basic, Classic and Pro.</p>\n\n<p>And then your code would look something like this:</p>\n\n<pre><code>  tier1Status = null; // null Or maybe create a Tiers.NotSet value.\n  tier2Status = null;\n  tier3Status = null;\n  currentTiers = Rewards.Basic;\n\n  ngOnInit() {\n    this.checkTiers();\n  }\n\n  checkTiers() {\n    switch (this.currentTiers) {\n      case Rewards.Basic:\n        this.tier1Status = Tiers.Show;\n        this.tier2Status = Tiers.NotSetup;\n        this.tier3Status = Tiers.Hide;\n        break;\n      case Rewards.Classic:\n        this.tier1Status = Tiers.Show;\n        this.tier2Status = Tiers.Show;\n        this.tier3Status = Tiers.NotSetup;\n        break;\n      case Rewards.Pro:\n        this.tier1Status = Tiers.Show;\n        this.tier2Status = Tiers.Show;\n        this.tier3Status = Tiers.Show;\n        break;\n  }\n\n  addTier(tierNumber: Rewards) {\n    switch (tierNumber) {\n      case Rewards.Basic:\n        this.tier1Status = Tiers.Edit;\n        break;\n      case Rewards.Classic:\n        this.tier2Status = Tiers.Edit;\n        break;\n      case Rewards.Pro:\n        this.tier3Status = Tiers.Edit;\n        break;\n    }\n  }\n</code></pre>\n\n<p>Code is untested, of course, I just want to show you a good use case for enums where you can give meaning to your numbers.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">Click Here for more info on enums</a></p>\n\n<p>You will know what's best for your app and how to get enums to work for you.</p>\n\n<p>If you want to access the string value, you can:\n<code>Tiers[Tiers.show] === 'Show'</code> => <code>true</code></p>\n\n<p>Updated:\nAfter comment I understand better what you want.\nYou could use a Map (or a Set), and do something like this:</p>\n\n<p>You could use something like a Map or a Set. </p>\n\n<pre><code>// This would be the values of your Tiers enum\nTiers.First\nTiers.Second\nTiers.Third\n\n// And a Status enum\nStatus.Show\nStatus.Edit\nStatus.NotSetup\n\n// Then with a Map, you could do something like this:\nconst tierStatuses = new Map();\ntierStatuses.set(Tiers.First, Status.Show);\ntierStatus.set(Tiers.Second, Status.NotSetup);\n</code></pre>\n\n<p><code>tierStatus.get(Tiers.First) =&gt; Status.Show</code> where Status.Show could be 0 or another numeric value, depending how you declare it. It returns undefined if not set: e.g. <code>tierStatus.get('something') =&gt; undefined</code>.</p>\n\n<p>Keep in mind that Maps and Sets are on ES6, so you might need a polyfill or library if you are targeting ES5.</p>\n\n<p>There's also other ways like a custom object or nested array (array of arrays) but that might increase the complexity, not a good trade off vs some extra variables where things are more readable.</p>\n"}], "owner": {"reputation": 77, "user_id": 8093861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ac6f306e244b8961c715411303b2693?s=128&d=identicon&r=PG&f=1", "display_name": "junior_dn", "link": "https://stackoverflow.com/users/8093861/junior-dn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 44293749, "answer_count": 1, "score": 1, "last_activity_date": 1496923577, "creation_date": 1496259505, "last_edit_date": 1496923577, "question_id": 44293382, "link": "https://stackoverflow.com/questions/44293382/angular2-make-a-variable-more-variable", "title": "angular2 - make a variable more variable", "body": "<p>So I am not sure whether the question is stupid or not, however I feel like my current solution isn't the best.</p>\n\n<p>So I am basically working on a pricing table on the backend. There a 3 different status (plural?). First one is display, second one is edit, third one is 'hidden' and there is a + button to ad a new one. </p>\n\n<p>So now for each column I have prepared three scenarios which I than show/hide with ngIf. I started now working on the actual functions. Like changing when I click buttons and so on.</p>\n\n<pre><code>import { Component, ViewEncapsulation } from '@angular/core';\n\n\ndeclare var jQuery: any;\n\n@Component({\n  selector: '[packages]',\n  templateUrl: './packages.template.html',\n  encapsulation: ViewEncapsulation.None,\n  styleUrls: ['./packages.style.scss']\n})\nexport class PackagesComponent {\n\n  tier1Status = '';\n  tier2Status = '';\n  tier3Status = '';\n  currentTiers = 1;\n\n  ngOnInit() {\n    this.checkTiers();\n  }\n  checkTiers() {\n    if (this.currentTiers === 1) {\n      this.tier1Status = 'show';\n      this.tier2Status = 'notSetUp';\n      this.tier3Status = 'hide';\n    }\n    else if (this.currentTiers === 2) {\n      this.tier1Status = 'show';\n      this.tier2Status = 'show';\n      this.tier3Status = 'notSetUp';\n    }\n    else if (this.currentTiers === 3) {\n      this.tier1Status = 'show';\n      this.tier2Status = 'show';\n      this.tier3Status = 'show';\n    }\n  }\n  addTier(tierNumber: number) {\n    if (tierNumber === 1) {\n      this.tier1Status = 'edit';\n    } else if (tierNumber === 2) {\n      this.tier2Status = 'edit';\n    } else if (tierNumber === 3) {\n      this.tier3Status = 'edit';\n    }\n  }\n\n}\n</code></pre>\n\n<p>So as already mentioned, I am not sure whether this is the best solution. It seems a little complicated. I was wondering whether there is something to make a variabel variabel. Sounds stupid, but basically to have a variabel like tierStatus[x] and when I click a button I always pass which tier is meant.\nSorry I am quiet new to angular2 and typescript/javascript in general.\nMaybe be something like this</p>\n\n<pre><code>clickEdit (tierNumber: number) {\n        tierStatus[tierNumber] = 'edit';\n      }\n</code></pre>\n\n<p>Thanks a lot. \nCheers</p>\n"}, {"tags": ["angular", "typescript", "lazy-loading", "angular2-routing"], "owner": {"reputation": 183, "user_id": 2505074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/105528af5d5aac88bfeaa0a677322535?s=128&d=identicon&r=PG", "display_name": "Nurio", "link": "https://stackoverflow.com/users/2505074/nurio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1496259267, "creation_date": 1496259267, "question_id": 44293313, "link": "https://stackoverflow.com/questions/44293313/create-many-very-similar-lazy-loaded-feature-modules-without-rewriting-lots-of", "title": "Create many very similar (lazy loaded) feature modules without rewriting lots of code in Angular 2", "body": "<p>I want to write an application with many subpages in Angular, which are supposed to have the same substructure and their own routing:</p>\n\n<pre><code>./subpage1/topicA\n./subpage1/topicB\n./subpage1/topicC\n...\n./subpage2/topicA\n./subpage2/topicB\n./subpage2/topicC\n...\n</code></pre>\n\n<p>As there will be many of those subpages and some might be relatively big I want to pack everyone into a lazy loaded feature module to reduce loading time.</p>\n\n<p>My main goal is to make the whole construct as light and maintanable as possible. For example I don't want to rewrite the routing and other basic structures for every subpage and want to be able to change stuff (like general structure or the names of the subroutes) without touching every subpage-module. Is there a way to do that?</p>\n"}, {"tags": ["typescript", "webpack", "node-modules", "fs", "angular2-components"], "comments": [{"owner": {"reputation": 173079, "user_id": 893780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j1db.jpg?s=128&g=1", "display_name": "robertklep", "link": "https://stackoverflow.com/users/893780/robertklep"}, "edited": false, "score": 1, "creation_date": 1496257372, "post_id": 44292704, "comment_id": 75591943, "body": "So it&#39;s a server-side package, which won&#39;t work client-side (in a browser) unless you&#39;re using something like <a href=\"https://github.com/jvilk/BrowserFS\" rel=\"nofollow noreferrer\"><code>BrowserFS</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "is_accepted": false, "score": -1, "last_activity_date": 1496257801, "last_edit_date": 1496257801, "creation_date": 1496257373, "answer_id": 44292798, "question_id": 44292704, "link": "https://stackoverflow.com/questions/44292704/cannot-find-module-fs-using-simple-json-loader/44292798#44292798", "title": "Cannot find module &quot;fs&quot;. Using simple-json-loader", "body": "<p>You need to specify <code>target</code> in webpack config:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>target: 'node'\n</code></pre>\n\n<p>And this will work only on server side as node.js program.</p>\n"}, {"comments": [{"owner": {"reputation": 752, "user_id": 6890046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca7b3f3ae028cac5455f1b503bb83ef?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/6890046/jess"}, "edited": false, "score": 1, "creation_date": 1516558774, "post_id": 48370146, "comment_id": 83726929, "body": "This is also an interesting thread about fs functionality for the browser. <a href=\"https://stackoverflow.com/questions/46467858/manipulating-the-local-file-system-with-browser-based-javascript-and-node\" title=\"manipulating the local file system with browser based javascript and node\">stackoverflow.com/questions/46467858/&hellip;</a>"}], "tags": [], "owner": {"reputation": 752, "user_id": 6890046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca7b3f3ae028cac5455f1b503bb83ef?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/6890046/jess"}, "is_accepted": false, "score": 1, "last_activity_date": 1516558695, "creation_date": 1516558695, "answer_id": 48370146, "question_id": 44292704, "link": "https://stackoverflow.com/questions/44292704/cannot-find-module-fs-using-simple-json-loader/48370146#48370146", "title": "Cannot find module &quot;fs&quot;. Using simple-json-loader", "body": "<p>It sounds like the issue is that the module <code>simple-json-loader</code> is reliant on the built-in Node module <code>fs</code>. <code>fs</code> is a module that performs various file-loading and file system tasks.</p>\n\n<p>Since it looks like you're building in Angular2, which is a front-end (client-side) Javascript framework, this may be an environment issue. </p>\n\n<p>It's not possible for the client-side browser environment to interpret and run some Node modules like <code>fs</code> that are built to be run in a server-side Node environment. <a href=\"https://www.quora.com/What-is-the-difference-between-JavaScript-and-Node-js/answer/Corey-Butler?share=7a58545f\" rel=\"nofollow noreferrer\">(more here)</a></p>\n\n<p>The solution is to run the <code>simple-json-loader</code> module server-side in a Node environment or to find a package which offers the same functionality but written for the browser. </p>\n\n<p>It's discussed in this question...\n<a href=\"https://stackoverflow.com/questions/48358748/module-not-found-error-cannot-resolve-module-fs/48359480\">Module not found: Error: Cannot resolve module &#39;fs&#39;</a></p>\n\n<p>And this question...\n<a href=\"https://stackoverflow.com/questions/39983275/use-fs-module-in-react-js-node-js-webpack-babel-express\">Use fs module in React.js,node.js, webpack, babel,express</a></p>\n"}], "owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1516558695, "creation_date": 1496257059, "question_id": 44292704, "link": "https://stackoverflow.com/questions/44292704/cannot-find-module-fs-using-simple-json-loader", "title": "Cannot find module &quot;fs&quot;. Using simple-json-loader", "body": "<p>I'm try to use <code>simple-json-loader</code>. I install this from npm and write following function:</p>\n\n<pre><code>onclickExport() {\n    var loader = require('simple-json-loader');\n    var json = loader.JSONLoader.loadFromFile('wwwroot/dist/data/files.json');\n}\n</code></pre>\n\n<p>\u0415verything seems simple, but when I run build in webback i see following error:</p>\n\n<blockquote>\n  <p>ERROR in ./~/simple-json-loader/index.js\n      Module not found: Error: Cannot resolve module 'fs' in D:\\GitRepo\\Magazine\\Magazine.Web\\node_modules\\simple-json-loader\n       @ ./~/simple-json-loader/index.js</p>\n</blockquote>\n\n<p>Npm package is in the node_modules by valid path. I see it there. \nAlso In debugging of this function i see analogous error.\nIs any ideas why it is not work?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 7020463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/565ac99e30f77a2b5bd151bb57db4af3?s=128&d=identicon&r=PG&f=1", "display_name": "Lrawls", "link": "https://stackoverflow.com/users/7020463/lrawls"}, "edited": false, "score": 1, "creation_date": 1496258617, "post_id": 44292610, "comment_id": 75592659, "body": "that worked!, but now, how do I get that value?  I want to pass it to a variable, I tried to declare it inside and outside the function, but it doesn&#39;t works"}, {"owner": {"reputation": 1730, "user_id": 1854582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65af54aed0578ded9427037acae4a66?s=128&d=identicon&r=PG", "display_name": "ruedamanuel", "link": "https://stackoverflow.com/users/1854582/ruedamanuel"}, "reply_to_user": {"reputation": 183, "user_id": 7020463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/565ac99e30f77a2b5bd151bb57db4af3?s=128&d=identicon&r=PG&f=1", "display_name": "Lrawls", "link": "https://stackoverflow.com/users/7020463/lrawls"}, "edited": false, "score": 0, "creation_date": 1496259060, "post_id": 44292610, "comment_id": 75592878, "body": "your service should return the http.get(&#39;/path/to/resource&#39;) part, so that you can handle the subscription in the component that needs the service. I updated the syntax so that the arrow function can take multiple lines in the subscription handler"}], "tags": [], "owner": {"reputation": 1730, "user_id": 1854582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65af54aed0578ded9427037acae4a66?s=128&d=identicon&r=PG", "display_name": "ruedamanuel", "link": "https://stackoverflow.com/users/1854582/ruedamanuel"}, "is_accepted": true, "score": 13, "last_activity_date": 1496258860, "last_edit_date": 1496258860, "creation_date": 1496256711, "answer_id": 44292610, "question_id": 44292270, "link": "https://stackoverflow.com/questions/44292270/angular-4-get-headers-from-api-response/44292610#44292610", "title": "Angular 4 get headers from API response", "body": "<p>The headers are part of the <a href=\"https://angular.io/docs/ts/latest/api/http/index/Response-class.html\" rel=\"noreferrer\">Response class</a>, so you should be able to see them in a handler like </p>\n\n<pre><code>http.get('/path/to/resource')\n  .subscribe((res:Response) =&gt; {\n    console.log(res.headers);\n    // you can assign the value to any variable here\n  });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 443, "user_id": 7938132, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CJ2IDNTKZkY/AAAAAAAAAAI/AAAAAAAAAB0/ATXTLt4z-Rc/photo.jpg?sz=128", "display_name": "jLee", "link": "https://stackoverflow.com/users/7938132/jlee"}, "is_accepted": false, "score": 1, "last_activity_date": 1496256863, "creation_date": 1496256863, "answer_id": 44292643, "question_id": 44292270, "link": "https://stackoverflow.com/questions/44292270/angular-4-get-headers-from-api-response/44292643#44292643", "title": "Angular 4 get headers from API response", "body": "<p>The return type of the angular Http.get method returns a Response type. This object has a headers object that contains information about the headers. It also has a url property.</p>\n\n<pre><code>this.http.get(url).map(resp =&gt; console.log(resp));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10785, "user_id": 5556177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d9Zo80hDfWY/AAAAAAAAAAI/AAAAAAAAACQ/Q-IpHqjPcx8/photo.jpg?sz=128", "display_name": "Nehal", "link": "https://stackoverflow.com/users/5556177/nehal"}, "is_accepted": false, "score": 8, "last_activity_date": 1496259057, "creation_date": 1496259057, "answer_id": 44293256, "question_id": 44292270, "link": "https://stackoverflow.com/questions/44292270/angular-4-get-headers-from-api-response/44293256#44293256", "title": "Angular 4 get headers from API response", "body": "<p>When you do <code>.map(this.extractData)</code> the <code>let body = res.json()</code> from <code>this.extractData</code> function takes out everything from the response except the <code>body</code>. </p>\n\n<p>Instead if you do following, <code>.map((res: Response) =&gt; res)</code>, that will return the whole response and you can access all the attributes and assign them to variables.</p>\n\n<p>Here's a Plunker <a href=\"http://embed.plnkr.co/MMly1tMo2ZOI2cIWqnit/\" rel=\"noreferrer\">demo</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 4933828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa545e488ec8d557438a697c5eee253?s=128&d=identicon&r=PG&f=1", "display_name": "leoncc", "link": "https://stackoverflow.com/users/4933828/leoncc"}, "is_accepted": false, "score": 2, "last_activity_date": 1541191025, "last_edit_date": 1541191025, "creation_date": 1513449899, "answer_id": 47848895, "question_id": 44292270, "link": "https://stackoverflow.com/questions/44292270/angular-4-get-headers-from-api-response/47848895#47848895", "title": "Angular 4 get headers from API response", "body": "<p>A bit more of an exotic example in Angular 5 shown below. Using HttpClient to post to a GraphQL server, read the response and then extract a response header value and a response body value. The header is <em>Total-Count</em> in this case. <em>cars</em> is a field (array of Car) under another field <em>data</em> in the body. Also shows use of the rxjs <em>first</em> operator.</p>\n\n<pre><code>import { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { first } from 'rxjs/operators/first'; \nimport { Car, CarPage } from '../models/car';  \n..........\n..........\n\npublic find(filter: string, sort: string, limit: number): Observable&lt;CarPage&gt; {\n  let headers = new HttpHeaders().set(\"Content-Type\", \"application/graphql\");\n  let carPage: CarPage = { cars: [], totalCount: 0 };\n  return this.http.post&lt;HttpResponse&lt;any&gt;&gt;('/graphql',\n    `query cars { cars(filter: \"${filter}\", sort: \"${sort}\", limit: ${limit}) {\n          id\n          make\n          model\n          year \n        }\n      }`,\n      { headers: headers, observe: \"response\" }\n  )\n  .first((_, index) =&gt; index === 0, (response: HttpResponse&lt;any&gt;) =&gt; {\n    let totalCountHeaderValues = response.headers.getAll(\"Total-Count\");\n    carPage.totalCount = (totalCountHeaderValues.length &gt; 0) ? parseInt(totalCountHeaderValues[0]) : 0;  \n    carPage.cars = response.body.data.cars; \n    return carPage; \n  })\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2232, "user_id": 518879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b5c3658ab0cf0f42e6eea42e80e1e7?s=128&d=identicon&r=PG", "display_name": "danger89", "link": "https://stackoverflow.com/users/518879/danger89"}, "edited": false, "score": 0, "creation_date": 1522939709, "post_id": 48957319, "comment_id": 86361520, "body": "uhh yea.. why is HttpObserve not documented?"}, {"owner": {"reputation": 336, "user_id": 6299746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GKtBd.jpg?s=128&g=1", "display_name": "SPnL", "link": "https://stackoverflow.com/users/6299746/spnl"}, "edited": false, "score": 2, "creation_date": 1523685380, "post_id": 48957319, "comment_id": 86672215, "body": "Tried this but I&#39;m not getting a value that appears in <code>Response Headers</code> in a network tab."}, {"owner": {"reputation": 197, "user_id": 4933828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa545e488ec8d557438a697c5eee253?s=128&d=identicon&r=PG&f=1", "display_name": "leoncc", "link": "https://stackoverflow.com/users/4933828/leoncc"}, "edited": false, "score": 0, "creation_date": 1525461325, "post_id": 48957319, "comment_id": 87380713, "body": "Try maybe: this.http.get(url, {observe: &#39;response&#39;}).subscribe(resp =&gt; console.dir(resp.headers))"}, {"owner": {"reputation": 1983, "user_id": 8609847, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7IH4AEsnWOM/AAAAAAAAAAI/AAAAAAAAABY/-FVpiEzpZJE/photo.jpg?sz=128", "display_name": "P Satish Patro", "link": "https://stackoverflow.com/users/8609847/p-satish-patro"}, "edited": false, "score": 1, "creation_date": 1556091936, "post_id": 48957319, "comment_id": 98314770, "body": "Access-Control-Expose-Headers: ETag, Location, Preference-Applied, Content-Range, request-id, client-request-id is there in the API. still I am getting undefined                                (data2: any) =&gt;                            {                             console.table(data2.headers),"}], "tags": [], "owner": {"reputation": 3596, "user_id": 1828361, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/K4uPi.png?s=128&g=1", "display_name": "csga5000", "link": "https://stackoverflow.com/users/1828361/csga5000"}, "is_accepted": false, "score": 19, "last_activity_date": 1521951924, "last_edit_date": 1521951924, "creation_date": 1519426164, "answer_id": 48957319, "question_id": 44292270, "link": "https://stackoverflow.com/questions/44292270/angular-4-get-headers-from-api-response/48957319#48957319", "title": "Angular 4 get headers from API response", "body": "<h1>Clear angular 5 answer</h1>\n\n<p>By default, this.http.whatever's returned observable will be on the <strong>data</strong> returned, not the HttpResponse.</p>\n\n<p>If you have a peak at: <a href=\"https://angular.io/api/common/http/HttpClient\" rel=\"noreferrer\">https://angular.io/api/common/http/HttpClient</a>\nYou'll notice the options take an \"observe\" parameter of a HttpObserve type.  While it's not documented what the HttpObserve is, if you put it as \"response\" then you will instead receive an instance of <code>HttpResponse&lt;T&gt;</code>(<a href=\"https://angular.io/api/common/http/HttpResponse\" rel=\"noreferrer\">https://angular.io/api/common/http/HttpResponse</a>)</p>\n\n<p>So, here's an example request:</p>\n\n<pre><code>this.http.get(url, {observe: 'response'})\n    .subscribe(resp =&gt; console.log(resp.headers))\n</code></pre>\n\n<p><strong>Note:</strong> Due to browser cors security, you will not be-able to see headers unless the API provides <code>Access-Control-Expose-Headers:</code> with your custom headers if your api and angular app do not have the same domain.</p>\n"}], "owner": {"reputation": 183, "user_id": 7020463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/565ac99e30f77a2b5bd151bb57db4af3?s=128&d=identicon&r=PG&f=1", "display_name": "Lrawls", "link": "https://stackoverflow.com/users/7020463/lrawls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50482, "favorite_count": 3, "accepted_answer_id": 44292610, "answer_count": 5, "score": 15, "last_activity_date": 1541191025, "creation_date": 1496255469, "question_id": 44292270, "link": "https://stackoverflow.com/questions/44292270/angular-4-get-headers-from-api-response", "title": "Angular 4 get headers from API response", "body": "<p>I'm sending a request to an API, it returns an array of data, but I don't know how to extract the headers from that url, this is what i've tried in my service</p>\n\n<pre><code>@Injectable()\nexport class ResourcesService {\nprivate resourcesurl = \"http://localhost:9111/v1/resources\";\n\nconstructor(private http: Http) { }\n\ngetResources() {\n  let headers = new Headers();\n  headers.append(\"api_key\", \"123456\");\n  return this.http.get(this.resourcesurl, { headers: headers \n }).map(this.extractData).catch(this.handleError);\n}\ngetresourceheaders(){\n  let headers = new Headers();\n  headers.append(\"api_key\", \"123456\");\n  let options = new RequestOptions();\n  let testsss = options.headers\n  let headerapi = this.http.request(this.resourcesurl, options);\n  let test = this.http.get(this.resourcesurl, { headers: headers });\n  console.log(headerapi);\n}\nprivate extractData(res: Response) {\n  let body = res.json();\n  return body.data || {};\n}\nprivate handleError(error: Response | any) {\nlet errMsg: string;\nif (error instanceof Response) {\n  const body = error.json() || '';\n  const err = body.error || JSON.stringify(body);\n  errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n} else {\n  errMsg = error.message ? error.message : error.toString();\n}\nconsole.error(errMsg);\nreturn Observable.throw(errMsg);\n }\n}\n</code></pre>\n\n<p>I want to get the headers from that response that in this case is <strong>resourceurl</strong></p>\n\n<p>any idea?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "iframe", "youtube"], "answers": [{"tags": [], "owner": {"reputation": 6427, "user_id": 1486742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e85d265e07bece5f7f82cce58514ec66?s=128&d=identicon&r=PG", "display_name": "LeOn - Han Li", "link": "https://stackoverflow.com/users/1486742/leon-han-li"}, "is_accepted": true, "score": 0, "last_activity_date": 1506617449, "creation_date": 1506617449, "answer_id": 46474443, "question_id": 44292128, "link": "https://stackoverflow.com/questions/44292128/how-do-i-include-the-youtube-iframe-api-in-angular2/46474443#46474443", "title": "How do I include the Youtube Iframe API in Angular2?", "body": "<p>This should be a <code>timing</code> issue. For the <code>onYouTubeIframeAPIReady</code>, It is a youtube provided callback. So inside <code>ngOninit() or ngAfterViewInit()</code>, I would recommend you register it   at the <code>window</code> level to let youtube API call it when everything is ready. </p>\n\n<p>something like: </p>\n\n<pre><code>(&lt;any&gt;window).onYouTubeIframeAPIReady = ()=&gt;{\n    console.log((&lt;any&gt;window).YT);\n    this.player = new (&lt;any&gt;window).YT.Player('muteYouTubeVideoPlayer', {\n        videoId: 'KKYYAbGpw6A', // YouTube Video ID\n        width: 560,               // Player width (in px)\n        height: 316,              // Player height (in px)\n        playerVars: {\n          autoplay: 1,        // Auto-play the video on load\n          controls: 0,        // Show pause/play buttons in player\n          showinfo: 0,        // Hide the video title\n          modestbranding: 0,  // Hide the Youtube Logo\n          loop: 1,            // Run the video in a loop\n          fs: 0,              // Hide the full screen button\n          cc_load_policy: 0, // Hide closed captions\n          iv_load_policy: 0,  // Hide the Video Annotations\n          autohide: 1         // Hide video controls when playing\n        },\n        events: {\n          onReady: function(e) {\n            e.target.mute();\n          }\n        }\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 3683080, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7aa62659152943315565920f38581703?s=128&d=identicon&r=PG&f=1", "display_name": "fold4wrap5", "link": "https://stackoverflow.com/users/3683080/fold4wrap5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "accepted_answer_id": 46474443, "answer_count": 1, "score": 2, "last_activity_date": 1507894254, "creation_date": 1496254928, "last_edit_date": 1507894254, "question_id": 44292128, "link": "https://stackoverflow.com/questions/44292128/how-do-i-include-the-youtube-iframe-api-in-angular2", "title": "How do I include the Youtube Iframe API in Angular2?", "body": "<p>I am using Angular-cli. I'd like to utilize the youtube iframe api within an Angular2 module. I couldn't get the <a href=\"https://www.npmjs.com/package/youtube-iframe\" rel=\"nofollow noreferrer\">youtube-iframe node package</a> to work. And the more Angular2 specific packages don't seem to support the full api features. </p>\n\n<p>Here's my work so far:\nI have included the <a href=\"https://www.youtube.com/iframe_api\" rel=\"nofollow noreferrer\">actual api</a> in my assets folder. I have added the location as a script within my <code>.angular-cli.json</code> file. </p>\n\n<p>This is what my AppComponent looks like:</p>\n\n<pre><code>export class AppComponent {\nYT;\nconstructor(){\n    this.YT = window[\"YT\"];\n}\n\nonYouTubeIframeAPIReady() {\n    console.log(this.YT);\n    var player;\n    player = new this.YT.Player('muteYouTubeVideoPlayer', {\n        videoId: 'KKYYAbGpw6A', // YouTube Video ID\n        width: 560,               // Player width (in px)\n        height: 316,              // Player height (in px)\n        playerVars: {\n          autoplay: 1,        // Auto-play the video on load\n          controls: 0,        // Show pause/play buttons in player\n          showinfo: 0,        // Hide the video title\n          modestbranding: 0,  // Hide the Youtube Logo\n          loop: 1,            // Run the video in a loop\n          fs: 0,              // Hide the full screen button\n          cc_load_policy: 0, // Hide closed captions\n          iv_load_policy: 0,  // Hide the Video Annotations\n          autohide: 1         // Hide video controls when playing\n        },\n        events: {\n          onReady: function(e) {\n            e.target.mute();\n          }\n        }\n    });\n}\n\nngAfterViewInit(){\n    this.onYouTubeIframeAPIReady();\n}\n</code></pre>\n\n<p>It works when I have the devTools open in Chrome. But not when I have them closed. This is the error I get:</p>\n\n<pre><code>this.YT.Player is not a constructor\nat AppComponent.webpackJsonp.328.AppComponent.onYouTubeIframeAPIReady\n</code></pre>\n\n<p>I guess the problem is using <code>window[\"YT\"]</code>. Can anyone provide me with a step by step guide of doing this properly?</p>\n"}, {"tags": ["angular", "typescript", "wysiwyg"], "answers": [{"tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 2, "last_activity_date": 1496253537, "creation_date": 1496253537, "answer_id": 44291703, "question_id": 44291346, "link": "https://stackoverflow.com/questions/44291346/using-execcommand-for-formatting-in-angular/44291703#44291703", "title": "Using execCommand for formatting in Angular", "body": "<p>I suppose you have <code>data</code> on your <code>document</code> object. </p>\n\n<p>Anyways, you are passing in the <code>$event</code> into the <code>HostListener</code>. This will make the <code>targetElement</code> a <code>MouseEvent</code> instead of a <code>HTMLElement</code>. You can use type hinting to foresee such errors.</p>\n\n<p>On the other hand you are using a <code>data</code> function, from which I've never heard of. Not on<code>MouseEvent</code> nor on a <code>HTMLElement</code> or <code>Document</code>. My guess is that you are trying to access the <code>dataset</code>? If that's the case, this might work for you:</p>\n\n<pre><code>@HostListener('document:click', ['$event.target'])\n  onClick(targetElement: Document) {\n    let command: string = 'bold';\n    if (command === 'h1' || command === 'h2' || command === 'p') {\n       document.execCommand('formatBlock', false, command);\n    } else {\n       document.execCommand(targetElement.dataset['command'], false, null);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 1, "accepted_answer_id": 44291703, "answer_count": 1, "score": 1, "last_activity_date": 1496253537, "creation_date": 1496252285, "question_id": 44291346, "link": "https://stackoverflow.com/questions/44291346/using-execcommand-for-formatting-in-angular", "title": "Using execCommand for formatting in Angular", "body": "<p>I have this code:</p>\n\n<pre><code>  @HostListener('document:click', ['$event'])\n  onClick(targetElement) {\n    console.log(targetElement);\n    var command = 'bold';\n    if (command == 'h1' || command == 'h2' || command == 'p') {\n      document.execCommand('formatBlock', false, command);\n    } else document.execCommand(targetElement.data('command'), false, null);\n  });\n</code></pre>\n\n<p>But this isn't working.  The first <code>if</code> statement will be skipped as I just want to ensure that the <code>execCommand</code> is working.</p>\n\n<p>It does print out the <code>console.log</code> so it gets into that function.</p>\n\n<p>The HTML element that will be modified is:</p>\n\n<pre><code>&lt;div id='editor' contenteditable&gt;\n  &lt;h1&gt;A WYSIWYG Editor.&lt;/h1&gt;\n  &lt;p&gt;Change this text, or format&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How do I change the text that was selected, for bold?\nHow do I use document.execCommand in Typescript?</p>\n\n<p>I have a feeling in this section, <code>document.execCommand(targetElement</code> that I should have passed in the div with id <code>editor</code> to the directive so it know what that particular button should act upon.</p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "mongoose", "enums"], "answers": [{"comments": [{"owner": {"reputation": 1308, "user_id": 4559407, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a18ae8c6399719d8e947f5eeaba80382?s=128&d=identicon&r=PG", "display_name": "Jannis Lehmann", "link": "https://stackoverflow.com/users/4559407/jannis-lehmann"}, "edited": false, "score": 0, "creation_date": 1496254917, "post_id": 44291774, "comment_id": 75590575, "body": "My last sentence includes my question, I&#39;d appreciate it if you could read my question and maybe update your answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8086575"}, "reply_to_user": {"reputation": 1308, "user_id": 4559407, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a18ae8c6399719d8e947f5eeaba80382?s=128&d=identicon&r=PG", "display_name": "Jannis Lehmann", "link": "https://stackoverflow.com/users/4559407/jannis-lehmann"}, "edited": false, "score": 0, "creation_date": 1496273157, "post_id": 44291774, "comment_id": 75598487, "body": "Again, what are you expecting the &quot;type&quot; parameter to be? Example?"}, {"owner": {"reputation": 1308, "user_id": 4559407, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a18ae8c6399719d8e947f5eeaba80382?s=128&d=identicon&r=PG", "display_name": "Jannis Lehmann", "link": "https://stackoverflow.com/users/4559407/jannis-lehmann"}, "edited": false, "score": 1, "creation_date": 1496309441, "post_id": 44291774, "comment_id": 75612592, "body": "Due to the schema, it must be a string. And my question is if there is a possible supply the enum and it gets converted by mongoose or some function I create."}, {"owner": {"reputation": 1308, "user_id": 4559407, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a18ae8c6399719d8e947f5eeaba80382?s=128&d=identicon&r=PG", "display_name": "Jannis Lehmann", "link": "https://stackoverflow.com/users/4559407/jannis-lehmann"}, "edited": false, "score": 1, "creation_date": 1496319520, "post_id": 44291774, "comment_id": 75619774, "body": "Kinda, yeah. <code>CUtility.enumToArray(GameMode)</code> returns <code>[&#39;ASSAULT&#39;,&#39;MORE&#39;]</code>. Know why the TypeError is returned, but I wonder if there is a way to create an object using <code>new Test({type: GameMode.ASSAULT})</code>and mongoose or another helper method turns this into a string so I don&#39;t have to use <code>GameMode[GM.Assault]</code> each time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8086575"}, "reply_to_user": {"reputation": 1308, "user_id": 4559407, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a18ae8c6399719d8e947f5eeaba80382?s=128&d=identicon&r=PG", "display_name": "Jannis Lehmann", "link": "https://stackoverflow.com/users/4559407/jannis-lehmann"}, "edited": false, "score": 0, "creation_date": 1496321589, "post_id": 44291774, "comment_id": 75621387, "body": "I think you&#39;ll probably just have to create your own helper method, but that&#39;s probably not going to save you much code by abstracting it."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8086575"}, "is_accepted": true, "score": 5, "last_activity_date": 1496319387, "last_edit_date": 1496319387, "creation_date": 1496253737, "answer_id": 44291774, "question_id": 44290887, "link": "https://stackoverflow.com/questions/44290887/using-typescript-enum-with-mongoose-schema/44291774#44291774", "title": "Using TypeScript enum with mongoose schema", "body": "<p><code>GameMode.ASSAULT</code> is evaluating as it's numeric value, but <code>GameMode</code> is expecting the type to be a string. What are you expecting the string evaluation to be? If you need the string value of the enum, you can access it with <code>GameMode[GameMode.ASSAULT]</code>, which would return <code>ASSAULT</code> as a string.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum TEST {\n    test1 = 1,\n    test2 = 2\n}\n\nconsole.log(TEST[TEST.test1]);\n//Prints \"test1\"\n</code></pre>\n\n\n\n<p>From the <a href=\"http://mongoosejs.com/docs/validation.html\" rel=\"noreferrer\">Mongoose docs on validation</a>, in schema properties with a <code>type</code> of <code>String</code> that have <code>enum</code> validation, the <code>enum</code> that mongoose expects in an array of strings.</p>\n\n<p>This means that <code>CUtility.enumToArray(GameMode)</code> needs to either return to you an array of the indexes as strings, or an array of the text/string values of the <code>enum</code>--whichever you are expecting to store in your DB.</p>\n\n<p>The validation error seems to imply that <code>1</code> is not contained within the array that is being produced by <code>CUtility.enumToArray(GameMode)</code>, or the validation is seeing <code>GameMode.ASSAULT</code> as a number when it is expected a string representation of <code>1</code>. You might have to convert the <code>enum</code> value you are passing in into a string.</p>\n\n<p>What is the output of <code>CUtility.enumToArray(GameMode)</code>? That should help you determine which of the two is your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 3104741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kxpf.jpg?s=128&g=1", "display_name": "Kris Jobs", "link": "https://stackoverflow.com/users/3104741/kris-jobs"}, "is_accepted": false, "score": 2, "last_activity_date": 1569498616, "last_edit_date": 1569498616, "creation_date": 1569434341, "answer_id": 58104124, "question_id": 44290887, "link": "https://stackoverflow.com/questions/44290887/using-typescript-enum-with-mongoose-schema/58104124#58104124", "title": "Using TypeScript enum with mongoose schema", "body": "<p>Why don't you just create custom getter/setter:</p>\n\n<pre><code>const schema = new Schema ({\n    enumProp: {\n            type: Schema.Types.String,\n            enum: enumKeys(EnumType),\n            get: (enumValue: string) =&gt; EnumType[enumValue as keyof typeof EnumType],\n            set: (enumValue: EnumType) =&gt; EnumType[enumValue],\n        },\n});\n</code></pre>\n\n<p>EDIT:\nDon't forget to explicitly enable the getter</p>\n\n<pre><code>schema.set('toJSON', { getters: true }); \n// and/or\nschema.set('toObject', { getters: true });\n</code></pre>\n\n<p>This way you can fine-control how exactly you want to represent the prop in the db, backend and frontend (json response).</p>\n"}], "owner": {"reputation": 1308, "user_id": 4559407, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a18ae8c6399719d8e947f5eeaba80382?s=128&d=identicon&r=PG", "display_name": "Jannis Lehmann", "link": "https://stackoverflow.com/users/4559407/jannis-lehmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5484, "favorite_count": 0, "accepted_answer_id": 44291774, "answer_count": 2, "score": 4, "last_activity_date": 1569498616, "creation_date": 1496250581, "question_id": 44290887, "link": "https://stackoverflow.com/questions/44290887/using-typescript-enum-with-mongoose-schema", "title": "Using TypeScript enum with mongoose schema", "body": "<p>I have a schema with an enum:</p>\n\n<pre><code>export interface IGameMapModel extends IGameMap, Document {}\n\nexport const gameMapSchema: Schema = new Schema({\n  name: { type: String, index: { unique: true }, required: true },\n  type: { type: String, enum: CUtility.enumToArray(GameMode) }\n});\n\nexport const GameMap: Model&lt;IGameMapModel&gt; = model&lt;IGameMapModel&gt;('GameMap', gameMapSchema);\n</code></pre>\n\n<p>The <code>GameMap</code> is an enum.</p>\n\n<p>First problem is already in here: I need to convert the enum to a string array in order to use it with the schema.</p>\n\n<p>Secondly, I wanna use an enum value directly during the schema creation.</p>\n\n<pre><code>new GameMap({\n  name: 'Test',\n  type: GameMode.ASSAULT\n});\n</code></pre>\n\n<p>returns <code>ValidationError: type: '1' is not a valid enum value for path 'type'.</code></p>\n\n<p>I am not sure whether this can actually work due to the string array I set in the model enum property.</p>\n\n<p>My idea would be to create some kind of type conversion during the schema creation. Does this work with mongoose or would I have to create some kind of helper for object creation?</p>\n"}, {"tags": ["html", "angular", "typescript", "angular-dom-sanitizer"], "answers": [{"tags": [], "owner": {"reputation": 2531, "user_id": 4515408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cRFDi.png?s=128&g=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/4515408/shane"}, "is_accepted": false, "score": 0, "last_activity_date": 1496249737, "creation_date": 1496249737, "answer_id": 44290621, "question_id": 44290391, "link": "https://stackoverflow.com/questions/44290391/bypasssecuritytrust-from-domsanitizer-not-working-angular-2/44290621#44290621", "title": "bypasssecuritytrust from DomSanitizer not working (Angular 2)", "body": "<p>What you can do, but goes against the Angular principle, is to append the html markup to the innerhtml of your component or the DOM using <code>ElementRef</code> from \n <code>@angular/core</code>.</p>\n\n<p>Sample appcomponent:</p>\n\n<pre><code>import { Component, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  template: ``,\n})\nexport class AppComponent  {\n  private htmlTemplate = `\n    &lt;div&gt;Loading template&lt;/div&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      console.log('loaded');\n    &lt;/script&gt;\n  `;\n  constructor(private elementRef: ElementRef) { }\n\n  ngAfterViewInit() {\n    let elem: Element = this.elementRef.nativeElement;\n\n    elem.innerHTML = this.htmlTemplate;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "is_accepted": false, "score": 1, "last_activity_date": 1496249857, "creation_date": 1496249857, "answer_id": 44290665, "question_id": 44290391, "link": "https://stackoverflow.com/questions/44290391/bypasssecuritytrust-from-domsanitizer-not-working-angular-2/44290665#44290665", "title": "bypasssecuritytrust from DomSanitizer not working (Angular 2)", "body": "<p>Try this:</p>\n\n<pre><code>import { DomSanitizer } from '@angular/platform-browser';\nconstructor(private sanitizer: DomSanitizer) { }\n\n//where you want to use the unsafe html\nconst sanitizedHtml = this.sanitizer.bypassSecurityTrustResourceUrl(html);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6183573"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1852, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1509476119, "creation_date": 1496249004, "last_edit_date": 1509476119, "question_id": 44290391, "link": "https://stackoverflow.com/questions/44290391/bypasssecuritytrust-from-domsanitizer-not-working-angular-2", "title": "bypasssecuritytrust from DomSanitizer not working (Angular 2)", "body": "<p>My problem is the following, I get as a response from a service an entire HTML page that I should display back t the user. Now this is an issue for Angular since it thinks I might be a victim of cross site scripting if I do that. The source I get the HTML from is trusted so I wanted to white list it or bypass the sanitizer in some way and render the view to the user. </p>\n\n<p>The problem I ran into is that the file I get also contains '<strong>style</strong>' and '<strong>script</strong>' tags for manipulating the dom, and no matter how I place the bypass function calls something gets caught and the entire thing doesn't render properly. Is there any way I could maybe separate the HTML file clear it and then put it back together or something else?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1496248402, "post_id": 44290123, "comment_id": 75586906, "body": "Can you add the import statements you have for this file?"}, {"owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1496249141, "post_id": 44290123, "comment_id": 75587334, "body": "Updated with imports"}], "answers": [{"tags": [], "owner": {"reputation": 984, "user_id": 4191146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IM8zE.jpg?s=128&g=1", "display_name": "Alex JM", "link": "https://stackoverflow.com/users/4191146/alex-jm"}, "is_accepted": false, "score": 0, "last_activity_date": 1496248721, "creation_date": 1496248721, "answer_id": 44290305, "question_id": 44290123, "link": "https://stackoverflow.com/questions/44290123/typescript-angular2-errors-when-returning-a-promise-and-creating-an-observable-f/44290305#44290305", "title": "Typescript Angular2 errors when returning a promise and creating an observable from it", "body": "<p>The refreshToken function is incorrect</p>\n\n<ul>\n<li>You must not subscribe inside operators in RxJS</li>\n<li>Get returns an Observable (or promise as it seems in your case)</li>\n</ul>\n\n<p>Try the following:</p>\n\n<pre><code>refreshToken(): Observable&lt;any&gt; {    \n  return this.token = Observable.fromPromise(this.getToken())\n    .flatMap(() =&gt; {\n      if(this.jwtHelper.isTokenExpired(this.token))\n      {\n        return this.authHttp.get('localhost.api/refresh')\n      }\n    })\n    .catch(() =&gt; console.log(error))\n    .map(response: Response =&gt; response.json())\n    .subscribe(value =&gt; {\n      this.token = value.token\n    })\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496249635, "post_id": 44290521, "comment_id": 75587657, "body": "That took away the response error (error 2) but now I get an error on the line <code>.flatMap(() =&gt; {</code> saying <code>Error:(28, 16) TS2345:Argument of type &#39;() =&gt; Subscription&#39; is not assignable to parameter of type &#39;(value: any, index: number) =&gt; ObservableInput&lt;{}&gt;&#39;.   Type &#39;Subscription&#39; is not assignable to type &#39;ObservableInput&lt;{}&gt;&#39;.     Type &#39;Subscription&#39; is not assignable to type &#39;ArrayLike&lt;{}&gt;&#39;.       Property &#39;length&#39; is missing in type &#39;Subscription&#39;.</code>"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496250184, "post_id": 44290521, "comment_id": 75587983, "body": "You have to return the observable inside <code>flatMap</code>. See my updated answer."}, {"owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496251492, "post_id": 44290521, "comment_id": 75588769, "body": "The errors are gone but when I run it in my browser now I get this error <code>TypeError: You provided &#39;undefined&#39; where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.</code>"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496251980, "post_id": 44290521, "comment_id": 75589038, "body": "You probably need a <code>filter</code> to filter out false conditions before <code>flatMap</code>"}, {"owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496252700, "post_id": 44290521, "comment_id": 75589426, "body": "another error <code>Error:(81, 10) TS2339:Property &#39;flatMap&#39; does not exist on type &#39;boolean&#39;.</code> <code>this.jwtHelper.isTokenExpired</code> returns true or false"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496253558, "post_id": 44290521, "comment_id": 75589878, "body": "There was a missing brace."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 10, "last_activity_date": 1496253377, "last_edit_date": 1496253377, "creation_date": 1496249419, "answer_id": 44290521, "question_id": 44290123, "link": "https://stackoverflow.com/questions/44290123/typescript-angular2-errors-when-returning-a-promise-and-creating-an-observable-f/44290521#44290521", "title": "Typescript Angular2 errors when returning a promise and creating an observable from it", "body": "<p>You are not importing <code>Response</code> in your code. The compiler probably got confused on which <code>Response</code> to use as there may be multiple definitions in your typings :</p>\n\n<pre><code>import { Response } from '@angular/http';\n</code></pre>\n\n<p>Also, you are not returning the observable inside <code>flatMap</code>. You are returning the <code>Subscription</code>. Return the original observable like this:</p>\n\n<pre><code>refreshToken(): Observable &lt;any&gt; {\n\n    let observable = Observable.fromPromise(this.getToken())\n     .filter(() =&gt; this.jwtHelper.isTokenExpired(this.token))\n     .flatMap(() =&gt;  this.authHttp.get('localhost.api/refresh'));\n    observable.subscribe((response: Response) =&gt; {\n            this.token = response.json().token;\n        }, (error: Response) =&gt; {\n            console.log(error);\n        });\n    return observable;\n}\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4666, "favorite_count": 1, "accepted_answer_id": 44290521, "answer_count": 2, "score": 4, "last_activity_date": 1496253377, "creation_date": 1496248130, "last_edit_date": 1496249117, "question_id": 44290123, "link": "https://stackoverflow.com/questions/44290123/typescript-angular2-errors-when-returning-a-promise-and-creating-an-observable-f", "title": "Typescript Angular2 errors when returning a promise and creating an observable from it", "body": "<p>I am attempting to retrieve a token from ionics <code>storage</code> in <code>getToken()</code>and than use it in <code>refreshToken()</code> to see if the token is expired by passing it to <code>(this.jwtHelper.isTokenExpired(this.token)</code> which returns a true or false depending on if the token is expired or not. I have put comments in <code>refreshToken()</code> where I am getting the following errors </p>\n\n<p>Error 1:</p>\n\n<p><code>Error: TS2345:Argument of type '(response: Response) =&gt; void' is not assignable to parameter of type '(value: Response) =&gt; void'.\nTypes of parameters 'response' and 'value' are incompatible.\nType 'Response' is not assignable to type 'Response'. Two different types with this name exist, but they are unrelated.\nProperty 'body' is missing in type 'Response'.</code></p>\n\n<p>Error 2:</p>\n\n<p><code>Error:(34, 46) TS2339:Property 'token' does not exist on type 'Promise&lt;any&gt;'.</code></p>\n\n<p>My code </p>\n\n<pre><code>import {AuthHttp, JwtHelper, tokenNotExpired} from \"angular2-jwt\";\nimport {Observable} from \"rxjs/Observable\";\nimport {AuthService} from \"../Services/Auth/auth.service\";\nimport {Injectable} from \"@angular/core\";\nimport { Storage } from '@ionic/storage';\nimport {AlertController} from \"ionic-angular\";\n\n@Injectable()\nexport class TokenProvider {\n\njwtHelper: JwtHelper = new JwtHelper();\ntoken;\n\nconstructor(private authHttp: AuthHttp, private storage: Storage, private alertCtrl: AlertController) {\n}\n\ngetToken(): Promise&lt;any&gt; {\n  return this.storage.get('token').then(token =&gt; {\n     this.token = token;\n  });\n}\n\nrefreshToken(): Observable&lt;any&gt; {\n\n  return this.token = Observable.fromPromise(this.getToken())\n    .flatMap(() =&gt; {\n      if(this.jwtHelper.isTokenExpired(this.token))\n      {\n        return this.authHttp.get('localhost.api/refresh')\n          .subscribe(   // ERROR 1 HERE\n            (response: Response) =&gt; {\n              this.token = response.json().token;  // ERROR 2 HERE\n            },\n            (error: Response) =&gt; {\n              console.log(error);\n            });\n      }\n    });\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux", "typescript2.0", "reselect"], "comments": [{"owner": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "edited": false, "score": 0, "creation_date": 1496346184, "post_id": 44289468, "comment_id": 75637273, "body": "I would check first to see that you have the version of Reselect&#39;s index.d.ts that you linked to. Support for arrays of selectors wasn&#39;t added until recently (version 3.0, I think). You could omit the array altogether; it isn&#39;t required by reselect (although most of the examples use it.)"}, {"owner": {"reputation": 101, "user_id": 5646927, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153259847877335/picture?type=large", "display_name": "Tristan Hamel", "link": "https://stackoverflow.com/users/5646927/tristan-hamel"}, "reply_to_user": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "edited": false, "score": 0, "creation_date": 1496477907, "post_id": 44289468, "comment_id": 75686723, "body": "It might indeed be a problem with my dependencies versions. As for array selectors, I am running reselect 3.0.1 so it should not be a problem."}], "answers": [{"tags": [], "owner": {"reputation": 1634, "user_id": 1779275, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/SgEYI.png?s=128&g=1", "display_name": "Evan Sebastian", "link": "https://stackoverflow.com/users/1779275/evan-sebastian"}, "is_accepted": false, "score": 0, "last_activity_date": 1496336619, "creation_date": 1496336619, "answer_id": 44313328, "question_id": 44289468, "link": "https://stackoverflow.com/questions/44289468/assign-correct-types-to-reselect-createselector-function/44313328#44313328", "title": "Assign correct types to Reselect createSelector function", "body": "<p>I might be wrong, but from this\n<a href=\"https://github.com/Microsoft/TypeScript/issues/13883\" rel=\"nofollow noreferrer\">this issue</a>, it seems to be caused by how the language infers your heterogenous array <code>[getGroups, getQuestionnaires]</code> as an array and not a tuple.</p>\n\n<p>Forcing the first argument to tuple type will make it work but causes unnecessary boilerplate</p>\n\n<pre><code>const getGroups:Selector&lt;IState, IGroup[]&gt; = state =&gt; state.groups;\nconst getQuestionnaires:Selector&lt;IState, IQuestionnaire[]&gt; = state =&gt; \n  state.questionnaires;\n\nconst selectors: [Selector&lt;IState, IGroup[]&gt;, Selector&lt;IState, IQuestionnaire[]&gt;] = [getGroups, getQuestionnaires]\n\nexport const groups = createSelector&lt;IState, IGroup[], IQuestionnaire[], IGroupReselect&gt;(\n  selectors,\n  (g, q) =&gt; {\n\n    return g.map(group =&gt; Object.assign(\n      {},\n      group,\n      {questionnaires: group.questionnairesIds.map(id =&gt; q.find(q =&gt; q.id === id))}\n    ));\n  }\n);\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5646927, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153259847877335/picture?type=large", "display_name": "Tristan Hamel", "link": "https://stackoverflow.com/users/5646927/tristan-hamel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 7423, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1613711085, "creation_date": 1496246232, "last_edit_date": 1496477343, "question_id": 44289468, "link": "https://stackoverflow.com/questions/44289468/assign-correct-types-to-reselect-createselector-function", "title": "Assign correct types to Reselect createSelector function", "body": "<p>Edit: added package.json excerpt</p>\n\n<p>I am trying to implement typescript in an existing React project and I am facing difficulties with <a href=\"https://github.com/reactjs/reselect\" rel=\"noreferrer\">Reselect</a> library.\nTypescript compiler insists on importing the first definition of createSelector function and fails recognize that my function's signature corresponds to another definition.</p>\n\n<p>The definition it imports:</p>\n\n<pre><code>export function createSelector&lt;S, R1, T&gt;(\n  selector: Selector&lt;S, R1&gt;,\n  combiner: (res: R1) =&gt; T,\n): OutputSelector&lt;S, T, (res: R1) =&gt; T&gt;;\n</code></pre>\n\n<p>The one I want to use:</p>\n\n<pre><code>export function createSelector&lt;S, R1, R2, T&gt;(\n  selectors: [Selector&lt;S, R1&gt;,\n              Selector&lt;S, R2&gt;],\n  combiner: (res1: R1, res2: R2) =&gt; T,\n): OutputSelector&lt;S, T, (res1: R1, res2: R2) =&gt; T&gt;;\n</code></pre>\n\n<p>Here is my actual code:</p>\n\n<pre><code>// groups.selectors.tsx\n\nimport { Selector, createSelector } from 'Reselect';\nimport { IGroup, IQuestionnaire, IGroupReselect, IState } from '../interfaces';\n\nconst getGroups:Selector&lt;IState, IGroup[]&gt; = state =&gt; state.groups;\nconst getQuestionnaires:Selector&lt;IState, IQuestionnaire[]&gt; = state =&gt; state.questionnaires;\n\nexport const groups = createSelector&lt;IState, IGroup[], IQuestionnaire[], IGroupReselect&gt;(\n  [getGroups, getQuestionnaires],\n  (g, q) =&gt; {\n\n    return g.map(group =&gt; Object.assign(\n      {},\n      group,\n      {questionnaires: group.questionnairesIds.map(id =&gt; q.find(q =&gt; q.id === id))}\n    ));\n  }\n);\n</code></pre>\n\n<p>And in case it my be of any help, here is my ts.config:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"es6\",\n    \"target\": \"es6\",\n    \"outDir\": \".temp\",\n    \"allowSyntheticDefaultImports\": true,\n    \"baseUrl\": \"src\",\n    \"noImplicitAny\": false,\n    \"sourceMap\": false,\n    \"jsx\": \"preserve\",\n    \"strict\": true,\n    \"moduleResolution\": \"node\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"files\": [\n    \"typings.d.ts\"\n  ]\n}\n</code></pre>\n\n<p>I am not completely comfortable with TypeScript so there is certainly something wrong in my implementation. What bugs me is that if I write the simplest possible reselector, that is one with only 1 selector and a combiner of arity 1, it passes type checking which gives me the impression that the compiler does not properly pick the correct definition among overloaded functions in Reselect's <a href=\"https://github.com/reactjs/reselect/blob/master/src/index.d.ts\" rel=\"noreferrer\">index.d.ts</a></p>\n\n<p>Here are relevant parts of my package.json:</p>\n\n<pre><code>\"dependencies\": {\n    \"react\": \"^15.5.4\",\n    \"react-dom\": \"^15.5.4\",\n    \"react-redux\": \"^5.0.5\",\n    \"react-router\": \"^4.1.1\",\n    \"react-router-dom\": \"^4.1.1\",\n    \"redux\": \"^3.6.0\",\n    \"redux-devtools-extension\": \"^2.13.2\",\n    \"redux-thunk\": \"^2.2.0\",\n    \"reselect\": \"^3.0.1\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^15.0.25\",\n    \"@types/react-router-dom\": \"^4.0.4\",\n    \"@types/redux-thunk\": \"^2.1.0\",\n    \"typescript\": \"^2.3.3\"\n  },\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "is_accepted": false, "score": 0, "last_activity_date": 1496244423, "creation_date": 1496244423, "answer_id": 44288833, "question_id": 44288612, "link": "https://stackoverflow.com/questions/44288612/bind-selected-option-from-drop-down-to-typesscript-object-angular-2/44288833#44288833", "title": "Bind selected option from drop down to Typesscript object Angular 2", "body": "<p>Try doing it like this:</p>\n\n<pre><code>&lt;select (ngModelChange)=\"setPriority($event)\"&gt;\n        &lt;option *ngFor=\"let priority of formModel.priorities\" [value]=\"priority\" &gt;{{priority.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>If it doesnt work can you please tell the value of the object you receive on change </p>\n\n<pre><code>private setPriority(priority: any): void {\n    this.todo.priority = priority; //Is this value you are receiving correct?\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 2, "last_activity_date": 1496254393, "creation_date": 1496254393, "answer_id": 44291963, "question_id": 44288612, "link": "https://stackoverflow.com/questions/44288612/bind-selected-option-from-drop-down-to-typesscript-object-angular-2/44291963#44291963", "title": "Bind selected option from drop down to Typesscript object Angular 2", "body": "<p>Why not also use two-way-binding with the <code>priority</code>? Also since you are using a form, I'm surprised it doesn't throw you error by not using <code>name</code>-attribute in your form, but anyway, use two-way-binding, and since <code>priority</code> is an object, and you want to bind the whole object, use <code>[ngValue]</code>. So your select would look like this:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select [(ngModel)]=\"todo.priority\" name=\"priority\" &gt;\n  &lt;option *ngFor=\"let priority of formModel.priorities\" [ngValue]=\"priority\"&gt;\n      {{priority.name}}\n  &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>So no change event is needed here since you are using two-way-binding :)</p>\n"}], "owner": {"reputation": 818, "user_id": 4994053, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bSLPM.png?s=128&g=1", "display_name": "Bunnynut", "link": "https://stackoverflow.com/users/4994053/bunnynut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3661, "favorite_count": 0, "accepted_answer_id": 44291963, "answer_count": 2, "score": 1, "last_activity_date": 1496254393, "creation_date": 1496243832, "question_id": 44288612, "link": "https://stackoverflow.com/questions/44288612/bind-selected-option-from-drop-down-to-typesscript-object-angular-2", "title": "Bind selected option from drop down to Typesscript object Angular 2", "body": "<p>I have a form where users can create Todo's. An <code>ITodo</code> has the following properties:</p>\n\n<pre><code>export interface ITodo {\n    id: number;\n    title: string;\n    priority: ITodoPriority;\n}\nexport interface ITodoPriority {\n    id: number;\n    name: string;\n}\n</code></pre>\n\n<p>So creating a Todo consists of setting the <code>title</code>-property and selecting a <code>priority</code> from a dropdown. The form looks like this:</p>\n\n<pre><code>&lt;form (submit)=\"saveTodo()\"&gt;\n    &lt;input type=\"text\" [(ngModel)]=\"todo.title\" /&gt;\n    &lt;br /&gt;\n    &lt;select (change)=\"setPriority($event.target.value)\"&gt;\n        &lt;option *ngFor=\"let priority of formModel.priorities\" [value]=\"priority\" [innerHtml]=\"priority.name\"&gt;&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And my <code>Component</code>:</p>\n\n<pre><code>@Component({\n    selector: \"[todo-form]\",\n    templateUrl: \"todo-form.view.html\"\n})\nexport class TodoFormComponent implements OnInit {\n    private formModel: ITodoFormModel;\n    private todo: ITodo = {\n        id: -1,\n        name: \"\",\n        priority: null\n    };\n\n    ngOnInit() {\n        //Retrieve formmodel, set in actual code\n    }\n\n    private setPriority(priority: any): void {\n        this.todo.priority = priority; //This is where the problems is\n    }\n}\n</code></pre>\n\n<p>The problem is in the function <code>setPriority</code> and specifically at the part where I try to set <code>this.todo.priority</code>. The value of the parameter <code>priority</code> is available but I'm unable to set it to <code>this.todo.priority</code>.\nWhat I have tried, and what does work is the following:</p>\n\n<pre><code>private setPriority(priority: any): void {\n    let p: ITodoPriority = null;\n    this.formModel.priorities.forEach(function (item) {\n        if(priority == item) {\n            p = item;\n        }\n    });\n    this.todo.priority = p;\n}\n</code></pre>\n\n<p>So, this does work but it's a bit ugly and inefficient it seems.\nWhat would be the way to do this properly?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-template"], "comments": [{"owner": {"reputation": 2831, "user_id": 8054330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4H0EN.jpg?s=128&g=1", "display_name": "Markus Kollers", "link": "https://stackoverflow.com/users/8054330/markus-kollers"}, "edited": false, "score": 0, "creation_date": 1496243053, "post_id": 44288238, "comment_id": 75583376, "body": "And where do you want to define the th contents?"}, {"owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "reply_to_user": {"reputation": 2831, "user_id": 8054330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4H0EN.jpg?s=128&g=1", "display_name": "Markus Kollers", "link": "https://stackoverflow.com/users/8054330/markus-kollers"}, "edited": false, "score": 1, "creation_date": 1496243184, "post_id": 44288238, "comment_id": 75583479, "body": "@MarkusKollers Thanks for your answer, can you check my edit please?"}, {"owner": {"reputation": 7429, "user_id": 314862, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/xccIn.jpg?s=128&g=1", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/314862/dimitri"}, "edited": false, "score": 0, "creation_date": 1496243905, "post_id": 44288238, "comment_id": 75583992, "body": "I dont know why you want to generate <code>thead</code> and <code>th</code> automatically based on the <code>td</code>. Dont know by defaults the number of columns in your table?"}, {"owner": {"reputation": 3924, "user_id": 6682995, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/04nd7.jpg?s=128&g=1", "display_name": "Umair Sarfraz", "link": "https://stackoverflow.com/users/6682995/umair-sarfraz"}, "edited": false, "score": 0, "creation_date": 1496246491, "post_id": 44288238, "comment_id": 75585766, "body": "@Steffi So If I get you correctly, you want to generate table headers dynamically based on values you pass to table row?"}, {"owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "reply_to_user": {"reputation": 3924, "user_id": 6682995, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/04nd7.jpg?s=128&g=1", "display_name": "Umair Sarfraz", "link": "https://stackoverflow.com/users/6682995/umair-sarfraz"}, "edited": false, "score": 0, "creation_date": 1496246580, "post_id": 44288238, "comment_id": 75585833, "body": "@Umair Yes!!! That&#39;s right! Count of table headers is based on Table Row. And Value of Table headers is based on nameColumn property."}, {"owner": {"reputation": 3924, "user_id": 6682995, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/04nd7.jpg?s=128&g=1", "display_name": "Umair Sarfraz", "link": "https://stackoverflow.com/users/6682995/umair-sarfraz"}, "edited": false, "score": 0, "creation_date": 1496247520, "post_id": 44288238, "comment_id": 75586382, "body": "@Steffi I&#39;ve posted my answer."}], "answers": [{"comments": [{"owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "edited": false, "score": 0, "creation_date": 1496248631, "post_id": 44289908, "comment_id": 75587051, "body": "Thanks for your answer. Is it not possible to generate th&#39;s value from &quot;nameColumn&quot; attribute?"}, {"owner": {"reputation": 3924, "user_id": 6682995, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/04nd7.jpg?s=128&g=1", "display_name": "Umair Sarfraz", "link": "https://stackoverflow.com/users/6682995/umair-sarfraz"}, "reply_to_user": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "edited": false, "score": 0, "creation_date": 1496249404, "post_id": 44289908, "comment_id": 75587510, "body": "I don&#39;t believe that&#39;s possible. If you want to have different table headers than your object keys, there are other methods to do it. I can make edit to my answer if that is the case you are pursuing."}, {"owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "edited": false, "score": 0, "creation_date": 1496251202, "post_id": 44289908, "comment_id": 75588607, "body": "The idea is to do the same thing as Bootstrap React Table by AllenFang"}], "tags": [], "owner": {"reputation": 3924, "user_id": 6682995, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/04nd7.jpg?s=128&g=1", "display_name": "Umair Sarfraz", "link": "https://stackoverflow.com/users/6682995/umair-sarfraz"}, "is_accepted": false, "score": 0, "last_activity_date": 1496247482, "creation_date": 1496247482, "answer_id": 44289908, "question_id": 44288238, "link": "https://stackoverflow.com/questions/44288238/how-to-add-th-into-table-by-checking-td-in-angular-2/44289908#44289908", "title": "How to add TH into TABLE by checking TD in Angular 2?", "body": "<p>There is still a room for improvement in your <code>DataTable</code> compoment, but I can get to that later. \nHowever, to achieve your specific usecase, one of the things you can do is:</p>\n\n<p><strong>some-consumer.component.ts</strong></p>\n\n<p>This would be the component where you are consuming the <code>DataTable</code> component.</p>\n\n<pre><code>@Component({\n  selector: 'ConsumerComponent',\n  template: `\n    &lt;Datatable&gt;\n    &lt;tr&gt;\n      &lt;th *ngFor=\"let header of headers\"&gt;{{ header }}&lt;/th&gt;\n    &lt;/tr&gt;\n     &lt;tr #lineSelected *ngFor=\"let subscription of results\"&gt;\n      &lt;td nameColumn=\"Nom\"&gt;{{subscription.name}}&lt;/td&gt;\n      &lt;td nameColumn=\"Statut\"&gt;{{subscription.status}}&lt;/td&gt;\n      &lt;td nameColumn=\"Origine\"&gt;{{subscription.origin}}&lt;/td&gt;                           \n      &lt;td nameColumn=\"Date d'ajout\"&gt;{{subscription.date}}&lt;/td&gt;\n     &lt;/tr&gt;\n    &lt;/Datatable&gt;\n   `,\n})\nexport class ConsumerComponent implements OnInit {\n  public results = [{\n    name: 'foo',\n    status: 'none',\n    origin: 'qux',\n    date: 'some-date-string'\n  }, {\n    name: 'baz',\n    status: 'nil',\n    origin: 'nil',\n    date: 'some-date'\n  }];\n  public headers = [] as string[];\n\n  ngOnInit() {\n    // If your result array comes from a service, you should have a check first.\n    this.headers = Object.keys(this.results[0]);\n  }\n}\n</code></pre>\n\n<p>There are of course other ways to do it.</p>\n"}], "owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498940043, "creation_date": 1496242876, "last_edit_date": 1498940043, "question_id": 44288238, "link": "https://stackoverflow.com/questions/44288238/how-to-add-th-into-table-by-checking-td-in-angular-2", "title": "How to add TH into TABLE by checking TD in Angular 2?", "body": "<p>I would like to generate automatically <code>thead</code> and <code>th</code>, based on <code>td</code> in the template : </p>\n\n<pre><code>&lt;Datatable&gt;\n    &lt;tr #lineSelected *ngFor=\"let subscription of results\"&gt;\n        &lt;td nameColumn=\"Nom\"&gt;{{subscription.name}}&lt;/td&gt;\n        &lt;td nameColumn=\"Statut\"&gt;{{subscription.status}}&lt;/td&gt;\n        &lt;td nameColumn=\"Origine\"&gt;{{subscription.origin}}&lt;/td&gt;                           \n        &lt;td nameColumn=\"Date d'ajout\"&gt;{{subscription.date}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/Datatable&gt;\n</code></pre>\n\n<p>Now : </p>\n\n<pre><code>&lt;table&gt;     \n  &lt;tbody&gt;\n    &lt;tr&gt;\n        &lt;td&gt;name1&lt;/td&gt;\n        &lt;td&gt;status1&lt;/td&gt;\n        &lt;td&gt;origin1&lt;/td&gt;                            \n        &lt;td&gt;date1&lt;/td&gt;\n    &lt;/tr    \n    &lt;tr&gt;\n        &lt;td&gt;name2&lt;/td&gt;\n        &lt;td&gt;status2&lt;/td&gt;\n        &lt;td&gt;origin2&lt;/td&gt;                            \n        &lt;td&gt;date2&lt;/td&gt;\n    &lt;/tr&gt;  \n   &lt;/tbody&gt;       \n&lt;/table&gt;\n</code></pre>\n\n<p>Goal : </p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n    &lt;th&gt;Nom&lt;/th&gt;\n    &lt;th&gt;Statut&lt;/th&gt;\n    &lt;th&gt;Origine&lt;/th&gt;\n    &lt;th&gt;Date d'ajout&lt;/th&gt;\n  &lt;/thead&gt;  \n  &lt;tbody&gt;\n    &lt;tr&gt;\n        &lt;td&gt;name1&lt;/td&gt;\n        &lt;td&gt;status1&lt;/td&gt;\n        &lt;td&gt;origin1&lt;/td&gt;                            \n        &lt;td&gt;date1&lt;/td&gt;\n    &lt;/tr    \n    &lt;tr&gt;\n        &lt;td&gt;name2&lt;/td&gt;\n        &lt;td&gt;status2&lt;/td&gt;\n        &lt;td&gt;origin2&lt;/td&gt;                            \n        &lt;td&gt;date2&lt;/td&gt;\n    &lt;/tr&gt;  \n   &lt;/tbody&gt;       \n&lt;/table&gt;\n</code></pre>\n\n<p>Here is my component.ts</p>\n\n<pre><code> @Component({\n    selector: 'Datatable',\n    template: `\n        &lt;table&gt;\n            &lt;ng-content&gt;&lt;/ng-content&gt;\n        &lt;/table&gt;\n    `,\n    styleUrls: ['./datatable.component.css']\n  })\n  export class DatatableComponent {\n\n  }\n</code></pre>\n\n<p>How can I do that please ? </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1496243804, "post_id": 44288251, "comment_id": 75583901, "body": "Thanks for this. You&#39;re right about Typescript. What about Angular itself? :)"}, {"owner": {"reputation": 2831, "user_id": 8054330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4H0EN.jpg?s=128&g=1", "display_name": "Markus Kollers", "link": "https://stackoverflow.com/users/8054330/markus-kollers"}, "reply_to_user": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1496244757, "post_id": 44288251, "comment_id": 75584590, "body": "Angular does not know about the type during runtime. It only reads the &quot;value&quot; from the selected option. And this value seems to be an string by default :-)"}], "tags": [], "owner": {"reputation": 2831, "user_id": 8054330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4H0EN.jpg?s=128&g=1", "display_name": "Markus Kollers", "link": "https://stackoverflow.com/users/8054330/markus-kollers"}, "is_accepted": true, "score": 3, "last_activity_date": 1496242920, "creation_date": 1496242920, "answer_id": 44288251, "question_id": 44288100, "link": "https://stackoverflow.com/questions/44288100/number-becomes-string-using-ngmodel-binding/44288251#44288251", "title": "number becomes string using NgModel binding", "body": "<p>Typescript only helps on compile time. The result will still be some JavaScript, which is not type safe. So you can assign <code>creditAmount</code> a number, a string, an array or whatever you like. </p>\n\n<p><code>NgModel</code> seems to work with strings only, so you have to parse it if you need a number. Sorry :-(</p>\n"}, {"comments": [{"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1496243777, "post_id": 44288579, "comment_id": 75583882, "body": "Yes I saw it :) kind of the same explicit casting :)"}], "tags": [], "owner": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "is_accepted": false, "score": 1, "last_activity_date": 1496243837, "last_edit_date": 1496243837, "creation_date": 1496243739, "answer_id": 44288579, "question_id": 44288100, "link": "https://stackoverflow.com/questions/44288100/number-becomes-string-using-ngmodel-binding/44288579#44288579", "title": "number becomes string using NgModel binding", "body": "<p>Another (maybe hacky) way is to use the <code>+</code> operator the following way:</p>\n\n<pre><code>const str = '10';\nconst dig = +str;\n\nconsole.log(str + ', ' + typeof str);\nconsole.log(dig + ', ' + typeof dig);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>10, string\n10, number\n</code></pre>\n"}], "owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2347, "favorite_count": 0, "accepted_answer_id": 44288251, "answer_count": 2, "score": 3, "last_activity_date": 1496243837, "creation_date": 1496242589, "question_id": 44288100, "link": "https://stackoverflow.com/questions/44288100/number-becomes-string-using-ngmodel-binding", "title": "number becomes string using NgModel binding", "body": "<p>I don't understand this behaviour with Typescript and Angular.</p>\n\n<p><strong>my-component.html</strong></p>\n\n<pre><code>  &lt;ion-select [(ngModel)]=\"creditAmount\"\n              (ngModelChange)=\"onChangeCreditAmount()\"&gt;\n    &lt;ion-option value=\"25\" selected=\"true\"&gt;25\u20ac&lt;/ion-option&gt;\n    &lt;ion-option value=\"50\"&gt;50\u20ac&lt;/ion-option&gt;\n    &lt;ion-option value=\"75\"&gt;75\u20ac&lt;/ion-option&gt;\n    &lt;ion-option value=\"100\"&gt;100\u20ac&lt;/ion-option&gt;\n  &lt;/ion-select&gt;\n</code></pre>\n\n<p><strong>my-component.ts</strong></p>\n\n<pre><code>  creditAmount: number;\n\n  constructor() {\n    this.creditAmount = 25;\n    console.log(this.creditAmount);\n  }\n  onChangeCreditAmount() {\n    console.log(this.creditAmount);\n  }\n</code></pre>\n\n<p>In the constructor, creditAmount is a number. In the <code>onChangeCreditAmount</code> method, it became a string.</p>\n\n<p>The only workaround I found is to use explicit cast: <code>Number(this.creditAmount)</code> but this seems hacky to me. Is there a better way ? Thanks.</p>\n"}, {"tags": ["javascript", "date", "datetime", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 1151, "user_id": 807863, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fa16b079eaefdfd345f21f7e7cae999?s=128&d=identicon&r=PG", "display_name": "BogdanBiv", "link": "https://stackoverflow.com/users/807863/bogdanbiv"}, "edited": false, "score": 0, "creation_date": 1496243815, "post_id": 44287478, "comment_id": 75583912, "body": "Could you set up a gist with TS and the two moment libs?"}, {"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "reply_to_user": {"reputation": 1151, "user_id": 807863, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fa16b079eaefdfd345f21f7e7cae999?s=128&d=identicon&r=PG", "display_name": "BogdanBiv", "link": "https://stackoverflow.com/users/807863/bogdanbiv"}, "edited": false, "score": 0, "creation_date": 1496243929, "post_id": 44287478, "comment_id": 75584010, "body": "@BogdanBiv which uses all of my code?"}, {"owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 3, "creation_date": 1496244202, "post_id": 44287478, "comment_id": 75584233, "body": "As a side note: you can use <code>localeData = moment.localeData(); localeData.months();</code> to get localized array of month names, see <a href=\"http://momentjs.com/docs/#/i18n/locale-data/\" rel=\"nofollow noreferrer\">Accessing locale specific functionality</a> in the docs."}, {"owner": {"reputation": 1151, "user_id": 807863, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fa16b079eaefdfd345f21f7e7cae999?s=128&d=identicon&r=PG", "display_name": "BogdanBiv", "link": "https://stackoverflow.com/users/807863/bogdanbiv"}, "edited": false, "score": 0, "creation_date": 1496244233, "post_id": 44287478, "comment_id": 75584259, "body": "@Stavros_S: This is precisely the point: isolate your problem in smaller project that you can share."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 1, "creation_date": 1496247695, "post_id": 44287478, "comment_id": 75586489, "body": "@VincenzoC - or just <code>moment.months()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496244892, "post_id": 44288893, "comment_id": 75584685, "body": "Yes -  but it&#39;s still returning the values in english. Even if I set moment.locale(&quot;es&quot;). It seems to me that moment-timezone is not respecting the locale set by moment in the other file... I&#39;m creating a gist to help explain things better."}, {"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496246327, "post_id": 44288893, "comment_id": 75585662, "body": "I&#39;ve added a gist to the question. You will notice I&#39;m already using moment-with-locales in my import."}], "tags": [], "owner": {"reputation": 1151, "user_id": 807863, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fa16b079eaefdfd345f21f7e7cae999?s=128&d=identicon&r=PG", "display_name": "BogdanBiv", "link": "https://stackoverflow.com/users/807863/bogdanbiv"}, "is_accepted": false, "score": 0, "last_activity_date": 1496245686, "last_edit_date": 1496245686, "creation_date": 1496244623, "answer_id": 44288893, "question_id": 44287478, "link": "https://stackoverflow.com/questions/44287478/moment-timezone-is-using-default-locale-after-global-moment-locale-is-set/44288893#44288893", "title": "Moment-Timezone is using default locale after global Moment locale is set", "body": "<p>Have you tried <code>.format('')</code> ?</p>\n\n<pre><code>moment.locale();         // en\nmoment().format('LT');   // 6:27 PM\nmoment().format('LTS');  // 6:27:51 PM\nmoment().format('L');    // 05/31/2017\nmoment().format('l');    // 5/31/2017\nmoment().format('LL');   // May 31, 2017\nmoment().format('ll');   // May 31, 2017\nmoment().format('LLL');  // May 31, 2017 6:27 PM\nmoment().format('lll');  // May 31, 2017 6:27 PM\nmoment().format('LLLL'); // Wednesday, May 31, 2017 6:27 PM\nmoment().format('llll'); // Wed, May 31, 2017 6:27 PM\n</code></pre>\n\n<p><strong>UPDATE</strong>: Also make sure your moment lib is the one with locale in it:\n<a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">https://momentjs.com/</a> specifies there are two moment libraries, with ( <em>moment-with-locales.js</em> ) and without locale ( <em>moment.js</em> ).</p>\n"}, {"comments": [{"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496250748, "post_id": 44290706, "comment_id": 75588357, "body": "This was actually the way I was importing it initially. It did not work though. When importing only moment, even after setting the locale. If I logged out the global locale immediately afterward it would print out &quot;en&quot; even after trying to set it to &quot;es&quot;"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496258606, "post_id": 44290706, "comment_id": 75592654, "body": "You need to also import each local you want, as shown in the docs.  Unless your running this on Node.js, in which case it will load them asynchronously as you call for them."}, {"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496264709, "post_id": 44290706, "comment_id": 75595648, "body": "I&#39;m still not having any luck, even after replicating what the documentation shows."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496266318, "post_id": 44290706, "comment_id": 75596281, "body": "These <a href=\"http://momentjs.com/docs/#/use-it/typescript/\" rel=\"nofollow noreferrer\">here</a> aren&#39;t working for you?"}, {"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496514895, "post_id": 44290706, "comment_id": 75697260, "body": "They are not, I&#39;ve updated my gist to show an example of how I&#39;m loading it. <a href=\"https://gist.github.com/spstratis/fa853f9750a095d4acd0d1196a285be9\" rel=\"nofollow noreferrer\">gist.github.com/spstratis/fa853f9750a095d4acd0d1196a285be9</a>"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496679353, "post_id": 44290706, "comment_id": 75747375, "body": "I&#39;m not sure from your sample code - are you always calling app.ts before calling date-util.ts?  Also, why not just set the moment global locale from date-util.ts?"}, {"owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "edited": false, "score": 0, "creation_date": 1496687191, "post_id": 44290706, "comment_id": 75751628, "body": "I tried updating the date-util.ts to so that I set the locale there, but moment-timezone still isn&#39;t picking up the locale. Here&#39;s a new example gist <a href=\"https://gist.github.com/spstratis/e1f2d46e0e7e2a9c4c37d13ef33bb195\" rel=\"nofollow noreferrer\">gist.github.com/spstratis/e1f2d46e0e7e2a9c4c37d13ef33bb195</a>"}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 0, "last_activity_date": 1496258639, "last_edit_date": 1496258639, "creation_date": 1496250011, "answer_id": 44290706, "question_id": 44287478, "link": "https://stackoverflow.com/questions/44287478/moment-timezone-is-using-default-locale-after-global-moment-locale-is-set/44290706#44290706", "title": "Moment-Timezone is using default locale after global Moment locale is set", "body": "<p>You are importing moment wrong.  Don't do this:</p>\n\n<pre><code>import * as moment from 'moment/min/moment-with-locales';\n</code></pre>\n\n<p>Just do this:</p>\n\n<pre><code>import * as moment from 'moment';\n</code></pre>\n\n<p>It will load the individual locales as you use them (on Node.js) and you will then be sharing the same moment dependency that moment-timezone uses, so your global locale will carry through.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 10738538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218166793499088/picture?type=large", "display_name": "Jorg&#233; Reyniers", "link": "https://stackoverflow.com/users/10738538/jorg%c3%a9-reyniers"}, "is_accepted": false, "score": 2, "last_activity_date": 1554895865, "creation_date": 1554895865, "answer_id": 55611487, "question_id": 44287478, "link": "https://stackoverflow.com/questions/44287478/moment-timezone-is-using-default-locale-after-global-moment-locale-is-set/55611487#55611487", "title": "Moment-Timezone is using default locale after global Moment locale is set", "body": "<p>I had the same issue in Typescript. I wanted to use moment-timezone to set timezone to Europe/Brussels and set locale to Belgian Dutch and I solved it like this:</p>\n\n<pre><code>import 'moment/locale/nl-be';\nimport * as momentTZ from 'moment-timezone';\nmomentTZ.locale(\"nl-be\");\nmomentTZ.tz.setDefault(\"Europe/Brussels\");\n</code></pre>\n\n<p>Now use momentTZ if you want to use moment in your project, like this f.e.</p>\n\n<pre><code>const exampleDate = momentTZ().format('dddd D MMMM');\n</code></pre>\n"}], "owner": {"reputation": 1885, "user_id": 1211604, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3467e7fbe37fc3da7eacb526cd36aeba?s=128&d=identicon&r=PG", "display_name": "Stavros_S", "link": "https://stackoverflow.com/users/1211604/stavros-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5807, "favorite_count": 1, "accepted_answer_id": 44290706, "answer_count": 3, "score": 3, "last_activity_date": 1570558042, "creation_date": 1496240885, "last_edit_date": 1496249372, "question_id": 44287478, "link": "https://stackoverflow.com/questions/44287478/moment-timezone-is-using-default-locale-after-global-moment-locale-is-set", "title": "Moment-Timezone is using default locale after global Moment locale is set", "body": "<p>I'm building an application written in Typescript which uses features from both Moment.js and moment-timezone. I need the date and timestamps within the application localized so in the main <code>app.ts</code> file I set moment's locale using the language of the device.</p>\n\n<p><strong>UPDATE</strong>: here is a gist of the sample files with additional comments \n<a href=\"https://gist.github.com/spstratis/fa853f9750a095d4acd0d1196a285be9\" rel=\"nofollow noreferrer\">https://gist.github.com/spstratis/fa853f9750a095d4acd0d1196a285be9</a></p>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>import * as moment from 'moment/min/moment-with-locales';\n\nlet language = appUtil.getPhoneLanguage();\n\nmoment.locale(language);\n\n// the expected locale is printed\nconsole.log(\"Moment Locale = \" + moment.locale());\n</code></pre>\n\n<p>The issue is, in this utilities module when I import moment-timezone, it is defaulting to 'en' locale even though I have set moment's locale globally in the main <code>app.ts</code> file. </p>\n\n<p>Below are two of my utility methods, how can I localize the relative date strings and months if moment-timezone is defaulting them to 'en'?</p>\n\n<p>I tried adding the .locale(locale) to the moment methods but that didn't change anything. If I imported moment instead of moment-timezone that worked for some of the methods but failed on any of them which needed to use the timezone utilities. </p>\n\n<p><strong>date-util.ts</strong></p>\n\n<pre><code>import * as moment from 'moment-timezone';\n\nexport function dateRelativeTime(value): string {\n  let timezoneId = appCache.getTimezoneId();\n  let localTime = _getLocalUtcDateString(value, timezoneId);\n  let dateMoment = moment(localTime, \"MM/DD/YYYY hh:mm:ss A\");\n  let formatedDate = dateMoment.tz(timezoneId).fromNow();\n\n  return formatedDate;\n};\n\nexport function localizedMonths(): ValueList {\n  let m = moment(\"2016\");\n  let months = new ValueList([]);\n  for (var i = 0; i &lt; 12; i++) {\n    months.push({ ValueMember: [i + 1], DisplayMember: m.month(i).format('MMMM') });\n  }\n\n  return months;\n};\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-template", "angular2-directives"], "owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496240497, "creation_date": 1496240497, "question_id": 44287327, "link": "https://stackoverflow.com/questions/44287327/how-to-pass-data-to-child-with-ng-content-in-angular-2", "title": "How to pass data to child with ng-content in Angular 2?", "body": "<p>I would like to create a generic component for a <code>table</code>/<code>tr</code>/<code>td</code></p>\n\n<p>So I have this: </p>\n\n<pre><code>            &lt;Datatable [data]=\"results\"&gt;\n                &lt;DatatableColumn [field]=\"name\"&gt;1&lt;/DatatableColumn&gt;\n                &lt;DatatableColumn&gt;2&lt;/DatatableColumn&gt;\n                &lt;DatatableColumn&gt;3&lt;/DatatableColumn&gt;\n                &lt;DatatableColumn&gt;4&lt;/DatatableColumn&gt;\n            &lt;/Datatable&gt;\n</code></pre>\n\n<p>And this: </p>\n\n<pre><code>@Component({\n  selector: 'Datatable',\n  template: `\n    &lt;table&gt;\n        &lt;tr #lineSelected *ngFor=\"let subscription of data\"&gt;\n            &lt;ng-content&gt;&lt;/ng-content&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n  `,\n  })\n  export class DatatableComponent {\n\n      @Input()\n      data: Object;\n\n  }\n</code></pre>\n\n<p>I would like to pass data to <code>ng-content</code> (which it has to display <code>&lt;td&gt;</code>) :</p>\n\n<p>Example : <code>&lt;ng-content [dataRow]=\"subscription\"&gt;&lt;/ng-content&gt;</code></p>\n\n<p>By this way, I could use <code>dataRow</code> in my Child component. Something like <code>dataRow.field</code> </p>\n\n<pre><code> @Component({\n   selector: 'DatatableColumn',\n   template:`\n     &lt;td&gt;\n        dataRow.field\n     &lt;/td&gt;\n   `\n  })\n  export class DatatableColumnComponent {\n      @Input()\n      field: String;\n  }\n</code></pre>\n\n<p>I don't know how to write it. Any help please? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript", "npm", "protocol-buffers"], "comments": [{"owner": {"reputation": 2877, "user_id": 1234433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQSgD.png?s=128&g=1", "display_name": "James Kraus", "link": "https://stackoverflow.com/users/1234433/james-kraus"}, "edited": false, "score": 0, "creation_date": 1496240256, "post_id": 44287155, "comment_id": 75581218, "body": "You need to actually require &#39;google-protobuf&#39;. You should not have gotten a 404 error when requiring it. You should try to focus your effort there."}], "answers": [{"tags": [], "owner": {"reputation": 2492, "user_id": 2194736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/21fbe7eabdda55ee3ab27767ac9b0bfa?s=128&d=identicon&r=PG", "display_name": "Strernd", "link": "https://stackoverflow.com/users/2194736/strernd"}, "is_accepted": true, "score": 0, "last_activity_date": 1496240352, "creation_date": 1496240352, "answer_id": 44287272, "question_id": 44287155, "link": "https://stackoverflow.com/questions/44287155/protobuf-uncaught-reference-error-exports-is-not-defined/44287272#44287272", "title": "Protobuf: Uncaught reference error: exports is not defined", "body": "<p>you are using typescript. Try\n<code>import protobuf = reqquire('google-protobuf')</code></p>\n\n<p>or install the types via <code>npm install @types/google-protobuf'</code> and include it with <code>import * as protobuf from 'google-protobuf'</code></p>\n\n<p>The include in the HTML does not work, because the js files use imports and the dependencies are not resolved.</p>\n\n<p>If you want to use this on the client side, you can finally build your fronted js file with browserify.</p>\n"}, {"tags": [], "owner": {"reputation": 5315, "user_id": 6910253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rK8A7.png?s=128&g=1", "display_name": "Badacadabra", "link": "https://stackoverflow.com/users/6910253/badacadabra"}, "is_accepted": false, "score": 1, "last_activity_date": 1496242429, "creation_date": 1496242429, "answer_id": 44288039, "question_id": 44287155, "link": "https://stackoverflow.com/questions/44287155/protobuf-uncaught-reference-error-exports-is-not-defined/44288039#44288039", "title": "Protobuf: Uncaught reference error: exports is not defined", "body": "<p>First, please make sure you have a proper environment. I suggest you to:</p>\n\n<ol>\n<li>Install and/or update <strong>node</strong></li>\n<li>Install and/or update <strong>ts-node</strong></li>\n</ol>\n\n<p>Then, try the following solutions:</p>\n\n<h2>JavaScript (ES5) + CommonJS</h2>\n\n<pre><code>// test.js\nvar protobuf = require('google-protobuf');\nconsole.log(protobuf);\n</code></pre>\n\n<p>Run the script with <code>node test.js</code>.</p>\n\n<h2>TypeScript + ES6 modules</h2>\n\n<pre><code>// test.ts\nimport * as protobuf from 'google-protobuf';\nconsole.log(protobuf);\n</code></pre>\n\n<p>Run the script with <code>ts-node test.ts</code>.</p>\n\n<p>If you see a regular object in your terminal, congrats! The module is working. But now, if you want to use it in your browser, you will need module loaders/bundlers like <strong>Browserify</strong> or <strong>Webpack</strong>...</p>\n"}], "owner": {"reputation": 195, "user_id": 8027549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OCqos.jpg?s=128&g=1", "display_name": "PawkyPenguin", "link": "https://stackoverflow.com/users/8027549/pawkypenguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 44287272, "answer_count": 2, "score": 3, "last_activity_date": 1496242429, "creation_date": 1496239995, "last_edit_date": 1496240308, "question_id": 44287155, "link": "https://stackoverflow.com/questions/44287155/protobuf-uncaught-reference-error-exports-is-not-defined", "title": "Protobuf: Uncaught reference error: exports is not defined", "body": "<p>I'm trying to get protobuf to run in typescript.</p>\n\n<p>The official Google Documentation says to simply use <code>npm install google-protobuf</code> and then to <code>require('google-protobuf')</code>.</p>\n\n<p>I'm unexperienced with npm, so I ran into several problems there. First of all, <code>require('google-protobuf')</code> returned an error 404, because the file was not found. I instead opted to require the file manually, so I sourced it in my <code>index.html</code>:</p>\n\n<pre><code>&lt;script src=\"node_modules/google-protobuf/google-protobuf.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This <em>should</em> work right?\nWhat instead happens is that I get an <code>Uncaught reference error: exports is not defined</code>. How do I even begin to debug this? I tried to take a look at the google-protobuf.js file and found a few <code>exports</code> statements, but I don't know what I'm expected to do here.</p>\n\n<p>If it helps at all, here is my <code>tsconfig.json</code> file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1496240757, "post_id": 44286990, "comment_id": 75581591, "body": "Break how? What do you mean?"}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1496240828, "post_id": 44286990, "comment_id": 75581658, "body": "Does <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">this part of the documentation</a> help? I am not sure what you mean by &quot;repeating&quot;. You can always use a <code>const</code> and than use the typeof to get the literal type."}, {"owner": {"reputation": 2468, "user_id": 451905, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8b3e542bb98a1ba67d3d7c5394ad6f8?s=128&d=identicon&r=PG", "display_name": "Jeremi Stadler", "link": "https://stackoverflow.com/users/451905/jeremi-stadler"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1496242280, "post_id": 44286990, "comment_id": 75582784, "body": "@NitzanTomer I updated the examples with clarifications"}, {"owner": {"reputation": 2468, "user_id": 451905, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8b3e542bb98a1ba67d3d7c5394ad6f8?s=128&d=identicon&r=PG", "display_name": "Jeremi Stadler", "link": "https://stackoverflow.com/users/451905/jeremi-stadler"}, "reply_to_user": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1496242402, "post_id": 44286990, "comment_id": 75582869, "body": "@SebastianSebald Kind of, but I would still need to create a interface for the type and that would make me repeat the literal string &#39;myLiteralValue&#39; in the interface"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1496242985, "post_id": 44286990, "comment_id": 75583314, "body": "What is your real code like? Obviously, the <code>appType</code> can have more values, and so the literal also has multiple values instead of just one as in your example. Also, your code is fine in playground even when <code>appType</code> is a string, so what exactly is the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 1350, "user_id": 5745899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-ZmzJJm0gnMQ/AAAAAAAAAAI/AAAAAAAAAEE/IzbimpkMbHs/photo.jpg?sz=128", "display_name": "Hoang Hiep", "link": "https://stackoverflow.com/users/5745899/hoang-hiep"}, "is_accepted": false, "score": 1, "last_activity_date": 1496243198, "last_edit_date": 1496243198, "creation_date": 1496242606, "answer_id": 44288107, "question_id": 44286990, "link": "https://stackoverflow.com/questions/44286990/create-literal-without-repeating-in-typescript/44288107#44288107", "title": "Create literal without repeating in typescript", "body": "<p>You can use <code>readonly</code> modifier to declare constant properties (in this case, a literal property).</p>\n\n<pre><code>class Settings {\n    constructor(public id: any) { }\n    readonly appType: \"myLiteralValue\";\n}\n\nconst createSettings = (id: any) =&gt; new Settings(id);\n</code></pre>\n"}], "owner": {"reputation": 2468, "user_id": 451905, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8b3e542bb98a1ba67d3d7c5394ad6f8?s=128&d=identicon&r=PG", "display_name": "Jeremi Stadler", "link": "https://stackoverflow.com/users/451905/jeremi-stadler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496243198, "creation_date": 1496239556, "last_edit_date": 1496242226, "question_id": 44286990, "link": "https://stackoverflow.com/questions/44286990/create-literal-without-repeating-in-typescript", "title": "Create literal without repeating in typescript", "body": "<p>How can I create a readonly object with a literal type without repeating the value.</p>\n\n<p>Working example with <em>'myLiteralValue'</em> explicitly typed:</p>\n\n<pre><code>const createSettings = () =&gt; ({ appType: 'myLiteralValue' as 'myLiteralValue' });\n\nswitch (createSettings().appType) {\n  case 'myLiteralValue':\n    break;\n}\n</code></pre>\n\n<p>The type gets widened to <em>string</em> if I don't explicitly type it and that would make the switch  if I removed the repeated 'myLiteralValue'</p>\n\n<pre><code>const createSettings = () =&gt; ({ appType: 'myLiteralValue' });\n\nswitch (createSettings().appType) {\n  case 'myLiteralValue':\n    break;\n}\n</code></pre>\n\n<p>While breaking out the <em>appType</em> into a const still repeats but in a different way:</p>\n\n<pre><code>const myLiteralValue = 'myLiteralValue';\nconst createSettings = () =&gt; ({ appType: myLiteralValue });\n\nswitch (createSettings().appType) {\n  case 'myLiteralValue':\n    break;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "requirejs", "relative-path"], "comments": [{"owner": {"reputation": 4237, "user_id": 1273604, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KFkwa.jpg?s=128&g=1", "display_name": "Sandeep Nayak", "link": "https://stackoverflow.com/users/1273604/sandeep-nayak"}, "edited": false, "score": 0, "creation_date": 1496243568, "post_id": 44286834, "comment_id": 75583729, "body": "I do not see <code>js</code> folder in your project structure. Is that an omission?"}, {"owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "reply_to_user": {"reputation": 4237, "user_id": 1273604, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KFkwa.jpg?s=128&g=1", "display_name": "Sandeep Nayak", "link": "https://stackoverflow.com/users/1273604/sandeep-nayak"}, "edited": false, "score": 0, "creation_date": 1496243673, "post_id": 44286834, "comment_id": 75583809, "body": "@SandeepNayak yes it is...I have updated the project structure"}], "answers": [{"tags": [], "owner": {"reputation": 4237, "user_id": 1273604, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KFkwa.jpg?s=128&g=1", "display_name": "Sandeep Nayak", "link": "https://stackoverflow.com/users/1273604/sandeep-nayak"}, "is_accepted": false, "score": 0, "last_activity_date": 1496244036, "creation_date": 1496244036, "answer_id": 44288677, "question_id": 44286834, "link": "https://stackoverflow.com/questions/44286834/relative-path-not-working-requirejs/44288677#44288677", "title": "Relative Path not working RequireJS", "body": "<p>As per the <a href=\"http://requirejs.org/docs/api.html#jsfiles\" rel=\"nofollow noreferrer\">docs</a>, it says </p>\n\n<blockquote>\n  <p>The baseUrl is normally set to the same directory as the script used in a data-main attribute ..</p>\n</blockquote>\n\n<p>So your <code>baseUrl</code> is <code>main</code> folder and the <code>lib</code> is at the same level.</p>\n\n<p>Hence use <code>lib/CCSEQ.WebAPI.js</code> in the bundle</p>\n"}], "owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 555, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496244036, "creation_date": 1496239173, "last_edit_date": 1496243656, "question_id": 44286834, "link": "https://stackoverflow.com/questions/44286834/relative-path-not-working-requirejs", "title": "Relative Path not working RequireJS", "body": "<p>I am trying to use RequireJS to include <code>CCSEQ.WebAPI.js</code> in my <code>ExpenseUpload.js</code> file.  According to <a href=\"http://requirejs.org/docs/api.html\" rel=\"nofollow noreferrer\">RequireJS Documentation</a> The base URL for RequireJS is the <code>data-main</code> folder specified in the html file (<code>WebResources/js/main</code> in my case).  However, I have been unable to include the <code>CCSEQ.WebAPI.js</code> file despite trying a variety of different relative path combinations.  </p>\n\n<p>I have tried starting my relative path with <code>/../</code>, specifying a <code>baseURL</code> in the config, and moving my <code>CCSEQ.WebAPI.js</code> file to different places in the folder structure without success.</p>\n\n<p>Does anyone see a mistake I am making here?</p>\n\n<h2>Error</h2>\n\n<p><a href=\"https://i.stack.imgur.com/54wTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54wTR.png\" alt=\"Error Message - Chrome Developer Tools\"></a></p>\n\n<h2>Project Structure</h2>\n\n<pre><code>- WebResources\n  - js\n    - html\n      - ExpenseUpload.html\n    - lib\n      - CCSEQ.WebAPI.js\n    - main\n      - ExpenseUpload.js\n</code></pre>\n\n<h2>ExpenseUpload.html</h2>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\" ng-app=\"expenseUploadApp\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;Expense Upload&lt;/title&gt;\n    &lt;link rel=\"icon\" href=\"data:;base64,iVBORwOKGO=\" /&gt;\n    &lt;link href=\"../css/ExpenseUpload.css\" rel=\"stylesheet\" /&gt;\n\n&lt;/head&gt;\n&lt;body ng-controller=\"DisplayCtrl\"&gt;\n    &lt;h1&gt;Expense Upload&lt;/h1&gt;\n\n    &lt;form&gt;\n\n        &lt;label&gt;Month:&lt;/label&gt;\n        &lt;select ng-model=\"selectedMonth\" ng-options=\"x for x in months\"&gt;\n\n        &lt;/select&gt; \n        &lt;label&gt;Year:&lt;/label&gt;\n        &lt;select ng-model=\"selectedYear\" ng-options=\"y for y in years\"&gt;\n        &lt;/select&gt;&lt;br/&gt;\n        &lt;input type=\"file\" id=\"csv-file\" name=\"files\" /&gt;\n    &lt;/form&gt;\n\n    &lt;script src=\"../../Scripts/jquery-3.1.1.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Scripts/papaparse.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Scripts/angular.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../js/modules/ExpenseUploadModule.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../js/controllers/ExpenseUploadController.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Scripts/require.js\" data-main=\"../js/main/ExpenseUpload.js\"&gt;&lt;/script&gt;\n    &lt;!--&lt;img id=\"loading\" src=\"../../Images/loading.gif\" /&gt;--&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h2>ExpenseUpload.js</h2>\n\n<pre><code>requirejs.config({\n    bundles: {\n        '../lib/CCSEQ.WebAPI.js': ['Model/ExpenseTransaction', 'Model/ExpenseTransactionSet', 'API/ExpenseTransaction', 'API/ExpenseTransactionSet']\n    }\n});\n\nrequire([\"Model/ExpenseTransaction\", \"Model/ExpenseTransactionSet\", \"API/ExpenseTransaction\", \"API/ExpenseTransactionSet\"], function (ExpenseTransactionModel, ExpenseTransactionSetModel, ExpenseTransactionAPI, ExpenseTransactionSetAPI) {\n    // Code Here\n});\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "binding"], "comments": [{"owner": {"reputation": 757, "user_id": 1693522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/86baf728ad98ceea99e5f44031d52fe6?s=128&d=identicon&r=PG", "display_name": "Sameer K", "link": "https://stackoverflow.com/users/1693522/sameer-k"}, "edited": false, "score": 1, "creation_date": 1496239397, "post_id": 44286631, "comment_id": 75580550, "body": "In the root component.html  code, <code>hideMePartially</code> is not passed to <code>&lt;my-dailyreport&gt;&lt;&#47;my-dailyreport&gt;</code> as <code>input</code>."}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "reply_to_user": {"reputation": 757, "user_id": 1693522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/86baf728ad98ceea99e5f44031d52fe6?s=128&d=identicon&r=PG", "display_name": "Sameer K", "link": "https://stackoverflow.com/users/1693522/sameer-k"}, "edited": false, "score": 0, "creation_date": 1496239829, "post_id": 44286631, "comment_id": 75580892, "body": "@SameerK thanks that&#39;s right I forget to put it in my code"}], "answers": [{"comments": [{"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496239866, "post_id": 44286863, "comment_id": 75580915, "body": "many thanks for your help I&#39;ll try this out then let you know"}, {"owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "reply_to_user": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496240300, "post_id": 44286863, "comment_id": 75581244, "body": "No problem, let me know how it goes"}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496240392, "post_id": 44286863, "comment_id": 75581313, "body": "the thing is I would like the [hidden] benn call also by the same button as  &lt;button pButton class=&quot;daydetail&quot; type=&quot;button&quot; icon=&quot;fa-chevron-up&quot; label=&quot;Click&quot;(click)=&quot;toggleChild()&quot;&gt;&lt;/button&gt; comming from the root component"}, {"owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "reply_to_user": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 1, "creation_date": 1496240780, "post_id": 44286863, "comment_id": 75581614, "body": "From what I&#39;ve understand so far, you should check how communication between components works. You just have to manage to send the displayDetail variable from root component to child component. Rest should be simple, just follow the logic from my answer."}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496240834, "post_id": 44286863, "comment_id": 75581662, "body": "or maybe should I add another input in my child component nor an output to know when the first child is clicked then hidden the second?"}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496243464, "post_id": 44286863, "comment_id": 75583667, "body": "I try this out and I think I implement your solution correctly (with the css) but when I open the root component by the click I still see some of the hidden div behind my div comming from the root (it delete some few pieces of the text)"}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496243948, "post_id": 44286863, "comment_id": 75584028, "body": "I did some more testing and in fact the hidden works ! it delete the text and so on from the child but when the div comming from the root component is display on it&#39;s like the border from the child div are still visible..I would like to post a picture but I don&#39; know how to do that in a comment"}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496244129, "post_id": 44286863, "comment_id": 75584174, "body": "Maybe the z-index css?"}, {"owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496244507, "post_id": 44286863, "comment_id": 75584422, "body": "Many many thanks for all I found the way to make it disapear it was about the css absolute position"}, {"owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "reply_to_user": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "edited": false, "score": 0, "creation_date": 1496251155, "post_id": 44286863, "comment_id": 75588584, "body": "No problem, I&#39;m glad I helped"}], "tags": [], "owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "is_accepted": true, "score": 1, "last_activity_date": 1496239233, "creation_date": 1496239233, "answer_id": 44286863, "question_id": 44286631, "link": "https://stackoverflow.com/questions/44286631/click-event-hide-2-components-angular-4/44286863#44286863", "title": "Click event hide 2 components Angular 4", "body": "<p>First of all, *ngIf will not hide / show the component. It will add / remove it. There's a difference. To hide component you should use <code>[hidden]=\"true/false\"</code></p>\n\n<p>In your case you could do something like:</p>\n\n<pre><code>&lt;div [hidden]=\"displayDetail\" class=\"daydetail2\" &gt; \n</code></pre>\n\n<p>And then just create <strong>displayDetail</strong> variable of type boolean in your component typescript. </p>\n\n<p>After that, you can easily create toggle method to set the <strong>displayDetail</strong> to true or false.</p>\n\n<pre><code>toggleDisplay(){\n  this.displayDetail != this.displayDetail;\n}\n</code></pre>\n\n<p>You can invoke that method in template.</p>\n\n<pre><code>&lt;button (click)=\"toggleDisplay();\"&gt; Toggle Button &lt;/button&gt;\n</code></pre>\n\n<p><strong>NOTE:</strong> the CSS for [hidden] could be overwritten so you might want to add this to your component CSS</p>\n\n<pre><code>[hidden] { display: none !important;}\n</code></pre>\n"}], "owner": {"reputation": 1425, "user_id": 6018581, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/peLsF.png?s=128&g=1", "display_name": "Emile Cantero", "link": "https://stackoverflow.com/users/6018581/emile-cantero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 44286863, "answer_count": 1, "score": 0, "last_activity_date": 1571730232, "creation_date": 1496238669, "last_edit_date": 1571730232, "question_id": 44286631, "link": "https://stackoverflow.com/questions/44286631/click-event-hide-2-components-angular-4", "title": "Click event hide 2 components Angular 4", "body": "<p>I've 1 root component with 3 sub-componenet where I put some @input to get the click event who's call them successfully to the view, so when I click on the root I want to open a sub-component (that's work fine) but in the same time I would like the two others disappear from the view and so on for each one but separately (kind of div.hidden)...if you need more code or explanations don't hesitate....thanks in advance</p>\n\n<p>Here's my root component.html:</p>\n\n<pre><code>    &lt;div class=\"daydetail\"&gt;\n    &lt;h1&gt;Detail of day&lt;/h1&gt;\n &lt;button pButton class=\"daydetail\" type=\"button\" icon=\"fa-chevron-up\" label=\"Click\"(click)=\"toggleChild()\"&gt;&lt;/button&gt;\n     &lt;div&gt;\n         &lt;my-daydetail [showMePartially]=\"showVar\"&gt;&lt;/my-daydetail&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"dailyreport\"&gt;\n    &lt;h1&gt;Daily&lt;/h1&gt;\n    &lt;my-dailyreport&gt;&lt;/my-dailyreport&gt;\n&lt;/div&gt; \n\n&lt;div class=\"inventory\"&gt;\n    &lt;my-inventory&gt;&lt;/my-inventory&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p>Here's my root component.ts:</p>\n\n<pre><code>export class AppliV2Component   {\n   showVar = false;\n   hideVar = true;\n\n  constructor(public userService: UserService) {\n    }\n   toggleChild() {\n       this.showVar = !this.showVar;\n       this.hideVar = !this.hideVar;\n       }\n}\n</code></pre>\n\n<p>First child.html:</p>\n\n<pre><code>&lt;div *ngIf=\"hideMePartially\" class=\"dailyreport\"&gt;\n     &lt;h1&gt;Daily report&lt;/h1&gt;\n&lt;/div&gt; &lt;!-- Fin de dailyreport --&gt;\n</code></pre>\n\n<p>First child.ts:</p>\n\n<pre><code>export class MyDailyreportComponent implements OnInit {\n\n\n @Input() hideMePartially: boolean;\n  constructor() { }\n</code></pre>\n\n<p>Second child.html:</p>\n\n<pre><code>&lt;div *ngIf=\"showMePartially\" class=\"daydetail2\" &gt; &lt;!-- this part will be toggled by the parent component button  --&gt;\n\n\n&lt;h1&gt;Informations&lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Second child.ts:</p>\n\n<pre><code>  export class MyInventoryComponent implements OnInit {\n      @Input() hideMePartially: boolean;\n</code></pre>\n"}, {"tags": ["angular", "date", "typescript", "date-fns"], "answers": [{"comments": [{"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1496240072, "post_id": 44286828, "comment_id": 75581074, "body": "What if I want a format of <code>2017-05-05 14:00</code> for example?"}, {"owner": {"reputation": 3522, "user_id": 4964791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVT1l.jpg?s=128&g=1", "display_name": "RamblinRose", "link": "https://stackoverflow.com/users/4964791/ramblinrose"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1496240494, "post_id": 44286828, "comment_id": 75581389, "body": "I assumed you&#39;re using date-fns to support locale-specific formatting.  If that&#39;s not the case, then simply use the Date.getUTC* functions and assemble the resulting string as needed."}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1496327726, "post_id": 44286828, "comment_id": 75626250, "body": "Can you share a complete example? I&#39;m stuck on this. I need to be able to pass the format as <code>yyyy-MM-dd hh:mm</code> for example. I don&#39;t care how the date is formatted as long as you can pass a format you want."}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1496328267, "post_id": 44286828, "comment_id": 75626712, "body": "Managed to solve it by using <code>subHours</code> of the <code>date-fns</code> lib."}], "tags": [], "owner": {"reputation": 3522, "user_id": 4964791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVT1l.jpg?s=128&g=1", "display_name": "RamblinRose", "link": "https://stackoverflow.com/users/4964791/ramblinrose"}, "is_accepted": false, "score": 2, "last_activity_date": 1496239155, "creation_date": 1496239155, "answer_id": 44286828, "question_id": 44286495, "link": "https://stackoverflow.com/questions/44286495/angular-how-to-exclude-timezone-hours-from-formatted-date-in-a-date-pipe/44286828#44286828", "title": "Angular - How to exclude timezone hours from formatted date in a date pipe?", "body": "<p><a href=\"https://date-fns.org/\" rel=\"nofollow noreferrer\">date-fns</a> is very clear that </p>\n\n<blockquote>\n  <p>It always returns a date in the local timezone, no matter what you passed: a timestamp, a string or a date object.</p>\n</blockquote>\n\n<p>If I understand your question correctly you do not want that behavior.  Instead, try using the <strong>options</strong> parameter provided by the Date.toLocaleString function, for example</p>\n\n<pre><code>var date = new Date(),\n  options = {\n    timeZone: 'UTC',\n    timeZoneName: 'short'\n  },\n  str = date.toLocaleString('en-US', options);\n  // str format like \"5/31/2017, 1:55:21 PM GMT\"\n</code></pre>\n\n<p>You have total control over the formatting - here's the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\" rel=\"nofollow noreferrer\">MDN document</a>.</p>\n"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2470, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496239155, "creation_date": 1496238270, "question_id": 44286495, "link": "https://stackoverflow.com/questions/44286495/angular-how-to-exclude-timezone-hours-from-formatted-date-in-a-date-pipe", "title": "Angular - How to exclude timezone hours from formatted date in a date pipe?", "body": "<p>I'm trying to format a date but I keep coming across the issue that the timezone is added to the time whenever I format it. When calling <code>.toUTCString()</code> it works but that will give me a format I don't want. So I want to call <code>.toUTCString()</code> and then format the date. But then the timezone is back.</p>\n\n<p>I'm using the <code>date-fns</code> framework but maybe this can be achieved with just javascript date functions?</p>\n\n<p>How can I format a date and avoid adding extra hours to the date since the GMT is +2? For <code>10:00</code> I get <code>12:00</code> for example.</p>\n\n<pre><code>@Pipe({\n  name: 'exactDate'\n})\n\nexport class ExactDatePipe implements PipeTransform {\n\n  transform(value: string, args: string) {\n\n    const parsedDate: string = datefns.format(new Date(value).toUTCString(), args);\n\n    return parsedDate;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 10210, "user_id": 1251861, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/b7Asj.jpg?s=128&g=1", "display_name": "Deblaton Jean-Philippe", "link": "https://stackoverflow.com/users/1251861/deblaton-jean-philippe"}, "is_accepted": false, "score": 10, "last_activity_date": 1496239499, "creation_date": 1496239499, "answer_id": 44286971, "question_id": 44286483, "link": "https://stackoverflow.com/questions/44286483/how-to-trigger-change-detection-when-array-object-is-modified/44286971#44286971", "title": "How to trigger change detection when array object is modified?", "body": "<p>I solve it by destructuring the array. I'm not sure it's the best way to do it.</p>\n\n<pre><code>this.persons = [...this.persons];\n</code></pre>\n\n<p>As far as it will change the reference of the array, angular will notice that the array has been updated.</p>\n"}, {"comments": [{"owner": {"reputation": 10210, "user_id": 1251861, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/b7Asj.jpg?s=128&g=1", "display_name": "Deblaton Jean-Philippe", "link": "https://stackoverflow.com/users/1251861/deblaton-jean-philippe"}, "edited": false, "score": 0, "creation_date": 1496239825, "post_id": 44286995, "comment_id": 75580888, "body": "won&#39;t it force angular to re-render the view after each change detection?"}, {"owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "reply_to_user": {"reputation": 10210, "user_id": 1251861, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/b7Asj.jpg?s=128&g=1", "display_name": "Deblaton Jean-Philippe", "link": "https://stackoverflow.com/users/1251861/deblaton-jean-philippe"}, "edited": false, "score": 0, "creation_date": 1496240200, "post_id": 44286995, "comment_id": 75581169, "body": "Yes, all components that use a the persons object from the persons service would be updated. Why would you not want to change your view if the object(state) of your application has changed? If it didn`t re-render you would be showing false information. Or a past state."}, {"owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "reply_to_user": {"reputation": 10210, "user_id": 1251861, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/b7Asj.jpg?s=128&g=1", "display_name": "Deblaton Jean-Philippe", "link": "https://stackoverflow.com/users/1251861/deblaton-jean-philippe"}, "edited": false, "score": 1, "creation_date": 1496240313, "post_id": 44286995, "comment_id": 75581254, "body": "Depending on the size of your application you may consider using ngrx."}], "tags": [], "owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "is_accepted": false, "score": 4, "last_activity_date": 1510913965, "last_edit_date": 1510913965, "creation_date": 1496239567, "answer_id": 44286995, "question_id": 44286483, "link": "https://stackoverflow.com/questions/44286483/how-to-trigger-change-detection-when-array-object-is-modified/44286995#44286995", "title": "How to trigger change detection when array object is modified?", "body": "<p>The best way to achieve this is to have a behavior subject in a service and accesss it in you component.</p>\n\n<p>So your service class may look like this</p>\n\n<pre><code>@Injectable()\nexport class PersonService {\n\nprivate persons=  new BehaviorSubject&lt;any[]&gt;([]);\npublic persons$ = this.persons.asObservable();//--&gt; You can access this in your component\n\nconstructor() {\n   //set the persons array here;\n}\n\nfunction deleteCar()//todo  \n\n}\n</code></pre>\n\n<p>On the component </p>\n\n<pre><code>constructor(private personService: PersonService) {\n\n}\n\n\n\nngOnInit() {\n    this.persons= this.personService.persons$//Dont forget to do add the assync pipe or subscribe\n}\n\ndelete(car){\n    this.personService.deleteCar(car);\n}\n</code></pre>\n\n<p>This Should work.</p>\n\n<p>More info in -> <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service</a></p>\n"}], "owner": {"reputation": 8679, "user_id": 1845893, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/xr3hP.jpg?s=128&g=1", "display_name": "gog", "link": "https://stackoverflow.com/users/1845893/gog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3004, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1617885785, "creation_date": 1496238241, "last_edit_date": 1617885785, "question_id": 44286483, "link": "https://stackoverflow.com/questions/44286483/how-to-trigger-change-detection-when-array-object-is-modified", "title": "How to trigger change detection when array object is modified?", "body": "<p>In my angular4 app i have a component with a *ngFor directive based in a array:</p>\n\n<pre><code> &lt;div *ngFor=\"let person of persons\"&gt;\n   {{person.name}}\n   {{person.car}}\n &lt;/div&gt;\n</code></pre>\n\n<p>In the other part of the component im able to delete a car, so in the subscribe of the <code>deleteCar()</code> method i update the <code>persons</code> array to:</p>\n\n<pre><code> deleteCar(car) {\n   this.carService.deleteCar(car).subscribe(() =&gt;  {\n   this.persons.filter(obj =&gt; obj.car == car.name)\n               .forEach(i =&gt; i.car = null);\n   }\n }\n</code></pre>\n\n<p>The problem is that the *ngFor loop is not triggered when i modify a existing person object in the persons array. How to solve this?</p>\n"}, {"tags": ["typescript", "twitter", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 8047268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoV2C.png?s=128&g=1", "display_name": "D_Loki", "link": "https://stackoverflow.com/users/8047268/d-loki"}, "is_accepted": true, "score": 1, "last_activity_date": 1506691107, "creation_date": 1506691107, "answer_id": 46489678, "question_id": 44286408, "link": "https://stackoverflow.com/questions/44286408/ionic-2-twitter-embedded-timeline-disappears/46489678#46489678", "title": "Ionic 2 twitter embedded timeline disappears", "body": "<p>Replace ngAfterViewInit with this one</p>\n\n<pre><code>!function(d,s,id){\n        var js: any,\n            fjs=d.getElementsByTagName(s)[0],\n            p='https';\n            js=d.createElement(s);\n            js.id=id;\n            js.src=p+\"://platform.twitter.com/widgets.js\";\n            fjs.parentNode.insertBefore(js,fjs);\n    }\n    (document,\"script\",\"twitter-wjs\");\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 8047268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoV2C.png?s=128&g=1", "display_name": "D_Loki", "link": "https://stackoverflow.com/users/8047268/d-loki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 1, "accepted_answer_id": 46489678, "answer_count": 1, "score": 1, "last_activity_date": 1506691107, "creation_date": 1496238048, "question_id": 44286408, "link": "https://stackoverflow.com/questions/44286408/ionic-2-twitter-embedded-timeline-disappears", "title": "Ionic 2 twitter embedded timeline disappears", "body": "<p><strong>I have the code shown below, however after the user leaves the view the time line disappears?</strong></p>\n\n<p>The first time we go to the view the timeline is present but when we return the view disappears.</p>\n\n<p>Here is my code</p>\n\n<blockquote>\n  <p>In Index.html</p>\n</blockquote>\n\n<pre><code>  &lt;!-- Timeline Twitter --&gt;\n  &lt;script src=\"http://platform.twitter.com/widgets.js\"&gt;&lt;/script&gt;   \n\n  &lt;!-- cordova.js required for cordova apps --&gt;\n  &lt;script src=\"cordova.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<blockquote>\n  <p>In Twitter.html</p>\n</blockquote>\n\n<pre><code>&lt;ion-content&gt;\n    &lt;ion-grid &gt;\n        &lt;ion-row&gt;\n            &lt;!--Timeline Twitter --&gt;\n            &lt;a id=\"twitter\" class=\"twitter-timeline\"\n               data-tweet-limit=\"10\"\n               data-chrome=\"noscrollbar nofooter\"\n               href=\"https://twitter.com/UnivLaRochelle\"&gt;Tweet de L'universit\u00e9 de la Rochelle&lt;/a&gt;\n        &lt;/ion-row&gt;\n    &lt;/ion-grid&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<blockquote>\n  <p>In Twitter.ts</p>\n</blockquote>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n    selector: 'page-twitter',\n    templateUrl: 'twitter.html',\n})\nexport class twitterPage {\n\n    constructor(public navCtrl: NavController) {\n\n    }\n    ngAfterViewInit() {\n        !function(d,s,id){\n            var js: any,\n                fjs=d.getElementsByTagName(s)[0],\n                p='https';\n            if(!d.getElementById(id)){\n                js=d.createElement(s);\n                js.id=id;\n                js.src=p+\"://platform.twitter.com/widgets.js\";\n                fjs.parentNode.insertBefore(js,fjs);\n            }\n        }\n        (document,\"script\",\"twitter-wjs\");\n    }\n}\n</code></pre>\n\n<p>I tried several ways but I have not found any solution, can someone help me?</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "storage"], "answers": [{"comments": [{"owner": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "edited": false, "score": 0, "creation_date": 1496244755, "post_id": 44286299, "comment_id": 75584588, "body": "Could you give more clarification and explanation to make this a higher quality answer?"}, {"owner": {"reputation": 343, "user_id": 7426252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf25b1480824d58d982088ef5d573e96?s=128&d=identicon&r=PG&f=1", "display_name": "HarryJs", "link": "https://stackoverflow.com/users/7426252/harryjs"}, "reply_to_user": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "edited": false, "score": 0, "creation_date": 1496249494, "post_id": 44286299, "comment_id": 75587568, "body": "I have edited my answer for better explanation. Please check."}], "tags": [], "owner": {"reputation": 343, "user_id": 7426252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf25b1480824d58d982088ef5d573e96?s=128&d=identicon&r=PG&f=1", "display_name": "HarryJs", "link": "https://stackoverflow.com/users/7426252/harryjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1496249405, "last_edit_date": 1496249405, "creation_date": 1496237715, "answer_id": 44286299, "question_id": 44286200, "link": "https://stackoverflow.com/questions/44286200/angular-2-how-do-i-edit-an-element-name/44286299#44286299", "title": "Angular 2 How do I edit an element name?", "body": "<pre><code>// Give a reference to your element\n&lt;input #myName&gt;\n@ViewChild('myName') input; \nngAfterViewInit() {\n  console.log(this.input.nativeElement.value);\n}\n</code></pre>\n\n<p>Here we are giving a local reference (#myname) to our input DOM element so that we can access it in ts file. The ViewChild decorator is available in package @Angular/core. It takes a class type or a reference name string. Here we are giving reference name string for variable input. ngAfterViewInit()  is a life cycle hook in Angular which is invoked after view is initialized. In this lifecycle hook we will be able to access input element (since it has been initialized) and all of its properties.</p>\n"}], "owner": {"reputation": 33, "user_id": 8066556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d93e8f40228f811e0e5bd26323a436a7?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Sabler", "link": "https://stackoverflow.com/users/8066556/igor-sabler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496249405, "creation_date": 1496237441, "question_id": 44286200, "link": "https://stackoverflow.com/questions/44286200/angular-2-how-do-i-edit-an-element-name", "title": "Angular 2 How do I edit an element name?", "body": "<p>I'm already confused ... I want to create the ability to edit the name of an element by clicking on the button. All elements are stored in Storage. How it can be done in my case.</p>\n\n<p>file home.html</p>\n\n<pre><code>&lt;ion-list&gt;\n\n&lt;ion-item *ngFor=\"let place of places ; let i  = index\" (click)=\"onOpenPlace(place)\"&gt;\n  &lt;p class=\"list_geo\"&gt; {{ place.title }}&lt;/p&gt;\n  &lt;ion-buttons end&gt;\n  &lt;button ion-button color=\"danger\" (click)=\"deletePlace(i)\"&gt;Delete&lt;/button&gt;\n\n  &lt;!-- ************* EDIT ****** does not work ************* --&gt;\n  &lt;button ion-button class=\"button button-positive\" (click)=\"showEditModalPlace(i)\"&gt;&lt;ion-icon name=\"create\"&gt;&lt;/ion-\n    icon&gt;_Edit&lt;/button&gt;\n  &lt;!-- ************* EDIT ****** does not work ************* --&gt;\n\n &lt;/ion-buttons&gt; \n&lt;/ion-item&gt;\n</code></pre>\n\n<p></p>\n\n<p>file home.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\nimport { ModalController, NavController } from 'ionic-angular';\nimport { NewPlacePage } from \"../new-place/new-place\";\nimport { PlacePage } from \"../place/place\";\nimport { PlacesService } from \"../../services/places.service\";\nimport { Place } from \"../../model/place.model\";\nimport { EditPlacePage } from '../edit-place/edit-place';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n // places: {title: string}[] = [];\n  private places: Place[] = [];\n\n  constructor(\n    private storage: Storage,\n    public navCtrl: NavController,\n    private placesService: PlacesService,\n    private modalCtrl: ModalController) {\n\n  }\n\n  ionViewWillEnter() {\n    this.placesService.getPlaces()\n      .then(\n        (places) =&gt; this.places = places\n      );\n  }\n\n &lt;!-- ************* EDIT ****** does not work ************* --&gt;\n\n                  // Modal window EditPlacePage\n\nshowEditModalPlace(i) {\n    console.log(i);\n    this.modalCtrl.create(EditPlacePage).present();\n  }\n &lt;!-- ************* EDIT ****** does not work ************* --&gt;\n\n}\n</code></pre>\n\n<p>file edit-place.html</p>\n\n<pre><code>&lt;form (submit)=\"UpdatePlace(f.value)\" #f=\"ngForm\"&gt;\n    &lt;ion-item&gt;\n      &lt;ion-label&gt;Edit&lt;/ion-label&gt;\n      &lt;ion-input type=\"text\" name=\"activetitle\" [(ngModel)]=\"activetitle\" required (change)=\"placeChange(i)\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n    &lt;button ion-button block type=\"submit\" [disabled]=\"!f.valid\"&gt;Edit Place&lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>file edit-place.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ViewController } from 'ionic-angular';\n  import { Place } from \"../../model/place.model\";\n  import { PlacesService } from \"../../services/places.service\";\n  import { Router, ActivatedRouter, Params} from '@angular/router';\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-place',\n  templateUrl: 'edit-place.html',\n})\nexport class EditPlacePage {\n    private places: Place[] = [];\n        activetitle: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private viewCtrl: ViewController, private placesService: PlacesService) {\n  }\n\n\n/***************************** EDIT  **********************/\n\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "logging", "azure-pipelines", "azure-pipelines-build-task"], "answers": [{"tags": [], "owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1496335012, "creation_date": 1496335012, "answer_id": 44312928, "question_id": 44286090, "link": "https://stackoverflow.com/questions/44286090/log-variable-as-asterisks-in-vsts-extension/44312928#44312928", "title": "Log variable as asterisks in VSTS Extension", "body": "<p>Try to use <code>##vso[task.setvariable]value</code> <a href=\"https://github.com/Microsoft/vsts-tasks/blob/master/docs/authoring/commands.md\" rel=\"nofollow noreferrer\">logging command</a></p>\n\n<blockquote>\n  <p>Sets a variable in the variable service of taskcontext. The first task\n  can set a variable, and following tasks are able to use the variable.\n  The variable is exposed to the following tasks as an environment\n  variable. When issecret is set to true, the value of the variable will\n  be saved as secret and masked out from log. Secret variables are not\n  passed into tasks as environment variables and must be passed as\n  inputs.</p>\n</blockquote>\n\n<p>Examples: </p>\n\n<pre><code>##vso[task.setvariable variable=testvar;]testvalue\n##vso[task.setvariable variable=testvar;issecret=true;]testvalue\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 2344023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eca5a47b78db2bf5c10bd1154c1b047?s=128&d=identicon&r=PG", "display_name": "Roesmi", "link": "https://stackoverflow.com/users/2344023/roesmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496335012, "creation_date": 1496237167, "question_id": 44286090, "link": "https://stackoverflow.com/questions/44286090/log-variable-as-asterisks-in-vsts-extension", "title": "Log variable as asterisks in VSTS Extension", "body": "<p>I am writing a VSTS extension using Typescript.</p>\n\n<p>In vsts-task-lib I am using the function execSync which prints the executed command. Till here it's alright.</p>\n\n<p>The issue is that in this command I am using a token that I obtain using a service, and I want the token to be printed as ********* instead of his real value.</p>\n\n<p>If I use a token provided as a password field, it is print as asterisks by default.</p>\n\n<p>Is there a way that I can do it with the token obtained by a service?</p>\n\n<p>Some idea of how to create a \"secret\" variable in Typescript? If by default the password fields are print as asterisks there has to be some property or workaround for it.</p>\n"}, {"tags": ["angular", "typescript", "ng-style"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7426734"}, "edited": false, "score": 0, "creation_date": 1496239082, "post_id": 44286070, "comment_id": 75580324, "body": "this is angular2"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1496239115, "post_id": 44286070, "comment_id": 75580355, "body": "you tagged angular"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7426734"}, "edited": false, "score": 0, "creation_date": 1496239126, "post_id": 44286070, "comment_id": 75580368, "body": "angular is angular2"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1496240156, "post_id": 44286070, "comment_id": 75581130, "body": "was this in a loop?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7426734"}, "edited": false, "score": 0, "creation_date": 1496240489, "post_id": 44286070, "comment_id": 75581386, "body": "according to your sample where is the event coming from? your answering is totally deviating"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1496240596, "post_id": 44286070, "comment_id": 75581465, "body": "you should have event variable in your component itself, or <code>this.event</code>"}], "tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": true, "score": 1, "last_activity_date": 1496240556, "last_edit_date": 1496240556, "creation_date": 1496237106, "answer_id": 44286070, "question_id": 44285934, "link": "https://stackoverflow.com/questions/44285934/binding-variable-binds-as-null-when-bind-using-ngstyle/44286070#44286070", "title": "Binding variable binds as null when bind using ngStyle", "body": "<p>URL with spaces will not get interpreted directly,\nTry this,</p>\n\n<p><code>&lt;div  class=\"artist-banner fluid-banner-wrapper\" [ngStyle]=\"alertStyles\"&gt;</code></p>\n\n<p>In component,</p>\n\n<pre><code>alertStyles = {\n        'background-image':  'url(../imgs/banner/' + this.event?.category.replace(\" \", \"%20\") + '.jpg)'\n      };\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@Component({\n  selector: 'app-style-example',\n  template: `\n    &lt;div  class=\"artist-banner fluid-banner-wrapper\" [ngStyle]=\"alertStyles\"&gt;\n  `\n})\nexport class StyleExampleComponent {\n\n  alertStyles = {\n    'background-image':  'url(../imgs/banner/' + this.event?.category.replace(\" \", \"%20\") + '.jpg)'\n  };\n}\n</code></pre>\n\n<p>Edit: If yor are looping the event, you should pass event parameter</p>\n\n<pre><code>   @Component({\n      selector: 'app-style-example',\n      template: `\n        &lt;div  class=\"artist-banner fluid-banner-wrapper\" [ngStyle]=\"changeStyle(event)\"&gt;\n      `\n    })\n    export class StyleExampleComponent {\n\n\n    }\n\n\n\n  changeStyle(event) {\n    return {\n        'background-image':  'url(../imgs/banner/' + event?.category.replace(\" \", \"%20\") + '.jpg)'\n    }\n  }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7426734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 44286070, "answer_count": 1, "score": 0, "last_activity_date": 1496240556, "creation_date": 1496236693, "question_id": 44285934, "link": "https://stackoverflow.com/questions/44285934/binding-variable-binds-as-null-when-bind-using-ngstyle", "title": "Binding variable binds as null when bind using ngStyle", "body": "<p>I am trying to set the background image using ngStyle,</p>\n\n<pre><code>&lt;div  class=\"artist-banner fluid-banner-wrapper\" [ngStyle]=\"{'background-image':  'url(../imgs/banner/' + event?.category + '.jpg)'  }\"&gt;\n</code></pre>\n\n<p>it works when the category is one word, but it does not work when it has two words, it binds as null</p>\n\n<p>for example when it comes as \"Formula one\" it binds as null. what is the issue?</p>\n"}, {"tags": ["angular", "typescript", "hybrid-mobile-app", "monaca", "photoeditorsdk"], "comments": [{"owner": {"reputation": 1067, "user_id": 8063684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d663f8e9021166c4075e9b4eb6c632?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig", "link": "https://stackoverflow.com/users/8063684/ludwig"}, "edited": false, "score": 0, "creation_date": 1496240682, "post_id": 44285919, "comment_id": 75581535, "body": "If you are using CLI you have to add the assets path to the &#39;assets&#39; section in .angular-cli.json to tell the server to deliver the files."}, {"owner": {"reputation": 13, "user_id": 6361487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TaLAwg4wGD4/AAAAAAAAAAI/AAAAAAAAABU/PbCjjNFwSL0/photo.jpg?sz=128", "display_name": "Mintu Borah", "link": "https://stackoverflow.com/users/6361487/mintu-borah"}, "reply_to_user": {"reputation": 1067, "user_id": 8063684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d663f8e9021166c4075e9b4eb6c632?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig", "link": "https://stackoverflow.com/users/8063684/ludwig"}, "edited": false, "score": 0, "creation_date": 1496312602, "post_id": 44285919, "comment_id": 75614993, "body": "Thank you for your valuable suggestion. I am using Monaca CLI to run the project command like &quot;monaca preview&quot; which with webpack host the server for my application. I can&#39;t find any file name angular-cli.json in my project"}, {"owner": {"reputation": 1067, "user_id": 8063684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d663f8e9021166c4075e9b4eb6c632?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig", "link": "https://stackoverflow.com/users/8063684/ludwig"}, "edited": false, "score": 0, "creation_date": 1496314522, "post_id": 44285919, "comment_id": 75616323, "body": "Sorry, I talked about Angular CLI. About Monaca CLI I do not know anything."}], "owner": {"reputation": 13, "user_id": 6361487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TaLAwg4wGD4/AAAAAAAAAAI/AAAAAAAAABU/PbCjjNFwSL0/photo.jpg?sz=128", "display_name": "Mintu Borah", "link": "https://stackoverflow.com/users/6361487/mintu-borah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508765603, "creation_date": 1496236656, "last_edit_date": 1508765603, "question_id": 44285919, "link": "https://stackoverflow.com/questions/44285919/unable-to-load-local-images-in-onsen-ui-2-project", "title": "Unable to load local images in onsen.ui 2 project", "body": "<p>I have created a Monaca app with Onsen.ui2 framework in which i am using the PhotoEditorSDK library from ng2-photo-editor\n<a href=\"https://www.npmjs.com/package/ng2-photo-editor\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng2-photo-editor</a>.</p>\n\n<p>In the PhotoEidtComponenet.ts(say in my case) file I need to specify the absolute path of its assets folder.\nPlease check the attached images for my project view hierarchy.</p>\n\n<p>I tried with different path like \"../../utlis/PhotoEditorSdk/assets\" etc.,\nbut the icons inside the assets does not get load.</p>\n\n<p>It is assets: {  baseUrl: './assets' } where i need to specify the absolute path.</p>\n\n<p>Below is my code how i am trying to load integrate the library</p>\n\n<pre><code>import {Component, ViewChild, ViewEncapsulation, EventEmitter, ElementRef} from '@angular/core';\nconst PhotoEditorSDK = require('../../utils/PhotoEditorSDK/js/PhotoEditorSDK.js');\nconst PhotoEditorReactUI = require('../../utils/PhotoEditorSDK/js/PhotoEditorReactUI.js');\nconst UnsplashProvider = require('../../utils/PhotoEditorSDK/js/UnsplashProvider.js');\n\n@Component({\n      selector: 'ons-page[page]',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        &lt;div #host id=\"photo-host\" style=\"min-height: 100px; min-width:100px\"&gt;&lt;/div&gt;\n        &lt;img src = \"app/img/test.jpg\"&gt;\n        &lt;div class=\"actions\"&gt;\n                 &lt;a class=\"btn white-btn active\" (click)=\"cancelClick()\"&gt;Discard&lt;/a&gt;\n            &lt;a class=\"btn white-btn pull-right\" (click)=\"saveClick()\"&gt;Save&lt;/a&gt;\n          &lt;/div&gt;`,\n        styles: [require('../../utils/PhotoEditorSDK/css/PhotoEditorReactUI.css') ]\n\n})\n\nexport class PhotoEdit{\n\n  @ViewChild('host') host: any;\n  el: ElementRef;\n  editor: any;\n  propagateChange = (_: any) =&gt; { };\n\n\n  constructor(el: ElementRef) {\n      this.el = el;\n  }\n\n  ngOnInit() {\n      // this.createEditor();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() =&gt; this.createEditor(), 1);\n  }\n\n  ngOnDestroy() {\n      if (this.editor) {\n          this.editor.dispose();\n      }\n  }\n\n  ngOnChanges(changes: any) {\n  //        console.log(changes);\n      if (this.editor) {\n          this.editor.dispose();\n      }\n      this.createEditor();\n      this.propagateChange(changes);\n  }\n\n  writeValue(value: any) {\n      //console.log(value);\n  //        if (this.editor) {\n  //            if (value &amp;&amp; value !== '') {\n\n  //            }\n  //        }\n  }\n  registerOnChange(fn: any) {\n      this.propagateChange = fn;\n  }\n  registerOnTouched(fn: any) { }\n\n  createEditor() {\n      let myImage = new Image();\n      myImage.crossOrigin = 'anonymous';\n      myImage.setAttribute('crossOrigin', 'anonymous');\n          this.editor = new PhotoEditorSDK.UI.ReactUI({\n              container: this.host.nativeElement,\n              logLevel: 'info',\n            title: '',\n            showTopBar: false,\n            showCloseButton: false,\n            editor: {\n                image: myImage\n            },\n            photoRoll: {\n                provider: UnsplashProvider\n            },\n            assets: {\n                baseUrl: './assets'\n\n            },\n            ui: {\n                enabled: true,\n                showExportButton: true,\n                export: {\n                    type: PhotoEditorSDK.RenderType.DATAURL,\n                    download: false\n                }\n            },\n            responsive: true,\n            language: 'en'\n          });\n      myImage.src = \"./test.jpg\";\n  }\n\n  saveClick() {\n      this.editor.export(false)\n          .then(result =&gt; {\n              // this.saveImageEvent.emit(result);\n          });\n  }\n\n  cancelClick() {\n      // this.cancelEvent.emit();\n  }\n}\n</code></pre>\n\n<p>I tried to load a simple image in \n\n<p>Any help is appreciate. \nThanks<a href=\"https://i.stack.imgur.com/IeKP9.png\" rel=\"nofollow noreferrer\">enter image description here</a> in advance</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "factory"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496239739, "post_id": 44285815, "comment_id": 75580830, "body": "Of course, it returns same instance. Providers are singletons (within same injector). The thing that matters here is how this provider is used, the question needs clarification on that."}, {"owner": {"reputation": 1337, "user_id": 4782353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-ku5wS0Lc0rQ/AAAAAAAAAAI/AAAAAAAAAA4/tyZO3iV04eI/photo.jpg?sz=128", "display_name": "Blind Despair", "link": "https://stackoverflow.com/users/4782353/blind-despair"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496246527, "post_id": 44285815, "comment_id": 75585795, "body": "But I specified in my question that I just pass this provider to providers array in each module"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496247127, "post_id": 44285815, "comment_id": 75586153, "body": "You haven&#39;t specified how and where exactly SCROLLBAR_CONFIG is used. This is necessary to give a good answer."}, {"owner": {"reputation": 1337, "user_id": 4782353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-ku5wS0Lc0rQ/AAAAAAAAAAI/AAAAAAAAAA4/tyZO3iV04eI/photo.jpg?sz=128", "display_name": "Blind Despair", "link": "https://stackoverflow.com/users/4782353/blind-despair"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496249866, "post_id": 44285815, "comment_id": 75587798, "body": "well I just injected that SCROLLBAR_CONFIG in constructors of my components and then simply worked with injected object, I showed basically all I did, so am I missing something?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496252626, "post_id": 44285815, "comment_id": 75589377, "body": "So SCROLLBAR_CONFIG isn&#39;t used by other services, it exists solely to use inside components? Then you should just specify <code>providers: [SCROLLBAR_CONFIG_PROVIDER]</code> for each component where you want to get an instance, not in module. Hierarchical injector works like that."}, {"owner": {"reputation": 1337, "user_id": 4782353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-ku5wS0Lc0rQ/AAAAAAAAAAI/AAAAAAAAAA4/tyZO3iV04eI/photo.jpg?sz=128", "display_name": "Blind Despair", "link": "https://stackoverflow.com/users/4782353/blind-despair"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496256957, "post_id": 44285815, "comment_id": 75591704, "body": "okay, thank you, I&#39;ll try it out tomorrow!"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496302421, "post_id": 44285815, "comment_id": 75607740, "body": "I would personally go with ScrollbarConfig class instead. The fact that you need to use _.cloneDeep every time suggests that it&#39;s a case for constructor."}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1496302325, "creation_date": 1496302325, "answer_id": 44301253, "question_id": 44285815, "link": "https://stackoverflow.com/questions/44285815/angular-2-di-injects-same-instance-of-clonned-object-with-factory-when-i-need-ow/44301253#44301253", "title": "Angular 2 DI injects same instance of clonned object with factory when I need own instance for each injection", "body": "<p>A provider is a singleton within a single injector, and when a service is defined in module <code>providers</code>, it belongs to root injector (or to child injector for lazy-loaded modules).</p>\n\n<p>In order for all components to receive their own instances, <code>providers</code> should be specified for these component classes (and not for module class):</p>\n\n<pre><code>@Component({ ..., providers: SCROLLBAR_CONFIG_PROVIDER }) ...\n</code></pre>\n\n<p>Since the service is never supposed to be reused and be a singleton, it can be a class defined as <code>useValue</code> provider instead:</p>\n\n<pre><code>export class ScrollbarConfig {\n  name: string = ...;\n  class: string = ...;\n  // or\n  // constructor() {\n  //   return _.cloneDeep(SCROLLBAR_CONFIG_DEFAULT)\n  // }\n}\n\n@Module({ ..., providers: { provide: ScrollbarConfig, useValue: ScrollbarConfig }) ...\n\n@Component(...)\nclass SomeComponent {\n  scrollbarConfig: ScrollbarConfig;\n\n  constructor(@Inject(ScrollbarConfig) ScrollbarConfig: typeof ScrollbarConfig) {\n    this.scrollbarConfig = new ScrollbarConfig();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1337, "user_id": 4782353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-ku5wS0Lc0rQ/AAAAAAAAAAI/AAAAAAAAAA4/tyZO3iV04eI/photo.jpg?sz=128", "display_name": "Blind Despair", "link": "https://stackoverflow.com/users/4782353/blind-despair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 44301253, "answer_count": 1, "score": 1, "last_activity_date": 1496302325, "creation_date": 1496236367, "last_edit_date": 1496238080, "question_id": 44285815, "link": "https://stackoverflow.com/questions/44285815/angular-2-di-injects-same-instance-of-clonned-object-with-factory-when-i-need-ow", "title": "Angular 2 DI injects same instance of clonned object with factory when I need own instance for each injection", "body": "<p>I have this Config file which has interface for data, default configuration of scrollbar, injection token to be able to inject this configuration and provider for modules that contains factory which returns deepClone of default config object:</p>\n\n<pre><code>export interface ScrollbarConfig {\n    name: string;\n    class: string;\n    options: MCustomScrollbar.CustomScrollbarOptions;\n}\n\nexport const SCROLLBAR_CONFIG = new InjectionToken&lt;ScrollbarConfig&gt;('scrollbar.config');`\n\nexport const SCROLLBAR_CONFIG_DEFAULT: ScrollbarConfig = { ... }\n\nexport const SCROLLBAR_CONFIG_PROVIDER = {\n    provide: SCROLLBAR_CONFIG,\n    useFactory: () =&gt; {\n            return _.cloneDeep(SCROLLBAR_CONFIG_DEFAULT);\n        }\n};\n</code></pre>\n\n<p>This is how add provider to my modules:</p>\n\n<pre><code>providers: [\n        SCROLLBAR_CONFIG_PROVIDER\n    ]\n</code></pre>\n\n<p>And that's how I inject it in constructors of my components:</p>\n\n<pre><code>constructor(@Inject(SCROLLBAR_CONFIG) private scrollbarConfig: ScrollbarConfig) {}\n</code></pre>\n\n<p>So the idea is to get default config of scrollbar and then extend injected object in each component, so each component has own configuration. But for some reason injection gives me same instance even though I use provider with factory. I am pretty sure it makes a deepClone of default object, but then returns this same clonned object for every injection. I also tried to do it with creating class instead of injection token, but it behaved just the same.</p>\n\n<p>I tried putting console.log() in factory function and it printed only once so obviously this is the problem, but how can I force it to really provide different instances?</p>\n"}, {"tags": ["javascript", "java", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1496240403, "post_id": 44285665, "comment_id": 75581320, "body": "I changed invoices to map in payment and like you said to iterate over the map and its working as expected, Thanks for your help."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 3, "last_activity_date": 1496235962, "creation_date": 1496235962, "answer_id": 44285665, "question_id": 44285416, "link": "https://stackoverflow.com/questions/44285416/working-with-maps-in-typescript/44285665#44285665", "title": "Working with maps in Typescript", "body": "<p>You can change it to a <code>Map</code> in <code>Payment</code> as well:</p>\n\n<pre><code>public invoices: Map&lt;string, number&gt;;\n</code></pre>\n\n<p>And then you can simply assign the map that you have.<br>\nOr you can iterate over the map entries and turn them into an object like you have in <code>Payment</code>:</p>\n\n<pre><code>let m = new Map&lt;string, number&gt;();\n\nlet m2 = {} as { [key: string]: number };\nm.forEach((value, key) =&gt; m2[key] = value);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "is_accepted": false, "score": 2, "last_activity_date": 1496235995, "creation_date": 1496235995, "answer_id": 44285680, "question_id": 44285416, "link": "https://stackoverflow.com/questions/44285416/working-with-maps-in-typescript/44285680#44285680", "title": "Working with maps in Typescript", "body": "<p>If you are gonna use String as keys there is no reason to use a hashmap, every object in javascript, as well as typescript, is a simple map. The only reason you would need to use the Map class is if you need something other than a String as a key. </p>\n\n<p>Please take a look at this question -> <a href=\"https://stackoverflow.com/questions/8877666/how-is-a-javascript-hash-map-implemented\">How is a JavaScript hash map implemented?</a></p>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1496335123, "post_id": 44300270, "comment_id": 75631373, "body": "Thanks but I am using Java, plus i could use this <a href=\"https://github.com/vojtechhabarta/typescript-generator\" rel=\"nofollow noreferrer\">github.com/vojtechhabarta/typescript-generator</a>."}], "tags": [], "owner": {"reputation": 273, "user_id": 1918273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/qGrE6.png?s=128&g=1", "display_name": "C.Fasolin", "link": "https://stackoverflow.com/users/1918273/c-fasolin"}, "is_accepted": false, "score": 0, "last_activity_date": 1496299391, "creation_date": 1496299391, "answer_id": 44300270, "question_id": 44285416, "link": "https://stackoverflow.com/questions/44285416/working-with-maps-in-typescript/44300270#44300270", "title": "Working with maps in Typescript", "body": "<p>if I understand what do you want you can use TypeLite : <a href=\"http://type.litesolutions.net/\" rel=\"nofollow noreferrer\">http://type.litesolutions.net/</a> \nthis addon convert any class c# in typescript class.</p>\n\n<p>before the async comunication you parse the request to json and into your code behind( or into controller )you response with your object serialized into json.</p>\n"}, {"tags": [], "owner": {"reputation": 30841, "user_id": 406659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h12H9.png?s=128&g=1", "display_name": "aWebDeveloper", "link": "https://stackoverflow.com/users/406659/awebdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1593493425, "creation_date": 1593493425, "answer_id": 62650600, "question_id": 44285416, "link": "https://stackoverflow.com/questions/44285416/working-with-maps-in-typescript/62650600#62650600", "title": "Working with maps in Typescript", "body": "<p>The most simple way is to use Record type <strong>Record&lt;string, any&gt;</strong></p>\n<pre><code>const invoicesMap : Record&lt;string, any&gt; \n</code></pre>\n<p>This would allow you to have a type with any any string and values.  Only use it if you don't know the keys in advance.</p>\n<p>You can also look at <strong>Partial</strong> type. If you have some values but not all.</p>\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/utility-types.html</a></p>\n"}], "owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9272, "favorite_count": 0, "accepted_answer_id": 44285665, "answer_count": 4, "score": 4, "last_activity_date": 1593493425, "creation_date": 1496235282, "last_edit_date": 1496236053, "question_id": 44285416, "link": "https://stackoverflow.com/questions/44285416/working-with-maps-in-typescript", "title": "Working with maps in Typescript", "body": "<p>I am having a bit of trouble working with maps int Typescript. What I am trying to do is to use a HashMap smilier to that found in Java for example here is my Java object, </p>\n\n<pre><code>public class Payment {\n    private String id;\n    private DateTime created;\n\n    //when they actually received the payment\n    private DateTime paidDate;\n    private String customerId;\n    private String companyId;\n    private BigDecimal amount;\n    private BigDecimal allocated;\n    private String description;\n\n    // it must be the Id of PaymentMethod\n    private String type;\n\n    //to improve it\n    private String currency;\n\n    private Boolean fullPaid = false;\n    private Boolean lockArchive = false;\n\n    //&lt;InvoiceId, Amount&gt;\n    private HashMap&lt;String, BigDecimal&gt; invoices = new HashMap&lt;&gt;();\n\n    //getter and setters....\n</code></pre>\n\n<p>So what I have done in Typescript it to create a similar class for example, </p>\n\n<pre><code>export class Payment {\n  public id?:string;\n  public created?:string;\n  public paid_date?:Date;\n  public customer_id?:string;\n  public company_id?:string;\n  public amount?:number;\n  public allocated?:number;\n  public description?:string;\n  public type?:string;\n  public currency?:string;\n  public full_paid?:boolean;\n  public lock_archive?:boolean;\n  public invoices:  {[invoice_id:string]:number};\n\n\n  constructor(id: string, created: string, paid_date: Date, customer_id: string, company_id: string, amount: number, allocated: number, description: string, type: string, currency: string, full_paid: boolean, lock_archive: boolean, invoices: { [p: string]: number }) {\n    this.id = id;\n    this.created = created;\n    this.paid_date = paid_date;\n    this.customer_id = customer_id;\n    this.company_id = company_id;\n    this.amount = amount;\n    this.allocated = allocated;\n    this.description = description;\n    this.type = type;\n    this.currency = currency;\n    this.full_paid = full_paid;\n    this.lock_archive = lock_archive;\n    this.invoices = invoices;\n  }\n}\n</code></pre>\n\n<p>I am trying to to basically add to the the <code>invoices</code> map so I have the following function, </p>\n\n<pre><code>  public invoicesMap = new Map&lt;string, number&gt;();\n\n  constructor(public dialogRef: MdDialogRef&lt;PaymentInvoiceSelectDialogComponent&gt;,\n              private customerService:CustomerService,\n              private paymentServices: PaymentsService) {\n\n  }\n\n  ngOnInit() {\n\n    this.customer.subscribe((res)=&gt;{\n      this.customer_name = res.customer_name\n    }, error=&gt;{\n      console.error(&lt;any&gt;error);\n    });\n\n    this.customerService.getListOfCustomerInvoices(this.customerId,'0','25')\n      .subscribe( (res) =&gt;{\n       this.invoices = res;\n      },\n      error =&gt; {\n        console.error(&lt;any&gt;error);\n      });\n\n  }\n\n  selectedInvoice(invoiceId: string, amount: number, event:any) {\n\n    if(event.checked){\n\n      if(!_.isEmpty(this.payment.invoices)){\n\n        for(let [key, value] of this.invoicesMap) {\n\n          if (key !== invoiceId) {\n\n            this.invoicesMap.set(invoiceId, amount);\n\n            for(let [key, vvalue] of this.invoicesMap) {\n\n              if (key === invoiceId) {\n\n                this.availableAllocation = this.availableAllocation - vvalue;\n\n              }\n            }\n          }\n        }\n      } else {\n\n        this.invoicesMap.set(invoiceId,amount);\n\n        for(let [key, vvalue] of this.invoicesMap) {\n          if(key === invoiceId){\n            this.availableAllocation = this.amount - vvalue;\n          }\n        }\n      }\n    } else if(!event.checked){\n\n      for(let [key, vvalue] of this.invoicesMap) {\n\n        if (key === invoiceId) {\n\n          console.log(\"removing an item\");\n          this.availableAllocation += vvalue;\n        }\n\n      }\n    }\n\n    //at this point I would like to set this.payment.invoices to this.invoiceMap\n    for(let [key, value] of this.invoicesMap){\n      let v = {invoice_id:key,amount:value};\n      console.log(v);\n    }\n\n    this.payment.allocated = this.availableAllocation;\n  }\n\n\n  savePayment(){\n    console.log(JSON.stringify(this.payment));\n    // this.paymentServices.updatePayment(this.payment)\n    //   .subscribe((res)=&gt;{\n    //     this.payment = res;\n    //     this.dialogRef.close(this.payment);\n    //     },\n    //     error =&gt;{\n    //       console.log(&lt;any&gt;error);\n    //     });\n  }\n</code></pre>\n\n<p>the items are added to the <code>invoiceMap</code> but the problem I am having now is adding <code>invoiceMap</code> to <code>payment.invoices</code>. If someone can point me in the right direction that would be much appreciated. Thanks</p>\n"}, {"tags": ["angular", "typescript", "data-binding"], "comments": [{"owner": {"reputation": 1151, "user_id": 3759560, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Iwxxo.png?s=128&g=1", "display_name": "methgaard", "link": "https://stackoverflow.com/users/3759560/methgaard"}, "edited": false, "score": 0, "creation_date": 1496235358, "post_id": 44285183, "comment_id": 75577472, "body": "<code>label</code>should be <code>@Input label</code>and so on - Read this <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/component-communication.h&zwnj;&#8203;tml</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1496236123, "creation_date": 1496236123, "answer_id": 44285722, "question_id": 44285183, "link": "https://stackoverflow.com/questions/44285183/define-a-component-value-in-dom/44285722#44285722", "title": "Define a Component Value in DOM", "body": "<p>You can use the <strong>@Input</strong> decorator on the fields you want to receive from the parent.</p>\n\n<p>An example would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'input-component',\n  template: `\n    &lt;div&gt;\n      &lt;h2&gt; Hello {{name}} &lt;/h2&gt;\n    &lt;/div&gt;\n  `\n})\nexport class InputComponent {\n  @Input() name: string;\n}\n</code></pre>\n\n\n\n<p>You can checkout a working example <a href=\"http://plnkr.co/edit/c0GcSfgtJ3Hwkuwr0m7w?p=preview\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 434, "user_id": 7218156, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AiwM_KkmX2k/AAAAAAAAAAI/AAAAAAAAABk/fd35RCyjM9U/photo.jpg?sz=128", "display_name": "Bromox", "link": "https://stackoverflow.com/users/7218156/bromox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496236123, "creation_date": 1496234663, "last_edit_date": 1592644375, "question_id": 44285183, "link": "https://stackoverflow.com/questions/44285183/define-a-component-value-in-dom", "title": "Define a Component Value in DOM", "body": "<p>I have a component that I want to alter each time a call it in the dom with its selector. This component will be a generic &quot;Input Field&quot; that has variables I want to define when I call it.</p>\n<p>This is something I want to be scoped to the component when its called as I may call this component 5 times, each time with different values.</p>\n<p>For example, my first call may have a label of &quot;First Name&quot;, required, with a placeholder of &quot;Enter your First Name&quot;.</p>\n<h2>The component template:</h2>\n<pre><code>&lt;div class=&quot;input-group&quot; *ngIf=visible&gt;\n  &lt;span class=&quot;input-group-addon&quot; *ngIf=&quot;required&quot; id=&quot;basic-addon1&quot;&gt;{{label}}&lt;span *ngIf=required class=&quot;required&quot;&gt; *&lt;/span&gt;&lt;/span&gt;\n  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder={{placeholder}} aria-describedby=&quot;basic-addon1&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<h2>Component.TS</h2>\n<pre><code>import { Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-input-field',\n  templateUrl: './input-field.component.html',\n  styleUrls: ['./input-field.component.css']\n})\nexport class InputFieldComponent implements OnInit {\n\nvisible:Boolean;\nrequired:Boolean;\nlabel:String;\ndisabled:Boolean;\nplaceholder:String;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n<p>How do I define values to the component when I call its selector in the dom?</p>\n<h2>DOM</h2>\n<pre><code>&lt;h1&gt;\n  Sample Input Fields\n&lt;/h1&gt;\n&lt;app-input-field [label]=&quot;First Name&quot; [placeholder]=&quot;Enter first name&quot; [required]=true visible=true&gt;&lt;/app-input-field&gt;\n</code></pre>\n<p>^ What I have above doesn't work as they are not properties of the component.</p>\n<h2>NOTE:</h2>\n<p>I do not know what the values will be and do not want to pass them from the parent container, I would like to only define these variables in the DOM.</p>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 4, "last_activity_date": 1496236807, "creation_date": 1496236807, "answer_id": 44285973, "question_id": 44284961, "link": "https://stackoverflow.com/questions/44284961/typescript-return-a-discriminated-union-with-one-option-selected/44285973#44285973", "title": "TypeScript: Return a discriminated union with &quot;one option selected&quot;", "body": "<p>You can have different signatures for the different keys:</p>\n\n<pre><code>function getKeyValue(key: \"type-a\"): { key: \"type-a\"; propA: string; };\nfunction getKeyValue(key: \"type-a\"): { key: \"type-b\"; propB: string; };\nfunction getKeyValue(key: string): KeyValueDocument {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 5975, "user_id": 592768, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/15f8ba298c5402ad368839c4805ff82f?s=128&d=identicon&r=PG", "display_name": "Lawrence Wagerfield", "link": "https://stackoverflow.com/users/592768/lawrence-wagerfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 44285973, "answer_count": 1, "score": 3, "last_activity_date": 1496237413, "creation_date": 1496234031, "last_edit_date": 1496237413, "question_id": 44284961, "link": "https://stackoverflow.com/questions/44284961/typescript-return-a-discriminated-union-with-one-option-selected", "title": "TypeScript: Return a discriminated union with &quot;one option selected&quot;", "body": "<p>How can I return a discriminated union with one of the types \"selected\" based on one of the function's input parameters?</p>\n\n<pre><code>type KeyValueDocument = {\n  key: \"type-a\";\n  propA: string;\n} | {\n  key: \"type-b\";\n  propB: string;\n}\n\nfunction getKeyValue(key: string): KeyValueDocument {\n  // ... implementation ...\n  assert(result.key == key);\n  return result;\n}\n\nconst value = getKeyValue(\"type-b\"); \n\nconsole.log(value.propB); // Bang!\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2579, "user_id": 3637106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hYmba.jpg?s=128&g=1", "display_name": "Hampus", "link": "https://stackoverflow.com/users/3637106/hampus"}, "edited": false, "score": 1, "creation_date": 1496233523, "post_id": 44284693, "comment_id": 75576128, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work\">How do JavaScript closures work?</a>"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1496233580, "post_id": 44284693, "comment_id": 75576175, "body": "When you pass <code>this.newTask</code> as a callback reference, the association between the function and <code>this</code> is lost; in fact there really never is such an association."}, {"owner": {"reputation": 7488, "user_id": 4074045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ea67fd9895934c41fbd75cce9356f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arg0n", "link": "https://stackoverflow.com/users/4074045/arg0n"}, "edited": false, "score": 0, "creation_date": 1496233584, "post_id": 44284693, "comment_id": 75576179, "body": "Have you tried using arrow-function? <code>(data =&gt; this.newTask(data))</code>"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 7488, "user_id": 4074045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ea67fd9895934c41fbd75cce9356f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arg0n", "link": "https://stackoverflow.com/users/4074045/arg0n"}, "edited": false, "score": 0, "creation_date": 1496233609, "post_id": 44284693, "comment_id": 75576206, "body": "@Arg0n it&#39;s at the end of the question."}, {"owner": {"reputation": 7488, "user_id": 4074045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ea67fd9895934c41fbd75cce9356f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arg0n", "link": "https://stackoverflow.com/users/4074045/arg0n"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1496233683, "post_id": 44284693, "comment_id": 75576262, "body": "@Pointy I don&#39;t see the problem in using that."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1496233728, "post_id": 44284693, "comment_id": 75576291, "body": "Neither do I :)"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 1, "creation_date": 1496234007, "post_id": 44284693, "comment_id": 75576503, "body": "I would say this is better than using <code>bind</code> since you will lose the type checking for the callback function if you use <code>bind</code>. See <a href=\"https://github.com/Microsoft/TypeScript/issues/212\" rel=\"nofollow noreferrer\">this issue</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2202, "user_id": 3018219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c12a0a5d5df557e1cca70a91d7157b8?s=128&d=identicon&r=PG&f=1", "display_name": "UXDart", "link": "https://stackoverflow.com/users/3018219/uxdart"}, "edited": false, "score": 0, "creation_date": 1496233625, "post_id": 44284793, "comment_id": 75576217, "body": "(I&#39;m really thinking in ES6)"}], "tags": [], "owner": {"reputation": 2202, "user_id": 3018219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c12a0a5d5df557e1cca70a91d7157b8?s=128&d=identicon&r=PG&f=1", "display_name": "UXDart", "link": "https://stackoverflow.com/users/3018219/uxdart"}, "is_accepted": false, "score": 2, "last_activity_date": 1496233579, "creation_date": 1496233579, "answer_id": 44284793, "question_id": 44284693, "link": "https://stackoverflow.com/questions/44284693/typeerror-is-not-a-function-right-way-to-bind-this-references-in-js/44284793#44284793", "title": "TypeError: is not a function. Right way to bind this. references in JS", "body": "<p>change it to </p>\n\n<pre><code>.subscribe(this.newTask.bind(this))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9447, "user_id": 934407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4853446771f472109e6944025c6791?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/934407/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1496234027, "creation_date": 1496234027, "answer_id": 44284959, "question_id": 44284693, "link": "https://stackoverflow.com/questions/44284693/typeerror-is-not-a-function-right-way-to-bind-this-references-in-js/44284959#44284959", "title": "TypeError: is not a function. Right way to bind this. references in JS", "body": "<p>The issue is how \"this\" is bound, it's done at execution time so when the logEvent function is invoked this refers to the global object which doesn't have that function. Your second example is fine, in that case this is bound when the arrow function is defined, an alternative is to store a references to this and call the function from that but personally I prefer the arrow function approach. Beware that not everyone agrees with this but I'm used to arrow functions from c# and I think if you understand the differences they read easier as well as having a simpler way of reasoning about this. </p>\n"}, {"tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": false, "score": 0, "last_activity_date": 1496235332, "creation_date": 1496235332, "answer_id": 44285433, "question_id": 44284693, "link": "https://stackoverflow.com/questions/44284693/typeerror-is-not-a-function-right-way-to-bind-this-references-in-js/44285433#44285433", "title": "TypeError: is not a function. Right way to bind this. references in JS", "body": "<p>I'd face to this issue with <strong><em>property</em></strong>, instead of <em><code>method</code></em>. I.e. we can declare kind of same functionality with <strong>\"property syntax\"</strong> .. where property is a function (<code>newTask</code> below is method, <code>newTaskAsProperty</code> is more property-ish)</p>\n\n<pre><code>class MyClass {\n    newTask(data) {\n        this.logEvent('new_task', data);\n        this.audio.playNewJob();\n    }    \n    newTaskAsProperty = (data) =&gt;{\n        this.logEvent('new_task', data);\n        this.audio.playNewJob();\n    }\n    ...\n</code></pre>\n\n<p>what is interesting, is what would be the transpiled result:</p>\n\n<pre><code>var MyClass = (function () {\n    function MyClass() {\n        var _this = this;\n        this.newTaskAsProperty = function (data) {\n            _this.logEvent('new_task', data);\n            _this.audio.playNewJob();\n        };\n    }\n    MyClass.prototype.newTask = function (data) {\n        this.logEvent('new_task', data);\n        this.audio.playNewJob();\n    };\n</code></pre>\n\n<p>So, the property approach (<code>newTaskAsProperty = (data) =&gt;{}</code>) is applied in constructor, to the instance, not to prototype. And that is, why using is as a delegate will work as expected</p>\n\n<pre><code>// not working\n// this.socket.on('new_task').subscribe(this.newTask);\n\n// working\nthis.socket.on('new_task').subscribe(this.newTaskAsProperty);\n</code></pre>\n\n<p>The only downside is - it is <strong>not a method</strong>, i.e. cannot be overriden. </p>\n\n<p>As a workaround, we can simply do call a real method inside of that - if needed, and that method would have <strong><code>this</code></strong> properly set and could be overriden...</p>\n"}], "owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1548349461, "creation_date": 1496233307, "last_edit_date": 1548349461, "question_id": 44284693, "link": "https://stackoverflow.com/questions/44284693/typeerror-is-not-a-function-right-way-to-bind-this-references-in-js", "title": "TypeError: is not a function. Right way to bind this. references in JS", "body": "<p>I'm new to JS, so I have this newbie  question about right way to bind references. For example, I have this line of code in TypeScript: </p>\n\n<pre><code>  this.socket.on('new_task').subscribe(this.newTask);\n...\n  newTask(data) {\n    this.logEvent('new_task', data);\n    this.audio.playNewJob();\n  }\n  logEvent(event: string, data) {\n    console.log(this.TAG + event + ' triggered with received data: ' + JSON.stringify(data));\n  }\n</code></pre>\n\n<p>If I will try run this, I will get:</p>\n\n<pre><code>TypeError: this.logEvent is not a function\n</code></pre>\n\n<p>If I will change to: </p>\n\n<pre><code>this.socket.on('new_task').subscribe((data) =&gt; this.newTask(data));\n</code></pre>\n\n<p>Everything will work fine but it looks like a bad way to use JS and TS features. What is a recommended practice in this case?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496291656, "post_id": 44284253, "comment_id": 75602788, "body": "There is not duplicate, i resolve different problem. I have generic interface and its not working"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496295525, "post_id": 44284253, "comment_id": 75603902, "body": "No, it&#39;s the same. <i>In order to be used as both an interface and provider token, it may be abstract class</i>. This is what the answer says. There&#39;s no such thing as interface in JS output. You can&#39;t use interface for anything but typing."}, {"owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496300690, "post_id": 44284253, "comment_id": 75606533, "body": "Ok, I didnt understand it. Thanks"}], "owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "closed_date": 1496300693, "answer_count": 0, "score": 0, "last_activity_date": 1496232690, "creation_date": 1496232056, "last_edit_date": 1496232690, "question_id": 44284253, "link": "https://stackoverflow.com/questions/44284253/angular-2-provide-generic-interface", "closed_reason": "Duplicate", "title": "Angular 2 provide generic interface", "body": "<p>i have this generic interface and implementation:</p>\n\n<pre><code>   export interface IConverter&lt;T, C&gt; {\n    convert(from: T): C;\n}\n\nexport class ColorConverter implements IConverter&lt;string, string&gt;{\n    convert(from: string): string {\n        return \"\";\n    }\n\n}\n</code></pre>\n\n<p>I can use ColorConvert in component:</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  template: '',\n  providers: [{ provide: IConverter, useClass: ColorConverter }]\n})\nexport class MyComponent implements OnInit {\n\n\n  constructor(private colorConverter: ColorConverter) { }\n\n  ngOnInit() {\n\n  }\n}\n</code></pre>\n\n<p>I have error in <code>provide:IConverter</code>:</p>\n\n<blockquote>\n  <p>'IConverter' only refers to a type, but is being used as a value here.</p>\n</blockquote>\n\n<p>How to provide generic interface? Thanks</p>\n"}, {"tags": ["angular", "typescript", "model", "undefined"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1496230783, "post_id": 44283735, "comment_id": 75574002, "body": "<code>if (applicationUser == null) {         applicationUser.userId = sub;</code> seems suspicious"}, {"owner": {"reputation": 757, "user_id": 5648360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963a7a0d4dbaf3c56c4c8c0999a0a0c8?s=128&d=identicon&r=PG&f=1", "display_name": "Nugu", "link": "https://stackoverflow.com/users/5648360/nugu"}, "edited": false, "score": 1, "creation_date": 1496231219, "post_id": 44283735, "comment_id": 75574317, "body": "if <code>applicationUser == null</code> is true how would it contain a userId ? For starters i think this should be  <code>if (applicationUser !== null)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 217, "user_id": 3484457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100003840307292/picture?type=large", "display_name": "GSeriousB", "link": "https://stackoverflow.com/users/3484457/gseriousb"}, "edited": false, "score": 1, "creation_date": 1496231929, "post_id": 44283901, "comment_id": 75574930, "body": "@GSeriousB I don&#39;t think it will work the way you intended it to be, Hampus&#39;s answer states all your misthoughts"}, {"owner": {"reputation": 2579, "user_id": 3637106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hYmba.jpg?s=128&g=1", "display_name": "Hampus", "link": "https://stackoverflow.com/users/3637106/hampus"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1496232198, "post_id": 44283901, "comment_id": 75575141, "body": "I&#39;ll second what @echonax said. Although it will no longer have runtime crashes it will not work as you intend."}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 1, "last_activity_date": 1496231136, "creation_date": 1496231136, "answer_id": 44283901, "question_id": 44283735, "link": "https://stackoverflow.com/questions/44283735/angular-2-typeerror-cannot-set-property-userid-of-undefined/44283901#44283901", "title": "Angular 2 - TypeError: Cannot set property &#39;userId&#39; of undefined", "body": "<pre><code>let applicationUser: ApplicationUser;\n</code></pre>\n\n<p>The above line will not create the actual object instance here, its just a reference. Error says <code>applicationUser</code> is undefined </p>\n\n<p>You can try doing</p>\n\n<pre><code>let applicationUser: ApplicationUser = new ApplicationUser ('', '');\n</code></pre>\n\n<p>Alternatively (not tested)</p>\n\n<pre><code>let applicationUser: ApplicationUser\n applicationUser = Object.create(ApplicationUser.prototype);\n this.constructor.apply(applicationUser, ['', '']);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1496231884, "post_id": 44284144, "comment_id": 75574889, "body": "I think localStorage should be set inside in one of the async callbacks (OPs intention), +1"}, {"owner": {"reputation": 2579, "user_id": 3637106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hYmba.jpg?s=128&g=1", "display_name": "Hampus", "link": "https://stackoverflow.com/users/3637106/hampus"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1496232135, "post_id": 44284144, "comment_id": 75575091, "body": "Perhaps you are right but I&#39;ll leave it as OP has it as it is not strictly broken code."}], "tags": [], "owner": {"reputation": 2579, "user_id": 3637106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hYmba.jpg?s=128&g=1", "display_name": "Hampus", "link": "https://stackoverflow.com/users/3637106/hampus"}, "is_accepted": true, "score": 4, "last_activity_date": 1496233349, "last_edit_date": 1496233349, "creation_date": 1496231734, "answer_id": 44284144, "question_id": 44283735, "link": "https://stackoverflow.com/questions/44283735/angular-2-typeerror-cannot-set-property-userid-of-undefined/44284144#44284144", "title": "Angular 2 - TypeError: Cannot set property &#39;userId&#39; of undefined", "body": "<p>There are at least three issues with your code.</p>\n\n<p>First you disregard the asynchronous nature of your code, second you try to write to a property of an object that is null and third you pass the error callback as the success callback to your post.</p>\n\n<p>I don't know what 'sub' is but you seem to use it as userId so I do as well. Here is a replacement suggestion that does what you are trying to do. Instead of chaining the logic in promises I use the async/await construct.</p>\n\n<pre><code>public async alreadyExists(sub: string) {\n  try {\n    let applicationUser: ApplicationUser = \n      await this.applicationUserService.getApplicationUser(sub).toPromise();\n\n    if (applicationUser === null) {\n      applicationUser = new ApplicationUser(sub);\n\n      await this.applicationUserService.postApplicationUser(applicationUser)\n       .toPromise();\n    }\n    localStorage.setItem('userId', sub);\n  } catch (error) {\n    this.errorMessage = error;\n  }\n}\n</code></pre>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 217, "user_id": 3484457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100003840307292/picture?type=large", "display_name": "GSeriousB", "link": "https://stackoverflow.com/users/3484457/gseriousb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8497, "favorite_count": 0, "accepted_answer_id": 44284144, "answer_count": 2, "score": 1, "last_activity_date": 1496242696, "creation_date": 1496230648, "last_edit_date": 1496242696, "question_id": 44283735, "link": "https://stackoverflow.com/questions/44283735/angular-2-typeerror-cannot-set-property-userid-of-undefined", "title": "Angular 2 - TypeError: Cannot set property &#39;userId&#39; of undefined", "body": "<p>I created a model and in a method when I want to give values the the model's properties, I get this error: TypeError: Cannot set property 'userId' of undefined</p>\n\n<p>Here is my Model:</p>\n\n<pre><code>export class ApplicationUser {\n    constructor(\n        public id: string,\n        public userId: string\n    ) { }\n</code></pre>\n\n<p>}</p>\n\n<p>Here is the method:</p>\n\n<pre><code>public alreadyExists(sub: string) {\n    let applicationUser: ApplicationUser;\n\n    this.applicationUserService.getApplicationUser(sub)\n                                    .subscribe(\n                                        appUser =&gt; applicationUser = appUser,\n                                        error =&gt; this.errorMessage = &lt;any&gt;error\n                                    );\n\n    if (applicationUser == null) {\n        applicationUser.userId = sub;\n\n        this.applicationUserService.postApplicationUser(applicationUser)\n                                       .subscribe(\n                                           error =&gt; this.errorMessage = &lt;any&gt;error\n                                       );\n    }\n\n    localStorage.setItem('userId', sub);\n}\n</code></pre>\n\n<p>The error appears after this line: <code>applicationUser.userId = sub;</code></p>\n\n<p>What do I have to change/add to don't get this error message?</p>\n\n<p>Thank You!</p>\n"}, {"tags": ["typescript", "firebase", "ionic2", "firebase-authentication", "email-verification"], "answers": [{"comments": [{"owner": {"reputation": 1666, "user_id": 4789317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aade21350564fc1ba794fe358142696?s=128&d=identicon&r=PG&f=1", "display_name": "Stevetro", "link": "https://stackoverflow.com/users/4789317/stevetro"}, "edited": false, "score": 0, "creation_date": 1496240676, "post_id": 44286713, "comment_id": 75581528, "body": "Yeah but the Problem is that funktion should be called when the user clicks in the Link in the Mail and the emailVerified value is set."}, {"owner": {"reputation": 1666, "user_id": 4789317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aade21350564fc1ba794fe358142696?s=128&d=identicon&r=PG&f=1", "display_name": "Stevetro", "link": "https://stackoverflow.com/users/4789317/stevetro"}, "edited": false, "score": 0, "creation_date": 1496240720, "post_id": 44286713, "comment_id": 75581564, "body": "Like the firebase.database.ref.on (value) function who is called everytime something is changed"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 1, "last_activity_date": 1496238842, "creation_date": 1496238842, "answer_id": 44286713, "question_id": 44283387, "link": "https://stackoverflow.com/questions/44283387/firebase-handle-email-verification/44286713#44286713", "title": "Firebase handle Email verification", "body": "<p>You can reload the user profile:</p>\n\n<pre><code>user.reload().then(...\n</code></pre>\n\n<p>See <a href=\"https://firebase.google.com/docs/reference/js/firebase.User#reload\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/js/firebase.User#reload</a></p>\n"}], "owner": {"reputation": 1666, "user_id": 4789317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aade21350564fc1ba794fe358142696?s=128&d=identicon&r=PG&f=1", "display_name": "Stevetro", "link": "https://stackoverflow.com/users/4789317/stevetro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496238842, "creation_date": 1496229556, "last_edit_date": 1496229604, "question_id": 44283387, "link": "https://stackoverflow.com/questions/44283387/firebase-handle-email-verification", "title": "Firebase handle Email verification", "body": "<p>i'm trying to verify a Firebase account in my application. </p>\n\n<p>I included the functon for sending the verification mail and after the person clicked the link in the mail, his verification status in Firebase is true.</p>\n\n<p>My problem is now that i cant receive the change in my ionic 2 application.\nFor example i tried to get the verfication state in the onAuthStateChange Method from firebase and write it to my Database with the updateUser function:</p>\n\n<pre><code>firebase.auth().onAuthStateChanged( user =&gt; {\n  this.zone.run( () =&gt; {\n    if (!user) { \n      this.rootPage = Login; \n    } else {\n      this.rootPage = HomePage;\n      auth.setUser(user);\n\n      if(user.emailVerified){\n        this.auth.updateUser({verified: true});\n      }\n    }\n  });     \n});\n</code></pre>\n\n<p>When i register a user the emailVerified is false, after i click on the link, logout from the app and log in again the status is true, so everythink should be okay.\nNow my question is, if i can handle the change of the emailVerified \"on the fly\" so that the user dont have to relog, like an eventlistener or something who is called when the emailVerified status in firebase is changed.</p>\n\n<p>Would be nice if someone have a idea or a tipp for me to solve this problem</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "is_accepted": false, "score": 1, "last_activity_date": 1496229046, "creation_date": 1496229046, "answer_id": 44283208, "question_id": 44283089, "link": "https://stackoverflow.com/questions/44283089/how-to-foreach-over-map-in-typescript-getting-error-code-ts2349/44283208#44283208", "title": "How to foreach over map in TypeScript? Getting error code TS2349", "body": "<p>No Ecmascript version ever added a method <code>forEach</code> to Objects. It exists in Arrays.</p>\n\n<p>The ES6's Maps do have a forEach method too, but what you have here is an object used as a Map.</p>\n\n<p>There are many ways to iterate over an object's keys (and values), I will give you one:</p>\n\n<pre><code>Object.keys(this.schedule).forEach(dayName =&gt; console.log(this.schedule[dayName]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 2, "last_activity_date": 1496229131, "creation_date": 1496229131, "answer_id": 44283241, "question_id": 44283089, "link": "https://stackoverflow.com/questions/44283089/how-to-foreach-over-map-in-typescript-getting-error-code-ts2349/44283241#44283241", "title": "How to foreach over map in TypeScript? Getting error code TS2349", "body": "<p>The property <code>schedule</code> is not an array. It is an object that can be indexed with a string and that value will be of type <code>any[]</code>. See <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow noreferrer\">documentation on indexable types.</a></p>\n\n<p>Perhaps you meant to loop it after accessing the index:</p>\n\n<pre><code>this.schedule[\"somekey\"].forEach(...);\n</code></pre>\n\n<p>Or you if meant to loop over the keys of <code>schedule</code>, then use <code>Object.keys</code>:</p>\n\n<pre><code>Object.keys(this.schedule).forEach(...);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2924, "user_id": 747768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyu91.jpg?s=128&g=1", "display_name": "Kirill Dmitrenko", "link": "https://stackoverflow.com/users/747768/kirill-dmitrenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1496229344, "creation_date": 1496229344, "answer_id": 44283315, "question_id": 44283089, "link": "https://stackoverflow.com/questions/44283089/how-to-foreach-over-map-in-typescript-getting-error-code-ts2349/44283315#44283315", "title": "How to foreach over map in TypeScript? Getting error code TS2349", "body": "<p>Since <code>schedule</code> defined as simple object with string index signature, it lacks <code>forEach</code> method. However, it thinks that there's a <code>forEach</code> property in the object with <code>any[]</code> type. And it need isn't callable, hence the error.</p>\n\n<p>To iterate over properties of an object you can use <code>Object.keys</code> function:</p>\n\n<pre><code>Object.keys(schedule).forEach((scheduleProp) =&gt; /* do something with schedule[scheduleProp] */);\n</code></pre>\n\n<p>Other way to achieve what you're after is to use <code>Map</code>:</p>\n\n<pre><code>public schedule: Map&lt;string, any[]&gt;;\n\n// ...\n\nschedule.forEach((value, key) =&gt; /* ... */);\n</code></pre>\n"}], "owner": {"reputation": 572, "user_id": 5300930, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d2892a52813ab5e68299ff88ea42042d?s=128&d=identicon&r=PG&f=1", "display_name": "Rory", "link": "https://stackoverflow.com/users/5300930/rory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5756, "favorite_count": 0, "accepted_answer_id": 44283241, "answer_count": 3, "score": 0, "last_activity_date": 1496229344, "creation_date": 1496228734, "question_id": 44283089, "link": "https://stackoverflow.com/questions/44283089/how-to-foreach-over-map-in-typescript-getting-error-code-ts2349", "title": "How to foreach over map in TypeScript? Getting error code TS2349", "body": "<p>I have the following map, mapping strings to arrays of any type:</p>\n\n<pre><code>public schedule : { [dayName: string]: any[] };\n</code></pre>\n\n<p>When I try to foreach over each key-value mapping:</p>\n\n<pre><code>this.schedule.forEach(dayName, day){...}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<p>TS2349: Cannot invoke an expression whose type lacks a call signature.\"</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux"], "comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 1, "creation_date": 1496228280, "post_id": 44282701, "comment_id": 75572281, "body": "I&#39;m not sure I understand - if Component 2 uses <code>stateComponent1</code>, then it makes sense that Component 2 should re-render when that segment of the state changes?"}, {"owner": {"reputation": 143, "user_id": 4989642, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-XjKnk_22pNA/AAAAAAAAAAI/AAAAAAAACDE/2akRegj9Dvg/photo.jpg?sz=128", "display_name": "Toni Miguel L&#243;pez", "link": "https://stackoverflow.com/users/4989642/toni-miguel-l%c3%b3pez"}, "reply_to_user": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1496229888, "post_id": 44282701, "comment_id": 75573352, "body": "Well, let&#39;s say the state segment of component1 is part of the props of component 2, so I understand that when it changes (via a Component 1 dispatch), Component 2 should be re-rendered, right? At least that&#39;s that I thought"}, {"owner": {"reputation": 524, "user_id": 2087511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce89282460d2594d4a05e64b592b1af3?s=128&d=identicon&r=PG", "display_name": "Faris", "link": "https://stackoverflow.com/users/2087511/faris"}, "edited": false, "score": 0, "creation_date": 1496246340, "post_id": 44282701, "comment_id": 75585671, "body": "Could you share your reducer&#39;s code?"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4989642, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-XjKnk_22pNA/AAAAAAAAAAI/AAAAAAAACDE/2akRegj9Dvg/photo.jpg?sz=128", "display_name": "Toni Miguel L&#243;pez", "link": "https://stackoverflow.com/users/4989642/toni-miguel-l%c3%b3pez"}, "edited": false, "score": 0, "creation_date": 1496230157, "post_id": 44283081, "comment_id": 75573540, "body": "This option seems logical, but should not do it automatically? I would like to understand why when the prop of a component changes, the component is rendered again, but it doesn&#39;t work the same when this prop is the segment of the state that has been assigned to it by means of the connect () function of redux"}, {"owner": {"reputation": 14689, "user_id": 558972, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/cHti9.jpg?s=128&g=1", "display_name": "vijayst", "link": "https://stackoverflow.com/users/558972/vijayst"}, "reply_to_user": {"reputation": 143, "user_id": 4989642, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-XjKnk_22pNA/AAAAAAAAAAI/AAAAAAAACDE/2akRegj9Dvg/photo.jpg?sz=128", "display_name": "Toni Miguel L&#243;pez", "link": "https://stackoverflow.com/users/4989642/toni-miguel-l%c3%b3pez"}, "edited": false, "score": 0, "creation_date": 1496231082, "post_id": 44283081, "comment_id": 75574204, "body": "Maybe, the reducer is not mutating state correctly. Usually reducer should return <code>{ ...state, segment: { ...state.segment, mod: &#39;xyz&#39; } }</code> instead of doing <code>state.segment.mod = &#39;xyz&#39;</code>. This is especially true when nested objects are involved."}], "tags": [], "owner": {"reputation": 14689, "user_id": 558972, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/cHti9.jpg?s=128&g=1", "display_name": "vijayst", "link": "https://stackoverflow.com/users/558972/vijayst"}, "is_accepted": false, "score": 0, "last_activity_date": 1496228719, "creation_date": 1496228719, "answer_id": 44283081, "question_id": 44282701, "link": "https://stackoverflow.com/questions/44282701/react-redux-propagation-changes-in-state/44283081#44283081", "title": "React &amp; Redux propagation changes in state", "body": "<p>You should override shouldComponentUpdate.</p>\n\n<pre><code>shouldComponentUpdate(nextProps) {\n  if (nextProps.stateComponent1 !== this.props.stateComponent1) {\n    return false;  \n  }\n  return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4989642, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-XjKnk_22pNA/AAAAAAAAAAI/AAAAAAAACDE/2akRegj9Dvg/photo.jpg?sz=128", "display_name": "Toni Miguel L&#243;pez", "link": "https://stackoverflow.com/users/4989642/toni-miguel-l%c3%b3pez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496300521, "creation_date": 1496227714, "last_edit_date": 1496300521, "question_id": 44282701, "link": "https://stackoverflow.com/questions/44282701/react-redux-propagation-changes-in-state", "title": "React &amp; Redux propagation changes in state", "body": "<p>A simple question: I have two components, with two reducers. The State of the application, basically divided in two, would be something like <code>{stateComponent1: object, stateComponent2: object ....}.</code> <code>Component2</code>, in addition, \"uses\" the state of the first component, this is done by the <code>MapStateToProps</code> function in which we assign the <code>stateComponent1</code> and the <code>stateComponent2</code> (the \"own\").</p>\n\n<p>The question is, when <code>Component1</code> performs a dispatch that causes <code>stateComponent1</code> to change, <code>Component2</code> should be re-rendered, since it has in its props the <code>stateComponent1</code>? The point is that this does not happen.</p>\n\n<p>EDIT: I show you my code</p>\n\n<p>I have a store that does the login, basically this is:</p>\n\n<p>ACTIONS</p>\n\n<pre><code>export const actionCreators = {\n    requestLogin: (credentials: Credentials): AppThunkAction&lt;KnownAction&gt; =&gt; (dispatch, getState) =&gt; {\n        dispatch({\n            type: 'LOGIN_REQUEST',\n            isFetching: true,\n            isAuthenticated: false,\n            credentials: credentials\n        });\n        const config = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n            body: `username=${credentials.username}&amp;password=${credentials.password}`\n        };\n        const loginTask = fetch(`http://localhost:50679/api/jwt`, config).then(response =&gt; response.json()).then((data) =&gt; {\n            if (!data.idToken) {\n                dispatch({\n                    type: 'LOGIN_FAILURE',\n                    isFetching: false,\n                    isAuthenticated: false,\n                    message: 'Error en el login'\n                });\n                return Promise.reject(data);\n            } else {\n                // If login was successful, set the token in local storage\n                if (typeof localStorage !== 'undefined') {\n                    localStorage.setItem('idToken', data.idToken);\n                }\n                // Dispatch the success action\n                dispatch({\n                    type: 'LOGIN_SUCCESS',\n                    isFetching: false,\n                    isAuthenticated: true,\n                    idToken: data.idToken\n                });\n            }\n        });\n    },\n</code></pre>\n\n<p>REDUCERS:</p>\n\n<pre><code>export const reducer: Reducer&lt;LoginState&gt; = (state: LoginState, action: KnownAction) =&gt; {\n    switch (action.type) {\n    case 'LOGIN_REQUEST':\n        return {\n            isFetching: true,\n            isAuthenticated: false,\n            idToken: '',\n            credentials: action.credentials,\n            message: ''\n        };\n    case 'LOGIN_SUCCESS':\n        return {\n            isFetching: false,\n            isAuthenticated: true,\n            idToken: action.idToken,\n            credentials: null,\n            message: ''\n        };\n    case 'LOGIN_FAILURE':\n        return {\n            isFetching: false,\n            isAuthenticated: false,\n            idToken: '',\n            credentials: null,\n            message: action.message\n        };\n    case 'LOGOUT_SUCCESS':\n        return {\n            isFetching: true,\n            isAuthenticated: false,\n            idToken: '',\n            credentials: null,\n            message: ''\n        };\n    default:\n        // The following line guarantees that every action in the KnownAction union has been covered by a case above\n        const exhaustiveCheck: any = action;\n    }\n\n    return state || unloadedState;\n};\n</code></pre>\n\n<p>Now, I have a component that subscribes to the login state, which must \"find out\" when this state changes, ie, for example when login is done, I do this:</p>\n\n<pre><code>return connect(\n    (state: ApplicationState) =&gt;\n    Object.assign(state.login, state.location, state.history)\n)(AuthenticatedComponent);\n</code></pre>\n\n<p>The problem is that my AuthenticationComponent component does not know when the state.login has changed.</p>\n"}, {"tags": ["node.js", "typescript", "npm"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496226878, "post_id": 44282337, "comment_id": 75571369, "body": "can you add your import statement and also your tsconfig.json content to your question?"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5967725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uJZRLoDUol8/AAAAAAAAAAI/AAAAAAAAAMo/2ex9hyKwcfE/photo.jpg?sz=128", "display_name": "mert", "link": "https://stackoverflow.com/users/5967725/mert"}, "edited": false, "score": 0, "creation_date": 1496231498, "post_id": 44283078, "comment_id": 75574559, "body": "As I mentioned in the question, I tried this. In this case, I am getting this error : Module &#39;&#39;autobind-decorator&#39;&#39; resolves to a non-module entity and cannot be imported using this construct :("}, {"owner": {"reputation": 87, "user_id": 5967725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uJZRLoDUol8/AAAAAAAAAAI/AAAAAAAAAMo/2ex9hyKwcfE/photo.jpg?sz=128", "display_name": "mert", "link": "https://stackoverflow.com/users/5967725/mert"}, "edited": false, "score": 0, "creation_date": 1496231617, "post_id": 44283078, "comment_id": 75574668, "body": "I tried both of the import statement. That doesn&#39;t change anything."}, {"owner": {"reputation": 87, "user_id": 5967725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uJZRLoDUol8/AAAAAAAAAAI/AAAAAAAAAMo/2ex9hyKwcfE/photo.jpg?sz=128", "display_name": "mert", "link": "https://stackoverflow.com/users/5967725/mert"}, "edited": false, "score": 0, "creation_date": 1496233114, "post_id": 44283078, "comment_id": 75575842, "body": "Yes. I found the solution here, our import statement is wrong: <a href=\"https://stackoverflow.com/questions/35277354/module-resolves-to-a-non-module-entity-and-cannot-be-imported-using-this-c\" title=\"module resolves to a non module entity and cannot be imported using this c\">stackoverflow.com/questions/35277354/&hellip;</a>"}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": true, "score": 1, "last_activity_date": 1496233347, "last_edit_date": 1496233347, "creation_date": 1496228712, "answer_id": 44283078, "question_id": 44282337, "link": "https://stackoverflow.com/questions/44282337/cannot-find-declaration-file-for-autobind-decorator-in-typescript/44283078#44283078", "title": "Cannot find declaration file for &#39;autobind-decorator&#39; in typescript", "body": "<p>From the type declarations <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/autobind-decorator/index.d.ts\" rel=\"nofollow noreferrer\">here</a> it declares and exports as module,</p>\n\n<p>You need to install the <code>@types</code> as:</p>\n\n<pre><code>npm install @types/autobind-decorator --save-dev\n</code></pre>\n\n<p>and import as:</p>\n\n<pre><code>import autobind = require(\"autobind-decorator\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7654662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkFUz.jpg?s=128&g=1", "display_name": "Bruno Winck", "link": "https://stackoverflow.com/users/7654662/bruno-winck"}, "is_accepted": false, "score": 0, "last_activity_date": 1588690945, "last_edit_date": 1588690945, "creation_date": 1588686916, "answer_id": 61614849, "question_id": 44282337, "link": "https://stackoverflow.com/questions/44282337/cannot-find-declaration-file-for-autobind-decorator-in-typescript/61614849#61614849", "title": "Cannot find declaration file for &#39;autobind-decorator&#39; in typescript", "body": "<p>This worked, not using import at all:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const {\u00a0autobind }\u00a0= require('autobind-decorator');\n</code></pre>\n\n<p>I still had errors at runtime, so I read the doc again</p>\n\n<p><a href=\"https://www.npmjs.com/package/autobind-decorator\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/autobind-decorator</a></p>\n\n<p>and used</p>\n\n<p>const {\u00a0boundMethod }\u00a0= require('autobind-decorator');</p>\n\n<p>that works, </p>\n\n<p>I tried again using import and it failed.</p>\n"}], "owner": {"reputation": 87, "user_id": 5967725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uJZRLoDUol8/AAAAAAAAAAI/AAAAAAAAAMo/2ex9hyKwcfE/photo.jpg?sz=128", "display_name": "mert", "link": "https://stackoverflow.com/users/5967725/mert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 44283078, "answer_count": 2, "score": 2, "last_activity_date": 1588690945, "creation_date": 1496226690, "last_edit_date": 1496228385, "question_id": 44282337, "link": "https://stackoverflow.com/questions/44282337/cannot-find-declaration-file-for-autobind-decorator-in-typescript", "title": "Cannot find declaration file for &#39;autobind-decorator&#39; in typescript", "body": "<p>I am using Typescript and I want to import 'autobind-decorator' package inside project but \u0131 stuck here. </p>\n\n<p>I am getting this error line while compiling:</p>\n\n<blockquote>\n  <p>cannot find declaration file for 'autobind-decorator'. Implicitly has an 'any' type</p>\n</blockquote>\n\n<p>I also tried <code>@types/autobind-decorator</code> npm package, but it didn't work. \nIs there any option to get rid of this compile error ?</p>\n\n<p>Here is my tsconfig:</p>\n\n<pre><code>{\n    \"version\": \"2.1.5\",\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"lib\": [\"es2015\", \"es2016\", \"dom\"],\n        \"sourceMap\": true,\n        \"noImplicitAny\": true,\n        \"target\": \"es6\",\n        \"jsx\": \"react\",\n        \"skipLibCheck\": true,\n        \"experimentalDecorators\": true\n    },\n    \"include\": [\n      \"./packages/ld-web/src/**/*\"\n    ],\n    \"exclude\": [\n        \"**/node_modules\",\n        \"**/*.d.ts\"\n    ]\n}\n</code></pre>\n\n<p>import :</p>\n\n<p><code>import * as autobind from \"autobind-decorator\";</code></p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1496226036, "post_id": 44282055, "comment_id": 75570787, "body": "This is less &quot;sort by&quot; and more &quot;group by&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1499, "user_id": 3629092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZK1nZ.png?s=128&g=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/3629092/slim"}, "edited": false, "score": 0, "creation_date": 1496226947, "post_id": 44282266, "comment_id": 75571399, "body": "The mapping is easier with <code>Object.values</code>"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 1499, "user_id": 3629092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZK1nZ.png?s=128&g=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/3629092/slim"}, "edited": false, "score": 0, "creation_date": 1496229753, "post_id": 44282266, "comment_id": 75573254, "body": "<code>Object.values</code> is very new and has very limited support."}, {"owner": {"reputation": 1112, "user_id": 3324381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oD4it.jpg?s=128&g=1", "display_name": "Antoine Clavijo", "link": "https://stackoverflow.com/users/3324381/antoine-clavijo"}, "edited": false, "score": 0, "creation_date": 1496236457, "post_id": 44282266, "comment_id": 75578333, "body": "I thank&#39;s for this quick response. I use the exemple with Object.keys because with my version of Typescript Object.value don&#39;t work. But i&#39;m glad to ask the question because you gives me usefull responses and now i reconsider all my scripts."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 1, "last_activity_date": 1496226485, "creation_date": 1496226485, "answer_id": 44282266, "question_id": 44282055, "link": "https://stackoverflow.com/questions/44282055/organise-element-in-a-array/44282266#44282266", "title": "Organise element in a array", "body": "<p>You can group the array and map the object using <code>Object.keys</code>:</p>\n\n<pre><code>var groupBy = function(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nvar grouped = groupBy(array, \"country\");\n\nvar mappedArray = Object.keys(grouped).map(key =&gt; ( {name: key, degrees: grouped [key]} ));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1499, "user_id": 3629092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZK1nZ.png?s=128&g=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/3629092/slim"}, "is_accepted": false, "score": 0, "last_activity_date": 1496226737, "creation_date": 1496226737, "answer_id": 44282351, "question_id": 44282055, "link": "https://stackoverflow.com/questions/44282055/organise-element-in-a-array/44282351#44282351", "title": "Organise element in a array", "body": "<p>And one more way: </p>\n\n<pre><code>arr = [ /* your array */ ];\n\narr = Object.values(arr.reduce((ac, el) =&gt; {\n    if(!ac[el.country]) ac[el.country] = {\"name\": el.country, \"degrees\": []}\n\n    ac[el.country].degrees.push(el);\n\n    return ac\n}, {}))\n\nconsole.log(arr) // formated\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15060, "user_id": 7636961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7387f1ccd1200dc8dfb3b49aa0bc7a95?s=128&d=identicon&r=PG", "display_name": "Egor Stambakio", "link": "https://stackoverflow.com/users/7636961/egor-stambakio"}, "is_accepted": false, "score": 0, "last_activity_date": 1496227140, "creation_date": 1496227140, "answer_id": 44282488, "question_id": 44282055, "link": "https://stackoverflow.com/questions/44282055/organise-element-in-a-array/44282488#44282488", "title": "Organise element in a array", "body": "<p>Another solution, which also handles 'id' => '@id' mapping:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const a = [{\"name\":\"brevet\",\"country\":\"fr\"},{\"name\":\"bac\",\"country\":\"fr\"},{\"id\":73,\"name\":\"des\",\"country\":\"ca\"},{\"name\":\"dep\",\"country\":\"ca\"},{\"name\":\"other\",\"country\":\"other\"}];\r\n\r\nconst r = [...new Set(a.map(({country}) =&gt; country))] // list of unique country names\r\n  .map(c =&gt; Object.assign({name: c}, // for each country\r\n    {degrees: a.filter(x =&gt; x.country === c).map(y =&gt; Object.keys(y).includes('id') // handle 'id' =&gt; '@id' mutation\r\n      ? {'@id': \"/subscription_fields/\" + y.id, name: y.name, country: y.country}\r\n      : y)\r\n    }))\r\n\r\nconsole.log(r)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2539, "user_id": 195626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/333234d2c5f6ff8e7dc3e9dbc3e36379?s=128&d=identicon&r=PG", "display_name": "dashton", "link": "https://stackoverflow.com/users/195626/dashton"}, "is_accepted": false, "score": 0, "last_activity_date": 1496230367, "creation_date": 1496230367, "answer_id": 44283636, "question_id": 44282055, "link": "https://stackoverflow.com/questions/44282055/organise-element-in-a-array/44283636#44283636", "title": "Organise element in a array", "body": "<p>This is purely ES6, and quite terse, but possibly less readable. Also, it doesn't add the \"@id\": \"/subscription_fields/83\", which could be added as a post process:</p>\n\n<pre><code>const groupByKey = (arr, key) =&gt; [...arr.reduce((acc, deg) =&gt;\n  acc.set(deg[key],  {name: deg[key], degrees: [ ...(acc.get(deg[key]) || {degrees: []}).degrees, deg]})\n, new Map()).values()];\n\nconsole.log(groupByKey(degrees, 'country'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1496230558, "creation_date": 1496230558, "answer_id": 44283707, "question_id": 44282055, "link": "https://stackoverflow.com/questions/44282055/organise-element-in-a-array/44283707#44283707", "title": "Organise element in a array", "body": "<p>You could use a hash table and collect all values in an object. For getting the result array, you need to push the object only once.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{ name: \"brevet\", country: \"fr\" }, { name: \"bac\", country: \"fr\" }, { id: 73, name: \"des\", country: \"ca\" }, { name: \"dep\", country: \"ca\" }, { name: \"other\", country: \"other\" }],\r\n    result = data.reduce(function (hash) {\r\n        return function (r, a) {\r\n            if (!hash[a.country]) {\r\n                hash[a.country] = { name: a.country, degrees: [] };\r\n                r.push(hash[a.country]);\r\n            }\r\n            hash[a.country].degrees.push({ name: a.name, country: a.country });\r\n            return r;\r\n        };\r\n    }(Object.create(null)), []);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1112, "user_id": 3324381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oD4it.jpg?s=128&g=1", "display_name": "Antoine Clavijo", "link": "https://stackoverflow.com/users/3324381/antoine-clavijo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 44282266, "answer_count": 5, "score": 0, "last_activity_date": 1496234152, "creation_date": 1496225931, "last_edit_date": 1496234152, "question_id": 44282055, "link": "https://stackoverflow.com/questions/44282055/organise-element-in-a-array", "title": "Organise element in a array", "body": "<p>i'm searching a smart way to reoganise an array by a element inside it:\nIn entry i've got: </p>\n\n<pre><code>[{\"name\": \"brevet\",\n\"country\": \"fr\"\n},{\n\"name\": \"bac\",\n\"country\": \"fr\"\n},{\n\"name\": \"des\",\n\"country\": \"ca\"\n},{\n\"name\": \"dep\",\n\"country\": \"ca\"\n}{\n\"name\": \"other\",,\n\"country\": \"other\"}]\n</code></pre>\n\n<p>I want to reorganize my array by country to have this in my output:</p>\n\n<pre><code>[{\n    \"name\": \"fr\",\n    \"degrees\": [\n    {\n        \"name\": \"brevet\",\n        \"country\": \"fr\"\n    },{\n        \"name\": \"bac\",\n        \"country\": \"fr\"\n    }]\n},{\n    \"name\": \"ca\",\n    \"degrees\": [{\n        \"name\": \"des\",\n        \"country\": \"ca\"\n    },{\n        \"name\": \"dep\",\n        \"country\": \"ca\"\n    }]\n},{\n    \"name\": \"other\",\n    \"degrees\": [{\n        \"name\": \"other\",\n        \"country\": \"other\"\n    }]\n}]\n</code></pre>\n\n<p>For this i write a dirty function, but it seems to me there is a better way but i don't see how. If someone can ligth my brain in a better way to do this i'll be helpfull</p>\n\n<pre><code>private organizeDegrees(degrees: Array&lt;SubscriptionFieldInterface&gt;) {\nlet degreesByCountry = new Array();\nlet storeIndex = new Array();\ndegrees.map(degree =&gt; {\n  let index = null;\n  storeIndex.find((element, idx) =&gt; {\n    if (element === degree.country) {\n      index = idx;\n      return true;\n    }\n  });\n  if (index === null) {\n    index = degreesByCountry.length;\n    let newEntry = {\n      'name': degree.country,\n      'degrees': new Array()\n    };\n    storeIndex.push(degree.country);\n    degreesByCountry.push(newEntry);\n  }\n  degreesByCountry[index].degrees.push(degree);\n});\nreturn degreesByCountry;\n}\n</code></pre>\n\n<p>thank's</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 4, "last_activity_date": 1496225895, "creation_date": 1496225895, "answer_id": 44282039, "question_id": 44281848, "link": "https://stackoverflow.com/questions/44281848/types-serialport-module-not-import-into-ts-class/44282039#44282039", "title": "@types/serialport module not import into ts class", "body": "<p><code>Serialport</code> type declarations are from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/serialport\" rel=\"nofollow noreferrer\">DefinitelyTyped</a>.</p>\n\n<p>From <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/serialport/index.d.ts\" rel=\"nofollow noreferrer\">the index.d.ts</a>, it seems to declare a namespace.</p>\n\n<p>Try:</p>\n\n<pre><code>import * as SerialPort  from 'serialport';\n</code></pre>\n\n<p><strong>NOTE</strong>: You directly import from <code>serialport</code> not from <code>@types</code></p>\n"}], "owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1514237001, "creation_date": 1496225363, "last_edit_date": 1592644375, "question_id": 44281848, "link": "https://stackoverflow.com/questions/44281848/types-serialport-module-not-import-into-ts-class", "title": "@types/serialport module not import into ts class", "body": "<p>I have installed this <a href=\"https://github.com/EmergingTechnologyAdvisors/node-serialport\" rel=\"nofollow noreferrer\">dependency(js)</a> in existing Angular(ts) project but you won't compile this code until if it's converted into ts. Then I found a ts supported <a href=\"https://www.npmjs.com/package/@types/serialport\" rel=\"nofollow noreferrer\">repository</a> that can manage your back support for typescript . But anyhow I am not able to import those dependency in my class</p>\n<pre><code> import { SerialPort } from '@types/serialport';\n</code></pre>\n<p>And throw an error\n<strong>node_modules/@types/serialport/index&quot;' has no exported member 'SerialPort'.</strong></p>\n<p>So any other way can I import <strong>serialport</strong> object ? Please give a flag exactly where I am doing wrong. Your help would be highly appreciated.\nThanks in advance.</p>\n"}, {"tags": ["javascript", "rest", "angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496225362, "post_id": 44281773, "comment_id": 75570317, "body": "have you tried testing your api with a rest client?"}, {"owner": {"reputation": 170, "user_id": 3931904, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e514cc2026c7456ba15b1c8290091129?s=128&d=identicon&r=PG&f=1", "display_name": "ArsalanK", "link": "https://stackoverflow.com/users/3931904/arsalank"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496225859, "post_id": 44281773, "comment_id": 75570670, "body": "@suraj yes I tried rest client and also I tried with browser it working fine there.."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496225949, "post_id": 44281773, "comment_id": 75570717, "body": "Maybe you are missing some headers you had set there.."}, {"owner": {"reputation": 291, "user_id": 7506403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/004716015a129ce12e88082365f3bf33?s=128&d=identicon&r=PG&f=1", "display_name": "Onur &#214;nder", "link": "https://stackoverflow.com/users/7506403/onur-%c3%96nder"}, "edited": false, "score": 0, "creation_date": 1496231880, "post_id": 44281773, "comment_id": 75574882, "body": "A review of this example <a href=\"http://www.icoderslab.com/how-to-fetch-json-data-from-web-service-in-ionic-2-app-using-angular-2/\" rel=\"nofollow noreferrer\">icoderslab.com/&hellip;</a> .Hope helps"}, {"owner": {"reputation": 711, "user_id": 5068315, "user_type": "registered", "profile_image": "https://graph.facebook.com/873786929365784/picture?type=large", "display_name": "Sangram Haladkar", "link": "https://stackoverflow.com/users/5068315/sangram-haladkar"}, "edited": false, "score": 0, "creation_date": 1499860665, "post_id": 44281773, "comment_id": 77087142, "body": "Is your problem solved?"}, {"owner": {"reputation": 170, "user_id": 3931904, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e514cc2026c7456ba15b1c8290091129?s=128&d=identicon&r=PG&f=1", "display_name": "ArsalanK", "link": "https://stackoverflow.com/users/3931904/arsalank"}, "reply_to_user": {"reputation": 711, "user_id": 5068315, "user_type": "registered", "profile_image": "https://graph.facebook.com/873786929365784/picture?type=large", "display_name": "Sangram Haladkar", "link": "https://stackoverflow.com/users/5068315/sangram-haladkar"}, "edited": false, "score": 0, "creation_date": 1503985917, "post_id": 44281773, "comment_id": 78821239, "body": "@Aaryaans yes resolved"}], "owner": {"reputation": 170, "user_id": 3931904, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e514cc2026c7456ba15b1c8290091129?s=128&d=identicon&r=PG&f=1", "display_name": "ArsalanK", "link": "https://stackoverflow.com/users/3931904/arsalank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496225769, "creation_date": 1496225167, "last_edit_date": 1496225769, "question_id": 44281773, "link": "https://stackoverflow.com/questions/44281773/ionic-2-rest-api-call", "title": "Ionic 2 : Rest Api call", "body": "<p>I'm trying to get data from rest API using GET method but whenever I call function it gave me an error following are my code and error I'm getting: </p>\n\n<p><strong>CODE</strong>:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n\n@Injectable()\nexport class DataService {\npublic data:any\n  constructor(public http: Http) {\n\n  }\n\n  load() {\n  if (this.data) {\n\n    return Promise.resolve(this.data);\n  }\n\n\n  return new Promise(resolve =&gt; {\n\nthis.http.get('http://localhost:65463/api/values')\n      .map(res =&gt; res.json())\n      .subscribe(data =&gt; {\n\n        this.data = data;\n        resolve(this.data);\n      });\n  });\n}\n\n}\n</code></pre>\n\n<p>Check in console and getting this error.\n<strong>ERROR</strong>:</p>\n\n<pre><code> ERROR Response {_body: XMLHttpRequestProgressEvent, status: 0, ok: false, statusText: \"\", headers: Headers\u2026}\n main.js:1364\ndefaultErrorLogger main.js:1364\nErrorHandler.handleError main.js:1424\nngZone.onError.subscribe.next main.js:5053\nschedulerFn main.js:4127\nSafeSubscriber.__tryOrUnsub main.js:40952\nSafeSubscriber.next main.js:40901\nSubscriber._next main.js:40843\nSubscriber.next main.js:40807\nSubject.next main.js:59961\nEventEmitter.emit main.js:4113\nNgZone.triggerError main.js:4484\ninner.inner.fork.onHandleError main.js:4445\nt.handleError polyfills.js:3\nn.runTask polyfills.js:3\ninvoke polyfills.js:3\nGET http://localhost:65463/api/values  polyfills.js:2\nXMLHttpRequest.n.responseBlob.r.function.o.(anonymous function).M.(anonymous function).(anonymous function) polyfills.js:2\ne polyfills.js:3\nt.scheduleTask polyfills.js:3\nP.onScheduleTask polyfills.js:3\nt.scheduleTask polyfills.js:3\nn.scheduleTask polyfills.js:3\nn.scheduleMacroTask polyfills.js:3\n(anonymous function) polyfills.js:3\nsend\n(anonymous function) main.js:47316\nObservable._trySubscribe main.js:18744\nObservable.subscribe main.js:18732\nMapOperator.call main.js:100380\nObservable.subscribe main.js:18729\n(anonymous function) main.js:61156\nt polyfills.js:3\nDataService.load main.js:61150\nItemService main.js:40599\nObject.defineProperty.get module.ngfactory.js:1\nAppModuleInjector.getInternal module.ngfactory.js:1\nNgModuleInjector.get main.js:3855\nresolveDep main.js:11260\ncreateClass main.js:11123\ncreateDirectiveInstance main.js:10954\ncreateViewNodes main.js:12303\ncreateRootView main.js:12208\ncallWithDebugContext main.js:13339\ndebugCreateRootView main.js:12800\nComponentFactory_.create main.js:10145\nComponentFactoryBoundToModule.create main.js:3726\nNavControllerBase._viewInit main.js:45155\nNavControllerBase._nextTrns main.js:44967\nNavControllerBase._queueTrns main.js:44924\nNavControllerBase._setPages main.js:44851\n(anonymous function) main.js:44822\nt.invoke polyfills.js:3\ninner.inner.fork.onInvoke main.js:4424\nt.invoke polyfills.js:3\nn.run polyfills.js:3\n(anonymous function) polyfills.js:3\nt.invokeTask polyfills.js:3\ninner.inner.fork.onInvokeTask main.js:4415\nt.invokeTask polyfills.js:3\nn.runTask polyfills.js:3\na\n</code></pre>\n\n<p>I need helps guys! &amp; need some good tutorial of angular 2 rest Api call</p>\n"}, {"tags": ["javascript", "angular", "typescript", "output"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 2, "creation_date": 1496226676, "post_id": 44281328, "comment_id": 75571225, "body": "<code>childEvent</code> needs to be <code>someChildEvent</code>"}, {"owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1496227163, "post_id": 44281328, "comment_id": 75571520, "body": "@echonax Absolutely correct, however how do we get the value of <code>&lt;child-component&gt;</code>&#39;s <code>select</code> element inside the <code>submit(f)</code> function?"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1496227773, "post_id": 44281328, "comment_id": 75571955, "body": "Do you mean like <code>onChange($event)</code> instead of <code>onChange(someID.value)</code>?"}, {"owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1496228234, "post_id": 44281328, "comment_id": 75572261, "body": "@echonax The value of <code>$event</code> is coming as <code>0</code> when <code>onChange($event)</code> is used instead of <code>onChange(someID.value) </code>"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1496228279, "post_id": 44281328, "comment_id": 75572280, "body": "That may be because <code>[ngValue]=&quot;a.key&quot;</code> so <code>a.key</code> is <code>0</code> I guess? It&#39;ll send the whole object with <code>[ngValue]=&quot;a&quot;</code>"}, {"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 1, "creation_date": 1496230588, "post_id": 44281328, "comment_id": 75573872, "body": "Just a suggestion, instead of using the <code>outputs</code> property in the @Component annotation, use the @Output annotation on the someChildEvent property like so: <code>@Output() someChildEvent = new EventEmitter&lt;string&gt;();</code>"}, {"owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "reply_to_user": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1496235199, "post_id": 44281328, "comment_id": 75577359, "body": "@Martin Can you elaborate? Why is it good?"}, {"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 1, "creation_date": 1496239508, "post_id": 44281328, "comment_id": 75580635, "body": "It will make your code more readable and maintainable. For instance, if you refactor the name of the <code>someChildEvent</code> property you won&#39;t need to update the string array in <code>outputs</code> that can&#39;t be type-checked."}], "answers": [{"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "edited": false, "score": 2, "creation_date": 1496228855, "post_id": 44283060, "comment_id": 75572671, "body": "@xameeramir Glad I could help :-)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 2, "last_activity_date": 1496228656, "creation_date": 1496228656, "answer_id": 44283060, "question_id": 44281328, "link": "https://stackoverflow.com/questions/44281328/get-child-component-form-value-in-parent-components-form-submission/44283060#44283060", "title": "Get child component form value in parent component&#39;s form submission?", "body": "<pre><code>&lt;child-component (childEvent)=\"childData=$event\"&gt;&lt;/child-component&gt; \n</code></pre>\n\n<p>the event name in here needs to match your method name so it should be:</p>\n\n<pre><code>&lt;child-component (someChildEvent)=\"childData=$event\"&gt;&lt;/child-component&gt;\n</code></pre>\n\n<p>and if you like to send the object selected in your select box, change <code>ngValue</code> to that object and the change the model event accordingly:</p>\n\n<p><code>[ngValue]=\"a\"</code></p>\n\n<p><code>(ngModelChange)=\"onChange($event)\"</code></p>\n"}], "owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 44283060, "answer_count": 1, "score": 1, "last_activity_date": 1500745428, "creation_date": 1496223977, "last_edit_date": 1500745428, "question_id": 44281328, "link": "https://stackoverflow.com/questions/44281328/get-child-component-form-value-in-parent-components-form-submission", "title": "Get child component form value in parent component&#39;s form submission?", "body": "<blockquote>\n  <p>Note: since the <a href=\"https://stackoverflow.com/q/44303935/2404470\">problem is a little complex</a>, the code is abstracted for readability</p>\n</blockquote>\n\n<p>We have a <code>&lt;child-component&gt;</code> component template like this:</p>\n\n<pre><code>&lt;select name=\"someName\" #someID ngDefaultControl [(ngModel)]=\"someModel\" (ngModelChange)=\"onChange(someID.value)\"&gt;\n      &lt;option *ngFor=\"let a of list\" [ngValue]=\"a.key\"&gt;{{a.value}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>And the <code>ts</code> file is with <a href=\"https://www.youtube.com/watch?v=v7RNNj8u13g\" rel=\"nofollow noreferrer\">output</a> configuration:</p>\n\n<pre><code>@Component({\n  moduleId: module.id,\n  selector: 'child-component',\n  templateUrl: 'child-component.html',\n  outputs: ['someChildEvent']\n})\n\nexport class ChildComponent {\n  someChildEvent = new EventEmitter&lt;string&gt;();\n  onChange(value) {\n    this.someChildEvent.emit(value);\n  }\n}\n</code></pre>\n\n<p>Which we're calling in a <code>&lt;parent-component&gt;</code> like this:</p>\n\n<pre><code>&lt;form #f=\"ngForm\" (submit)=\"submit(f)\" &gt;\n&lt;child-component (childEvent)=\"childData=$event\"&gt;&lt;/child-component&gt;\n&lt;input type=\"submit\" value=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>with <code>.ts</code> like:</p>\n\n<pre><code>export class ParentComponent {\n    childData;\n\n    submit(f) {\n        //How to access childData here?\n    }\n}\n</code></pre>\n\n<ul>\n<li>Is it the correct implementation of the <a href=\"http://learnangular2.com/outputs/\" rel=\"nofollow noreferrer\">output configuration</a> in Angular 2?</li>\n<li>How do we access the value of the <code>select</code>'s <code>option</code> from <code>&lt;child-component&gt;</code> on <code>&lt;parent-component&gt;</code>'s <code>form</code> submit to <code>submit(f)</code> function?</li>\n</ul>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-formbuilder"], "comments": [{"owner": {"reputation": 1775, "user_id": 3319392, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TwgMn.jpg?s=128&g=1", "display_name": "Jette", "link": "https://stackoverflow.com/users/3319392/jette"}, "edited": false, "score": 1, "creation_date": 1535456448, "post_id": 44280926, "comment_id": 91064092, "body": "For anyone who reads this: I struggled with this error after following a tutorial about FormArray. The solution is simple, just init the FormArray with a pair of empty square brackets []:  this.formBuilder.array([ ]). I don&#39;t know what the function call in there is supposed to do, I just know it gives that error."}], "answers": [{"comments": [{"owner": {"reputation": 479, "user_id": 2696486, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71257c36607c62e2cf86f4811a273ab9?s=128&d=identicon&r=PG", "display_name": "Jassi", "link": "https://stackoverflow.com/users/2696486/jassi"}, "edited": false, "score": 0, "creation_date": 1520145059, "post_id": 44281902, "comment_id": 85190571, "body": "i think it should be control.controls.removeAt(i). Because the console.log(control) has a array with name controls otherwise you get the error &quot;Cannot read property &#39;enabled&#39; of null&quot;."}, {"owner": {"reputation": 6189, "user_id": 1552611, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8380ba5c8304425f8a889a774d7c9116?s=128&d=identicon&r=PG", "display_name": "sushmit sarmah", "link": "https://stackoverflow.com/users/1552611/sushmit-sarmah"}, "edited": false, "score": 0, "creation_date": 1543299921, "post_id": 44281902, "comment_id": 93857277, "body": "Thanks. This was the only solution that worked in this whole page."}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1560709248, "post_id": 44281902, "comment_id": 99815883, "body": "Instead of the <code>for-loop</code>, you can just do <code>control.clear()</code>."}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 15, "last_activity_date": 1567073645, "last_edit_date": 1567073645, "creation_date": 1496225527, "answer_id": 44281902, "question_id": 44280926, "link": "https://stackoverflow.com/questions/44280926/angular-4-setvalue-formbuilder-empty-array/44281902#44281902", "title": "Angular 4: setValue formBuilder empty array", "body": "<p><strong>EDIT:</strong></p>\n\n<p>As of newer versions, Angular now supports clearing a <code>FormArray</code> with <code>clear()</code>:</p>\n\n<pre><code>(&lt;FormArray&gt;this.form.get('memes')).clear();\n</code></pre>\n\n<hr>\n\n<p><strong>ORIGINAL:</strong></p>\n\n<p>Tried a few things:<code>reset()</code>,<code>setControl()</code>, but the following was the only solution I found to work that actually resets the whole array to <code>[]</code>, other options worked, but they left the formgroups in place, just emptied the values.</p>\n\n<p>So how I got it to work, was to iterate the form array and delete each form group with that particular index in the loop:</p>\n\n<pre><code>const control = &lt;FormArray&gt;this.form.controls['memes'];\n\nfor(let i = control.length-1; i &gt;= 0; i--) {\n  control.removeAt(i)\n}\n</code></pre>\n\n<p>If there is a better way, I'm open for suggestions! :)</p>\n"}, {"comments": [{"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 1, "creation_date": 1552126619, "post_id": 45444263, "comment_id": 96899241, "body": "And we still do it like this in Angular 7"}, {"owner": {"reputation": 235, "user_id": 1606578, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b7be4a4becf09c22850197cb2d2d9731?s=128&d=identicon&r=PG", "display_name": "mlakhara", "link": "https://stackoverflow.com/users/1606578/mlakhara"}, "edited": false, "score": 1, "creation_date": 1559755948, "post_id": 45444263, "comment_id": 99522269, "body": "Doing this leaves the parent form invalid if the formArray had an invalid control before clearing it like this. The best way for Ng&lt;8 is to use removeAt in a loop. For Angular 8+, use FormArray.clear() method"}], "tags": [], "owner": {"reputation": 240, "user_id": 6866773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e8aa140dd944ce0dfc363e4f6f3525?s=128&d=identicon&r=PG", "display_name": "Jacob Kochocki", "link": "https://stackoverflow.com/users/6866773/jacob-kochocki"}, "is_accepted": false, "score": 8, "last_activity_date": 1501608478, "creation_date": 1501608478, "answer_id": 45444263, "question_id": 44280926, "link": "https://stackoverflow.com/questions/44280926/angular-4-setvalue-formbuilder-empty-array/45444263#45444263", "title": "Angular 4: setValue formBuilder empty array", "body": "<p>Try <code>this.myForm.controls['myFormArray'] = this.formBuilder.array([]);</code> with formBuilder service instantiated in your constructor. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6535252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d36108cb1e54eff16c16db9291ea1f?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6535252/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1508355296, "last_edit_date": 1508355296, "creation_date": 1508353578, "answer_id": 46817459, "question_id": 44280926, "link": "https://stackoverflow.com/questions/44280926/angular-4-setvalue-formbuilder-empty-array/46817459#46817459", "title": "Angular 4: setValue formBuilder empty array", "body": "<p>I was having a similar issue, where I would get said error after updating my form, and after a bunch of investigation and failed experimentation I found that <code>this.myForm.updateValueAndValidity</code> finally did the trick.</p>\n"}, {"comments": [{"owner": {"reputation": 2261, "user_id": 7327572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/111afeb457014dbcc846245eec06e492?s=128&d=identicon&r=PG&f=1", "display_name": "FilipRistic", "link": "https://stackoverflow.com/users/7327572/filipristic"}, "edited": false, "score": 1, "creation_date": 1519340975, "post_id": 48938527, "comment_id": 84884408, "body": "Please add some explanation to your answer, this helps to OP as well as to other people that might end up here while searching for similar problem."}], "tags": [], "owner": {"reputation": 326, "user_id": 8909979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHVl5.png?s=128&g=1", "display_name": "Ricardo Cayetano", "link": "https://stackoverflow.com/users/8909979/ricardo-cayetano"}, "is_accepted": false, "score": 5, "last_activity_date": 1519339841, "creation_date": 1519339841, "answer_id": 48938527, "question_id": 44280926, "link": "https://stackoverflow.com/questions/44280926/angular-4-setvalue-formbuilder-empty-array/48938527#48938527", "title": "Angular 4: setValue formBuilder empty array", "body": "<p><strong>FORM</strong></p>\n\n<pre><code>this.form = this._formB.group({\n    blocks: this._formB.array([])\n});\n</code></pre>\n\n<p><strong>1st method</strong></p>\n\n<pre><code>let fArray = &lt;FormArray&gt;this.form.controls['blocks'];\nwhile (fArray.length !== 0) {\n  fArray.removeAt(0)\n}\n</code></pre>\n\n<p><strong>2nd method</strong></p>\n\n<pre><code>this.form.setControl('blocks', this._formB.array([]));\n</code></pre>\n"}], "owner": {"reputation": 5334, "user_id": 1645431, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zzbpU.jpg?s=128&g=1", "display_name": "brabertaser19", "link": "https://stackoverflow.com/users/1645431/brabertaser19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14193, "favorite_count": 1, "accepted_answer_id": 44281902, "answer_count": 4, "score": 10, "last_activity_date": 1592626898, "creation_date": 1496223045, "question_id": 44280926, "link": "https://stackoverflow.com/questions/44280926/angular-4-setvalue-formbuilder-empty-array", "title": "Angular 4: setValue formBuilder empty array", "body": "<p>I have such reactive form:</p>\n\n<pre><code>constructor(...){\n  this.form = this.formBuilder.group({\n    name: ['', Validators.compose([Validators.required, Validators.maxLength(50)])],\n    memes: this.formBuilder.array([\n      this.initMemes('TrollFace')\n    ])\n  });\n}\n\ninitMemes (name?) {\n  return this.formBuilder.group({\n    id: [''], name: [name]\n  });\n}\n</code></pre>\n\n<p>later i can add some more <code>memes</code>:</p>\n\n<pre><code>addMemes () {\n  const control = &lt;FormArray&gt;this.form.controls['memes'];\n  control.push(this.initMemes('anyName'));\n}\n</code></pre>\n\n<p>and then if i get form values i get:</p>\n\n<p><code>this.form.controls['memes'].value</code> - here i have array</p>\n\n<p>But there is a case, when i need this <code>this.form.controls['memes'].value</code> to set to an empty array, how is it possible to do?</p>\n\n<p>If i set it this way:</p>\n\n<p><code>this.form.controls['memes'].setValue([])</code></p>\n\n<p>I got error: <code>Must supply a value for form control at index: 0.</code></p>\n\n<p>what i do wrong?</p>\n"}, {"tags": ["angular", "typescript", "kendo-ui-angular2"], "comments": [{"owner": {"reputation": 1733, "user_id": 324224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89d497a0fcc1a2b39f2e898fafe53702?s=128&d=identicon&r=PG", "display_name": "George K", "link": "https://stackoverflow.com/users/324224/george-k"}, "edited": false, "score": 0, "creation_date": 1496223436, "post_id": 44280670, "comment_id": 75568892, "body": "Could you share a runnable demo? A plunkr or Github repo. Thus other members could debug on-site and find the cause much easier."}, {"owner": {"reputation": 2074, "user_id": 6224482, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3ddc3b99c7d7832cae88d88cda112fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sandman", "link": "https://stackoverflow.com/users/6224482/sandman"}, "edited": false, "score": 0, "creation_date": 1496223779, "post_id": 44280670, "comment_id": 75569151, "body": "Another thing to check is how many times you have included your TS file on the page.."}], "owner": {"reputation": 3601, "user_id": 5490695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fada82ffbcaa4c7a79462b54dff85633?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5490695/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497617987, "creation_date": 1496222431, "last_edit_date": 1497617987, "question_id": 44280670, "link": "https://stackoverflow.com/questions/44280670/component-valuechange-function-gets-triggerd-twice", "title": "Component valuechange function get&#39;s triggerd twice", "body": "<p>I have this loop in my template that creates a kendo dropdown</p>\n\n<pre><code>&lt;ng-template ngFor let-item [ngForOf]=\"definitionDetails.Groupings\" let-i=\"index\"&gt;\n    &lt;div *ngIf=\"max-1 &gt;= i &amp;&amp; (definitionDetails.Groupings[i-1] || i === 0)\"class=\"col-xs-10 col-sm-10 col-md-10 marginbottom-15 right\"&gt;\n        {{ i }}\n        &lt;kendo-combobox [data]=\"data\"\n                        [textField]=\"'Name'\"\n                        [valueField]=\"'Type'\"\n                        [(value)]=\"definitionDetails.Groupings[i]\"\n                        (valueChange)=\"groupingValueChangeHandler($event, i)\"&gt;\n\n        &lt;/kendo-combobox&gt;\n        &lt;span *ngIf=\"definitionDetails.Groupings[1]\"&gt;\n            &lt;i class=\"fa clickable group-descending\"\n               aria-hidden=\"true\"\n               [class.fa-sort-alpha-asc]=\"!definitionDetails.Groupings[i].Descending\"\n               [class.fa-sort-alpha-desc]=\"definitionDetails.Groupings[i].Descending\"\n               (click)=\"groupingDescendingChangeHandler(1)\"&gt;\n\n            &lt;/i&gt;\n        &lt;/span&gt;\n    &lt;/div&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>The dropdown has a <code>(valueChange)</code> but for some reaon it gets triggered twice in a row. <code>(valueChange)</code> executes this function:</p>\n\n<pre><code>public groupingValueChangeHandler(value: any, i: number) {\n    console.log(value);\n    console.log(i);\n    if (typeof value === \"undefined\") {\n        if (i === 0) {               \n            i = 1;\n        }\n        this.definitionDetails.Groupings.length = i;\n    }\n}\n</code></pre>\n\n<p>In my console I can see that this is happening:\n<a href=\"https://i.stack.imgur.com/jQnFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jQnFl.png\" alt=\"enter image description here\"></a></p>\n\n<p>So for some reason it get's triggerd a second time with an undefined value. </p>\n\n<p>How can I fix this issue and get rid of the second trigger?</p>\n"}, {"tags": ["javascript", "angular", "generics", "typescript", "angular2-template"], "comments": [{"owner": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "edited": false, "score": 1, "creation_date": 1517450328, "post_id": 44280311, "comment_id": 84104814, "body": "hey just wondering if you could solve adding nested components like this?"}], "owner": {"reputation": 6247, "user_id": 387912, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d5ce1d82649f94df582b84950342d60?s=128&d=identicon&r=PG", "display_name": "Steffi", "link": "https://stackoverflow.com/users/387912/steffi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496227132, "creation_date": 1496221474, "last_edit_date": 1496227132, "question_id": 44280311, "link": "https://stackoverflow.com/questions/44280311/how-to-create-table-as-generic-component-in-angular-2", "title": "How to create table as generic component in Angular 2?", "body": "<p>I have this table below. This kind of table can be found anywhere in my project, with different number of columns, with-or-without header column. That's why I would like to create a generic component, more simple, and have his own CSS.</p>\n\n<pre><code>&lt;table class=\"table\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th style=\"width: 100px\"&gt;&lt;/th&gt;\n      &lt;th&gt; {{ 'nameColumn_result_name' | translate }} &lt;/th&gt;\n      &lt;th&gt; {{ 'nameColumn_result_date' | translate }} \n    &lt;/tr&gt;\n  &lt;/thead&gt;                  \n  &lt;tbody #lines&gt;\n    &lt;tr #lineSelected *ngFor=\"let result of results\" \n      (click)=\"appendLine($event, lineSelected, result)\" \n      (contextmenu)=\"multipleSelection($event)\"&gt;\n      &lt;td (click)=\"selectUnitaryLine($event, result)\" class=\"arrowDown\"&gt;&lt;/td&gt;\n      &lt;td&gt;{{result.name}}&lt;/td&gt;\n      &lt;td&gt;{{result.date}}&lt;/td&gt;\n    &lt;/tr&gt;       \n    &lt;tr *ngIf=\"result &amp;&amp; result .length == 0\" &gt;\n      &lt;td colspan=\"10\" class=\"text-center\"&gt;{{ 'no_result _found' | translate }}&lt;/td&gt;\n    &lt;/tr&gt;   \n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I would like something like this :</p>\n\n<pre><code>&lt;CustomTable [data]=\"results\" (click)=\"appendLine($event, lineSelected, result)\" (contextmenu)=\"multipleSelection($event)\"&gt;\n   &lt;CustomTableColumn style=\"width: 100px\" (click)=\"selectUnitaryLine($event, result)\"&gt;&lt;/CustomTableColumn&gt;\n   &lt;CustomTableColumn [data]=\"name\"&gt; {{ 'nameColumn_result_name' | translate }} &lt;/CustomTableColumn&gt;\n   &lt;CustomTableColumn [data]=\"date\"&gt; {{ 'nameColumn_result_date' | translate }}&lt;/CustomTableColumn&gt; \n&lt;/CustomTable&gt;\n</code></pre>\n\n<p>The idea is that CustomTable generate <code>table</code>, <code>thead</code>, <code>tbody</code> and <code>tr</code> and <code>CustomTableColumn</code> generate <code>td</code>. The <code>events (click)</code> are not generic. It can be add by the page which use this table. </p>\n\n<p>So I create my component: </p>\n\n<p><strong>customtable.component.ts</strong></p>\n\n<pre><code> @Component({\n   selector: 'CustomTable',\n   templateUrl: './customtable.component.html',\n   styleUrls: ['./customtable.component.css']\n })\n (...)\n</code></pre>\n\n<p>I don't know how to do that? </p>\n\n<p>Can you help me please?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3652, "user_id": 3455035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bF5qd.jpg?s=128&g=1", "display_name": "anoop", "link": "https://stackoverflow.com/users/3455035/anoop"}, "edited": false, "score": 3, "creation_date": 1496221893, "post_id": 44280303, "comment_id": 75567711, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular-2\">How to pass url arguments (query string) to a HTTP request on Angular 2</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 8, "creation_date": 1506434946, "post_id": 44282037, "comment_id": 79814602, "body": "<code>search</code> deprecated for angular 4, use <code>params</code> instead"}, {"owner": {"reputation": 171, "user_id": 5461797, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207950099094864/picture?type=large", "display_name": "baltzar", "link": "https://stackoverflow.com/users/5461797/baltzar"}, "edited": false, "score": 4, "creation_date": 1575039965, "post_id": 44282037, "comment_id": 104445850, "body": "Keep in mind that <code>params.set(&quot;key&quot;, value)</code> doesn&#39;t update the original params-object, so you need to reassign it: <code>params = params.set(&quot;key&quot;, value)</code> unless you chain them like in the answer"}, {"owner": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "reply_to_user": {"reputation": 171, "user_id": 5461797, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207950099094864/picture?type=large", "display_name": "baltzar", "link": "https://stackoverflow.com/users/5461797/baltzar"}, "edited": false, "score": 0, "creation_date": 1580671391, "post_id": 44282037, "comment_id": 106164623, "body": "@BaltzarMattson Thank you so much for mentioning this! I would have wasted a few hours otherwise."}, {"owner": {"reputation": 646, "user_id": 1229360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03254d57bf09c3dbe74a39f751f11122?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1229360/greg"}, "reply_to_user": {"reputation": 171, "user_id": 5461797, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207950099094864/picture?type=large", "display_name": "baltzar", "link": "https://stackoverflow.com/users/5461797/baltzar"}, "edited": false, "score": 0, "creation_date": 1580767911, "post_id": 44282037, "comment_id": 106199180, "body": "To put @BaltzarMattson &#39;s answer in a more &quot;computer-sciency&quot; way is that <code>set</code> is a non-mutating method of <code>params</code>. (A number of programmers in general need to learn the difference between mutating and non-mutating and its significance -- my 2&#162;)"}], "tags": [], "owner": {"reputation": 2228, "user_id": 5441424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D91ou.jpg?s=128&g=1", "display_name": "DGarvanski", "link": "https://stackoverflow.com/users/5441424/dgarvanski"}, "is_accepted": true, "score": 118, "last_activity_date": 1549989695, "last_edit_date": 1549989695, "creation_date": 1496225891, "answer_id": 44282037, "question_id": 44280303, "link": "https://stackoverflow.com/questions/44280303/angular-http-get-with-parameter/44282037#44282037", "title": "Angular, Http GET with parameter?", "body": "<p>Having something like this:</p>\n\n<pre><code>let headers = new Headers();\nheaders.append('Content-Type', 'application/json');\nheaders.append('projectid', this.id);\nlet params = new URLSearchParams();\nparams.append(\"someParamKey\", this.someParamValue)\n\nthis.http.get('http://localhost:63203/api/CallCenter/GetSupport', { headers: headers, search: params })\n</code></pre>\n\n<p>Of course, appending every param you need to <code>params</code>. It gives you a lot more flexibility than just using a URL string to pass params to the request.</p>\n\n<p><strong>EDIT(28.09.2017):</strong> As <a href=\"https://stackoverflow.com/users/765965/al-mothafar\"><strong>Al-Mothafar</strong></a> stated in a comment, <code>search</code> is deprecated as of Angular 4, so you should use <code>params</code></p>\n\n<p><strong>EDIT(02.11.2017):</strong> If you are using the new <code>HttpClient</code> there are now <code>HttpParams</code>, which look and are used like this:</p>\n\n<pre><code>let params = new HttpParams().set(\"paramName\",paramValue).set(\"paramName2\", paramValue2); //Create new HttpParams\n</code></pre>\n\n<p>And then add the params to the request in, basically, the same way:</p>\n\n<pre><code>this.http.get(url, {headers: headers, params: params}); \n//No need to use .map(res =&gt; res.json()) anymore\n</code></pre>\n\n<p>More in the docs for <a href=\"https://angular.io/api/common/http/HttpParams\" rel=\"noreferrer\"><code>HttpParams</code></a> and <a href=\"https://angular.io/api/common/http/HttpClient\" rel=\"noreferrer\"><code>HttpClient</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 8718204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q00ON.png?s=128&g=1", "display_name": "V.Tur", "link": "https://stackoverflow.com/users/8718204/v-tur"}, "is_accepted": false, "score": 3, "last_activity_date": 1584688527, "creation_date": 1584688527, "answer_id": 60769979, "question_id": 44280303, "link": "https://stackoverflow.com/questions/44280303/angular-http-get-with-parameter/60769979#60769979", "title": "Angular, Http GET with parameter?", "body": "<p>Above solutions not helped me, but I resolve same issue by next way</p>\n\n<pre><code>private setHeaders(params) {      \n        const accessToken = this.localStorageService.get('token');\n        const reqData = {\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            },\n        };\n        if(params) {\n            let reqParams = {};        \n            Object.keys(params).map(k =&gt;{\n                reqParams[k] = params[k];\n            });\n            reqData['params'] = reqParams;\n        }\n        return reqData;\n    }\n</code></pre>\n\n<p>and send request </p>\n\n<pre><code>this.http.get(this.getUrl(url), this.setHeaders(params))\n</code></pre>\n\n<p>Its work with NestJS backend, with other I don't know.</p>\n"}, {"tags": [], "owner": {"reputation": 441, "user_id": 5517465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8544705bd5f7b2c20240429103923b7?s=128&d=identicon&r=PG&f=1", "display_name": "Yassir Khaldi", "link": "https://stackoverflow.com/users/5517465/yassir-khaldi"}, "is_accepted": false, "score": 8, "last_activity_date": 1595541483, "creation_date": 1595541483, "answer_id": 63063707, "question_id": 44280303, "link": "https://stackoverflow.com/questions/44280303/angular-http-get-with-parameter/63063707#63063707", "title": "Angular, Http GET with parameter?", "body": "<p>For Angular 9+ You can add headers and params directly without the key-value notion:</p>\n<pre><code>const headers = new HttpHeaders().append('header', 'value');\nconst params = new HttpParams().append('param', 'value');\nthis.http.get('url', {headers, params}); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 10178045, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wUOYcVuIa_I/AAAAAAAAAAI/AAAAAAAAAMQ/Szzvkd6YNAY/photo.jpg?sz=128", "display_name": "Malik Haseeb", "link": "https://stackoverflow.com/users/10178045/malik-haseeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1607599050, "creation_date": 1607599050, "answer_id": 65233494, "question_id": 44280303, "link": "https://stackoverflow.com/questions/44280303/angular-http-get-with-parameter/65233494#65233494", "title": "Angular, Http GET with parameter?", "body": "<p>An easy and usable way to solve this problem</p>\n<pre><code>getGetSuppor(filter): Observale&lt;any[]&gt; {\n   return this.https.get&lt;any[]&gt;('/api/callCenter/getSupport' + '?' + this.toQueryString(filter));\n}\n\nprivate toQueryString(query): string {\n   var parts = [];\n   for (var property in query) {\n     var value = query[propery];\n     if (value != null &amp;&amp; value != undefined)\n        parts.push(encodeURIComponent(propery) + '=' + encodeURIComponent(value))\n   }\n   \n   return parts.join('&amp;');\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8090896"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193878, "favorite_count": 12, "accepted_answer_id": 44282037, "answer_count": 4, "score": 56, "last_activity_date": 1607599050, "creation_date": 1496221456, "last_edit_date": 1496241870, "question_id": 44280303, "link": "https://stackoverflow.com/questions/44280303/angular-http-get-with-parameter", "title": "Angular, Http GET with parameter?", "body": "<p>I dont know how to make an API call to such a method:</p>\n\n<pre><code>[HttpGet]\n[ActionName(\"GetSupport\")]\npublic HttpResponseMessage GetSupport(int projectid)\n</code></pre>\n\n<p>Because it is GET but still got a parameter to pass, how to do this?\nWould it be something like this?</p>\n\n<pre><code>let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('projectid', this.id);\n\n      this.http.get('http://localhost:63203/api/CallCenter/GetSupport', { headers: headers })\n</code></pre>\n"}, {"tags": ["angular", "typescript", "onchange"], "answers": [{"comments": [{"owner": {"reputation": 871, "user_id": 4624203, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JUOPb.jpg?s=128&g=1", "display_name": "Sathish Kotha", "link": "https://stackoverflow.com/users/4624203/sathish-kotha"}, "reply_to_user": {"reputation": 634, "user_id": 6924674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71bc9508ee67920c7ac8980ead641b58?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Etter", "link": "https://stackoverflow.com/users/6924674/tobias-etter"}, "edited": false, "score": 0, "creation_date": 1496222936, "post_id": 44280724, "comment_id": 75568490, "body": "Oh! It should work,I am also using in my project as like your requirement,try to use Set time out method."}, {"owner": {"reputation": 634, "user_id": 6924674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71bc9508ee67920c7ac8980ead641b58?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Etter", "link": "https://stackoverflow.com/users/6924674/tobias-etter"}, "edited": false, "score": 0, "creation_date": 1496223007, "post_id": 44280724, "comment_id": 75568545, "body": "the problem was that I took the change function of a colorpicker. If I take the change function of angular itself it works =)"}], "tags": [], "owner": {"reputation": 871, "user_id": 4624203, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JUOPb.jpg?s=128&g=1", "display_name": "Sathish Kotha", "link": "https://stackoverflow.com/users/4624203/sathish-kotha"}, "is_accepted": true, "score": 1, "last_activity_date": 1496222555, "creation_date": 1496222555, "answer_id": 44280724, "question_id": 44280069, "link": "https://stackoverflow.com/questions/44280069/angular-2-do-not-run-change-function-on-creation/44280724#44280724", "title": "Angular 2 do not run change function on creation", "body": "<p>You can call the change function in <code>ngAfterViewInit.</code> it will load the your change function after all methods called.</p>\n"}], "owner": {"reputation": 634, "user_id": 6924674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71bc9508ee67920c7ac8980ead641b58?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Etter", "link": "https://stackoverflow.com/users/6924674/tobias-etter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 44280724, "answer_count": 1, "score": 0, "last_activity_date": 1496222555, "creation_date": 1496220849, "question_id": 44280069, "link": "https://stackoverflow.com/questions/44280069/angular-2-do-not-run-change-function-on-creation", "title": "Angular 2 do not run change function on creation", "body": "<p>I have the problem that my change function is called when data from service arrives the first time.</p>\n\n<p>Therefore I tried to set a flag. But NgOnContentInit sets the flag too early.</p>\n\n<p>How can I prevent my change function to be called on creation?</p>\n"}, {"tags": ["angular", "typescript", "leaflet"], "comments": [{"owner": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "edited": false, "score": 0, "creation_date": 1496221876, "post_id": 44279903, "comment_id": 75567696, "body": "Do you use the recent versions of <code>leaflet</code> and <code>@types&#47;leaflet</code>? Your first example looks fine."}, {"owner": {"reputation": 139, "user_id": 6796371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60191501b8fb8c972ff381bfeb3fa9?s=128&d=identicon&r=PG&f=1", "display_name": "JsonMraz", "link": "https://stackoverflow.com/users/6796371/jsonmraz"}, "reply_to_user": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "edited": false, "score": 1, "creation_date": 1496223129, "post_id": 44279903, "comment_id": 75568636, "body": "@pzaenger Thank you ! I updated <code>leaflet</code> in my <code>package.json</code> from 0.7.7 to 1.0.3. Now it&#39;s working."}, {"owner": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "edited": false, "score": 0, "creation_date": 1496223201, "post_id": 44279903, "comment_id": 75568692, "body": "You are welcome :)"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 6796371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60191501b8fb8c972ff381bfeb3fa9?s=128&d=identicon&r=PG&f=1", "display_name": "JsonMraz", "link": "https://stackoverflow.com/users/6796371/jsonmraz"}, "is_accepted": true, "score": 4, "last_activity_date": 1496223743, "creation_date": 1496223743, "answer_id": 44281237, "question_id": 44279903, "link": "https://stackoverflow.com/questions/44279903/leaflet-error-invalid-latlng-object-nan/44281237#44281237", "title": "Leaflet Error: Invalid LatLng object: (, NaN)", "body": "<p>Here is the solution:</p>\n\n<p>I simply updated <code>leaflet</code> from 0.7.7 to the most recent (1.0.3) in my <code>package.json</code> and I ran <code>npm install</code>.  </p>\n"}, {"tags": [], "owner": {"reputation": 1530, "user_id": 3928819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000142896793/picture?type=large", "display_name": "cdagli", "link": "https://stackoverflow.com/users/3928819/cdagli"}, "is_accepted": false, "score": 3, "last_activity_date": 1505375623, "creation_date": 1505375623, "answer_id": 46213491, "question_id": 44279903, "link": "https://stackoverflow.com/questions/44279903/leaflet-error-invalid-latlng-object-nan/46213491#46213491", "title": "Leaflet Error: Invalid LatLng object: (, NaN)", "body": "<p>Btw, this is happened because you probably used the documentation of v1.x.x. It is used as below for 0.7.7; </p>\n\n<pre><code>L.circle([50.5, 30.5], 200).addTo(map);\n</code></pre>\n\n<p><a href=\"http://leafletjs.com/reference-0.7.7.html#circle\" rel=\"nofollow noreferrer\">http://leafletjs.com/reference-0.7.7.html#circle</a></p>\n\n<p>Error message is a little bit misleading; \n<a href=\"https://github.com/Leaflet/Leaflet/issues/4235\" rel=\"nofollow noreferrer\">https://github.com/Leaflet/Leaflet/issues/4235</a></p>\n"}], "owner": {"reputation": 139, "user_id": 6796371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60191501b8fb8c972ff381bfeb3fa9?s=128&d=identicon&r=PG&f=1", "display_name": "JsonMraz", "link": "https://stackoverflow.com/users/6796371/jsonmraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2849, "favorite_count": 0, "accepted_answer_id": 44281237, "answer_count": 2, "score": 4, "last_activity_date": 1505375623, "creation_date": 1496220355, "question_id": 44279903, "link": "https://stackoverflow.com/questions/44279903/leaflet-error-invalid-latlng-object-nan", "title": "Leaflet Error: Invalid LatLng object: (, NaN)", "body": "<p>I am trying to create a circle with leaflet and I am getting this error:</p>\n\n<blockquote>Error: Invalid LatLng object: (50.5, NaN)</blockquote>\n\n<p>I am using this code in Angular 2 to create my circle:</p>\n\n<pre><code>L.circle([50.5, 30.5], {radius: 200}).addTo(map);\n</code></pre>\n\n<hr>\n\n<p>I don't know why but this code below is OK:</p>\n\n<pre><code>L.circleMarker([50.5, 30.5], {radius: 200}).addTo(map);\n</code></pre>\n\n<p>But I want to use <code>L.circle()</code> function and not <code>L.circleMarker()</code>.</p>\n"}, {"tags": ["javascript", "jquery", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "edited": false, "score": 2, "creation_date": 1496220143, "post_id": 44279807, "comment_id": 75566489, "body": "<code>script</code> tag for <code>angularjs</code> should go first."}, {"owner": {"reputation": 7084, "user_id": 492258, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/mVt7n.jpg?s=128&g=1", "display_name": "asdf_enel_hak", "link": "https://stackoverflow.com/users/492258/asdf-enel-hak"}, "edited": false, "score": 2, "creation_date": 1496220150, "post_id": 44279807, "comment_id": 75566492, "body": "<code>&lt;script src=&quot;app.js&quot;&gt;&lt;&#47;script&gt;</code>  shoud go below"}, {"owner": {"reputation": 6846, "user_id": 6554634, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7IdZS.jpg?s=128&g=1", "display_name": "Mr_Perfect", "link": "https://stackoverflow.com/users/6554634/mr-perfect"}, "edited": false, "score": 0, "creation_date": 1496220366, "post_id": 44279807, "comment_id": 75566645, "body": "What are you trying to do? Angular 1 or Angular 2? Why .ts files came into picture?"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4201793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1891615644baa3ea75ea386dbadbfe3?s=128&d=identicon&r=PG&f=1", "display_name": "Mighty God Loki", "link": "https://stackoverflow.com/users/4201793/mighty-god-loki"}, "edited": false, "score": 0, "creation_date": 1496220452, "post_id": 44279859, "comment_id": 75566711, "body": "Hey thanks for the response. I tried this one but sadly I still get the same error. Also I get another error as Uncaught ReferenceError: angular is not defined     at app.js:4 angular.js:4920 Uncaught Error: [$injector:modulerr] Failed to instantiate module classProjectApp due to: Error: [$injector:nomod] Module &#39;classProjectApp&#39; is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument."}, {"owner": {"reputation": 125, "user_id": 4201793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1891615644baa3ea75ea386dbadbfe3?s=128&d=identicon&r=PG&f=1", "display_name": "Mighty God Loki", "link": "https://stackoverflow.com/users/4201793/mighty-god-loki"}, "edited": false, "score": 0, "creation_date": 1496220462, "post_id": 44279859, "comment_id": 75566720, "body": "Hey thanks for the response. I tried this one but sadly I still get the same error. Also I get another error as Uncaught ReferenceError: angular is not defined     at app.js:4 angular.js:4920 Uncaught Error: [$injector:modulerr] Failed to instantiate module classProjectApp due to: Error: [$injector:nomod] Module &#39;classProjectApp&#39; is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument."}, {"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "reply_to_user": {"reputation": 125, "user_id": 4201793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1891615644baa3ea75ea386dbadbfe3?s=128&d=identicon&r=PG&f=1", "display_name": "Mighty God Loki", "link": "https://stackoverflow.com/users/4201793/mighty-god-loki"}, "edited": false, "score": 0, "creation_date": 1496220552, "post_id": 44279859, "comment_id": 75566784, "body": "Also you should define ng-app=&quot;classProjectApp&quot; on html tag` @MightyGodLoki"}, {"owner": {"reputation": 125, "user_id": 4201793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1891615644baa3ea75ea386dbadbfe3?s=128&d=identicon&r=PG&f=1", "display_name": "Mighty God Loki", "link": "https://stackoverflow.com/users/4201793/mighty-god-loki"}, "edited": false, "score": 0, "creation_date": 1496220890, "post_id": 44279859, "comment_id": 75567010, "body": "Hey, guess i messed up the order of the references in index.html file. The app works now. Thank you very much for taking the time to answer. Appreciate it. :)"}], "tags": [], "owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "is_accepted": true, "score": 2, "last_activity_date": 1496220209, "creation_date": 1496220209, "answer_id": 44279859, "question_id": 44279807, "link": "https://stackoverflow.com/questions/44279807/i-am-getting-uncaught-referenceerror-angular-is-not-defined-when-using-typesc/44279859#44279859", "title": "I am getting &quot;Uncaught ReferenceError: angular is not defined&quot; when using typescript", "body": "<ul>\n<li>You should move the <code>angularjs</code> reference to top </li>\n<li><code>app.js</code> should go to below. </li>\n<li>also you should define <code>ng-app=\"classProjectApp\"</code> on <code>html</code> tag.</li>\n</ul>\n\n<hr>\n\n<p>try this below code instead of your code</p>\n\n<pre><code>&lt;html ng-app=\"classProjectApp\" lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;TypeScript HTML App&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"app.css\" type=\"text/css\" /&gt;\n     &lt;script src=\"Scripts/angular.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"Scripts/angular-route.min.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;TypeScript HTML App&lt;/h1&gt;\n\n    &lt;div id=\"content\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 4201793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1891615644baa3ea75ea386dbadbfe3?s=128&d=identicon&r=PG&f=1", "display_name": "Mighty God Loki", "link": "https://stackoverflow.com/users/4201793/mighty-god-loki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2577, "favorite_count": 0, "accepted_answer_id": 44279859, "answer_count": 1, "score": 1, "last_activity_date": 1496220214, "creation_date": 1496220063, "last_edit_date": 1496220214, "question_id": 44279807, "link": "https://stackoverflow.com/questions/44279807/i-am-getting-uncaught-referenceerror-angular-is-not-defined-when-using-typesc", "title": "I am getting &quot;Uncaught ReferenceError: angular is not defined&quot; when using typescript", "body": "<p>I have just started learning typescript with angularjs from video tutorials. When I try to put angular module in my \"app.ts\" file which is by default the main file in backend. Here is my app.js code: </p>\n\n<pre><code>/// &lt;reference path=\"Scripts/typings/jquery/jquery.d.ts\" /&gt;\n/// &lt;reference path=\"Scripts/typings/angularjs/angular.d.ts\" /&gt;\n\n\n\nconsole.log(\"This is a TS file\"); \n\n\nangular.module('classProjectApp', ['ngRoute'])\n    .config(function ($routeProvider) {\n        console.log(\"in Config()\");\n    });\n</code></pre>\n\n<p>I have added angularjs file in my index.html file which goes like: </p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;TypeScript HTML App&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"app.css\" type=\"text/css\" /&gt;\n    &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"Scripts/angular.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"Scripts/angular-route.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;TypeScript HTML App&lt;/h1&gt;\n\n    &lt;div id=\"content\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Despite this I am getting an error </p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: angular is not defined</p>\n</blockquote>\n\n<p>although the same example in video tutorial works fine. </p>\n\n<p>P.S. when adding references in index.html file for angular I had to put relative path(Scripts/.../.../angular.js) while in video tutorial example just referenced it using \"angular.js\".</p>\n\n<p>Thank You.</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "edited": false, "score": 0, "creation_date": 1496222986, "post_id": 44279574, "comment_id": 75568524, "body": "how to change dev mode? wrong dir means how can i change ?"}, {"owner": {"reputation": 2882, "user_id": 3608449, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/d63p0.jpg?s=128&g=1", "display_name": "LLL", "link": "https://stackoverflow.com/users/3608449/lll"}, "reply_to_user": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "edited": false, "score": 0, "creation_date": 1496223472, "post_id": 44279574, "comment_id": 75568914, "body": "When you build an app with <code>ng build --prod</code> it is outputted in the <code>&#47;dist</code> folder. If you run <code>ng serve</code> it will still serve the dev version, to serve prod version run <code>ng serve -prod</code>. Also <code>.</code> means look in the current dir, try using <code>&#47;</code> instead, to look in the root dir and then write out the path from there."}, {"owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "edited": false, "score": 0, "creation_date": 1496224849, "post_id": 44279574, "comment_id": 75569921, "body": "possible to run without nodeJs?"}], "tags": [], "owner": {"reputation": 2882, "user_id": 3608449, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/d63p0.jpg?s=128&g=1", "display_name": "LLL", "link": "https://stackoverflow.com/users/3608449/lll"}, "is_accepted": false, "score": 0, "last_activity_date": 1496219475, "creation_date": 1496219475, "answer_id": 44279574, "question_id": 44279495, "link": "https://stackoverflow.com/questions/44279495/dist-error-404-for-assets-in-production/44279574#44279574", "title": "dist error 404 for assets in production", "body": "<p>Looks like it's looking for it in the wrong dir, but things from <code>testing/dist/assets</code> are loading fine, so that might be a hint.</p>\n\n<p>Also it's still running in dev mode as indicated in the console.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7747364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UKfkhPSeO_0/AAAAAAAAAAI/AAAAAAAABDg/mNUp64IG_M4/photo.jpg?sz=128", "display_name": "Jesus Vazquez", "link": "https://stackoverflow.com/users/7747364/jesus-vazquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1593820118, "creation_date": 1593820118, "answer_id": 62723896, "question_id": 44279495, "link": "https://stackoverflow.com/questions/44279495/dist-error-404-for-assets-in-production/62723896#62723896", "title": "dist error 404 for assets in production", "body": "<p>I had same problem because the route of image are wrong like that\n&lt;img <strong>src=&quot;../../assets/person.svg&quot;</strong> style=&quot;height: 50px;width: 50px;&quot; alt=&quot;Avatar&quot; (click)=&quot;infoUser()&quot;&gt;\nwhen you build in production mode de file main.js and asset directory are in the same leven so de route most be change like that\n&lt;img <strong>src=&quot;assets/person.svg&quot;</strong> style=&quot;height: 50px;width: 50px;&quot; alt=&quot;Avatar&quot; (click)=&quot;infoUser()&quot;&gt;</p>\n"}], "owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 694, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1593820118, "creation_date": 1496219238, "question_id": 44279495, "link": "https://stackoverflow.com/questions/44279495/dist-error-404-for-assets-in-production", "title": "dist error 404 for assets in production", "body": "<p>After adding base href URL in index.html</p>\n\n<pre><code>&lt;base href=\".\"&gt;\n</code></pre>\n\n<p>i am run production mode using <code>\"ng build --prod\"</code></p>\n\n<p>moved dist folder into xampp htdocs folder after getting 404 Error added error image\n<a href=\"https://i.stack.imgur.com/MBM3n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MBM3n.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "q"], "answers": [{"tags": [], "owner": {"reputation": 252, "user_id": 8087259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29sLR.jpg?s=128&g=1", "display_name": "Benjamin D.", "link": "https://stackoverflow.com/users/8087259/benjamin-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1496218790, "creation_date": 1496218790, "answer_id": 44279354, "question_id": 44279014, "link": "https://stackoverflow.com/questions/44279014/facing-synchronous-call-issues-in-angularjs/44279354#44279354", "title": "Facing synchronous call issues in AngularJs", "body": "<p>According to your code, the expected behavior should be :\n - Execution of vm.nominationSVC.zipping\n - When the promise returned by vm.nominationSVC.zipping is resolved, the three following then() will be called <strong>sequentially</strong>. That's not a good practise. </p>\n\n<p>You should use only one then() call per promise, which allows you to visualize the chain of callbacks. Try something like :</p>\n\n<pre><code>vm.nominationSVC.zipping(vm.fileSelected, vm.selectedCategoryId).\n        then(function (response: any) {   //Zipping\n            vm.nominationSVC.downloadDocument(\"documents.zip\");  \n\n            var deffered = vm.$q.defer();\n            var promises = [];\n            for (i = 0; i &lt; vm.rowSelectedLength; i++) {\n                vm.objDownloadHistory.Nomination_Id =vm.nominationIdSelected[i];\n                vm.objDownloadHistory.FilePath = vm.fileNamesSelected[i];\n                promises.push(vm.nominationSVC.updateDownloadHistory(vm.objDownloadHistory));\n            }\n\n           $q.all(promises).then(function () {\n                 vm.getNomiantionList();\n           });\n        });\n</code></pre>\n\n<p>In this case, the 3 old then() calls will be called sequentially (I'm supposing here that vm.nominationSVC.downloadDocument is synchronous and doesn't return a promise).</p>\n\n<p>I hope it will help</p>\n"}], "owner": {"reputation": 13, "user_id": 4833566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NIrtAL494JM/AAAAAAAAAAI/AAAAAAAAADI/s8KFFVq1VOY/photo.jpg?sz=128", "display_name": "Raunak Matai", "link": "https://stackoverflow.com/users/4833566/raunak-matai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496218790, "creation_date": 1496217838, "question_id": 44279014, "link": "https://stackoverflow.com/questions/44279014/facing-synchronous-call-issues-in-angularjs", "title": "Facing synchronous call issues in AngularJs", "body": "<p>I have two service calls which I want to execute synchronously in order.But that is not happening even when I am using promises.</p>\n\n<p>Controller:</p>\n\n<pre><code>vm.nominationSVC.zipping(vm.fileSelected, vm.selectedCategoryId).\n            then(function (response: any) {   //Zipping\n                vm.nominationSVC.downloadDocument(\"documents.zip\");  \n            }).\n            then(function (response: any) {\n                var deffered = vm.$q.defer();\n                for (i = 0; i &lt; vm.rowSelectedLength; i++) {\n                    vm.objDownloadHistory.Nomination_Id = vm.nominationIdSelected[i];\n                    vm.objDownloadHistory.FilePath = vm.fileNamesSelected[i];\n                    vm.promises.push(vm.nominationSVC.updateDownloadHistory(vm.objDownloadHistory));\n                }\n               //  vm.$q.all(vm.promises).then(function () {\n              //       console.log(\"sdsd\");\n             //   });\n            }).\n           then(function (response: any) {\n         vm.getNomiantionList();\n        });\n</code></pre>\n\n<p>the method vm.nominationSVC.updateDownloadHistory(vm.objDownloadHistory) doesn't execute fully and comes down to other .then method i.e vm.getNomiantionList();</p>\n\n<p>I tried working with $q.all also as mentioned in commented code.But still I am unable to resolve this issue.</p>\n\n<p>Service Method:</p>\n\n<pre><code>updateDownloadHistory(objDownloadHistory: SpotAward.DownloadHistory)\n        {\n        var vm = this;\n        var url: any;\n\n        var deferred = this.$q.defer();\n        url = this.BaseUrl + 'DownloadHistory/UpdateDownload';\n        if (url !== null) {\n            this.$http.post(\n                url,\n                JSON.stringify(objDownloadHistory),\n                {\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                }\n            ).then(function (result: any) {\n                if (result.data &gt; 0)\n                    deferred.resolve(result.data);\n            }).catch((data) =&gt; {\n                deferred.reject(data);\n            });\n        }\n\n\n        return deferred.promise;\n    }\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "ionic2", "signalr"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496218819, "post_id": 44278565, "comment_id": 75565647, "body": "did you try setting token in qs?"}, {"owner": {"reputation": 876, "user_id": 4154016, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-mNGYfl2tSSM/AAAAAAAAAAI/AAAAAAAAAFE/K1r4V_CuSx0/photo.jpg?sz=128", "display_name": "Usman lqbal", "link": "https://stackoverflow.com/users/4154016/usman-lqbal"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496220383, "post_id": 44278565, "comment_id": 75566661, "body": "@suraj no not yet .oky i&#39;m trying but that does not make a sense to set header values in query string <code>qs</code> ."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496220479, "post_id": 44278565, "comment_id": 75566732, "body": "<a href=\"https://stackoverflow.com/questions/21196266/signalr-authentication-with-javascript-client\" title=\"signalr authentication with javascript client\">stackoverflow.com/questions/21196266/&hellip;</a>"}, {"owner": {"reputation": 876, "user_id": 4154016, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-mNGYfl2tSSM/AAAAAAAAAAI/AAAAAAAAAFE/K1r4V_CuSx0/photo.jpg?sz=128", "display_name": "Usman lqbal", "link": "https://stackoverflow.com/users/4154016/usman-lqbal"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496221908, "post_id": 44278565, "comment_id": 75567726, "body": "@suraj given link is work around to pass token in query string and handle on server side accordingly. Right now it does not suit me because for that i need to change my server side code. if i change my server side then i have to change one more client(simple angularjs Signalr) which is working absolutely fine."}], "answers": [{"tags": [], "owner": {"reputation": 8290, "user_id": 4733027, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/c4M05.jpg?s=128&g=1", "display_name": "hannes neukermans", "link": "https://stackoverflow.com/users/4733027/hannes-neukermans"}, "is_accepted": false, "score": 1, "last_activity_date": 1496756364, "creation_date": 1496756364, "answer_id": 44391622, "question_id": 44278565, "link": "https://stackoverflow.com/questions/44278565/how-to-set-authorization-header-in-ng2-signalr/44391622#44391622", "title": "How to set Authorization Header in ng2-signalr?", "body": "<p>It is currently (v2.0.4) not implemented in ng2-signalr. <br>\nAs a workaround,  you can try: </p>\n\n<pre><code>declare var $: any;\n$.signalR.ajaxDefaults.headers = new Headers({\n        'Content-Type': \"application/json\",\n        \"Authorization\": 'Bearer ' + accessToken  //accessToken contain bearer value.\n}); \n</code></pre>\n"}], "owner": {"reputation": 876, "user_id": 4154016, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-mNGYfl2tSSM/AAAAAAAAAAI/AAAAAAAAAFE/K1r4V_CuSx0/photo.jpg?sz=128", "display_name": "Usman lqbal", "link": "https://stackoverflow.com/users/4154016/usman-lqbal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1005, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1496756364, "creation_date": 1496216372, "last_edit_date": 1496223566, "question_id": 44278565, "link": "https://stackoverflow.com/questions/44278565/how-to-set-authorization-header-in-ng2-signalr", "title": "How to set Authorization Header in ng2-signalr?", "body": "<p>I am using library <code>ng2-signalr</code>in ionic 2. Issue is that i don't know how to set authorization header. I have search but didn't find any example.</p>\n\n<p>My code for connecting to server hub.</p>\n\n<pre><code>   let options: IConnectionOptions = { qs:{userId:1}, url: \"http://192.168.0.211:44337\"};\n\n        console.log(\"Stage 1\");\n            //Header for 'this.singalR.connect'\n        this.signalR.connect(options)\n            .then((connection) =&gt; {                      \n\n                console.log(\"Client Id: \" + connection.id);                     \n             }, (err) =&gt; {\n                console.log(\"SignalR Error: \" + JSON.stringify(err));\n            });\n</code></pre>\n\n<p>How to set below header ?</p>\n\n<pre><code>  var headers = new Headers({\n            'Content-Type': \"application/json\",\n            \"Authorization\": 'Bearer ' + accessToken  //accessToken contain bearer value.\n        });\n</code></pre>\n\n<p>Library: <a href=\"https://github.com/HNeukermans/ng2-signalr\" rel=\"nofollow noreferrer\">ng2-signalr</a></p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Here on link <a href=\"https://stackoverflow.com/a/41069815/4154016\">Query String Solution</a>. A workaround is mention to pass <code>authorization token</code> in <code>qs</code> and handle accordingly. But i want to set in header so this solution does not suit me . One more reason as i have one another client(Simple angularjs signalr) which is working fine when i set header just like below.</p>\n\n<pre><code> $.signalR.ajaxDefaults.headers = { Authorization: //here set header};  \n</code></pre>\n\n<p><strong>Note: Before implementing Authorization same code working fine as i don't need to set authorization header.</strong></p>\n"}, {"tags": ["angular", "typescript", "enums"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 8069071, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/12839af646d7b0f33d6ff1873ea4433e?s=128&d=identicon&r=PG&f=1", "display_name": "ouanounou", "link": "https://stackoverflow.com/users/8069071/ouanounou"}, "edited": false, "score": 0, "creation_date": 1496220729, "post_id": 44279741, "comment_id": 75566916, "body": "thanks to reply me but i want have a space in Form Control who can be display this if my enum is not a string"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "reply_to_user": {"reputation": 55, "user_id": 8069071, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/12839af646d7b0f33d6ff1873ea4433e?s=128&d=identicon&r=PG&f=1", "display_name": "ouanounou", "link": "https://stackoverflow.com/users/8069071/ouanounou"}, "edited": false, "score": 0, "creation_date": 1496221019, "post_id": 44279741, "comment_id": 75567081, "body": "@ouanounou I have updated the code which now adds a space before all capitals in Enum names.. i.e. <code>FormControls =&gt; Form Controls &amp;&amp; DataPresentation =&gt; Data Presentation</code>"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "reply_to_user": {"reputation": 55, "user_id": 8069071, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/12839af646d7b0f33d6ff1873ea4433e?s=128&d=identicon&r=PG&f=1", "display_name": "ouanounou", "link": "https://stackoverflow.com/users/8069071/ouanounou"}, "edited": false, "score": 0, "creation_date": 1496221210, "post_id": 44279741, "comment_id": 75567207, "body": "@ouanounou glad I could help - I think that this is a better method than defining a string for each enum member as it&#39;s a double handle if you do."}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "reply_to_user": {"reputation": 55, "user_id": 8069071, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/12839af646d7b0f33d6ff1873ea4433e?s=128&d=identicon&r=PG&f=1", "display_name": "ouanounou", "link": "https://stackoverflow.com/users/8069071/ouanounou"}, "edited": false, "score": 0, "creation_date": 1496221420, "post_id": 44279741, "comment_id": 75567371, "body": "@ouanounou Please accept this as the correct answer if it solved your issue :)"}], "tags": [], "owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "is_accepted": true, "score": 1, "last_activity_date": 1496220952, "last_edit_date": 1496220952, "creation_date": 1496219889, "answer_id": 44279741, "question_id": 44278551, "link": "https://stackoverflow.com/questions/44278551/enum-typescript-bug-if-my-string-have-space/44279741#44279741", "title": "enum typescript bug if my string have space", "body": "<p>You don't have to explicitly state a string representation of the <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\"><code>enum</code></a> value in typescript.</p>\n\n<p>You can just have:</p>\n\n<pre><code>export enum ComponentCategory {\n  FormControls,\n  Containers,\n  Boxes,\n  DataPresentation,\n  Layout,\n  Miscellaneous\n}\n</code></pre>\n\n<p>To get the enum members as strings you can then use (<a href=\"https://stackoverflow.com/questions/18111657/how-does-one-get-the-names-of-typescript-enum-entries\">See this SO for source</a>):</p>\n\n<pre><code>for (var enumMember in ComponentCategory ) {\n   var isValueProperty = parseInt(enumMember, 10) &gt;= 0\n   if (isValueProperty) {\n      console.log(ComponentCategory [enumMember]);\n   }\n}\n</code></pre>\n\n<p>to use with <code>*ngFor</code>...</p>\n\n<pre><code>function getEnumNames(){\n    var names: Array&lt;string&gt; = new Array&lt;string&gt;();\n    for (var enumMember in ComponentCategory ) {\n       var isValueProperty = parseInt(enumMember, 10) &gt;= 0\n       if (isValueProperty) {\n          names.push(ComponentCategory [enumMember]);\n       }\n    }\n    return names.map(name =&gt; name.replace(/([A-Z])/g, ' $1').trim());\n}\n\n// in html \n&lt;div *ngFor=\"let name of getEnumNames()\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 8069071, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/12839af646d7b0f33d6ff1873ea4433e?s=128&d=identicon&r=PG&f=1", "display_name": "ouanounou", "link": "https://stackoverflow.com/users/8069071/ouanounou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2536, "favorite_count": 0, "accepted_answer_id": 44279741, "answer_count": 1, "score": 0, "last_activity_date": 1496443867, "creation_date": 1496216307, "last_edit_date": 1496443867, "question_id": 44278551, "link": "https://stackoverflow.com/questions/44278551/enum-typescript-bug-if-my-string-have-space", "title": "enum typescript bug if my string have space", "body": "<p>I have a problem wit my enum </p>\n\n<p>I write enum with string and a browse my enum in *ngFor</p>\n\n<p>But if my string have a space the page display me 2 element </p>\n\n<p><strong>this is my enum:</strong></p>\n\n<pre><code>export enum ComponentCategory {\n   FormControls = &lt;any&gt; 'Form   Controls',\n   Containers = &lt;any&gt; 'Containers' ,\n   Boxes = &lt;any&gt; 'Boxes',\n   DataPresentation = &lt;any&gt; 'DataPresentation',\n   Layout = &lt;any&gt; 'Layout',\n   Miscellaneous = &lt;any&gt; 'Miscellaneous',\n}\n</code></pre>\n\n<p>And for exemple, FormControls is display twice like FormControls and Form Controls </p>\n\n<p>Who can fix this ? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "webpack-dev-server"], "comments": [{"owner": {"reputation": 7304, "user_id": 750250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DlSqt.jpg?s=128&g=1", "display_name": "Conrad Lotz", "link": "https://stackoverflow.com/users/750250/conrad-lotz"}, "edited": false, "score": 0, "creation_date": 1496215889, "post_id": 44278390, "comment_id": 75563787, "body": "What version of node and npm are you running?"}, {"owner": {"reputation": 3564, "user_id": 3997424, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/drsqF.jpg?s=128&g=1", "display_name": "daan.desmedt", "link": "https://stackoverflow.com/users/3997424/daan-desmedt"}, "edited": false, "score": 0, "creation_date": 1496216388, "post_id": 44278390, "comment_id": 75564105, "body": "Try upgrading &#39;typescript&#39; to latest"}, {"owner": {"reputation": 65, "user_id": 3950481, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/W2VkL.jpg?s=128&g=1", "display_name": "Ashish Surana", "link": "https://stackoverflow.com/users/3950481/ashish-surana"}, "reply_to_user": {"reputation": 7304, "user_id": 750250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DlSqt.jpg?s=128&g=1", "display_name": "Conrad Lotz", "link": "https://stackoverflow.com/users/750250/conrad-lotz"}, "edited": false, "score": 0, "creation_date": 1496217729, "post_id": 44278390, "comment_id": 75564948, "body": "@ConradLotz npm version is - 4.1.2 and node version is v7.6.0  and @daan.desmedt I installed the lates version by <code>npm install -g typescript</code>  and version is 2.3.4"}, {"owner": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "edited": false, "score": 0, "creation_date": 1496218839, "post_id": 44278390, "comment_id": 75565660, "body": "hover over the dependency for compiler-cli and check its latest version. Ensure that your package json also has the same version mentioned for installation."}], "answers": [{"tags": [], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "is_accepted": false, "score": 2, "last_activity_date": 1496226827, "creation_date": 1496226827, "answer_id": 44282381, "question_id": 44278390, "link": "https://stackoverflow.com/questions/44278390/error-the-angular-compiler-cli-package-was-not-properly-installed/44282381#44282381", "title": "Error The &quot;@angular/compiler-cli&quot; package was not properly installed", "body": "<p>You don't need to clone the angular seed project.</p>\n\n<p>Just install the Angular CLI globally in your system using:</p>\n\n<p><code>npm install -g @angular/cli@latest</code></p>\n\n<p>then you can use it to create a new project</p>\n\n<p><code>ng new my-project</code></p>\n\n<p>and run it:</p>\n\n<p><code>cd my-project\nng serve</code></p>\n"}, {"tags": [], "owner": {"reputation": 426, "user_id": 8165960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-vORzClrC26I/AAAAAAAAAAI/AAAAAAAAFPo/0xkpfij3VHM/photo.jpg?sz=128", "display_name": "Balu", "link": "https://stackoverflow.com/users/8165960/balu"}, "is_accepted": false, "score": 0, "last_activity_date": 1501735613, "last_edit_date": 1501735613, "creation_date": 1501733691, "answer_id": 45474692, "question_id": 44278390, "link": "https://stackoverflow.com/questions/44278390/error-the-angular-compiler-cli-package-was-not-properly-installed/45474692#45474692", "title": "Error The &quot;@angular/compiler-cli&quot; package was not properly installed", "body": "<p>Try removing existing dependencies and run <code>npm install</code> again. Make sure that you have the latest typescript(at least version 2.2). This worked for me!. </p>\n"}], "owner": {"reputation": 65, "user_id": 3950481, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/W2VkL.jpg?s=128&g=1", "display_name": "Ashish Surana", "link": "https://stackoverflow.com/users/3950481/ashish-surana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501735613, "creation_date": 1496215805, "last_edit_date": 1496242205, "question_id": 44278390, "link": "https://stackoverflow.com/questions/44278390/error-the-angular-compiler-cli-package-was-not-properly-installed", "title": "Error The &quot;@angular/compiler-cli&quot; package was not properly installed", "body": "<p>after going through all the threads available, I'm still not able to resolve the problem. I cloned the angular2 quickstart project.\nAll module versions are up to date\nthe repo link is : <a href=\"https://github.com/ashishsurana/portfolio\" rel=\"nofollow noreferrer\">github.com/ashishsurana/portfolio</a></p>\n"}, {"tags": ["javascript", "typescript", "firebase-realtime-database", "promise"], "comments": [{"owner": {"reputation": 2185, "user_id": 3868326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWcgl.png?s=128&g=1", "display_name": "Kmaschta", "link": "https://stackoverflow.com/users/3868326/kmaschta"}, "edited": false, "score": 0, "creation_date": 1496215578, "post_id": 44278277, "comment_id": 75563597, "body": "Have you tried to <code>return contactObj;</code> in the <code>fetchContact</code> function?"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 1, "creation_date": 1496215710, "post_id": 44278277, "comment_id": 75563678, "body": "You don&#39;t need to wrap the result of <code>fetchContact</code> in yet another <code>Promise.resolve</code>. <i>If</i> you return the promise (<code>contactObj</code>) from <code>fetchContact</code>, a simple <code>fetchContact().then(...)</code> will do."}, {"owner": {"reputation": 1070, "user_id": 4340139, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-d50Gt16DtZY/AAAAAAAAAAI/AAAAAAAAC1c/4f1CGyAl67o/photo.jpg?sz=128", "display_name": "gsthina", "link": "https://stackoverflow.com/users/4340139/gsthina"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1496217106, "post_id": 44278277, "comment_id": 75564535, "body": "Thanks for the neat idea. It worked @deceze :)"}], "owner": {"reputation": 1070, "user_id": 4340139, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-d50Gt16DtZY/AAAAAAAAAAI/AAAAAAAAC1c/4f1CGyAl67o/photo.jpg?sz=128", "display_name": "gsthina", "link": "https://stackoverflow.com/users/4340139/gsthina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1496215627, "answer_count": 0, "score": 0, "last_activity_date": 1496216291, "creation_date": 1496215459, "last_edit_date": 1496216291, "question_id": 44278277, "link": "https://stackoverflow.com/questions/44278277/unable-get-the-return-value-in-the-promise", "closed_reason": "Duplicate", "title": "unable get the return value in the Promise", "body": "<p>Below is my code that I used to call a function that returns a value after fetching from the Firebase ref.</p>\n\n<pre><code>let original = Promise.resolve(this.contactService.fetchContact(contact));\n    original.then(function(value){\n      console.log(\"original value: \" + value);//point 2\n    });\n</code></pre>\n\n<p>the Firebase fetching function is as below:</p>\n\n<pre><code>fetchContact(name){\n    //fetch contact object from name\n    let contactObj = this.database.ref('path').orderByChild('name').equalTo(name).once('value').then(response=&gt;{\n        console.log(response.val());//Point 1\n        return response.val();\n    });\n  }\n</code></pre>\n\n<p>The problem is, in the comment Point 1, I get the desired value as the output. But as I have returned the same to the Promise, I want it to be returned as the response in the comment Point 2. What I get is <code>undefined</code> in the comment Point 2</p>\n\n<p>This is not the same as that of the Ajax call or Http Requests. This is within the local files.\nWhere am I going wrong? Please help. Thanks!</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1496382063, "post_id": 44277855, "comment_id": 75648068, "body": "@AndrewLi isn&#39;t that implicit? why do i need to decalre the type? its already decaler when in inheriting.."}], "answers": [{"comments": [{"owner": {"reputation": 5333, "user_id": 5182917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKaT1.jpg?s=128&g=1", "display_name": "Anurag Awasthi", "link": "https://stackoverflow.com/users/5182917/anurag-awasthi"}, "edited": false, "score": 0, "creation_date": 1496214648, "post_id": 44277916, "comment_id": 75562975, "body": "Can we use <code>=</code> in setState?  Shouldn&#39;t it be a valid js object?"}, {"owner": {"reputation": 78775, "user_id": 5185595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c6a10877ed272f4f00810dec36452bf?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Shukla", "link": "https://stackoverflow.com/users/5185595/mayank-shukla"}, "reply_to_user": {"reputation": 5333, "user_id": 5182917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKaT1.jpg?s=128&g=1", "display_name": "Anurag Awasthi", "link": "https://stackoverflow.com/users/5182917/anurag-awasthi"}, "edited": false, "score": 0, "creation_date": 1496214751, "post_id": 44277916, "comment_id": 75563059, "body": "oh sorry my mistake (copy paste error), we can&#39;t use <code>=</code> because it&#39;s an object we need to use <code>:</code>. check the updated answer :)"}, {"owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "edited": false, "score": 0, "creation_date": 1496223379, "post_id": 44277916, "comment_id": 75568839, "body": "But then I loose typescript type hinting. its not &quot;strong&quot; inside setstate"}, {"owner": {"reputation": 54248, "user_id": 95190, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a58c0b44762885ca46ecee7f5b379f3d?s=128&d=identicon&r=PG", "display_name": "WiredPrairie", "link": "https://stackoverflow.com/users/95190/wiredprairie"}, "edited": false, "score": 0, "creation_date": 1520287353, "post_id": 44277916, "comment_id": 85245930, "body": "It&#39;s interesting how that page you linked also says that <code>this.state</code> should be directly set from the constructor and to not use <code>setState</code> there. <a href=\"https://reactjs.org/docs/react-component.html#constructor\" rel=\"nofollow noreferrer\">reactjs.org/docs/react-component.html#constructor</a>"}, {"owner": {"reputation": 78775, "user_id": 5185595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c6a10877ed272f4f00810dec36452bf?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Shukla", "link": "https://stackoverflow.com/users/5185595/mayank-shukla"}, "reply_to_user": {"reputation": 54248, "user_id": 95190, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a58c0b44762885ca46ecee7f5b379f3d?s=128&d=identicon&r=PG", "display_name": "WiredPrairie", "link": "https://stackoverflow.com/users/95190/wiredprairie"}, "edited": false, "score": 0, "creation_date": 1520315774, "post_id": 44277916, "comment_id": 85253435, "body": "@WiredPrairie, i think you get confused, what it means is outside of constructor always use setState to <b>update</b> the state value, but to update something first we need to initialise. So inside constructor first we have to define the state object, there setState will not work (because setState is for update). once we define the state object then we need to use setState, hope you will get the idea :)"}, {"owner": {"reputation": 54248, "user_id": 95190, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a58c0b44762885ca46ecee7f5b379f3d?s=128&d=identicon&r=PG", "display_name": "WiredPrairie", "link": "https://stackoverflow.com/users/95190/wiredprairie"}, "edited": false, "score": 0, "creation_date": 1520335695, "post_id": 44277916, "comment_id": 85263802, "body": "I\u2019m not confused. The docs use absolutes, as does your answer, in misleading ways."}], "tags": [], "owner": {"reputation": 78775, "user_id": 5185595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c6a10877ed272f4f00810dec36452bf?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Shukla", "link": "https://stackoverflow.com/users/5185595/mayank-shukla"}, "is_accepted": false, "score": 1, "last_activity_date": 1496214683, "last_edit_date": 1496214683, "creation_date": 1496214382, "answer_id": 44277916, "question_id": 44277855, "link": "https://stackoverflow.com/questions/44277855/cannot-change-state-interface-in-reacttypescript/44277916#44277916", "title": "Cannot change state interface in react+typescript", "body": "<p><strong><a href=\"https://facebook.github.io/react/docs/react-component.html#state\" rel=\"nofollow noreferrer\">Never mutate this.state directly</a></strong>, always use <a href=\"https://facebook.github.io/react/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">setState</a> to update the <code>state</code> values.</p>\n\n<p>Write it like this:</p>\n\n<pre><code>closeLeftCol() {\n     this.setState(prevState =&gt; ({\n          leftWidth : \"0\",\n          rightWidth : \"100%\",\n          leftClassName : prevState.leftClassName + \" hideme\",\n          rightClassName : prevState.rightClassName + \" full\"\n     }));             \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "edited": false, "score": 0, "creation_date": 1496223391, "post_id": 44277924, "comment_id": 75568848, "body": "But then I loose typescript type hinting. its not &quot;strong&quot; inside setstate"}, {"owner": {"reputation": 5333, "user_id": 5182917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKaT1.jpg?s=128&g=1", "display_name": "Anurag Awasthi", "link": "https://stackoverflow.com/users/5182917/anurag-awasthi"}, "reply_to_user": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "edited": false, "score": 0, "creation_date": 1496224026, "post_id": 44277924, "comment_id": 75569310, "body": "@Shazam You can update state only using <code>setState</code> . There is no other method. However, you can use <code>setState</code> in two ways - by passing new state object, or by passing a function that returns a new state. I have updated the answer. Check if it works for you. Sorry, I don&#39;t much about typescript type hinting."}], "tags": [], "owner": {"reputation": 5333, "user_id": 5182917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKaT1.jpg?s=128&g=1", "display_name": "Anurag Awasthi", "link": "https://stackoverflow.com/users/5182917/anurag-awasthi"}, "is_accepted": false, "score": 0, "last_activity_date": 1496223872, "last_edit_date": 1496223872, "creation_date": 1496214402, "answer_id": 44277924, "question_id": 44277855, "link": "https://stackoverflow.com/questions/44277855/cannot-change-state-interface-in-reacttypescript/44277924#44277924", "title": "Cannot change state interface in react+typescript", "body": "<p>Other Places then <code>constructor</code>, you need to call <code>setState</code> method to change <code>state</code>.</p>\n\n<pre><code>closeLeftCol() {\n            this.setState({\n                //change state here\n                leftWidth: \"0\",\n                rightWidth: \"100%\",\n                leftClassName: this.state.leftClassName + \" hideme\",\n                rightClassName: this.state.rightClassName + \" full\"\n            })\n            //or use this way\n            this.setState((prevState)=&gt;{\n                return {\n                    //change state here\n                    leftWidth: \"0\",\n                    rightWidth: \"100%\",\n                    leftClassName: prevState.leftClassName + \" hideme\",\n                    rightClassName: prevState.rightClassName + \" full\"\n                }\n            })\n        }\n</code></pre>\n"}], "owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496223872, "creation_date": 1496214227, "question_id": 44277855, "link": "https://stackoverflow.com/questions/44277855/cannot-change-state-interface-in-reacttypescript", "title": "Cannot change state interface in react+typescript", "body": "<p>In the bellow code, im getting a compilation error, I can't change in closeLeftCol the state:\n<code>Cannot assign to leftWidth because it is a constant or read only property</code>:</p>\n\n<pre><code>    interface ILayoutState{\n        rightClassName: string,\n        leftClassName: string,\n        leftWidth: string,\n        rightWidth : string\n    }\n\n    export default class Layout extends React.Component&lt;undefined, ILayoutState&gt; {\n\n        constructor(props) {\n            super(props);\n            this.state = {\n                rightClassName: \"right-col slide-in\", leftClassName: \"left-col slide-in\", leftWidth: '' ,rightWidth : '' };\n\n        }\n\n        closeLeftCol() {\n            this.state.leftWidth = \"0\";\n            this.state.rightWidth = \"100%\";\n            this.state.leftClassName += \" hideme\";\n            this.state.rightClassName += \" full\";\n            this.forceUpdate();\n        }\n\n        render() {...}\n\n}\n</code></pre>\n\n<p>Why am i able to change it in the contructore? what makes it read only?\n<a href=\"https://i.stack.imgur.com/54nVS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54nVS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "timer"], "comments": [{"owner": {"reputation": 5206, "user_id": 2834937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99cae13df3ea25a465cfaecc89288ae9?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh undefined", "link": "https://stackoverflow.com/users/2834937/dinesh-undefined"}, "edited": false, "score": 0, "creation_date": 1496211352, "post_id": 44277001, "comment_id": 75561132, "body": "that is setInterval not set interval"}, {"owner": {"reputation": 19565, "user_id": 6235047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ilJRk.png?s=128&g=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/6235047/prasanth"}, "edited": false, "score": 0, "creation_date": 1496211372, "post_id": 44277001, "comment_id": 75561139, "body": "change <code>setInterval</code> instead of <code>set interval</code> .JavaScript case sensitive .And also change <code>first</code> <code>If</code> with lowercase <code>if</code>"}, {"owner": {"reputation": 109, "user_id": 3488168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4ff7de93bf2972c5c58fbc3a30cc85d?s=128&d=identicon&r=PG&f=1", "display_name": "DharamChauhan", "link": "https://stackoverflow.com/users/3488168/dharamchauhan"}, "edited": false, "score": 0, "creation_date": 1496212410, "post_id": 44277001, "comment_id": 75561694, "body": "ya Thanks for your suggestion"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 3488168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4ff7de93bf2972c5c58fbc3a30cc85d?s=128&d=identicon&r=PG&f=1", "display_name": "DharamChauhan", "link": "https://stackoverflow.com/users/3488168/dharamchauhan"}, "edited": false, "score": 0, "creation_date": 1496212554, "post_id": 44277120, "comment_id": 75561767, "body": "Thanks for your logic,but here i need to check temp first then should go into the loop. because after temp increase only i can take last 30 sec data."}], "tags": [], "owner": {"reputation": 2733, "user_id": 4977402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWqlj.jpg?s=128&g=1", "display_name": "Sotiris Kiritsis", "link": "https://stackoverflow.com/users/4977402/sotiris-kiritsis"}, "is_accepted": true, "score": 0, "last_activity_date": 1496212128, "last_edit_date": 1496212128, "creation_date": 1496211681, "answer_id": 44277120, "question_id": 44277001, "link": "https://stackoverflow.com/questions/44277001/how-to-use-timer-function-to-get-the-data-between-some-time-duration/44277120#44277120", "title": "How to use timer function to get the data between some time duration?", "body": "<p>Corrected your typos, and initialized the variables.</p>\n\n<pre><code>var current_temp = 20;\nvar prev_temp = 18;\nsetInterval(function(){\n    if(current_temp !== prev_temp){\n        if((current_temp - prev_temp) &gt; 1 || (current_temp - prev_temp) &lt; 1){  \n            console.log('send data to end point egress');\n    }\n    console.log('send id to the end point');\n  }\n}, 3000);\n</code></pre>\n\n<p>Although if you want to check if the temperature changed by 1 degree you should use something like this:</p>\n\n<pre><code>var prev_temp = 50;\nvar current_temp = null;\nsetInterval(function(){\n    current_temp = Math.floor((Math.random() * 100) + 1); // generate random number between 1 - 100\n    if((current_temp - prev_temp) === 1){ // send data only when the difference is 1 ??\n        console.log('send data to end point egress');\n  }\n    console.log('send id to the end point');\n  prev_temp = current_temp; // update previous temperature with the current one\n}, 3000);\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 3488168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4ff7de93bf2972c5c58fbc3a30cc85d?s=128&d=identicon&r=PG&f=1", "display_name": "DharamChauhan", "link": "https://stackoverflow.com/users/3488168/dharamchauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 44277120, "answer_count": 1, "score": -2, "last_activity_date": 1496212357, "creation_date": 1496211221, "last_edit_date": 1496212357, "question_id": 44277001, "link": "https://stackoverflow.com/questions/44277001/how-to-use-timer-function-to-get-the-data-between-some-time-duration", "title": "How to use timer function to get the data between some time duration?", "body": "<p>When temperature increases by 1 degree, I just need to take the data from the last 30 seconds from my machine and send it to my DB. Am I missing anything?</p>\n\n<pre><code>set interval(function x(){\nIf(current_temp != prev_temp){\n    if((current_temp-prev_temp)&gt;1 || (current_temp - prev_temp)&lt;1){  \n       Console.log('send data to end point egress ');\n    }\n    console.log('send id to the end point');\n  }\n}),30000)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-template"], "answers": [{"tags": [], "owner": {"reputation": 5333, "user_id": 5182917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKaT1.jpg?s=128&g=1", "display_name": "Anurag Awasthi", "link": "https://stackoverflow.com/users/5182917/anurag-awasthi"}, "is_accepted": false, "score": 0, "last_activity_date": 1496207737, "creation_date": 1496207737, "answer_id": 44276223, "question_id": 44276106, "link": "https://stackoverflow.com/questions/44276106/how-to-pass-variable-from-template-to-ts-in-ngfor/44276223#44276223", "title": "How to pass variable from template to ts in ngfor", "body": "<p>Well, you got a <code>onchange</code> handler on <code>select</code>. So, you can use that,</p>\n\n<pre><code>&lt;select (change)=\"onregionchange()\" data-placeholder=\"Regions\" class=\"form-control regions-select\" id=\"regions\" multiple&gt;\n    &lt;option *ngFor=\"let region of all_regions\" [value]=\"region.id\"&gt;{{region.name}}&lt;/option&gt;\n&lt;/select&gt;\n\nfunction onregionchange(e){\n    console.log(e.target.value)\n}\n</code></pre>\n\n<p>As you have given <code>region.id</code> as <code>option</code> value, you will get <code>region.id</code> of the selected option. I hope you can get <code>region.country</code> from that.</p>\n"}, {"tags": [], "owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "is_accepted": true, "score": 5, "last_activity_date": 1496223645, "creation_date": 1496223645, "answer_id": 44281189, "question_id": 44276106, "link": "https://stackoverflow.com/questions/44276106/how-to-pass-variable-from-template-to-ts-in-ngfor/44281189#44281189", "title": "How to pass variable from template to ts in ngfor", "body": "<p>In your function  <code>onregionchange()</code> you need to pass all the options. Like <code>change($event.target.options)</code>. </p>\n\n<p>And in TS file you need to extract selected ones since you are getting all the variables in it. \nSomething like : </p>\n\n<pre><code>onregionchange(countries) {\n    this.selectedregions = Array.apply(null,countries)\n      .filter(country =&gt; country.selected)\n      .map(country=&gt; country.value)\n  }\n</code></pre>\n\n<p>Check this <a href=\"http://plnkr.co/edit/V4Oer0DPeYW1lSKuiOrx?p=preview\" rel=\"noreferrer\">plunkr</a></p>\n"}], "owner": {"reputation": 707, "user_id": 6838395, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c76c8e610d6938215c2d59fca73dd2bf?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra Vyas", "link": "https://stackoverflow.com/users/6838395/narendra-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 44281189, "answer_count": 2, "score": 1, "last_activity_date": 1496223645, "creation_date": 1496207198, "last_edit_date": 1496221905, "question_id": 44276106, "link": "https://stackoverflow.com/questions/44276106/how-to-pass-variable-from-template-to-ts-in-ngfor", "title": "How to pass variable from template to ts in ngfor", "body": "<p>How to pass variable from template to typescript from <code>*ngFor</code>.</p>\n\n<p>I am using for loop as:</p>\n\n<pre><code> &lt;select (change)=\"onregionchange()\" data-placeholder=\"Regions\" class=\"form-control regions-select\" id=\"regions\" multiple&gt;\n    &lt;option *ngFor=\"let region of all_regions\" [value]=\"region.id\"&gt;{{region.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Now I want to send countries for region selected to ts i.e. in region.countries in <code>onregionchange()</code></p>\n\n<p>How can I achieve this in <code>angular2</code></p>\n"}, {"tags": ["typescript", "node.js-addon"], "answers": [{"comments": [{"owner": {"reputation": 4275, "user_id": 6699069, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rlfxl.jpg?s=128&g=1", "display_name": "sziraqui", "link": "https://stackoverflow.com/users/6699069/sziraqui"}, "edited": false, "score": 0, "creation_date": 1561372752, "post_id": 44467330, "comment_id": 100028462, "body": "Well this works but OP is asking for typescript declaration files. (I m not the downvoter)"}], "tags": [], "owner": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "is_accepted": false, "score": 3, "last_activity_date": 1497046108, "creation_date": 1497046108, "answer_id": 44467330, "question_id": 44275172, "link": "https://stackoverflow.com/questions/44275172/typescript-declarations-file-for-node-c-addon/44467330#44467330", "title": "Typescript declarations file for Node C++ Addon", "body": "<p>There are perhaps better ways of doing this, but I use the following pattern:</p>\n\n<pre><code>// bindings.ts\n// Declare the interface of your addon:\nexport interface MyBindings {\n    myMethod1: (arg1: number) =&gt; null;\n}\n// Load it with require\nvar myClass: MyBindings = require(\"./build/release/myaddon\");\nexport default myClass;\n</code></pre>\n\n<p>And then use it from other parts of my module with <code>import bindings from \"../bindings\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 395, "user_id": 689959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38ff585380aabdb8510972f4d71c1f8?s=128&d=identicon&r=PG", "display_name": "Doug Schaefer", "link": "https://stackoverflow.com/users/689959/doug-schaefer"}, "is_accepted": true, "score": 9, "last_activity_date": 1499919048, "creation_date": 1499919048, "answer_id": 45071267, "question_id": 44275172, "link": "https://stackoverflow.com/questions/44275172/typescript-declarations-file-for-node-c-addon/45071267#45071267", "title": "Typescript declarations file for Node C++ Addon", "body": "<p>I think I finally have it. As suggested by @ZachB, I created a myaddon.ts file that has the following:</p>\n\n<pre><code>const myaddon = require('./build/release/myaddon')\n\nexport interface MyClass {\n    myMethod(arg: string): number\n}\n\nexport var MyClass: {\n    new(param: string): MyClass\n} = myaddon.MyClass\n</code></pre>\n\n<p>Then use it:</p>\n\n<pre><code>import { MyClass } from 'myaddon'\n\nconst thing: MyClass = new MyClass('something')\nconst answer: number = thing.myMethod('blah')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 8390695, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156403862664008/picture?type=large", "display_name": "Nick Kallen", "link": "https://stackoverflow.com/users/8390695/nick-kallen"}, "is_accepted": false, "score": 0, "last_activity_date": 1616755553, "creation_date": 1616755553, "answer_id": 66815386, "question_id": 44275172, "link": "https://stackoverflow.com/questions/44275172/typescript-declarations-file-for-node-c-addon/66815386#66815386", "title": "Typescript declarations file for Node C++ Addon", "body": "<p>If you need to do an ambient declaration, (as I did because I'm using Node-Gyp + Webpack), you can add a mymodule.d.ts:</p>\n<pre><code>declare module &quot;*mymodule.node&quot; {\n    declare class SpaceItem {}\n\n    declare class Item extends SpaceItem {\n        GetItemName(): number;\n        CreateMesh(StepData, FormNote, RegDuplicate?);\n    }\n\n    var Enabler: {\n        EnableMathModules(string, string);\n    };\n}\n</code></pre>\n<p>And then require this</p>\n<pre><code>import mymodule from '../build/Release/mymodule.node';\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 689959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38ff585380aabdb8510972f4d71c1f8?s=128&d=identicon&r=PG", "display_name": "Doug Schaefer", "link": "https://stackoverflow.com/users/689959/doug-schaefer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2620, "favorite_count": 1, "accepted_answer_id": 45071267, "answer_count": 3, "score": 8, "last_activity_date": 1616755553, "creation_date": 1496201651, "question_id": 44275172, "link": "https://stackoverflow.com/questions/44275172/typescript-declarations-file-for-node-c-addon", "title": "Typescript declarations file for Node C++ Addon", "body": "<p>I have a Node C++ Addon that provides a wrapped class similar to the one in the Node documentation. I can require() my addon and then get the constructor for my class to create an instance.</p>\n\n<pre><code>const { MyClass } = require('myaddon');\nconst obj = new MyClass('data');\n</code></pre>\n\n<p>Now I want to use TypeScript to do the same. I can't find the right combination of .d.ts file and import statement to make this work. I guess ideally I'd like to declare my class is in the module and has a constructor that takes a string. I could then just do:</p>\n\n<pre><code>import { MyClass } from 'myaddon';\nconst obj = new MyClass('data');\n</code></pre>\n\n<p>Any examples of this that people have seen?</p>\n"}, {"tags": ["typescript"], "owner": {"reputation": 11, "user_id": 6627504, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kiK5ugzlTbk/AAAAAAAAAAI/AAAAAAAAADc/z6a9VF7bbRA/photo.jpg?sz=128", "display_name": "Nio Kasgami", "link": "https://stackoverflow.com/users/6627504/nio-kasgami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496243780, "creation_date": 1496197682, "last_edit_date": 1496243780, "question_id": 44274676, "link": "https://stackoverflow.com/questions/44274676/how-to-get-the-content-of-a-class-within-a-variable", "title": "How to get the content of a class within a variable", "body": "<p>I have a Manager who hold Scene which are <code>PIXI.Container</code> and it's can access the content of a scene via the variable this._scene\nso example I could go and do <code>this._scene.update();</code></p>\n\n<p>Although I am unsure how to make the system being able to detect dynamically the content of the scene (which scene can be of multiple names but they are <strong>all</strong> the childs of <code>Scene_Base</code> who share common method.)</p>\n\n<p>So my first approach was this:  </p>\n\n<pre><code>interface  ISceneConstructor {\n    new(): Scene.Base;\n}\n</code></pre>\n\n<p>then assign it to <code>private static _scene: ISceneConstructor = null;</code></p>\n\n<p>Although when I do:</p>\n\n<pre><code>this._scene.methodName();\n</code></pre>\n\n<p>it's say it's can find the method name on <code>ISceneConstructor</code> when it's supposed to refers to the class Scene_Base or any scene who are passed to the <code>_sceneVariable</code>.\nIt's <strong>not</strong> directly called by new by referenced from another variables who is: </p>\n\n<pre><code>this._nextScene = new sceneClass(); &lt;-- wich is a type of ISceneConstructor\nSceneManager.changeScene = function() {\n    if (this.isSceneChanging() &amp;&amp; !this.isCurrentSceneBusy()) {\n        if (this._scene) {\n            this._scene.terminate();\n            this._scene.detachReservation();\n            this._previousClass = this._scene.constructor;\n        }\n        this._scene = this._nextScene; // &lt;-- where you see the assignation.\n        if (this._scene) {\n            this._scene.attachReservation();\n            this._scene.create();\n            this._nextScene = null;\n            this._sceneStarted = false;\n            this.onSceneCreate();\n        }\n        if (this._exiting) {\n            this.terminate();\n        }\n    }\n};\n</code></pre>\n\n<p>So how I could possibly get the content of the actual scene without having to destroy the library? (because yes I am using a existing library I am converting to Typescript!</p>\n"}, {"tags": ["angular", "http", "typescript", "undefined"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8089347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856bed35a860c0b6cff7a759cafcaeb2?s=128&d=identicon&r=PG&f=1", "display_name": "atomik", "link": "https://stackoverflow.com/users/8089347/atomik"}, "edited": false, "score": 0, "creation_date": 1496198329, "post_id": 44274598, "comment_id": 75556989, "body": "You made my day ! Thank you !"}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 2, "last_activity_date": 1496197101, "creation_date": 1496197101, "answer_id": 44274598, "question_id": 44274480, "link": "https://stackoverflow.com/questions/44274480/angular-http-promise-return-undefined/44274598#44274598", "title": "Angular Http Promise return undefined", "body": "<p>If that is the result you get from the API, then you should not be using <code>response.json().data</code> in your <code>getGalleries</code> method since there is no <code>data</code> property. Remove the <code>data</code>:</p>\n\n<pre><code>.then(response =&gt; response.json() as Gallery[])\n</code></pre>\n\n<p>See the <a href=\"https://angular.io/docs/ts/latest/guide/server-communication.html#!#parse-to-json\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Make no assumptions about the server API. Not all servers return an\n  object with a <code>data</code> property.</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 8089347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856bed35a860c0b6cff7a759cafcaeb2?s=128&d=identicon&r=PG&f=1", "display_name": "atomik", "link": "https://stackoverflow.com/users/8089347/atomik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 44274598, "answer_count": 1, "score": 0, "last_activity_date": 1496197101, "creation_date": 1496196154, "question_id": 44274480, "link": "https://stackoverflow.com/questions/44274480/angular-http-promise-return-undefined", "title": "Angular Http Promise return undefined", "body": "<p>Just trying to set my component property from a http result but no success. Thank for your help !  (working with a static mock object)</p>\n\n<p>Class - Object </p>\n\n<pre><code>export class Gallery {\n    name: string;\n}\n</code></pre>\n\n<hr>\n\n<p>Service</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/Rx';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport { Gallery } from './GalleryModel';\n\n\n@Injectable()\nexport class GalleryLoadService {\n\n    private galleryUrl = 'api/Gallery/Get'; \n\n    constructor(private http: Http) {\n    }\n\n\n    getGalleries(): Promise&lt;Gallery[]&gt; {\n        return this.http.get(this.galleryUrl)\n            .toPromise()\n            .then(response =&gt; response.json().data as Gallery[])\n            .catch(this.handleError);\n    }\n\n    private handleError(error: any): Promise&lt;any&gt; {\n        console.error('An error occurred', error); \n        return Promise.reject(error.message || error);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Component </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Gallery } from './GalleryModel';\nimport { GalleryLoadService } from './gallery-services';\n\n\n@Component({\n    selector: 'my-gallery',\n    templateUrl: 'gallery-component.html',\n    moduleId: module.id \n})\nexport class GalleryComponent implements OnInit {\n    galleries: Gallery[];\n\n    constructor(private galleryService: GalleryLoadService) {\n    }\n\n    ngOnInit(): void {\n        this.getGals();\n    }\n\n    getGals(): void {\n\n        this.galleryService\n            .getGalleries()\n            .then(gals =&gt; {\n            this.galleries = gals;\n            console.log(this.galleries); &lt;=== TypeError: gals is undefined!!!!!\n            });\n    }      \n}\n</code></pre>\n\n<h2>console.log return TypeError: gals is undefined!!!!!</h2>\n\n<p>API call result </p>\n\n<pre><code>[{\"name\":\"Cats\"},{\"name\":\"Dogs\"}]\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "firebase", "visual-studio-code", "intellisense"], "answers": [{"comments": [{"owner": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "edited": false, "score": 0, "creation_date": 1496219956, "post_id": 44275651, "comment_id": 75566361, "body": "I updated my question with your suggestion. I&#39;m still missing something because no code completion yet."}, {"owner": {"reputation": 16646, "user_id": 1139099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AWxKH.png?s=128&g=1", "display_name": "harishr", "link": "https://stackoverflow.com/users/1139099/harishr"}, "reply_to_user": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "edited": false, "score": 0, "creation_date": 1496227164, "post_id": 44275651, "comment_id": 75571521, "body": "you will also have to do <code>tsc init</code>"}, {"owner": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "edited": false, "score": 0, "creation_date": 1496229790, "post_id": 44275651, "comment_id": 75573281, "body": "With <code>tsc init</code> I get this error: <code>error TS6053: File &#39;init.ts&#39; not found</code>. Finally I created an <code>index.ts</code>(because this where I will need the most the code completion) file and did this: <code>tsc .\\functions\\index.ts</code>. Still no luck."}, {"owner": {"reputation": 16646, "user_id": 1139099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AWxKH.png?s=128&g=1", "display_name": "harishr", "link": "https://stackoverflow.com/users/1139099/harishr"}, "reply_to_user": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "edited": false, "score": 0, "creation_date": 1496231119, "post_id": 44275651, "comment_id": 75574234, "body": "i meant to say you need tsconfig.json which is created from tsc init"}, {"owner": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "edited": false, "score": 0, "creation_date": 1496232658, "post_id": 44275651, "comment_id": 75575503, "body": "I created the file. Updated the question. Still no code completion."}, {"owner": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "edited": false, "score": 0, "creation_date": 1496335838, "post_id": 44275651, "comment_id": 75631744, "body": "I updated the question. Basically I have this at the beginning of the file: <code>import * as firebase from &#39;firebase&#39;;</code>"}], "tags": [], "owner": {"reputation": 16646, "user_id": 1139099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AWxKH.png?s=128&g=1", "display_name": "harishr", "link": "https://stackoverflow.com/users/1139099/harishr"}, "is_accepted": false, "score": 4, "last_activity_date": 1496204878, "creation_date": 1496204878, "answer_id": 44275651, "question_id": 44274471, "link": "https://stackoverflow.com/questions/44274471/code-completion-for-firebase-in-vs-code/44275651#44275651", "title": "Code completion for Firebase in VS code?", "body": "<p>please install firebase <a href=\"https://www.npmjs.com/package/@types/firebase\" rel=\"nofollow noreferrer\">typings</a> to get firebase code completion</p>\n\n<pre><code>       npm install --save-dev @types/firebase\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1314, "user_id": 2344535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da508cca78ad5774e973d036fc0bb80?s=128&d=identicon&r=PG", "display_name": "rednuht", "link": "https://stackoverflow.com/users/2344535/rednuht"}, "edited": false, "score": 3, "creation_date": 1534194276, "post_id": 48689176, "comment_id": 90615418, "body": "The code I got from samples had const functions = require(...). Changing const to import did the trick for me. Thanks!"}, {"owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "edited": false, "score": 0, "creation_date": 1542764255, "post_id": 48689176, "comment_id": 93683258, "body": "well in type script it works.. but I stuck with no intelisense in javascript"}], "tags": [], "owner": {"reputation": 1335, "user_id": 683643, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/j7Syd.jpg?s=128&g=1", "display_name": "Oli", "link": "https://stackoverflow.com/users/683643/oli"}, "is_accepted": false, "score": 7, "last_activity_date": 1518104007, "creation_date": 1518104007, "answer_id": 48689176, "question_id": 44274471, "link": "https://stackoverflow.com/questions/44274471/code-completion-for-firebase-in-vs-code/48689176#48689176", "title": "Code completion for Firebase in VS code?", "body": "<p>I use at the beginning of the functions/index.ts</p>\n\n<p><code>import functions = require('firebase-functions');\nimport admin = require('firebase-admin');</code></p>\n\n<p>and it works.</p>\n"}], "owner": {"reputation": 1225, "user_id": 206609, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e1dcc0f944e89522168540f99edac7e2?s=128&d=identicon&r=PG", "display_name": "Alqin", "link": "https://stackoverflow.com/users/206609/alqin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2365, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1518104007, "creation_date": 1496196075, "last_edit_date": 1496335777, "question_id": 44274471, "link": "https://stackoverflow.com/questions/44274471/code-completion-for-firebase-in-vs-code", "title": "Code completion for Firebase in VS code?", "body": "<p>On <a href=\"http://youtu.be/sKFLI5FOOHs?t=57s\" rel=\"nofollow noreferrer\">this video</a> Typescript is used for code completion. \nI followed the instructions from <a href=\"https://code.visualstudio.com/docs/languages/typescript\" rel=\"nofollow noreferrer\">here</a> and have Typescript working with the Hello World example. I have no idea what to do next to have code completion for Firebase.</p>\n\n<p><strong>How can I get code completion for Firebase in VS Code?</strong></p>\n\n<p><strong>Update 1</strong>:</p>\n\n<p>I created my Firebase project with the following commands in the VS code terminal: <code>firebase init</code>, <code>firebase init functions</code>. So I would also want the code completion to work in the functions/index.ts file that I will have to create, just saying.</p>\n\n<p>Then I did <code>npm init</code> and as sugested:</p>\n\n<pre><code>npm install --save-dev @types/firebase\n</code></pre>\n\n<p>In the root directory of the project now I have the <code>node_module</code> directory with only <code>@types/firebase</code> as content and this package.json file:</p>\n\n<pre><code>{\n  \"name\": \"My Project\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Does something\",\n  \"main\": \"index.js\",\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"@types/firebase\": \"^2.4.31\"\n  },\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"Somebody\",\n  \"license\": \"ISC\"\n}\n</code></pre>\n\n<p>I also created a <code>index.ts</code> file to test but when I type <code>firebase.</code> no code completion. What is the next step to get the code completion?</p>\n\n<p><strong>Update 2</strong>:</p>\n\n<p>.vscode/tasks.json:</p>\n\n<pre><code>{\n  // See https://go.microsoft.com/fwlink/?LinkId=733558\n  // for the documentation about the tasks.json format\n  \"version\": \"0.1.0\",\n  \"command\": \"tsc\",\n  \"isShellCommand\": true,\n  \"args\": [\"-w\", \"-p\", \".\"],\n  \"showOutput\": \"silent\",\n  \"isBackground\": true,\n  \"problemMatcher\": \"$tsc-watch\"\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\", \n        \"sourceMap\": true\n    }    \n}\n</code></pre>\n\n<p><strong>Still no code completion!</strong></p>\n\n<p><strong>Update 3</strong>:</p>\n\n<p>The beginning of the <code>functions/index.ts</code> file where I am interested to see the code completion:</p>\n\n<pre><code>import * as firebase from 'firebase';\nvar functions = require('firebase-functions');\n</code></pre>\n\n<p>The <code>import * as firebase from 'firebase'</code> part is from <a href=\"http://youtu.be/sKFLI5FOOHs?t=57s\" rel=\"nofollow noreferrer\">this video</a> where I saw the code completion working. I would also want the code completion to work in <code>public/app.ts</code> the client side file.</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 8084005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5c0f83f52bd6d3b86b29d08bca1b5?s=128&d=identicon&r=PG&f=1", "display_name": "Praneeth Reddy", "link": "https://stackoverflow.com/users/8084005/praneeth-reddy"}, "reply_to_user": {"reputation": 11, "user_id": 8089331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfdc8e44bd85e09644a1c88b628c2db?s=128&d=identicon&r=PG&f=1", "display_name": "Haq A", "link": "https://stackoverflow.com/users/8089331/haq-a"}, "edited": false, "score": 0, "creation_date": 1496367873, "post_id": 44274699, "comment_id": 75644532, "body": "This might be the issue. IE 11 is installed but in the setting default may be less than version 9. <a href=\"https://stackoverflow.com/questions/22034924/how-to-set-ie11-document-mode-to-edge-as-default\" title=\"how to set ie11 document mode to edge as default\">stackoverflow.com/questions/22034924/&hellip;</a>"}, {"owner": {"reputation": 404, "user_id": 8084005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5c0f83f52bd6d3b86b29d08bca1b5?s=128&d=identicon&r=PG&f=1", "display_name": "Praneeth Reddy", "link": "https://stackoverflow.com/users/8084005/praneeth-reddy"}, "reply_to_user": {"reputation": 11, "user_id": 8089331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfdc8e44bd85e09644a1c88b628c2db?s=128&d=identicon&r=PG&f=1", "display_name": "Haq A", "link": "https://stackoverflow.com/users/8089331/haq-a"}, "edited": false, "score": 0, "creation_date": 1496368119, "post_id": 44274699, "comment_id": 75644589, "body": "try adding this in index.html   &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge;IE=11&quot; /&gt;"}], "tags": [], "owner": {"reputation": 404, "user_id": 8084005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5c0f83f52bd6d3b86b29d08bca1b5?s=128&d=identicon&r=PG&f=1", "display_name": "Praneeth Reddy", "link": "https://stackoverflow.com/users/8084005/praneeth-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1496197904, "creation_date": 1496197904, "answer_id": 44274699, "question_id": 44274320, "link": "https://stackoverflow.com/questions/44274320/html5-input-type-date-on-ff-using-angular-typescript/44274699#44274699", "title": "HTML5 Input type Date on FF - using Angular/Typescript", "body": "<p>You need to uncomment the following imports in polyfills.ts or you need to import shim.js.</p>\n\n<pre><code>/** IE9, IE10 and IE11 requires all of the following polyfills. **/\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8089331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfdc8e44bd85e09644a1c88b628c2db?s=128&d=identicon&r=PG&f=1", "display_name": "Haq A", "link": "https://stackoverflow.com/users/8089331/haq-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496197904, "creation_date": 1496194887, "question_id": 44274320, "link": "https://stackoverflow.com/questions/44274320/html5-input-type-date-on-ff-using-angular-typescript", "title": "HTML5 Input type Date on FF - using Angular/Typescript", "body": "<p>Is there a purely Angular/Typescript codebase without using any third party. Having issues with FF &amp; IE11. Chrome is fine, can read the value, but the calendar doesnt show up when HTML5 input date is used.</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1496192362, "post_id": 44274032, "comment_id": 75555709, "body": "You switched around the <code>if</code> / <code>else</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1496561653, "post_id": 44274032, "comment_id": 75705638, "body": "This kind of polymorphism is a bad idea in general. Just make <code>updateEmployees</code> take an array. If you want to call it with a single employee, then do so with <code>updateEmployees([emp])</code>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 7, "creation_date": 1496561591, "post_id": 44274049, "comment_id": 75705624, "body": "Or even <code>[].concat(emp).forEach(...</code>."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 6, "last_activity_date": 1496192338, "creation_date": 1496192338, "answer_id": 44274049, "question_id": 44274032, "link": "https://stackoverflow.com/questions/44274032/ensure-parameter-is-an-array/44274049#44274049", "title": "Ensure parameter is an array", "body": "<p>Here's the fixed version of your function:</p>\n\n<pre><code>function updateEmployees (emp: employee | employee[]) {\n    let employees: employee[] = [];\n    if (emp instanceof Array) employees = emp;\n    else employees = [emp];\n    employees.forEach(function(e){\n        return 'something'\n    })\n}\n</code></pre>\n\n<p>But it can be shorter:</p>\n\n<pre><code>function updateEmployees(emp: employee | employee[]) {\n    (emp instanceof Array ? emp : [emp]).forEach(function(e){\n        return 'something'\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 1041, "user_id": 949547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1273620873/picture?type=large", "display_name": "Jon Lamb", "link": "https://stackoverflow.com/users/949547/jon-lamb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 44274049, "answer_count": 1, "score": 2, "last_activity_date": 1496560930, "creation_date": 1496192177, "last_edit_date": 1496560930, "question_id": 44274032, "link": "https://stackoverflow.com/questions/44274032/ensure-parameter-is-an-array", "title": "Ensure parameter is an array", "body": "<p>I'm trying to find a way to check whether a function parameter is an array or not. If it is not, turn it into an array and perform a function on it, otherwise just perform a function on it.</p>\n\n<p>Example:</p>\n\n<pre><code>interface employee {\n    first: string,\n    last: string\n}\n\nfunction updateEmployees (emp: employee | employee[]) {\n    let employees = [];\n    if (emp instanceof Array) employees = [emp];\n    else employees = emp;\n    employees.forEach(function(e){\n        return 'something'\n    })\n}\n</code></pre>\n\n<p>This seems like it would work to me but is throwing a warning of <code>Type 'employee' is not assignable to type 'any[]'. Property 'length' is missing in type 'employee'.</code></p>\n"}, {"tags": ["typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1496190945, "post_id": 44273828, "comment_id": 75555423, "body": "Check this issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/5326\" rel=\"nofollow noreferrer\">Combining destructuring with parameter properties</a>"}, {"owner": {"reputation": 1818, "user_id": 6737470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ae834918215b7e864d9959298befafe9?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan", "link": "https://stackoverflow.com/users/6737470/hassan"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1496215237, "post_id": 44273828, "comment_id": 75563368, "body": "Thanks @NitzanTomer for pointing me in the right direction. (Technically that answer is on github so not a duplicate ;) )"}], "owner": {"reputation": 1818, "user_id": 6737470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ae834918215b7e864d9959298befafe9?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan", "link": "https://stackoverflow.com/users/6737470/hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "closed_date": 1496190761, "answer_count": 0, "score": 1, "last_activity_date": 1496190002, "creation_date": 1496190002, "question_id": 44273828, "link": "https://stackoverflow.com/questions/44273828/less-verbose-way-to-write-a-destructured-typescript-constructor", "closed_reason": "Duplicate", "title": "Less verbose way to write a destructured typescript constructor", "body": "<p>I want to pass an object to my data model (instead of passing separate parameters). However by doing so i have to write three times as much code. Is there a less verbose way to write the object destructured code (like the parameterised way)</p>\n\n<p><strong>First - parameterised way (for reference):</strong></p>\n\n<pre><code>export class DataModel {\n    constructor(\n        public suppliers: SupplierModel[],\n        public inStock: boolean,\n        public myFavorites: boolean,\n    ) {}\n}\n</code></pre>\n\n<p><strong>Object - destrutured way:</strong></p>\n\n<pre><code>export class DataModel {\n    public suppliers: SupplierModel[];\n    public inStock: boolean;\n    public myFavorites: boolean;\n\n    constructor(\n        {suppliers, inStock, myFavorites}: \n        {suppliers: SupplierModel[], inStock: boolean, myFavorites: boolean \n    ) {\n            this.suppliers = suppliers;\n            this.inStock = inStock;\n            this.myFavorites = myFavorites;\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496188135, "post_id": 44273561, "comment_id": 75554808, "body": "So you want it to fire when the window is scrolled to EXACTLY 100 pixels past the element? (And at 200, 300, etc...?)"}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496188180, "post_id": 44273561, "comment_id": 75554819, "body": "Yes, precisely. And I have the <code>hitMap</code> to prevent it from firing when the user scrolls back up and hits the previously loaded spot again."}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 1, "creation_date": 1496188965, "post_id": 44273561, "comment_id": 75555000, "body": "Don&#39;t think this will work because the browser itself doesn&#39;t always scroll one pixel at a time. If it did, the event would fire thousands of times at once if the page was long and the user hit the &#39;end&#39; key, for example. I think the best you can do is keep track of the previous scroll position, and fire the event if previous scroll is &lt; 100 and current scroll is &gt;= 100."}], "owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496187874, "creation_date": 1496187874, "question_id": 44273561, "link": "https://stackoverflow.com/questions/44273561/angular2-typescript-why-is-document-scroll-event-not-firing-for-every-pixel", "title": "Angular2/TypeScript: Why is document scroll event not firing for every pixel?", "body": "<p>I am trying to make a very lightweight and simple lazy scroll directive. I want to use it like so:</p>\n\n<p><code>&lt;some-element lazyScroll [lazyScrollDistance]=\"100\" (lazyScrollAction)=\"loadMore()\"&gt;...&lt;/some-element&gt;</code></p>\n\n<p>The <code>lazyScrollDistance</code> is the amount of pixels the user has to slide down from the top of your element for you to initiate the <code>lazyScrollAction</code>. This will be triggered every subsequent 100 pixels, but never repeated when going backwards.</p>\n\n<p>The code I have written achieves this, with one caveat: The scroll event is not fired eery 1, 2, 3, 4, 5, 6 etc. pixels, but rather it is fired (depending on how fast I scroll) in chunks, like 1, 4, 10, 13, 15, etc..</p>\n\n<p>This breaks my logic because I am expecting the scrolls to increment by one 100% of the time.</p>\n\n<p>Can someone please advise me on this?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import { Directive, Input, Output, EventEmitter, ElementRef } from '@angular/core';\n\nimport { WindowRefService } from 'core/services/window-ref/window-ref.service';\n\ninterface HitMap {\n    [position: number]: boolean;\n}\n\n@Directive({\n    selector: '[lazyScroll]',\n})\nexport class LazyScrollDirective {\n    private hitMap: HitMap = {};\n\n    @Input('lazyScrollDistance') scrollDistance = 100;\n    @Output() lazyScrollAction: EventEmitter&lt;any&gt; = new EventEmitter();\n\n    constructor(\n        private windowRef: WindowRefService,\n        private element: ElementRef,\n    ) {\n        const win = windowRef.nativeWindow;\n        const el = element.nativeElement;\n\n        document.addEventListener('scroll', () =&gt; {\n            this.onScroll(win, el);\n        });\n    }\n\n    onScroll(win: Window, el: any) {\n        const currentPos = win.pageYOffset;\n\n        if (this.hitMap[currentPos]) {\n            return;\n        }\n\n        const elementTopRelativeToViewport = el.getBoundingClientRect().top;\n        const elementTopRelativeToDocument = elementTopRelativeToViewport + currentPos;\n        const startBase = elementTopRelativeToDocument + this.scrollDistance;\n\n        if (currentPos &gt; startBase &amp;&amp; currentPos % this.scrollDistance === 0) {\n            this.hitMap[currentPos] = true;\n            this.lazyScrollAction.emit(null);\n        }\n    }\n}\n</code></pre>\n\n<p>This is the <code>WindowRefService</code>:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nfunction getWindow(): any {\n    return window;\n}\n\n@Injectable()\nexport class WindowRefService {\n    get nativeWindow(): any {\n        return getWindow();\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "firebase", "firebase-realtime-database", "google-cloud-functions"], "comments": [{"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1496302626, "post_id": 44273401, "comment_id": 75607871, "body": "Have you run <code>initializeApp</code>? <code>admin.initializeApp(functions.config().firebase);</code>"}, {"owner": {"reputation": 515, "user_id": 5183103, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/373dbc879fa968430b47cdf16724f36a?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/5183103/matt-thomas"}, "reply_to_user": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1496350925, "post_id": 44273401, "comment_id": 75639823, "body": "@sketchthat yeah I have. I ended up being able to fix it but I had to download the credentials file from the firebase console and then import as my credential."}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1496368824, "post_id": 44273401, "comment_id": 75644742, "body": "You shouldn&#39;t need to do that, it should be able to get the config from the <code>functions.config().firebase</code> call."}], "owner": {"reputation": 515, "user_id": 5183103, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/373dbc879fa968430b47cdf16724f36a?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/5183103/matt-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496198984, "creation_date": 1496186596, "last_edit_date": 1496198984, "question_id": 44273401, "link": "https://stackoverflow.com/questions/44273401/cloud-functions-for-firebase-oncevalue-returning-nothing", "title": "Cloud Functions for Firebase - .once(&#39;value&#39;) returning nothing", "body": "<p>I just started using Cloud Functions for Firebase. I'm stuck on retrieving data from the database. </p>\n\n<p>I'm using <code>.once('value')</code> on a Firebase reference to convert it into a promise, but every time I run the function with Postman I get this error: </p>\n\n<pre><code>Error: Can't set headers after they are sent.\nat ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:357:11)\nat ServerResponse.header (/usr/lib/node_modules/firebase-tools/node_modules/express/lib/response.js:725:10)\nat ServerResponse.send (/usr/lib/node_modules/firebase-tools/node_modules/express/lib/response.js:170:12)\nat ServerResponse.json (/usr/lib/node_modules/firebase-tools/node_modules/express/lib/response.js:256:15)\nat Timeout.req.functionTimeout.setTimeout [as _onTimeout] (/usr/lib/node_modules/firebase-tools/node_modules/@google-cloud/functions-emulator/src/supervisor/supervisor.js:192:14)\nat ontimeout (timers.js:380:14)\nat tryOnTimeout (timers.js:244:5)\nat Timer.listOnTimeout (timers.js:214:5)\n</code></pre>\n\n<p>Here is the first function which calls for the function to get that data:</p>\n\n<pre><code>exports.userPlaylistStatus = functions.https.onRequest(async (request, response) =&gt; {\n     const userId = request.body.userId;\n     // Wait to get the user reference\n     const userRef = await buildUserRef(userId);\n     response.send(userRef);\n});\n</code></pre>\n\n<p>Here is the function I'm using <code>.once('value')</code> in. The promise is never returning a value. Even when I put a <code>console.log('hi')</code> inside the <code>.then()</code>, it is never logged. </p>\n\n<pre><code>async function buildUserRef(_userId: string) {\nreturn await admin.database().ref(`/users/${_userId}`).once('value').then(\n    // this would return the user reference but I have it as .val() for now\n    res =&gt; {return res.val();},\n    err =&gt; {console.log(err)}\n);\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "angular-promise"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7598968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/qG9wG.jpg?s=128&g=1", "display_name": "Ahmed Chebbi", "link": "https://stackoverflow.com/users/7598968/ahmed-chebbi"}, "edited": false, "score": 0, "creation_date": 1496192432, "post_id": 44274019, "comment_id": 75555723, "body": "I&#39;m looking for how to execute chained promises which must be executed for each iteration of loop..That&#39;s all"}], "tags": [], "owner": {"reputation": 2767, "user_id": 55154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fse7P.jpg?s=128&g=1", "display_name": "Fredy Treboux", "link": "https://stackoverflow.com/users/55154/fredy-treboux"}, "is_accepted": false, "score": 0, "last_activity_date": 1496192071, "creation_date": 1496192071, "answer_id": 44274019, "question_id": 44273022, "link": "https://stackoverflow.com/questions/44273022/returning-promise-void-instead-of-promiseany/44274019#44274019", "title": "Returning Promise&lt; void &gt; instead of Promise&lt;any&gt;", "body": "<p>Implicitly, the type for the variable <code>promise</code> in your example will be <code>ng.IPromise&lt;void&gt;</code> because that's what <code>$q.when()</code> returns.<br>\nA variable of type <code>ng.IPromise&lt;void&gt;</code> cannot get an <code>ng.IPromise&lt;EntityBase&gt;</code> object assigned to it.<br>\nDepending on what you want to achieve, there are different things you could do.  </p>\n\n<p>You can use another variable to hold your later promise:</p>\n\n<pre><code>let anotherPromise = promise.then(() =&gt; { ...\n</code></pre>\n\n<p>You can explicitly declare the type of your variable to be <code>ng.IPromise&lt;any&gt;</code> at the beginning:</p>\n\n<pre><code>let promise: ng.IPromise&lt;any&gt; = self.$q.when();\nlet promise = promise.then(() =&gt; { ...\n</code></pre>\n\n<p>Or you could have your promise chain ending up actually returning a promise of void:</p>\n\n<pre><code>promise = promise.then(() =&gt; {... your chain ...}).then(() =&gt; { });\n</code></pre>\n\n<p>There might be other options as well, but I hope that helps.</p>\n"}], "owner": {"reputation": 11, "user_id": 7598968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/qG9wG.jpg?s=128&g=1", "display_name": "Ahmed Chebbi", "link": "https://stackoverflow.com/users/7598968/ahmed-chebbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8504, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1615438815, "creation_date": 1496184069, "question_id": 44273022, "link": "https://stackoverflow.com/questions/44273022/returning-promise-void-instead-of-promiseany", "title": "Returning Promise&lt; void &gt; instead of Promise&lt;any&gt;", "body": "<p>I developed through AngularJS many asynchronous functions with the same signature which is app.Domain.GenericModel.EntityBase (my generic model) \nThis is a sample:</p>\n\n<pre><code>get(resource: string): ng.IPromise&lt;app.Domain.GenericModel.EntityBase[]&gt; {\n            var self = this;\n            var deferred = self.qService.defer();\n            self.httpService.get(resource).then(function (result: any) {\n                deferred.resolve(result.data);\n            }, function (errors) {\n                self.exception = new app.Exceptions.Model.Exception(errors.status, errors.statusText);\n                deferred.reject(self.exception);\n            });\n\n            return deferred.promise;\n        }\n</code></pre>\n\n<p>Then I tried to call some services which are similar to the previous one with chained promises.So, I got this error : \"Type IPromise is not assignable to type IPromise, Type EntityBase is not assignable to type void\"</p>\n\n<pre><code>   var self = this; \n    var promise = self.$q.when();\n    promise = promise.then(() =&gt; {\n                                            return self.EcritureService.get(critureToSave);\n                                        }).then((compte: EntityBase) =&gt; {\n                                            return self.CompteService.getSingle(Number(data.compte));\n                                        }).then((EntityBase) =&gt; {\n                                            currentAccount.montantCpt = currentAccount.montantCpt + montant;\n                                            return self.CompteService.update(currentAccount:EntityBase);\n                                        });\n</code></pre>\n\n<p><strong>I search a lot for this dilemma and all I've got, an inconspicuous method to convert my functions' returns to the common pattern \"IPromise\" through Type assertion which mostly based on the compiler's deception or something like that.\nI didn't comprehend this trick if anyone else have an idea..could he clarify it no matter what it's efficient or not.</strong></p>\n"}, {"tags": ["reactjs", "typescript", "lodash"], "comments": [{"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496184862, "post_id": 44273011, "comment_id": 75554035, "body": "Instead of <code>bar: object[]</code>, try <code>bar: {[key: string]: any}[]</code> or even just <code>bar: any[]</code>. Also I think you meant to use <code>_.map</code> instead of <code>_.forEach</code>."}, {"owner": {"reputation": 106, "user_id": 605135, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/75593e47a0a60490119f5ba05153981f?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/605135/sam"}, "reply_to_user": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496185048, "post_id": 44273011, "comment_id": 75554073, "body": "oops. yes. meant to use _.map."}, {"owner": {"reputation": 11674, "user_id": 4996204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a873bda38ee9940dfd257d7647b0fb?s=128&d=identicon&r=PG&f=1", "display_name": "omarjmh", "link": "https://stackoverflow.com/users/4996204/omarjmh"}, "edited": false, "score": 0, "creation_date": 1496185238, "post_id": 44273011, "comment_id": 75554113, "body": "try capital O Object"}, {"owner": {"reputation": 106, "user_id": 605135, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/75593e47a0a60490119f5ba05153981f?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/605135/sam"}, "edited": false, "score": 0, "creation_date": 1496186231, "post_id": 44273011, "comment_id": 75554345, "body": "I should add, that the api data, for bar1... each object item has more than one key:value pair. I changed the code to use _.map as I should.. and now I get a different error. I&#39;ll update the code. but it&#39;s this:<code>ERROR in .&#47;source&#47;reducers&#47;gamesReducer.ts (37,40): error TS2345: Argument of type &#39;object&#39; is not assignable to parameter of type &#39;List&lt;{}&gt; | Dictionary&lt;{}&gt; | NumericDictionary&lt;{}&gt;&#39;.   Type &#39;object&#39; is not assignable to type &#39;NumericDictionary&lt;{}&gt;&#39;.     Index signature is missing in type &#39;{}&#39;.</code>"}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496206598, "post_id": 44273011, "comment_id": 75559082, "body": "Can you post an example of what the value of <code>apiData</code> could look like? Also which line is the compile error happening on?"}], "owner": {"reputation": 106, "user_id": 605135, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/75593e47a0a60490119f5ba05153981f?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/605135/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496186307, "creation_date": 1496184035, "last_edit_date": 1496186307, "question_id": 44273011, "link": "https://stackoverflow.com/questions/44273011/defining-proper-typescript-interfaces", "title": "Defining Proper TypeScript Interfaces", "body": "<p>I am new to Typescript and have run into an issue. I am building a React web app and also using lodash.</p>\n\n<p>I am obtaining JSON data from an api.  for now, let's assume it has two keys:</p>\n\n<pre><code>{ \n  foo1 : 'something',\n  bar1 : [{.. key:value data ..}, { .. key:value data ..}, ...]\n}\n</code></pre>\n\n<p>how do I define an interface for this? primarily, the fact that I have an array of objects?  I've tried something like this:</p>\n\n<pre><code>interface MyThing {\n  foo : string;\n  bar : object[];\n}\n</code></pre>\n\n<p>Then, in the reducer code, I have something like:</p>\n\n<pre><code>let things : MyThing[] = _.forEach(apiData.things, (thingData) =&gt; ({\n        foo : thingData.stringItem,\n        bar : thingData.arrayOfObjects\n    }))\n</code></pre>\n\n<p>I wind up getting an error like this:</p>\n\n<pre><code>error TS2322: Type 'object' is not assignable to type 'MyThing[]'.\n  Property 'find' is missing in type '{}'.\n</code></pre>\n\n<p><strong>Edit:</strong>\nafter the suggestion, I made a mistake and meant to use _.map, not _.forEach.  this is the error I get.</p>\n\n<pre><code>ERROR in ./source/reducers/gamesReducer.ts\n(37,40): error TS2345: Argument of type 'object' is not assignable to parameter of type 'List&lt;{}&gt; | Dictionary&lt;{}&gt; | NumericDictionary&lt;{}&gt;'.\n  Type 'object' is not assignable to type 'NumericDictionary&lt;{}&gt;'.\n    Index signature is missing in type '{}'.\n</code></pre>\n"}, {"tags": ["typescript", "react-router", "react-redux", "react-router-redux"], "answers": [{"tags": [], "owner": {"reputation": 417, "user_id": 8083377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f386ea35da4de1042282314d98c36336?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastiaan van Arkens", "link": "https://stackoverflow.com/users/8083377/sebastiaan-van-arkens"}, "is_accepted": true, "score": 3, "last_activity_date": 1496339949, "creation_date": 1496339949, "answer_id": 44314221, "question_id": 44272696, "link": "https://stackoverflow.com/questions/44272696/how-to-setup-a-project-to-route-with-react-redux-and-typescript-using-provider/44314221#44314221", "title": "How to setup a project to route with React, Redux and TypeScript using Provider, Router and Route?", "body": "<p>I think that this is the same issue as I have asked a question for. <a href=\"https://stackoverflow.com/questions/44250465/react-router-typescript-type-error\">Here it is</a>. I believe it got fixed so try updating your \"@types/react-router\" package.</p>\n"}], "owner": {"reputation": 95, "user_id": 5429552, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_wj8S57Q3JQ/AAAAAAAAAAI/AAAAAAAAAys/foM6NREUWTQ/photo.jpg?sz=128", "display_name": "Marius-Constantin Dinu", "link": "https://stackoverflow.com/users/5429552/marius-constantin-dinu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2596, "favorite_count": 0, "closed_date": 1497709282, "accepted_answer_id": 44314221, "answer_count": 1, "score": 1, "last_activity_date": 1496339949, "creation_date": 1496182000, "question_id": 44272696, "link": "https://stackoverflow.com/questions/44272696/how-to-setup-a-project-to-route-with-react-redux-and-typescript-using-provider", "closed_reason": "Duplicate", "title": "How to setup a project to route with React, Redux and TypeScript using Provider, Router and Route?", "body": "<p>I am working on a project using TypeScript, React and Redux. Currently I came across the issue that I want to route a user that is not authenticated directly to a login page, otherwise to the content page.</p>\n\n<p>My main problem is that I receive a TypeScript compile error, because I cannot figure out the right type definitions for the Route components. I checked on several tutorials online, whereas I cannot manage to port their code and get it working with my example. </p>\n\n<p>Here is my index.tsx:</p>\n\n<pre><code>import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { Router, Route } from 'react-router';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { routerReducer, routerMiddleware } from 'react-router-redux';\nimport { Reducers, InitialState } from './reducers';\n\nimport thunk from 'redux-thunk';\nimport createHistory from 'history/createBrowserHistory';\n\nimport App from './app/App';\nimport Content from './components/pages/Content';\nimport Login from './components/pages/Login';\nimport Overview from './components/containers/Overview';\nimport Payment from './components/containers/Payment';\nimport Profile from './components/containers/Profile';\n\nconst history = createHistory();    \nconst middleware = routerMiddleware(history);\n\nconst store = createStore(\n  combineReducers({\n    ...Reducers,\n    router: routerReducer\n  }),\n  InitialState,\n  applyMiddleware(thunk.withExtraArgument(middleware)),\n);\n\nfunction isAuth() {\n  let user = FirebaseApp.auth().currentUser;\n  return user !== null;\n}\n\nconst app = document.getElementById('root') as HTMLElement;\nReactDOM.render(\n  &lt;Provider store={store}&gt;\n    &lt;Router history={history}&gt;\n      &lt;Route component={App}&gt;\n        &lt;Route path=\"/\" component={Content}&gt;\n          &lt;Route path=\"/\" exact={true} component={Overview} /&gt;\n          &lt;Route path=\"/payment\" component={Payment} /&gt;\n          &lt;Route path=\"/profile\" component={Profile} /&gt;\n        &lt;/Route&gt;\n        &lt;Route onEnter={isAuth}&gt;\n          &lt;Route component={Login} /&gt;\n        &lt;/Route&gt;\n      &lt;/Route&gt;\n    &lt;/Router&gt;\n  &lt;/Provider&gt;,\n  app\n);\n</code></pre>\n\n<p>The IDE is showing errors at the following lines: <a href=\"https://i.stack.imgur.com/ZA21y.png\" rel=\"nofollow noreferrer\">IDE shows error</a>\nand the compiler throws the following error:\n    Failed to compile.</p>\n\n<pre><code>./src/index.tsx\n(60,14): error TS2322: Type '{ component: ComponentClass&lt;{}&gt;; children: Element[]; }' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Route&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Rea...'.\n  Type '{ component: ComponentClass&lt;{}&gt;; children: Element[]; }' is not assignable to type 'Readonly&lt;RouteProps&gt;'.\n    Types of property 'component' are incompatible.\n      Type 'ComponentClass&lt;{}&gt;' is not assignable to type 'StatelessComponent&lt;RouteComponentProps&lt;any&gt; | undefined&gt; | ComponentClass&lt;RouteComponentProps&lt;any...'.\n        Type 'ComponentClass&lt;{}&gt;' is not assignable to type 'ComponentClass&lt;RouteComponentProps&lt;any&gt; | undefined&gt;'.\n</code></pre>\n\n<p>See also the App, Content and one of the page (e.g. Profile) definitions:</p>\n\n<pre><code>// App:\nimport * as React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport { GlobalState } from '../reducers';\nexport class App extends React.Component&lt;any, any&gt; {\n  render() {\n    return (\n      &lt;div id=\"viewport\" className=\"App\" /&gt;\n    );\n  }\n}\nfunction select(state: GlobalState) {\n  return state.sessionState;\n}\nexport default connect(select)(App);\n\n// Content:\nimport * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport Header from '../header/Header';\nimport Footer from '../footer/Footer';\nexport default class Content extends \nReact.Component&lt;RouteComponentProps&lt;{}&gt;, void&gt; {\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;Header /&gt;\n                &lt;div className=\"Layout\" id=\"container\" /&gt;\n                &lt;Footer /&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n\n// Login:\nimport * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\nexport default class Login extends React.Component&lt;RouteComponentProps&lt;{}&gt;, void&gt; {\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;input type=\"email\" value=\"\" /&gt;\n                &lt;input type=\"password\" value=\"\" /&gt;\n                &lt;input type=\"submit\" value=\"Login\" /&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n\n// Profile:\nimport * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\nexport default class Profile extends React.Component&lt;RouteComponentProps&lt;{}&gt;, void&gt; {\n    render() {\n        return (\n            &lt;div&gt;\n                Profile\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>I tried to base my implementation on the following GitHub repository\n<a href=\"https://github.com/goblindegook/dictionary-react-redux-typescript/tree/master/src\" rel=\"nofollow noreferrer\">dictionary-react-redux-typescript</a></p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 639, "user_id": 1278850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb0e2390755d48f7a025211792dd87a7?s=128&d=identicon&r=PG", "display_name": "Endiss", "link": "https://stackoverflow.com/users/1278850/endiss"}, "edited": false, "score": 0, "creation_date": 1496184654, "post_id": 44272453, "comment_id": 75553972, "body": "storage.ready().then(() =&gt; {  return      storage.get(&#39;token&#39;).then(val =&gt; val )});  Sorry on phone hope this will help u"}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "edited": false, "score": 0, "creation_date": 1496242098, "post_id": 44277575, "comment_id": 75582648, "body": "Thanks for the help but I&#39;m getting an error on this line <code>return this.authHttp.get(&#39;&#39;).map(</code> that says <code>Error: TS2453:The type argument for type parameter &#39;T&#39; cannot be inferred from the usage. Consider specifying the type arguments explicitly.   Type argument candidate &#39;Response&#39; is not a valid type argument because it is not a supertype of candidate &#39;Response&#39;.     Types of property &#39;type&#39; are incompatible.       Type &#39;string&#39; is not assignable to type &#39;ResponseType&#39;.</code>"}], "tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": false, "score": 2, "last_activity_date": 1496213325, "creation_date": 1496213325, "answer_id": 44277575, "question_id": 44272453, "link": "https://stackoverflow.com/questions/44272453/angular2-jwt-token-split-is-not-a-function/44277575#44277575", "title": "angular2-jwt token.split is not a function", "body": "<p>The problem is that the storage returns a <strong>promise</strong>, so you need to wait for that promise to be resolved before using the token.</p>\n\n<pre><code>checkToken(): Promise&lt;any&gt; {\n\n  // We're going to return the promise, so the calling method will use it\n  // to wait until the token is obtained from the storage\n  return this.storage.get('token').then(token =&gt; {\n\n    this.token = token; // Assign the token to the this.token property\n\n    console.log(this.token);\n\n    //let token2 = JSON.stringify(this.token);\n    //console.log(token2);\n\n    if (this.jwtHelper.isTokenExpired(this.token)) {\n      console.log(\"valid\");\n    } else {\n      console.log(\"expired\");\n    }\n\n  });\n\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>getInfo(): Observable&lt;any&gt; {\n\n  // The checkToken method returns a promise, so we're going to\n  // create an observable with it, and then use the 'flatMap' operator\n  // in order to make the get request only if the token is ready\n\n  return Observable.fromPromise(this.tokenProvider.checkToken())\n                   .flatMap(() =&gt; {\n\n                     // Here the token is ready!\n\n                     return this.authHttp.get('').map(\n                       (response: Response) =&gt; {\n                         return response.json().sites;\n                       },\n                       (error: Response) =&gt; {\n                         console.log(error);\n                       });\n                   });\n\n}\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 8027859, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f320aa97d650e846816ac04c032ff8ec?s=128&d=identicon&r=PG&f=1", "display_name": "ghan", "link": "https://stackoverflow.com/users/8027859/ghan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2588, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1496213341, "creation_date": 1496180632, "last_edit_date": 1496213341, "question_id": 44272453, "link": "https://stackoverflow.com/questions/44272453/angular2-jwt-token-split-is-not-a-function", "title": "angular2-jwt token.split is not a function", "body": "<p>I have been trying to fix this error for the last 2 days but I just cannot figure out whats wrong. I am using ionic2/angular2 along with the <a href=\"https://github.com/auth0/angular2-jwt\" rel=\"nofollow noreferrer\">angular2-jwt</a> library but I keep getting an error saying <code>token.split is not a function</code>.</p>\n\n<p>I believe it has something to do with my storage. I am using ionics <code>Storage</code></p>\n\n<p>I made a function to check if the token is expired  </p>\n\n<pre><code>jwtHelper: JwtHelper = new JwtHelper();\ntoken;\n\ncheckToken() {\n\n  this.token = this.storage.get('token');\n  console.log(this.token);\n  //let token2 = JSON.stringify(this.token);\n  //console.log(token2);\n  if (this.jwtHelper.isTokenExpired(this.token))\n  {\n    console.log(\"valid\");\n  }\n  else {\n    console.log(\"expired\");\n  }\n}\n</code></pre>\n\n<p>This is what <code>console.log(this.token)</code> above prints out which is why I believe the storage is the problem <code>Object { __zone_symbol__state: null, __zone_symbol__value: Array[0] }</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/9dZWC.png\" rel=\"nofollow noreferrer\">console</a></p>\n\n<p>This is what is calling <code>checkToken()</code></p>\n\n<pre><code>getInfo(): Observable&lt;any&gt; {\n\n  this.tokenProvider.checkToken();\n\n  return this.authHttp.get('')\n    .map(\n      (response: Response) =&gt; {\n        return response.json().sites;\n      },\n      (error: Response) =&gt; {\n        console.log(error);\n      }\n    );\n}\n</code></pre>\n\n<p>How I set token after login </p>\n\n<pre><code>setToken(token) {\n  this.storage.set('token', token);\n}\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import {IonicStorageModule, Storage} from '@ionic/storage';\nimport { AuthHttp, AuthConfig} from 'angular2-jwt';\n\nexport function getAuthHttp(http, storage) {\n  return new AuthHttp(new AuthConfig({\n    headerPrefix: '',\n    noJwtError: true,\n    globalHeaders: [{'Accept': 'application/json', 'Content-Type': 'application/json', 'X-Requested-With': 'XMLHttpRequest'}],\n    tokenGetter: (() =&gt;   storage.get('token')),\n  }), http);\n}\n\nimports: [\n  BrowserModule,\n  IonicModule.forRoot(MyApp),\n  FormsModule,\n  HttpModule,\n  IonicStorageModule.forRoot()\n],\nproviders: [ \n .....\nAuthHttp,\n{\n  provide: AuthHttp,\n  useFactory: getAuthHttp,\n  deps: [Http, Storage]\n},\n</code></pre>\n\n<p>package.json </p>\n\n<pre><code>{\n  \"name\": \"ionic-hello-world\",\n  \"version\": \"0.0.0\",\n  \"author\": \"Ionic Framework\",\n  \"private\": true,\n  \"scripts\": {\n    \"clean\": \"ionic-app-scripts clean\",\n    \"build\": \"ionic-app-scripts build\",\n    \"ionic:build\": \"ionic-app-scripts build\",\n    \"ionic:serve\": \"ionic-app-scripts serve\"\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"4.0.2\",\n    \"@angular/compiler\": \"4.0.2\",\n    \"@angular/compiler-cli\": \"4.0.2\",\n    \"@angular/core\": \"4.0.2\",\n    \"@angular/forms\": \"4.0.2\",\n    \"@angular/http\": \"4.0.2\",\n    \"@angular/platform-browser\": \"4.0.2\",\n    \"@angular/platform-browser-dynamic\": \"4.0.2\",\n    \"@ionic-native/core\": \"3.4.2\",\n    \"@ionic-native/splash-screen\": \"3.4.2\",\n    \"@ionic-native/status-bar\": \"3.4.2\",\n    \"@ionic/storage\": \"^2.0.1\",\n    \"angular2-jwt\": \"^0.2.3\",\n    \"ionic-angular\": \"3.1.0\",\n    \"ionicons\": \"3.0.0\",\n    \"ng2-completer\": \"^1.4.0\",\n    \"rxjs\": \"5.1.1\",\n    \"sw-toolbox\": \"3.4.0\",\n    \"zone.js\": \"^0.8.5\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"^1.3.6\",\n    \"typescript\": \"~2.2.1\"\n  },\n  \"cordovaPlugins\": [\n    \"cordova-plugin-whitelist\",\n    \"cordova-plugin-console\",\n    \"cordova-plugin-statusbar\",\n    \"cordova-plugin-device\",\n    \"cordova-plugin-splashscreen\",\n    \"ionic-plugin-keyboard\"\n  ],\n  \"cordovaPlatforms\": [],\n  \"description\": \"installerApp: An Ionic project\"\n}\n</code></pre>\n"}, {"tags": ["angular", "unit-testing", "typescript", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1507726409, "post_id": 45066107, "comment_id": 80324945, "body": "This caught my eye. Why exactly are we getting an error while using the <code>useValue</code> provider configuration though?"}, {"owner": {"reputation": 2938, "user_id": 575047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cfc2f41a0e28b9cd47fdb4dc8efca432?s=128&d=identicon&r=PG", "display_name": "Benno", "link": "https://stackoverflow.com/users/575047/benno"}, "edited": false, "score": 0, "creation_date": 1513747289, "post_id": 45066107, "comment_id": 82765073, "body": "When I try to do it this way, I&#39;m seeing an error <code>TypeError: Cannot convert undefined or null to object  at Function.getPrototypeOf (native)</code> :-( I have a very similar setup"}, {"owner": {"reputation": 716, "user_id": 2900278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-9FuO13GSFlQ/AAAAAAAAAAI/AAAAAAAAABM/cCWPVzyqW_c/photo.jpg?sz=128", "display_name": "Pavel Sapehin", "link": "https://stackoverflow.com/users/2900278/pavel-sapehin"}, "edited": false, "score": 1, "creation_date": 1541949712, "post_id": 45066107, "comment_id": 93385179, "body": "I was getting <code>SyntaxError: Arg string terminates parameters early</code> instead with angular 6 (for useValue). Wondering why too."}, {"owner": {"reputation": 3291, "user_id": 3182819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f06bc890e441e9bd3ffba85d8d063f?s=128&d=identicon&r=PG", "display_name": "Thomas Urban", "link": "https://stackoverflow.com/users/3182819/thomas-urban"}, "reply_to_user": {"reputation": 716, "user_id": 2900278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-9FuO13GSFlQ/AAAAAAAAAAI/AAAAAAAAABM/cCWPVzyqW_c/photo.jpg?sz=128", "display_name": "Pavel Sapehin", "link": "https://stackoverflow.com/users/2900278/pavel-sapehin"}, "edited": false, "score": 1, "creation_date": 1575477784, "post_id": 45066107, "comment_id": 104582597, "body": "@PavelSapehin I stumbled over this rare issue because of using <code>new this.constructor()</code> instead of <code>new this()</code> in context of a static method of an ES6 class."}], "tags": [], "owner": {"reputation": 276, "user_id": 1055610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d159a3a17b8cc87d16e4225c1b84a588?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/1055610/paul"}, "is_accepted": false, "score": 8, "last_activity_date": 1532012347, "last_edit_date": 1532012347, "creation_date": 1499887897, "answer_id": 45066107, "question_id": 44272282, "link": "https://stackoverflow.com/questions/44272282/using-typemoq-mock-with-angular-testbed/45066107#45066107", "title": "Using TypeMoq Mock With Angular TestBed", "body": "<p>I was running into this also, it's coming in because of how you're doing your providers.</p>\n\n<p>Change </p>\n\n<pre><code>providers: [{ provide: FooService, useValue: mockFooService.object}]\n</code></pre>\n\n<p>to</p>\n\n<pre><code>providers: [{ provide: FooService, useFactory: () =&gt; { return mockFooService.object } }]\n</code></pre>\n\n<p>Using the factory function to return got rid of errors for me.  If you use useClass you'll get an error about param.map is not a function, and if you use useValue you get an error about unexpected parenthesis.  useFactory and just an inline function that returns the moq.object works, though.</p>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 6478359, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yHXBy.jpg?s=128&g=1", "display_name": "Muhammet Can TONBUL", "link": "https://stackoverflow.com/users/6478359/muhammet-can-tonbul"}, "is_accepted": false, "score": 0, "last_activity_date": 1576759946, "creation_date": 1576759946, "answer_id": 59410199, "question_id": 44272282, "link": "https://stackoverflow.com/questions/44272282/using-typemoq-mock-with-angular-testbed/59410199#59410199", "title": "Using TypeMoq Mock With Angular TestBed", "body": "<p>In my case, I got this error. \"<strong>Arg string terminates parameters early</strong>\" .\nI did the solution like this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let params = {\r\n  \"NO\": 1,\r\n  \"ID\": 2,\r\n  \"FIELD.SECOND\": \"Test\"\r\n};\r\nlet text = \"${NO} test interpolate ${ID}\";\r\n\r\nconst names = Object.keys(params);\r\n//if you remove this loop you got error\r\nfor (let i = 0; i &lt; names.length; i++) {\r\n  names[i] = names[i].split('.').join(\"\")\r\n}\r\nconst vals = Object.values(params);\r\ntry {\r\n  console.log(new Function(...names, `return \\`${text}\\`;`)(...vals));\r\n} catch (err) {\r\n  console.error(err);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7741, "user_id": 1501327, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e0926655f7fec6bd7e262d37248aeb79?s=128&d=identicon&r=PG", "display_name": "James B", "link": "https://stackoverflow.com/users/1501327/james-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1576759946, "creation_date": 1496179923, "last_edit_date": 1496181301, "question_id": 44272282, "link": "https://stackoverflow.com/questions/44272282/using-typemoq-mock-with-angular-testbed", "title": "Using TypeMoq Mock With Angular TestBed", "body": "<p>I've defined a <code>FooService</code> as follows</p>\n\n<pre><code>import {Injectable} from \"@angular/core\";\nexport interface Foo {\n    Foo(): string;\n}\n\n@Injectable()\nexport class FooService implements Foo {\n    Foo(): string {\n        return \"Fooey!\";\n    }\n}\n</code></pre>\n\n<p>and a <code>BarComponent</code> like this </p>\n\n<pre><code>import {Component} from \"@angular/core\";\nimport {FooService} from \"./foo.service\";\n\n@Component({\n    moduleId: 'module.id',\n    template: '&lt;h1&gt;Bar Component&lt;/h1&gt;'\n})\nexport class BarComponent {\n    constructor(private fooService: FooService) {}\n\n    doFoo(): string {\n        return(this.fooService.Foo());\n    }\n}\n</code></pre>\n\n<p>Now I want to test my <code>BarComponent</code> and I'd like to use <code>TypeMoq</code> to mock the <code>FooService</code>, so I did the following</p>\n\n<pre><code>import * as TypeMoq from 'typemoq';\nimport {Foo, FooService} from \"./foo.service\";\nimport {TestBed, async} from \"@angular/core/testing\";\nimport {BarComponent} from \"./bar.component\";\n\ndescribe('BarComponent', () =&gt; {\n    let component: BarComponent;\n    let mockFooService: TypeMoq.IMock&lt;Foo&gt;;\n\n    beforeEach(async(() =&gt; {\n        mockFooService = TypeMoq.Mock.ofType&lt;Foo&gt;();\n        TestBed.configureTestingModule({\n            declarations: [BarComponent],\n            providers: [{ provide: FooService, useValue: mockFooService.object}]\n        });\n    }));\n\n    beforeEach(() =&gt; {\n        let fixture = TestBed.createComponent(BarComponent);\n        component = fixture.componentInstance;\n    });\n\n    it('does something', () =&gt; {\n        mockFooService.setup(x =&gt; x.Foo()).returns(() =&gt; \"FooBar!\");\n        expect(component.doFoo()).toEqual(\"FooBar!\");\n    });\n\n});\n</code></pre>\n\n<p>However running the above gives the following error</p>\n\n<pre><code>SyntaxError: Function arg string contains parenthesis\n        at new Function (&lt;anonymous&gt;)\n        at evalExpression (webpack:///~/@angular/compiler/@angular/compiler.es5.js:25431:25 &lt;- config/karma-test-shim.js:59412:40)\n        at jitStatements (webpack:///~/@angular/compiler/@angular/compiler.es5.js:25448:0 &lt;- config/karma-test-shim.js:59429:12)\n        at JitCompiler._compileModule (webpack:///~/@angular/compiler/@angular/compiler.es5.js:25658:0 &lt;- config/karma-test-shim.js:59639:35)\n        at createResult (webpack:///~/@angular/compiler/@angular/compiler.es5.js:25613:0 &lt;- config/karma-test-shim.js:59594:106)\n        at JitCompiler._compileModuleAndAllComponents (webpack:///~/@angular/compiler/@angular/compiler.es5.js:25616:0 &lt;- config/karma-test-shim.js:59597:40)\n        at JitCompiler.compileModuleAndAllComponentsSync (webpack:///~/@angular/compiler/@angular/compiler.es5.js:25559:0 &lt;- config/karma-test-shim.js:59540:23)\n        at TestingCompilerImpl.compileModuleAndAllComponentsSync (webpack:///~/@angular/compiler/@angular/compiler/testing.es5.js:475:0 &lt;- config/karma-test-shim.js:68201:31)\n        at TestBed._initIfNeeded (webpack:///~/@angular/core/@angular/core/testing.es5.js:705:0 &lt;- config/karma-test-shim.js:21376:36)\n        at TestBed.createComponent (webpack:///~/@angular/core/@angular/core/testing.es5.js:791:0 &lt;- config/karma-test-shim.js:21462:14)\n        at Function.TestBed.createComponent (webpack:///~/@angular/core/@angular/core/testing.es5.js:610:0 &lt;- config/karma-test-shim.js:21281:29)\n        at Object.&lt;anonymous&gt; (webpack:///src/app/auth/login/bar.component.spec.ts:19:30 &lt;- config/karma-test-shim.js:99954:41)\n        at ZoneDelegate.invoke (webpack:///~/zone.js/dist/zone.js:365:0 &lt;- config/karma-test-shim.js:65763:26)\n        at ProxyZoneSpec.onInvoke (webpack:///~/zone.js/dist/proxy.js:79:0 &lt;- config/karma-test-shim.js:65294:39)\n        at ZoneDelegate.invoke (webpack:///~/zone.js/dist/zone.js:364:0 &lt;- config/karma-test-shim.js:65762:32)\n        at Zone.run (webpack:///~/zone.js/dist/zone.js:125:0 &lt;- config/karma-test-shim.js:65523:43)\n        at Object.&lt;anonymous&gt; (webpack:///~/zone.js/dist/jasmine-patch.js:104:0 &lt;- config/karma-test-shim.js:65010:34)\n        at webpack:///~/@angular/core/@angular/core/testing.es5.js:96:0 &lt;- config/karma-test-shim.js:20767:17\n        at ZoneDelegate.invoke (webpack:///~/zone.js/dist/zone.js:365:0 &lt;- config/karma-test-shim.js:65763:26)\n        at AsyncTestZoneSpec.onInvoke (webpack:///~/zone.js/dist/async-test.js:49:0 &lt;- config/karma-test-shim.js:64605:39)\n        at ProxyZoneSpec.onInvoke (webpack:///~/zone.js/dist/proxy.js:76:0 &lt;- config/karma-test-shim.js:65291:39)\n        at ZoneDelegate.invoke (webpack:///~/zone.js/dist/zone.js:364:0 &lt;- config/karma-test-shim.js:65762:32)\n        at Zone.run (webpack:///~/zone.js/dist/zone.js:125:0 &lt;- config/karma-test-shim.js:65523:43)\n        at AsyncTestZoneSpec._finishCallback (webpack:///~/@angular/core/@angular/core/testing.es5.js:91:0 &lt;- config/karma-test-shim.js:20762:25)\n        at webpack:///~/zone.js/dist/async-test.js:38:0 &lt;- config/karma-test-shim.js:64594:31\n        at ZoneDelegate.invokeTask (webpack:///~/zone.js/dist/zone.js:398:0 &lt;- config/karma-test-shim.js:65796:31)\n        at Zone.runTask (webpack:///~/zone.js/dist/zone.js:165:0 &lt;- config/karma-test-shim.js:65563:47)\n        at ZoneTask.invoke (webpack:///~/zone.js/dist/zone.js:460:0 &lt;- config/karma-test-shim.js:65858:38)\n        at timer (webpack:///~/zone.js/dist/zone.js:1732:0 &lt;- config/karma-test-shim.js:67130:29)\n</code></pre>\n\n<p>Is it possible to use <code>TypeMoq</code>'s with the angular <code>TestBed</code> and if so how do you do it correctly?</p>\n"}, {"tags": ["angular", "typescript", "observable", "subscribe"], "comments": [{"owner": {"reputation": 5233, "user_id": 3886183, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/81f10ca3417401a79cb5c1ccb77ae87b?s=128&d=identicon&r=PG", "display_name": "dlsso", "link": "https://stackoverflow.com/users/3886183/dlsso"}, "edited": false, "score": 0, "creation_date": 1510862509, "post_id": 44272145, "comment_id": 81628307, "body": "Please upvote and accept the answer if it solved your problem. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "is_accepted": true, "score": 0, "last_activity_date": 1496180039, "creation_date": 1496180039, "answer_id": 44272316, "question_id": 44272145, "link": "https://stackoverflow.com/questions/44272145/angular-2-observable-updates-adding-an-item-but-not-deleting/44272316#44272316", "title": "Angular 2 , Observable updates adding an item, but not deleting", "body": "<p>First of all, your observable isn't doing anything except getting the initial <code>listItems</code> array from the service. The observable is never being fired after that point. You should be using a Subject for this.</p>\n\n<p>Anyway, the reason for your problem is that when you add, you're mutating <code>listItems</code> (by calling <code>push</code>). The subscriber is not called. The component only sees this change because it is still pointing to the original <code>listItems</code> array object.</p>\n\n<p>When you remove, you're creating a new <code>listItems</code> array in the service rather than mutating it. The component is still looking at the old <code>listItems</code> array so it doesn't see that change.</p>\n\n<p>What you should be doing instead is something like this:</p>\n\n<pre><code>@Injectable()\nexport class ListItemService {\n  private listItems: ListItem[] = [];\n  private listSubject = new Subject&lt;ListItem[]&gt;();\n  private listObservable = this.listSubject.asObservable();\n\n  constructor() {\n    this.listItems.push(new ListItem(\"item1\",100));\n    this.listItems.push(new ListItem(\"item2\",200));\n    this.listItems.push(new ListItem(\"item3\",300));\n    this.listItems.push(new ListItem(\"item4\",400));\n  }\n  getItems(): Observable&lt;ListItem[]&gt; {\n    return this.listObservable;\n  }\n  delete(name: String): Promise&lt;ListItem[]&gt; {\n   let item = new ListItem(name,0);\n   this.listItems = this.listItems.filter((item:ListItem)=&gt;item.name !== name);\n   this.listSubject.next(this.listItems);\n  }\n  create(name: string, price:number): Promise&lt;ListItem&gt; {\n    let item: ListItem = new ListItem(name,price);\n    this.listItems = [...this.listItems, item]; // better not to mutate\n    this.listSubject.next(this.listItems);\n  }}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 3740483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e856e91bc7de591f31a41898021f4c35?s=128&d=identicon&r=PG&f=1", "display_name": "David Shor", "link": "https://stackoverflow.com/users/3740483/david-shor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 0, "accepted_answer_id": 44272316, "answer_count": 1, "score": 0, "last_activity_date": 1496180039, "creation_date": 1496179459, "question_id": 44272145, "link": "https://stackoverflow.com/questions/44272145/angular-2-observable-updates-adding-an-item-but-not-deleting", "title": "Angular 2 , Observable updates adding an item, but not deleting", "body": "<p>thanks for reading this question.</p>\n\n<p>Anyway, I've create a service which handles lists of items(which have name and price) This service returns an observable , to which my ListComponent subscribes.</p>\n\n<p>The weird thing is ,that when I add an item , the subscribe works and the ListComponent List is updated, when I delete an item, the subscribe doesn't work, it doesn't send any errors.</p>\n\n<p>ListComponent:</p>\n\n<pre><code>    export class ListComponent {\n\n\n  listItems: ListItem[];\n  itemName: string;\n  itemPrice: number;\n  constructor(private listService: ListItemService){\n     this.listService.getItems().subscribe((res) =&gt; {\n      this.listItems=res;\n    },\n       (error)=&gt;{\n       console.log(error);\n       })\n  }\n  public addNewItem(itemName:string,itemPrice:number):void{\n    this.listService.create(itemName,itemPrice);\n  }\n  public deleteItem(itemName:string){\n    this.listService.delete(itemName);\n  }\n\n}\n</code></pre>\n\n<p>ListService: </p>\n\n<pre><code>  @Injectable()\nexport class ListItemService {\n\n  private listItems:ListItem[] = [];\n  private listObservable: Observable&lt;ListItem[]&gt;;\n\n\n  constructor() {\n    this.listItems.push(new ListItem(\"item1\",100));\n    this.listItems.push(new ListItem(\"item2\",200));\n    this.listItems.push(new ListItem(\"item3\",300));\n    this.listItems.push(new ListItem(\"item4\",400));\n\n    this.listObservable = Observable.of(this.listItems);\n  }\n  getItems(): Observable&lt;ListItem[]&gt; {\n    return this.listObservable;\n\n  }\n  getItemById(name: String): Promise&lt;ListItem&gt; {\n    return new Promise((resolve) =&gt;{\n      resolve(this.getListItemByName(name));\n    })\n  }\n  delete(name: String): Promise&lt;ListItem[]&gt; {\n   let item = new ListItem(name,0);\n   this.listItems = this.listItems.filter((item:ListItem)=&gt;item.name !== name);\n   return new Promise((res)=&gt;{\n     res(item);\n   })\n  }\n  create(name: string, price:number): Promise&lt;ListItem&gt; {\n    let item: ListItem = new ListItem(name,price);\n    this.listItems.push(item);\n    return new Promise((res)=&gt;{\n      res(item);\n    })\n  }}\n</code></pre>\n\n<p>Thanks for reading (and hopefully helping) </p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "edited": false, "score": 0, "creation_date": 1496236006, "post_id": 44272264, "comment_id": 75577978, "body": "Yes! I tried this one first so marking this as the answer.  I changed .reduce to .count, as you suggested as follows &quot;.count((status, item) =&gt; item == item)&quot; and this returned the correct result! Many thanks."}, {"owner": {"reputation": 8724, "user_id": 3306656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7b37bcd3440e404550318f5c09dcc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZahiC", "link": "https://stackoverflow.com/users/3306656/zahic"}, "reply_to_user": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "edited": false, "score": 1, "creation_date": 1496236199, "post_id": 44272264, "comment_id": 75578139, "body": "You are welcome! I think .count() with no predicate also works"}, {"owner": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "edited": false, "score": 0, "creation_date": 1496236681, "post_id": 44272264, "comment_id": 75578490, "body": "Ah nice, true! I removed the predicate: &quot;.count(item =&gt; item == item)&quot;, and this also works.  I wish I understood rxjs as well as you do!"}, {"owner": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "edited": false, "score": 0, "creation_date": 1496413683, "post_id": 44272264, "comment_id": 75666576, "body": "I now have to retrieve the results using this.http.get(this.restapi){}.  I added &quot;.map(res =&gt; res.json())&quot; just above the first .map line (and I feel like I&#39;ve tried a billion other things to get it to work) however, it&#39;s still not working.  Any words of advice or what to do to get this working again?"}], "tags": [], "owner": {"reputation": 8724, "user_id": 3306656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7b37bcd3440e404550318f5c09dcc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZahiC", "link": "https://stackoverflow.com/users/3306656/zahic"}, "is_accepted": true, "score": 2, "last_activity_date": 1496179875, "creation_date": 1496179875, "answer_id": 44272264, "question_id": 44271816, "link": "https://stackoverflow.com/questions/44271816/counting-items-in-groupby-by-group-key-in-angular-with-rxjs/44272264#44272264", "title": "Counting items in GroupBy by group.key in Angular with rxjs", "body": "<p>Your reduce is missing +1 for actually counting the statuses</p>\n\n<pre><code>.reduce((total, item) =&gt; total + 1, 0)\n</code></pre>\n\n<p>Anyway, you can replace the .reduce(..) with .count()</p>\n"}, {"comments": [{"owner": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "edited": false, "score": 0, "creation_date": 1496236159, "post_id": 44272350, "comment_id": 75578105, "body": "What does this line do: &quot; const count = acc[status] ? acc[status].count : 0;&quot;  I&#39;m familiar with what most of the rest of your code is doing, is that the same as the elvis operator?"}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "reply_to_user": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "edited": false, "score": 1, "creation_date": 1496252018, "post_id": 44272350, "comment_id": 75589059, "body": "it&#39;s a &quot;ternary operator&quot;. It&#39;s the equivalent of a simple if/else. It says : is <code>acc[status]</code> defined and not considered as falsy (!= undefined, null, false, empty string ...). If yes, return the count for that status otherwise return 0. (0 is to initialize in fact). You can take a look to ternary operator  also here : <a href=\"https://docs.microsoft.com/en-us/scripting/javascript/reference/conditional-ternary-operator-decrement-javascript\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/scripting/javascript/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "is_accepted": false, "score": 1, "last_activity_date": 1496180497, "last_edit_date": 1496180497, "creation_date": 1496180173, "answer_id": 44272350, "question_id": 44271816, "link": "https://stackoverflow.com/questions/44271816/counting-items-in-groupby-by-group-key-in-angular-with-rxjs/44272350#44272350", "title": "Counting items in GroupBy by group.key in Angular with rxjs", "body": "<p>As @ZahiC said, <code>reduce</code> will work.</p>\n\n<p>But <code>reduce</code> will only emit once you've got all the data.</p>\n\n<p>If you want to compute all of that every time there's a <code>next</code>, you should use <code>scan</code> instead.</p>\n\n<p>Here's an example : </p>\n\n<pre><code>const { Observable } = Rx;\n\nconst sampleData = [\n  { status: 'status1' },\n  { status: 'status2' },\n  { status: 'status1' },\n  { status: 'status3' },\n  { status: 'status4' },\n  { status: 'status2' },\n  { status: 'status5' },\n  { status: 'status6' },\n  { status: 'status4' }\n];\n\nObservable\n  .from(sampleData)\n  .scan((acc, curr) =&gt; {\n    const status = curr.status;\n    const count = acc[status] ? acc[status].count : 0;\n\n    return Object.assign(acc, {\n      [status]: { status, count: count + 1 }\n    });\n  }, {})\n  .do(console.log)\n  .subscribe();\n</code></pre>\n\n<p>And a working Plunkr: <a href=\"https://plnkr.co/edit/U2mZC5QpL12NpuHTJOFq?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/U2mZC5QpL12NpuHTJOFq?p=preview</a></p>\n\n<p><strong>EDIT:</strong>  </p>\n\n<p>As this function gives an <code>object</code> and you want an array, I've added a small function for that : </p>\n\n<pre><code>const objToArray = (obj) =&gt; {\n  const keys = Object.keys(obj);\n  return keys.reduce((acc, curr) =&gt; [...acc, obj[curr]], []);\n} \n</code></pre>\n\n<p>Then I just <code>map</code> the <code>Observable</code> to it before the <code>do</code> :</p>\n\n<pre><code>...\n.map(objToArray)\n.do(console.log)\n.subscribe();\n</code></pre>\n\n<p>The output is the following :  </p>\n\n<p><a href=\"https://i.stack.imgur.com/p22fD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p22fD.png\" alt=\"enter image description here\"></a>  </p>\n\n<p><em>(notice that we have the intermediate results !)</em></p>\n"}], "owner": {"reputation": 715, "user_id": 3784235, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c479c383a1c956f74d904b5ed1ddb30?s=128&d=identicon&r=PG&f=1", "display_name": "kittycatbytes", "link": "https://stackoverflow.com/users/3784235/kittycatbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3833, "favorite_count": 0, "accepted_answer_id": 44272264, "answer_count": 2, "score": 3, "last_activity_date": 1496194390, "creation_date": 1496177954, "question_id": 44271816, "link": "https://stackoverflow.com/questions/44271816/counting-items-in-groupby-by-group-key-in-angular-with-rxjs", "title": "Counting items in GroupBy by group.key in Angular with rxjs", "body": "<p>I have a very large array of items where there is a \"Status\" field that could have one of six statuses.  Using the rxjs library, I am trying to .groupBy then .reduce to return an array of the six statuses and the count of items with those statuses.  </p>\n\n<p>Here is the method in my service:</p>\n\n<pre><code>getStatusTotals() {\n        return Observable.from(sampleData)\n            .map(res =&gt; res.d.results)\n            .concatMap(data =&gt; data)\n            .groupBy(item =&gt; item.Status)\n            .mergeMap(group =&gt; group\n                .reduce((total, item) =&gt; total, 0)\n                .map(total =&gt; ({ Status: group.key, Count: total }))\n                )\n            .toArray()\n\n    }\n</code></pre>\n\n<p>In the component where I am calling this service function, I set the value to statusData and the information is being presented as follows:</p>\n\n<pre><code>&lt;div *ngFor=\"let t of tracdata | async\" class=\"row\"&gt;Status: {{t.Status}}; Count: {{t.Count}}&lt;/div&gt;\n</code></pre>\n\n<p>This, however is giving me the following in my app:</p>\n\n<pre><code>Status: 5 - Dormant; Count: 0\nStatus: 2 - Active; Count: 0\nStatus: 4 - Assigned to Section; Count: 0\nStatus: 1 - Pending Review; Count: 0\nStatus: 3 - Officer Review; Count: 0\n</code></pre>\n\n<p>So I am doing something wrong.  I have tried .count and .forEach, and read through the rxjs documentation, but I must be doing something wrong.  Please help!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496178629, "post_id": 44271305, "comment_id": 75551916, "body": "ok, and what&#39;s wrong with your code?"}, {"owner": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496238357, "post_id": 44271305, "comment_id": 75579775, "body": "You can go to this link to play with it <a href=\"http://mazzoangular2.azurewebsites.net\" rel=\"nofollow noreferrer\">mazzoangular2.azurewebsites.net</a> but, the issue is the search logic doesn&#39;t seem to be drilling down to the specific name if entered directly.  Such as if you type the name that is suggested in the search input field."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496182037, "post_id": 44272014, "comment_id": 75553215, "body": "Thanks Peter.  So I am adding that transform function into my code to modify the search results? I can place that function above the export class declaration?  Thanks..."}, {"owner": {"reputation": 390, "user_id": 4655510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a00284b0233ffe9b833303e902851f3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Sampson", "link": "https://stackoverflow.com/users/4655510/peter-sampson"}, "reply_to_user": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496185314, "post_id": 44272014, "comment_id": 75554128, "body": "Added an explanation to the original post"}, {"owner": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496238461, "post_id": 44272014, "comment_id": 75579855, "body": "Peter I have updated my original post to reflect changes to the code I worked in that you suggested. You can go to this link to play with it mazzoangular2.azurewebsites.net but the search function doesn&#39;t seem to be drilling down to the specific name if entered directly. Such as if you type the name that is suggested in the search input field in the app."}, {"owner": {"reputation": 390, "user_id": 4655510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a00284b0233ffe9b833303e902851f3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Sampson", "link": "https://stackoverflow.com/users/4655510/peter-sampson"}, "reply_to_user": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496263884, "post_id": 44272014, "comment_id": 75595254, "body": "Delete the bottom part from &#39;SearchPipe.prototype.transform = function (pipeData, _a) {&#39;.  I was showing the converted Javascript, you don&#39;t actually want that part in your .ts file."}, {"owner": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496314843, "post_id": 44272014, "comment_id": 75616535, "body": "Peter thanks a bunch your suggestion works.  How can I become as good as you with Angular?  I want to know stuff like what typescript is assuming, and how it converts itself to JavaScript.  Thanks again. CM"}, {"owner": {"reputation": 390, "user_id": 4655510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a00284b0233ffe9b833303e902851f3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Sampson", "link": "https://stackoverflow.com/users/4655510/peter-sampson"}, "reply_to_user": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496354178, "post_id": 44272014, "comment_id": 75641171, "body": "It just takes time.  You can see how Typescript converts into Javascript by viewing the resulting .js file.  If you have a Program.ts and you compile it (or your IDE does it for you), there will be a Program.js file in the same directory, where you can see what the typescript code turned into."}, {"owner": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "edited": false, "score": 0, "creation_date": 1496522952, "post_id": 44272014, "comment_id": 75699278, "body": "Peter thanks.  After I made the change you suggested, and it worked locally, I then tried to deploy to Azure, and I got the dreaded HTTP 502.5 error.  If you have some time could you check out the issue and I&#39;d be interested in what you have to say about a potential solution.   <a href=\"https://stackoverflow.com/questions/44348112/publish-to-azure-app-service-failing-iis-502-5-error\" title=\"publish to azure app service failing iis 502 5 error\">stackoverflow.com/questions/44348112/&hellip;</a>"}], "tags": [], "owner": {"reputation": 390, "user_id": 4655510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a00284b0233ffe9b833303e902851f3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Sampson", "link": "https://stackoverflow.com/users/4655510/peter-sampson"}, "is_accepted": true, "score": 0, "last_activity_date": 1496185297, "last_edit_date": 1496185297, "creation_date": 1496178905, "answer_id": 44272014, "question_id": 44271305, "link": "https://stackoverflow.com/questions/44271305/typescript-code-for-searching-and-filtering/44272014#44272014", "title": "Typescript Code for Searching and Filtering", "body": "<pre><code>        SearchPipe.prototype.transform = function(pipeData, _a) {\n            var pipeModifier = _a[0];\n            return pipeData.filter(function(eachItem) {\n                return eachItem['name'].toLowerCase().includes(pipeModifier.toLowerCase()) || eachItem['shortname'].toLowerCase().includes(pipeModifier.toLowerCase());\n            });\n        }\n</code></pre>\n\n<p>In your code, you're only evaluating with the first character of pipeModifer.  Your filter logic is working, it's just that when you search with 'Blah' it's only using 'b' and discarding the rest of the search.</p>\n\n<p>This is happening because in your declaration of your transform function, you are passing pipeModifier as the first element of an array.  In typescript, this means it is assuming the 2nd argument of pipeModifier is an array and you want pipeModifier to be the first element of that array.  You can fix this by just changing </p>\n\n<pre><code>transform(pipeData, [pipeModifier])\n</code></pre>\n\n<p>to </p>\n\n<pre><code>transform(pipeData, pipeModifier)\n</code></pre>\n\n<p>Example of how Typescript converts this to Javascript:</p>\n\n<p>Typescript Function</p>\n\n<pre><code>function test(var1, [var2, var3]){\n    console.log(var2);\n}\n</code></pre>\n\n<p>Resulting Javascript Function</p>\n\n<pre><code>function test(var1, _a) {\n    var var2 = _a[0], var3 = _a[1];\n    console.log(var2);\n}\n</code></pre>\n\n<p>No matter how large of an array, it'll only use the first two elements.</p>\n"}], "owner": {"reputation": 169, "user_id": 940899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85545acf2ef0781360120e73d43ae6fe?s=128&d=identicon&r=PG", "display_name": "Chris Mazzochi", "link": "https://stackoverflow.com/users/940899/chris-mazzochi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3076, "favorite_count": 1, "accepted_answer_id": 44272014, "answer_count": 1, "score": 0, "last_activity_date": 1496238973, "creation_date": 1496175873, "last_edit_date": 1496238973, "question_id": 44271305, "link": "https://stackoverflow.com/questions/44271305/typescript-code-for-searching-and-filtering", "title": "Typescript Code for Searching and Filtering", "body": "<p>I am trying to filter the input of the user's search query, so that if they type the specific name of what they are looking for, only that thing returns.  </p>\n\n<p>I have an Angular2 demo app (<a href=\"http://mazzoangular2.azurewebsites.net/\" rel=\"nofollow noreferrer\">http://mazzoangular2.azurewebsites.net/</a>) I am working on that simply returns the search results that are a search for an artist's work. Right now it is returning all paintings that contain that the first letter entered.   </p>\n\n<p>Here is the typescript search code: </p>\n\n<pre><code>import { Pipe } from '@angular/core';\n\n@Pipe({\n  name: 'find'\n})\n\nexport class SearchPipe {\n\n  transform(pipeData, pipeModifier) {\n    return pipeData.filter((eachItem) =&gt; {\n      return \neachItem['name'].toLowerCase().includes(pipeModifier.toLowerCase()) ||\n\neachItem['shortname'].toLowerCase().includes(pipeModifier.toLowerCase());\n    });\n  }\n}//End class SearchPipe \n\nSearchPipe.prototype.transform = function (pipeData, _a) {\n    var pipeModifier = _a[0];\n    return pipeData.filter(function (eachItem) {\n    return \neachItem['name'].toLowerCase().includes(pipeModifier.toLowerCase()) || \neachItem['shortname'].toLowerCase().includes(pipeModifier.toLowerCase());\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 24250, "user_id": 180043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffc2b77580ffa2516f2e7ce524dc67ab?s=128&d=identicon&r=PG", "display_name": "Adam Maras", "link": "https://stackoverflow.com/users/180043/adam-maras"}, "is_accepted": true, "score": 2, "last_activity_date": 1496176281, "creation_date": 1496176281, "answer_id": 44271406, "question_id": 44271021, "link": "https://stackoverflow.com/questions/44271021/add-typescript-typings-to-a-top-level-npm-like-module/44271406#44271406", "title": "Add TypeScript typings to a top-level (npm-like) module", "body": "<p>In order to coexist peacefully both with ES module-style importing/exporting as well as ambient modules, TypeScript type definition files can be a little bit strange to follow, especially when cross-referencing them. Let's take a look at the type definitions in <code>@types/react</code> to see what's going on:</p>\n\n<pre><code>export = React;\nexport as namespace React;\n\ndeclare namespace React {\n\n    // a great many things, including:\n\n    interface Component&lt;P, S&gt; extends ComponentLifecycle&lt;P, S&gt; { }\n    class Component&lt;P, S&gt; {\n        // ...\n    }\n}\n</code></pre>\n\n<p>What's basically going on here is that a TypeScript <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"nofollow noreferrer\">namespace</a> is being defined with React's types, and the <code>export</code> statements atop it indicate that the namespace's members should be used when referencing the <code>react</code> package as an ES module.</p>\n\n<p>The advantage to this method of declaring types is that both ambient and ES module situations are supported. The disadvantage is that it can be a little bit unclear about how to reference those types in some cases.</p>\n\n<p>The key to remember here is that although React itself is exposed through an ES module (since you're <code>import</code>ing it), its <em>types</em> can be referenced both via the module and via the namespace. But since you're trying to create a downstream type definition, you need to use the <em>namespace</em> because TypeScript doesn't treat type definition files like ES modules (though they specify types to be used with them).</p>\n\n<pre><code>declare module 'bootstrap-dropdown-button' {\n    export default class DropdownButton extends React.Component&lt;any, any&gt; {}\n    //                                          ^^^^^^\n}\n</code></pre>\n\n<p>In your type definition file, just qualify the external types you use with their namespace instead of trying to import them as a module.</p>\n"}], "owner": {"reputation": 79174, "user_id": 352552, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4b0907c0d98a2394568d9bf9e8814c3?s=128&d=identicon&r=PG", "display_name": "Adam Rackis", "link": "https://stackoverflow.com/users/352552/adam-rackis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 44271406, "answer_count": 1, "score": 1, "last_activity_date": 1496176281, "creation_date": 1496174871, "question_id": 44271021, "link": "https://stackoverflow.com/questions/44271021/add-typescript-typings-to-a-top-level-npm-like-module", "title": "Add TypeScript typings to a top-level (npm-like) module", "body": "<p>I'm trying to add typings to a top-level module, basically I want</p>\n\n<pre><code>import DropDownButton from 'bootstrap-dropdown-button'\n</code></pre>\n\n<p>to be typed correctly.  Inside of <code>typings/bootstrap-dropdown-button/index.d.ts</code> I have the following</p>\n\n<pre><code>import {Component} from 'react';\n\ndeclare module 'bootstrap-dropdown-button' {\n    //var DropdownButton: any;\n    //export default DropdownButton;\n\n    export default class DropdownButton extends Component&lt;any, any&gt; {}\n}\n</code></pre>\n\n<p>which does not work.  I get errors of </p>\n\n<blockquote>\n  <p>error TS2307: Cannot find module 'bootstrap-dropdown-button'.</p>\n</blockquote>\n\n<p>But, if I remove the existing code and uncomment </p>\n\n<pre><code>var DropdownButton: any;\nexport default DropdownButton;\n</code></pre>\n\n<p>then everything works fine, though naturally my typings for this module are fairly weak.</p>\n\n<p>It seems my typing does not work when I try to load up the <code>Component</code> type from react.  The react typings have been loaded via npm through <code>@types/react</code> and work fine, otherwise.</p>\n\n<p>How should I adjust my typing code so <code>bootstrap-dropdown-button</code> is recognized by TypeScript, and interacts correctly with <code>React.Component</code>.</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "rxjs", "rxjs5"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1496173871, "post_id": 44270611, "comment_id": 75549567, "body": "where are you subscribing to the data? update that to post"}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 0, "creation_date": 1496174934, "post_id": 44270611, "comment_id": 75550105, "body": "It&#39;s async, that&#39;s the whole point of observables :) So you won&#39;t be able to accomplish that the way you want. You should subscribe and do what you want in that subscribe but subscribing in a service is not a good idea either. You should simply create the observable chain, and subscribe to it from a component for example"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1496175389, "post_id": 44270611, "comment_id": 75550312, "body": "You can just use concat() then last(). <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-last\" rel=\"nofollow noreferrer\">reactivex.io/rxjs/class/es6/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "is_accepted": false, "score": 0, "last_activity_date": 1496175488, "creation_date": 1496175488, "answer_id": 44271199, "question_id": 44270611, "link": "https://stackoverflow.com/questions/44270611/wait-for-an-observable-to-complete-start-another-and-subscribe-to-its-output/44271199#44271199", "title": "Wait for an observable to complete, start another, and subscribe to its output", "body": "<p>You can't achieve what you want with operators like <code>concat</code> and <code>switch</code>, because you'll still be calling the <code>this.http.get()</code> synchronously (before your stored headers are ready). Use <code>mergeMap</code> instead:</p>\n\n<pre><code>return startObs.mergeMap(headers =&gt; this.http.get(url, headers));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1496214379, "creation_date": 1496214379, "answer_id": 44277912, "question_id": 44270611, "link": "https://stackoverflow.com/questions/44270611/wait-for-an-observable-to-complete-start-another-and-subscribe-to-its-output/44277912#44277912", "title": "Wait for an observable to complete, start another, and subscribe to its output", "body": "<p>This looks like an easy task for <code>concatMap</code>:</p>\n\n<pre><code>startObs\n    .concatMap(() =&gt; this.http.get(url, headers))\n    .subscribe(...);\n</code></pre>\n\n<p>Since it's supposed to map a value using a callback function you can simply ignore the value emitted from the source <code>startObs</code> and just return a new Observable.</p>\n\n<p>You could also chain multiple <code>concatMap</code> operators because they only subscribe to the next Observable when the preceding one completes.</p>\n"}], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1496214442, "creation_date": 1496173214, "last_edit_date": 1496214442, "question_id": 44270611, "link": "https://stackoverflow.com/questions/44270611/wait-for-an-observable-to-complete-start-another-and-subscribe-to-its-output", "title": "Wait for an observable to complete, start another, and subscribe to its output", "body": "<p>I have a function that will optionally set a header with data retrieved from <code>localStorage</code>. The <code>localStorage</code> operation returns a promise that I can turn into an Observable. Once the headers are set (or not), I want to make an http request and return the Observable as a result:</p>\n\n<pre><code>let startObs;\nif (useHeaders) {\n  startObs = Observable.fromPromise(this.getStoredHeaders());\n}\nelse {\n  startObs = Observable.empty();\n}\n\n// wait for startObs here\n\nreturn this.http.get(url, headers);\n</code></pre>\n\n<p>Essentially I want to wait for <code>startObs</code> to complete and then return the <code>http.get</code> Observable. I have tried using something like <code>startObs.concat(this.http.get())</code> or <code>startObs.switch(this.http.get())</code>, but this emits from both the source observable and the <code>http.get</code> observable. I <em>only</em> want to emit the <code>http.get</code> Observable.</p>\n\n<p>Is there any way to subscribe only to the last observable in a chain while waiting for a previous observable to complete?</p>\n"}, {"tags": ["typescript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5408532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5273fc3243d1dd392453307b9d1e0866?s=128&d=identicon&r=PG&f=1", "display_name": "dystopia", "link": "https://stackoverflow.com/users/5408532/dystopia"}, "is_accepted": false, "score": 0, "last_activity_date": 1496220803, "last_edit_date": 1496220803, "creation_date": 1496220365, "answer_id": 44279907, "question_id": 44270083, "link": "https://stackoverflow.com/questions/44270083/how-to-specify-date-format-d3-js-for-x-axis/44279907#44279907", "title": "How to specify date format d3.js for x-axis", "body": "<p>Use this function to loop through the data and to change the date to the format you want.</p>\n\n<pre><code>var parseDate = d3.time.format(\"%Y-%m-%d\")\n\nfunction formatDate(data){ \n  data.forEach(function (loop1) {\n  loop1.Series.forEach(function (loop2) {\n      loop2.Data.forEach(function (d) {\n          d.X = parseDate(d.X);\n        });\n     });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 2718856, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1841456202579053/picture?type=large", "display_name": "GeeWhizBang", "link": "https://stackoverflow.com/users/2718856/geewhizbang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 488, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496220803, "creation_date": 1496171230, "question_id": 44270083, "link": "https://stackoverflow.com/questions/44270083/how-to-specify-date-format-d3-js-for-x-axis", "title": "How to specify date format d3.js for x-axis", "body": "<p>The data looks like this at the time being:</p>\n\n<pre><code>this.Data = {\n    Title: \"Chart Title\",\n    XAxisTitle: \"\",\n    YAxisTitle: \"\",\n    Series: [{\n        Title: \"Series A\",\n        Data: [{ X: new Date(2017, 5, 31), Y: 43 }, { X: new Date(2017, 5, 30), Y: 32 }, { X: new Date(2017, 5, 29), Y: 78 }, { X: new Date(2017, 5, 28), Y: 15 }, { X: new Date(2017, 5, 27), Y: 12 }]\n        },\n        {\n            Title: \"Series B\",\n            Data: [{ X: new Date(2017, 5, 31), Y: 13 }, { X: new Date(2017, 5, 30), Y: 72 }, { X: new Date(2017, 5, 29), Y: 33 }, { X: new Date(2017, 5, 28), Y: 45 }, { X: new Date(2017, 5, 27), Y: 22 }\n        ]\n    }]\n};\n</code></pre>\n\n<p>This doesn't work. If I leave .tickFormat off I get just the raw ticks displayed. But passing it the way that seems to make sense crashes.</p>\n\n<pre><code>private drawXAxis(): void {\n    this.xAxis = d3.svg.axis().scale(this.xScale)\n        .tickFormat(d3.time.format(\"%Y-%m-%d\"))\n        .tickPadding(15);\n    this.svg.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', 'translate(0,' + this.height + ')')\n        .call(this.xAxis);\n}\n</code></pre>\n\n<p>It probably has to be passed as a helper function, but I don't find any examples anywhere to do this.</p>\n"}, {"tags": ["angular", "typescript", "promise", "ionic2", "json-web-token"], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 5379931, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205990238209794/picture?type=large", "display_name": "Marco Orlando", "link": "https://stackoverflow.com/users/5379931/marco-orlando"}, "edited": false, "score": 0, "creation_date": 1496259964, "post_id": 44273620, "comment_id": 75593416, "body": "The issue was unrelated to the code I posted here. The logout function I implemented was not running when the logout button was clicked. This is because I was editing the wrong typescipt file. Thank you for the refactoring suggestion however."}], "tags": [], "owner": {"reputation": 1113, "user_id": 3466890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uonpm.png?s=128&g=1", "display_name": "Hayden Braxton", "link": "https://stackoverflow.com/users/3466890/hayden-braxton"}, "is_accepted": false, "score": 1, "last_activity_date": 1496188262, "creation_date": 1496188262, "answer_id": 44273620, "question_id": 44269928, "link": "https://stackoverflow.com/questions/44269928/waiting-in-ionic-2-typescript-for-local-storage-promise-to-resolve-before-contin/44273620#44273620", "title": "Waiting in Ionic 2 typescript for local storage promise to resolve before continuing", "body": "<p>There's a few things you can do here.</p>\n\n<p>First off, I would refactor the code to make it a little more readable. If you see how I have the functions below, you'll notice that we're taking advantage of what promises naturally give us in that we can chain them together without having to nest our <code>then()</code>s.</p>\n\n<p>In <code>checkAuthentication()</code>, you don't need to create the Promise like you were. You can just return the http Observable as a promise. If the the http call was successful, then the promise will resolve. If the http call fails, then the resulting promise will reject.</p>\n\n<p>Lastly, I would try using <code>ionViewDidLoad</code> instead of <code>willLoad</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>logout() {\r\n  this.storage.ready()\r\n    .then(() =&gt; this.storage.set('token', ''))\r\n    .then(data =&gt; this.navCtrl.setRoot(LoginPage))\r\n}\r\n\r\ncheckAuthentication() {\r\n  return this.storage.get('token')\r\n    .then((value) =&gt; {\r\n      this.token = value;\r\n\r\n      let headers = new Headers();\r\n      headers.append('Authorization', this.token);\r\n\r\n      return Observable.toPromise(\r\n        this.http.get('apiURL', { headers: headers })\r\n      );\r\n    });\r\n}\r\n\r\nionViewDidLoad() {\r\n  this.auth.checkAuthentication()\r\n    .then((res) =&gt; {\r\n      console.log(\"Already authorized\");\r\n      this.loading.dismiss();\r\n      this.navCtrl.setRoot(HomePage);\r\n    })\r\n    .catch((err) =&gt; {\r\n      console.log(\"Not already authorized\");\r\n      this.loading.dismiss();\r\n    });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 513, "user_id": 2548976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0399b0bc96bae41c3a2aec44c58c76d5?s=128&d=identicon&r=PG", "display_name": "Nguyen Huynh", "link": "https://stackoverflow.com/users/2548976/nguyen-huynh"}, "is_accepted": false, "score": 0, "last_activity_date": 1496208513, "last_edit_date": 1496208513, "creation_date": 1496202063, "answer_id": 44275225, "question_id": 44269928, "link": "https://stackoverflow.com/questions/44269928/waiting-in-ionic-2-typescript-for-local-storage-promise-to-resolve-before-contin/44275225#44275225", "title": "Waiting in Ionic 2 typescript for local storage promise to resolve before continuing", "body": "<p>In the logout function it should remove token rather than set it empty ''. Because the token still exist in the storage after logout.</p>\n\n<pre><code>this.storage.removeItem('token')\n</code></pre>\n"}], "owner": {"reputation": 72, "user_id": 5379931, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205990238209794/picture?type=large", "display_name": "Marco Orlando", "link": "https://stackoverflow.com/users/5379931/marco-orlando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3552, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1496208513, "creation_date": 1496170711, "question_id": 44269928, "link": "https://stackoverflow.com/questions/44269928/waiting-in-ionic-2-typescript-for-local-storage-promise-to-resolve-before-contin", "title": "Waiting in Ionic 2 typescript for local storage promise to resolve before continuing", "body": "<p>I have an Ionic 2 application in which I would like to implement a logout functionality. I want to set the value of a Json Web Token to null in local storage and then after the value is set, send the user to the login page.</p>\n\n<p>I am having an issue where the application is not waiting for the value of the JWT to be set before taking the user to the login page. This is a problem because on the login page, I have a function to log the user in automatically if they have a valid JWT. Because the program is not blocking and waiting for the value to be set in storage, the user is logged back in immediately after logging out.</p>\n\n<p>How can I wait for the value of the token to be set before sending the user back to the login page?</p>\n\n<p>Log out functionality:</p>\n\n<pre><code>logout() {\nthis.storage.ready().then(() =&gt; {\n    this.storage.set('token', '').then(data =&gt; {\n        this.navCtrl.setRoot(LoginPage);\n    });\n});\n</code></pre>\n\n<p>CheckAuthentication functionality:</p>\n\n<pre><code>    checkAuthentication() {\nreturn new Promise((resolve, reject) =&gt; {\n  this.storage.get('token').then((value) =&gt; {\n\n    this.token = value;\n\n    let headers = new Headers();\n    headers.append('Authorization', this.token);\n\n    this.http.get('apiURL', { headers: headers })\n      .subscribe(res =&gt; {\n        resolve(res);\n\n      }, (err) =&gt; {\n        reject(err);\n      });\n\n  });\n\n  });\n  }\n</code></pre>\n\n<p>IonViewWillLoad:</p>\n\n<pre><code>  ionViewWillLoad(){\n //Check if already authenticated\n    this.auth.checkAuthentication().then((res) =&gt; {\n        console.log(\"Already authorized\");\n        this.loading.dismiss();\n        this.navCtrl.setRoot(HomePage);\n    }, (err) =&gt; {\n        console.log(\"Not already authorized\");\n        this.loading.dismiss();\n    });}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "architecture", "immutable.js"], "comments": [{"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496180883, "post_id": 44269608, "comment_id": 75552843, "body": "There&#39;s a lot going on here so it might be hard to give recommendations. Is it necessary to be using ImmutableJS? You could just trust yourself to avoid mutations."}, {"owner": {"reputation": 2598, "user_id": 218913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59b5bd7fe3da101beb97cfddfdb6f9e2?s=128&d=identicon&r=PG&f=1", "display_name": "williamg", "link": "https://stackoverflow.com/users/218913/williamg"}, "reply_to_user": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496185306, "post_id": 44269608, "comment_id": 75554126, "body": "Yeah, I tried to cut it down as much as possible. The fact that there&#39;s a lot going on is sort of what I&#39;m trying to fix. It&#39;s not necessary to use that library or immutability in general I suppose, but I&#39;m sort of anal when it comes to good interfaces/design so this kind of stuff bugs me."}], "owner": {"reputation": 2598, "user_id": 218913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59b5bd7fe3da101beb97cfddfdb6f9e2?s=128&d=identicon&r=PG&f=1", "display_name": "williamg", "link": "https://stackoverflow.com/users/218913/williamg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496169670, "creation_date": 1496169670, "question_id": 44269608, "link": "https://stackoverflow.com/questions/44269608/improving-this-component-architecture", "title": "Improving this Component Architecture", "body": "<p>I'm using Immutable.js and Typescript to build an entity component system for a game I'm working on. Right now I'm trying to flesh out the semantics of how components are created. My current design is a bit more repetitive than I'd like, so I'm looking for ways to improve it.</p>\n\n<p>One of the main roadblocks is that I really want my components to be immutable. Changing them should result in a new instances, but I'm having trouble finding ways to actually enforce this statically.</p>\n\n<h1>Component Base Class</h1>\n\n<pre><code>/**\n * @file game/Component.ts\n */\n\n/**\n * All possible component types. Used for serialization\n */\nexport enum ComponentType {\n    OCCUPANCY\n};\n\n/**\n * Components are used to make entities interesting. Components provide almost\n * all of the core game functionality from basic movement to unique items.\n * Components are completely independent and should primarily contain data,\n * NOT behavior.\n */\nexport abstract class Component {\n    /**\n     * The id of this component\n     * @type {ComponentID}\n     */\n    public readonly id: ComponentID;\n    /**\n     * The type of this component\n     * @type {ComponentType}\n     */\n    public readonly type: ComponentType;\n\n    constructor(type: ComponentType, id: ComponentID) {\n        this.id = id;\n        this.type = type;\n    }\n}\n</code></pre>\n\n<h1>Example Component</h1>\n\n<pre><code>/**\n * @file game/components/Occupancy.ts\n * Describes the occupancy status of a grid cell\n */\n\nimport { ComponentType, Component, ComponentID } from \"../Component\"\nimport { Entity } from \"../Entity\"\n\nimport { Record } from \"immutable\"\n\nexport type OccupancyStatus = Entity | \"free\" | \"unknown\"\n\nexport type OccupancyParams = {\n    status?: Entity | \"free\" | \"unknown\"\n};\n\nexport const OccupancyRecord = Record({\n    status: \"unknown\"\n});\n\nclass OccupancyData extends OccupancyRecord {\n    /**\n     * The occupancy status of this entity\n     * @type {OccupancyStatus}\n     */\n    status: OccupancyStatus;\n    /**\n     * Construct a new state with the given parameters\n     * \n     * @param {OccupancyParams} params Parameters to use instead of defaults\n     */\n    public constructor(params?: OccupancyParams) {\n        params ? super(params) : super();\n    } \n    /**\n     * Create a new OccupancyData with the same values as this one except as\n     * indicated by the provided values\n     * @param  {OccupancyParams} values Values to replace in the new instance\n     * @return {OccupancyData}          New instance\n     */\n    public with(values: OccupancyParams): OccupancyData {\n        return this.merge(values) as this;\n    }\n}\n\nexport class Occupancy extends Component {\n    public readonly data: OccupancyData;\n\n    constructor(id: ComponentID, params?: OccupancyParams) {\n        super(ComponentType.OCCUPANCY, id);\n\n        this.data = new OccupancyData(params);\n    }\n\n    public with(values: OccupancyParams): Occupancy {\n        const new_data = this.data.with(values);\n\n        return new Occupancy(this.id, new_data);\n    }\n}\n</code></pre>\n\n<p>As you can see this is pretty repetitive. I have to enumerate all properties of a component 3 times per component definition: once for the Params struct, once for defining the record defaults, and once for adding accessors. Additionally, there's nothing really enforcing that components follow this structure or make themselves immutable which smells funny to me.</p>\n"}, {"tags": ["json", "angular", "typescript", "firebase", "http-status-code-404"], "comments": [{"owner": {"reputation": 9062, "user_id": 54364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed5cd2268da6f34389ab3d4bf10117c?s=128&d=identicon&r=PG", "display_name": "MilkyWayJoe", "link": "https://stackoverflow.com/users/54364/milkywayjoe"}, "edited": false, "score": 0, "creation_date": 1496174646, "post_id": 44268716, "comment_id": 75549962, "body": "missing model name?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496175125, "post_id": 44268716, "comment_id": 75550191, "body": "Works fine for me when I tested, you have not used in memory web api before by any chance?"}, {"owner": {"reputation": 10785, "user_id": 5556177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d9Zo80hDfWY/AAAAAAAAAAI/AAAAAAAAACQ/Q-IpHqjPcx8/photo.jpg?sz=128", "display_name": "Nehal", "link": "https://stackoverflow.com/users/5556177/nehal"}, "edited": false, "score": 0, "creation_date": 1496175447, "post_id": 44268716, "comment_id": 75550348, "body": "I created a plunker with the URL, and it&#39;s returning data just fine. Check if you have all the modules imported correctly.  <a href=\"http://plnkr.co/edit/MMly1tMo2ZOI2cIWqnit?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/MMly1tMo2ZOI2cIWqnit?p=preview</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496178236, "post_id": 44268716, "comment_id": 75551758, "body": "there are no module errors; I guess there&#39;s something between the code and the exchange of data"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496178268, "post_id": 44268716, "comment_id": 75551769, "body": "am I allowed to say MitM? Though without full information transform visibility that&#39;s probably more a wild guess"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "reply_to_user": {"reputation": 9062, "user_id": 54364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed5cd2268da6f34389ab3d4bf10117c?s=128&d=identicon&r=PG", "display_name": "MilkyWayJoe", "link": "https://stackoverflow.com/users/54364/milkywayjoe"}, "edited": false, "score": 0, "creation_date": 1496178542, "post_id": 44268716, "comment_id": 75551886, "body": "@MilkyWayJoe what do you mean by missing model name? It&#39;s just getting json data from a server."}, {"owner": {"reputation": 176, "user_id": 5287580, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205274810566831/picture?type=large", "display_name": "Simone Mazzoni", "link": "https://stackoverflow.com/users/5287580/simone-mazzoni"}, "edited": false, "score": 0, "creation_date": 1496222311, "post_id": 44268716, "comment_id": 75568032, "body": "@JustInTimeBerlake I see you use <code>.map()</code>, have you imported Rxjs correctly?  <code>import &#39;rxjs&#47;add&#47;operator&#47;map&#39;;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496235709, "post_id": 44268716, "comment_id": 75577718, "body": "I added <code>import &#39;rxjs&#47;add&#47;operator&#47;map&#39;;</code>. It&#39;s still doing the same thing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496317184, "post_id": 44268716, "comment_id": 75618095, "body": "@AJT_82 could the in memory web api be interfering with the accessing of the external data? I&#39;ll try removing it..."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496317212, "post_id": 44268716, "comment_id": 75618115, "body": "Yes, it absolutely does, that&#39;s why I asked."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496317357, "post_id": 44268716, "comment_id": 75618218, "body": "@AJT_82 sorry I overlooked your comment. Yes, removing this fixed the problem. Feel free to put in an answer."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1496317631, "post_id": 44268716, "comment_id": 75618396, "body": "No problem, glad we sorted it out though! Even if it took a while :)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496239548, "post_id": 44286841, "comment_id": 75580670, "body": "This solves the browser address glitch and another unrelated issue, but the original problem still remains."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496239755, "post_id": 44286841, "comment_id": 75580842, "body": "I&#39;m getting a 404 in the console still and still no 404 in the network traffic."}, {"owner": {"reputation": 87, "user_id": 7960799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7wa.jpg?s=128&g=1", "display_name": "JSONGagnon", "link": "https://stackoverflow.com/users/7960799/jsongagnon"}, "edited": false, "score": 0, "creation_date": 1496240320, "post_id": 44286841, "comment_id": 75581259, "body": "I just tried running the code I edited and I am receiving the data in the console. Could you please edit the question to show the edits you have made to your files."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496240925, "post_id": 44286841, "comment_id": 75581741, "body": "Edits posted as currently appear in code. There has been no fix to the main app error as a result of making the suggested edits."}, {"owner": {"reputation": 87, "user_id": 7960799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7wa.jpg?s=128&g=1", "display_name": "JSONGagnon", "link": "https://stackoverflow.com/users/7960799/jsongagnon"}, "edited": false, "score": 0, "creation_date": 1496241357, "post_id": 44286841, "comment_id": 75582058, "body": "Both your previous version and the updates I made work for me. I am unsure what is causing this error since it is working perfectly for me and a few others. Have you tried recompiling the app? Or using another web browser?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496241530, "post_id": 44286841, "comment_id": 75582200, "body": "I tried another web browser and I&#39;ve tried recompiling. Nothing seems to work."}], "tags": [], "owner": {"reputation": 87, "user_id": 7960799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7wa.jpg?s=128&g=1", "display_name": "JSONGagnon", "link": "https://stackoverflow.com/users/7960799/jsongagnon"}, "is_accepted": false, "score": 0, "last_activity_date": 1496239192, "creation_date": 1496239192, "answer_id": 44286841, "question_id": 44268716, "link": "https://stackoverflow.com/questions/44268716/angular4-giving-404-for-json-data-that-exists-and-is-publicly-serving/44286841#44286841", "title": "Angular4 giving 404 for json data that exists and is publicly serving", "body": "<p>Try importing <code>import 'rxjs/add/operator/toPromise';\n</code> and add toPromise to the end of the http get in the the fetchData() function.</p>\n\n<pre><code>fetchData(){\n    return this.http.get('https://dinstruct-d4b62.firebaseio.com/.json').map(\n    (res) =&gt; res.json()).toPromise();\n}\n</code></pre>\n\n<p>Your calling function should then look like this:</p>\n\n<pre><code>this.dataService.fetchData()\n    .then((data) =&gt; {\n        console.log(data);\n    })\n    .catch((error) =&gt; console.error(error)); \n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496317720, "post_id": 44306665, "comment_id": 75618449, "body": "Now get <code>XMLHttpRequest cannot load https:&#47;&#47;console.firebase.google.com&#47;project&#47;dinstruct-d4b62&#47;&zwnj;&#8203;database&#47;data&#47;.json&#47;&zwnj;&#8203;NaN. Redirect from &#39;https:&#47;&#47;console.firebase.google.com&#47;project&#47;dinstruct-d4b62&zwnj;&#8203;&#47;database&#47;data&#47;.json&zwnj;&#8203;&#47;NaN&#39; to &#39;https:&#47;&#47;accounts.google.com&#47;ServiceLogin?passive=1209600&amp;os&zwnj;&#8203;id=1&amp;continue=ht\u2026ons&zwnj;&#8203;ole.firebase.google.&zwnj;&#8203;com&#47;project&#47;dinstruc&zwnj;&#8203;t-d4b62&#47;database&#47;dat&zwnj;&#8203;a&#47;.json&#47;NaN&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;null&#39; is therefore not allowed access.</code>  But a) that&#39;s not the 404 I asked about and b) I can fix that"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1496317939, "post_id": 44306665, "comment_id": 75618594, "body": "That is a CORS issue, you need to enable cors on server side. I&#39;m not really familiar with firebase, so I cannot really help you there with more details. Sometimes though this is just caused by browser (as well), so you could try and enable cors in your browser, here&#39;s extension for chrome: <a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi\" rel=\"nofollow noreferrer\">chrome.google.com/webstore/detail/allow-control-allow-origi/&zwnj;&#8203;&hellip;</a> HOPEFULLY this would clear it out, but usually we aren&#39;t that lucky ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496318857, "post_id": 44306665, "comment_id": 75619235, "body": "<code>private headers = new Headers({&#39;Content-Type&#39;: &#39;application&#47;json&#39;, &#39;Access-Control-Allow-Origin&#39;: &#39;https:&#47;&#47;dinstruct-d4b62.firebaseio&#39;});</code>  Of course now it&#39;s returning an empty promise... the debugging goes on <i>deep in thought chin-scratchy emojii</i>"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496319160, "post_id": 44306665, "comment_id": 75619481, "body": "I can see that emoiji in my head :D I said you need to enable cors (set the headers server-side), not in Angular :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496319222, "post_id": 44306665, "comment_id": 75619529, "body": "Yeah, I know, but for some reason enabling it in Angular actually did clear up the CORS error and I&#39;m now receiving the JSON data (it&#39;s just being converted to an empty promise) so even if this technically shouldn&#39;t have fixed it, it worked, so I&#39;m not gonna question it."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496319369, "post_id": 44306665, "comment_id": 75619633, "body": "That is the strangest thing I heard, that enabling headers in front-side would work :D :D Oh well, I guess it was some kind of magic :D Hold on, I&#39;ll make a demo for you with your json. Do you want to use promises or observables for this. You seem to mix them with <code>map</code> and <code>toPromise()</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1496319583, "post_id": 44306665, "comment_id": 75619832, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/145633/discussion-between-just-in-time-berlake-and-ajt-82\">continue this discussion in chat</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "edited": false, "score": 0, "creation_date": 1496320771, "post_id": 44306665, "comment_id": 75620752, "body": "This: <a href=\"https://stackoverflow.com/questions/27145287/angularjs-http-get-returns-error-with-status-0\" title=\"angularjs http get returns error with status 0\">stackoverflow.com/questions/27145287/&hellip;</a> might be useful reading for people about the way Angular handles CORS."}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 10, "last_activity_date": 1496317593, "creation_date": 1496317593, "answer_id": 44306665, "question_id": 44268716, "link": "https://stackoverflow.com/questions/44268716/angular4-giving-404-for-json-data-that-exists-and-is-publicly-serving/44306665#44306665", "title": "Angular4 giving 404 for json data that exists and is publicly serving", "body": "<p>The in-memory-web-api will interfere with your \"outside\" requests. You need to remove that from your NgModule, since otherwise Angular is always trying to look in in-memory-web-api for your requests, which obviously doesn't exist in that place. So removing the equivalent of </p>\n\n<pre><code>InMemoryWebApiModule.forRoot(InMemoryDataService)\n</code></pre>\n\n<p>from your ngModule and that should clear it out! :) </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7169400, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j4SZLDMPJLg/AAAAAAAAAAI/AAAAAAAAADQ/AaVsyU_i4iI/photo.jpg?sz=128", "display_name": "Abhishek Verma", "link": "https://stackoverflow.com/users/7169400/abhishek-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1588430205, "creation_date": 1588430205, "answer_id": 61561086, "question_id": 44268716, "link": "https://stackoverflow.com/questions/44268716/angular4-giving-404-for-json-data-that-exists-and-is-publicly-serving/61561086#61561086", "title": "Angular4 giving 404 for json data that exists and is publicly serving", "body": "<p>In AppModule.ts where you have imports[], you would have imported the <strong>HttpClientInMemoryWebApiModule</strong> \nlike =></p>\n\n<hr>\n\n<pre><code>HttpClientInMemoryWebApiModule\n    .forRoot(\n      InMemoryService, { dataEncapsulation: false }\n    ),\u00a0\n</code></pre>\n\n<hr>\n\n<p>Now What is happening here is that your application is searching for the public API in the in-memory web API only to solve this just tell In memory module not to behave like that by setting the passing though unknown Url true \nlike =></p>\n\n<hr>\n\n<pre><code>HttpClientInMemoryWebApiModule\n    .forRoot(\n      InMemoryService, { dataEncapsulation: false, passThruUnknownUrl: true }\n    )\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7351238"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2468, "favorite_count": 1, "accepted_answer_id": 44306665, "answer_count": 3, "score": 6, "last_activity_date": 1588430205, "creation_date": 1496166465, "last_edit_date": 1496251822, "question_id": 44268716, "link": "https://stackoverflow.com/questions/44268716/angular4-giving-404-for-json-data-that-exists-and-is-publicly-serving", "title": "Angular4 giving 404 for json data that exists and is publicly serving", "body": "<p>I have a test data service written in Angular4. It currently looks like this:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport 'rxjs/add/operator/map';\n\nimport 'rxjs/add/operator/toPromise'\n\n\n@Injectable()\nexport class DataService {\n\n  constructor(private http: Http) { }\n\nfetchData(){\n  return this.http.get('https://dinstruct-d4b62.firebaseio.com/.json').map(\n    (res) =&gt; res.json()).toPromise();\n}\n\n}\n</code></pre>\n\n<p>With thanks to \"The Net Ninja\" for this code, as this section of the app is basically exactly the same as the tutorial code (I prefer to have something that should be a known working example for testing purposes when building new apps)...</p>\n\n<p>The problem is that though there is definitely test data at <a href=\"https://dinstruct-d4b62.firebaseio.com/.json\" rel=\"noreferrer\">https://dinstruct-d4b62.firebaseio.com/.json</a>, which is not hidden or firewalled in any way as far as I can tell (directly accessible via browser), when the app enters the <code>fetchData()</code> function, it logs:</p>\n\n<pre><code>    ERROR Error: Uncaught (in promise): Error: Response with status: 404 Not Found for URL: https://dinstruct-d4b62.firebaseio.com/.json\nError: Response with status: 404 Not Found for URL: https://dinstruct-d4b62.firebaseio.com/.json\n</code></pre>\n\n<p>at the start of the stack trace. What could be going on here?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I also noticed that in the calling function:</p>\n\n<pre><code>ngOnInit(): void {\n  this.customerService.getCustomers()\n      .then(customers =&gt; this.customers = customers);\n  this.dataService.fetchData().subscribe(\n    (data) =&gt; console.log(data));\n}\n</code></pre>\n\n<p>When I have <code>this.dataService.fetchData().subscribe((data) =&gt; console.log(data));</code> in the code, clicking a link to the dashboard it momentarily shows <code>localhost:3000/dashboard</code> in the browser address bar but then immediate flicks back to showing the previous URL. However, when I remove this line, the app correctly shows <code>localhost:3000/dashboard</code> the whole time. I assume this is probably related to the console.logged 404 error. </p>\n\n<p>Also perplexing is that when I check the network traffic, no 404 is shown.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>When the observable is change to a promise I get this output in the console:</p>\n\n<pre><code>Response {_body: Object, status: 404, ok: false, statusText: \"Not Found\", headers: Headers\u2026}\nheaders\n:\nHeaders\nok\n:\nfalse\nstatus\n:\n404\nstatusText\n:\n\"Not Found\"\ntype\n:\nnull\nurl\n:\n\"https://dinstruct-d4b62.firebaseio.com/.json\"\n_body\n:\nObject\nerror\n:\n\"Collection 'undefined' not found\"\n__proto__\n:\nObject\nconstructor\n:\nfunction Object()\nhasOwnProperty\n:\nfunction hasOwnProperty()\nisPrototypeOf\n:\nfunction isPrototypeOf()\npropertyIsEnumerable\n:\nfunction propertyIsEnumerable()\ntoLocaleString\n:\nfunction toLocaleString()\ntoString\n:\nfunction ()\nvalueOf\n:\nfunction valueOf()\n__defineGetter__\n:\nfunction __defineGetter__()\n__defineSetter__\n:\nfunction __defineSetter__()\n__lookupGetter__\n:\nfunction __lookupGetter__()\n__lookupSetter__\n:\nfunction __lookupSetter__()\nget __proto__\n:\nfunction __proto__()\nset __proto__\n:\nfunction __proto__()\n__proto__\n:\nBody\nconstructor\n:\nfunction Response(responseOptions)\ntoString\n:\nfunction ()\n__proto__\n:\nObject\n</code></pre>\n\n<p>There is still no 404 in the network traffic.</p>\n\n<p>I have now updated the calling function to this:</p>\n\n<pre><code>ngOnInit(): void {\n  this.customerService.getCustomers()\n      .then(customers =&gt; this.customers = customers);\n  this.dataService.fetchData().then((data) =&gt; {\n       console.log(data);\n  })\n       .catch((error) =&gt; console.error(error));\n}\n</code></pre>\n"}, {"tags": ["typescript", "types", "algebraic-data-types", "complex-data-types"], "answers": [{"comments": [{"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1496175450, "post_id": 44269789, "comment_id": 75550351, "body": "Thank you for your reply. Using inheritance unfortunately isn&#39;t an option - the <code>configure</code> method is going to be defined in a class that&#39;s going to be a parent to the class that holds the foo property. It&#39;s part of a client-facing API and I&#39;d like to keep it as simple as possible."}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1496177105, "post_id": 44269789, "comment_id": 75551203, "body": "Are you actually intending <code>Foo&lt;T&gt;</code> to be empty, hoping to use it just for constraining type params in setMetadata? That won&#39;t work because of the structural-typing nature of TypeScript. An empty interface will accept anything. You would have to box the fields in a class instance or a container object with a special marker field to be able to do this. Or maybe you could do something with decorators (I haven&#39;t used them so can&#39;t comment)."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1496177242, "post_id": 44269789, "comment_id": 75551278, "body": "You&#39;re right. I solved it in a different way (functions), see my own answer. Decorators wouldn&#39;t solve the issue, unfortunately. Thank you for your time and effort."}], "tags": [], "owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "is_accepted": false, "score": 0, "last_activity_date": 1496170275, "creation_date": 1496170275, "answer_id": 44269789, "question_id": 44268269, "link": "https://stackoverflow.com/questions/44268269/constrain-keys-that-are-part-of-looked-up-type/44269789#44269789", "title": "Constrain keys that are part of looked-up type", "body": "<p>How about this?</p>\n\n<pre><code>class Builder&lt;T&gt; {\n  public setMetadata&lt;TP1 extends keyof T, TP2 extends T[TP1]&gt;(prop: TP1, propOfProp: TP2) {\n    // ...\n  }\n}\n\nclass BarData {\n  foo: Foo&lt;Test&gt;;\n}\n\nclass Bar extends BarData {\n  configure(builder: Builder&lt;BarData&gt;) {\n    // ...\n  }\n}\n</code></pre>\n\n<p>I made changes in a few places:</p>\n\n<ul>\n<li>use <code>T</code> instead of <code>this</code> in setMetadata's type</li>\n<li>don't use <code>keyof</code> in setMetadata's second param type</li>\n<li>move foo into a separate class</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1496177181, "creation_date": 1496177181, "answer_id": 44271639, "question_id": 44268269, "link": "https://stackoverflow.com/questions/44268269/constrain-keys-that-are-part-of-looked-up-type/44271639#44271639", "title": "Constrain keys that are part of looked-up type", "body": "<p>Solved it by myself using a function:</p>\n\n<pre><code>function createInstance&lt;T extends Function &amp; { [P in keyof TSchema]: Foo&lt;any&gt; }&gt;(schema: T, configure: (builder: Builder&lt;T[\"prototype\"]&gt;) =&gt; void): any {\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496177181, "creation_date": 1496164702, "question_id": 44268269, "link": "https://stackoverflow.com/questions/44268269/constrain-keys-that-are-part-of-looked-up-type", "title": "Constrain keys that are part of looked-up type", "body": "<p>I need to create a constraint that limits keys of <code>TP1</code> listed by the <code>keyof</code> keyword to properties that are of a specific type. When I use the <code>builder.setMetadata</code> method, the first parameter should not accept string \"configure\" as a valid value (it should accept <code>foo</code> and other keys that are typed as <code>Foo&lt;something&gt;</code>). I've tried to come up with a solution by myself, but I'm a bit lost and have been doing it for more than three hours now. Following is the working code:</p>\n\n<pre><code>interface Foo&lt;T&gt; {};\n\nclass Test { prop: string; }\n\nclass Builder&lt;T&gt; {\n    public setMetadata&lt;TP1 extends keyof this, TP2 extends keyof this[TP1]&gt;(prop: TP1, propOfProp: TP2) {\n        // ...\n    }\n}\n\nclass Bar {\n    foo: Foo&lt;Test&gt;;\n\n    configure(builder: Builder&lt;Bar&gt;) {\n        builder.setMetadata(\"\", \"\"); // only \"foo\" should be accepted value in the first argument, \"configure\" shouldn't be in the list\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "behaviorsubject"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1496166949, "post_id": 44268152, "comment_id": 75545692, "body": "Have you already tried to make a provider an interface? Try this and you&#39;ll see."}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 1, "creation_date": 1496169262, "post_id": 44268152, "comment_id": 75547016, "body": "Singleton? Do you mean you want to mutate and re-emit the mutated user every time? And no, it makes no difference whether it&#39;s an interface or a class."}, {"owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "reply_to_user": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496178424, "post_id": 44268152, "comment_id": 75551843, "body": "@dbandstra, yes, that&#39;s precisely what I mean!"}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496179425, "post_id": 44268152, "comment_id": 75552256, "body": "Hard for me to answer what the proper way is because I&#39;m allergic to mutation, especially with observables like this! Anyway, what are you changing? You could have e.g. a method in the service called <code>setUsername</code>, which just mutates <code>this.user</code> then re-emits. Remove the <code>setUser</code> method and add a private method called <code>reemitUser</code> or something that just pushes <code>this.user</code>."}, {"owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "edited": false, "score": 0, "creation_date": 1496185661, "post_id": 44268152, "comment_id": 75554204, "body": "Well, I also do not want to mutate really, this is why I was expecting a suggestion of what you would do instead :) For instance, would you use Object.Assign?"}], "answers": [{"comments": [{"owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "edited": false, "score": 0, "creation_date": 1496270910, "post_id": 44295659, "comment_id": 75597923, "body": "Oh wow, thank you, but if I have a <code>user</code> with 15 fields, that becomes a bit lengthy!"}, {"owner": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "reply_to_user": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "edited": false, "score": 0, "creation_date": 1496271284, "post_id": 44295659, "comment_id": 75598007, "body": "You are not required to create a separate subject for each field. You can create only one Subject for all of them by parametrizing field (pass it as the parameter) or you can create separate Subjects for each event. Just do whatever better for your case"}], "tags": [], "owner": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "is_accepted": true, "score": 0, "last_activity_date": 1496269833, "creation_date": 1496269833, "answer_id": 44295659, "question_id": 44268152, "link": "https://stackoverflow.com/questions/44268152/correctly-mutating-behaviorsubject-object/44295659#44295659", "title": "Correctly Mutating BehaviorSubject Object", "body": "<p>You can model your state as <code>scan</code> of events. Each event will generate new state from previous (without mutation). </p>\n\n<p>Take a look at this example - <a href=\"https://stackoverflow.com/questions/41268671/rxjs-observe-an-object/41270535#41270535\">RxJS observe an object</a></p>\n"}], "owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1189, "favorite_count": 0, "accepted_answer_id": 44295659, "answer_count": 1, "score": 0, "last_activity_date": 1496269833, "creation_date": 1496164284, "last_edit_date": 1496178559, "question_id": 44268152, "link": "https://stackoverflow.com/questions/44268152/correctly-mutating-behaviorsubject-object", "title": "Correctly Mutating BehaviorSubject Object", "body": "<p>This is a part of my Angular Service:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private user = new User();\r\nprivate user$ = new BehaviorSubject &lt; User &gt; (this.user);\r\n\r\npublic getUser(): Observable &lt; User &gt; {\r\n  return this.user$.asObservable().share();\r\n}\r\n\r\npublic setUser(user: User) {\r\n  this.user$.next(user);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What's the proper way to change only one field/property of <code>user</code> and reemitting the whole object again?</p>\n"}, {"tags": ["html", "angular", "validation", "typescript", "angular-validation"], "answers": [{"tags": [], "owner": {"reputation": 1030, "user_id": 7088500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R80VM.jpg?s=128&g=1", "display_name": "skm", "link": "https://stackoverflow.com/users/7088500/skm"}, "is_accepted": true, "score": 0, "last_activity_date": 1496167261, "last_edit_date": 1496167261, "creation_date": 1496165082, "answer_id": 44268356, "question_id": 44268092, "link": "https://stackoverflow.com/questions/44268092/errors-when-i-try-to-validate-input-in-angular2/44268356#44268356", "title": "Errors when I try to validate input in Angular2", "body": "<p>Use the name of input field instead of <code>v</code>, like: <code>*ngIf=\"tileNameInput.errors.required\"</code></p>\n"}], "owner": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 44268356, "answer_count": 1, "score": 0, "last_activity_date": 1496167261, "creation_date": 1496164084, "question_id": 44268092, "link": "https://stackoverflow.com/questions/44268092/errors-when-i-try-to-validate-input-in-angular2", "title": "Errors when I try to validate input in Angular2", "body": "<p>I am trying to validate input</p>\n\n<pre><code>    &lt;md-input-container class=\"name-input\"&gt;\n                &lt;input type=\"text\" mdInput [(ngModel)]=\"tileName\"  #tileNameInput=\"ngModel\" \n                      id=\"tileNameInput\" name=\"tileNameInput\" \n                      required placeholder=\"{{ 'Name' | translate }}\"/&gt;\n                &lt;md-error *ngIf=\"v.errors.required\"&gt;Tile Name is required&lt;/md-error&gt;\n            &lt;/md-input-container&gt;\n</code></pre>\n\n<p>and I got error:</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'errors' of undefined\n          at Object.eval [as updateDirectives] (HeaderComponent.html:104)\n          at Object.debugUpdateDirectives [as updateDirectives] (core.es5.js:12784)\n          at checkAndUpdateView (core.es5.js:12122)\n          at callViewAction (core.es5.js:12485)\n          at execEmbeddedViewsAction (core.es5.js:12443)\n          at checkAndUpdateView (core.es5.js:12123)\n          at callViewAction (core.es5.js:12485)\n          at execComponentViewsAction (core.es5.js:12417)\n          at checkAndUpdateView (core.es5.js:12128)\n          at callViewAction (core.es5.js:12485)</p>\n</blockquote>\n\n<p>Can somebody helps me?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 8037514, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae2d09d2fc686cb47fcfcc23634ee51?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8037514/john"}, "edited": false, "score": 0, "creation_date": 1496162756, "post_id": 44267623, "comment_id": 75543563, "body": "Almost working, only problem is item 1 and item 2 returns id of 1.  When click the 4th button it also returns id of 3."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 197, "user_id": 8037514, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae2d09d2fc686cb47fcfcc23634ee51?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8037514/john"}, "edited": false, "score": 0, "creation_date": 1496162932, "post_id": 44267623, "comment_id": 75543656, "body": "@John index starts from 0, so you can increment it by 1 :-)"}, {"owner": {"reputation": 197, "user_id": 8037514, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae2d09d2fc686cb47fcfcc23634ee51?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8037514/john"}, "edited": false, "score": 2, "creation_date": 1496163027, "post_id": 44267623, "comment_id": 75543715, "body": "That should have been obvious, thanks for the help, works great."}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 2, "last_activity_date": 1496162252, "creation_date": 1496162252, "answer_id": 44267623, "question_id": 44267526, "link": "https://stackoverflow.com/questions/44267526/angular-displaying-correct-array-item-in-buttons/44267623#44267623", "title": "Angular displaying correct array item in buttons", "body": "<p>You can use the built-in index property of <code>*ngFor</code>:</p>\n\n<pre><code>&lt;div class=\"grid grid-pad\"&gt;\n   &lt;a *ngFor=\"let hero of heroes; let i = index;\" [routerLink]=\"['/detail', hero.id]\"&gt; \n    &lt;button style =\"min-height: 70px\" (click)=\"gotoClick(i)\"&gt;{{hero?.name}&lt;/button&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Documentation: <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html</a></p>\n"}], "owner": {"reputation": 197, "user_id": 8037514, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae2d09d2fc686cb47fcfcc23634ee51?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8037514/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 44267623, "answer_count": 1, "score": 1, "last_activity_date": 1496163051, "creation_date": 1496161909, "last_edit_date": 1496163051, "question_id": 44267526, "link": "https://stackoverflow.com/questions/44267526/angular-displaying-correct-array-item-in-buttons", "title": "Angular displaying correct array item in buttons", "body": "<p>I have an array with 4 items, and 4 buttons on a dashboard.  I want to assign item1 with button1, and item2 with button2 etc.  Right now it displays 4 buttons for each \"hero\" for a total of 16 buttons.  I tried <code>{{hero.name[2]}}</code> and similar things but that just grabs letters and not the actual array items.  I would appreciate any help.</p>\n\n<p>dashboard.component.html</p>\n\n<pre><code>&lt;h3&gt;Calibrations&lt;/h3&gt;\n&lt;div class=\"grid grid-pad\"&gt;\n   &lt;a *ngFor=\"let hero of heroes\" [routerLink]=\"['/detail', hero.id]\"&gt; \n    &lt;button style =\"min-height: 70px\" (click)=\"gotoClick(1)\"&gt;{{hero.name}}&lt;/button&gt;\n    &lt;button style =\"min-height: 70px\" (click)=\"gotoClick(2)\"&gt;{{hero.name}}&lt;/button&gt;\n    &lt;button style =\"min-height: 70px\" (click)=\"gotoClick(3)\"&gt;{{hero.name}}&lt;/button&gt;\n    &lt;button style =\"min-height: 70px\" (click)=\"gotoClick(4)\"&gt;{{hero.name}}&lt;/button&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>dashboard.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Hero } from '../hero.class';\nimport { HeroService } from '../hero.service';\nimport { StepService } from '../step.service';\n@Component({\n  moduleId: module.id,\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  heroes: Hero[] = [];\n\n  constructor(private heroService: HeroService, private _stepService: StepService, private _teststepService: StepService) { }\n\n  ngOnInit() {\n    this.heroService.getHeroes().subscribe(heroes =&gt; this.heroes = heroes);\n  }\n\n  private test: number;\n  gotoClick(value: number){\n    this._stepService.setTest(value);\n    this._teststepService.apiURL();\n  }\n}\n</code></pre>\n\n<p>hero.service.ts</p>\n\n<pre><code>import { Injectable }    from '@angular/core';\nimport { Headers, Http, Response } from '@angular/http';\nimport { Hero } from './hero.class';\nimport { Observable } from \"rxjs/Rx\";\n\n@Injectable()\nexport class HeroService {\n\n  private headers = new Headers({'Content-Type': 'application/json'});\n  private heroesUrl = 'api/heroes';  // URL to web api\n\n  constructor(private http: Http){ }\n\n  getHeroes(): Observable&lt;Hero[]&gt; {\n    return this.http.get(this.heroesUrl)\n               .map(response =&gt; response.json().data as Hero[]);\n  }\n\n  getHero(id: number): Observable&lt;Hero&gt; {\n    const url = `${this.heroesUrl}/${id}`;\n    return this.http.get(url)\n      .map(response =&gt; response.json().data as Hero);\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-cli", "tslint"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496160656, "post_id": 44267094, "comment_id": 75542312, "body": "use if else instead of switch?"}, {"owner": {"reputation": 4630, "user_id": 1901646, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8c54ea6e2db0b651d3e2ae69e1d18786?s=128&d=identicon&r=PG&f=1", "display_name": "MHOOS", "link": "https://stackoverflow.com/users/1901646/mhoos"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496160725, "post_id": 44267094, "comment_id": 75542367, "body": "Would you suggest the same thing if I had 100 conditions to check?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496160792, "post_id": 44267094, "comment_id": 75542403, "body": "I would actually suggest you refactor the inner for loop into something else. :) A method call, or maybe map over the errors array to create the list of error messages. :)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 2, "creation_date": 1496162181, "post_id": 44267094, "comment_id": 75543215, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1963102/what-does-the-jslint-error-body-of-a-for-in-should-be-wrapped-in-an-if-statemen\">What does the JSLint error &#39;body of a for in should be wrapped in an if statement&#39; mean?</a>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496162217, "post_id": 44267094, "comment_id": 75543234, "body": "check out that question, it&#39;s for JS but the same applies. It has nothing to do with the switch statement, but with the for .. in :)"}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1496162998, "post_id": 44267094, "comment_id": 75543695, "body": "@toskv I think the point is that the rule says that an <code>if</code> statement should come after the <code>for...in</code>, and a switch statement can be seen as a kind of <code>if</code> statement, yet it doesn&#39;t resolve the error."}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1496163208, "post_id": 44267094, "comment_id": 75543806, "body": "I believe the point of the rule is to filter out any properties that come from the prototype chain of the object accidentally. i.e. it expects <code>if (obj.hasOwnProperty(propName))</code>. Right now you cannot be sure that <code>required</code> exists directly on <code>state.errors</code> object or from a prototype of it."}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1496164001, "post_id": 44267094, "comment_id": 75544214, "body": "@Saravana you are correct - that is the intention of the rule. But you can literally have any <code>if</code> statement and the error will go away - it doesn&#39;t check specifically for <code>hasOwnProperty</code>. So in that case, a <code>switch</code> statement could be seen as similar to any <code>if</code> statement. The <code>case</code> statements could even be targeting only the property names known not to be on the prototype."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1496166433, "post_id": 44267094, "comment_id": 75545421, "body": "@FrankModica you are right, maybe the switch statement is not really used for checking if an object has a property. :-/ Anyway I added an answer that gets by this rule by not using for .. in at all. :)"}], "answers": [{"tags": [], "owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "is_accepted": true, "score": 47, "last_activity_date": 1496166674, "last_edit_date": 1496166674, "creation_date": 1496162354, "answer_id": 44267650, "question_id": 44267094, "link": "https://stackoverflow.com/questions/44267094/tslint-complaining-statements-must-be-filtered-with-an-if-statement-when-using/44267650#44267650", "title": "tslint complaining &quot;statements must be filtered with an if statement&quot; when using switch", "body": "<p>This made me curious, so I checked out the <a href=\"https://github.com/palantir/tslint/blob/master/src/rules/forinRule.ts\" rel=\"noreferrer\">TSlint source code</a> for this rule. It has a function called <code>isFiltered</code> which seems to only check for <code>ts.SyntaxKind.IfStatement</code>, not for <code>ts.SyntaxKind.SwitchStatement</code>.</p>\n\n<pre><code>function isFiltered({statements}: ts.Block): boolean {\n    switch (statements.length) {\n        case 0: return true;\n        case 1: return statements[0].kind === ts.SyntaxKind.IfStatement;\n        default:\n            return statements[0].kind === ts.SyntaxKind.IfStatement &amp;&amp; nodeIsContinue((statements[0] as ts.IfStatement).thenStatement);\n    }\n\n}\n</code></pre>\n\n<p>So unless you want to convert your object to an array, you'll need to use a fix from the link you provided. Either <code>Object.keys</code>, or an <code>if</code> statement:</p>\n\n<pre><code>    for (const errorName in state.errors) {\n      if (state.errors.hasOwnProperty(errorName)) {\n        switch (errorName) {\n</code></pre>\n\n<p>The interesting thing is that you can have any kind of <code>if</code> statement and the error will go away. There is no check to see if you are calling <code>hasOwnProperty</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 15, "last_activity_date": 1496166403, "creation_date": 1496166403, "answer_id": 44268702, "question_id": 44267094, "link": "https://stackoverflow.com/questions/44267094/tslint-complaining-statements-must-be-filtered-with-an-if-statement-when-using/44268702#44268702", "title": "tslint complaining &quot;statements must be filtered with an if statement&quot; when using switch", "body": "<p>The rule is meant to prevent you from accessing properties defined on the object prototype when using <strong>for .. in</strong>. </p>\n\n<p>You can however refactor the code to just not use that, and make it easier to maintain and develop as well.</p>\n\n<p>An example would be this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ErrorMessageFactory {\n  (thing: string, state?): string\n}\n\ntype Errors = 'required' | 'minlength' | 'pattern' | 'validateCardNumberWithAlgo'\n\nlet errorFactory: {[e in Errors]: ErrorMessageFactory} = {\n  required: (thing) =&gt; `You must enter a ${thing}`,\n  minlength: (thing, state) =&gt; `A ${thing} must be at least ${state.errors['minlength'].requiredLength}characters`,\n  pattern: (thing) =&gt; `The ${thing} contains illegal characters`,\n  validateCardNumberWithAlgo: (thing) =&gt; `Card doesnt pass algo`\n}\n\n\n\nfunction getErrorMessage(state: any, thingName?: string) {\n  if (state.errors) {\n    return state.errors.map((error) =&gt; errorFactory[error](thingName, state));\n  }\n  return [];\n}\n</code></pre>\n\n\n\n<p>You can see a working snippet in the playground <a href=\"http://www.typescriptlang.org/play/#src=interface%20ErrorMessageFactory%20%7B%0D%0A%20%20(thing%3A%20string%2C%20state%3F)%3A%20string%0D%0A%7D%0D%0A%0D%0Atype%20Errors%20%3D%20&#39;required&#39;%20%7C%20&#39;minlength&#39;%20%7C%20&#39;pattern&#39;%20%7C%20&#39;validateCardNumberWithAlgo&#39;%0D%0A%0D%0Alet%20errorFactory%3A%20%7B%5Be%20in%20Errors%5D%3A%20ErrorMessageFactory%7D%20%3D%20%7B%0D%0A%20%20required%3A%20(thing)%20%3D%3E%20%60You%20must%20enter%20a%20%24%7Bthing%7D%60%2C%0D%0A%20%20minlength%3A%20(thing%2C%20state)%20%3D%3E%20%60A%20%24%7Bthing%7D%20must%20be%20at%20least%20%24%7Bstate.errors%5B&#39;minlength&#39;%5D.requiredLength%7Dcharacters%60%2C%0D%0A%20%20pattern%3A%20(thing)%20%3D%3E%20%60The%20%24%7Bthing%7D%20contains%20illegal%20characters%60%2C%0D%0A%20%20validateCardNumberWithAlgo%3A%20(thing)%20%3D%3E%20%60Card%20doesnt%20pass%20algo%60%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0Afunction%20getErrorMessage(state%3A%20any%2C%20thingName%3F%3A%20string)%20%7B%0D%0A%20%20if%20(state.errors)%20%7B%0D%0A%20%20%20%20return%20state.errors.map((error)%20%3D%3E%20errorFactory%5Berror%5D(thingName%2C%20state))%3B%0D%0A%20%20%7D%0D%0A%20%20return%20%5B%5D%3B%0D%0A%7D%0D%0A%0D%0A\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 4630, "user_id": 1901646, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8c54ea6e2db0b651d3e2ae69e1d18786?s=128&d=identicon&r=PG&f=1", "display_name": "MHOOS", "link": "https://stackoverflow.com/users/1901646/mhoos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44994, "favorite_count": 1, "accepted_answer_id": 44267650, "answer_count": 2, "score": 36, "last_activity_date": 1501451603, "creation_date": 1496160534, "last_edit_date": 1501451603, "question_id": 44267094, "link": "https://stackoverflow.com/questions/44267094/tslint-complaining-statements-must-be-filtered-with-an-if-statement-when-using", "title": "tslint complaining &quot;statements must be filtered with an if statement&quot; when using switch", "body": "<p>Lets say I have the following method:</p>\n\n<pre><code>getErrorMessage(state: any, thingName?: string) {\n    const thing: string = state.path || thingName;\n    const messages: string[] = [];\n    if (state.errors) {\n        for (const errorName in state.errors) {\n            switch (errorName) {\n                case 'required':\n                    messages.push(`You must enter a ${thing}`);\n                    break;\n                case 'minlength':\n                    messages.push(`A ${thing} must be at least ${state.errors['minlength'].requiredLength}characters`);\n                    break;\n                case 'pattern':\n                    messages.push(`The ${thing} contains illegal characters`);\n                    break;\n                case 'validateCardNumberWithAlgo':\n                    messages.push(`Card doesnt pass algo`);\n                    break;\n            }\n        }\n    }\n    return messages;\n}\n</code></pre>\n\n<p>when I run </p>\n\n<pre><code>ng lint\n</code></pre>\n\n<p>I get the following error :</p>\n\n<p><em>for (... in ...) statements must be filtered with an if statement</em></p>\n\n<p>Having a look at similar <a href=\"https://stackoverflow.com/questions/40770425/tslint-codelyzer-ng-lint-error-for-in-statements-must-be-filtere\">question</a> I don't think that answer would be applicable to my situation. After all switch statement sits in the category of if-else-if ladder.</p>\n\n<p>tslint should consider switch statement as form of if statement but it doesn't?!</p>\n"}, {"tags": ["typescript", "optional"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496160498, "post_id": 44266974, "comment_id": 75542217, "body": "While it&#39;s a nice discussion subject the discussions are going to be opinion based and as such SO is not the forum to hold such a conversation. :)"}, {"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1496160892, "post_id": 44266974, "comment_id": 75542482, "body": "the function <code>map</code> you mentioned can be defined like this : <code>map&lt;T,U&gt;(val: T|null|undefined,f : T -&gt; U): U|null|undefined</code> and implementation is easy, the case is similar for <code>mapOr</code> , you can even alias <code>T|null|undefined</code> as <code>Option&lt;T&gt;</code> I think"}, {"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1496160980, "post_id": 44266974, "comment_id": 75542529, "body": "the reason those languages have these types is because they don&#39;t have union types but tagged unions(yes these two are different)"}, {"owner": {"reputation": 583, "user_id": 4911362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d949c692fc37fc9fc30d01895ae659a4?s=128&d=identicon&r=PG&f=1", "display_name": "anty", "link": "https://stackoverflow.com/users/4911362/anty"}, "reply_to_user": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1496161002, "post_id": 44266974, "comment_id": 75542550, "body": "@niceman I agree this would be easy to implement (even though I am not sure I agree with the implementation you provide) but I was wondering why nobody seems to have done this"}, {"owner": {"reputation": 583, "user_id": 4911362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d949c692fc37fc9fc30d01895ae659a4?s=128&d=identicon&r=PG&f=1", "display_name": "anty", "link": "https://stackoverflow.com/users/4911362/anty"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1496161116, "post_id": 44266974, "comment_id": 75542614, "body": "@toskv I could take this elsewhere, of course, sorry. But of course it is going to be opinion-based, I don&#39;t think this question stands out from others in that respect."}, {"owner": {"reputation": 583, "user_id": 4911362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d949c692fc37fc9fc30d01895ae659a4?s=128&d=identicon&r=PG&f=1", "display_name": "anty", "link": "https://stackoverflow.com/users/4911362/anty"}, "reply_to_user": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 2, "creation_date": 1496162411, "post_id": 44266974, "comment_id": 75543356, "body": "@niceman do I understand correctly that you suggest union types are an appropriate replacement of an Option type? I don&#39;t think so. Sure, I can declare a value as <code>Foo | undefined</code> but that doesn&#39;t allow me to write in a fluent API on top of it. If <code>x</code> is of type <code>Foo | undefined</code> it may be <code>undefined</code> and thus <code>x.bar()</code> will fail miserably."}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1496169130, "post_id": 44266974, "comment_id": 75546944, "body": "@anty I don&#39;t see how you&#39;re missing out on anything in TypeScript, other than maybe unboxing syntax in match expressions? Can you post an example of code you would like to work?"}, {"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1496241359, "post_id": 44266974, "comment_id": 75582060, "body": "I was missing it so I made my own lib for it (and a few others): <a href=\"https://github.com/bgrieder/MM\" rel=\"nofollow noreferrer\">github.com/bgrieder/MM</a>   (MIT)"}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": true, "score": 12, "last_activity_date": 1574141671, "last_edit_date": 1574141671, "creation_date": 1496241514, "answer_id": 44287708, "question_id": 44266974, "link": "https://stackoverflow.com/questions/44266974/would-an-option-or-optional-type-optiont-make-sense-in-typescript/44287708#44287708", "title": "Would an Option or Optional type (Option&lt;T&gt;) make sense in TypeScript?", "body": "<p><strong>EDIT 2019</strong></p>\n\n<p>Check <a href=\"https://github.com/gcanti/fp-ts\" rel=\"nofollow noreferrer\">fp-ts</a></p>\n\n<p><strong>Original Answer</strong></p>\n\n<p>I was missing it coming from Scala (and some Haskell) so I made my own lib for it (and a couple others): <a href=\"http://github.com/bgrieder/MM\" rel=\"nofollow noreferrer\">MM</a> (MIT license)</p>\n\n<p>Feel free to hack, fork etc...; it is MIT licensed</p>\n"}], "owner": {"reputation": 583, "user_id": 4911362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d949c692fc37fc9fc30d01895ae659a4?s=128&d=identicon&r=PG&f=1", "display_name": "anty", "link": "https://stackoverflow.com/users/4911362/anty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6835, "favorite_count": 3, "accepted_answer_id": 44287708, "answer_count": 1, "score": 14, "last_activity_date": 1574141671, "creation_date": 1496160169, "last_edit_date": 1496232607, "question_id": 44266974, "link": "https://stackoverflow.com/questions/44266974/would-an-option-or-optional-type-optiont-make-sense-in-typescript", "title": "Would an Option or Optional type (Option&lt;T&gt;) make sense in TypeScript?", "body": "<p>Languages like Haskell, Rust, among others, offer a <a href=\"https://hackage.haskell.org/package/base-4.9.1.0/docs/Prelude.html#t:Maybe\" rel=\"noreferrer\"><code>Maybe</code></a> or <a href=\"https://doc.rust-lang.org/std/option/enum.Option.html\" rel=\"noreferrer\"><code>Option</code></a> type. Even in Java, there is a <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/Optional.html\" rel=\"noreferrer\"><code>Optional</code></a> type nowadays.</p>\n\n<p>For simplicity, I will call this type an 'Option type' in the remaining question. '<em>Optional</em> type' is apparently often used to describe situations where providing type annotations is optional.</p>\n\n<p>I am curious about the following: does an Option type make sense in a language like TypeScript? The advantages of the Option type are quite convincing in other languages and I find myself missing the type when programming in TypeScript.</p>\n\n<p>Basically, the type system forces you to explicitly unwrap any value that may be inside an Option value. Yes, TypeScript's strict null-checking can also accomplish that, however, working with the Option type offers you an (in my opinion) much nicer way to handle potential <code>None</code> values by providing <code>map(f: T -&gt; U): Option&lt;U&gt;</code> and <code>mapOr(f: T -&gt; U, or: U): Option&lt;U&gt;</code> methods, etc.</p>\n\n<p>For instance, I would like something like the following code to work:</p>\n\n<pre><code>interface Foo {\n    member: Option&lt;string&gt;\n}\nconst opt: Option&lt;Foo&gt; = // ... some initialization\nconst memberLength: number = opt\n    .map(x =&gt; x.member) // None if x is None, else Some(...)\n    .map(x =&gt; x.length) // None if x.member is None, else Some(x.length)\n    .unwrapOrElse(() =&gt; 0);\n</code></pre>\n\n<p>This is, of course a very simple example, where using an Option type is a bit over-engineered. It should give a basic idea, though.</p>\n\n<p>I currently don't see a reason why this would be a bad idea, but no one seems to have implemented it, as far as I can tell. Would this have a serious performance impact? Or are there any other issues I can't see that make this non-viable?</p>\n\n<p><strong>Note:</strong> I am not (mainly) asking for how to implement this (although that is also an interesting topic -- but I have ideas for that). My main concern is finding out why no one seems to be using something like this yet.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 1, "user_id": 8087290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cce783f574644df8d368cac1f6d34c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica M.", "link": "https://stackoverflow.com/users/8087290/jessica-m"}, "edited": false, "score": 0, "creation_date": 1496222055, "post_id": 44266596, "comment_id": 75567827, "body": "@JessicaM. - glad to help. Please consider marking it as the answer using the check mark on the left side of the answer."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1496159026, "creation_date": 1496159026, "answer_id": 44266596, "question_id": 44266462, "link": "https://stackoverflow.com/questions/44266462/how-to-call-a-static-method-of-class/44266596#44266596", "title": "How to call a static method of class?", "body": "<p>It is because you calling the static method on an instance, you need to call it on the type as static members are accessed at the type level.</p>\n\n<pre><code>expect(StringExtensions.firstToLowerCase(argument)).toBe('argumenTas');\n</code></pre>\n\n<p>The current code inside of the <code>beforeEach</code> and <code>afterEach</code> are also not necessary.</p>\n\n<p>This question is general to typescript and not specific to any framework.</p>\n"}], "owner": {"reputation": 1, "user_id": 8087290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cce783f574644df8d368cac1f6d34c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica M.", "link": "https://stackoverflow.com/users/8087290/jessica-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496159326, "creation_date": 1496158609, "last_edit_date": 1496159326, "question_id": 44266462, "link": "https://stackoverflow.com/questions/44266462/how-to-call-a-static-method-of-class", "title": "How to call a static method of class?", "body": "<p>I am currently working on an Angular4 Web application and I am trying to write a unit test for a class and pipes that have only public static methods. By now I have not found any solution to do that. Anything that works for components, service etc. does not work here.</p>\n\n<p>Example: Class</p>\n\n<pre><code>export class StringExtensions {\n    public static firstToLowerCase = ( argument: string ): string =&gt; {\n        return `${ argument.substr( 0, 1 ).toLowerCase() }${ argument.substr( 1 ) }`;\n    }\n}\n</code></pre>\n\n<p>Example: not working Unittest</p>\n\n<pre><code>import {StringExtensions} from './string-extensions';\n\ndescribe('StringExtensions', () =&gt; {\n\n    let classStringExtensions: StringExtensions;\n    const argument: string = 'ArgumenTas';\n\n    beforeEach(() =&gt; {\n        classStringExtensions = new StringExtensions();\n    });\n\n    afterEach(() =&gt; {\n        classStringExtensions = null;\n    });\n\n    it('should ...', () =&gt; {\n        expect(classStringExtensions.firstToLowerCase(argument)).toBe('argumenTas');\n    });\n\n});\n</code></pre>\n\n<p>ErrorMessage:</p>\n\n<pre><code>ERROR in .../string-extensions.spec.ts (17,38): \nProperty 'firstToLowerCase' does not exist on type 'StringExtensions'.\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "timer", "md-select"], "owner": {"reputation": 121, "user_id": 8074979, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d93f302a65b9b9f175d5bfcb80c10fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/8074979/kris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496158437, "creation_date": 1496158437, "question_id": 44266412, "link": "https://stackoverflow.com/questions/44266412/angular-reverse-timer-and-md-select", "title": "Angular reverse timer and md-select", "body": "<p>I want to create cyclic reverse timer and user should be able choose the origin number. In my md-select should be selected value  which equal 10. I tried to resolve this issue by using variable countbut it is associated with the first value selectedTime = 10... I think that need to use counter but do not know how do it right.Or i need to add is set md-select or otherwise associate with the following values selectedTime. How do it??</p>\n\n<pre><code>    import { Component, OnInit } from '@angular/core';\n    import { SimpleTimer } from 'ng2-simple-timer';\n\n    @Component({\n      selector: 'app-main-map',\n      templateUrl: './main-map.component.html',\n      styleUrls: ['./main-map.component.css'],\n\n    })\n    export class MainMapComponent implements OnInit {\n    selectedTime: number = 10;\n// counter: number = this.selectedTime;\n\n up_times = [\n    {value: '999', viewValue: '\u041d\u0435 \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438'},\n    {value: '5', viewValue: '5 sec'},\n    {value: '10', viewValue: '10 sec'},\n    {value: '15', viewValue: '15 sec'},\n    {value: '30', viewValue: '30 sec'},\n    {value: '60', viewValue: '1 min'},\n    {value: '300', viewValue: '5 min'},\n    {value: '600', viewValue: '10 min'},\n  ];\n    constructor(private st: SimpleTimer) { }\n\n  ngOnInit() {\n    this.st.newTimer('1sec',1);\n    this.subscribeTimer0();\n\n  }\n\n  subscribeTimer0() {\n    if (this.selectedTime == 999) {\n      this.st.unsubscribe(this.timer0Id);\n      this.timer0Id = undefined;\n\n    } else {\n\n      this.timer0Id = this.st.subscribe('1sec', e =&gt; this.timer0callback());\n\n    }\n    console.log(this.st.getSubscription());\n\n  }\n\n\n  timer0callback() {\n    this.selectedTime--;\n    if(this.selectedTime == 0){\n      this.selectedTime = selectedTime;\n    }\n  }\n // timer0callback() {\n  //   this.count--;\n  //   if(this.count == 0){\n  //     this.count = selectedTime;\n  //   }\n  // }\n</code></pre>\n\n<p>My html:</p>\n\n<pre><code>&lt;md-select [(ngModel)]=\"selectedTime\" &gt;\n          &lt;md-option *ngFor=\"let up_time of up_times\" [value]=\"up_time.value\"&gt;\n            {{ up_time.viewValue }}\n          &lt;/md-option&gt;\n&lt;/md-select&gt;\n\n&lt;div style=\"top: 13px;position: absolute;left: 127px;\"&gt;{{selectedTime}}&lt;/div&gt;\n&lt;!--&lt;div style=\"top: 13px;position: absolute;left: 127px;\"&gt;{{count}}&lt;/div&gt;--&gt;\n</code></pre>\n"}, {"tags": ["typescript", "lint", "tslint"], "comments": [{"owner": {"reputation": 348, "user_id": 3829264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254f4bf3de5948b0e882610ad1297798?s=128&d=identicon&r=PG", "display_name": "Oleksii Taran", "link": "https://stackoverflow.com/users/3829264/oleksii-taran"}, "edited": false, "score": 3, "creation_date": 1496442912, "post_id": 44265811, "comment_id": 75680468, "body": "Can you show your <code>package.json</code>? Try to downgrade to <code>tslint</code> <code>5.2.0</code>"}, {"owner": {"reputation": 3186, "user_id": 511215, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/0cKx5.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/511215/michael"}, "edited": false, "score": 2, "creation_date": 1496676931, "post_id": 44265811, "comment_id": 75746006, "body": "I think it&#39;s a bug with the latest TSLINT version. Going back to 5.2.0 does fix the issue but other bugs in 5.2.0 stop me from using that version."}], "owner": {"reputation": 5384, "user_id": 595833, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/09722bea359b3afa60ca8738504ca368?s=128&d=identicon&r=PG&f=1", "display_name": "bobbyrne01", "link": "https://stackoverflow.com/users/595833/bobbyrne01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1496156775, "creation_date": 1496156775, "question_id": 44265811, "link": "https://stackoverflow.com/questions/44265811/warning-ts-iswhitespacelike-is-not-a-function-running-tslint", "title": "&#39;Warning: ts.isWhiteSpaceLike is not a function&#39; running tslint?", "body": "<p>Any ideas if this is a bug in <code>tslint</code> or something incorrect with the rules I've defined?</p>\n\n<p>Running <code>tslint</code>:</p>\n\n<pre><code>./node_modules/tslint/bin/tslint -p src/tsconfig.json --type-check src/polyfills.ts \nWarning: ts.isWhiteSpaceLike is not a function\n</code></pre>\n\n<p><code>polyfill.ts</code></p>\n\n<pre><code>import 'core-js/es6';\nimport 'core-js/es7/reflect';\nrequire('zone.js/dist/zone');\nconst PROPERTY_KEY = 'stackTraceLimit';\nError[PROPERTY_KEY] = Infinity;\nrequire('zone.js/dist/long-stack-trace-zone');\n</code></pre>\n\n<p><code>tslint.json</code>:</p>\n\n<pre><code>{\n  \"rules\": {\n    \"class-name\": true,\n    \"comment-format\": [true, \"check-space\"],\n    \"curly\": true,\n    \"eofline\": true,\n    \"forin\": true,\n    \"indent\": [false, \"spaces\"],\n    \"label-position\": true,\n    \"max-line-length\": [true, 200],\n    \"member-access\": true,\n    \"member-ordering\": [true,\n      \"public-before-private\",\n      \"static-before-instance\",\n      \"variables-before-functions\"\n    ],\n    \"no-arg\": true,\n    \"no-bitwise\": true,\n    \"no-console\": [true,\n      \"debug\",\n      \"info\",\n      \"time\",\n      \"timeEnd\",\n      \"trace\"\n    ],\n    \"no-construct\": true,\n    \"no-debugger\": true,\n    \"no-duplicate-variable\": true,\n    \"no-empty\": true,\n    \"no-eval\": true,\n    \"no-inferrable-types\": true,\n    \"no-shadowed-variable\": true,\n    \"no-string-literal\": true,\n    \"no-switch-case-fall-through\": true,\n    \"no-trailing-whitespace\": true,\n    \"no-unused-expression\": true,\n    \"no-unused-variable\": true,\n    \"no-use-before-declare\": true,\n    \"no-var-keyword\": true,\n    \"object-literal-sort-keys\": true,\n    \"one-line\": [true,\n      \"check-open-brace\",\n      \"check-catch\",\n      \"check-else\",\n      \"check-finally\",\n      \"check-whitespace\"\n    ],\n    \"quotemark\": [false, \"double\", \"avoid-escape\"],\n    \"radix\": true,\n    \"semicolon\": [true, \"always\"],\n    \"trailing-comma\": [true, {\n      \"singleline\": \"never\",\n      \"multiline\": \"never\"\n    }],\n    \"triple-equals\": [true, \"allow-null-check\"],\n    \"typedef-whitespace\": [true, {\n      \"call-signature\": \"nospace\",\n      \"index-signature\": \"nospace\",\n      \"parameter\": \"nospace\",\n      \"property-declaration\": \"nospace\",\n      \"variable-declaration\": \"nospace\"\n    }],\n    \"variable-name\": false,\n    \"whitespace\": [true,\n      \"check-branch\",\n      \"check-decl\",\n      \"check-operator\",\n      \"check-separator\",\n      \"check-type\"\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1496156560, "post_id": 44265717, "comment_id": 75539615, "body": "What &quot;does not work&quot;? Do you get an error? Where? What environment do you run the code in? What does the transpiled code look like?"}, {"owner": {"reputation": 21, "user_id": 6453547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c567179af4bc517515f17ebcf06d5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Ivanov", "link": "https://stackoverflow.com/users/6453547/ivan-ivanov"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1496156700, "post_id": 44265717, "comment_id": 75539726, "body": "No error . Like i stated nothing gets output in the console."}, {"owner": {"reputation": 64401, "user_id": 1823841, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DB73b.jpg?s=128&g=1", "display_name": "pala\u0455\u043d", "link": "https://stackoverflow.com/users/1823841/pala%d1%95%d0%bd"}, "edited": false, "score": 0, "creation_date": 1496160725, "post_id": 44265717, "comment_id": 75542368, "body": "try this solution: <a href=\"https://stackoverflow.com/a/39418293/1823841\">stackoverflow.com/a/39418293/1823841</a>"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1496162175, "post_id": 44265717, "comment_id": 75543212, "body": "@IvanIvanov Are you sure you are targeting <code>es6</code>? What version of TypeScript are you using?"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1496167617, "post_id": 44265717, "comment_id": 75546074, "body": "The error you are getting doesn&#39;t seem to have anything to do with <code>for&#47;of</code>."}, {"owner": {"reputation": 21, "user_id": 6453547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c567179af4bc517515f17ebcf06d5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Ivanov", "link": "https://stackoverflow.com/users/6453547/ivan-ivanov"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1496226715, "post_id": 44265717, "comment_id": 75571256, "body": "@Saravana I am using Typescript Version 2.3.4  and I am targeting like : &quot;target&quot; : &quot;es6&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 2202, "user_id": 3018219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c12a0a5d5df557e1cca70a91d7157b8?s=128&d=identicon&r=PG&f=1", "display_name": "UXDart", "link": "https://stackoverflow.com/users/3018219/uxdart"}, "is_accepted": false, "score": -1, "last_activity_date": 1496158632, "creation_date": 1496158632, "answer_id": 44266470, "question_id": 44265717, "link": "https://stackoverflow.com/questions/44265717/for-of-does-not-work-with-map/44266470#44266470", "title": "for..of does not work with Map", "body": "<p>use this:</p>\n\n<pre><code>map.forEach((value) =&gt; {\n  console.log(value) ;\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6453547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c567179af4bc517515f17ebcf06d5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Ivanov", "link": "https://stackoverflow.com/users/6453547/ivan-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1496229119, "creation_date": 1496229119, "answer_id": 44283237, "question_id": 44265717, "link": "https://stackoverflow.com/questions/44265717/for-of-does-not-work-with-map/44283237#44283237", "title": "for..of does not work with Map", "body": "<p>It seems that  tsc cannot find my tsconfig.json. When I use :  <code>tsc -t ES6 app.ts</code> Transpilation went perfectly fine. </p>\n"}, {"tags": [], "owner": {"reputation": 757, "user_id": 6809912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ff8BO3psIA0/AAAAAAAAAAI/AAAAAAAAAPs/1aToElwhQXw/photo.jpg?sz=128", "display_name": "Toufiq", "link": "https://stackoverflow.com/users/6809912/toufiq"}, "is_accepted": false, "score": 0, "last_activity_date": 1546846557, "creation_date": 1546846557, "answer_id": 54070225, "question_id": 44265717, "link": "https://stackoverflow.com/questions/44265717/for-of-does-not-work-with-map/54070225#54070225", "title": "for..of does not work with Map", "body": "<p>can you change your <strong>tsconfig.json</strong> to the conf below and try again?</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\", \n    \"module\": \"commonjs\",\n    \"lib\": [\"es2015\", \"dom\"],              \n    \"sourceMap\": true,\n    \"noImplicitAny\" : false \n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6453547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c567179af4bc517515f17ebcf06d5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Ivanov", "link": "https://stackoverflow.com/users/6453547/ivan-ivanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1546846557, "creation_date": 1496156451, "last_edit_date": 1496229336, "question_id": 44265717, "link": "https://stackoverflow.com/questions/44265717/for-of-does-not-work-with-map", "title": "for..of does not work with Map", "body": "<p>I want to loop through the map but nothing gets output in the console.</p>\n\n<p>To be more precise I get following error in the transpiler: </p>\n\n<blockquote>\n  <p>error TS2304: Cannot find name 'Map'.  </p>\n</blockquote>\n\n<pre><code> let map = new Map([\n  [\"A\", 1],\n  [\"B\", 2],\n  [\"C\", 3],\n]);\n\nfor (let value of map.values()){\n  console.log(value) ;\n}\n</code></pre>\n\n<p>tsconfig.json : </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\" : \"commonjs\",\n    \"target\" : \"es6\" ,\n    \"noImplicitAny\" : false ,\n    \"sourceMap\" : false\n  }\n}\n</code></pre>\n\n<p>Suggestions ? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-directive"], "comments": [{"owner": {"reputation": 126505, "user_id": 1668533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQbPb.jpg?s=128&g=1", "display_name": "Satpal", "link": "https://stackoverflow.com/users/1668533/satpal"}, "edited": false, "score": 1, "creation_date": 1496156320, "post_id": 44265641, "comment_id": 75539444, "body": "How you are populating <code>services</code>? and are you updating it?"}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 126505, "user_id": 1668533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQbPb.jpg?s=128&g=1", "display_name": "Satpal", "link": "https://stackoverflow.com/users/1668533/satpal"}, "edited": false, "score": 0, "creation_date": 1496156792, "post_id": 44265641, "comment_id": 75539808, "body": "I&#39;m hitting rest url and getting response, I&#39;m putting the response JS object."}, {"owner": {"reputation": 3652, "user_id": 3455035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bF5qd.jpg?s=128&g=1", "display_name": "anoop", "link": "https://stackoverflow.com/users/3455035/anoop"}, "edited": false, "score": 1, "creation_date": 1496156867, "post_id": 44265641, "comment_id": 75539859, "body": "empty <code>services array</code>, before writing new data to it in rest url response."}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 126505, "user_id": 1668533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQbPb.jpg?s=128&g=1", "display_name": "Satpal", "link": "https://stackoverflow.com/users/1668533/satpal"}, "edited": false, "score": 0, "creation_date": 1496157474, "post_id": 44265641, "comment_id": 75540258, "body": "@Satpal Any solutions from your end?"}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 3652, "user_id": 3455035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bF5qd.jpg?s=128&g=1", "display_name": "anoop", "link": "https://stackoverflow.com/users/3455035/anoop"}, "edited": false, "score": 0, "creation_date": 1496157861, "post_id": 44265641, "comment_id": 75540524, "body": "@anoop If I even empty the js object the previous data won&#39;t be overwritten!"}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 3652, "user_id": 3455035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bF5qd.jpg?s=128&g=1", "display_name": "anoop", "link": "https://stackoverflow.com/users/3455035/anoop"}, "edited": false, "score": 0, "creation_date": 1496158283, "post_id": 44265641, "comment_id": 75540832, "body": "@anoop Here the problem is data is getting appended! If it generates a table it will append to the previously generate table!"}, {"owner": {"reputation": 3652, "user_id": 3455035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bF5qd.jpg?s=128&g=1", "display_name": "anoop", "link": "https://stackoverflow.com/users/3455035/anoop"}, "edited": false, "score": 0, "creation_date": 1496220859, "post_id": 44265641, "comment_id": 75566986, "body": "@RaghavendraSS : where you set data of <code>services</code>,? if it is  <code>this.setValues()</code>, then post its code too."}, {"owner": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "edited": false, "score": 0, "creation_date": 1496302410, "post_id": 44265641, "comment_id": 75607732, "body": "Can you rephrase what you want to say? The title says &quot;.. overwrite table row instead of appending..&quot; and in one of your comments you said &quot;Here the problem is data is getting appended!&quot;"}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "edited": false, "score": 0, "creation_date": 1496311248, "post_id": 44265641, "comment_id": 75614010, "body": "@brijmcq Actually from the above code i&#39;m getting services object and suppose there are 4 objects there will be 4 rows in my table, if i click get details again, the new data with 4 or 3 objects will be appended to the already displayed data! so on 2nd click there are 7-8 rows, it&#39;s not getting overwritten but appended. Table rows are appending instead of overwriting."}, {"owner": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "edited": false, "score": 0, "creation_date": 1496311855, "post_id": 44265641, "comment_id": 75614451, "body": "@RaghavendraSS have you tried making it null every time you call the onCreateServer()?"}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "edited": false, "score": 0, "creation_date": 1496312400, "post_id": 44265641, "comment_id": 75614852, "body": "@brijmcq I did  this.services = [];, onCreateServer() method after calling setValues, However it quickly updates and the data won&#39;t even show. So i can&#39;t empty services inside onCreateServer()."}], "answers": [{"tags": [], "owner": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "is_accepted": false, "score": 0, "last_activity_date": 1496312945, "creation_date": 1496312945, "answer_id": 44305089, "question_id": 44265641, "link": "https://stackoverflow.com/questions/44265641/angular-2-over-write-table-row-instead-of-appending-currently-using-ngfor/44305089#44305089", "title": "Angular 2 over write table row instead of appending ! Currently using *ngFor", "body": "<p>Try to set your <code>this.services = []</code> everytime you call the onCreateServer() like this</p>\n\n<pre><code>onCreateServer(){\nthis.serverCreationStatus = 'Server Instance Created! ' + this.serverName;\n    return this.http.get('http://127.0.0.1:5000/PodChecker/', {params:\n    {Podurl: this.serverName\n    }}).subscribe( (response: Response) =&gt; {\n      this.services= [];\n//... more code\n</code></pre>\n\n<p>And not after you call the setValues.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496312945, "creation_date": 1496156251, "last_edit_date": 1496295049, "question_id": 44265641, "link": "https://stackoverflow.com/questions/44265641/angular-2-over-write-table-row-instead-of-appending-currently-using-ngfor", "title": "Angular 2 over write table row instead of appending ! Currently using *ngFor", "body": "<p>\nActually i'm trying to represent each service object as a table row, but when i call my javascript function again *ngFor creates appends another set of rows to the existing rows.</p>\n\n<pre><code>&lt;tr class=\"table table-hover  table-responsive \"  *ngFor=\"let service of services\"&gt;\n          &lt;td&gt;{{ service.serviceName }}&lt;/td&gt;\n          &lt;td&gt;{{ service.state }}&lt;/td&gt;\n\n          &lt;td&gt;{{ service.domainName }}&lt;/td&gt;\n          &lt;td&gt;{{ service.releaseVersion }}&lt;/td&gt;\n          &lt;td&gt;{{ service.editionDisplayName }}&lt;/td&gt;\n          &lt;td&gt;{{ service.creationDate }}&lt;/td&gt;\n</code></pre>\n\n<p>// the table row gets appended instead of overwriting!</p>\n\n<p>\n          </p>\n\n<p>JQuery object parsing!</p>\n\n<pre><code>onCreateServer(){\nthis.serverCreationStatus = 'Server Instance Created! ' + this.serverName;\n    return this.http.get('http://127.0.0.1:5000/PodChecker/', {params:\n    {Podurl: this.serverName\n    }}).subscribe( (response: Response) =&gt; {\n        console.log(response);\n      const data = response.json();\n        console.log(data);\n        this.Service_Instances = data;\n        this.dict = data;\n        console.log('Data[services]' + JSON.stringify(data['services']));\n        console.log(this.dict);\n        this.Service_Instances = this.dict['services'];\n        //this.setValues(this.dict['services']);\n        console.log('Must Check' + JSON.stringify(this.setValues(this.dict['services'])));\n        console.log('This Services Output:' + JSON.stringify(this.services ));\n\n      },\n      (error) =&gt; console.log(error)\n    );\n  }\n</code></pre>\n\n<p>Set Values function</p>\n\n<pre><code>setValues(array){\n\nconst jsonVal = array;\nconsole.log('This is a surprise!!' + JSON.stringify(jsonVal.keys));\n\n\n   jQuery.each( array, ( key, value ) =&gt; {\n    console.log('Jquery Output 1st' + key + ': ' + value.state );\n    console.log('Jquery Output 1st' + key + ': ' + value.serviceName );\n    console.log('Jquery Output 1st' + key + ': ' + value.domainName );\n    console.log('Jquery Output 1st' + key + ': ' + value.releaseVersion );\n    console.log('Jquery Output 1st' + key + ': ' + value.creationDate );\n    console.log('Jquery Output 1st' + key + ': ' + value.BI_SERVICE_URL );\n    console.log('Jquery Output 1st' + key + ': ' + value.editionDisplayName );\n     console.log('GEtting Essbase values' + JSON.stringify(value.components.BI.attributes.profile_essbase.value));\n     this.services.push(new ServerProperties(JSON.stringify(value.serviceName), JSON.stringify(value.state),\n       JSON.stringify(value.domainName), JSON.stringify(value.releaseVersion),\nJSON.stringify(value.editionDisplayName),\n});\n}     \n</code></pre>\n\n<p>calling the function!</p>\n\n<pre><code>&lt;input type=\"text\"\n       class=\"form-control\"\n       [(ngModel)]=\"serverName\"\n&gt;\n&lt;button class=\"btn btn-primary pull-left\"  (click)=\"onCreateServer()\"&gt;Get Details&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["arrays", "angular", "object", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6192444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72561dc0fc7d30e5ebf9ac97054b2bff?s=128&d=identicon&r=PG&f=1", "display_name": "L. G.", "link": "https://stackoverflow.com/users/6192444/l-g"}, "edited": false, "score": 0, "creation_date": 1496155563, "post_id": 44265348, "comment_id": 75538894, "body": "Yes, sorry! Forgot to change the name of this one. I tried using this [ ] instead of the parenthesis, but I still get this error though: Supplied parameters do not match any signature of call target."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "reply_to_user": {"reputation": 35, "user_id": 6192444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72561dc0fc7d30e5ebf9ac97054b2bff?s=128&d=identicon&r=PG&f=1", "display_name": "L. G.", "link": "https://stackoverflow.com/users/6192444/l-g"}, "edited": false, "score": 0, "creation_date": 1496156209, "post_id": 44265348, "comment_id": 75539358, "body": "Can you update the question with that info @L.G. ? I&#39;d like to see the  exact code and line number. I&#39;m not getting any errors once I take what you&#39;ve got there and update it to use square brackets."}, {"owner": {"reputation": 35, "user_id": 6192444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72561dc0fc7d30e5ebf9ac97054b2bff?s=128&d=identicon&r=PG&f=1", "display_name": "L. G.", "link": "https://stackoverflow.com/users/6192444/l-g"}, "edited": false, "score": 0, "creation_date": 1496156917, "post_id": 44265348, "comment_id": 75539893, "body": "So sorry, I had defined something else in the constructor before the photos: string[], which is why it showed an error. uhh, such a clutz! thanks a lot for your help"}], "tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": true, "score": 0, "last_activity_date": 1496156275, "last_edit_date": 1496156275, "creation_date": 1496155341, "answer_id": 44265348, "question_id": 44265313, "link": "https://stackoverflow.com/questions/44265313/add-array-inside-of-object-angular-2/44265348#44265348", "title": "Add array inside of object Angular 2", "body": "<p>Arrays are initialized with square brackets.</p>\n\n<pre><code>let HEROES = [\n  new Hero(\n    11,\n    'Mr. Nice',\n    'Fire',\n    ['link to a photo', 'link to another photo']\n  ),\n  new Hero(\n    12,\n    'Narco',\n    'Earth',\n    ['link to a photo', 'link to another photo', 'another one']\n  )\n];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8734, "user_id": 6416109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0196ed675a4e2836203066a677f93b4?s=128&d=identicon&r=PG&f=1", "display_name": "AngJobs on Github", "link": "https://stackoverflow.com/users/6416109/angjobs-on-github"}, "is_accepted": false, "score": 0, "last_activity_date": 1496155911, "creation_date": 1496155911, "answer_id": 44265520, "question_id": 44265313, "link": "https://stackoverflow.com/questions/44265313/add-array-inside-of-object-angular-2/44265520#44265520", "title": "Add array inside of object Angular 2", "body": "<p>Define the array in the constructor like this:</p>\n\n<p><code>public photos: Array&lt;string&gt;</code></p>\n"}], "owner": {"reputation": 35, "user_id": 6192444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72561dc0fc7d30e5ebf9ac97054b2bff?s=128&d=identicon&r=PG&f=1", "display_name": "L. G.", "link": "https://stackoverflow.com/users/6192444/l-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 44265348, "answer_count": 2, "score": 0, "last_activity_date": 1496156275, "creation_date": 1496155239, "last_edit_date": 1496155580, "question_id": 44265313, "link": "https://stackoverflow.com/questions/44265313/add-array-inside-of-object-angular-2", "title": "Add array inside of object Angular 2", "body": "<p>I'm trying to create new objects with arrays inside of them but I can't seem to make it work.</p>\n\n<p>Here is what my service looks like:</p>\n\n<pre><code>export class Hero {\n\n  constructor(\n    public id: number,\n    public name: string,\n    public type: string,\n    public photos: string[]\n    ) { }\n}\n\nlet HEROES = [\n  new Hero(\n    11,\n    'Mr. Nice',\n    'Fire',\n    ('link to a photo', 'link to another photo')\n  ),\n  new Hero(\n    12,\n    'Narco',\n    'Earth',\n    ('link to a photo', 'link to another photo', 'another one')\n  )\n];\n</code></pre>\n\n<p>Basically, I have a constructor to define what the Hero object should look like. The things that's not working is the photos: string[]. I'd like to be able to have an array of photos to show, some 'heroes' will have photos, some won't so the amount is not determined. Any idea how to make it work?</p>\n"}]