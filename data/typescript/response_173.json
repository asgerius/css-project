[{"tags": ["typescript", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 358761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1746ea9419332937b37cc78036faae83?s=128&d=identicon&r=PG", "display_name": "ygormutti", "link": "https://stackoverflow.com/users/358761/ygormutti"}, "edited": false, "score": 0, "creation_date": 1527010115, "post_id": 50145833, "comment_id": 87960354, "body": "This doesn&#39;t work in my setup, because I&#39;m using jest snapshot serializers written in TypeScript. :( I think removing <code>&#47;jsx?&#47;</code> from <code>moduleFileExtensions</code> would fix this, but currently it triggers this bug: <a href=\"https://github.com/facebook/jest/issues/4025\" rel=\"nofollow noreferrer\">github.com/facebook/jest/issues/4025</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 12, "last_activity_date": 1525312303, "creation_date": 1525312303, "answer_id": 50145833, "question_id": 50145078, "link": "https://stackoverflow.com/questions/50145078/jest-typescript-tests-runs-twice-one-for-ts-files-and-one-for-js-files/50145833#50145833", "title": "Jest typescript tests runs twice, one for ts files, and one for js files", "body": "<blockquote>\n  <p>Is this normal in ts-jest or am I missing some extra configuration</p>\n</blockquote>\n\n<p>You should set <code>roots</code> to <code>/src</code> only. <a href=\"https://basarat.gitbooks.io/typescript/docs/testing/jest.html\" rel=\"noreferrer\">Here is a good config</a>: </p>\n\n<pre><code>module.exports = {\n  \"roots\": [\n    \"&lt;rootDir&gt;/src\"\n  ],\n  \"transform\": {\n    \"^.+\\\\.tsx?$\": \"ts-jest\"\n  },\n  \"testRegex\": \"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.tsx?$\",\n  \"moduleFileExtensions\": [\n    \"ts\",\n    \"tsx\",\n    \"js\",\n    \"jsx\",\n    \"json\",\n    \"node\"\n  ],\n}\n</code></pre>\n\n<p>I also only test <code>.tsx?</code> files (no <code>.jsx?</code>) ;)</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 4271164, "user_type": "registered", "profile_image": "https://graph.facebook.com/1192328000/picture?type=large", "display_name": "Kalani Bright", "link": "https://stackoverflow.com/users/4271164/kalani-bright"}, "is_accepted": false, "score": 0, "last_activity_date": 1545890449, "last_edit_date": 1545890449, "creation_date": 1545875964, "answer_id": 53938959, "question_id": 50145078, "link": "https://stackoverflow.com/questions/50145078/jest-typescript-tests-runs-twice-one-for-ts-files-and-one-for-js-files/53938959#53938959", "title": "Jest typescript tests runs twice, one for ts files, and one for js files", "body": "<p>If using IDE, you just might want to disable the <code>.ts</code> to <code>.js</code> compilation that occurs in those IDEs to avoid generating that <code>.js</code> file giving you the issues.</p>\n\n<p>For IntelliJ/Webstorm users:  See Preferences | Languages &amp; Frameworks | TypeScript, Recompile on changes (uncheck)</p>\n"}, {"tags": [], "owner": {"reputation": 5657, "user_id": 178808, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/39365999823f3455bcf1ac8b6aae8603?s=128&d=identicon&r=PG", "display_name": "mlo55", "link": "https://stackoverflow.com/users/178808/mlo55"}, "is_accepted": false, "score": 1, "last_activity_date": 1564985716, "creation_date": 1564985716, "answer_id": 57353062, "question_id": 50145078, "link": "https://stackoverflow.com/questions/50145078/jest-typescript-tests-runs-twice-one-for-ts-files-and-one-for-js-files/57353062#57353062", "title": "Jest typescript tests runs twice, one for ts files, and one for js files", "body": "<p>Had the same issue, using the aws cdk in Typescript, to prevent it, I added <code>.js</code> to the testPathIgnorePatterns property in jest-config.js </p>\n\n<pre><code>module.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  testPathIgnorePatterns: [\".d.ts\", \".js\"]\n};\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 1886508, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/aDIwX.jpg?s=128&g=1", "display_name": "BernalCarlos", "link": "https://stackoverflow.com/users/1886508/bernalcarlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4414, "favorite_count": 0, "accepted_answer_id": 50145833, "answer_count": 3, "score": 15, "last_activity_date": 1564985716, "creation_date": 1525305230, "question_id": 50145078, "link": "https://stackoverflow.com/questions/50145078/jest-typescript-tests-runs-twice-one-for-ts-files-and-one-for-js-files", "title": "Jest typescript tests runs twice, one for ts files, and one for js files", "body": "<p>I'm starting to write some tests using Jest and typescript, however I'm getting some errors and the problem seems to be that the tests are run twice, one for ts files, and a second time for js files.</p>\n\n<p>The typescript test passes, but the compiled javascript tests don't.</p>\n\n<pre><code>yarn run v1.5.1\n$ jest\n PASS  src/__tests__/some.test.ts (7.955s)\n  \u25cf Console\n\n    console.log src/lib/google-analytics/ga-api.ts:75\n      Succsess!!\n    console.log src/__tests__/some.test.ts:42\n      { reports: { batchGet: [Function: batchGet] } }\n\n FAIL  dist/__tests__/some.test.js\n  \u25cf Console\n\n    console.log dist/lib/google-analytics/ga-api.js:64\n      Reject\n\n  \u25cf it gets a full google analytics report\n\n    No key or keyFile set.\n\n      68 |\n      69 |         return new Promise((resolve, reject) =&gt; {\n    &gt; 70 |             jwtClient.authorize((err: any) =&gt; {\n      71 |                 if (err) {\n      72 |                     console.log(\"Reject\");\n      73 |                     reject(err);\n\n      at GoogleToken.&lt;anonymous&gt; (node_modules/googleapis/node_modules/gtoken/src/index.ts:102:13)\n      at step (node_modules/googleapis/node_modules/gtoken/build/src/index.js:42:23)\n      at Object.next (node_modules/googleapis/node_modules/gtoken/build/src/index.js:23:53)\n      at node_modules/googleapis/node_modules/gtoken/build/src/index.js:17:71\n      at Object.&lt;anonymous&gt;.__awaiter (node_modules/googleapis/node_modules/gtoken/build/src/index.js:13:12)\n      at GoogleToken.Object.&lt;anonymous&gt;.GoogleToken.getTokenAsync (node_modules/googleapis/node_modules/gtoken/build/src/index.js:102:16)\n      at GoogleToken.Object.&lt;anonymous&gt;.GoogleToken.getToken (node_modules/googleapis/node_modules/gtoken/src/index.ts:93:17)\n      at JWT.&lt;anonymous&gt; (node_modules/googleapis/node_modules/google-auth-library/src/auth/jwtclient.ts:181:37)\n      at step (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:57:23)\n      at Object.next (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:38:53)\n      at node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:32:71\n      at Object.&lt;anonymous&gt;.__awaiter (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:28:12)\n      at JWT.Object.&lt;anonymous&gt;.JWT.refreshToken (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:181:16)\n      at JWT.&lt;anonymous&gt; (node_modules/googleapis/node_modules/google-auth-library/src/auth/jwtclient.ts:154:31)\n      at step (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:57:23)\n      at Object.next (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:38:53)\n      at node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:32:71\n      at Object.&lt;anonymous&gt;.__awaiter (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:28:12)\n      at JWT.Object.&lt;anonymous&gt;.JWT.authorizeAsync (node_modules/googleapis/node_modules/google-auth-library/build/src/auth/jwtclient.js:156:16)\n      at JWT.Object.&lt;anonymous&gt;.JWT.authorize (node_modules/googleapis/node_modules/google-auth-library/src/auth/jwtclient.ts:147:12)\n      at Promise (src/lib/google-analytics/ga-api.ts:70:23)\n      at GoogleAnalyticsApiClient.getGCPAuthToken (src/lib/google-analytics/ga-api.ts:69:16)\n      at GoogleAnalyticsApiClient.&lt;anonymous&gt; (src/lib/google-analytics/ga-api.ts:52:42)\n      at dist/lib/google-analytics/ga-api.js:7:71\n      at Object.&lt;anonymous&gt;.__awaiter (dist/lib/google-analytics/ga-api.js:3:12)\n      at GoogleAnalyticsApiClient.getGaApiClient (dist/lib/google-analytics/ga-api.js:50:16)\n      at Object.&lt;anonymous&gt;.test (src/__tests__/some.test.ts:41:14)\n\nTest Suites: 1 failed, 1 passed, 2 total\nTests:       1 failed, 1 passed, 2 total\nSnapshots:   0 total\nTime:        9.516s\nRan all test suites.\nerror An unexpected error occurred: \"Command failed.\nExit code: 1\nCommand: sh\nArguments: -c jest\nDirectory: /Users/carlosbernal/Documents/Grability/DataScience/ga-downloader\nOutput:\n\".\ninfo If you think this is a bug, please open a bug report with the information provided in \"/Users/carlosbernal/Documents/Grability/DataScience/ga-downloader/yarn-error.log\".\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n</code></pre>\n\n<p>Is this normal in ts-jest or am I missing some extra configuration?</p>\n"}, {"tags": ["reactjs", "typescript", "react-dates", "aphrodite", "react-with-styles"], "answers": [{"comments": [{"owner": {"reputation": 7297, "user_id": 1176156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89604545aa57aa3d14306af60126e193?s=128&d=identicon&r=PG", "display_name": "MaxGabriel", "link": "https://stackoverflow.com/users/1176156/maxgabriel"}, "edited": false, "score": 0, "creation_date": 1596224432, "post_id": 63191943, "comment_id": 111754376, "body": "Thanks @Abulafia. I&#39;ve long since given up on their date picker, but hopefully this helps future people"}], "tags": [], "owner": {"reputation": 1431, "user_id": 10950630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaedb299750fb1811ca1b124c4e4ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Abulafia", "link": "https://stackoverflow.com/users/10950630/abulafia"}, "is_accepted": false, "score": 0, "last_activity_date": 1596198921, "creation_date": 1596198921, "answer_id": 63191943, "question_id": 50144526, "link": "https://stackoverflow.com/questions/50144526/how-can-i-use-a-custom-theme-with-react-dates/63191943#63191943", "title": "How can I use a custom theme with react-dates?", "body": "<p>This often happens if you are using multiple AirBnB components (usual suspects include react-dates &amp; rheostat) since they all suggest this (in my opinion) slightly hacky solution to styling in their docs.</p>\n<p>I'm sure if you do a search for <code>ThemedStyleSheet</code> in your codebase you will find this is not the only place you are using it. Also watch out for various AirBnB component 'initialize' calls, which, if run after your code, will overwrite your theme and provider and cause further trouble. I said it was hacky...</p>\n<p>You must lift all <code>ThemedStyleSheet</code> related logic from <em>across your whole codebase</em> to the very top where it should be called just once with a combined, relevant theme before anything else is loaded. (See this github issue: <a href=\"https://github.com/airbnb/rheostat/issues/179\" rel=\"nofollow noreferrer\">https://github.com/airbnb/rheostat/issues/179</a>)</p>\n"}], "owner": {"reputation": 7297, "user_id": 1176156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89604545aa57aa3d14306af60126e193?s=128&d=identicon&r=PG", "display_name": "MaxGabriel", "link": "https://stackoverflow.com/users/1176156/maxgabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 979, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1596198921, "creation_date": 1525300554, "question_id": 50144526, "link": "https://stackoverflow.com/questions/50144526/how-can-i-use-a-custom-theme-with-react-dates", "title": "How can I use a custom theme with react-dates?", "body": "<p>I'm trying to style my <a href=\"https://github.com/airbnb/react-dates\" rel=\"nofollow noreferrer\"><code>react-dates</code></a> <code>DayPickerRangeController</code> in Typescript, using <a href=\"https://github.com/airbnb/react-with-styles\" rel=\"nofollow noreferrer\">react-with-styles</a> and <a href=\"https://github.com/Khan/aphrodite\" rel=\"nofollow noreferrer\">Aphrodite</a>. I'm using this code, emulating the code from <a href=\"https://github.com/airbnb/react-dates#interfaces\" rel=\"nofollow noreferrer\">https://github.com/airbnb/react-dates#interfaces</a>:</p>\n\n<pre><code>const ThemedStyleSheet = require('react-with-styles/lib/ThemedStyleSheet').default\nconst aphroditeInterface = require('react-with-styles-interface-aphrodite').default\nconst DefaultTheme = require('react-dates/lib/theme/DefaultTheme').default\n\nThemedStyleSheet.registerInterface(aphroditeInterface)\nThemedStyleSheet.registerTheme(DefaultTheme)\n\n// Importing react-dates after registering the theme, as per the docs.\nimport * as ReactDates from 'react-dates'\n</code></pre>\n\n<p>However, when I run this I get this runtime error in console:</p>\n\n<pre><code>Cannot read property 'createLTR' of undefined\nTypeError: Cannot read property 'createLTR' of undefined\n    at Object.createLTR (http://localhost:6006/static/preview.bundle.js:133281:47)\n    at createStyles (http://localhost:6006/static/preview.bundle.js:9710:59)\n    at WithStyles.maybeCreateStyles (http://localhost:6006/static/preview.bundle.js:9805:22)\n    at WithStyles.componentWillMount (http://localhost:6006/static/preview.bundle.js:9739:20)\n    at callComponentWillMount (http://localhost:6006/static/preview.bundle.js:42214:16)\n    at mountClassInstance (http://localhost:6006/static/preview.bundle.js:42310:7)\n    at updateClassComponent (http://localhost:6006/static/preview.bundle.js:43679:9)\n    at beginWork (http://localhost:6006/static/preview.bundle.js:44320:16)\n    at performUnitOfWork (http://localhost:6006/static/preview.bundle.js:47152:16)\n    at workLoop (http://localhost:6006/static/preview.bundle.js:47181:26)\n</code></pre>\n\n<p>I do not get this error when:</p>\n\n<ol>\n<li><p>I use the <code>registerInterfaceWithDefaultTheme</code> function from the class (this doesn't allow me to style the component, though). (This surprises me because <a href=\"https://github.com/airbnb/react-dates/blob/0d2f78c17fe217e7064c324e4b7b28d08679bffe/src/utils/registerInterfaceWithDefaultTheme.js\" rel=\"nofollow noreferrer\">the code in <code>registerInterfaceWithDefaultTheme</code></a> looks the same as what I have (to me at least))</p>\n\n<pre><code>const aphroditeInterface = require('react-with-styles-interface-aphrodite').default\n\nconst registerInterfaceWithDefaultTheme = require('react-dates/lib/utils/registerInterfaceWithDefaultTheme')\n.default\n\nregisterInterfaceWithDefaultTheme(aphroditeInterface)\n</code></pre></li>\n<li><p>I use <code>import 'react-dates/initialize';</code> (which eventually calls <code>registerInterfaceWithDefaultTheme</code>). </p></li>\n</ol>\n\n<p>I still get this error when:</p>\n\n<ol>\n<li>I swap the order of registering the theme and the interface</li>\n<li>I add the <code>ThemedStyleSheet</code> code at the top of my <code>src/index</code> file, as opposed to in the same file as the one that uses <code>DayPickerRangeController</code> (This is the suggested fix in <a href=\"https://stackoverflow.com/a/48558841/1176156\">https://stackoverflow.com/a/48558841/1176156</a>)</li>\n<li>I put the exact code from <a href=\"https://github.com/airbnb/react-dates#interfaces\" rel=\"nofollow noreferrer\">https://github.com/airbnb/react-dates#interfaces</a> in Javascript, then import that into my Typescript file that's using <code>DayPickerRangeController</code>.</li>\n</ol>\n\n<p>I have confirmed in the debugger that all of my imports are getting valid code, and not e.g. <code>undefined</code>.</p>\n"}, {"tags": ["typescript", "mongoose", "interface"], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 5304723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0GVU.jpg?s=128&g=1", "display_name": "Bence Uszkai", "link": "https://stackoverflow.com/users/5304723/bence-uszkai"}, "is_accepted": true, "score": 4, "last_activity_date": 1525335261, "creation_date": 1525335261, "answer_id": 50150123, "question_id": 50144459, "link": "https://stackoverflow.com/questions/50144459/how-to-store-objectid-property-in-typescript-interface/50150123#50150123", "title": "How to store objectID property in Typescript Interface?", "body": "<p>Instead of <code>ObjectId</code> it should be stored as a <code>string</code>.</p>\n"}], "owner": {"reputation": 244, "user_id": 5304723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0GVU.jpg?s=128&g=1", "display_name": "Bence Uszkai", "link": "https://stackoverflow.com/users/5304723/bence-uszkai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1605, "favorite_count": 0, "accepted_answer_id": 50150123, "answer_count": 1, "score": 0, "last_activity_date": 1525335261, "creation_date": 1525300040, "question_id": 50144459, "link": "https://stackoverflow.com/questions/50144459/how-to-store-objectid-property-in-typescript-interface", "title": "How to store objectID property in Typescript Interface?", "body": "<p>i'm implementing interface and mongoose schemas in Typescript.\nThe struggle with the follow issue:</p>\n\n<p>The Schema should have contain these properties: </p>\n\n<pre><code>let MovementSchema = new Schema\n    ({\n        movementName : {type: mongoose.Schema.Types.ObjectId, ref: 'MovementName'},\n        rounds: [{type: mongoose.Schema.Types.ObjectId, ref: 'Round'}]\n    });\n</code></pre>\n\n<p>the Interface look like this:</p>\n\n<pre><code>import { ObjectId } from \"bson\";\n\nexport interface IMovement {\n    movementType : ObjectId,\n    rounds : [ ObjectId ]\n}\n</code></pre>\n\n<p>and the question is, the <code>ObjectId</code> is the good type to create properties?</p>\n"}, {"tags": ["typescript", "visual-studio-2017"], "answers": [{"tags": [], "owner": {"reputation": 5486, "user_id": 1236397, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/67c4831541a7ce09aeccf0a3abbf008b?s=128&d=identicon&r=PG", "display_name": "James Wilkins", "link": "https://stackoverflow.com/users/1236397/james-wilkins"}, "is_accepted": true, "score": 0, "last_activity_date": 1525897294, "last_edit_date": 1525897294, "creation_date": 1525893141, "answer_id": 50260519, "question_id": 50144343, "link": "https://stackoverflow.com/questions/50144343/typescript-files-are-loaded-in-dynamic-tabs-instead-of-focusing-the-active-sou/50260519#50260519", "title": "TypeScript files are loaded in [dynamic] tabs instead of focusing the active source tab", "body": "<p>The answer is here: <a href=\"https://stackoverflow.com/a/31854370/1236397\">https://stackoverflow.com/a/31854370/1236397</a></p>\n\n<p>For some reason my files (coming in and out of Git source control) ended up invalid. They ARE text files, but ASCII text files. I converted one file to UTF8 as a test and now the <code>.ts</code> file in my working tab gets focused instead of a dynamic tab! I think this should be a bug really, not sure.  I don't understand why I can edit text <code>.ts</code> files easily in Visual Studio and have it get confused and load it dynamically.</p>\n\n<p>To convert files in Visual Studio there are two options:</p>\n\n<ol>\n<li><code>Save As ...</code>, then click the arrow next to <code>Save</code> and select <code>Save with Encoding...</code>.</li>\n<li>Change using <code>File-&gt;Advanced Save Options...</code>.  If you don't have that, then go to <code>Tools-&gt;Customize...-&gt;Commands</code>, select <code>File</code> in the dropdown next to <code>Menu bar:</code>, then click <code>Add Command...</code>, and you'll see it under the <code>Files</code> category.</li>\n</ol>\n\n<p>You can also use Notepad++, under the <code>Encoding</code> menu.</p>\n"}], "owner": {"reputation": 5486, "user_id": 1236397, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/67c4831541a7ce09aeccf0a3abbf008b?s=128&d=identicon&r=PG", "display_name": "James Wilkins", "link": "https://stackoverflow.com/users/1236397/james-wilkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 50260519, "answer_count": 1, "score": 0, "last_activity_date": 1525897294, "creation_date": 1525299426, "last_edit_date": 1525320171, "question_id": 50144343, "link": "https://stackoverflow.com/questions/50144343/typescript-files-are-loaded-in-dynamic-tabs-instead-of-focusing-the-active-sou", "title": "TypeScript files are loaded in [dynamic] tabs instead of focusing the active source tab", "body": "<p>In this scenario I have a .Net Core 2 web project, and working on one TypeScript file.  It used to be (if I recall correctly) that errors should break on the opened source tab.  Instead now I'm seeing Visual Studio (2017) break on a NEW tab with the <code>[dynamic]</code> tag next to the tab name; however, the path of this file (when viewing properties) is a file path to the SAME source file I have open! :(  It looks like this (lines are tabs):</p>\n\n<p><code>| File.ts | Files.ts [dynamic] # |</code>\n<em>(#: the second tab is also locked)</em></p>\n\n<p>It's been awhile now and I can't recall if this is normal, or if I'm missing something?</p>\n\n<p>TS file structure:</p>\n\n<pre><code>Project/\n       wwwroot/js/ (.js and .js.map files, where 'outDir' points in tsconfig)\n       Scripts/ (.ts files, and where 'rootDir' points in tsconfig)\n</code></pre>\n\n<p>Things I already tried and other info:</p>\n\n<ol>\n<li>Made sure all <code>.ts</code> file actions are \"TypeScriptCompile\".</li>\n<li>Verified that the <code>.map</code> files correctly point to the source.</li>\n<li>The <code>.js</code> and <code>.js.map</code> files are stored together in the <code>wwwroot\\js</code> folder.</li>\n<li>The <code>.ts</code> files exist in a <code>Scripts</code> folder in the project root.</li>\n<li>Right-clicking on the <code>.ts</code> file in question under the <code>Script Documents</code> node during a debug session shows that the <code>URL</code> reference <code>file//C:///...pathtofile...</code>, which is correct (obviously! or it wouldn't be found in the first place)</li>\n<li>Made sure script debugging is enabled in IE (not sure that matters for VS, since I think it still works regardless).</li>\n<li>Breakpoints, including the <code>debugger;</code> keyword, always break in the dynamic tab and never my opened source tab.</li>\n</ol>\n\n<p>Is this normal behaviour? Thanks.</p>\n\n<p><em>Specs: Windows 10, Visual Studio 2017, and debugging with IE11.</em></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "is_accepted": true, "score": 3, "last_activity_date": 1525297549, "creation_date": 1525297549, "answer_id": 50144006, "question_id": 50143977, "link": "https://stackoverflow.com/questions/50143977/why-is-my-variable-undefined-in-the-constructor/50144006#50144006", "title": "Why is my variable undefined in the constructor?", "body": "<p>You're trying to <code>push</code> inside <code>undefined</code>, just declare an empty array (or not empty, depends on your needs, but <code>rowsControls</code> should be an array):</p>\n\n<pre><code>rowsControls: boolean[] = [];\n</code></pre>\n"}], "owner": {"reputation": 354, "user_id": 5998266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d27b789b63198a5b5851828e8fa2135?s=128&d=identicon&r=PG&f=1", "display_name": "Drobesz", "link": "https://stackoverflow.com/users/5998266/drobesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 50144006, "answer_count": 1, "score": 0, "last_activity_date": 1525340772, "creation_date": 1525297422, "last_edit_date": 1525340772, "question_id": 50143977, "link": "https://stackoverflow.com/questions/50143977/why-is-my-variable-undefined-in-the-constructor", "title": "Why is my variable undefined in the constructor?", "body": "<p>In Angular, I needed to make another variable to control the collapsible rows via ng-bootstrap, but I've made an error and I really don't know what's the problem. Probably the context of <code>this</code> is the key to the answer. I don't know.</p>\n\n<p>So, here's the relevant part of my code (the <code>this.rowsControls</code> array is undefined):</p>\n\n<pre><code>export class TasksComponent implements OnInit {\n  tasks: Task[];\n  title: string;\n  rowsControls: boolean[];\n\n  constructor(private tasksService: TasksService) {\n    this.tasksService.getTasks().subscribe(x =&gt; { \n      this.tasks = x;\n      x.forEach(this.rowsControls.push(true)); \n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "sharepoint", "webpack", "spfx"], "comments": [{"owner": {"reputation": 2292, "user_id": 862892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDS01.jpg?s=128&g=1", "display_name": "Gautam Sheth", "link": "https://stackoverflow.com/users/862892/gautam-sheth"}, "edited": false, "score": 1, "creation_date": 1525676374, "post_id": 50143932, "comment_id": 87434137, "body": "do you have a git repo link ? Can you share that url ?"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "reply_to_user": {"reputation": 2292, "user_id": 862892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDS01.jpg?s=128&g=1", "display_name": "Gautam Sheth", "link": "https://stackoverflow.com/users/862892/gautam-sheth"}, "edited": false, "score": 1, "creation_date": 1525682124, "post_id": 50143932, "comment_id": 87436998, "body": "yes, its here: <a href=\"https://github.com/levalencia/sp-dev-fx-webparts/tree/designpatternsfirstpart/samples/designpatterns-typescript/AbstractFactory\" rel=\"nofollow noreferrer\">github.com/levalencia/sp-dev-fx-webparts/tree/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525441038, "post_id": 50170720, "comment_id": 87369595, "body": "unfortunately this didnt work, do you need that I paste more code so that we can find a solution?"}], "tags": [], "owner": {"reputation": 3739, "user_id": 5746974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYo6a.jpg?s=128&g=1", "display_name": "LZ_MSFT", "link": "https://stackoverflow.com/users/5746974/lz-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1525423286, "creation_date": 1525423286, "answer_id": 50170720, "question_id": 50143932, "link": "https://stackoverflow.com/questions/50143932/sploadererror-loadcomponenterror-failed-to-load-component/50170720#50170720", "title": "[SPLoaderError.loadComponentError]: ***Failed to load component", "body": "<p>Try to add sp-module-loader in your config.json like the following:</p>\n\n<pre><code>\"@microsoft/sp-module-loader\": \"node_modules/@microsoft/sp-module-loader/dist/sp-module-loader.js\"\n</code></pre>\n\n<p>The code samples from github for your reference:</p>\n\n<p><a href=\"https://github.com/SharePoint/sp-dev-fx-webparts/tree/master/samples\" rel=\"nofollow noreferrer\">SharePoint FrameWork client-side web part samples</a></p>\n"}, {"comments": [{"owner": {"reputation": 576, "user_id": 1876951, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2270f482039c5495bd1a0099ef88fa55?s=128&d=identicon&r=PG", "display_name": "Devin Prejean", "link": "https://stackoverflow.com/users/1876951/devin-prejean"}, "edited": false, "score": 0, "creation_date": 1525789518, "post_id": 50235711, "comment_id": 87489233, "body": "This fixes it, want me to issue a pull request to you? This is the ONLY change I made so it would be quicker if you made it yourself but I&#39;m OK with doing it instead."}, {"owner": {"reputation": 576, "user_id": 1876951, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2270f482039c5495bd1a0099ef88fa55?s=128&d=identicon&r=PG", "display_name": "Devin Prejean", "link": "https://stackoverflow.com/users/1876951/devin-prejean"}, "edited": false, "score": 0, "creation_date": 1525789686, "post_id": 50235711, "comment_id": 87489352, "body": "This guys&#39; blog post really helped me refactor my factory to use interfaces instead of abstract classes. <a href=\"https://thedulinreport.com/2017/07/30/design-patters-in-typescript-factory/\" rel=\"nofollow noreferrer\">thedulinreport.com/2017/07/30/&hellip;</a>"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525794203, "post_id": 50235711, "comment_id": 87492374, "body": "let me check if it works and if it does I will publish the code again. thanks a lot."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525798019, "post_id": 50235711, "comment_id": 87494436, "body": "I deleted the abstract factory folder but created again the builder folder as in the original question, I thought that after recreating it and properly typing the code by hand it would work, but still I get the same error.   I have uploaded it again @Devin Prejean, Can you check?  <a href=\"https://github.com/levalencia/sp-dev-fx-webparts/tree/designpatternsfirstpart/samples/designpatterns-typescript/Builder\" rel=\"nofollow noreferrer\">github.com/levalencia/sp-dev-fx-webparts/tree/&hellip;</a>"}, {"owner": {"reputation": 576, "user_id": 1876951, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2270f482039c5495bd1a0099ef88fa55?s=128&d=identicon&r=PG", "display_name": "Devin Prejean", "link": "https://stackoverflow.com/users/1876951/devin-prejean"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525800639, "post_id": 50235711, "comment_id": 87495754, "body": "Your new code is a completely different problem. Do you get the same error you were getting with the abstract factory?"}, {"owner": {"reputation": 576, "user_id": 1876951, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2270f482039c5495bd1a0099ef88fa55?s=128&d=identicon&r=PG", "display_name": "Devin Prejean", "link": "https://stackoverflow.com/users/1876951/devin-prejean"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525802302, "post_id": 50235711, "comment_id": 87496536, "body": "I have fixed your other code... took me a while but i have it. Trying to make a pull request to you."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525804734, "post_id": 50235711, "comment_id": 87497861, "body": "can you please explain me what you found out to be wrong."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1525804786, "post_id": 50235711, "comment_id": 87497893, "body": "I removed the abstract pattern because I wanted to start from scratch, the Builder Pattern is exactly the same problem! code files are different but the error is the same."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "reply_to_user": {"reputation": 576, "user_id": 1876951, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2270f482039c5495bd1a0099ef88fa55?s=128&d=identicon&r=PG", "display_name": "Devin Prejean", "link": "https://stackoverflow.com/users/1876951/devin-prejean"}, "edited": false, "score": 0, "creation_date": 1525804789, "post_id": 50235711, "comment_id": 87497896, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170633/discussion-between-luis-valencia-and-devin-prejean\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 576, "user_id": 1876951, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2270f482039c5495bd1a0099ef88fa55?s=128&d=identicon&r=PG", "display_name": "Devin Prejean", "link": "https://stackoverflow.com/users/1876951/devin-prejean"}, "is_accepted": true, "score": 4, "last_activity_date": 1525792150, "last_edit_date": 1525792150, "creation_date": 1525788624, "answer_id": 50235711, "question_id": 50143932, "link": "https://stackoverflow.com/questions/50143932/sploadererror-loadcomponenterror-failed-to-load-component/50235711#50235711", "title": "[SPLoaderError.loadComponentError]: ***Failed to load component", "body": "<p>This same thing happened to me when I was implementing a factory design pattern as well. The issue happens because you are referencing imports in a cyclical manner. For instance, If you have class A and Class B:</p>\n\n<p>Class A.B uses Class B.A in the factory.</p>\n\n<p>I see that you have <code>DAOFactory</code> as an import in <code>SharepointListDAOFactory</code> and inside <code>SharepointListDAOFactory</code> you have <code>DAOFactory</code> imported. The way you correct it is to move the <code>import SharepointListDAOFactory from \"./SharepointListDAOFactory\";</code> in <code>DAOFactory</code> class to the bottom of the file or refactor the abstract classes into interfaces and use them differently.</p>\n\n<p>Updated Code:</p>\n\n<pre><code>import ICustomerDAO from \"./ICustomerDAO\";\nimport DataSources from \"./DatasourcesEnum\";\n\nabstract class DAOFactory {\n\npublic abstract getCustomerDAO(): ICustomerDAO;\n\npublic  static getDAOFactory(whichFactory: DataSources): DAOFactory {\n    switch (whichFactory) {\n      case DataSources.SharepointList:\n        return new SharepointListDAOFactory();\n      case DataSources.JsonData:\n        return new JsonDAOFactory();\n      default  :\n        return null;\n    }\n  }\n}\n\nexport default DAOFactory;\nimport SharepointListDAOFactory from \"./SharepointListDAOFactory\";\nimport JsonDAOFactory from \"./JsonDAOFactory\";    \n</code></pre>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6584, "favorite_count": 0, "accepted_answer_id": 50235711, "answer_count": 2, "score": 3, "last_activity_date": 1525792150, "creation_date": 1525297187, "question_id": 50143932, "link": "https://stackoverflow.com/questions/50143932/sploadererror-loadcomponenterror-failed-to-load-component", "title": "[SPLoaderError.loadComponentError]: ***Failed to load component", "body": "<p>I developed a webpart in Sharepoint Framework, when I compile it with gulp build it compiles fine, however when I do gulp serve and I add the webpart to the workbench I get this error:</p>\n\n<pre><code>[SPLoaderError.loadComponentError]:\n***Failed to load component \"3a000c20-ed9a-44db-a466-db477bfc0132\" (BuilderWebPart).\nOriginal error: ***Failed to load entry point from component \"3a000c20-ed9a-44db-a466-db477bfc0132\" (BuilderWebPart).\nOriginal error: Error loading https://component-id.invalid/3a000c20-ed9a-44db-a466-db477bfc0132_0.0.1\n    Cannot find module \"resx-strings\"\n\n***INNERERROR:\n***Failed to load entry point from component \"3a000c20-ed9a-44db-a466-db477bfc0132\" (BuilderWebPart).\nOriginal error: Error loading https://component-id.invalid/3a000c20-ed9a-44db-a466-db477bfc0132_0.0.1\n    Cannot find module \"resx-strings\"\n***CALLSTACK:\nError\n   at SPError._generateErrorStackForIE (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:10202:13)\n   at SPError (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:10183:9)\n   at SPLoaderError (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:4211:9)\n   at ErrorBuilder.buildErrorWithVerboseLog (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:3821:9)\n   at ErrorBuilder.buildLoadComponentError (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:3743:9)\n   at Anonymous function (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:7952:9)\n   at tryCatch (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:998:5)\n   at invokeCallback (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:1013:5)\n   at publish (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:981:7)\n   at publishRejection (https://localhost:4321/node_modules/@microsoft/sp-loader/dist/sp-loader-assembly_en-us.js:923:3)\n</code></pre>\n\n<p>The main code files are below\nBuilderWebpart.ts</p>\n\n<pre><code> import * as React from \"react\";\n    import * as ReactDom from \"react-dom\";\n    import { Version } from \"@microsoft/sp-core-library\";\n    import {\n      BaseClientSideWebPart,\n      IPropertyPaneConfiguration,\n      PropertyPaneTextField,\n      PropertyPaneDropdown\n    } from \"@microsoft/sp-webpart-base\";\n\n    //import * as strings from \"BuilderWebPartStrings\";\n    import Builder from \"./components/Builder\";\n    import { IBuilderProps } from \"./components/IBuilderProps\";\n    import { IBuilderWebPartProps } from \"./IBuilderWebPartProps\";\n\n\n    export default class BuilderWebPart extends BaseClientSideWebPart&lt;IBuilderWebPartProps&gt; {\n\n      public render(): void {\n        const element: React.ReactElement&lt;IBuilderProps &gt; = React.createElement(\n          Builder,\n          {\n            description: this.properties.description,\n            selectedMeal: this.properties.selectedMeal\n          }\n        );\n\n        ReactDom.render(element, this.domElement);\n      }\n\n      protected get dataVersion(): Version {\n        return Version.parse('1.0');\n      }\n\n\n      protected getPropertyPaneConfiguration(): IPropertyPaneConfiguration  {\n        return {\n          pages: [\n            {\n              header: {\n                description: \"Header\"\n              },\n              groups: [\n                {\n                  groupName: \"Group\",\n                  groupFields: [\n                    PropertyPaneDropdown(\"meal\", {\n                      label: \"Select meal\",\n                      options: [\n                        { key: \"Veg\", text: \"Veg\" },\n                        { key: \"Nonveg\", text: \"Nonveg\" }\n                      ],\n                      selectedKey: \"Nonveg\"\n                    })\n                  ]\n                }\n              ]\n            }\n          ]\n        };\n      }\n    }\n</code></pre>\n\n<p>BuilderWebPart.manifest.json</p>\n\n<pre><code>{\n  \"$schema\": \"https://dev.office.com/json-schemas/spfx/client-side-web-part-manifest.schema.json\",\n  \"id\": \"3a000c20-ed9a-44db-a466-db477bfc0132\",\n  \"alias\": \"BuilderWebPart\",\n  \"componentType\": \"WebPart\",\n\n  // The \"*\" signifies that the version should be taken from the package.json\n  \"version\": \"*\",\n  \"manifestVersion\": 2,\n\n  // If true, the component can only be installed on sites where Custom Script is allowed.\n  // Components that allow authors to embed arbitrary script code should set this to true.\n  // https://support.office.com/en-us/article/Turn-scripting-capabilities-on-or-off-1f2c515f-5d7e-448a-9fd7-835da935584f\n  \"requiresCustomScript\": false,\n\n  \"preconfiguredEntries\": [{\n    \"groupId\": \"5c03119e-3074-46fd-976b-c60198311f70\", // Other\n    \"group\": { \"default\": \"Other\" },\n    \"title\": { \"default\": \"builder\" },\n    \"description\": { \"default\": \"builder description\" },\n    \"officeFabricIconFontName\": \"Page\",\n    \"properties\": {\n      \"description\": \"builder\"\n    }\n  }]\n}\n</code></pre>\n\n<p>Builder.tsx</p>\n\n<pre><code>import * as React from \"react\";\nimport styles from \"./Builder.module.scss\";\nimport { IBuilderProps } from \"./IBuilderProps\";\nimport { escape } from \"@microsoft/sp-lodash-subset\";\nimport MealBuilder from \"./MealBuilder\";\nimport Meal from \"./Meal\";\nimport { IPropertyPaneConfiguration } from \"@microsoft/sp-webpart-base/lib/propertyPane/propertyPane/IPropertyPane\";\nimport {\n  PropertyPaneDropdown\n} from \"@microsoft/sp-webpart-base\";\nimport Version from \"@microsoft/sp-core-library/lib/Version\";\n\nexport default class Builder extends React.Component&lt;IBuilderProps, {}&gt; {\n\n  private mealBuilder: MealBuilder ;\n  private items: string;\n  private meal: Meal;\n\n  constructor(props: IBuilderProps, state: any) {\n    super(props);\n    this.setMeal(props.selectedMeal);\n    this.mealBuilder = new MealBuilder();\n  }\n\n  public render(): React.ReactElement&lt;IBuilderProps&gt; {\n    return (\n        &lt;div className={styles.builder}&gt;\n          &lt;div className={styles.container}&gt;\n            &lt;div className={`ms-Grid-row ms-bgColor-themeDark ms-fontColor-white ${styles.row}`}&gt;\n              &lt;div className=\"ms-Grid-col ms-lg10 ms-xl8 ms-xlPush2 ms-lgPush1\"&gt;\n                &lt;span className=\"ms-font-xl ms-fontColor-white\"&gt;Welcome to Burger Company!&lt;/span&gt;\n                &lt;p className=\"ms-font-l ms-fontColor-white\"&gt;You have selected the following.&lt;/p&gt;\n                  &lt;span className={styles.label}&gt;{this.meal.showItems()}&lt;/span&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      );\n    }\n  protected get dataVersion(): Version {\n    return Version.parse(\"1.0\");\n  }\n  private setMeal(selectedMeal: string): void {\n     if(selectedMeal === \"VegMeal\") {\n        this.meal = this.mealBuilder.prepareVegMeal();\n     }\n     if(selectedMeal === \"NonVegMeal\") {\n      this.meal = this.mealBuilder.prepareNonVegMeal();\n   }\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "npm", "module", "package"], "answers": [{"comments": [{"owner": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "edited": false, "score": 0, "creation_date": 1525297083, "post_id": 50143806, "comment_id": 87306086, "body": "Holy cow, thank you.  This is the one thing I didn&#39;t try.  I thought everything would be relative to dist already.  Thanks."}, {"owner": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "edited": false, "score": 1, "creation_date": 1525298619, "post_id": 50143806, "comment_id": 87306617, "body": "And to make the code easier to read, I have altered my packaging slightly so that distribution is to the &quot;modules&quot; folder.  So now I can say:  import { talk } from &quot;my-package/modules/one&quot;;"}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 2, "last_activity_date": 1525296547, "creation_date": 1525296547, "answer_id": 50143806, "question_id": 50143630, "link": "https://stackoverflow.com/questions/50143630/how-to-produce-and-consume-multi-module-npm-packages-written-in-typescript/50143806#50143806", "title": "How to produce and consume multi-module NPM packages written in Typescript", "body": "<p>You could do:</p>\n\n<pre><code>import { talk } from \"my-package/dist/one\"\n</code></pre>\n"}], "owner": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 50143806, "answer_count": 1, "score": 1, "last_activity_date": 1525296547, "creation_date": 1525295519, "question_id": 50143630, "link": "https://stackoverflow.com/questions/50143630/how-to-produce-and-consume-multi-module-npm-packages-written-in-typescript", "title": "How to produce and consume multi-module NPM packages written in Typescript", "body": "<p>I have, for quite some time now, been very comfortable creating and consuming NPM packages using Typescript, but with those packages essentially being provided and consumed as a single module.  I would now like to publish packages that have more than one module in them without requiring the consumer to import more of that package than they want in their code.</p>\n\n<p>Assume I have two typescript modules in my package src folder, one in the file one.ts, and the other in the file two.ts:</p>\n\n<p>one.ts:</p>\n\n<pre><code>export function talk() { console.log(\"Hello World\"); };\n</code></pre>\n\n<p>two.ts:</p>\n\n<pre><code>export function talk() { console.log(\"Goodbye World\"); };\n</code></pre>\n\n<p>Now, using best practices for creating an NPM package in Typescript, I also create in my src folder the index.ts file:</p>\n\n<p>index.ts:</p>\n\n<pre><code>import * as one from \"./one\";\nimport * as two from \"./two\";\nexport { one, two };\n</code></pre>\n\n<p>And how there will be in my package's dist folder the files index.js, index.d.ts, one.js, one.d.ts, two.js, and two.d.ts (and probably also source mapping files not relevant to this question).</p>\n\n<p>Here is the (somewhat abbreviated) package.json:</p>\n\n<pre><code>{\n  \"name\": \"my-package\",\n  \"version\": \"0.0.5\",\n  \"description\": \"\",\n  \"license\": \"UNLICENSED\",\n  \"main\": \"dist/\",\n  \"types\": \"dist/\",\n  \"scripts\": {\n    \"build\": \"tsc --skipLibCheck\",\n    \"prepublish\": \"yarn run build\",\n  },\n  \"keywords\": [],\n  \"dependencies\": {},\n  \"files\": [\n    \"src\",\n    \"dist\"\n  ]\n}\n</code></pre>\n\n<p>And similarly the somewhat abbreviated tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"noImplicitAny\": true,\n    \"noEmitOnError\": true,\n    \"removeComments\": false,\n    \"declaration\": true,\n    \"outDir\": \"./dist\",\n    \"allowJs\": false,\n    \"sourceMap\": true,\n    \"typeRoots\": [\n      \"./node_modules/@types\"\n    ]\n  },\n  \"include\": [ \"src/**/*\" ],\n  \"exclude\": [ \"node_modules\" ],\n  \"compileOnSave\": false\n}\n</code></pre>\n\n<p>Now I publish that package and consume it in typescript (after, of course, the npm -i) with the following:</p>\n\n<pre><code>import * as conversation from \"my-package\"\nconversation.one.talk();  // Hello World\nconversation.two.talk();  // Goodbye World\n</code></pre>\n\n<p>But now assume that I want to ONLY import the module one.ts.  I only ever say \"hello\", and not \"goodbye\".  <strong>IMPORTANT:  I don't even want \"goodbye\" packed into my consuming code.</strong>  (In my case, I'm using webpack to bundle the consuming code).</p>\n\n<p>So I want to somehow be able to ask the import to ONLY import one.ts.  I don't really care what the syntax looks like, as long as I can do this:</p>\n\n<pre><code>import * as greeting from \"my-package.one\";  // I know this doesn't work\ngreeting.talk();\n</code></pre>\n\n<p>I also would really really LIKE to be able to do this:</p>\n\n<pre><code>import { talk } from \"my-package.one\";  // Again, I know this doesn't work\ntalk();\n</code></pre>\n\n<p>I know how to do this if writing javascript and creating my own header files with ambient modules.  But I don't want to do anything fancy like that.  I just want to use modules AS MODULES that are clearly there in the package as installed in node-modules.</p>\n\n<p>Any pointers that might suggest a modification to how I am building the multi-mode package and/or how I am consuming it?</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["typescript", "ecmascript-6", "duck-typing"], "answers": [{"comments": [{"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525310296, "post_id": 50144243, "comment_id": 87309307, "body": "It is weird that object literal has excess property check, but not object myObj. Why is that?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 2, "creation_date": 1525324889, "post_id": 50144243, "comment_id": 87313065, "body": "Because the object isn&#39;t aliased anywhere else, TypeScript can be fairly confident that the excess property isn&#39;t going to be used for a different purpose in some other part of the code. The same cannot be said of myObj - we may be inspecting it only for its .width here but then using its .colour in some other place."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525335915, "post_id": 50144243, "comment_id": 87318330, "body": "In case of myObj, you know at compile time that it is of type any, then how would you allow it to be passed to function which accepts SquareConfig type?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525337863, "post_id": 50144243, "comment_id": 87319493, "body": "<code>myObj</code> is not of type <code>any</code>."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525382857, "post_id": 50144243, "comment_id": 87346164, "body": "<code>colour</code> property in <code>myObj</code> makes it  of type <code>any</code>. Isn&#39;t it?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525383578, "post_id": 50144243, "comment_id": 87346413, "body": "No; why would that be the case? It has the inferred type <code>{ colour: string; width: number }</code>"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525443633, "post_id": 50144243, "comment_id": 87371365, "body": "Unless I explicitly mention the type as <code>any</code> in  <code>let myObj: any = {colour: &#39;red&#39;, width: 100};</code>, TS compiler would consider inferred type as <code>{ colour: string; width: number }</code>. Is that correct?"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 7, "last_activity_date": 1525298868, "creation_date": 1525298868, "answer_id": 50144243, "question_id": 50143250, "link": "https://stackoverflow.com/questions/50143250/how-excess-property-check-helps/50144243#50144243", "title": "How excess property check helps?", "body": "<blockquote>\n  <p>What is the purpose of excess property check, in second case?</p>\n</blockquote>\n\n<p>It correctly detects bugs (as shown in this case, the misspelling of <code>color</code>) without creating too many false positives.</p>\n\n<p>Because the object isn't aliased anywhere else, TypeScript can be fairly confident that the excess property isn't going to be used for a different purpose in some other part of the code. The same cannot be said of <code>myObj</code> - we may be inspecting it only for its <code>.width</code> here but then using its <code>.colour</code> in some other place.</p>\n"}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 50144243, "answer_count": 1, "score": 6, "last_activity_date": 1525298868, "creation_date": 1525293681, "last_edit_date": 1525294611, "question_id": 50143250, "link": "https://stackoverflow.com/questions/50143250/how-excess-property-check-helps", "title": "How excess property check helps?", "body": "<p>For the below code,</p>\n\n<pre><code>interface SquareConfig{\n    color?: string;\n    width?: number;\n}\n\ninterface Square{\n    color: string;\n    area: number;\n}\n\nfunction createSquare(config: SquareConfig): Square {\n\n    let newSquare:Square = {color: \"white\", area: 100};\n    if (config.color) {\n        newSquare.color = config.color;\n    }\n    if (config.width) {\n        newSquare.area = config.width * config.width;\n    }\n    return newSquare;\n}\n</code></pre>\n\n<p>below argument(<code>myObj</code>) inferred as type <code>any</code> is allowed to pass as argument by type checker at compile time. JS code use duck typing at runtime.</p>\n\n<pre><code>let myObj = {colour: 'red', width: 100};\n\nlet mySquare = createSquare(myObj);\n</code></pre>\n\n<p>In second case, below argument(other than<code>SquareConfig</code> type) is not allowed to pass by type checker at compile time. As mentioned in handbook: <em>Object literals get special treatment and undergo excess property checking when assigning them to other variables, or passing them as arguments.</em></p>\n\n<pre><code>let mySquare = createSquare({colour: 'red', width: 100});\n</code></pre>\n\n<p>What is the purpose of excess property check, in second case?</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 655, "user_id": 7077287, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/WY4D5.png?s=128&g=1", "display_name": "Ostn", "link": "https://stackoverflow.com/users/7077287/ostn"}, "edited": false, "score": 0, "creation_date": 1525298437, "post_id": 50143082, "comment_id": 87306557, "body": "Using getWelcomeMessage is one useless step added because angular need to run the function instead of taking directly the value, and you write more code. Using getter is useful in term of code organisation only, I don&#39;t see any benefit there."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1525306223, "post_id": 50143082, "comment_id": 87308476, "body": "Methods may be called more than once."}, {"owner": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "edited": false, "score": 0, "creation_date": 1525362653, "post_id": 50143082, "comment_id": 87336075, "body": "I understood that the class member were used to store state and methods would perform operations on those state, does this mean we can have tons of class members saving data that may or may not be HTML bound or are in any kind a state."}], "owner": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525293011, "creation_date": 1525293011, "question_id": 50143082, "link": "https://stackoverflow.com/questions/50143082/ionic-angular-class-member-vs-method", "title": "Ionic/Angular class member vs method", "body": "<p>I have a ionic 3 template and corresponding typescript class</p>\n\n<p>In the template I have</p>\n\n<pre><code>&lt;p&gt;{{welcomeMessage}}&lt;/p&gt;\n</code></pre>\n\n<p>In the class I have</p>\n\n<pre><code>@IonicPage()\n@Component({\n   selector: 'page-my-test',\n   templateUrl: 'my-test.html',\n})\nexport class MyTestPage {\n   public welcomeMessage = \"Hello World\";\n}\n</code></pre>\n\n<p>In another template I have</p>\n\n<pre><code>&lt;p&gt;{{getWelcomeMessage()}}&lt;/p&gt;\n</code></pre>\n\n<p>In the class I have</p>\n\n<pre><code>@IonicPage()\n@Component({\n   selector: 'page-my-test',\n   templateUrl: 'my-test.html',\n})\nexport class MyTestPage {\n   public getWelcomeMessage() {return  \"Hello World\";}\n}\n</code></pre>\n\n<p>Performance wise which will benefit more? Keeping Class level members or methods that return some data</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1525293361, "post_id": 50142818, "comment_id": 87304481, "body": "Problem will be at run time, there will be nothing for JS to use to grab that method from (types are some syntactic sugar that TypeScript adds and is completely stripped when compiling). Maybe you can just have a function passed that is the <code>fromString</code> method. It will be up to the caller to statically use the type&#39;s static <code>fromString</code> method. Just a thought."}], "answers": [{"comments": [{"owner": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 0, "creation_date": 1525340959, "post_id": 50145911, "comment_id": 87321577, "body": "Have you removed content of DtoSchema interface on purpose? I mean: DtoSchema now doesn&#39;t indicate that there will be such method like <code>fromString</code>. Is it OK to do it that way?"}, {"owner": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 0, "creation_date": 1525341108, "post_id": 50145911, "comment_id": 87321672, "body": "Because now when I want to call <code>fromString</code> from T (that way: <code>(T as DtoSchema).fromString(item)</code>), compiler says that there is no such thing like <code>fromString</code> in <code>DtoSchema</code>. And basically it is right. DtoSchema doesn&#39;t have any <code>fromString</code> method"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1525313139, "creation_date": 1525313139, "answer_id": 50145911, "question_id": 50142818, "link": "https://stackoverflow.com/questions/50142818/calling-static-function-of-generic-type/50145911#50145911", "title": "Calling static function of generic type", "body": "<p>This simply answers the question you asked. </p>\n\n<blockquote>\n  <p><code>Type 'ColumnDTO' is not assignable to type 'T'</code></p>\n</blockquote>\n\n<p>Your simplified code showing the error: </p>\n\n<pre><code>interface DtoSchema { }\nexport class ColumnDTO {\n    static fromString&lt;T extends DtoSchema&gt;(data: any): T {\n        data = typeof data === 'object' ? data : {};\n        let result = new ColumnDTO();\n        result.init(data);\n        return result; // ERROR: Type 'ColumnDTO' is not assignable to type 'T'\n    }\n    init(data: any) {\n    }\n}\n</code></pre>\n\n<h1>Fix</h1>\n\n<p>Fix the return type annotation to match what you are returning: </p>\n\n<pre><code>interface DtoSchema { } \nexport class ColumnDTO {\n    static fromString&lt;T extends DtoSchema&gt;(data: any): ColumnDTO { // FIX!\n        data = typeof data === 'object' ? data : {};\n        let result = new ColumnDTO();\n        result.init(data);\n        return result; // No error!\n    }\n    init(data: any) {\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525313139, "creation_date": 1525291939, "question_id": 50142818, "link": "https://stackoverflow.com/questions/50142818/calling-static-function-of-generic-type", "title": "Calling static function of generic type", "body": "<p>Imagine a function that operates on generic types:</p>\n\n<pre><code>protected foo&lt;T&gt;(abc: any): T{\n    //[...]\n    let x : T = T.fromString(xyz);\n    //[...]\n}\n</code></pre>\n\n<p><code>fromString(xyz: string)</code> is a static function that somehow converts string to <code>T</code>.</p>\n\n<p>Of course it doesn't work now, because T is type not value. But if I knew that every class that will be in place of <code>T</code> will have <code>fromString</code> method implemented, how can I make this work correctly?</p>\n\n<p>I thought about creating interface:</p>\n\n<pre><code>export interface DtoSchema {\n    fromString&lt;T&gt;(data:any) : T;\n}\n</code></pre>\n\n<p>And implementing it in class:</p>\n\n<pre><code>export class ColumnDTO implements DtoSchema {\n    //[...]\n    static fromString&lt;T extends DtoSchema&gt;(data: any): T {\n        data = typeof data === 'object' ? data : {};\n        let result = new ColumnDTO();\n        result.init(data);\n        return result;\n    }\n}\n</code></pre>\n\n<p>I've exerimented with that a bit, but I can't make it work. Here is the last error I've encountered:</p>\n\n<blockquote>\n  <p>Type 'ColumnDTO' is not assignable to type 'T'</p>\n</blockquote>\n\n<p>Am I trying to do it correctly? How would you fix it?</p>\n"}, {"tags": ["angular", "typescript", "tfs", "command-line-interface"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 1, "creation_date": 1525300709, "post_id": 50142743, "comment_id": 87307278, "body": "First step: Try to isolate the problem. You say a co-worker can give you a copy of their repo and it works properly. Use a tool like Beyond Compare to look at the two side-by-side and identify differences. Chances are, that will give you the information you need to solve your problem."}, {"owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "edited": false, "score": 0, "creation_date": 1525346942, "post_id": 50142743, "comment_id": 87325340, "body": "Have you tried to get project files on your machine using  another account from TFS?"}, {"owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "edited": false, "score": 0, "creation_date": 1526609431, "post_id": 50142743, "comment_id": 87821363, "body": "Hi ben, any update on this issue, have you figure it out?"}, {"owner": {"reputation": 814, "user_id": 881083, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/PZxfB.jpg?s=128&g=1", "display_name": "kronus", "link": "https://stackoverflow.com/users/881083/kronus"}, "edited": false, "score": 0, "creation_date": 1549150577, "post_id": 50142743, "comment_id": 95802153, "body": "Did you ever resolve this issue? I have the same error. As a result, I am unable to build to prod"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2053875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hX73.jpg?s=128&g=1", "display_name": "Paul Tuck", "link": "https://stackoverflow.com/users/2053875/paul-tuck"}, "is_accepted": false, "score": 0, "last_activity_date": 1534349654, "creation_date": 1534349654, "answer_id": 51862467, "question_id": 50142743, "link": "https://stackoverflow.com/questions/50142743/angular-couldnt-resolve-original-symbol-for-angular-core-core-d-ts/51862467#51862467", "title": "Angular: Couldn&#39;t resolve original symbol for ...&quot;@angular/core/core.d.ts&quot;", "body": "<p>I just had the same issue, the reason the zip file works and the source control doesn't work is because your source control is ignoring the files in the folders that contain the word \"debug\".</p>\n\n<p>This explains the message:</p>\n\n<blockquote>\n  <p>Error in error: Couldn't resolve original symbol for ./src/debug/debug_node</p>\n</blockquote>\n\n<p>As the code for \"debug_node\" can't be found.</p>\n\n<p>The fact that angular uses the word \"debug\" in folders all over the place is very annoying.  There may be other keywords that your source control is ignoring too.</p>\n\n<p>I recommend using a file comparison tool such as \"Beyond Compare\" to see all the differences between what is in your source control and what you have from the zip file.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11153312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZvMT.jpg?s=128&g=1", "display_name": "Naveenkumar Sreedharan", "link": "https://stackoverflow.com/users/11153312/naveenkumar-sreedharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1551870225, "last_edit_date": 1551870225, "creation_date": 1551868793, "answer_id": 55021069, "question_id": 50142743, "link": "https://stackoverflow.com/questions/50142743/angular-couldnt-resolve-original-symbol-for-angular-core-core-d-ts/55021069#55021069", "title": "Angular: Couldn&#39;t resolve original symbol for ...&quot;@angular/core/core.d.ts&quot;", "body": "<p>This should work fine.</p>\n\n<p>Try installing the core in your local machine. Below is the command. Run it in your terminal.</p>\n\n<pre><code>----- npm install @angular/core \n</code></pre>\n\n<p>Let me know if it helps</p>\n"}], "owner": {"reputation": 1, "user_id": 5190874, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153032338077966/picture?type=large", "display_name": "Ben Booton", "link": "https://stackoverflow.com/users/5190874/ben-booton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3900, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551870225, "creation_date": 1525291656, "last_edit_date": 1525320315, "question_id": 50142743, "link": "https://stackoverflow.com/questions/50142743/angular-couldnt-resolve-original-symbol-for-angular-core-core-d-ts", "title": "Angular: Couldn&#39;t resolve original symbol for ...&quot;@angular/core/core.d.ts&quot;", "body": "<p>I've been beating my head around this for days. My work place has a project on TFS.  I download the project and run the following cli commands to modify the application to my environment.  </p>\n\n<p><code>cd</code> to <code>.\\ClientApp</code></p>\n\n<pre><code>npm install \nnpm install --save jquery popper.js moment bootstrap@4.0.0 @angular/material @angular/cdk ajv @fortawesome/fontawesome @fortawesome/fontawesome-free-regular @fortawesome/fontawesome-free-solid @angular/material-moment-adapter @angular/cdk@5.2.4 @angular/material@5.2.4 @angular/material-moment-adapter@5.2.4\n</code></pre>\n\n<p>I get the error </p>\n\n<blockquote>\n  <p>Error in error: Couldn't resolve original symbol for ./src/debug/debug_node from D:/src/Expenser/ClientApp/node_modules/@angular/core/core.d.ts aaaaat D:\\src\\Expenser\\ClientApp\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.js:29542.....</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/fjFQ5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>If I have a co worker zip the folder and give it to me it works fine.  But this is not a real solution.  I have tons of projects here and I need to be able to download these deals from TFS and go.  I should not have to hunt through file systems and cli commands to figure out what to do or why it doesn't.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TdkWi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["regex", "angular", "typescript", "unicode", "angularjs-directive"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 2, "creation_date": 1525289768, "post_id": 50142228, "comment_id": 87302726, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/280712/javascript-unicode-regexes\">Javascript + Unicode regexes</a>"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1525289871, "post_id": 50142228, "comment_id": 87302784, "body": "You can use a javascript library in a typescript project as well. You will just lack of type support"}, {"owner": {"reputation": 1393, "user_id": 2340939, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d9a710d823e382cc7be0a0208f3f126e?s=128&d=identicon&r=PG", "display_name": "user2340939", "link": "https://stackoverflow.com/users/2340939/user2340939"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1525291641, "post_id": 50142228, "comment_id": 87303645, "body": "@revo It does not provide a nice way of doing this. I&#39;m looking for a nicer way, than just specifying an insanely long range of unicode characters..."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1525291987, "post_id": 50142228, "comment_id": 87303800, "body": "There is no nicer way to do it until major browsers implement new ECMA features and support of unicode properties."}], "owner": {"reputation": 1393, "user_id": 2340939, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d9a710d823e382cc7be0a0208f3f126e?s=128&d=identicon&r=PG", "display_name": "user2340939", "link": "https://stackoverflow.com/users/2340939/user2340939"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 906, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525291734, "creation_date": 1525289598, "last_edit_date": 1525291734, "question_id": 50142228, "link": "https://stackoverflow.com/questions/50142228/angular-5-regex-match-any-unicode-alphabet-letter", "title": "Angular 5 regex match any Unicode alphabet letter", "body": "<p>How can I match any Unicode letter (no symbol, number or any other kind of character), i.e. letter from alphabet of any language, in the Angular <code>pattern</code> directive? Previously I've used AngularJS and I've just installed <em>XRegExp</em> plugin for it, but since Angular 5 is using <em>TypeScript</em>, I was trying to find a way to do this without using the mentioned plugin. But I can't seem to find any other way...</p>\n\n<p>EDIT: I'm looking for a straightforward way, without using plugins and without insanely long list of unicode charater ranges.</p>\n"}, {"tags": ["angular", "typescript", "ng2-smart-table"], "comments": [{"owner": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "edited": false, "score": 0, "creation_date": 1525291867, "post_id": 50142133, "comment_id": 87303743, "body": "Can you post a little code so people can work with something here please?"}], "answers": [{"tags": [], "owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "is_accepted": false, "score": 0, "last_activity_date": 1525295070, "creation_date": 1525295070, "answer_id": 50143532, "question_id": 50142133, "link": "https://stackoverflow.com/questions/50142133/smart-table-angular-2-validation/50143532#50143532", "title": "Smart-Table Angular 2 Validation", "body": "<p>I have never used ng2-smart-table, but could you do some pre-processing where you check each value and remove it if it is a duplicate?</p>\n\n<pre><code>for(let i = 0; i &lt; data.length; i++) {\n  for(let j = i+1; j &lt; data.length; j++) {\n    if(data[i] === data[j]) {\n      data.splice(j, 0);\n    }\n  }\n}\n</code></pre>\n\n<p>as for adding data to the end, could you do something like this instead of letting the table handle it?</p>\n\n<pre><code>addRow(row) {\n  data.push(row);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9732056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba18131606df6804eefde4c02b271b80?s=128&d=identicon&r=PG&f=1", "display_name": "Hassaan ", "link": "https://stackoverflow.com/users/9732056/hassaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525295070, "creation_date": 1525289278, "question_id": 50142133, "link": "https://stackoverflow.com/questions/50142133/smart-table-angular-2-validation", "title": "Smart-Table Angular 2 Validation", "body": "<p>I'm new to angular and using angular smart-table. What i need is adding validation that no two rows can be similar???? and also adding data below at the bottom of table instead of the default way which is to add row at the top of the table??</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "ng2-dragula"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1525288262, "post_id": 50141810, "comment_id": 87301966, "body": "<code>[attr.data-id]=&quot;bag-equipment&quot;</code> means that you have properties <code>bag</code> and <code>equipment</code> and just execute subtraction. Try <code>[attr.data-id]=&quot;&#39;bag-equipment&#39;&quot;</code> (note quotes) or <code>attr.data-id=&quot;bag-equipment&quot;</code>"}, {"owner": {"reputation": 1475, "user_id": 6437913, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bdea8819927b67c446cf3cd0b860bce9?s=128&d=identicon&r=PG&f=1", "display_name": "av0000", "link": "https://stackoverflow.com/users/6437913/av0000"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1525291567, "post_id": 50141810, "comment_id": 87303611, "body": "Thanks! I get the same result but I didn&#39;t know that about subtraction."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1525291782, "post_id": 50141810, "comment_id": 87303708, "body": "Can you create a small repro to reproduce your issue?"}], "answers": [{"tags": [], "owner": {"reputation": 1475, "user_id": 6437913, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bdea8819927b67c446cf3cd0b860bce9?s=128&d=identicon&r=PG&f=1", "display_name": "av0000", "link": "https://stackoverflow.com/users/6437913/av0000"}, "is_accepted": false, "score": 1, "last_activity_date": 1525293161, "creation_date": 1525293161, "answer_id": 50143111, "question_id": 50141810, "link": "https://stackoverflow.com/questions/50141810/dragula-and-angular-5-update-object-location-value-by-dropping/50143111#50143111", "title": "Dragula and Angular 5 - update object location value by dropping", "body": "<p>I realized that I can get the origin and destination with:</p>\n\n<pre><code>this.dragula.drop.subscribe(value =&gt; {\n    //Bag       \n    console.log(value[0]);\n\n    // What is moved\n    console.log(value[1]);\n\n    // Destination\n    console.log(value[2]);\n\n    // Origin\n    console.log(value[3]);\n});\n</code></pre>\n\n<p>And find the id, of the destination for example, with:</p>\n\n<pre><code>console.log(value[2]['id']);\n</code></pre>\n"}], "owner": {"reputation": 1475, "user_id": 6437913, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bdea8819927b67c446cf3cd0b860bce9?s=128&d=identicon&r=PG&f=1", "display_name": "av0000", "link": "https://stackoverflow.com/users/6437913/av0000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1606420125, "creation_date": 1525287912, "last_edit_date": 1606420125, "question_id": 50141810, "link": "https://stackoverflow.com/questions/50141810/dragula-and-angular-5-update-object-location-value-by-dropping", "title": "Dragula and Angular 5 - update object location value by dropping", "body": "<p>I have a bag with several divs where each div has a list of items that all have the same value for location, so the &quot;Misc&quot; div has items that all have &quot;location: misc&quot;, the &quot;Armor&quot; div has items that all have &quot;location: armor&quot;, etc.</p>\n<p>I can sort the items into their respective divs but I want to be able to drag an item to another div and then change the item's location value accordingly, but I have no idea how to go about this.</p>\n<p>I tried <a href=\"https://github.com/valor-software/ng2-dragula/issues/173\" rel=\"nofollow noreferrer\">this solution</a> but I must not be understanding it correctly.</p>\n<p>Code Snippet - this just consoles 'undefined'</p>\n<p>HTML:</p>\n<pre><code>    &lt;div \n    [dragula]='&quot;bag-equipment&quot;'\n    [dragulaModel]=&quot;equipmentBagOfHolding&quot;\n    [attr.data-id]=&quot;bag-equipment&quot;\n    &gt;\n    &lt;mat-card \n        *ngFor=&quot;let item of equipmentBagOfHolding&quot;  \n    &gt;\n        {{ item.name }} \n    &lt;/mat-card&gt;\n&lt;/div&gt; \n\n&lt;div \n    [dragula]='&quot;bag-equipment&quot;' \n    [dragulaModel]=&quot;equipmentArmor&quot;\n    [attr.data-id]=&quot;bag-equipment&quot;\n&gt;\n    &lt;mat-card \n        *ngFor=&quot;let item of equipmentArmor&quot;  \n    &gt;\n        {{ item.name }} \n    &lt;/mat-card&gt;\n&lt;/div&gt;\n</code></pre>\n<p>TS:</p>\n<pre><code>dragulaService.drop.subscribe(value =&gt; {\n    const [bagName, e, el] = value;\n    console.log('id is:', e.dataset.id);\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "http", "angular-http"], "answers": [{"comments": [{"owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525288515, "post_id": 50141899, "comment_id": 87302085, "body": "This ends up giving me the same scenario. My components will throw errors in their respective constructors when I try to access <code>myData</code> because <code>myData</code> has not been populated. Not sure what I could do in that <code>else</code> statement. Even if I set it to an empty object, the variables in the components will need to get updated somehow."}, {"owner": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "reply_to_user": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525288675, "post_id": 50141899, "comment_id": 87302168, "body": "Ah, so it is failing in the test component above, correct?"}, {"owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 1, "creation_date": 1525292686, "post_id": 50141899, "comment_id": 87304154, "body": "Thanks, it also worked this way and it&#39;s always great to know different ways to do things."}, {"owner": {"reputation": 484, "user_id": 1229208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac59ff1d120d538489ee77fee9e9f181?s=128&d=identicon&r=PG", "display_name": "martin8768", "link": "https://stackoverflow.com/users/1229208/martin8768"}, "edited": false, "score": 2, "creation_date": 1525292752, "post_id": 50141899, "comment_id": 87304188, "body": "I&#39;d just add that the observable <code>catch</code> operator is very handy for catching errors and is much better for handling them so you don&#39;t have to do if (thing) else handleError()."}], "tags": [], "owner": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1525291071, "last_edit_date": 1525291071, "creation_date": 1525288275, "answer_id": 50141899, "question_id": 50141552, "link": "https://stackoverflow.com/questions/50141552/angular5-httpclient-set-variables-after-get-api-call/50141899#50141899", "title": "Angular5 HttpClient, set variables after GET api call", "body": "<p>I make it a standard practice to handle nulls/undefined coming from any kind of pub/sub</p>\n\n<p>MySharedService</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n/* Other imports */\n\n@Injectable()\nexport class MySharedService {\n\npublic message = new Subject&lt;any&gt;();\n\nmyData: MyDataInterface;\n\nconstructor(private apiServie: ApiService) {\n    this.apiService.getTestData().subscribe((response) =&gt; {\n        if(response){\n           this.myData = { ...response.body };\n           this.sendUpdate(this.myData);\n           console.log(this.myData);\n        }else console.log(\"I guess you could do some sort of handling in the else\")\n    });\n\n\n    sendUpdate(message) {\n        this.message.next(message);\n    }\n\n    getUpdate(): Observable&lt;any&gt; {\n    return this.message.asObservable();\n    }\n\n    clearUpdate() {\n        this.message.next();\n    }\n\n}\n</code></pre>\n\n<p>TestComponent</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MySharedService } from '../../../services/myshared.service';\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/operator/takeWhile';\n/* Other imports */    \n\n@Component({\nselector: 'app-test',\ntemplateUrl: './test.component.html',\nstyleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit, OnDestroy {\n\nsubscription: Subscription;\nprivate alive: boolean = true;\nname: string;\n/* Other variables here. */\n\nconstructor(private mySharedService: MySharedService) {\n    // Error here because myData has not been populated, yet.\n    this.subscription = this.mySharedService.getUpdate().takeWhile(() =&gt; this.alive).subscribe(message =&gt; {\n            if (message) {\n               this.name = message;\n            }\n        });\n    this.name = this.mySharedService.myData.name;\n   }\n}\n    //Best practice to clean up observables\n    ngOnDestroy() {\n    this.updateService.clearUpdate();\n    this.subscription.unsubscribe();\n    this.alive = false;\n}\n</code></pre>\n\n<p>The edits I made take full advantage of a modern Angular service using Rxjs subscription functionality IMO. Over the last year I have been splitting time between </p>\n\n<p>A) using stores with Flux/Redux/Mobx to pass resolved data around the application. Wait for the data to be resolved with observables or use Select methods to get data</p>\n\n<p>or </p>\n\n<p>B) using a pub/sub pattern to get updates from services when they have the actual data you need. I find it easier to use and comes in handy for smaller apps or plugging in directives and components here and there. </p>\n\n<p>The key I think in your type of situation is to handle where there is data and also when there isn't. Good example of this is that \"...loading\" text that Angular pre-populates the view of every component you create using Angular CLI.</p>\n\n<p>Just remember if you are going to use observables to clean them up using ngOnDestroy (Or unintended behavior can happen)</p>\n\n<p>Good Luck!!</p>\n"}, {"comments": [{"owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525288958, "post_id": 50142036, "comment_id": 87302302, "body": "Wouldn&#39;t that make multiple rest calls to the api if I had to that in every component that needs that data? I was trying to prevent multiple calls and only do it once."}, {"owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "reply_to_user": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525289130, "post_id": 50142036, "comment_id": 87302392, "body": "once you get it set the service variable to result data and use it directly, don&#39;t make two services"}, {"owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525289321, "post_id": 50142036, "comment_id": 87302495, "body": "I might not be fully understanding. Even if I made one service, I have multiple components loading at a time, if I put the above code in each component, it will make multiple calls to the endpoint wouldn&#39;t it?"}, {"owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "reply_to_user": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 1, "creation_date": 1525289535, "post_id": 50142036, "comment_id": 87302606, "body": "Yes, but you can check if the service variable have data do not call the server"}], "tags": [], "owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "is_accepted": false, "score": 1, "last_activity_date": 1525293688, "last_edit_date": 1525293688, "creation_date": 1525288835, "answer_id": 50142036, "question_id": 50141552, "link": "https://stackoverflow.com/questions/50141552/angular5-httpclient-set-variables-after-get-api-call/50142036#50142036", "title": "Angular5 HttpClient, set variables after GET api call", "body": "<p>Inside your <strong>TestComponent</strong> when calling the service jus subscribe to as below, also call it in <code>ngOnInit</code> event</p>\n\n<pre><code>ngOnInit() {\n\n  if (this.mySharedService.myData) {\n    this.name = this.mySharedService.myData.name;\n  } else {\n    this.apiService.getTestData().subscribe(\n      data =&gt; {\n        // On Success\n        this.mySharedService.myData = data.body.myData;\n        this.name = this.mySharedService.myData.name;\n      },\n      err =&gt; {\n        // On Error\n      });\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525292758, "post_id": 50142069, "comment_id": 87304195, "body": "Unfortunately, this put me in the same situation as before. Multiple calls to the rest service."}], "tags": [], "owner": {"reputation": 2950, "user_id": 3365339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWtGg.jpg?s=128&g=1", "display_name": "Franklin Pious", "link": "https://stackoverflow.com/users/3365339/franklin-pious"}, "is_accepted": false, "score": 0, "last_activity_date": 1525288968, "creation_date": 1525288968, "answer_id": 50142069, "question_id": 50141552, "link": "https://stackoverflow.com/questions/50141552/angular5-httpclient-set-variables-after-get-api-call/50142069#50142069", "title": "Angular5 HttpClient, set variables after GET api call", "body": "<p>Try this and tell me.</p>\n\n<p>MySharedService</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n/* Other imports */\n\n@Injectable()\nexport class MySharedService {\n\n    myData: MyDataInterface;\n\n    constructor(public apiService: ApiService) {\n    }\n\n    fetchData() {\n       return this.apiService.getTestData();\n    }\n\n}\n</code></pre>\n\n<p>TestComponent</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MySharedService } from '../../../services/myshared.service';\n/* Other imports */    \n\n@Component({\n    selector: 'app-test',\n    templateUrl: './test.component.html',\n    styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n    name: string;\n    /* Other variables here. */\n\n    constructor(private mySharedService: MySharedService) {\n        this.mySharedService.fetchData().subscribe((resp: any) =&gt; {\n        this.name = resp.body; \n     });\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "edited": false, "score": 0, "creation_date": 1525292600, "post_id": 50142625, "comment_id": 87304106, "body": "Thank you! This seems to be the best way to do it for my case."}], "tags": [], "owner": {"reputation": 2678, "user_id": 2526437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhpf2.jpg?s=128&g=1", "display_name": "cyberpirate92", "link": "https://stackoverflow.com/users/2526437/cyberpirate92"}, "is_accepted": true, "score": 4, "last_activity_date": 1525291248, "creation_date": 1525291248, "answer_id": 50142625, "question_id": 50141552, "link": "https://stackoverflow.com/questions/50141552/angular5-httpclient-set-variables-after-get-api-call/50142625#50142625", "title": "Angular5 HttpClient, set variables after GET api call", "body": "<p>You should be using a <code>BehaviorSubject</code></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n/* Other imports */\n\n@Injectable()\nexport class MySharedService {\n\n    myData: BehaviorSubject&lt;MyDataInterface&gt; = new BehaviorSubject(null);\n\n    constructor(private apiServie: ApiService) {\n        this.apiService.getTestData().subscribe((response) =&gt; {\n            this.myData.next({ ...response.body });\n            console.log(this.myData.getValue());\n        });\n    }\n}\n</code></pre>\n\n<p>It's a bad practice to do subscriptions in component constructors, use the <code>ngOnInit</code> lifecycle hook instead.</p>\n\n<pre><code>export class TestComponent implements OnInit {\n\n    name: string;\n    /* Other variables here. */\n\n    constructor(private mySharedService: MySharedService) {\n    }\n\n    ngOnInit() {\n        this.mySharedService.myData.subscribe((data: MyDataInterface) =&gt; { \n            if (data)\n                this.name = data.name;\n        });\n    }\n}\n</code></pre>\n\n<p>The network call will be made only once and the data will be cached in the <code>BehaviorSubject</code>, which all the components will be subscribed to.</p>\n\n<p>Now Why use a <code>BehaviorSubject</code> instead of an <code>Observable</code>? Because,</p>\n\n<ul>\n<li><p>Upon subscription <code>BehaviorSubject</code> returns the last value whereas A regular observable only triggers when it receives an onnext.</p></li>\n<li><p>If you want to retrieve the last value of the <code>BehaviorSubject</code> in a non-observable code (without a subscription), you can use the <code>getValue()</code> method.</p></li>\n</ul>\n"}], "owner": {"reputation": 2969, "user_id": 3187995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98df6434e724d62ad3c225a9bac5e0bf?s=128&d=identicon&r=PG&f=1", "display_name": "o.o", "link": "https://stackoverflow.com/users/3187995/o-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6506, "favorite_count": 2, "accepted_answer_id": 50142625, "answer_count": 4, "score": 3, "last_activity_date": 1525293688, "creation_date": 1525286993, "last_edit_date": 1525287595, "question_id": 50141552, "link": "https://stackoverflow.com/questions/50141552/angular5-httpclient-set-variables-after-get-api-call", "title": "Angular5 HttpClient, set variables after GET api call", "body": "<p>I have a service (lets call it <code>MySharedService</code>) which multiple components use. Inside <code>MySharedService</code>, I call another service that makes API calls. <code>MySharedService</code> holds a JavaScript object that is assigned after my <code>GET</code> call.</p>\n\n<p>My problem is that my components rely on that JavaScript object to set their values in their constructors. How can I set their values when that JavaScript might be undefined because the API call has not completed yet? Here's a sample:</p>\n\n<p><strong>ApiService</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { HttpClient } from '@angular/common/http';\n/* Other imports */\n\n@Injectable()\nexport class ApiService {\n\n    constructor(private http: HttpClient) { }\n\n    getTestData(): Observable&lt;MyDataInterface&gt; {\n        const API_URL = 'some_url_here';\n        return this.http.get&lt;MyDataInterface&gt;(API_URL, { observe: 'response' });\n    }\n}\n</code></pre>\n\n<p><strong>MySharedService</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n/* Other imports */\n\n@Injectable()\nexport class MySharedService {\n\n    myData: MyDataInterface;\n\n    constructor(private apiServie: ApiService) {\n        this.apiService.getTestData().subscribe((response) =&gt; {\n            this.myData = { ...response.body };\n            console.log(this.myData);\n        });\n    }\n}\n</code></pre>\n\n<p><strong>TestComponent</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MySharedService } from '../../../services/myshared.service';\n/* Other imports */    \n\n@Component({\n    selector: 'app-test',\n    templateUrl: './test.component.html',\n    styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n    name: string;\n    /* Other variables here. */\n\n    constructor(private mySharedService: MySharedService) {\n        // Error here because myData has not been populated, yet.\n        this.name = this.mySharedService.myData.name;\n    }\n}\n</code></pre>\n\n<p>So the problem happens inside my components when I try to access data from the <code>myData</code> object because it hasn't been populated, yet (the <code>console.log()</code> does eventually print the data out after a couple of seconds). How am I supposed to go about getting the values? I only want to call the rest service once and save the object inside <code>MySharedService</code> then have all my components use that object. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3543079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J79UE.png?s=128&g=1", "display_name": "Hectim", "link": "https://stackoverflow.com/users/3543079/hectim"}, "edited": false, "score": 0, "creation_date": 1525285392, "post_id": 50141035, "comment_id": 87300571, "body": "This works but my module names I want to export under are nested. This seems to only work when exporting under a single name. Can I do something similar but <code>export * as A.b.c from &#39;.&#47;A&#39;;</code>"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1525284801, "creation_date": 1525284801, "answer_id": 50141035, "question_id": 50140774, "link": "https://stackoverflow.com/questions/50140774/typescript-export-aggregator/50141035#50141035", "title": "Typescript export aggregator", "body": "<p>A way of doing it can be importing everything into the <strong>aggregator.ts</strong> and exporting it back out in a single object:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as A from './A';\nimport * as B from './B';\n\nexport { A, B };\n</code></pre>\n\n\n\n<p>And you could later use it as such:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { A } from './aggregate';\n\nlet something = new A.AClass();\n</code></pre>\n\n\n"}], "owner": {"reputation": 85, "user_id": 3543079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J79UE.png?s=128&g=1", "display_name": "Hectim", "link": "https://stackoverflow.com/users/3543079/hectim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1525284801, "creation_date": 1525283662, "last_edit_date": 1525284698, "question_id": 50140774, "link": "https://stackoverflow.com/questions/50140774/typescript-export-aggregator", "title": "Typescript export aggregator", "body": "<p>Basically I'm trying to aggregate imports under a namespace and re-export them. </p>\n\n<p>For example: If I have 3 files A,B,C I want to do something like this</p>\n\n<pre><code>export module A.something {\n    export * from A;\n}\nexport module B.something {\n    export * from B;\n}\nexport module C.something {\n    export * from C;\n}\n</code></pre>\n\n<p>When I try importing them this way the module <code>A.something</code> exists but doesn't contain an any exports.</p>\n"}, {"tags": ["typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 4, "creation_date": 1525279353, "post_id": 50139468, "comment_id": 87297542, "body": "How is this &#39;const&#39; supposed to work? Why should function argument be const? It doesn&#39;t matter whether it&#39;s <code>const</code> or not inside function."}, {"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 4, "creation_date": 1525279714, "post_id": 50139468, "comment_id": 87297718, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45086031/can-a-typescript-parameter-be-annotated-as-const\">Can a typescript parameter be annotated as const?</a>"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1525280632, "post_id": 50139468, "comment_id": 87298146, "body": "@estus Interface implementation should make sure that <code>v1</code> and <code>v2</code> objects are only read but not written. <a href=\"https://github.com/shamhub/Computing/blob/master/code_Sedgewick/design2Code/list/list.hpp#L31\" rel=\"nofollow noreferrer\">here</a> is a scenario"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1525280863, "post_id": 50139468, "comment_id": 87298251, "body": "It&#39;s unclear what &#39;read&#39; and &#39;written&#39; is about in your case. <code>const</code> doesn&#39;t prevent objects from being modified, as the answer explains. Please, provide an example that shows what you&#39;re trying to achieve/avoid."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1525281507, "post_id": 50139468, "comment_id": 87298605, "body": "@estus Query edited"}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 3, "last_activity_date": 1525279936, "creation_date": 1525279936, "answer_id": 50139798, "question_id": 50139468, "link": "https://stackoverflow.com/questions/50139468/function-type-typescript/50139798#50139798", "title": "Function type - TypeScript", "body": "<p>There's no way to declare this because it would have no effect on anything. <code>const</code> in TypeScript <strong>doesn't mean immutable</strong> -- it applies only to a binding, and a function parameter is not an externally-visible binding.</p>\n"}, {"comments": [{"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525283558, "post_id": 50140414, "comment_id": 87299708, "body": "interface should be able to tell whether <code>v1</code> can be modified. We do this in Java, C. Anyways, <code>let foo:compareTo = (a: Readonly&lt;Square&gt;, b: Readonly&lt;Square&gt;) =&gt; {a = {color: &#39;red&#39;, area: 20}; return 1;}</code> allows modification"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525284159, "post_id": 50140414, "comment_id": 87300006, "body": "As I mentioned, an interface only describes function inputs and outputs, not how function works. It&#39;s possible to do that with Readonly but not necessarily necessary. JS semantics differs from the C++ example you&#39;ve linked because objects are passed by reference everywhere in JS, and you can&#39;t restrict a developer from shooting into the foot everywhere. Common JS methods like array <code>map</code>, <code>filter</code>, <code>sort</code> aren&#39;t typed to prevent object modifications, even though it&#39;s rarely a good idea there."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525284676, "post_id": 50140414, "comment_id": 87300244, "body": "I do not get all three example in this answer, because <code>interface Square{readonly color: string; readonly area: number;}</code> would suffice for not allowing <code>a.area=0</code>. I did not get the value-add of using <code>Readonly&lt;Square&gt;</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525285386, "post_id": 50140414, "comment_id": 87300568, "body": "I was under impression that you wanted to omit <code>readonly</code> fields in Square and enforce them in <code>compareTo</code> only. If you didn&#39;t, it still remains unclear what purpose <code>const</code> is supposed to serve in your case."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525286318, "post_id": 50140414, "comment_id": 87301016, "body": "I would not like to allow something like this... <code>a = {color: &#39;white&#39;, area: 20};</code> in the function. <code>const</code> helps in such scenario for variables unlike parameters."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525287399, "post_id": 50140414, "comment_id": 87301524, "body": "There&#39;s no way to prevent this in JS or TS. You can reassign a parameter anywhere. That&#39;s a matter of style and personal preference. I don&#39;t see a reason to enforce this for a particular function. You can enforce this globally with <a href=\"https://palantir.github.io/tslint/rules/no-parameter-reassignment/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/no-parameter-reassignment</a> as a part of your coding style. I updated the answer."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1525287243, "last_edit_date": 1525287243, "creation_date": 1525282308, "answer_id": 50140414, "question_id": 50139468, "link": "https://stackoverflow.com/questions/50139468/function-type-typescript/50140414#50140414", "title": "Function type - TypeScript", "body": "<p>As another answer explains, <code>const</code> doesn't prevent objects from being modified in ES6, it only prevents reassignments.</p>\n\n<p>In order to prevent parameter reassignments globally, TSLint <a href=\"https://palantir.github.io/tslint/rules/no-parameter-reassignment/\" rel=\"nofollow noreferrer\"><code>no-parameter-reassignment</code> rule</a> can be used.</p>\n\n<p>In order to prevent object modifications <em>at runtime</em>, <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\" rel=\"nofollow noreferrer\"><code>Object.freeze</code></a> should be used. This can be enforced <em>at compilation time</em> with <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\"><code>Readonly</code> mapped type</a>. However, this won't have any effect if the types are compatible:</p>\n\n<pre><code>interface compareTo {\n    (v1: Readonly&lt;Square&gt;, v2: Readonly&lt;Square&gt;): number;      \n}\nconst foo: compareTo = (a: Square, b: Square) =&gt; {\n  a.area = 0;\n  return 1;\n}   \n</code></pre>\n\n<p>Generally, this isn't the responsibility of an interface to tell how function should internally work, it just describes its interface, so it would be:</p>\n\n<pre><code>interface compareTo {\n    (v1: Square, v2: Square): number;      \n}\nconst foo: compareTo = (a: Readonly&lt;Square&gt;, b: Readonly&lt;Square&gt;) =&gt; {\n  a.area = 0; // error\n  return 1;\n}   \n</code></pre>\n\n<p>But this will work if types are inferred from generic type, i.e. <code>a</code> type isn't specified in <code>compareTo</code> implementation:</p>\n\n<pre><code>interface compareTo&lt;T = Readonly&lt;Square&gt;&gt; {\n    (v1: T, v2: T): number;      \n}\n\nconst foo: compareTo = (a, b) =&gt; {\n  a.area = 0; // error\n  return 1;\n}   \n</code></pre>\n"}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 50139798, "answer_count": 2, "score": 0, "last_activity_date": 1525287243, "creation_date": 1525278767, "last_edit_date": 1525287134, "question_id": 50139468, "link": "https://stackoverflow.com/questions/50139468/function-type-typescript", "title": "Function type - TypeScript", "body": "<p>To define a function type, below example does not allow <code>const</code></p>\n\n<pre><code>interface Square{\n    readonly color: string;\n    readonly area: number;\n}\n\ninterface compareTo{\n    (const v1: Square, const v2: Square): number;  // syntax error      \n}\n</code></pre>\n\n<p>How to compare <code>v1</code> &amp; <code>v2</code> without changing the pointer of an object(<code>Square</code>) it is pointing to?</p>\n"}, {"tags": ["javascript", "rest", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 1138932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7437733fcdf36d1195da964e4fc76f84?s=128&d=identicon&r=PG", "display_name": "snowjak", "link": "https://stackoverflow.com/users/1138932/snowjak"}, "edited": false, "score": 0, "creation_date": 1525277650, "post_id": 50138904, "comment_id": 87296586, "body": "Ahhh, that makes sense. I had thought it was something to do with max-lengths -- but my other entities with &quot;long&quot; IDs were doing just fine (albeit with much numerically-smaller values)."}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 0, "last_activity_date": 1525276844, "creation_date": 1525276844, "answer_id": 50138904, "question_id": 50138745, "link": "https://stackoverflow.com/questions/50138745/rest-json-field-in-response-is-silently-incremented-by-browser/50138904#50138904", "title": "REST/JSON -- field in response is silently incremented by browser?", "body": "<p>You've got a problem with rounding. The number 20180501150819347 is greater than <code>Number.MAX_SAFE_INTEGER</code>. JavaScript (and TypeScript) represent all numbers as floating point numbers, so, numbers greater than that constant can't be correctly represented. Unfortunately, JavaScript does not have a pure integer type, or a long integer.</p>\n\n<p>You can check this behaviour  here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var num = 20180501150819347;\r\n\r\nconsole.log(num);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you see, <code>console.log</code> prints the next number, the same that happens to you.</p>\n\n<p>As you're dealing with IDs, my advice is that you change the type of the <code>id</code> property to <code>string</code>. It won't matter on the server-side, but will prevent rounding from ocurring in client side:</p>\n\n<pre><code>...\n\"tasks\": [ {\n  \"id\" : \"20180501150819347\",\n  ...\n}, ...]\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 1138932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7437733fcdf36d1195da964e4fc76f84?s=128&d=identicon&r=PG", "display_name": "snowjak", "link": "https://stackoverflow.com/users/1138932/snowjak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 50138904, "answer_count": 1, "score": 0, "last_activity_date": 1525276875, "creation_date": 1525276402, "last_edit_date": 1525276875, "question_id": 50138745, "link": "https://stackoverflow.com/questions/50138745/rest-json-field-in-response-is-silently-incremented-by-browser", "title": "REST/JSON -- field in response is silently incremented by browser?", "body": "<p>I'm building a JavaScript application (React/etc.) that consumes REST resources from a companion server (written in Spring Boot/REST/JPA).</p>\n\n<p>Mostly, I'm pulling either lists of entities or single entities --</p>\n\n<ul>\n<li><code>.../rest/tasks?page=0</code></li>\n<li><code>.../rest/tasks/1234567</code></li>\n</ul>\n\n<p>-- where each entity looks like:</p>\n\n<pre><code>{\n  \"id\" : 20180501150819347,\n  \"requested\" : \"2018-05-01T19:08:19.353+0000\",\n  \"cancelled\" : null,\n  \"delayUntil\" : null,\n  \"started\" : \"2018-05-01T19:08:30.140+0000\",\n  \"ended\" : \"2018-05-01T19:08:31.610+0000\",\n  \"status\" : \"complete\",\n  ...\n</code></pre>\n\n<p><strong>The Problem</strong> is that, for whatever reason, the \"id\" field on my entity is being incremented!</p>\n\n<p>For example:</p>\n\n<p><strong>1.</strong> I make the request: <code>/rest/tasks</code>, to get a list of submitted Tasks.</p>\n\n<p><strong>2.</strong> The resulting response looks like:</p>\n\n<pre><code>...\n\"tasks\": [ {\n  \"id\" : 20180501150819347,\n  ...\n</code></pre>\n\n<p>This is correct: a Task entity by that ID does exist in my database.</p>\n\n<p><strong>3.</strong> The JSON response is then given to my application as:</p>\n\n<pre><code>...\n\"tasks\": [ {\n  \"id\" : 20180501150819348,\n  ...\n</code></pre>\n\n<p><strong>4.</strong> I can definitely retrieve that entity via <code>rest/tasks/...9347</code> -- but, as in (2) and (3), the resulting JSON object has the incorrect (incremented) ID.</p>\n\n<p>The weird part is: this appears to be happening at the <em>browser</em>-level. When, for instance, I inspect the network request/response in Chrome, I see that the <strong>raw</strong> response contains the correct ID, and the pretty-printed response contains the incorrect (incremented) ID. I've verified this with both Chrome (66.0.3359.139) and Firefox (59.0.3).</p>\n\n<p>However, this is the only entity-type which manifests such behavior. I've tested all my other entity-types (with both <code>int</code> and <code>long</code> IDs). This behavior is consistent across multiple restarts (both application and browser).</p>\n\n<p><a href=\"https://i.stack.imgur.com/i7bFU.png\" rel=\"nofollow noreferrer\">Chrome - response (raw)</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CdCbe.png\" rel=\"nofollow noreferrer\">Chrome - response (pretty-printed)</a></p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 1797, "user_id": 9232222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea29b4a404c8e37c5f4a4679be57896?s=128&d=identicon&r=PG&f=1", "display_name": "August", "link": "https://stackoverflow.com/users/9232222/august"}, "edited": false, "score": 1, "creation_date": 1525276927, "post_id": 50138597, "comment_id": 87296130, "body": "el.scrollTop = el.scrollHeight; should work, you have any errors? Is your element (list) of correct type? list should be an HTMLElement to have these properties available."}, {"owner": {"reputation": 867, "user_id": 3822043, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/83fcff0849457026f29bb4d31dbe0a75?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/3822043/tristan"}, "reply_to_user": {"reputation": 1797, "user_id": 9232222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea29b4a404c8e37c5f4a4679be57896?s=128&d=identicon&r=PG&f=1", "display_name": "August", "link": "https://stackoverflow.com/users/9232222/august"}, "edited": false, "score": 0, "creation_date": 1525288117, "post_id": 50138597, "comment_id": 87301880, "body": "I logged the list item and this was the result: <code>ElementRef\u00a0{nativeElement: div.main, scrollTop: undefined}</code>"}, {"owner": {"reputation": 1797, "user_id": 9232222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea29b4a404c8e37c5f4a4679be57896?s=128&d=identicon&r=PG&f=1", "display_name": "August", "link": "https://stackoverflow.com/users/9232222/august"}, "edited": false, "score": 0, "creation_date": 1525288924, "post_id": 50138597, "comment_id": 87302291, "body": "Try to cast it as HTMLElement."}, {"owner": {"reputation": 867, "user_id": 3822043, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/83fcff0849457026f29bb4d31dbe0a75?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/3822043/tristan"}, "reply_to_user": {"reputation": 1797, "user_id": 9232222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea29b4a404c8e37c5f4a4679be57896?s=128&d=identicon&r=PG&f=1", "display_name": "August", "link": "https://stackoverflow.com/users/9232222/august"}, "edited": false, "score": 0, "creation_date": 1525289413, "post_id": 50138597, "comment_id": 87302551, "body": "I changed <code>@ViewChild(&#39;list&#39;) list:any;</code> to <code>@ViewChild(&#39;list&#39;) list:HTMLElement;</code>. There was no change"}], "answers": [{"tags": [], "owner": {"reputation": 1215, "user_id": 2807949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4547f3219dd3352d80d227db8e0c0b2?s=128&d=identicon&r=PG", "display_name": "Prashant", "link": "https://stackoverflow.com/users/2807949/prashant"}, "is_accepted": true, "score": 5, "last_activity_date": 1525289411, "creation_date": 1525289411, "answer_id": 50142172, "question_id": 50138597, "link": "https://stackoverflow.com/questions/50138597/scroll-div-to-bottom-in-ionic/50142172#50142172", "title": "Scroll Div to Bottom in Ionic", "body": "<p>try to add [scrollTop] to Template side. I found it easier to implement.</p>\n\n<pre><code>&lt;div #list class=\"main\" [scrollTop]=\"list.scrollHeight\"&gt;\n&lt;div class=\"row-container\" *ngFor=\"let log of logs\"&gt;\n    &lt;p class=\"log\"&gt;{{log.guess}}  -  {{log.result}}&lt;/p&gt;\n    &lt;div class=\"score-container\"&gt;\n        &lt;ion-icon name=\"star\" style=\"color: gold;\"&gt;&lt;/ion-icon&gt;\n        &lt;p class=\"score\"&gt;{{log.score}}&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 867, "user_id": 3822043, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/83fcff0849457026f29bb4d31dbe0a75?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/3822043/tristan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 0, "accepted_answer_id": 50142172, "answer_count": 1, "score": 1, "last_activity_date": 1525289411, "creation_date": 1525275880, "question_id": 50138597, "link": "https://stackoverflow.com/questions/50138597/scroll-div-to-bottom-in-ionic", "title": "Scroll Div to Bottom in Ionic", "body": "<p>I have an ionic page in which I have a scrollable div.</p>\n\n<pre><code>&lt;div #list class=\"main\"&gt;\n    &lt;div class=\"row-container\" *ngFor=\"let log of logs\"&gt;\n        &lt;p class=\"log\"&gt;{{log.guess}}  -  {{log.result}}&lt;/p&gt;\n        &lt;div class=\"score-container\"&gt;\n            &lt;ion-icon name=\"star\" style=\"color: gold;\"&gt;&lt;/ion-icon&gt;\n            &lt;p class=\"score\"&gt;{{log.score}}&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The class of the div:</p>\n\n<pre><code>.main {\n    height: 90%;\n    border-top: 1px solid black;\n    overflow-y: scroll;\n}\n</code></pre>\n\n<p>I want to automatically scroll to the bottom of the div when the page loads and also when a new item is added to the list.</p>\n\n<p>So far I have tried to use <code>@ViewChild('list') list:any;</code> to get the element. Then:</p>\n\n<pre><code>this.list.scrollTop = this.list.scrollHeight;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>this.list.scrollToBottom(100);\n</code></pre>\n\n<p>But <code>scrollTop</code> just does not work. <code>scrollToBottom</code> threw an error that stated scrollToBottom was not a function.</p>\n\n<p>How can I scroll to the bottom of the div?</p>\n"}, {"tags": ["typescript", "rxjs", "reactivex", "rxjs6"], "answers": [{"comments": [{"owner": {"reputation": 30574, "user_id": 427763, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7314f6ed3c46d62ce8671cad2c82b97?s=128&d=identicon&r=PG", "display_name": "prolink007", "link": "https://stackoverflow.com/users/427763/prolink007"}, "edited": false, "score": 0, "creation_date": 1525276488, "post_id": 50138317, "comment_id": 87295857, "body": "Thanks @martin. I used the provided information to fix my issue with the <code>pipe</code> operator. Posted my solution as well."}, {"owner": {"reputation": 415, "user_id": 2451767, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/DYVWE.jpg?s=128&g=1", "display_name": "Luis Armando", "link": "https://stackoverflow.com/users/2451767/luis-armando"}, "edited": false, "score": 0, "creation_date": 1529508928, "post_id": 50138317, "comment_id": 88901648, "body": "The doc links aren&#39;t working any more. Let&#39;s try to update your references @martin"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 14, "last_activity_date": 1547717364, "last_edit_date": 1547717364, "creation_date": 1525274905, "answer_id": 50138317, "question_id": 50138201, "link": "https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable/50138317#50138317", "title": "mergeMap does not exist on type observable", "body": "<p>That's correct, the \"patch\" style of operators has been removed since RxJS 6. You should better update your code to use only \"pipeable\" operators or install <code>rxjs-compat</code> package that provides backwards compatibility with RxJS 5.</p>\n\n<p>For more detailed description see official doc: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md</a></p>\n\n<p>... more specifically this part: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#backwards-compatibility\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#backwards-compatibility</a></p>\n"}, {"tags": [], "owner": {"reputation": 30574, "user_id": 427763, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7314f6ed3c46d62ce8671cad2c82b97?s=128&d=identicon&r=PG", "display_name": "prolink007", "link": "https://stackoverflow.com/users/427763/prolink007"}, "is_accepted": false, "score": 13, "last_activity_date": 1525276331, "creation_date": 1525276331, "answer_id": 50138725, "question_id": 50138201, "link": "https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable/50138725#50138725", "title": "mergeMap does not exist on type observable", "body": "<p>Thanks to the answer given by @martin, i was able to get it working with the new <code>pipe</code> operations in <code>rxjs6</code>. Here is my working code.</p>\n\n<pre><code>import {from, Observable} from 'rxjs';\nimport {mergeMap} from 'rxjs/operators';\n\nexport class Test {\n\n    public doSomething(): Observable&lt;any&gt; {\n        return from(...).pipe(mergeMap(...));\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 952, "user_id": 7014757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zzet0.jpg?s=128&g=1", "display_name": "farrellw", "link": "https://stackoverflow.com/users/7014757/farrellw"}, "is_accepted": false, "score": 3, "last_activity_date": 1526569823, "creation_date": 1526569823, "answer_id": 50394862, "question_id": 50138201, "link": "https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable/50394862#50394862", "title": "mergeMap does not exist on type observable", "body": "<p>Import the individual operators, then use pipe instead of chaining.</p>\n\n<pre><code>import { map, filter, catchError, mergeMap } from 'rxjs/operators';\n\nsource.pipe(\n  map(x =&gt; x + x),\n  mergeMap(n =&gt; of(n + 1, n + 2).pipe(\n    filter(x =&gt; x % 1 == 0),\n    scan((acc, x) =&gt; acc + x, 0),\n  )),\n  catchError(err =&gt; of('error found')),\n).subscribe(printResult);\n</code></pre>\n\n<p>Source: <a href=\"https://auth0.com/blog/whats-new-in-rxjs-6/\" rel=\"nofollow noreferrer\">https://auth0.com/blog/whats-new-in-rxjs-6/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2110, "user_id": 4902322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76Ya1.jpg?s=128&g=1", "display_name": "Shashikant Pandit", "link": "https://stackoverflow.com/users/4902322/shashikant-pandit"}, "is_accepted": false, "score": 0, "last_activity_date": 1534696523, "creation_date": 1534696523, "answer_id": 51919737, "question_id": 50138201, "link": "https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable/51919737#51919737", "title": "mergeMap does not exist on type observable", "body": "<p><strong>Component Html Goes like this</strong></p>\n\n<pre><code>&lt;input type=\"text\" placeholder=\"input first\" id=\"input1\"&gt;\n&lt;input type=\"text\" id=\"input2\" placeholder=\"input second\"&gt;\n&lt;span&gt;&lt;/span&gt;\n</code></pre>\n\n<p><strong>import required functions</strong></p>\n\n<pre><code>import { fromEvent } from 'rxjs'\nimport { map, mergeMap } from 'rxjs/operators'\n\n\nvar span = document.querySelector('span');\nvar input1 = document.querySelector('#input1');\nvar input2 = document.querySelector('#input2');\n\nvar obs1 = fromEvent(input1, 'input');\nvar obs2 = fromEvent(input2, 'input');\n\nvar obs1 = fromEvent(input1, 'input');\nvar obs2 = fromEvent(input2, 'input');\n\nobs1.pipe(mergeMap(event1 =&gt; obs2.pipe(\n      map(event2 =&gt; (&lt;HTMLInputElement&gt;event1.target).value\n        + \" \"\n        + (&lt;HTMLInputElement&gt;event2.target).value))))\n      .subscribe((result) =&gt; {\n       span.textContent=result;\n      })\n</code></pre>\n"}], "owner": {"reputation": 30574, "user_id": 427763, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7314f6ed3c46d62ce8671cad2c82b97?s=128&d=identicon&r=PG", "display_name": "prolink007", "link": "https://stackoverflow.com/users/427763/prolink007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11036, "favorite_count": 2, "accepted_answer_id": 50138317, "answer_count": 4, "score": 5, "last_activity_date": 1547717364, "creation_date": 1525274557, "question_id": 50138201, "link": "https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable", "title": "mergeMap does not exist on type observable", "body": "<p>I am trying to use <code>mergeMap</code> in <code>rxjs6</code> and i am getting this error:</p>\n\n<p><code>Property 'mergeMap' does not exist on type 'Observable&lt;{}&gt;'</code></p>\n\n<p>I have tried <code>import 'rxjs/add/operator/mergeMap';</code> and it is not working.</p>\n\n<p>What am i doing wrong?</p>\n\n<hr>\n\n<pre><code>import {from, Observable} from 'rxjs';\n\nexport class Test {\n\n    public doSomething(): Observable&lt;any&gt; {\n        return from(...).mergeMap();\n    }\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "webpack", "google-apps-script"], "comments": [{"owner": {"reputation": 171, "user_id": 9690552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GTDA.png?s=128&g=1", "display_name": "Tiago Machado", "link": "https://stackoverflow.com/users/9690552/tiago-machado"}, "edited": false, "score": 0, "creation_date": 1525273461, "post_id": 50137622, "comment_id": 87293951, "body": "have you installed some new npm package lately?"}, {"owner": {"reputation": 3, "user_id": 7339557, "user_type": "registered", "profile_image": "https://graph.facebook.com/1634406573480665/picture?type=large", "display_name": "Issei Morita", "link": "https://stackoverflow.com/users/7339557/issei-morita"}, "reply_to_user": {"reputation": 171, "user_id": 9690552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GTDA.png?s=128&g=1", "display_name": "Tiago Machado", "link": "https://stackoverflow.com/users/9690552/tiago-machado"}, "edited": false, "score": 0, "creation_date": 1525276047, "post_id": 50137622, "comment_id": 87295569, "body": "@Tiago Machado added package.json. Please confirm"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7339557, "user_type": "registered", "profile_image": "https://graph.facebook.com/1634406573480665/picture?type=large", "display_name": "Issei Morita", "link": "https://stackoverflow.com/users/7339557/issei-morita"}, "edited": false, "score": 0, "creation_date": 1535072187, "post_id": 50809898, "comment_id": 90941602, "body": "Thanks, but I found out the problem is that GoogleAppsScript uses some functions which JavaScript don&#39;t use like request."}], "tags": [], "owner": {"reputation": 1686, "user_id": 2348615, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a63740c597abaf6fcfba0e89ccd517dd?s=128&d=identicon&r=PG", "display_name": "wendellmva", "link": "https://stackoverflow.com/users/2348615/wendellmva"}, "is_accepted": false, "score": 0, "last_activity_date": 1528783140, "last_edit_date": 1528783140, "creation_date": 1528781830, "answer_id": 50809898, "question_id": 50137622, "link": "https://stackoverflow.com/questions/50137622/variable-global-must-be-of-type-global-but-here-h-as-type-global/50809898#50809898", "title": "Variable &#39;global&#39; must be of type &#39;global&#39;, but here h as type &#39;Global&#39;", "body": "<p>Somewhere in your code or the libraries that you dependent on probably in that cheerio-httpcli you have</p>\n\n<pre><code>declare var global: any;\n</code></pre>\n\n<p>Which for some reason typescript compiler complains about. You need to change that to.</p>\n\n<pre><code>declare var global: NodeJS.Global;\n</code></pre>\n\n<p>And your error will go away or you might get another error complaining about that it can find NodeJS for that to go away you need to include in tsconfig.json @types folder in node_modules;</p>\n\n<pre><code>\"typeRoots\": [\n  \"node_modules/@types\"\n]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7339557, "user_type": "registered", "profile_image": "https://graph.facebook.com/1634406573480665/picture?type=large", "display_name": "Issei Morita", "link": "https://stackoverflow.com/users/7339557/issei-morita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528783140, "creation_date": 1525272830, "last_edit_date": 1525275938, "question_id": 50137622, "link": "https://stackoverflow.com/questions/50137622/variable-global-must-be-of-type-global-but-here-h-as-type-global", "title": "Variable &#39;global&#39; must be of type &#39;global&#39;, but here h as type &#39;Global&#39;", "body": "<p>I am using GoogleAppsScript with webpack to bundle.<br>\nWhen I try to import<code>cheerio-httpcli</code>, I get an error.<br>\nCould you tell me how to fix this error? </p>\n\n<h2>Error:</h2>\n\n<p><code>\nERROR in [at-loader] ./node_modules/@types/node/index.d.ts:102:13\n      TS2403: Subsequent variable declarations must have the same type.<br>\nVariable 'global' must be of type 'global', but here has type 'Global'.\n</code></p>\n\n<h2>tsconfig.json</h2>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"rootDir\": \"./dev\",\n    \"outDir\": \"./src\",\n    \"alwaysStrict\": true,\n    \"baseUrl\": \"./\",\n        \"lib\": [\"es5\", \"es6\", \"dom\"],\n        \"typeRoots\": [\n      \"./node_modules/@types\"\n    ]\n  },\n  \"include\": [\n    \"./dev/**/*\",\n        \"./node_modules/@types/*\"\n  ]\n}\n</code></pre>\n\n<h2>webpack.config.js</h2>\n\n<pre><code>const GasPlugin = require('gas-webpack-plugin');\nconst es3ifyPlugin = require('es3ify-webpack-plugin');\n\nmodule.exports = {\n  entry: './dev/index.ts',\n  output: {\n    filename: 'bundle.js',\n    path: __dirname + '/src',\n  },\n  resolve: {\n    extensions: ['.ts'],\n  },\n  module: {\n    rules: [\n      { test: /\\.ts?$/, loader: 'awesome-typescript-loader' },\n    ],\n  },\n  plugins: [\n    new GasPlugin(),\n    new es3ifyPlugin(),\n  ],\n};\n</code></pre>\n\n<h2>package.json</h2>\n\n<pre><code>{\n  \"name\": \"searchfrombigcamera\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"lint\": \"tslint -c tslint.json 'dev/**/*.ts'\",\n    \"upload\": \"gapps upload\",\n    \"watch\": \"watch 'npm run build &amp;&amp; npm run upload' dev/\",\n    \"build\": \"webpack\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@types/google-apps-script\": \"^0.0.14\",\n    \"awesome-typescript-loader\": \"^3.2.3\",\n    \"es3ify-webpack-plugin\": \"^0.0.1\",\n    \"gas-webpack-plugin\": \"^0.2.1\",\n    \"tslint\": \"^5.7.0\",\n    \"typescript\": \"^2.5.2\",\n    \"watch\": \"^1.0.2\",\n    \"webpack\": \"^3.5.6\"\n  },\n  \"dependencies\": {\n    \"@types/request\": \"^2.47.0\",\n    \"cheerio-httpcli\": \"^0.7.3\",\n    \"jsdom\": \"^11.10.0\",\n    \"path\": \"^0.12.7\",\n    \"request\": \"^2.85.0\",\n    \"selenium-webdriver\": \"^4.0.0-alpha.1\"\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3663, "user_id": 1753960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SbcTo.gif?s=128&g=1", "display_name": "Scath", "link": "https://stackoverflow.com/users/1753960/scath"}, "edited": false, "score": 0, "creation_date": 1525271425, "post_id": 50137087, "comment_id": 87292520, "body": "Both tests are working fine for me..."}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 3, "creation_date": 1525271452, "post_id": 50137087, "comment_id": 87292540, "body": "This bit gives you the error: <code>this.validations.a[check]</code>? I can&#39;t reproduce this."}, {"owner": {"reputation": 695, "user_id": 9663835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f14290406c3a2a269845d60742d47b?s=128&d=identicon&r=PG&f=1", "display_name": "R. Garc&#237;a", "link": "https://stackoverflow.com/users/9663835/r-garc%c3%ada"}, "edited": false, "score": 1, "creation_date": 1525271459, "post_id": 50137087, "comment_id": 87292550, "body": "My test working well."}, {"owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "edited": false, "score": 0, "creation_date": 1525274469, "post_id": 50137087, "comment_id": 87294581, "body": "Yes that bit: this.validations.a[check] gives the error"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1525272054, "last_edit_date": 1525272054, "creation_date": 1525271525, "answer_id": 50137202, "question_id": 50137087, "link": "https://stackoverflow.com/questions/50137087/typescript-check-dynamically-if-string-is-a-property-of-complex-object/50137202#50137202", "title": "typescript check dynamically if string is a property of complex object", "body": "<p>You can go one of two routes. You can either add an index signature to your validation properties: </p>\n\n<pre><code>type Indexable = { [name: string]: string }\nconst validations = {\n    'a': {\n        'propertyaa': 'ax',\n        'ab': 'ay',\n        'ac': 'az'\n    } as Indexable,\n    'b': {\n        'ba': 'ax',\n        'bb': 'ay',\n        'bc': 'az'\n    } as Indexable\n};\n\nconst check = 'propertya' + 'a';\nif (validations.a[check] === undefined) {\n}\n</code></pre>\n\n<p>You could also just cast the property to <code>Indexable</code> when you use it:</p>\n\n<pre><code>if ((validations.a as Indexable)[check] === undefined) {\n}\n</code></pre>\n\n<p>You could also use <code>any</code> instead of <code>Indexable</code>, but the <code>Indexable</code> defined above provides more type safety then <code>any</code></p>\n\n<p>Another option is to assert that the string <code>check</code> is in fact a key for the value of <code>a</code>:</p>\n\n<pre><code>if (validations.a[check as 'propertyaa'] === undefined) {\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you go with the first option, a helper function can help avoid the need for the type assertion on each property of <code>validations</code>:</p>\n\n<pre><code>type Indexable = { [name: string]: string }\nconst validations = createValidations({\n    'a': {\n        'propertyaa': 'ax',\n        'ab': '19',\n        'ac': 'az'\n    },\n    'b': {\n        'ba': 'ax',\n        'bb': 'ay',\n        'bc': 'az'\n    }\n});\nfunction createValidations&lt;T&gt;(o: { [P in keyof T]: T[P] &amp; Indexable}) : typeof o {\n    return o;\n}\nconst check = 'propertya' + 'a';\nif (validations.a[check] === undefined) {\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "edited": false, "score": 0, "creation_date": 1525273253, "post_id": 50137238, "comment_id": 87293813, "body": "Sorry but I get: Element explicitly has an any type because type string | ComplexObject has no index signature. Am i missing something? thank u! Now i get this even if i check for this.validations.a[&#39;propertyaa&#39;]"}], "tags": [], "owner": {"reputation": 13760, "user_id": 2438165, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nBPzI.png?s=128&g=1", "display_name": "Mat\u011bj Pokorn&#253;", "link": "https://stackoverflow.com/users/2438165/mat%c4%9bj-pokorn%c3%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1525271644, "creation_date": 1525271644, "answer_id": 50137238, "question_id": 50137087, "link": "https://stackoverflow.com/questions/50137087/typescript-check-dynamically-if-string-is-a-property-of-complex-object/50137238#50137238", "title": "typescript check dynamically if string is a property of complex object", "body": "<p>You will need <a href=\"https://basarat.gitbooks.io/typescript/docs/types/index-signatures.html\" rel=\"nofollow noreferrer\">index signature</a>...</p>\n\n<pre><code>interface ComplexObject {\n    [index: string ]: string | ComplexObject;\n}\n\nconst check = 'propertya' + 'a';\n\nconst validations: ComplexObject = {\n    'a' : {\n      'propertyaa': 'ax',\n      'ab': 'ay',\n      'ac': 'az'\n    },\n    'b' : {\n      'ba': 'ax',\n      'bb': 'ay',\n      'bc': 'az'\n    }\n  };\n\nif (this.validations.a[check] === undefined) {\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "is_accepted": true, "score": 0, "last_activity_date": 1525432965, "creation_date": 1525432965, "answer_id": 50173743, "question_id": 50137087, "link": "https://stackoverflow.com/questions/50137087/typescript-check-dynamically-if-string-is-a-property-of-complex-object/50173743#50173743", "title": "typescript check dynamically if string is a property of complex object", "body": "<p>There is a simpler solution and really the only one that works for me so far:</p>\n\n<pre><code>cartoons = {\n      'producers': {\n          'Disney': 'Walt Disney',\n          'PIXAR1': 'John John'\n       }\n    }\n\nconst check = 'Dis' + 'ney';\n    const y = (&lt;any&gt;this.cartoons.producers)[check]; // notice the cast to any\n    alert(y);\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "accepted_answer_id": 50173743, "answer_count": 3, "score": 1, "last_activity_date": 1525432965, "creation_date": 1525271176, "question_id": 50137087, "link": "https://stackoverflow.com/questions/50137087/typescript-check-dynamically-if-string-is-a-property-of-complex-object", "title": "typescript check dynamically if string is a property of complex object", "body": "<p>I really need to be able to check dynamically if aa is a property of my complex object called validations</p>\n\n<pre><code>const check = 'propertya' + 'a'; // result of a complex calculation that returns string 'propertyaa'\n\nvalidations= {\n    'a' : {\n      'propertyaa': 'ax',\n      'ab': 'ay',\n      'ac': 'az'\n    },\n    'b' : {\n      'ba': 'ax',\n      'bb': 'ay',\n      'bc': 'az'\n    }\n  };\n\nif (this.validations.a[check] === undefined) {  ...\n</code></pre>\n\n<p>Error is:</p>\n\n<pre><code>element implicitly has an any type because type '{ ' propertyaa': string, 'ab': string, 'ac': string; }' has no index signature\n(property) 'a': {\n    'propertyaa': string;\n    'ab': string;\n    'ac': string;\n}\n</code></pre>\n\n<p>Curiously the static (not dynamic) variant works <code>if (this.validations.a['ab']) {</code></p>\n"}, {"tags": ["javascript", "angular", "google-maps", "typescript", "google-geocoder"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1525270152, "post_id": 50136570, "comment_id": 87291521, "body": "What do you mean by this: &quot;router.navigate not working properly&quot;?"}, {"owner": {"reputation": 379, "user_id": 5861265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7SwfNfITyf0/AAAAAAAAAAI/AAAAAAAAADc/CJug77ZzAcs/photo.jpg?sz=128", "display_name": "Ante Ere\u0161", "link": "https://stackoverflow.com/users/5861265/ante-ere%c5%a1"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1525270321, "post_id": 50136570, "comment_id": 87291667, "body": "it navigate url to list, but template view is not list template, it&#39;s still adding form template. And i tried call another function for opening error dialog &quot;this..confirmDialog(ErrorDialog, &quot;Something wrong&quot;);&quot;. It opens dialog but without message, and if i call this functions outside geocodeAddress callback function, everything works properly"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1525271537, "post_id": 50136570, "comment_id": 87292598, "body": "In addition to processing the data inside of the <code>geocodeAddress</code> callback, change <code>function (results, status) { ... }</code> for <code>(results, status) =&gt; { ... }</code> to preserve the value of <code>this</code> with an arrow function."}], "answers": [{"comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1525271201, "post_id": 50136949, "comment_id": 87292355, "body": "Why answer this instead of directing the OP to the cannonical async reference question?  It doesn&#39;t matter if the OP is using typescript or not.  What matters is that the OP doesn&#39;t quite understand how async programming works."}, {"owner": {"reputation": 379, "user_id": 5861265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7SwfNfITyf0/AAAAAAAAAAI/AAAAAAAAADc/CJug77ZzAcs/photo.jpg?sz=128", "display_name": "Ante Ere\u0161", "link": "https://stackoverflow.com/users/5861265/ante-ere%c5%a1"}, "edited": false, "score": 0, "creation_date": 1525271453, "post_id": 50136949, "comment_id": 87292542, "body": "this solution has helped me. Thank you"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 1, "last_activity_date": 1525270799, "creation_date": 1525270799, "answer_id": 50136949, "question_id": 50136570, "link": "https://stackoverflow.com/questions/50136570/accessing-data-in-callback-function/50136949#50136949", "title": "Accessing data in callback function", "body": "<p>If you're using TypeScript, you can make your <code>geocodeAddress</code> method return a <code>Promise</code>, instead of using callbacks, and then use <code>async/await</code>:</p>\n\n<pre><code>async geocodeAddress(address): Promise&lt;string[]&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        this.mapsAPILoader.load().then(() =&gt; {\n           var geocoder = new google.maps.Geocoder();\n           geocoder.geocode({ 'address': address }, function (results, status) {\n               if (status == google.maps.GeocoderStatus.OK) {\n                   const result: string[] = [];\n                   results[0].address_components.forEach(arrAddress =&gt; {\n                       if (arrAddress.types[0] == \"locality\") {\n                           result.push(arrAddress.long_name);\n                       }\n                   });\n                   resolve(results);\n               } else {\n                   console.log(\"Geocode was not successful for the following reason: \" + status);\n                   reject(status);\n               }\n           });\n       });\n    });\n};\n</code></pre>\n\n<p>Now, this function returns an array with the long names of all the addresses you were seeking. To use it:</p>\n\n<pre><code>const data: string[] = await this.geocodeAddress(this.offerAddress);\nthis.hostCity = data[0];\n// do whatever you want now\n</code></pre>\n\n<p>This way you get the benefits of asynchronous programming, with the simplicity of synchronous one.</p>\n"}], "owner": {"reputation": 379, "user_id": 5861265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7SwfNfITyf0/AAAAAAAAAAI/AAAAAAAAADc/CJug77ZzAcs/photo.jpg?sz=128", "display_name": "Ante Ere\u0161", "link": "https://stackoverflow.com/users/5861265/ante-ere%c5%a1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "closed_date": 1525315214, "accepted_answer_id": 50136949, "answer_count": 1, "score": -1, "last_activity_date": 1525270799, "creation_date": 1525269797, "question_id": 50136570, "link": "https://stackoverflow.com/questions/50136570/accessing-data-in-callback-function", "closed_reason": "Duplicate", "title": "Accessing data in callback function", "body": "<p>I have a function for geocoding an address that returns the name of the city of the same address</p>\n\n<pre><code>  // geocode the given address\n  geocodeAddress(address, callback) {\n    this.mapsAPILoader.load().then(() =&gt; {\n      var geocoder = new google.maps.Geocoder();\n      geocoder.geocode({ 'address': address }, function (results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n          results[0].address_components.forEach(arrAddress =&gt; {\n            if (arrAddress.types[0] == \"locality\") {\n              callback(arrAddress.long_name);\n            }\n          })\n        } else {\n          console.log(\"Geocode was not successful for the following reason: \" + status);\n        }\n      });\n    });\n  };\n</code></pre>\n\n<p>when I call that function and want to print the city name it is printed 'undefined' from the code line below the geocodeAddress function and after that is printed properly city name</p>\n\n<pre><code>this.geocodeAddress(this.offerAddress, data =&gt; {\n  this.hostCity = data;\n  console.log(this.hostCity);\n});\nconsole.log(this.hostCity);\n</code></pre>\n\n<p>I was trying to add some timeout before second console.log function but without any success</p>\n\n<p>therefore, I'm interested how to access this value after returning data from geocoder because I need to use this data for storing in database and if I try to store like this</p>\n\n<pre><code>    this.geocodeAddress(this.offerAddress, data =&gt; {\n            this.hostCity = data;\n            this.service.addData({\"address\": this.offerAddress, \"city\": this.hostCity}, \"/data\")\n                .subscribe(data =&gt; {\n                  this.router.navigate(['list']);\n                })\n          });\n</code></pre>\n\n<p>it store data but router.navigate not working properly</p>\n\n<p>so I need solution for accessing hostCity outside of geocodeAddress callback function, or how to properly call some another function inside this geocodeAddress callback function</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 0, "creation_date": 1525269700, "post_id": 50136111, "comment_id": 87291186, "body": "What was the result of what you have tried? Compared to what was expected? Just a question: is there a special reason to trigger a &quot;false&quot; click on the div instead of calling <code>getCounter()</code> manually?"}, {"owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "reply_to_user": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 0, "creation_date": 1525273090, "post_id": 50136111, "comment_id": 87293692, "body": "Actually I have seen triggerFalseClick() somewhere and I have used that. That&#39;s not working. When I scroll to that particular section or div can I call getCounter()"}], "owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525268459, "creation_date": 1525268459, "question_id": 50136111, "link": "https://stackoverflow.com/questions/50136111/how-to-trigger-and-event-on-a-particular-div", "title": "How to trigger and event on a particular div?", "body": "<p>I have a section in my page</p>\n\n<pre><code>&lt;section&gt;\n....\n1\n&lt;/section&gt;\n</code></pre>\n\n<p>I need to increment the count from 1 to 10000 for which I have some javascript code -- <a href=\"http://jsfiddle.net/CPtTQ/1672/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/CPtTQ/1672/</a>.</p>\n\n<p>Now I need to increment the count when I scroll to the above section.</p>\n\n<p>So far I have tried</p>\n\n<pre><code>&lt;section #myDiv (click)=\"getCounter()\"&gt;\n&lt;/section&gt;\n\n @ViewChild('myDiv') myDiv: ElementRef;\n     triggerFalseClick() {\n     let el: HTMLElement = this.myDiv.nativeElement as HTMLElement;\n     el.click();\n }\n</code></pre>\n"}, {"tags": ["angular", "unit-testing", "typescript", "angular-test"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1525268486, "post_id": 50136035, "comment_id": 87290256, "body": "where the input to the <code>*ngIf</code> comes from?"}, {"owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 0, "creation_date": 1525268623, "post_id": 50136035, "comment_id": 87290366, "body": "Personally I would unit test this piece of code. There is no real gain in unit test simple ifs (ngIfs) in the template layer. I usually keep unit test form my components/services/etc... and not templates, and the template logic is testes within e2e tests."}, {"owner": {"reputation": 2329, "user_id": 905865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c40d3e7d7e38c539ed21f1db7e95a146?s=128&d=identicon&r=PG", "display_name": "koral", "link": "https://stackoverflow.com/users/905865/koral"}, "reply_to_user": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1525292130, "post_id": 50136035, "comment_id": 87303867, "body": "@Aravind it is <code>@Input</code> set in parent component."}], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 1229208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac59ff1d120d538489ee77fee9e9f181?s=128&d=identicon&r=PG", "display_name": "martin8768", "link": "https://stackoverflow.com/users/1229208/martin8768"}, "is_accepted": true, "score": 0, "last_activity_date": 1525293545, "creation_date": 1525293545, "answer_id": 50143210, "question_id": 50136035, "link": "https://stackoverflow.com/questions/50136035/unit-testing-of-many-simple-ngif/50143210#50143210", "title": "unit testing of many simple *ngIf", "body": "<p>There is a range of possible tests you could do with this component:</p>\n\n<ol>\n<li>setup compoenent then query DOM elements to ensure they are present, personally, I don't do these if <code>ngIf</code>s but if it's critial then you have to make the call, it's your app.</li>\n<li>since <code>ngIf</code> checks the truthy-ness of the statement, unit test the statement, ie: setup component, check truthy-ness of all those statements. Again, depending on the context, since this is getting data from a parent, you should think about how sure you are that this is going to be populated, program defensively. If there is a chance it could break, just do a cheap test like this.</li>\n<li>it's sometimes pointless to test <code>ngIf</code>, like I said in 2, this might be a waste of time since it's going to either be truthy or not so if you can control for that then this component is very simple. </li>\n<li>Also you could make a parent test component in the spec to do an integration test, this is very involved but if this component tree is critical or complex, this is often very robust test (Personally would rarely do these).</li>\n</ol>\n\n<p>The good thing about your component above is that it's simple, and therefore the tests can be simple. I would personally do option 2</p>\n"}], "owner": {"reputation": 2329, "user_id": 905865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c40d3e7d7e38c539ed21f1db7e95a146?s=128&d=identicon&r=PG", "display_name": "koral", "link": "https://stackoverflow.com/users/905865/koral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "accepted_answer_id": 50143210, "answer_count": 1, "score": 2, "last_activity_date": 1525293545, "creation_date": 1525268235, "question_id": 50136035, "link": "https://stackoverflow.com/questions/50136035/unit-testing-of-many-simple-ngif", "title": "unit testing of many simple *ngIf", "body": "<p>I have simply component</p>\n\n<pre><code>@Component({\n    selector: 'app-certificate-panel',\n    templateUrl: './certificate.component.html'\n})\nexport class CertificateComponent {\n    @Input()\n    public certificate: Certificate;\n}\n</code></pre>\n\n<p>with template</p>\n\n<pre><code>&lt;h3 translate&gt;General&lt;/h3&gt;\n&lt;x-form-row label=\"{{'Version' | translate}}\"&gt;\n    {{ certificate.version }}\n&lt;/x-form-row&gt;\n&lt;x-form-row label=\"{{'Serial Number' | translate}}\"&gt;\n    {{ certificate.serialNumber }}\n&lt;/x-form-row&gt;\n&lt;h3 translate&gt;Issued From&lt;/h3&gt;\n&lt;x-form-row label=\"{{'Common Name (CN)' | translate}}\" *ngIf=\"certificate.issuedFrom.commonName\"&gt;\n    {{ certificate.issuedFrom.commonName }}\n&lt;/x-form-row&gt;\n&lt;x-form-row label=\"{{'Organization Unit (OU)' | translate}}\" *ngIf=\"certificate.issuedFrom.organizationUnit\"&gt;\n    {{ certificate.issuedFrom.organizationUnit }}\n&lt;/x-form-row&gt;\n</code></pre>\n\n<p>There are more properties shown. There are several <code>*ngIf</code> in this template.</p>\n\n<p>Now I want to write unit tests. Should I test each <code>*ngIf</code>? Isn't it testing the framework functionality?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 1, "creation_date": 1525267299, "post_id": 50135589, "comment_id": 87289367, "body": "Oh, we get index too!! Thanks! mine is way cumbersome than yours."}, {"owner": {"reputation": 372, "user_id": 9721446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7df95fb1b0105e5e501bf58fe1d992?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/9721446/bruno"}, "edited": false, "score": 0, "creation_date": 1525271485, "post_id": 50135589, "comment_id": 87292563, "body": "thank you friend! With this i can filter other types too right, like names, etc.. ?"}, {"owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "edited": false, "score": 0, "creation_date": 1525274767, "post_id": 50135589, "comment_id": 87294753, "body": "Please share the sample output."}, {"owner": {"reputation": 372, "user_id": 9721446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7df95fb1b0105e5e501bf58fe1d992?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/9721446/bruno"}, "edited": false, "score": 0, "creation_date": 1525275284, "post_id": 50135589, "comment_id": 87295095, "body": "if instead of year i got names, i can filter the same way, right?"}], "tags": [], "owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "is_accepted": true, "score": 2, "last_activity_date": 1525275453, "last_edit_date": 1525275453, "creation_date": 1525266914, "answer_id": 50135589, "question_id": 50135266, "link": "https://stackoverflow.com/questions/50135266/get-all-array-map-entries-that-match-string/50135589#50135589", "title": "Get all array/map entries that match string", "body": "<p>You can use <code>array#reduce</code> and check if the provided value exist in the current date string. Then add the date and value corresponding to that index from the other array to your result array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arrayX = [\"Dec 2008\", \"Feb 2010\", \"Apr 2010\", \"Jul 2010\", \"Dec 2010\", \"Feb 2011\", \"Apr 2012\", \"Jul 2013\", \"Mar 2014\", \"May 2017\"],\r\n      arrayY = [1, 7, 4, 1, 10, 11, 4, 8, 7, 10],\r\n      year = 2010,\r\n      result = arrayX.reduce((r, date, i) =&gt; {\r\n        if(date.includes(year)){\r\n          r.push({x: date, y: arrayY[i]})\r\n        }\r\n        return r;\r\n      },[]);\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To get the X and Y values separately, for chart purposes, for example, just map the result and iterate over it, like this.</p>\n\n<pre><code>let x = result.map(({x}) =&gt; x);\nlet y = result.map(({y}) =&gt; y);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1525267080, "creation_date": 1525267080, "answer_id": 50135655, "question_id": 50135266, "link": "https://stackoverflow.com/questions/50135266/get-all-array-map-entries-that-match-string/50135655#50135655", "title": "Get all array/map entries that match string", "body": "<p>Please see the code snippet below.\nYou can use the returned result like: <code>result.newArrayX</code> and <code>result.newArrayY</code>. This way you will also keep the original arrays safe.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>arrayX =  [\"Dec 2008\", \"Feb 2010\", \"Apr 2010\", \"Jul 2010\", \"Dec 2010\", \"Feb 2011\", \"Apr 2012\", \"Jul 2013\", \"Mar 2014\", \"May 2017\"];\r\n\r\n    arrayY =  [1, 7, 4, 1, 10, 11, 4, 8, 7, 10];\r\n\r\n    function filterFunc(filterYear) {\r\n\r\n        return this.arrayX.reduce((acc, elem) =&gt; {\r\n                if (elem.split(' ')[1] == filterYear) {\r\n                    acc.newArrayX.push(elem);\r\n                    acc.newArrayY.push(this.arrayY[this.arrayX.indexOf(elem)])\r\n                }\r\n                return acc;\r\n            },{newArrayX: [], newArrayY: []}\r\n        );\r\n    }\r\n\r\n    result = this.filterFunc('2010');\r\n    console.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 372, "user_id": 9721446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7df95fb1b0105e5e501bf58fe1d992?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/9721446/bruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 50135589, "answer_count": 2, "score": 0, "last_activity_date": 1525275453, "creation_date": 1525265939, "question_id": 50135266, "link": "https://stackoverflow.com/questions/50135266/get-all-array-map-entries-that-match-string", "title": "Get all array/map entries that match string", "body": "<p>Im working with two arrays that has correlated the values, wich mean that <code>arrayX[1]</code> correlate with <code>arrayY[1]</code>, and <code>arrayX[2]</code> correlate with <code>arrayY[2]</code> and so on..</p>\n\n<p>I now need to filter that arrayX, to match or contains a given value, and only diplays the arrayX filtered and arrayY that matches.</p>\n\n<p>I've tried to create an array/map with key - value that i found this link <a href=\"https://stackoverflow.com/questions/42580100/typescript-take-object-out-of-array-based-on-attribute-value\">Take object out of array based on attribute value\n</a>, and then filter with '.find' but i couldn't has the expected result.</p>\n\n<p>that i found this link <a href=\"https://stackoverflow.com/questions/42580100/typescript-take-object-out-of-array-based-on-attribute-value\">Take object out of array based on attribute value\n</a></p>\n\n<p>When i call the function to filter i pass a value, for example i'm passing a string <code>'2010'</code> </p>\n\n<ul>\n<li><p>My arrayX has:</p>\n\n<p>(10)\u00a0[\"Dec 2008\", \"Feb 2010\", \"Apr 2010\", \"Jul 2010\", \"Dec 2010\", \"Feb 2011\", \"Apr 2012\", \"Jul 2013\", \"Mar 2014\", \"May 2017\"]</p></li>\n<li><p>My arrayY has:</p>\n\n<p>(10)\u00a0[1, 7, 4, 1, 10, 11, 4, 8, 7, 10]</p></li>\n</ul>\n\n<p>so, for the output i need </p>\n\n<p><code>arrayX</code> to be <code>[\"Feb 2010\", \"Apr 2010\", \"Jul 2010\", \"Dec 2010\"</code>] and </p>\n\n<p><code>arraY</code> to be <code>[7, 4, 1, 10]</code>. </p>\n\n<p>My typescript code that expects a value and filter is:</p>\n\n<pre><code>filtr(dt){\n      console.log(dt);\n      console.log(this.arrayX);\n      console.log(this.arrayY);\n\n      //Array contains x and y values at the correct position\n      let array = [\n          {y: this.Yvalues, x: this.Xvalues}\n      ];\n\n      let item : any = array.find(i =&gt; i.x.find(dt));\n\n      //new filtered x and y values on array \n      console.log(item)\n}\n</code></pre>\n\n<p>i can't figure out how am i going to do this... i thought that the key -> value was a good solution, but i can't even have an output.. \nSorry if i'm missing something easy.. </p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "edited": false, "score": 1, "creation_date": 1525265880, "post_id": 50135112, "comment_id": 87288399, "body": "Unless you use types and have a question related to them it&#39;s a <b>Javascript</b> question."}, {"owner": {"reputation": 1551, "user_id": 1881894, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Xl24H.png?s=128&g=1", "display_name": "Morez", "link": "https://stackoverflow.com/users/1881894/morez"}, "reply_to_user": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "edited": false, "score": 0, "creation_date": 1525266121, "post_id": 50135112, "comment_id": 87288557, "body": "@M&#246;rre i was just trying out available options anyway I want to make this in typescript only."}, {"owner": {"reputation": 6822, "user_id": 6624424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TSIar.jpg?s=128&g=1", "display_name": "Toodoo", "link": "https://stackoverflow.com/users/6624424/toodoo"}, "edited": false, "score": 0, "creation_date": 1525266251, "post_id": 50135112, "comment_id": 87288647, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33356504/javascript-object-array-difference-and-intersection-of-elements\">javascript object array difference and intersection of elements</a>"}, {"owner": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "edited": false, "score": 0, "creation_date": 1525296632, "post_id": 50135112, "comment_id": 87305884, "body": "@Ronnie Does not matter, it&#39;s Javascript (ECMAScript)."}], "answers": [{"comments": [{"owner": {"reputation": 1551, "user_id": 1881894, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Xl24H.png?s=128&g=1", "display_name": "Morez", "link": "https://stackoverflow.com/users/1881894/morez"}, "edited": false, "score": 3, "creation_date": 1525266282, "post_id": 50135324, "comment_id": 87288671, "body": "purpose of the your code is different. It is union but without duplicates. I want to create new array with common objects from arrays"}], "tags": [], "owner": {"reputation": 320, "user_id": 3531603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4bsh.jpg?s=128&g=1", "display_name": "Mohib Wasay", "link": "https://stackoverflow.com/users/3531603/mohib-wasay"}, "is_accepted": false, "score": 2, "last_activity_date": 1525266122, "creation_date": 1525266122, "answer_id": 50135324, "question_id": 50135112, "link": "https://stackoverflow.com/questions/50135112/typescript-find-common-objects-from-two-array-using-lambda-function/50135324#50135324", "title": "Typescript : Find common objects from two array using Lambda function", "body": "<p>For ES6, you can also try sets, </p>\n\n<p>For demonstration,</p>\n\n<pre><code>const thirdArray = [...new Set([...firstArray ,...secondArray])];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "is_accepted": true, "score": 16, "last_activity_date": 1525266216, "creation_date": 1525266216, "answer_id": 50135364, "question_id": 50135112, "link": "https://stackoverflow.com/questions/50135112/typescript-find-common-objects-from-two-array-using-lambda-function/50135364#50135364", "title": "Typescript : Find common objects from two array using Lambda function", "body": "<p>You can use <code>array#filter</code> with <code>array#some</code>. For each object in the first array, check if <code>id</code> and <code>name</code> exist in the other array.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const firstArray = [{ \"id\": 4, \"name\": \"Tata\" }, { \"id\": 11, \"name\": \"Maruti\" }, { \"id\": 14, \"name\": \"Mahindra\" } ], \r\n      secondArray = [{ \"id\": 4, \"name\": \"Tata\" }, { \"id\": 11, \"name\": \"Maruti\" }, { \"id\": 15, \"name\": \"Hyundai\" }, { \"id\": 21, \"name\": \"Honda\" } ],\r\n      result = firstArray.filter(o =&gt; secondArray.some(({id,name}) =&gt; o.id === id &amp;&amp; o.name === name));\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1551, "user_id": 1881894, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Xl24H.png?s=128&g=1", "display_name": "Morez", "link": "https://stackoverflow.com/users/1881894/morez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10030, "favorite_count": 1, "accepted_answer_id": 50135364, "answer_count": 2, "score": 3, "last_activity_date": 1525266640, "creation_date": 1525265488, "last_edit_date": 1525266640, "question_id": 50135112, "link": "https://stackoverflow.com/questions/50135112/typescript-find-common-objects-from-two-array-using-lambda-function", "title": "Typescript : Find common objects from two array using Lambda function", "body": "<p>I am using Typescript for below problem. I want to search object not simple alphabetic or number in the list. </p>\n\n<p>Below are the two arrays.\nI want to get common objects in separate list <strong>without using any third party library.</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    firstArray = [\r\n           {\r\n               \"id\": 4,\r\n               \"name\": \"Tata\"\r\n           },\r\n           {\r\n               \"id\": 11,\r\n               \"name\": \"Maruti\"\r\n           },\r\n           {\r\n               \"id\": 14,\r\n               \"name\": \"Mahindra\"\r\n           }\r\n        ]\r\n\r\n        secondArray = [\r\n           {\r\n               \"id\": 4,\r\n               \"name\": \"Tata\"\r\n           },\r\n           {\r\n               \"id\": 11,\r\n               \"name\": \"Maruti\"\r\n           },\r\n           {\r\n               \"id\": 15,\r\n               \"name\": \"Hyundai\"\r\n           },\r\n           {\r\n               \"id\": 21,\r\n               \"name\": \"Honda\"\r\n           } \r\n        ]\r\n        \r\n// Get Common Elements\r\n// I am getting blank array as output\r\n\r\n        console.log(firstArray.filter(( make ) =&gt; secondArray.includes( make)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there good function or way to find out commons element?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 1500, "user_id": 431109, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/C4GbH.png?s=128&g=1", "display_name": "ChargerIIC", "link": "https://stackoverflow.com/users/431109/chargeriic"}, "edited": false, "score": 0, "creation_date": 1525287997, "post_id": 50135052, "comment_id": 87301814, "body": "You&#39;ll need to show us some code for this one. Preferablly where you are queuing up this images for upload."}, {"owner": {"reputation": 117, "user_id": 7193610, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1218665884860457/picture?type=large", "display_name": "\u0412\u043e\u0432\u0430 \u0416\u0443\u0440\u0430\u0432\u043b\u0451\u0432", "link": "https://stackoverflow.com/users/7193610/%d0%92%d0%be%d0%b2%d0%b0-%d0%96%d1%83%d1%80%d0%b0%d0%b2%d0%bb%d1%91%d0%b2"}, "reply_to_user": {"reputation": 1500, "user_id": 431109, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/C4GbH.png?s=128&g=1", "display_name": "ChargerIIC", "link": "https://stackoverflow.com/users/431109/chargeriic"}, "edited": false, "score": 0, "creation_date": 1525453156, "post_id": 50135052, "comment_id": 87376801, "body": "@ChargerIIC Here, I get img <code>this.camera.getPicture(options).then((imageData) =&gt; {       this.product_image.push(imageData); &#47;&#47;push to array (but it only path)</code> send to server  <code>let  params = new FormData();   for(let i = 0; i &lt; info_update.images.length; i++){       params.append(&quot;image[]&quot;,  info_update.images[i]);     }     }) return this.http.post(url, params, headers)</code>"}, {"owner": {"reputation": 117, "user_id": 7193610, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1218665884860457/picture?type=large", "display_name": "\u0412\u043e\u0432\u0430 \u0416\u0443\u0440\u0430\u0432\u043b\u0451\u0432", "link": "https://stackoverflow.com/users/7193610/%d0%92%d0%be%d0%b2%d0%b0-%d0%96%d1%83%d1%80%d0%b0%d0%b2%d0%bb%d1%91%d0%b2"}, "reply_to_user": {"reputation": 1500, "user_id": 431109, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/C4GbH.png?s=128&g=1", "display_name": "ChargerIIC", "link": "https://stackoverflow.com/users/431109/chargeriic"}, "edited": false, "score": 0, "creation_date": 1525453523, "post_id": 50135052, "comment_id": 87376971, "body": "@ChargerIIC Also I try next: <a href=\"http://joxi.ru/l2ZKlbph8pL9yA\" rel=\"nofollow noreferrer\">joxi.ru/l2ZKlbph8pL9yA</a> but I get only info about img"}], "owner": {"reputation": 117, "user_id": 7193610, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1218665884860457/picture?type=large", "display_name": "\u0412\u043e\u0432\u0430 \u0416\u0443\u0440\u0430\u0432\u043b\u0451\u0432", "link": "https://stackoverflow.com/users/7193610/%d0%92%d0%be%d0%b2%d0%b0-%d0%96%d1%83%d1%80%d0%b0%d0%b2%d0%bb%d1%91%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 763, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1602428738, "creation_date": 1525265304, "question_id": 50135052, "link": "https://stackoverflow.com/questions/50135052/how-i-can-get-file-object-in-ionic-3-use-camera-plugin", "title": "How I can get File object in Ionic 3 use Camera plugin?", "body": "<p>I need send array of files by POST method. I use camera plugin and get only FILE_URI(path)  to img. When I use input field with type='file' I can correct response( file object)  and can send it to server by POST method. How I can get such response(file object) using camera plugin and send to server  selected imgs, without   fileTransfer, because it send only one IMG, but my server waiting for only array of file(IMG). </p>\n"}, {"tags": ["angular", "typescript", "angular-animations"], "comments": [{"owner": {"reputation": 12860, "user_id": 1112003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4a4d52c5a930f2ed1ce177ae67f2c29?s=128&d=identicon&r=PG", "display_name": "Jscti", "link": "https://stackoverflow.com/users/1112003/jscti"}, "edited": false, "score": 0, "creation_date": 1525266182, "post_id": 50134984, "comment_id": 87288600, "body": "see <a href=\"https://stackoverflow.com/a/46003758/1112003\">stackoverflow.com/a/46003758/1112003</a>"}, {"owner": {"reputation": 735, "user_id": 8319826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8832f8f0e262c468180e18311ddd26ad?s=128&d=identicon&r=PG&f=1", "display_name": "Diasiare", "link": "https://stackoverflow.com/users/8319826/diasiare"}, "edited": false, "score": 2, "creation_date": 1525267160, "post_id": 50134984, "comment_id": 87289274, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41966673/parameter-in-to-animation-angular2\">Parameter in to Animation Angular2</a>"}], "owner": {"reputation": 561, "user_id": 9605869, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608785972572514/picture?type=large", "display_name": "Miguel Barra", "link": "https://stackoverflow.com/users/9605869/miguel-barra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1243, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525343923, "creation_date": 1525265098, "last_edit_date": 1525343923, "question_id": 50134984, "link": "https://stackoverflow.com/questions/50134984/using-variables-on-angular-animations", "title": "Using variables on Angular animations", "body": "<p>I want to make the animations to use a variable from the component and not hardcoding the hex color. How can I do it? \nI need to mention that I really need this because in future I want to create randomly colors so I need to get this colors from a variable. This is my code:</p>\n\n<pre><code>@Component({\n  selector: 'app-demo',\n  templateUrl: './demo.component.html',\n  styleUrls: ['./demo.component.css'],\n  animations: [\n    trigger('heroState', [\n      state('inactive', style({\n        backgroundColor: '#eee'\n        // transform: 'scale(1)'\n      })),\n      state('active',   style({\n        backgroundColor: '#ff0000'\n        // something like this\n        // backgroundColor: this.color;\n        // transform: 'scale(1.1)'\n      })),\n      transition('inactive =&gt; active', animate('100ms ease-in')),\n      transition('active =&gt; inactive', animate('1000ms ease-out'))\n    ])\n  ]\n})\nexport class DemoComponent implements OnInit {\n\n  color:string = \"#ff0000\";\n\n  inactive: boolean = false;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  get stateName() {\n    return this.inactive ? 'inactive' : 'active';\n  }\n\n  toggle() {\n    this.inactive = !this.inactive;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8758479, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oqPVKP1rOrY/AAAAAAAAAAI/AAAAAAAAABU/67JoE-6vN0w/photo.jpg?sz=128", "display_name": "Abdul khader", "link": "https://stackoverflow.com/users/8758479/abdul-khader"}, "edited": false, "score": 0, "creation_date": 1525326415, "post_id": 50137508, "comment_id": 87313651, "body": "How to write the function in Typescript for this ?"}, {"owner": {"reputation": 6103, "user_id": 7325327, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYY60.jpg?s=128&g=1", "display_name": "Gabriel Barreto", "link": "https://stackoverflow.com/users/7325327/gabriel-barreto"}, "reply_to_user": {"reputation": 57, "user_id": 8758479, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oqPVKP1rOrY/AAAAAAAAAAI/AAAAAAAAABU/67JoE-6vN0w/photo.jpg?sz=128", "display_name": "Abdul khader", "link": "https://stackoverflow.com/users/8758479/abdul-khader"}, "edited": false, "score": 0, "creation_date": 1525347853, "post_id": 50137508, "comment_id": 87325966, "body": "@Abdulkhader updated my answer so it can use a method instead of directly assigning the value on click."}], "tags": [], "owner": {"reputation": 6103, "user_id": 7325327, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYY60.jpg?s=128&g=1", "display_name": "Gabriel Barreto", "link": "https://stackoverflow.com/users/7325327/gabriel-barreto"}, "is_accepted": true, "score": 1, "last_activity_date": 1525347822, "last_edit_date": 1525347822, "creation_date": 1525272517, "answer_id": 50137508, "question_id": 50134980, "link": "https://stackoverflow.com/questions/50134980/how-to-active-only-one-button-at-a-time-in-ionic-2/50137508#50137508", "title": "How to active only one button at a time in ionic 2", "body": "<p>You can use <code>NgClass</code> directive to conditionally assign the CSS class to your active button. To achieve this you'll need the CSS class and a property in your .ts to know what's the active button.</p>\n\n<p>So your .TS will be:</p>\n\n<pre><code>export class YourPage {\n  public active: string; // add this property\n  constructor() { }\n\n  // method to update the active property\n  updateActive = name =&gt; this.active = name;\n}\n</code></pre>\n\n<p>And then change your HTML:</p>\n\n<pre><code>&lt;button round ion-button [ngClass]=\"'your-css-class': active === 'david'\" (click)=\"updateActive('david')\"&gt; David &lt;/button&gt;\n\n&lt;button round ion-button [ngClass]=\"'your-css-class': active === 'rocky'\" (click)=\"updateActive('rocky')\"&gt; Rocky&lt;/button&gt;\n\n&lt;button round ion-button [ngClass]=\"'your-css-class': active === 'chris'\" (click)=\"updateActive('chris')\"&gt; Chris&lt;/button&gt;\n\n&lt;button round ion-button [ngClass]=\"'your-css-class': active === 'johny'\" (click)=\"updateActive('johny')\"&gt; Johny&lt;/button&gt;\n</code></pre>\n\n<p>This should work, if you need a button to start active just asign a value to it in your <code>active</code> property. If your active button'll be managed in your .ts file just remove the click attribute. Here's the <a href=\"https://angular.io/api/common/NgClass\" rel=\"nofollow noreferrer\">NgClass docs page</a> if you need furter assistance.</p>\n\n<p>Hope this helps.</p>\n\n<h2>UPDATE</h2>\n\n<p>Updated to use a method instead of directly assigning the value on the click, as op asked for.</p>\n"}], "owner": {"reputation": 57, "user_id": 8758479, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oqPVKP1rOrY/AAAAAAAAAAI/AAAAAAAAABU/67JoE-6vN0w/photo.jpg?sz=128", "display_name": "Abdul khader", "link": "https://stackoverflow.com/users/8758479/abdul-khader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 50137508, "answer_count": 1, "score": 0, "last_activity_date": 1538810845, "creation_date": 1525265085, "last_edit_date": 1538810845, "question_id": 50134980, "link": "https://stackoverflow.com/questions/50134980/how-to-active-only-one-button-at-a-time-in-ionic-2", "title": "How to active only one button at a time in ionic 2", "body": "<p>I have group of four buttons</p>\n\n<pre><code> &lt;button round ion-button&gt; David &lt;/button&gt;\n\n &lt;button round ion-button&gt; Rocky&lt;/button&gt;\n\n &lt;button round ion-button&gt; Chris&lt;/button&gt;\n\n &lt;button round ion-button&gt; Johny&lt;/button&gt;\n</code></pre>\n\n<p>I want to make the button active (change background color) only one button at a time in typescript. How to do.</p>\n"}, {"tags": ["angular", "typescript", "http-headers", "httprequest", "angular-services"], "comments": [{"owner": {"reputation": 1011, "user_id": 8526992, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211932471741194/picture?type=large", "display_name": "Luca Taccagni", "link": "https://stackoverflow.com/users/8526992/luca-taccagni"}, "edited": false, "score": 0, "creation_date": 1525266019, "post_id": 50134884, "comment_id": 87288491, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/10548990/how-to-get-read-data-from-response-header-in-jquery-javascript\" title=\"how to get read data from response header in jquery javascript\">stackoverflow.com/questions/10548990/&hellip;</a>"}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1525266082, "post_id": 50134884, "comment_id": 87288532, "body": "<a href=\"https://angular.io/guide/http#reading-the-full-response\" rel=\"nofollow noreferrer\">Reading the full response</a>"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1525266108, "post_id": 50134884, "comment_id": 87288548, "body": "Here&#39;s i&#39;m using Angular services it&#39;s not exactly the same"}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1525266509, "post_id": 50134884, "comment_id": 87288809, "body": "what&#39;s not possible?"}], "answers": [{"comments": [{"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1525266259, "post_id": 50135330, "comment_id": 87288649, "body": "Should I import some modules ?"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 1, "creation_date": 1525338051, "post_id": 50135330, "comment_id": 87319619, "body": "I added <code>{ observe: &#39;response&#39; }</code> to my request , but I don&#39;t get all the header response items that I see in the browser devtool"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1525359730, "post_id": 50135330, "comment_id": 87334219, "body": "I have resolved my problem by getting  the information from the front end ( instead of the http request ) . but I have found this on github it may help further person <a href=\"https://github.com/angular/angular/issues/13226\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/13226</a>"}], "tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": true, "score": 5, "last_activity_date": 1525336798, "last_edit_date": 1525336798, "creation_date": 1525266128, "answer_id": 50135330, "question_id": 50134884, "link": "https://stackoverflow.com/questions/50134884/get-headers-from-get-http-request-in-angular/50135330#50135330", "title": "get headers from get Http request in Angular", "body": "<p>pass observe key with value of \u2018response\u2019 to get the complete response </p>\n\n<pre><code>getData() {\n this.http.get(this.url, { observe: 'response' }).subscribe(res =&gt; {\n this.headerProperty = res.headers.get('property name here');\n\n });\n}\n</code></pre>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9856, "favorite_count": 0, "accepted_answer_id": 50135330, "answer_count": 1, "score": 4, "last_activity_date": 1525336798, "creation_date": 1525264789, "last_edit_date": 1525265826, "question_id": 50134884, "link": "https://stackoverflow.com/questions/50134884/get-headers-from-get-http-request-in-angular", "title": "get headers from get Http request in Angular", "body": "<p>I'm making a call to an API that gets blob data.</p>\n\n<p>back end sends to me also file name in header.</p>\n\n<p>My actual problem is that I can't get header from the api.</p>\n\n<p>Here's my <strong>service.ts</strong></p>\n\n<pre><code>public openFile(path) {\n  let url='/download/';\n  let pathFile= new HttpParams().set('pathFile', path);\n  return this.httpClient.get(url,{params:pathFile, responseType: 'blob' });\n</code></pre>\n\n<p>and in <strong>component.ts</strong> I call the service. when I try to print the <code>res.headers</code> I get undefined in console.</p>\n\n<pre><code>openFile(path){\n  this.creditPoliciesService.openFile(path).toPromise().then (data =&gt; {\n    console.log(\"dataaaaaa\",data.headers); // undefined\n    var blob = new Blob([data], {type: 'application/pdf'}); \n    if (window.navigator &amp;&amp; window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob);\n    }\n    else {\n      var fileURL = URL.createObjectURL(blob); \n      window.open(fileURL);\n    }\n  });\n}\n</code></pre>\n\n<p>In the dev tool admin I get informations in response header but I'm not able to find them in the response variable.</p>\n"}, {"tags": ["angular", "typescript", "webpack", "gulp"], "owner": {"reputation": 2490, "user_id": 2308847, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/992ac8e81d1f40bf4900105b0b448ce6?s=128&d=identicon&r=PG", "display_name": "codeepic", "link": "https://stackoverflow.com/users/2308847/codeepic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525264073, "creation_date": 1525264073, "question_id": 50134665, "link": "https://stackoverflow.com/questions/50134665/error-in-at-loader-ts2688-cannot-find-type-definition-file-for-twitter-text", "title": "ERROR in [at-loader] TS2688: Cannot find type definition file for &#39;twitter-text&#39;", "body": "<p>I am seeing this error message:\n<code>ERROR in [at-loader] TS2688: Cannot find type definition file for 'twitter-text'.</code> </p>\n\n<p>I had some serious issues with Webpack Sass compilation time (4 - 5 minutes[!sic]) so my Angular project now uses Webpack for TypeScript and Gulp for Sass compilation.\nThe <code>ERROR in [at-loader] TS2688</code> part of the error message means it's coming from TypeScript. Nowhere in my app I use anything that would have a 'twitter-text' in it - that's why the error is so baffling. Scouring the internets didn't help. There simply is no information when you paste this error into almight google bar.</p>\n"}, {"tags": ["javascript", "typescript", "meteor", "return-value", "arrow-functions"], "answers": [{"comments": [{"owner": {"reputation": 528, "user_id": 9619535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843e5384d9df4ef4162a98fa0bbfa69f?s=128&d=identicon&r=PG", "display_name": "Andreas Richter", "link": "https://stackoverflow.com/users/9619535/andreas-richter"}, "edited": false, "score": 0, "creation_date": 1525286917, "post_id": 50137787, "comment_id": 87301317, "body": "So easy! Thank you!"}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 0, "last_activity_date": 1525273345, "creation_date": 1525273345, "answer_id": 50137787, "question_id": 50134389, "link": "https://stackoverflow.com/questions/50134389/declare-an-arrow-function-as-return-in-typescript/50137787#50137787", "title": "Declare an arrow function as return in TypeScript", "body": "<p>The type you describe could be written like this:</p>\n\n<pre><code>(c: React.Component) =&gt; React.Component\n</code></pre>\n\n<p>In the section <code>declare module</code>:</p>\n\n<pre><code>export function withTracker(func: () =&gt; {}): (c: React.Component) =&gt; React.Component;\n</code></pre>\n"}], "owner": {"reputation": 528, "user_id": 9619535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843e5384d9df4ef4162a98fa0bbfa69f?s=128&d=identicon&r=PG", "display_name": "Andreas Richter", "link": "https://stackoverflow.com/users/9619535/andreas-richter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 50137787, "answer_count": 1, "score": 0, "last_activity_date": 1525273345, "creation_date": 1525263141, "question_id": 50134389, "link": "https://stackoverflow.com/questions/50134389/declare-an-arrow-function-as-return-in-typescript", "title": "Declare an arrow function as return in TypeScript", "body": "<p>I want to write a TypeScript Declaration for <a href=\"https://github.com/meteor/react-packages/blob/devel/packages/react-meteor-data/ReactMeteorData.jsx\" rel=\"nofollow noreferrer\">ReactMeteorData.jsx</a> which exports:</p>\n\n<pre><code>export default function connect(options) {\n  let expandedOptions = options;\n  if (typeof options === 'function') {\n    expandedOptions = {\n      getMeteorData: options,\n    };\n  }\n\n  const { getMeteorData, pure = true } = expandedOptions;\n\n  const BaseComponent = pure ? ReactPureComponent : ReactComponent;\n  return (WrappedComponent) =&gt; (\n    class ReactMeteorDataComponent extends BaseComponent {\n      ...\n    }\n  );\n}\n</code></pre>\n\n<p>Which is repacked as withTracker by <a href=\"https://github.com/meteor/react-packages/blob/devel/packages/react-meteor-data/react-meteor-data.jsx\" rel=\"nofollow noreferrer\">react-meteor-data.jsx</a>:</p>\n\n<pre><code>export { default as withTracker } from './ReactMeteorData.jsx';\n</code></pre>\n\n<p>I can simply declare the return value as Function:</p>\n\n<pre><code>declare module 'meteor/react-meteor-data' {\n  import * as React from 'react';    \n  export function withTracker(func: () =&gt; {}): Function;\n\n  ...\n}\n</code></pre>\n\n<p>How can I declare what arguments and returns the Function creates without the need to change something in the origin package? So I would like to do something like:</p>\n\n<pre><code>export function withTracker(func: () =&gt; {}): (React.Component) =&gt; { React.Component };\n</code></pre>\n\n<p>Usage of the code is like this:</p>\n\n<pre><code>import * as React from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\n\nclass Header extends React.Component&lt;any,any&gt; {\n  render() {\n    return \"test\";\n  }\n}\n\nexport default withTracker(() =&gt; {\n  return { user: 1 };\n})(Header);\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["angular", "typescript", "npm", "angular-material"], "comments": [{"owner": {"reputation": 1939, "user_id": 3632602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sfw8w.jpg?s=128&g=1", "display_name": "Sagar Kharche", "link": "https://stackoverflow.com/users/3632602/sagar-kharche"}, "edited": false, "score": 0, "creation_date": 1525263207, "post_id": 50134205, "comment_id": 87286643, "body": "Update your angular version"}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 3231510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eq9Je.jpg?s=128&g=1", "display_name": "Oscar Bravo", "link": "https://stackoverflow.com/users/3231510/oscar-bravo"}, "edited": false, "score": 2, "creation_date": 1528201523, "post_id": 50134524, "comment_id": 88409375, "body": "The default versions of <i>material</i> and <i>cdk</i> are for Angular 6 and don&#39;t work with Angular 5. If upgrading Angular is not an option, downgrading the packages should work. I did: <code>npm install --save @angular&#47;material@5.2.4</code> and <code>npm install --save @angular&#47;cdk@5.2.4</code>. (I think it&#39;s just a coincidence that the latest version 5&#39;s of material and cdk are both 5.2.4)."}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "reply_to_user": {"reputation": 211, "user_id": 3231510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eq9Je.jpg?s=128&g=1", "display_name": "Oscar Bravo", "link": "https://stackoverflow.com/users/3231510/oscar-bravo"}, "edited": false, "score": 0, "creation_date": 1528206201, "post_id": 50134524, "comment_id": 88412585, "body": "I don&#39;t think it is a coincidence since they&#39;re developed together."}], "tags": [], "owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "is_accepted": true, "score": 13, "last_activity_date": 1525265259, "last_edit_date": 1525265259, "creation_date": 1525263595, "answer_id": 50134524, "question_id": 50134205, "link": "https://stackoverflow.com/questions/50134205/error-ts2315-type-elementref-is-not-generic/50134524#50134524", "title": "Error TS2315: Type &#39;ElementRef&#39; is not generic", "body": "<p>You're using <code>@angular/material</code> and <code>@angular/cdk</code> 6RC versions (<code>6.0.0-rc.14-29bf024)</code>, which probably depend on Angular version 6.</p>\n\n<p>Either downgrade the <code>@angular/material</code> package to latest stable version (if you're building directly for production) or try upgrading angular to the <code>6.0.0-rc.6</code> version (if you're aiming your release after the angular 6 stable comes out).</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 7957337, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-acs5vEl7n0c/AAAAAAAAAAI/AAAAAAAAAq0/rv-lnDOm-fY/photo.jpg?sz=128", "display_name": "Naresh Singh", "link": "https://stackoverflow.com/users/7957337/naresh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1528482486, "last_edit_date": 1528482486, "creation_date": 1528481871, "answer_id": 50766368, "question_id": 50134205, "link": "https://stackoverflow.com/questions/50134205/error-ts2315-type-elementref-is-not-generic/50766368#50766368", "title": "Error TS2315: Type &#39;ElementRef&#39; is not generic", "body": "<p>It is a <strong>dependencies issue</strong>, need to re-install dependencies.</p>\n\n<p>In package.json <strong>match your angular version with \"@angular/material\"</strong>, it should be similar. \nThen run </p>\n\n<pre><code>npm install \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 9155369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72451cf1bf6e4296f11dfce6e826761?s=128&d=identicon&r=PG&f=1", "display_name": "Dhiren", "link": "https://stackoverflow.com/users/9155369/dhiren"}, "edited": false, "score": 1, "creation_date": 1565773463, "post_id": 50980314, "comment_id": 101452952, "body": "if anyone using sdk and animations with that then install both their version as 5.2.1 as well."}], "tags": [], "owner": {"reputation": 1024, "user_id": 8906525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4481811ef465e7b2c91d2fd4e268c917?s=128&d=identicon&r=PG&f=1", "display_name": "Biswadev", "link": "https://stackoverflow.com/users/8906525/biswadev"}, "is_accepted": false, "score": 13, "last_activity_date": 1531914014, "last_edit_date": 1531914014, "creation_date": 1529638699, "answer_id": 50980314, "question_id": 50134205, "link": "https://stackoverflow.com/questions/50134205/error-ts2315-type-elementref-is-not-generic/50980314#50980314", "title": "Error TS2315: Type &#39;ElementRef&#39; is not generic", "body": "<pre><code>npm uninstall @angular/material  --save\nnpm install @angular/material@5.2.4 --save\n</code></pre>\n\n<p>It worked for me.</p>\n\n<p>Angular version is <code>5.2.1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4682701, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t6-d20A4HXc/AAAAAAAAAAI/AAAAAAAAADs/DCnrFoFz27Q/photo.jpg?sz=128", "display_name": "jdawg73", "link": "https://stackoverflow.com/users/4682701/jdawg73"}, "is_accepted": false, "score": 0, "last_activity_date": 1530644319, "creation_date": 1530644319, "answer_id": 51161336, "question_id": 50134205, "link": "https://stackoverflow.com/questions/50134205/error-ts2315-type-elementref-is-not-generic/51161336#51161336", "title": "Error TS2315: Type &#39;ElementRef&#39; is not generic", "body": "<p>We were having the same issue. Upgrading Angular to 6 is not yet an option for us, as we have a dependency that does not support anything over Angular 5 (currently rethinking that dependency). Taking Material down to version 5 was an option, but not ideal, because the reason we went to 6 was it fixed a pretty nasty bug on material tabs. </p>\n\n<p>What worked for us was to upgrade Node to 8.10. I'm not sure why that resolved it, but it did.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 656, "user_id": 5873434, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b4d3902a6fe828fa498e8f893b1f82d6?s=128&d=identicon&r=PG&f=1", "display_name": "MRDJR97", "link": "https://stackoverflow.com/users/5873434/mrdjr97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25487, "favorite_count": 1, "accepted_answer_id": 50134524, "answer_count": 4, "score": 9, "last_activity_date": 1537440339, "creation_date": 1525262534, "last_edit_date": 1525262901, "question_id": 50134205, "link": "https://stackoverflow.com/questions/50134205/error-ts2315-type-elementref-is-not-generic", "title": "Error TS2315: Type &#39;ElementRef&#39; is not generic", "body": "<p>I am trying to use @angular/materials in my app and it is compiling successfully, however I am getting the following error: </p>\n\n<pre><code>webpack: Compiled successfully.\nERROR in node_modules/@angular/material/button-toggle/typings/button-toggle.d.ts(136,20): error TS2315: Type 'ElementRef' is not generic.\nnode_modules/@angular/material/button-toggle/typings/button-toggle.d.ts(154,104): error TS2315: Type 'ElementRef' is not generic.\nnode_modules/@angular/material/slide-toggle/typings/slide-toggle.d.ts(53,15): error TS2315: Type 'ElementRef' is not generic.\nnode_modules/@angular/material/slide-toggle/typings/slide-toggle.d.ts(55,18): error TS2315: Type 'ElementRef' is not generic.\n</code></pre>\n\n<p>This does not seem to be a common problem, does anyone have any idea how to resolve?</p>\n\n<p>Using:</p>\n\n<pre><code>Angular CLI: 1.7.4\nNode: 8.11.1\nOS: win32 x64\nAngular: 5.2.10\n... animations, common, compiler, compiler-cli, core, forms\n... http, language-service, platform-browser\n... platform-browser-dynamic, router\n\n@angular/cdk: 6.0.0-rc.14-29bf024\n@angular/cli: 1.7.4\n@angular/material: 6.0.0-rc.14-29bf024\n@angular-devkit/build-optimizer: 0.3.2\n@angular-devkit/core: 0.3.2\n@angular-devkit/schematics: 0.3.2\n@ngtools/json-schema: 1.2.0\n@ngtools/webpack: 1.10.2\n@schematics/angular: 0.3.2\n@schematics/package-update: 0.3.2\ntypescript: 2.5.3\nwebpack: 3.11.0\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 675, "user_id": 4583018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RX7HV.jpg?s=128&g=1", "display_name": "The Segfault", "link": "https://stackoverflow.com/users/4583018/the-segfault"}, "edited": false, "score": 0, "creation_date": 1525262048, "post_id": 50133910, "comment_id": 87286005, "body": "For this test u might need to use isFish()  <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>  And then cast it properly to do the test"}], "answers": [{"comments": [{"owner": {"reputation": 3530, "user_id": 441209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce2b8ed18b8fe0a3dbafb09c49af7c64?s=128&d=identicon&r=PG", "display_name": "Christian Engel", "link": "https://stackoverflow.com/users/441209/christian-engel"}, "edited": false, "score": 0, "creation_date": 1525265959, "post_id": 50134127, "comment_id": 87288449, "body": "This works, but also gives an interesting case: if the guard fails, my unit test expect check is never performed :)  For now did this: <code>if(guard) { ... } else expect(false).toBeTruthy()</code> but god, this is ugly... :("}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 3530, "user_id": 441209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce2b8ed18b8fe0a3dbafb09c49af7c64?s=128&d=identicon&r=PG", "display_name": "Christian Engel", "link": "https://stackoverflow.com/users/441209/christian-engel"}, "edited": false, "score": 0, "creation_date": 1525267524, "post_id": 50134127, "comment_id": 87289517, "body": "Check my answer again"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 0, "last_activity_date": 1525267511, "last_edit_date": 1525267511, "creation_date": 1525262238, "answer_id": 50134127, "question_id": 50133910, "link": "https://stackoverflow.com/questions/50133910/typescript-type-hinting-inside-dot-notation/50134127#50134127", "title": "Typescript type hinting inside dot notation", "body": "<p>Create an user-defined type guard to check it:</p>\n\n<pre><code>var render: IRenderStruct;\n\n// function to check if something is an IRenderStruct:\nfunction isIRenderStruct(p: any): p is IRenderStruct {\n    return ('props' in p) &amp;&amp; ('type' in p);\n}\n\nlet b: boolean;\nif (isIRenderStruct(render.props.children)) {\n    b = render.props.children.type === 'something'; // No errors\n}\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>For the specific case of your test, you can do:</p>\n\n<pre><code>let test = false;\nif (isIRenderStruct(render.props.children)) {\n    test = render.props.children.type === 'something'; // No errors\n}\n\nexpect(test).toBeTruthy();\n</code></pre>\n\n<p>this way, you avoid <code>else</code>s. If the guard fails, <code>test</code> will be <code>false</code> and your test will fail. This way you can even get a broader range of errors.</p>\n"}], "owner": {"reputation": 3530, "user_id": 441209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce2b8ed18b8fe0a3dbafb09c49af7c64?s=128&d=identicon&r=PG", "display_name": "Christian Engel", "link": "https://stackoverflow.com/users/441209/christian-engel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525267511, "creation_date": 1525261499, "last_edit_date": 1525261547, "question_id": 50133910, "link": "https://stackoverflow.com/questions/50133910/typescript-type-hinting-inside-dot-notation", "title": "Typescript type hinting inside dot notation", "body": "<p>I have the following interface:</p>\n\n<pre><code>export interface IRenderStruct {\n  type: string;\n  props: {\n    className?: string;\n    children?: (string | IRenderStruct) | (string | IRenderStruct)[];\n    [propName: string]: any;\n  };\n}\n</code></pre>\n\n<p>So resulting objects may be nested inside via <code>elm.props.children</code>. I am now creating some unit tests and in one case, I <em>know</em> that I will have a RenderStruct object as children of another. No string as children, and also no array of RenderStruct objects as children.</p>\n\n<p>But when I want to do this:</p>\n\n<p><code>expect(result.props.children.type === 'something');</code></p>\n\n<p>The TS compiler complains that I cannot access <code>type</code> because <code>children</code> <em>may</em> be a string and that doesnt have the property <code>type</code>.</p>\n\n<p>Okay, TS - you are correct! But I definitely know that in this case we will have the nested structure. How do I tell TS that its the case?</p>\n"}, {"tags": ["angular", "forms", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1541178963, "post_id": 50133800, "comment_id": 93140876, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41070478/no-value-accessor-for-form-control\">No value accessor for form control</a>"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1525261195, "creation_date": 1525261195, "answer_id": 50133823, "question_id": 50133800, "link": "https://stackoverflow.com/questions/50133800/no-value-accessor-for-form-control-with-name/50133823#50133823", "title": "No value accessor for form control with name: &#39;&#39;", "body": "<p>You should use <strong><code>formControlName=\"sNo\"</code></strong> on an input and not on a <strong><code>strong</code></strong> </p>\n"}, {"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 3, "last_activity_date": 1525261266, "creation_date": 1525261266, "answer_id": 50133838, "question_id": 50133800, "link": "https://stackoverflow.com/questions/50133800/no-value-accessor-for-form-control-with-name/50133838#50133838", "title": "No value accessor for form control with name: &#39;&#39;", "body": "<p>You can't apply a <code>formControlName</code> directive to an <code>strong</code> tag. It must be applied on a form field tag (<code>select</code>, <code>input</code>, <code>textarea</code>) or a custom component that implements the <code>CustomValueAccessor</code> interface.</p>\n"}], "owner": {"reputation": 95, "user_id": 9671128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adeel", "link": "https://stackoverflow.com/users/9671128/adeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14407, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525261266, "creation_date": 1525261085, "question_id": 50133800, "link": "https://stackoverflow.com/questions/50133800/no-value-accessor-for-form-control-with-name", "title": "No value accessor for form control with name: &#39;&#39;", "body": "<blockquote>\n  <p>ERROR Error: No value accessor for form control with name: 'sNo'</p>\n</blockquote>\n\n<p>it is not finding formCOntrolName in my DOM</p>\n\n<p>component side</p>\n\n<pre><code>this.form = new FormGroup({\n 'sNo': new FormControl,\n 'question': new FormControl,\n 'options': new FormGroup({\n   'op': new FormControl,\n  })\n    });\n</code></pre>\n\n<p>HTML side</p>\n\n<pre><code>&lt;form [formGroup]=\"form\"&gt;\n      &lt;div *ngFor=\"let data of currentQuestionsValue\"&gt;\n        &lt;div *ngFor=\"let d of data.items \"&gt;\n          &lt;strong formControlName=\"sNo\"&gt; {{ d.sno }}). &lt;/strong&gt;\n          &lt;span formControlName=\"question\"&gt;{{ d.question}}&lt;/span&gt;\n          &lt;div&gt;\n            &lt;form formGroupName=\"options\"&gt;\n              &lt;label *ngFor=\"let key of objectKeys(d.options)\" formControlName=\"op\"&gt;\n                &lt;input type=\"radio\" name=\"option\" [value]=\"d.options[key]\"&gt;\n                &lt;span&gt;{{ d.options[key] }}&lt;/span&gt;\n              &lt;/label&gt;\n            &lt;/form&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 2950, "user_id": 3365339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWtGg.jpg?s=128&g=1", "display_name": "Franklin Pious", "link": "https://stackoverflow.com/users/3365339/franklin-pious"}, "edited": false, "score": 1, "creation_date": 1525260662, "post_id": 50133511, "comment_id": 87285141, "body": "Does this work *ngIf=&quot;other_user_image&quot; [src]=&quot;other_user_image&quot; ?"}, {"owner": {"reputation": 839, "user_id": 5523986, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4569dbe4d27e134d28fd450913fc17bf?s=128&d=identicon&r=PG&f=1", "display_name": "User0706", "link": "https://stackoverflow.com/users/5523986/user0706"}, "reply_to_user": {"reputation": 2950, "user_id": 3365339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWtGg.jpg?s=128&g=1", "display_name": "Franklin Pious", "link": "https://stackoverflow.com/users/3365339/franklin-pious"}, "edited": false, "score": 0, "creation_date": 1525260816, "post_id": 50133511, "comment_id": 87285252, "body": "No, it didn&#39;t work"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1525261473, "post_id": 50133511, "comment_id": 87285681, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 5, "last_activity_date": 1525261097, "last_edit_date": 1525261097, "creation_date": 1525260878, "answer_id": 50133727, "question_id": 50133511, "link": "https://stackoverflow.com/questions/50133511/uncaught-in-promise-typeerror-cannot-set-property-other-user-image-of-unde/50133727#50133727", "title": "Uncaught (in promise): TypeError: Cannot set property &#39;other_user_image&#39; of undefined", "body": "<p>Your problem is the use of <code>this</code> inside a function defined with <code>function () {...}</code>. Inside that function, <code>this</code> is <code>undefined</code>, hence the error.</p>\n\n<p>Change the code to use an arrow function, which does not create a new context and so <code>this</code> keeps its meaning (a reference to your component):</p>\n\n<pre><code>ngOnInit() { }\n\nopenChatWindow(event: any){\n        var target = event.target || event.srcElement || event.currentTarget;\n        var idAttr = target.attributes.id;\n        var value = idAttr.nodeValue;\n        // var elem_id = (this.elem);\n        console.log(value);\n        var user_chat_room = this.db.collection(\"users\").doc(value)\n        console.log(user_chat_room);\n        user_chat_room.ref.\n            get().then(documentSnapshot =&gt; {\n                console.log(documentSnapshot.data());\n                if (documentSnapshot.exists) {\n                    console.log('doneeeeeeee');\n                    console.log(documentSnapshot.data()['profileImageUrl']);\n\n                    this.other_user_image = documentSnapshot.data()['profileImageUrl'];\n                    console.log(this.other_user_image);\n\n                } else {\n                    // doc.data() will be undefined in this case\n                    console.log(\"No such document!\");\n                }\n            });\n}\n</code></pre>\n\n<p>Check the <code>get().then(...)</code> line.</p>\n"}], "owner": {"reputation": 839, "user_id": 5523986, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4569dbe4d27e134d28fd450913fc17bf?s=128&d=identicon&r=PG&f=1", "display_name": "User0706", "link": "https://stackoverflow.com/users/5523986/user0706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "accepted_answer_id": 50133727, "answer_count": 1, "score": 1, "last_activity_date": 1525277524, "creation_date": 1525260216, "last_edit_date": 1525277524, "question_id": 50133511, "link": "https://stackoverflow.com/questions/50133511/uncaught-in-promise-typeerror-cannot-set-property-other-user-image-of-unde", "title": "Uncaught (in promise): TypeError: Cannot set property &#39;other_user_image&#39; of undefined", "body": "<p>I am trying to set the image src attribute using a typescript function but getting \"cannot set property of undefined error\" again and again. I don't understand where I am doing it wrong.</p>\n\n<p>html code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"panel-heading\" style=\"border-bottom: 1px solid #cfdbe2; padding: 14px 15px;\"&gt;\n    &lt;div class=\"pull-left\"&gt;\n        &lt;img class=\"media-box-object img-circle thumb32\" src=\"{{other_user_image}}\" alt=\"Image\" /&gt;\n    &lt;/div&gt;\n    &lt;div class=\"panel-title\"&gt;User&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>component.ts code:</p>\n\n<pre><code>export class ChatComponent implements OnInit {\n    other_user_image: string;\n\n    constructor(\n        public authService: AuthService,\n        afAuth: AngularFireAuth,\n        public db: AngularFirestore,\n        private router: Router) {}\n\n    ngOnInit() {\n    }\n\n    openChatWindow(event: any){\n        var target = event.target || event.srcElement || event.currentTarget;\n        var idAttr = target.attributes.id;\n        var value = idAttr.nodeValue;\n        // var elem_id = (this.elem);\n        console.log(value);\n        var user_chat_room = this.db.collection(\"users\").doc(value)\n        console.log(user_chat_room);\n        user_chat_room.ref.get().then(function(documentSnapshot) {\n            console.log(documentSnapshot.data());\n            if (documentSnapshot.exists) {\n                console.log('doneeeeeeee');\n                console.log(documentSnapshot.data()['profileImageUrl']);\n\n                this.other_user_image = documentSnapshot.data()['profileImageUrl'];\n                console.log(this.other_user_image);\n            } else {\n                // doc.data() will be undefined in this case\n                console.log(\"No such document!\");\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>While printing <code>documentSnapshot.data()['profileImageUrl']</code>, I am getting a string like this <code>http://qualiscare.com/wp-content/uploads/2017/08/default-user.png</code> but I am unable to assign it to the image <code>src</code> attribute.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1525260013, "post_id": 50133378, "comment_id": 87284681, "body": "you should be using <code>injector.create()</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1525269641, "post_id": 50133378, "comment_id": 87291144, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40972825/inherit-dependency-injection\" title=\"inherit dependency injection\">stackoverflow.com/questions/40972825/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "edited": false, "score": 0, "creation_date": 1525260737, "post_id": 50133459, "comment_id": 87285192, "body": "Yea, it will leads to import those modules in derived class also I want to avoid that. Is there any possibility of it."}, {"owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "edited": false, "score": 0, "creation_date": 1525262732, "post_id": 50133459, "comment_id": 87286362, "body": "I had a similar case and Instead of making the service abstract and extend from it made the baseclass a normal service and only added the service as dependency to all users. If you extend the baseclass you need to call the super constructor."}, {"owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "reply_to_user": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "edited": false, "score": 0, "creation_date": 1525263348, "post_id": 50133459, "comment_id": 87286726, "body": "@tomvangreen  rn main concern is to avoid <code>super</code>  if it is not possible I need to follow your suggestion."}, {"owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "edited": false, "score": 0, "creation_date": 1525263510, "post_id": 50133459, "comment_id": 87286810, "body": "It is not possible, if you extend a class in typescript you always need to call the super constructor. In my case I thought the base class was the better option, but in the end a separate service was the better solution."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1525266632, "post_id": 50133459, "comment_id": 87288892, "body": "This is not true. First of all, a constructor is inherited in child class. If MyService doesn&#39;t need its own dependencies, it doesn&#39;t need its own constructor. And <code>private</code> modifier in child class will result in compilation error."}], "tags": [], "owner": {"reputation": 940, "user_id": 1864007, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b595b9367c0e19e6fedc4543538710c3?s=128&d=identicon&r=PG", "display_name": "Alan Grosz", "link": "https://stackoverflow.com/users/1864007/alan-grosz"}, "is_accepted": false, "score": 2, "last_activity_date": 1525260071, "creation_date": 1525260071, "answer_id": 50133459, "question_id": 50133378, "link": "https://stackoverflow.com/questions/50133378/abstract-class-constructor-throws-error/50133459#50133459", "title": "abstract class constructor throws error", "body": "<p>Your abstract class has a constructor, so...you have to declare the constructor too in the concrete class, and invoke to super:</p>\n\n<pre><code>@Injectable()\nexport class MyService extends BaseService{\n\n  constructor(private http: HttpClient){\n    super(http);\n  }\n\n  getSource() {\n    return this.get('api/Source')\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 0, "last_activity_date": 1525269536, "creation_date": 1525269536, "answer_id": 50136475, "question_id": 50133378, "link": "https://stackoverflow.com/questions/50133378/abstract-class-constructor-throws-error/50136475#50136475", "title": "abstract class constructor throws error", "body": "<p><code>http: HttpClient</code> metadata should be emitted at compilation time on order to be recognized as dependency injection. Due to how emitting of type metadata works, a decorator should be specified on a class that contains metadata.</p>\n\n<p>In a hierarchy of injectable classes that have dependencies annotated with TypeScript types like <code>http: HttpClient</code>, <strong>base</strong> class needs <code>@Injectable()</code> decorator:</p>\n\n<pre><code>@Injectable()\nexport abstract class BaseService{\n    constructor(private http: HttpClient) {}                       \n}\n\nexport class MyService extends BaseService {}\n</code></pre>\n\n<p>If child class has its own constructor, it needs <code>@Injectable()</code> decorator, too:</p>\n\n<pre><code>@Injectable()\nexport abstract class BaseService{\n    constructor(private http: HttpClient) {}                       \n}\n\n@Injectable()\nexport class MyService extends BaseService {\n    constructor(http: HttpClient, private foo: Foo) {\n        super(http);\n    }                       \n}\n</code></pre>\n\n<p>Because of <a href=\"https://stackoverflow.com/a/39029435/3731501\">how <code>@Injectable</code> works</a>, it isn't necessary in classes that use explicit <code>@Inject</code> annotation.</p>\n"}], "owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 50136475, "answer_count": 2, "score": 0, "last_activity_date": 1525269536, "creation_date": 1525259848, "question_id": 50133378, "link": "https://stackoverflow.com/questions/50133378/abstract-class-constructor-throws-error", "title": "abstract class constructor throws error", "body": "<p>I have an abstract class where I mentioned all my <code>http</code> calls and while extending it in child services throws error on compile time.</p>\n\n<blockquote>\n  <p>Can't resolve all parameters for MyService : (?).</p>\n</blockquote>\n\n<p>baseservice.ts</p>\n\n<pre><code>import { HttpClient, HttpHeaders } from '@angular/common/http';\n\nexport abstract class BaseService{\n\n    constructor(private http: HttpClient){} //http undefined on compile time                            \n\n    get(){\n       return this.http.get()\n    }    \n}\n</code></pre>\n\n<p>myservice.ts</p>\n\n<pre><code>@Injectable()\nexport class MyService extends BaseService{\n\n  getSource() {\n    return this.get('api/Source')\n  }\n}\n</code></pre>\n\n<p>If I added other injectTokens in constructor of abstract class this leads to <code>not defined</code> error</p>\n\n<pre><code>constructor(private http: HttpClient, @Inject(APP_CONFIG) private appConfig: any | undefined) {}\n</code></pre>\n\n<blockquote>\n  <p>Uncaught ReferenceError: http_1 is not defined</p>\n</blockquote>\n\n<p>if I trying to add Options, it initialising the HttpClient and all working fine </p>\n\n<pre><code>HttpOptions = {\n   headers: new HttpHeaders({\n    'Authorization': `Bearer ${this.token}`\n   })\n</code></pre>\n\n<p>What is the reason behind this and how to over come this issue while creating instance <code>HttpClient</code> without any <code>InjectTokens</code> or <code>httpOtions</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material", "angular-material-stepper"], "comments": [{"owner": {"reputation": 5398, "user_id": 4823555, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/A87L3.jpg?s=128&g=1", "display_name": "galki", "link": "https://stackoverflow.com/users/4823555/galki"}, "edited": false, "score": 0, "creation_date": 1546810460, "post_id": 50133336, "comment_id": 94965503, "body": "whats wrong with using <code>&lt;button type=&quot;submit&quot; (click)=&quot;submit()&quot;&gt;Submit&lt;&#47;button&gt;</code> and accessing the forms with <code>this.firstFormGroup.value</code> and <code>this.secondFormGroup.value</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "edited": false, "score": 0, "creation_date": 1525261203, "post_id": 50133635, "comment_id": 87285501, "body": "thank you for your response, but can&#39;t we submit two forms in single submit click. In stepper, if we do stepper.reset(), all forms are getting resetted. Like that, is there any function?"}, {"owner": {"reputation": 1787, "user_id": 7159911, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qsRenyLBFaY/AAAAAAAAAAI/AAAAAAAAAEU/rrudovF3zBU/photo.jpg?sz=128", "display_name": "Abinesh Joyel", "link": "https://stackoverflow.com/users/7159911/abinesh-joyel"}, "reply_to_user": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "edited": false, "score": 0, "creation_date": 1525261769, "post_id": 50133635, "comment_id": 87285835, "body": "you can get two forms in single submit click update the stackblitz pls check. I have moved the single submit click function in third stepper"}], "tags": [], "owner": {"reputation": 1787, "user_id": 7159911, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qsRenyLBFaY/AAAAAAAAAAI/AAAAAAAAAEU/rrudovF3zBU/photo.jpg?sz=128", "display_name": "Abinesh Joyel", "link": "https://stackoverflow.com/users/7159911/abinesh-joyel"}, "is_accepted": true, "score": 4, "last_activity_date": 1525262420, "last_edit_date": 1525262420, "creation_date": 1525260611, "answer_id": 50133635, "question_id": 50133336, "link": "https://stackoverflow.com/questions/50133336/how-to-submit-forms-in-stepper-in-angular-4-material/50133635#50133635", "title": "How to submit forms in Stepper in Angular 4 material?", "body": "<p>Give submit button and ngSubmit to form where you have forms inside Stepper</p>\n\n<pre><code>      &lt;button mat-raised-button (click)=\"isLinear = true\" id=\"toggle-linear\"&gt;Enable linear mode&lt;/button&gt;\n\n&lt;mat-horizontal-stepper [linear]=\"isLinear\" #stepper=\"matHorizontalStepper\"&gt;\n  &lt;mat-step [stepControl]=\"firstFormGroup\"&gt;\n    &lt;form [formGroup]=\"firstFormGroup\" (ngSubmit)=\"form1()\" #formone=\"ngForm\"&gt;\n      &lt;ng-template matStepLabel&gt;Fill out your name&lt;/ng-template&gt;\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Last name, First name\" formControlName=\"firstCtrl\" required&gt;\n      &lt;/mat-form-field&gt;\n      &lt;div&gt;\n        &lt;button type=\"button\" mat-button matStepperNext&gt;Next&lt;/button&gt;\n        &lt;button type=\"submit\" mat-button&gt;submit&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/mat-step&gt;\n  &lt;mat-step [stepControl]=\"secondFormGroup\"&gt;\n    &lt;form [formGroup]=\"secondFormGroup\" (ngSubmit)=\"form2()\" #formtwo=\"ngForm\"&gt;\n      &lt;ng-template matStepLabel&gt;Fill out your address&lt;/ng-template&gt;\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Address\" formControlName=\"secondCtrl\" required&gt;\n      &lt;/mat-form-field&gt;\n      &lt;div&gt;\n        &lt;button type=\"button\" mat-button matStepperPrevious&gt;Back&lt;/button&gt;\n        &lt;button type=\"button\" mat-button matStepperNext&gt;Next&lt;/button&gt;\n         &lt;button type=\"submit\" mat-button&gt;submit&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/mat-step&gt;\n  &lt;mat-step&gt;\n    &lt;ng-template matStepLabel&gt;Done&lt;/ng-template&gt;\n    You are now done.\n    &lt;div&gt;\n      &lt;button mat-button matStepperPrevious&gt;Back&lt;/button&gt;\n      &lt;button mat-button type=\"button\" (click)=\"stepper.reset()\"&gt;Reset&lt;/button&gt;\n      &lt;button mat-button type=\"button\" (click)=\"formone.ngSubmit.emit();formtwo.ngSubmit.emit()\"&gt;\n        submit\n        &lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/mat-step&gt;\n&lt;/mat-horizontal-stepper&gt;\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>form1(){\n    console.log(this.firstFormGroup.value);\n  }\n\n  form2(){\n    console.log(this.secondFormGroup.value);\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-vufhvk?file=app%2Fstepper-overview-example.html\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n"}], "owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13453, "favorite_count": 4, "accepted_answer_id": 50133635, "answer_count": 1, "score": 2, "last_activity_date": 1535372140, "creation_date": 1525259739, "last_edit_date": 1525261632, "question_id": 50133336, "link": "https://stackoverflow.com/questions/50133336/how-to-submit-forms-in-stepper-in-angular-4-material", "title": "How to submit forms in Stepper in Angular 4 material?", "body": "<p>How to submit form data in the stepper of angular material. I am following the example from angular material <a href=\"https://material.angular.io/components/stepper/examples\" rel=\"nofollow noreferrer\">https://material.angular.io/components/stepper/examples</a>. I did lot of googling before asking this question, but not found any answer.</p>\n\n<pre><code>&lt;mat-horizontal-stepper [linear]=\"isLinear\" #stepper=\"matHorizontalStepper\"&gt;\n  &lt;mat-step [stepControl]=\"firstFormGroup\"&gt;\n    &lt;form [formGroup]=\"firstFormGroup\"&gt;\n      &lt;ng-template matStepLabel&gt;Fill out your name&lt;/ng-template&gt;\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Last name, First name\" formControlName=\"firstCtrl\" required&gt;\n      &lt;/mat-form-field&gt;\n      &lt;div&gt;\n        &lt;button mat-button matStepperNext&gt;Next&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/mat-step&gt;\n  &lt;mat-step [stepControl]=\"secondFormGroup\"&gt;\n    &lt;form [formGroup]=\"secondFormGroup\"&gt;\n      &lt;ng-template matStepLabel&gt;Fill out your address&lt;/ng-template&gt;\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Address\" formControlName=\"secondCtrl\" required&gt;\n      &lt;/mat-form-field&gt;\n      &lt;div&gt;\n        &lt;button mat-button matStepperPrevious&gt;Back&lt;/button&gt;\n        &lt;button mat-button matStepperNext&gt;Next&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/mat-step&gt;\n  &lt;mat-step&gt;\n    &lt;ng-template matStepLabel&gt;Done&lt;/ng-template&gt;\n    You are now done.\n    &lt;div&gt;\n      &lt;button mat-button matStepperPrevious&gt;Back&lt;/button&gt;\n      &lt;button mat-button (click)=\"stepper.reset()\"&gt;Reset&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/mat-step&gt;\n&lt;/mat-horizontal-stepper&gt;\n</code></pre>\n\n<p>I am done with filling two forms. But after that I am not getting how to get / submit the form data.</p>\n\n<p>Thank you for you help... :-)</p>\n"}, {"tags": ["typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9729825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02e6b8aa8ea873f818d293f6d907b6a3?s=128&d=identicon&r=PG&f=1", "display_name": "MrMos", "link": "https://stackoverflow.com/users/9729825/mrmos"}, "edited": false, "score": 0, "creation_date": 1525266435, "post_id": 50133698, "comment_id": 87288759, "body": "Thank you for your answer, but it&#39;s not quite what I need. I&#39;ve added some extra info to my question"}], "tags": [], "owner": {"reputation": 16302, "user_id": 3314659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rD9RH.png?s=128&g=1", "display_name": "sylwester", "link": "https://stackoverflow.com/users/3314659/sylwester"}, "is_accepted": false, "score": 0, "last_activity_date": 1525260796, "creation_date": 1525260796, "answer_id": 50133698, "question_id": 50133103, "link": "https://stackoverflow.com/questions/50133103/rxjs6-reset-stream-after-completion/50133698#50133698", "title": "RxJS6: reset stream after completion", "body": "<p>Please see here for working example\n<a href=\"https://codepen.io/anon/pen/bMWjEV\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/bMWjEV</a><a href=\"https://codepen.io/anon/pen/bMWjEV\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { fromEvent } = Rx.Observable;\r\nconst target = document.querySelector('.box');\r\n\r\nconst mouseup = fromEvent(target, 'mouseup');\r\nconst mousemove = fromEvent(document, 'mousemove');\r\nconst mousedown = fromEvent(target, 'mousedown');\r\nlet log = (prefix: string, x:number, y:number) =&gt; console.log(`${prefix}: x: ${x}, y:${y}`);\r\nconst mousedrag = mousedown.selectMany((md) =&gt; {\r\n\r\n  const startX = md.clientX + window.scrollX,\r\n        startY = md.clientY + window.scrollY,\r\n        startLeft = parseInt(md.target.style.left, 10) || 0,\r\n        startTop = parseInt(md.target.style.top, 10) || 0;\r\n  \r\n  return mousemove.map((mm) =&gt; {\r\n    mm.preventDefault();\r\n   log('mousemove',mm.clientX, mm.clientY);\r\n    return {\r\n      left: startLeft + mm.clientX - startX,\r\n      top: startTop + mm.clientY - startY\r\n    };\r\n  }).takeUntil(mouseup);\r\n});\r\n\r\nsubscription = mousedrag.subscribe((pos) =&gt; {\r\n  log('dragstart',pos.top, pos.left)\r\n  target.style.top = pos.top + 'px';\r\n  target.style.left = pos.left + 'px';\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.box {\r\n  position: relative;\r\n  width: 100px;\r\n  height: 100px;\r\n  background: red;\r\n  cursor: pointer;\r\n  border:solid 10px green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/2.5.2/rx.all.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"box\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 3789633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5dcd55b9e4bb1d3af4b39262a9ad426?s=128&d=identicon&r=PG&f=1", "display_name": "LookForAngular", "link": "https://stackoverflow.com/users/3789633/lookforangular"}, "is_accepted": false, "score": 0, "last_activity_date": 1563367573, "last_edit_date": 1563367573, "creation_date": 1563366336, "answer_id": 57075812, "question_id": 50133103, "link": "https://stackoverflow.com/questions/50133103/rxjs6-reset-stream-after-completion/57075812#57075812", "title": "RxJS6: reset stream after completion", "body": "<p>But you told to do so :)</p>\n\n<p>If you remove the pipe and \"first\" operator from the dragstart stream</p>\n\n<pre><code>const dragstart = mousedown\n</code></pre>\n\n<p>the stream wont complete.\nThe dragmove wont complete anyway because it is mapped from the mousedown, not the dragstart stream</p>\n\n<p>If you tell to the resulting stream to pick only the first one, the stream will complete after emitting once.</p>\n\n<p>This code should work:</p>\n\n<pre><code>const mousedown = fromEvent&lt;MouseEvent&gt;(window, 'mousedown');\nconst mousemove = fromEvent&lt;MouseEvent&gt;(window, 'mousemove');\nconst mouseup = fromEvent&lt;MouseEvent&gt;(window, 'mouseup');\n\n// I dont think it's necessary to duplicate\nconst dragstart = mousedown\n\n// No need to map to something else\nconst dragend = mouseup\n\nconst dragmove = dragstart.pipe(\n  concatMapTo( \n    mousemove.pipe(\n        takeUntil( dragend )\n    )\n  )\n);\n\n\n\nconst log = (prefix: string) =&gt; (data: MouseEvent) =&gt; console.log(`${prefix}: x: ${data.clientX}, y:${data.clientY}`);\n\ndragstart.subscribe(log('dragstart'));\ndragmove.subscribe(log('dragmove'));\ndragend.subscribe(log('dragend'));\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9729825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02e6b8aa8ea873f818d293f6d907b6a3?s=128&d=identicon&r=PG&f=1", "display_name": "MrMos", "link": "https://stackoverflow.com/users/9729825/mrmos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1563367573, "creation_date": 1525259030, "last_edit_date": 1592644375, "question_id": 50133103, "link": "https://stackoverflow.com/questions/50133103/rxjs6-reset-stream-after-completion", "title": "RxJS6: reset stream after completion", "body": "<p>I've been playing around a bit with <strong>RxJS 6</strong>. I am trying to implement <code>dragstart, dragmove and dragend</code>. This is the code I have so far.</p>\n<pre><code>import { fromEvent } from 'rxjs';\nimport { concatMap } from 'rxjs/internal/operators/concatMap';\nimport { map } from 'rxjs/internal/operators/map';\nimport { takeUntil } from 'rxjs/internal/operators/takeUntil';\nimport { repeat } from 'rxjs/internal/operators/repeat';\nimport { first } from 'rxjs/internal/operators/first';\n\nconst mousedown = fromEvent&lt;MouseEvent&gt;(window, 'mousedown');\nconst mousemove = fromEvent&lt;MouseEvent&gt;(window, 'mousemove');\nconst mouseup = fromEvent&lt;MouseEvent&gt;(window, 'mouseup');\n\nconst dragstart = mousedown.pipe(\n  first()\n);\n\nconst dragmove = mousedown.pipe(\n  concatMap((dragStartEvent) =&gt; mousemove.pipe(\n    takeUntil(mouseup))\n  )\n);\n\nconst dragend = mousedown.pipe(\n  (dragEvent) =&gt; mouseup.pipe(first())\n);\n\nconst log = (prefix: string) =&gt; (data: MouseEvent) =&gt; console.log(`${prefix}: x: ${data.clientX}, y:${data.clientY}`);\n\ndragstart.subscribe(log('dragstart'));\ndragmove.subscribe(log('dragmove'));\ndragend.subscribe(log('dragend'));\n</code></pre>\n<p>The problem is that operators <code>takeUntil</code> and <code>first</code> mark the stream as completed.\nThis means that <code>dragstart</code> and <code>dragend</code> will only fire once. Is there a way to somehow reset the stream after this event happens?\nFor example by resetting the <code>dragstart</code> stream when the <code>mouseup</code> stream receives an event.</p>\n<hr />\n<h2>Additional explanation</h2>\n<p>In the current implementation <code>dragstart</code> and <code>dragend</code> will be logged exactly once to the console after loading the page (&amp; dragging). After that the stream is completed and no further events will be sent through it. I want to reset the stream every drag operation so the dragstart &amp; dragend will work every drag operation rather than just the very first after loading the page.</p>\n<h3>Current behavior ([] represent mouse action that happened, <em>italic text</em> is console output):</h3>\n<p><strong>First drag operation</strong></p>\n<ul>\n<li>[mousedown]</li>\n<li><em>dragstart</em></li>\n<li>[mousemove]</li>\n<li><em>dragmove</em></li>\n<li>[mouseup]</li>\n<li><em>dragend</em></li>\n</ul>\n<p><strong>Second drag operation</strong></p>\n<ul>\n<li>[mousedown]</li>\n<li>(nothing happens, however dragstart should be logged to console)</li>\n<li>[mousemove]</li>\n<li><em>dragmove</em></li>\n<li>[mouseup]</li>\n<li>(nothing happens, however dragend should be logged to console)</li>\n</ul>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 670, "user_id": 5814100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4Wnaa.jpg?s=128&g=1", "display_name": "Gauri Shankar", "link": "https://stackoverflow.com/users/5814100/gauri-shankar"}, "edited": false, "score": 0, "creation_date": 1525260162, "post_id": 50132977, "comment_id": 87284796, "body": "can you post some code for your html?"}], "answers": [{"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 2, "last_activity_date": 1525258779, "creation_date": 1525258779, "answer_id": 50133020, "question_id": 50132977, "link": "https://stackoverflow.com/questions/50132977/typescript-dynamic-filter-array-based-on-value-entered/50133020#50133020", "title": "Typescript dynamic filter array based on value entered", "body": "<p><code>let filterdData = data.filter(x =&gt; x.status.includes(input))</code></p>\n\n<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\" rel=\"nofollow noreferrer\">String.prototype.includes()</a> to return the subset of data whose <code>status</code> property includes your <code>input</code></p>\n"}], "owner": {"reputation": 1417, "user_id": 3616854, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/btp6M.jpg?s=128&g=1", "display_name": "anand", "link": "https://stackoverflow.com/users/3616854/anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 50133020, "answer_count": 1, "score": 0, "last_activity_date": 1525258779, "creation_date": 1525258672, "question_id": 50132977, "link": "https://stackoverflow.com/questions/50132977/typescript-dynamic-filter-array-based-on-value-entered", "title": "Typescript dynamic filter array based on value entered", "body": "<p>I have a requirement that to filter the arrays of objects based on the value entered in input fields.\n<strong>Data</strong></p>\n\n<pre><code>data: [{\n  taskname: 'Test1',\n  taskId: '1',\n  status: 'Submitted'\n}, {\n  taskname: 'Test2',\n  taskId: '2',\n  status: 'Resolved'\n}, {\n  taskname: 'Test3',\n  taskId: '4',\n  status: 'Submitted'\n}, {\n  taskname: 'Test4',\n  taskId: '5',\n  status: 'In Progress'\n}, {\n  taskname: 'Test5',\n  taskId: '6',\n  status: 'Resolved'\n}, {\n  taskname: 'Test6',\n  taskId: '7',\n  status: 'Submitted'\n}\n}]\n</code></pre>\n\n<p>in the input field, while entering </p>\n\n<blockquote>\n  <p>R</p>\n</blockquote>\n\n<p>Then i have filter data based on  status value with \"R\"\nRespected o/p</p>\n\n<pre><code>data: [{\n      taskname: 'Test2',\n      taskId: '2',\n      status: 'Resolved'\n    }, {\n      taskname: 'Test5',\n      taskId: '6',\n      status: 'Resolved'\n    }\n    }]\n</code></pre>\n\n<p>My code</p>\n\n<pre><code>var o/p = data.filter(x =&gt; x.status == input filed value);\n</code></pre>\n\n<p>The above code is not working properly. Thanks in advance.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 323313, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Fl0YI.gif?s=128&g=1", "display_name": "burktelefon", "link": "https://stackoverflow.com/users/323313/burktelefon"}, "edited": false, "score": 0, "creation_date": 1525262498, "post_id": 50133548, "comment_id": 87286251, "body": "Thanks Praveen! The type is from the official definition: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types&zwnj;&#8203;/&hellip;</a>, but you are right. I tried to add string as a type, and it worked. (I also created a pull request, so if they see it fit maybe they will add it to upcoming versions)."}], "tags": [], "owner": {"reputation": 1836, "user_id": 6671466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5995b58c20140ef8fe8645ea744bbc33?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/6671466/praveen-kumar"}, "is_accepted": true, "score": 4, "last_activity_date": 1525260310, "creation_date": 1525260310, "answer_id": 50133548, "question_id": 50132851, "link": "https://stackoverflow.com/questions/50132851/contenteditable-plaintext-only-in-a-react-component-with-typescript/50133548#50133548", "title": "contentEditable={&quot;plaintext-only&quot;} in a react component with typescript", "body": "<p>You need the check the <code>type</code> of property <code>contentEditable</code>,it only accepts <code>boolean</code> or <code>undefined</code>.</p>\n\n<p>Thats why you are getting the error, you are trying to pass the <code>string</code> value.</p>\n\n<p>You can remove the issue, if you update the type of <code>contentEditable</code> to <code>string</code>\ninstead of <code>boolean</code></p>\n"}], "owner": {"reputation": 930, "user_id": 323313, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Fl0YI.gif?s=128&g=1", "display_name": "burktelefon", "link": "https://stackoverflow.com/users/323313/burktelefon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "accepted_answer_id": 50133548, "answer_count": 1, "score": 0, "last_activity_date": 1525260310, "creation_date": 1525258261, "last_edit_date": 1525258606, "question_id": 50132851, "link": "https://stackoverflow.com/questions/50132851/contenteditable-plaintext-only-in-a-react-component-with-typescript", "title": "contentEditable={&quot;plaintext-only&quot;} in a react component with typescript", "body": "<p>In a react component, I'm trying to incorporate a plain text only contenteditable div, but as we use typescript the contenteditable property can not be a string.\nSo in my .tsx-file when I enter this:</p>\n\n<pre><code>contentEditable={\"plaintext-only\"}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>Types of property 'contentEditable' are incompatible. Type\n  '\"plaintext-only\"' is not assignable to type 'boolean | undefined'.</p>\n</blockquote>\n\n<p>How can I make it plain text only?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1525259286, "post_id": 50132753, "comment_id": 87284204, "body": "check this <a href=\"https://stackoverflow.com/a/49903613/4399281\">stackoverflow.com/a/49903613/4399281</a>"}], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1525322549, "last_edit_date": 1525322549, "creation_date": 1525257991, "answer_id": 50132775, "question_id": 50132753, "link": "https://stackoverflow.com/questions/50132753/angular-5-add-token-to-header-before-posting-with-httpclient/50132775#50132775", "title": "Angular 5 Add Token to header before posting with httpClient", "body": "<p>The code should be like this -</p>\n\n<pre><code>create(title, text) {\n    let headers: HttpHeaders = new HttpHeaders();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    headers.append('Authorization', token);\n    return this.http.post('http://myapi/api.php/posts', {\n      title: 'added title',\n      text: 'added text'\n    }, { headers });\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1525320866, "post_id": 50132911, "comment_id": 87311862, "body": "well explained answer :)"}], "tags": [], "owner": {"reputation": 8534, "user_id": 2204877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FF5oE.png?s=128&g=1", "display_name": "Razvan Dumitru", "link": "https://stackoverflow.com/users/2204877/razvan-dumitru"}, "is_accepted": true, "score": 3, "last_activity_date": 1525258451, "creation_date": 1525258451, "answer_id": 50132911, "question_id": 50132753, "link": "https://stackoverflow.com/questions/50132753/angular-5-add-token-to-header-before-posting-with-httpclient/50132911#50132911", "title": "Angular 5 Add Token to header before posting with httpClient", "body": "<p>Apart from what @Pardeep Jain already mentioned, you can add an interceptor (> Angular version 4, you mentioned you're using 5) for your HttpClient that will automatically add Authorization headers for all requests. </p>\n\n<p>If you need top be authenticated for only one request, it's better to keep things simple and use Pardeep's solution. </p>\n\n<p>If you want to be authenticated for most of your requests, then add an interceptor.</p>\n\n<p>module, let's say <code>app.module.ts</code></p>\n\n<pre><code>@NgModule({\n //...\n providers: [\n    //...\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: JwtInterceptor,\n      multi: true\n    },\n    //...\n    ]\n//...\n})\n</code></pre>\n\n<p>and your jwt interceptor, let's say <code>jwt.interceptor.ts</code></p>\n\n<pre><code>@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n  constructor(private injector: Injector, private router: Router) {\n  }\n\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {  \n    const authReq = req.clone({\n      headers: req.headers.set('Authorization', /* here you fetch your jwt */this.getToken())\n        .append('Access-Control-Allow-Origin', '*')\n    }); \n    return next.handle(authReq).do((event: HttpEvent&lt;any&gt;) =&gt; {\n      if (event instanceof HttpResponse) {\n        // do stuff with response if you want\n      }\n    }, (response: HttpErrorResponse) =&gt; { });\n  }\n\n  getToken() {\n    let headers: HttpHeaders = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    return this.http.post('http://myapi/api.php/user', {\n      username: 'admin',\n      password: 'password'\n    }, { headers });\n  }\n}\n</code></pre>\n\n<p>If you want to read something, more here: <a href=\"https://medium.com/@ryanchenkie_40935/angular-authentication-using-the-http-client-and-http-interceptors-2f9d1540eb8\" rel=\"nofollow noreferrer\">https://medium.com/@ryanchenkie_40935/angular-authentication-using-the-http-client-and-http-interceptors-2f9d1540eb8</a></p>\n"}, {"comments": [{"owner": {"reputation": 1409, "user_id": 6446770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23c8054233aca8a8e6b005de1c478268?s=128&d=identicon&r=PG&f=1", "display_name": "miiiii", "link": "https://stackoverflow.com/users/6446770/miiiii"}, "edited": false, "score": 1, "creation_date": 1525264794, "post_id": 50132952, "comment_id": 87287676, "body": "...and to store the token/ticket, you could use localstorage, sessionstorage or cookies, etc.. And, fetch token values from there directly.. if token expire, refresh token and update the storage too."}], "tags": [], "owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1525258585, "creation_date": 1525258585, "answer_id": 50132952, "question_id": 50132753, "link": "https://stackoverflow.com/questions/50132753/angular-5-add-token-to-header-before-posting-with-httpclient/50132952#50132952", "title": "Angular 5 Add Token to header before posting with httpClient", "body": "<blockquote>\n  <p>My question is...How do I get this two together into one call instead\n  of two...or when is the best way to do this?  </p>\n</blockquote>\n\n<p>You should not.<br>\nAuthentication is one thing that should be performed a single time for the client or as the authentication ticket has expired.<br>\nPosting some content is another thing that you should not mix with authentication.    </p>\n\n<p>So authenticate the client once and store the ticket.<br>\nThen pass the ticket in the header for any request to a secured endpoints/methods.  Or use a transverse way as an interceptor to set it in the send requests if you don't want to repeat the code.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9273032"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13738, "favorite_count": 2, "accepted_answer_id": 50132911, "answer_count": 3, "score": 2, "last_activity_date": 1525322549, "creation_date": 1525257920, "question_id": 50132753, "link": "https://stackoverflow.com/questions/50132753/angular-5-add-token-to-header-before-posting-with-httpclient", "title": "Angular 5 Add Token to header before posting with httpClient", "body": "<p>I am using a restapi and it requires that I add a token to the header before I can create a new record.</p>\n\n<p>Right now I have a service to create a new record which looks like this:</p>\n\n<p>service.ts</p>\n\n<pre><code>create(title, text) {\n    let headers: HttpHeaders = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    headers = headers.append('Authorization', token); // Not added yet as this is the reason for the question\n    return this.http.post('http://myapi/api.php/posts', {\n      title: 'added title',\n      text: 'added text'\n    }, { headers });\n  }\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>add() {\n    this.service.create('my title', 'body text').subscribe(result =&gt; {\n      console.log(result);\n    });\n  }\n</code></pre>\n\n<p>The problem with this is that it won't let me add the new record because it requires a token and in order to get a token I need to run this:</p>\n\n<pre><code>getToken() {\n    let headers: HttpHeaders = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    return this.http.post('http://myapi/api.php/user', {\n      username: 'admin',\n      password: 'password'\n    }, { headers });\n  }\n</code></pre>\n\n<p>My question is...How do I get this two together into one call instead of two...or when is the best way to do this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "edited": false, "score": 0, "creation_date": 1525256942, "post_id": 50132374, "comment_id": 87282675, "body": "Why not debug using dev mode instead? which is why it does exists; to help debugging"}, {"owner": {"reputation": 795, "user_id": 7752814, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f3eff219e8b2331ad1aed9884b7d68d?s=128&d=identicon&r=PG&f=1", "display_name": "RoyBarOn", "link": "https://stackoverflow.com/users/7752814/roybaron"}, "reply_to_user": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "edited": false, "score": 0, "creation_date": 1525257210, "post_id": 50132374, "comment_id": 87282862, "body": "Thanks - that&#39;s because it&#39;s going to be an inner organization app - and the client wants to be able to debug from users computers - and not from the server"}, {"owner": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "edited": false, "score": 0, "creation_date": 1525257263, "post_id": 50132374, "comment_id": 87282898, "body": "Then make it dev mode"}, {"owner": {"reputation": 795, "user_id": 7752814, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f3eff219e8b2331ad1aed9884b7d68d?s=128&d=identicon&r=PG&f=1", "display_name": "RoyBarOn", "link": "https://stackoverflow.com/users/7752814/roybaron"}, "reply_to_user": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "edited": false, "score": 0, "creation_date": 1525257341, "post_id": 50132374, "comment_id": 87282959, "body": "@FindOutIslamNow thanks - that&#39;s one way for sure - but perhaps there is a better way?"}, {"owner": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "edited": false, "score": 1, "creation_date": 1525257382, "post_id": 50132374, "comment_id": 87282993, "body": "<a href=\"https://stackoverflow.com/questions/45800032/how-to-debug-angular-in-prod-server\" title=\"how to debug angular in prod server\">stackoverflow.com/questions/45800032/&hellip;</a>"}, {"owner": {"reputation": 795, "user_id": 7752814, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f3eff219e8b2331ad1aed9884b7d68d?s=128&d=identicon&r=PG&f=1", "display_name": "RoyBarOn", "link": "https://stackoverflow.com/users/7752814/roybaron"}, "reply_to_user": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "edited": false, "score": 0, "creation_date": 1525261580, "post_id": 50132374, "comment_id": 87285729, "body": "@FindOutIslamNow Thanks! that&#39;s what i was looking for"}], "answers": [{"comments": [{"owner": {"reputation": 795, "user_id": 7752814, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f3eff219e8b2331ad1aed9884b7d68d?s=128&d=identicon&r=PG&f=1", "display_name": "RoyBarOn", "link": "https://stackoverflow.com/users/7752814/roybaron"}, "edited": false, "score": 0, "creation_date": 1525261611, "post_id": 50132904, "comment_id": 87285746, "body": "Thanks - that&#39;s very helpful!"}, {"owner": {"reputation": 14811, "user_id": 4574281, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gSI2p.png?s=128&g=1", "display_name": "WasiF", "link": "https://stackoverflow.com/users/4574281/wasif"}, "reply_to_user": {"reputation": 795, "user_id": 7752814, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f3eff219e8b2331ad1aed9884b7d68d?s=128&d=identicon&r=PG&f=1", "display_name": "RoyBarOn", "link": "https://stackoverflow.com/users/7752814/roybaron"}, "edited": false, "score": 0, "creation_date": 1525261776, "post_id": 50132904, "comment_id": 87285837, "body": "@RoyBarOn Please don&#39;t forget to mark as answer if it helped you"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1525266306, "post_id": 50132904, "comment_id": 87288686, "body": "How can it help in this situation, <i>i can&#39;t add breakpoints in the chrome debugger, the web pack folder isn&#39;t shown in the Sources panel</i>? A breakpoint is set up on gibberish source code."}], "tags": [], "owner": {"reputation": 14811, "user_id": 4574281, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gSI2p.png?s=128&g=1", "display_name": "WasiF", "link": "https://stackoverflow.com/users/4574281/wasif"}, "is_accepted": false, "score": 1, "last_activity_date": 1525261880, "last_edit_date": 1525261880, "creation_date": 1525258421, "answer_id": 50132904, "question_id": 50132374, "link": "https://stackoverflow.com/questions/50132374/how-to-debug-angular-2-typescript-application-in-production-mode/50132904#50132904", "title": "How to debug Angular 2 Typescript application in production mode?", "body": "<p>use <code>debugger</code> keyword wherever you need to debug. </p>\n\n<pre><code>getData() {\n   debugger\n   // your code to get data\n}\n</code></pre>\n\n<p>open up the browser developer tool then you'll see the magic</p>\n\n<p>for step-in, use <code>F-10</code> key (in windows)</p>\n\n<p>for continue, use <code>F-8</code> key (in windows)</p>\n\n<p>for more, visit: <a href=\"https://angularfirebase.com/lessons/methods-for-debugging-an-angular-application/\" rel=\"nofollow noreferrer\">Seven Methods for Debugging Angular Applications</a></p>\n"}], "owner": {"reputation": 795, "user_id": 7752814, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f3eff219e8b2331ad1aed9884b7d68d?s=128&d=identicon&r=PG&f=1", "display_name": "RoyBarOn", "link": "https://stackoverflow.com/users/7752814/roybaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1366, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525261880, "creation_date": 1525256811, "question_id": 50132374, "link": "https://stackoverflow.com/questions/50132374/how-to-debug-angular-2-typescript-application-in-production-mode", "title": "How to debug Angular 2 Typescript application in production mode?", "body": "<p>I've built a simple <a href=\"https://angular-testing-123.herokuapp.com/\" rel=\"nofollow noreferrer\">Angular 2 App</a> - for learning purposes and deploy it to Heroku, set PRODUCTION = TRUE in environment.ts but it seems like i can't add breakpoints in the chrome debugger, the web pack folder isn't shown in the Sources panel -  in the developer tools....perhaps there is a way to expose the .ts files and stay in production mode?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "filter", "pipe"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525257602, "post_id": 50132189, "comment_id": 87283161, "body": "I&#39;m not sure I fully understand the error. Your example seems to be working fine, can you elaborate on why that&#39;s not the desired behaviour?"}, {"owner": {"reputation": 612, "user_id": 4962244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xO0vF.png?s=128&g=1", "display_name": "ufollettu", "link": "https://stackoverflow.com/users/4962244/ufollettu"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525257824, "post_id": 50132189, "comment_id": 87283298, "body": "if I add a server with status: &#39;stable&#39; , I see a longer list of option values to choose from, three of type &#39;stable&#39;, but I need only one to apply the filter. I added a screenshot"}], "answers": [{"tags": [], "owner": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "is_accepted": true, "score": 1, "last_activity_date": 1525258174, "creation_date": 1525258174, "answer_id": 50132828, "question_id": 50132189, "link": "https://stackoverflow.com/questions/50132189/angular-5-using-filter-in-select-tag-with-pipe/50132828#50132828", "title": "Angular 5 - using filter in select tag with pipe", "body": "<p>Try this </p>\n\n<p><strong>App.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  servers = [\n    {\n      instanceType: 'medium',\n      name: 'Production Server',\n      status: 'stable',\n      started: new Date(15, 1, 2017)\n    },\n    {\n      instanceType: 'large',\n      name: 'User Database',\n      status: 'stable',\n      started: new Date(15, 1, 2017)\n    },\n    {\n      instanceType: 'small',\n      name: 'Development Server',\n      status: 'offline',\n      started: new Date(15, 1, 2017)\n    },\n    {\n      instanceType: 'small',\n      name: 'Testing Environment Server',\n      status: 'critical',\n      started: new Date(15, 1, 2017)\n    }\n  ];\n\n  filteredStatus = '';\n\n  serverStatus:  {\n      instanceType: string,\n      name: string,\n      status: string,\n      started: Date\n    }[] = [];\n\n    constructor(){\n      this.initializeStatus();\n\n     //For setting the default value of the select try this\n     if(this.serverStatus.length != 0)\n        this.filteredStatus = this.serverStatus[0].status;\n    }\n\n  getStatusClasses(server: {instanceType: string, name: string, status: string, started: Date}) {\n    return {\n      'list-group-item-success': server.status === 'stable',\n      'list-group-item-warning': server.status === 'offline',\n      'list-group-item-danger': server.status === 'critical'\n    };\n  }\n\n  //Initalize the status\n  initializeStatus(){\n    this.serverStatus = [];\n    //Container for the current status\n    let currentStatus = \"\";\n      for(let x of this.servers){\n        if(x.status != currentStatus){\n          this.serverStatus.push(x);\n        }\n        //Equate for reference\n        currentStatus = x.status;\n      }\n  }\n}\n</code></pre>\n\n<p>In <strong>App.component.html</strong></p>\n\n<p>change <code>*ngFor=\"let server of servers\"</code> to this <code>*ngFor=\"let server of serverStatus\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 2270, "user_id": 1759063, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/hJfRp.jpg?s=128&g=1", "display_name": "Ilya Yevlampiev", "link": "https://stackoverflow.com/users/1759063/ilya-yevlampiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1565111856, "creation_date": 1565111856, "answer_id": 57381098, "question_id": 50132189, "link": "https://stackoverflow.com/questions/50132189/angular-5-using-filter-in-select-tag-with-pipe/57381098#57381098", "title": "Angular 5 - using filter in select tag with pipe", "body": "<p>It was difficult to believe, but my code based on this example didn't work until I have explicitly added the \"name\" filed with some value in the input text field. Nothing occured during the filtering</p>\n"}], "owner": {"reputation": 612, "user_id": 4962244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xO0vF.png?s=128&g=1", "display_name": "ufollettu", "link": "https://stackoverflow.com/users/4962244/ufollettu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2277, "favorite_count": 0, "accepted_answer_id": 50132828, "answer_count": 2, "score": 1, "last_activity_date": 1565111856, "creation_date": 1525256215, "last_edit_date": 1525258033, "question_id": 50132189, "link": "https://stackoverflow.com/questions/50132189/angular-5-using-filter-in-select-tag-with-pipe", "title": "Angular 5 - using filter in select tag with pipe", "body": "<p>I have a <code>select</code> html tag and I want to filter my list of results by the selected value. I'm using a pipe to show them in a <code>*ngFor</code> created list. when I add a new item, the select tag add a new option, even if there's an option with the same name yet. How could I fix this? I want my select tag to show unique value only (Filter???). I'd like to set a default value too.</p>\n\n<p><strong>Screenshot</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DjoUa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DjoUa.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>App.component.html</strong>:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n  &lt;div class=\"col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2\"&gt;\n\n  &lt;select\n    name=\"serverStatus\"\n    id=\"serverStatus\"\n    [(ngModel)]=\"filteredStatus\"&gt;\n    &lt;option\n      *ngFor=\"let server of servers\"\n      value=\"{{server.status}}\"&gt;{{server.status}}&lt;/option&gt;\n  &lt;/select&gt;\n  &lt;hr&gt;\n  &lt;ul class=\"list-group\"&gt;\n    &lt;li\n      class=\"list-group-item\"\n      *ngFor=\"let server of servers | filter:filteredStatus:'status'\"\n      [ngClass]=\"getStatusClasses(server)\"&gt;\n      &lt;span\n        class=\"badge\"&gt;\n        {{ server.status }}\n      &lt;/span&gt;\n      &lt;strong&gt;{{ server.name }}&lt;/strong&gt; |\n      {{ server.instanceType | uppercase }} |\n      {{ server.started | date:'fullDate' | uppercase }}\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><strong>App.component.ts</strong>:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  servers = [\n{\n  instanceType: 'medium',\n  name: 'Production Server',\n  status: 'stable',\n  started: new Date(15, 1, 2017)\n},\n{\n  instanceType: 'large',\n  name: 'User Database',\n  status: 'stable',\n  started: new Date(15, 1, 2017)\n},\n{\n  instanceType: 'small',\n  name: 'Development Server',\n  status: 'offline',\n  started: new Date(15, 1, 2017)\n},\n{\n  instanceType: 'small',\n  name: 'Testing Environment Server',\n  status: 'critical',\n  started: new Date(15, 1, 2017)\n}\n];\n\nfilteredStatus = '';\n\ngetStatusClasses(server: {instanceType: string, name: string, status: string, started: Date}) {\nreturn {\n  'list-group-item-success': server.status === 'stable',\n  'list-group-item-warning': server.status === 'offline',\n  'list-group-item-danger': server.status === 'critical'\n};\n}\n}\n</code></pre>\n\n<p><strong>fiter.pipe.ts</strong>:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\ntransform(value: string[], filterString: string, propName:string): any {\nif (value.length === 0 || filterString === '') {\n  return value;\n}\nconst resultArray = [];\nfor (const item of value) {\n  if (item[propName] === filterString) {\n    resultArray.push(item)\n  }\n}\nreturn resultArray;\n}\n}\n</code></pre>\n\n<p>Here is a stackblitz working example: <a href=\"https://angular-rwmfbj.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-rwmfbj.stackblitz.io</a>\nEditor: <a href=\"https://stackblitz.com/edit/angular-nck1kn\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-nck1kn</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1525256307, "post_id": 50132161, "comment_id": 87282230, "body": "This might help <a href=\"https://stackoverflow.com/questions/10123953/sort-javascript-object-array-by-date\" title=\"sort javascript object array by date\">stackoverflow.com/questions/10123953/&hellip;</a> and this... <a href=\"https://stackoverflow.com/questions/41125311/sort-by-date-angular-2-pipe?rq=1\" title=\"sort by date angular 2 pipe\">stackoverflow.com/questions/41125311/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": true, "score": 2, "last_activity_date": 1525258889, "creation_date": 1525258889, "answer_id": 50133063, "question_id": 50132161, "link": "https://stackoverflow.com/questions/50132161/how-to-sort-the-data-based-on-dates-in-descending-order-using-angular2/50133063#50133063", "title": "How to sort the data based on dates in descending order using angular2", "body": "<p>You can do something like this,</p>\n\n<p>You can sort the <code>this.activeMessages</code> and the <code>updated date</code> of <code>last message</code> inside it </p>\n\n<p><strong>Your TS will become:</strong></p>\n\n<pre><code>loadMessages() { \n    this.service \n    .getMessages() \n    .subscribe( \n    data =&gt; { \n        this.messagesdata = data; \n        this.activeMessages = data.filter(msg =&gt; msg.active == true &amp;&amp; msg.from_user_name !== 'Anonymus' &amp;&amp; msg.messages.length &gt; 0) \n        this.activeMessages = this.activeMessages.sort((a: any, b: any) =&gt; new Date(b.messages[b.messages.length -1].updated_at).getTime() - new Date(a.messages[a.messages.length -1].updated_at).getTime() \n        this.closedMessages = data.filter(msg =&gt; msg.active == false &amp;&amp; msg.from_user_name !== 'Anonymus' &amp;&amp; msg.messages.length &gt; 0); \n    },error =&gt; {}); \n}\n</code></pre>\n\n<p><strong>Your HTML:</strong></p>\n\n<pre><code>&lt;mat-tab label=\"Active\"&gt;\n  &lt;mat-icon for=\"search\"&gt;search&lt;/mat-icon&gt;\n  &lt;input type=\"search\" [(ngModel)]=\"filter\" name=\"search\" class=\"search\" placeholder=\"Company\"&gt;\n  &lt;ul&gt;\n    &lt;li *ngFor=\"let message of activeMessages| messagefilter: filter\" (click)=\"showMessage(message)\" [class.activeShow]=\"message.id == message_id\"&gt;\n      &lt;span&gt;{{message.messages[message.messages.length -1].updated_at  | date:'dd.MM.yyyy'}}&lt;/span&gt;\n      &lt;img style=\"width: 40px;\" [src]=\"message.from_user_image || '../assets/images/msg.png'\"/&gt;\n      &lt;p style=\"padding-top: 16px;display: inline;\"&gt;{{message.from_user_name}}&lt;/p&gt;\n      &lt;p style=\"padding-top: 10px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\"&gt;&lt;b&gt;{{message.messages[message.messages.length -1].text}}&lt;/b&gt;&lt;/p&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/mat-tab&gt;\n</code></pre>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 50133063, "answer_count": 1, "score": 1, "last_activity_date": 1525258889, "creation_date": 1525256136, "last_edit_date": 1525256814, "question_id": 50132161, "link": "https://stackoverflow.com/questions/50132161/how-to-sort-the-data-based-on-dates-in-descending-order-using-angular2", "title": "How to sort the data based on dates in descending order using angular2", "body": "<p>I have a set of data displaying. here the dates are not arranged in order.I want the data to be arranged in the descending order based on the dates.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;mat-tab label=\"Active\"&gt;\n  &lt;mat-icon for=\"search\"&gt;search&lt;/mat-icon&gt;\n  &lt;input type=\"search\" [(ngModel)]=\"filter\" name=\"search\" class=\"search\" placeholder=\"Company\"&gt;\n  &lt;ul&gt;\n    &lt;li *ngFor=\"let message of activeMessages| messagefilter: filter\" (click)=\"showMessage(message)\" [class.activeShow]=\"message.id == message_id\"&gt;\n      &lt;span&gt;{{message.messages[message.messages.length -1].updated_at  | date:'dd.MM.yyyy'}}&lt;/span&gt;\n      &lt;img style=\"width: 40px;\" [src]=\"message.from_user_image || '../assets/images/msg.png'\"/&gt;\n      &lt;p style=\"padding-top: 16px;display: inline;\"&gt;{{message.from_user_name}}&lt;/p&gt;\n      &lt;p style=\"padding-top: 10px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\"&gt;&lt;b&gt;{{message.messages[message.messages.length -1].text}}&lt;/b&gt;&lt;/p&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/mat-tab&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>loadMessages() {\n    this.service\n          .getMessages()\n          .subscribe(\n            data =&gt; {\n              this.messagesdata = data;\n              this.activeMessages = data.filter(msg =&gt; msg.active == true &amp;&amp; msg.from_user_name !== 'Anonymus' &amp;&amp; msg.messages.length &gt; 0)\n              this.closedMessages = data.filter(msg =&gt; msg.active == false &amp;&amp; msg.from_user_name !== 'Anonymus' &amp;&amp; msg.messages.length &gt; 0);\n\n            },error =&gt; {});\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JDGWZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDGWZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>here the date i am fetching is from messages array inside the data. So, can anyone help me to fix this issue</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1525260547, "post_id": 50133225, "comment_id": 87285064, "body": "No, <code>Notes</code> has number indexes, while <code>Notes2</code> has string indexes."}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1525264598, "post_id": 50133225, "comment_id": 87287544, "body": "Oh, sorry, question about round brackets was my mistake (type wasn&#39;t assigned to the object...). Now all makes sense"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 2, "last_activity_date": 1525259404, "creation_date": 1525259404, "answer_id": 50133225, "question_id": 50132098, "link": "https://stackoverflow.com/questions/50132098/typescript-understand-interfaces-indexer/50133225#50133225", "title": "Typescript - understand interface&#39;s indexer", "body": "<p>Well, the difference between</p>\n\n<pre><code>interface Notes {\n    [key: number]: string;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>interface Notes2 {\n    [key: string]: string;\n}\n</code></pre>\n\n<p>is that</p>\n\n<pre><code>const t: Notes = {};\nconst t2: Notes2 = {};\nt.d = ['value']; // error!\nt2.d = ['value']; // OK\n</code></pre>\n\n<p>And the round brackets do not work the same, they define functions, not objects:</p>\n\n<pre><code>interface Notes3 {\n    (key: string): string[];\n}\n\nconst t3: Notes3 = {}; // Error! {} not assignable to Notes3\nt3.d = ['value']; // Error again! Notes3 has no 'd' property.\n\nconst t4: Notes3 = (key: string) =&gt; [key]; // OK!\nconst b = t4('hello'); // b is of type string[] and its value = ['hello']\n</code></pre>\n\n<p>The reason why <code>t[...]</code>, <code>t2[...]</code> and so on work is, I think (not completely sure), due to the fact that TypeScript does not typecheck indexes in brackets due to performance reasons, or maybe for broad compatibility with JavaScript. </p>\n\n<p>I think that, in past versions, it did typecheck those indexes correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1525264040, "creation_date": 1525264040, "answer_id": 50134651, "question_id": 50132098, "link": "https://stackoverflow.com/questions/50132098/typescript-understand-interfaces-indexer/50134651#50134651", "title": "Typescript - understand interface&#39;s indexer", "body": "<p>Regarding first example - you need to turn on <code>noImplicitAny</code> compiler option, then you'll get an error as expected.</p>\n\n<p>As for the second one - it is <strong>not</strong> the same, it is \"callable signature\", for example:</p>\n\n<pre><code>interface GetNotes {\n    (noteId: number): string[];\n}\n\nconst getNotes: GetNotes = (noteId: number) =&gt; [];\n</code></pre>\n"}], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 50133225, "answer_count": 2, "score": 0, "last_activity_date": 1525264040, "creation_date": 1525255877, "question_id": 50132098, "link": "https://stackoverflow.com/questions/50132098/typescript-understand-interfaces-indexer", "title": "Typescript - understand interface&#39;s indexer", "body": "<p>The indexer is a bit confusing. </p>\n\n<p>Example:</p>\n\n<pre><code>interface Notes {\n    [noteId: number]: string[];\n}\n</code></pre>\n\n<ol>\n<li>Even though I type <code>noteId</code> as <code>number</code>, I can still pass a string:</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var notes: Notes;\r\nnotes['1'] = ['Some note'];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So I assume coercion happens. But when?</p>\n\n<ol start=\"2\">\n<li>Why use square brackets if round brackets works the same:</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    interface Notes {\r\n        (noteId: number): string[];\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Yes, I can use this also as a function, but I would consider this more as an advantage that disadvantage..</p>\n\n<p>p.s. sorry for the mess in the post, seems StackOverflow can't manage to fix this old and annoying bug...</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 1, "creation_date": 1525256310, "post_id": 50132181, "comment_id": 87282234, "body": "Wouldn&#39;t this fail if/when <code>obj1</code> doesn&#39;t have the <code>key</code> property?"}, {"owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "edited": false, "score": 0, "creation_date": 1525256323, "post_id": 50132181, "comment_id": 87282243, "body": "thanks @davidxxx , but the script you provide seems to work for all the properties and not for the common..."}], "tags": [], "owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1525256835, "last_edit_date": 1525256835, "creation_date": 1525256202, "answer_id": 50132181, "question_id": 50132052, "link": "https://stackoverflow.com/questions/50132052/angular-typescript-fast-way-to-assign-object-properties-between-two-similar-ob/50132181#50132181", "title": "Angular/Typescript - Fast way to assign object properties between two similar objects", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"nofollow noreferrer\"><code>Object.keys()</code></a> </p>\n\n<blockquote>\n  <p>The Object.keys() method returns an array of a given object's\n  properties names, in the same order as we get with a normal loop.</p>\n</blockquote>\n\n<pre><code>var obj1 = {}\nvar obj2 = {}\nObject.keys(obj2).forEach(key2 =&gt; {\n  Object.keys(obj1).forEach(key1 =&gt; {\n    if (key1 === key2) {\n      obj1[key1] = obj2[key1]\n    }\n  })\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 651, "user_id": 3611390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/csuYm.jpg?s=128&g=1", "display_name": "Frede", "link": "https://stackoverflow.com/users/3611390/frede"}, "is_accepted": false, "score": 0, "last_activity_date": 1525256208, "creation_date": 1525256208, "answer_id": 50132184, "question_id": 50132052, "link": "https://stackoverflow.com/questions/50132052/angular-typescript-fast-way-to-assign-object-properties-between-two-similar-ob/50132184#50132184", "title": "Angular/Typescript - Fast way to assign object properties between two similar objects", "body": "<p>Object.assign(obj1, obj2) ist what you are looking for.</p>\n\n<p><a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign</a></p>\n\n<p>EDIT: sorry i thought you we're talking about JSON objects not classes. Wrong answer!</p>\n"}, {"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 0, "last_activity_date": 1525257790, "last_edit_date": 1525257790, "creation_date": 1525256244, "answer_id": 50132199, "question_id": 50132052, "link": "https://stackoverflow.com/questions/50132052/angular-typescript-fast-way-to-assign-object-properties-between-two-similar-ob/50132199#50132199", "title": "Angular/Typescript - Fast way to assign object properties between two similar objects", "body": "<p>An option is to create an array of the common properties and iterate over it.</p>\n\n<pre><code>let commonProps = ['idProduct', 'ProductName'];\n\ncommonProps.map(x =&gt; {\n  obj1[x] = obj2[x]  // or use the spread operator {...obj2[x]} if you need to be more carefull\n}) \n</code></pre>\n\n<hr>\n\n<p>Alternative solution using <code>Object.keys</code>:</p>\n\n<pre><code>Object.keys(obj2)\n  .filter(x =&gt; Object.keys(obj1).includes(x))\n  .map(x =&gt; obj1[x] = obj2[x])\n</code></pre>\n"}], "owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1525257790, "creation_date": 1525255749, "question_id": 50132052, "link": "https://stackoverflow.com/questions/50132052/angular-typescript-fast-way-to-assign-object-properties-between-two-similar-ob", "title": "Angular/Typescript - Fast way to assign object properties between two similar objects", "body": "<p>I have two object classes that are very similar and I need to know if there is a way to easily assign all the common property values from object1 to object2.</p>\n\n<p>This is the scenario:</p>\n\n<pre><code>let obj1:Product;\nleft obj2:OffertRow;\n</code></pre>\n\n<p>The common properties for instances are: <strong>idProduct, ProductName</strong></p>\n\n<p>Is there a way to do something like this in order to pass obj2 properties on obj1 one:</p>\n\n<pre><code>obj1 = obj2\n</code></pre>\n\n<p>Or I always have to specify the properties:</p>\n\n<pre><code>obj1.idProduct = obj2.idProduct;\nobj1.Product = obj2.Product;\n.... = ...\n</code></pre>\n\n<p>Thanks to support</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525255597, "post_id": 50131947, "comment_id": 87281790, "body": "<code>allCosts.map(({created}) =&gt; created);</code> doesn&#39;t return a <code>Date</code>, and the error is telling you that you can&#39;t compare a date against something else with the <code>&gt;</code> operator"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525255695, "post_id": 50131947, "comment_id": 87281860, "body": "What do you suggest me to do in this case to compare date and sum the costs by the date range ?"}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525255720, "post_id": 50131947, "comment_id": 87281880, "body": "What would you expect <code>test </code> to be?"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525255886, "post_id": 50131947, "comment_id": 87281987, "body": "I have costs like Object of Interface and costs has a Date when were created I want just to if the costs(test) are greater of this Q1 and smaller of Q2 do that function reduction + costs. I will update the code to see the interface of the Costs"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525257840, "post_id": 50131947, "comment_id": 87283310, "body": "@bugs Can you help me in this ?"}], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "is_accepted": true, "score": 0, "last_activity_date": 1525269045, "creation_date": 1525269045, "answer_id": 50136315, "question_id": 50131947, "link": "https://stackoverflow.com/questions/50131947/operator-cannot-be-applied-to-types-iterablestring-date-and-date/50136315#50136315", "title": "Operator &#39;&gt;&#39; cannot be applied to types &#39;Iterable&lt;string, Date&gt;&#39; and &#39;Date&#39;", "body": "<p>I have fixed this.</p>\n\n<pre><code>export function getTotalYearCosts(valueItem: ValueItem, allCosts: Map&lt;string, Costs&gt;): ActualCosts {\nconst totalYearCosts = { actual: 0, planned: 0, Q1: 0, Q2: 0, Q3: 0, Q4: 0 };\n  const iter = allCosts[Symbol.iterator]();\n\nfor (let i = 0; i &lt; valueItem.actualCostIds.length; i++) {\n  const costID = valueItem.actualCostIds[i];\n\n  if (allCosts.get(costID).created.getMonth() &lt; 3 &amp;&amp; allCosts.get(costID).created.getMonth() &gt;= 0 ) {\n\n  totalYearCosts.actual += allCosts.get(costID).costs;\n  totalYearCosts.Q1 += allCosts.get(costID).costs;\n</code></pre>\n"}], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 50136315, "answer_count": 1, "score": 0, "last_activity_date": 1525269045, "creation_date": 1525255422, "last_edit_date": 1525255928, "question_id": 50131947, "link": "https://stackoverflow.com/questions/50131947/operator-cannot-be-applied-to-types-iterablestring-date-and-date", "title": "Operator &#39;&gt;&#39; cannot be applied to types &#39;Iterable&lt;string, Date&gt;&#39; and &#39;Date&#39;", "body": "<p>I write this code to get the sum about date range but I am facing with this problem</p>\n\n<blockquote>\n  <p>Operator '>' cannot be applied to types 'Iterable' and\n  'Date'.</p>\n</blockquote>\n\n<p>Here is my code</p>\n\n<pre><code>export function getTotalYearCosts(valueItem: ValueItem, allCosts: Map&lt;string, Costs&gt;): TotalCosts {\nconst totalYearCosts = { planned: 0, actual: 0 };\nconst test = allCosts.map(({created}) =&gt; created);\n\nconst Q1 = new Date('2018-01-01');\nconst Q2 = new Date('2018-04-01');\ntotalYearCosts.actual = valueItem.actualCostIds\n  .map(costId =&gt; allCosts.get(costId, emptyCosts()).costs)\n  .filter(costs =&gt; test &gt; Q1 &amp;&amp; test &lt; Q2)\n  .reduce((reduction, costs) =&gt; reduction + costs, 0);\n\ntotalYearCosts.planned = valueItem.plannedCostIds\n  .map(costId =&gt; allCosts.get(costId, emptyCosts()).costs)\n  .reduce((reduction, costs) =&gt; reduction + costs, 0);\n\n  return totalYearCosts;\n}\n</code></pre>\n\n<p>Interface of the Costs</p>\n\n<pre><code>export interface Costs {\n  id: string;\n  created: Date;\n  costs: number;\n // costType: number;\n  type: number;\n  reference: string;\n  comment: string;\n}\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "google-cloud-storage", "firebase-admin"], "comments": [{"owner": {"reputation": 1758, "user_id": 277580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ee5a19cc82d2b7693dfaea8ad26b9b?s=128&d=identicon&r=PG", "display_name": "apaatsio", "link": "https://stackoverflow.com/users/277580/apaatsio"}, "edited": false, "score": 0, "creation_date": 1525257356, "post_id": 50131871, "comment_id": 87282970, "body": "In the title you say Firebase Cloud Storage and in the text you say Google Cloud Storage. These are two different APIs. Moreover, since you are performing an asynchronous action in the cloud function, you should return a Promise."}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "reply_to_user": {"reputation": 1758, "user_id": 277580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ee5a19cc82d2b7693dfaea8ad26b9b?s=128&d=identicon&r=PG", "display_name": "apaatsio", "link": "https://stackoverflow.com/users/277580/apaatsio"}, "edited": false, "score": 0, "creation_date": 1525257876, "post_id": 50131871, "comment_id": 87283336, "body": "sorry about that. i already change it to firebase. i will return the promise when i can get basic functionality working."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 1758, "user_id": 277580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ee5a19cc82d2b7693dfaea8ad26b9b?s=128&d=identicon&r=PG", "display_name": "apaatsio", "link": "https://stackoverflow.com/users/277580/apaatsio"}, "edited": false, "score": 1, "creation_date": 1525269400, "post_id": 50131871, "comment_id": 87290953, "body": "@apaatsio HTTPS-triggered functions don&#39;t need to return a promise."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1525276192, "post_id": 50131871, "comment_id": 87295669, "body": "It doesn&#39;t look like you initialized the cloud storage API with a service account as described in the other issue you linked it.  If you want to use getSignedUrl, you need to init with a dedicated service account."}], "answers": [{"comments": [{"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1525347459, "post_id": 50138883, "comment_id": 87325687, "body": "I added service account as mentioned. but it&#39;s giving me another error"}, {"owner": {"reputation": 1652, "user_id": 4564450, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/USiV0.jpg?s=128&g=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/4564450/andrey"}, "edited": false, "score": 0, "creation_date": 1567994329, "post_id": 50138883, "comment_id": 102121258, "body": "I get this error: <code>Error: Error parsing triggers: Cannot find module &#39;.&#47;serviceAccountKey.json&#39;</code>"}, {"owner": {"reputation": 1618, "user_id": 6778758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a8f2d7ba7222e70f4fb6ba94366cce?s=128&d=identicon&r=PG&f=1", "display_name": "Nainal", "link": "https://stackoverflow.com/users/6778758/nainal"}, "edited": false, "score": 0, "creation_date": 1575621790, "post_id": 50138883, "comment_id": 104636011, "body": "@Doug Stevenson Does the URL returned by getSignedUrl() expires in maximum 7 days? I am using getSignedUrl to generate url from admin sdk but it works fine for some days and throws SignatureDoesNotMatch error after 7 days."}, {"owner": {"reputation": 1023, "user_id": 4667355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQzWO.png?s=128&g=1", "display_name": "nicoqh", "link": "https://stackoverflow.com/users/4667355/nicoqh"}, "edited": false, "score": 0, "creation_date": 1591357317, "post_id": 50138883, "comment_id": 110031841, "body": "Doug, would you recommend this over adding the &quot;Service Account Token Creator&quot; role to the default App Engine service account? Adding the required roles seems much easier."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 7, "last_activity_date": 1525276762, "creation_date": 1525276762, "answer_id": 50138883, "question_id": 50131871, "link": "https://stackoverflow.com/questions/50131871/firebase-function-get-download-url-after-successfully-save-image-to-firebase-clo/50138883#50138883", "title": "firebase function get download url after successfully save image to firebase cloud storage", "body": "<p>You're not showing all the code here (for example, how you initialized the Firebase Admin SDK to create <code>admin</code>).  So I'm going to assume that you used the project default credentials to initialize it like this:</p>\n\n<pre><code>import * as admin from 'firebase-admin'\nadmin.initializeApp()\n</code></pre>\n\n<p>This isn't sufficient to to be able to use getSignedUrl when reaching into the admin SDK to use Cloud Storage APIs.  If you want to use getSignedUrl, you'll need to provide the credentials for a dedicated service account that you create in the console.</p>\n\n<p>Assuming that you put those credentials in a file called yourServiceAccount.json in your functions folder, you should initialize the admin SDK with those credentials like this:</p>\n\n<pre><code>import * as serviceAccount from 'yourServiceAccount.json';\nconst adminConfig = JSON.parse(process.env.FIREBASE_CONFIG)\nadminConfig.credential = admin.credential.cert(&lt;any&gt;serviceAccount)\nadmin.initializeApp(adminConfig);\n</code></pre>\n\n<p>Note that this is just taking the default project config from FIREBASE_CONFIG and adding the service account to them.</p>\n\n<p>In order to get the import of a JSON file, you will also need to have a file (called typings.d.ts):</p>\n\n<pre><code>declare module \"*.json\" {\n  const value: any;\n  export default value;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1525406491, "creation_date": 1525406491, "answer_id": 50166978, "question_id": 50131871, "link": "https://stackoverflow.com/questions/50131871/firebase-function-get-download-url-after-successfully-save-image-to-firebase-clo/50166978#50166978", "title": "firebase function get download url after successfully save image to firebase cloud storage", "body": "<p>Thanks @Doug Stevenson. I believe I found an answer. </p>\n\n<ol>\n<li><p>I solve deployment errors by recreating new project.</p></li>\n<li><p>I change my initialization to code below to solve unhandled rejection. Go to Service Acccounts under Project Settings in your firebase project and generate new private key under firebase admin sdk.</p>\n\n<pre><code>const serviceAccount = require('./path/to/serviceaccount.json');\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n  databaseURL: '&lt;ur database url&gt;', // check it under service accounts\n  storageBucket: '&lt;ur storage bucket url&gt;' //check it in script snippet require to add to your website.\n});\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3602, "favorite_count": 1, "accepted_answer_id": 50138883, "answer_count": 2, "score": 5, "last_activity_date": 1525406534, "creation_date": 1525255192, "last_edit_date": 1525406534, "question_id": 50131871, "link": "https://stackoverflow.com/questions/50131871/firebase-function-get-download-url-after-successfully-save-image-to-firebase-clo", "title": "firebase function get download url after successfully save image to firebase cloud storage", "body": "<p>I'm having problem getting download url in firebase function after saving image to cloud storage. Below is my firebase http function in typescript to save base64 string to jpeg in firebase cloud storage. when i log result, it always empty. I follow this link to get download url \n \"<a href=\"https://stackoverflow.com/questions/47072883/get-public-url-from-file-uploaded-with-firebase-admin\">Get Public URL from file uploaded with firebase-admin</a>\". But it give me following error:\"<strong><em>SigningError: Identity and Access Management (IAM) API has not been used in project 81673989436 before or it is disabled.</em></strong>\" And couldn't find simple example to follow. My plan is to update my firestore table, once uploaded to cloud storage.</p>\n\n<pre><code>export const publishImage = functions.https.onRequest((req, res) =&gt; {\n// Convert the base64 string back to an image to upload into the Google \n// Cloud Storage bucket\nconst base64EncodedImageString=req.body.image.replace(/^data:image\\/jpeg;base64,/, \"\");\nconst mimeType = 'image/jpeg';\nconst randomFileName = crypto.randomBytes(16).toString('hex') + '.jpeg';    \nconst imageBuffer = new Buffer(base64EncodedImageString, 'base64');\n\nconst bucket = admin.storage().bucket();\n\n// Upload the image to the bucket\nconst file = bucket.file('images/' + randomFileName);\nfile.save(imageBuffer, {\n    metadata: { contentType: mimeType },\n}).then(result =&gt; {\n    console.log(result);\n    file.makePublic();\n    file.getSignedUrl({\n        action: 'read',\n        expires: '03-09-2491'\n    }).then(urls =&gt; {\n        console.log(urls[0]);\n    })\n});\nreturn res.status(200).send(\"NOT WORKING\");    \n})\n</code></pre>\n\n<p>The error is as follow in firebase console. Even with error, I can save image in storage.</p>\n\n<blockquote>\n  <p>SigningError: Permission iam.serviceAccounts.signBlob is required to perform this operation on service account projects/vmsystem-4aa54/serviceAccounts/vmsystem-4aa54@appspot.gserviceaccount.com.\n      at /user_code/node_modules/@google-cloud/storage/src/file.js:1715:16\n      at Request._callback (/user_code/node_modules/@google-cloud/storage/node_modules/google-auto-auth/index.js:356:9)\n      at Request.self.callback (/user_code/node_modules/@google-cloud/storage/node_modules/request/request.js:186:22)\n      at emitTwo (events.js:106:13)\n      at Request.emit (events.js:191:7)\n      at Request. (/user_code/node_modules/@google-cloud/storage/node_modules/request/request.js:1163:10)\n      at emitOne (events.js:96:13)\n      at Request.emit (events.js:188:7)\n      at IncomingMessage. (/user_code/node_modules/@google-cloud/storage/node_modules/request/request.js:1085:12)\n      at IncomingMessage.g (events.js:292:16)</p>\n</blockquote>\n\n<p>How can i get download url?</p>\n\n<p>I am getting confused. Now, I am stuck at updating function after changes.\nBelow is my initialization for admin.</p>\n\n<pre><code> import * as admin from 'firebase-admin';\n const serviceAccount = require('./../service_account.json');\n\n try {   \n // admin.initializeApp(functions.config().firebase); // initial\n admin.initializeApp({\n     credential: admin.credential.cert(serviceAccount),\n     databaseURL: \"https://vmsystem-4aa54.firebaseio.com\"\n });\n } catch(e) {}\n import * as simpletest from './simpletest';\n export const testsomething = simpletest.helloWorld;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZazoF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZazoF.jpg\" alt=\"first\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/WW5CF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WW5CF.jpg\" alt=\"second\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LtGpQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LtGpQ.jpg\" alt=\"third\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/O7P0Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O7P0Q.jpg\" alt=\"fourth\"></a></p>\n"}, {"tags": ["arrays", "typescript", "ionic-framework", "controller", "row"], "comments": [{"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 1, "creation_date": 1525255039, "post_id": 50131737, "comment_id": 87281415, "body": "instead of pushing you can do <code>this.listObj[i].validation = data[i-1].validation</code>"}, {"owner": {"reputation": 29, "user_id": 9505535, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mohamed farjallah", "link": "https://stackoverflow.com/users/9505535/mohamed-farjallah"}, "reply_to_user": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1525255425, "post_id": 50131737, "comment_id": 87281672, "body": "the column validation doesn&#39;t exist int the listObj but i want to add it"}], "answers": [{"tags": [], "owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "is_accepted": false, "score": 0, "last_activity_date": 1525256279, "creation_date": 1525256279, "answer_id": 50132213, "question_id": 50131737, "link": "https://stackoverflow.com/questions/50131737/add-variable-to-row-of-an-array/50132213#50132213", "title": "Add variable to row of an array", "body": "<p>Instead of pushing to an object (an item within <code>this.listObj</code>), you can simply just add the new field by doing </p>\n\n<p><code>this.listObj[i].field_name = value</code></p>\n\n<p><strong>NB</strong>: <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/push\" rel=\"nofollow noreferrer\">push() is for arrays</a>, not <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object#Methods\" rel=\"nofollow noreferrer\">objects</a>,</p>\n\n<p>Check the example code below and check your console</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var listObject = [\r\n{id: 1, name:'item name'},\r\n{id: 2, name: 'item name2'},\r\n{id: 3, name: 'item name 3'}\r\n]\r\n\r\nconsole.log('original object', listObject)\r\n\r\nfor(var i=0; i&lt;listObject.length; i++){\r\n\r\n// i can manipulate each item here\r\n// if the item is even validate should be true\r\nlistObject[i].validate = true\r\n}\r\n\r\nconsole.log('new object', listObject)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Check your console and see how the items were altered for objects</p>\n"}], "owner": {"reputation": 29, "user_id": 9505535, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mohamed farjallah", "link": "https://stackoverflow.com/users/9505535/mohamed-farjallah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525256279, "creation_date": 1525254842, "question_id": 50131737, "link": "https://stackoverflow.com/questions/50131737/add-variable-to-row-of-an-array", "title": "Add variable to row of an array", "body": "<p>i am trying to get data from back office and verify if it's exist into an other table so i add a value called 'validation' for each row of the array wich contain the result of verification .\nthe problem is each time it add the value to an other row into the array but i want to add it into the row </p>\n\n<p>Details : </p>\n\n<pre><code>testobj() {\n    for (var i = 0; i &lt; this.listObj.length; i++) {\n        console.log(this.listObj[i].id_obj_ser);\n        this.etudiant.getobjectifvalidation(this.listObj[i].id_obj_ser, this.cin).subscribe((data: any) =&gt; {\n            if (data.length != 0) {\n                console.log(data);\n                console.log('i = ' + i);\n                this.listObj[i].push({'validation': data[i-1].validation});\n                console.log(this.listObj[i]);\n            }\n        });\n        }\n        console.log(this.listObj);\n}\n</code></pre>\n\n<p>listObj : array al ready exist </p>\n\n<p>this.listObj[i].push : this is the new value i want to add it into the row and not to the array.</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1525255024, "post_id": 50131154, "comment_id": 87281402, "body": "Do you realize this functionality already exists? Look up custom elements in MDN!"}], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 944370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/53a7f527831841bbe8164898172e51ef?s=128&d=identicon&r=PG", "display_name": "Nicholas Hill", "link": "https://stackoverflow.com/users/944370/nicholas-hill"}, "edited": false, "score": 0, "creation_date": 1525254600, "post_id": 50131269, "comment_id": 87281114, "body": "Doh! So simple! Thanks very much. Just out of interest, is it also possible in C#?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 318, "user_id": 944370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/53a7f527831841bbe8164898172e51ef?s=128&d=identicon&r=PG", "display_name": "Nicholas Hill", "link": "https://stackoverflow.com/users/944370/nicholas-hill"}, "edited": false, "score": 0, "creation_date": 1525254816, "post_id": 50131269, "comment_id": 87281260, "body": "@NicholasHill nope.. you have to do a LOT f generics and wierd generics at that to get this to work in C#. This is just one reason why I love typescript :D"}, {"owner": {"reputation": 318, "user_id": 944370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/53a7f527831841bbe8164898172e51ef?s=128&d=identicon&r=PG", "display_name": "Nicholas Hill", "link": "https://stackoverflow.com/users/944370/nicholas-hill"}, "edited": false, "score": 0, "creation_date": 1525255172, "post_id": 50131269, "comment_id": 87281511, "body": "Good to know! Thanks again."}, {"owner": {"reputation": 63, "user_id": 4519572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ctlk.jpg?s=128&g=1", "display_name": "BruceAuyeung", "link": "https://stackoverflow.com/users/4519572/bruceauyeung"}, "edited": false, "score": 0, "creation_date": 1576478666, "post_id": 50131269, "comment_id": 104898649, "body": "charming ! where is is documented in the official website ?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1525253328, "creation_date": 1525253328, "answer_id": 50131269, "question_id": 50131154, "link": "https://stackoverflow.com/questions/50131154/in-typescript-how-can-i-return-the-subclass-from-the-base-class/50131269#50131269", "title": "In TypeScript, how can I return the subclass from the base class?", "body": "<p>You can use <code>this</code> as a type, meaning the return type is the same as the type this method was invoked on: </p>\n\n<pre><code>class $NewElement&lt;E extends HTMLElement&gt; {\n    public element: E;\n    constructor(name: string) {\n        this.element = &lt;E&gt;document.createElement(name);\n    }\n    public className(className: string): this {\n        this.element.className = className;\n        return this;\n    }\n}\n\nclass $NewImage extends $NewElement&lt;HTMLImageElement&gt; {\n    constructor() {\n        super('img');\n    }\n    public source(fileName: string): this {\n        this.element.src = fileName;\n        return this;\n    }\n}\n\nlet img = new $NewImage().className('a').source('b').element; //works\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 944370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/53a7f527831841bbe8164898172e51ef?s=128&d=identicon&r=PG", "display_name": "Nicholas Hill", "link": "https://stackoverflow.com/users/944370/nicholas-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 50131269, "answer_count": 1, "score": 2, "last_activity_date": 1525253328, "creation_date": 1525252926, "question_id": 50131154, "link": "https://stackoverflow.com/questions/50131154/in-typescript-how-can-i-return-the-subclass-from-the-base-class", "title": "In TypeScript, how can I return the subclass from the base class?", "body": "<p>I have a base class and one or more sub classes that extend from it. I'm trying to implement the ability to create HTML elements easily.</p>\n\n<p>My first class is the base class that contains common methods for all HTML elements:</p>\n\n<pre><code>class $NewElement&lt;E extends HTMLElement&gt; {\n\n    public element: E = null;\n\n    constructor(name: string) {\n        this.element = &lt;E&gt;document.createElement(name);\n    }\n\n    public className(className: string): any {\n        this.element.className = className;\n        return this;\n    }\n\n}\n</code></pre>\n\n<p>I have other classes, each of which extends the above class. For example, this is the one for an img tag:</p>\n\n<pre><code>class $NewImage extends $NewElement&lt;HTMLImageElement&gt; {\n\n    constructor() {\n        super('img');\n    }\n\n    public source(fileName: string): $NewImage {\n        this.element.src = fileName;\n        return this;\n    }\n\n}\n</code></pre>\n\n<p>I want to do something like this, in a type-safe manner:</p>\n\n<pre><code>let img = new $NewImage().className('a').source('b').element;\n</code></pre>\n\n<p>How can it be done? After calling className(), I'm no longer dealing with a $NewImage object, but rather a $NewElement object, which doesn't have the source() method.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 69, "user_id": 7883217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b85aa82c498da5f5ba6057e4f286875?s=128&d=identicon&r=PG", "display_name": "cat1244", "link": "https://stackoverflow.com/users/7883217/cat1244"}, "edited": false, "score": 0, "creation_date": 1525252764, "post_id": 50130926, "comment_id": 87279896, "body": "This functionality will be used in different components"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 7883217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b85aa82c498da5f5ba6057e4f286875?s=128&d=identicon&r=PG", "display_name": "cat1244", "link": "https://stackoverflow.com/users/7883217/cat1244"}, "edited": false, "score": 0, "creation_date": 1525252652, "post_id": 50130990, "comment_id": 87279832, "body": "Well, so normal and the pipe is not needed? Simply if it is necessary for me in different components, then copy this function as something not very good"}], "tags": [], "owner": {"reputation": 2228, "user_id": 5441424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D91ou.jpg?s=128&g=1", "display_name": "DGarvanski", "link": "https://stackoverflow.com/users/5441424/dgarvanski"}, "is_accepted": false, "score": 1, "last_activity_date": 1525252386, "creation_date": 1525252386, "answer_id": 50130990, "question_id": 50130926, "link": "https://stackoverflow.com/questions/50130926/change-the-color-of-the-div-depending-on-the-value-of-the-variable/50130990#50130990", "title": "change the color of the div depending on the value of the variable", "body": "<p>You can make a small change by doing something like this:</p>\n\n<pre><code>&lt;div class=\"p-a-1 bg-warning\" [ngStyle]=\"{'color': getStyles(40)}\"&gt;\n   &lt;p&gt;Test&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And changing your getStyles method to return the color and not an object.</p>\n"}, {"tags": [], "owner": {"reputation": 60727, "user_id": 1984039, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6da57aad344d1dceec183610a788a86?s=128&d=identicon&r=PG", "display_name": "gurvinder372", "link": "https://stackoverflow.com/users/1984039/gurvinder372"}, "is_accepted": false, "score": 1, "last_activity_date": 1525252442, "creation_date": 1525252442, "answer_id": 50131013, "question_id": 50130926, "link": "https://stackoverflow.com/questions/50130926/change-the-color-of-the-div-depending-on-the-value-of-the-variable/50131013#50131013", "title": "change the color of the div depending on the value of the variable", "body": "<p><code>else</code> is followed by a condition without <code>if</code>.</p>\n\n<p>Replace this line</p>\n\n<pre><code>else (number &gt;= 80) {color = 'green';}\n</code></pre>\n\n<p>by either </p>\n\n<pre><code>else {color = 'green';}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>else if (number &gt;= 80) {color = 'green';}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 7883217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b85aa82c498da5f5ba6057e4f286875?s=128&d=identicon&r=PG", "display_name": "cat1244", "link": "https://stackoverflow.com/users/7883217/cat1244"}, "edited": false, "score": 0, "creation_date": 1525253356, "post_id": 50131146, "comment_id": 87280276, "body": "In other components, I have to duplicate this function. How can I take it out and use it many times?"}, {"owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "reply_to_user": {"reputation": 69, "user_id": 7883217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b85aa82c498da5f5ba6057e4f286875?s=128&d=identicon&r=PG", "display_name": "cat1244", "link": "https://stackoverflow.com/users/7883217/cat1244"}, "edited": false, "score": 0, "creation_date": 1525253632, "post_id": 50131146, "comment_id": 87280441, "body": "@cat1244 if you separate that function to a different typescript file, you can just import it and use it everywhere (you just need to attach it to the component as well for it to be reachable through the <code>HTML</code>). I changed my answer to reflect your case"}, {"owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "reply_to_user": {"reputation": 69, "user_id": 7883217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b85aa82c498da5f5ba6057e4f286875?s=128&d=identicon&r=PG", "display_name": "cat1244", "link": "https://stackoverflow.com/users/7883217/cat1244"}, "edited": false, "score": 0, "creation_date": 1525253826, "post_id": 50131146, "comment_id": 87280568, "body": "@cat1244 if this helped, don&#39;t forget to mark as the right answer ;-)"}], "tags": [], "owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1525253589, "last_edit_date": 1525253589, "creation_date": 1525252914, "answer_id": 50131146, "question_id": 50130926, "link": "https://stackoverflow.com/questions/50130926/change-the-color-of-the-div-depending-on-the-value-of-the-variable/50131146#50131146", "title": "change the color of the div depending on the value of the variable", "body": "<p>I would have added a class based on the key instead of actually adding the color. this solution allows you to attach additional changes to the class.</p>\n\n<p>here's the code <a href=\"https://stackblitz.com/edit/angular-l4tcxs\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-l4tcxs</a></p>\n\n<p>basically, there are 3 classes (one for each color), and the code adds the class based on the string in <code>color</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// COMPONENT YOU WANT TO USE IN\r\nimport {\r\n  Component\r\n} from '@angular/core';\r\nimport {\r\n  getClassBasedOnKey\r\n} from './shared-functions';\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  getClassBasedOnKey: Function = getClassBasedOnKey;\r\n}\r\n\r\n// shared-functions.ts\r\nexport function getClassBasedOnKey(key: number) {\r\n  if (key &lt; 40) {\r\n    return 'red';\r\n  } else if (key &gt;= 40 &amp;&amp; key &lt; 80) {\r\n    return 'yellow';\r\n  }\r\n  return 'green';\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.yellow {\r\n  color: yellow;\r\n  background: black;\r\n}\r\n\r\n.red {\r\n  color: red;\r\n}\r\n\r\n.green {\r\n  color: green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"p-a-1 bg-warning\" [ngClass]=\"getClassBasedOnKey(40)\"&gt;\r\n  &lt;p&gt;Test&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 25306, "user_id": 356380, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/PZRme.jpg?s=128&g=1", "display_name": "Whisher", "link": "https://stackoverflow.com/users/356380/whisher"}, "is_accepted": true, "score": 2, "last_activity_date": 1525253777, "creation_date": 1525253777, "answer_id": 50131399, "question_id": 50130926, "link": "https://stackoverflow.com/questions/50130926/change-the-color-of-the-div-depending-on-the-value-of-the-variable/50131399#50131399", "title": "change the color of the div depending on the value of the variable", "body": "<p>You could i.e using a directive like</p>\n\n<pre><code>import { Directive, Renderer2, ElementRef, OnInit, Input } from '@angular/core';\n\n@Directive({\n  selector: '[colors]'\n})\nexport class ColorsDirective implements OnInit{\n  @Input() colors: number;\n  constructor(private renderer: Renderer2, private el: ElementRef) {}\n  ngOnInit() {\n    const current = this._getStyles(this.colors);\n    this.renderer.setStyle(\n      this.el.nativeElement,\n      'color',\n      current\n    );\n  }\n  _getStyles(key: number) {\n    let color = '';\n    if (key &lt; 40) {\n      color = 'red';\n    }\n    else if (key &gt;= 40 &amp;&amp; key &lt; 80) {\n      color = 'yellow';\n    }\n    else  {\n      color = 'green';\n    }\n    return  color;\n  }\n}\n</code></pre>\n\n<p><strong>USAGE</strong></p>\n\n<pre><code>&lt;p [colors]=\"40\"&gt;PIPPO&lt;/p&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 269, "user_id": 3336654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xg0FO.jpg?s=128&g=1", "display_name": "Deep Shah", "link": "https://stackoverflow.com/users/3336654/deep-shah"}, "is_accepted": false, "score": 2, "last_activity_date": 1525256065, "creation_date": 1525256065, "answer_id": 50132145, "question_id": 50130926, "link": "https://stackoverflow.com/questions/50130926/change-the-color-of-the-div-depending-on-the-value-of-the-variable/50132145#50132145", "title": "change the color of the div depending on the value of the variable", "body": "<p>Extending the answer of @Thatkookooguy</p>\n\n<p>You can create a common function in the service and call it from each component by importing them into the component.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\n\nexport class CommonService {\n\n  getClassBasedOnKey(key: any) {\n    if (key &lt; 40) {\n      return 'red';\n    } else if (key &gt;= 40 &amp;&amp; key &lt; 80) {\n      return 'yellow';\n    }\n    return 'green';\n  }\n}\n</code></pre>\n\n<p>Now importing the service into the module in the provider:</p>\n\n<pre><code>@NgModule({\n  declarations: [ AppComponent ],\n  imports: [],\n  providers: [ CommonService],\n  bootstrap: [AppComponent]\n})\n</code></pre>\n\n<p>And using it in the component and HTML:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { CommonService } from './common.service';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  constructor(public _commonService: CommonService) {\n\n  }\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"p-a-1 bg-warning\" [ngClass]=\"_commonService.getClassBasedOnKey(40)\"&gt;\n  &lt;p&gt;Test&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Hope this helps....Happy Coding!!!</p>\n"}], "owner": {"reputation": 69, "user_id": 7883217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b85aa82c498da5f5ba6057e4f286875?s=128&d=identicon&r=PG", "display_name": "cat1244", "link": "https://stackoverflow.com/users/7883217/cat1244"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 50131399, "answer_count": 5, "score": 0, "last_activity_date": 1525256065, "creation_date": 1525252167, "question_id": 50130926, "link": "https://stackoverflow.com/questions/50130926/change-the-color-of-the-div-depending-on-the-value-of-the-variable", "title": "change the color of the div depending on the value of the variable", "body": "<p>I need to change the color of my card depending on the value of the variable</p>\n\n<p>How can i do this?</p>\n\n<p>I thought you could do this?</p>\n\n<pre><code>getStyles(key: number) {\n    let color = ''\n    if (number &lt; 40) {color = 'red';}\n    else if (number &gt;= 40 &amp;&amp; number &lt; 80) {color = 'yellow';}\n    else (number &gt;= 80) {color = 'green';}\n    return {\n      color: color\n    };\n}\n\n&lt;div class=\"p-a-1 bg-warning\" [ngStyle]=\"getStyles(40)\"&gt;\n   &lt;p&gt;Test&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Or can this be done using a pipe?</p>\n\n<p>But if it can be done through a pipe, then I do not quite understand how</p>\n\n<p>What is the best practice?</p>\n"}, {"tags": ["angular", "typescript", "xmlhttprequest"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1525252199, "post_id": 50130832, "comment_id": 87279565, "body": "What&#39;s wrong with your code? Also, why are you not using Angulars built-in HttpClient class?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9699663"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1525252507, "post_id": 50130832, "comment_id": 87279741, "body": "Work correctly this code, Only I want to display in background StatusMessage. How to get it?"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 8764675, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qjFfsnBiF9o/AAAAAAAAAAI/AAAAAAAAABM/pc14bIkPKSE/photo.jpg?sz=128", "display_name": "Kostas Asargiotakis", "link": "https://stackoverflow.com/users/8764675/kostas-asargiotakis"}, "is_accepted": false, "score": 0, "last_activity_date": 1525254983, "creation_date": 1525254983, "answer_id": 50131788, "question_id": 50130832, "link": "https://stackoverflow.com/questions/50130832/how-to-get-the-xhr-response-statuscode/50131788#50131788", "title": "How to get the xhr.response.statuscode", "body": "<p>Did you try:\nXHR.StatusCode instead of XHR.response.StatusCode ? cause as i can see from your logged object there is no response attribute...</p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "is_accepted": true, "score": 0, "last_activity_date": 1525262934, "creation_date": 1525262934, "answer_id": 50134331, "question_id": 50130832, "link": "https://stackoverflow.com/questions/50130832/how-to-get-the-xhr-response-statuscode/50134331#50134331", "title": "How to get the xhr.response.statuscode", "body": "<p>Try this code:</p>\n\n<pre><code>private prepareSave(): any {\n    const endpoint = (Api.getUrl(Api.URLS.createContrat));\n    let XHR = new XMLHttpRequest();\n    const input: FormData = new FormData();\n    input.append('contratedate', this.addContratForm.get('contratedate').value);\n    input.append('contratdesc', this.addContratForm.get('contratdesc').value);\n    input.append('unit_price', this.addContratForm.get('unit_price').value);\n    input.append('files', this.addContratForm.get('files').value);\n    input.append('token', this.auth.getCurrentUser().token);\n   XHR.addEventListener('load', function (event) {\n       alert('Yeah! Data sent and response loaded.');\n   });\n\n     XHR.addEventListener('error', function (event) {\n       alert('Oups! Something went wrong.');\n     });\n\n    XHR.open('POST', endpoint);\n\n    console.log(input)\n    XHR.send(input)\n    XHR.onload = function () {\n      let jsonResponse = JSON.parse(XHR.responseText);\n      if (jsonResponse.StatusCode === 0) {\n        Materialize.toast('Contrat saved successfully', 4000);\n        window.location.href = '/main/contrats';\n        return true;\n      }\n  }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9699663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 50134331, "answer_count": 2, "score": 0, "last_activity_date": 1525262934, "creation_date": 1525251868, "question_id": 50130832, "link": "https://stackoverflow.com/questions/50130832/how-to-get-the-xhr-response-statuscode", "title": "How to get the xhr.response.statuscode", "body": "<p>I'd like to know how to use XMLHttpRequest to get response from ws.</p>\n\n<p>I tried this code to post my vale:</p>\n\n<pre><code>  private prepareSave(): any {\n    const endpoint = (Api.getUrl(Api.URLS.createContrat));\n    let XHR = new XMLHttpRequest();\n    const input: FormData = new FormData();\n    input.append('contratedate', this.addContratForm.get('contratedate').value);\n    input.append('contratdesc', this.addContratForm.get('contratdesc').value);\n    input.append('unit_price', this.addContratForm.get('unit_price').value);\n    input.append('files', this.addContratForm.get('files').value);\n    input.append('token', this.auth.getCurrentUser().token);\n   XHR.addEventListener('load', function (event) {\n       alert('Yeah! Data sent and response loaded.');\n   });\n\n     XHR.addEventListener('error', function (event) {\n       alert('Oups! Something went wrong.');\n     });\n\n    XHR.open('POST', endpoint);\n\n    console.log(input)\n    XHR.send(input)\n    console.log(XHR) // show me XMLHttpRequest.\n  }\n</code></pre>\n\n<p>My response is:</p>\n\n<pre><code>   {\n    \"StatusCode\":0,\n    \"StatusMessage\":\"OK\",\n    \"StatusDescription\":\n    [\n    {\n    \"error_no\":0,\n    \"error_msg\":\"\",\n    \"sqlerrorno\":0,\n    \"sqlerror\":\"\",\n    \"lastid\":\"11E84DE6579F6599A4FBFA163EBBBC1D\"}\n    ]\n    }\n</code></pre>\n\n<p>I tried something like this code, but no function:</p>\n\n<pre><code>if (XHR.response.StatusCode === 0) {\n          Materialize.toast('Contrat update successfully', 4000);\n          this.router.navigate(['/main/contrats']);\n         return true;\n       }\n</code></pre>\n\n<p>Please, can you suggest any solution?\nThank you</p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1525251573, "post_id": 50130703, "comment_id": 87279214, "body": "not sure but seems similar issue <a href=\"https://stackoverflow.com/q/49795010/5043867\">stackoverflow.com/q/49795010/5043867</a>"}, {"owner": {"reputation": 845, "user_id": 6493535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIl4Y.gif?s=128&g=1", "display_name": "Cheney", "link": "https://stackoverflow.com/users/6493535/cheney"}, "edited": false, "score": 0, "creation_date": 1556377527, "post_id": 50130703, "comment_id": 98422396, "body": "maybe set <code>&quot;baseUrl&quot;: &quot;.&#47;src&quot;</code> and <code>paths relate to it</code> wiil get it to work, it origin to be <code>&quot;.&#47;&quot;</code> , but my is not work, I don&#39;t know why!"}], "answers": [{"comments": [{"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1555517194, "post_id": 50133487, "comment_id": 98142295, "body": "strangely, Ive got a configuration where this does not work either, in angular 5."}, {"owner": {"reputation": 18068, "user_id": 3375906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdecf2bb6e58644b47527e4d6f483226?s=128&d=identicon&r=PG", "display_name": "trungk18", "link": "https://stackoverflow.com/users/3375906/trungk18"}, "edited": false, "score": 0, "creation_date": 1560398375, "post_id": 50133487, "comment_id": 99724570, "body": "I have many projects created by angular-cli (a <code>tsconfig.json</code> file in your root and a <code>tsconfig.app.json</code> file in your src folder ). I don&#39;t have to modify the <code>tsconfig.app.json</code> on my projects folder. I added all the necessary I need to the <code>tsconfig.json</code> file on the root folder and it works fine."}], "tags": [], "owner": {"reputation": 2577, "user_id": 4361832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/D1tGu.jpg?s=128&g=1", "display_name": "mode777", "link": "https://stackoverflow.com/users/4361832/mode777"}, "is_accepted": false, "score": 6, "last_activity_date": 1525260139, "creation_date": 1525260139, "answer_id": 50133487, "question_id": 50130703, "link": "https://stackoverflow.com/questions/50130703/using-path-mapping-in-tsconfig-with-angular-cli/50133487#50133487", "title": "Using path mapping in tsconfig with Angular CLI", "body": "<p>I was able to fix it myself. Angular CLI, by default, uses another config:  <code>./src/tsconfig.app.json</code>, I added my configuration there too and slightly modified the paths like this:</p>\n\n<pre><code>{      \n  \"compilerOptions\": {\n    ...\n    \"baseUrl\": \"./\",\n    \"paths\": {\n        \"@mycompany/mylib\": [\"../mycompany-mylib/lib/src/public_api\"],\n    }\n  }\n}\n</code></pre>\n\n<p>It now compiles fine, as long is there is not a <code>node_modules</code> folder in <code>mycompany-mylib</code>. I would still thankfull for a solution to this.</p>\n"}], "owner": {"reputation": 2577, "user_id": 4361832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/D1tGu.jpg?s=128&g=1", "display_name": "mode777", "link": "https://stackoverflow.com/users/4361832/mode777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3998, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1525260139, "creation_date": 1525251384, "question_id": 50130703, "link": "https://stackoverflow.com/questions/50130703/using-path-mapping-in-tsconfig-with-angular-cli", "title": "Using path mapping in tsconfig with Angular CLI", "body": "<p>I want to use path-mapping to directly reference a library which sits in the same directory structure as my angular application.</p>\n\n<p>Structure:</p>\n\n<pre><code>mycompany-mylib/\nsrc/\ntsconfig.json\n</code></pre>\n\n<p>I've added the following to my <code>tsconfig.json</code></p>\n\n<pre><code>{      \n  \"compilerOptions\": {\n    ...\n    \"baseUrl\": \".\",\n    \"paths\": {\n        \"@mycompany/mylib\": [\"mycompany-mylib/lib/src/public_api\"],\n    }\n  }\n}\n</code></pre>\n\n<p>This configuration seems to be correct and Typescript can resolve these paths as I get no errors and full intellisense in Visual Studio Code.</p>\n\n<p>For example:</p>\n\n<pre><code>import { UserClientModule } from '@mycompany/mylib'\n</code></pre>\n\n<p>However when I run <code>ng serve</code> or <code>ng serve --aot</code> I get an error, that the module was not found (My AngularCLI Version is <strong>1.7.4</strong>):</p>\n\n<pre><code>ERROR in src/app/core/components/user-profile/user-profile.component.ts(5,43): error TS2307: Cannot find module '@mycompany/mylib'.\n</code></pre>\n\n<p>This technique should work as there are several blog posts and github issues referencing it. I just can't see what I'm doing wrong. I can fix this in webpack by providing an alias configuraton, but since there is no <code>webpack.config.js</code> in angular cli, I can't do that.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "clipboard.js"], "comments": [{"owner": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "reply_to_user": {"reputation": 587, "user_id": 4040500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40fa85beba91a986f9ad78d0789411d3?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Murrent", "link": "https://stackoverflow.com/users/4040500/mario-murrent"}, "edited": false, "score": 0, "creation_date": 1525249643, "post_id": 50130149, "comment_id": 87278130, "body": "I have already mentioned that link and it is not the requirement."}], "answers": [{"tags": [], "owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "is_accepted": false, "score": 0, "last_activity_date": 1525249957, "creation_date": 1525249957, "answer_id": 50130301, "question_id": 50130149, "link": "https://stackoverflow.com/questions/50130149/copy-a-string-to-clipboard-in-angular-2/50130301#50130301", "title": "Copy a String to clipboard in Angular 2", "body": "<p>For security reasons you cannot directly access the clipboard. You can create a hidden input element, set the text in there and trigger the copy functionality from it.</p>\n"}, {"comments": [{"owner": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "edited": false, "score": 0, "creation_date": 1525250302, "post_id": 50130337, "comment_id": 87278478, "body": "Am new to Angular. Don&#39;t know how to use <code>$</code> in here."}, {"owner": {"reputation": 1945, "user_id": 9305993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niSZd.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/9305993/alex"}, "reply_to_user": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "edited": false, "score": 0, "creation_date": 1525250612, "post_id": 50130337, "comment_id": 87278653, "body": "Read the references roger, the code will work, <code>$</code> is just a naming convention."}, {"owner": {"reputation": 1945, "user_id": 9305993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niSZd.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/9305993/alex"}, "reply_to_user": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "edited": false, "score": 0, "creation_date": 1525251945, "post_id": 50130337, "comment_id": 87279411, "body": "Also <code>$</code> is used a lot in Angular. It is scope variable, but it works in a different context too."}, {"owner": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "edited": false, "score": 0, "creation_date": 1525252107, "post_id": 50130337, "comment_id": 87279515, "body": "Thanks Alex but am talking about this statement <code>$(&quot;&lt;input&gt;&quot;)</code> where am getting the error."}, {"owner": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "edited": false, "score": 1, "creation_date": 1525252152, "post_id": 50130337, "comment_id": 87279537, "body": "I guess this is more of a Jquery context."}, {"owner": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "edited": false, "score": 0, "creation_date": 1525252223, "post_id": 50130337, "comment_id": 87279584, "body": "Solved. I had to use <code>import * as $ from &#39;jquery&#39;;</code> statement to avoid the error."}], "tags": [], "owner": {"reputation": 1945, "user_id": 9305993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niSZd.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/9305993/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1525250570, "last_edit_date": 1525250570, "creation_date": 1525250066, "answer_id": 50130337, "question_id": 50130149, "link": "https://stackoverflow.com/questions/50130149/copy-a-string-to-clipboard-in-angular-2/50130337#50130337", "title": "Copy a String to clipboard in Angular 2", "body": "<p>Here is a snippet I've used in one of my previous projects which allows you to copy things to your clipboard.</p>\n\n<p>Also mentioned by <a href=\"https://stackoverflow.com/users/4269187/carsten\">Carsten</a> below.</p>\n\n<pre><code>// Copy Element Into Clipboard [ Can use \"$(val).text()\" as Argument ]\nfunction copyToClipboard(element) {\n    var $temp = $(\"&lt;input&gt;\");\n    $(\"body\").append($temp);\n    $temp.val(element).select();\n    document.execCommand(\"copy\");\n    $temp.remove();\n}\n</code></pre>\n\n<p>It appends a hidden <code>&lt;input&gt;</code> to the body of the page, adds your element to it, selects the text and uses <code>execCommand</code> to copy the selected text.</p>\n\n<p>Using your code, here's an example:</p>\n\n<pre><code>&lt;td class=\"submitBtnCell\"&gt;\n    &lt;button class=\"btn\" (click)=\"createSharableLink()\"&gt;Share&lt;/button&gt;\n&lt;/td&gt;\n\ncreateSharableLink(){\n    let requestPath = this.prepareRequestPathForVideos(\"shared\");\n    //alert(requestPath); // need to copy this request path to clipboard   \n    copyToClipboard(requestPath);  \n}\n</code></pre>\n\n<p><strong>Reference</strong>: <a href=\"https://angular.io/guide/rx-library#naming-conventions-for-observables\" rel=\"nofollow noreferrer\">https://angular.io/guide/rx-library#naming-conventions-for-observables</a></p>\n\n<p><strong>StackOverflow Link:</strong> <a href=\"https://stackoverflow.com/questions/37671700/angular2-style-guide-property-with-dollar-sign\">angular2 style guide - property with dollar sign?\n</a></p>\n\n<blockquote>\n  <p>Because Angular applications are mostly written in TypeScript, you\n  will typically know when a variable is an observable. Although the\n  Angular framework does not enforce a naming convention for\n  observables, you will often see observables named with a trailing \u201c$\u201d\n  sign.</p>\n  \n  <p>This can be useful when scanning through code and looking for\n  observable values. Also, if you want a property to store the most\n  recent value from an observable, it can be convenient to simply use\n  the same name with or without the \u201c$\u201d.</p>\n</blockquote>\n"}], "owner": {"reputation": 8193, "user_id": 1471314, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D8Djq.jpg?s=128&g=1", "display_name": "roger_that", "link": "https://stackoverflow.com/users/1471314/roger-that"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 0, "accepted_answer_id": 50130337, "answer_count": 2, "score": 0, "last_activity_date": 1568912744, "creation_date": 1525249532, "question_id": 50130149, "link": "https://stackoverflow.com/questions/50130149/copy-a-string-to-clipboard-in-angular-2", "title": "Copy a String to clipboard in Angular 2", "body": "<p>I have a method in <code>Angular2</code> that generates a sharable link which is something like a <code>requestPath</code>. On button click, I need to copy this <code>requestPath</code> to clipboard. How to achieve that?</p>\n\n<p>I came across multiple <a href=\"https://stackoverflow.com/a/36330518/1471314\">copy-to-clipboard</a> solutions here but nothing meets my need. I do not have a <code>textArea</code> or any <code>input</code> element to copy from. Just a simple string variable needed to be copied <code>onClick</code></p>\n\n<p>The html I have is:</p>\n\n<pre><code>&lt;td class=\"submitBtnCell\"&gt;\n    &lt;button class=\"btn\" (click)=\"createSharableLink()\"&gt;Share&lt;/button&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>and method:</p>\n\n<pre><code>createSharableLink(){\n    let requestPath = this.prepareRequestPathForVideos(\"shared\");\n    alert(requestPath); // need to copy this request path to clipboard       \n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 818, "user_id": 2323944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7908494822ef9a681753d2c6cecc158?s=128&d=identicon&r=PG", "display_name": "Cristian S.", "link": "https://stackoverflow.com/users/2323944/cristian-s"}, "edited": false, "score": 0, "creation_date": 1525249552, "post_id": 50130082, "comment_id": 87278077, "body": "Its not true that arrow functions &quot;doesnt not have&quot; this. They do have a lexical &quot;this&quot; coming from surroundings. Therefore you dont need to bind &quot;this&quot;"}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525249578, "post_id": 50130082, "comment_id": 87278090, "body": "Probably a number of reasons. Also, you never use your <code>key</code> variable in the callback, so why are you doing all this?"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "reply_to_user": {"reputation": 818, "user_id": 2323944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7908494822ef9a681753d2c6cecc158?s=128&d=identicon&r=PG", "display_name": "Cristian S.", "link": "https://stackoverflow.com/users/2323944/cristian-s"}, "edited": false, "score": 0, "creation_date": 1525250021, "post_id": 50130082, "comment_id": 87278314, "body": "@CristianS.  <code>Its not true that arrow functions &quot;doesnt not have&quot; this.</code>  It is true :),  Scoping rules just still apply that&#39;s all.."}], "answers": [{"tags": [], "owner": {"reputation": 818, "user_id": 2323944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7908494822ef9a681753d2c6cecc158?s=128&d=identicon&r=PG", "display_name": "Cristian S.", "link": "https://stackoverflow.com/users/2323944/cristian-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1525249648, "creation_date": 1525249648, "answer_id": 50130183, "question_id": 50130082, "link": "https://stackoverflow.com/questions/50130082/javascript-mappings-not-working/50130183#50130183", "title": "javascript mappings not working", "body": "<p>You are using <code>this.currentKey</code> inside the map function while you can simply use the arg <code>key</code>. And keep in mind the scope of \"this\" since you are using an arrow function.</p>\n"}], "owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525249648, "creation_date": 1525249303, "question_id": 50130082, "link": "https://stackoverflow.com/questions/50130082/javascript-mappings-not-working", "title": "javascript mappings not working", "body": "<p>Can anyone say why in typescript/angular this doesn't work:</p>\n\n<pre><code>this.errorMessage = Object.keys(c.errors).map((key) =&gt; this.myArray[this.currentKey]).join(' '); \n</code></pre>\n\n<p>but this does:</p>\n\n<pre><code>this.errorMessage = Object.keys(c.errors).map((key) =&gt; this.myArray[this.currentKey as 'x']).join(' '); \n</code></pre>\n\n<p>even though I made sure that this.currentKey = Object.keys(c.errors)[0]; is evaluated to 'x'</p>\n\n<p>By the way, the two objects I interact with are initialised previously as follows:</p>\n\n<pre><code>errorMessage = '';\nmyArray= {\n    x: 'Message 1',\n    y: 'Message 2'\n  };\n</code></pre>\n\n<p>and c.errors returns in one case</p>\n\n<blockquote>\n  <p>x: true</p>\n</blockquote>\n\n<p>in another casse it could be </p>\n\n<blockquote>\n  <p>y: true</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "refactoring", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 1543, "user_id": 2365805, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/9Q7qW.jpg?s=128&g=1", "display_name": "Ayoub.A", "link": "https://stackoverflow.com/users/2365805/ayoub-a"}, "edited": false, "score": 0, "creation_date": 1525258084, "post_id": 50130634, "comment_id": 87283486, "body": "Very good answer, I&#39;m grateful. But as a side note you could have added few comments, it was bit hard to understand (Not everyone is a professional). Thank you"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1543, "user_id": 2365805, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/9Q7qW.jpg?s=128&g=1", "display_name": "Ayoub.A", "link": "https://stackoverflow.com/users/2365805/ayoub-a"}, "edited": false, "score": 1, "creation_date": 1525258332, "post_id": 50130634, "comment_id": 87283616, "body": "@Ayoub.A fair enough. I will add some comments shortly :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1543, "user_id": 2365805, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/9Q7qW.jpg?s=128&g=1", "display_name": "Ayoub.A", "link": "https://stackoverflow.com/users/2365805/ayoub-a"}, "edited": false, "score": 2, "creation_date": 1525266567, "post_id": 50130634, "comment_id": 87288845, "body": "@Ayoub.A added some comments if you think a specific part is unclear let me know :)"}, {"owner": {"reputation": 1543, "user_id": 2365805, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/9Q7qW.jpg?s=128&g=1", "display_name": "Ayoub.A", "link": "https://stackoverflow.com/users/2365805/ayoub-a"}, "edited": false, "score": 1, "creation_date": 1525268061, "post_id": 50130634, "comment_id": 87289908, "body": "@ Titian Cernicova-Dragomir Clear enough. Thank you."}, {"owner": {"reputation": 126, "user_id": 2242927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c228b76ce909ee15bc78eb065a9b9815?s=128&d=identicon&r=PG", "display_name": "Booza", "link": "https://stackoverflow.com/users/2242927/booza"}, "edited": false, "score": 0, "creation_date": 1568397220, "post_id": 50130634, "comment_id": 102274116, "body": "where is the value &quot;types&quot; coming from in the case statements?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 7, "last_activity_date": 1525266547, "last_edit_date": 1525266547, "creation_date": 1525251065, "answer_id": 50130634, "question_id": 50130037, "link": "https://stackoverflow.com/questions/50130037/ngrx-generic-reducers/50130634#50130634", "title": "ngrx: Generic reducers", "body": "<p>You could use a string to represent the <code>itemList</code> property name, and use mapped types to turn that string into a type safe property for the <code>State</code> type. One disadvantage is that using the spread operator is not supported for mapped types, but we can get a similar effect with <code>Object.assign</code></p>\n\n<pre><code>// We add an extra parameter to State that will be the property name passed in as a string literal type\n// So State&lt;Vehicle, 'vehicleList'&gt; will be a type equivalent to { vehicleList : Vehicle[] }\ntype  State&lt;T, TListName extends string&gt; = {\n    [P in TListName] : T[]\n}\n\n// We create a function that creates the initial state by initializing an object with an empty array and the given property name\nconst initialState = &lt;T, TListName extends string&gt;(itemListName: TListName): State&lt;T, TListName&gt; =&gt; {\n    let result = {} as State&lt;any, TListName&gt;;\n    result[itemListName] = [];\n    return result;\n};\n\n// Since we can't use the spread operator, we create a new function that updates the state \n// state will be the original state, \n// itemListName the property name which contains the list \n// newItems will be the new list \nconst updateState = &lt;T, TListName extends string&gt;(args: { state: State&lt;T, TListName&gt;, itemListName: TListName, newItems: T[] }): State&lt;T, TListName&gt; =&gt; {\n    return Object.assign({},args.state, {\n        [args.itemListName] : args.newItems\n    });\n}\n// We will use a 2 function approach for the createReducer function\n// We do this in order to be able to specify the item type  (T) explicitly,\n// but not have to specify the string literal type TListName and let it be inferred \nconst createReducer = &lt;T&gt;(type: string) =&gt; &lt;TListName extends string&gt;(itemListName: TListName) =&gt; {\n    return (state = initialState&lt;T, TListName&gt;(itemListName), action: any): State&lt;T, TListName&gt; =&gt; {\n        switch (action.type) {\n            case types.get(type).Add:\n                return updateState({\n                    state,\n                    itemListName,\n                    newItems: [...state[itemListName], &lt;T&gt;action.payload]\n                });\n\n            case types.get(type).AddList:\n                return updateState({\n                    state,\n                    itemListName,\n                    newItems: [...state[itemListName], ...&lt;T[]&gt;action.payload]\n                })\n\n            default:\n                return state;\n        }\n    }\n}\nexport const reducers = {\n    vehiculeState: createReducer&lt;Vehicule&gt;('vehicule')('vehiculeItems'),\n    rentState: createReducer&lt;Rent&gt;('rent')('rentItems'),\n    clientState : createReducer&lt;Client&gt;('client')('clientItems'),\n    companionState : createReducer&lt;Client&gt;('companion')('companionItems'),\n    paymentState : createReducer&lt;Payment&gt;('payment')('paymentItems'),\n    notificationState : createReducer&lt;Notification&gt;('notification')('notificationItems'),\n    employeeState : createReducer&lt;Employee&gt;('employee')('employeeItems'),\n}\n</code></pre>\n"}], "owner": {"reputation": 1543, "user_id": 2365805, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/9Q7qW.jpg?s=128&g=1", "display_name": "Ayoub.A", "link": "https://stackoverflow.com/users/2365805/ayoub-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1595, "favorite_count": 5, "accepted_answer_id": 50130634, "answer_count": 1, "score": 2, "last_activity_date": 1525266547, "creation_date": 1525249166, "question_id": 50130037, "link": "https://stackoverflow.com/questions/50130037/ngrx-generic-reducers", "title": "ngrx: Generic reducers", "body": "<p>I have an app which has multiple stores with the same reducer functionality. I tried to make a generic reducer and it worked fine.</p>\n\n<p>generic reducer settings:</p>\n\n<pre><code>interface State&lt;T&gt; {\n    itemList : T[]\n}\n\nconst initialState: State&lt;any&gt; = {\n    itemList: []\n}\n\n\nconst createReducer = &lt;T&gt;(type: string) =&gt; {\n    return &lt;T&gt;(state = initialState, action: any): State&lt;T&gt; =&gt; {\n        switch (action.type) {\n            case types.get(type).Add:\n                return {\n                    ...state,\n                    itemList: [...state.itemList, action.payload]\n                }\n\n            case types.get(type).AddList:\n                return {\n                    ...state,\n                    itemList: [...state.itemList, ...action.payload]\n                };\n\n            default:\n                return state;\n        }\n    }\n}\n</code></pre>\n\n<p>Then I would combine reducers as follows:</p>\n\n<pre><code>export const reducers: ActionReducerMap&lt;AppState&gt; = {\n    vehiculeState: createReducer&lt;Vehicule&gt;('vehicule'),\n    rentState: createReducer&lt;Rent&gt;('rent'),\n    clientState : createReducer&lt;Client&gt;('client'),\n    companionState : createReducer&lt;Client&gt;('companion'),\n    paymentState : createReducer&lt;Payment&gt;('payment'),\n    notificationState : createReducer&lt;Notification&gt;('notification'),\n    employeeState : createReducer&lt;Employee&gt;('employee')\n}\n</code></pre>\n\n<p>The issue is that by switching to generic mode I would have to rewrite a big chunk of my app, since I have already created multiple reducers with states that contains properties named (<code>clientList</code>, <code>vehiculeList</code>,...), and the property name <code>itemList</code> is not very informative. So my question is how to switch to generic mode and keep the state properties as they are?</p>\n\n<p>An example of a current reducers:</p>\n\n<pre><code>export function rentReducer(state = initialState, action: rentActions.RentActions): State {\n    switch(action.type){\n        case rentActions.ADD_RENT:\n        return{\n            ...state,\n            rentList : [...state.rentList, action.payload]\n        }\n\n        case rentActions.ADD_RENT_LIST:\n        return {\n            ...state,\n            rentList : [...state.rentList, ...action.payload]\n        };\n\n\n        default:\n        return state;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 2, "creation_date": 1525246922, "post_id": 50129392, "comment_id": 87276695, "body": "no each tab has its own app instance."}, {"owner": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "reply_to_user": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 0, "creation_date": 1525246979, "post_id": 50129392, "comment_id": 87276723, "body": "so,what thing i can do to make simple refresh data without websocket?"}, {"owner": {"reputation": 14653, "user_id": 475247, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0oB5Z.jpg?s=128&g=1", "display_name": "siva636", "link": "https://stackoverflow.com/users/475247/siva636"}, "edited": false, "score": 0, "creation_date": 1525247014, "post_id": 50129392, "comment_id": 87276745, "body": "One way is to update Firebase realtime database from tab1, then tab 2 will be pushed to the update automatically."}, {"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 5, "creation_date": 1525247103, "post_id": 50129392, "comment_id": 87276799, "body": "One think that can be used without requesting backend is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API\" rel=\"nofollow noreferrer\">BroadcastChannel</a>"}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1525251651, "post_id": 50129392, "comment_id": 87279258, "body": "There is <a href=\"https://github.com/JJWesterkamp/rx-postmessenger\" rel=\"nofollow noreferrer\">rx-postmessenger</a>"}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "reply_to_user": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 0, "creation_date": 1525265068, "post_id": 50129392, "comment_id": 87287881, "body": "@JEY Unfortunately the browser support isn&#39;t great for BroadcastChannel yet: <a href=\"https://caniuse.com/#feat=broadcastchannel\" rel=\"nofollow noreferrer\">caniuse.com/#feat=broadcastchannel</a>"}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "reply_to_user": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1525265153, "post_id": 50129392, "comment_id": 87287930, "body": "@RichardMatsen That library uses <code>window.postMessage</code> which requires a reference to the window you are communicating with. With separate tabs he wont be able to do that. I believe it was intended to talk to iframes within the page or popup&#39;s spawned from it."}, {"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "reply_to_user": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "edited": false, "score": 0, "creation_date": 1525271363, "post_id": 50129392, "comment_id": 87292465, "body": "@bygrace the solution is to listen to event on storage as YourGoodFriend suggested."}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "reply_to_user": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 0, "creation_date": 1525274672, "post_id": 50129392, "comment_id": 87294711, "body": "@JEY You are right, he is my good friend ;) I knew he already solved this in his app and suggested that he provide an answer here. But I was interested in the other suggestions and wanted to bring up the drawbacks that I discovered for the sake of completeness."}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "reply_to_user": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "edited": false, "score": 0, "creation_date": 1525295318, "post_id": 50129392, "comment_id": 87305347, "body": "@bygrace - Indeed, the lack of browser support is the killer for BroadcastChannel."}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1525295631, "post_id": 50129392, "comment_id": 87305481, "body": "<a href=\"https://www.youtube.com/watch?v=-o8B4TE18gI\" rel=\"nofollow noreferrer\">Hubert Sablonni&#232;re: Exploring multi-screen web techniques</a> describes some methods,  localStorage at about 16 minutes."}], "answers": [{"comments": [{"owner": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "edited": false, "score": 0, "creation_date": 1525271871, "post_id": 50134922, "comment_id": 87292830, "body": "oke i will try it and send you guys update after try above code"}, {"owner": {"reputation": 803, "user_id": 2455958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/abaac4808948376e2b1e45b0c6d88139?s=128&d=identicon&r=PG", "display_name": "YourGoodFriend", "link": "https://stackoverflow.com/users/2455958/yourgoodfriend"}, "reply_to_user": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "edited": false, "score": 1, "creation_date": 1525307998, "post_id": 50134922, "comment_id": 87308843, "body": "@Mamen did you get a chance to try it? Let me know if you have more questions around it"}, {"owner": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "edited": false, "score": 0, "creation_date": 1525674763, "post_id": 50134922, "comment_id": 87433368, "body": "yes you&#39;re correct, we can subscribe with local storage, this is npm package i used to my project <code>ngx-webstorage</code> help you guys easy to understand. thank you"}, {"owner": {"reputation": 482, "user_id": 1655155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ajd4.jpg?s=128&g=1", "display_name": "Bludwarf", "link": "https://stackoverflow.com/users/1655155/bludwarf"}, "edited": false, "score": 0, "creation_date": 1552139723, "post_id": 50134922, "comment_id": 96902439, "body": "Very nice and simple solution ! Thanks !"}], "tags": [], "owner": {"reputation": 803, "user_id": 2455958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/abaac4808948376e2b1e45b0c6d88139?s=128&d=identicon&r=PG", "display_name": "YourGoodFriend", "link": "https://stackoverflow.com/users/2455958/yourgoodfriend"}, "is_accepted": true, "score": 12, "last_activity_date": 1525280098, "last_edit_date": 1525280098, "creation_date": 1525264891, "answer_id": 50134922, "question_id": 50129392, "link": "https://stackoverflow.com/questions/50129392/is-it-possible-to-subscribe-observable-in-other-tab-browser-with-rxjs-angular-5/50134922#50134922", "title": "is it possible to subscribe observable in other tab browser with rxjs angular 5", "body": "<p>You can actually add event listeners to localStorage so you can use localStorage to \"pass messages\" between tabs</p>\n\n<pre><code>localStorage.setItem('yourKeyName', true)\n\nwindow.addEventListener('storage', (event) =&gt; {\n   if (event.key == 'yourKeyName'){\n      //update data\n   }\n});\n</code></pre>\n\n<p>So when you change the value of something in localStorage on one page the other page can subscribe to the event of it changing </p>\n\n<p>Browser support and more info: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage#Browser_compatibility\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage#Browser_compatibility</a></p>\n"}], "owner": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1775, "favorite_count": 3, "accepted_answer_id": 50134922, "answer_count": 1, "score": 8, "last_activity_date": 1525280098, "creation_date": 1525246784, "last_edit_date": 1525247116, "question_id": 50129392, "link": "https://stackoverflow.com/questions/50129392/is-it-possible-to-subscribe-observable-in-other-tab-browser-with-rxjs-angular-5", "title": "is it possible to subscribe observable in other tab browser with rxjs angular 5", "body": "<p>I have an angular app, and there are two pages and I open them in each tab of browser, if I do some method in page 1, I want page 2 subscribe data change with rxjs and update data in page 2 like realtime app, is there any way to do that without websocket?, I've tried it with subscribe method but only page 1 listen that subscribe.\nthis is page 1 called refresh method to update boolean value </p>\n\n<pre><code>this.service.doRefresh();\n</code></pre>\n\n<p>page 2 listen</p>\n\n<pre><code>this.service.$refresh.subscribe(x=&gt;{//boolean value changed by page 1(tab1)\n    if(x) {\n        console.log(x);\n        this.service.stopRefresh();\n    }\n});\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 2, "creation_date": 1525246332, "post_id": 50129245, "comment_id": 87276395, "body": "Can you provide a small repro with stackblitz?"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1525246427, "post_id": 50129245, "comment_id": 87276453, "body": "you can check it manually by just matching keycode for <code>enter</code> which is 13"}, {"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525246565, "post_id": 50129245, "comment_id": 87276535, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37577919/angular2-submit-form-by-pressing-enter-without-submit-button\">angular2 submit form by pressing enter without submit button</a>"}, {"owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "edited": false, "score": 0, "creation_date": 1525246860, "post_id": 50129245, "comment_id": 87276668, "body": "I&#39;m not in Angular, but HTML forms are automatically submitting if there is any <code>&lt;input type=&quot;submit&quot; &#47;&gt;</code> or <code>&lt;button type=&quot;submit&gt;&lt;&#47;button&gt;</code> inside the <code>&lt;form&gt;...&lt;&#47;form&gt;</code> element. The event <code>onSubmit</code> is triggering, so you don&#39;t have to make an extra handler for enter press, I suppose."}], "answers": [{"tags": [], "owner": {"reputation": 1556, "user_id": 2996192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a48947d80588638e0005f2364d8a69bb?s=128&d=identicon&r=PG&f=1", "display_name": "shanhaichik", "link": "https://stackoverflow.com/users/2996192/shanhaichik"}, "is_accepted": false, "score": 128, "last_activity_date": 1547066237, "last_edit_date": 1547066237, "creation_date": 1525246508, "answer_id": 50129320, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/50129320#50129320", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>try use <strong>keyup.enter</strong> or <strong>keydown.enter</strong></p>\n\n<pre><code>  &lt;button type=\"submit\" (keyup.enter)=\"search(...)\"&gt;Search&lt;/button&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3060, "user_id": 3194213, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a080874a672cadc7eecd3469b27d3797?s=128&d=identicon&r=PG", "display_name": "murday1983", "link": "https://stackoverflow.com/users/3194213/murday1983"}, "edited": false, "score": 0, "creation_date": 1525249820, "post_id": 50129358, "comment_id": 87278220, "body": "I have added the whole HTML from my component as your suggested fixed doesn&#39;t submit when I click &#39;Enter&#39;"}], "tags": [], "owner": {"reputation": 770, "user_id": 8996129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2c972965678b9a87bcc658ab48286b?s=128&d=identicon&r=PG", "display_name": "Tobias Fuchs", "link": "https://stackoverflow.com/users/8996129/tobias-fuchs"}, "is_accepted": true, "score": 26, "last_activity_date": 1578121985, "last_edit_date": 1578121985, "creation_date": 1525246679, "answer_id": 50129358, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/50129358#50129358", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>You could also use a dummy form arround it like:</p>\n\n<pre><code>&lt;mat-card-footer&gt;\n&lt;form (submit)=\"search(ref, id, forename, surname, postcode)\" action=\"#\"&gt;\n  &lt;button mat-raised-button type=\"submit\" class=\"successButton\" id=\"invSearch\" title=\"Click to perform search.\" &gt;Search&lt;/button&gt;\n&lt;/form&gt;\n&lt;/mat-card-footer&gt;\n</code></pre>\n\n<p>the search function has to <code>return false</code> to make sure that the action doesn't get executed.<br>\nJust make sure the form is focused (should be when you have the input in the form) when you press enter.</p>\n"}, {"tags": [], "owner": {"reputation": 1177, "user_id": 1374272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6b8fb8bebfff425cf09c64db46f965?s=128&d=identicon&r=PG", "display_name": "chris_r", "link": "https://stackoverflow.com/users/1374272/chris-r"}, "is_accepted": false, "score": 31, "last_activity_date": 1569022281, "creation_date": 1569022281, "answer_id": 58036114, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/58036114#58036114", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>In case anyone is wondering what input value</p>\n\n<pre><code>&lt;input (keydown.enter)=\"search($event.target.value)\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1162, "user_id": 553142, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cb11bd09d2f8f81558b96144de682787?s=128&d=identicon&r=PG", "display_name": "andyfinch", "link": "https://stackoverflow.com/users/553142/andyfinch"}, "is_accepted": false, "score": 15, "last_activity_date": 1575291544, "creation_date": 1575291544, "answer_id": 59139419, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/59139419#59139419", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>In addition to other answers which helped me, you can also add to surrounding div.  In my case this was for sign on with user Name/Password fields.</p>\n\n<pre><code>&lt;div (keyup.enter)=\"login()\" class=\"container-fluid\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 13962898, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg6yjUKQ_R4ZMtZbcjEd4zIM1WnE3g3I46pqVWT=k-s128", "display_name": "pouria .y", "link": "https://stackoverflow.com/users/13962898/pouria-y"}, "is_accepted": false, "score": 6, "last_activity_date": 1607938695, "last_edit_date": 1607938695, "creation_date": 1607933618, "answer_id": 65285592, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/65285592#65285592", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>Try to use <code>keyup.enter</code> but make sure to use it inside your <code>input</code> tag</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input\n  matInput\n  placeholder=&quot;enter key word&quot;\n  [(ngModel)]=&quot;keyword&quot;\n  (keyup.enter)=&quot;addToKeywords()&quot;\n/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 9852695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7feOf7-Ylo4/AAAAAAAAAAI/AAAAAAAAAGA/CEAWtCDdwR4/photo.jpg?sz=128", "display_name": "Crown Backend", "link": "https://stackoverflow.com/users/9852695/crown-backend"}, "edited": false, "score": 0, "creation_date": 1612435198, "post_id": 65798196, "comment_id": 116768313, "body": "thanks that&#39;s work !!!"}], "tags": [], "owner": {"reputation": 1110, "user_id": 2501763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Scwax.jpg?s=128&g=1", "display_name": "mQuiroz", "link": "https://stackoverflow.com/users/2501763/mquiroz"}, "is_accepted": false, "score": 4, "last_activity_date": 1611084430, "creation_date": 1611084430, "answer_id": 65798196, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/65798196#65798196", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>Another alternative can be to execute the Keydown or KeyUp in the tag of the Form</p>\n<pre><code>&lt;form name=&quot;nameForm&quot; [formGroup]=&quot;groupForm&quot; (keydown.enter)=&quot;executeFunction()&quot; &gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 458, "user_id": 2576260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zubRz.jpg?s=128&g=1", "display_name": "umutyerebakmaz", "link": "https://stackoverflow.com/users/2576260/umutyerebakmaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1618471127, "last_edit_date": 1618471127, "creation_date": 1618310221, "answer_id": 67073237, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press/67073237#67073237", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p><code>type=&quot;submit&quot;</code> property alone is not enough.</p>\n<p>The important thing for this event is the emphasis to submit the form the old fashioned way.</p>\n<p>I mean, it must be in the form tag <code>(submit)</code> and a button that is included in the same form and this button must have the <code>type=&quot;submit&quot;</code> property.</p>\n<p>The <code>onSubmit</code> function in the first and seventh lines captures the <code>enter</code> key event and the normal <code>mouse click</code> event for you.</p>\n<p>However, when you use both, http requests are sent twice. I don't know if this is a bug, but only the function you linked to the form submission is sufficient.</p>\n<p>Many of us don't follow this rule when developing with Angular. It allows us to make a basic Accessibility and User Friendly forms.</p>\n<pre><code>&lt;form [formGroup]=&quot;form&quot; (submit)=&quot;onSubmit()&quot;&gt;\n\n    &lt;mat-form-field&gt;\n        &lt;mat-label&gt;Title&lt;/mat-label&gt;\n        &lt;input matInput formControlName=&quot;title&quot;&gt;\n    &lt;/mat-form-field&gt;\n\n    &lt;button type=&quot;submit&quot; mat-raised-button (click)=&quot;onSubmit()&quot;&gt;\n        SUBMIT\n    &lt;/button&gt;\n\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 3060, "user_id": 3194213, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a080874a672cadc7eecd3469b27d3797?s=128&d=identicon&r=PG", "display_name": "murday1983", "link": "https://stackoverflow.com/users/3194213/murday1983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111374, "favorite_count": 5, "accepted_answer_id": 50129358, "answer_count": 7, "score": 40, "last_activity_date": 1618471127, "creation_date": 1525246202, "last_edit_date": 1604338413, "question_id": 50129245, "link": "https://stackoverflow.com/questions/50129245/angular-5-button-submit-on-enter-key-press", "title": "Angular 5 Button Submit On Enter Key Press", "body": "<p>I have an Angular 5 form application using all the usual models but on the forms I want the form to submit without having to physically click on the 'Submit' button.</p>\n\n<p>I know it's normally as easy as adding <code>type=submit</code> to my button element but it does not seem to be working at all.</p>\n\n<p>I don't really want to call an <code>onclick</code> function just to get it working. Can anyone suggest anything that I may be missing.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form (submit)=\"search(ref, id, forename, surname, postcode)\" action=\"#\"&gt;\n  &lt;mat-card&gt;\n    &lt;mat-card-title class=\"firstCard\"&gt;Investor/Adviser search&lt;/mat-card-title&gt;\n    &lt;mat-card-content&gt;\n      &lt;p *ngIf=\"this.noCriteria\" class=\"errorMessage\"&gt;Please enter search criteria.&lt;/p&gt;\n      &lt;p *ngIf=\"this.notFound\" class=\"errorMessage\"&gt;No investor's or adviser's found.&lt;/p&gt;\n        &lt;mat-form-field&gt;\n          &lt;input matInput id=\"invReference\" placeholder=\"Investor/Adviser reference (e.g. SCC/AJBS)\" #ref&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field&gt;\n          &lt;input matInput id=\"invId\" placeholder=\"Investor/Adviser ID\" type=\"number\" #id&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field&gt;\n          &lt;input matInput id=\"invForname\" placeholder=\"Forename\" #forename&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field&gt;\n          &lt;input matInput id=\"invSurname\" placeholder=\"Surname\" #surname&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field&gt;\n          &lt;input matInput id=\"invPostcode\" placeholder=\"Postcode\" #postcode&gt;\n        &lt;/mat-form-field&gt;\n    &lt;/mat-card-content&gt;\n    &lt;mat-card-footer&gt;\n      &lt;button mat-raised-button type=\"submit\" class=\"successButton\" id=\"invSearch\" title=\"Click to perform search.\"&gt;Search&lt;/button&gt;\n    &lt;/mat-card-footer&gt;\n  &lt;/mat-card&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 152, "user_id": 8232996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0bf02871b0fa8769992ea5416d4452?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/8232996/faizan"}, "edited": false, "score": 0, "creation_date": 1525245386, "post_id": 50128970, "comment_id": 87275877, "body": "define the type of your errorList , then assign a value of that type on right side of your &#39;=&#39; , what you have written on right should be the type of errorList [like how mates are mentioning in answers below.]"}], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 6, "last_activity_date": 1525245178, "creation_date": 1525245178, "answer_id": 50128991, "question_id": 50128970, "link": "https://stackoverflow.com/questions/50128970/typescript-error-ts1005-expected/50128991#50128991", "title": "Typescript error TS1005: &#39;(&#39; expected", "body": "<pre><code>errorList = Array&lt;{severity: string}&gt;;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>errorList: Array&lt;{severity: string}&gt;;\n</code></pre>\n\n<p>You have to define your array with <code>:</code> for initialization you need to use <code>=</code> operator.</p>\n"}], "owner": {"reputation": 492, "user_id": 1485273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9e3b8aa8a41a5a3200e9e98887d92105?s=128&d=identicon&r=PG", "display_name": "Santosh Shelke", "link": "https://stackoverflow.com/users/1485273/santosh-shelke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525245286, "creation_date": 1525245091, "question_id": 50128970, "link": "https://stackoverflow.com/questions/50128970/typescript-error-ts1005-expected", "title": "Typescript error TS1005: &#39;(&#39; expected", "body": "<p>This is crazy. I just wanted to declare the variable for array. A simple declaration generat TS1005. I upgraded Typescript version as well but no luck.</p>\n\n<pre><code>errorList = Array&lt;{severity: string}&gt;;\n</code></pre>\n\n<p>Current version of Typescript is 2.8.3.</p>\n"}, {"tags": ["angular", "typescript", "redux", "angular-redux"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1525244710, "post_id": 50128797, "comment_id": 87275523, "body": "can you please add your code"}, {"owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "edited": false, "score": 0, "creation_date": 1525245645, "post_id": 50128797, "comment_id": 87276017, "body": "Add code and also you are <code>RootState</code> type where as <code>AnyAction</code> is expected."}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1525428468, "post_id": 50128797, "comment_id": 87361842, "body": "More specifically please show <code>ng-redux.d.ts</code>. Why did you need to build this type defn?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8097242, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9kxpcxO1ZW8/AAAAAAAAAAI/AAAAAAAAABY/9_tdbaI_vEU/photo.jpg?sz=128", "display_name": "Akash Seth", "link": "https://stackoverflow.com/users/8097242/akash-seth"}, "is_accepted": false, "score": 1, "last_activity_date": 1525772968, "creation_date": 1525772968, "answer_id": 50230718, "question_id": 50128797, "link": "https://stackoverflow.com/questions/50128797/error-with-redux-4-0-0-while-using-angular-redux-store/50230718#50230718", "title": "Error with Redux 4.0.0 while using @angular-redux/store", "body": "<p>The @angular-redux/store github page confirms this as a bug and will be fixed in future releases.</p>\n\n<p>Downgrading Redux version from 4.0.0 to 3.7.0 resolved the issue as of now.</p>\n"}], "owner": {"reputation": 21, "user_id": 8097242, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9kxpcxO1ZW8/AAAAAAAAAAI/AAAAAAAAABY/9_tdbaI_vEU/photo.jpg?sz=128", "display_name": "Akash Seth", "link": "https://stackoverflow.com/users/8097242/akash-seth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525772968, "creation_date": 1525244350, "last_edit_date": 1525244374, "question_id": 50128797, "link": "https://stackoverflow.com/questions/50128797/error-with-redux-4-0-0-while-using-angular-redux-store", "title": "Error with Redux 4.0.0 while using @angular-redux/store", "body": "<p><strong>Getting following error on compile time:</strong></p>\n\n<pre><code>ERROR in node_modules/@angular-redux/store/lib/src/components/ng-redux.d.ts(10,31): error TS2420: Class 'NgRedux&lt;RootState&gt;' incorrectly implements interface 'ObservableStore&lt;RootState&gt;'.\n  Types of property 'dispatch' are incompatible.\n    Type 'Dispatch&lt;RootState&gt;' is not assignable to type 'Dispatch&lt;AnyAction&gt;'.\n      Type 'RootState' is not assignable to type 'AnyAction'.\nnode_modules/@angular-redux/store/lib/src/components/ng-redux.d.ts(37,33): error TS2344: Type 'RootState' does not satisfy the constraint 'Action&lt;any&gt;'.\nnode_modules/@angular-redux/store/lib/src/components/root-store.d.ts(18,24): error TS2344: Type 'RootState' does not satisfy the constraint 'Action&lt;any&gt;'.\n</code></pre>\n\n<p><strong>Environment Setup:</strong></p>\n\n<p>NodeJS Version: 8.9.1 </p>\n\n<p>Typescript Version: 2.8.1</p>\n\n<p>Angular Version: 5.0.0</p>\n\n<p>@angular-redux/store version: 7.1.1</p>\n\n<p>OS: Windows 10</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "edited": false, "score": 0, "creation_date": 1525244594, "post_id": 50128675, "comment_id": 87275459, "body": "Thank you very much Titian. However I was hoping the mapping would be smarter in order to recognise which key matches. In this case it was the &#39;required&#39; but in other cases it could be the &#39;pattern&#39;"}, {"owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "edited": false, "score": 0, "creation_date": 1525244614, "post_id": 50128675, "comment_id": 87275476, "body": "Would you advise looping through the existing array of keys to see which fits or is there a better version?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "edited": false, "score": 0, "creation_date": 1525244766, "post_id": 50128675, "comment_id": 87275554, "body": "@annepic Unfortunately all methods of iterating through the keys of an object produce a string. (ie. <code>Object.keys</code>, <code>for(let key in o)</code>, <code>Object.entries</code>) I don&#39;t know of a way to do this without a type assertion. Best you cam do is create your own type safe <code>keys</code> function"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "edited": false, "score": 0, "creation_date": 1525244914, "post_id": 50128675, "comment_id": 87275621, "body": "@annepic Something like <code>function typedKeys&lt;T&gt;(o: T) : Array&lt;keyof T&gt; {     return Object.keys(o) as  Array&lt;keyof T&gt; } this.errorMessage = typedKeys(c.errors).map((key) =&gt; this.validationMessages[key]).join(&#39; &#39;);</code> But even this woul dbreak if errors was typed to have more then just <code>required</code> and you would still end up with a type assertion."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1525243844, "creation_date": 1525243844, "answer_id": 50128675, "question_id": 50128541, "link": "https://stackoverflow.com/questions/50128541/error-mapping-array-to-string-with-object-keys-javascript/50128675#50128675", "title": "error mapping array to string with Object.keys (javascript)", "body": "<p>If you index into a type that does not have an indexer, typescript expects the string you index by to be a key of the type. This means that in you case, <code>key</code> should be either string literal type <code>'required'</code> or <code>'pattern'</code>. Since <code>Object.keys</code> returns an array of <code>strings</code>, if you are certain that array will only contain valid keys for <code>validationMessages</code> you can just use a type assertion. Also you have some mismatched parenthesis:</p>\n\n<pre><code>this.errorMessage = Object.keys(c.errors).map((key) =&gt; this.validationMessages[key as 'required']).join(' '); \n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 9466722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "annepic", "link": "https://stackoverflow.com/users/9466722/annepic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 50128675, "answer_count": 1, "score": 1, "last_activity_date": 1525243844, "creation_date": 1525243295, "question_id": 50128541, "link": "https://stackoverflow.com/questions/50128541/error-mapping-array-to-string-with-object-keys-javascript", "title": "error mapping array to string with Object.keys (javascript)", "body": "<p>I have an object of type c.errors that returns, in a specific case:</p>\n\n<blockquote>\n  <p>{ required: true}</p>\n</blockquote>\n\n<p>And I want to map this against the more general (and fixed array)</p>\n\n<pre><code>   validationMessages = {\n    required: 'Please enter',\n    pattern: 'Please enter valid'\n  }\n</code></pre>\n\n<p>I also have an errorMessage property initialised with an empty string\n  .\n  My attempt was:</p>\n\n<pre><code> this.errorMessage = Object.keys((c.errors).map(key =&gt; this.validationMessages[key]).join(' '));\n</code></pre>\n\n<p>Errors I get:</p>\n\n<blockquote>\n  <p>Parameter 'key' implicitly has an 'any' type.</p>\n  \n  <p>Element implicitly has an 'any' type because type '{ required:\n  string; pattern: string; }' has no index signature.</p>\n</blockquote>\n\n<p>Any advice?</p>\n\n<p>this.errorMessage should contain 'Please enter' (that's my expectation after mapping)</p>\n"}, {"tags": ["node.js", "angular", "typescript", "time", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1525253903, "post_id": 50130020, "comment_id": 87280626, "body": "problem with <code>prime-ng callendar</code> &#39;s @ unix timestamp is that when you select a date in calendar it shows timestamp in the textbox. I want textbox to display dd/mm/yyyy but convert it to timestamp when creating json and similarly convert timestamp to dd/mm/yyyy when showing  date from component to view"}], "tags": [], "owner": {"reputation": 4009, "user_id": 1165289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ZIDC.jpg?s=128&g=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/1165289/bernhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1525249530, "last_edit_date": 1525249530, "creation_date": 1525249114, "answer_id": 50130020, "question_id": 50128445, "link": "https://stackoverflow.com/questions/50128445/what-is-the-correct-way-to-send-datetime-from-angular-to-nodejs/50130020#50130020", "title": "What is the correct way to send datetime from Angular to Nodejs?", "body": "<p>This will always happen when Timezone between client and server is different or not determined.</p>\n\n<p>I mostly solve issues like this by transmitting a timestamp which requires some different handling on the client. </p>\n\n<p>For <strong>prime-ng callendar</strong> it can be configured via the <code>dateFormat</code> property on <strong>callendar</strong> element</p>\n\n<pre><code>&lt;!-- dateFormat=\"@\" provides a timestamp --&gt;\n&lt;p-calendar [(ngModel)]=\"dateValue\" dateFormat=\"@\"&gt;&lt;/p-calendar&gt;\n</code></pre>\n\n<p>Copied from <a href=\"https://www.primefaces.org/primeng/#/calendar\" rel=\"nofollow noreferrer\">primeng documentation</a>:</p>\n\n<p><strong>Following options can be a part of the format.</strong></p>\n\n<ul>\n<li>d - day of month (no leading zero)</li>\n<li>dd - day of month (two digit)</li>\n<li>o - day of the year (no leading zeros)</li>\n<li>oo - day of the year (three digit)</li>\n<li>D - day name short</li>\n<li>DD - day name long</li>\n<li>m - month of year (no leading zero)</li>\n<li>mm - month of year (two digit)</li>\n<li>M - month name short</li>\n<li>MM - month name long</li>\n<li>y - year (two digit)</li>\n<li>yy - year (four digit)</li>\n<li>@ <strong>- Unix timestamp (ms since 01/01/1970)</strong></li>\n<li>! - Windows ticks (100ns since 01/01/0001)</li>\n<li>'...' - literal text</li>\n<li>'' - single quote</li>\n</ul>\n"}], "owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525249530, "creation_date": 1525242859, "last_edit_date": 1525245220, "question_id": 50128445, "link": "https://stackoverflow.com/questions/50128445/what-is-the-correct-way-to-send-datetime-from-angular-to-nodejs", "title": "What is the correct way to send datetime from Angular to Nodejs?", "body": "<p>I am using primeng calendar in a template driven form. When I pass <code>16/05/2018 11:45</code> from angular to node. It gets converted to\n <code>2018-05-16T06:15:33.000Z</code>.</p>\n\n<p>I have found that I can convert it back to IST time by </p>\n\n<p><code>new Date(req.body.BIDInstalledFrom.toLocaleString(\"en-ind\",{timeZone:'Asia/Kolkata'}));</code> </p>\n\n<p>But this does not seem to the correct/recommended way. </p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525251765, "post_id": 50128402, "comment_id": 87279311, "body": "You are getting only one object, you want to get the array of all the objects ? Is it what you mean ?"}, {"owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "reply_to_user": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525253019, "post_id": 50128402, "comment_id": 87280064, "body": "Yes i want to get array of firstname and lastname seperately"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1525256584, "post_id": 50128402, "comment_id": 87282429, "body": "is that worked for you ?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526623214, "post_id": 50131880, "comment_id": 87824666, "body": "Can we not do this without the buffercount?"}, {"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "reply_to_user": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526623962, "post_id": 50131880, "comment_id": 87824946, "body": "Sorry, I can&#39;t even understand why I ended up with something that complicated for this simple task. I edited my answer and also the stackblitz."}, {"owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526624060, "post_id": 50131880, "comment_id": 87824991, "body": "Thanks for the quick response!"}], "tags": [], "owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "is_accepted": true, "score": 2, "last_activity_date": 1526623914, "last_edit_date": 1526623914, "creation_date": 1525255217, "answer_id": 50131880, "question_id": 50128402, "link": "https://stackoverflow.com/questions/50128402/rxjs-observable-how-to-fetch-data-from-json-object/50131880#50131880", "title": "RxJs- Observable - How to fetch data from JSON Object", "body": "<p>You could simply use the arrays map function :</p>\n\n<pre><code>.pipe(map(res =&gt; res.data),\n    map(a =&gt; {\n        return {\n            firstnames: a.map(_ =&gt; _.firstname),\n            lastnames: a.map(_ =&gt; _.lastname)\n        }\n    }));\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/stackoverflow-50128402\" rel=\"nofollow noreferrer\">Here is a running example.</a></p>\n"}, {"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": false, "score": 0, "last_activity_date": 1525255522, "creation_date": 1525255522, "answer_id": 50131987, "question_id": 50128402, "link": "https://stackoverflow.com/questions/50128402/rxjs-observable-how-to-fetch-data-from-json-object/50131987#50131987", "title": "RxJs- Observable - How to fetch data from JSON Object", "body": "<p>you have json string so you need to do like this in your <code>switchMap</code> method </p>\n\n<pre><code> .switchMap(dataArray =&gt; {\n        return Observable.from(JSON.parse( dataArray));\n      })\n</code></pre>\n\n<p>or you can do like this also </p>\n\n<pre><code>this.data$ = Observable.of(JSON.parse(`{\n      \"data\": [\n        {\n          \"firstname\": \"abc\",\n          \"lastname\": \"aa\"\n        },\n         {\n          \"firstname\": \"xyz\",\n          \"lastname\": \"bb\"\n        }\n      ]\n    }`).subscribe(res=&gt; console.log(res.data));\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8908, "favorite_count": 0, "accepted_answer_id": 50131880, "answer_count": 2, "score": 2, "last_activity_date": 1526623914, "creation_date": 1525242639, "question_id": 50128402, "link": "https://stackoverflow.com/questions/50128402/rxjs-observable-how-to-fetch-data-from-json-object", "title": "RxJs- Observable - How to fetch data from JSON Object", "body": "<p>I have a JSON response observable as below.I would like to get data from this observables in two seperate array such as [abc,xyz] and [aa,bb]. Is it possible using rx observables map and switchmap to get two arrays in the same observable.</p>\n\n<pre><code>this.data$ = Observable.of({\n      \"data\": [\n        {\n          \"firstname\": \"abc\",\n          \"lastname\": \"aa\"\n        },\n         {\n          \"firstname\": \"xyz\",\n          \"lastname\": \"bb\"\n        }\n      ]\n    })  .map(res =&gt; res.data)\n      .switchMap(dataArray =&gt; {\n        return Observable.from(dataArray);\n      })\n      .map((arrayResp: any) =&gt; {\n        return ( arrayResp.firstname);\n      }).toArray()\n</code></pre>\n\n<p>Here iam only able to get one array. Is it possible to get two arrays in this method only.</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular2-template"], "comments": [{"owner": {"reputation": 918, "user_id": 7208895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-YVLXxShGlbQ/AAAAAAAAAAI/AAAAAAAABig/juXi_4QlIik/photo.jpg?sz=128", "display_name": "Vinod", "link": "https://stackoverflow.com/users/7208895/vinod"}, "edited": false, "score": 0, "creation_date": 1525242570, "post_id": 50128356, "comment_id": 87274504, "body": "Without using document.querySelector or document.getElementByName etc, is it possible with any Angular feature like an ElementREf etc"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1525268494, "post_id": 50128356, "comment_id": 87290259, "body": "is that worked for you ???"}], "answers": [{"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1525244066, "last_edit_date": 1525244066, "creation_date": 1525243711, "answer_id": 50128640, "question_id": 50128356, "link": "https://stackoverflow.com/questions/50128356/how-to-get-dom-element-using-name-attribute-in-angular-2-or-4-or-5/50128640#50128640", "title": "How to get dom element using name attribute in angular 2 or 4 or 5", "body": "<p>you can get access by creating <code>directive</code> and attaching with your element , below is code for that , Directive below make use of <code>ElementRef</code> which inturn allows you to interact with <code>nativeHtml</code> element. </p>\n\n<hr>\n\n<p>ImageElementDirective</p>\n\n<pre><code>import { ElementRef } from '@angular/core';\nimport { Directive } from '@angular/core';\n\n@Directive({\n  selector:\"[imageElement]\"\n})\nclass ImageElement {\n  constructor(private el: ElementRef) {\n  }\n\n  getImage() : any {\n    return el.nativeElement;\n  }\n}\n</code></pre>\n\n<p>Component.ts </p>\n\n<pre><code>//this will give you all image element , \n//you should use for loop or foreach to perform operation \n//you want\n@ViewChildren(ImageElement) allImageElement; \n</code></pre>\n\n<p>Component.html</p>\n\n<pre><code>&lt;img imageElement ..rest&gt;\n&lt;img imageElement ..rest&gt;\n</code></pre>\n"}], "owner": {"reputation": 918, "user_id": 7208895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-YVLXxShGlbQ/AAAAAAAAAAI/AAAAAAAABig/juXi_4QlIik/photo.jpg?sz=128", "display_name": "Vinod", "link": "https://stackoverflow.com/users/7208895/vinod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1662, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525244066, "creation_date": 1525242466, "last_edit_date": 1525242801, "question_id": 50128356, "link": "https://stackoverflow.com/questions/50128356/how-to-get-dom-element-using-name-attribute-in-angular-2-or-4-or-5", "title": "How to get dom element using name attribute in angular 2 or 4 or 5", "body": "<p>I have template which has multiple image(img) tags inside it, all these are iterated in foreach loop and modifiing this img src attribute/properties in typescript file.</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;div *ngFor=\"let lt of list\"&gt;\n&lt;div&gt;\n    &lt;a href=\"{{lt.url}}\" target=\"_self\"&gt;\n      &lt;img mat-card-image name=\"{{lt.name}}\" class=\"image\" src=\"\" placement=\"top\" container=\"body\"&gt;\n    &lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;a href=\"{{lt.url}}\" target=\"_self\"&gt;\n      &lt;img mat-card-image name=\"{{lt.name}}\" class=\"image\" src=\"\" placement=\"top\" container=\"body\"&gt;\n    &lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;a href=\"{{lt.url}}\" target=\"_self\"&gt;\n      &lt;img mat-card-image name=\"{{lt.name}}\" class=\"image\" src=\"\" placement=\"top\" container=\"body\"&gt;\n    &lt;/a&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>code in typescript file,</p>\n\n<pre><code>ngOnInit() {\n    for (const lt of list) {\n        if (lt.title === 'xyz') {\n          lt.title = 'XYZ';\n        }\n        if (lt.appFlag) {\n          this.getIcon(lt.name);\n        }\n    }\n}\n\n\n  private getIcon(name: string): void {\n  const imageUrl = this.service.createURL('abc');\n\n  // how to get img tag using property/attribute name(name here is unique item name) from HTML without using document.querySelector etc.\n  ....\n  ....\n  //const img = this.name.nativeElement.name;\n\n  //console.log('inside getIcon:img', img);\n\n\n  if (img) {\n    img['src'] = imageUrl;\n  }\n});\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "edited": false, "score": 0, "creation_date": 1525241855, "post_id": 50128151, "comment_id": 87274155, "body": "&lt;app-grid&gt;&lt;/app-grid&gt; -&gt; why not pass the value that will change here as a model and handle on model change?"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "reply_to_user": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "edited": false, "score": 0, "creation_date": 1525242081, "post_id": 50128151, "comment_id": 87274255, "body": "@VeselinDavidov How to trigger the grid component when the model values get changed"}], "answers": [{"comments": [{"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525246931, "post_id": 50128475, "comment_id": 87276701, "body": "OK upload it. Which part didn&#39;t you get? Create an input field and you can pass values to the component. Make ngOnChanges(changes: SimpleChanges)  method to handle changes and do some processing (if you need to)"}, {"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525246947, "post_id": 50128475, "comment_id": 87276710, "body": "add the html also"}, {"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525251387, "post_id": 50128475, "comment_id": 87279112, "body": "I wrote my comment but I haven&#39;t tested it. It should work. You can try it and play a bit with it. Basically you need to pass the values from the parent component instead of getting them from a service and handle onChange events"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525252303, "post_id": 50128475, "comment_id": 87279628, "body": "I tried to check the values are passed to grid compoment from common throw console but it shows a blank line ...What I need to do"}, {"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525252382, "post_id": 50128475, "comment_id": 87279665, "body": "Well I gave you the way - I cannot be bothered to write your program sorry ;) Play with it for a bit and it will work."}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525253132, "post_id": 50128475, "comment_id": 87280143, "body": "The ngOnInit is call the api and working nice but the onchange method is not working for me ."}, {"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525253445, "post_id": 50128475, "comment_id": 87280321, "body": "Did you make the method exactly ngOnChanges(change:SimpleChange) ? you need to import Simple Change. If you use different name (for example without the plural &quot;s&quot; in the end) it won&#39;t work."}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525254104, "post_id": 50128475, "comment_id": 87280768, "body": "I have re-posted the grid.component.ts code please check it"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525254156, "post_id": 50128475, "comment_id": 87280806, "body": "import { Component, OnInit, Input, SimpleChange } from &#39;@angular/core&#39;;"}, {"owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "reply_to_user": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525254409, "post_id": 50128475, "comment_id": 87280971, "body": "Try to add  implements OnChanges  to the declaration of the grid component and a console.log into the ngOnChanges method. Do you  go into the ngOnChanges  at all ?"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525254618, "post_id": 50128475, "comment_id": 87281126, "body": "ngOnChanges is get called at the component loads first afterwards it is not get called"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525338786, "post_id": 50128475, "comment_id": 87320097, "body": "still I am facing the issue that ngOnchanges not called after the first load ,could you please guide me to fix it"}, {"owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "edited": false, "score": 0, "creation_date": 1525340132, "post_id": 50128475, "comment_id": 87320991, "body": "There you imported the following let { Component, NgModule , Input, SimpleChanges } = ng.core; and the function is  ngOnChanges(change: SimpleChange) but it is worked there but in my case not working"}], "tags": [], "owner": {"reputation": 6876, "user_id": 4755974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de25c70b999a2ba776897801464447db?s=128&d=identicon&r=PG&f=1", "display_name": "Veselin Davidov", "link": "https://stackoverflow.com/users/4755974/veselin-davidov"}, "is_accepted": true, "score": 1, "last_activity_date": 1525251237, "last_edit_date": 1525251237, "creation_date": 1525243006, "answer_id": 50128475, "question_id": 50128151, "link": "https://stackoverflow.com/questions/50128151/how-to-change-the-views-dynamically-from-one-component-to-another-in-angular4/50128475#50128475", "title": "How to change the views dynamically from one component to another in angular4", "body": "<p>In the GridComponent  create an @input field and then pass the value from the parent component. Something like that:</p>\n\n<pre><code> @Input() inputValue: string;\n</code></pre>\n\n<p>Then you call the component like that</p>\n\n<pre><code>&lt;app-grid [inputValue]=\"valueFromCommon\" &gt;&lt;/app-grid&gt;\n</code></pre>\n\n<p>Here value from common is the coming value. I used two way binding here but if you don't want it changed back you can use one way binding.</p>\n\n<p>Then to handle changes you have two options.</p>\n\n<ul>\n<li>The preferred method :)</li>\n</ul>\n\n<p>In the grid component you can create such method (basically implement on change)</p>\n\n<pre><code> ngOnChanges(changes: SimpleChanges) {\n        console.log(\"new value:\",changes);\n    }\n</code></pre>\n\n<p>Here the changes objects hold the value that has changed,its previous value and its new value. You can process it anyway you want.</p>\n\n<ul>\n<li>The other method which I wouldn't recommend because is something like a hack</li>\n</ul>\n\n<p>Create getters and setters for the @input field and handle the changes there</p>\n\n<pre><code>private _inputValue: string;\n\n@Input() set inputValue(value: string) {    \n   this._inputValue= value;\n  // process new value here    \n}\n\nget inputValue(): string {    \n    return this._inputValue;    \n}\n</code></pre>\n\n<p>----- Edit with the actual code for your problem -----</p>\n\n<p>In your example the way you load data in the grid component from a service makes it detached from the parent component. You load everything in ngOnInit() from the injected service. Instead you should pass the values you want from the parent component. </p>\n\n<p>For example change these to inputs</p>\n\n<pre><code>export class GridComponent {\n\n @Input()  C_code: string;\n @Input()  G_code: string;\n @Input()  SG_code: string;\n</code></pre>\n\n<p>Then in ngOnInit don't take them from the service and use the ones that came from the parent component</p>\n\n<pre><code>ngOnInit() {\n  this.CartdataService.get_Selected_Category_Of_Products(this.C_code, \n          this.G_code, this.SG_code).subscribe(\n        data =&gt; {\n            this.products = data;\n            console.log(data);\n   });\n}\n</code></pre>\n\n<p>Then to call the grid component use:</p>\n\n<pre><code>  &lt;app-grid [C_code]=\"categorycode\" [G_code]=\"groupcode\" [SG_code]=\"subgroupcode\" &gt;&lt;/app-grid&gt;\n</code></pre>\n\n<p>This way you will pass the values selected from the common component to the grid component. Now in order to handle changes of these values (the changes are propagated to the component automatically but if you have external logic on change you need to add it). So in grid component add that method:</p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges) {\n             this.CartdataService.get_Selected_Category_Of_Products(this.C_code, \n              this.G_code, this.SG_code).subscribe(\n            data =&gt; {\n                this.products = data;\n                console.log(data);\n       });\n     }\n</code></pre>\n\n<p>Which basically does the same as ngOnInit - queries the service. That's what you want to do when a property changes - requery the service</p>\n"}], "owner": {"reputation": 820, "user_id": 9390197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/806150fa164a85aebc6fc48be287a3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/9390197/nikson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1005, "favorite_count": 0, "accepted_answer_id": 50128475, "answer_count": 1, "score": 1, "last_activity_date": 1525254073, "creation_date": 1525241506, "last_edit_date": 1525254073, "question_id": 50128151, "link": "https://stackoverflow.com/questions/50128151/how-to-change-the-views-dynamically-from-one-component-to-another-in-angular4", "title": "How to change the views dynamically from one component to another in angular4", "body": "<p>In my application I need to change the views from one component to another based on the parent component values.</p>\n\n<p>View Structure </p>\n\n<pre><code>&lt;app-component&gt;\n&lt;app-common&gt;&lt;/app-common&gt;\n&lt;/app-component&gt;\n</code></pre>\n\n<p>Here I call the common component as the child of app component.</p>\n\n<pre><code>&lt;app-common&gt;\n&lt;app-grid&gt;&lt;/app-grid&gt;\n&lt;/app-common&gt;\n</code></pre>\n\n<p>Here I have the grid component as the child of common component </p>\n\n<p>common.html</p>\n\n<pre><code>   &lt;div class=\"accordion col-sm-12\" id=\"accordion1\" *ngFor='let data of dropdownData; let i=index'&gt;\n            &lt;div class=\"accordion-group\"&gt;\n\n                &lt;div class=\"accordion-heading\"&gt;\n                    &lt;a class=\"accordion-toggle h6\" (click)=\"getCategory(categorycode.value)\" data-toggle=\"collapse\" data-parent=\"#accordion1\" href=\"#collapseTwo + i\"&gt;\n                        {{data?.CAMD_ENTITY_DESC}}\n                        &lt;input type=\"hidden\" #categorycode value=\"{{data?.PROD_PRCATG_CODE}}\"&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n\n                &lt;div *ngFor='let group of data.group; let j=index' id=\"collapseTwo + i\" class=\"accordion-body collapse\" style=\"margin-left:10px\"&gt;\n                    &lt;div class=\"accordion-inner\"&gt;\n                        &lt;div class=\"accordion\" id=\"accordion2\"&gt;\n                            &lt;div class=\"accordion-group\"&gt;\n\n                                &lt;div class=\"accordion-heading\"&gt;\n                                    &lt;a class=\"accordion-toggle\" (click)=\"getGroup(groupcode.value)\" data-toggle=\"collapse\" data-parent=\"#accordion2\" [href]=\"'#collapseInnerTwo' + j\"&gt;\n                                        {{group?.CAMD_PRGRP_DESC}}\n                                        &lt;input type=\"hidden\" #groupcode value=\"{{group?.PROD_PRGRP_CODE}}\"&gt;\n                                    &lt;/a&gt;\n                                &lt;/div&gt;\n\n                                &lt;div [id]=\"'collapseInnerTwo' + j\" class=\"accordion-body collapse\" style=\"margin-left:10px;margin-top:3px\"&gt;\n\n                                    &lt;div class=\"accordion-inner\" style=\"cursor: pointer;\" (click)=\"getSubgruop(subgroupcode.value)\" *ngFor='let subgroup of group?.subgroup; let i=index'&gt;\n                                        {{subgroup?.CAMD_PRSGRP_DESC}}\n                                        &lt;input type=\"hidden\" #subgroupcode value=\"{{subgroup?.PROD_PRSGRP_CODE}}\"&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n         &lt;app-grid&gt;&lt;/app-grid&gt;\n</code></pre>\n\n<p>it is an accordion from this user can choose the options like category,group,subgruop so every user select the values is need in grid component to display the views(API call will get data from db in grid component for every selected values) dynamically while user selecting the options.</p>\n\n<p>common.component.ts</p>\n\n<pre><code>export class CommonComponent {\n\n  categorycode :string ='';\n  groupcode :string= '';\n  subgroupcode:string='';\n\n  constructor(private router: Router, private CartdataService: CartdataService) { }\n\n  ngOnInit() {}\n\n  public getCategory(categorycode){\n    this.CartdataService.get_Category_Code(categorycode);\n  }\n  public getGroup(groupcode){\n    this.CartdataService.get_Group_Code(groupcode); \n  }\n  public getSubgruop(subgroupcode){\n    this.CartdataService.get_Group_Code(subgroupcode); \n  }\n\n}\n</code></pre>\n\n<p>grid.component.ts </p>\n\n<pre><code>  export class GridComponent {\n\n  @Input() C_code: string;\n  @Input() G_code: string;\n  @Input() SG_code: string;\n\n  products: any;\n\n\n\n  constructor(private CartdataService: CartdataService, private router: Router) {\n    this.router.events.subscribe(\n      () =&gt; window.scrollTo(0, 0));\n  }\n\n  ngOnInit() {\n\n    this.CartdataService.get_Selected_Category_Of_Products(this.C_code,\n      this.G_code, this.SG_code).subscribe(\n        data =&gt; {\n          this.products = data;\n        });\n      }\n\n  ngOnChanges(change: SimpleChange) {\n    this.CartdataService.get_Selected_Category_Of_Products(this.C_code,\n      this.G_code, this.SG_code).subscribe(\n        data =&gt; {\n          this.products = data;\n        });\n  }\n\n}\n</code></pre>\n\n<p>grid.html</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n\n    &lt;div class=\"col-sm-4 column\" *ngFor=\"let product of products;let i =index;\"&gt;\n        &lt;div class=\"card\"&gt;\n            &lt;div class=\"card-img-top card-img-top-250 one\"&gt;\n                &lt;img routerLink=\"/my-cart\" class=\"img-fluid\" [src]=\"product['IMAGE_PATH_1']\" alt=\"image\"&gt;\n                &lt;img routerLink=\"/my-cart\" class=\"img-fluid two\" [src]=\"product['IMAGE_PATH_2']\" alt=\"image\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"card-block pt-2\"&gt;\n                &lt;div class=\"col-sm-12 text-center card-text\"&gt;\n                    &lt;span #Pname1&gt;{{product?.ITEM_DESCRIPTION}}&lt;/span&gt;\n                    &lt;br&gt;\n                    &lt;input type=\"hidden\" value=\"{{product?.PRODUCT_CODE}}\"&gt;\n                    &lt;p class=\"font-weight-bold text-primary\"&gt;{{product?.PRODUCT_PRICE}} &amp;#8377;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;button type=\"button\" class=\"btn  btn-primary col-sm-12 corner\" routerLink=\"/my-cart\" (click)=\"getProductName(Pname1)\"&gt;\n                    &lt;strong&gt;View Details&lt;/strong&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Here the user selected dropdown values are passed to the service file.</p>\n\n<p>As I mention above the grid component is child of common ,So on the page load the grid component shows the views as per the values in service file which are send by the common component .</p>\n\n<p>now When the user selected some values from dropdown in common component that values are passed to the service file ,Based on that values I make a call to the API from  service file .</p>\n\n<p>Now What I want to do is when the new values are came to the service file from common component  I want to change the views of grid component based on the new values .</p>\n\n<p>If it is possible ,please guide me to solve .\nThanks </p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1525241635, "creation_date": 1525241635, "answer_id": 50128183, "question_id": 50128073, "link": "https://stackoverflow.com/questions/50128073/property-does-not-exist-in-the-type-of-class-which-implements-an-interface-comp/50128183#50128183", "title": "Property does not exist in the type of class which implements an interface, compiler error", "body": "<p>You are importing the class <code>Api</code> the member <code>authenticated</code> exists on an instance of the class. You need to create an instance using the <code>new</code> operator</p>\n\n<pre><code>import { Api } from './Api'\n\nasync function foo() {\n  const api = new Api();\n  const isAuthenticated = await api.authenticated() // ERROR\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 856, "user_id": 3688354, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e3a6c331a73d1a98317a521a2d270085?s=128&d=identicon&r=PG", "display_name": "wrahim", "link": "https://stackoverflow.com/users/3688354/wrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 1, "accepted_answer_id": 50128183, "answer_count": 1, "score": 0, "last_activity_date": 1525241635, "creation_date": 1525241098, "question_id": 50128073, "link": "https://stackoverflow.com/questions/50128073/property-does-not-exist-in-the-type-of-class-which-implements-an-interface-comp", "title": "Property does not exist in the type of class which implements an interface, compiler error", "body": "<p>In an app using TypeScript I am running into this problem that I am not sure how to solve or why it is happening.</p>\n\n<p>In a module I have this type of code</p>\n\n<pre><code>// Api.ts\ninterface ApiInterface {\n  signIn(user: object): AxiosPromise\n  authenticated(): AxiosPromise\n  getCurrentUser(): AxiosPromise\n}\n\nexport class Api implements ApiInterface {\n  public signIn() {\n     ...\n  }\n\n  public authenticated() {\n     ...\n  }\n\n  public getCurrentUser() {\n     ...\n  }    \n}\n</code></pre>\n\n<p>But the problem is that I get a compilation error when in another file I try to use <code>Api</code> class like this:</p>\n\n<pre><code>import { Api } from './Api'\n\nasync function foo() {\n  const isAuthenticated = await Api.authenticated() // ERROR\n  ...\n}\n</code></pre>\n\n<p>The error states that: <strong>Property 'authenticated' does not exist on type 'typeof Api'.</strong></p>\n\n<p>How do I get past this? Does the compiler not know that class Api implements ApiInterface?</p>\n"}, {"tags": ["angular", "forms", "typescript", "ionic-framework", "angular2-forms"], "comments": [{"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525241320, "post_id": 50127858, "comment_id": 87273935, "body": "You could pass the <code>editUserFlag</code> parameter to your validator. In the validator ignore when <code>editUserFlag</code> is true."}], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 7341699, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-OLhLZS11mCM/AAAAAAAAAAI/AAAAAAAADi8/QiBtjJz2Vas/photo.jpg?sz=128", "display_name": "Suresh Kumar", "link": "https://stackoverflow.com/users/7341699/suresh-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1525241353, "creation_date": 1525241353, "answer_id": 50128123, "question_id": 50127858, "link": "https://stackoverflow.com/questions/50127858/user-creation-form-updating-and-creating-using-different-inputs-angular-2/50128123#50128123", "title": "User creation form - updating and creating - using different inputs. Angular 2+", "body": "<p>No need of two forms. You can use only one form for both create and update. Just need to change the validations. For example,</p>\n\n<pre><code>ngOnInit(){\nthis.form= this.formBuilder.group({\n    userName: [this.userName],\n    password: [this.password],\n    passwordConfirm: this.passwordConfirm,\n\n  },{\n    validator: ConfirmPasswordValidator.MatchPassword // your validation method\n  })\n</code></pre>\n\n<p>}</p>\n\n<pre><code>onCreateUser(){\n  this.form.controls[\"password\"].setValidators([Validators.required]);\n  this.form.controls[\"password\"].updateValueAndValidity();\n  this.form.controls[\"passwordConfirm\"].setValidators([Validators.required]);\n  this.form.controls[\"passwordConfirm\"].updateValueAndValidity();\n}\n\nonUpdateUser(){\n  this.form.controls[\"password\"].setValidators(null);\n  this.form.controls[\"password\"].updateValueAndValidity();\n  this.form.controls[\"passwordConfirm\"].setValidators(null);\n  this.form.controls[\"passwordConfirm\"].updateValueAndValidity();\n}\n</code></pre>\n\n<p>You can call these methods based on your scenario dynamically.</p>\n"}], "owner": {"reputation": 971, "user_id": 5511043, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/692322af65bc4cadf44c0eb62afdb973?s=128&d=identicon&r=PG&f=1", "display_name": "userlkjsflkdsvm", "link": "https://stackoverflow.com/users/5511043/userlkjsflkdsvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525241353, "creation_date": 1525240031, "question_id": 50127858, "link": "https://stackoverflow.com/questions/50127858/user-creation-form-updating-and-creating-using-different-inputs-angular-2", "title": "User creation form - updating and creating - using different inputs. Angular 2+", "body": "<p>I am creating a form. This form has two purposes. If the user selects create a user, the password inputs appear. If the user edit's a user, then the password inputs do not appear. Due to my validation, I had to create two separate formgroups. (creationForm / editForm). The issue is I can't use a ternary operation on (form [formGroup]), unsure how I can tell my view that it needs to operate on the certain form. </p>\n\n<p>The reason why I have to switch on formgroups is that if I want to edit a user and try to submit, the form is expecting some sort of validation on the password input field as it would be just one formgroup to draw from. Hope this helps! </p>\n\n<p>p.s not displaying validations etc.. in typescript, not relevant for this question. Thanks!</p>\n\n<p>Ts</p>\n\n<pre><code>ngOnInit(){\n\n this.editForm = this.formBuilder.group({\n        userName: this.userName,\n      })\n\n      this.creationForm = this.formBuilder.group({\n        userName: this.userName,\n        password: this.password,\n        passwordConfirm: this.passwordConfirm,\n\n      },{\n        validator: ConfirmPasswordValidator.MatchPassword // your validation method\n      })\n\n}\n</code></pre>\n\n<p>HTML </p>\n\n<pre><code>&lt;form [formGroup]=\"(editUserFlag ? editForm : creationForm)\" (ngSubmit)=\"submit()\" novalidate&gt;\n        &lt;div class=\"edit-wrapper\"&gt;\n          &lt;ion-grid&gt;\n            &lt;ion-row&gt;\n              &lt;ion-col col-12 class=\"edit-wrapper__outercol\"&gt;\n                &lt;ion-row&gt;\n                  &lt;ion-col col-12&gt;\n                      &lt;app-field-error-display [displayError]=\"isFieldValid('userName')\" errorMsg=\"Username is required\"&gt;&lt;/app-field-error-display&gt;\n                      &lt;input [(ngModel)]=\"muserName\" formControlName=\"userName\" placeholder=\"Username\" class=\"form-field\" required [ngClass]=\"displayFieldCss('userName')\"/&gt;\n                  &lt;/ion-col&gt;\n                  &lt;ion-col col-12 *ngIf=\"!editUserFlag\"&gt;\n                      &lt;app-field-error-display [displayError]=\"isFieldValid('password')\"errorMsg=\"Password does not meet criteria\"&gt;&lt;/app-field-error-display&gt;\n                      &lt;p class=\"password-class\"&gt;Password must contain three of the following: Capital Letters, Lower Case Letters, Numbers, Special Characters and must be 8 characters in length.&lt;/p&gt;\n                      &lt;input type=\"password\" [(ngModel)]=\"mpassword\" formControlName=\"password\" class=\"form-field\" placeholder=\"Password\" required [ngClass]=\"displayFieldCss('password')\"/&gt;\n                  &lt;/ion-col&gt;\n                  &lt;ion-col col-12 *ngIf=\"!editUserFlag\"&gt;\n                      &lt;app-field-error-display [displayError]=\"isFieldValid('passwordConfirm')\" errorMsg=\"Match Password\"&gt;&lt;/app-field-error-display&gt;\n                      &lt;input type=\"password\" [(ngModel)]=\"mpasswordConfirm\" formControlName=\"passwordConfirm\" class=\"form-field\" placeholder=\"Confirm Password\" required [ngClass]=\"displayFieldCss('passwordConfirm')\"/&gt;\n                  &lt;/ion-col&gt;\n                &lt;/ion-row&gt;\n              &lt;/ion-col&gt;\n            &lt;/ion-row&gt;\n          &lt;/ion-grid&gt;\n          &lt;button full ion-button class=\"edit-wrapper__button\"&gt;&lt;span *ngIf=\"editUserFlag\"&gt;Update&lt;/span&gt;&lt;span *ngIf=\"!editUserFlag\"&gt;Create&lt;/span&gt;&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5", "angular2-template"], "comments": [{"owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "edited": false, "score": 0, "creation_date": 1525238305, "post_id": 50127520, "comment_id": 87272929, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42458346/need-to-insert-script-tag-in-angular-2\">Need to insert Script tag in angular 2</a>"}, {"owner": {"reputation": 11, "user_id": 9728458, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oO35vktydrs/AAAAAAAAAAI/AAAAAAAABqw/1arRu0o7w-Y/photo.jpg?sz=128", "display_name": "Ayush Singhal", "link": "https://stackoverflow.com/users/9728458/ayush-singhal"}, "reply_to_user": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "edited": false, "score": 0, "creation_date": 1525286460, "post_id": 50127520, "comment_id": 87301095, "body": "I got how to insert script in angular the problem is that it is display: none on rendering in &#39;user agent stylesheet&#39;"}], "owner": {"reputation": 11, "user_id": 9728458, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oO35vktydrs/AAAAAAAAAAI/AAAAAAAABqw/1arRu0o7w-Y/photo.jpg?sz=128", "display_name": "Ayush Singhal", "link": "https://stackoverflow.com/users/9728458/ayush-singhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3332, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1525286383, "creation_date": 1525238030, "last_edit_date": 1525286383, "question_id": 50127520, "link": "https://stackoverflow.com/questions/50127520/how-to-use-script-tag-in-angular-5-component-template", "title": "How to use script tag in Angular 5 component template", "body": "<p>I was recently creating a web application using Angular 5.</p>\n\n<p>I have built most of the thing but when I was required to add a <code>&lt;script&gt;</code> in my component template the code didn't work at compile time.</p>\n\n<p>Can anybody suggest a solution?</p>\n\n<p><strong>html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;section class=\"col span-2-of-6 ads\"&gt;\n    &lt;div [innerHtml]=\"html | safe: 'html'\" &gt;&lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p><strong>component</strong></p>\n\n<pre><code>html : string = \"&lt;script type='text/javascript' language='javascript' src=''&gt;&lt;/script&gt;\";     //ads js src in src=\"\"\n</code></pre>\n\n<p><strong>safe.pipe.ts</strong></p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe'\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(protected sanitizer: DomSanitizer) {}\n\n  public transform(value: any, type: string): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n    switch (type) {\n      case 'html': return this.sanitizer.bypassSecurityTrustHtml(value);\n      case 'style': return this.sanitizer.bypassSecurityTrustStyle(value);\n      case 'script': return this.sanitizer.bypassSecurityTrustScript(value);\n      case 'url': return this.sanitizer.bypassSecurityTrustUrl(value);\n      case 'resourceUrl': return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n      default: throw new Error(`Invalid safe type specified: ${type}`);\n    }\n  }\n}\n</code></pre>\n\n<p>When I used the developer options in Chrome, I found that <code>display</code> is <code>none</code> in the template component.</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>script {                       user agent stylesheet\n    display: none;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "edited": false, "score": 0, "creation_date": 1525234528, "post_id": 50126927, "comment_id": 87271954, "body": "Because you are trying to show the <code>options</code> which is object and thus you are getting this error."}], "answers": [{"tags": [], "owner": {"reputation": 5326, "user_id": 8954773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oi2Ei.jpg?s=128&g=1", "display_name": "bereket gebredingle", "link": "https://stackoverflow.com/users/8954773/bereket-gebredingle"}, "is_accepted": false, "score": 0, "last_activity_date": 1525235474, "last_edit_date": 1525235474, "creation_date": 1525234606, "answer_id": 50127100, "question_id": 50126927, "link": "https://stackoverflow.com/questions/50126927/error-error-cannot-find-a-differ-supporting-object-object-object-of-type-o/50127100#50127100", "title": "ERROR Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables", "body": "<p>This is becuase your second ngFor loop is trying to loop over an object.</p>\n\n<p>The options value is an object with attribute 'option1','option2'...; </p>\n\n<p>So you have to change this to array as you.</p>\n\n<pre><code>this.questionnaire = response.json();\n      let key = Object.keys(this.questionnaire);\n      for (let i = 0; i &lt; key.length; i++) {\n        this.currentQuestionsValue.push(this.questionnaire[key[i]])\n      }\nfor( let j = 0; j &lt; this.currentQuestionsValue.length ; j++) {\n      this.currentQuestionsValue[j].options =  Object.keys(this.currentQuestionsValue[j].options).map(i =&gt; options[i])\n   }\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/CaRk4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CaRk4.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 45843, "user_id": 2349407, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/GLI4g.png?s=128&g=1", "display_name": "Vivek Doshi", "link": "https://stackoverflow.com/users/2349407/vivek-doshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1525235493, "creation_date": 1525235493, "answer_id": 50127196, "question_id": 50126927, "link": "https://stackoverflow.com/questions/50126927/error-error-cannot-find-a-differ-supporting-object-object-object-of-type-o/50127196#50127196", "title": "ERROR Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables", "body": "<p>Here <code>options</code> is not <code>array</code> , its just simple <code>json object</code> , because of the below line you are getting error :</p>\n\n<pre><code>&lt;div *ngFor=\"let op of d.options\"&gt;\n</code></pre>\n\n<p><strong>Solution :</strong> </p>\n\n<blockquote>\n  <p>Component side :</p>\n</blockquote>\n\n<pre><code>objectKeys = Object.keys;\n</code></pre>\n\n<blockquote>\n  <p>Template side :</p>\n</blockquote>\n\n<pre><code>&lt;div *ngFor=\"let key of objectKeys(d.options)\"&gt;\n    &lt;label&gt;\n        &lt;input type=\"radio\" name=\"option\"&gt;\n        &lt;span&gt;{{ d.options[key] }}&lt;/span&gt;\n    &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>For reference : <strong><a href=\"https://stackblitz.com/edit/angular-json-key-loop\" rel=\"nofollow noreferrer\">WORKING DEMO</a></strong></p>\n"}], "owner": {"reputation": 95, "user_id": 9671128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adeel", "link": "https://stackoverflow.com/users/9671128/adeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "accepted_answer_id": 50127196, "answer_count": 2, "score": 1, "last_activity_date": 1525236624, "creation_date": 1525233333, "last_edit_date": 1525236624, "question_id": 50126927, "link": "https://stackoverflow.com/questions/50126927/error-error-cannot-find-a-differ-supporting-object-object-object-of-type-o", "title": "ERROR Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables", "body": "<pre><code>onGetForm() {\n  this.serverData.getData('questionnaire/Student Course Review')\n    .subscribe(\n       (response: Response) =&gt; {\n          this.questionnaire = response.json();\n          let key = Object.keys(this.questionnaire);\n          for (let i = 0; i &lt; key.length; i++) {\n            this.currentQuestionsValue.push(this.questionnaire[key[i]])\n          }\n        },\n        (error) =&gt; console.log('Form Error', error)\n      )\n  }\n</code></pre>\n\n<p>my html loop, <strong>Note</strong>: I simply want to iterate </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form&gt;\n  &lt;div *ngFor=\"let data of currentQuestionsValue\"&gt;\n    &lt;div *ngFor=\"let d of data.items \"&gt;\n      &lt;strong&gt; {{ d.sno }}). &lt;/strong&gt;\n      &lt;span&gt;{{ d.question}}&lt;/span&gt;\n      &lt;div *ngFor=\"let op of d.options\"&gt;\n        &lt;label&gt;\n          &lt;input type=\"radio\" name=\"option\"&gt;\n          &lt;span&gt;{{ op }}&lt;/span&gt;\n        &lt;/label&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I am getting following error when running a loop on json data.</p>\n\n<blockquote>\n  <p>ERROR Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.</p>\n</blockquote>\n\n<p>I wanna display this items.\n<a href=\"https://i.stack.imgur.com/kfBKq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kfBKq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "edited": false, "score": 0, "creation_date": 1525234849, "post_id": 50127104, "comment_id": 87272023, "body": "That works! I didn&#39;t think of that. Do you know of any way to do with that doesn&#39;t emit the assertion statement to javascript?"}], "tags": [], "owner": {"reputation": 1670, "user_id": 188256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXJkr.png?s=128&g=1", "display_name": "snipsnipsnip", "link": "https://stackoverflow.com/users/188256/snipsnipsnip"}, "is_accepted": true, "score": 1, "last_activity_date": 1525234654, "creation_date": 1525234654, "answer_id": 50127104, "question_id": 50126924, "link": "https://stackoverflow.com/questions/50126924/how-to-assert-something-conforms-to-a-type-without-a-function/50127104#50127104", "title": "How to assert something conforms to a type without a function?", "body": "<p>You can use <code>as</code> in a separate statement. </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>interface MustHaveThingy {\n   thingy: any;\n}\n\nconst originalType = {\n  thingy: 'something',\n  somethingElse: 'this is part of the type',\n};\n\noriginalType as MustHaveThingy; // &lt;- assertion\n</code></pre>\n\n<p>Removing <code>thingy: 'something'</code> line gives:</p>\n\n<blockquote>\n  <p>foo.ts(9,1): error TS2352: Type '{ somethingElse: string; }' cannot be converted to type 'MustHaveThingy'.\n   Property 'thingy' is missing in type '{ somethingElse: string; }'.</p>\n</blockquote>\n"}], "owner": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50127104, "answer_count": 1, "score": 1, "last_activity_date": 1525234654, "creation_date": 1525233309, "question_id": 50126924, "link": "https://stackoverflow.com/questions/50126924/how-to-assert-something-conforms-to-a-type-without-a-function", "title": "How to assert something conforms to a type without a function?", "body": "<p>I want to check to see if an object I create conforms to a certain interface but I also want to leave the original type untouched. </p>\n\n<p>I know I can achieve this using an immediately invoked function expression like so...</p>\n\n<pre><code>interface MustHaveThingy {\n  thingy: any;\n}\n\nconst originalType = (function&lt;T extends MustHaveThingy&gt;(obj: T) {return obj;})({\n  thingy: 'something',\n  somethingElse: 'this is part of the type',\n});\n</code></pre>\n\n<blockquote>\n  <p>The type of <code>originalType</code> is typed as <code>{thingy: string; somethingElse: string;}</code> but it still conforms to the interface <code>MustHaveThingy</code>.</p>\n</blockquote>\n\n<p>...but it's kind of ugly. Is there any way I can achieve the above without the immediately invoked function expression?</p>\n\n<p>What I'm looking for is the whole\u2014<code>T extends SomeOtherType</code> where the actual type of <code>T</code> is inferred but <code>T</code> must conform to <code>SomeOtherType</code>\u2014but without the function.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1525237493, "post_id": 50126884, "comment_id": 87272671, "body": "Can you provide the code for <code>this.httpOptions</code> as well?"}, {"owner": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1525246237, "post_id": 50126884, "comment_id": 87276355, "body": "done,, please check @DanielWStrimpel"}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1546421347, "post_id": 50126884, "comment_id": 94844537, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48401250/angular-httpclient-return-expecting-observablehttpeventany-rather-than-observ\">Angular HttpClient return expecting observable&lt;HttpEvent&lt;any&gt; rather than observable&lt;any&gt;</a>"}], "owner": {"reputation": 1080, "user_id": 2924643, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bND7m.png?s=128&g=1", "display_name": "Mamen", "link": "https://stackoverflow.com/users/2924643/mamen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1255, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1525246218, "creation_date": 1525233030, "last_edit_date": 1525246218, "question_id": 50126884, "link": "https://stackoverflow.com/questions/50126884/observablehttpeventclass-is-not-assignable-to-type-observableclass-htt", "title": "Observable&lt;HttpEvent&lt;Class[]&gt;&gt; is not assignable to type Observable&lt;Class[]&gt; httpclient angular", "body": "<p>i have a http get request in my angular app, it looks like :</p>\n\n<pre><code> getAll():Observable&lt;TransaksiDetail[]&gt;{\n    return this.http.get&lt;TransaksiDetail[]&gt;(`${BASE_API()}/transaksi`, this.httpOptions);\n  }\n</code></pre>\n\n<p>then i run <code>ng serve</code> the app is running well but in cmd it's showing an error like:</p>\n\n<blockquote>\n  <p>webpack: Compiled successfully. ERROR in\n  src/app/services/transaksi.service.ts(56,5): error TS2322: Type\n  'Observable>' is not assignable to type\n  'Observable'.   Type 'HttpEvent'\n  is not assignable to type 'TransaksiDetail[]'.\n      Type 'HttpProgressEvent' is not assignable to type 'TransaksiDetail[]'.\n        Property 'includes' is missing in type 'HttpProgressEvent'.</p>\n</blockquote>\n\n<p>and i try to access the page who call getAll() method and it's running well too</p>\n\n<p>this is my class :</p>\n\n<pre><code>export class TransaksiView {\n\n  nama_pembeli:string;\n  id_toko:number;\n  nama_toko:number;\n  jumlah_beli:number;\n  total_harga:number;\n  status:string;\n}\n\n\nexport class DetailTransaksiView {\n\n  id_menu: number;\n  id_size: number;\n  size: string;\n  topping: string;\n  jumlah: number;\n  harga_sekarang:number;\n  total_harga:number;\n}\n\nexport class TransaksiDetail {\n  transaksi:TransaksiView;\n  detail:DetailTransaksiView[];\n  constructor(){\n    this.detail = new Array&lt;DetailTransaksiView&gt;();\n  }\n\n}\n</code></pre>\n\n<p>this is my httpoption code</p>\n\n<pre><code>let opt = {\n  'Content-Type': 'application/json',\n  'Access-Control-Allow-Origin': '*',\n  'Authorization' : '',\n}\nif(this.storage.isStorageAvailable()){\n  let data = this.storage.retrieve('user_auth');\n  if(data){\n    opt.Authorization = `Bearer ${data.token}`;\n  }\n}\nthis.httpOptions = { headers: new HttpHeaders(opt) };\n</code></pre>\n\n<p>what makes the error?</p>\n"}, {"tags": ["typescript", "react-native"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1525226735, "post_id": 50126200, "comment_id": 87270382, "body": "<a href=\"https://stackoverflow.com/questions/40900791/cannot-redeclare-block-scoped-variable-in-unrelated-files\" title=\"cannot redeclare block scoped variable in unrelated files\">stackoverflow.com/questions/40900791/&hellip;</a>"}, {"owner": {"reputation": 236, "user_id": 3572129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ea8a2dfed34472b6373403947c3fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Sugesh", "link": "https://stackoverflow.com/users/3572129/sugesh"}, "reply_to_user": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1525229976, "post_id": 50126200, "comment_id": 87271051, "body": "@Sajeetharan: Here the errors are not in my code. It lies within node_modules/typescript itself."}], "answers": [{"comments": [{"owner": {"reputation": 13760, "user_id": 2438165, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nBPzI.png?s=128&g=1", "display_name": "Mat\u011bj Pokorn&#253;", "link": "https://stackoverflow.com/users/2438165/mat%c4%9bj-pokorn%c3%bd"}, "edited": false, "score": 0, "creation_date": 1526201518, "post_id": 50314274, "comment_id": 87644698, "body": "<a href=\"https://github.com/reduxjs/redux-thunk/issues/169\" rel=\"nofollow noreferrer\">yep, typing in <code>redux-thunk</code> is broken with <code>redux@4.x</code> :/</a>"}, {"owner": {"reputation": 236, "user_id": 3572129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ea8a2dfed34472b6373403947c3fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Sugesh", "link": "https://stackoverflow.com/users/3572129/sugesh"}, "edited": false, "score": 0, "creation_date": 1526241764, "post_id": 50314274, "comment_id": 87656052, "body": "Thank you. I&#39;ve had moduleResolution set to node as well. Still doesn&#39;t work without the skipLibCheck. Getting errors in typescript even when I run node_modules/.bin/tsc. Updated the output accordingly."}, {"owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "edited": false, "score": 0, "creation_date": 1526243354, "post_id": 50314274, "comment_id": 87656469, "body": "I&#39;ve noticed the &quot;react-native&quot; seems to be redeclaring the base es6 types (I&#39;ve never used react-native). If react-native is supposed to declare the es6 typings instead of the TS default ones, then you can declare &quot;lib:[]&quot; or &quot;noLib&quot; on tsconfig so the default typings are not loaded."}, {"owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "edited": false, "score": 0, "creation_date": 1526243564, "post_id": 50314274, "comment_id": 87656527, "body": "The <code>@types&#47;redux-thunk</code> may be breaking thinks and you might try remove it. It was never much useful anyway, it just declares a <code>Dispatch&lt;any&gt;</code> erasing all your reducer info (state and action type)... I&#39;ve been manually patching the dispatchers lately (thats a hack) <a href=\"https://github.com/wkrueger/redutser/blob/master/type-helpers.d.ts\" rel=\"nofollow noreferrer\">github.com/wkrueger/redutser/blob/master/type-helpers.d.ts</a>"}, {"owner": {"reputation": 236, "user_id": 3572129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ea8a2dfed34472b6373403947c3fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Sugesh", "link": "https://stackoverflow.com/users/3572129/sugesh"}, "edited": false, "score": 0, "creation_date": 1526267502, "post_id": 50314274, "comment_id": 87660946, "body": "I understand the redux thunk part. But what&#39;s with the typescript errors?"}, {"owner": {"reputation": 7829, "user_id": 194065, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nhpri.png?s=128&g=1", "display_name": "Sean Adkinson", "link": "https://stackoverflow.com/users/194065/sean-adkinson"}, "edited": false, "score": 1, "creation_date": 1526315331, "post_id": 50314274, "comment_id": 87686156, "body": "@wkrueger Can you update your answer with the option you mention in your comment?  For me, specifying <code>&quot;lib&quot;: [&quot;ES6&quot;]</code> fixed it.  Thanks!"}], "tags": [], "owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "is_accepted": false, "score": 5, "last_activity_date": 1526753749, "last_edit_date": 1526753749, "creation_date": 1526200604, "answer_id": 50314274, "question_id": 50126200, "link": "https://stackoverflow.com/questions/50126200/react-native-with-typescript-2-8-cannot-redeclare-block-scoped-variable-conso/50314274#50314274", "title": "React Native with Typescript 2.8 - Cannot redeclare block-scoped variable &#39;console&#39;", "body": "<p>I can't really tell you what went through now and then which broke the typings, I can mostly give hints...</p>\n\n<ul>\n<li>When you call <code>tsc</code> from the terminal, it will use the global version of typescript, including its core typings, this is from where you are getting the \".nvm\" errors. It is recommended that you use a local version (<code>node_modules/.bin/tsc</code>).</li>\n<li>I suggest you try adding \"moduleResolution: node\". I don't know why, just try it, maybe it fixes something.</li>\n<li>I'm not sure <code>redux-thunk</code> typings properly work with the new <code>redux@4.x</code>. Might be the source of your errors.</li>\n</ul>\n\n<p>I usually just leave \"skibLibCheck\" on, we never know when libs were written with older versions of TS in mind, or even without the \"strict\" flag in mind.</p>\n\n<p>EDIT FROM COMMENTS</p>\n\n<ul>\n<li>Seems react-native adds his own version of the base javascript typings, so you can disable the ones probided by TS through the <code>lib</code> flag, so they don't conflict.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 226, "user_id": 2694620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd83a67c4e437d97489c1854e4af89e?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Haven", "link": "https://stackoverflow.com/users/2694620/grey-haven"}, "is_accepted": false, "score": 1, "last_activity_date": 1526578162, "creation_date": 1526578162, "answer_id": 50397325, "question_id": 50126200, "link": "https://stackoverflow.com/questions/50126200/react-native-with-typescript-2-8-cannot-redeclare-block-scoped-variable-conso/50397325#50397325", "title": "React Native with Typescript 2.8 - Cannot redeclare block-scoped variable &#39;console&#39;", "body": "<p>I ran into the \"must be of type 'Geolocation'\" one. Still trying to figure out how exactly to fix it, but in @types/react-native, Geolocation is defined as an alias of GeolocationStatic, but Geolocation is also a typescript type, and it needs to be the typescript type, not the @types/react-native type. It looks like the only place within @types/react-native/index.d.ts the Geolocation alias is used is</p>\n\n<pre><code>interface Navigator {\n    readonly product: string;\n    readonly geolocation: Geolocation;\n}\n</code></pre>\n\n<p>Geolocation is assigned</p>\n\n<pre><code>export var Geolocation: GeolocationStatic;\nexport type Geolocation = GeolocationStatic;\n</code></pre>\n\n<p>Commenting these guys out after running <code>npm install</code> makes it work. I put it in an npm postinstall powershell script.</p>\n\n<p>Yes, yes, it's hacky, and I'm positive there's a smooth, good solution to this. But if you just want it working and don't depend on these elsewhere, it could work. Another potential solution would be just to rename them. </p>\n\n<p>Did some more snooping, looks like this is the official recommendation for the moment. Gotta love hacky fixes!\n<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/24573\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/issues/24573</a></p>\n"}, {"tags": [], "owner": {"reputation": 10300, "user_id": 428486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ca8698e59a2414899f97b850084f45?s=128&d=identicon&r=PG", "display_name": "lucascaro", "link": "https://stackoverflow.com/users/428486/lucascaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1542076340, "last_edit_date": 1592644375, "creation_date": 1542076340, "answer_id": 53272932, "question_id": 50126200, "link": "https://stackoverflow.com/questions/50126200/react-native-with-typescript-2-8-cannot-redeclare-block-scoped-variable-conso/53272932#53272932", "title": "React Native with Typescript 2.8 - Cannot redeclare block-scoped variable &#39;console&#39;", "body": "<p>In case someone else stumbles upon this question when using <code>react-native</code> and <code>react-native-typescript-transformer</code>:</p>\n<p>You can get this same issue when using <code>react-native-typescript-transformer</code> and <code>noEmit</code>, since global type declaration of <code>react-native/index.d.ts</code> are in conflict with <code>typescript/lib/lib.es6.d.ts</code></p>\n<p>From the <a href=\"https://github.com/emin93/react-native-template-typescript/issues/17\" rel=\"nofollow noreferrer\">issue on github</a>:</p>\n<blockquote>\n<p>... defining the ES6 base typings with the lib option seems to be enough to fix this issue...</p>\n<p>...the noEmit option which is required by the react-native-typescript-transformer that causes this behaviour.</p>\n</blockquote>\n<h3>Solution</h3>\n<p>Specify in tsconfig.json valid library files to be included in the compilation. React Native is built on top of ES6 so that would be enough: <code>&quot;lib&quot;: [ &quot;es6&quot; ]</code> in your <code>package.json</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 0, "creation_date": 1560449090, "post_id": 56585932, "comment_id": 99750378, "body": "Welcome to the Stackoverflow. Please explain in detail why adding that line is helping to solve the problem, or adding the current one as a comment(which you cannot right now, cause of your score). So, please follow my first suggestion."}], "tags": [], "owner": {"reputation": 1, "user_id": 8649924, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9JQlRRsDHAs/AAAAAAAAAAI/AAAAAAAADfs/6O6EJs-kfoc/photo.jpg?sz=128", "display_name": "Mahboob Khalid", "link": "https://stackoverflow.com/users/8649924/mahboob-khalid"}, "is_accepted": false, "score": -1, "last_activity_date": 1560447701, "creation_date": 1560447701, "answer_id": 56585932, "question_id": 50126200, "link": "https://stackoverflow.com/questions/50126200/react-native-with-typescript-2-8-cannot-redeclare-block-scoped-variable-conso/56585932#56585932", "title": "React Native with Typescript 2.8 - Cannot redeclare block-scoped variable &#39;console&#39;", "body": "<p>I ran into same issue when using react-native along with typescript with nvm.</p>\n\n<p>But finally resolved this by adding the \"lib\": [\"ES6\"] to my tsconfig.json file.</p>\n"}], "owner": {"reputation": 236, "user_id": 3572129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ea8a2dfed34472b6373403947c3fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Sugesh", "link": "https://stackoverflow.com/users/3572129/sugesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4213, "favorite_count": 0, "answer_count": 4, "score": 11, "last_activity_date": 1560447701, "creation_date": 1525226665, "last_edit_date": 1526241627, "question_id": 50126200, "link": "https://stackoverflow.com/questions/50126200/react-native-with-typescript-2-8-cannot-redeclare-block-scoped-variable-conso", "title": "React Native with Typescript 2.8 - Cannot redeclare block-scoped variable &#39;console&#39;", "body": "<p>Created a react-native starter project with Typescript which could run 2 weeks ago. Now when I try to run the project it gives error during the typescript compilation. </p>\n\n<p>Using <code>skipLibraryCheck: true</code> in tsconfig.json fixes the error. \nBut why is it throwing errors from ~/.nvm and ./node_modules directories? </p>\n\n<p>Error (Updated for node_modules/.bin/tsc):</p>\n\n<pre><code>&gt;  node_modules/.bin/tsc\nnode_modules/@types/react-native/index.d.ts(8742,11): error TS2451: Cannot redeclare block-scoped variable 'console'.\nnode_modules/@types/react-native/index.d.ts(8750,18): error TS2717: Subsequent property declarations must have the same type.  Property 'geolocation' must be of type 'Geolocation', but here has type 'GeolocationStatic'.\nnode_modules/@types/react-native/index.d.ts(8753,11): error TS2451: Cannot redeclare block-scoped variable 'navigator'.\nnode_modules/redux-thunk/index.d.ts(4,47): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux-thunk/index.d.ts(8,20): error TS2428: All declarations of 'Dispatch' must have identical type parameters.\nnode_modules/redux/index.d.ts(115,18): error TS2428: All declarations of 'Dispatch' must have identical type parameters.\nnode_modules/redux/index.d.ts(161,13): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(283,42): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(283,53): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(302,66): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(302,77): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(303,38): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(384,95): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(389,33): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(391,106): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/redux/index.d.ts(396,34): error TS2314: Generic type 'Dispatch&lt;A, S&gt;' requires 2 type argument(s).\nnode_modules/typescript/lib/lib.es6.d.ts(21612,13): error TS2451: Cannot redeclare block-scoped variable 'navigator'.\nnode_modules/typescript/lib/lib.es6.d.ts(21788,13): error TS2451: Cannot redeclare block-scoped variable 'console'.\n</code></pre>\n\n<p>Project details: </p>\n\n<pre><code>\u276f react-native info\n  Environment:\n  OS: macOS High Sierra 10.13.4\n  Node: 9.11.1\n  Yarn: 1.6.0\n  npm: 6.0.0\n  Watchman: 4.9.0\n  Xcode: Xcode 9.2 Build version 9C40b\n  Android Studio: 2.3 AI-162.3934792\n\nPackages: (wanted =&gt; installed)\n  react: 16.3.1 =&gt; 16.3.1\n  react-native: 0.55.3 =&gt; 0.55.3\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"hello-world-rn\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"scripts\": {\n    \"build\": \"npm run clean &amp;&amp; npm run tsc --\",\n    \"clean\": \"rimraf lib\",\n    \"lint\": \"tslint src/**/*.ts\",\n    \"start\": \"node node_modules/react-native/local-cli/cli.js start\"\n  },\n  \"dependencies\": {\n    \"native-base\": \"2.4.3\",\n    \"react-native\": \"0.55.3\",\n    \"react-redux\": \"5.0.7\",\n    \"redux\": \"4.0.0\",\n    \"redux-thunk\": \"2.2.0\"\n  },\n  \"devDependencies\": {\n    \"@types/jest\": \"22.2.3\",\n    \"@types/react\": \"16.3.13\",\n    \"@types/react-native\": \"0.55.8\",\n    \"@types/react-redux\": \"5.0.19\",\n    \"@types/react-test-renderer\": \"16.0.1\",\n    \"babel-core\": \"6.26.3\",\n    \"babel-jest\": \"22.4.3\",\n    \"babel-preset-react-native\": \"4.0.0\",\n    \"concurrently\": \"3.5.1\",\n    \"eslint\": \"4.19.1\",\n    \"jest\": \"22.4.3\",\n    \"react\": \"16.3.1\",\n    \"react-test-renderer\": \"^16.3.0-alpha.1\",\n    \"rimraf\": \"2.6.2\",\n    \"tslint\": \"5.9.1\",\n    \"tslint-config-prettier\": \"1.12.0\",\n    \"tslint-eslint-rules\": \"5.1.0\",\n    \"tslint-react\": \"3.5.1\",\n    \"typescript\": \"2.8.3\"\n  },\n  \"jest\": {\n    \"preset\": \"react-native\",\n    \"testRegex\": \"lib/.+\\\\.(test|spec).js$\",\n    \"coverageDirectory\": \"coverage\",\n    \"coverageReporters\": [\n      \"text-summary\",\n      \"html\"\n    ]\n  },\n  \"collectCoverageFrom\": [\n    \"lib/**/*.js\",\n    \"!lib/**/*.spec.js\",\n    \"!lib/**/*.index.js\"\n  ]\n}\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"jsx\": \"react-native\",\n    \"sourceMap\": true,\n    \"outDir\": \"./lib\",\n    \"strict\": true,\n    \"types\": [\"react\", \"react-native\", \"jest\"],\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": false\n  },\n  \"compileOnSave\": false,\n  \"exclude\": [\"./android/*\", \"./ios/*\", \"./lib/*\", \"./node_modules/*\"],\n  \"filesGlob\": [\"typings/index.d.ts\", \"src/**/*.ts\", \"src/**/*.tsx\"],\n  \"types\": [\"react\", \"react-native\", \"jest\"]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "svg", "leaflet"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1525275429, "post_id": 50126056, "comment_id": 87295187, "body": "What&#39;s lc defined as?"}, {"owner": {"reputation": 149, "user_id": 4616691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dIEtF.png?s=128&g=1", "display_name": "Keith James", "link": "https://stackoverflow.com/users/4616691/keith-james"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1525366411, "post_id": 50126056, "comment_id": 87338280, "body": "@rrd That\u2019s what I import the module as. Import * as lc from leaflet-curve"}], "owner": {"reputation": 149, "user_id": 4616691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dIEtF.png?s=128&g=1", "display_name": "Keith James", "link": "https://stackoverflow.com/users/4616691/keith-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525275377, "creation_date": 1525225111, "last_edit_date": 1525275377, "question_id": 50126056, "link": "https://stackoverflow.com/questions/50126056/typescript-module-import-issue", "title": "Typescript module import issue", "body": "<p>I'm using angular 5 with @types/leaflet.  I want to draw curves as well so I'm attempting to use @types/leaflet-curve.   The issue I'm having is the curve function is not being imported for some reason.  The error I'm getting is </p>\n\n<blockquote>\n  <p>\"Property 'curve' does not exist on type 'typeof\n  \".../node_modules/@types/leaflet-curve/index\"'</p>\n</blockquote>\n\n<p>I have the import in the map.ts file as import * as lc from 'leaflet-curve'.  I've tried different types of imports but nothing seems to work and I'm unsure if it's my typescript version (2.5.x) or something else I haven't done.  </p>\n\n<p>The index.d.ts file for leaflet-curve is as follows;</p>\n\n<pre><code>import * as L from 'leaflet';\n\ndeclare module 'leaflet' {\n    /**\n     * Drawing Bezier curves and other complex shapes.\n     */\n    function curve(path: any[], options?: PathOptions): Path;\n}\n</code></pre>\n\n<p>I'm attempting to use the function as such:</p>\n\n<pre><code>var curves = lc.curve([[s.lat, s.long],[d.lat, d.long]], {})\n</code></pre>\n"}, {"tags": ["typescript", "discriminated-union"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1525223874, "post_id": 50125893, "comment_id": 87269786, "body": "Possibly relevant: <a href=\"https://stackoverflow.com/questions/48750647/get-type-of-union-by-discriminant\">Get Type of Union By Discriminant</a>"}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 0, "creation_date": 1557000658, "post_id": 50125960, "comment_id": 98621808, "body": "A follow up to this: I&#39;ve tried writing the same sort of <code>DiscriminateUnion</code> without using a generic union type -- that is, for a specific union type. It doesn&#39;t work, however, without specifying some <code>T extends MyUnionType</code>. Any idea why?  A minimal example:  ``` ```"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557013991, "post_id": 50125960, "comment_id": 98624225, "body": "That example is so minimal there&#39;s nothing in it.  Probably the answer to your question is that the technique uses a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#distributive-conditional-types\" rel=\"nofollow noreferrer\">distributive conditional type</a> which only works if you are checking a bare generic type parameter.  Of course you can use the generic version and make a new type alias which plugs in your specific type.  If you need more help maybe you should ask a new question; comments on a year-old answer are not the best place to post code and get eyes on your issue.  Good luck!"}, {"owner": {"reputation": 11249, "user_id": 3645851, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qqqnt.jpg?s=128&g=1", "display_name": "jbmilgrom", "link": "https://stackoverflow.com/users/3645851/jbmilgrom"}, "edited": false, "score": 0, "creation_date": 1607032860, "post_id": 50125960, "comment_id": 115153177, "body": "This answer is amazing. Thank you"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 21, "last_activity_date": 1525224401, "creation_date": 1525224401, "answer_id": 50125960, "question_id": 50125893, "link": "https://stackoverflow.com/questions/50125893/typescript-derive-map-from-discriminated-union/50125960#50125960", "title": "TypeScript: derive map from discriminated union", "body": "<p>With the introduction of <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"noreferrer\">conditional types</a> in TypeScript 2.8, you can define a type function which, given a discriminated union and the key and value of the discriminant, produces the single relevant constituent of the union:</p>\n\n<pre><code>type DiscriminateUnion&lt;T, K extends keyof T, V extends T[K]&gt; = \n  T extends Record&lt;K, V&gt; ? T : never\n</code></pre>\n\n<p>And if you wanted to use that to build up a map, you can do that too:</p>\n\n<pre><code>type MapDiscriminatedUnion&lt;T extends Record&lt;K, string&gt;, K extends keyof T&gt; =\n  { [V in T[K]]: DiscriminateUnion&lt;T, K, V&gt; };\n</code></pre>\n\n<p>So in your case,</p>\n\n<pre><code>type WhatIWant = MapDiscriminatedUnion&lt;Action, 'type'&gt;;\n</code></pre>\n\n<p>which, if you inspect it, is:</p>\n\n<pre><code>type WhatIWant = {\n  fetch: {\n    type: \"fetch\";\n    dataType: string;\n  };\n  fetched: {\n    type: \"fetched\";\n    value: Product;\n  };\n}\n</code></pre>\n\n<p>as desired, I think.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 9562, "user_id": 20489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8daed6e147b68f7d82fde4963d30bbdb?s=128&d=identicon&r=PG", "display_name": "bingles", "link": "https://stackoverflow.com/users/20489/bingles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1815, "favorite_count": 4, "accepted_answer_id": 50125960, "answer_count": 1, "score": 10, "last_activity_date": 1525224401, "creation_date": 1525223687, "last_edit_date": 1525224113, "question_id": 50125893, "link": "https://stackoverflow.com/questions/50125893/typescript-derive-map-from-discriminated-union", "title": "TypeScript: derive map from discriminated union", "body": "<p>I have a discriminated union type that differentiates types based on a string literal field. I would like to derive a mapped type that maps all of the types in the union to their corresponding discriminator literal values.</p>\n\n<p>e.g.</p>\n\n<pre><code>export type Fetch = {\n    type: 'fetch',\n    dataType: string\n};\n\nexport type Fetched&lt;T&gt; = {\n    type: 'fetched',\n    value: T\n};\n\n// union type discriminated on 'type' property\nexport type Action =\n    | Fetch\n    | Fetched&lt;Product&gt;;\n\n// This produces a type 'fetch' | 'fetched'\n// from the type \ntype Actions = Action['type'];\n\n// I want to produce a map type of the discriminator values to the types \n// comprising the union type but in an automated fashion similar to how I\n// derived my Actions type.\n// e.g.\ntype WhatIWant = {\n    fetch: Fetch,\n    fetched: Fetched&lt;Product&gt;\n}\n</code></pre>\n\n<p>Is this possible in TypeScript?</p>\n"}, {"tags": ["typescript", "react-native"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1525224728, "post_id": 50125879, "comment_id": 87269970, "body": "When you pass the method as a callback, <code>this</code> will no longer reference the class instance. You may want to <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback/23975783\">take a look at this question</a>."}, {"owner": {"reputation": 7235, "user_id": 1886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/gg7Oe.png?s=128&g=1", "display_name": "xanadont", "link": "https://stackoverflow.com/users/1886/xanadont"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1525235271, "post_id": 50125879, "comment_id": 87272098, "body": "Oh, gosh, I knew this! Answered below. Thanks, my head hasn&#39;t been in React Native in quite a long time."}], "answers": [{"tags": [], "owner": {"reputation": 7235, "user_id": 1886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/gg7Oe.png?s=128&g=1", "display_name": "xanadont", "link": "https://stackoverflow.com/users/1886/xanadont"}, "is_accepted": true, "score": -1, "last_activity_date": 1525235388, "creation_date": 1525235388, "answer_id": 50127184, "question_id": 50125879, "link": "https://stackoverflow.com/questions/50125879/react-native-typescript-async/50127184#50127184", "title": "React Native + TypeScript + async", "body": "<p>As <a href=\"https://stackoverflow.com/users/6293409/crice\">CRice</a> noted, this is due simply to not having access to <code>this</code> in an anonymous callback. It can be solved by:</p>\n\n<pre><code>onPress={() =&gt; this.buttonPressed(this)}\n</code></pre>\n"}], "owner": {"reputation": 7235, "user_id": 1886, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/gg7Oe.png?s=128&g=1", "display_name": "xanadont", "link": "https://stackoverflow.com/users/1886/xanadont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 50127184, "answer_count": 1, "score": 0, "last_activity_date": 1525235388, "creation_date": 1525223544, "question_id": 50125879, "link": "https://stackoverflow.com/questions/50125879/react-native-typescript-async", "title": "React Native + TypeScript + async", "body": "<p>I can't get this combo to work. I think it's specifically due to having TypeScript in the mix? My syntax is as seen <a href=\"https://github.com/facebook/react-native/issues/6901#issuecomment-208370580\" rel=\"nofollow noreferrer\">here</a> but I get runtime issues. There are no compile errors but, when the func is encountered, I get:</p>\n\n<blockquote>\n  <p>this.foo is not a function</p>\n</blockquote>\n\n<pre><code>export default class App extends Component&lt;Props&gt; {\n    render() {\n        return (\n            &lt;Button title=\"A Button\" onPress={this.buttonPressed} /&gt;\n        );\n    }\n\n    buttonPressed() {\n        this.foo().then(movies =&gt; {\n            console.log(movies);\n        });\n    }\n\n    async foo() { \n        try {\n            let response = await fetch('https://facebook.github.io/react-native/movies.json');\n            let responseJson = await response.json();\n            return responseJson.movies;\n        } catch (error) {\n            console.error(error);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "sorting", "ionic-framework", "arrayobject"], "answers": [{"tags": [], "owner": {"reputation": 2473, "user_id": 1266600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfafa56b118dd2bd1ffb1bfcb2d4a27a?s=128&d=identicon&r=PG", "display_name": "sushain97", "link": "https://stackoverflow.com/users/1266600/sushain97"}, "is_accepted": true, "score": 1, "last_activity_date": 1525221489, "creation_date": 1525221489, "answer_id": 50125656, "question_id": 50125623, "link": "https://stackoverflow.com/questions/50125623/sort-array-typescript-ionic-in-diferent-variable/50125656#50125656", "title": "Sort array typescript ionic in diferent variable", "body": "<p>JavaScript's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\"><code>Array.prototype.sort</code></a> sorts in-place. That is to say, it modifies the array it's operating on. Your first call to <code>this.jsonDataGas.sort</code> sorts <code>this.jsonDataGas</code> in a particular way and then your second call sorts it in another way.</p>\n\n<p>Since you want two independently sorted arrays, you need to <a href=\"https://stackoverflow.com/questions/7486085/copying-array-by-value-in-javascript\">copy</a> them first. Try, <code>this.jsonDataGas.slice().sort(...)</code>, where the <code>slice</code> gives you a shallow clone of your array. Note that since the clone is shallow, it doesn't copy the underlying objects. So, if you do <code>this.sortJsonDataPrice[0].timetext = 'bla'</code>, that will also modify some element in <code>this.sortJsonDataDistance</code> (and <code>this.jsonDataGas</code>).</p>\n"}], "owner": {"reputation": 3, "user_id": 7833167, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207649176090621/picture?type=large", "display_name": "Jhonatan Rodriguez", "link": "https://stackoverflow.com/users/7833167/jhonatan-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "accepted_answer_id": 50125656, "answer_count": 1, "score": 0, "last_activity_date": 1525221489, "creation_date": 1525221152, "question_id": 50125623, "link": "https://stackoverflow.com/questions/50125623/sort-array-typescript-ionic-in-diferent-variable", "title": "Sort array typescript ionic in diferent variable", "body": "<p>I'm working with the Ionic framework and I have an array of objects as follows:</p>\n\n<pre><code>[{\n    \"label_gas\": \"calle 79\",\n    \"latitud_gas\": \"4.6653863\",\n    \"longitud_gas\": \"-74.057738\",\n    \"direccion_gas\": \"carrera 15 79 - 05\",\n    \"telefono_gas\": \"0\",\n    \"info_gas\": \"lunes a viernes de 9am a 4 pm\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.887783486866033\",\n    \"price\": 8900,\n    \"timeorigin\": 856,\n    \"distanceorigin\": 4012,\n    \"timetext\": \"14 min\",\n    \"disttext\": \"4,0 km\"\n}, {\n    \"label_gas\": \"carulla pepe sierra\",\n    \"latitud_gas\": \"4.6631135\",\n    \"longitud_gas\": \"-74.058953\",\n    \"direccion_gas\": \"carrera 15 114 - 32 piso 2\",\n    \"telefono_gas\": \"0\",\n    \"info_gas\": \"lunes a viernes de 9am a 4 pm\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.914579482181539\",\n    \"price\": 8900,\n    \"timeorigin\": 807,\n    \"distanceorigin\": 3726,\n    \"timetext\": \"13 min\",\n    \"disttext\": \"3,7 km\"\n}, {\n    \"label_gas\": \"metropolis\",\n    \"latitud_gas\": \"4.6808656\",\n    \"longitud_gas\": \"-74.082527\",\n    \"direccion_gas\": \"carrera 68 75a - 50 local 201\",\n    \"telefono_gas\": \"2259757\",\n    \"info_gas\": \"lunes a viernes de 9 am a 7 pm sabados de 10 am a 4 pm\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"0.3627612769464051\",\n    \"price\": 8900,\n    \"timeorigin\": 201,\n    \"distanceorigin\": 722,\n    \"timetext\": \"3 min\",\n    \"disttext\": \"0,7 km\"\n}, {\n    \"label_gas\": \"polo club  bogota\",\n    \"latitud_gas\": \"4.66976027\",\n    \"longitud_gas\": \"-74.063396\",\n    \"direccion_gas\": \"CARRERA 24 N\\u00b0 80 - 56\",\n    \"telefono_gas\": \"7454692\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.102835544304587\",\n    \"price\": 8900,\n    \"timeorigin\": 657,\n    \"distanceorigin\": 4430,\n    \"timetext\": \"11 min\",\n    \"disttext\": \"4,4 km\"\n}, {\n    \"label_gas\": \"las ferias  bogota\",\n    \"latitud_gas\": \"4.68368472\",\n    \"longitud_gas\": \"-74.091205\",\n    \"direccion_gas\": \"AVENIDA CALLE 72 N\\u00b0 69P - 15\",\n    \"telefono_gas\": \"3114088\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"1.347357157524655\",\n    \"price\": 8900,\n    \"timeorigin\": 421,\n    \"distanceorigin\": 1927,\n    \"timetext\": \"7 min\",\n    \"disttext\": \"1,9 km\"\n}, {\n    \"label_gas\": \"toberin  bogota\",\n    \"latitud_gas\": \"4.66705583\",\n    \"longitud_gas\": \"-74.060799\",\n    \"direccion_gas\": \"AUTOPISTA NORTE #163 A 68\",\n    \"telefono_gas\": \"7426684\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.5013177470053187\",\n    \"price\": 8900,\n    \"timeorigin\": 723,\n    \"distanceorigin\": 5189,\n    \"timetext\": \"12 min\",\n    \"disttext\": \"5,2 km\"\n}, {\n    \"label_gas\": \"los alcazares  bogota\",\n    \"latitud_gas\": \"4.66233277\",\n    \"longitud_gas\": \"-74.066034\",\n    \"direccion_gas\": \"CALLE 72 N\\u00b0 22 - 42\",\n    \"telefono_gas\": \"7424219\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.3931383808296447\",\n    \"price\": 8900,\n    \"timeorigin\": 652,\n    \"distanceorigin\": 3133,\n    \"timetext\": \"11 min\",\n    \"disttext\": \"3,1 km\"\n}, {\n    \"label_gas\": \"morato  bogota\",\n    \"latitud_gas\": \"4.69900472\",\n    \"longitud_gas\": \"-74.069650\",\n    \"direccion_gas\": \"AVENIDA SUBA N\\u00b0 115 - 79\",\n    \"telefono_gas\": \"7431438\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.5503614606469958\",\n    \"price\": 8900,\n    \"timeorigin\": 654,\n    \"distanceorigin\": 3494,\n    \"timetext\": \"11 min\",\n    \"disttext\": \"3,5 km\"\n}, {\n    \"label_gas\": \"autopista 98  bogota\",\n    \"latitud_gas\": \"4.68513361\",\n    \"longitud_gas\": \"-74.056775\",\n    \"direccion_gas\": \"CALLE 97 N\\u00b0 23 - 60\",\n    \"telefono_gas\": \"6182360\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.6922032453221525\",\n    \"price\": 8900,\n    \"timeorigin\": 665,\n    \"distanceorigin\": 5019,\n    \"timetext\": \"11 min\",\n    \"disttext\": \"5,0 km\"\n}, {\n    \"label_gas\": \"titan plaza  bogota\",\n    \"latitud_gas\": \"4.69587583\",\n    \"longitud_gas\": \"-74.087193\",\n    \"direccion_gas\": \"CARRERA 72 N\\u00b0 80-94 LOCAL 1- 1\",\n    \"telefono_gas\": \"7451222\",\n    \"info_gas\": \"l - v de 9 am a 3  pm = 26\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.0723238665716806\",\n    \"price\": 8900,\n    \"timeorigin\": 731,\n    \"distanceorigin\": 3867,\n    \"timetext\": \"12 min\",\n    \"disttext\": \"3,9 km\"\n}, {\n    \"label_gas\": \"centro de pagos occidente  bogota\",\n    \"latitud_gas\": \"4.68720861\",\n    \"longitud_gas\": \"-74.081851\",\n    \"direccion_gas\": \"AVENIDA CALLE 80 N\\u00b0 69 - 40\",\n    \"telefono_gas\": \"4395276\",\n    \"info_gas\": \"l - v de 9 am a 7 pm = 10\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"0.9747749482713376\",\n    \"price\": 8900,\n    \"timeorigin\": 651,\n    \"distanceorigin\": 2849,\n    \"timetext\": \"11 min\",\n    \"disttext\": \"2,8 km\"\n}, {\n    \"label_gas\": \"santa helenita  bogota\",\n    \"latitud_gas\": \"4.65963638\",\n    \"longitud_gas\": \"-74.062313\",\n    \"direccion_gas\": \"Avenida calle 72 # 81A - 20\\/26\",\n    \"telefono_gas\": \"7431832\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.8920438525050627\",\n    \"price\": 8900,\n    \"timeorigin\": 647,\n    \"distanceorigin\": 3138,\n    \"timetext\": \"11 min\",\n    \"disttext\": \"3,1 km\"\n}, {\n    \"label_gas\": \"la castellana  bogota\",\n    \"latitud_gas\": \"4.68335361\",\n    \"longitud_gas\": \"-74.062572\",\n    \"direccion_gas\": \"Carrera 49B NO.94-52\",\n    \"telefono_gas\": \"743\",\n    \"info_gas\": \"l - v de 9 am a 5 pm = 17\",\n    \"vlr_dtg\": \"8.900\",\n    \"desc_param\": \"Gasolina\",\n    \"distance\": \"2.020259659681773\",\n    \"price\": 8900,\n    \"timeorigin\": 703,\n    \"distanceorigin\": 4517,\n    \"timetext\": \"12 min\",\n    \"disttext\": \"4,5 km\"\n}, {\n    \"label_gas\": \"calle 79\",\n    \"latitud_gas\": \"4.6653863\",\n    \"longitud_gas\": \"-74.057738\",\n    \"direccion_gas\": \"carrera 15 79 - 05\",\n    \"telefono_gas\": \"0\",\n    \"info_gas\": \"lunes a viernes de 9am a 4 pm\",\n    \"vlr_dtg\": \"9.000\",\n    \"desc_param\": \"ACPM\",\n    \"distance\": \"2.887783486866033\",\n    \"price\": 9000,\n    \"timeorigin\": 856,\n    \"distanceorigin\": 4012,\n    \"timetext\": \"14 min\",\n    \"disttext\": \"4,0 km\"\n}]\n</code></pre>\n\n<p>I have the variables declared as follows:</p>\n\n<pre><code>jsonDataGas: any;\nsortJsonDataPrice: any;\nsortJsonDataDistance: any;\n</code></pre>\n\n<p>And in the constructor I need to fill each variable (sortJsonDataPrice, sortJsonDataDistance) ordering the main array that is in the variable jsonDataGas</p>\n\n<pre><code>constructor(public navCtrl: NavController, public navParams: NavParams, private superTabsCtrl: SuperTabsController) {\n    this.jsonDataGas = navParams.get('jsonDataGas');\n    console.log(this.jsonDataGas);\n    this.sortJsonDataPrice = this.jsonDataGas.sort((a,b) =&gt; {\n      let nameA=a.label_gas.toLowerCase(), nameB=b.label_gas.toLowerCase()\n      return a.price-b.price || nameA &lt; nameB;\n    });\n    console.log(this.sortJsonDataPrice);\n    this.sortJsonDataDistance = this.jsonDataGas.sort((a,b) =&gt; {\n      return a.distanceorigin-b.distanceorigin;\n    });\n    console.log(this.sortJsonDataDistance);\n    console.log(this.jsonDataGas);\n  }\n</code></pre>\n\n<p>What happens is that when printing the variables, they all remain of the same order and the main variable jsonDataGas is modified.</p>\n\n<p>I have not worked with this framework and would appreciate any help.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1525219850, "post_id": 50125466, "comment_id": 87268971, "body": "And an adapter function <code>inavigate_to_coord</code> that handles the conversion  would be appropriate. I don&#39;t see that as &quot;extensive&quot;."}, {"owner": {"reputation": 481, "user_id": 7556011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84fbb1e08caf743d4904f0ec1fad21b7?s=128&d=identicon&r=PG&f=1", "display_name": "Drei", "link": "https://stackoverflow.com/users/7556011/drei"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1525220667, "post_id": 50125466, "comment_id": 87269138, "body": "Thanks, that what I wanted to know. Could you possibly provide an example? @Carcigenicate"}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 2, "last_activity_date": 1525222621, "creation_date": 1525222621, "answer_id": 50125775, "question_id": 50125466, "link": "https://stackoverflow.com/questions/50125466/safest-way-to-convert-interface/50125775#50125775", "title": "Safest way to convert interface", "body": "<p>It is:</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition((pos: Position) =&gt; {\n    const { longitude, latitude, ...props } = pos.coords;\n    this.navigation = { lng: longitude, lat: latitude, ...props };\n}\n</code></pre>\n\n<p>It's preferable to pick data structure that is closer to input data (API responses, etc), as long as this doesn't cause any other problems. This could be justified in the opposite case, because <code>lng</code> and <code>lat</code> are less readable. In this case I would personally go with <code>longitude</code> and <code>latitude</code> because this allows to skip additional transforms.</p>\n"}], "owner": {"reputation": 481, "user_id": 7556011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84fbb1e08caf743d4904f0ec1fad21b7?s=128&d=identicon&r=PG&f=1", "display_name": "Drei", "link": "https://stackoverflow.com/users/7556011/drei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 50125775, "answer_count": 1, "score": 1, "last_activity_date": 1525222621, "creation_date": 1525219704, "last_edit_date": 1525219808, "question_id": 50125466, "link": "https://stackoverflow.com/questions/50125466/safest-way-to-convert-interface", "title": "Safest way to convert interface", "body": "<p>I have:</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition((pos: Position) =&gt; {\n    this.navigation = pos.coords;\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>interface INavigation {\n    lat: number;\n    lng: number;\n    &lt;additional parameters&gt;\n}\n</code></pre>\n\n<p>But <code>position.coords</code> looks like this:</p>\n\n<pre><code>{\n    latitude: number;\n    longitude: number;\n    &lt;additional parameters&gt;\n}\n</code></pre>\n\n<p>While its not codebreaking, I haven't seen much detail about how to handle this. I personally like the <code>lat</code> and <code>lng</code> shorthands, but I would obviously be willing to ditch them if it requires something extensive like an entire extra function.</p>\n\n<p>So, what is the best way to take care of this? Should I abandon it and just go with the full name or is there something I'm missing?</p>\n"}, {"tags": ["javascript", "typescript", "intellij-idea"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1525217310, "post_id": 50125141, "comment_id": 87268421, "body": "There&#39;s <a href=\"https://www.npmjs.com/package/madge\" rel=\"nofollow noreferrer\">madge</a>, don&#39;t know if that&#39;s the sort of thing you&#39;re looking for though"}], "answers": [{"tags": [], "owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1525250787, "creation_date": 1525250787, "answer_id": 50130554, "question_id": 50125141, "link": "https://stackoverflow.com/questions/50125141/intellij-analyze-data-flow-in-javascript-typescript-code/50130554#50130554", "title": "Intellij Analyze data flow in Javascript/Typescript code", "body": "<p>There is no such feature for JS/TS yet. You can follow this request: <a href=\"https://youtrack.jetbrains.com/issue/WEB-28992\" rel=\"nofollow noreferrer\">WEB-28992</a>.</p>\n"}], "owner": {"reputation": 2053, "user_id": 2815144, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/ZgHKI.jpg?s=128&g=1", "display_name": "Patrik Mihal\u010din", "link": "https://stackoverflow.com/users/2815144/patrik-mihal%c4%8din"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525250787, "creation_date": 1525216991, "question_id": 50125141, "link": "https://stackoverflow.com/questions/50125141/intellij-analyze-data-flow-in-javascript-typescript-code", "title": "Intellij Analyze data flow in Javascript/Typescript code", "body": "<p>Currently, there is a feature in Intellij for Java code where I can analyze data flow for given methods.</p>\n\n<p>Is there anything similar for Javascript/Typescript code?</p>\n"}, {"tags": ["typescript", "webpack", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "is_accepted": false, "score": 0, "last_activity_date": 1525218460, "last_edit_date": 1525218460, "creation_date": 1525218020, "answer_id": 50125271, "question_id": 50125097, "link": "https://stackoverflow.com/questions/50125097/problemmatcher-for-typescript-in-webpack-watch-mode/50125271#50125271", "title": "problemMatcher for Typescript in Webpack watch mode", "body": "<p>My error was that I didn't actually have two groups in the second line matcher, so it didn't work properly.</p>\n\n<p>Version that works:</p>\n\n<pre><code>{\n    \"type\": \"shell\",\n    \"command\": \"webpack -w --config webpack.dev.js\",\n    \"label\": \"Webpack (Dev, Continuous)\",\n    \"group\": \"build\",\n    \"promptOnClose\": true,\n    \"isBackground\": true,\n    \"problemMatcher\": {\n        \"owner\": \"Webpack (Dev, Continuous)\",\n        \"severity\": \"error\",\n        \"fileLocation\": \"absolute\",\n        \"source\": \"webpack-typescript\",\n        \"background\": {\n            \"activeOnStart\": true,\n            \"beginsPattern\": \"Type checking and linting in progress...\",\n            \"endsPattern\": \"Time: (\\\\d+)ms\"\n        },\n        \"pattern\": [\n            {\n                \"regexp\": \"ERROR in ([^\\\\(]*)\\\\((\\\\d+),(\\\\d+)\\\\):\",\n                \"file\": 1,\n                \"line\": 2,\n                \"column\": 3\n            },\n            {\n                \"regexp\": \"([A-Za-z0-9-]+):(.*)\",\n                \"message\": 2,\n                \"code\": 1\n            }\n        ]\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 619, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525218460, "creation_date": 1525216685, "question_id": 50125097, "link": "https://stackoverflow.com/questions/50125097/problemmatcher-for-typescript-in-webpack-watch-mode", "title": "problemMatcher for Typescript in Webpack watch mode", "body": "<p>I'm using <code>fork-ts-checker-webpack-plugin</code>, and I want to write a problem matcher that will display the set of problems returned by the compiler in real time as Webpack recompiles in the background. I've tried this problem matcher in my build task:</p>\n\n<pre><code>{\n    \"type\": \"shell\",\n    \"command\": \"webpack -w --config webpack.dev.js\",\n    \"label\": \"Webpack (Dev, Continuous)\",\n    \"group\": \"build\",\n    \"promptOnClose\": true,\n    \"isBackground\": true,\n    \"problemMatcher\": {\n        \"owner\": \"webpack\",\n        \"severity\": \"error\",\n        \"fileLocation\": \"absolute\",\n        \"source\": \"webpack typescript\",\n        \"background\": {\n            \"activeOnStart\": true\n        },\n        \"pattern\": [\n            {\n                \"regexp\": \"ERROR in (.*?)\\\\((\\\\d+),(\\\\d+)\\\\)\",\n                \"file\": 1,\n                \"line\": 2,\n                \"column\": 3\n            },\n            {\n                \"regexp\": \"[A-Za-z0-9-]+:(.*)\",\n                \"message\": 2,\n                \"code\": 1\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>But this doesn't work. </p>\n\n<p>My problem matcher is supposed to match lines like these:</p>\n\n<blockquote>\n<pre><code>ERROR in I:/component/page/admin/reports/checkouts.vue(44,9):\nno-floating-promises: Promises must be handled appropriately\nERROR in I:/component/page/admin/reports/fines.vue(66,9):\nno-floating-promises: Promises must be handled appropriately\nERROR in I:/component/page/admin/users/user.vue(220,9):\nno-floating-promises: Promises must be handled appropriately\nERROR in I:/component/page/admin/users/user.vue(232,9):\nno-floating-promises: Promises must be handled appropriately\nERROR in I:/component/page/admin/users/user.vue(240,9):\nno-floating-promises: Promises must be handled appropriately\nERROR in I:/component/page/admin/users/users.vue(40,9):\nno-floating-promises: Promises must be handled appropriately\n</code></pre>\n</blockquote>\n\n<p>Why isn't this working?</p>\n"}, {"tags": ["angular", "typescript", "error-handling"], "answers": [{"tags": [], "owner": {"reputation": 291, "user_id": 1083240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e383b432aa4530d524d1ffb9ad25fc?s=128&d=identicon&r=PG", "display_name": "Klaas Cuvelier", "link": "https://stackoverflow.com/users/1083240/klaas-cuvelier"}, "is_accepted": true, "score": 3, "last_activity_date": 1525215257, "creation_date": 1525215257, "answer_id": 50124936, "question_id": 50124888, "link": "https://stackoverflow.com/questions/50124888/how-can-i-prevent-throwing-errors-in-errorhandler/50124936#50124936", "title": "How can I prevent throwing errors in errorhandler?", "body": "<p>After you've handled your exception (e.g. by showing an alert, toast or whatever), return an <code>Observable.empty()</code> instead of <code>Observable.throw</code>.\n<code>Observable.empty</code> is an observable that \"completes\" immediately, without \"next\"ing any values; this will stop your observable stream correctly.</p>\n"}], "owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 50124936, "answer_count": 1, "score": 1, "last_activity_date": 1525215257, "creation_date": 1525214876, "question_id": 50124888, "link": "https://stackoverflow.com/questions/50124888/how-can-i-prevent-throwing-errors-in-errorhandler", "title": "How can I prevent throwing errors in errorhandler?", "body": "<p>Currently, in one of my service methods, I have something like this: </p>\n\n<pre><code>this.get(foo).catch((e) =&gt; this.errorHandler(e));\n</code></pre>\n\n<p>Where errorHandler is: </p>\n\n<pre><code>errorHandler(error: HttpErrorResponse) {\n\n    if (error.status === 422) {\n      this.openSnackBar('Number already exists');\n      return Observable.throw(error.message || 'Server Error');\n    } else {\n      return Observable.throw(error.message || 'Server Error');\n    }\n  }\n</code></pre>\n\n<p>While this works just fine, it throws the error and I can see it reported in my console window. I was wondering for situations where I am handling the error in a user friendly message like the snackbar example above, how can I prevent it from being thrown/shown in the console window? </p>\n\n<p>I just want to catch the error, check the status and return a snackbar with userfriendly message. I have noticed if I remove the throw above, the code stops working. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9727569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "lab360", "link": "https://stackoverflow.com/users/9727569/lab360"}, "edited": false, "score": 0, "creation_date": 1525353988, "post_id": 50125701, "comment_id": 87330140, "body": "Thanks for the great answer this will help a lot."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1525288645, "last_edit_date": 1525288645, "creation_date": 1525221883, "answer_id": 50125701, "question_id": 50124552, "link": "https://stackoverflow.com/questions/50124552/error-ts2322-type-id-string-is-not-assignable-to-type-apimodelfilterm/50125701#50125701", "title": "error TS2322: Type &#39;{ id: string; }&#39; is not assignable to type &#39;ApiModelFilter&lt;M&gt;&#39;", "body": "<p>Hmm, seems like a TypeScript bug (or at least a design limitation).  It's related to <a href=\"https://github.com/Microsoft/TypeScript/issues/13442\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#13442</a> in which someone was surprised that an object literal of type <code>Partial&lt;U&gt;</code> with no extra properties is not assignable to <code>Partial&lt;T&gt;</code> where <code>T extends U</code>.  Now in <em>that</em> case, it is not a bug: <code>T[K]</code> might be narrower than <code>U[K]</code> for some <code>K</code>, so you cannot assign <code>Partial&lt;U&gt;</code> to <code>Partial&lt;T&gt;</code>.  It's not the keys that are the problem; it's the values.  </p>\n\n<p>In your case, though, you don't care about the value types like <code>T[K]</code> or <code>U[K]</code>.  All you care about are the <em>keys</em>.  And it sure seems like a literal value of type <code>{[K in keyof U]?: string}</code> with no extra properties should be assignable to a variable of type <code>{[K in keyof T]?: string}</code> if <code>T extends U</code>.  <code>keyof U</code> cannot contain any values not present in <code>keyof T</code>, so it should work.  (In your code, <code>M</code> is acting like <code>T</code> and <code>Model</code> is acting like <code>U</code>.)  The compiler, for some reason, cannot verify that.  You might want to file an <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">issue in GitHub</a> if you think this use case is compelling.</p>\n\n<hr>\n\n<p>So, workarounds. one way is to do a type assertion:</p>\n\n<pre><code>const the_filter = {\n  id: 'test'\n} as ApiModelFilter&lt;M&gt;; // works\n</code></pre>\n\n<p>You're saying that you know better than the compiler, which seems to be true in this case.</p>\n\n<p>Or you could rearrange your code like this:</p>\n\n<pre><code>const the_filter: ApiModelFilter&lt;M&gt; = {};\nthe_filter.id = 'test'; // also works\n</code></pre>\n\n<p>Here you are originally assigning an empty object to <code>the_filter</code> and then adding an <code>id</code> property to it.  The compiler <em>does</em> recognize that <code>the_filter</code> has an optional <code>id</code> property, so it allows you to set it.  </p>\n\n<hr>\n\n<p>Hopefully one of those works for you.  Good luck!</p>\n"}], "owner": {"reputation": 43, "user_id": 9727569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "lab360", "link": "https://stackoverflow.com/users/9727569/lab360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1777, "favorite_count": 1, "accepted_answer_id": 50125701, "answer_count": 1, "score": 4, "last_activity_date": 1525288645, "creation_date": 1525212556, "question_id": 50124552, "link": "https://stackoverflow.com/questions/50124552/error-ts2322-type-id-string-is-not-assignable-to-type-apimodelfilterm", "title": "error TS2322: Type &#39;{ id: string; }&#39; is not assignable to type &#39;ApiModelFilter&lt;M&gt;&#39;", "body": "<p>I try to define some filters where the key of the filter object should be a key of any interfaces thats extends from a Model interface.</p>\n\n<p>The Model Interface defines only an <em>id</em> attribute.</p>\n\n<p>When I try to use the ApiModelFilter type in a generic Class just by defining the <em>id</em> and a string as value I get the Error from the Title.</p>\n\n<p>Any ideas how I could solve this problem ?</p>\n\n<p>I get this error with Typescript v2.8.3 and v2.6.2</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface Model {\n  id: number;\n}\n\nexport type ApiModelFilter&lt;M extends Model&gt; = {\n  [P in keyof M]?: string\n};\n\ninterface SomeModel extends Model {\n  name: string;\n  age: number;\n  address: string;\n}\n\nclass GenericModelHandlerClass&lt;M extends Model&gt; {\n  get_instance(id: number): void {\n    const the_filter: ApiModelFilter&lt;M&gt; = {\n      id: 'test'\n    };\n    ...\n  }\n}\n\nclass SomeModelHandlerClass extends GenericModelHandlerClass&lt;SomeModel&gt; {\n  ...\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": true, "score": 1, "last_activity_date": 1525246419, "creation_date": 1525246419, "answer_id": 50129300, "question_id": 50124423, "link": "https://stackoverflow.com/questions/50124423/converting-javascript-function-call-to-typescript-function/50129300#50129300", "title": "Converting javascript function call to typescript function", "body": "<p>Define your type at <code>var tempModalDefaults = {};</code> or define it as <code>any</code>.</p>\n\n<p>i.e.</p>\n\n<pre><code>var tempModalDefaults: any = {}\n// or\nvar tempModelDefaults = {} as YourType\n// or\nvar tempModelDefaults: YourType = {} as any \n// `as any` is needed because `{}` will not match `YourType`\n</code></pre>\n"}], "owner": {"reputation": 835, "user_id": 1650231, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f2da21433258099d3212568396296c20?s=128&d=identicon&r=PG&f=1", "display_name": "yams", "link": "https://stackoverflow.com/users/1650231/yams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 50129300, "answer_count": 1, "score": -2, "last_activity_date": 1525246419, "creation_date": 1525211883, "question_id": 50124423, "link": "https://stackoverflow.com/questions/50124423/converting-javascript-function-call-to-typescript-function", "title": "Converting javascript function call to typescript function", "body": "<p>I'm converting an old an older angular 2 app to angular 5.  Now I'm very new to typescript and not finding much help online.  What I'm curious about is in my code same below I'm using a service to create a dialog.  Within that I'm calling a function via : </p>\n\n<pre><code>tempModalDefaults.controller = function ($scope, $modalInstance) {\n</code></pre>\n\n<p>and I'm wondering how to do this.  Also is there a equivalent in typescript for the handling of tempModalDefaults.controller in typescript when the .controller hasn't been defined.  Also how do I handle the angular.extend instances?</p>\n\n<p>Fulle Code : </p>\n\n<pre><code>    function show(customModalDefaults, customModalOptions) {\n        //Create temp objects to work with since we're in a singleton service\n        var tempModalDefaults = {};\n        var tempModalOptions = {};\n\n        //Map angular-ui modal custom defaults to modal defaults defined in service\n        angular.extend(tempModalDefaults, modalDefaults, customModalDefaults);\n\n        //Map modal.html $scope custom properties to defaults defined in service\n        angular.extend(tempModalOptions, modalOptions, customModalOptions);\n\n        if (!tempModalDefaults.controller) {\n            tempModalDefaults.controller = function ($scope, $modalInstance) {\n                $scope.modalOptions = tempModalOptions;\n                $scope.modalOptions.ok = function () {\n                    $modalInstance.close(tempModalOptions.okResult);\n                };\n                $scope.modalOptions.close = function () {\n                    $modalInstance.dismiss('cancel');\n                };\n                $scope.modalOptions.rename = function () {\n                    $modalInstance.close(tempModalOptions.bodyText);\n                };\n            }\n        }\n\n        return $modal.open(tempModalDefaults).result;\n    }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 2, "creation_date": 1525212269, "post_id": 50124327, "comment_id": 87267098, "body": "DTOs in typescript are replaced by interfaces. The rule of thumb is: if you want to have an structure that stores data and defines behavior, use a class. If you only want to store data, use an interface. This is partially explained in the http client guide <a href=\"https://angular.io/guide/http#type-checking-the-response\" rel=\"nofollow noreferrer\">angular.io/guide/http#type-checking-the-response</a>"}], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 7950703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edafeaa53069b043d1be88c1d629866?s=128&d=identicon&r=PG&f=1", "display_name": "Divneet", "link": "https://stackoverflow.com/users/7950703/divneet"}, "is_accepted": false, "score": 1, "last_activity_date": 1525255958, "last_edit_date": 1525255958, "creation_date": 1525245487, "answer_id": 50129075, "question_id": 50124327, "link": "https://stackoverflow.com/questions/50124327/angular-5-http-and-models/50129075#50129075", "title": "Angular 5 - HTTP and models", "body": "<p>Making a model corresponding to the data you require at the front end makes sense. This is because you will have control over what all data goes into the object, you will also have a consolidated object over which you will be able to pinpoint what all data is contained. Also, you will not carry extra data to the next layer.</p>\n\n<p>You could simply write a class or an interface and then import it where you get your data and make an object of that class/interface and populate data into it.</p>\n\n<p>eg --> </p>\n\n<pre><code>//this is where you declare what all fields would be present\n\nexport Class Student {\n    id: number;\n    name: string;\n}\n\n//this is where you consume it\nlet students: Student[] = [];\n\n//iterate over students and push the details to students array.\nlet student = new Student({\n    id : currentIteratedStudent.id,\n    name: currentIteratedStudent.name\n})\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 7583451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2n05jf1r760/AAAAAAAAAAI/AAAAAAAABWY/tGQWQ0IdFfY/photo.jpg?sz=128", "display_name": "rennyB", "link": "https://stackoverflow.com/users/7583451/rennyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525255958, "creation_date": 1525211295, "last_edit_date": 1525255833, "question_id": 50124327, "link": "https://stackoverflow.com/questions/50124327/angular-5-http-and-models", "title": "Angular 5 - HTTP and models", "body": "<p>In an <strong>Angular5</strong> app, I'm making an HTTP request to a data layer that's shared by several apps. </p>\n\n<p>The end-point returns an array of long and complex JSON objects. </p>\n\n<p>Is it a best practice to take the return from the data service more or less \"as is\" as work directly with it?</p>\n\n<p>Or should I turn it into an array of objects that conform to a class that I defined as a model? </p>\n\n<p>I come from a Java background so building objects from a class feel right. Are there benefits to doing this in Angular, or any JS context, or would it be a waste of time?      </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1525205342, "post_id": 50122515, "comment_id": 87264250, "body": "The type cannot be inferred from reduce because reduce returns a value that isn&#39;t necessary of same type as original array (it isn&#39;t so in your case). If you&#39;re asking about how to type generateApiMethods properly, please, be more clear, because this isn&#39;t related to inference."}, {"owner": {"reputation": 3, "user_id": 2290970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769bd35c0d410c69bc8a4968742e6031?s=128&d=identicon&r=PG", "display_name": "mbohgard", "link": "https://stackoverflow.com/users/2290970/mbohgard"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1525251256, "post_id": 50122515, "comment_id": 87279046, "body": "You&#39;re right, I should be more clear. I wasn&#39;t sure on what actually needed to be typed and how. I got my solution below. Thanks for the comment."}], "answers": [{"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": true, "score": 1, "last_activity_date": 1525212464, "last_edit_date": 1525212464, "creation_date": 1525212082, "answer_id": 50124460, "question_id": 50122515, "link": "https://stackoverflow.com/questions/50122515/how-to-get-type-inference-through-reduce-on-object-with-factory-methods/50124460#50124460", "title": "How to get type inference through reduce on object with factory methods", "body": "<p>First of all, your error <code>Element implicitly has an 'any' type because type { ... } has no index signature</code> is because <a href=\"https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\" rel=\"nofollow noreferrer\"><code>Object.keys()</code> returns an array of strings</a>, and <code>apiFactories[f]</code> where <code>f</code> could be any string results in an implicit <code>any</code> result, which is disallowed in <code>strict</code> mode (specifically <code>noImplicitAny</code>). You can fix this with an assertion of <code>f</code> to <code>keyof typeof apiFactories</code>.</p>\n\n<p>Beyond that I don't think <code>reduce()</code> will be able to infer what you want. You are passing <code>{}</code> as the initial value, so the return type is inferred as <code>{}</code>. That said, you can use a map type to describe your API:</p>\n\n<pre><code>type ApiFactories = typeof apiFactories;\ntype Api = { [P in keyof ApiFactories]: ReturnType&lt;ApiFactories[P]&gt; };\n</code></pre>\n\n<p>Now you can assert the initial value as <code>Api</code>, and/or pass the type argument to <code>reduce&lt;Api&gt;()</code>, and you should end up with the object type you want:</p>\n\n<pre><code>const generateApiMethods = () =&gt;\n  Object.keys(apiFactories).reduce(\n    (acc, f, i) =&gt; ({ ...acc, [f]: apiFactories[f as keyof Api](i) }),\n    {} as Api\n  );\n\nconst api = generateApiMethods();\napi.fetchSomething(query).then(...)\napi.fetchSomeOtherThing(123).then(...)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2290970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769bd35c0d410c69bc8a4968742e6031?s=128&d=identicon&r=PG", "display_name": "mbohgard", "link": "https://stackoverflow.com/users/2290970/mbohgard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 1, "accepted_answer_id": 50124460, "answer_count": 1, "score": 0, "last_activity_date": 1525212464, "creation_date": 1525202422, "question_id": 50122515, "link": "https://stackoverflow.com/questions/50122515/how-to-get-type-inference-through-reduce-on-object-with-factory-methods", "title": "How to get type inference through reduce on object with factory methods", "body": "<p>I'm trying to get TypeScript to understand the outcome of my reduce and keep to original typings for the result of my factory methods. Right now I'm getting a <code>Element implicitly has an 'any' type because type '{ fetchSomething: (i: number) =&gt; (query: SomethingQuery) =&gt; Promise&lt;{ [s: string]: string; }[]&gt;; ...' has no index signature.</code></p>\n\n<p>The result of my <code>generateApiMethods</code> function is the same structure as the <code>apiFactories</code> object literal but <code>i</code> already defined. I understand that the code below won't type properly, I just don't know how to get TypeScript to infer correctly.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { request } from \"./helpers\"\n\nconst apiFactories = {\n  fetchSomething: (i: number) =&gt;\n    (query: Api.SomethingQuery): Promise&lt;Api.SomethingResponse&gt; =&gt;\n      request(i, \"/something\", query),\n  fetchSomeOtherThing: (i: number) =&gt; \n    (id: number): Promise&lt;Api.SomeOtherThingResponse&gt; =&gt;\n      request(i, `/someotherthing/${id}`)\n};\n\nconst generateApiMethods = () =&gt;\n  Object.keys(apiFactories).reduce(\n    (acc, f, i) =&gt; ({ ...acc, [f]: apiFactories[f](i) }),\n    {}\n  );\n\nexport const api = generateApiMethods()\n</code></pre>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1525198478, "post_id": 50121231, "comment_id": 87260943, "body": "Can you make <code>DataObject&lt;T&gt;</code> a <code>type</code> and not an <code>interface</code>?"}, {"owner": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1525198753, "post_id": 50121231, "comment_id": 87261095, "body": "@jcalz well... that seems to have cleared the error... Could you explain why this did it?"}], "answers": [{"comments": [{"owner": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "edited": false, "score": 0, "creation_date": 1525201320, "post_id": 50122081, "comment_id": 87262447, "body": "Thanks for this really in-depth answer! Are there any more resources available for learning in detail about type constraints? Because I&#39;ve never seen anything as complex as your <code>x: U &amp; (Id&lt;U&gt; extends Id&lt;T&gt; ? U : never)</code>, nor would I be able come up with something like that on my own."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "edited": false, "score": 0, "creation_date": 1525201607, "post_id": 50122081, "comment_id": 87262583, "body": "Hmm, yeah I didn&#39;t mention that it uses the new conditional types feature (edited above with a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">link</a>).  I&#39;m not sure if there&#39;s a great single resource for how to use this feature... <a href=\"https://github.com/Microsoft/TypeScript/pull/21316\" rel=\"nofollow noreferrer\">this GitHub pull request</a> and a lot of issues linked to it might be places to start."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "edited": false, "score": 0, "creation_date": 1525201832, "post_id": 50122081, "comment_id": 87262683, "body": "I think it can be simplified to <code>function cast&lt;T, U&gt;(x: Id&lt;U&gt; &amp; Id&lt;T&gt;): T {  return x; }</code> without conditional types, by the way.  I&#39;m trying to force TypeScript to recognize that two types are compatible by leading it through the exercise of checking each proprerty with <code>Id&lt;&gt;</code>."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1525202046, "last_edit_date": 1525202046, "creation_date": 1525200394, "answer_id": 50122081, "question_id": 50121231, "link": "https://stackoverflow.com/questions/50121231/how-to-specify-that-only-relevant-properties-will-be-assigned-to-a-class-instanc/50122081#50122081", "title": "How to specify that only relevant properties will be assigned to a class instance?", "body": "<p>Your intuition and mine is that both <code>DataObject&lt;Class1&gt;</code> and <code>DataObject&lt;Class2&gt;</code> should be structurally identical to <code>{[k: string]: string | number}</code>.  And they are, but TypeScript is apparently unable to recognize that the former is identical to the latter.  I'm not 100% sure why this happened, but my guess is that TypeScript is not analyzing the <code>DataObject&lt;T&gt;</code> interface deeply enough before deciding that the two types are incompatible.  It likely has decided that, since <code>DataObject&lt;T&gt;</code> depends on both <code>T</code> and <code>keyof T</code> in a property value position, the type should be <em>invariant in <code>T</code></em>, meaning that <code>DataObject&lt;T&gt;</code> and <code>DataObject&lt;U&gt;</code> are only compatible if <code>T</code> and <code>U</code> are identical.  Normally this is reasonable behavior, but <code>DataObject&lt;T&gt;</code> intentionally throws away some of its dependence on <code>T</code>, so TypeScript misses the structrual equivalence here. ( You may want to <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">file a GitHub issue</a> about this, unless there is already one there... couldn't find a relevant one yet. )</p>\n\n<hr>\n\n<p>One way to deal with this is to change <code>interface DataObject&lt;T&gt; {...}</code> to <code>type DataObject&lt;T&gt; = {...}</code>.  That's because a type alias isn't a new type but a name for an existing type.  And therefore when faced with <code>DataObject&lt;Class1 &amp; Class2&gt;</code> versus <code>DataObject&lt;Class1&gt;</code>, the compiler reduces each of them to <code>{[k: string]: string | number}</code> right at the outset, and therefore your code will compile as intended.</p>\n\n<p>Another way to deal with this is to change the definition to something like <code>interface DataObject&lt;P&gt; {[k: string]: P}</code>, define <code>type ValueOf&lt;T&gt; = T[keyof T]</code>, and then use <code>DataObject&lt;ValueOf&lt;Class1&gt;&gt;</code> and <code>DataObject&lt;ValueOf&lt;Class1 &amp; Class2&gt;&gt;</code> instead of <code>DataObject&lt;Class1&gt;</code> and <code>DataObject&lt;Class1 &amp; Class2&gt;</code>.  The compiler's heuristics of how <code>DataObject&lt;P&gt;</code> depends on <code>P</code> will now be accurate.  You might not like this, though, because it forces you to change how you use <code>DataObject&lt;T&gt;</code>.</p>\n\n<p>If you need to use the existing interface, there are probably other workarounds.  One possibility is to make a function which converts <code>DataObject&lt;T&gt;</code> to <code>DataObject&lt;U&gt;</code> if they are structurally compatible.  Something like:</p>\n\n<pre><code>type Id&lt;T&gt; = {[K in keyof T]: T[K]}\nfunction cast&lt;T, U&gt;(x: U &amp; (Id&lt;U&gt; extends Id&lt;T&gt; ? U : never)): T {\n  return x as any as T;\n}\nconst instance1 = makeNew1(cast(row)); // works, maybe?\n</code></pre>\n\n<p>which relies on <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a>, a feature introduced in TypeScript v2.8.  The idea there is that <code>cast()</code> will convert from a <code>T</code> to a <code>U</code> as long as <code>U</code> extends <code>T</code> in a structural way. </p>\n\n<hr>\n\n<p>Okay, that's all I can think of for now.  Hope it helps.  Good luck!</p>\n"}], "owner": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 50122081, "answer_count": 1, "score": 0, "last_activity_date": 1525202046, "creation_date": 1525196820, "last_edit_date": 1525198570, "question_id": 50121231, "link": "https://stackoverflow.com/questions/50121231/how-to-specify-that-only-relevant-properties-will-be-assigned-to-a-class-instanc", "title": "How to specify that only relevant properties will be assigned to a class instance?", "body": "<p>I have a function that takes in an object (<code>DataObject</code>) and uses some of its properties to instantiate a class.</p>\n\n<p>To know which items from the data object should be assigned to which property in the class I use mappings in the form of a list of tuples. The first item in the tuple is the key in the data object and the second is the property name in the class.</p>\n\n<pre><code>interface DataObject&lt;T&gt; {\n  [name: string]: T[keyof T];\n}\n\n// list of mappings\ntype MappingsList&lt;T&gt; = [string, keyof T][];\n\n// function that instantiates a class and assigns its properties\n// from the data object using the mapping from `mappings`\nfunction AttrConstructor&lt;T&gt;(\n  ItemClass: { new (): T },\n  mappings: MappingsList&lt;T&gt;,\n  dataObj: DataObject&lt;T&gt;\n) {\n  const instance = new ItemClass();\n  mappings.forEach(([fromLabel, toLabel]) =&gt; {\n    instance[toLabel] = dataObj[fromLabel];\n  });\n\n  return instance;\n}\n</code></pre>\n\n<p>This works well on its own, but the problem arises when I specify that the <code>dataObject</code> contains the properties and values for more than one class.</p>\n\n<pre><code>class Class1 {\n  Prop1a: string;\n  Prop1b: number;\n}\nclass Class2 {\n  Prop2a: string;\n  Prop2b: number;\n}\n\ndeclare const row: DataObject&lt;Class1 &amp; Class2&gt;;\n\nconst mappings1: MappingsList&lt;Class1&gt; = [[\"prop1a\", \"Prop1a\"]];\n\nconst makeNew1 = (row: DataObject&lt;Class1&gt;) =&gt;\n  AttrConstructor(Class1, mappings1, row);\n\nconst instance1 = makeNew1(row);\n</code></pre>\n\n<p>Then I get this error:</p>\n\n<pre><code>Argument of type 'DataObject&lt;Class1 &amp; Class2&gt;' is not assignable to parameter of type 'DataObject&lt;Class1&gt;'.\n  Type 'Class1' is not assignable to type 'Class1 &amp; Class2'.\n    Type 'Class1' is not assignable to type 'Class2'.\n      Property 'Prop2a' is missing in type 'Class1'.\n</code></pre>\n\n<p>My question is how can I specify that it's ok if the <code>dataObject</code> contains more properties than are needed for the current class because the <code>AttrConstructor</code> function will make sure only the properties relevant to each class are assigned?</p>\n\n<hr>\n\n<p><strong>PS</strong>: when putting together this code sample from my real code I actually got no errors at all until I saved the file so maybe my tsconfig.json might be relevant here:</p>\n\n<pre><code>// tsconfig.json\n{\n  \"include\": [\"src/**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"noImplicitAny\": true,\n    \"noImplicitReturns\": true,\n    \"module\": \"commonjs\",\n    \"outDir\": \"dist\",\n    \"pretty\": true,\n    \"lib\": [\"es2015\"],\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1525193199, "post_id": 50120409, "comment_id": 87258318, "body": "Please post your data using JSON syntax. Is that an array or an object?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 1, "creation_date": 1525193201, "post_id": 50120409, "comment_id": 87258321, "body": "I&#39;m not sure what that first snippet is, it seems like invalid syntax. Maybe it&#39;s some new feature I&#39;m unfamiliar with."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1525193226, "post_id": 50120409, "comment_id": 87258337, "body": "What does the title have to do with your question - you&#39;re not using <code>Object.keys</code> anywhere?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 3, "creation_date": 1525193246, "post_id": 50120409, "comment_id": 87258347, "body": "@AsadSaeeduddin No, it is plainly invalid syntax indeed, not a new feature"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1525193288, "post_id": 50120409, "comment_id": 87258364, "body": "<b>What error</b> are you getting when trying your code?"}, {"owner": {"reputation": 2078, "user_id": 812668, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a983e9ebe557af4bf98e021ce457d55?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/812668/benjamin"}, "edited": false, "score": 0, "creation_date": 1525193387, "post_id": 50120409, "comment_id": 87258417, "body": "I&#39;m learning reactjs and redux. I&#39;m trying to loop through the state and find one record."}], "answers": [{"comments": [{"owner": {"reputation": 2078, "user_id": 812668, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a983e9ebe557af4bf98e021ce457d55?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/812668/benjamin"}, "edited": false, "score": 0, "creation_date": 1525193752, "post_id": 50120422, "comment_id": 87258604, "body": "Thank you for your answer, works.   ` let fromState = Object.keys(categories).map(key =&gt; categories[key])     const category = fromState.find(function (category) { return category.id === 3; });`"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 6, "last_activity_date": 1525193761, "last_edit_date": 1525193761, "creation_date": 1525193142, "answer_id": 50120422, "question_id": 50120409, "link": "https://stackoverflow.com/questions/50120409/object-keys-and-find/50120422#50120422", "title": "Object.keys() and find", "body": "<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>Array.filter()</code></a></strong> and <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>Array.find()</code></a></strong> works over array not on object.</p>\n\n<p>Either you need to change your Data to Array of Objects as</p>\n\n<pre><code>[\n {id:10,title:'Dairy &amp; Eggs'},\n {id:7,title:'Laundry &amp; Househo'},\n {id:9,title:'Bakery'},\n {id:8,title:'Fresh Food'},\n {id:4,title:'Frozen Food'},\n {id:6,title:'Health &amp; Beauty'},\n {id:3,title:'Food Cupboard'},\n {id:5,title:'Drinks'},\n {id:2,title:'Chilled Food'}\n]\n</code></pre>\n\n<p><strong>DEMO</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var categories = [\r\n  {\r\n    \"id\": 10,\r\n    \"title\": \"Dairy &amp; Eggs\"\r\n  },\r\n  {\r\n    \"id\": 7,\r\n    \"title\": \"Laundry &amp; Househo\"\r\n  },\r\n  {\r\n    \"id\": 9,\r\n    \"title\": \"Bakery\"\r\n  },\r\n  {\r\n    \"id\": 8,\r\n    \"title\": \"Fresh Food\"\r\n  },\r\n  {\r\n    \"id\": 4,\r\n    \"title\": \"Frozen Food\"\r\n  },\r\n  {\r\n    \"id\": 6,\r\n    \"title\": \"Health &amp; Beauty\"\r\n  },\r\n  {\r\n    \"id\": 3,\r\n    \"title\": \"Food Cupboard\"\r\n  },\r\n  {\r\n    \"id\": 5,\r\n    \"title\": \"Drinks\"\r\n  }\r\n];\r\nconst category = categories.filter(category =&gt; category.id === 3) ; \r\nconsole.log(category)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2078, "user_id": 812668, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a983e9ebe557af4bf98e021ce457d55?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/812668/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 50120422, "answer_count": 1, "score": 0, "last_activity_date": 1525193761, "creation_date": 1525193094, "last_edit_date": 1525193735, "question_id": 50120409, "link": "https://stackoverflow.com/questions/50120409/object-keys-and-find", "title": "Object.keys() and find", "body": "<p>Struggling to understand why I get an error when I try to use <a href=\"https://stackoverflow.com/questions/39235353/es6-find-an-object-in-an-array-by-one-of-its-properties\">ES6</a> <code>.find</code> on this data below.  I'm trying to get the record with id number 3. </p>\n\n<pre><code>{\n {id:10,title:'Dairy &amp; Eggs'}\n {id:7,title:'Laundry &amp; Househo,}\n {id:9,title:'Bakery'}\n {id:8,title:'Fresh Food'}\n {id:4,title:'Frozen Food'}\n {id:6,title:'Health &amp; Beauty'}\n {id:3,title:'Food Cupboard'}\n {id:5,title:'Drinks'}\n {id:2,title:'Chilled Food'}\n}\n</code></pre>\n\n<p>I tried </p>\n\n<pre><code> const category = categories.find(function (category) { return category.id === 3; } \n\n console.log(category)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>const category = categories.filter(category =&gt; category.id === 3) \nconsole.log(category)\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1525192741, "post_id": 50120313, "comment_id": 87258106, "body": "Does it have to be the second parameter? It&#39;s easy if it can be the first one instead."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "edited": false, "score": 1, "creation_date": 1525192788, "post_id": 50120313, "comment_id": 87258127, "body": "Why not combine the two parameters inside a common function and call that instead?"}], "answers": [{"comments": [{"owner": {"reputation": 9607, "user_id": 3924219, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae3162deaeb55113f7f3e61c35bb0571?s=128&d=identicon&r=PG&f=1", "display_name": "kentor", "link": "https://stackoverflow.com/users/3924219/kentor"}, "edited": false, "score": 1, "creation_date": 1525192947, "post_id": 50120366, "comment_id": 87258208, "body": "Oh alright, I don&#39;t mind if it&#39;s the first or second parameter I just thought it overwrites the parameter. Great!"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 9607, "user_id": 3924219, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae3162deaeb55113f7f3e61c35bb0571?s=128&d=identicon&r=PG&f=1", "display_name": "kentor", "link": "https://stackoverflow.com/users/3924219/kentor"}, "edited": false, "score": 1, "creation_date": 1525193072, "post_id": 50120366, "comment_id": 87258259, "body": "I&#39;ve added a bit more explanation on that point to the answer, since I just kind of implied what happens rather than actually saying it. :-)"}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1525193040, "last_edit_date": 1525193040, "creation_date": 1525192879, "answer_id": 50120366, "question_id": 50120313, "link": "https://stackoverflow.com/questions/50120313/binding-additionall-parameters-to-event-handler/50120366#50120366", "title": "Binding additionall parameters to event handler", "body": "<p><code>bind</code> is indeed what you want <strong>if</strong> you're okay with the extra parameter being the <em>first</em> parameter instead of the second:</p>\n\n<pre><code>client.onError(this.onClientError.bind(null, client)); \n\nprivate onClientError = (client: RequestClient, error: Error): void =&gt; {\n  this.logger.error(`Error on client occured: ${error}`);\n};\n</code></pre>\n\n<p>When the function <code>bind</code> returns is called, it calls the original function with any arguments you give it when calling <code>bind</code> followed by the ones it was called with. So if you <code>bind</code> argument A and it gets called with argument B, the original function is called with arguments A and B (in that order).</p>\n\n<p>If it has to be second, the simplest thing is a wrapper function:</p>\n\n<pre><code>client.onError(event =&gt; this.onClientError(event, client));\n</code></pre>\n"}], "owner": {"reputation": 9607, "user_id": 3924219, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae3162deaeb55113f7f3e61c35bb0571?s=128&d=identicon&r=PG&f=1", "display_name": "kentor", "link": "https://stackoverflow.com/users/3924219/kentor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 50120366, "answer_count": 1, "score": 0, "last_activity_date": 1525193040, "creation_date": 1525192618, "question_id": 50120313, "link": "https://stackoverflow.com/questions/50120313/binding-additionall-parameters-to-event-handler", "title": "Binding additionall parameters to event handler", "body": "<p><strong>Use case:</strong></p>\n\n<p>I've got an event handler which already gets passed one parameter (an error object). At the place where I am binding the event handler I'd like to pass an additional parameter. I know there is the <code>bind()</code> method, but I think I would overwrite the existing error parameter.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>const client = new RequestClient(...);\n\n// Here I want to bind the client object so that onClientError gets the\n// error and the client object passed\nclient.onError(this.onClientError); \n\nprivate onClientError = (error: Error): void =&gt; {\n  this.logger.error(`Error on client occured: ${error}`);\n};\n\n// And this is how I'd like to use my new event handler\nprivate onClientError = (error: Error, client: RequestClient): void =&gt; {\n  this.logger.error(`Error on client occured: ${error}`);\n};\n</code></pre>\n\n<p><strong>My question:</strong></p>\n\n<p>How can I bind additional parameters to an event handler if it already has an existing parameter?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525195513, "post_id": 50120178, "comment_id": 87259440, "body": "<code>can not push to undefined</code> is not a real error, please post the actual error message. Are you seeing a <i>runtime</i> JavaScript error, or a <i>compile-time</i> TypeScript error? Are you using <code>strictNullChecks</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1525202762, "post_id": 50120184, "comment_id": 87263100, "body": "Thank you it worked i need to think again i am working with typescript now :)"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 5, "last_activity_date": 1525192046, "creation_date": 1525192046, "answer_id": 50120184, "question_id": 50120178, "link": "https://stackoverflow.com/questions/50120178/how-to-push-string-to-typescript-array/50120184#50120184", "title": "How to push string to typescript array?", "body": "<p>You need to initialize <strong><code>optionalParam</code></strong> with empty array as follows,</p>\n\n<pre><code>api.optionalParam = [];\napi.optionalParam.push(Name);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 957913, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/723865010/picture?type=large", "display_name": "nate", "link": "https://stackoverflow.com/users/957913/nate"}, "is_accepted": false, "score": 2, "last_activity_date": 1525192199, "creation_date": 1525192199, "answer_id": 50120219, "question_id": 50120178, "link": "https://stackoverflow.com/questions/50120178/how-to-push-string-to-typescript-array/50120219#50120219", "title": "How to push string to typescript array?", "body": "<p>You are getting this because there is no \"optionaParam\" defined in your <code>api</code> object.</p>\n\n<p>your api object currently has only one other, which is \"name\"</p>\n\n<p>to fix, you can add optionalParam like such:</p>\n\n<pre><code>const api: IConfigName = {name: \"getKey\", optionalParam:[] };\nconst Name = \"Web\";\n\napi.optionalParam.push(Name);\n</code></pre>\n\n<p>this should work, since api now has an optionalParam key, with a type of array. </p>\n"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 0, "accepted_answer_id": 50120184, "answer_count": 2, "score": 0, "last_activity_date": 1525192199, "creation_date": 1525192002, "question_id": 50120178, "link": "https://stackoverflow.com/questions/50120178/how-to-push-string-to-typescript-array", "title": "How to push string to typescript array?", "body": "<p>I am trying to push string to typescript array its throwing error `can not push to undefined\" , is it correct way or i need to use spread operator ?</p>\n\n<p>api.ts</p>\n\n<pre><code>const api: IConfigName = {name: \"getKey\"};\nconst Name = \"Web\";\n\napi.optionalParam.push(Name);\n</code></pre>\n\n<p>IConfig.interface.ts</p>\n\n<pre><code>export interface IConfigName {\n    name: string;\n    optionalParam?: string[];\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular5", "mustache"], "answers": [{"tags": [], "owner": {"reputation": 1754, "user_id": 8795673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tpjjFhuX6xI/AAAAAAAAAAI/AAAAAAAAABc/CzfHO0UcdGo/photo.jpg?sz=128", "display_name": "Adrien De Peretti", "link": "https://stackoverflow.com/users/8795673/adrien-de-peretti"}, "is_accepted": true, "score": 1, "last_activity_date": 1525203614, "creation_date": 1525203614, "answer_id": 50122750, "question_id": 50120061, "link": "https://stackoverflow.com/questions/50120061/how-to-save-a-object-notation-path-in-to-a-variable-to-use-in-template/50122750#50122750", "title": "How to save a object notation path in to a variable to use in template?", "body": "<p>In fact, you can't do that this way. You can't find a property from an object by passing the path as <code>myObject['prop1.prop2.prop3']</code> because it will try to find the property <code>prop1.prop2.prop3</code> itself.</p>\n\n<p>In order to solve your issue, you can do something like \nthe following example to get each property before diving into the result and get the next property until you get the one you are looking for.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = {\r\n  prop1: {\r\n    prop2: {\r\n        prop3: 'The value you are looking for'\r\n    }\r\n  }\r\n};\r\n\r\nconst myPath = 'prop1.prop2.prop3';\r\nconst deepValue = myPath.split('.').reduce((obj, current) =&gt; obj[current], obj);\r\nconsole.log(deepValue);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope this example will help you :)</p>\n"}], "owner": {"reputation": 13269, "user_id": 218349, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/abb2f595ca653f4b91bbdc0329000a04?s=128&d=identicon&r=PG", "display_name": "3gwebtrain", "link": "https://stackoverflow.com/users/218349/3gwebtrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "accepted_answer_id": 50122750, "answer_count": 1, "score": 0, "last_activity_date": 1525203614, "creation_date": 1525191610, "question_id": 50120061, "link": "https://stackoverflow.com/questions/50120061/how-to-save-a-object-notation-path-in-to-a-variable-to-use-in-template", "title": "How to save a object notation path in to a variable to use in template?", "body": "<p>I need to fetch the data from a long path. so i trying to store the path in a variable and decided to add in the template. but not works.</p>\n\n<p>any one help me here?</p>\n\n<p>here is my try:</p>\n\n<p>My stored path : <code>propBasePath:string =</code> <code>${header.label.lacales}</code> </p>\n\n<p>when I console like this:</p>\n\n<pre><code>this.appProps = value;\n\nconsole.log( this.appProps[this.propBasePath]['th_TH'] ) //this is not works!!\nconsole.log( this.appProps.header.label.lacales.th_TH ) it's works.\n</code></pre>\n\n<p>In template:</p>\n\n<pre><code>&lt;h1 style=\"font-size: 3rem\"&gt;{{appProps[propBasePath].th_TH}}&lt;/h1&gt;\n</code></pre>\n\n<p>as well the above not works. I know that the way I am trying to retrieve the data is wrong. But any one correct me please?</p>\n\n<p>I am getting this error as well <code>ERROR ReferenceError: header is not defined</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "workflow", "transpiler"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525189379, "post_id": 50119424, "comment_id": 87256292, "body": "The angular cli reloads your project real-time every time you make a change"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525189865, "post_id": 50119424, "comment_id": 87256526, "body": "And you can use <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack</a> (which is what <a href=\"https://cli.angular.io/\" rel=\"nofollow noreferrer\">angular-cli</a> uses under the hood AFAIK) to watch, bundle, and serve in local browser with automatic refresh for every code change."}], "answers": [{"comments": [{"owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "edited": false, "score": 0, "creation_date": 1525196300, "post_id": 50119540, "comment_id": 87259870, "body": "Thanks, I added some more info to the question with some info about the structure of my projects"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 0, "last_activity_date": 1525189595, "creation_date": 1525189595, "answer_id": 50119540, "question_id": 50119424, "link": "https://stackoverflow.com/questions/50119424/javascript-typescript-transpiler-workflow/50119540#50119540", "title": "JavaScript/TypeScript transpiler workflow", "body": "<p>You can continue with the same workflow. The typescript compiler (or, if you're using Angular, the Angular compiler -- which uses typescript compiler under the hood) has a 'watch' mode, so it compiles TypeScript files as you save them, meaning that you can hit F5 an see your changes.</p>\n\n<p>In fact, if you're using the Angular CLI, it automatically updates the web page when you save a file and it compiles the result, so you don't even have to hit F5 at all.</p>\n\n<p>And if you don't use Angular, you can start the TypeScript compiler in <code>watch</code> mode, and it'll compile each typescript file as you save it:</p>\n\n<pre><code>tsc -w\n</code></pre>\n\n<p>So if that are your worries, you can forget them, and instead think of all the benefits of a typed language.</p>\n"}, {"comments": [{"owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "edited": false, "score": 0, "creation_date": 1525196318, "post_id": 50120341, "comment_id": 87259882, "body": "Thanks, I added some more info to the question with some info about the structure of my projects"}], "tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": false, "score": 0, "last_activity_date": 1525196063, "last_edit_date": 1525196063, "creation_date": 1525192738, "answer_id": 50120341, "question_id": 50119424, "link": "https://stackoverflow.com/questions/50119424/javascript-typescript-transpiler-workflow/50120341#50120341", "title": "JavaScript/TypeScript transpiler workflow", "body": "<p>If you are like me you get no joy in learning how to <em>setup</em> a project these days, but the good news is the workflow, once all configured correctly, has never been better.</p>\n\n<p>Compared to your original workflow you can layer up like so:</p>\n\n<h1>Compile in watch mode</h1>\n\n<p>Use TypeScript's <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\"><code>--watch</code> compiler option</a>:</p>\n\n<pre><code>tsc --watch\n</code></pre>\n\n<p>Every time a source <code>*.ts</code> file is changed it will incrementally recompile the output <code>*.js</code> files. Now you can edit code and refresh your browser window and see the changes, just like before.</p>\n\n<h1>Use an IDE that compiles on save</h1>\n\n<p>Many IDEs with support for TypeScript, such as <a href=\"https://code.visualstudio.com/docs/languages/typescript\" rel=\"nofollow noreferrer\">Visual Studio Code</a> and <a href=\"https://atom.io/packages/atom-typescript\" rel=\"nofollow noreferrer\">Atom</a>, can compile TypeScript to JavaScript every time you edit a file. Again, now you can simply edit code and refresh browser like you did before, without even needing to use the command line.</p>\n\n<h1>Use Webpack</h1>\n\n<p><a href=\"https://atom.io/packages/atom-typescript\" rel=\"nofollow noreferrer\">Webpack</a> is a JavaScript bundler. It will be quite intimidating at first, but it's powerful, flexible, and currently an industry standard. You can think of it like a highly configurable build tool for browser development. They have a <a href=\"https://webpack.js.org/guides/typescript/\" rel=\"nofollow noreferrer\">guide for setting up TypeScript</a>. Once you have configured webpack to handle TypeScript (using <code>ts-loader</code>) you can run the <a href=\"https://webpack.js.org/configuration/dev-server/\" rel=\"nofollow noreferrer\"><code>webpack-dev-server</code></a>. Now code changes will not only incrementally recompile TypeScript on save (in memory, not on the file system), but it will also live-reload the browser window for you. Webpack has a lot of tricks, so the initial setup is well worth it. </p>\n\n<h1>(Angular) Use <code>angular-cli</code></h1>\n\n<p>For Angular projects they provide the <a href=\"https://cli.angular.io/\" rel=\"nofollow noreferrer\"><code>angular-cli</code></a>, a tool built on top of Webpack which makes the initial setup and development workflow even simpler.</p>\n\n<h1>(React) Use <code>react-create-app</code></h1>\n\n<p>Similarly for React projects they've built <a href=\"https://github.com/facebook/create-react-app\" rel=\"nofollow noreferrer\"><code>create-react-app</code></a>, a tool to get up and running without much configuration. It has a lot of options that simplify the setup, for example you can easily <a href=\"https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-flow\" rel=\"nofollow noreferrer\">add Flow</a>, a static type-system similar to TypeScript that works great with React, or you can use <a href=\"https://github.com/wmonk/create-react-app-typescript\" rel=\"nofollow noreferrer\"><code>create-react-app-typescript</code></a> which is a fork of the project that enables TypeScript (which also works great with React).</p>\n\n<hr>\n\n<h2>Conclusion</h2>\n\n<p>I know where you're coming from, I reminisce about the simple days of web development myself, but hopefully I've convinced you that there are some great tools to enable really good workflows today, even better than before! This post actually only scratches the surface. </p>\n"}], "owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1525198975, "creation_date": 1525189151, "last_edit_date": 1525198975, "question_id": 50119424, "link": "https://stackoverflow.com/questions/50119424/javascript-typescript-transpiler-workflow", "title": "JavaScript/TypeScript transpiler workflow", "body": "<p>My workflow with JS/HTML has always been</p>\n\n<ol>\n<li>write code</li>\n<li>reload website</li>\n<li>fix bugs / tweak code</li>\n<li>goto 2</li>\n</ol>\n\n<p>All my projects are still on AngularJS 1.x, and I'm afraid I have to move on to the TypeScript-cli-transpilation workflow.</p>\n\n<p>I don't really understand it. I always saw an inmense benefit of just being able to hit F5 and then see the result of the JavaScript code.</p>\n\n<p>I don't understand how I can continue using that F5-based workflow when there is a compiler which needs to be invoked before every page reload.</p>\n\n<p>Am I missing something? What is the workflow supposed to look like?</p>\n\n<p>This is not necessarily focused on Angular 2+, as other frameworks seem to want to be compiled as well.</p>\n\n<hr>\n\n<p>About 90% of my JavaScript coding occurs inside an editor which has excellent SFTP-support, so I SFTP into the development machine and edit the HTML/JS live on this development server. I have at least three dozen software servers on about three machines, all with a very clean per-project/server directory structure, so I just have to select the directory in the editor and start editing the files, and reload them in the browser.</p>\n\n<p>Switching to CLI would need to have the CLI-server adapt to the existing directory structure, have the CLI-server run alongside the server which actually hosts the HTML/JS-files. It then somehow needs to compile the modified files and put them into the directory where I usually just go ahead editing the file.</p>\n\n<p>My structure usually is as follows</p>\n\n<pre><code>/project1/data/log.txt\n               uploaded.jpg\n         /python/server.py\n                /server_handler_1.py (auto-reloads)\n                /server_handler_2.py (auto-reloads)\n                /html/page1.html\n                      page2.html\n                /scripts/script1.js\n                         script2.js\n                /static/image1.png\n                        image2.png\n</code></pre>\n\n<p>Then, when all is done, I push it via rsync to the destination server.</p>\n\n<p>I very seldomely code web projects on the local machine. I use no IDE's or \"modern\" text-editors, mainly because of their lack of good SFTP support, but also because of their performance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "edited": false, "score": 0, "creation_date": 1525209062, "post_id": 50123539, "comment_id": 87265905, "body": "thank you for the detailed answer but may be i got my question wrong if i do what you said where would my AppModule go and also the way i am doing i can access all the resources that i provide in relective injector array anywhere in the app and also AppInjector gets triggered before even app bootstraps."}, {"owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "edited": false, "score": 0, "creation_date": 1525209897, "post_id": 50123539, "comment_id": 87266233, "body": "I updated the question. Please check and let me know if you need more details and also i am running old version of webpack not angular cli yet. Trying to upgrade the app one thing at a time."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "edited": false, "score": 0, "creation_date": 1525209899, "post_id": 50123539, "comment_id": 87266235, "body": "It can go wherever you like, you just need to be sure you&#39;ve bootstrapped it when you need to access HttpClient. In the code listed above the injector is instance property, _injector, you could use it as well if you need. This code presumes that there is no Angular app, only HttpClient that is used with non-Angular app. If this isn&#39;t so, this could be XY problem - you could share HttpClient  and injector from Angular app the same way."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1525208647, "last_edit_date": 1525208647, "creation_date": 1525207328, "answer_id": 50123539, "question_id": 50118712, "link": "https://stackoverflow.com/questions/50118712/staticinjectorerrorhttpclent-function-class-not-supported/50123539#50123539", "title": "StaticInjectorError[HttpClent]: Function/class not supported", "body": "<p><code>StaticInjector</code> is supposed to be a replacement for <code>ReflectiveInjector</code> that doesn't require <code>Reflect</code> API. <code>getAnnotations</code> is low-level hack and it likely won't work with <code>StaticInjector</code> in its current state. Also, <code>getAnnotations</code> is incompatible with AOT by design.</p>\n\n<p>It's preferable to create an injector for a module the way it is supposed to be done by the framework, i.e. a module should be bootstrapped. Since there is no component to bootstrap, <code>ngDoBootstrap</code> hook should be specified.</p>\n\n<p>By default, bootstrap process is asynchronous. If this is not a problem, initialization promise can be chained to get module instance.</p>\n\n<p>An <a href=\"https://stackblitz.com/edit/angular-cq5a9m\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>@NgModule({\n  imports: [BrowserModule, HttpClientModule]\n})\nexport class MyHttpModule {\n  static httpClient?: HttpClient;\n  httpClient?: HttpClient;\n\n  constructor(private _injector: Injector) {}\n\n  ngDoBootstrap() {\n    MyHttpModule.httpClient = this.httpClient = this._injector.get(HttpClient);\n  }  \n}\n\nplatformBrowserDynamic().bootstrapModule(MyHttpModule)\n.then((myHttpModule: NgModuleRef&lt;MyHttpModule&gt;) =&gt; {\n    // HttpClient instance is available here\n    const httpClient = myHttpModule.instance.httpClient;\n    httpClient.get('/foo', { responseType: 'text'}).subscribe();\n})\n.catch(err =&gt; console.error(err));\n</code></pre>\n\n<p>This approach is compatible with both JIT and AOT (which is good for using <code>HttpClient</code> apart from Angular because this lowers the footprint significantly) out of the box.</p>\n\n<p>Otherwise custom synchronous bootstrap routine can be performed instead. This is possible because <code>HttpClient</code> doesn't require asynchronous initialization.</p>\n\n<p>An <a href=\"https://stackblitz.com/edit/angular-nb1mya\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>@NgModule({\n  imports: [BrowserModule, HttpClientModule]\n})\nexport class MyHttpModule {\n  static httpClient?: HttpClient;\n\n  constructor(public _injector: Injector) {\n    MyHttpModule.httpClient = this._injector.get(HttpClient);\n  }\n\n  ngDoBootstrap() {}  \n}\n\nconst platform = platformBrowserDynamic();\nconst compiler = platform.injector.get(CompilerFactory).createCompiler();\nconst moduleFactory = compiler.compileModuleSync(MyHttpModule);\n\nplatform.bootstrapModuleFactory(moduleFactory)\n.catch(err =&gt; console.error(err));\n\nconst httpClient = MyHttpModule.httpClient;\nhttpClient.get('/foo').subscribe();\n</code></pre>\n\n<p>This will work in JIT, but AOT can't be efficiently handled by Angular CLI in the code above. The code involves the compiler, which isn't needed in AOT compilation mode (that's its purpose). In order to use AOT, it should be compiled with <code>ngc</code> compiler and a separate entry point that uses module factories should be created. Bootstrap routine becomes even simpler, because it doesn't involve compiler, something like:</p>\n\n<pre><code>...\nimport { platformBrowser } from '@angular/platform-browser-dynamic';\nimport { AppModuleNgFactory } from '&lt;path to aot&gt;/src/app/my-http-module.ngfactory';\n\nconst platform = platformBrowser();\nplatform.bootstrapModuleFactory(AppModuleNgFactory)\n.catch(err =&gt; console.error(err));\n\nconst httpClient = MyHttpModule.httpClient;\nhttpClient.get('/foo').subscribe();\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1525209776, "creation_date": 1525186472, "last_edit_date": 1525209776, "question_id": 50118712, "link": "https://stackoverflow.com/questions/50118712/staticinjectorerrorhttpclent-function-class-not-supported", "title": "StaticInjectorError[HttpClent]: Function/class not supported", "body": "<p>I am trying to inject the <code>HttpClientModule</code> manually which runs <s>outside</s> independent(may be!) from app. Before static injector i was using reflective injector and code was working fine but now that reflective injector has been deprecated and I want to update my code with static injector. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//appInjector.ts\r\nexport class AppInjector {\r\n\r\n  private static _instance: AppInjector = new AppInjector();\r\n  private _injector;\r\n\r\n  constructor() {\r\n    console.log('app-injector');\r\n    AppInjector._instance = this;\r\n    this._injector = ReflectiveInjector.resolveAndCreate([\r\n        ...[getAnnotations(HttpClientModule)[0].providers],\r\n        MY_HTTP_DEPENDENT_PROVIDERS\r\n        ]);\r\n        \r\n  static getInstance(): AppInjector {\r\n    return AppInjector._instance;\r\n  }\r\n\r\n  get(cls: any): any {\r\n    return this._injector.get(cls);\r\n  }\r\n}\r\n//someFile.ts\r\nconst translate = AppInjector.getInstance().get(TranslateResource);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>refer <a href=\"https://stackoverflow.com/questions/45203981/inject-http-manually-in-angular-4\">This Post</a> \nfor annotation fn.\nNow when i am trying to use Http client with static inject it gives error:\n<code>StaticInjectorError[HttpClent]: Function/class not supported</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//app module\r\n@NgModule({\r\n  imports: [],\r\n  declarations: [],\r\n  providers: [],\r\n  entryComponents: [App]\r\n})\r\nexport class AppModule {\r\n  ngDoBootstrap(app) {\r\n    console.log('bootstrapping');\r\n    app.bootstrap(App);\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>so if i log it will log <code>app-injector</code> and then <code>bootstrapping</code>.</p>\n"}, {"tags": ["angular", "typescript", "http", "casting"], "comments": [{"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 0, "creation_date": 1525186285, "post_id": 50118635, "comment_id": 87254593, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5525783/best-way-to-deal-with-very-large-long-numbers-in-ajax\">Best way to deal with very large Long numbers in Ajax?</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1525188136, "post_id": 50118635, "comment_id": 87255622, "body": "If you don&#39;t have any way to alter the back end response, then you will unfortunately need to get the response as text instead of json and use your own alternative to <code>JSON.parse()</code>.  If you are being fast and loose you can probably use some regular expression to encase the long strings of digits in quotation marks before passing it to the standard <code>JSON.parse()</code>, but that is fragile.  Or you can find an <a href=\"https://www.npmjs.com/package/lossless-json\" rel=\"nofollow noreferrer\">existing parser</a> and use that."}], "owner": {"reputation": 129, "user_id": 1096096, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/069d2dd76ddec165ce503b3ca82c75a7?s=128&d=identicon&r=PG", "display_name": "Afaque", "link": "https://stackoverflow.com/users/1096096/afaque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1488, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525186388, "creation_date": 1525186103, "last_edit_date": 1525186388, "question_id": 50118635, "link": "https://stackoverflow.com/questions/50118635/large-intergers-long-in-angular-http-response-are-rounded-off", "title": "Large intergers (long) in angular http response are rounded off", "body": "<p>I am calling a web service that returns </p>\n\n<pre><code>[\n    {\n        \"product_id\": 4253579243953800463,\n        \"timestamp\": 1525107472,\n        \"event_type\": \"PRODUCT_VIEW\",\n        \"event_count\": 1\n    },\n    {\n        \"product_id\": 788410946016999754,\n        \"timestamp\": 1525107472,\n        \"event_type\": \"PRODUCT_VIEW\",\n        \"event_count\": 1\n    }\n]\n</code></pre>\n\n<p>I have coded a service in my angular code that makes a call to this backend service </p>\n\n<pre><code>  getLastRecommendations(): Observable&lt;UserProductEvent[]&gt; {\n   return this.http.get&lt;UserProductEvent[]&gt;(url, HTTP_OPTIONS)\n  }\n</code></pre>\n\n<p>I see that the response the product id is of type long, and its value is greater than Number.MAX_SAFE_INTEGER in javascript, so I want to force the product id to be treated as string.\notherwise the values are rounded off to</p>\n\n<pre><code>[\n    {\n        \"product_id\": 4253579243953800700,\n        \"timestamp\": 1525107472,\n        \"event_type\": \"PRODUCT_VIEW\",\n        \"event_count\": 1\n    },\n    {\n        \"product_id\": 788410946016999800,\n        \"timestamp\": 1525107472,\n        \"event_type\": \"PRODUCT_VIEW\",\n        \"event_count\": 1\n    }\n]\n</code></pre>\n\n<p>I tried changing the type of product_id to string in my typescript interface declaration but it still does not work.</p>\n\n<p>How can I force typescript/javascript to consider the field as string?</p>\n\n<p>Could anyone please help? </p>\n\n<pre><code>export interface UserProductEvent {\n    product_id: string;\n    timestamp: number;\n    event_type: string;\n    event_count: number;\n}\n</code></pre>\n\n<p>and I can't get the backend changed. :(</p>\n"}, {"tags": ["typescript", "promise", "angular5"], "comments": [{"owner": {"reputation": 382, "user_id": 9353387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3G2gD.jpg?s=128&g=1", "display_name": "Isaa\u0441 Weisberg", "link": "https://stackoverflow.com/users/9353387/isaa%d1%81-weisberg"}, "edited": false, "score": 0, "creation_date": 1525186644, "post_id": 50118525, "comment_id": 87254767, "body": "Incredible indentation style, respect!"}], "answers": [{"tags": [], "owner": {"reputation": 382, "user_id": 9353387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3G2gD.jpg?s=128&g=1", "display_name": "Isaa\u0441 Weisberg", "link": "https://stackoverflow.com/users/9353387/isaa%d1%81-weisberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1525187099, "creation_date": 1525187099, "answer_id": 50118874, "question_id": 50118525, "link": "https://stackoverflow.com/questions/50118525/how-to-return-promisestring-after-user-clicks-ok-button-in-a-modal-window/50118874#50118874", "title": "How to return Promise&lt;string&gt; after user clicks &quot;OK&quot; button in a modal window?", "body": "<p>The desired effect can be achieved in a following sequence:</p>\n\n<ol>\n<li><p>The function-creator creates a promise object that doesn't have an associated execution block, thus allowing for promise chain to be created without explicitly starting any execution process.</p></li>\n<li><p>All the necessary setup happens, a reference is left retained to this promise object, as well as returning this promise object in the function-creator.</p></li>\n<li><p>Event handlers should capture the promise object and <code>fulfill</code> and <code>reject</code> as appropriate.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 719, "user_id": 1436138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59daa5cbe9702d15e2aeea09a2621605?s=128&d=identicon&r=PG", "display_name": "Digitrance", "link": "https://stackoverflow.com/users/1436138/digitrance"}, "is_accepted": true, "score": 0, "last_activity_date": 1525204051, "creation_date": 1525204051, "answer_id": 50122839, "question_id": 50118525, "link": "https://stackoverflow.com/questions/50118525/how-to-return-promisestring-after-user-clicks-ok-button-in-a-modal-window/50122839#50122839", "title": "How to return Promise&lt;string&gt; after user clicks &quot;OK&quot; button in a modal window?", "body": "<p>There is a very easy solution for this if you are using or can use <code>rxjs</code>.</p>\n\n<p>Basically, </p>\n\n<ol>\n<li>you create a promise where you subscribe to a locally defined observable.</li>\n<li>When user clicks OK (or cancel), you can publish a boolean to the observable.</li>\n<li>This subscription function will receive the boolean, and can then resolve or reject the promise based on the boolean value.</li>\n</ol>\n\n<p>Here's the sample code:</p>\n\n<pre><code>import {Subject} from 'rxjs/Subject';\n\nexport class ModalClass {\n\n    okOperation$ = new Subject();\n    newPassword: string;\n\n    passwordModal() : Promise&lt;string&gt;\n    {\n        this.PasswordModalVisible = true;\n\n        return new Promise((resolve, reject) =&gt; {\n            // Wait for the user to press the \"OK\" or \"CANCEL\" button?\n            this.okOperation$.subscribe((success: boolean) =&gt; {\n                if (success) {\n                    resolve(this.newPassword);\n                } else {\n                    reject('User clicked cancel');\n                }\n            });\n\n        });\n    }\n\n    okClicked() {\n        this.okOperation$.next(true);\n    }\n\n    cancelClicked() {\n        this.okOperation$.next(false);\n    }\n}\n\nexport class DemoClass {        \n\n    constructor(private modal: ModalClass) {}\n\n    changePassword()\n    {\n        this.modal\n            .passwordModal()\n            .then(res =&gt; {\n                console.log(res); // New Password                   \n                /*set new password*/\n            })\n            .catch(msg =&gt; {\n                console.log(msg); // User clicked cancel                    \n                /*resolve error*/\n            });\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9536240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2310, "favorite_count": 0, "accepted_answer_id": 50122839, "answer_count": 2, "score": 0, "last_activity_date": 1525204051, "creation_date": 1525185663, "question_id": 50118525, "link": "https://stackoverflow.com/questions/50118525/how-to-return-promisestring-after-user-clicks-ok-button-in-a-modal-window", "title": "How to return Promise&lt;string&gt; after user clicks &quot;OK&quot; button in a modal window?", "body": "<p>I want to show a modal window asking for input e.g: \"Your new password:\" by calling a function returning Promise after user clicks the \"OK\" button.</p>\n\n<p>Code that would be called after clicking a button to change password:</p>\n\n<pre><code>ChangePassword()\n{\n modal.PasswordModal().then(res =&gt; {/*set new password*/})\n                      .catch(msg =&gt; {/*resolve error*/})\n}\n</code></pre>\n\n<p>Code that would return Promise and show the modal window with input.</p>\n\n<pre><code>PasswordModal() : Promise&lt;string&gt;\n{\n this.PasswordModalVisible = true\n //How to wait for the user to press the \"OK\" button?\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "frontend", "angular5"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1525186356, "post_id": 50118428, "comment_id": 87254634, "body": "what should happen to json after selecting one and then selecting two, it should reset ??"}, {"owner": {"reputation": 143, "user_id": 8818013, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-z_lSiHX9ADc/AAAAAAAAAAI/AAAAAAAAABM/I5mU0COAEbo/photo.jpg?sz=128", "display_name": "Kishan M", "link": "https://stackoverflow.com/users/8818013/kishan-m"}, "reply_to_user": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1525186496, "post_id": 50118428, "comment_id": 87254697, "body": "It is single option, the function is called only on submit."}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1525186599, "post_id": 50118428, "comment_id": 87254739, "body": "if it is one time, are you looking for something like this - <a href=\"https://stackblitz.com/edit/angular-sr6nzh?file=app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-sr6nzh?file=app/app.component.ts</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 1, "last_activity_date": 1525187355, "creation_date": 1525187355, "answer_id": 50118940, "question_id": 50118428, "link": "https://stackoverflow.com/questions/50118428/handling-boolean-filter-in-angular-5-options-fields/50118940#50118940", "title": "Handling Boolean filter in angular 5 options fields?", "body": "<p>Load your <code>options</code> from an array of objects and use two-way data binding on your <code>select</code> element, I.e.:</p>\n\n<pre><code>let options = [\n    {\n        value: 'one',\n        optionName: 'One'\n    },\n    {\n        value: 'two',\n        optionName: 'Two'\n    },\n    {\n        value: 'three',\n        optionName: 'Three'\n    }\n]\n\nlet selectedOption = 'two'\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;select [(ngModel)]=\"selectedOption \"&gt;\n...\n</code></pre>\n\n<p>Then iterate over your options to build the response:</p>\n\n<p><code>console.log(options.map(x =&gt; x.value).map(x =&gt; { return {[x]: x === selectedOption ? true : false}}))</code></p>\n"}, {"tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1525187388, "creation_date": 1525187388, "answer_id": 50118948, "question_id": 50118428, "link": "https://stackoverflow.com/questions/50118428/handling-boolean-filter-in-angular-5-options-fields/50118948#50118948", "title": "Handling Boolean filter in angular 5 options fields?", "body": "<p>To achieve expected result, use below option </p>\n\n<pre><code>arrList = {\n     one    : false,\n     two    : false,\n     three  : false,\n     four   : false\n }\n  options =[\"One\",\"Two\",\"Three\",\"Four\"]\n\n  onOptionsSelected(e) {\n    let result:any[] =[];\n    result = this.arrList;\n    result[this.options[e-1].toLowerCase()] = true\n    console.log(result);\n  }\n</code></pre>\n\n<p>code sample - <a href=\"https://stackblitz.com/edit/angular-sr6nzh?file=app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-sr6nzh?file=app/app.component.ts</a></p>\n"}], "owner": {"reputation": 143, "user_id": 8818013, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-z_lSiHX9ADc/AAAAAAAAAAI/AAAAAAAAABM/I5mU0COAEbo/photo.jpg?sz=128", "display_name": "Kishan M", "link": "https://stackoverflow.com/users/8818013/kishan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525187388, "creation_date": 1525185322, "question_id": 50118428, "link": "https://stackoverflow.com/questions/50118428/handling-boolean-filter-in-angular-5-options-fields", "title": "Handling Boolean filter in angular 5 options fields?", "body": "<p><strong>HTML</strong></p>\n\n<pre><code>&lt;option value=\"1\"&gt;One&lt;/option&gt;\n&lt;option value=\"2\"&gt;Two&lt;/option&gt;\n&lt;option value=\"3\"&gt;Three&lt;/option&gt;\n&lt;option value=\"4\"&gt;Four&lt;/option&gt;\n</code></pre>\n\n<p>The above is the html template, i want to send the json response shown below, except when a particular option is selected, then only that value should be true.</p>\n\n<p><strong>JSON</strong></p>\n\n<pre><code> {\n     one    : false,\n     two    : false,\n     three  : false,\n     four   : false\n }\n</code></pre>\n\n<p><em>For Example</em> -\nIf <code>one</code> is selected then json response should be like -</p>\n\n<pre><code>  {\n     one    : true,\n     two    : false,\n     three  : false,\n     four   : false\n  }  \n</code></pre>\n\n<p>How do i handle this in angular 5, is there any inbuilt function for this? or is there a better way to add a filter?</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 1747, "user_id": 2975759, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93d2e3a997a68d49b307ee3c9be077e3?s=128&d=identicon&r=PG", "display_name": "Andrew Lobban", "link": "https://stackoverflow.com/users/2975759/andrew-lobban"}, "edited": false, "score": 0, "creation_date": 1525185378, "post_id": 50118330, "comment_id": 87254082, "body": "Switch the position of routes. <code>path: &#39;&#39;</code> with match first and no other will get routed. That&#39;s the most blatant issue I see. <code>Default</code> and <code>Wildcard</code> routes most be last in the sequence."}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 1747, "user_id": 2975759, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93d2e3a997a68d49b307ee3c9be077e3?s=128&d=identicon&r=PG", "display_name": "Andrew Lobban", "link": "https://stackoverflow.com/users/2975759/andrew-lobban"}, "edited": false, "score": 0, "creation_date": 1525185778, "post_id": 50118330, "comment_id": 87254319, "body": "@AndrewLobban That is incorrect. You can have a root path (<code>&#39;&#39;</code>) before a named path (<code>&#39;foo&#39;</code>), and both can still be routed to just fine. What you are referring to happens when you have a path like <code>&#39;:id&#39;</code> before a named path. In that case, the parameter path will always be routed to and the named path will never be hit."}, {"owner": {"reputation": 6729, "user_id": 394491, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91c8465d4289cae82742ce8eee374e92?s=128&d=identicon&r=PG", "display_name": "NRaf", "link": "https://stackoverflow.com/users/394491/nraf"}, "edited": false, "score": 0, "creation_date": 1525186170, "post_id": 50118330, "comment_id": 87254533, "body": "Yup, tried switching them around, doesn&#39;t solve anything."}], "owner": {"reputation": 6729, "user_id": 394491, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91c8465d4289cae82742ce8eee374e92?s=128&d=identicon&r=PG", "display_name": "NRaf", "link": "https://stackoverflow.com/users/394491/nraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1525186220, "creation_date": 1525184983, "last_edit_date": 1525186220, "question_id": 50118330, "link": "https://stackoverflow.com/questions/50118330/angular-router-matching-paths-starting-with", "title": "Angular Router matching paths starting with", "body": "<p>One requirement for an app I'm working is to support multiple route prefixes.</p>\n\n<p>i.e. <code>/shop</code> and <code>/store</code> should both be matched. I've achieved this using a custom UrlMatcher:</p>\n\n<pre><code>matchPathsStartingWith(startingWith: string[]) {\n    return (url: UrlSegment[]): UrlMatchResult =&gt; {\n      if (url.length) {\n        let s = url.map(u =&gt; u.path).join('/');\n        console.log(s);\n        if (startingWith.includes(url[0].path)) {\n          return { consumed: url };\n        }\n      }\n      return null;\n    };\n  }\n</code></pre>\n\n<p>I use this as follows:</p>\n\n<pre><code>  {\n    matcher: new UrlPathMatcher().matchPathsStartingWith([\n      'store',\n      'shop',\n    ]),\n    loadChildren:\n      'app/store.module#StoreModule',\n  },\n</code></pre>\n\n<p>Then in my Store Module, I have the following routes defined:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    component: StoreDashboardComponent,\n  },\n  {\n    path: 'products',\n    component: ProductsListComponent,\n  },\n];\n</code></pre>\n\n<p>The issue I'm facing is that this only matches the first route (i.e. <code>StoreDashboardComponent</code>, but not <code>ProductsListComponent</code>. I'm assuming this is due to what is being returned by my custom matcher function.</p>\n\n<p>What should I return to achieve the desired functionality?</p>\n\n<p>Edit: If I get rid of the URLMatcher entirely, and instead create two seperate routes for 'shop' and 'store' it works fine.</p>\n"}, {"tags": ["javascript", "typescript", "type-systems", "duck-typing", "structural-typing"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1525188033, "post_id": 50118155, "comment_id": 87255570, "body": "<code>This is sometimes called &quot;duck typing&quot;</code>... I don&#39;t see a claim that TypeScript <i>is</i> formally a Duck Typing system, per the strict definition, and a quick google search shows this statement to be true. TypeScript doesn&#39;t really fit into the wikipedia article because it&#39;s not a runtime language at all, it&#39;s just a type-checker. However it certainly meets several of the criteria, including the basic duck principal and the fact it compiles to JavaScript, a dynamically typed language."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525192314, "post_id": 50118155, "comment_id": 87257858, "body": "@Aaron <i>type-checking focuses on the shapes that value have</i>, is something to do with Structural typing but not Duck typing. Because my understanding of its meaning is... <i>type compatibility and equivalence are determined by the type&#39;s actual structure or definition</i>. Further in the handbook, it says the same...  <i>It\u2019s worth pointing out that the type-checker does not require that these properties come in any sort of order, only that the properties the interface requires are present and have the required type.</i>"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525194696, "post_id": 50118155, "comment_id": 87259075, "body": "I think the definition you&#39;re using for duck-typing is not wrong, but not complete in how the term is used, which is why TypeScript is sometimes called &quot;duck typing&quot;."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525196167, "post_id": 50118155, "comment_id": 87259793, "body": "@Aaron Due to type check in compile-time vs run-time, I see below example like this.. <b>1)</b> <code>let myObj:labelledValue = {size: 10, label: &quot;Size 10 Object&quot;};</code> has to go for compile-time type check, which follows structural typing. <b>2)</b> Parameter object received in <code>function printLabel(labelledObj: LabelledValue) {..}</code> can only be checked at runtime, where there is no type(<code>function printLabel(labelledObj) {}</code>), so obviously it is the same rules that JS follows(duck typing), in second case."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525196945, "post_id": 50118155, "comment_id": 87260171, "body": "Yes, TS is &quot;compile-time duck-typing&quot; if you want to say."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1525280938, "post_id": 50118155, "comment_id": 87298294, "body": "@Aaron I think the below answer should have <code>let myObj = {size: 10, label_1: &quot;Size 10 Object&quot;};</code>. Code still works dues to duck typing."}], "answers": [{"comments": [{"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525186174, "post_id": 50118547, "comment_id": 87254535, "body": "<b>1)</b> Ducktyping does not require two objects to have same properties(of same type and name). Duck typing does <b>not deal with type equivalence</b>.  For an object, If a property(say method) that you call,  exist, then duck typing says you can call that method. <b>2)</b> Structural typing(atleast in TypeScript) <b>deals with type equivalence</b> of two objects based on both type and names of the members in those two objects"}, {"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525186484, "post_id": 50118547, "comment_id": 87254688, "body": "Interfaces are a little different though. If an object has the same properties and types as defined in the interface then the object would be accepted as implementing the interface even though it isn&#39;t explicitly defined as such."}, {"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525186523, "post_id": 50118547, "comment_id": 87254710, "body": "If <code>LabelledValue</code> was a class then that would change things. and <code>myObj</code> wouldn&#39;t pass the test and TypeScript would error"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525186965, "post_id": 50118547, "comment_id": 87254946, "body": "That is bad example, I would say, <code>let myObj:labelledValue={...}</code> then no more complications and you cannot call <code>printLabel()</code> anymore. This is one of the purpose of <code>interface</code> keyword, to solve such problems of JS"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525187191, "post_id": 50118547, "comment_id": 87255064, "body": "In your answer: <i>therefore implicitly implements the interface</i> looks incorrect to me."}, {"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525187226, "post_id": 50118547, "comment_id": 87255083, "body": "True, you would normally explicitly specify the type, but, <i>that isn&#39;t the point of the example.</i> The example is there to show you how interfaces (and duck typing) work."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525187339, "post_id": 50118547, "comment_id": 87255156, "body": "Isn&#39;t <i>explicit typing</i> &amp; <i>duck typing</i>, mutually exclusive? Why language allow such constructs? to support 3rd part JS libraries?"}, {"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1525187398, "post_id": 50118547, "comment_id": 87255198, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170154/discussion-between-phuzi-and-overexchange\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "is_accepted": false, "score": 6, "last_activity_date": 1525186663, "last_edit_date": 1525186663, "creation_date": 1525185748, "answer_id": 50118547, "question_id": 50118155, "link": "https://stackoverflow.com/questions/50118155/structural-typing-is-not-duck-typing/50118547#50118547", "title": "Structural typing is not duck typing", "body": "<p>From <a href=\"https://en.wikipedia.org/wiki/Duck_test\" rel=\"noreferrer\">Duck test</a> and <a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"noreferrer\">Duck Typing</a> and on Wikipedia</p>\n\n<blockquote>\n  <p>If it looks like a duck, swims like a duck, and quacks like a duck, then it probably is a duck.</p>\n</blockquote>\n\n<p>This is essentially how TypeScript interfaces work. An object just has to look like the interface rather than explicitly implement it.</p>\n\n<p>Form the page you linked to:</p>\n\n<pre><code>interface LabelledValue {\n    label: string;\n}\n\nfunction printLabel(labelledObj: LabelledValue) {\n    console.log(labelledObj.label);\n}\n\nlet myObj = {size: 10, label: \"Size 10 Object\"};\nprintLabel(myObj);\n</code></pre>\n\n<p>Even though <code>myObj</code> doesn't explicitly implement the <code>LabelledValue</code> interface it does have the same structure and therefore implicitly implements the interface. This is Duck Typing</p>\n\n<p><strong>UPDATE</strong> If the <code>LabelledValue</code> interface were defined as a class then the above code wouldn't \"compile\". This is Structural Typing.</p>\n\n<p><strong>Note</strong> TypeScript has no runtime checking as it is \"compiled\" down to JavaScript</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 402737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RRtxZ.jpg?s=128&g=1", "display_name": "pikuseru", "link": "https://stackoverflow.com/users/402737/pikuseru"}, "is_accepted": false, "score": 1, "last_activity_date": 1588335455, "last_edit_date": 1588335455, "creation_date": 1588330768, "answer_id": 61541160, "question_id": 50118155, "link": "https://stackoverflow.com/questions/50118155/structural-typing-is-not-duck-typing/61541160#61541160", "title": "Structural typing is not duck typing", "body": "<pre><code>interface Duck {\n    typing(): void;\n}\n\nconst porky = {} as Duck;\n\ntry {\n    porky.typing();\n} catch (error) {\n    console.log(error); // TypeError: porky.typing is not a function\n}\n\nconst isDucky = (it: { typing?: () =&gt; void }): it is Duck =&gt;\n    typeof it.typing === 'function';\n\nconst daffy = {\n    typing: () =&gt; console.log('tappity tap tap')\n};\n\nif (isDucky(daffy)) {\n    daffy.typing(); // tappity tap tap\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/of3Vi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/of3Vi.jpg\" alt=\"duck typing\"></a></p>\n"}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1588335455, "creation_date": 1525184295, "last_edit_date": 1525185129, "question_id": 50118155, "link": "https://stackoverflow.com/questions/50118155/structural-typing-is-not-duck-typing", "title": "Structural typing is not duck typing", "body": "<p>As mentioned in TypeScript <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"noreferrer\">handbook</a>:</p>\n\n<blockquote>\n  <p>One of TypeScript\u2019s core principles is that type-checking focuses on the shape that values have. This is sometimes called \u201cduck typing\u201d or \u201cstructural subtyping\u201d.In TypeScript, interfaces fill the role of naming these types,... </p>\n</blockquote>\n\n<hr>\n\n<p>My understanding is, the above core principle does not relate to <em>Duck typing</em> but <a href=\"https://en.wikipedia.org/wiki/Structural_type_system\" rel=\"noreferrer\">Structural typing</a>, because TypeScript is static typed language. </p>\n\n<p>As mentioned in <a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"noreferrer\">wiki</a>: <em>It requires that type checking be deferred to runtime, and is implemented by means of dynamic typing or reflection... an object's suitability is determined by the presence of certain methods and properties (with appropriate meaning), rather than the actual type of the object.</em></p>\n\n<p>How do I understand the above core principle of TypeScript?</p>\n"}, {"tags": ["angular", "typescript", "firebase", "rxjs", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525184752, "post_id": 50117965, "comment_id": 87253753, "body": "You pasted the same code twice."}, {"owner": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "reply_to_user": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525185102, "post_id": 50117965, "comment_id": 87253934, "body": "No, if you look carefully, you see that I have a subject that passes the collection on the second code snippet"}, {"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1525185499, "post_id": 50117965, "comment_id": 87254151, "body": "Ok, you could add just the difference to make it easy to understand for readers. Can you share your component code ?"}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "edited": false, "score": 0, "creation_date": 1525199591, "post_id": 50117965, "comment_id": 87261539, "body": "What is the error you are getting?"}, {"owner": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "reply_to_user": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "edited": false, "score": 0, "creation_date": 1525199793, "post_id": 50117965, "comment_id": 87261642, "body": "@bygrace I get &quot;cannot find method doc of undefined&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "edited": false, "score": 0, "creation_date": 1525200327, "post_id": 50121750, "comment_id": 87261925, "body": "Thanks, but this does not include fokosCollection"}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "reply_to_user": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "edited": false, "score": 0, "creation_date": 1525200615, "post_id": 50121750, "comment_id": 87262082, "body": "@SondreS&#248;rbye it has it as an observable. Since you wanted to know when it was initialized."}, {"owner": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "edited": false, "score": 0, "creation_date": 1525204759, "post_id": 50121750, "comment_id": 87264002, "body": "This does not work because switchMap must return an observable, fokosCollection is of type AngularFirestoreCollection."}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "reply_to_user": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "edited": false, "score": 0, "creation_date": 1525261699, "post_id": 50121750, "comment_id": 87285786, "body": "@SondreS&#248;rbye Sorry, I am not very familiar with FireBase. I switched it to a <code>map</code>. I also switched <code>myFokos</code> and the component code to use a <code>switchMap</code> since <code>valueChanges()</code> returns an observable."}, {"owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "reply_to_user": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "edited": false, "score": 1, "creation_date": 1525275284, "post_id": 50121750, "comment_id": 87295096, "body": "@SondreS&#248;rbye I saw your suggested edit. Adding the <code>shareReplay(1)</code> would be better in the service so that other consumers will not create additional subscriptions. For instance, subscribing to <code>myFokos</code> would create another subscription down the to root since the <code>shareReplay(1)</code> isn&#39;t in its stream. I&#39;ll update the answer to have the share and replay in the service."}], "tags": [], "owner": {"reputation": 5231, "user_id": 959745, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9OhTs.jpg?s=128&g=1", "display_name": "bygrace", "link": "https://stackoverflow.com/users/959745/bygrace"}, "is_accepted": true, "score": 1, "last_activity_date": 1525275400, "last_edit_date": 1525275400, "creation_date": 1525199038, "answer_id": 50121750, "question_id": 50117965, "link": "https://stackoverflow.com/questions/50117965/how-to-deal-with-properties-that-are-initilaized-asynchronously-in-angular/50121750#50121750", "title": "How to deal with properties that are initilaized asynchronously in Angular?", "body": "<p>In your <code>switchMap</code> you are not returning a value if user is falsy. You should return something. Using the <code>filter</code> operator prevents that case.</p>\n\n<p>Since you want to know when <code>fokosCollection</code> is initialized I would suggest that you expose it as an observable.</p>\n\n<pre><code>fokosCollection: Observable&lt;AngularFirestoreCollection&lt;Foko&gt;&gt;;\nmyFokos: Observable&lt;Foko[]&gt;;\n\nconstructor(auth: AuthService, public afs: AngularFirestore) {\n  this.fokosCollection = auth.user$\n    .filter(x =&gt; x != null)\n    .map(user =&gt; afs.collection&lt;Foko&gt;('users/' + user.uid + '/fokos'))\n    .shareReplay(1);\n  this.myFokos = this.fokosCollection.switchMap(x =&gt; x.valueChanges());\n}\n</code></pre>\n\n<p>I added <code>shareReplay(1)</code> to share a single underlying subscription and to replay the last value to new subscribers. You may or may not want this in your scenario but I find that I generally want it when exposing observables that could have multiple subscriptions.</p>\n\n<p>Then in your component:</p>\n\n<pre><code>this.myListService.fokosCollection.switchMap(x =&gt; x.doc(codeInput).valueChanges()).take(1).subscribe(foko =&gt; {\n   getData(foko)\n });\n</code></pre>\n"}], "owner": {"reputation": 328, "user_id": 6051582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-cJ9A1jL_5_0/AAAAAAAAAAI/AAAAAAAASgY/-9dT06vWrtc/photo.jpg?sz=128", "display_name": "Sondre S&#248;rbye", "link": "https://stackoverflow.com/users/6051582/sondre-s%c3%b8rbye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "accepted_answer_id": 50121750, "answer_count": 1, "score": 3, "last_activity_date": 1525352148, "creation_date": 1525183550, "last_edit_date": 1525352148, "question_id": 50117965, "link": "https://stackoverflow.com/questions/50117965/how-to-deal-with-properties-that-are-initilaized-asynchronously-in-angular", "title": "How to deal with properties that are initilaized asynchronously in Angular?", "body": "<p>I am trying to get an AngularFirestoreCollection from a service in angular. The AngularFirestoreCollection is initialized asynchronously inside an observable subscription. When I try to get the collection from a component, I get an error because it is undefined.</p>\n\n<p>Here is the code for my service: </p>\n\n<pre><code>fokosCollection: AngularFirestoreCollection&lt;Foko&gt;;\nmyFokos: Observable&lt;Foko[]&gt;;\n\nconstructor(auth: AuthService, public afs: AngularFirestore) {\n\n  this.myFokos = auth.user$.switchMap(user =&gt; {\n    if (user) {\n      this.fokosCollection = afs.collection&lt;Foko&gt;('users/' + user.uid + '/fokos');\n      return this.fokosCollection.valueChanges();\n    }\n  });\n\n}\n</code></pre>\n\n<p>This is the code of my component:</p>\n\n<pre><code> this.myListService.fokosCollection.doc(codeInput).valueChanges().take(1).subscribe(foko =&gt; {\n   getData(foko)\n });\n</code></pre>\n\n<p>I tried make a Subject that notified the component when the Collection was initialized. This worked when I navigated directly to this component. However, if I navigated to this component from another, the subject subscription was never called (because the subscription did not exist when the Subject emitted the collection).</p>\n\n<p>Here is what I tried:</p>\n\n<pre><code>fokosCollection: AngularFirestoreCollection&lt;Foko&gt;;\nfokosCollectionSubject = new Subject&lt;AngularFirestoreCollection&lt;Foko&gt;&gt;();\nmyFokos: Observable&lt;Foko[]&gt;;\n\nconstructor(auth: AuthService, public afs: AngularFirestore) {\n\n  this.myFokos = auth.user$.switchMap(user =&gt; {\n    if (user) {\n      this.fokosCollection = afs.collection&lt;Foko&gt;('users/' + user.uid + '/fokos');\n      this.fokosCollectionSubject.next(this.fokosCollection);\n      ...\n</code></pre>\n\n<p>And I changed the code of the component to this:</p>\n\n<pre><code>this.myListService.fokosCollectionSubject.take(1).switchMap(fokosCollection =&gt; {\n    return fokosCollection.doc(codeInput).valueChanges().take(1);\n  }).subscribe(foko =&gt; {\n    getData(foko)\n  });\n</code></pre>\n\n<p>I can try to get the Collection and if it throws an error, subscribe to the Subject. However, I think that would not be good code. So, what is the best practice to deak with asynchronous data in Angular?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525183514, "post_id": 50117799, "comment_id": 87253112, "body": "Not exactly a duplicate, but <a href=\"https://stackoverflow.com/questions/43909566/get-keys-of-a-typescript-interface-as-array-of-strings\">this</a> should help you"}, {"owner": {"reputation": 75, "user_id": 6894947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980e62a76dd0725384477072be7241df?s=128&d=identicon&r=PG&f=1", "display_name": "BigBawss", "link": "https://stackoverflow.com/users/6894947/bigbawss"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1525183977, "post_id": 50117799, "comment_id": 87253343, "body": "Doesn&#39;t this only retrieve the keys and not both?"}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 0, "last_activity_date": 1525184101, "last_edit_date": 1525184101, "creation_date": 1525183624, "answer_id": 50117979, "question_id": 50117799, "link": "https://stackoverflow.com/questions/50117799/transforming-objects-to-an-object-with-an-interface/50117979#50117979", "title": "Transforming objects to an object with an interface", "body": "<p>Unfortunately, there's not a direct way to do so, as interfaces disappear at runtime. The quickest way, in my opinion, would be:</p>\n\n<pre><code>interface Interface {\n    foo: number;\n    quux: number;\n}\n\nconst { foo, quux } = foo;\nconst inewOb: Interface = { foo, quux };\n</code></pre>\n\n<p>Of course, this solution only serves for this interface, because there is no generic solution due to the fact that, as stated, interfaces disappear at runtime, so there isn't a way to list all its properties and extract them from an object.</p>\n"}], "owner": {"reputation": 75, "user_id": 6894947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980e62a76dd0725384477072be7241df?s=128&d=identicon&r=PG&f=1", "display_name": "BigBawss", "link": "https://stackoverflow.com/users/6894947/bigbawss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 50117979, "answer_count": 1, "score": 1, "last_activity_date": 1525184101, "creation_date": 1525182967, "question_id": 50117799, "link": "https://stackoverflow.com/questions/50117799/transforming-objects-to-an-object-with-an-interface", "title": "Transforming objects to an object with an interface", "body": "<p>Say the database returned an object e.g</p>\n\n<pre><code>foo: {bar: 1, baz: 2, quux: 3}\n</code></pre>\n\n<p>Then I have this interface that only allows the keys:</p>\n\n<pre><code>bar: number;\nquux: number;\n</code></pre>\n\n<p>I want the object <code>foo</code> to transform itself to only have the key/values that the interface allows and get rid of the rest of the key/values. How can I achieve this?</p>\n"}]