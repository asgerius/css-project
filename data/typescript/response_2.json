[{"tags": ["knockout.js", "typescript"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1421880280, "post_id": 28076705, "comment_id": 44535325, "body": "You might find this video helpful to understand <code>this</code> : <a href=\"https://www.youtube.com/watch?v=tvocUcbCupA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=tvocUcbCupA</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2344, "user_id": 3017099, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wxyh1.png?s=128&g=1", "display_name": "Paramone", "link": "https://stackoverflow.com/users/3017099/paramone"}, "edited": false, "score": 0, "creation_date": 1489677150, "post_id": 28076819, "comment_id": 72784915, "body": "This has worked for me. <code>public removeModule = (module: DashBoardModule): void =&gt; {         var self = this;         self.modules.remove(module);</code>"}], "tags": [], "owner": {"reputation": 3652, "user_id": 622058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7607217d0961cfa9ab3c6457caccba3b?s=128&d=identicon&r=PG", "display_name": "Robert Slaney", "link": "https://stackoverflow.com/users/622058/robert-slaney"}, "is_accepted": false, "score": 2, "last_activity_date": 1421874471, "creation_date": 1421874471, "answer_id": 28076819, "question_id": 28076705, "link": "https://stackoverflow.com/questions/28076705/how-do-you-remove-an-item-from-child-collection-in-knockoutjs-with-typescript-cl/28076819#28076819", "title": "How do you remove an item from child collection in KnockoutJs with TypeScript class", "body": "<p>Use an arrow function so typescript captures the \"this\" instance</p>\n\n<pre><code>RemoveTag = (tag: Tag) : void =&gt; { this.tags.remove(tag; }\n</code></pre>\n"}], "owner": {"reputation": 2743, "user_id": 1714792, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8c6b1c38cb4fa9ea563b03e85c51b6b4?s=128&d=identicon&r=PG", "display_name": "Honorable Chow", "link": "https://stackoverflow.com/users/1714792/honorable-chow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421874471, "creation_date": 1421874005, "question_id": 28076705, "link": "https://stackoverflow.com/questions/28076705/how-do-you-remove-an-item-from-child-collection-in-knockoutjs-with-typescript-cl", "title": "How do you remove an item from child collection in KnockoutJs with TypeScript class", "body": "<p>My goal has been to create a TypeScript class and bind it as my Knockout model.  Everything works find but the remove which is rendered from the array.  When I look at the debugger in the function the value for this isn't the class of the method that's been called, it's the value of $data that was passed into the method.  What changes are needed so I can pass the child element into the parent and remove it from the array?  I've read about putting a reference to the parent on the children but I'm hoping there is a better way.  Thanks in advance.</p>\n\n<pre><code>    &lt;div class=\"box-head\"&gt;\n        &lt;h2 class=\"left\"&gt;Tags&lt;/h2&gt;\n    &lt;/div&gt;\n    &lt;div class=\"box-content\"&gt;\n        &lt;input type=\"text\" placeholder=\"Add New Tag\" data-bind=\"value: newTag, valueUpdate: 'afterkeydown'\"/&gt;\n\n        &lt;button data-bind=\"click: AddTag\"&gt;+Add&lt;/button&gt;\n\n        &lt;ul data-bind =\"foreach: tags\"&gt;\n            &lt;li class=\"tagItem\"&gt;\n                &lt;span data-bind=\"text: name\"&gt;&lt;/span&gt;\n                &lt;div&gt;\n                    &lt;a href=\"#\" class=\"tag-edit\"&gt;Edit&lt;/a&gt;\n                    &lt;a href=\"#\" class=\"tag-delete\" data-bind=\"click: $parent.RemoveTag\"&gt;Delete&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\nclass Tag {\n    constructor(public id: number, public name: string) { }\n}\n\nclass TagManager {\n\n    private data = [\n        new Tag(1, \"Ball Handling\"),\n        new Tag(2, \"Passing\"),\n        new Tag(3, \"Shooting\"),\n        new Tag(4, \"Rebounding\"),\n        new Tag(4, \"Dribbling\"),\n    ];\n\n    tags: KnockoutObservableArray&lt;Tag&gt;;\n    newTag: KnockoutObservable&lt;string&gt;;\n\n    constructor() {\n        this.tags = ko.observableArray(this.data);\n        this.newTag = ko.observable(\"\");\n    }\n\n    AddTag(): void {\n        if (this.newTag() !== \"\") {\n\n            this.tags.push(new Tag(this.tags().length + 1, this.newTag()));\n\n            this.newTag(\"\");\n        }\n    }\n\n    RemoveTag(tag: Tag): void {\n\n        //I can't call this.tags here because 'this' referes to tag\n        var removed = this.tags.remove(tag);\n    }\n}\n\n$(function () {\n    var tagManager = new TagManager();\n    ko.applyBindings(tagManager);\n});\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "prototype"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1421855197, "post_id": 28069934, "comment_id": 44521821, "body": "You should be using static fields for this (Angular can only &#39;see&#39; the static fields since those are the ones on the constructor function, which eliminates most of the problems you listed. Start with <code>static $inject = [&#39;$scope&#39;]</code> and go from there."}, {"owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1421855575, "post_id": 28069934, "comment_id": 44522112, "body": "Hi, this is one of the solutions I have considered and it have the same problem with constructor parameters. I.e. the sub-class must explicitly override the <code>$inject</code> from the parent class. I am trying to use instance fields because they can be property type-checked."}], "answers": [{"tags": [], "owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "is_accepted": true, "score": 0, "last_activity_date": 1435331922, "last_edit_date": 1435331922, "creation_date": 1421922911, "answer_id": 28086602, "question_id": 28069934, "link": "https://stackoverflow.com/questions/28069934/typescript-fake-type-safe-field-based-dependecy-injection/28086602#28086602", "title": "TypeScript: fake type-safe field-based dependecy injection?", "body": "<p>This can now be neatly done using decorators</p>\n"}], "owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 28086602, "answer_count": 1, "score": 0, "last_activity_date": 1435331922, "creation_date": 1421851404, "question_id": 28069934, "link": "https://stackoverflow.com/questions/28069934/typescript-fake-type-safe-field-based-dependecy-injection", "title": "TypeScript: fake type-safe field-based dependecy injection?", "body": "<p>I am working on wrapping AngularJS a little in TypeScript. One of the things I want to do is a sensible dependency injection syntax.</p>\n\n<p>One possible solution is listing the dependencies as constructor arguments explicitly. The problem is without annotation, the parameter name has to match the service name, which is annoying. Also each sub-class must list all the arguments of the parent and their types, which is not very scalable.</p>\n\n<p>So I am trying to do field based injection using this design:</p>\n\n<pre><code>class X {\n    private scope = inject('$scope');\n    private somethingElse = inject(); // Uses field name\n}\n</code></pre>\n\n<p>Unfortunately, TypeScript does field initialization in the constructor function (instead of setting the prototype) so there's no way to figure out which fields need injection before creating an instance.</p>\n\n<p>I am wondering is there any way around this?</p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-scope", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "is_accepted": false, "score": 0, "last_activity_date": 1421862249, "creation_date": 1421862249, "answer_id": 28073570, "question_id": 28068638, "link": "https://stackoverflow.com/questions/28068638/watch-not-executing-the-first-time-the-value-changes/28073570#28073570", "title": "$watch not executing the first time the value changes", "body": "<p>I actually took your code, added the missing parts, and it works for me. </p>\n\n<p>here's the html:</p>\n\n<pre><code>&lt;div ng-app=\"myModule\"&gt;\n    &lt;div ng-controller=\"Controller1 as vm\"&gt;\n        &lt;div&gt;changeCounter={{vm.changeCounter}}&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;hr&gt;\n    &lt;div ng-controller=\"Controller2 as vm\"&gt;\n        &lt;div&gt;sharedService.value={{vm.sharedService.value}}&lt;/div&gt;       \n        &lt;button ng-click=\"vm.onClick()\"&gt;Click&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>here's the code:</p>\n\n<pre><code>class SharedService {\n    value: string;\n}\n\nclass Controller2 {\n\n    private sharedService;\n    constructor(private sharedService) {\n        this.sharedService = sharedService;\n    }\n\n    onClick():void {\n        this.sharedService.value = Math.random();   \n    } \n}\n\nclass Controller1 {\n    changeCounter = 0;\n    constructor($scope, sharedService) {\n        $scope.$watch(() =&gt; sharedService.value, (prev, cur) =&gt; {\n            if(prev !== cur) { \n                this.changeCounter = this.changeCounter + 1;\n            }\n        });\n    }\n\n}\n\nangular.module(\"myModule\", [])\n.service(\"sharedService\", SharedService)\n.controller(\"Controller1\", Controller1)\n.controller(\"Controller2\", Controller2);\n</code></pre>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421862249, "creation_date": 1421847466, "question_id": 28068638, "link": "https://stackoverflow.com/questions/28068638/watch-not-executing-the-first-time-the-value-changes", "title": "$watch not executing the first time the value changes", "body": "<p>I've got 2 controllers which communicate through a shared service, where as one of them watches a value on the service for changes. However, it only works after the second time the value has changed - what could be the cause of this?</p>\n\n<pre><code>export interface ISharedService {\n    value: customObject;\n}\n\nclass SharedService implements ISharedService {\n    value: customObject;\n}\n\nexport class Controller1 {\n\n    private sharedService : ISharedService;\n\n    constructor(sharedService : ISharedService) {\n        this.sharedService = sharedService;\n    }\n\n    changeValue(value: customObject) {\n        this.sharedService.value = value;\n    }\n\n}\n\nexport class Controller2 {\n\n    constructor($scope : ng.IScope, sharedService : ISharedService) {\n        $scope.$watch(() =&gt; sharedService.value, (prev, cur) =&gt; {\n            if(prev !== cur) {\n                alert(\"WEEEEEE!\");\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>When I'm now changing the value from the view by calling the <code>.changeValue()</code> function, nothing happens. After the second the time the function is called, it suddenly starts working.</p>\n"}, {"tags": ["msbuild", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1453399836, "post_id": 28058292, "comment_id": 57595324, "body": "I saw this answer and thought &quot;no way&quot; but after trying it this did solve my problem. Thanks for posting the answer after you found it!"}], "tags": [], "owner": {"reputation": 430, "user_id": 629647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9b07e83e26fc9b834690d7b2b18149?s=128&d=identicon&r=PG", "display_name": "Yaroslav Sivakov", "link": "https://stackoverflow.com/users/629647/yaroslav-sivakov"}, "is_accepted": false, "score": 3, "last_activity_date": 1421804945, "creation_date": 1421804945, "answer_id": 28058292, "question_id": 28058245, "link": "https://stackoverflow.com/questions/28058245/typescriptoutfile-on-compiletypescript-target-in-msbuild-project/28058292#28058292", "title": "TypeScriptOutFile on CompileTypeScript target in msbuild project", "body": "<p>Solution: import <strong>Microsoft.TypeScript.Default.props</strong> must be at the top of the file, but import <strong>Microsoft.TypeScript.targets</strong> must be at the bottom.</p>\n"}], "owner": {"reputation": 430, "user_id": 629647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9b07e83e26fc9b834690d7b2b18149?s=128&d=identicon&r=PG", "display_name": "Yaroslav Sivakov", "link": "https://stackoverflow.com/users/629647/yaroslav-sivakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421804945, "creation_date": 1421804468, "question_id": 28058245, "link": "https://stackoverflow.com/questions/28058245/typescriptoutfile-on-compiletypescript-target-in-msbuild-project", "title": "TypeScriptOutFile on CompileTypeScript target in msbuild project", "body": "<p>I want to have a combined js file from typescript sources on build. My *.csproj file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Project ToolsVersion=\"4.0\" DefaultTargets=\"Build\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n\n  &lt;Import Project=\"$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props\" /&gt;\n  &lt;Import Project=\"$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets\" /&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;Configuration Condition=\" '$(Configuration)' == '' \"&gt;Debug&lt;/Configuration&gt;\n    &lt;ProjectGuid&gt;{83A2324A-201F-4CE8-A57B-16770214E3B2}&lt;/ProjectGuid&gt;\n    &lt;TypeScriptToolsVersion&gt;1.4&lt;/TypeScriptToolsVersion&gt;\n    &lt;VisualStudioVersion Condition=\"'$(VisualStudioVersion)' == ''\"&gt;12.0&lt;/VisualStudioVersion&gt;\n    &lt;TypeScriptCompileOnSaveEnabled&gt;False&lt;/TypeScriptCompileOnSaveEnabled&gt;\n    &lt;TypeScriptOutFile&gt;..\\bin\\app.js&lt;/TypeScriptOutFile&gt;\n    &lt;TypeScriptSourceMap&gt;true&lt;/TypeScriptSourceMap&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;TypeScriptCompile Include=\"src\\TypeScriptCompilerPlugin.ts\" /&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;Target Name=\"Build\" DependsOnTargets=\"CompileTypeScript\"&gt;\n  &lt;/Target&gt;\n\n&lt;/Project&gt;\n</code></pre>\n\n<p>The problem: on build VS generate file src\\TypeScriptCompilerPlugin.js, not ..\\bin\\app.js...</p>\n"}, {"tags": ["google-chrome-extension", "requirejs", "typescript", "amd"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1421810936, "post_id": 28056948, "comment_id": 44499702, "body": "Downvoter should post a comment as to their thoughts. This is actually a very good question with a non-obvious answer."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4475960, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gu6rSjR7Ns/AAAAAAAAAAI/AAAAAAAAAAA/wSrjJ8Vbckc/photo.jpg?sz=128", "display_name": "Stephen Brown", "link": "https://stackoverflow.com/users/4475960/stephen-brown"}, "edited": false, "score": 0, "creation_date": 1421865616, "post_id": 28059191, "comment_id": 44528104, "body": "Thanks for the answer. With the way my project is set up I&#39;d rather stick to AMD, so this doesn&#39;t quite solve my problem, but is certainly useful info. It&#39;s kind of a short procedural script, so I may just leave it as a JS file for now, or worst case point the manifest to a js file that loads it. This is just a small side project, and I plan on switching over to ES6 modules once they&#39;re supported, so it&#39;s not a big deal."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1421811284, "creation_date": 1421811284, "answer_id": 28059191, "question_id": 28056948, "link": "https://stackoverflow.com/questions/28056948/how-can-i-import-typescript-amd-modules-without-making-the-dependent-code-a-modu/28059191#28059191", "title": "How can I import TypeScript AMD modules without making the dependent code a module", "body": "<p>The best way to handle this is to actually compile with the <code>commonjs</code> flag and use the fact that the TypeScript compiler doesn't actually emit <code>require</code> statements if the module import isn't used in a value position. This is similar to the \"optional module loading\" advanced scenario documented in the <a href=\"https://typescript.codeplex.com/wikipage?title=Modules%20in%20TypeScript\" rel=\"nofollow\">Modules in TypeScript</a> page.</p>\n\n<p>Sample code:</p>\n\n<pre><code>declare var require: any; // If needed\nimport _a = require('Dependency');\nimport _b = require('SomeOtherDependency');\n\nvar a: typeof _a = require('Dependency');\nvar b: typeof _b = require('SomeOtherDependency');\n\n// Use 'a' and 'b' in your code. Do not use _a or _b.\na.doSomething();\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4475960, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gu6rSjR7Ns/AAAAAAAAAAI/AAAAAAAAAAA/wSrjJ8Vbckc/photo.jpg?sz=128", "display_name": "Stephen Brown", "link": "https://stackoverflow.com/users/4475960/stephen-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1095, "favorite_count": 1, "accepted_answer_id": 28059191, "answer_count": 1, "score": 3, "last_activity_date": 1421811284, "creation_date": 1421795629, "question_id": 28056948, "link": "https://stackoverflow.com/questions/28056948/how-can-i-import-typescript-amd-modules-without-making-the-dependent-code-a-modu", "title": "How can I import TypeScript AMD modules without making the dependent code a module", "body": "<p>I have a Chrome extension content script that has 2 AMD dependencies. The script works fine when I load the dependencies using the requirejs \"require\" function.</p>\n\n<p>I ported the script to TypeScript with the rest of my project, and am now using </p>\n\n<p>import Dependency = require(\"Dependency\");</p>\n\n<p>which is all fine and dandy, the modules have been ported to TS and are working fine in other parts of the project.</p>\n\n<p>My issue is that as soon as I add an import statement, the TS compiler wants to make my script into a module, and in the generated JS it imports the modules using requirejs \"define\". My chrome extension is not too thrilled about this, and when I run it I get a \"mismatched anonymous define\" error.</p>\n\n<p>Is there any way to get the typescript compiler to use the require function to load my modules instead of making my script a module? I'm having difficulty finding anything about this.</p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-scope", "typescript", "view-scope"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1421777743, "post_id": 28050874, "comment_id": 44486712, "body": "refer this link <a href=\"http://dotnetbyexample.blogspot.in/2014/07/angularjs-typescript-how-to-setup-watch.html\" rel=\"nofollow noreferrer\">dotnetbyexample.blogspot.in/2014/07/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1421799340, "creation_date": 1421799340, "answer_id": 28057560, "question_id": 28050874, "link": "https://stackoverflow.com/questions/28050874/angular-typescript-what-ends-up-on-the-scope/28057560#28057560", "title": "Angular + Typescript: What ends up on the $scope?", "body": "<blockquote>\n  <p>What ends up on the $scope and how do I watch it (the right way)?</p>\n</blockquote>\n\n<p>if you have <code>DummyViewModel as vm</code> then <code>$scope.vm</code> is an instance of <code>DummyViewModel</code> </p>\n\n<p>To watch something on the scope you would simply do :</p>\n\n<pre><code>$scope.$watch(()=&gt;this.someMember,(val)=&gt;{\n     // Use new val\n});\n</code></pre>\n\n<p>Of course there is the third <code>boolean</code> parameter to deep watch and also there is <code>$scope.$watchCollection</code> you can explore on your own. </p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 761, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421799340, "creation_date": 1421772720, "question_id": 28050874, "link": "https://stackoverflow.com/questions/28050874/angular-typescript-what-ends-up-on-the-scope", "title": "Angular + Typescript: What ends up on the $scope?", "body": "<p>I'm currently trying to integrate trNgGrid into my angular app where it's unfortunately not possible to bind a function from the controller to an <code>ng-click</code> on a row since it builds the table body itself. Instead, the documentation tells me that I have to <code>$watch</code> an array on the <code>$scope</code> for changes. I get the concept of the <code>$scope</code> but when using typescript and the <code>ControllerAs</code> syntax, it is rarely required to use it. So my question is: What ends up on the <code>$scope</code> and how do I watch it (the right way)?</p>\n\n<p>Consider the following controller:</p>\n\n<pre><code>export class DummyViewModel {\n\n    private iAmPrivate : number;\n    public iAmPublic: number;\n\n    constructor($scope : any) {\n        $scope.amIOnTheScope = \"??\";\n    }\n}\n</code></pre>\n\n<p>So.. is <code>iAmPrivate</code> on the <code>$scope</code>? What about <code>iAmPublic</code>? Can I watch <code>iAmPublic</code> using <code>$scope.$watch(\"iAmPublic\",...</code>. And if I access a public member of the controller from the view using <code>vm.iAmPublic</code>, where do I exactly bind to? The <code>$scope</code> or a secret controller narnia?</p>\n"}, {"tags": ["generics", "typescript"], "comments": [{"owner": {"reputation": 4979, "user_id": 812369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf76341bdec26376f2b4ff2a77a5d80a?s=128&d=identicon&r=PG", "display_name": "rdmptn", "link": "https://stackoverflow.com/users/812369/rdmptn"}, "edited": false, "score": 0, "creation_date": 1421763503, "post_id": 28047289, "comment_id": 44477312, "body": "I am not sure you can. Perhaps the function can return &lt;any&gt; and in the return statement you can return the desired object, then cast it in the code that consumes the function? Kind of ugly, I know."}, {"owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 1, "creation_date": 1421775973, "post_id": 28047289, "comment_id": 44485765, "body": "Before doing this, consider how it breaks abstraction: you&#39;re asking for an interface to advertise the specific implementation it returns, rather than the contract(/interface) that implementation conforms to. That use would be dangerous, although I imagine there are legitimate cases where this could come in handy."}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 9, "last_activity_date": 1421765538, "creation_date": 1421765538, "answer_id": 28048329, "question_id": 28047289, "link": "https://stackoverflow.com/questions/28047289/typescript-type-of-the-current-class-as-a-type-variable/28048329#28048329", "title": "TypeScript: Type of the current class as a type variable", "body": "<p>There is not a way to do this yet in TypeScript. See issue <a href=\"https://github.com/Microsoft/TypeScript/issues/285\">https://github.com/Microsoft/TypeScript/issues/285</a> for voting/discussion.</p>\n"}, {"tags": [], "owner": {"reputation": 1538, "user_id": 621765, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc66153d982eaa897dc7d2e81eafd8b?s=128&d=identicon&r=PG", "display_name": "crashbus", "link": "https://stackoverflow.com/users/621765/crashbus"}, "is_accepted": false, "score": 2, "last_activity_date": 1546509191, "creation_date": 1546509191, "answer_id": 54019853, "question_id": 28047289, "link": "https://stackoverflow.com/questions/28047289/typescript-type-of-the-current-class-as-a-type-variable/54019853#54019853", "title": "TypeScript: Type of the current class as a type variable", "body": "<p>A fluent interface implementation is now possible:</p>\n\n<pre><code>class FluentInterface {\n    aMethod(): this {\n        return this;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2363, "user_id": 4834117, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oC4DK.png?s=128&g=1", "display_name": "Tonio", "link": "https://stackoverflow.com/users/4834117/tonio"}, "is_accepted": false, "score": 0, "last_activity_date": 1614705854, "creation_date": 1614705854, "answer_id": 66444170, "question_id": 28047289, "link": "https://stackoverflow.com/questions/28047289/typescript-type-of-the-current-class-as-a-type-variable/66444170#66444170", "title": "TypeScript: Type of the current class as a type variable", "body": "<p>I know it's not exactly what you want but for my use case, <a href=\"https://stackoverflow.com/a/53132773/4834117\">this workaround</a> was good enough:</p>\n<pre><code>export class Component{\n  init(config?: { [field in keyof this]?: this[field] }) {\n    Object.assign(this, config)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3663, "favorite_count": 0, "accepted_answer_id": 28048329, "answer_count": 3, "score": 7, "last_activity_date": 1614705854, "creation_date": 1421762650, "question_id": 28047289, "link": "https://stackoverflow.com/questions/28047289/typescript-type-of-the-current-class-as-a-type-variable", "title": "TypeScript: Type of the current class as a type variable", "body": "<p>I want to declare a function in TypeScript that returns the type of the current instance's type, e.g. in a fluent API that returns <code>this</code>.</p>\n\n<p>Is there a type variable for \"this type\"? (I would rather not use the ugly Java way of <code>X&lt;T extends X&lt;T&gt;&gt;</code>.)</p>\n"}, {"tags": ["visual-studio-2012", "typescript", "single-page-application"], "comments": [{"owner": {"reputation": 1082, "user_id": 1422356, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/93db3471de6e0ead40c74b37e338dff0?s=128&d=identicon&r=PG", "display_name": "Rana", "link": "https://stackoverflow.com/users/1422356/rana"}, "edited": false, "score": 0, "creation_date": 1453290091, "post_id": 28046751, "comment_id": 57534496, "body": "any clue about this issue?"}], "owner": {"reputation": 2526, "user_id": 1470979, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/YfFx9.png?s=128&g=1", "display_name": "Rahmathullah M", "link": "https://stackoverflow.com/users/1470979/rahmathullah-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 472, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1539955282, "creation_date": 1421761120, "last_edit_date": 1539955282, "question_id": 28046751, "link": "https://stackoverflow.com/questions/28046751/how-to-add-as-link-common-typescript-files-in-another-project", "title": "How to add-as-link common typescript files in another project?", "body": "<p>I'm working on a large single page application developed using TypeScript, KnockoutJS &amp;  RequireJS. </p>\n\n<p>I've two projects \n<strong>Project 1</strong> : Core application, which has all the modules and its files.\n<strong>Project 2</strong> : Module project, which is spitted from Project 1.</p>\n\n<p>What I want to do is to include the required <code>.ts</code> files in <strong>Project 1</strong>  to <strong>Project 2</strong></p>\n\n<p>I have a lot of file to be referenced, So i need to add the <code>.ts</code> files recursively. </p>\n\n<p>I've tried adding the required <code>.ts</code> files using <strong>Add-as-link</strong> option in Visual Studio. Then I tried the ways below to copy them during building the project.</p>\n\n<ol>\n<li><strong>Target Copy</strong> task option in <strong>MSBuid</strong> in the project. As show <a href=\"http://mattperdeck.com/post/Copying-linked-content-files-at-each-build-using-MSBuild.aspx\" rel=\"nofollow noreferrer\">here</a></li>\n<li>As show <a href=\"https://stackoverflow.com/a/14296185/1470979\">here</a>, using the <code>&lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;</code> option.</li>\n</ol>\n\n<p>Both didn't work as I expected. </p>\n\n<p>MSBuild task snippet pasted below,</p>\n\n<pre><code> &lt;Project&gt;\n   ...\n   &lt;ItemGroup&gt;\n      &lt;!-- Typescript files from the core project --&gt;\n      &lt;TypeScriptCompile Include=\"..\\Project1\\Scripts\\**\\*.ts\"&gt;\n         &lt;Link&gt;scripts\\%(RecursiveDir)%(FileName)%(Extension)&lt;/Link&gt;\n         &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;\n      &lt;/TypeScriptCompile&gt;\n      &lt;!-- Typescript files specific to the module project --&gt;\n      &lt;TypeScriptCompile Include=\"scripts\\src\\module\\js\\sub-module.ts\" /&gt;\n      &lt;TypeScriptCompile Include=\"scripts\\src\\module\\js\\helpers.ts\" /&gt;\n   &lt;/ItemGroup&gt;   \n &lt;/Project&gt;\n</code></pre>\n\n<p>Please help me out the correct way to copy the required <code>.ts</code> files to the sub project.</p>\n"}, {"tags": ["visual-studio", "reference", "gruntjs", "typescript", "grunt-ts"], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 3, "last_activity_date": 1421764787, "creation_date": 1421764787, "answer_id": 28048043, "question_id": 28044775, "link": "https://stackoverflow.com/questions/28044775/unable-to-find-symbol-components/28048043#28048043", "title": "Unable to find symbol &#39;Components&#39;", "body": "<p>This happens because <code>App.Components</code> is what's called an <em>uninstantiated module</em>. Because there is only an interface in it, the compiler only creates a symbol in the type namespace, and doesn't create any value at runtime.</p>\n\n<p>Once <code>Components</code> has a class, var, or instantiated module in it, you'll see that error go away. You can put in a dummy non-exported var in here if needed in the meantime.</p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 28048043, "answer_count": 1, "score": 1, "last_activity_date": 1421764787, "creation_date": 1421754960, "question_id": 28044775, "link": "https://stackoverflow.com/questions/28044775/unable-to-find-symbol-components", "title": "Unable to find symbol &#39;Components&#39;", "body": "<p>I've got 3 modules in 3 separate folders, each (test-wise) with one file:</p>\n\n<ul>\n<li>components/pagedList.ts</li>\n<li>directives/testDirective.ts</li>\n<li>entity1/entity1.ts</li>\n</ul>\n\n<p>Which approx. look like this</p>\n\n<pre><code>// pagedList.ts\nmodule App.Components {\n    export interface IPagedList&lt;T&gt; {\n        ...\n    }\n}\n\n// testDirective.ts\nmodule App.Directives {\n    export class TestDirective {\n        ...\n    }\n}\n\n// entity1.ts\nmodule App.Entity1 {\n    export interface IEntity1 {\n        ...\n    }\n}\n</code></pre>\n\n<p>When I try to reference them as dependencies, it works for all except module <code>App.Components</code>. Both <em>Intellisense</em> (Visual Studio) as well as my <em>typescript grunt</em> task are <code>unable to find symbol 'App.Components'</code>. Is this a <strike>reserved keyword</strike> or something? <strong>Edit</strong>: Tried renaming and relocating, still not working though.</p>\n\n<pre><code>var dependencies = [\n    \"ui.router\", \n    \"ui.bootstrap\",\n    Components, // Unable to find symbol 'Components'\n    Directives,\n    Entity1,\n];\n</code></pre>\n"}, {"tags": ["typescript", "promise", "q"], "comments": [{"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "edited": false, "score": 0, "creation_date": 1421688731, "post_id": 28030072, "comment_id": 44445526, "body": "Update: I tried this with WinJS promises, same issue. So I think the underlying problem is with the way that the TypeScript code is generated, and the different semantic of &quot;this&quot;.  But I&#39;m still unsure how to work around this..."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 2, "creation_date": 1421690792, "post_id": 28030072, "comment_id": 44446517, "body": "See e.g. <a href=\"http://stackoverflow.com/questions/20627138/typescript-this-scoping-issue-when-called-in-jquery-callback\" title=\"typescript this scoping issue when called in jquery callback\">stackoverflow.com/questions/20627138/&hellip;</a>"}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1421699655, "post_id": 28030072, "comment_id": 44450898, "body": "It&#39;s not a bug, promises always have &quot;this&quot; set to undefined - you can and should use an arrow to overcome this: .then(() =&gt; outer.doSomething()), you can also use bluebird which supports this"}, {"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1421703457, "post_id": 28030072, "comment_id": 44452707, "body": "@RyanCavanaugh, thanks for the pointer and your awesome answer on that other question."}, {"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1421704162, "post_id": 28030072, "comment_id": 44453023, "body": "@BenjaminGruenbaum, thanks for confirming that this is a by design behavior. All the same, from an API-caller perspective, I think it&#39;s best to expose the method as something that can be &quot;just passed in&quot; without having to remember to do the () =&gt; outer.doSomething() syntax (it&#39;s a subtle enough difference that it&#39;s easy to forget).  I&#39;ve updated the question based on Ryan Cavenaugh&#39;s on the other thread -- I think it gives usability for the API that OuterClass exposes. Thanks anyway, though!"}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 1, "creation_date": 1421704232, "post_id": 28030072, "comment_id": 44453067, "body": "This is how JavaScript works as a language - you might hate dynamic this (I&#39;m not a huge fan) but it&#39;s a fundamental part of the language - just like if you do the following in Chrome it won&#39;t work <code>var log = console.log; log(15)</code>"}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1421704763, "post_id": 28030072, "comment_id": 44453306, "body": "@MichaelZlatkovsky The expected behavior you&#39;re describing is impossible. When you pass <code>outer.doSomething</code> into a function, the function receiving it has no way of knowing that <code>doSomething</code> was a property on some object <code>outer</code> and that it should use that as the calling context. All it can do is call the function that it receives. This is true <i>any</i> time you pass a function around in Java/TypeScript, not just with Promises. The arrow function allows you to overcome this by binding <code>this</code> to the function."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1421724744, "post_id": 28030072, "comment_id": 44459005, "body": "More about <code>this</code> : <a href=\"https://www.youtube.com/watch?v=tvocUcbCupA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=tvocUcbCupA</a>"}, {"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1421797802, "post_id": 28030072, "comment_id": 44496330, "body": "@basarat, great explanation in the video. I highly recommend that other folks who run into this problem watch this."}], "owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "closed_date": 1421724722, "answer_count": 0, "score": 0, "last_activity_date": 1421703889, "creation_date": 1421687533, "last_edit_date": 1495541569, "question_id": 28030072, "link": "https://stackoverflow.com/questions/28030072/typescript-this-pointer-doesnt-work-with-promises-unable-to-get-property-x", "closed_reason": "Duplicate", "title": "TypeScript &quot;this&quot; pointer doesn&#39;t work with promises? &quot;Unable to get property X of undefined or null reference&quot;", "body": "<p>Suppose I have a TypeScript class that makes use of another class instance. The outer class has a method that returns a promise, using the <a href=\"https://github.com/kriskowal/q/\" rel=\"nofollow noreferrer\">Q library</a> (but I can repro the same issue with WinJS, as well).</p>\n\n<pre><code>class OuterClass {\n    private helper = new InternalHelper();\n    doSomething() : Q.Promise&lt;any&gt; {\n        this.helper.doSomething();\n        return Q(\"Returned promise\");\n    }\n}\n\nclass InternalHelper {\n    doSomething() {\n        alert(\"Hello\");\n    }\n}\n</code></pre>\n\n<p>To use the code, I would run something like:</p>\n\n<pre><code>var outer = new OuterClass();\nQ(\"Hello, World!\")\n    .then(outer.doSomething)\n    .fail(function(e) {\n        alert(\"Failed due to \" + e);\n    })\n    .done()\n</code></pre>\n\n<p>The problem: Running this code results in \"Failed due to TypeError: Unable to get property 'doSomething' of undefined or null reference\".</p>\n\n<p>Looking at this under the debugger, it appears that the \"this\" pointer inside of OuterClass's \"doSomething\" method is NOT the pointer to OuterClass.  But I'm unclear how to fix this.</p>\n\n<p>Interestingly, the code does run if instead of </p>\n\n<pre><code>.then(outer.doSomething)\n</code></pre>\n\n<p>I use</p>\n\n<pre><code>.then(function() {\n    return outer.doSomething();\n})\n</code></pre>\n\n<p>But obviously, the \".then(outer.doSomething)\" syntax is shorter, and doesn't require remembering to do a \"return\".</p>\n\n<p>Any ideas what might be going on here? Is this a bug? And if so, is it a bug in TypeScript or in Q?</p>\n\n<p>Thanks!</p>\n\n<p>===================================</p>\n\n<p><strong>Update/Answer based on comment from Ryan Cavanaugh:</strong></p>\n\n<p>For the scenario I was looking for, looks like the best option appears to modify OuterClass to expose the method as a variable rather than a function (e.g., \"Automatic Class Binding\" in Ryan's response <a href=\"https://stackoverflow.com/questions/20627138/typescript-this-scoping-issue-when-called-in-jquery-callback\">on another StackOverflow question</a>)</p>\n\n<p>The OuterClass definition needs to change to:</p>\n\n<pre><code>class OuterClass {\n    private helper = new InternalHelper();\n    public doSomething = () =&gt; {\n        this.helper.doSomething();\n        return Q(\"Returned promise\");\n    }\n}\n</code></pre>\n\n<p>This allows for the method to be called without the caller needing to use a lambda. It can be called just using:</p>\n\n<pre><code>.then(outer.doSomething)\n</code></pre>\n\n<p>Thanks, Ryan!</p>\n\n<p>===================================</p>\n"}, {"tags": ["angularjs", "typescript", "angular-ui-router"], "comments": [{"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 0, "creation_date": 1421651070, "post_id": 28016057, "comment_id": 44425312, "body": "But does not this use case call (cry) for a nested state? Which would have parameter <code>:productId</code> - and based on any change of that selection... child state will be reloaded.. Its controller will be reinitiated... and the hot/fresh product loaded from the back end...."}, {"owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "reply_to_user": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 0, "creation_date": 1421675052, "post_id": 28016057, "comment_id": 44437261, "body": "@RadimK&#246;hler - I will try putting a ui-view inside the div of category and you may be correct. Thank you"}, {"owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "reply_to_user": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 0, "creation_date": 1421690543, "post_id": 28016057, "comment_id": 44446423, "body": "@RadimK&#246;hler - Can you put your comment as an answer please so I can credit you.  This solved my problem."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 0, "creation_date": 1421691499, "post_id": 28016057, "comment_id": 44446834, "body": "So, I tried to express our ideas into complex answer. Enjoy the mighty UI-Router, sir ;)"}], "answers": [{"tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 3, "last_activity_date": 1421691264, "creation_date": 1421691264, "answer_id": 28031044, "question_id": 28016057, "link": "https://stackoverflow.com/questions/28016057/trying-to-have-one-subview-call-another-subview-using-ui-router/28031044#28031044", "title": "Trying to have one subview call another subview using ui-router", "body": "<p>With <code>UI-Router</code> we do not have to use <code>$scope.watch</code> to communicate between <em>list-detail</em> views. </p>\n\n<p>The native UI-Router solution here would be to use the <strong>paren-child state</strong> defintion. So, the state definition should be like:</p>\n\n<pre><code>.state('master.categoryinfo', {\n      url: '/categories',\n      views: {\n          '': { \n             templateUrl: 'Templates/SalonCategoryMain.html', \n             controller: 'SalonCategoryProductCntrl' \n          },\n          // these views will be replaced by child state\n          \"saloncategories@master.categoryinfo\": { \n             template: 'here will be category details', \n          },\n          \"salonproducts@master.categoryinfo\": {\n             template: 'here will be salon product details', \n          }\n       }\n })\n\n.state('master.categoryinfo.detail', {\n      url: '/:productId',\n      views: {\n          // this notation in a child\n          // \"saloncategories@master.categoryinfo\": {  \n          // is the same as this\n          \"saloncategories\": { \n             templateUrl: 'Templates/SalonCategoryList.html', \n             controller: 'SalonCategoryCntrl' \n          },\n          \"salonproducts\": {\n             templateUrl: 'Templates/SalonProductList.html', \n             controller: 'SalonProductCntrl' \n          }\n       }\n })\n</code></pre>\n\n<p>And this would be the new controller def:</p>\n\n<pre><code>export class SalonProductCntrl \n{    \n    private init(): void \n    {\n        this.dataSvc\n            // here we can pass the product Id\n            .getProductsBySalon(this.$stateParams.productId)\n            // here we use arrow function \n            // which does take care for us about this\n            .then((data) =&gt; {\n                this.$scope.products = data;\n            });\n    }\n    // this notation will do the same - all params will be private\n    // available via this.\n    constructor(private $scope: Extensions.IProductsDisplayScope\n              , private $stateParams: ng.ui.IStateParamsService\n              , private giftCertDataSvc: giftCertDataSvc) \n    {\n        this.init();\n    }\n\n    static $inject = ['$scope', '$stateParams', 'giftCertDataSvc'];\n}\n</code></pre>\n\n<p>And this way we can hook that into angularjs:</p>\n\n<pre><code>angular\n   .module('MyModule')\n   .controller('SalonProductCntrl', SalonProductCntrl); \n</code></pre>\n\n<p>This is just a drafte version, but the point here is - split the list view (where users select the item ID) and the detail view - into separated states.</p>\n\n<p>Benefit should be clear, because any change of the productId will trigger new state transition. Child data will be changed (updated) while list will stay the same... That's the essence of UI-Router, I'd say</p>\n"}], "owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1396, "favorite_count": 1, "accepted_answer_id": 28031044, "answer_count": 1, "score": 2, "last_activity_date": 1421691264, "creation_date": 1421623949, "question_id": 28016057, "link": "https://stackoverflow.com/questions/28016057/trying-to-have-one-subview-call-another-subview-using-ui-router", "title": "Trying to have one subview call another subview using ui-router", "body": "<p>I have two subviews, one for category and one for products, so the products for that category. I want a user to be able to select a category and see all the products for that category.</p>\n\n<p>So I am calling a function in the category controller when the <code>View</code> button is clicked on a category row.</p>\n\n<p>This is the function:</p>\n\n<pre><code>   self.$scope.viewSalonProducts = function (categoryNumber: string) {\n       alert(categoryNumber + \"   \" + self.dataSvc);\n       self.dataSvc.category = categoryNumber;\n       self.state.go(\"salonproducts\");\n   }\n</code></pre>\n\n<p>This is what my state definition looks like:</p>\n\n<pre><code>   .state('master.categoryinfo', {\n          url: '/categories',\n          views: {\n              '': { templateUrl: 'Templates/SalonCategoryMain.html', controller: 'SalonCategoryProductCntrl' },\n              \"saloncategories@master.categoryinfo\": { templateUrl: 'Templates/SalonCategoryList.html', controller: 'SalonCategoryCntrl' },\n              \"salonproducts@master.categoryinfo\": { templateUrl: 'Templates/SalonProductList.html', controller: 'SalonProductCntrl' }\n           }\n     })\n</code></pre>\n\n<p>And in my html file this is how I define the button:</p>\n\n<pre><code>   &lt;input type=\"button\" name=\"edit\" value=\"View\" class=\"btn btn-default\" ng-click=\"viewSalonProducts(x)\" /&gt;\n</code></pre>\n\n<p>And if it makes any difference this is my top view for this view:</p>\n\n<pre><code>Categories\n&lt;div ui-view=\"saloncategories\"&gt;&lt;/div&gt;\nProducts\n&lt;div ui-view=\"salonproducts\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>My products controller is defined as this, so </p>\n\n<pre><code>export class SalonProductCntrl {\n    private $scope: Extensions.IProductsDisplayScope;\n    private dataSvc: giftCertDataSvc;\n\n    private init(): void {\n        var self = this;\n        self.dataSvc.getProductsBySalon().then(function (data) {\n            self.$scope.products = data;\n        });\n    }\n\n    constructor($scope: Extensions.IProductsDisplayScope, giftCertDataSvc: giftCertDataSvc) {\n        this.$scope = $scope;\n        this.dataSvc = giftCertDataSvc;\n        this.init();\n    }\n}\n</code></pre>\n\n<p>So, if a user clicks on the button, I want to pass the category name, which is the value of <code>x</code> in my button <code>ng-click</code> to the product controller and have it then call the webservice to get and display the information.</p>\n\n<p>Would it make <code>scope.watch</code>, <a href=\"https://docs.angularjs.org/api/ng/type/\" rel=\"nofollow\">https://docs.angularjs.org/api/ng/type/</a>$rootScope.Scope, then I just need to see how to put the category in the scope for the product controller.</p>\n"}, {"tags": ["angularjs", "typescript", "angularjs-ng-repeat"], "comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1421641133, "post_id": 28013630, "comment_id": 44422703, "body": "Unlike forum sites, we don&#39;t use &quot;Thanks&quot;, or &quot;Any help appreciated&quot;, or signatures on <a href=\"https://stackoverflow.com\">Stack Overflow</a>. See &quot;<a href=\"http://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts\">Should &#39;Hi&#39;, &#39;thanks,&#39; taglines, and salutations be removed from posts?</a>. BTW, it&#39;s &quot;Thanks in advance&quot;, not &quot;Thanks in advanced&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1421624230, "post_id": 28013947, "comment_id": 44419415, "body": "glad that you found the problem!  I went for dinner and came back to find you had already worked your way into a solution."}], "tags": [], "owner": {"reputation": 1915, "user_id": 2392664, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/446e3c770657567cad77138354688118?s=128&d=identicon&r=PG", "display_name": "Sherman Szeto", "link": "https://stackoverflow.com/users/2392664/sherman-szeto"}, "is_accepted": true, "score": 1, "last_activity_date": 1421609905, "creation_date": 1421609905, "answer_id": 28013947, "question_id": 28013630, "link": "https://stackoverflow.com/questions/28013630/why-are-changes-in-my-arrays-in-my-controller-not-being-reflected-in-my-view/28013947#28013947", "title": "Why are changes in my arrays in my controller not being reflected in my view?", "body": "<p>I'm a moron and put my ' ng-controller=\"Controller as controller\" ' on the incorrect element....... </p>\n\n<p>wrong code:</p>\n\n<pre><code>                            &lt;div class=\"col-md-4\" &gt;\n                        &lt;h2 class=\"text-center\" ng-controller=\"WordsToTrackController as wordTrack\"&gt;Words to Track&lt;/h2&gt;\n</code></pre>\n\n<p>corrected code:</p>\n\n<pre><code>                            &lt;div class=\"col-md-4\" ng-controller=\"WordsToTrackController as wordTrack\"&gt;\n                        &lt;h2 class=\"text-center\"&gt;Words to Track&lt;/h2&gt;\n</code></pre>\n"}], "owner": {"reputation": 1915, "user_id": 2392664, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/446e3c770657567cad77138354688118?s=128&d=identicon&r=PG", "display_name": "Sherman Szeto", "link": "https://stackoverflow.com/users/2392664/sherman-szeto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 28013947, "answer_count": 1, "score": 1, "last_activity_date": 1421641117, "creation_date": 1421608029, "last_edit_date": 1495541245, "question_id": 28013630, "link": "https://stackoverflow.com/questions/28013630/why-are-changes-in-my-arrays-in-my-controller-not-being-reflected-in-my-view", "title": "Why are changes in my arrays in my controller not being reflected in my view?", "body": "<p>This is branching off of my last question: <a href=\"https://stackoverflow.com/questions/28012633/how-to-call-scope-apply-using-controller-as-syntax?noredirect=1#comment44412979_28012633\">How to call $scope.$apply() using \u201ccontroller as\u201d syntax</a></p>\n\n<p>I am using TypeScript in conjunction with Angular</p>\n\n<p>Problem: I have an ng-repeat in my view </p>\n\n<pre><code>    &lt;!-- Simple View --&gt;\n&lt;div ng-hide=\"wordTrack.showDetailedView\"&gt;\n    &lt;div class=\"col-md-12\" id=\"wordTrackResult\" style=\"padding: 10px; overflow-y: auto; overflow-x: hidden;\"&gt;\n\n        &lt;div class=\"wordListWellWrapper row\" ng-repeat=\"words in wordTrack.wordList\"&gt;\n            &lt;div class=\"col-md-5 wordListWell form-control\" ng-class=\"(words.IsPositive)? 'posWordWell': 'negWordWell' \"&gt;\n                &lt;strong class=\"wordListWord\"&gt;{{words.Word}}&lt;/strong&gt;\n                &lt;div class=\"wordListIcon\"&gt;\n                    &lt;div class=\"whiteFaceIcon\" ng-class=\"(words.IsPositive)? 'happyWhiteIcon': 'sadWhiteIcon' \"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-md-2\"&gt;\n                &lt;span aria-hidden=\"true\" class=\"glyphicon-remove glyphicon\" ng-click=\"wordTrack.removeWord(words.Word)\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;p class=\"noWordText\" ng-show=\"(wordTrack.notUsedWordList.length &gt; 0)\"&gt;The following words have not yet been used&lt;/p&gt;\n\n        &lt;div class=\"wordListWellWrapper row\" ng-repeat=\"words in wordTrack.notUsedWordList\"&gt;\n            &lt;div class=\"col-md-5 wordListWell form-control\" style=\"background-color: gray;\"&gt;\n                &lt;strong class=\"wordListWord\"&gt;{{words}}&lt;/strong&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-md-2\"&gt;\n                &lt;span aria-hidden=\"true\" class=\" glyphicon-remove glyphicon\" ng-click=\"wordTrack.removeWord(words)\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>which is using two arrays in my controller (wordList and notUsedWordList):</p>\n\n<pre><code> module WordsToTrackController {\nexport class Controller {\n    public static $inject = [\"$scope\", \"CampaignFactory\", \"VideoFactory\", \"DashboardFactory\", \"WordsToTrackFactory\"];\n    wordList: Array&lt;IWordTrackItem&gt;;\n    notUsedWordList: Array&lt;string&gt;;\n\n\n    constructor($scope: ng.IScope, campaignFactory, videoFactory, dashboardFactory, wordsToTrackFactory) {\n        this.campaignFactory = campaignFactory;\n        this.videoFactory = videoFactory;\n        this.dashboardFactory = dashboardFactory;\n        this.wordsToTrackFactory = wordsToTrackFactory;\n\n        this.wordList = [];\n        this.notUsedWordList = [];\n\n        this.hasData = false;\n        this.fetchInProgress = false;\n\n        $scope.$on(\"video-switch\",() =&gt; {\n            this.setWordLists();\n        });\n\n        $scope.$on(\"detail-switch\",() =&gt; {\n            this.showDetailedView = this.dashboardFactory.isDetailedView;\n        });\n    }}}\n</code></pre>\n\n<p>Inside my constructor, I am calling </p>\n\n<pre><code>        $scope.$on(\"video-switch\",() =&gt; {\n            this.setWordLists();\n        });\n</code></pre>\n\n<p>which executes setWordLists() which attempts to grab the data from one of my factories and set the values of the arrays (which it is doing correctly)</p>\n\n<p>Controller:</p>\n\n<pre><code>   setWordLists() {\n        this.fetchInProgress = true;\n        var campaignId = this.campaignFactory.currentId();\n        var videoId = this.videoFactory.currentId();\n\n        if (!campaignId || !videoId) {\n            return;\n        }\n\n        this.wordsToTrackFactory.doGetWordsToTrackModel(campaignId, videoId)\n            .then((response) =&gt; {\n            this.fetchInProgress = false;\n            this.wordList = (response) ? response.data.WordList : [];\n            this.notUsedWordList = (response) ? response.data.NotUsedWords : [];\n        });\n    }\n</code></pre>\n\n<p>Factory:</p>\n\n<pre><code>    function doGetWordsToTrackModel(campaignId: number, videoId: number) {\n        return $http\n            .get(url, {\n            params: {\n                videoId: videoId,\n                campaignId: campaignId\n            }\n        });\n    }\n</code></pre>\n\n<p>Now, the problem is that even though the arrays are being set to the correct values, it is not being updated in my view (inside the ng-repeat). </p>\n\n<p>I don't want to call $scope.$apply() for a quick fix either. Can anyone spot the source of the problem?</p>\n\n<p>Edit: \n<code>$scope.$apply()</code> doesn't help, so i'm thinking ng-repeat isn't binding correctly, but I can't see how I set the view up incorrectly.</p>\n\n<p>Edit: ........</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 412, "user_id": 785343, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/42ae77a00c615269062038db20301ce2?s=128&d=identicon&r=PG", "display_name": "BitsEvolved", "link": "https://stackoverflow.com/users/785343/bitsevolved"}, "edited": false, "score": 0, "creation_date": 1447967192, "post_id": 28013396, "comment_id": 55394224, "body": "Should be <code>app.config([&#39;$httpProvider&#39;], ($httpProvider: ng.IHttpProvider) =&gt; { ...</code>"}], "tags": [], "owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "is_accepted": true, "score": 2, "last_activity_date": 1421607055, "last_edit_date": 1421607055, "creation_date": 1421606694, "answer_id": 28013396, "question_id": 28013374, "link": "https://stackoverflow.com/questions/28013374/use-angular-httpprovider-in-typescript/28013396#28013396", "title": "Use Angular $httpProvider in TypeScript", "body": "<p>You need to look for <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts#L1107\" rel=\"nofollow\"><code>IHttpService</code></a> inorder to use http service. What you are looking at is the <code>Provider</code> recipe of <code>$http</code> ($httpProvider) which is used for global configuration during the <code>.config</code> phase of the application. Instead what you actually inject anywhere else is the instance of <code>$http</code> defined in the <code>$get</code> function of the <code>$httpProvider</code>. </p>\n\n<p>Example usage of both interface definitions:</p>\n\n<pre><code>app.config(['$httpProvider', function($httpProvider:ng.IHttpProvider){...\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class MyService implements IMyService {\n   constructor(private $http:ng.IHttpService){\n   }\n //...\n}\n</code></pre>\n"}], "owner": {"reputation": 719, "user_id": 1254700, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/be7a33c72bb643cb6b1bf78a354912e3?s=128&d=identicon&r=PG", "display_name": "marce", "link": "https://stackoverflow.com/users/1254700/marce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1459, "favorite_count": 0, "accepted_answer_id": 28013396, "answer_count": 1, "score": 1, "last_activity_date": 1421607055, "creation_date": 1421606522, "question_id": 28013374, "link": "https://stackoverflow.com/questions/28013374/use-angular-httpprovider-in-typescript", "title": "Use Angular $httpProvider in TypeScript", "body": "<p>I'm trying to use AngularJS (which I'm new to) in combination with TypeScript while following the <a href=\"https://docs.angularjs.org/tutorial\" rel=\"nofollow\">tutorial</a>.\n<a href=\"http://www.scottlogic.com/blog/2014/08/26/StrongTypingWithAngularJS.html\" rel=\"nofollow\">This</a> helped me a lot, but now I ran into the following problem:<br>\nI'm using the typing file from DefinitelyTyped which states that each <code>IServiceProvider</code> (which <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts#L1296\" rel=\"nofollow\"><code>IHttpProvider</code></a> inherits) has a <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts#L37\" rel=\"nofollow\"><code>$get</code></a> property.\nWhile trying to use the <code>$httpProvider</code> service of Angular I need to call the <a href=\"https://docs.angularjs.org/api/ng/service/$http#get\" rel=\"nofollow\"><code>$http.get</code></a> method (note: without the '$').</p>\n\n<p>When trying to run this it fails because <code>$get</code> is undefined. I tried to change it to <code>get</code> temporarily in the browser and then the code works, so I'm confident that this is the problem.\nI can't just use <code>get</code> in my TypeScript file, because it would fail to compile.</p>\n\n<p>Now I'd like to know how to work around this problem?</p>\n\n<p><em>disclaimer: I'm not too comfortable with JavaScript in general either.</em></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1421602627, "post_id": 28011439, "comment_id": 44412608, "body": "Your universal setter function looks like an anti-pattern imported from different language. See <a href=\"http://stackoverflow.com/questions/12827266/get-and-set-in-typescript\">Stack Overflow: get and set in TypeScript</a>, but if you insist on the generic setter concept then explore the language keywords <code>interface</code> and <code>implements</code>,  e.g. in <a href=\"http://stackoverflow.com/questions/14345485/whats-the-difference-between-declare-class-and-interface-in-typescript\">Stack Overflow: Whats the difference between \u201cdeclare class\u201d and \u201cinterface\u201d in TypeScript</a>"}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "reply_to_user": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1421604213, "post_id": 28011439, "comment_id": 44413104, "body": "Since when generic functions became an antipattern? Classe are too clumsy and require being instantiated as objects which introduce unwanted overhead."}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1421619286, "post_id": 28011439, "comment_id": 44418072, "body": "I&#39;m not gonna argue whether or not it&#39;s an antipattern, but: How exactly would you use your method <i>without</i> creating an object for it to work on, though?"}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1421620861, "post_id": 28011439, "comment_id": 44418495, "body": "First of all it&#39;s not a method, it&#39;s a function. <a href=\"http://stackoverflow.com/questions/155609/what-is-the-difference-between-a-method-and-a-function\">Difference between a method and a function</a>. There are plenty useful scenarios for functions like these. In my particular case I need it for implementing <a href=\"http://stackoverflow.com/questions/8307370/functional-lenses\">lenses</a> in TypeScript."}], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 1859442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449e681a5995cf223e52e03750cebf4d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1859442/benjamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1422300259, "creation_date": 1422300259, "answer_id": 28157248, "question_id": 28011439, "link": "https://stackoverflow.com/questions/28011439/is-there-a-way-to-define-a-setter-function-in-typescript/28157248#28157248", "title": "Is there a way to define a setter function in TypeScript?", "body": "<p>I played around a bit, and I could only come up with this:</p>\n\n<pre><code>// === unsave approach ===  \n\n/**\n * Test class\n */ \nclass MyClassWithoutKey {\n    public youCanCallThis() { }\n}\n\n/**\n * The setter function\n */\nfunction withKeyUnsafe&lt;T&gt;(value: T, key: any) {\n    (&lt;any&gt;value).key = key;\n    return value;\n}\n\n// compile test\nvar w = withKeyUnsafe(new MyClassWithoutKey(), 2).youCanCallThis();\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>// === typesave approach ===\n\n/**\n * Test class\n */     \nclass MyClassWithKey {\n    key: string;\n    public youCanCallThis() { }\n}\n\n/**\n * Helper interface\n */ \ninterface WithKey&lt;T&gt; {\n    key: T;\n}\n\n/**\n * Factory function that adds type constraint\n */\nfunction withKeyTypeSave&lt;T&gt;() {\n    /**\n     * The actual setter function\n     */\n    return function &lt;WithKeyT extends WithKey&lt;T&gt;&gt;(value: WithKeyT, key: T) {\n        value.key = key;\n        return value;\n    }\n}\n\n\n// compile test -- works\nwithKeyTypeSave&lt;string&gt;()(new MyClassWithKey(), \"new key\").youCanCallThis();\n\n// compile test -- fails\nwithKeyTypeSave&lt;number&gt;()(new MyClassWithKey(), \"new key\").youCanCallThis();\n\n// compile test -- fails\nwithKeyTypeSave&lt;string&gt;()(new MyClassWithKey(), 3).youCanCallThis();\n</code></pre>\n"}], "owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422300259, "creation_date": 1421595197, "last_edit_date": 1421615922, "question_id": 28011439, "link": "https://stackoverflow.com/questions/28011439/is-there-a-way-to-define-a-setter-function-in-typescript", "title": "Is there a way to define a setter function in TypeScript?", "body": "<p>I find the following getter function very useful and reusable since it can get a value of the property <code>key</code> of <strong>any</strong> object with such property.</p>\n\n<pre><code>export function keyOf&lt;a&gt;(value: { key: a; }) : a {\n   return value.key;\n}\n</code></pre>\n\n<p>Similarly I can define a universal setter function:</p>\n\n<pre><code>export function withKey&lt;a&gt;(value: { key: a; }, key: a) : void {\n    value.key = key;\n}\n</code></pre>\n\n<p>The only problem is that instead of returning <code>void</code> I need it to return the original object <code>value</code> with the modified <code>key</code> property. Something like this:</p>\n\n<pre><code>export function withKey&lt;b, a extends { key: b }&gt;(value: a, key: b) : a {\n   value.key = key;\n   return value;\n}\n</code></pre>\n\n<p>But this is not a valid piece of TypeScript code.</p>\n\n<p>Question: How else can I get a typesafe universal setter function that returns the original object with its property set?</p>\n\n<p>UPDATE:</p>\n\n<p>In the current TypeScript dependencies between type parameters are prohibited. I believe it was done for making the type system simplier and faster. However this limitation prevents certain useful scenarios like the one in question. There is a hack that can turn a dependency between type parameters into a functional dependency:</p>\n\n<pre><code>export function withKey&lt;a, b&gt;(\n    value: a,\n    key: b,\n    toAssignable: (value: a) =&gt; { key: b } = function&lt;c&gt;(anything: c) : c {\n        return anything;\n    }\n) : a {\n    toAssignable(value).key = key;\n    return value;\n}\n</code></pre>\n\n<p>This looks ugly as hell and alters the original signature, but it compiles and works.</p>\n\n<p><strong>Does anyone know a better way?</strong></p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1421583492, "post_id": 28009368, "comment_id": 44406889, "body": "try window.location instead of this.window.location"}], "answers": [{"comments": [{"owner": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "edited": false, "score": 0, "creation_date": 1421597576, "post_id": 28009469, "comment_id": 44410942, "body": "Many Thanks, I went with the bind approach. It&#39;s a bit easier to make out what&#39;s going on."}], "tags": [], "owner": {"reputation": 31954, "user_id": 507784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746626153d30ebddefbe5d61553a9b39?s=128&d=identicon&r=PG", "display_name": "GregL", "link": "https://stackoverflow.com/users/507784/gregl"}, "is_accepted": true, "score": 2, "last_activity_date": 1466466809, "last_edit_date": 1466466809, "creation_date": 1421582820, "answer_id": 28009469, "question_id": 28009368, "link": "https://stackoverflow.com/questions/28009368/using-this-in-http-callback-with-angularjs-and-typescript/28009469#28009469", "title": "Using &#39;this&#39; in $http callback with AngularJS and Typescript", "body": "<p>It may not be as pretty, but using the arrow function notation will preserve the <code>this</code> value correctly, so I would try changing your <code>validateToken()</code> function to the following:</p>\n\n<pre><code>private validateToken( results : IAuthResults ) : void\n{\n    if( results &amp;&amp; results.access_token )\n    {\n        var validateTokenURL : string = \"https://www.googleapis.com/oauth2/v1/tokeninfo\";\n        validateTokenURL += \"?access_token=\" + results.access_token;\n\n        this.http.get&lt;ITokenValidationResult&gt;( validateTokenURL );\n        this._validationPromise.then( () =&gt; {\n            this.handleTokenVerificationResult.apply(this, arguments); \n        }, () =&gt; { \n            this.handleTokenVerificationError.apply(this, arguments); \n        });\n    }\n}\n</code></pre>\n\n<p>Alternatively, just use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\"><code>Function.bind()</code></a> to preserve the value of the <code>this</code> variable:</p>\n\n<pre><code>private validateToken( results : IAuthResults ) : void\n{\n    if( results &amp;&amp; results.access_token )\n    {\n        var validateTokenURL : string = \"https://www.googleapis.com/oauth2/v1/tokeninfo\";\n        validateTokenURL += \"?access_token=\" + results.access_token;\n\n        this.http.get&lt;ITokenValidationResult&gt;( validateTokenURL );\n        this._validationPromise.then(this.handleTokenVerificationResult.bind(this), this.handleTokenVerificationError.bind(this));\n    }\n}\n</code></pre>\n\n<p>However, you should note that using <code>.bind()</code> <a href=\"https://basarat.gitbooks.io/typescript/content/docs/tips/bind.html\" rel=\"nofollow\">destroys type information</a> in TypeScript, currently, so I mostly stick with using arrow functions to preserve the type information correctly.</p>\n"}], "owner": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 28009469, "answer_count": 1, "score": 1, "last_activity_date": 1466466809, "creation_date": 1421582060, "question_id": 28009368, "link": "https://stackoverflow.com/questions/28009368/using-this-in-http-callback-with-angularjs-and-typescript", "title": "Using &#39;this&#39; in $http callback with AngularJS and Typescript", "body": "<p>I am using a promise in a service and then when the result loads I want to navigate to another page.</p>\n\n<p>My Code:</p>\n\n<pre><code>export class PicasaAuthenticator\n{\n    //  Constructor\n\n    static $inject = [ '$window', '$location', '$http' ];\n    constructor( private window : ng.IWindowService, private location : ng.ILocationService, private http : ng.IHttpService )\n    {\n    }\n\n    //  Private Functions\n\n    private validateToken( results : IAuthResults ) : void\n    {\n        if( results &amp;&amp; results.access_token )\n        {\n            var validateTokenURL : string = \"https://www.googleapis.com/oauth2/v1/tokeninfo\";\n            validateTokenURL += \"?access_token=\" + results.access_token;\n\n            this.http.get&lt;ITokenValidationResult&gt;( validateTokenURL );\n            this._validationPromise.then( this.handleTokenVerificationResult,this.handleTokenVerificationError );\n        }\n    }\n\n    private handleTokenVerificationResult( successResponse : ng.IHttpPromiseCallbackArg&lt;ITokenValidationResult&gt; ) : void\n    {\n        this._validationPromise = null;\n\n        if( successResponse.data.audience = client_id )\n        {\n            this.location.path( '/albums' );\n        }\n        else\n        {\n            alert( \"audience does not match client ID\" );\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that this.location of course doesn't exist in the handleTokenVerificationResult. How do I set the scope that this function should run under? I saw an example using var self = this (which I don't like anyway) but this didn't work. </p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "edited": false, "score": 0, "creation_date": 1421598467, "post_id": 28009448, "comment_id": 44411241, "body": "Thanks for the reply, this seems to be just what I am looking for but it&#39;s not working for me at the moment.  I have updated my routing controller but what do I put in my view? I have tried just ng-controller, ng-controller=&quot;as login&quot; and ng-controller=&quot;loginController as login&quot;. I get errors in the console and {{login.message}} for the first 2 examples and the same controller in both views for the second option."}, {"owner": {"reputation": 7740, "user_id": 2326610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75917428489631c400f9f16c3cc7b58d?s=128&d=identicon&r=PG", "display_name": "Wayne Ellery", "link": "https://stackoverflow.com/users/2326610/wayne-ellery"}, "reply_to_user": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "edited": false, "score": 0, "creation_date": 1421615159, "post_id": 28009448, "comment_id": 44416779, "body": "If you are using routing, you shouldn&#39;t need to use <code>ng-controller</code>. I updated my post above. You use <code>ng-view</code> which is used by the router."}, {"owner": {"reputation": 7740, "user_id": 2326610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75917428489631c400f9f16c3cc7b58d?s=128&d=identicon&r=PG", "display_name": "Wayne Ellery", "link": "https://stackoverflow.com/users/2326610/wayne-ellery"}, "reply_to_user": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "edited": false, "score": 0, "creation_date": 1423266296, "post_id": 28009448, "comment_id": 45093624, "body": "Did this answer your question? If so please accept my answer"}, {"owner": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "edited": false, "score": 1, "creation_date": 1423283720, "post_id": 28009448, "comment_id": 45097040, "body": "Sorry, I wanted to try it first to see if I could get it to work and I forgot to mark as answer. Thanks."}], "tags": [], "owner": {"reputation": 7740, "user_id": 2326610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75917428489631c400f9f16c3cc7b58d?s=128&d=identicon&r=PG", "display_name": "Wayne Ellery", "link": "https://stackoverflow.com/users/2326610/wayne-ellery"}, "is_accepted": true, "score": 0, "last_activity_date": 1421615027, "last_edit_date": 1421615027, "creation_date": 1421582686, "answer_id": 28009448, "question_id": 28009126, "link": "https://stackoverflow.com/questions/28009126/how-to-use-angularjs-controller-as-syntax-with-multiple-different-controllers/28009448#28009448", "title": "How to use AngularJS &#39;controller as&#39; syntax with multiple different controllers", "body": "<p>You can use the <code>controllerAs</code> syntax for the routing:</p>\n\n<pre><code>$routeProvider\n    .when( '/loggingIn', { templateUrl: './pages/loading.html', controller : \"loginController\", controllerAs: 'login' } )\n</code></pre>\n\n<p>Your <code>Index.html</code> should have <code>ng-view=\"\"</code> which is where the view will be substituted in.</p>\n\n<p>This will enable you to do <code>{{login.message}}</code> in the views.  </p>\n"}], "owner": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 28009448, "answer_count": 1, "score": 0, "last_activity_date": 1421615027, "creation_date": 1421580217, "question_id": 28009126, "link": "https://stackoverflow.com/questions/28009126/how-to-use-angularjs-controller-as-syntax-with-multiple-different-controllers", "title": "How to use AngularJS &#39;controller as&#39; syntax with multiple different controllers", "body": "<p>I am new to javascript, typescript and AngularJS and am currently trying to learn the language by building a sample app.\nI am an experienced programmer coming from an Actionscript / Flex background.</p>\n\n<p>As I come from Actionscript I really like the 'controller as' syntax as I don't need to deal with the untyped $script object floating around and doing magic stuff that I can't control (my opinion as someone who distrusts javascript ;-).</p>\n\n<p>In this example though I want to make an html page that displays loading info for a variety of different services that will load data. I envisage using this html fragment as a header at the top of a page which could show loading info for a list of albums, a list of images or even just when you're logging in.</p>\n\n<p>This example is not what I would do in production as there are a number of things that I do not like about this approach but this is a learning exercise so I am trying to figure out how this would work.</p>\n\n<p>I have the following TypeScript code:</p>\n\n<p><strong>LoadingModule</strong></p>\n\n<pre><code>export interface ILoadable\n{\n    isLoading : boolean;\n    isLoaded : boolean;\n    loadingMessage : string;\n    errorMessage : string;\n}\n\nexport class LoadingController implements ILoadable\n{\n    //  Constructor\n\n    constructor( private service? : ILoadable )\n    {\n    }\n\n    //  Properties\n\n    public get isLoading() : boolean\n    {\n        return this.service ? this.service.isLoading : true;\n    }\n\n    public get isLoaded() : boolean\n    {\n        return this.service ? this.service.isLoaded : false;\n    }\n\n    public get loadingMessage() : string\n    {\n        return this.service ? this.service.loadingMessage : \"Loading...\";\n    }\n\n    public get errorMessage() : string\n    {\n        return this.service ? this.service.errorMessage : \"There was a fault.\";\n    }\n\n}\n</code></pre>\n\n<p><strong>App</strong></p>\n\n<pre><code>app.config( ($routeProvider) =&gt; {\n$routeProvider\n    .when( '/albums', { templateUrl: './pages/albums.html' } )\n    .when( '/album', { templateUrl: './pages/album.html' } )\n    .when( '/pictures', { templateUrl: './pages/pictures.html' } )\n    .when( '/loggingIn', { templateUrl: './pages/loading.html', controller : \"loginController\" } )\n    .when( '/loadingAlbums', { templateUrl: './pages/loading.html', controller : \"loadingAlbumsController\" } )\n    .when( '/404', { templateUrl: './pages/404.html' } )\n    .otherwise( { redirectTo: '/loggingIn' } )\n});\napp.controller( \"loginController\", [ \"authenticator\", Picasa.LoadingController ] );\napp.controller( \"loadingAlbumsController\", [ Picasa.LoadingController ] );\n</code></pre>\n\n<p><strong>Loading.html</strong></p>\n\n<pre><code>&lt;div ng-controller=\"loginController as loadable\"&gt;{{loadable.loadingMessage}}&lt;/div&gt;\n</code></pre>\n\n<p>This all works great but I always get the loginController passed into the html page. This is obviously because I refer to it in the html page so this overrides me specifying a controller in the route provider setup.</p>\n\n<p>My question is can I use the \"controller as\" setup in an html page that will have different controllers injected? \nI want the html page setup to work with an ILoadable.\nI don't want to have to inject $scope into my controller and set properties on it.</p>\n\n<p>Ideally I'd be able to inject a service directly into the html page so that I don't have to have the controller wrapper.</p>\n\n<p>Many Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1421580293, "post_id": 28009066, "comment_id": 44406130, "body": "Can you make your question title do more than just name a language and a feature? With 8.69 million questions on Stack Overflow, it is helpful when titles really describe the question."}], "answers": [{"tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": true, "score": 1, "last_activity_date": 1421579910, "creation_date": 1421579910, "answer_id": 28009081, "question_id": 28009066, "link": "https://stackoverflow.com/questions/28009066/define-objects-to-only-contain-elements-of-specific-type/28009081#28009081", "title": "Define objects to only contain elements of specific type", "body": "<p>You should typically use a proper map type for this, like ES6' <code>Map</code> or mori's <code>mori.hashMap</code>.</p>\n\n<p>Anyway:</p>\n\n<pre><code>var obj: { [key: string]: string; };\n</code></pre>\n"}], "owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 28009081, "answer_count": 1, "score": 0, "last_activity_date": 1421581051, "creation_date": 1421579757, "last_edit_date": 1421581051, "question_id": 28009066, "link": "https://stackoverflow.com/questions/28009066/define-objects-to-only-contain-elements-of-specific-type", "title": "Define objects to only contain elements of specific type", "body": "<p>I often use objects in JavaScript to ensure that a list of elements provides a unique key for each entry and to access elements by that key:</p>\n\n<pre><code>var obj = { key1: \"anObject\", key2: \"anotherObject\", ...};\n</code></pre>\n\n<p>Note that each entry has the same type (in this case it's a <code>string</code>).</p>\n\n<p>How do I model this scenario with TypeScript? I need something like </p>\n\n<pre><code>var obj: {...DataType};\n</code></pre>\n\n<p>It means that an object can contain any number of attributes, which all share the same type.</p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1421580183, "post_id": 28008930, "comment_id": 44406096, "body": "Can you make your question title do more than just name a language and a feature? With 8.69 million questions on Stack Overflow, it is helpful when titles really describe the question."}, {"owner": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1421661626, "post_id": 28008930, "comment_id": 44429912, "body": "@LightnessRacesinOrbit I am here because of google where I searched for almost the exact same string as this title and ended up here. So disagree."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 0, "creation_date": 1421689594, "post_id": 28008930, "comment_id": 44445920, "body": "@Clark: You got lucky. You&#39;re also but a single sample. The benefits of a good, unique question title are both well-documented and self-evident."}], "answers": [{"comments": [{"owner": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 0, "creation_date": 1421661834, "post_id": 28008951, "comment_id": 44430029, "body": "Compare the dry pages of documentation to the first 2 lines of this answer. I came here to see the difference between [] and &lt;&gt; for arrays, and ended up understanding tuple types. Awesome."}], "tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": true, "score": 4, "last_activity_date": 1421579800, "last_edit_date": 1421579800, "creation_date": 1421578990, "answer_id": 28008951, "question_id": 28008930, "link": "https://stackoverflow.com/questions/28008930/array-definitions-in-typescript/28008951#28008951", "title": "Array definitions in TypeScript", "body": "<p>1 is a tuple type, so in this case <code>num1</code> must be a 1-element array containing a number. If you declare it as <code>var num1: [number, string, string];</code> then <code>num1</code> must be a 3-element array containing a number, a string and another string in that order.</p>\n\n<p>2 and 3 are identical; it doesn't matter which one you use.</p>\n"}], "owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "accepted_answer_id": 28008951, "answer_count": 1, "score": 2, "last_activity_date": 1421579800, "creation_date": 1421578850, "question_id": 28008930, "link": "https://stackoverflow.com/questions/28008930/array-definitions-in-typescript", "title": "Array definitions in TypeScript", "body": "<p>What's the difference between the following declarations:</p>\n\n<ol>\n<li><code>var num1: [number];</code></li>\n<li><code>var num2: number[];</code></li>\n<li><code>var num3: Array&lt;number&gt;;</code></li>\n</ol>\n\n<p>It seems that <code>num2</code> and <code>num3</code> are interchangeable, but what about <code>num1</code>?</p>\n\n<p>Which declaration should I use when?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1305, "user_id": 1943129, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a55a4b0e17e69da15a2592ab9283214d?s=128&d=identicon&r=PG", "display_name": "Phil Barresi", "link": "https://stackoverflow.com/users/1943129/phil-barresi"}, "edited": false, "score": 0, "creation_date": 1421537638, "post_id": 28005518, "comment_id": 44399437, "body": "That looks like the vanilla JS I&#39;m trying to get generated, but I&#39;d like to be able to compile this with typescript."}, {"owner": {"reputation": 4885, "user_id": 3395015, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4uXL2.png?s=128&g=1", "display_name": "garryp", "link": "https://stackoverflow.com/users/3395015/garryp"}, "reply_to_user": {"reputation": 1305, "user_id": 1943129, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a55a4b0e17e69da15a2592ab9283214d?s=128&d=identicon&r=PG", "display_name": "Phil Barresi", "link": "https://stackoverflow.com/users/1943129/phil-barresi"}, "edited": false, "score": 0, "creation_date": 1421538228, "post_id": 28005518, "comment_id": 44399578, "body": "Not great with typescript. Try this:     module MyModule {         class MyClass {             var myLocalReferenceToTheFunction;             constructor(public myOtherService) {                 this.myLocalReferenceToTheFunction = myOtherService;             }         }     }"}], "tags": [], "owner": {"reputation": 4885, "user_id": 3395015, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4uXL2.png?s=128&g=1", "display_name": "garryp", "link": "https://stackoverflow.com/users/3395015/garryp"}, "is_accepted": false, "score": 0, "last_activity_date": 1421537513, "creation_date": 1421537513, "answer_id": 28005518, "question_id": 28005454, "link": "https://stackoverflow.com/questions/28005454/how-do-i-declare-the-arguments-and-a-return-type-for-a-private-class-member-in-t/28005518#28005518", "title": "How do I declare the arguments and a return type for a private class member in typescript?", "body": "<p>Something like this?</p>\n\n<pre><code>var MyModule = function() {\n    return {\n        MyClass : function () {\n            var myLocalReferenceToTheFunction;\n            var constructor = function(myOtherService) {\n                myLocalReferenceToTheFunction = myOtherService;\n            };\n            return constructor;\n        }()\n    };\n}();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1305, "user_id": 1943129, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a55a4b0e17e69da15a2592ab9283214d?s=128&d=identicon&r=PG", "display_name": "Phil Barresi", "link": "https://stackoverflow.com/users/1943129/phil-barresi"}, "edited": false, "score": 0, "creation_date": 1421682883, "post_id": 28006825, "comment_id": 44442143, "body": "Yeah, that&#39;s basically what I was trying to do, except it was: `        private myLocalReferenceToTheFunction: &lt;T&gt;(serverCall: (...args: any[]) =&gt; ng.IPromise&lt;T&gt;) =&gt; ng.IPromise&lt;T&gt;;`. Thanks!"}], "tags": [], "owner": {"reputation": 5684, "user_id": 940723, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/461459abd487f50764f4278ad02ac4cb?s=128&d=identicon&r=PG", "display_name": "Acidic", "link": "https://stackoverflow.com/users/940723/acidic"}, "is_accepted": true, "score": 3, "last_activity_date": 1421551273, "creation_date": 1421551273, "answer_id": 28006825, "question_id": 28005454, "link": "https://stackoverflow.com/questions/28005454/how-do-i-declare-the-arguments-and-a-return-type-for-a-private-class-member-in-t/28006825#28006825", "title": "How do I declare the arguments and a return type for a private class member in typescript?", "body": "<p>Looks to me like this is what you're trying to do:</p>\n\n<pre><code>module MyModule {\n    export class MyClass&lt;T&gt; {\n        private myLocalReferenceToTheFunction: (serverCall: (...args: any[]) =&gt; ng.IPromise&lt;T&gt;) =&gt; ng.IPromise&lt;T&gt;;\n\n        constructor(myOtherService: OtherService) {\n            this.myLocalReferenceToTheFunction = myOtherService.serviceFunction;\n        }\n    }\n}\n</code></pre>\n\n<p>Hard for me to tell for sure that this is what you need though.<br>\nSeeing the definition of <code>OtherService</code> would help.</p>\n"}], "owner": {"reputation": 1305, "user_id": 1943129, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a55a4b0e17e69da15a2592ab9283214d?s=128&d=identicon&r=PG", "display_name": "Phil Barresi", "link": "https://stackoverflow.com/users/1943129/phil-barresi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 28006825, "answer_count": 2, "score": 0, "last_activity_date": 1421551273, "creation_date": 1421536997, "question_id": 28005454, "link": "https://stackoverflow.com/questions/28005454/how-do-i-declare-the-arguments-and-a-return-type-for-a-private-class-member-in-t", "title": "How do I declare the arguments and a return type for a private class member in typescript?", "body": "<p>I am attempting to convert some code from vanilla javascript, and part of that requires storing a function as a private class member. I am attempting to figure out the proper syntax for this, but can't seem to get it right.</p>\n\n<p>What I want to ultimately say is: </p>\n\n<pre><code>module MyModule {\n    export class MyClass {\n        private myLocalReferenceToTheFunction: Function&lt;T&gt;(serverCall: (...args: any[]) =&gt; ng.IPromise&lt;T&gt;): ng.IPromise&lt;T&gt;;\n\n        constructor(myOtherService: OtherService) {\n           this.myLocalReferenceToTheFunction = myOtherService.serviceFunction;\n        }\n    }\n}\n</code></pre>\n\n<p>What is the proper syntax for the <code>private myLocalReferenceToTheFunction...</code> line? </p>\n\n<p>Tangentially, if this is the totally wrong way to go about doing this, I'd appreciate knowing. Really, my only end goal is to be able to use <code>myLocalReferenceToTheFunction</code> in functions inside of <code>MyClass</code>.</p>\n"}, {"tags": ["visual-studio-2013", "typescript"], "comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1488485837, "post_id": 28002810, "comment_id": 72264132, "body": "So any answers for us non-resharper peasants?"}, {"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1488563797, "post_id": 28002810, "comment_id": 72303271, "body": "@JohnWeisz Use resharper!"}], "answers": [{"comments": [{"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1421571281, "post_id": 28006752, "comment_id": 44404965, "body": "Good catch, that was the problem :) Do you have any experience on how long ReShaper usually needs to get updated?"}, {"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1421571328, "post_id": 28006752, "comment_id": 44404976, "body": "Note: For me, the suspend button was at <code>Tools -&gt; Options -&gt; ReShaprerPlatformVs12 -&gt; Suspend</code>"}, {"owner": {"reputation": 5684, "user_id": 940723, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/461459abd487f50764f4278ad02ac4cb?s=128&d=identicon&r=PG", "display_name": "Acidic", "link": "https://stackoverflow.com/users/940723/acidic"}, "reply_to_user": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1421571552, "post_id": 28006752, "comment_id": 44404998, "body": "@maja From my experience with JetBrains products they aren&#39;t too fast to release updates for such things, but I don&#39;t see any reason why this would take long. The 1.4 definition has been out for quite a while now, so I imagine that they have started working on it before the official release."}, {"owner": {"reputation": 5684, "user_id": 940723, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/461459abd487f50764f4278ad02ac4cb?s=128&d=identicon&r=PG", "display_name": "Acidic", "link": "https://stackoverflow.com/users/940723/acidic"}, "reply_to_user": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1421575298, "post_id": 28006752, "comment_id": 44405093, "body": "@maja Also, if you&#39;re not already using it, I suggest you try <i>Web Essentials for Visual Studio</i>."}], "tags": [], "owner": {"reputation": 5684, "user_id": 940723, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/461459abd487f50764f4278ad02ac4cb?s=128&d=identicon&r=PG", "display_name": "Acidic", "link": "https://stackoverflow.com/users/940723/acidic"}, "is_accepted": false, "score": 3, "last_activity_date": 1421550479, "creation_date": 1421550479, "answer_id": 28006752, "question_id": 28002810, "link": "https://stackoverflow.com/questions/28002810/typescript-1-4-wrong-syntax-highlighting-in-visual-studio/28006752#28006752", "title": "Typescript 1.4: Wrong syntax highlighting in Visual Studio", "body": "<p>I've had the same issue, and for me it was Resharper that was causing the problem. </p>\n\n<p>If you have Resharper installed then simply disable it while working on TypeScript 1.4, at least until JetBrains releases an update with 1.4 support.</p>\n\n<p>To disable Resharper:\n<code>Tools -&gt; Resharper -&gt; General -&gt; Suspend</code></p>\n"}, {"comments": [{"owner": {"reputation": 5684, "user_id": 940723, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/461459abd487f50764f4278ad02ac4cb?s=128&d=identicon&r=PG", "display_name": "Acidic", "link": "https://stackoverflow.com/users/940723/acidic"}, "edited": false, "score": 2, "creation_date": 1421697461, "post_id": 28015409, "comment_id": 44449801, "body": "Excellent, this is a better answer than mine."}, {"owner": {"reputation": 2474, "user_id": 11562, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aaeebaaa6034c7566462cf2ae67e668a?s=128&d=identicon&r=PG", "display_name": "Lars Corneliussen", "link": "https://stackoverflow.com/users/11562/lars-corneliussen"}, "edited": false, "score": 3, "creation_date": 1421770203, "post_id": 28015409, "comment_id": 44482027, "body": "Looks like R# will fix it in 9.1 <a href=\"https://youtrack.jetbrains.com/issue/RSRP-427653\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/RSRP-427653</a>"}], "tags": [], "owner": {"reputation": 5876, "user_id": 4443457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebba8dda528baa8273aa12dba8118e6?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/4443457/don"}, "is_accepted": true, "score": 31, "last_activity_date": 1421659626, "last_edit_date": 1421659626, "creation_date": 1421619190, "answer_id": 28015409, "question_id": 28002810, "link": "https://stackoverflow.com/questions/28002810/typescript-1-4-wrong-syntax-highlighting-in-visual-studio/28015409#28015409", "title": "Typescript 1.4: Wrong syntax highlighting in Visual Studio", "body": "<p>Rather than turning off Resharper, you could configure it to ignore analysing errors in <code>*.ts</code> files. (<code>Tools</code> -> <code>Options</code> -> <code>Resharper Options</code> -> <code>Code Inspection</code> -> <code>Settings</code> -> <code>File Masks to Skip</code> -> add <code>*.ts</code>)</p>\n\n<p>This way you still benefit from using Resharper for other files, and you also get the benefits of code formatting and the like for TypeScript using Resharper.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3166226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8d7fe1de8035d71947083498480891?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Moseley", "link": "https://stackoverflow.com/users/3166226/steven-moseley"}, "is_accepted": false, "score": 6, "last_activity_date": 1438358329, "creation_date": 1438358329, "answer_id": 31750438, "question_id": 28002810, "link": "https://stackoverflow.com/questions/28002810/typescript-1-4-wrong-syntax-highlighting-in-visual-studio/31750438#31750438", "title": "Typescript 1.4: Wrong syntax highlighting in Visual Studio", "body": "<p>I was having a similar issue where Resharper was not recognizing the \"const\" keyword.</p>\n\n<p>I fixed this by explicitly telling Resharper what version of TypeScript to use. By default it is set to \"auto detection\".</p>\n\n<p>On the menu, go to Resharper > Options > Code Editing > TypeScript.  </p>\n\n<p>Change the Type Script Language Level to \"1.5 (experimental)\"</p>\n"}], "owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4937, "favorite_count": 0, "accepted_answer_id": 28015409, "answer_count": 3, "score": 19, "last_activity_date": 1438358329, "creation_date": 1421519244, "last_edit_date": 1421523025, "question_id": 28002810, "link": "https://stackoverflow.com/questions/28002810/typescript-1-4-wrong-syntax-highlighting-in-visual-studio", "title": "Typescript 1.4: Wrong syntax highlighting in Visual Studio", "body": "<p>Typescript 1.4 has been released recently, providing new possibilities like unions.</p>\n\n<p>I installed the new version for Visual Studio, however the syntax highlighting doesn't recognise unions:</p>\n\n<pre><code>var member: string|number;\n</code></pre>\n\n<p>Although it can be compiled without problems, the syntax checker hovers the definition and any usage of the variable <code>member</code>.</p>\n\n<p>What do I need to update to get this working?</p>\n"}, {"tags": ["typescript", "grammar", "specifications"], "answers": [{"comments": [{"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 3, "creation_date": 1421464838, "post_id": 27994757, "comment_id": 44382025, "body": "Honestly, would not expect question like this. But the answer make it really useful. Seem like you know what you are doing Ryan... ;)"}, {"owner": {"reputation": 1226, "user_id": 573110, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7f891fbe8e3bae7f9fe375407ce90d9d?s=128&d=identicon&r=PG", "display_name": "Harold", "link": "https://stackoverflow.com/users/573110/harold"}, "edited": false, "score": 0, "creation_date": 1421486596, "post_id": 27994757, "comment_id": 44385670, "body": "@Ryan Cavanaugh - thanks for these thoughts. Do you work for MS on TypeScript?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1421564978, "post_id": 27994757, "comment_id": 44403876, "body": "Yep. I wasn&#39;t there for this particular decision, but have learned a lot about these kinds of things while working on the language."}, {"owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "edited": false, "score": 0, "creation_date": 1446515763, "post_id": 27994757, "comment_id": 54764943, "body": "@RyanCavanaugh This appears to have changed recently to accept either semicolon OR comma. <a href=\"http://goo.gl/5fCp2R\" rel=\"nofollow noreferrer\">goo.gl/5fCp2R</a> When did this change? Can you update your answer? :)"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1464388521, "post_id": 27994757, "comment_id": 62482660, "body": "Finally got around to updating this one"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 87, "last_activity_date": 1464388509, "last_edit_date": 1464388509, "creation_date": 1421453697, "answer_id": 27994757, "question_id": 27994253, "link": "https://stackoverflow.com/questions/27994253/why-is-the-separator-in-a-typescript-typememberlist-semicolon-as-opposed-to-comm/27994757#27994757", "title": "Why is the separator in a TypeScript TypeMemberList semicolon as opposed to comma?", "body": "<p>As of TypeScript 1.6 or so, you can now use either <code>,</code> or <code>;</code> as a delimiter in <code>interface</code> declarations or anonymous object types! The team decided that the flexibility to use one or the other outweighed the concerns listed in the 'old answer' section.</p>\n\n<p>You'll still need to use <code>;</code> in class declarations to eliminate ambiguity:</p>\n\n<pre><code>x = 3;\nclass X {\n  // Could be parsed as expression with comma operator,\n  // or two declarations\n  y = 1, x = 3;\n}\n</code></pre>\n\n<p>I've retained the old answer below for historical context</p>\n\n<hr>\n\n<h2>Old answer</h2>\n\n<p>Technically it could have gone either way, but there are many strong reasons to use semicolons.</p>\n\n<p>In programming languages, it's more common to see semicolons marking the ends of <em>lines</em> and commas separating things <em>within</em> a line (there are a few exceptions to this, like enums). Most TypeScript types are large enough that they span multiple lines, which makes semicolon a better choice.</p>\n\n<p>There's also a desire to have interfaces and classes appear similar. Consider something like this:</p>\n\n<pre><code>interface Point {\n    x: number;\n    y: number;\n}\nclass MyPoint {\n    x: number;\n    y: number;\n}\n</code></pre>\n\n<p>It's much easier to make <code>MyPoint</code> implement <code>Point</code> via copy-and-paste, or change something from an interface to a class or vice versa, if they use the same delimiter. Arguably you could have made commas be the delimiting character in class declarations, but it's a hard sell to be the first programming language in common use to do that.</p>\n\n<p>It's also desirable to be able to tell object literals and type literals apart at a glance. While the single-member <code>{ x: string }</code> could be either depending on context, it's somewhat nicer if you can distinguish them based on their delimiter when the context isn't obvious in a complex expression.</p>\n\n<p>Finally, every other language in common use with an <code>interface</code> syntax uses semicolons. When in doubt, follow convention, and the syntax for a type literal and an interface should <em>definitely</em> use the same delimiting character.</p>\n"}], "owner": {"reputation": 1226, "user_id": 573110, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7f891fbe8e3bae7f9fe375407ce90d9d?s=128&d=identicon&r=PG", "display_name": "Harold", "link": "https://stackoverflow.com/users/573110/harold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11058, "favorite_count": 7, "answer_count": 1, "score": 57, "last_activity_date": 1464388509, "creation_date": 1421449815, "last_edit_date": 1421451479, "question_id": 27994253, "link": "https://stackoverflow.com/questions/27994253/why-is-the-separator-in-a-typescript-typememberlist-semicolon-as-opposed-to-comm", "title": "Why is the separator in a TypeScript TypeMemberList semicolon as opposed to comma?", "body": "<p>This is a typescript interface:</p>\n\n<pre><code>interface A {\n    l: { x: string; y:number }\n}\n</code></pre>\n\n<p>But this (similar thing) produces an error:</p>\n\n<pre><code>interface A {\n    l: { x: string, y:number }\n}\n\n// =&gt; Error: ';' expected.\n</code></pre>\n\n<p>On p.37 of the spec:\n<a href=\"http://www.typescriptlang.org/Content/TypeScript%20Language%20Specification.pdf\">http://www.typescriptlang.org/Content/TypeScript%20Language%20Specification.pdf</a></p>\n\n<p>I see that indeed it is specified that a <code>;</code> should appear there, but coming from JavaScript the semicolon in the middle of the object-literal-ish thing looks wrong.</p>\n\n<p>Was this decision made to avoid ambiguity in the parser, or for some other reason?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "edited": false, "score": 0, "creation_date": 1421449337, "post_id": 27994120, "comment_id": 44378891, "body": "TypeScript has nothing to do with tabs or spaces. Those are all editor settings. If you mention what you&#39;re using as a Text Editor, we might be able to better help you."}, {"owner": {"reputation": 637220, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 0, "creation_date": 1421449420, "post_id": 27994120, "comment_id": 44378912, "body": "Which IDE/editor are you using? There are several. <a href=\"http://en.wikipedia.org/wiki/TypeScript#IDE_and_editor_support\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/TypeScript#IDE_and_editor_support</a>"}, {"owner": {"reputation": 1600, "user_id": 71263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/01c398e78d4546d350ed5c0a276aea79?s=128&d=identicon&r=PG", "display_name": "Roman Royter", "link": "https://stackoverflow.com/users/71263/roman-royter"}, "edited": false, "score": 0, "creation_date": 1421449613, "post_id": 27994120, "comment_id": 44378977, "body": "Sorry, forgot to mention. Visual Studio 2013, Update 4"}], "answers": [{"comments": [{"owner": {"reputation": 1600, "user_id": 71263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/01c398e78d4546d350ed5c0a276aea79?s=128&d=identicon&r=PG", "display_name": "Roman Royter", "link": "https://stackoverflow.com/users/71263/roman-royter"}, "edited": false, "score": 2, "creation_date": 1421700462, "post_id": 27994817, "comment_id": 44451304, "body": "This setting affects the .ts file. It doesn&#39;t affect the generated .js file. The generated js file is formatted with spaces, not tabs."}], "tags": [], "owner": {"reputation": 637220, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "is_accepted": false, "score": -3, "last_activity_date": 1421454149, "creation_date": 1421454149, "answer_id": 27994817, "question_id": 27994120, "link": "https://stackoverflow.com/questions/27994120/is-there-a-way-to-make-typescript-honor-tabs/27994817#27994817", "title": "Is there a way to make TypeScript honor tabs?", "body": "<p>You can find the setting in the options:</p>\n\n<p>Tools > Options > Text Editor > TypeScript > Tabs</p>\n\n<p>Select the option \"Keep tabs\".</p>\n\n<p>This won't change existing spaces, of course. You can use the \"Format Document\" command <code>Ctrl + K, Ctrl + D</code> to apply formatting to the document.</p>\n"}, {"tags": [], "owner": {"reputation": 943, "user_id": 256661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290789b1696e612945c227fe6095eb10?s=128&d=identicon&r=PG", "display_name": "Journey", "link": "https://stackoverflow.com/users/256661/journey"}, "is_accepted": true, "score": 7, "last_activity_date": 1566976283, "last_edit_date": 1566976283, "creation_date": 1426172106, "answer_id": 29013080, "question_id": 27994120, "link": "https://stackoverflow.com/questions/27994120/is-there-a-way-to-make-typescript-honor-tabs/29013080#29013080", "title": "Is there a way to make TypeScript honor tabs?", "body": "<p>The indentation emitted by the compiler <a href=\"https://github.com/microsoft/TypeScript/blob/6ca9d04b60fd3861ed595e968e266f5ef19b29f2/src/compiler/utilities.ts#L3267\" rel=\"nofollow noreferrer\">appears to be hardcoded</a>.</p>\n\n<p>So no, you can't configure it.</p>\n"}, {"comments": [{"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1580789973, "post_id": 46256920, "comment_id": 106203785, "body": "I find it really annoying how <code>microsoft</code> locks almost all GitHub issues on the TypeScript project. In other words, &quot;STFU, we&#39;ve decided this and won&#39;t budge even if in the future things change&quot;"}], "tags": [], "owner": {"reputation": 43, "user_id": 5105134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQmeA.png?s=128&g=1", "display_name": "Kumar Sucom", "link": "https://stackoverflow.com/users/5105134/kumar-sucom"}, "is_accepted": false, "score": 4, "last_activity_date": 1505591080, "last_edit_date": 1505591080, "creation_date": 1505584862, "answer_id": 46256920, "question_id": 27994120, "link": "https://stackoverflow.com/questions/27994120/is-there-a-way-to-make-typescript-honor-tabs/46256920#46256920", "title": "Is there a way to make TypeScript honor tabs?", "body": "<p>The workaround solution from [S-YOU] in typescript issues thread might be useful until typescript team allow to modify through tsconfig.json:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/4042\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/4042</a></p>\n\n<p>For those who just want to change the output to tab, you can patch typescript.js after you install.</p>\n\n<pre><code>sed -i 's/\"    \"/\"\\\\t\"/g' node_modules/typescript/lib/typescript.js\n\n% grep \"indentStrings =\" node_modules/typescript -R\n\nnode_modules/typescript/lib/typescriptServices.js: var indentStrings = [\"\", \"    \"];\nnode_modules/typescript/lib/typescript.js: var indentStrings = [\"\", \"\\t\"];\nnode_modules/typescript/lib/tsserverlibrary.js: var indentStrings = [\"\", \"    \"];\nnode_modules/typescript/lib/tsserver.js: var indentStrings = [\"\", \"    \"];\nnode_modules/typescript/lib/tsc.js: var indentStrings = [\"\", \"    \"];\n</code></pre>\n\n<p>if you want to change <code>indentString</code> to something you prefer change in those files the 2nd string to whatever you want.</p>\n"}], "owner": {"reputation": 1600, "user_id": 71263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/01c398e78d4546d350ed5c0a276aea79?s=128&d=identicon&r=PG", "display_name": "Roman Royter", "link": "https://stackoverflow.com/users/71263/roman-royter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3289, "favorite_count": 1, "accepted_answer_id": 29013080, "answer_count": 3, "score": 6, "last_activity_date": 1566976283, "creation_date": 1421449070, "last_edit_date": 1421449634, "question_id": 27994120, "link": "https://stackoverflow.com/questions/27994120/is-there-a-way-to-make-typescript-honor-tabs", "title": "Is there a way to make TypeScript honor tabs?", "body": "<p>It seems that typescript ignores tab settings for JavaScript files and inserts spaces instead of tabs in the generated js file.</p>\n\n<p>Is there a setting to force tabs instead of spaces?</p>\n\n<p>P.S. Using VS 2013 Update 4</p>\n"}, {"tags": ["visual-studio-2013", "typescript", "failed-installation"], "comments": [{"owner": {"reputation": 7061, "user_id": 1837197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09fadfc197fc78c68888ba06d3391882?s=128&d=identicon&r=PG", "display_name": "Paul van Brenk", "link": "https://stackoverflow.com/users/1837197/paul-van-brenk"}, "edited": false, "score": 0, "creation_date": 1421447164, "post_id": 27993581, "comment_id": 44378189, "body": "It makes more sense to post on the TypeScript teams github page. <a href=\"https://github.com/Microsoft/TypeScript\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript</a>"}, {"owner": {"reputation": 293, "user_id": 1502493, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/27b4ef79ef5213f47797f8f6413345de?s=128&d=identicon&r=PG", "display_name": "RRRSR", "link": "https://stackoverflow.com/users/1502493/rrrsr"}, "reply_to_user": {"reputation": 7061, "user_id": 1837197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09fadfc197fc78c68888ba06d3391882?s=128&d=identicon&r=PG", "display_name": "Paul van Brenk", "link": "https://stackoverflow.com/users/1837197/paul-van-brenk"}, "edited": false, "score": 0, "creation_date": 1421455714, "post_id": 27993581, "comment_id": 44380410, "body": "This is a Visual Studio issue/  I can create a new Typescript project and do all the stuff in the typescript demos.  However, when I go into an existing project (created well before typescript was available), I am unable to see any typescript related options in the various &quot;Add New&quot; menus.  It is as though, in my existing projects, VS is unaware that typescript has been installed and can be successfully run in the new typescript (test) project!"}], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 1502493, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/27b4ef79ef5213f47797f8f6413345de?s=128&d=identicon&r=PG", "display_name": "RRRSR", "link": "https://stackoverflow.com/users/1502493/rrrsr"}, "is_accepted": false, "score": 1, "last_activity_date": 1421532612, "last_edit_date": 1421532612, "creation_date": 1421509006, "answer_id": 28001078, "question_id": 27993581, "link": "https://stackoverflow.com/questions/27993581/vs-2013-community-add-new-typescript-file-missing/28001078#28001078", "title": "VS 2013 Community Add new Typescript file missing", "body": "<p>I think I found the problem.  </p>\n\n<p>To use typescript in conjunction with an existing project in Visual Studio, I had to add a new project (using the typescript template) to the solution containing my existing project.  Then, I could add new typescript files to the typescript project.  </p>\n\n<p>The generated javascript files in the TypeScript project could then be made available to the pages in the existing (co-)project by selecting the \"Output to Folder\" option on the Typescript project, specifying the scripts folder in the other project.</p>\n"}], "owner": {"reputation": 293, "user_id": 1502493, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/27b4ef79ef5213f47797f8f6413345de?s=128&d=identicon&r=PG", "display_name": "RRRSR", "link": "https://stackoverflow.com/users/1502493/rrrsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421532612, "creation_date": 1421446124, "question_id": 27993581, "link": "https://stackoverflow.com/questions/27993581/vs-2013-community-add-new-typescript-file-missing", "title": "VS 2013 Community Add new Typescript file missing", "body": "<p>Downloaded and Installed Typescript 1.4 from typescript page into VS 2013 Community Den Update 4.</p>\n\n<p>Following install (no error messages), I tried to add a new typescript file.  I expected to see such an option in the righ-click menu on \"ADD new\".  Cannot find any reference to typescript files anywhere in any of my projects.</p>\n\n<p>I can manually create a file and give it a ts extension in the \"Scripts\" directory of my project.  However, there is no intellisense and no indication that a \"shadow\" js file has been created.  </p>\n\n<p>I'm at a loss as to how to get typescript working in VS 2013 Community Edition</p>\n"}, {"tags": ["javascript", "angularjs", "javascript-events", "angularjs-scope", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1421417790, "post_id": 27984536, "comment_id": 44362627, "body": "So if I understand $watch correctly, I don&#39;t have to do anything other than.. wait for changes? No $broadcast etc.? And what&#39;s the point of the wrapper class? <b>Edit</b>: Also, is there a reason you made $scope.itemSelected?"}, {"owner": {"reputation": 16259, "user_id": 2204722, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IQoJu.jpg?s=128&g=1", "display_name": "Omri Aharon", "link": "https://stackoverflow.com/users/2204722/omri-aharon"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1421418079, "post_id": 27984536, "comment_id": 44362808, "body": "@xvdiff That&#39;s right, <code>$watch</code> updates you on the change and you don&#39;t have to do <code>$broadcast</code>. The wrapper class I included since there&#39;s sometimes an issue with primitive classes directly on the scope or in a service, but the reason for that eludes me, so I developed a habit of having watched variables inside other objects, you don&#39;t have to do it. <code>$scope.itemSelected</code> I just assumed it&#39;s your variable that gets updated (you said the selected item often changes)."}, {"owner": {"reputation": 16259, "user_id": 2204722, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IQoJu.jpg?s=128&g=1", "display_name": "Omri Aharon", "link": "https://stackoverflow.com/users/2204722/omri-aharon"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1421418176, "post_id": 27984536, "comment_id": 44362871, "body": "@xvdiff I added this because the service needs to have a reference for your variable. That way, when you update it, it gets updated in the service as well, and then the watch will trigger in your other controller."}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1421432060, "post_id": 27984536, "comment_id": 44371284, "body": "And that won&#39;t happen with private class variables in TS? (Probably an absolut beginner question..)"}, {"owner": {"reputation": 16259, "user_id": 2204722, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IQoJu.jpg?s=128&g=1", "display_name": "Omri Aharon", "link": "https://stackoverflow.com/users/2204722/omri-aharon"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1421447753, "post_id": 27984536, "comment_id": 44378399, "body": "@xvdiff Doesn&#39;t have to be private, you can make it public. The only thing that matters is that the service and your controller hold the same reference."}], "tags": [], "owner": {"reputation": 16259, "user_id": 2204722, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IQoJu.jpg?s=128&g=1", "display_name": "Omri Aharon", "link": "https://stackoverflow.com/users/2204722/omri-aharon"}, "is_accepted": true, "score": 2, "last_activity_date": 1421413267, "creation_date": 1421413267, "answer_id": 27984536, "question_id": 27984129, "link": "https://stackoverflow.com/questions/27984129/update-shared-data-between-2-controllers-with-services/27984536#27984536", "title": "Update shared data between 2 controllers with services", "body": "<p>You are correct, the <code>$on</code> and <code>$emit</code> should be avoided, as they create unnecessary noise. There's actually a pretty simple solution to this situation, I use it quite a bit.</p>\n\n<p>What you need to have is an object in your service and give one controller a reference to it, and the other that needs to trigger an action can watch the service variable (good job on the TypeScript by the way):</p>\n\n<pre><code>class ItemSelectionWrapper { //just a wrapper, you could have other variables in here if you want\n    itemSelected: IItemModel;\n}\n\nclass EventBusService implements IEventBusService {\n\n    private myObj: ItemSelectionWrapper;\n    ...\n}\n</code></pre>\n\n<p>Then in your controller that has itemSelected in its scope (let's assume Controller 1) you refer to the same variable:</p>\n\n<pre><code>export class Controller1 {\n    private eventBus : Components.IEventBusService;\n\n\n    constructor(eventBus: Components.IEventBusService) {\n        this.eventBus = eventBus;\n        this.eventBus.myObj = this.eventBus.myObj || {};\n        this.eventBus.myObj.itemSelected = $scope.itemSelected; \n    }\n}\n</code></pre>\n\n<p>Now, since in Controller 2 you'll have the service injected, you'll watch the Service's variable:</p>\n\n<pre><code>$scope.$watch(function(){\n        return busService.myObj,itemSelected;\n    }, function (newValue) {\n        //do what you need\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 1, "creation_date": 1421431978, "post_id": 27988575, "comment_id": 44371237, "body": "Wow, you&#39;re everywhere. Like an angularized version of Mr. Skeet. Many thanks. Denoting a &quot;root controller&quot; which is responsible for exposing the shared service seems like a good idea."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1421432130, "post_id": 27988575, "comment_id": 44371312, "body": "Thanks for your kind words :)"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1421426258, "creation_date": 1421426258, "answer_id": 27988575, "question_id": 27984129, "link": "https://stackoverflow.com/questions/27984129/update-shared-data-between-2-controllers-with-services/27988575#27988575", "title": "Update shared data between 2 controllers with services", "body": "<blockquote>\n  <p>Is 'the service way' better regarding to updating data etc?</p>\n</blockquote>\n\n<p>Yes. Reason is that events are like \"throw a ball in the air and hope someone catches it\". Whereas service is a defined contract on how two controllers would interact. </p>\n\n<p>If you use TypeScript you clearly care about Type Safety, services can give you that.</p>\n\n<hr>\n\n<p>FYI We have the following guidance internally: </p>\n\n<h1>Shared Information between controllers</h1>\n\n<p>When a screen is highly nested with various placeholders with their own \"html + controller\" we need a way to share information (single source of truth) between these controllers. </p>\n\n<h1>1 RootController</h1>\n\n<p>The main controller for the section. Responsible for exposing the SharedClass instance on the scope (allows nested html segments to have direct access to this model) and any top level controller functions.</p>\n\n<h1>2 SharedClass</h1>\n\n<p>An angular service as it is easily inject-able into individual controllers / directives. Contains the information / functions that are shared in various portions of the screen e.g. multi select mode, Displayed / selected objects, operations for mutating these objects etc.</p>\n\n<h1>3 Individual Html + Controller</h1>\n\n<p>These subControllers can request the SharedClass using simple Angular Dependency Injection. The Controller HTML should automatically get access to the SharedClass instance (as that is exposed to scope by RootController).</p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "accepted_answer_id": 27984536, "answer_count": 2, "score": 1, "last_activity_date": 1421426258, "creation_date": 1421411816, "last_edit_date": 1421412156, "question_id": 27984129, "link": "https://stackoverflow.com/questions/27984129/update-shared-data-between-2-controllers-with-services", "title": "Update shared data between 2 controllers with services", "body": "<p>I have 2 controllers where I'd like to share data in between. One controller supports a view with a table that often changes it's \"selected item\" and the other fetches data from an API using said item information. Since those two controllers support views and are on the same page, they don't have a classic parent/child hierarchy, but are more 'siblings'.</p>\n\n<p>Currently, I'm using a simple 'event bus' service which calls an event on the root scope using <code>$emit</code> which I inject in both controllers, where as one listens for changes using <code>$rootScope.$on</code>. Now I heard many times that this is a bad solution and I should use services to share data, <strong>but no one really explains how it's possible to watch the data for changes</strong> when also</p>\n\n<ul>\n<li>using <code>$watch</code> is bad</li>\n<li><code>$broadcast</code> is bad</li>\n</ul>\n\n<p>(<em>there seems to be really a war on SO on which solution should more be avoided</em>).</p>\n\n<p>My current solution:</p>\n\n<h3>Controller1</h3>\n\n<pre><code>export class Controller1 {\n    private eventBus : Components.IEventBusService;\n\n    constructor(eventBus: Components.IEventBusService) {\n        this.eventBus = eventBus;\n    }\n\n    void itemSelected(item : IItemModel) {\n        this.eventBus.emit(\"itemSelected\", { \"item\" : item });\n    }\n}\n</code></pre>\n\n<h3>Controller 2</h3>\n\n<pre><code>export class Controller2 {\n\n    constructor($scope : ng.IScope,\n        eventBus : Components.IEventBusService) {\n\n        eventBus.on(\"itemSelected\", (event, data) =&gt;\n            this.onItemSelected(data), $scope);\n    }\n\n    private onItemSelected(data: any) {\n        // do something with data.item!\n    }\n}\n</code></pre>\n\n<h3>EventBusService</h3>\n\n<pre><code>export interface IEventBusService {\n    on(event, callback, scope): void;\n    emit(event, data): void;\n}\n\nclass EventBusService implements IEventBusService {\n\n    private rootScope: ng.IRootScopeService;\n\n    constructor($rootScope: ng.IRootScopeService) {\n        this.rootScope = $rootScope;\n    }\n\n    on(event, callback, scope) : void {\n        var unbind = this.rootScope.$on(event, callback);\n        if(scope) {\n            scope.$on(\"$destroy\", unbind);\n        }\n    }\n\n    emit(event, data) : void {\n        data = data || {};\n        this.rootScope.$emit(event, data);\n    }\n\n}\n</code></pre>\n\n<p>Are there any major drawbacks using this solution? Is '<em>the service way</em>' better regarding to updating data etc?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 3, "last_activity_date": 1421404758, "creation_date": 1421404758, "answer_id": 27982098, "question_id": 27981342, "link": "https://stackoverflow.com/questions/27981342/how-to-represent-an-alias-for-a-module-in-a-d-ts-file/27982098#27982098", "title": "How to represent an alias for a module in a .d.ts file?", "body": "<p>Here is an example <code>.d.ts</code> of your module:</p>\n\n<pre><code>declare module MyLongModuleName {\n    export class X {\n\n    }\n}\n\ndeclare var m: typeof MyLongModuleName;\n</code></pre>\n\n<p>You can then use the alias in your code:</p>\n\n<pre><code>/// &lt;reference path=\"example.d.ts\" /&gt;\n\nvar x = new m.X();\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 2983054, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f85ca7ac75c22e423bbc65e5195d106d?s=128&d=identicon&r=PG&f=1", "display_name": "Antony Jones", "link": "https://stackoverflow.com/users/2983054/antony-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "accepted_answer_id": 27982098, "answer_count": 1, "score": 0, "last_activity_date": 1421404758, "creation_date": 1421402210, "question_id": 27981342, "link": "https://stackoverflow.com/questions/27981342/how-to-represent-an-alias-for-a-module-in-a-d-ts-file", "title": "How to represent an alias for a module in a .d.ts file?", "body": "<p>I have a typescript file which for the sake of simplicity also has an alias, something like:</p>\n\n<pre><code>module MyLongModuleName{\n    // Lots of exported methods and objects... //\n}\nimport m = MyLongModuleName;\n</code></pre>\n\n<p>And this all works as expected if I have the actual typescript file in the same project, however the alias is missing from the .d.ts file so I get errors when I try to use it.</p>\n\n<p>How can I define this sort of alias within the .d.ts file, or alternatively how can I alias the module in such a way as it will be included correctly in to .d.ts file when the ts file is compiled?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 3286, "user_id": 1978840, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3NIjN.jpg?s=128&g=1", "display_name": "John Pankowicz", "link": "https://stackoverflow.com/users/1978840/john-pankowicz"}, "is_accepted": false, "score": 1, "last_activity_date": 1421398058, "last_edit_date": 1421398058, "creation_date": 1421359339, "answer_id": 27973814, "question_id": 27967948, "link": "https://stackoverflow.com/questions/27967948/intended-use-for-interfaces-that-extend-classes/27973814#27973814", "title": "Intended use for interfaces that extend classes", "body": "<p>I don't know if this is the actual intention, but it does provide a simple way to implement multiple inheritance without needing to create 3 spurious interfaces just for that purpose:</p>\n\n<pre><code>class Tractor {\n....\n}\n\nclass Trailer {\n    ....\n}\n\n\ninterface ITractorTrailer extends Tractor, Trailer {} \n\nclass TractorTrailer implements ITractorTrailer {\n    ....\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1421365899, "creation_date": 1421365899, "answer_id": 27975146, "question_id": 27967948, "link": "https://stackoverflow.com/questions/27967948/intended-use-for-interfaces-that-extend-classes/27975146#27975146", "title": "Intended use for interfaces that extend classes", "body": "<blockquote>\n  <p>Does anyone know the intention for this feature?</p>\n</blockquote>\n\n<p>Simply because it allows you to capture the type information of a class in an interface. </p>\n\n<blockquote>\n  <p>but I don't want to do anything that may be taken out of the compiler at some point, or might cause other issues</p>\n</blockquote>\n\n<p>Its a part of the <em>stabalized</em> language specification. See section <code>7.1</code> <a href=\"http://www.typescriptlang.org/Content/TypeScript%20Language%20Specification.pdf\" rel=\"nofollow\">http://www.typescriptlang.org/Content/TypeScript%20Language%20Specification.pdf</a> </p>\n\n<pre><code>InterfaceDeclaration:\n   interface Identifier TypeParametersopt InterfaceExtendsClauseopt ObjectType\nInterfaceExtendsClause:\n   extends ClassOrInterfaceTypeList\n</code></pre>\n\n<p>Explicitly <code>ClassOrInterfaceTypeList</code> </p>\n"}], "owner": {"reputation": 3715, "user_id": 3272249, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sgy73.png?s=128&g=1", "display_name": "wjohnsto", "link": "https://stackoverflow.com/users/3272249/wjohnsto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1421398058, "creation_date": 1421338606, "question_id": 27967948, "link": "https://stackoverflow.com/questions/27967948/intended-use-for-interfaces-that-extend-classes", "title": "Intended use for interfaces that extend classes", "body": "<p>It appears that TypeScript 0.9+ provides the ability for interfaces to extend classes as follows:</p>\n\n<pre><code>class Foo implements IFoo {\n    /**\n     * This is bar\n     */\n    bar = 2;\n}\n\ninterface IFoo extends Foo { }\n\nvar x: IFoo,\n    y: Foo = new Foo();\n</code></pre>\n\n<p>Does anyone know the intention for this feature?</p>\n\n<p>From my experience, the biggest value I get from it is that in IDEs (such as VS), it allows me to see the JSDoc when I type <code>x.bar</code> or <code>y.bar</code>. This is incredibly useful as it avoids having to have duplicate documentation for what is essentially the same property/method.</p>\n\n<p>Because of the huge benefit in terms of documentation, I am leaning towards migrating a bunch of interfaces to use this style, but I don't want to do anything that may be taken out of the compiler at some point, or might cause other issues. Is there anything I should be aware of with regards to this feature? Is there another useful result of this feature that I should know about?</p>\n"}, {"tags": ["javascript", "html", "css", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "edited": false, "score": 1, "creation_date": 1440827269, "post_id": 27960957, "comment_id": 52444353, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/25437321/angularjs-best-way-to-watch-dimensions\">AngularJS: Best way to watch dimensions?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2099, "user_id": 1798697, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mUxCQ.png?s=128&g=1", "display_name": "plong0", "link": "https://stackoverflow.com/users/1798697/plong0"}, "is_accepted": false, "score": 0, "last_activity_date": 1452818780, "creation_date": 1452818780, "answer_id": 34802515, "question_id": 27960957, "link": "https://stackoverflow.com/questions/27960957/angular-directive-auto-stretch-to-bottom/34802515#34802515", "title": "Angular directive - auto stretch to bottom", "body": "<p>I've just released a bower component <a href=\"https://github.com/TechNaturally/angular-stretch\" rel=\"nofollow\">angular-stretch</a> that does this</p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 624, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452818780, "creation_date": 1421316236, "last_edit_date": 1421326128, "question_id": 27960957, "link": "https://stackoverflow.com/questions/27960957/angular-directive-auto-stretch-to-bottom", "title": "Angular directive - auto stretch to bottom", "body": "<p>I've got the following layout:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Qtoyy.png\" alt=\"layout\"></p>\n\n<h3>HTML</h3>\n\n<pre><code>&lt;section&gt;\n    &lt;div ui-view=\"table\"&gt;&lt;/div&gt; // contains the table, height max 20 items\n\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-4\" ui-view=\"row1\"&gt;&lt;/div&gt;\n        &lt;div class=\"col-md-4\" ui-view=\"row1\"&gt;&lt;/div&gt;\n        &lt;div class=\"col-md-4\" ui-view=\"row1\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/section&gt;\n</code></pre>\n\n<h3>Goal</h3>\n\n<p>The idea is to make an angular directive that stretches the annotated container to the maximum height of the parent container minus all siblings.</p>\n\n<h3>Directive (what I have yet)</h3>\n\n<pre><code>module App.Directive {\n\n    export class AutoStretchDirective {\n\n        private window: ng.IWindowService;\n\n        restrict: string = \"A\";\n\n        constructor($window: ng.IWindowService) {\n            this.window = $window;\n            this.link = this.link.bind(this);\n        }\n\n        link = (scope, element, attrs) =&gt; {\n            var combined = collection =&gt; {\n                var heights, node, i, len;\n                heights = 0;\n                for (i = 0, len = collection.length; i &lt; len; i ++) {\n                    node = collection[i];\n                    heights += node.offsetHeight;\n                }\n                return heights;\n            };\n\n            var siblings = $elm =&gt; {\n                var elm, i, len, ref, results;\n                ref = $elm.parent().children();\n                results = [];\n                for (i = 0, len = ref.length; i &lt; len; i++) {\n                    elm = ref[i];\n                    if (elm !== $elm[0]) {\n                        results.push(elm);\n                    }\n                }\n                return results;\n            };\n\n            angular.element(this.window).bind(\"resize\", () =&gt; {\n                var additionalHeight, parentHeight;\n                additionalHeight = attrs.additionalHeight || 0;\n                parentHeight = window.innerHeight - element.parent()[0].getBoundingClientRect().top;\n                return element.css(\"height\", parentHeight - combineHeights(siblings(element)) - additionalHeight);\n            });\n\n          };\n     };\n}\n</code></pre>\n\n<p>The directive loads fine, however it's not working correclty. As soon as ng-repeat populates, the container is pushed down to the height required for all items. I've tried decorating the columns with <code>height: 100%</code> and <code>overflow</code> (css), but it seems to be ignored. Am I missing something? Is there a way to debug the transitions a directive is applying to the elements?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1421310915, "post_id": 27958859, "comment_id": 44312634, "body": "I think it <i>should</i> be an error already. But it isn&#39;t &gt; so I&#39;d report it as a bug. I am curious how you ended up with this scenario though :)"}, {"owner": {"reputation": 1274, "user_id": 3926538, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jNFNA.jpg?s=128&g=1", "display_name": "Upio", "link": "https://stackoverflow.com/users/3926538/upio"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1421311635, "post_id": 27958859, "comment_id": 44312952, "body": "I&#39;ve been researching TypeScript with regards to my use case. I want to use it to load other peoples scripts. But I want to force those scripts to obey the rules. If they can access a libraries private variable then it isn&#39;t going to work :) Are you sure it&#39;s a bug? I was reading this blog <a href=\"http://tedpatrick.com/2013/06/25/7-months-with-typescript/\" rel=\"nofollow noreferrer\">tedpatrick.com/2013/06/25/7-months-with-typescript</a> and he mentions he uses the associative array to get around compiler problems. This is why I asked the question, because i don&#39;t want that to be allowed."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1421345376, "post_id": 27958859, "comment_id": 44332896, "body": "Protecting against intentionally-invasive external scripts isn&#39;t something TypeScript does. In general it&#39;s nearly impossible to do that kind of thing safely; if you do not trust an external script, do not run it in the same execution context as your own code."}, {"owner": {"reputation": 1274, "user_id": 3926538, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jNFNA.jpg?s=128&g=1", "display_name": "Upio", "link": "https://stackoverflow.com/users/3926538/upio"}, "edited": false, "score": 0, "creation_date": 1421362352, "post_id": 27958859, "comment_id": 44341651, "body": "It is something it can do. But i&#39;m guessing from your response and from reading around about TypeScript, TS is meant to support normal javascript code. If this is the case then a switch will never be added to force this behaviour.  But then why does the compiler have an argument to force an error when types cannot be inferred? var a; will fail compilation. I want a similar argument --strictTypes or something like that disables old javascript. I may be wishing for too much ;)"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1421326413, "creation_date": 1421326413, "answer_id": 27963945, "question_id": 27958859, "link": "https://stackoverflow.com/questions/27958859/protect-against-associative-array-access-in-typescript/27963945#27963945", "title": "Protect against associative array access in TypeScript", "body": "<p>There seems to be an inconsistency, although it may turn out to be by design.</p>\n\n<p>In the example below, the compiler determines the type of variable <code>b</code>, but ignores the fact it is private. To be consistent, it should either:</p>\n\n<ul>\n<li>Not infer the type, or</li>\n<li>Infer the type <em>and</em> check access</li>\n</ul>\n\n<p>Obviously in your case you are after the second of these options.</p>\n\n<pre><code>class Example {\n    private private: number;\n    public public: number;\n\n    constructor() {\n        this.private = 1\n    }\n}\n\nvar example = new Example()\n\nvar a = example.private; // Error\nvar b = example[\"private\"]; // number\nvar c = example[\"other\"]; // any \nvar d = example[\"public\"]; // number\n</code></pre>\n\n<p>I have raised an <a href=\"https://github.com/Microsoft/TypeScript/issues/1680\" rel=\"nofollow\">issue for this on GitHub</a>.</p>\n"}], "owner": {"reputation": 1274, "user_id": 3926538, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jNFNA.jpg?s=128&g=1", "display_name": "Upio", "link": "https://stackoverflow.com/users/3926538/upio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 1, "accepted_answer_id": 27963945, "answer_count": 1, "score": 1, "last_activity_date": 1421326413, "creation_date": 1421308455, "question_id": 27958859, "link": "https://stackoverflow.com/questions/27958859/protect-against-associative-array-access-in-typescript", "title": "Protect against associative array access in TypeScript", "body": "<p>Is there a way to tell the TypeScript compiler to not allow illegal access of private variables via the object map?</p>\n\n<p>For example:</p>\n\n<pre><code>class Thing {\n    private id: number;\n\n    constructor() {\n        this.id = 1\n    }\n}\n\nvar thing = new Thing()\nalert(thing[\"id\"]); // I want this to throw a compiler error\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1421284746, "post_id": 27955348, "comment_id": 44305683, "body": "it creates a read only accessor."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1421286077, "creation_date": 1421286077, "answer_id": 27955548, "question_id": 27955348, "link": "https://stackoverflow.com/questions/27955348/get-keyword-in-typescript/27955548#27955548", "title": "&#39;get&#39; keyword in typescript", "body": "<blockquote>\n  <p>Could anyone teach me the relative knowledge and give me examples? </p>\n</blockquote>\n\n<p>It allows you define a <code>getter</code> : <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get</a></p>\n\n<p>Basically the <em>function</em> <code>onMouseOver</code> gets <em>called</em> when someone <em>accesses</em> the property e.g. <code>console.log(onMouseOver)</code></p>\n"}, {"tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": false, "score": -1, "last_activity_date": 1421342797, "creation_date": 1421342797, "answer_id": 27969343, "question_id": 27955348, "link": "https://stackoverflow.com/questions/27955348/get-keyword-in-typescript/27969343#27969343", "title": "&#39;get&#39; keyword in typescript", "body": "<pre><code>class SomeObject {\n\n    public getFoo () {\n        return 'foo';\n    }\n\n    public get foo () {\n        return 'foo';\n    }\n}\n\nvar obj = new SomeObject();\n\n// True\nobj.getFoo() === obj.foo;\n\n// Does nothing\nobj.foo = 'bar';\n\n// Still true\nobj.getFoo() === obj.foo;\n\n// Does nothing\ndelete obj.foo;\n\n// Still true\nobj.getFoo() === obj.foo;\n\n// Does nothing\nSomeObject.prototype.foo = 'bar';\n\n// Still true\nobj.getFoo() === obj.foo;\n\n// It's gone from all instances of SomeObject\ndelete SomeObject.prototype.foo;\n\n// True\ntypeof obj.foo === 'undefined';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1421345998, "creation_date": 1421345998, "answer_id": 27970330, "question_id": 27955348, "link": "https://stackoverflow.com/questions/27955348/get-keyword-in-typescript/27970330#27970330", "title": "&#39;get&#39; keyword in typescript", "body": "<p>In essence it allows you to control what happens when the property is <em>gotten</em></p>\n\n<p>In the example code you are tying to understand you have a private property <code>mouseHover</code>. This cannot be accessed outside the class it is defined. The author wanted a to make the <code>mouseHover</code> property accessible outside the class -- without allowing it to be overwritten -- in essence Read Only. </p>\n\n<p>So the author exposed the private <code>mouseHover</code> property using the 'get' keyword on a new property <code>onMouseHover</code>. Using <code>get</code> the author can tell JavaScript what to do when the property is read. As you can see it just returns the backing property.</p>\n\n<p>This gets compiled into the following JavaScript</p>\n\n<pre><code>Object.defineProperty(YourClass.prototype, \"onMouseHover\", {\n    get: function () {\n        return this.mouseHover;\n    },\n    enumerable: true,\n    configurable: true\n});\n</code></pre>\n\n<p>To understand this better, look at the documentation for Object.defineProperty\n<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty</a></p>\n"}], "owner": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 0, "accepted_answer_id": 27955548, "answer_count": 3, "score": 2, "last_activity_date": 1421345998, "creation_date": 1421284594, "last_edit_date": 1421284724, "question_id": 27955348, "link": "https://stackoverflow.com/questions/27955348/get-keyword-in-typescript", "title": "&#39;get&#39; keyword in typescript", "body": "<pre><code>private mouseHover:MouseEventHandler&lt;HTMLElement&gt; = new MouseEventHandler&lt;HTMLElement&gt;();\npublic get onMouseHover():  MouseEventHandler&lt;HTMLElement&gt; { return this.mouseHover; }\n</code></pre>\n\n<p>For the above code, I don't understand the 'get' keyword. Could anyone teach me the relative knowledge and give me examples? Thanks!</p>\n"}, {"tags": ["jquery", "ajax", "json", "typescript"], "comments": [{"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1421299311, "post_id": 27955062, "comment_id": 44308869, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/8039534/deserialize-json-to-javascript-object\">deserialize JSON to JAVASCRIPT object</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31954, "user_id": 507784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746626153d30ebddefbe5d61553a9b39?s=128&d=identicon&r=PG", "display_name": "GregL", "link": "https://stackoverflow.com/users/507784/gregl"}, "is_accepted": false, "score": 1, "last_activity_date": 1421284068, "creation_date": 1421284068, "answer_id": 27955279, "question_id": 27955062, "link": "https://stackoverflow.com/questions/27955062/typescript-callback-does-not-fully-instantiate-class-in-its-signature/27955279#27955279", "title": "TypeScript callback does not fully instantiate class in its signature", "body": "<p>I don't believe there is anything you can do to have jQuery automatically provide the value as an instance of your <code>MyData</code> class, instead of just a raw object. Because ultimately, all jQuery is doing is deserialising the JSON text using <code>JSON.parse()</code> and passing the <code>done()</code> callback the resulting JS object. JSON does not support saying an object is an instance of a class.</p>\n\n<p>You would have to create an interceptor for the AJAX request that takes the raw object returned and constructs an instance of your class for you. This may be done individually per class/request, or you could do it globally if you had the data return the class to instantiate and every class' constructor accepted such an object. Then you could write a generic interceptor to transform the raw object into an instance of the correct class.</p>\n\n<p>Of course, then your server code either has to know about the client side types, or you would have to specify the type as part of the request and return the type in the response.</p>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1421318640, "creation_date": 1421318640, "answer_id": 27961636, "question_id": 27955062, "link": "https://stackoverflow.com/questions/27955062/typescript-callback-does-not-fully-instantiate-class-in-its-signature/27961636#27961636", "title": "TypeScript callback does not fully instantiate class in its signature", "body": "<p>If I simplify the example (to remove the AJAX call, but leave in the important issue of converting a simple data object into an instance of <code>MyData</code>), you can solve the problem by mapping the plain data to a new <code>MyData</code> instance.</p>\n\n<p>For the example, I have used a static method. You can choose your own pattern here. Maybe you'll accept <code>A</code> and <code>B</code> as constructor argument, or use a mapper class or apply whatever pattern you feel fits best:</p>\n\n<h1>Static Method</h1>\n\n<pre><code>module Samples {\n\n    export class MyData {\n        public A: number;\n        public B: number;\n        public get C(): number { return this.A + this.B; }\n\n        public static fromJson(json: { A: number; B: number}) {\n            var myData = new MyData();\n            myData.A = json.A;\n            myData.B = json.B;\n            return myData;\n        }\n    }\n\n    export class ClassDemo {\n        constructor(){\n            var result = { A: 1, B: 2};\n            this.loadSucceeded(MyData.fromJson(result));\n        }\n\n        private loadSucceeded(data: MyData) {\n            alert(data.A + \" + \" + data.B + \" = \" + data.C);\n        }\n    }\n}\n\nvar sample = new Samples.ClassDemo();\n</code></pre>\n\n<h1>Constructor</h1>\n\n<pre><code>module Samples {\n\n    export class MyData {\n        constructor(public A: number, public B:number){}\n\n        public get C(): number { return this.A + this.B; }\n    }\n\n    export class ClassDemo {\n        constructor(){\n            var result = { A: 1, B: 2};\n            this.loadSucceeded(new MyData(result.A, result.B));\n        }\n\n        private loadSucceeded(data: MyData) {\n            alert(data.A + \" + \" + data.B + \" = \" + data.C);\n        }\n    }\n}\n\nvar sample = new Samples.ClassDemo();\n</code></pre>\n\n<p>You could even automatically map the properties to a new instance by looking for matching properties in the \"left\" and \"right\" hand arguments of any two objects, although this would be rather more abstract than a plain mapping.</p>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 3554582, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c13666fd22fba7b6ee175b463e416ad6?s=128&d=identicon&r=PG", "display_name": "Bernard Hymmen", "link": "https://stackoverflow.com/users/3554582/bernard-hymmen"}, "is_accepted": true, "score": 0, "last_activity_date": 1421374261, "creation_date": 1421374261, "answer_id": 27976281, "question_id": 27955062, "link": "https://stackoverflow.com/questions/27955062/typescript-callback-does-not-fully-instantiate-class-in-its-signature/27976281#27976281", "title": "TypeScript callback does not fully instantiate class in its signature", "body": "<p>Thanks for everyone's explanations and suggestions.  I think I ended up going with a hybrid of all of them, which is why I'm providing my own answer.</p>\n\n<p>I've got the pattern I described going on in a few places in my real code and all of classes involved have more than just two members.  At this stage of development they are also subject to change so it made sense to create a generic helper class to map member values from one object to another.  It also made sense in my scenario to invoke this mapper as part of the constructor because some of the classes have some additional setup actions.  The constructors now take an optional argument of an existing instance of the class to copy data from.  </p>\n\n<p>Here's how it turned out.  The last demonstration case is the pattern that gets used most often in my code.</p>\n\n<pre><code>module Samples {\n\n    export class Helpers {\n        public static Recreate&lt;T&gt;(typeT: { new (): T; }, sourceObj: T, targetObj?: T) {\n\n            if (targetObj == null) {\n                targetObj = new typeT();\n            }\n\n            for (var property in sourceObj) {\n                targetObj[property] = sourceObj[property];\n            }\n\n            return targetObj;\n        }\n    }\n\n    export class MyData {\n\n        constructor(fromObj?: MyData) {\n            this.C = 0;\n\n            if (fromObj != null) {\n                Helpers.Recreate(MyData, fromObj, this);\n            }\n\n            this.C += 2;\n        }\n\n        public A: number;\n        public B: number;\n        public C: number;\n        public get D(): number { return this.A + this.B + this.C; }\n    }\n\n    export class ClassDemo {\n        constructor() {\n\n            var ajaxSettings: JQueryAjaxSettings = {\n                url: \"/api/build/sample\", // Returns {\"A\":6,\"B\":4}\n                type: \"GET\",\n                dataType: \"json\",\n                cache: false\n            };\n\n            var jqXhr: JQueryXHR = $.ajax(ajaxSettings);\n            jqXhr.done(this.loadSucceeded);\n            jqXhr.fail( /* ... */);\n        }\n\n        private loadSucceeded(data: MyData, text: string, jqXhr: JQueryXHR) {\n\n            // Illustrates the problem that MyData.C and MyData.D are undefined even though the type is in the signature\n            // Displays \"6 + 4 + undefined = undefined\"\n            alert(data.A + \" + \" + data.B + \" + \" + data.C + \" = \" + data.D);\n\n            // The default output for a brand new MyData object; undefined and NaN values are as expected\n            // Displays \"undefined + undefined + 2 = NaN\"\n            var plainData: MyData = new MyData();\n            alert(plainData.A + \" + \" + plainData.B + \" + \" + plainData.C + \" = \" + plainData.D);\n\n            // This creates a real instance of MyData using the helper method directly and produces the right output\n            // Displays \"6 + 4 + 2 = 12\"\n            var recreatedData: MyData = Helpers.Recreate(MyData, data);\n            alert(recreatedData.A + \" + \" + recreatedData.B + \" + \" + recreatedData.C + \" = \" + recreatedData.D);\n\n            // This uses the helper method located in the constructor to rebuild 'data' from itself and produces the right output\n            // Displays \"6 + 4 + 2 = 12\"\n            data = new MyData(data);\n            alert(data.A + \" + \" + data.B + \" + \" + data.C + \" = \" + data.D);\n        }\n    }\n}\n\nvar sample = new Samples.ClassDemo();\n</code></pre>\n"}], "owner": {"reputation": 725, "user_id": 3554582, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c13666fd22fba7b6ee175b463e416ad6?s=128&d=identicon&r=PG", "display_name": "Bernard Hymmen", "link": "https://stackoverflow.com/users/3554582/bernard-hymmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 0, "accepted_answer_id": 27976281, "answer_count": 3, "score": 3, "last_activity_date": 1421374261, "creation_date": 1421282447, "last_edit_date": 1421283664, "question_id": 27955062, "link": "https://stackoverflow.com/questions/27955062/typescript-callback-does-not-fully-instantiate-class-in-its-signature", "title": "TypeScript callback does not fully instantiate class in its signature", "body": "<p>I've got a class in TypeScript that makes an Ajax call to a service and then gets a JSON object in return; very standard stuff.  I'd like for the success handler for the Ajax call to accept the incoming JSON as an instantiated class defined in TypeScript, i.e. I'm going for strongly typed Ajax here.  This mostly works.  I've found that I can receive the incoming data just fine, but any members of the class (both properties and methods) that are not in the JSON response are not present on the object at runtime.  Here's some code to demo the problem.</p>\n\n<pre><code>module Samples {\n\n    export class MyData {\n        public A: number;\n        public B: number;\n        public get C(): number { return this.A + this.B; }\n    }\n\n    export class ClassDemo {\n        constructor(){\n\n            var ajaxSettings: JQueryAjaxSettings = {\n                url: \"/api/build/sample\",  // Returns {\"A\":6,\"B\":4}\n                type: \"GET\",\n                dataType: \"json\",\n                cache: false\n            };\n\n            var jqXhr: JQueryXHR = $.ajax(ajaxSettings);\n            jqXhr.done(this.loadSucceeded);\n            jqXhr.fail( /* ... */);\n        }\n\n        private loadSucceeded(data: MyData, text: string, jqXhr: JQueryXHR) {\n\n            // \n            // Displays \"6 + 4 = undefined\"\n            //\n            alert(data.A + \" + \" + data.B + \" = \" + data.C);\n        }\n    }\n}\n\nvar sample = new Samples.ClassDemo();\n</code></pre>\n\n<p>I suppose this makes sense since it's JQuery creating the object in JavaScript at runtime, not TypeScript, so JQuery would have no way of knowing about the additional members in the TypeScript class.  I'm just wondering if there is some good way around this?  For obvious reasons, I'd rather like to avoid instantiating my own class and manually copying the values from the incoming data into it.</p>\n"}]