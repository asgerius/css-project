[{"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1539820261, "creation_date": 1539820261, "answer_id": 52865108, "question_id": 52865087, "link": "https://stackoverflow.com/questions/52865087/map-type-keys-to-strings-and-then-to-a-type-of-strings-in-typescript/52865108#52865108", "title": "Map type keys to strings and then to a type of strings in Typescript", "body": "<p>You can use the <code>keyof</code> type operator to get a union of all keys of a type:</p>\n\n<pre><code>type iconsByName = {\n    'alert': Icon&lt;16, 16&gt;,\n    'arrow-down': Icon&lt;10, 16&gt;,\n    'arrow-left': Icon&lt;10, 16&gt;,\n    'arrow-right': Icon&lt;10, 16&gt;,\n}\n\ninterface Props {\n    icon: keyof iconsByName\n}\n</code></pre>\n"}], "owner": {"reputation": 612, "user_id": 5858391, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ad59f06ddb9ff1ff817da248491f83ed?s=128&d=identicon&r=PG&f=1", "display_name": "halsdunes", "link": "https://stackoverflow.com/users/5858391/halsdunes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 52865108, "answer_count": 1, "score": 0, "last_activity_date": 1539820261, "creation_date": 1539820095, "question_id": 52865087, "link": "https://stackoverflow.com/questions/52865087/map-type-keys-to-strings-and-then-to-a-type-of-strings-in-typescript", "title": "Map type keys to strings and then to a type of strings in Typescript", "body": "<p>I'm trying to create a React component that extends the Octicons icon library provided by Github at <code>@githubprimer/octicons-react</code>. </p>\n\n<p>One of the library's exports is the <code>iconsByName</code> type, which looks like this:</p>\n\n<pre><code>type iconsByName = {\n  'alert': Icon&lt;16, 16&gt;,\n  'arrow-down': Icon&lt;10, 16&gt;,\n  'arrow-left': Icon&lt;10, 16&gt;,\n  'arrow-right': Icon&lt;10, 16&gt;,\n  ...\n}\n</code></pre>\n\n<p>In my component, I want to create an interface that takes in an <code>icon</code> prop and dynamically generates a list from the keys of the <code>iconsByName</code> export. In the end, my interface should look something like:</p>\n\n<p>interface Octicon</p>\n\n<pre><code>Props {\n   icon: \"alert\" | \"arrow-down\" | \"arrow-left\" | \"arrow-right\" | ...;\n}\n</code></pre>\n\n<p>But I can't use <code>Object.keys(iconsByName)</code> to generate that list. How can I programmatically create a type to then pass into the interface?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 504, "user_id": 7179572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d57e2b40fca0fce1c14fe9a8edf3663a?s=128&d=identicon&r=PG", "display_name": "st4rl00rd", "link": "https://stackoverflow.com/users/7179572/st4rl00rd"}, "is_accepted": false, "score": 0, "last_activity_date": 1539822425, "last_edit_date": 1539822425, "creation_date": 1539818946, "answer_id": 52864943, "question_id": 52864825, "link": "https://stackoverflow.com/questions/52864825/access-to-the-dictionaries-sub-element-typescript/52864943#52864943", "title": "access to the dictionaries sub-element typescript", "body": "<p>In javascript you don't have to access properties strictly using <code>[]</code> (brackets), you can access directly like <code>results.pais</code>, and to access its properties just continue in that way like <code>results.pais.codpais</code> or <code>results[\"pais\"][\"codpais\"]</code> and so on...</p>\n\n<p>The only use case when you end up using brackets is when you have to access properties dinamicaly like: </p>\n\n<pre><code>var property = \"codpais\"\n\nconsole.log(results.pais[property])\n</code></pre>\n\n<p><strong>If you need to iterate the object using <code>\"deepObject.deepProperty\"</code></strong> from <code>object</code> (<code>object.deepObject.deepProperty</code>), you can split the string in the dots and do something like this:</p>\n\n<pre><code> function iterateObject(object, key) {\n   var property = key\n   var properties = key.split('.')\n\n   if (!!properties &amp;&amp; properties.length  0) {\n     property = properties[0]\n\n     // Check if there's not an empty string in cases like `property.`\n     if (!!properties[1]) {\n       const nextProperties = key.replace(property, '')\n\n       return iterateObject(object[property], nextProperties)\n     }\n\n     return object[property]\n   }\n\n   return object[property]\n }\n</code></pre>\n\n<p>Or if you can do ES6, here's a simple one liner: </p>\n\n<pre><code>function iterateObject(object, key) { \n  return key.split('.').reduce((r, p) =&gt; (r[p] || r), object)\n}\n</code></pre>\n\n<p>And use it like:</p>\n\n<pre><code> iterateObject(results, 'pais.codpais')\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9670629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BYrlFc9W_LI/AAAAAAAAAAI/AAAAAAAAAVU/o5yUIzqmE-k/photo.jpg?sz=128", "display_name": "Jefferson Tenecota", "link": "https://stackoverflow.com/users/9670629/jefferson-tenecota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539822425, "creation_date": 1539817883, "question_id": 52864825, "link": "https://stackoverflow.com/questions/52864825/access-to-the-dictionaries-sub-element-typescript", "title": "access to the dictionaries sub-element typescript", "body": "<pre><code>export class ProvinciaComponent extends CatalogoGenerico implements OnInit, \n    AfterViewInit {\n       page: Page = new Page({sort: {field: 'descripcion', dir: 'asc'}});\n       dataSource: ProvinciaDataSource;\n       columns = ['codprovincia', 'codprovinciasc', 'descripcion', 'pais.codpais','pais.descripcion'];\n       labelColumns = {\n          'codprovincia': {'label': 'C\u00f3digo', 'width': '60', 'align': '', 'format': ''},\n          'codprovinciasc': {'label': 'C\u00f3digo INEC', 'width': '60', 'align': '', 'format': ''},\n          'descripcion': {'label': 'Descripci\u00f3n', 'width': '60', 'align': '', 'format': ''},\n          'pais.codpais': {'label': 'Cod. Pais', 'width': '60', 'align': '', 'format': ''},\n          'pais.descripcion': {'label': 'Pais', 'width': '60', 'align': '', 'format': ''}\n    };\n    headerColumns = this.columns.concat(['actions']);\n    displayedColumns = this.headerColumns;\n}\n</code></pre>\n\n<p>and my template</p>\n\n<pre><code>&lt;mat-table [dataSource]=\"dataSource\" matSort matSortActive=\"descripcion\" matSortDirection=\"asc\"\n                 matSortDisableClear&gt;\n        &lt;ng-container [cdkColumnDef]=\"column\" *ngFor=\"let column of columns\"&gt;\n          &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;{{labelColumns[column].label}}&lt;/mat-header-cell&gt;\n          &lt;mat-cell *matCellDef=\"let element\"&gt; {{element[column]}} &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n        &lt;!-- Column Definition: actions --&gt;\n        &lt;ng-container matColumnDef=\"actions\"&gt;\n          &lt;mat-header-cell *matHeaderCellDef&gt;Acciones&lt;/mat-header-cell&gt;\n          &lt;mat-cell *matCellDef=\"let row; let i=index;\"&gt;\n            &lt;div class=\"actions\"&gt;\n              &lt;button mat-icon-button [matMenuTriggerFor]=\"menu\" aria-label=\"Open basic menu\"\n                      [disabled]=\"!permiso.is_edit &amp;&amp; !permiso.is_remove\"&gt;\n                &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;\n              &lt;/button&gt;\n              &lt;mat-menu #menu=\"matMenu\"&gt;\n                &lt;button mat-menu-item (click)=\"openPopUp(row, row.idprovincia)\"\n                        *ngIf=\"permiso.is_edit\"&gt;\n                  &lt;mat-icon&gt;edit&lt;/mat-icon&gt;\n                  &lt;span&gt;Editar&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;button mat-menu-item (click)=\"eliminarProvincia(row)\"\n                        *ngIf=\"permiso.is_remove\"&gt;\n                  &lt;mat-icon&gt;delete&lt;/mat-icon&gt;\n                  &lt;span&gt;Eliminar&lt;/span&gt;\n                &lt;/button&gt;\n              &lt;/mat-menu&gt;\n            &lt;/div&gt;\n          &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n        &lt;mat-header-row *matHeaderRowDef=\"displayedColumns;\"&gt;&lt;/mat-header-row&gt;\n        &lt;mat-row *matRowDef=\"let row; columns: displayedColumns\"&gt;&lt;/mat-row&gt;\n\n      &lt;/mat-table&gt;\n</code></pre>\n\n<p>The structure of the information is as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/pWHHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWHHo.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to access lols attributes of the country object, that is\nif I want to access row ['country'], I get the country object, but I want to access an attribute of the object, ie row ['pais.codpais'], some idea of how to do this, consider the form in which the list is ready information in the template, since I define the keys in an array within the component</p>\n\n<pre><code>columns = ['codprovince', 'codprovinciasc', 'description', 'pais.codpais', 'pais.descripcion'];\n</code></pre>\n"}, {"tags": ["typescript", "class", "generics", "types", "polymorphism"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539814912, "post_id": 52864386, "comment_id": 92643091, "body": "<code>char: Parser&lt;string, SS&lt;U&gt;&gt;</code> would be in an object literal ?"}, {"owner": {"reputation": 629, "user_id": 4727280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38762034473fd7e48dcce03fc091e343?s=128&d=identicon&r=PG&f=1", "display_name": "fmg", "link": "https://stackoverflow.com/users/4727280/fmg"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539815576, "post_id": 52864386, "comment_id": 92643270, "body": "No, I&#39;d like to define <code>char</code> using an assignment of the type <code>char: Parser&lt;string, SS&lt;U&gt;&gt; = new Parser(state =&gt; ...)</code>, but this is illegal since a class instance cannot be of generic type. This is the limitation I&#39;m seeking a workaround for."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1539815708, "post_id": 52864386, "comment_id": 92643305, "body": "Variables can&#39;t have free generics. How would you use <code>char</code> when would <code>U</code> be determined ?"}, {"owner": {"reputation": 629, "user_id": 4727280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38762034473fd7e48dcce03fc091e343?s=128&d=identicon&r=PG&f=1", "display_name": "fmg", "link": "https://stackoverflow.com/users/4727280/fmg"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539816415, "post_id": 52864386, "comment_id": 92643493, "body": "I&#39;d would perhaps use it like <code>(char as SS&lt;number&gt;).parse(&quot;abcde&quot;)</code>. I&#39;d have to make sure to concretize <code>U</code> before invoking any methods on <code>char</code>, of course. (But, in my ideal world, I wouldn&#39;t have to make <code>U</code> concrete any sooner than that.) Of course, as you rightly point out, I can&#39;t do this because variable, like <code>char</code>, can&#39;t have free generics."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539816604, "post_id": 52864386, "comment_id": 92643539, "body": "You can use a type assertion as you have, but you could let <code>U</code> be <code>unkown</code> and when you call <code>parse</code> you could specify the concrete <code>U</code>. I am not sure how that would work with the composition part of your API though."}, {"owner": {"reputation": 629, "user_id": 4727280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38762034473fd7e48dcce03fc091e343?s=128&d=identicon&r=PG&f=1", "display_name": "fmg", "link": "https://stackoverflow.com/users/4727280/fmg"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539816778, "post_id": 52864386, "comment_id": 92643587, "body": "I didn&#39;t know about <code>unknown</code>. Looking into it..."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539816837, "post_id": 52864386, "comment_id": 92643606, "body": "Stricter version of <code>any</code>. Shameless plug: <a href=\"https://stackoverflow.com/questions/51439843/typescript-3-0-unknown-vs-any/51439876#51439876\" title=\"typescript 3 0 unknown vs any\">stackoverflow.com/questions/51439843/&hellip;</a>"}], "owner": {"reputation": 629, "user_id": 4727280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38762034473fd7e48dcce03fc091e343?s=128&d=identicon&r=PG&f=1", "display_name": "fmg", "link": "https://stackoverflow.com/users/4727280/fmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539816637, "creation_date": 1539814603, "last_edit_date": 1539816637, "question_id": 52864386, "link": "https://stackoverflow.com/questions/52864386/dealing-with-polymorphic-values-in-typescript", "title": "Dealing with polymorphic values in Typescript", "body": "<p>I'm trying to write some parsers in Typescript. My parsers are all instances of a base class, <code>Parser</code>, parametrized by types, <code>A</code> and <code>S</code>, representing the result of a parse and the parser state.</p>\n\n<pre><code>class Parser&lt;A, S&gt; {\n  parse: (state: S) =&gt; Response&lt;A, S&gt;\n\n  constructor(parse: (state: S) =&gt; Response&lt;A, S&gt;) {\n    this.parse = parse\n\n  // various combinator methods...\n}\n</code></pre>\n\n<p>In several cases of interest to me, I'd like the state <code>S</code> to be adapted to parsing strings, and, also, to carrying some user-definable payload of type <code>U</code>. Thus, the <code>S</code> of interest might implement:</p>\n\n<pre><code>interface SS&lt;U&gt; {\n   str: string;\n   user: U\n}\n</code></pre>\n\n<p>Then I'd like to construct the most basic parser I can think of: <code>char</code>. It consumes and returns the first character in the string being parsed, if there is one, or fails if there isn't. Thus, I'd like</p>\n\n<pre><code>char: Parser&lt;string, SS&lt;U&gt;&gt;\n</code></pre>\n\n<p>for any <code>U</code>.</p>\n\n<p>But, alas, Typescript doesn't allow <em>values</em> involving generics, just functions, classes, etc. [<strong>\"Variables can't have free generics\"</strong>, as Titian nicely puts it in the comments below.] phAre there any standard patterns to circumvent this limitation? The only \"solutions\" I can think of are:</p>\n\n<ol>\n<li><p>Make <code>char</code> into a function: <code>function char&lt;U&gt;(): P&lt;U&gt; {...; return realChar}</code>. I don't find this workaround appealing because there's a runtime cost every time I run <code>char()</code>.</p></li>\n<li><p>Wrap <em>all</em> my parsers that depend on <code>U</code> in a function:</p>\n\n<pre><code>function parsers&lt;U&gt;() {\n    let char: Parser&lt;string, SS&lt;U&gt;&gt; = ...\n    let letter: Parser&lt;string, SS&lt;U&gt;&gt; = ...\n    let digit: Parser&lt;string, SS&lt;U&gt;&gt; = ...\n    // other parsers\n    return {char, digit, letter, ...}\n}\n</code></pre>\n\n<p>Then I could instantiate them all by running <code>parsers()</code> when I use \n them  and have a concrete \n <code>U</code> at hand.</p></li>\n</ol>\n\n<p>Are there any other approaches that are more elegant or that incur minimal runtime overhead, or an established pattern? [Anyone know if anything like \"values of generic type\" (is there better terminology for this?) on the Typescript roadmap?]</p>\n"}, {"tags": ["javascript", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "edited": false, "score": 0, "creation_date": 1539822288, "post_id": 52864010, "comment_id": 92644743, "body": "is this on emulator and actially device as well? I am assuming it&#39;s android only. Have you checked on ios as well?"}, {"owner": {"reputation": 25, "user_id": 10355445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhr2Q.jpg?s=128&g=1", "display_name": "Jacob Jacobs", "link": "https://stackoverflow.com/users/10355445/jacob-jacobs"}, "reply_to_user": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "edited": false, "score": 0, "creation_date": 1539865276, "post_id": 52864010, "comment_id": 92661177, "body": "I have tried this one on Android only using actual device."}], "answers": [{"tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": true, "score": 1, "last_activity_date": 1539822758, "creation_date": 1539822758, "answer_id": 52865345, "question_id": 52864010, "link": "https://stackoverflow.com/questions/52864010/cant-locate-on-devices-local-storage-nativescript-file-system-generated-direct/52865345#52865345", "title": "Can&#39;t locate on device&#39;s local storage nativescript file-system generated directory", "body": "<p>Current app directory is something that is only visible to your app, so you will not be able to locate it with any file manager apps.</p>\n\n<p>If you like other apps to access those audio files, be visible in any file manager apps, then use external storage directory.</p>\n"}], "owner": {"reputation": 25, "user_id": 10355445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhr2Q.jpg?s=128&g=1", "display_name": "Jacob Jacobs", "link": "https://stackoverflow.com/users/10355445/jacob-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 52865345, "answer_count": 1, "score": 1, "last_activity_date": 1539822758, "creation_date": 1539812333, "question_id": 52864010, "link": "https://stackoverflow.com/questions/52864010/cant-locate-on-devices-local-storage-nativescript-file-system-generated-direct", "title": "Can&#39;t locate on device&#39;s local storage nativescript file-system generated directory", "body": "<p>I'm creating an audio file and it seems working fine because the indicator that it records and audio shows no error. But after the app generates the directory, I can't locate it on local storage. </p>\n\n<p>I am using this code </p>\n\n<p><code>var audioFolder = fs.knownFolders.currentApp().getFolder(\"audio\");</code></p>\n\n<p>This code shows \n<a href=\"https://i.stack.imgur.com/P1wTk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>This what I get when I tried to locate it on local storage \n<a href=\"https://i.stack.imgur.com/WONOn.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["typescript", "vue.js", "vuex"], "answers": [{"comments": [{"owner": {"reputation": 1270, "user_id": 5889158, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ESYP2.png?s=128&g=1", "display_name": "Shakespear", "link": "https://stackoverflow.com/users/5889158/shakespear"}, "edited": false, "score": 1, "creation_date": 1552565960, "post_id": 55162249, "comment_id": 97063604, "body": "This could not be providing an answer to the question. You can <a href=\"https://stackoverflow.com/search\">search for similar questions</a>, or refer to the related and linked questions on the right-hand side of the page to find an answer. If you have a related but different question, <a href=\"https://stackoverflow.com/questions/ask\">ask a new question</a>, and include a link to this one to help provide context. See: <a href=\"https://stackoverflow.com/tour\">Ask questions, get answers, no distractions</a>."}], "tags": [], "owner": {"reputation": 1, "user_id": 11202947, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/87f8986e0f659ee730d20387a2eee911?s=128&d=identicon&r=PG", "display_name": "user11202947", "link": "https://stackoverflow.com/users/11202947/user11202947"}, "is_accepted": false, "score": 0, "last_activity_date": 1552565493, "creation_date": 1552565493, "answer_id": 55162249, "question_id": 52863826, "link": "https://stackoverflow.com/questions/52863826/vuex-typescript-namespace-modules-accessing-other-module-state/55162249#55162249", "title": "vuex + typescript + namespace modules: accessing other module state", "body": "<p>Just an idea, cant one simply add those modules in the rootState typedef?\nlike so:</p>\n\n<pre><code>{ ...; moduleName?: moduleState;}\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>{ ...; [key: string | number]: any;}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1552904252, "creation_date": 1552904252, "answer_id": 55219049, "question_id": 52863826, "link": "https://stackoverflow.com/questions/52863826/vuex-typescript-namespace-modules-accessing-other-module-state/55219049#55219049", "title": "vuex + typescript + namespace modules: accessing other module state", "body": "<blockquote>\n  <p>But with typescript, compiler gives me an error like this:</p>\n  \n  <p><code>Element implicitly has an 'any' type because type 'RootState' has no index signature.</code></p>\n</blockquote>\n\n<p>This error States that in your type declaration you missed to add the definition:</p>\n\n<p>e.g:</p>\n\n<pre><code>export type RootState = {\n  //...\n  profile?: ProfileState\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>export type RootState = {\n  //...\n  [k in keyof ModuleStateTypes]?: ModuleStateTypes[k] \n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Mapped types</a></p>\n"}], "owner": {"reputation": 347, "user_id": 1966366, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/831e5ed7bf0005aaa8635a48c2bda983?s=128&d=identicon&r=PG", "display_name": "andreav", "link": "https://stackoverflow.com/users/1966366/andreav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1269, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1552904252, "creation_date": 1539811435, "last_edit_date": 1539815990, "question_id": 52863826, "link": "https://stackoverflow.com/questions/52863826/vuex-typescript-namespace-modules-accessing-other-module-state", "title": "vuex + typescript + namespace modules: accessing other module state", "body": "<p>I'm using vuex with typescript and namespaces module.\nI have 2 module: \"UserProfile\" and \"Trips\".\nEverything works inside a single module.</p>\n\n<p>I need to access the current user, stored inside \"UserProfile\" module state, from inside an action of \"Trip\" module.</p>\n\n<p>As far as I understand, I could use rootState[\"profile/user\"] if I use no typescirpt.</p>\n\n<p>But with typescript, compiler gives me an error like this:</p>\n\n<pre><code>Element implicitly has an 'any' type because type 'RootState' has no index signature.\n</code></pre>\n\n<p>This is my action from \"Trip\" module:</p>\n\n<pre><code>async createTrip({ commit, state, rootState, rootGetters}) {\n    const user = rootState[\"profile/user\"];\n}\n</code></pre>\n\n<p>Anyone knows the right way to access a state owned by another namespaced modules when using vuex + typescript?</p>\n\n<p>Thanks.</p>\n\n<p>===== UPDATE =====</p>\n\n<p>At the moment, the only working solution I found is this:</p>\n\n<p>1] For each module creating a getter returning its entire state (i.e. \"Profile\" module adds a getter returning ProfileState type)</p>\n\n<p>2] Using that getter through rootGetters from another module like this:</p>\n\n<pre><code> async createTrip({ commit, state, rootState, rootGetters}) {\n    const profileState: ProfileState= rootGetters[\"profile/getState\"];\n    if(profileState.user === undefined ) return;\n    console.log(\"CurrentUser: \" + profileState.user.uid);\n}\n</code></pre>\n"}, {"tags": ["typescript", "webstorm"], "comments": [{"owner": {"reputation": 609, "user_id": 334963, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7055b5c69efaed843e733f85b06a66ce?s=128&d=identicon&r=PG", "display_name": "Gabrielizalo", "link": "https://stackoverflow.com/users/334963/gabrielizalo"}, "edited": false, "score": 1, "creation_date": 1539854281, "post_id": 52863454, "comment_id": 92655140, "body": "Hve you contacted Jetbrains support? <a href=\"https://intellij-support.jetbrains.com/hc/en-us\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us</a>"}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1539858016, "post_id": 52863454, "comment_id": 92657204, "body": "what Typescript and Node.js versions are used? Please try enabling debug logging for <code>#com.intellij.lang.javascript.service.JSLanguageServiceQueue&zwnj;&#8203;:trace</code> ( <i>Help | Debug log settings</i>), recreate the issue and provide the <code>idea.log.*</code> files (<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>) and <code>.log**</code> files created in your project root folder to support"}], "answers": [{"comments": [{"owner": {"reputation": 4328, "user_id": 5951226, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/228FB.png?s=128&g=1", "display_name": "Jamie Birch", "link": "https://stackoverflow.com/users/5951226/jamie-birch"}, "edited": false, "score": 5, "creation_date": 1555086019, "post_id": 53053985, "comment_id": 98000394, "body": "Indeed, it was Node&#39;s fault! When I ran <code>which node</code>, a linking error was reported: <code>dyld: Library not loaded: &#47;usr&#47;local&#47;opt&#47;icu4c&#47;lib&#47;libicui18n.62.dylib  Referenced from: &#47;usr&#47;local&#47;bin&#47;node Reason: image not found</code>, indicating that Node was having problems. I followed <a href=\"https://stackoverflow.com/a/46159489/5951226\">these instructions</a> to repair <code>node</code>: <code>brew uninstall --ignore-dependencies node icu4c &amp;&amp; brew install node</code>, and the TypeScript service became healthy again after quitting and re-opening WebStorm. Thanks for saving me hours!"}], "tags": [], "owner": {"reputation": 71, "user_id": 7776197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2f0eacd7807f65fcfc67955710e4ab?s=128&d=identicon&r=PG&f=1", "display_name": "Kai Mollerud", "link": "https://stackoverflow.com/users/7776197/kai-mollerud"}, "is_accepted": false, "score": 7, "last_activity_date": 1540847948, "creation_date": 1540847948, "answer_id": 53053985, "question_id": 52863454, "link": "https://stackoverflow.com/questions/52863454/error-starting-typescript-language-service-in-webstorm-2018/53053985#53053985", "title": "Error starting TypeScript language service in WebStorm 2018", "body": "<p>I've encountered this error a few times myself, and in my case it seems to be a problem with the node interpreter WebStorm is trying to use.</p>\n\n<p>Earlier this week something I had installed via mac's <code>homebrew</code> package manager added a new/broken build of <code>node</code> to my system as a dependency.  When I started having issues with webstorm, I opened preferences > Languages &amp; Frameworks > TypeScript and saw that the Node interpreter was set to /usr/local/bin/node instead of my usual <code>nvm</code> path.  I opened a terminal and tried running the <code>node</code> executable it was pointed to, and found that it was throwing an error.</p>\n\n<p>A lot of the specifics aren't really comparable to your situation since you're on Windows, but I think it's probably a similar root cause, a bad <code>node</code> executable is the only thing I've ever seen cause this error message.</p>\n"}], "owner": {"reputation": 241, "user_id": 1927023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ccd5553e9457a1be7b1befe4065fb5?s=128&d=identicon&r=PG", "display_name": "rwalker", "link": "https://stackoverflow.com/users/1927023/rwalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2944, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1540847948, "creation_date": 1539809599, "last_edit_date": 1539859372, "question_id": 52863454, "link": "https://stackoverflow.com/questions/52863454/error-starting-typescript-language-service-in-webstorm-2018", "title": "Error starting TypeScript language service in WebStorm 2018", "body": "<p>I'm new to using WebStorm (v2018.2 on Windows 7) and trying to work with TypeScript. And I am getting following error, despite trying many combinations of the TypeScript configuration settings in WebStorm.</p>\n\n<blockquote>\n  <p>Error:Timeout on starting language service process</p>\n</blockquote>\n\n<p>As a result, I'm unable to compile my .ts files within the IDE.</p>\n\n<p>TypeScript is working fine from command line (i.e. successfully able to run <code>tsc</code> to compile .ts files).</p>\n\n<p>I have thoroughly reviewed the WebStorm help documentation and other tutorials, but nowhere have I seen this error mentioned or how to resolve it.</p>\n"}, {"tags": ["typescript", "vue.js", "vuex", "vue-router", "vuex-modules"], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "edited": false, "score": 1, "creation_date": 1539954345, "post_id": 52891029, "comment_id": 92698496, "body": "I do have RootState in my module: <code>export const UserProfile: Module&lt;ProfileState, RootState&gt; </code>"}, {"owner": {"reputation": 1018, "user_id": 5265610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2tNw.jpg?s=128&g=1", "display_name": "Danijel", "link": "https://stackoverflow.com/users/5265610/danijel"}, "reply_to_user": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "edited": false, "score": 0, "creation_date": 1539954480, "post_id": 52891029, "comment_id": 92698585, "body": "Yes, but did you add GetterTree, MutationTree etc? I believe those should also be added and exported even when empty."}, {"owner": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "edited": false, "score": 0, "creation_date": 1540418013, "post_id": 52891029, "comment_id": 92863339, "body": "I added all the code (getters, mutations, actions, etc. etc.) same issue"}, {"owner": {"reputation": 1018, "user_id": 5265610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2tNw.jpg?s=128&g=1", "display_name": "Danijel", "link": "https://stackoverflow.com/users/5265610/danijel"}, "reply_to_user": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "edited": false, "score": 0, "creation_date": 1540448357, "post_id": 52891029, "comment_id": 92870942, "body": "I edited the answer. Could you please also try exporting the main store empty mutations, actions, and modules at the end? I vaguely remember coming across this issue and solved it like that at the beginning."}, {"owner": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "edited": false, "score": 0, "creation_date": 1540502831, "post_id": 52891029, "comment_id": 92901347, "body": "i did, same issue persists"}, {"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1552945778, "post_id": 52891029, "comment_id": 97195457, "body": "This is not how getters are supposed to be used, store references are already reactive."}], "tags": [], "owner": {"reputation": 1018, "user_id": 5265610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2tNw.jpg?s=128&g=1", "display_name": "Danijel", "link": "https://stackoverflow.com/users/5265610/danijel"}, "is_accepted": false, "score": -1, "last_activity_date": 1540537787, "last_edit_date": 1540537787, "creation_date": 1539946664, "answer_id": 52891029, "question_id": 52863117, "link": "https://stackoverflow.com/questions/52863117/accessing-vuex-store-modules-state-inside-router-ts/52891029#52891029", "title": "Accessing Vuex store module&#39;s state inside router.ts", "body": "<p>EDIT: It seems that direct access to state is the issue here. Line</p>\n\n<pre><code>const isAuthed = store.state.UserProfile.authed;\n</code></pre>\n\n<p>I believe this happens because it's namespaced. The solution would be to create a getter.</p>\n\n<pre><code>const getters: GetterTree&lt;ProfileState, RootState&gt; = {\n\n    user(state): User {\n        return state.user\n    }\n\n};\n</code></pre>\n\n<p>And then you can access it like </p>\n\n<pre><code>store.getters['UserProfile/user']\n</code></pre>\n\n<p>Also, please consider using getters for accessing your state data. See <a href=\"https://vuex.vuejs.org/guide/getters.html\" rel=\"nofollow noreferrer\">Getters</a> for reference.</p>\n"}, {"comments": [{"owner": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "edited": false, "score": 1, "creation_date": 1554385031, "post_id": 54904734, "comment_id": 97739402, "body": "1 has the same problem. 2 and 3 work, but casting them as <code>any</code> sort of negates the purpose of typescript. upvoted."}], "tags": [], "owner": {"reputation": 9, "user_id": 8965500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9821009160921403a8a9e33670cd5b?s=128&d=identicon&r=PG&f=1", "display_name": "Wyf", "link": "https://stackoverflow.com/users/8965500/wyf"}, "is_accepted": false, "score": 0, "last_activity_date": 1551267873, "creation_date": 1551267873, "answer_id": 54904734, "question_id": 52863117, "link": "https://stackoverflow.com/questions/52863117/accessing-vuex-store-modules-state-inside-router-ts/54904734#54904734", "title": "Accessing Vuex store module&#39;s state inside router.ts", "body": "<p>1</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>     const isAuthed = store.state[\"UserProfile\"].authed; // false\n</code></pre>\n\n<p>2</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    const state:any|State = store.state\n    const isAuthed = state.UserProfile.authed; // false\n</code></pre>\n\n<p>3</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    const isAuthed = (&lt;any|State&gt;store.state).UserProfile.authed; // false\n</code></pre>\n"}], "owner": {"reputation": 424, "user_id": 10381177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a58ea75a4f7ae63846c050cadc2a768?s=128&d=identicon&r=PG&f=1", "display_name": "Andre12", "link": "https://stackoverflow.com/users/10381177/andre12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2965, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1551267873, "creation_date": 1539808204, "question_id": 52863117, "link": "https://stackoverflow.com/questions/52863117/accessing-vuex-store-modules-state-inside-router-ts", "title": "Accessing Vuex store module&#39;s state inside router.ts", "body": "<p>I followed <a href=\"https://codeburst.io/vuex-and-typescript-3427ba78cfa8\" rel=\"noreferrer\">this</a> tutorial to set up a Vuex store with modules using TypeScript.</p>\n\n<p>So far I have:</p>\n\n<p><strong>vuex/types.ts</strong>:</p>\n\n<pre><code>export interface RootState {\n    version: string;\n}\n</code></pre>\n\n<p><strong>vuex/user-profile.ts</strong>:</p>\n\n<pre><code>import { ActionTree, Module, MutationTree } from 'vuex';\nimport { RootState } from './types';\n\ninterface User {\n    firstName: string;\n    uid: string;\n}\n\ninterface ProfileState {\n    user?: User;\n    authed: boolean;\n}\n\nconst state: ProfileState = {\n    user: undefined,\n    authed: false,\n};\n\nconst namespaced: boolean = true;\n\nexport const UserProfile: Module&lt;ProfileState, RootState&gt; = {\n    namespaced,\n    state,\n};\n</code></pre>\n\n<p><strong>store.ts</strong>:</p>\n\n<pre><code>import Vue from 'vue';\nimport Vuex, { StoreOptions } from 'vuex';\nimport { UserProfile } from '@/vuex/user-profile';\nimport { RootState } from '@/vuex/types';\n\nVue.use(Vuex);\n\nconst store: StoreOptions&lt;RootState&gt; = {\n  state: {\n      version: '1.0.0',\n  },\n  modules: {\n      UserProfile,\n  },\n};\n\nexport default new Vuex.Store&lt;RootState&gt;(store);\n</code></pre>\n\n<p>In my <strong>router.ts</strong> I want to access the <code>authed</code> state of the store like this:</p>\n\n<pre><code>import store from './store';\n//...other imports...\n\nconst router = new Router({\n//... route definitions...\n});\n\nrouter.beforeEach((to, from, next) =&gt; {\n  const isAuthed = store.state.UserProfile.authed;\n  if (to.name !== 'login' &amp;&amp; !isAuthed) {\n    next({ name: 'login' });\n  } else {\n    next();\n  }\n});\n</code></pre>\n\n<p>The code works (the app redirects properly), HOWEVER, the compiler throws errors saying <code>Property 'UserProfile' does not exist on type 'RootState'</code>, which makes sense since it's not defined, but should it not look under the modules as well, or did I not define the module correctly?</p>\n"}, {"tags": ["java", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 529, "user_id": 1888197, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1eb663e5be75bcbb8590157732682c9b?s=128&d=identicon&r=PG&f=1", "display_name": "shark1608", "link": "https://stackoverflow.com/users/1888197/shark1608"}, "edited": false, "score": 0, "creation_date": 1539807105, "post_id": 52862691, "comment_id": 92640066, "body": "Wouldn&#39;t it be easier to format and send the date as a string of milliseconds since epoch and use a date pipe to get the format you need?"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1539822276, "post_id": 52862691, "comment_id": 92644739, "body": "Tell the author of that Java backend server to learn about the ISO 8601 standard. These standard text formats are supported by default in the <i>java.time</i> classes."}], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 8531463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9022d05db472fa75033ceb4f2d95ed?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Trybulec", "link": "https://stackoverflow.com/users/8531463/karol-trybulec"}, "is_accepted": false, "score": 1, "last_activity_date": 1539808759, "last_edit_date": 1539808759, "creation_date": 1539808429, "answer_id": 52863180, "question_id": 52862691, "link": "https://stackoverflow.com/questions/52862691/custom-json-parser-for-dates-in-typescript-in-different-classes/52863180#52863180", "title": "Custom JSON Parser for Dates in Typescript in different classes", "body": "<p>This unfriendly date format is probably caused by backend. I never had any problems with dates from any API in Angular.</p>\n\n<p>You can create getters/setters to encapsulate custom parsing logic for some field in your class.</p>\n\n<p>In my opinion would be better to fix backend side and move from classes to interfaces in Angular side. Interfaces are better for plain DTO models in TypeScript.</p>\n"}], "owner": {"reputation": 871, "user_id": 5298706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d5c6f084f28a98ad281d9f3259ec6a8?s=128&d=identicon&r=PG&f=1", "display_name": "julien-100000", "link": "https://stackoverflow.com/users/5298706/julien-100000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539808759, "creation_date": 1539806184, "question_id": 52862691, "link": "https://stackoverflow.com/questions/52862691/custom-json-parser-for-dates-in-typescript-in-different-classes", "title": "Custom JSON Parser for Dates in Typescript in different classes", "body": "<p>I have an Angular WebApp who retrives data from a backend Java server via http get.\nExample:</p>\n\n<pre><code>public getStateForUser(): Observable&lt;UserRegistrationState&gt; {\n   return this.http.get&lt;any&gt;(Environment.getServerAddress() + '/' + \n   UserRegistrationStateService.SERVICE_URL + '/getStateForUser', {\n      params: {\n        sessionIdentityStr: this.authGuard.getSession().sessionIdentityStr\n      }\n   });\n}\n\nexport class UserRegistrationState {\n  registerDate: Date;\n  emailVerified: boolean;\n  unlocked: boolean;\n}\n</code></pre>\n\n<p>This works fine for all fields. Except the Dates. <strong>The Dates are not parsed correctly, so I want to add a custom parser where I can tell him how he gets the date value from the json date string.</strong></p>\n\n<p>Of course now I can add a custom Parser for the whole <code>UserRegistrationState</code> class, but I have Dates on multiple classes and I do not want to create a Parser for every class, because the other properties(except the Dates) are parsed fine.</p>\n\n<p>So my question: Is there a way to add a custom parser for all Date fields?</p>\n\n<p>P.S. This is an example JSON date string, automatically parsed from a Java <code>LocalDateTime</code>:</p>\n\n<pre><code>\"registerDate\":{\"dayOfMonth\":17,\"dayOfWeek\":\"WEDNESDAY\",\"dayOfYear\":290,\"month\":\"OCTOBER\",\"monthValue\":10,\"year\":2018,\"hour\":21,\"minute\":21,\"nano\":370000000,\"second\":16,\"chronology\":{\"id\":\"ISO\",\"calendarType\":\"iso8601\"}}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "express"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539826300, "post_id": 52862628, "comment_id": 92645510, "body": "Which line is throwing the runtime error?  If you add <code>console.log(HomeController, PokemonController);</code> to <code>server.ts</code> after the imports, what do you see?  Where is <code>router</code> defined in <code>pokemon.controller.ts</code>?"}, {"owner": {"reputation": 637, "user_id": 6166978, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bZpmz.png?s=128&g=1", "display_name": "Mese", "link": "https://stackoverflow.com/users/6166978/mese"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539848678, "post_id": 52862628, "comment_id": 92652022, "body": "I wasn&#39;t able to replicate in another PC, I&#39;ll try at home, looks very strange that I&#39;m not able to replicate it, as it always appeared and the code is the same. I&#39;ll update this night. You can check the full thing in <a href=\"https://github.com/themese/Pokeapp.api\" rel=\"nofollow noreferrer\">github.com/themese/Pokeapp.api</a> in case you want to try and replicate yourself"}, {"owner": {"reputation": 637, "user_id": 6166978, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bZpmz.png?s=128&g=1", "display_name": "Mese", "link": "https://stackoverflow.com/users/6166978/mese"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539894950, "post_id": 52862628, "comment_id": 92677855, "body": "Please, see the stacktrace, I just editted it. Thanks!"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539910433, "post_id": 52862628, "comment_id": 92682092, "body": "So now we&#39;re down to investigating why the problem occurs on one computer.  Does the problem still occur if you compile with <code>tsc</code> and run with <code>node build&#47;server.js</code> instead of using <code>ts-node</code>?  What about if you add the <code>--no-cache</code> flag to your <code>ts-node</code> command?"}, {"owner": {"reputation": 637, "user_id": 6166978, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bZpmz.png?s=128&g=1", "display_name": "Mese", "link": "https://stackoverflow.com/users/6166978/mese"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1540237540, "post_id": 52862628, "comment_id": 92782530, "body": "Sorry for the delay, I&#39;ve been trying to replicate once again without success. I advanced the code a bit, so it could well be that I had some internal issues, can&#39;t really tell you what fixed it but no matter what I do, I can&#39;t replicate. Sorry for wasting your time, but really glad you took the time :)"}], "owner": {"reputation": 637, "user_id": 6166978, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bZpmz.png?s=128&g=1", "display_name": "Mese", "link": "https://stackoverflow.com/users/6166978/mese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539899611, "creation_date": 1539805958, "last_edit_date": 1539899611, "question_id": 52862628, "link": "https://stackoverflow.com/questions/52862628/express-typeerror-router-use-requires-a-middleware-function-but-got-a-undefin", "title": "Express TypeError: Router.use() requires a middleware function but got a undefined", "body": "<p>so I've seen plenty of issues like the one I got, but I'm not understanding why this happens so please help a brother out.</p>\n\n<p>I have a simple API with Express + Typescript, with two simple controllers.\nHome controller, for the \"default\" landing route \"localhost:port\".\nPokemon controller, for getting pokemons, under the /pokemon route.</p>\n\n<p>All routers are exported in an index.ts file and are imported in server.ts</p>\n\n<p><strong>home.controller.ts</strong></p>\n\n<pre><code>import { Router, Request, Response } from \"express\";\nconst router: Router = Router();\nrouter.get(\"/\", (req: Request, res: Response) =&gt; {\n    res.send(\"Hi, welcome to my Pokemon Api\");\n});\nexport const HomeController: Router = router;\n</code></pre>\n\n<p><strong>pokemon.controller.ts</strong></p>\n\n<pre><code>import { Router, Request, Response } from \"express\";\nimport Pokemon from \"../entities/pokemon\";\nconst router: Router = Router();\nconst pokemons: Pokemon[] = getPokemons(); // Get pokemons from a file/DB, irrelevant \n\nrouter.get(\"/\", (req: Request, res: Response) =&gt; {\n    if (pokemons !== undefined) {\n        res.status(200).json(pokemons);\n    } else {\n        res.status(500).send(\"Error retrieving the list of Pokemons\");\n    }\n});\nexport const PokemonController: Router = router;\n</code></pre>\n\n<p><strong>index.ts</strong></p>\n\n<pre><code>// note the order of these two controllers\nexport * from \"./pokemon.controller\";\nexport * from \"./home.controller\";\n</code></pre>\n\n<p><strong>server.ts</strong></p>\n\n<pre><code>import express from \"express\";\nimport { HomeController, PokemonController } from \"./controllers\";\n\nconst app: express.Application = express();\nconst port: number = 3000;\n\napp.use(\"\", HomeController);\napp.use(\"/pokemon\", PokemonController);\n\napp.listen(port, () =&gt; {\n    console.log(`Listening at port ${port}`);\n});\n</code></pre>\n\n<p>Okay so exactly this code works 100% as expected.\nHowever, if I switch the order of how I export the controllers in index.ts, it crashes.\nSo if instead of the above, I use\n<strong>index.ts</strong></p>\n\n<pre><code>export * from \"./home.controller\";\nexport * from \"./pokemon.controller\";\n</code></pre>\n\n<p>I get this error: TypeError: Router.use() requires a middleware function but got a undefined.</p>\n\n<p>Any idea of 1. why is the issue ocurring depending on the order (there must be something at the HomeController that I'm not getting and 2.how to fix it without just switching the order of export at index.ts?</p>\n\n<p><strong>StackTrace:</strong></p>\n\n<pre><code>MYFOLDER\\node_modules\\express\\lib\\router\\index.js:458\n      throw new TypeError('Router.use() requires a middleware function but got a ' + gettype(fn))\n            ^\nTypeError: Router.use() requires a middleware function but got a undefined\n    at Function.use (D:\\Mese\\Documentos\\Proyectos\\Pokeapp\\PokeApp.api\\node_modules\\express\\lib\\router\\index.js:458:13)\n    at Function.&lt;anonymous&gt; (D:\\Mese\\Documentos\\Proyectos\\Pokeapp\\PokeApp.api\\node_modules\\express\\lib\\application.js:220:21)\n    at Array.forEach (&lt;anonymous&gt;)\n    at Function.use (D:\\Mese\\Documentos\\Proyectos\\Pokeapp\\PokeApp.api\\node_modules\\express\\lib\\application.js:217:7)\n    at Object.&lt;anonymous&gt; (D:\\Mese\\Documentos\\Proyectos\\Pokeapp\\PokeApp.api\\app\\server.ts:8:5)\n    at Module._compile (module.js:653:30)\n    at Module.m._compile (D:\\Mese\\Documentos\\Proyectos\\Pokeapp\\PokeApp.api\\node_modules\\ts-node\\src\\index.ts:439:23)\n    at Module._extensions..js (module.js:664:10)\n    at Object.require.extensions.(anonymous function) [as .ts] (D:\\Mese\\Documentos\\Proyectos\\Pokeapp\\PokeApp.api\\node_modules\\ts-node\\src\\index.ts:442:12)\n    at Module.load (module.js:566:32)\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": true, "score": 0, "last_activity_date": 1539815470, "last_edit_date": 1539815470, "creation_date": 1539812085, "answer_id": 52863957, "question_id": 52862592, "link": "https://stackoverflow.com/questions/52862592/cant-resolve-npm-typescript-index-ts-package-export/52863957#52863957", "title": "Can&#39;t resolve NPM Typescript index.ts package export?", "body": "<p>Forgot to includes <code>\"types\": \"index.d.ts\"</code> in <code>package.json</code>.  The samples are updated and it works now.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 52863957, "answer_count": 1, "score": 0, "last_activity_date": 1539815470, "creation_date": 1539805843, "last_edit_date": 1539811999, "question_id": 52862592, "link": "https://stackoverflow.com/questions/52862592/cant-resolve-npm-typescript-index-ts-package-export", "title": "Can&#39;t resolve NPM Typescript index.ts package export?", "body": "<p>I have created this <a href=\"https://www.npmjs.com/package/@fireflysemantics/validator\" rel=\"nofollow noreferrer\">typescript validation library</a> and I'm attempting to create a <a href=\"https://stackblitz.com/edit/validator-demo?file=index.ts\" rel=\"nofollow noreferrer\">Stackblitz demo</a>.</p>\n\n<p>The import:</p>\n\n<pre><code>import { IsDefined } from \"@fireflysemantics/validator\";\n</code></pre>\n\n<p>Is not resolving.  I have included <code>index.ts</code> in the root of the module and it exports <code>IsDefined</code> like this:</p>\n\n<pre><code>export { IsDefined } from \"./decorators/IsDefined\";\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1539805871, "post_id": 52862565, "comment_id": 92639549, "body": "It&#39;s an object whose property names are strings and whose property values are either strings or arrays of strings: <code>{ &#39;foo&#39;: &#39;bar&#39;, &#39;baz&#39;: [&#39;qux&#39;] }</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "is_accepted": false, "score": 1, "last_activity_date": 1539806927, "creation_date": 1539806927, "answer_id": 52862844, "question_id": 52862565, "link": "https://stackoverflow.com/questions/52862565/angular-httpclient-post-method-parameters/52862844#52862844", "title": "Angular HttpClient post method parameters", "body": "<p>You can key-value pairs on the headers property, the key would be a property name, and the value of course the value of said property, for example:</p>\n\n<pre><code>headers: new HttpHeaders({\n      'Content-Type':  'application/x-www-form-urlencoded',\n      'Authorization': 'authToken'\n    })\n</code></pre>\n\n<p>These would be the headers that are sent with the request which you can inspect on the Network tab on your browser's dev tools</p>\n"}, {"tags": [], "owner": {"reputation": 1744, "user_id": 776860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/47cb3b9541f4bc885dd1ff9dd993fe59?s=128&d=identicon&r=PG", "display_name": "maljukan", "link": "https://stackoverflow.com/users/776860/maljukan"}, "is_accepted": false, "score": 0, "last_activity_date": 1539807557, "last_edit_date": 1592644375, "creation_date": 1539807557, "answer_id": 52862985, "question_id": 52862565, "link": "https://stackoverflow.com/questions/52862565/angular-httpclient-post-method-parameters/52862985#52862985", "title": "Angular HttpClient post method parameters", "body": "<ol>\n<li><code>options</code> is an object</li>\n<li>It has an optional property named <code>headers</code></li>\n<li>Headers are of type <code>HttpHeaders</code> or</li>\n<li>multiple properties whose keys must conform to <a href=\"https://basarat.gitbooks.io/typescript/docs/types/index-signatures.html\" rel=\"nofollow noreferrer\">Index Signature</a> which in this case must be a <code>string</code></li>\n<li>And the values of those properties must be <code>string</code> or array of <code>string</code>s</li>\n</ol>\n<p>Just saw that @jonrsharpe said the same in his comment below the question, i will remove my answer if he posts one</p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 7788126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c6a84ed841dc94a0991da9ff888f93?s=128&d=identicon&r=PG&f=1", "display_name": "joowtjuh", "link": "https://stackoverflow.com/users/7788126/joowtjuh"}, "is_accepted": false, "score": 2, "last_activity_date": 1539811379, "creation_date": 1539811379, "answer_id": 52863818, "question_id": 52862565, "link": "https://stackoverflow.com/questions/52862565/angular-httpclient-post-method-parameters/52863818#52863818", "title": "Angular HttpClient post method parameters", "body": "<p>Lets break it up step by step with the following Typescript rules</p>\n\n<p>a type defenition with vertical bars between type defenitions is called a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union type</a> this means it can be any of the defined types.</p>\n\n<pre><code>let foo: string | number = 0; // foo must be a string or a number\nfoo = \"a string\";\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=let%20foo%3A%20string%20%7C%20number%20%3D%200%3B%20%2F%2F%20foo%20must%20be%20a%20string%20or%20a%20number%0D%0Afoo%20%3D%20%22a%20string%22%3B\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>return types can be object. In this case you define the key by typing the name of the key and the type.</p>\n\n<pre><code>const obj: {\n    foo: string,\n    bar: number\n} = {foo: \"a string\", bar: 42 }\n\nconst err: {\n    foo: string,\n    bar: number\n} = {foo: \"a string\", bar: \"another string\" } // this would not work, because we defined bar as a number\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=const%20obj%3A%20%7B%0D%0A%20%20%20%20foo%3A%20string%2C%0D%0A%20%20%20%20bar%3A%20number%0D%0A%7D%20%3D%20%7Bfoo%3A%20%22a%20string%22%2C%20bar%3A%2042%20%7D%0D%0A%0D%0Aconst%20err%3A%20%7B%0D%0A%20%20%20%20foo%3A%20string%2C%0D%0A%20%20%20%20bar%3A%20number%0D%0A%7D%20%3D%20%7Bfoo%3A%20%22a%20string%22%2C%20bar%3A%20%22another%20string%22%20%7D%20%2F%2F%20this%20would%20not%20work%2C%20because%20we%20defined%20bar%20as%20a%20number\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>we van also use union types to define the type</p>\n\n<pre><code>let obj: {\n    foo: string,\n    bar: number | string\n} = {foo: \"a string\", bar: \"another string\" } // this works because bar can be a number OR a string\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=%20%20%20%20let%20obj%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20foo%3A%20string%2C%0D%0A%20%20%20%20%20%20%20%20bar%3A%20number%20%7C%20string%0D%0A%20%20%20%20%7D%20%3D%20%7Bfoo%3A%20%22a%20string%22%2C%20bar%3A%20%22another%20string%22%20%7D%20%2F%2F%20this%20works%20because%20bar%20can%20be%20a%20number%20OR%20a%20string\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>the question mark after an object key will tell it is optional.</p>\n\n<pre><code>const foo: {\n    foo?: string\n} = {} // is valid\n\nconst bar: {\n    foo?: string\n} = { foo: \"a string\" } // is also valid\n\nconst baz: {\n    foo?: string\n} = {bar: \"a string\"} // invalid because bar is no property of type {foo?: string}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=const%20foo%3A%20%7B%0D%0A%20%20%20%20foo%3F%3A%20string%0D%0A%7D%20%3D%20%7B%7D%20%2F%2F%20is%20valid%0D%0A%0D%0Aconst%20bar%3A%20%7B%0D%0A%20%20%20%20foo%3F%3A%20string%0D%0A%7D%20%3D%20%7B%20foo%3A%20%22a%20string%22%20%7D%20%2F%2F%20is%20also%20valid%0D%0A%0D%0Aconst%20baz%3A%20%7B%0D%0A%20%20%20%20foo%3F%3A%20string%0D%0A%7D%20%3D%20%7Bbar%3A%20%22a%20string%22%7D%20%2F%2F%20invalid%20because%20bar%20is%20no%20property%20of%20type%20%7Bfoo%3F%3A%20string%7D%0D%0A\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>the <code>{[key: string]:  string}</code> type says that any key is allowed as long as it can be cast to a string, </p>\n\n<pre><code>const foo: {\n    [key: string]: string\n} = {foo:\"a string\", bar: \"another string\", baz: \"yet another string\"} // is all valid\n</code></pre>\n\n<p>in the example written above every key is valid as long as the type is string.</p>\n\n<pre><code>const bar: {\n    [key: string]: string\n} = {foo:\"a string\", bar: \"another string\", baz: 42} // is invalid baz is not of type string\n</code></pre>\n\n<p>in this example the object is invalid because baz is not of type <code>string</code></p>\n\n<p>union types will also work</p>\n\n<pre><code>const baz: {\n    [key: string]: string | number\n} = {foo:\"a string\", bar: \"another string\", baz: 42} // is valid\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=const%20foo%3A%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%0D%0A%7D%20%3D%20%7B%20foo%3A%20%22a%20string%22%2C%20bar%3A%20%22another%20string%22%2C%20baz%3A%20%22yet%20another%20string%22%20%7D%20%2F%2F%20is%20all%20valid%0D%0A%0D%0Aconst%20bar%3A%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%0D%0A%7D%20%3D%20%7B%20foo%3A%20%22a%20string%22%2C%20bar%3A%20%22another%20string%22%2C%20baz%3A%2042%20%7D%20%2F%2F%20is%20invalid%20baz%20is%20not%20of%20type%20string%0D%0A%0D%0Aconst%20baz%3A%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%20%7C%20number%0D%0A%7D%20%3D%20%7Bfoo%3A%22a%20string%22%2C%20bar%3A%20%22another%20string%22%2C%20baz%3A%2042%7D%20%2F%2F%20is%20valid\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>so based on the rules above we can break down this method</p>\n\n<p>the method is called post and it takes three arguments:</p>\n\n<ol>\n<li><strong>url</strong> - this is of type <code>string</code> (in this method it is the url to make the POST call to)</li>\n<li><strong>body</strong> - this is of type <code>any</code> <strong>OR</strong> of type <code>null</code> (in this method it is the body for the post call) </li>\n<li><strong>options</strong>: this one might look confusing, so lets break it down:</li>\n</ol>\n\n<p>options needs to be an <code>object</code> which has an optional key named headers (it is optionals because it ends with a question mark). The key must be named headers and can not be named something else. Other keys and values can not be inserted!</p>\n\n<p><code>headers</code> must be of type HttpHeaders (a class made by angular) <strong>OR</strong> an <strong><code>object</code> where the key can be casted to a string</strong> Since almost everything can be casted to a string almost everything can be the key. the value must be a string or an array of strings.</p>\n\n<p>I hope this could help you</p>\n"}], "owner": {"reputation": 47, "user_id": 10480426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QIEhRLnV4QI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWBV1sOFGPV46wdTYtZEc73MJkF-g/mo/photo.jpg?sz=128", "display_name": "ovlis", "link": "https://stackoverflow.com/users/10480426/ovlis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1539811379, "creation_date": 1539805710, "question_id": 52862565, "link": "https://stackoverflow.com/questions/52862565/angular-httpclient-post-method-parameters", "title": "Angular HttpClient post method parameters", "body": "<p>I can't understand the following type in typescript. An example of the obj value would be really helpful.</p>\n\n<pre><code> obj: { [name: string]: string | string[]; };\n</code></pre>\n\n<p>I am actually trying to understand the type of the  headers property of the options object in the post method of the HttpClient in Angular:</p>\n\n<pre><code>post(url: string, body: any | null, options: {\n    headers?: HttpHeaders | {\n        [header: string]: string | string[];\n    };\n    ...\n    }\n</code></pre>\n\n<p><a href=\"https://angular.io/api/common/http/HttpClient\" rel=\"nofollow noreferrer\">https://angular.io/api/common/http/HttpClient</a></p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 1, "creation_date": 1539804992, "post_id": 52862355, "comment_id": 92639143, "body": "As the error message says, the values you put in the <code>order</code> array are not recognized by <code>tslint</code>. Read about <code>member-ordering</code> in the <a href=\"https://palantir.github.io/tslint/rules/member-ordering/\" rel=\"nofollow noreferrer\">documentation</a>."}, {"owner": {"reputation": 957, "user_id": 7337055, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dca315ce631a496123c05a99f1679ccd?s=128&d=identicon&r=PG&f=1", "display_name": "L. Faros", "link": "https://stackoverflow.com/users/7337055/l-faros"}, "reply_to_user": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1539805401, "post_id": 52862355, "comment_id": 92639324, "body": "Thanks for the clarification, I&#39;ll take some times reading the doc (though I hope that I won&#39;t have to reorder the code in my methods and only the tslint.json)"}, {"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1539805648, "post_id": 52862355, "comment_id": 92639439, "body": "You can specify in <code>tslint.json</code> the exact order you want or you can specify only some components (f.e. let the static methods out) and the missing components can stay anywhere in the class."}, {"owner": {"reputation": 957, "user_id": 7337055, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dca315ce631a496123c05a99f1679ccd?s=128&d=identicon&r=PG&f=1", "display_name": "L. Faros", "link": "https://stackoverflow.com/users/7337055/l-faros"}, "reply_to_user": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1539806067, "post_id": 52862355, "comment_id": 92639636, "body": "I do know that, however switching from typescrypt 2.9 to 3.1 added these warnings. My bad though, I should have read the documentation more thoroughly"}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 7337055, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dca315ce631a496123c05a99f1679ccd?s=128&d=identicon&r=PG&f=1", "display_name": "L. Faros", "link": "https://stackoverflow.com/users/7337055/l-faros"}, "edited": false, "score": 0, "creation_date": 1539806627, "post_id": 52862657, "comment_id": 92639883, "body": "I&#39;ll have to do some modifications  on it but thank you very much for your answer, now I know  what I should search. Thank you for your time"}], "tags": [], "owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "is_accepted": true, "score": 11, "last_activity_date": 1539806078, "creation_date": 1539806078, "answer_id": 52862657, "question_id": 52862355, "link": "https://stackoverflow.com/questions/52862355/tslint-member-ordering/52862657#52862657", "title": "TSLint member-ordering", "body": "<p>As the error message says, the values you put in the <code>order</code> array are not recognized by tslint. Read about <code>member-ordering</code> in the <a href=\"https://palantir.github.io/tslint/rules/member-ordering/\" rel=\"noreferrer\">documentation of the <code>member-ordering</code> rule</a>.</p>\n\n<p>You can specify in <code>tslint.json</code> the exact order you want or you can specify only some components (f.e. let the static methods out) and the missing components can stay anywhere in the class.</p>\n\n<p>The following configuration matches the rules you expressed:</p>\n\n<pre><code>\"member-ordering\": [\n    true,\n    {\n        \"order\": [\n            \"public-static-field\",\n            \"public-static-method\",\n            \"public-instance-field\",\n            \"public-constructor\",\n            \"public-instance-method\",\n\n            \"protected-static-field\",\n            \"protected-static-method\",\n            \"protected-instance-field\",\n            \"protected-constructor\",\n            \"protected-instance-method\",\n\n            \"private-static-field\",\n            \"private-static-method\",\n            \"private-instance-field\",\n            \"private-constructor\",\n            \"private-instance-method\"\n        ]\n    }\n],\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 7337055, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dca315ce631a496123c05a99f1679ccd?s=128&d=identicon&r=PG&f=1", "display_name": "L. Faros", "link": "https://stackoverflow.com/users/7337055/l-faros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8279, "favorite_count": 1, "accepted_answer_id": 52862657, "answer_count": 1, "score": 4, "last_activity_date": 1539806078, "creation_date": 1539804843, "question_id": 52862355, "link": "https://stackoverflow.com/questions/52862355/tslint-member-ordering", "title": "TSLint member-ordering", "body": "<p>I have the following rules in my tslint.json :</p>\n\n<pre><code>    \"member-ordering\": [\n        true,\n        {\n            \"order\": [\n                \"public-before-private\",\n                \"static-before-instance\",\n                \"variables-before-functions\"\n            ]\n        }\n    ],\n</code></pre>\n\n<p>However I still get this warning :</p>\n\n<pre><code>Warning: member-ordering - Bad member kind: public-before-private\n</code></pre>\n\n<p>Typescrypt version is 3.1.1</p>\n\n<p>Node version is 10.10.0</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-settings"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539878399, "post_id": 52862081, "comment_id": 92669591, "body": "I&#39;m not aware of a simple way to do this.  Why do you have files that reference nonexistent modules?"}, {"owner": {"reputation": 108, "user_id": 5497859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7473450253a84b414228114b42a7e2b1?s=128&d=identicon&r=PG&f=1", "display_name": "nuno", "link": "https://stackoverflow.com/users/5497859/nuno"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539939182, "post_id": 52862081, "comment_id": 92690664, "body": "They are files for GraphQL Bindings, that are then used on multiple other apps. On those apps, the modules (should) exist. On the app they are created, it would be nice to open them without getting them littered with errors from the IDE."}], "owner": {"reputation": 108, "user_id": 5497859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7473450253a84b414228114b42a7e2b1?s=128&d=identicon&r=PG&f=1", "display_name": "nuno", "link": "https://stackoverflow.com/users/5497859/nuno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1539811350, "creation_date": 1539803633, "last_edit_date": 1539811350, "question_id": 52862081, "link": "https://stackoverflow.com/questions/52862081/vscode-ignore-ts-cannot-find-module", "title": "vscode ignore [ts] Cannot find module", "body": "<p>In Visual Studio Code, how to ignore TypeScript errors for some files?</p>\n\n<p>I have some auto-generated <code>*.ts</code> files, and when they're opened, they show red in Explorer with errors like </p>\n\n<pre><code>[ts] Cannot find module 'some-module'\n</code></pre>\n\n<p>I want to ignore those files from the linting/checking for errors.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1539803187, "post_id": 52861917, "comment_id": 92638339, "body": "I&#39;d bind the dropdown value to a <code>ngModel</code> and this model can be set with the value of <code>id</code>"}, {"owner": {"reputation": 1190, "user_id": 8370602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/45cc1a0c28deb48188bbc29f77284be9?s=128&d=identicon&r=PG&f=1", "display_name": "Talg123", "link": "https://stackoverflow.com/users/8370602/talg123"}, "edited": false, "score": 0, "creation_date": 1539803240, "post_id": 52861917, "comment_id": 92638357, "body": "well, you can use the ngModel and then it will simply set the selected on the value."}, {"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539803271, "post_id": 52861917, "comment_id": 92638375, "body": "You can make use of data-binding on the selected option model."}, {"owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "edited": false, "score": 0, "creation_date": 1539822810, "post_id": 52861917, "comment_id": 92644841, "body": "Show us your <code>ts</code>, how is AStatus defined? Did you try [formControlName]=....?"}], "answers": [{"comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1539804932, "post_id": 52862065, "comment_id": 92639115, "body": "The value must also be set on the options. Otherwise, the <code>select</code> element cannot match its value with the corresponding option."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1539805112, "post_id": 52862065, "comment_id": 92639194, "body": "That make sense. so you can add in both places and check"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1539805742, "post_id": 52862065, "comment_id": 92639491, "body": "Updated the answer."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539805611, "last_edit_date": 1539805611, "creation_date": 1539803582, "answer_id": 52862065, "question_id": 52861917, "link": "https://stackoverflow.com/questions/52861917/how-to-display-dropdown-selected-item-using-angular5-6/52862065#52862065", "title": "How to display Dropdown selected Item using Angular5/6?", "body": "<p><code>value</code> should be set for select not for option.</p>\n\n<pre><code>&lt;div class=\"formrow\" *ngFor='let a of applicantName'&gt;\n  &lt;label&gt;Status Selection :&lt;/label&gt;\n  &lt;select id=\"AStatus\" [value]=\"apt.ApplicantStatusID\" formControlName=\"AStatus\" class=\"form-control\"&gt;\n    &lt;option value=\"0\"&gt;All&lt;/option&gt;\n    &lt;option *ngFor=\"let apt of applicantStatus\" [value]=\"apt.ApplicantStatusID\"&gt;\n      {{ apt.ApplicantStatus }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10327238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f2c3637049c0fe5cca7960bb6b679ca?s=128&d=identicon&r=PG&f=1", "display_name": "user10327238", "link": "https://stackoverflow.com/users/10327238/user10327238"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52862065, "answer_count": 1, "score": 0, "last_activity_date": 1539809019, "creation_date": 1539802995, "last_edit_date": 1539809019, "question_id": 52861917, "link": "https://stackoverflow.com/questions/52861917/how-to-display-dropdown-selected-item-using-angular5-6", "title": "How to display Dropdown selected Item using Angular5/6?", "body": "<p>I want to display selected item in Dropdown list based on id. </p>\n\n<pre><code>&lt;div class=\"formrow\" *ngFor='let a of applicantName'&gt;\n  &lt;label&gt;Status Selection :&lt;/label&gt;\n  &lt;select id=\"AStatus\" formControlName=\"AStatus\" class=\"form-control\"&gt;\n    &lt;option value=\"0\"&gt;All&lt;/option&gt;\n    &lt;option *ngFor=\"let apt of applicantStatus\" [value]=\"apt.ApplicantStatusID\" [selected]=\"apt.ApplicantStatusID === a.Status\"&gt;\n      {{ apt.ApplicantStatus }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This code is not working and not showing selected option.</p>\n"}, {"tags": ["angular", "typescript", "datatable", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 1349, "user_id": 1281182, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c3979e230eb3e79453c338fa618cac23?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/1281182/atul"}, "edited": false, "score": 0, "creation_date": 1544692643, "post_id": 52883229, "comment_id": 94369099, "body": "Is there any way we can get this working while sorting is applied to datatable ? When sorting is applied , then above solution works but it selects records not on sorted data but which are loaded in its internal DATA attrbute . As a result , it selects random checkboxes"}, {"owner": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "reply_to_user": {"reputation": 1349, "user_id": 1281182, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c3979e230eb3e79453c338fa618cac23?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/1281182/atul"}, "edited": false, "score": 0, "creation_date": 1544710750, "post_id": 52883229, "comment_id": 94379377, "body": "So far I haven&#39;t tried that, I do know that currenctly my selection will select by index, thus when sorting the indexes change and for example <code>index 0</code> can be like the 10th row on the table, leaving the other 9 before unchecked, it&#39;s something that surely can be made, I&#39;ll see if I try testing that later"}, {"owner": {"reputation": 377, "user_id": 4902281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f6441c22f5c44f018e60bcfdc1275d?s=128&d=identicon&r=PG", "display_name": "Srichandradeep C", "link": "https://stackoverflow.com/users/4902281/srichandradeep-c"}, "edited": false, "score": 0, "creation_date": 1580823877, "post_id": 52883229, "comment_id": 106218603, "body": "What if you change the page? Your logic doesn&#39;t work."}, {"owner": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "reply_to_user": {"reputation": 377, "user_id": 4902281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f6441c22f5c44f018e60bcfdc1275d?s=128&d=identicon&r=PG", "display_name": "Srichandradeep C", "link": "https://stackoverflow.com/users/4902281/srichandradeep-c"}, "edited": false, "score": 0, "creation_date": 1580824192, "post_id": 52883229, "comment_id": 106218771, "body": "@SrichandradeepC if you mean changing from page 1 to page 2, yes, the selection would no longer be there, if you mean increasing the page size, the selection remains there"}, {"owner": {"reputation": 377, "user_id": 4902281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f6441c22f5c44f018e60bcfdc1275d?s=128&d=identicon&r=PG", "display_name": "Srichandradeep C", "link": "https://stackoverflow.com/users/4902281/srichandradeep-c"}, "edited": false, "score": 0, "creation_date": 1580825004, "post_id": 52883229, "comment_id": 106219277, "body": "Yes, the former. I just wanted to inform users who look for a different generic solution."}], "tags": [], "owner": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "is_accepted": true, "score": 2, "last_activity_date": 1539900160, "creation_date": 1539900160, "answer_id": 52883229, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/52883229#52883229", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>Was able to get it to work by removin the last line on the <code>masterToggle()</code> method, and replacing that with a custom function that loops through the PageSize of the paginator and calls the <code>select</code> method of the <code>SelectionModel</code> for each alert it finds; I also changed the <code>isAllSelected</code> method to compare the <code>PageSize</code> and the selected <code>lenght</code> instead of the whole <code>dataSource</code>.</p>\n\n<pre><code>/** Whether the number of selected elements matches the total number of rows. */\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const page = this.dataSource.paginator.pageSize;\n    return numSelected === page;\n  }\n\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    this.isAllSelected() ? \n    this.selection.clear() : this.selectRows();\n  }\n\n  selectRows() {\n    for (let index = 0; index &lt; this.dataSource.paginator.pageSize; index++) {\n      this.selection.select(this.dataSource.data[index]);\n      this.selectionAmount = this.selection.selected.length;\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5928733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e28ff817173ae89c849dc893a9295d?s=128&d=identicon&r=PG&f=1", "display_name": "MWB", "link": "https://stackoverflow.com/users/5928733/mwb"}, "is_accepted": false, "score": 2, "last_activity_date": 1553183384, "creation_date": 1553183384, "answer_id": 55284339, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/55284339#55284339", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>My solution is based on currently displayed rows so it works regarding the pagination.\nThere is a lot to improve about it so please feel free to make it better.</p>\n\n<pre><code>  isAllSelected() {\n\n    const numSelected = this.selection.selected.length;\n    const displayedRows = this.filteredEvents.connect().value.length;\n    let isAllSelected = (numSelected === displayedRows);\n\n    if (isAllSelected) {\n      isAllSelected = this.isAllDisplayedSelected();\n    }\n\n    return isAllSelected;\n  }\n\n  isAllDisplayedSelected() {\n    let isAllDisplayedSelected = true;\n\n    if (this.selection.selected.length === 0) {\n      return this.isAllSelected();\n    }\n\n    this.filteredEvents.connect().value.some(element =&gt; {\n      if (!this.selection.isSelected(element)) {\n        isAllDisplayedSelected = false;\n        return isAllDisplayedSelected;\n      }\n    });\n    return isAllDisplayedSelected;\n  }\n\n  masterToggle() {\n    this.isViewableSelected() ?\n      this.deselectRows() :\n      this.selectRows();\n  }\n\n  isViewableSelected() {\n    return (this.isAllSelected() || this.isAllDisplayedSelected());\n  }\n\n  deselectRows() {\n    const itemsToBeUnselected = this.filteredEvents.connect().value;\n    itemsToBeUnselected.forEach(element =&gt; {\n      this.selection.deselect(element);\n    });\n  }\n\n  selectRows() {\n    const currentlyDisplayedRows = this.filteredEvents.connect().value;\n\n    for (let index = 0; index &lt; currentlyDisplayedRows.length; index++) {\n      this.selection.select(currentlyDisplayedRows[index]);\n      this.selectionAmount = this.selection.selected.length;\n    }\n  }\n</code></pre>\n\n<p>The HTML:</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"select\"&gt;\n  &lt;th mat-header-cell *matHeaderCellDef&gt;\n    &lt;mat-checkbox (change)=\"$event ? masterToggle() : null\" [checked]=\"selection.hasValue() &amp;&amp; isViewableSelected()\"\n      [indeterminate]=\"selection.hasValue() &amp;&amp; !isViewableSelected()\"&gt;\n    &lt;/mat-checkbox&gt;\n  &lt;/th&gt;\n  &lt;td mat-cell *matCellDef=\"let row\"&gt;\n    &lt;mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\"\n      [checked]=\"selection.isSelected(row)\"&gt;\n    &lt;/mat-checkbox&gt;\n  &lt;/td&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "is_accepted": false, "score": 1, "last_activity_date": 1559638764, "last_edit_date": 1559638764, "creation_date": 1559637400, "answer_id": 56440231, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/56440231#56440231", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>Here is my solution.\n<a href=\"https://angular-vkz1dp.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-vkz1dp.stackblitz.io</a>\nI build in an extra if switch page it will uncheck.</p>\n\n<p>HTML column:</p>\n\n<pre><code>&lt;mat-checkbox #ref\n       (click)=\"$event.stopPropagation()\"\n       (change)=\"$event ? masterToggle(ref) : null\"&gt;&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>HTML cell:</p>\n\n<pre><code>&lt;mat-checkbox (click)=\"$event.stopPropagation()\"\n                    [checked]=\"selection.isSelected(element)\"&gt;&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>HTML paginator:</p>\n\n<pre><code>&lt;mat-paginator fixed [pageSizeOptions]=\"[20, 50, 100]\" [pageSize]=\"20\" (page)=\"pageChange()\" showFirstLastButtons&gt;&lt;/mat-paginator&gt;\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>  @ViewChild('ref') ref: any;\n\n  masterToggle(_ref: any) {\n    if(_ref.checked){\n        this.checkPageOnly();\n    }\n    else {\n        this.selection.clear();\n    }\n  }\n\n  checkPageOnly() {\n      let i = this.dataSource.paginator.pageIndex * this.dataSource.paginator.pageSize;\n      let end = (this.dataSource.paginator.pageIndex + 1) * this.dataSource.paginator.pageSize;\n      for(i; i &lt; end; i++) {\n        this.selection.select(this.dataSource.data[i]);\n      }\n  }\n\n    pageChange() {\n        this.ref.checked = false;\n        this.masterToggle(this.ref);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 723, "user_id": 4554543, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh5.googleusercontent.com/-q_kQGXZ3Bnc/AAAAAAAAAAI/AAAAAAAABBA/SAlPn8C6oqE/photo.jpg?sz=128", "display_name": "Veera Induvasi", "link": "https://stackoverflow.com/users/4554543/veera-induvasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574349394, "creation_date": 1574349394, "answer_id": 58978166, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/58978166#58978166", "title": "Mat-Table Selection only on current PageSize?", "body": "<pre><code>          isAllSelected() {\n              // const numSelected = this.selection.selected.length;\n              // const numRows = this.dataSource.data.length;\n              // return numSelected === numRows;\n              // const page = this.dataSource.paginator.pageSize;\n              // return numSelected === page;\n              return this.selection.selected.length &gt; 0;\n            }\n\n            /** Selects all rows if they are not all selected; otherwise clear selection. */\n            masterToggle() {\n              this.isAllSelected() ?\n                this.selection.clear() :\n                // this.dataSource.data.forEach(row =&gt; this.selection.select(row));\n                this.selectRows();\n            }\n            pageChanged(event) {\n              this.selection.clear();\n            }\n            selectRows() {\n\n              const intIndex = this.dataSource.paginator.pageIndex === 0 ? 0 : (this.dataSource.paginator.pageSize * this.dataSource.paginator.pageIndex);\n              let intPageSize = intIndex + this.dataSource.paginator.pageSize;\n              if (intPageSize &gt; this.dataSource.filteredData.length) {\n                intPageSize = this.dataSource.filteredData.length;\n              }\n              for (let index = intIndex; index &lt; intPageSize; index++) {\n                this.selection.select(this.dataSource.filteredData[index]);\n                // this.selectionAmount = this.selection.selected.length;\n              }\n            }\n\n\n            /** The label for the checkbox on the passed row */\n            checkboxLabel(row?: TicketMatchingElement): string {\n              if (!row) {\n                return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\n              }\n              return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.bookingId + 1}`;\n            }\n            formatDateValue(dateValue: Date) {\n              return formatDate(dateValue);\n            }\n          }\n</code></pre>\n\n<p>HTML just change in the paginatory</p>\n\n<pre><code>&lt;mat-paginator [pageSizeOptions]=\"[5, 10, 20,25]\"\n        showFirstLastButtons (page)=\"pageChanged($event)\"\n      &gt;&lt;/mat-paginator&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 817, "user_id": 292677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f636077325af61ddb9158e473c38f65?s=128&d=identicon&r=PG", "display_name": "curmil", "link": "https://stackoverflow.com/users/292677/curmil"}, "is_accepted": false, "score": 5, "last_activity_date": 1579267539, "last_edit_date": 1579267539, "creation_date": 1579264149, "answer_id": 59787369, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/59787369#59787369", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>If you're using sorting, paginating, and filtering:</p>\n\n<p>HTML column:</p>\n\n<pre><code>&lt;mat-checkbox (change)=\"$event ? masterToggle($event) : null\"\n    [checked]=\"selection.hasValue() &amp;&amp; isEntirePageSelected()\"\n    [indeterminate]=\"selection.hasValue() &amp;&amp; !isEntirePageSelected()\"\n    [aria-label]=\"checkboxLabel()\"&gt;&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>  getPageData() {\n    return this.dataSource._pageData(this.dataSource._orderData(this.dataSource.filteredData));\n  }\n\n  isEntirePageSelected() {\n    return this.getPageData().every((row) =&gt; this.selection.isSelected(row));\n  }\n\n  masterToggle(checkboxChange: MatCheckboxChange) {\n    this.isEntirePageSelected() ?\n      this.selection.deselect(...this.getPageData()) :\n      this.selection.select(...this.getPageData());\n  }\n\n  checkboxLabel(row): string {\n    if (!row) {\n      return `${this.isEntirePageSelected() ? 'select' : 'deselect'} all`;\n    }\n    return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.id + 1}`;\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 401, "user_id": 7819107, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WJ-y9OJiKoU/AAAAAAAAAAI/AAAAAAAACAc/u1FhjD2Uhw8/photo.jpg?sz=128", "display_name": "Pieter Buys", "link": "https://stackoverflow.com/users/7819107/pieter-buys"}, "is_accepted": false, "score": 0, "last_activity_date": 1612187549, "creation_date": 1612187549, "answer_id": 65993912, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/65993912#65993912", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>Just found <a href=\"https://github.com/angular/components/issues/9419#issuecomment-363352337\" rel=\"nofollow noreferrer\">this answer</a></p>\n<p>You can use <code>datasource.connect().value</code> to get all items that are currently rendered in your table.</p>\n<p>So from your code you could do:</p>\n<pre><code>masterToggle() {\n    this.isAllSelected() ?\n        this.selection.clear() :\n        this.dataSource.connect().value.forEach(row =&gt; this.selection.select(row));\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15202146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1ffd3dc878dd80b5c79ff927093992?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Gupta", "link": "https://stackoverflow.com/users/15202146/ashish-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1617445830, "creation_date": 1617445830, "answer_id": 66930104, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize/66930104#66930104", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>I found an easier way to do this (Angular):<br />\nInstead of <code>this.dataSource.data.length</code> change it to <code>this.dataSource.connect().value.forEach(row =&gt; this.selection.select(row));</code><br />\nSomething like:</p>\n<pre><code>  masterToggle() {\n    this.isAllSelected() ?\n    this.selection.clear() :\n    this.dataSource.connect().value.forEach(row =&gt; this.selection.select(row));\n  }\n</code></pre>\n<p>But the only problem here is, that it won't clear all the selected fields; so to achieve this, change your isAllSelected() method :</p>\n<pre><code>  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource.paginator != undefined ? this.dataSource.paginator.pageSize : 5;\n    return numSelected === numRows;\n }\n</code></pre>\n<p>Here &quot;5&quot; is your original page size, defined until your dataSource doesn't gets initialized.</p>\n"}], "owner": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8980, "favorite_count": 1, "accepted_answer_id": 52883229, "answer_count": 7, "score": 7, "last_activity_date": 1617445830, "creation_date": 1539799245, "question_id": 52861003, "link": "https://stackoverflow.com/questions/52861003/mat-table-selection-only-on-current-pagesize", "title": "Mat-Table Selection only on current PageSize?", "body": "<p>I'm building a table with pagination that handles some actions based on an array of selected checkboxes; I've the <a href=\"https://material.angular.io/components/table/overview#selection\" rel=\"noreferrer\">docs</a> and as far a just selecting ALL rows of just a few individually everything's good;</p>\n\n<p>The scenario I'm trying to get to to work is the following: If my <code>PageSize</code> on my <code>paginator</code> is \"10\", and I click the <code>masterToggle</code> to select \"all\" rows, I want that to select all the rows on the current page, nothing more, so that would be the 10 rows that are being displayed with the current <code>PageSize</code>, however, this selects the whole <code>dataSource</code> of the table which is around 300 records.</p>\n\n<p>Is there a way to make the <code>masterToggle</code> select only the rows that are displayed based on the PageSize? Then If I change the <code>PageSize</code> to 20 only the first 10 would stay selected.</p>\n\n<p>This is my code.</p>\n\n<pre><code>/** Whether the number of selected elements matches the total number of rows. */\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource.data.length;\n    return numSelected === numRows;\n  }\n\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    this.isAllSelected() ?\n        this.selection.clear() :\n        this.dataSource.data.forEach(row =&gt; this.selection.select(row));\n  }\n</code></pre>\n"}, {"tags": ["typescript", "jestjs", "tsconfig", "ts-jest"], "answers": [{"tags": [], "owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "is_accepted": true, "score": 4, "last_activity_date": 1539802387, "creation_date": 1539802387, "answer_id": 52861763, "question_id": 52860868, "link": "https://stackoverflow.com/questions/52860868/typescript-paths-not-resolving-when-running-jest/52861763#52861763", "title": "Typescript paths not resolving when running jest?", "body": "<p>jest can't honor tsconfig's path mapping as it's ts compiler time, so jest configuration should have corresponding modulenamemapper (<a href=\"https://jestjs.io/docs/en/configuration.html#modulenamemapper-object-string-string\" rel=\"nofollow noreferrer\">https://jestjs.io/docs/en/configuration.html#modulenamemapper-object-string-string</a>) to resolve aliased paths.</p>\n"}, {"tags": [], "owner": {"reputation": 32379, "user_id": 802365, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2fe665d956e0376411350d79379848c9?s=128&d=identicon&r=PG", "display_name": "&#201;douard Lopez", "link": "https://stackoverflow.com/users/802365/%c3%89douard-lopez"}, "is_accepted": false, "score": 4, "last_activity_date": 1615368381, "creation_date": 1615368381, "answer_id": 66561818, "question_id": 52860868, "link": "https://stackoverflow.com/questions/52860868/typescript-paths-not-resolving-when-running-jest/66561818#66561818", "title": "Typescript paths not resolving when running jest?", "body": "<p>I wanted to resolve modules <a href=\"https://www.typescriptlang.org/tsconfig#paths\" rel=\"nofollow noreferrer\">paths</a> starting with <code>~/</code> to my <code>&lt;baseUrl&gt;/&lt;moduleName&gt;</code>.</p>\n<p>Thank to <a href=\"https://stackoverflow.com/a/52861763/802365\">OJ Kwon</a> link I solved it with (give him point).</p>\n<h3>tsconfig.json</h3>\n<p>see <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"nofollow noreferrer\">module-resolution path-mapping doc</a></p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;src&quot;,\n    &quot;paths&quot;: {\n      &quot;~/*&quot;: [&quot;*&quot;]\n    }\n  },\n}\n</code></pre>\n<h3>jest config</h3>\n<p>Then we need to tell <code>jest</code> to resolve the paths too. It's done with the following config:</p>\n<pre><code>&quot;moduleNameMapper&quot;: {\n  &quot;~/(.*)&quot;: &quot;&lt;rootDir&gt;/src/$1&quot;\n},\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3084, "favorite_count": 0, "accepted_answer_id": 52861763, "answer_count": 2, "score": 1, "last_activity_date": 1615368381, "creation_date": 1539798722, "last_edit_date": 1541079284, "question_id": 52860868, "link": "https://stackoverflow.com/questions/52860868/typescript-paths-not-resolving-when-running-jest", "title": "Typescript paths not resolving when running jest?", "body": "<p>Attempting to <a href=\"https://github.com/fireflysemantics/validator\" rel=\"nofollow noreferrer\">convert this project</a> over to jest using <a href=\"https://basarat.gitbooks.io/typescript/docs/testing/jest.html\" rel=\"nofollow noreferrer\">these instructions</a>.  I have everything working except for the files that use the <code>paths</code> configuration:</p>\n\n<pre><code>\"paths\": {\n      \"@fs/*\": [\"./src/*\"], \n      \"@test/*\": [\"./test/*\"]\n    }\n</code></pre>\n\n<p>It looks as if when the tests are run the import statements do not resolve and this is logged:</p>\n\n<pre><code>Cannot find module '@fs/container/validation/ValidationContext' from 'Core.spec.ts'\n\n  1 | import { ValidationOptions } from \"@fs/container/validation/ValidationOptions\";\n&gt; 2 | import { ValidationContext } from \"@fs/container/validation/ValidationContext\";\n    | ^\n  3 | import { ValidationContainer } from \"@fs/container/validation/ValidationContainer\";\n  4 | \n  5 | import { Core1 } from \"@test/core/Core1\";\n\n  at Resolver.resolveModule (node_modules/jest-resolve/build/index.js:221:17)\n  at Object.&lt;anonymous&gt; (test/core/Core.spec.ts:2:1)\n</code></pre>\n\n<p>Is there a way to get jest/ts-jest include the <code>@paths</code> while resolving imports?</p>\n"}, {"tags": ["typescript", "angular6", "golden-layout"], "comments": [{"owner": {"reputation": 9858, "user_id": 1152809, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7bA0M.jpg?s=128&g=1", "display_name": "Travis Heeter", "link": "https://stackoverflow.com/users/1152809/travis-heeter"}, "edited": false, "score": 2, "creation_date": 1539798383, "post_id": 52860451, "comment_id": 92636026, "body": "Welcome to stack overflow. The more research you do prior to asking a question, the more likely it is to be answered. You should post things you&#39;ve tried, possibly including a &quot;working&quot; sandbox of your code. Also, the link to your tutorial is broken - it&#39;s possible it&#39;s paid access or something. Either way, no one else will know what you&#39;re referring to. As far as your question goes, the issue is <code>config</code> is the wrong type. It needs to be <code>GoldenLayoutConfiguration</code> but it doesn&#39;t appear to be that type. What type is it?"}, {"owner": {"reputation": 4599, "user_id": 8330162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDyyg.jpg?s=128&g=1", "display_name": "B--rian", "link": "https://stackoverflow.com/users/8330162/b-rian"}, "edited": false, "score": 1, "creation_date": 1542377387, "post_id": 52860451, "comment_id": 93557811, "body": "A fully functional Angular-6 implementation of golden-layout can be found at <a href=\"https://github.com/EmbeddedEnterprises/ng6-golden-layout\" rel=\"nofollow noreferrer\">github.com/EmbeddedEnterprises/ng6-golden-layout</a>  I wish, I knew that earlier..."}], "answers": [{"tags": [], "owner": {"reputation": 9858, "user_id": 1152809, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7bA0M.jpg?s=128&g=1", "display_name": "Travis Heeter", "link": "https://stackoverflow.com/users/1152809/travis-heeter"}, "is_accepted": false, "score": 0, "last_activity_date": 1539798968, "creation_date": 1539798968, "answer_id": 52860935, "question_id": 52860451, "link": "https://stackoverflow.com/questions/52860451/golden-layout-with-angular-6-using-typescript/52860935#52860935", "title": "Golden Layout with Angular 6 using typescript?", "body": "<p><code>config</code> needs to be of type <code>GoldenLayoutConfiguration</code>. It looks like this line</p>\n\n<pre><code>let config = {\n</code></pre>\n\n<p>is your issue. Try this: </p>\n\n<pre><code>let config:GoldenLayoutConfiguration = {\n</code></pre>\n\n<hr>\n\n<p>The <a href=\"https://golden-layout.com/docs/GoldenLayout.html#GoldenLayout(%20configuration,%20container%20)\" rel=\"nofollow noreferrer\">documentation</a> says this:</p>\n\n<pre><code>myLayout = new GoldenLayout({\n  content:[{ \n    type: 'component', \n    componentName: 'sayHi',\n    componentState: { name: 'Wolfram' }\n  }]\n});\n</code></pre>\n\n<p>so that's something else you can try.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10518662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f756ab8dd359a98e6e0df333e5314dc?s=128&d=identicon&r=PG&f=1", "display_name": "gbarry", "link": "https://stackoverflow.com/users/10518662/gbarry"}, "is_accepted": false, "score": 2, "last_activity_date": 1542380380, "last_edit_date": 1542380380, "creation_date": 1539892784, "answer_id": 52881631, "question_id": 52860451, "link": "https://stackoverflow.com/questions/52860451/golden-layout-with-angular-6-using-typescript/52881631#52881631", "title": "Golden Layout with Angular 6 using typescript?", "body": "<p>I was able to get golden-layout to work with Angular 6 by converting the javascript file of the <a href=\"https://golden-layout.com/examples/\" rel=\"nofollow noreferrer\">golden-layout example</a> to typescript. I am including my angular 6 files for this example so that others can start with a full working example to save them the time I have spent. I am not sure why the ng6-golden-layout was not working as it should be compatible for Angular 6 but could not get the layout config syntax and could not find any full working examples in my searches.</p>\n\n<p>First, a package has to be installed:</p>\n\n<pre><code>npm install --save golden-layout@1.5.9 jquery\n</code></pre>\n\n<p>The files compatible to Angular 6 are the following:</p>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport * as $ from 'jquery';\n\n// It is required to have JQuery as global in the window object.\nwindow['$'] = $;\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  entryComponents: [\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport * as GoldenLayout from 'golden-layout';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  myLayout: GoldenLayout;\n  title = 'popout-ex';\n\n  config:any = {\n    content: [{\n      type: 'row',\n      content: [\n          {\n          type:'component',\n          componentName: 'example',\n          componentState: { text: 'Component 1' }\n          },\n        {\n          type:'component',\n          componentName: 'example',\n          componentState: { text: 'Component 2' }\n          },\n        {\n          type:'component',\n          componentName: 'example',\n          componentState: { text: 'Component 3' }\n          }\n      ]\n    }]\n  };\n\n  ngOnInit() {\n      this.myLayout = new GoldenLayout( this.config );\n\n      this.myLayout.registerComponent( 'example', function( container, state ){\n        container.getElement().html( '&lt;h2&gt;' + state.text + '&lt;/h2&gt;');\n      });\n\n      this.myLayout.init();\n    }\n}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code> &lt;link type=\"text/css\" rel=\"stylesheet\" href=\"//golden-layout.com/assets/css/goldenlayout-base.css\" /&gt;\n &lt;link type=\"text/css\" rel=\"stylesheet\" href=\"//golden-layout.com/assets/css/goldenlayout-dark-theme.css\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10518662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f756ab8dd359a98e6e0df333e5314dc?s=128&d=identicon&r=PG&f=1", "display_name": "gbarry", "link": "https://stackoverflow.com/users/10518662/gbarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3117, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1542380380, "creation_date": 1539796993, "last_edit_date": 1539798132, "question_id": 52860451, "link": "https://stackoverflow.com/questions/52860451/golden-layout-with-angular-6-using-typescript", "title": "Golden Layout with Angular 6 using typescript?", "body": "<p>I am using <a href=\"https://golden-layout.com/\" rel=\"nofollow noreferrer\">golden layout</a> with Angular 6, following <a href=\"https://npm.taobao.org/package/@embedded-enterprises/ng6-golden-layout/v/0.0.7\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>I'm getting an error on <code>GoldenLayoutModule.forRoot(config)</code> </p>\n\n<blockquote>\n  <p>config not assignable to parameter of type <code>GoldenLayoutConfiguration</code>. </p>\n</blockquote>\n\n<pre><code>import { AppComponent } from './app.component';\nimport { GoldenLayoutModule, GoldenLayoutConfiguration } from '@embedded-enterprises/ng6-golden-layout';\nimport * as $ from 'jquery';\n\n// It is required to have JQuery as global in the window object.\nwindow['$'] = $;\n\n// const config: GoldenLayoutConfiguration { /* TODO */ };\n\n\nlet config = {\n  content: [{\n      type: 'row',\n      content:[{\n          type: 'component',\n          componentName: 'testComponent',\n          componentState: { label: 'A' }\n      },{\n          type: 'column',\n          content:[{\n              type: 'component',\n              componentName: 'testComponent',\n              componentState: { label: 'B' }\n          },{\n              type: 'component',\n              componentName: 'testComponent',\n              componentState: { label: 'C' }\n          }]\n      }]\n  }]\n};\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    GoldenLayoutModule.forRoot(config)\n  ],\n  entryComponents: [\n    // TODO Add your components which are used as panels in golden-layout also here.\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1539795953, "post_id": 52860120, "comment_id": 92634858, "body": "A new tab meaning?"}, {"owner": {"reputation": 616, "user_id": 2138602, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2e34e12d177f05813f020074df52778?s=128&d=identicon&r=PG", "display_name": "Jesse Nelson", "link": "https://stackoverflow.com/users/2138602/jesse-nelson"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1539796077, "post_id": 52860120, "comment_id": 92634920, "body": "a new browser tab. What I want to happen is submit the form into a new tab. So that I can change the content of the original tab. Basically, I am trying to prevent pop up blockers from blocking a new tab but the only way to do that is to post into a new tab"}, {"owner": {"reputation": 1103, "user_id": 9613505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqW8Q.jpg?s=128&g=1", "display_name": "Hussein", "link": "https://stackoverflow.com/users/9613505/hussein"}, "edited": false, "score": 0, "creation_date": 1539796664, "post_id": 52860120, "comment_id": 92635222, "body": "Opening it in a new tab means it has to load the angular app again, i don&#39;t think this will unblock the ad"}, {"owner": {"reputation": 616, "user_id": 2138602, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2e34e12d177f05813f020074df52778?s=128&d=identicon&r=PG", "display_name": "Jesse Nelson", "link": "https://stackoverflow.com/users/2138602/jesse-nelson"}, "edited": false, "score": 0, "creation_date": 1539800001, "post_id": 52860120, "comment_id": 92636797, "body": "Yes it would have to reload in the new tab but this is expected. It is not an add blocking issue. It is a pop up blocker issue. When calls to window.open are made, popup blockers stop them. One way around this is to post to a new tab"}], "answers": [{"tags": [], "owner": {"reputation": 616, "user_id": 2138602, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2e34e12d177f05813f020074df52778?s=128&d=identicon&r=PG", "display_name": "Jesse Nelson", "link": "https://stackoverflow.com/users/2138602/jesse-nelson"}, "is_accepted": true, "score": 2, "last_activity_date": 1539899648, "last_edit_date": 1539899648, "creation_date": 1539892031, "answer_id": 52881451, "question_id": 52860120, "link": "https://stackoverflow.com/questions/52860120/angular-6-post-form-to-new-tab/52881451#52881451", "title": "Angular 6 Post form to new tab", "body": "<p>Alright it isn't pretty but this is a requirement I can not get around. Here is how I solved.</p>\n\n<p>Create another form element that will open a form in a new page with a get request (pop up blockers can not block form loads so this works)</p>\n\n<pre><code>&lt;form  ngNoForm #htmlForm hidden action=\"{{window?.location?.href}}\" method=\"get\" target=\"_blank\"&gt;\n  &lt;input name=\"zip\" value=\"{{formData.zipCode}}\"/&gt;\n  &lt;input name=\"autoSubmit\" value=\"true\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This will open the page you are currently on in a new tab with the form values as query params. Then in your component you can get a reference to the form</p>\n\n<pre><code>@ViewChild(\"htmlForm\")\nhtmlForm: ElementRef;\n</code></pre>\n\n<p>and in your click handler for the angular managed form you can do what ever logic you need plus </p>\n\n<pre><code>this.htmlForm.nativeElement.submit();\n</code></pre>\n\n<p>Then on the init of the component you can read these form values and automatically submit.</p>\n\n<pre><code>ngOnInit() {\n    this.activatedRoute.queryParams.subscribe(params =&gt; {\n      if (params &amp;&amp; params.autoSubmit) {\n\n        this.formData.zipCode = params.zip;\n        //submit this.formData to the server. \n      }\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 2138602, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2e34e12d177f05813f020074df52778?s=128&d=identicon&r=PG", "display_name": "Jesse Nelson", "link": "https://stackoverflow.com/users/2138602/jesse-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2367, "favorite_count": 0, "accepted_answer_id": 52881451, "answer_count": 1, "score": 0, "last_activity_date": 1550074455, "creation_date": 1539795729, "last_edit_date": 1550074455, "question_id": 52860120, "link": "https://stackoverflow.com/questions/52860120/angular-6-post-form-to-new-tab", "title": "Angular 6 Post form to new tab", "body": "<p>I am trying to figure out how to set a target on a form in angular. I want the submission of the form to happen in a new tab so I have the below.</p>\n\n<pre><code>&lt;form id=\"formLanding\" role=\"form\" (ngSubmit)=\"onSubmit()\" #landingForm=\"ngForm\" [target]=\"'_blank'\"&gt;\n...\n&lt;/form&gt;\n</code></pre>\n\n<p>However, angular doesn't post this to a new tab. I have read about noNgForm but this doesn't work for my use case as I already have a ton of work done that ties into Angular's form validation and this directive removes the form refernce. Does anyone know how to post a form to a new tab while still using Angular forms?</p>\n"}, {"tags": ["reactjs", "typescript", "generics", "inheritance", "covariance"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1539795067, "post_id": 52859833, "comment_id": 92634472, "body": "The last bit (#1) is easy: <a href=\"http://www.typescriptlang.org/docs/handbook/classes.html#readonly-modifier\" rel=\"nofollow noreferrer\"><code>readonly</code></a> properties are expected to be initialized in the constructor."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1539804496, "post_id": 52859833, "comment_id": 92638928, "body": "How sure are you that <code>this.state = {}</code> is fine in the <code>Test</code> case, and doesn&#39;t tell you &quot;<code>property &#39;name&#39; is missing in type &#39;{}&#39;</code>&quot;?"}, {"owner": {"reputation": 4909, "user_id": 1177295, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jHPUu.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/1177295/raghavendra"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1539839015, "post_id": 52859833, "comment_id": 92648175, "body": "@jcalz Sorry, my bad. I have edited the question now. My intention was to demonstrate that this.state is still assignable in Test class. But it is not working in a similar manner in Parent class."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1539869908, "post_id": 52859833, "comment_id": 92664162, "body": "#2: because the constructor of a child class doesn&#39;t need to look anything like the constructor of the parent class, so the compiler has no idea what type the <code>props</code> parameter must be."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1539871053, "creation_date": 1539871053, "answer_id": 52875716, "question_id": 52859833, "link": "https://stackoverflow.com/questions/52859833/why-is-state-readonly-in-parent-class-if-i-extend-a-child-class-from-parent-in-r/52875716#52875716", "title": "Why is state readonly in Parent class if I extend a Child class from Parent in React (Typescript)?", "body": "<p>The error you get is something like:</p>\n\n<pre><code>Type '{ name: string }' is not assignable to type 'Readonly&lt;S&gt;'.\n</code></pre>\n\n<p>That is telling you that if you have a variable of type <code>Readonly&lt;S&gt;</code>, then it is not safe to assign a value of type <code>{ name: string }</code> to it.  Let's see why.</p>\n\n<p>Since <code>S</code> is generic, code you write with it needs to be compatible with substituting any valid concrete type for <code>S</code>.  The constraint on <code>S</code> is <code>S extends ParentState</code>, so let's come up with a type that meets that constraint and instantiate <code>Parent</code> with it:</p>\n\n<pre><code>interface ProblemChildState extends ParentState {\n  naughtiness: true\n}\nconst problemComponent = new Parent&lt;{}, ProblemChildState&gt;({});\n</code></pre>\n\n<p>Let's imagine what that constructor is doing, now that <code>S</code> has been concretely specified as <code>ProblemChildState</code>:</p>\n\n<pre><code>this.state = { name: '' }; // oops!\n</code></pre>\n\n<p>The type of <code>this.state</code> is <code>Readonly&lt;ProblemChildState&gt;</code>, but as you can see, the value <code>{ name: '' }</code> is not a valid <code>ProblemChildState</code> at all, because it's missing the <code>naughtiness</code> property.</p>\n\n<p>Since that assignment is invalid for the concrete <code>ProblemChildState</code>, the assignment must be invalid for the generic <code>S</code>.  Hence the error.</p>\n\n<p>In practice it's hard to assign a literal value to a variable of a generic type.  Even in the rare cases where you can come up with something that works for all possible instantiations of the generic type parameter, the compiler is likely to give you an error because the situation is too rare for it to check, and you'll need to do a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a>.  Indeed, you can work around the issue by doing such an assertion:</p>\n\n<pre><code>this.state = { name: '' } as Readonly&lt;S&gt;; // not safe!\n</code></pre>\n\n<p>but that isn't safe for the reason mentioned above.  Ideally you'd alter your code not to require setting <code>state</code> until you have a concrete type for <code>S</code>.  Possibly by making <code>Parent</code> an <code>abstract</code> class?</p>\n\n<p>Anyway, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 4909, "user_id": 1177295, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jHPUu.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/1177295/raghavendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 1, "accepted_answer_id": 52875716, "answer_count": 1, "score": 1, "last_activity_date": 1539871053, "creation_date": 1539794720, "last_edit_date": 1539839046, "question_id": 52859833, "link": "https://stackoverflow.com/questions/52859833/why-is-state-readonly-in-parent-class-if-i-extend-a-child-class-from-parent-in-r", "title": "Why is state readonly in Parent class if I extend a Child class from Parent in React (Typescript)?", "body": "<p>I have created an interface for Parent class defined for State:</p>\n\n<pre><code>interface ParentState { name: string; }\n</code></pre>\n\n<p>I have created a component with state of above mentioned type:</p>\n\n<pre><code>class Test extends React.Component&lt;{}, ParentState&gt; {\n  constructor(props: any) {\n    super(props);\n\n    // Works fine!\n    this.state = { name: '' };\n  }\n}\n</code></pre>\n\n<p>This is working as expected. However, If I create a parent and a child component, where the child component inherits from parent and child state inherits from parent state, the state in parent becomes readonly.</p>\n\n<pre><code>interface ChildState extends ParentState {}\n\nclass Parent&lt;P, S extends ParentState&gt; extends React.Component&lt;P, S&gt; {\n  constructor(props: P) {\n    super(props);\n\n    this.state = { name: '' };\n    ^^^^^^^^^^\n    // Compilation error!\n    // TS2322: Type '{}' is not assignable to type 'Readonly&lt;S&gt;'.\n  }\n\n  render() {\n    return &lt;div&gt;parent&lt;/div&gt;;\n  }\n}\n\nclass Child extends Parent&lt;{}, ChildState&gt; {\n  constructor(props: ChildProps) {\n  super(props);\n\n    // Works fine!\n    this.state = { name: '' };\n  }\n\n  render() {\n    return &lt;div&gt;child&lt;/div&gt;;\n  }\n}\n</code></pre>\n\n<p>Can someone explain this behaviour.</p>\n\n<p>P.S. </p>\n\n<p>I have a couple more of questions.</p>\n\n<ol>\n<li><p>Also, in React library, when I open the index.d.ts file, the <strong>state</strong> is actually <strong>readonly</strong>. How is this working in the class Test mentioned earlier?</p></li>\n<li><p>If I do not mention type for props in constructor in Test class, there is a compilation error saying</p>\n\n<pre><code>TS7006: Parameter 'props' implicitly has an 'any' type.\n</code></pre>\n\n<p>Why doesn't it take type <code>{}</code> mentioned in the class definition?</p></li>\n</ol>\n"}, {"tags": ["angular", "typescript", "type-conversion"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 9963247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4iEY7sLCCYk/AAAAAAAAAAI/AAAAAAAAAbY/p7XphZoN3F8/photo.jpg?sz=128", "display_name": "Yoel Rodriguez", "link": "https://stackoverflow.com/users/9963247/yoel-rodriguez"}, "is_accepted": false, "score": 1, "last_activity_date": 1539795748, "creation_date": 1539795748, "answer_id": 52860128, "question_id": 52859731, "link": "https://stackoverflow.com/questions/52859731/displaying-angular-2-inputs-as-strings/52860128#52860128", "title": "Displaying angular 2 inputs as strings", "body": "<p>You can use <code>pipe</code> and <code>regex</code> to separate the input number three by three and set the corresponding character.</p>\n\n<p>pipe</p>\n\n<pre><code>transform(value: number, format: string): string {\n    return (+value || 0).toFixed(2)\n      .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,')\n      .replace(/(?=((,\\d{3}){2}))/, '*')\n      .replace('*,', \"'\");\n  }\n</code></pre>\n\n<p>input <strong>1000000</strong></p>\n\n<p>output <strong>1'000,000.00</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-pipe-amount\" rel=\"nofollow noreferrer\">Example</a></p>\n"}], "owner": {"reputation": 105, "user_id": 8346511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822048f31e3d43642addda05bffef0ce?s=128&d=identicon&r=PG&f=1", "display_name": "reusablePants", "link": "https://stackoverflow.com/users/8346511/reusablepants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1539795748, "creation_date": 1539794297, "question_id": 52859731, "link": "https://stackoverflow.com/questions/52859731/displaying-angular-2-inputs-as-strings", "title": "Displaying angular 2 inputs as strings", "body": "<p>I am working on a project that uses angular 2 and a having an issue. The client wants the numbers that they enter on the input tags to be displayed as strings with commas and decimals. Because we are sending and getting this data from a database they are stored as numbers. For readability they want them displayed with commas but I cannot actually change the value to a string since that will cause issues with back end calculations. For this reason I think that using angular pipes will not work because this will convert the number to a string. I am also looping through large amounts of data so this is not a few numbers that I can just convert and call it good. I need a more global solution. Any suggestions on how to accomplish this would be greatly appreciated.</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-router"], "comments": [{"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1539793397, "post_id": 52859400, "comment_id": 92633642, "body": "What is <code>this.tabChangingService.tab</code> ?"}, {"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "reply_to_user": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1539793796, "post_id": 52859400, "comment_id": 92633863, "body": "I added the code of the service, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1539802746, "post_id": 52860464, "comment_id": 92638146, "body": "Ok, I&#39;ll try it soon. Thank you so much for helping :)"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1539803678, "post_id": 52860464, "comment_id": 92638546, "body": "Did you increase the timeout duration and tested ?"}, {"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1539803745, "post_id": 52860464, "comment_id": 92638570, "body": "Yes, I did, I increased to 500. That&#39;s the maximum I can set."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1539805967, "post_id": 52860464, "comment_id": 92639586, "body": "GIve a try <code>NgZone</code>.  ` this.ngZone.run(() =&gt; {           this.router.navigateByUrl(&#39;/path&#39;);         });`"}, {"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1539806578, "post_id": 52860464, "comment_id": 92639860, "body": "Ok, thanks in advance, I&#39;ll try as soon as I&#39;m done with something else. Thanks"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1539797038, "creation_date": 1539797038, "answer_id": 52860464, "question_id": 52859400, "link": "https://stackoverflow.com/questions/52859400/ngoninit-not-subscribing-to-event-observable/52860464#52860464", "title": "ngOnInit not subscribing to event observable", "body": "<h2>Try setTimeout</h2>\n\n<pre><code>ngOnInit() {\n  this.tabChangingService.tab.pipe(\n   tap(tab =&gt; {\n      setTimeout(()=&gt;{   \n        this.tab = tab\n      }, 1);\n   })\n  ).subscribe();\n}\n</code></pre>\n\n<blockquote>\n  <p>Just increase the timeout duration to check if it is Component initialization issue.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1539894308, "post_id": 52881958, "comment_id": 92677543, "body": "Ok, I&#39;ll try that soon. Thank you so much"}], "tags": [], "owner": {"reputation": 83, "user_id": 5115563, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jlI2XMnQ_ps/AAAAAAAAAAI/AAAAAAAAABM/BquX7TU7duo/photo.jpg?sz=128", "display_name": "reddevilzee", "link": "https://stackoverflow.com/users/5115563/reddevilzee"}, "is_accepted": false, "score": 0, "last_activity_date": 1539894122, "creation_date": 1539894122, "answer_id": 52881958, "question_id": 52859400, "link": "https://stackoverflow.com/questions/52859400/ngoninit-not-subscribing-to-event-observable/52881958#52881958", "title": "ngOnInit not subscribing to event observable", "body": "<p>in your tab changing service add this..</p>\n\n<pre><code>private _tab = new Subject&lt;number&gt;();\ntabChanged = this._tab.asObservable();\n</code></pre>\n\n<p>and in your ngOnInit(), add this..</p>\n\n<pre><code>ngOnInit() {\n this.tabChangingService.tabChanged.subscribe(\n   // add your code here.\n );\n</code></pre>\n\n<p>You have not mentioned if those components have any kind of relationship between them. but that should not matter since you have a service. You forgot to initialize your variable to Observable.</p>\n\n<p>I have showed in the code of what I have understood about Observables and Subject interactions. Please correct me if am wrong in the words that I have written above.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "is_accepted": false, "score": 0, "last_activity_date": 1539959981, "creation_date": 1539959981, "answer_id": 52894659, "question_id": 52859400, "link": "https://stackoverflow.com/questions/52859400/ngoninit-not-subscribing-to-event-observable/52894659#52894659", "title": "ngOnInit not subscribing to event observable", "body": "<p>I ended up solving the problem with a <code>setTimeout</code> like Sunil suggested. But, the <code>setTimeout</code> was not used in the <code>TabsComponent</code> but in the <code>HeaderComponent</code> at the moment of emitting the selected value, like this:  </p>\n\n<pre><code>click(tab: number) {\n setTimeout(() =&gt; {\n    this.tabChangingService.changeTab(tab);\n   },\n   500\n )\n // rest of the code\n}\n</code></pre>\n\n<p>Thanks to every one for the help :D</p>\n"}], "owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1539959981, "creation_date": 1539793103, "last_edit_date": 1539803949, "question_id": 52859400, "link": "https://stackoverflow.com/questions/52859400/ngoninit-not-subscribing-to-event-observable", "title": "ngOnInit not subscribing to event observable", "body": "<p>I'm dealing with a problem I've not been able to solve so far.<br>\nThe thing is. I have a component called <code>HeaderComponent</code>, a service called <code>TabChangingService</code> and another component called <code>TabsComponent</code>. In the <code>HeaderComponent</code> I've got three buttons and each of these buttons have the following click method.  </p>\n\n<pre><code>click(tab: number) {\n    this.tabChangingService.changeTab(tab);\n    this.router.navigate(['/tabs'])\n}\n</code></pre>\n\n<p>And, in the <code>ngOnInit</code> method of <code>TabsComponent</code> is the following:</p>\n\n<pre><code>ngOnInit() {\n  this.tabChangingService.tab.pipe(\n   tap(tab =&gt; this.tab = tab),\n   tap(tab =&gt; console.log('setting tab ', tab) // added this linte\n  ).subscribe();\n}\n</code></pre>\n\n<p>And in the template I have the following code:</p>\n\n<pre><code>&lt;ng-container [ngSwitch]=\"tab\"&gt;\n  &lt;div id=\"tab1\" *ngSwitchCase=\"0\"&gt;content...&lt;/div&gt;\n  &lt;div id=\"tab2\" *ngSwitchCase=\"1\"&gt;content...&lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>The code of the service is the following:</p>\n\n<pre><code>export class TabChangingService {\n\n  private _tab = new Subject&lt;number&gt;();\n\n  constructor() {\n\n  }\n\n  public changeTab(tab: number) {\n    console.log('Changing to tab ', tab); // added this line\n    this._tab.next(tab);\n  }\n\n  public get tab() {\n    return this._tab;\n  }\n\n}\n</code></pre>\n\n<p>But when I click one of the buttons of the header component, the tab does not get selected. Only after I click a second time the tab gets selected. As you could notice, the tabs component is in another route, and I don't know this is happening because the component doesn't get mounted the moment I click the button for the first time or something, but I hope you can help me. Thanks in advance, really appreciate your help.</p>\n\n<p><strong>EDIT</strong><br>\nWhen I click one of the buttons on the header for first time, <code>Changing tab</code> is printed, however, <code>Setting tab</code> doesn't. <code>Setting tab</code> isn't printed until I click the second time.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1539792271, "post_id": 52859133, "comment_id": 92633029, "body": "<a href=\"https://momentjs.com/docs/#/parsing/string-format/\" rel=\"nofollow noreferrer\">momentjs.com/docs/#/parsing/string-format</a>. But I really wonder why you have dates in such a format in the first place. Where does that string come from? Why doesn&#39;t this source use the ISO format?"}, {"owner": {"reputation": 2795, "user_id": 299138, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8fbb4f1463f73154a35ad91312feb76?s=128&d=identicon&r=PG", "display_name": "DarkW1nter", "link": "https://stackoverflow.com/users/299138/darkw1nter"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1539792353, "post_id": 52859133, "comment_id": 92633057, "body": "just what I need, thanks"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1539792769, "post_id": 52859133, "comment_id": 92633292, "body": "<a href=\"https://stackoverflow.com/a/45330707/495157\">stackoverflow.com/a/45330707/495157</a> <a href=\"https://angular.io/api/common/DatePipe\" rel=\"nofollow noreferrer\">angular.io/api/common/DatePipe</a>"}, {"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1539792860, "post_id": 52859133, "comment_id": 92633350, "body": "Be aware, adding moment.js in Angular adds a ton of weight to your application. If all you need to do is create a Date object from this string, I would consider simply breaking the string apart and creating the date object that way."}], "owner": {"reputation": 2795, "user_id": 299138, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8fbb4f1463f73154a35ad91312feb76?s=128&d=identicon&r=PG", "display_name": "DarkW1nter", "link": "https://stackoverflow.com/users/299138/darkw1nter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 864, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539801273, "creation_date": 1539792162, "question_id": 52859133, "link": "https://stackoverflow.com/questions/52859133/angular-typescript-converting-string-to-date-for-comparison", "title": "Angular Typescript - converting string to date for comparison", "body": "<p>If I have 2 strings in Typescript containing dates in this format</p>\n\n<p>\"17 October 2018 10:05 AM\"</p>\n\n<p>How can I convert them to Date types so I can compare them?</p>\n\n<p>I had tried <code>new Date(stringDate1)</code> and <code>moment(stringDate1)</code> but they result in invalid dates obviously.</p>\n"}, {"tags": ["reactjs", "typescript", "redirect", "react-router"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1539852627, "post_id": 52859415, "comment_id": 92654200, "body": "I need to be able to redirect programmatically"}, {"owner": {"reputation": 291, "user_id": 9306511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779bb77348e912536ccf37aecaf3fcc5?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/9306511/luket"}, "reply_to_user": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1539876501, "post_id": 52859415, "comment_id": 92668523, "body": "@ChenChi I understand what you&#39;re saying - but what I propose <i>is</i> navigating programmatically.  The Redirect component doesn&#39;t display anything - and it&#39;s not exposed to the render() method unless the state boolean changes.  You can choose to <code>&lt;Redirect to=&quot;&#47;path&quot; push &#47;&gt;</code> if you want to push instead of replace in the history module.  It covers your needs.  Another use case is if inside the <code>{ this.state.sendToNextPage &amp;&amp; this.customFunction() }</code> in that function you could return a &lt;Redirect /&gt; component with all the information you need in the props."}, {"owner": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1539931317, "post_id": 52859415, "comment_id": 92687008, "body": "I tried it but it still doesn&#39;t re-instantiate the component as  I want it too... seems like I might need redux for this"}, {"owner": {"reputation": 291, "user_id": 9306511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779bb77348e912536ccf37aecaf3fcc5?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/9306511/luket"}, "reply_to_user": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 1, "creation_date": 1539967658, "post_id": 52859415, "comment_id": 92705882, "body": "Ok, so again I apologize that I&#39;m not too Typescript savvy - but a couple things I noticed that may help out: 1. Your fetch function I don&#39;t believe should be in your constructor (parent) - it should be in componentDidMount() (see React docs). 2. I noticed that you call a function after setting state in showModal().  I&#39;m not sure what this.forceUpdate() is doing - but keep in mind that this function will get called BEFORE the state has returned updated.  If you would like this function to be called AFTER the state returns updated - place it inside the callback <code>this.setState({}, ()=&gt; fnc())</code>"}, {"owner": {"reputation": 291, "user_id": 9306511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779bb77348e912536ccf37aecaf3fcc5?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/9306511/luket"}, "reply_to_user": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 1, "creation_date": 1539968281, "post_id": 52859415, "comment_id": 92706154, "body": "Events in React are synthentic events, so unlike JQuery, the e.preventDefault() is unnecessary (the synthetic event object has a lot of useful date for you to leverage as well so definitely become familiar with that). Finally, (and I hope I&#39;m understanding your issue correctly) I&#39;m not convinced this is a routing issue - I believe you may have an issue &quot;lifting state&quot; (see React docs) and also, anything defined in constructor will not re-render based on state/props changes, but if you have &quot;componentDidMount&quot; logic - this WILL re-render for state/props changes.  Check out &quot;component lifecycle&quot;"}, {"owner": {"reputation": 291, "user_id": 9306511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779bb77348e912536ccf37aecaf3fcc5?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/9306511/luket"}, "reply_to_user": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 1, "creation_date": 1539968451, "post_id": 52859415, "comment_id": 92706233, "body": "To sum it up - if you need your parent component to re-render based on state changes in the child - you either need to pass a function to the child, that the child can call to make changes to the parent (triggering an update to the parent) OR you need a render prop from the child (part of &quot;lifting state&quot;) that signals to the parent what to display based on the child&#39;s state.  I do hope I helped some, and please let me know if you have any questions."}, {"owner": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1540213335, "post_id": 52859415, "comment_id": 92769136, "body": "Thanks for the comments I figured it out now, I had couple mistakes now I extracted fetch into fetchData method and I think the bug was that I didn&#39;t put my code inside then function... I will update my answer with the code"}, {"owner": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1540213413, "post_id": 52859415, "comment_id": 92769181, "body": "I called the fetchData function from child now it works fine but I wasn&#39;t calling it in then at first so it didn&#39;t work xD I am n00b with javascript thank you for help"}, {"owner": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1540218844, "post_id": 52859415, "comment_id": 92772863, "body": "I accepted your answer because it answers original question but as you said my problem wasn&#39;t in redirecting..."}, {"owner": {"reputation": 291, "user_id": 9306511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779bb77348e912536ccf37aecaf3fcc5?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/9306511/luket"}, "reply_to_user": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "edited": false, "score": 0, "creation_date": 1540305532, "post_id": 52859415, "comment_id": 92811367, "body": "Glad I could help, and glad you got it working!  Thanks."}], "tags": [], "owner": {"reputation": 291, "user_id": 9306511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779bb77348e912536ccf37aecaf3fcc5?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/9306511/luket"}, "is_accepted": true, "score": 2, "last_activity_date": 1539793442, "last_edit_date": 1539793442, "creation_date": 1539793137, "answer_id": 52859415, "question_id": 52859090, "link": "https://stackoverflow.com/questions/52859090/how-to-redirect-to-parent-component/52859415#52859415", "title": "How to redirect to parent component", "body": "<p>My favorite way to re-route in React is to leverage the react-router-dom capabilities (I see you are already using that module).  A simple example is the following (example in JS, but you'll get the idea):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { Fragment } from 'react;\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass ReRoute extends React.Component {\r\n  state = {\r\n    ...yourState,\r\n    sendToNextPage: false\r\n  }\r\n  \r\n  sendToNext = () =&gt; this.setState({ sendToNextPage: true })\r\n  \r\n  render() {\r\n    return (\r\n      &lt;Fragment&gt;\r\n        &lt;h1&gt;Your Content....&lt;/h1&gt;\r\n        &lt;button onClick={this.sendToNext}&gt;Button to navigate&lt;/button&gt;\r\n\r\n        {this.state.sendToNextPage &amp;&amp;\r\n          &lt;Redirect to='/path-to-next-page' /&gt;\r\n        }\r\n      &lt;/Fragment&gt;\r\n    )\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There's lots of options surrounding the virtual routing in React, but the above is my favorite because there are several ways to return a  component into your render - which will prompt the redirect.  To me - having that controlled in the state via a boolean is very clear (for yourself and others) on what triggers the redirect, and I'm a fan of the additional capabilities of the Redirect component (see <a href=\"https://reacttraining.com/react-router/core/api/Redirect\" rel=\"nofollow noreferrer\">this</a>)</p>\n"}], "owner": {"reputation": 752, "user_id": 3177532, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dZcQS.jpg?s=128&g=1", "display_name": "solujic", "link": "https://stackoverflow.com/users/3177532/solujic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1951, "favorite_count": 0, "accepted_answer_id": 52859415, "answer_count": 1, "score": 0, "last_activity_date": 1539793442, "creation_date": 1539791994, "question_id": 52859090, "link": "https://stackoverflow.com/questions/52859090/how-to-redirect-to-parent-component", "title": "How to redirect to parent component", "body": "<p>Hi I'm trying to make a simple CRUD example using React.Js and typescript...</p>\n\n<p>I have the following component hierarchy:</p>\n\n<pre><code>-FetchNaselje\n--Modal\n---AddNaselje\n</code></pre>\n\n<p>AddNaselje is a child of Modal and Modal is child of FetchNaselje, I'm trying to re-render or forcefully update FetchNaselje everytime somebody submits/saves <strong>form</strong> from AddNaselje but I'm having hard time doing that.</p>\n\n<p>I tired passing history of parent and calling it in child like: this.props.history.push(\"/fetchnaselje\"); but nothing happens</p>\n\n<p>this is my routes.tsx file:</p>\n\n<pre><code>import * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport { Layout } from './components/Layout';\nimport { Home } from './components/Home';\n\nimport { FetchNaselje } from './components/FetchNaselje';\nimport { AddNaselje } from './components/AddNaselje'; \n\nexport const routes = &lt;Layout&gt;\n    &lt;Route exact path='/' component={Home} /&gt;\n    &lt;Route path='/fetchnaselje' component={FetchNaselje} /&gt;\n    &lt;Route path='/addnaselje(/:nasid)' component={AddNaselje} /&gt;\n    &lt;Route path='/naselje/edit(/:nasid)' component={AddNaselje} /&gt;\n&lt;/Layout&gt;;\n</code></pre>\n\n<p>This is my parent component code:</p>\n\n<pre><code>import * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { Link, NavLink } from 'react-router-dom';\nimport { AddNaselje } from './AddNaselje';\nimport { Modal } from './Modal/Modal';\n\ninterface FetchNaseljeDataState {\n    nasList: NaseljeData[];\n    loading: boolean;\n    showModal: boolean\n    nas_id: number;\n}\n\nexport class FetchNaselje extends React.Component&lt;RouteComponentProps&lt;{}&gt;, FetchNaseljeDataState&gt; {\n    constructor() {\n        super();\n        this.state = { nasList: [], loading: true, showModal: false, nas_id: -1 };\n        fetch('api/Naselje/Index')\n            .then(response =&gt; response.json() as Promise&lt;NaseljeData[]&gt;)\n            .then(data =&gt; {\n                this.setState({ nasList: data, loading: false });\n            });\n        // This binding is necessary to make \"this\" work in the callback  \n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n    }\n\n    public render() {\n        let contents = this.state.loading\n            ? &lt;p&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;\n            : this.renderNaseljeTable(this.state.nasList);\n        return &lt;div&gt;\n            &lt;h1&gt;Naselje Data&lt;/h1&gt;\n            &lt;div&gt;This component demonstrates fetching Naselje data from the server.&lt;/div&gt;\n            &lt;div&gt;\n                &lt;Link to=\"/addnaselje\"&gt;Create New&lt;/Link&gt;&lt;br /&gt;&lt;br /&gt;\n                &lt;button type=\"button\" onClick={this.showModal} className=\"btn\"&gt;\n                    Show Modal\n                &lt;/button&gt;\n                &lt;Modal\n                    show={this.state.showModal}&gt;\n                    &lt;AddNaselje history={this.props.history} parent={this} /&gt;\n                &lt;/Modal&gt;\n            &lt;/div&gt;\n            {contents}\n        &lt;/div&gt;;\n    }\n\n    showModal = () =&gt; {\n        this.setState({\n            ... this.state,\n            showModal: !this.state.showModal\n        });\n        this.forceUpdate();\n    };\n\n    // Handle Delete request for an naselje  \n    private handleDelete(id: number) {\n        if (!confirm(\"Do you want to delete naselje with Id: \" + id))\n            return;\n        else {\n            fetch('api/Naselje/Delete/' + id, {\n                method: 'delete'\n            }).then(data =&gt; {\n                this.setState(\n                    {\n                        nasList: this.state.nasList.filter((rec) =&gt; {\n                            return (rec.idnaselje != id);\n                        })\n                    });\n            });\n        }\n    }\n    private handleEdit(id: number) {\n        //this.props.history.push(\"/naselje/edit/\" + id);\n    }\n\n    // Returns the HTML table to the render() method.  \n    private renderNaseljeTable(naseljeList: NaseljeData[]) {\n        return &lt;table className='table'&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                    &lt;th&gt;ID Naselje&lt;/th&gt;\n                    &lt;th&gt;Naziv&lt;/th&gt;\n                    &lt;th&gt;Postanski Broj&lt;/th&gt;\n                    &lt;th&gt;Drzava&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                {naseljeList.map(nas =&gt;\n                    &lt;tr key={nas.idnaselje}&gt;\n                        &lt;td&gt;&lt;/td&gt;\n                        &lt;td&gt;{nas.idnaselje}&lt;/td&gt;\n                        &lt;td&gt;{nas.naziv}&lt;/td&gt;\n                        &lt;td&gt;{nas.postanskiBroj}&lt;/td&gt;\n                        &lt;td&gt;{nas.drzava &amp;&amp; nas.drzava.naziv}&lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a className=\"action\" onClick={(id) =&gt; this.handleEdit(nas.idnaselje)}&gt;Edit&lt;/a&gt;  |\n                            &lt;a className=\"action\" onClick={(id) =&gt; this.handleDelete(nas.idnaselje)}&gt;Delete&lt;/a&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                )}\n            &lt;/tbody&gt;\n        &lt;/table&gt;;\n    }\n}\nexport class NaseljeData {\n    idnaselje: number = 0;\n    naziv: string = \"\";\n    postanskiBroj: string = \"\";\n    drzava: DrzavaData = { iddrzava: 0, naziv: \"\"};\n    drzavaid: number = 0;\n}\n\nexport class DrzavaData {\n    iddrzava: number = 0;\n    naziv: string = \"\";\n}\n</code></pre>\n\n<p>My modal component is like a wrapper with styles set for showing modal window:</p>\n\n<pre><code>import * as React from 'react';\nconst style = require('./style.css');\n\ninterface ModaleDataState {\n    show: boolean;\n}\n\nexport class Modal extends React.Component&lt;any, ModaleDataState&gt; {\n    render() {\n\n        if (!this.props.show) {\n            return null;\n        }\n\n        return &lt;div className=\"modal-background\"&gt;\n            &lt;div className=\"modal-main\"&gt;\n                {this.props.children}\n            &lt;/div&gt;\n       &lt;/div&gt;\n    }\n}\n</code></pre>\n\n<p>And finally the child component:</p>\n\n<pre><code>import * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { Link, NavLink } from 'react-router-dom';\nimport { NaseljeData } from './FetchNaselje';\nimport { DrzavaData } from './FetchNaselje';\n\ninterface AddNaseljeDataState {\n    title: string;\n    loading: boolean;\n    drzavaList: Array&lt;any&gt;;\n    nasData: NaseljeData;\n    drzavaId: number;\n}\n\nexport class AddNaselje extends React.Component&lt;any, AddNaseljeDataState&gt; {\n    constructor(props) {\n        super(props);\n\n        this.state = { title: \"\", loading: true, drzavaList: [], nasData: new NaseljeData, drzavaId: -1 };\n        fetch('api/Naselje/GetDrzavaList')\n            .then(response =&gt; response.json() as Promise&lt;Array&lt;any&gt;&gt;)\n            .then(data =&gt; {\n                this.setState({ drzavaList: data });\n            });\n\n        var nasid = -1;\n        if (this.props.match) {\n            nasid = this.props.match.params[\"nasid\"];\n        }\n\n        // This will set state for Edit naselje  \n        if (nasid &gt; 0) {\n            fetch('api/Naselje/Details/' + nasid)\n                .then(response =&gt; response.json() as Promise&lt;NaseljeData&gt;)\n                .then(data =&gt; {\n                    this.setState({ title: \"Edit\", loading: false, nasData: data });\n                });\n        }\n        // This will set state for Add naselje  \n        else {\n            this.state = { title: \"Create\", loading: false, drzavaList: [], nasData: new NaseljeData, drzavaId: -1 };\n        }\n        // This binding is necessary to make \"this\" work in the callback  \n        this.handleSave = this.handleSave.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n    }\n\n    public render() {\n        let contents = this.state.loading\n            ? &lt;p&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;\n            : this.renderCreateForm(this.state.drzavaList);\n        return &lt;div&gt;\n            &lt;h1&gt;{this.state.title}&lt;/h1&gt;\n            &lt;h3&gt;Naselje&lt;/h3&gt;\n            &lt;hr /&gt;\n            {contents}\n        &lt;/div&gt;;\n    }\n\n    // This will handle the submit form event.  \n    private handleSave(event) {\n\n        event.preventDefault();\n        const data = new FormData(event.target);\n        // PUT request for Edit naselje.  \n        if (this.state.nasData.idnaselje) {\n            fetch('api/Naselje/Edit', {\n                method: 'PUT',\n                body: data,\n            }).then((response) =&gt; response.json())\n                .then((responseJson) =&gt; {\n                    this.props.history.push(\"/fetchnaselje\");\n                })\n        }\n        // POST request for Add naselje.  \n        else {\n            fetch('api/Naselje/Create', {\n                method: 'POST',\n                body: data,\n            }).then((response) =&gt; response.json())\n                .then((responseJson) =&gt; {\n                    this.props.history.push(\"/fetchnaselje\");\n                })\n        }\n        this.props.parent.showModal();\n        window.location.reload()\n    }\n\n    // This will handle Cancel button click event.  \n    private handleCancel(e) {\n        e.preventDefault();\n        //this.props.parent.showModal();\n        this.props.history.push(\"/fetchnaselje\");\n        //this.props.parent.forceUpdate();\n    }\n\n    // Returns the HTML Form to the render() method.  \n    private renderCreateForm(drzavaList: Array&lt;any&gt;) {\n        return (\n            &lt;form onSubmit={this.handleSave} &gt;\n                &lt;div className=\"form-group row\" &gt;\n                    &lt;input type=\"hidden\" name=\"idnaselje\" value={this.state.nasData.idnaselje} /&gt;\n                &lt;/div&gt;\n                &lt; div className=\"form-group row\" &gt;\n                    &lt;label className=\" control-label col-md-12\" htmlFor=\"Naziv\"&gt;Naziv&lt;/label&gt;\n                    &lt;div className=\"col-md-4\"&gt;\n                        &lt;input className=\"form-control\" type=\"text\" name=\"naziv\" defaultValue={this.state.nasData.naziv} required /&gt;\n                    &lt;/div&gt;\n                &lt;/div &gt;\n                &lt;div className=\"form-group row\"&gt;\n                    &lt;label className=\"control-label col-md-12\" htmlFor=\"PostanskiBroj\" &gt;Postanski broj&lt;/label&gt;\n                    &lt;div className=\"col-md-4\"&gt;\n                        &lt;input className=\"form-control\" name=\"PostanskiBroj\" defaultValue={this.state.nasData.postanskiBroj} required /&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div className=\"form-group row\"&gt;\n                    &lt;label className=\"control-label col-md-12\" htmlFor=\"Drzava\"&gt;Dr\u017eava&lt;/label&gt;\n                    &lt;div className=\"col-md-4\"&gt;\n                        &lt;select className=\"form-control\" data-val=\"true\" name=\"drzavaid\" defaultValue={this.state.nasData.drzava ? this.state.nasData.drzava.naziv : \"\"} required&gt;\n                            &lt;option value=\"\"&gt;-- Odaberite Dr\u017eavu --&lt;/option&gt;\n                            {drzavaList.map(drzava =&gt;\n                                &lt;option key={drzava.iddrzava} value={drzava.iddrzava}&gt;{drzava.naziv}&lt;/option&gt;\n                            )}\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n                &lt;/div &gt;\n                &lt;div className=\"form-group\"&gt;\n                    &lt;button type=\"submit\" className=\"btn btn-default\"&gt;Save&lt;/button&gt;&amp;nbsp;\n                    &lt;button className=\"btn\" onClick={this.handleCancel}&gt;Cancel&lt;/button&gt;\n                &lt;/div &gt;\n            &lt;/form &gt;\n        )\n    }\n}\n</code></pre>\n\n<p>This props history push doesn't throw any error but it doesn't re render my parent component.</p>\n\n<p>I'm not sure what's the best approach here... please take in consideration that I don't have too much experience in react so I would appreciate if your try to explain the best approach in complete manner not just a short answer... thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1539793356, "post_id": 52858903, "comment_id": 92633618, "body": "You need to get to grips with the css class names assigned to the elements during stages of validation and tweak appropriate CSS. Use Chrome -&gt; Inspect -&gt; Styles/Computed"}, {"owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "reply_to_user": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1539795088, "post_id": 52858903, "comment_id": 92634482, "body": "Nope, this is supposed to be something that&#39;s built in the Ionic framework, but it&#39;s just not working, and this problem has multiple issues open on Github and multiple threads in the Ionic forum."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1539799079, "post_id": 52858903, "comment_id": 92636365, "body": "Well - I know this to be the case because I wrote a dual themed ionic app, and fixed that for a dark and a light theme. There are things like this too. <a href=\"https://ionicframework.com/docs/theming/theming-your-app/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/theming/theming-your-app</a> <a href=\"https://ionicframework.com/docs/theming/overriding-ionic-variables/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/theming/overriding-ionic-variables</a> - but if you get to the level of granularity this question poses you do need to know the stuff I mentioned."}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 8864026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CECps.png?s=128&g=1", "display_name": "Danel Ceresa", "link": "https://stackoverflow.com/users/8864026/danel-ceresa"}, "is_accepted": false, "score": 1, "last_activity_date": 1539793107, "creation_date": 1539793107, "answer_id": 52859402, "question_id": 52858903, "link": "https://stackoverflow.com/questions/52858903/form-input-status-color-not-changing/52859402#52859402", "title": "Form input status color not changing", "body": "<p>There seems to be some kind of issue with ion-items and validations. I had the same problem. Other's have asked too and as for Ionic 3 there was no response.</p>\n\n<p>Similar issues:</p>\n\n<p><a href=\"https://github.com/ionic-team/ionic/issues/12344\" rel=\"nofollow noreferrer\">https://github.com/ionic-team/ionic/issues/12344</a></p>\n\n<p><a href=\"https://github.com/ionic-team/ionic/issues/12102\" rel=\"nofollow noreferrer\">https://github.com/ionic-team/ionic/issues/12102</a></p>\n"}, {"tags": [], "owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "is_accepted": true, "score": 2, "last_activity_date": 1539794476, "creation_date": 1539794476, "answer_id": 52859774, "question_id": 52858903, "link": "https://stackoverflow.com/questions/52858903/form-input-status-color-not-changing/52859774#52859774", "title": "Form input status color not changing", "body": "<p>Crazy! The answer is to bind the built-in classes manually to the ion-items:</p>\n\n<pre><code>&lt;ion-item [class.ng-invalid]=\"!thisForm.controls.smallerValue.valid\" [class.ng-valid]=\"thisForm.controls.smallerValue.valid\"&gt;\n</code></pre>\n\n<p>Credit for this answer goes to brianlittmann in this github issue:</p>\n\n<p><a href=\"https://github.com/ionic-team/ionic/issues/6040#issuecomment-315037781\" rel=\"nofollow noreferrer\">https://github.com/ionic-team/ionic/issues/6040#issuecomment-315037781</a></p>\n\n<p>Working stackblitz:\n<a href=\"https://stackblitz.com/edit/ionic-ctmumh?file=pages/home/home.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-ctmumh?file=pages/home/home.html</a></p>\n"}], "owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 2, "accepted_answer_id": 52859774, "answer_count": 2, "score": 2, "last_activity_date": 1539794476, "creation_date": 1539791397, "last_edit_date": 1539793354, "question_id": 52858903, "link": "https://stackoverflow.com/questions/52858903/form-input-status-color-not-changing", "title": "Form input status color not changing", "body": "<p>In one of my projects I have a scenario where I need to mark a field correct or incorrect depending on another field. I have created an example to be able to ask a question like this here. </p>\n\n<p>The main problem: I'm unable to change the status color of an input by changing the value of ANOTHER input.</p>\n\n<p>For better understanding of the issue I will try to explain by images:\nStep one - I have written a bigger number in the Smaller Value input and blurred it and it shows an error which is expected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/k6SUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6SUQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step two - I have written a bigger number in the Bigger Number input and blurred it, so I expect the SMaller Value input to be green, but it stays red:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zprUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zprUl.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I'd like to achieve is: \nWhenever the smaller value is bigger, it's input is colored red, and whenever the smaller value is smaller, its input is colored green.</p>\n\n<p>And it works when I change the value of Smaller Value and blur the input. However, for example, when I write a smaller number in the Bigger Number input and blur it, the Smaller Value input does not get colored red if it was green before.</p>\n\n<p>This is my form and validator function:</p>\n\n<pre><code>   this.thisForm = new FormGroup({\n      smallerValue: new FormControl('', [\n        this.validateSuccessShortName.bind(this)\n      ]),\n      biggerNumber:new FormControl('', [\n        Validators.required\n      ])\n    });\n  }\n  validateSuccessShortName(control: AbstractControl) {\n      if (parseInt(control.value,10) &gt; parseInt(this.biggerNumber, 10)) {\n        return {value: control.value};\n      }\n      return null;\n    }\n</code></pre>\n\n<p>I have written this function to attempt to trigger validation manually, and it does trigger the validation, it's just that the Bigger Number input is unable to change the validation status of the smaller input:</p>\n\n<pre><code>updateFields(){\n  for (const field in this.thisForm.controls) {\n  this.thisForm.controls[field].updateValueAndValidity();\n}\n}\n</code></pre>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/ionic-tqp9o1?file=pages%2Fhome%2Fhome.ts\" rel=\"nofollow noreferrer\"><strong><em>STACKBLITZ</em></strong></a> that showcases the issue.</p>\n\n<p>If you need any more details, please let me know!</p>\n"}, {"tags": ["angular", "typescript", "interface"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539791918, "post_id": 52858782, "comment_id": 92632847, "body": "Not sure what the problem is, if I write <code>new Family(&quot;&quot;)</code> the new object will have a members member taht will contain a single person with the name <code>&quot;John&quot;</code>. What is the problem ?"}], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 4459724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dba90a792b945f20e151eca3fe8b1fa2?s=128&d=identicon&r=PG&f=1", "display_name": "bob look", "link": "https://stackoverflow.com/users/4459724/bob-look"}, "is_accepted": false, "score": 0, "last_activity_date": 1539791422, "creation_date": 1539791422, "answer_id": 52858914, "question_id": 52858782, "link": "https://stackoverflow.com/questions/52858782/interface-how-to-define-default-value/52858914#52858914", "title": "interface, how to define default value", "body": "<p>I am pretty unfamiliar with typescript angularJS syntax, but shouldn't you be creating an array of the Person class instead of the IPerson interface like this:</p>\n\n<pre><code>export class Family {\n constructor(public address: string,\n         public members: Person[] = [new Person()]) {\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1539791455, "creation_date": 1539791455, "answer_id": 52858925, "question_id": 52858782, "link": "https://stackoverflow.com/questions/52858782/interface-how-to-define-default-value/52858925#52858925", "title": "interface, how to define default value", "body": "<p>Typescript is a tool to define <strong>types of values</strong>, not the <strong>values themselves</strong>.\nYou can't define the value as an interface.</p>\n\n<p>What you can do, is to set a default value of a <code>Person</code> class:</p>\n\n<pre><code>class Person implements IPerson {\n   constructor(private id='', private name= 'John') {\n   }\n}\n</code></pre>\n\n<p>So, whenever you are invoking the constructor with <code>new Person()</code> it will create an instance with the default values.</p>\n"}, {"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1539792454, "last_edit_date": 1539792454, "creation_date": 1539792132, "answer_id": 52859125, "question_id": 52858782, "link": "https://stackoverflow.com/questions/52858782/interface-how-to-define-default-value/52859125#52859125", "title": "interface, how to define default value", "body": "<p>Type Script follows the <code>OOPS</code> concept. So whatever a <code>OOPS</code> <code>language</code> does, you can do pretty much the same. As long as <code>inheritance</code> and <code>variable</code> <code>initialization</code> is concern, I don't see any issue in your implementation. It should work as expected.</p>\n\n<p>You can see the working copy here - <a href=\"https://stackblitz.com/edit/angular-dbb7ij\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-dbb7ij</a></p>\n\n<blockquote>\n  <p>Note\n  Your class <code>Family</code> has the 2 <code>parameters</code>. The <code>first</code> one is <code>address</code> which is <code>required</code> field since you did not provide any <code>default</code> value. Second <code>parameter</code> is <code>Users array</code> and it is <code>optional</code> since <code>default</code> value is with Array of 1 entry of new User.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 72, "user_id": 10994710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qIOO34ZiGMs/AAAAAAAAAAI/AAAAAAAAAcU/DITKt5pssYI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10994710/nicola"}, "is_accepted": false, "score": 0, "last_activity_date": 1575035475, "creation_date": 1575035475, "answer_id": 59106076, "question_id": 52858782, "link": "https://stackoverflow.com/questions/52858782/interface-how-to-define-default-value/59106076#59106076", "title": "interface, how to define default value", "body": "<p>There's no need to implement interface if class has the same name</p>\n\n<pre><code>    export interface Person {\n      id?: string;\n      name?: string;\n    }\n\n    export class Person {\n      constructor(person?: Person) {\n        return {\n          id: person ? person.id : '',\n          name: person ? person.name : 'John',\n        }\n      }\n    }\n\n    const person = new Person(); // id = '', name = 'John'\n    const person2 = new Person({name: 'Morpheus'}); // id = '', name = 'Morpheus'\n</code></pre>\n"}], "owner": {"reputation": 2650, "user_id": 5212118, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8e6df57cd211a947cbba6f20841beb00?s=128&d=identicon&r=PG&f=1", "display_name": "cucuru", "link": "https://stackoverflow.com/users/5212118/cucuru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4786, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1575035475, "creation_date": 1539790990, "last_edit_date": 1539791910, "question_id": 52858782, "link": "https://stackoverflow.com/questions/52858782/interface-how-to-define-default-value", "title": "interface, how to define default value", "body": "<p>I'm trying to use interfaces in my models and create a default value for it.</p>\n\n<pre><code>export interface IPerson {\n  id: string;\n  name: string;\n}\n\nclass Person implements IPerson {\n   id = '';\n   name = 'John';\n}\n\nexport class Family {\n constructor(public address: string,\n             public members: Person[] = [new Person()]) {\n }\n</code></pre>\n\n<p>So, what I want to get is a family, and when the person has not name, it will be John by default.</p>\n\n<p>It creates a person with name = null</p>\n\n<p>how can I do it?</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection"], "comments": [{"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1539790721, "post_id": 52858621, "comment_id": 92632258, "body": "I&#39;m not sure there&#39;s a way around this. I would probably create a service that&#39;s essentially a factory for instantiating those objects. The service can then pass all the dependencies."}, {"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1539790832, "post_id": 52858621, "comment_id": 92632319, "body": "How will you do this in an efficient way? Or do you have docs? Links?"}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1539791061, "post_id": 52858621, "comment_id": 92632433, "body": "I just mean create a service that has methods like <code>createDog</code> etc. That service can inject <code>AnimalService</code> etc. It can then do <code>return new Dog(this.animalService)</code>. You&#39;d still be passing to the constructor, but I don&#39;t see what&#39;s inefficient about that. Avoiding <code>new</code> like this in your component might actually be beneficial - you can mock <code>createDog</code> in your unit tests."}, {"owner": {"reputation": 718, "user_id": 8948309, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tUj8e.png?s=128&g=1", "display_name": "chateau", "link": "https://stackoverflow.com/users/8948309/chateau"}, "edited": false, "score": 0, "creation_date": 1548456471, "post_id": 52858621, "comment_id": 95562026, "body": "Did you find a way to achieve this in the end?"}, {"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "edited": false, "score": 0, "creation_date": 1548648677, "post_id": 52858621, "comment_id": 95602221, "body": "Yes ! I&#39;ll answer to my question."}], "answers": [{"comments": [{"owner": {"reputation": 11202, "user_id": 61795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8622bd07a6e4fbb934942f541b06e91f?s=128&d=identicon&r=PG", "display_name": "Scuzzy", "link": "https://stackoverflow.com/users/61795/scuzzy"}, "edited": false, "score": 2, "creation_date": 1554172268, "post_id": 54395462, "comment_id": 97643816, "body": "Hello @The224, Your code is exactly the structure I desire but I get the error <code>inject() must be called from an injection context</code> with <code>@angular&#47;core: ^6.1.10</code>, what version would you have developed with?"}, {"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "reply_to_user": {"reputation": 11202, "user_id": 61795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8622bd07a6e4fbb934942f541b06e91f?s=128&d=identicon&r=PG", "display_name": "Scuzzy", "link": "https://stackoverflow.com/users/61795/scuzzy"}, "edited": false, "score": 1, "creation_date": 1554310205, "post_id": 54395462, "comment_id": 97707350, "body": "Are you doing the injection inside a service with the <code>@Injectable</code> annotation? I was using angular ~6, the answer also works with 6+."}, {"owner": {"reputation": 11202, "user_id": 61795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8622bd07a6e4fbb934942f541b06e91f?s=128&d=identicon&r=PG", "display_name": "Scuzzy", "link": "https://stackoverflow.com/users/61795/scuzzy"}, "edited": false, "score": 0, "creation_date": 1554328578, "post_id": 54395462, "comment_id": 97715735, "body": "Thanks for checking out my message @The224, I had tested by copy/pasting your sample code into my project (and just dummy&#39;ed the countTotalInDB/getUserAnimals responses) to test if I could inject <code>AnimalService</code> into the <code>Animal</code> class"}], "tags": [], "owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "is_accepted": true, "score": 4, "last_activity_date": 1548686887, "last_edit_date": 1548686887, "creation_date": 1548648879, "answer_id": 54395462, "question_id": 52858621, "link": "https://stackoverflow.com/questions/52858621/how-to-inject-a-service-in-parent-class-without-passing-it-in-constructor-angul/54395462#54395462", "title": "How to inject a service in parent class without passing it in constructor? Angular 6", "body": "<p>I finally find how to do this.</p>\n\n<p>Following my example:</p>\n\n<pre><code>import { inject } from '@angular/core'; // Answer\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnimalService {\n\n  constructor(private http: HttpClient, private userService: UserService) {}\n\n  countTotalInDB(type): number {\n    return this.http.get(...);\n  }\n\n  getUserAnimals(userId: number) {\n    return this.userService.getUser(userId).animals;\n  }\n\n}\n\nabstract class Animal {\n\n  protected animalService: AnimalService; // Answer\n\n  constructor() {\n    this.animalService = inject(AnimalService); // Answer\n  }\n\n  public getTotalInDataBase(type): number {\n    // How to get a instance of AnimalService ?\n    return this.animalService.countTotalInDB(type);\n  }\n\n}\n\nexport class Cat extends Animal {\n\n  constructor() {\n    super();\n  }\n\n  public getTotalInDataBase(): number {\n    return super.getTotalInDataBase('cat');\n  }\n\n}\n\nexport class Dog extends Animal {\n\n  constructor() {\n    super();\n  }\n\n  public getTotalInDataBase(): number {\n    return super.getTotalInDataBase('dog');\n  }\n\n}\n\nconst doggo = new Dog();\n\nconsole.log(doggo.getTotalInDataBase());\n\n</code></pre>\n\n<p>It works in my case, hope it will help you too!</p>\n"}], "owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 3, "accepted_answer_id": 54395462, "answer_count": 1, "score": 2, "last_activity_date": 1548686887, "creation_date": 1539790439, "question_id": 52858621, "link": "https://stackoverflow.com/questions/52858621/how-to-inject-a-service-in-parent-class-without-passing-it-in-constructor-angul", "title": "How to inject a service in parent class without passing it in constructor? Angular 6", "body": "<p>I will like to know how to inject a service with multiple dependencies inside an abstract class who will be extended by multiple classes. </p>\n\n<p>In a more efficient way then passing it in all constructor!</p>\n\n<p>I try to create static, but if the service is never instantiated by another, the singleton instance variable will never be assigned </p>\n\n<p>Something like this: (Is just an example)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AnimalService {\r\n\r\n  constructor(private http: HttpClient, private userService: UserService) {}\r\n\r\n  countTotalInDB(type): number {\r\n    return this.http.get(...);\r\n  }\r\n\r\n  getUserAnimals(userId: number) {\r\n    return this.userService.getUser(userId).animals;\r\n  }\r\n\r\n}\r\n\r\nabstract class Animal {\r\n\r\n  constructor() {}\r\n\r\n  public getTotalInDataBase(type): number {\r\n    // How to get a instance of AnimalService ?\r\n    return animalService.countTotalInDB(type);\r\n  }\r\n\r\n}\r\n\r\nexport class Cat extends Animal {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public getTotalInDataBase(): number {\r\n    return super.getTotalInDataBase('cat');\r\n  }\r\n\r\n}\r\n\r\nexport class Dog extends Animal {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public getTotalInDataBase(): number {\r\n    return super.getTotalInDataBase('dog');\r\n  }\r\n\r\n}\r\n\r\nconst doggo = new Dog();\r\n\r\nconsole.log(doggo.getTotalInDataBase());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In this case, <code>AnimalService</code> will use <code>HttpClient</code> and <code>UserService</code>.</p>\n\n<p><code>UserService</code> will use a lot more services.</p>\n\n<p>So how can I get a class instantiation who look like this <code>const doggo = new Dog();</code> who will create/use/inject the AnimalService without passing it in all classes?</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 63670, "user_id": 379008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Labo5.png?s=128&g=1", "display_name": "GibboK", "link": "https://stackoverflow.com/users/379008/gibbok"}, "edited": false, "score": 0, "creation_date": 1539790328, "post_id": 52858367, "comment_id": 92632035, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/migrating-from-javascript.h&zwnj;&#8203;tml</a>"}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1539793754, "creation_date": 1539793754, "answer_id": 52859576, "question_id": 52858367, "link": "https://stackoverflow.com/questions/52858367/gradually-move-from-including-each-js-files-to-module-bundling/52859576#52859576", "title": "Gradually move from including each JS files to module bundling", "body": "<p>Once you decide on a module bundler, you'll need to learn about its facilities for (1) allowing other JavaScript on the page to access things defined in the bundle and (2) allowing the bundle to access things defined by other JavaScript on the page.  (If you're able to migrate in strict dependency order, you might never need #2.)  For example, for Webpack, #1 would be the <a href=\"https://webpack.js.org/configuration/output/#output-library\" rel=\"nofollow noreferrer\"><code>library*</code> output options</a> and #2 would be <a href=\"https://webpack.js.org/configuration/externals/\" rel=\"nofollow noreferrer\">externals</a>.  Then just move the code into modules little by little, adjusting the configuration as necessary so that each part of the code has access to the things it needs from the other part of the code.  Since Webpack only supports a single library export module, during the transition, you may have to maintain a dummy module that just re-exports all modules that you need to access from code outside the bundle.  This is a little tedious and represents extra work that you wouldn't have to do if you migrated all at once, but you may decide it's worth paying that cost in order to be able to migrate gradually.</p>\n\n<p>If you have issues getting type information from TypeScript module files in non-module TypeScript files, see <a href=\"https://stackoverflow.com/a/52637264\">this answer</a> for a workaround.</p>\n"}], "owner": {"reputation": 623, "user_id": 1640425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed67a5e735f5ac18c0aaefbf0fd9dbdb?s=128&d=identicon&r=PG", "display_name": "Eddi", "link": "https://stackoverflow.com/users/1640425/eddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539793754, "creation_date": 1539789669, "question_id": 52858367, "link": "https://stackoverflow.com/questions/52858367/gradually-move-from-including-each-js-files-to-module-bundling", "title": "Gradually move from including each JS files to module bundling", "body": "<p>In our AngularJS application we currently have a lot (400+) of files, which get included via <code>&lt;script&gt;</code>-tags. The order these files is something like this:</p>\n\n<ol>\n<li>AngularJS script files</li>\n<li>3rd party plugins / modules</li>\n<li>business Logic files\n\n<ul>\n<li>modules</li>\n<li>services</li>\n<li>controllers / components / directives</li>\n</ul></li>\n</ol>\n\n<p>We would like to move to a better approach utilizing a module bundler and TypeScript. New files are already written in TypeScript but don't make use of <code>import</code>/<code>export</code>. In order to make things easier, we could convert every JavaScript file into a TypeScript file and fix the resulting errors in a feasible time.</p>\n\n<p>However, before we do this, we would like to have a viable strategy on how we could gradually make use of <code>import</code>/<code>export</code>. I'm thinking of something like rewriting one module from time to time, starting with modules deep down in the dependency tree. </p>\n\n<p>However I was not able to achieve this, but I'm quiet sure that others already had to solve this before.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1308, "user_id": 2212311, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0SVoC.jpg?s=128&g=1", "display_name": "shlajin", "link": "https://stackoverflow.com/users/2212311/shlajin"}, "edited": false, "score": 1, "creation_date": 1539791134, "post_id": 52858459, "comment_id": 92632477, "body": "Well, not really: I&#39;m trying to make TS complain if it sees <code>isLoading=false</code> and no <code>importantData</code> and do not complain if it sees <code>isLoading=true</code> regardless of <code>importantData</code> presence. I am 100% sure it&#39;s possible."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 1308, "user_id": 2212311, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0SVoC.jpg?s=128&g=1", "display_name": "shlajin", "link": "https://stackoverflow.com/users/2212311/shlajin"}, "edited": false, "score": 0, "creation_date": 1539793320, "post_id": 52858459, "comment_id": 92633595, "body": "Please see the update. I am pretty sure you are over-engineering things a bit"}, {"owner": {"reputation": 1308, "user_id": 2212311, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0SVoC.jpg?s=128&g=1", "display_name": "shlajin", "link": "https://stackoverflow.com/users/2212311/shlajin"}, "edited": false, "score": 0, "creation_date": 1539794030, "post_id": 52858459, "comment_id": 92633991, "body": "Haha, well, I oversimplified my example to make it easier to understand. Things are a bit more complicated and going with non-dry verbose version just for slightly better type checking is not a great option... thanks for help anyway!"}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 1, "last_activity_date": 1539794058, "last_edit_date": 1539794058, "creation_date": 1539789921, "answer_id": 52858459, "question_id": 52858273, "link": "https://stackoverflow.com/questions/52858273/typescript-how-to-make-boolean-work-with-discriminated-union-pair-of-true-false/52858459#52858459", "title": "Typescript: how to make boolean work with discriminated union pair of true/false?", "body": "<p>The problem is that you are using Typescript for a wrong task. \nTS is about types, not values, so it cannot know </p>\n\n<blockquote>\n  <p>whether things are loading or not </p>\n</blockquote>\n\n<p>So your interface should look just like this</p>\n\n<pre><code>interface IData {\n  isLoading: boolean\n  importantData: string | null\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<blockquote>\n  <p>I'm trying to make TS complain if it sees isLoading=false and no\n  importantData and do not complain if it sees isLoading=true regardless\n  of importantData presence. I am 100% sure it's possible.</p>\n</blockquote>\n\n<p>Replacing this part of your code:</p>\n\n<pre><code>const random = Math.random() &gt; 0.5\nconst e: IDataWithLoading = ({ isLoading: random, importantData: 'secret' }) \n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>const loaded = Math.random() &gt; 0.5\n\nlet e:IDataWithLoading\n\nif(loaded) {  \n  e = { isLoading: false, importantData: 'secret' }\n} else {\n  e = { isLoading: true, importantData: undefined }\n}\n</code></pre>\n\n<p>Should be all you need, if I understand you correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 1308, "user_id": 2212311, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0SVoC.jpg?s=128&g=1", "display_name": "shlajin", "link": "https://stackoverflow.com/users/2212311/shlajin"}, "edited": false, "score": 0, "creation_date": 1539794099, "post_id": 52858887, "comment_id": 92634037, "body": "Tweaking interfaces are certainly an option and probably the way to go, thanks!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1559241681, "last_edit_date": 1559241681, "creation_date": 1539791366, "answer_id": 52858887, "question_id": 52858273, "link": "https://stackoverflow.com/questions/52858273/typescript-how-to-make-boolean-work-with-discriminated-union-pair-of-true-false/52858887#52858887", "title": "Typescript: how to make boolean work with discriminated union pair of true/false?", "body": "<p>UPDATE: 2019-05-30 with the release of TypeScript 3.5 this should be addressed by <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#smarter-union-type-checking\" rel=\"nofollow noreferrer\">smarter union type checking</a>.  The following applies to 3.4 and below:</p>\n\n<hr>\n\n<p>This is a known <a href=\"https://github.com/Microsoft/TypeScript/issues/8289\" rel=\"nofollow noreferrer\">limitation of TypeScript</a>.  The compiler makes no attempt to propagate unions down into properties.  Usually such a propagation can't happen (e.g., <code>{a: string, b: string} | {a: number, b: number}</code> cannot be reduced to <code>{a: string | number, b: string | number}</code> or anything else more useful).  Even in the cases like yours where it is possible to do something, it's not cost-effective for the compiler to make the effort.  Usually cases like this come down to manually guiding the compiler through possible states.</p>\n\n<p>For example, you could try this:</p>\n\n<pre><code>interface ILoadedDataButNotSureYet extends IData {\n  isLoading: boolean;\n}\n\ninterface ILoadedData extends ILoadedDataButNotSureYet {\n  isLoading: false\n}\n</code></pre>\n\n<p>So an <code>ILoadedDataButNotSureYet</code> does have data loaded but <code>isLoading</code> might be <code>true</code> or <code>false</code>.  Then, you can express <code>IDataWithLoading</code> as:</p>\n\n<pre><code>type IDataWithLoading = ILoadedDataButNotSureYet | ILoadingData;\n</code></pre>\n\n<p>This is equivalent to your original definition, but good luck trying to get the compiler to notice that.  Anyway, all the specific instances you mentioned still work:</p>\n\n<pre><code>const a: IDataWithLoading = ({ isLoading: false, importantData: 'secret' })\nconst b: IDataWithLoading = ({ isLoading: false }) // the only error, nice\nconst c: IDataWithLoading = ({ isLoading: true })\nconst d: IDataWithLoading = ({ isLoading: true, importantData: 'secret' })\n</code></pre>\n\n<p>but the last one also works:</p>\n\n<pre><code>const random = Math.random() &gt; 0.5\nconst e: IDataWithLoading = ({ isLoading: random, importantData: 'secret' }) // works\n</code></pre>\n\n<hr>\n\n<p>You might or might not want to actually change <code>IDataWithLoading</code>. Another way to go is to keep the original definition and just slap the compiler hard enough until it understands that your code is safe.  It's not pretty though:</p>\n\n<pre><code>const eLit = { isLoading: random, importantData: 'secret' };\nconst e: IDataWithLoading = eLit.isLoading ? \n  {...eLit, isLoading: eLit.isLoading} : {...eLit, isLoading: eLit.isLoading};\n// works, but is ugly\n</code></pre>\n\n<p>Yuck.  Here we are using <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#object-spread-and-rest\" rel=\"nofollow noreferrer\">object spread</a> to copy properties, and a separate <code>isLoading</code> property to take advantage of the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-type-assertions\" rel=\"nofollow noreferrer\">type guarding</a> that happens when you inspect <code>eLit.isLoading</code>.  The ternary operator is redundant (both the \"then\" and \"else\" clauses are identical) but the compiler gets the message that in each case the value matches <code>IDataWithLoading</code>.  As I said, yuck.</p>\n\n<hr>\n\n<p>Finally, you could just decide that you're smarter than the compiler and use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to make it be quiet.  This has the advantage of not making you jump through hoops, with the disadvantage that the compiler isn't helping you maintain type safety here:</p>\n\n<pre><code>const e = { \n isLoading: random, \n importantData: 'secret' \n} as IDataWithLoading; // Take that, compiler!\n</code></pre>\n\n<hr>\n\n<p>It's up to you how to proceed.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 1308, "user_id": 2212311, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0SVoC.jpg?s=128&g=1", "display_name": "shlajin", "link": "https://stackoverflow.com/users/2212311/shlajin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "accepted_answer_id": 52858887, "answer_count": 2, "score": 4, "last_activity_date": 1559241681, "creation_date": 1539789409, "question_id": 52858273, "link": "https://stackoverflow.com/questions/52858273/typescript-how-to-make-boolean-work-with-discriminated-union-pair-of-true-false", "title": "Typescript: how to make boolean work with discriminated union pair of true/false?", "body": "<p>I have an interface</p>\n\n<pre><code>interface IData {\n  importantData: string\n}\n</code></pre>\n\n<p>and I want to add <code>isLoading</code> flag there. If <code>isLoading = false</code>, then the <code>importantData</code> is loaded and for sure has to be there. However, if <code>isLoading = true</code>, then <code>importantData</code> may be, or may be not there.</p>\n\n<pre><code>interface ILoadedData extends IData {\n  isLoading: false\n}\n\ninterface ILoadingData extends Partial&lt;IData&gt; {\n  isLoading: true\n}\n</code></pre>\n\n<p>So, my final type is a union of these:</p>\n\n<pre><code>type IDataWithLoading = ILoadedData | ILoadingData\n</code></pre>\n\n<p>If I try it works great with boolean literals</p>\n\n<pre><code>const a:IDataWithLoading = ({ isLoading: false, importantData: 'secret' })\nconst b:IDataWithLoading = ({ isLoading: false }) // the only error, nice\nconst c:IDataWithLoading = ({ isLoading: true })\nconst d:IDataWithLoading = ({ isLoading: true, importantData: 'secret' })\n</code></pre>\n\n<p>however, at compile time I don't know whether things are loading or not, so:</p>\n\n<pre><code>const random = Math.random() &gt; 0.5\nconst e:IDataWithLoading = ({ isLoading: random, importantData: 'secret' }) // doesn't work\n</code></pre>\n\n<p>It complaints that types are incompatible. It kind of makes sense, since I declared cases for <code>true</code> and <code>false</code>, not for <code>boolean</code>. However, I covered every possible case for <code>boolean</code>, so I sense that TypeScript can understand that and I sense I'm doing something wrong.</p>\n\n<p>If I declare <code>boolean</code> explicitly, however,</p>\n\n<pre><code>interface ILoadingData extends Partial&lt;IData&gt; {\n  isLoading: boolean\n}\n</code></pre>\n\n<p>it'll match <code>isLoading = false</code> with <code>Partial&lt;IData&gt;</code>, which is not what I want. What should I do?</p>\n"}, {"tags": ["javascript", "json", "typescript", "sentry"], "comments": [{"owner": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "edited": false, "score": 5, "creation_date": 1539789002, "post_id": 52858089, "comment_id": 92631220, "body": "this question doesn&#39;t really have what is required - you should show what you&#39;ve tried, etc. &#39;with typescript&#39; doesn&#39;t help - is there a framework involved? It seems like you&#39;re just trying to get someone else to do the work for you."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "reply_to_user": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "edited": false, "score": 0, "creation_date": 1539848062, "post_id": 52858089, "comment_id": 92651698, "body": "@David this is my first &quot;toy&quot; project with TypeScript. I have never used the language before. That&#39;s why I have not tried anything yet. Up to now there is no other framework involved. I don&#39;t want someone else to do this. I want some hints how this could be solved."}, {"owner": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "edited": false, "score": 0, "creation_date": 1539848278, "post_id": 52858089, "comment_id": 92651811, "body": "do you have an idea of how you&#39;d do it using JavaScript? That should definitely steer you in the right direction for how to do it with TypeScript."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "reply_to_user": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "edited": false, "score": 0, "creation_date": 1539858726, "post_id": 52858089, "comment_id": 92657569, "body": "@David no, I have no idea how to do this in JS. I once used XSLT to transform XML from one format to an other XML format. But this was no fun. I think XSLT is too complicated."}, {"owner": {"reputation": 6980, "user_id": 1544347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad87bb0303238ee876a147dacd557a1?s=128&d=identicon&r=PG", "display_name": "Markus Unterwaditzer", "link": "https://stackoverflow.com/users/1544347/markus-unterwaditzer"}, "edited": false, "score": 0, "creation_date": 1540137450, "post_id": 52858089, "comment_id": 92744184, "body": "I am confused about one aspect of this question: Do you want to have a CLI program that generates HTML, or an in-browser webapp that takes an event and renders it? One answer to the latter might be React, the former probably requires a different kind of templating engine."}, {"owner": {"reputation": 6980, "user_id": 1544347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad87bb0303238ee876a147dacd557a1?s=128&d=identicon&r=PG", "display_name": "Markus Unterwaditzer", "link": "https://stackoverflow.com/users/1544347/markus-unterwaditzer"}, "edited": false, "score": 0, "creation_date": 1540137559, "post_id": 52858089, "comment_id": 92744212, "body": "My personal view on this question is that it&#39;s not really suitable for StackOverflow, as the answers to this will be really opinion-based. Try to solve this problem in another language and ask how you could port it to TypeScript maybe?"}], "answers": [{"tags": [], "owner": {"reputation": 4343, "user_id": 9640177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pca0Z.jpg?s=128&g=1", "display_name": "mayank1513", "link": "https://stackoverflow.com/users/9640177/mayank1513"}, "is_accepted": false, "score": 4, "last_activity_date": 1540357811, "last_edit_date": 1540357811, "creation_date": 1540176683, "answer_id": 52921812, "question_id": 52858089, "link": "https://stackoverflow.com/questions/52858089/convert-json-from-sentry-to-html-with-typescript/52921812#52921812", "title": "Convert JSON (from Sentry) to HTML with TypeScript", "body": "<p>Option 1. save the file as .json and open with browser (I tried with FireFox) you should be able to see it in a very nice format as in pic posted by you.</p>\n\n<p>option 2. use JavaScript to dynamically create DOM objects depending on the JSON. Refer <a href=\"https://www.w3schools.com/js/js_json_html.asp\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.sitepoint.com/dynamic-tables-json/\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>/* </p>\n\n<p>Following are some hints for creating your script</p>\n\n<ul>\n<li>parse JSON</li>\n<li>use recursive function to create div or p tags as per your preference. </li>\n<li>also add click event listener on each element to expand/collapse the child views.</li>\n</ul>\n\n<p>*/</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "edited": false, "score": 0, "creation_date": 1540236933, "post_id": 52936561, "comment_id": 92782183, "body": "I would also recommend at least using something like <a href=\"https://getbootstrap.com/\" rel=\"nofollow noreferrer\">Bootstrap</a> for basic components. If you do end up wanting a framework you could do worse than picking <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">Angular</a>."}], "tags": [], "owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "is_accepted": false, "score": 5, "last_activity_date": 1540236787, "creation_date": 1540236787, "answer_id": 52936561, "question_id": 52858089, "link": "https://stackoverflow.com/questions/52858089/convert-json-from-sentry-to-html-with-typescript/52936561#52936561", "title": "Convert JSON (from Sentry) to HTML with TypeScript", "body": "<p>To do this on your own without a framework I would create a class for each element in the json. Then I would have a <code>toHTML(domParent)</code> method on each class that iterated over it's sub components:</p>\n\n<pre><code>class Stacktrace { \n  frames: Frame[];\n  type: string;\n  value: string;\n  module: string;\n  mechanism: string;\n\n  toHTML(domParent) {\n    for (let frame of Frame) {\n      frame.toHTML(domParent); \n    }\n    domParent.addChild(`&lt;div&gt;${type}&lt;/div&gt;`);\n    domParent.addChild(`&lt;div&gt;${value}&lt;/div&gt;`);\n    domParent.addChild(`&lt;div&gt;${module}&lt;/div&gt;`);\n    domParent.addChild(`&lt;div&gt;${mechanism}&lt;/div&gt;`);\n  }\n}\n</code></pre>\n\n<p>This is just pseudocode but should get you on the right track.</p>\n"}, {"tags": [], "owner": {"reputation": 676, "user_id": 1101570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a72744662c8e7acafd7a8f5fb65f1e1?s=128&d=identicon&r=PG", "display_name": "Rex Pan", "link": "https://stackoverflow.com/users/1101570/rex-pan"}, "is_accepted": true, "score": 5, "last_activity_date": 1540273978, "creation_date": 1540273978, "answer_id": 52941975, "question_id": 52858089, "link": "https://stackoverflow.com/questions/52858089/convert-json-from-sentry-to-html-with-typescript/52941975#52941975", "title": "Convert JSON (from Sentry) to HTML with TypeScript", "body": "<ol>\n<li>Create the schema for your data. This will help you on working with TypeScript and IDE.</li>\n</ol>\n\n<p>You can use <a href=\"https://app.quicktype.io\" rel=\"noreferrer\">https://app.quicktype.io</a> which give you.</p>\n\n<pre><code>export interface Welcome {\n    exception: Exception;\n    level:     string;\n}\n\nexport interface Exception {\n    values: Value[];\n}\n\nexport interface Value {\n    stacktrace: Stacktrace;\n    type:       string;\n    value:      string;\n    module:     string;\n    mechanism:  null;\n}\n\nexport interface Stacktrace {\n    frames: Frame[];\n}\n\nexport interface Frame {\n    function:     string;\n    abs_path:     string;\n    pre_context:  string[];\n    lineno:       number;\n    vars:         Vars;\n    context_line: string;\n    post_context: string[];\n    module:       string;\n    filename:     string;\n}\n\nexport interface Vars {\n    exc:       string;\n    local_var: string;\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Render HTML from your <code>data</code>.</li>\n</ol>\n\n<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"noreferrer\">template literal</a> \n    if you do not have prefer web framework (React, Vue).</p>\n\n<pre><code>const data = JSON.parse(json);\nconst html = `\n    &lt;div&gt;${data.exception.values.map(value =&gt; `\n        &lt;div&gt;${value.stacktrace.frames.map(frame =&gt; `\n            &lt;div&gt;\n                &lt;pre&gt;${frame.abs_path} in ${frame.function}&lt;/pre&gt;\n                &lt;div style=\"margin-left:2rem\"&gt;\n                    ${frame.pre_context.map((line, i) =&gt;`\n                        &lt;pre&gt;${frame.lineno + i - frame.pre_context.length}. ${line}&lt;/pre&gt;\n                    `).join(\"\")}\n\n                    &lt;pre&gt;&lt;strong&gt;${frame.lineno}. ${frame.context_line}&lt;/strong&gt;&lt;/pre&gt;\n                    ${frame.post_context.map((line, i) =&gt; `\n                        &lt;pre&gt;${frame.lineno + i + 1}. ${line}&lt;/pre&gt;\n                    `).join(\"\")}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        `).join(\"\")}&lt;/div&gt;\n    `).join(\"\")}&lt;/div&gt;\n`;\ndocument.body.innerHTML = html;\n</code></pre>\n\n<p>For example: <a href=\"https://codesandbox.io/s/52x8r17zo4\" rel=\"noreferrer\">https://codesandbox.io/s/52x8r17zo4</a></p>\n"}], "owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "accepted_answer_id": 52941975, "answer_count": 3, "score": 6, "last_activity_date": 1540357811, "creation_date": 1539788871, "question_id": 52858089, "link": "https://stackoverflow.com/questions/52858089/convert-json-from-sentry-to-html-with-typescript", "title": "Convert JSON (from Sentry) to HTML with TypeScript", "body": "<p>I want to learn TypeScript.</p>\n\n<p>I have a JSON dictionary returned by the sentry method <code>event_from_exception()</code> (Python).</p>\n\n<p>I would like to format it as nice HTML with expandable local variables and pre_ and post_context. The result should look roughly like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8swk4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8swk4.png\" alt=\"traceback-in-django-debug-view\"></a></p>\n\n<p>Here is an example json:</p>\n\n<pre><code>{\n  \"exception\": {\n    \"values\": [\n      {\n        \"stacktrace\": {\n          \"frames\": [\n            {\n              \"function\": \"main\", \n              \"abs_path\": \"/home/modlink_cok_d/src/sentry-json.py\", \n              \"pre_context\": [\n                \"from sentry_sdk.utils import event_from_exception\", \n                \"\", \n                \"def main():\", \n                \"    local_var = 1\", \n                \"    try:\"\n              ], \n              \"lineno\": 9, \n              \"vars\": {\n                \"exc\": \"ValueError()\", \n                \"local_var\": \"1\"\n              }, \n              \"context_line\": \"        raise ValueError()\", \n              \"post_context\": [\n                \"    except Exception as exc:\", \n                \"        event, info = event_from_exception(sys.exc_info(), with_locals=True)\", \n                \"        print(json.dumps(event, indent=2))\", \n                \"\", \n                \"main()\"\n              ], \n              \"module\": \"__main__\", \n              \"filename\": \"sentry-json.py\"\n            }\n          ]\n        }, \n        \"type\": \"ValueError\", \n        \"value\": \"\", \n        \"module\": \"exceptions\", \n        \"mechanism\": null\n      }\n    ]\n  }, \n  \"level\": \"error\"\n}\n</code></pre>\n\n<p>How could this be done with TypeScript?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1539787961, "post_id": 52857754, "comment_id": 92630608, "body": "What is <code>IOperationParam</code>? What is the full error message?"}, {"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1539788092, "post_id": 52857754, "comment_id": 92630695, "body": "Should it be patientList: &lt;ISpecialtyQuestionsEntity&gt;[];"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1539788310, "post_id": 52857754, "comment_id": 92630841, "body": "@SLaks <code>IOperationsParam</code> are standard header for the request, no issue with that problem is with patientList so request would be <code>{ header: {}, patientlist:[{}]</code>"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539788820, "post_id": 52857754, "comment_id": 92631120, "body": "1. What is exact error message? 2. What <code>IOperationParam</code> looks like?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1539790623, "post_id": 52857754, "comment_id": 92632199, "body": "when request comes in it fails specialtyId is required that is part of patientList"}], "answers": [{"tags": [], "owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "is_accepted": true, "score": 2, "last_activity_date": 1539792252, "creation_date": 1539792252, "answer_id": 52859160, "question_id": 52857754, "link": "https://stackoverflow.com/questions/52857754/how-to-extend-typescript-interfaces/52859160#52859160", "title": "how to extend typescript interfaces?", "body": "<p>You seem to be confusing classes and interfaces. Interfaces only define the <em>shape</em> of the data, not default values.</p>\n\n<p>Your interfaces should be:</p>\n\n<pre><code>export interface IOperationParam {\n  appName: string;\n  appId: string\n}\n\nexport interface IGetSpecialtyQuestionsParam extends IOperationParam {\n  patientList: ISpecialtyQuestionsEntity[];\n}\n\nexport interface ISpecialtyQuestionsEntity {\n  patientId: string;\n  dateOfBirth: string;\n  gender: string;\n  sourceSystem: string;\n  rxInfo?: RxInfoEntity[];\n}\n</code></pre>\n\n<p>The error you stated: \"...patientId can not assigsigned to IGetSpecialtyQuestionsParam...\"</p>\n\n<p>is happening because <code>IGetSpecialtyQuestionsParam</code> extends <code>IOperationParam</code> which doesn't have the property: <code>patientId</code>.</p>\n\n<p>So, you need to either have <code>patientId</code> in the <code>IOperationParam</code> interface, or add it as part of the <code>IGetSpecialtyQuestionsParam</code> interface, or extend a common interface... whatever works best for your app.</p>\n"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 52859160, "answer_count": 1, "score": 0, "last_activity_date": 1539792252, "creation_date": 1539787833, "last_edit_date": 1539790465, "question_id": 52857754, "link": "https://stackoverflow.com/questions/52857754/how-to-extend-typescript-interfaces", "title": "how to extend typescript interfaces?", "body": "<p>So i have interface for the request that has header from <code>IoperationParam</code> and body would be same as <code>patientList</code> that is array of object but it throws error patientId can not assigsigned to <code>IGetSpecialtyQuestionsParam</code> any idea what needs to be corrected here ?</p>\n\n<p>main.interface.ts</p>\n\n<pre><code>    export interface IGetSpecialtyQuestionsParam extends IOperationParam {\n        patientList: (ISpecialtyQuestionsEntity)[];\n    }\n    export interface ISpecialtyQuestionsEntity {\n        /**\n         * &lt;H3&gt;This maps to ESL patientId&lt;H3&gt;\n         */\n        patientId: string;\n        /**\n         * 1982-01-10\n         */\n        dateOfBirth: string;\n        /**\n         * Female\n         */\n        gender: \"Male\"|\"Female\";\n        /**\n         * We can default this;\n         * Specialty HBS\n         */\n\n        sourceSystem: string;\n\n\n        rxInfo?: (RxInfoEntity)[] | null;\n    }\n\nexport interface IOperationParam {\n    appName: string;\n    appId: string\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 14622, "user_id": 532695, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67981608b1d90c4d7c5636a570fdf525?s=128&d=identicon&r=PG", "display_name": "Flavien Volken", "link": "https://stackoverflow.com/users/532695/flavien-volken"}, "edited": false, "score": 0, "creation_date": 1589447117, "post_id": 52857698, "comment_id": 109299624, "body": "note that if you declare new values to the same enum <code>enum someEnum { c = &#39;string&#39;, b = someEnum.b }</code> typescript will merge them together\u2026 but I would not recommend doing this as it will pollute the original enum"}], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "edited": false, "score": 2, "creation_date": 1539789371, "post_id": 52857788, "comment_id": 92631439, "body": "I am not sure if this helps."}, {"owner": {"reputation": 5508, "user_id": 2470753, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73ff2140537d450943be354ef93dd61c?s=128&d=identicon&r=PG", "display_name": "krisanalfa", "link": "https://stackoverflow.com/users/2470753/krisanalfa"}, "edited": false, "score": 13, "creation_date": 1582557905, "post_id": 52857788, "comment_id": 106809020, "body": "Only works if you use the <code>enum</code> as a type, not as value."}], "tags": [], "owner": {"reputation": 2900, "user_id": 5110528, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/92af9a1844fb4fcb8920dcdefbab47f8?s=128&d=identicon&r=PG&f=1", "display_name": "William Moore", "link": "https://stackoverflow.com/users/5110528/william-moore"}, "is_accepted": false, "score": 10, "last_activity_date": 1539787970, "creation_date": 1539787970, "answer_id": 52857788, "question_id": 52857698, "link": "https://stackoverflow.com/questions/52857698/extending-enum-in-typescript/52857788#52857788", "title": "Extending Enum in typescript", "body": "<p>You could use a union in your type:</p>\n\n<pre><code>enum abc {\n  a = 1,\n  b = 2,\n  c = 3\n}\n\nenum def {\n  d = 4,\n  e = 5,\n  f = 6\n}\n\ntype abcdef = abc | def;\n\nlet x: abcdef;\n\nx = abc.a;\nx = def.d;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4575, "user_id": 9606851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w9QmD.jpg?s=128&g=1", "display_name": "AbolfazlR", "link": "https://stackoverflow.com/users/9606851/abolfazlr"}, "is_accepted": false, "score": 15, "last_activity_date": 1603784421, "creation_date": 1603784421, "answer_id": 64549988, "question_id": 52857698, "link": "https://stackoverflow.com/questions/52857698/extending-enum-in-typescript/64549988#64549988", "title": "Extending Enum in typescript", "body": "<pre><code>enum Color1 {\n  Red = &quot;Red&quot;,\n  Green = &quot;Green&quot;\n}\n\nenum Color2 {\n  Yellow = &quot;Yellow&quot;,\n  Blue = &quot;Blue&quot;\n}\n</code></pre>\n<p>define a new type named Colors :</p>\n<pre><code>type Colors = Color1 | Color2;\n</code></pre>\n<p>Then you can use it as below :</p>\n<pre><code>public color: Colors;\n\nngOnInit(): void {\n  const Colors = { ...Color2, ...Color1 };\n  this.color = Colors.Red; // Colors.Green or Colors.Yellow or Colors.Blue\n}\n</code></pre>\n<p><strong><a href=\"https://stackblitz.com/edit/extending-enum-in-typescript\" rel=\"noreferrer\">Stackblitz Here</a></strong></p>\n"}], "owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17819, "favorite_count": 0, "answer_count": 2, "score": 13, "last_activity_date": 1603784421, "creation_date": 1539787672, "question_id": 52857698, "link": "https://stackoverflow.com/questions/52857698/extending-enum-in-typescript", "title": "Extending Enum in typescript", "body": "<p>I was hoping to reuse certain values in enum.\nAny suggestions of how to achieve such functionality.</p>\n\n<pre><code>enum someEnum {\n    a = 'Some String',\n    b = 2,\n};\n\nenum extendedEnum {\n    c = 'string',\n    b = someEnum.b\n}\n\ntype someEnumType&lt;T extends someEnum&gt; = T extends someEnum.a ? string :\n    T extends someEnum.b ? number : never;\n\ntype extendedEnumType&lt;T extends extendedEnum&gt; =\n    T extends extendedEnum.c ? string:          // Gives Error\n    T extends extendedEnum.b ? number : never;  // Gives Error\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 4, "creation_date": 1539787653, "post_id": 52857684, "comment_id": 92630422, "body": "This is a dupe question about async calls. Go and make more searching <code>:)</code>"}, {"owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1539787819, "post_id": 52857684, "comment_id": 92630513, "body": "The moment you <code>console.log(pages.length)</code> the code inside <code>subscribe</code> hasn&#39;t executed yet. Please read up on <code>async</code> calls as @Ele suggested."}, {"owner": {"reputation": 1, "user_id": 10511861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JNaP4ic67us/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWhRqahImeZ8x5QpH25fguV238EwQ/mo/photo.jpg?sz=128", "display_name": "Mohamed Sghaier", "link": "https://stackoverflow.com/users/10511861/mohamed-sghaier"}, "edited": false, "score": 0, "creation_date": 1539789016, "post_id": 52857684, "comment_id": 92631226, "body": "Do you guys have any articles I read to help me out ?"}], "owner": {"reputation": 1, "user_id": 10511861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JNaP4ic67us/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWhRqahImeZ8x5QpH25fguV238EwQ/mo/photo.jpg?sz=128", "display_name": "Mohamed Sghaier", "link": "https://stackoverflow.com/users/10511861/mohamed-sghaier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1539787758, "answer_count": 0, "score": 0, "last_activity_date": 1539787617, "creation_date": 1539787617, "question_id": 52857684, "link": "https://stackoverflow.com/questions/52857684/pushing-data-inside-subscription-returns-an-empty-array-angular", "closed_reason": "Duplicate", "title": "Pushing data inside subscription returns an empty array [Angular]", "body": "<p>I'm trying to create an array with data returned from Graph Facebook.\nI created a service that returns the HttoClient 'GET' method and inside my component I subscribed to that method. But the thing is when I push the responses inside an array and try to work with it outside the subscription, it's not working.</p>\n\n<p>this is the method inside the service:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> getFbPage(pageName: string){\r\n    return this.http.get(`https://graph.facebook.com/${pageName}?access_token=${this.fbToken}&amp;fields=about,picture.type(large),name,fan_count`)\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is the Subscription inside the component: when logging the array length it returns 0</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   let pages;\r\n   \r\n   pageNames.forEach(pageName =&gt; {\r\n    this.apiService.getFbPage(pageName).subscribe((res:any) =&gt; {\r\n      pages.push(res.data)\r\n     })\r\n   })\r\n   \r\n   console.log(pages.length)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I fix this.\nThank you in advance.</p>\n"}, {"tags": ["reactjs", "typescript", "composition", "react-props", "react-table"], "answers": [{"comments": [{"owner": {"reputation": 1276, "user_id": 933756, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e3a7c99ed7c2c177d42114244ffc2a3b?s=128&d=identicon&r=PG", "display_name": "Quinma", "link": "https://stackoverflow.com/users/933756/quinma"}, "edited": false, "score": 0, "creation_date": 1559231685, "post_id": 52881382, "comment_id": 99363559, "body": "As of 5/29/2019 typescript 3.5 released which requires an additional TableProps properties."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1539891775, "creation_date": 1539891775, "answer_id": 52881382, "question_id": 52857420, "link": "https://stackoverflow.com/questions/52857420/extending-react-table-using-composition-issues-with-props/52881382#52881382", "title": "Extending React-Table using composition - issues with props", "body": "<p>It looks like <code>loading</code> and so forth are required properties of the <code>TableProps</code> interface (<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/e409eb29073e5894c6e79dcdbb3734e5dc50b555/types/react-table/index.d.ts#L60\" rel=\"nofollow noreferrer\">here</a>), but <code>ReactTable</code> actually uses <code>Partial&lt;TableProps&gt;</code> as its props type (<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/e409eb29073e5894c6e79dcdbb3734e5dc50b555/types/react-table/index.d.ts#L685\" rel=\"nofollow noreferrer\">here</a>).  If you replace <code>TableProps</code> with <code>Partial&lt;TableProps&gt;</code> in your code to be consistent, then the errors should go away.</p>\n"}], "owner": {"reputation": 138, "user_id": 3775501, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/643455073/picture?type=large", "display_name": "user3775501", "link": "https://stackoverflow.com/users/3775501/user3775501"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 52881382, "answer_count": 1, "score": 0, "last_activity_date": 1539891775, "creation_date": 1539786803, "question_id": 52857420, "link": "https://stackoverflow.com/questions/52857420/extending-react-table-using-composition-issues-with-props", "title": "Extending React-Table using composition - issues with props", "body": "<p>I'm trying to create a component based on react-table using composition so that we can use a customised version everywhere without repeating boiler plate. I'm using Typescript while react-table doesn't use it.  I don't see any examples around of doing this so here's what I've come up with so far:</p>\n\n<pre><code>import * as React from 'react'\nimport ReactTable, {TableProps} from 'react-table'\nimport './../components/react-table-styling.css'\nimport 'react-table/react-table.css'\nimport Pagination from './pagination'\nimport { Paper } from '@material-ui/core'\n\nexport interface IReactTableProps{\n    textCols:Array&lt;string&gt;;\n}\n\nexport class ExtReactTable extends React.Component&lt;IReactTableProps &amp; TableProps&gt; {\n\nstatic defaultProps = {\n}\n\nconstructor(props: IReactTableProps &amp; TableProps) {\n    super(props);\n}\n\nrows = (state, rowInfo) =&gt; {//set taller height and vertical centering\nreturn {  \n    style: { height:40, display:'flex', alignItems: 'center'},\n}\n}\n\nheaderRows = (state, rowInfo, column) =&gt; {\n    return {\n        style: { height: 40, display:'flex', alignItems: 'center', \n        paddingLeft: (column.Header === 'Product'||column.Header === \n'Client') ? '20px':'', \n         justifyContent: (column.Header === 'Product'||column.Header === \n'Client') ? '': 'center' }\n  }\n}\n\nrender() {\n  return(\n  &lt;Paper&gt;\n  &lt;ReactTable style={{cursor:'pointer', fontSize: 13, background:'#fff', borderLeft: 0, borderRight: 0}} PaginationComponent={Pagination}\n      getTrProps={this.rows} getTheadThProps={this.headerRows} /&gt;\n &lt;/Paper&gt;)\n}\n}\n</code></pre>\n\n<p>Trying to get it initially working, I use it like this:</p>\n\n<pre><code>import { ExtReactTable } from '../../components/ext-react-table';\n\n &lt;ExtReactTable data={products} textCols={[\"Product\"]} columns={[\n          {Header: \"Product\", accessor: \"permitProductName\", minWidth: 200, style: { paddingLeft:20}},\n          {Header: \"Client\",accessor: \"clientName\", minWidth: 300, style: { paddingLeft:20}},\n          {Header: \"Spaces\", accessor: \"spaces\", minWidth:80, style: { textAlign: 'right', paddingRight:'4%'}},\n          {Header: \"Active VRMs\", accessor: \"activeVRMs\", minWidth:80, style: { textAlign: 'right', paddingRight:'4%'}},\n          {Header: \"Max VRMs\", accessor: \"maxVRMs\", minWidth:80, style: { textAlign: 'right', paddingRight:'4%'}},\n          {Header: \"Start Date\", accessor: \"startDate\", style: { textAlign: 'center'}, Cell: (props) =&gt; { return &lt;span&gt;{dateTimeHelper.shortDate(props.original.startDate)}&lt;/span&gt;}},\n        {Header: \"End Date\", accessor: \"endDate\", style: { textAlign: 'center'}, Cell: (props) =&gt; { return &lt;span&gt;{(props.original.endDate !== \"0001-01-01T00:00:00\" &amp;&amp; props.original.endDate !== null) ? dateTimeHelper.shortDate(props.original.endDate) : '-'}&lt;/span&gt;}}\n      ]}\n      defaultSorted={[ { id: \"permitProductName\",  asc: true }]}\n      defaultPageSize={10} className={\" -highlight\"}\n /&gt;\n</code></pre>\n\n<p>but it complains that I am not supplying the optional prop 'loading' (and if you supply that then dozens of other props of react-table for which you wouldn't want to supply values).  What's the approach to solving this issue?  Do you have to provide dozens of values as defaultProps or is there some other way?  Thanks</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "for-loop", "if-statement"], "comments": [{"owner": {"reputation": 2120, "user_id": 3110695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sSZkk.jpg?s=128&g=1", "display_name": "FortyTwo", "link": "https://stackoverflow.com/users/3110695/fortytwo"}, "edited": false, "score": 0, "creation_date": 1539787013, "post_id": 52857197, "comment_id": 92630027, "body": "You are mapping all the users and their roles, hence the array. Why not simply loop through all the users and add an additional property of role?"}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "reply_to_user": {"reputation": 2120, "user_id": 3110695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sSZkk.jpg?s=128&g=1", "display_name": "FortyTwo", "link": "https://stackoverflow.com/users/3110695/fortytwo"}, "edited": false, "score": 0, "creation_date": 1539787315, "post_id": 52857197, "comment_id": 92630210, "body": "@FortyTwo thanks for the reply. Do you mean in this checking <code>if (result) {   this._usersList.map(e =&gt; e[&#39;roles&#39;] = this._usersRoles.map(r =&gt; r.userRoles) ); }</code> But if I do loop then how can I check the userID ?"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539787847, "post_id": 52857592, "comment_id": 92630533, "body": "Wow, You are the lifesaver. Thanks a lot, Could you please look at my below problem."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539787917, "post_id": 52857592, "comment_id": 92630581, "body": "that is the part i do not understand. what is the input and what should be the outcome?"}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539788294, "post_id": 52857592, "comment_id": 92630827, "body": "Ok, Sorry for my fuzzy description. I am trying to explain again.  You got the FinaluserList Object. Now I have to implement below algorithms. For that Suppose, My user ID is u2.  1. I have to check how many groups I belong to. (In FinaluserList object I belong to two groups (g1, g2). Then I will check what is the roles of mine.  2. My role is admin for group g1. And user for g2. Now I will take the groupID of mine.  3. Then, where I am admin I will fetch the all username of that groups. So my result should be fetch all user who are belongs to g1. Because I am the admin of g1"}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539788555, "post_id": 52857592, "comment_id": 92630976, "body": "And the second part of the algorithm. I have to check my other roles, like user. For example. In group g2 , My role is user in FinalUserList object. So now, I will take my group ID of mine where I am user. Then I will fetch all users, who are belongs to same group mean g2. and also I will check those users role. Are they are admin or user. If they are admin then I will fetch only those users."}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539788664, "post_id": 52857592, "comment_id": 92631041, "body": "Tell me if I couldn&#39;t explain then I will try again"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539788988, "post_id": 52857592, "comment_id": 92631211, "body": "so you want to get all users who are in <code>g1</code> admins and in <code>g2</code> users? what about <code>roles: null</code>?"}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539790160, "post_id": 52857592, "comment_id": 92631928, "body": "roles: null, I will take If I am(u2) the admin of that group. I will take all user whether the role is assigned or not.  If I am (u2) user of any group. then I will take only those users whose role is admin at the same group"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539797008, "post_id": 52857592, "comment_id": 92635367, "body": "please add for the second part a wanted result (not symbolic, but the real one). and add some other results for other use cases."}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539806256, "post_id": 52857592, "comment_id": 92639721, "body": "Thanks a lot @Nina. I am adding the result."}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539806762, "post_id": 52857592, "comment_id": 92639930, "body": "You should write a book about Vanilla JavaScript Data Structure and Algorithm. Salute"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539806878, "post_id": 52857592, "comment_id": 92639980, "body": "please see the result of <code>getUsers(&#39;u2&#39;)</code>."}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539812446, "post_id": 52857592, "comment_id": 92642303, "body": "Yes, it&#39;s a 100% correct one. So that I told you &#39;You should write a book &#39; :).  May I ask you one question more? Could you please explain a little the use of reducing method. Actually, I am new in JS world, can&#39;t understand how this is working?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539847083, "post_id": 52857592, "comment_id": 92651180, "body": "which one? please have a look into the introduction to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>Array#reduce</code></a>."}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539869321, "post_id": 52857592, "comment_id": 92663768, "body": "Thanks a lot, @Nina.  Suppose my users (u2) has roles === null. So that I want to show only myself, Means only (u2). Then How it will look like. I changed return this._finalUserList       .filter(         ({ groupId, roles }) =&gt;           groups[groupId] === &#39;ROLE_ADMIN&#39; ||           (groups[groupId] === &#39;ROLE_USER&#39; &amp;&amp; roles === &#39;ROLE_ADMIN&#39;) ||  groups[groupId] === null       )       .map(({ groupId, userID, userName }) =&gt; [         { groupUuid: groupId, uuid: userID, userName: userName }       ]); but it did work. Can you help to figure it out. Why?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539870364, "post_id": 52857592, "comment_id": 92664455, "body": "then you need the <code>userId</code> as well, because you want only the thios user: <code>this._finalUserList.filter(({ groupId, userId, roles }) =&gt; groups[groupId] === &#39;ROLE_ADMIN&#39; || (groups[groupId] === &#39;ROLE_USER&#39; &amp;&amp; roles === &#39;ROLE_ADMIN&#39;) || groups[groupId] === null &amp;&amp; user === userId).map(({ groupId, userID, userName }) =&gt; [{ groupUuid: groupId, uuid: userID, userName: userName }]);</code> <code>user</code> is the parameter of the function."}, {"owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539870630, "post_id": 52857592, "comment_id": 92664622, "body": "Got a, . (groups[groupId] == null &amp;&amp; userID === user ). Now it&#39;s working"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "edited": false, "score": 0, "creation_date": 1539870724, "post_id": 52857592, "comment_id": 92664674, "body": "great. do you have some more questions?"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1539806839, "last_edit_date": 1539806839, "creation_date": 1539787371, "answer_id": 52857592, "question_id": 52857197, "link": "https://stackoverflow.com/questions/52857197/compare-and-push-the-right-value-to-array-of-objects-in-javascript-typescript/52857592#52857592", "title": "Compare and push the right value to Array of objects in JavaScript/TypeScript", "body": "<p>You could build a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a> for all roles and map new objects with the role of <code>roles</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getUsers(user) {\r\n    var groups = finalUsersList\r\n            .filter(({ userId }) =&gt; user === userId)\r\n            .reduce((r, { groupId, roles }) =&gt; (r[groupId] = roles, r), Object.create(null));\r\n\r\n    return finalUsersList\r\n        .filter(({ groupId, roles }) =&gt; \r\n            groups[groupId] === 'admin' ||\r\n            groups[groupId] === 'user' &amp;&amp; roles === 'admin'\r\n        );\r\n}\r\n\r\nvar usersList = [{ groupId: 'g1', userId: 'u1', userName: 'name1' }, { groupId: 'g1', userId: 'u2', userName: 'name2' }, { groupId: 'g1', userId: 'u3', userName: 'name3' }, { groupId: 'g1', userId: 'u4', userName: 'name4' }, { groupId: 'g2', userId: 'u2', userName: 'name2' }, { groupId: 'g2', userId: 'u5', userName: 'name5' }, { groupId: 'g2', userId: 'u6', userName: 'name6' }, { groupId: 'g2', userId: 'u7', userName: 'name7' }, { groupId: 'g2', userId: 'u8', userName: 'name8' }],\r\n    userRoles = [{ groupId: 'g1', userId: 'u2', roles: 'admin' }, { groupId: 'g1', userId: 'u4', roles: 'admin' }, { groupId: 'g2', userId: 'u7', roles: 'user' }, { groupId: 'g2', userId: 'u5', roles: 'admin' }, { groupId: 'g2', userId: 'u2', roles: 'user' }, { groupId: 'g2', userId: 'u8', roles: 'admin' }, { groupId: 'g2', userId: 'u6', roles: 'admin' }, { groupId: 'g2', userId: 'u9', roles: 'admin' }],\r\n    roles = userRoles.reduce(\r\n        (m, { groupId, userId, roles }) =&gt; m.set([groupId, userId].join('|'), roles),\r\n        new Map()\r\n    ),\r\n    finalUsersList = usersList.map(user =&gt; Object.assign(\r\n        {},\r\n        user,\r\n        { roles: roles.get([user.groupId, user.userId].join('|')) || null }\r\n    ));\r\n\r\nconsole.log(finalUsersList);\r\nconsole.log(getUsers('u2'));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 61, "user_id": 9183924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BliD0.jpg?s=128&g=1", "display_name": "Riyad", "link": "https://stackoverflow.com/users/9183924/riyad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539812885, "creation_date": 1539786115, "last_edit_date": 1539812885, "question_id": 52857197, "link": "https://stackoverflow.com/questions/52857197/compare-and-push-the-right-value-to-array-of-objects-in-javascript-typescript", "title": "Compare and push the right value to Array of objects in JavaScript/TypeScript", "body": "<p>Below two questions look similar but not relevant to my algorithm. Because the problem I faced is quite difficult. And None of the solutions could help me out. So that, I had to post a long descriptive question to seek some mentorships.   </p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/36635822/comparing-two-arrays-of-objects-for-duplicate-objects-and-push-it-when-its-not\">Comparing Two Arrays of Objects</a> </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/36633412/comparing-two-arrays-before-adding-an-item-from-one-array-to-another-in-javascri/36633818#36633818\">Comparing Two arrays Before pushing</a></p></li>\n</ol>\n\n<p>I have two array objects that look like</p>\n\n<pre><code>UsersList = [\n0:{groupId: 'g1', userId: 'u1', userName: 'name1' }\n1:{groupId: 'g1', userId: 'u2', userName: 'name2' }\n2:{groupId: 'g1', userId: 'u3', userName: 'name3' }\n3:{groupId: 'g1', userId: 'u4', userName: 'name4' }\n4:{groupId: 'g2', userId: 'u2', userName: 'name2' }\n5:{groupId: 'g2', userId: 'u5', userName: 'name5' }\n6:{groupId: 'g2', userId: 'u6', userName: 'name6' }\n7:{groupId: 'g2', userId: 'u7', userName: 'name7' }\n8:{groupId: 'g2', userId: 'u8', userName: 'name8' }\n]\n\nuserRoles = [\n0:{groupId: 'g1', userId: 'u2', roles: 'admin' }\n1:{groupId: 'g1', userId: 'u4', roles: 'admin' }\n2:{groupId: 'g2', userId: 'u7', roles: 'user' }\n3:{groupId: 'g2', userId: 'u5', roles: 'admin' }\n4:{groupId: 'g2', userId: 'u2', roles: 'user' }\n5:{groupId: 'g2', userId: 'u8', roles: 'admin' }\n6:{groupId: 'g2', userId: 'u6', roles: 'admin' }\n7:{groupId: 'g2', userId: 'u9', roles: 'admin' }\n]\n</code></pre>\n\n<p>I have to find that the <code>userId</code> and <code>groupId</code> of <code>userRoles</code> belong to <code>userList</code> or not. So I used below filter method</p>\n\n<pre><code>const result = this._usersList.filter(e =&gt;\n  this._usersRoles.some(r =&gt; e.groupId === r.groupId &amp;&amp; e.userID === r.userID  ) );\n</code></pre>\n\n<p>above method is filtering my two objects and giving me one <code>result</code> object. Something like this. </p>\n\n<pre><code>result = [\n0:{groupId: 'g1', userId: 'u2', userName: 'name2' }\n1:{groupId: 'g1', userId: 'u4', userName: 'name4' }\n2:{groupId: 'g2', userId: 'u7', userName: 'name7' }\n3:{groupId: 'g2', userId: 'u6', userName: 'name5' }\n4:{groupId: 'g2', userId: 'u2', userName: 'name2' }\n5:{groupId: 'g2', userId: 'u8', userName: 'name8' }\n6:{groupId: 'g2', userId: 'u5', userName: 'name5' }\n]\n</code></pre>\n\n<p>I found the roles of the individual users. Now, I have to assign roles for the matching users into the <code>userList = []</code> object. If any particular user doesn't have the role then role property should be null. </p>\n\n<p>So that I tried to use below code</p>\n\n<pre><code>if (result) {\n  this._usersList.map(e =&gt; e['roles'] = this._usersRoles.map(r =&gt; r.userRoles) );\n}\n</code></pre>\n\n<p>Unfortunately, My first problem began from here. Because the <code>result</code> is always true and it's mapping a list of array roles and assigned to usersList object all roles from my <code>userRoles</code> object. Something like this</p>\n\n<pre><code>UsersList = [\n0:{groupId: 'g1', userId: 'u1', userName: 'name1', roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n1:{groupId: 'g1', userId: 'u2', userName: 'name2'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n2:{groupId: 'g1', userId: 'u3', userName: 'name3'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n3:{groupId: 'g1', userId: 'u4', userName: 'name4'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n4:{groupId: 'g2', userId: 'u2', userName: 'name2'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n5:{groupId: 'g2', userId: 'u5', userName: 'name5'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n6:{groupId: 'g2', userId: 'u6', userName: 'name6'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n7:{groupId: 'g2', userId: 'u7', userName: 'name7'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n8:{groupId: 'g2', userId: 'u8', userName: 'name8'  roles:['admin','admin','user','admin','user','admin','admin','admin'] }\n]\n</code></pre>\n\n<p>But my result should look like this</p>\n\n<pre><code> finalUsersList = [\n    0:{groupId: 'g1', userId: 'u1', userName: 'name1', roles: null }\n    1:{groupId: 'g1', userId: 'u2', userName: 'name2', roles: 'admin' }\n    2:{groupId: 'g1', userId: 'u3', userName: 'name3', roles: null }\n    3:{groupId: 'g1', userId: 'u4', userName: 'name4', roles: 'admin' }\n    4:{groupId: 'g2', userId: 'u2', userName: 'name2', roles: 'user' }\n    5:{groupId: 'g2', userId: 'u5', userName: 'name5', roles: 'admin' }\n    6:{groupId: 'g2', userId: 'u6', userName: 'name6', roles: 'admin' }\n    7:{groupId: 'g2', userId: 'u7', userName: 'name7', roles: 'user'}\n    8:{groupId: 'g2', userId: 'u8', userName: 'name8', roles: 'admin' }\n    ]\n</code></pre>\n\n<p>And my second problem. Suppose I am the user <code>(u2)</code> that belongs to two groups <code>(g1, g2)</code>. In <code>g1</code> I am the <code>admin</code> and in <code>g2</code> <code>user</code>. Hence I am the <code>admin</code> of <code>g1</code> I will fetch all <code>users</code> who belong to <code>g1</code> group. And then, I am the <code>user</code> of <code>g2</code> group, so I will fetch only those users whose roles are only <code>admin</code>. So that I did one method also. </p>\n\n<pre><code>if(myLocalStorageUserID === this._finalUsersList.filter(e =&gt; e.userId) &amp;&amp; this._finalUsersList['roles'] == 'admin' {\nconst filterGroupIDForAdmin = this._finalUsersList['groupID ']\n}\n</code></pre>\n\n<p>So Now I got the filter groupId that's fullfil the two conditions. One is, whether I am belongs to that group and other what the role is.</p>\n\n<p>So Now I did one loop according to group Id and try to fetch the all usersName, Like this</p>\n\n<pre><code>for(let i=0; i&lt;this.finalUserList.length; i++) {\nif(this.finalUserList[i].groupId == filterGroupIDForAdmin ) {\nconst userListForWhoseRolesIsAdmin = []\nuserListForWhoseRolesIsAdmin.push(finalUserList[i].userName)\n}\n}\n</code></pre>\n\n<p>then I checked other groups. what is my role of that group if 'user' then I will take the <code>groupID</code> as well as and loop the <code>finalUserlist</code> object then fetch the users whose role is only <code>admin</code>. Like this.</p>\n\n<pre><code>if(myLocalStorageUserID === this._finalUsersList.filter(e =&gt; e.userId) &amp;&amp; this._finalUsersList['roles'] == 'user' {\n    const filterGroupIDForUser = this._finalUsersList['groupID ']\n    }\n</code></pre>\n\n<p>Now I got the filter groupId for role user. And now I will fetch the usersname. I used below code. </p>\n\n<pre><code>for(let i=0; i&lt;this.finalUserList.length; i++) {\n    if(this.finalUserList[i].groupId == filterGroupIDForUser ) {\n    const userListForWhoseRolesIsUser = []\n    userListForWhoseRolesIsUser.push(finalUserList[i].userName , finalUserList[i].roles )\n    }\n    for(let i = 0; i&lt;this.userListForWhoseRolesIsUser.length; i++) {\n    const filterUserNameList =  []\n    if(this.userListForWhoseRolesIsUser[i].role === 'admin') {\n    filterUserNameList.push(userListForWhoseRolesIsUser[i].userName)\n    }\n }\n</code></pre>\n\n<p>The Result should be look lik</p>\n\n<pre><code>finalUserName = [\n    0:{groupId: 'g1', userId: 'u1', userName: 'name1', roles: null }\n    1:{groupId: 'g1', userId: 'u2', userName: 'name2', roles: 'admin' }\n    2:{groupId: 'g1', userId: 'u3', userName: 'name3', roles: null }\n    3:{groupId: 'g1', userId: 'u4', userName: 'name4', roles: 'admin' }\n    5:{groupId: 'g2', userId: 'u5', userName: 'name5', roles: 'admin' }\n    6:{groupId: 'g2', userId: 'u6', userName: 'name6', roles: 'admin' }\n    8:{groupId: 'g2', userId: 'u8', userName: 'name8', roles: 'admin' }\n    ]\n</code></pre>\n\n<p>It's a huge cumbersome coding style that I made which is totally wrong. Please guide me to reduce my algorithm complexity as well as to solve my issue. \nThanks </p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 1, "creation_date": 1539801629, "post_id": 52857184, "comment_id": 92637599, "body": "Those suggestions don&#39;t seem to be from VS Code&#39;s standard js/ts language features. Do you have an auto import plugin installed?"}], "answers": [{"tags": [], "owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "is_accepted": true, "score": 2, "last_activity_date": 1539815998, "creation_date": 1539815998, "answer_id": 52864565, "question_id": 52857184, "link": "https://stackoverflow.com/questions/52857184/how-do-i-configure-vscode-intellisense-for-typescript-to-display-properties-only/52864565#52864565", "title": "How do I configure VSCode Intellisense for TypeScript to display properties only?", "body": "<p>These suggestions are coming from the <a href=\"https://marketplace.visualstudio.com/items?itemName=steoates.autoimport\" rel=\"nofollow noreferrer\">auto import</a> extension and not VS Code's standard JavaScript and TypeScript language features. You can tell this by the <code>[AI]</code> in the suggestion item label</p>\n\n<p>VS Code has supported auto imports out of the box <a href=\"https://code.visualstudio.com/updates/v1_18#_auto-import-for-javascript-and-typescript\" rel=\"nofollow noreferrer\">since 1.18</a> so this extension should no longer be required. If the built-in auto imports aren't working properly, please <a href=\"https://github.com/Microsoft/vscode/issues/new/choose\" rel=\"nofollow noreferrer\">file an issue</a></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1392730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a06f8748de2c8a86f0ca723c66bf891?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1392730/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1610210972, "creation_date": 1610210972, "answer_id": 65645156, "question_id": 52857184, "link": "https://stackoverflow.com/questions/52857184/how-do-i-configure-vscode-intellisense-for-typescript-to-display-properties-only/65645156#65645156", "title": "How do I configure VSCode Intellisense for TypeScript to display properties only?", "body": "<p>Anyway, \u0443ou can also control your Intellisense preferences in <code>Settings&gt;Text Editor&gt;Suggestions</code> page:</p>\n<p><a href=\"https://i.stack.imgur.com/iK66K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iK66K.png\" alt=\"vs code text editor display properties suggestions hide words\" /></a></p>\n"}], "owner": {"reputation": 1002, "user_id": 1059939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/205c5682199886df752ae6f4ba5182e3?s=128&d=identicon&r=PG", "display_name": "user1059939", "link": "https://stackoverflow.com/users/1059939/user1059939"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 52864565, "answer_count": 2, "score": 2, "last_activity_date": 1610210972, "creation_date": 1539786063, "last_edit_date": 1539786435, "question_id": 52857184, "link": "https://stackoverflow.com/questions/52857184/how-do-i-configure-vscode-intellisense-for-typescript-to-display-properties-only", "title": "How do I configure VSCode Intellisense for TypeScript to display properties only?", "body": "<p>I have an API which uses parameter objects and the only way to stay sane is to have intellisense. </p>\n\n<p>It works to an extent, but this is annoying. </p>\n\n<p><a href=\"https://i.stack.imgur.com/9pybS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9pybS.png\" alt=\"a list of stuff i don&#39;t want\"></a></p>\n\n<p>None the less, I see that the list does contain properties i want. How can I make this list only show my properties of the object, and not the kitchen sink?</p>\n\n<p><a href=\"https://i.stack.imgur.com/vC4gP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vC4gP.png\" alt=\"i want just these in the list\"></a></p>\n\n<p>If it isn't too clear, then basically,  I don't want to cycle through a massive list of stuff, looking for <code>analytics</code>, I don't want to right click and go into this method searching what is available, and I don't want to seek docs either. I just want the \"properties\" of an object to take priority. </p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1539785800, "post_id": 52856968, "comment_id": 92629164, "body": "Good spot! My overlook :). Post it as an answer and I&#39;ll accept it."}], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 1, "last_activity_date": 1539786226, "creation_date": 1539786226, "answer_id": 52857232, "question_id": 52856968, "link": "https://stackoverflow.com/questions/52856968/why-there-is-no-need-to-directly-import-reactiveformsmodule-to-use-formcontroldi/52857232#52857232", "title": "Why there is no need to directly import ReactiveFormsModule to use FormControlDirective?", "body": "<p>Angular always shows a hint of what is going on:</p>\n\n<pre><code>ng:///SharedModule/FormControlTextComponent.html@10:4\n      ^^^^^^^^^^^^\n</code></pre>\n\n<p>As we can see your <code>FormControlTextComponent</code> is declared in <code>SharedModule</code> and that's why removing <code>ReactiveFormsModule</code> from <code>SharedModule</code> breaks this component.</p>\n"}], "owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 0, "accepted_answer_id": 52857232, "answer_count": 1, "score": 0, "last_activity_date": 1539786226, "creation_date": 1539785475, "last_edit_date": 1539785607, "question_id": 52856968, "link": "https://stackoverflow.com/questions/52856968/why-there-is-no-need-to-directly-import-reactiveformsmodule-to-use-formcontroldi", "title": "Why there is no need to directly import ReactiveFormsModule to use FormControlDirective?", "body": "<h2>Problem</h2>\n\n<p>In my application I'm having a <a href=\"https://angular.io/guide/styleguide#shared-feature-module\" rel=\"nofollow noreferrer\"><code>SharedModule</code></a> which declares all components and directives used in multiple modules throught the whole app.</p>\n\n<p>As I decided to use reactive forms (instead of template-driven forms) in all my forms throught the whole application, I decided to import <a href=\"https://angular.io/api/forms/ReactiveFormsModule\" rel=\"nofollow noreferrer\"><code>ReactiveFormsModule</code></a> in <code>SharedModule</code> to import it only once and make it available to all my <a href=\"https://angular.io/guide/feature-modules\" rel=\"nofollow noreferrer\">feature modules</a>. The interesting part is that I don't re-export <code>ReactiveFormsModule</code>.</p>\n\n<p><strong>shared.module.ts</strong></p>\n\n<pre><code>(...)\nimport { ReactiveFormsModule } from '@angular/forms';\n(...)\n\n@NgModule({\n  imports: [\n    (...),\n    ReactiveFormsModule,\n    (...)\n   ],\n\n   declarations: [\n     (...)\n   ],\n\n   exports: [\n     // ReactiveFormsModule is not re-exported here!\n     (...)\n   ],\n}\nexport class SharedModule {}\n</code></pre>\n\n<p>In my app I have a <code>UsersModule</code> which imports <code>SharedModule</code> and declares <code>UsersAddComponent</code>:</p>\n\n<p><strong>users.module.ts</strong></p>\n\n<pre><code>@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    UsersRoutingModule,\n  ],\n  declarations: [\n    UsersRootComponent,\n    UsersAddComponent,\n    UsersIndexComponent,\n  ],\n})\nexport class UsersModule {}\n</code></pre>\n\n<p><strong>users-add.component.html</strong></p>\n\n<pre><code>(...)\n&lt;!-- Name --&gt;\n&lt;npc-form-control-text\n  [label]=\"'name' | translate\"\n  [formControl]=\"name\"\n&gt;\n&lt;/npc-form-control-text&gt;\n(...)\n</code></pre>\n\n<p>It works. And that surprises me! Quoting <a href=\"https://angular.io/guide/ngmodule-api\" rel=\"nofollow noreferrer\">Angular NgModules documentation</a>:</p>\n\n<blockquote>\n  <p>Declarations are private by default. If this module does not export\n  UserComponent, then only the components within this module can use\n  UserComponent.</p>\n  \n  <p>Importing a module does not automatically re-export the imported\n  module's imports. Module 'B' can't use ngIf just because it imported\n  module 'A' which imported CommonModule. Module 'B' must import\n  CommonModule itself.</p>\n</blockquote>\n\n<p>So as <code>UsersModule</code> doesn't import <code>ReactiveFormsModule</code> directly - it only imports <code>SharedModule</code> which imports <code>ReactiveFormsModule</code> but does not export it - it shouldn't have access to <a href=\"https://angular.io/api/forms/FormControlDirective\" rel=\"nofollow noreferrer\"><code>FormControlDirective</code></a>. But it does, it all works. And as soon as I remove <code>ReactiveFormsModule</code> from <code>SharedModule</code> imports array, it stops working producing error:</p>\n\n<pre><code>Error: Template parse errors:\nCan't bind to 'formControl' since it isn't a known property of 'input'. (\"\n  &lt;input\n    [type]=\"type\"\n    [ERROR -&gt;][formControl]=\"formControl\"\n    class=\"FormControl-input\"\n  /&gt;\n\"): ng:///SharedModule/FormControlTextComponent.html@10:4\n</code></pre>\n\n<h2>Question</h2>\n\n<p>Why I don't need to re-export <code>ReactiveFormsModules</code> in <code>SharedModule</code> for <code>UsersModule</code> components being able to use <code>FormControlDirective</code>?</p>\n"}, {"tags": ["angular", "typescript", "npm", "ngx-editor"], "comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1539786628, "post_id": 52856849, "comment_id": 92629763, "body": "When are you getting this error? At run time? Or compile time?"}, {"owner": {"reputation": 23, "user_id": 5040466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hx41KHqOETk/AAAAAAAAAAI/AAAAAAAABcI/2uIdG8dGARM/photo.jpg?sz=128", "display_name": "daschapa", "link": "https://stackoverflow.com/users/5040466/daschapa"}, "reply_to_user": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1539787007, "post_id": 52856849, "comment_id": 92630023, "body": "Compile time. Just as I save. ng serve is sunning"}, {"owner": {"reputation": 1159, "user_id": 3733397, "user_type": "registered", "profile_image": "https://graph.facebook.com/553859606/picture?type=large", "display_name": "vertika", "link": "https://stackoverflow.com/users/3733397/vertika"}, "edited": false, "score": 0, "creation_date": 1539787147, "post_id": 52856849, "comment_id": 92630104, "body": "to which module this component belong?is the path to file correct?"}, {"owner": {"reputation": 23, "user_id": 5040466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hx41KHqOETk/AAAAAAAAAAI/AAAAAAAABcI/2uIdG8dGARM/photo.jpg?sz=128", "display_name": "daschapa", "link": "https://stackoverflow.com/users/5040466/daschapa"}, "edited": false, "score": 0, "creation_date": 1539787435, "post_id": 52856849, "comment_id": 92630289, "body": "It&#39;s ngx-editor, vertika. The path is correct, or at leat VSCode thinks it is. It&#39;s under node-modules, and when I click on it I get proprerly redirected to the file. It looks like it&#39;s the compiler working for <code>ng serve</code> is failing for some reason, but only when I specifically declare it&#39;s type."}, {"owner": {"reputation": 1159, "user_id": 3733397, "user_type": "registered", "profile_image": "https://graph.facebook.com/553859606/picture?type=large", "display_name": "vertika", "link": "https://stackoverflow.com/users/3733397/vertika"}, "edited": false, "score": 0, "creation_date": 1539787769, "post_id": 52856849, "comment_id": 92630485, "body": "have you imported the module in your main module file .. ?"}, {"owner": {"reputation": 23, "user_id": 5040466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hx41KHqOETk/AAAAAAAAAAI/AAAAAAAABcI/2uIdG8dGARM/photo.jpg?sz=128", "display_name": "daschapa", "link": "https://stackoverflow.com/users/5040466/daschapa"}, "edited": false, "score": 0, "creation_date": 1539789551, "post_id": 52856849, "comment_id": 92631539, "body": "Yup. The module is working for all purposes, but I just can&#39;t declare the type of it&#39;s components in the code"}, {"owner": {"reputation": 1159, "user_id": 3733397, "user_type": "registered", "profile_image": "https://graph.facebook.com/553859606/picture?type=large", "display_name": "vertika", "link": "https://stackoverflow.com/users/3733397/vertika"}, "edited": false, "score": 0, "creation_date": 1540212427, "post_id": 52856849, "comment_id": 92768540, "body": "hey ! your problem got solved ? I ran into the same issue . and i found that it is because of the path. I was giving : // import { WalkthroughModule } from &#39;src/lib/ngx-walkthrough-master/ngx-walkthrough-master/src/m&zwnj;&#8203;odules/walkthrough.m&zwnj;&#8203;odule&#39;; which gave me an error."}, {"owner": {"reputation": 1159, "user_id": 3733397, "user_type": "registered", "profile_image": "https://graph.facebook.com/553859606/picture?type=large", "display_name": "vertika", "link": "https://stackoverflow.com/users/3733397/vertika"}, "edited": false, "score": 0, "creation_date": 1540212453, "post_id": 52856849, "comment_id": 92768559, "body": "then i gave import {WalkthroughModule} from &#39;../../lib/ngx-walkthrough-master/ngx-walkthrough-master/src&zwnj;&#8203;/modules/walkthrough&zwnj;&#8203;.module&#39;; which solved my error."}], "owner": {"reputation": 23, "user_id": 5040466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hx41KHqOETk/AAAAAAAAAAI/AAAAAAAABcI/2uIdG8dGARM/photo.jpg?sz=128", "display_name": "daschapa", "link": "https://stackoverflow.com/users/5040466/daschapa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539785130, "creation_date": 1539785130, "question_id": 52856849, "link": "https://stackoverflow.com/questions/52856849/how-does-mechanics-works-behind-module-not-found-error-cant-resolve-erro", "title": "How does mechanics works behind &quot;Module not found: Error: Can&#39;t resolve...&quot; errors", "body": "<p>I'd like to understand why this is failing, because as far as I know it shouldn't.</p>\n\n<p>As soon as I include the following line in my code</p>\n\n<pre><code>import { NgxEditorComponent } from 'ngx-editor/app/ngx-editor/ngx-editor.component';\n...\n@ViewChild('editor') editor: NgxEditorComponent;\n</code></pre>\n\n<p>the following error shows up:</p>\n\n<blockquote>\n  <p>Module not found: Error: Can't resolve 'ngx-editor/app/ngx-editor/ngx-editor.component</p>\n</blockquote>\n\n<p>And it doesn't make sense to me, since the component (although a little bit bugged) seems to work alright. Even if I change the type declaration for \"any\", I can do a</p>\n\n<pre><code>console.log(editor);\n</code></pre>\n\n<p>without issue, and the browser's console returns</p>\n\n<blockquote>\n  <p>NgxEditorComponent\u00a0{_messageService: MessageService, _commandExecutor: CommandExecutorService, _renderer: DebugRenderer2, resizer: \"stack\", config: {\u2026},\u00a0\u2026}</p>\n</blockquote>\n\n<p>In addition to that, VSCode intellisense locates the module right away, and I can confirm that it is under node_modules folder.</p>\n\n<p>I'd like to clarify that I'm not looking for a workaround for this issue, but to gain a better understanding of the underlying mechanisms involved.</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539785041, "post_id": 52856773, "comment_id": 92628651, "body": "Don&#39;t use typescript 3.0 or above features. The features are described here <a href=\"https://github.com/Microsoft/TypeScript/wiki/Roadmap\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/Roadmap</a>. If you don&#39;t use them it should be compatible, baring you hitting any of the breaking changes .."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539785117, "post_id": 52856773, "comment_id": 92628713, "body": "@TitianCernicova-Dragomir - Isn&#39;t that an answer?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1539785192, "post_id": 52856773, "comment_id": 92628760, "body": "@T.J.Crowder I&#39;m not sure, it&#39;s rather small .. I geuss it could be :)"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539786108, "post_id": 52856773, "comment_id": 92629376, "body": "The best way to ensure compatibility with TypeScript 2 would be to test on TypeScript 2, as much work as it is.  There is precedent <a href=\"https://github.com/Microsoft/dtslint/blob/master/src/rules/expectRule.ts\" rel=\"nofollow noreferrer\">in the dtslint tool used by DefinitelyTyped</a>."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1539786348, "last_edit_date": 1539786348, "creation_date": 1539785428, "answer_id": 52856948, "question_id": 52856773, "link": "https://stackoverflow.com/questions/52856773/are-typescript-3-0-type-definitions-backwards-compatible-to-ts2/52856948#52856948", "title": "Are typescript 3.0 type definitions backwards compatible to ts2?", "body": "<p>If you don't use any of the Typescript new features the definitions should be compatible as existing language features have not changed much. The new features are described <a href=\"http://github.com/Microsoft/TypeScript/wiki/Roadmap\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>There are a number of breaking changes that could affect this, as described <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This also depends on the specific sub version of 2.x you are targeting. Some new features may be too ubiquitous to avoid in newer versions (conditional types come to mind which were introduced in 2.8)</p>\n"}], "owner": {"reputation": 5579, "user_id": 214035, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/6BBs4.jpg?s=128&g=1", "display_name": "Adam Fraser", "link": "https://stackoverflow.com/users/214035/adam-fraser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539786348, "creation_date": 1539784890, "question_id": 52856773, "link": "https://stackoverflow.com/questions/52856773/are-typescript-3-0-type-definitions-backwards-compatible-to-ts2", "title": "Are typescript 3.0 type definitions backwards compatible to ts2?", "body": "<p>I'm writing a react component library in typescript 3. How can I ensure that my generated .d.ts files are compatible with typescript 2 codebases?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 677, "user_id": 4560600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iIEvGUXnBjY/AAAAAAAAAAI/AAAAAAAAAd8/gdMOcdrBBRo/photo.jpg?sz=128", "display_name": "jriver27", "link": "https://stackoverflow.com/users/4560600/jriver27"}, "edited": false, "score": 0, "creation_date": 1539786839, "post_id": 52856697, "comment_id": 92629909, "body": "Has this worked before? Can you checkout an older revision and see if that runs?"}, {"owner": {"reputation": 240, "user_id": 3736144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/006bb4c438464654c284dc063e563711?s=128&d=identicon&r=PG&f=1", "display_name": "SRahmani", "link": "https://stackoverflow.com/users/3736144/srahmani"}, "reply_to_user": {"reputation": 677, "user_id": 4560600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iIEvGUXnBjY/AAAAAAAAAAI/AAAAAAAAAd8/gdMOcdrBBRo/photo.jpg?sz=128", "display_name": "jriver27", "link": "https://stackoverflow.com/users/4560600/jriver27"}, "edited": false, "score": 0, "creation_date": 1539787381, "post_id": 52856697, "comment_id": 92630253, "body": "yep its worked before - I can give that a try"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1539787616, "post_id": 52856697, "comment_id": 92630396, "body": "@SRahmani May be this will help you <a href=\"https://filipmolcik.com/error-local-workspace-file-angular-json-could-not-be-found/\" rel=\"nofollow noreferrer\">filipmolcik.com/&hellip;</a>?"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1539787799, "post_id": 52856697, "comment_id": 92630501, "body": "@SRahmani Just make sure the global version of and local version  of angular cli are matching"}, {"owner": {"reputation": 240, "user_id": 3736144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/006bb4c438464654c284dc063e563711?s=128&d=identicon&r=PG&f=1", "display_name": "SRahmani", "link": "https://stackoverflow.com/users/3736144/srahmani"}, "reply_to_user": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1539792937, "post_id": 52856697, "comment_id": 92633396, "body": "@JameelM i probably should have clarified I am only trying to run locally - so should that matter?"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1539793662, "post_id": 52856697, "comment_id": 92633780, "body": "@SRahmani Ideally no. when you create a new angular cli project it uses global. but it&#39;s better to keep in sync to avoid any unusual behavior with the tool"}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 9980769, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZBJztz7nPcI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3yXFmDjXxiZ3APabtW8jtXbK8ZSg/mo/photo.jpg?sz=128", "display_name": "Crisostomo Ibarra", "link": "https://stackoverflow.com/users/9980769/crisostomo-ibarra"}, "is_accepted": false, "score": 0, "last_activity_date": 1539784809, "creation_date": 1539784809, "answer_id": 52856743, "question_id": 52856697, "link": "https://stackoverflow.com/questions/52856697/npm-start-server-errors/52856743#52856743", "title": "npm start server errors", "body": "<p>Have you tried this command ? npm cache clean -f </p>\n"}, {"tags": [], "owner": {"reputation": 21660, "user_id": 630496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ipwvI.jpg?s=128&g=1", "display_name": "jemiloii", "link": "https://stackoverflow.com/users/630496/jemiloii"}, "is_accepted": false, "score": 0, "last_activity_date": 1539801912, "creation_date": 1539801912, "answer_id": 52861662, "question_id": 52856697, "link": "https://stackoverflow.com/questions/52856697/npm-start-server-errors/52861662#52861662", "title": "npm start server errors", "body": "<p>Sounds like either your not in the same directory or you've recently upgraded node.</p>\n\n<p>Instead of doing an <code>npm upgrade</code> you can do an <code>ng update</code></p>\n\n<p>Check here for more info</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/wiki/update\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/update</a></p>\n\n<p>You should also check if you have an <code>angular-cli.json</code> file, which was renamed to <code>angular.json</code> for newer releases.</p>\n"}], "owner": {"reputation": 240, "user_id": 3736144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/006bb4c438464654c284dc063e563711?s=128&d=identicon&r=PG&f=1", "display_name": "SRahmani", "link": "https://stackoverflow.com/users/3736144/srahmani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539801912, "creation_date": 1539784682, "last_edit_date": 1539787343, "question_id": 52856697, "link": "https://stackoverflow.com/questions/52856697/npm-start-server-errors", "title": "npm start server errors", "body": "<p>I am trying to start my npm server ( yes I have deleted the <code>nodes_module</code> folder and <code>package-lock.json</code> file ) and npm installed in that same location numerous times. I have also tried <code>ng update @angular/cli</code>.</p>\n\n<p>Any help would be much appreciated.</p>\n\n<p>I am getting the following errors now</p>\n\n<pre><code>Local workspace file ('angular.json') could not be found.\nError: Local workspace file ('angular.json') could not be found.\n    at WorkspaceLoader._getProjectWorkspaceFilePath (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\workspace-loader.js:44:19)\n    at WorkspaceLoader.loadWorkspace (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\workspace-loader.js:31:21)\n    at BuildCommand._loadWorkspaceAndArchitect (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\architect-command.js:201:32)\n    at BuildCommand.&lt;anonymous&gt; (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\architect-command.js:53:25)\n    at Generator.next (&lt;anonymous&gt;)\n    at C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\architect-command.js:7:71\n    at new Promise (&lt;anonymous&gt;)\n    at __awaiter (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\architect-command.js:3:12)\n    at BuildCommand.initialize (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\architect-command.js:52:16)\n    at Object.&lt;anonymous&gt; (C:\\Users\\Shawn Rahmani\\Documents\\GitHub\\Community-Solar-Enrollment-Flow\\node_modules\\@angular\\cli\\models\\command-runner.js:127:23)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\n</code></pre>\n"}, {"tags": ["angular", "typescript", "post", "asp.net-web-api", "angular6"], "comments": [{"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1539784937, "post_id": 52856690, "comment_id": 92628576, "body": "Are you sure the backend API route is set up correctly to take an argument?"}, {"owner": {"reputation": 147, "user_id": 9485583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoeaB.jpg?s=128&g=1", "display_name": "musigh", "link": "https://stackoverflow.com/users/9485583/musigh"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1539785024, "post_id": 52856690, "comment_id": 92628637, "body": "Yes, I think so...updated my question."}, {"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539785470, "post_id": 52856690, "comment_id": 92628943, "body": "although 404 means the API is not found, can you try mapping your response before subscribing to it?"}, {"owner": {"reputation": 147, "user_id": 9485583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoeaB.jpg?s=128&g=1", "display_name": "musigh", "link": "https://stackoverflow.com/users/9485583/musigh"}, "edited": false, "score": 0, "creation_date": 1539785830, "post_id": 52856690, "comment_id": 92629185, "body": "But, it is working while POST and GET without that number argument."}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1539786194, "post_id": 52856690, "comment_id": 92629448, "body": "Does your route attribute need to be like <code>[Route(&quot;api&#47;seller_get_userHistory&#47;{UserId}&quot;)]</code>?"}, {"owner": {"reputation": 677, "user_id": 4560600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iIEvGUXnBjY/AAAAAAAAAAI/AAAAAAAAAd8/gdMOcdrBBRo/photo.jpg?sz=128", "display_name": "jriver27", "link": "https://stackoverflow.com/users/4560600/jriver27"}, "edited": false, "score": 0, "creation_date": 1539789343, "post_id": 52856690, "comment_id": 92631421, "body": "I&#39;m assuming you have the correct endpoint in the Service.ts file right? this is not right &#39;/api/getUserHistory&#39;. It should be <a href=\"http://localhost\" rel=\"nofollow noreferrer\">localhost</a>... blah .../api/getUserHistory"}], "answers": [{"tags": [], "owner": {"reputation": 677, "user_id": 4560600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iIEvGUXnBjY/AAAAAAAAAAI/AAAAAAAAAd8/gdMOcdrBBRo/photo.jpg?sz=128", "display_name": "jriver27", "link": "https://stackoverflow.com/users/4560600/jriver27"}, "is_accepted": false, "score": 1, "last_activity_date": 1539789511, "creation_date": 1539789511, "answer_id": 52858317, "question_id": 52856690, "link": "https://stackoverflow.com/questions/52856690/angular-6-service-post-request-giving-error404-with-number-argument/52858317#52858317", "title": "Angular 6 service Post request giving error(404) with number argument", "body": "<p>Your service file should have the correct endpoint.</p>\n\n<p>Service.ts</p>\n\n<pre><code>  getHistory(UserId: number): Observable&lt;History&gt; {\n    return this.http.post&lt;History&gt;('/api/getUserHistory', UserId);\n  }\n</code></pre>\n\n<p>To</p>\n\n<pre><code>  getHistory(UserId: number): Observable&lt;History&gt; {\n    return this.http.post&lt;History&gt;('http://yourHost/api/getUserHistory', UserId);\n  }\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 9485583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoeaB.jpg?s=128&g=1", "display_name": "musigh", "link": "https://stackoverflow.com/users/9485583/musigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539789511, "creation_date": 1539784666, "last_edit_date": 1539785105, "question_id": 52856690, "link": "https://stackoverflow.com/questions/52856690/angular-6-service-post-request-giving-error404-with-number-argument", "title": "Angular 6 service Post request giving error(404) with number argument", "body": "<p>I am using Angular 6 and new to it. Trying to get Data through POST request from Web API but failed and getting 404 error on service URL. The service is working with GET and POST request without this <code>number</code> argument and I think, that <code>UserId</code> as an argument is creating problem for me.</p>\n\n<p>Service.ts</p>\n\n<pre><code>  getHistory(UserId: number): Observable&lt;History&gt; {\n    return this.http.post&lt;History&gt;('/api/getUserHistory', UserId);\n  }\n</code></pre>\n\n<p>XYZ.component.ts</p>\n\n<pre><code>    ngOnInit() {\n    this.connectService.getHistory(8).subscribe(fi =&gt; {\n      console.log(fi);\n    });\n  }\n</code></pre>\n\n<p>ASP.NET Web API</p>\n\n<pre><code>    [Authorize]\n    [Route(\"api/seller_get_userHistory\")]\n    [HttpPost]\n    public HttpResponseMessage GetHistory(int UserId)\n    {\n        try\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 6, "creation_date": 1539784243, "post_id": 52856496, "comment_id": 92628094, "body": "Don&#39;t think you can do better then a type assertion <code>(Object.keys(v) as Array&lt;keyof typeof v&gt;)</code> the definition is what it is"}], "answers": [{"comments": [{"owner": {"reputation": 3141, "user_id": 2010955, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/87922d37974fbb6418e0c9593339a7ed?s=128&d=identicon&r=PG", "display_name": "user2010955", "link": "https://stackoverflow.com/users/2010955/user2010955"}, "edited": false, "score": 0, "creation_date": 1541153418, "post_id": 52856805, "comment_id": 93127383, "body": "Could you explain me why &quot;So keysof will likely be less than all properties you would get at runtime.&quot; ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3141, "user_id": 2010955, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/87922d37974fbb6418e0c9593339a7ed?s=128&d=identicon&r=PG", "display_name": "user2010955", "link": "https://stackoverflow.com/users/2010955/user2010955"}, "edited": false, "score": 1, "creation_date": 1541153707, "post_id": 52856805, "comment_id": 93127530, "body": "@user2010955 that is a quote from the GitHub thread, My understanding of it is that since you can add more properties to any object to JS, the <code>keyof</code> operator will not return the same things as <code>Objects.keys</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576261543, "post_id": 52856805, "comment_id": 104855355, "body": "There&#39;s also <a href=\"https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\" rel=\"nofollow noreferrer\">this quote from Anders</a> which shows their thinking process."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576263327, "post_id": 52856805, "comment_id": 104856089, "body": "@jcalz Thanks for the link \ud83d\ude0a. Just curios did you stumble upon this old answer, suing SO search I rarely find my own answers \ud83d\ude05"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 6, "creation_date": 1588225116, "post_id": 52856805, "comment_id": 108818461, "body": "<a href=\"https://stackoverflow.com/q/14034180/1218980\">Before extending <code>Object</code> with <code>typedKeys</code> (or anything you don&#39;t own), please take some time to read the pros and cons.</a>"}, {"owner": {"reputation": 787, "user_id": 485755, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4db38e4a78db25372c34a311f564d39d?s=128&d=identicon&r=PG", "display_name": "Daniele", "link": "https://stackoverflow.com/users/485755/daniele"}, "edited": false, "score": 0, "creation_date": 1598348209, "post_id": 52856805, "comment_id": 112422501, "body": "this answer is gold, you can use the same technique to cast the currentValue as enum"}, {"owner": {"reputation": 611, "user_id": 1153158, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/042b7e943afb548c0391cf80745cee28?s=128&d=identicon&r=PG", "display_name": "MDMower", "link": "https://stackoverflow.com/users/1153158/mdmower"}, "reply_to_user": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 2, "creation_date": 1599520842, "post_id": 52856805, "comment_id": 112793043, "body": "As @EmileBergeron pointed out, you might consider defining your own local function rather than extending the native properties of <code>Object</code>. For example: <code>function getTypedKeys&lt;T&gt;(obj: T): Array&lt;keyof T&gt; { return Object.keys(obj) as Array&lt;keyof typeof obj&gt;; }</code>. Then, where you would normally write <code>Object.keys(obj)</code>, you instead write <code>getTypedKeys(obj)</code>."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015578, "post_id": 52856805, "comment_id": 115146029, "body": "Would people mind upvoting how you are handling this problem today? (comment with anymore I&#39;m missing)"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015583, "post_id": 52856805, "comment_id": 115146033, "body": "1. inline assertions everywhere: <code>Object.keys(obj) as Array&lt;keyof typeof obj&gt;</code>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015591, "post_id": 52856805, "comment_id": 115146035, "body": "2. import <code>getTypedKeys</code> wrapper everywhere"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015619, "post_id": 52856805, "comment_id": 115146047, "body": "3. Global <code>window.getTypedKeys</code> wrapper"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015674, "post_id": 52856805, "comment_id": 115146083, "body": "4. Global <code>Object.typedKeys = Object.keys</code> alias"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 84, "last_activity_date": 1607013097, "last_edit_date": 1607013097, "creation_date": 1539784972, "answer_id": 52856805, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/52856805#52856805", "title": "TypeScript: Object.keys return string[]", "body": "<p><code>Object.keys</code> returns a <code>string[]</code>. This is by design as described in this <a href=\"https://github.com/Microsoft/TypeScript/issues/12870\" rel=\"noreferrer\">issue</a></p>\n<blockquote>\n<p>This is intentional. Types in TS are open ended. So keysof will likely be less than all properties you would get at runtime.</p>\n</blockquote>\n<p>There are several solution, the simplest one is to just use a type assertion:</p>\n<pre><code>const v = {\n    a: 1,\n    b: 2\n};\n\nvar values = (Object.keys(v) as Array&lt;keyof typeof v&gt;).reduce((accumulator, current) =&gt; {\n    accumulator.push(v[current]);\n    return accumulator;\n}, [] as (typeof v[keyof typeof v])[]);\n</code></pre>\n<p>You can also create an alias for <code>keys</code> in <code>Object</code> that will return the type you want:</p>\n<pre><code>export const v = {\n    a: 1,\n    b: 2\n};\n\ndeclare global {\n    interface ObjectConstructor {\n        typedKeys&lt;T&gt;(obj: T): Array&lt;keyof T&gt;\n    }\n}\nObject.typedKeys = Object.keys as any\n\nvar values = Object.typedKeys(v).reduce((accumulator, current) =&gt; {\n    accumulator.push(v[current]);\n    return accumulator;\n}, [] as (typeof v[keyof typeof v])[]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16434, "user_id": 411954, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/57add37bd3cf27dccb5d50174bd02697?s=128&d=identicon&r=PG&f=1", "display_name": "maxedison", "link": "https://stackoverflow.com/users/411954/maxedison"}, "edited": false, "score": 4, "creation_date": 1588283767, "post_id": 55721107, "comment_id": 108847978, "body": "Doesn&#39;t work <a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBA8gRgKygXigbwFBW1AZge3wC4oA7AVwFs4IAnAGixzgENaSLq6MBfDDAMb5SAZ2BR8iEvCSpMOPIRIBGRgtbsoATkZ8MBWlAAUQ0eIDWUAJakJiAJTom2UyPwAbCADp3+AOZGkggA2uYAuva8QA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1605414482, "post_id": 55721107, "comment_id": 114640997, "body": "With for..in, in the given playground link, k is just a string, there must have been some TS error that is making this now fail. It currently fails with a red underline on <code>obj[k]</code>: <code>Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index type &#39;Obj&#39;.  No index signature with a parameter of type &#39;string&#39; was found on type &#39;Obj&#39;.(7053)</code>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606973424, "post_id": 55721107, "comment_id": 115127169, "body": "With TS 4.1.2, for..in loop seems <i>no</i> different than the current Object.keys, with both of them, you just end up with <code>key: string</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6269864"}, "is_accepted": false, "score": -1, "last_activity_date": 1606973493, "last_edit_date": 1606973493, "creation_date": 1555482045, "answer_id": 55721107, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/55721107#55721107", "title": "TypeScript: Object.keys return string[]", "body": "<p>As a possible solution, you can iterate using <code>for..in</code> over your object:</p>\n<pre><code>for (const key in myObject) {\n  console.log(myObject[key].abc); // works, but `key` is still just `string`\n}\n</code></pre>\n<p>While this, as you said, would not work:</p>\n<pre><code>for (const key of Object.keys(myObject)) {\n  console.log(myObject[key].abc); // doesn't!\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27561, "user_id": 214446, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5deb6b87326686b1f2e9fdb37ceac210?s=128&d=identicon&r=PG", "display_name": "mb21", "link": "https://stackoverflow.com/users/214446/mb21"}, "edited": false, "score": 2, "creation_date": 1594909693, "post_id": 56133795, "comment_id": 111297476, "body": "this doesn&#39;t seem to work? <a href=\"https://www.typescriptlang.org/play/#code/MYewdgzgLgBCBGArGBeGBvAZiEAuGA5PAIYBOBAvgFBUDySApsFAHQDWDAnhABQKIBKFtlIBRYsAAWPHh075RADyikJUADxyQmGFE4AHBtrhIANDGikAlmADmAPgGp7GKjBihIsK1AYBbVBNEAG05AF0qCgEgA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1605414340, "post_id": 56133795, "comment_id": 114640978, "body": "I can&#39;t quite make sense of this. I guess, object keys don&#39;t have to be strings, they could be symbols or numbers. I think for 99% of cases where object keys ARE strings, is there any point to using Extract?"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1605414375, "post_id": 56133795, "comment_id": 114640980, "body": "This is the Extract signature: <code>type Extract&lt;T, U&gt; = T extends U ? T : never</code> and description: <code>Extract from T those types that are assignable to U</code>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1605414684, "post_id": 56133795, "comment_id": 114641024, "body": "Oh, I see. The Extract guarantee&#39;s that keyof the obj is a string. So filters our theoretical symbols and numbers that TS can&#39;t guarantee don&#39;t somehow don&#39;t appear at runtime, perhaps due to mutation."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606230560, "post_id": 56133795, "comment_id": 114896797, "body": "I see the utility of <code>Extract</code> now. Here&#39;s a different example: <a href=\"https://www.typescriptlang.org/play?#code/LAKANgpgLgBA9gIwFYwLwwN6hjAhgLhgHIBJPAWxgEEiAabGBQ0imAIToYHouZzcAngggwoAgA4QAzgGMATgEtxsACZxpRWAGsAdnADuMfQAtcsKMYVSYV2owCusfSN0GbUItaT2psX4p0AcxgtCAFrAApcHRUbADNRYwg5EVwUvB0BGD0dAFp-BSCQsKk7Zxg1HU0YGTTUhDhHRIhyAEoGADougCkAZQB5ADkO8TSpCAiGHD6hjoKghTiBSZAcNcwiex1XfR0aZjJcSi2dvbpiE71djgPWS4MdDgBfKZh21bfQF-BoGDi4OBoGD9ZAQGRQDqhcIRRBIVp4axUORyQQAHgAogAPKAo8GoqFwBJiSSE+DIOzzQIAPipoCAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?#code/&hellip;</a>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606230575, "post_id": 56133795, "comment_id": 114896803, "body": "Basically <code>let foo = Object.keys(obj) as Array&lt;Extract&lt;keyof typeof obj, string&gt;&gt;</code>"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1606245941, "post_id": 56133795, "comment_id": 114904376, "body": "Corban, thanks for your contribution. This answer is wrong. Imagine the following <code>const obj={a: &quot;hello&quot;, 1: 100}</code>. This is a valid JS object. But key will be typed as &quot;a&quot; only. This can lead to bugs. I think it is leading to confusion so might worth deleting. Otherwise add a warning that shouldn&#39;t be used."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606969220, "post_id": 56133795, "comment_id": 115126349, "body": "Actually we are all kind of missing something, <code>Object.keys({1: 100}) === [&#39;1&#39;]</code>. Object.keys actually coerces numerical keys to strings anyway. But, there&#39;s no way to convert <code>const foo = 1 as const</code> to have type <code>&#39;1&#39;</code> (literal string &quot;1&quot;)"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "reply_to_user": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1606973941, "post_id": 56133795, "comment_id": 115127282, "body": "@BenCarp I guess I totally disagree that this answer is wrong and shouldn&#39;t be used. I actually prefer to use <code>Extract</code> even though it will hide any numerical/symbolic keys, I&#39;m comfortable stuffing that cognitive burden further into the background"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606975076, "post_id": 56133795, "comment_id": 115127561, "body": "@DevinGRhode, it won&#39;t hide other keys. Hiding is great. It will actually give you the wrong type. It can lead to bugs."}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1606984210, "post_id": 56133795, "comment_id": 115130636, "body": "Further more, I don&#39;t understand how getting only strings as keys, even if there are other keys relates to the question."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1609111266, "post_id": 56133795, "comment_id": 115750813, "body": "So, I ultimately landed on your side Ben. I prefer creating typed aliases for Object.keys/entries/etc. Therefore, it&#39;s not good to globally hide any (potential!) numerical keys. Ultimately, people should <i>just not have numerical keys in the first place</i> as numerical keys, absolutely, have a fair chance of leading to bugs+confusion. By globally hiding the existence of numerical keys, developers don&#39;t have a good chance of noticing the issue. (Any yeah, currently I&#39;d say <i>any numerical keys</i> would indicate some sort of issue that should be addressed)."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1609111272, "post_id": 56133795, "comment_id": 115750814, "body": "All that said, developers could still use <code>Extract</code> to handle some specific, individual, funky type situation, but it&#39;d be best to not use <code>Extract</code> in a very global manner."}], "tags": [], "owner": {"reputation": 20810, "user_id": 69959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fb9c31cbd26f8bdfa26485cb7da6a84?s=128&d=identicon&r=PG", "display_name": "Corban Brook", "link": "https://stackoverflow.com/users/69959/corban-brook"}, "is_accepted": false, "score": 2, "last_activity_date": 1606969142, "last_edit_date": 1606969142, "creation_date": 1557847178, "answer_id": 56133795, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/56133795#56133795", "title": "TypeScript: Object.keys return string[]", "body": "<p>You can use the <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttu\" rel=\"nofollow noreferrer\">Extract</a> utility type to conform your param to only the <code>keys</code> of <code>obj</code> which are strings (thus, ignoring any numbers/symbols when you are coding).</p>\n<pre><code>const obj = {\n  a: 'hello',\n  b: 'world',\n  1: 123 // 100% valid\n} // if this was the literal code, you should add ` as const` assertion here\n\n// util\ntype StringKeys&lt;objType extends {}&gt; = Array&lt;Extract&lt;keyof objType, string&gt;&gt;\n\n// typedObjKeys will be ['a', 'b', '1'] at runtime\n// ...but it's type will be Array&lt;'a' | 'b'&gt;\nconst typedObjKeys = Object.keys(obj) as StringKeys&lt;typeof obj&gt;\n\ntypedObjKeys.forEach((key) =&gt; {\n  // key's type: 'a' | 'b'\n  // runtime: 'a', 'b', AND '1'\n  const value = obj[key]\n  // value will be typed as just `string` when it's really `string | number`\n})\n</code></pre>\n<p>All that said, most developers would probably consider having numbers as keys a poor design decision/bug to be fixed.</p>\n"}, {"comments": [{"owner": {"reputation": 21582, "user_id": 526518, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6d1a74b05c371163b43398b61ec3f85f?s=128&d=identicon&r=PG", "display_name": "tomermes", "link": "https://stackoverflow.com/users/526518/tomermes"}, "edited": false, "score": 3, "creation_date": 1590752130, "post_id": 59459000, "comment_id": 109806280, "body": "Should be selected answer!"}, {"owner": {"reputation": 307, "user_id": 1949906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b75f3ef5272c6b0d1722e2cb38af0704?s=128&d=identicon&r=PG", "display_name": "greaterKing", "link": "https://stackoverflow.com/users/1949906/greaterking"}, "edited": false, "score": 1, "creation_date": 1597767386, "post_id": 59459000, "comment_id": 112239051, "body": "This was actual very clear and concise ...thank you."}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 1, "creation_date": 1605416004, "post_id": 59459000, "comment_id": 114641173, "body": "@DevinGRhode, both solutions do the same, and are both legit. The difference is that getKeys hides assertion from the user. Therefor it creates an easier to use tool. The only thing is you might not expect the only functionality of a function to be type assertion which is why I lean towards the more explicit solution."}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 1, "creation_date": 1605416016, "post_id": 59459000, "comment_id": 114641174, "body": "@DevinGRhode, Do you mean I should move my solution above the discussion?"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 1, "creation_date": 1605547747, "post_id": 59459000, "comment_id": 114677599, "body": "@DevinGRhode, I value your feedback. I edited my answer per your suggestions."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606176426, "post_id": 59459000, "comment_id": 114878070, "body": "Thanks for the edit! I&#39;ve actually been finding this thread to be a pretty great reference. I really only learn+remember things when I actually have a need for them. To that end, I think you could probably be using <code>Extract</code> as seen in this other answer here: <a href=\"https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string#comment114640978_56133795\" title=\"typescript object keys return string%23comment114640978_56133795\">stackoverflow.com/questions/52856496/&hellip;</a> But, I could be wrong, I&#39;m curious to know what you think"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 1, "creation_date": 1606189341, "post_id": 59459000, "comment_id": 114880573, "body": "@DevinGRhode, 1) Inserting that code to my TS environment (TS 4.0.3) I get a TS error (<code>Type &#39;string&#39; is not assignable to type &#39;&quot;a&quot; | &quot;b&quot; | &quot;c&quot;&#39;</code>). 2) <code>keyof typeof obj</code> is typed litterally correctly. extracting only strings will be wrong if there is a key which is a number, or a symbol. 3) By asserting Object.keys() return immediately you account for any use cases then just using it in a forEach iterator."}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606218538, "post_id": 59459000, "comment_id": 114890669, "body": "@DevinGRhode, does it make sense?"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606230861, "post_id": 59459000, "comment_id": 114896947, "body": "Well, in a large number of cases, you may be able to assert that you are just going to be getting strings. I guess, you could typecast to <code>string[]</code>, but, I think <code>Extract</code> gives you a better chance of being more specific than that. I&#39;ve never seen Object.keys called on something where they weren&#39;t just expecting an array of strings. Array indices are just numbers."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606233619, "post_id": 59459000, "comment_id": 114898488, "body": "I&#39;m having a hard time coming up with a good example, but maybe this will help: bit.ly/3727Gu8 (redirects to typescript playground)"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606238083, "post_id": 59459000, "comment_id": 114900755, "body": "I&#39;ve sort of gone full circle in confusing myself. Object.keys returns string[], by definition. But in certain situations you have <code>(symbol | number | string)[]</code> instead. I&#39;m not sure exactly what situations yield the symbol/number/string union array."}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 1, "creation_date": 1606245265, "post_id": 59459000, "comment_id": 114904089, "body": "@DevinGRhode, As far as I can tell Object.keys does not return string[] by default. An object might have some keys which are numbers, or aymbols etc. However, if Typescript only recognizes &quot;a&quot; and &quot;someKey&quot; as keys, it will type the return as string[]. Meaning TS won&#39;t type the return literally but by the group. If it recognizes a few strings and one number as keys, it will type the return as <code>Array&lt;number|string&gt;</code>"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1606245421, "post_id": 59459000, "comment_id": 114904155, "body": "As far as I can tell the extract solution is wrong, might lead to bugs, and might be the source of your confusion."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 1, "creation_date": 1609111369, "post_id": 59459000, "comment_id": 115750829, "body": "So, I ultimately landed on your side Ben. I prefer creating typed aliases for Object.keys/entries/etc. Therefore, it&#39;s not good to globally hide any (potential!) numerical keys. Ultimately, people should <i>just not have numerical keys in the first place</i> as numerical keys, absolutely, have a fair chance of leading to bugs+confusion. By globally hiding the existence of numerical keys, developers don&#39;t have a good chance of noticing the issue. (Any yeah, currently I&#39;d say <i>any numerical keys</i> would indicate some sort of issue that should be addressed)."}], "tags": [], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "is_accepted": false, "score": 28, "last_activity_date": 1605941276, "last_edit_date": 1605941276, "creation_date": 1577121093, "answer_id": 59459000, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/59459000#59459000", "title": "TypeScript: Object.keys return string[]", "body": "<h2>Based on Titian Cernicova-Dragomir answer and comment</h2>\n<p>Use type assertion only if you know that your object doesn't have extra properties (such is the case for an object literal but not an object parameter).</p>\n<p><strong>Explicit assertion</strong></p>\n<pre><code>Object.keys(obj) as Array&lt;keyof typeof obj&gt;\n</code></pre>\n<p><strong>Hidden assertion</strong></p>\n<pre><code>const getKeys = Object.keys as &lt;T extends object&gt;(obj: T) =&gt; Array&lt;keyof T&gt;\n</code></pre>\n<p>Use <code>getKeys</code> instead of <code>Object.keys</code>. <code>getKeys</code> is a ref to <code>Object.keys</code>, but the return is typed literally.</p>\n<h3>Discussions</h3>\n<blockquote>\n<p>One of TypeScript\u2019s core principles is that type checking focuses on the shape that values have. (<a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"noreferrer\">reference</a>)</p>\n</blockquote>\n<pre><code>interface SimpleObject {\n   a: string \n   b: string \n}\n\nconst x = {\n   a: &quot;article&quot;, \n   b: &quot;bridge&quot;,\n   c: &quot;Camel&quot; \n}\n\n</code></pre>\n<p><code>x</code> qualifies as a <code>SimpleObject</code> because it has it's shape. This means that when we see a <code>SimpleObject</code>, we know that it has properties <code>a</code> and <code>b</code>, but it might have additional properties as well.</p>\n<pre><code>const someFunction = (obj: SimpleObject) =&gt; {\n    Object.keys(obj).forEach((k)=&gt;{\n        ....\n    })\n}\n\nsomeFunction(x)\n</code></pre>\n<p>Let's see what would happen if by default we would type Object.keys as desired by the OP &quot;literally&quot;:</p>\n<p>We would get that <code>typeof k</code> is <code>&quot;a&quot;|&quot;b&quot;</code>. When iterating the actual values would be <code>a</code>, <code>b</code>, <code>c</code>. Typescript protects us from such an error by typing k as a string.</p>\n<p>Type assertion is exactly for such cases - when the programmer has additional knowledge. if you know that <code>obj</code> doesn't have extra properties you can use literal type assertion.</p>\n"}, {"comments": [{"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015327, "post_id": 60120246, "comment_id": 115145890, "body": "Missing actual javascript definition of <code>window.BetterObject = {keys: Object.keys}</code>"}], "tags": [], "owner": {"reputation": 51, "user_id": 12860627, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9b89d67aae0538f09440144ac8d4782c?s=128&d=identicon&r=PG", "display_name": "Jeff Stock", "link": "https://stackoverflow.com/users/12860627/jeff-stock"}, "is_accepted": false, "score": 5, "last_activity_date": 1581105397, "creation_date": 1581105397, "answer_id": 60120246, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/60120246#60120246", "title": "TypeScript: Object.keys return string[]", "body": "<p>See <a href=\"https://github.com/microsoft/TypeScript/issues/20503\" rel=\"noreferrer\">https://github.com/microsoft/TypeScript/issues/20503</a>.</p>\n\n<pre><code>declare const BetterObject: {\n  keys&lt;T extends {}&gt;(object: T): (keyof T)[]\n}\n\nconst icons: IconName[] = BetterObject.keys(IconMap)\n</code></pre>\n\n<p>Will retain type of keys instead of <code>string[]</code></p>\n"}, {"comments": [{"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606941218, "post_id": 65079383, "comment_id": 115119315, "body": "I like the direction you are headed. I&#39;d hope that we don&#39;t need to repeat the JSDoc signature description for each signature. I think there is a way to fix the <code>never</code> situation, but I&#39;m not sure off hand."}, {"owner": {"reputation": 116, "user_id": 7050326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1280471058684311/picture?type=large", "display_name": "Alexandre Dias", "link": "https://stackoverflow.com/users/7050326/alexandre-dias"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606970877, "post_id": 65079383, "comment_id": 115126628, "body": "Yeah, I created this really fast and it supports all of my team&#39;s use cases, I can give it another try latter on but no promises there..."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606972882, "post_id": 65079383, "comment_id": 115127049, "body": "I cleaned up some of the repeating comments. I&#39;m curious if you could explain what the end result of having the multiple signatures is. (Also, is repeating the jsdoc comments is necessary? I haven&#39;t used it like this before)"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606974633, "post_id": 65079383, "comment_id": 115127447, "body": "the <code>interface ObjectConstructor extends Omit&lt;ObjectConstructor, </code> seems incorrect/wrong because <code>ObjectContructor</code> recursively references itself"}, {"owner": {"reputation": 116, "user_id": 7050326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1280471058684311/picture?type=large", "display_name": "Alexandre Dias", "link": "https://stackoverflow.com/users/7050326/alexandre-dias"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015169, "post_id": 65079383, "comment_id": 115145787, "body": "When you declare ObjectConstructor there will be 2 references to ObjectConstructor, the new one and the old one.  Since Im using ObjectConstructor at the declaration state of the interface, it will references the old interface, not itself.  I mean.... at least I think so :P"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015179, "post_id": 65079383, "comment_id": 115145794, "body": "with the <code>declare var</code> I was only seeing the type override apply in the one file that this declaration is in :("}, {"owner": {"reputation": 116, "user_id": 7050326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1280471058684311/picture?type=large", "display_name": "Alexandre Dias", "link": "https://stackoverflow.com/users/7050326/alexandre-dias"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607015278, "post_id": 65079383, "comment_id": 115145854, "body": "I use VsCode, and sometimes, when I&#39;m facing that exact same problem (the interface/type is only being overridden locally), restarting the TS Server solves the issues... most of the times at least"}, {"owner": {"reputation": 116, "user_id": 7050326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1280471058684311/picture?type=large", "display_name": "Alexandre Dias", "link": "https://stackoverflow.com/users/7050326/alexandre-dias"}, "reply_to_user": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1607023050, "post_id": 65079383, "comment_id": 115149347, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/225488/discussion-between-alexandre-dias-and-devin-g-rhode\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 116, "user_id": 7050326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1280471058684311/picture?type=large", "display_name": "Alexandre Dias", "link": "https://stackoverflow.com/users/7050326/alexandre-dias"}, "is_accepted": false, "score": 4, "last_activity_date": 1606972802, "last_edit_date": 1606972802, "creation_date": 1606762033, "answer_id": 65079383, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/65079383#65079383", "title": "TypeScript: Object.keys return string[]", "body": "<p>I completely disagree with Typescript's team's decision...<br />\nFollowing their logic, <code>Object.values</code> should always return any, as we could add more properties at run-time...</p>\n<p>I think the proper way to go is to <strong>create interfaces with optional properties</strong> and set (or not) those properties as you go...</p>\n<p>So I simply overwrote locally the <code>ObjectConstructor</code> interface, by adding a declaration file (aka: whatever.d.ts) to my project with the following content:</p>\n<pre><code>\ndeclare interface ObjectConstructor extends Omit&lt;ObjectConstructor, 'keys' | 'entries'&gt; {\n    /**\n     * Returns the names of the enumerable string properties and methods of an object.\n     * @param obj Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n     */\n    keys&lt;O extends any[]&gt;(obj: O): Array&lt;keyof O&gt;;\n    keys&lt;O extends Record&lt;Readonly&lt;string&gt;, any&gt;&gt;(obj: O): Array&lt;keyof O&gt;;\n    keys(obj: object): string[];\n\n    /**\n     * Returns an array of key/values of the enumerable properties of an object\n     * @param obj Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n     */\n    entries&lt;T extends { [K: Readonly&lt;string&gt;]: any }&gt;(obj: T): Array&lt;[keyof T, T[keyof T]]&gt;\n    entries&lt;T extends object&gt;(obj: { [s: string]: T } | ArrayLike&lt;T&gt;): [string, T[keyof T]][];\n    entries&lt;T&gt;(obj: { [s: string]: T } | ArrayLike&lt;T&gt;): [string, T][];\n    entries(obj: {}): [string, any][];\n}\n\ndeclare var Object: ObjectConstructor;\n</code></pre>\n<h1>Note:</h1>\n<p>Object.keys/Object.entries of primitive types (object) will return never[] and [never, never][] instead of the normal string[] and [string, any][]. If anyone knows a solutions, please, feel free to tell me in the comments and I will edit my answer</p>\n<pre><code>const a: {} = {};\nconst b: object = {};\nconst c: {x:string, y:number} = { x: '', y: 2 };\n\n// before\nObject.keys(a) // string[]\nObject.keys(b) // string[]\nObject.keys(c) // string[]\nObject.entries(a) // [string, unknown][]\nObject.entries(b) // [string, any][]\nObject.entries(c) // [string, string|number][]\n\n// after\nObject.keys(a) // never[]\nObject.keys(b) // never[]\nObject.keys(c) // ('x'|'y')[]\nObject.entries(a) // [never, never][]\nObject.entries(b) // [never, never][]\nObject.entries(c) // ['x'|'y', string|number][]\n</code></pre>\n<p>So, <strong>use this with caution</strong>...</p>\n"}, {"comments": [{"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606950433, "post_id": 65117465, "comment_id": 115122566, "body": "This could be slightly improved but at the cost of some runtime code: <code>(obj) =&gt; Object.keys(obj).filter(key =&gt; typeof key === &#39;string&#39;)</code> - this should allow you to reduce <code>Extract&lt;keyof T , string&gt;</code> to <code>keyof T</code>"}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1606973571, "post_id": 65117465, "comment_id": 115127192, "body": "Actually, this .filter call won&#39;t do anything, since all numerical keys will be converted to strings anyway."}, {"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1609118417, "post_id": 65117465, "comment_id": 115752004, "body": "More comments on Extract and mixing of types: <a href=\"https://gist.github.com/devinrhode2/5a7fc596f22b6307a5861baf0cc22066\" rel=\"nofollow noreferrer\">gist.github.com/devinrhode2/5a7fc596f22b6307a5861baf0cc22066</a>"}], "tags": [], "owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "is_accepted": false, "score": 1, "last_activity_date": 1609265441, "last_edit_date": 1609265441, "creation_date": 1606950309, "answer_id": 65117465, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string/65117465#65117465", "title": "TypeScript: Object.keys return string[]", "body": "<h1>Import approach</h1>\n<p>If you may be working in a monorepo, or are taking a 10-year perspective, you might prefer an import based approach (importing is pretty easy inside vscode anyway, literally just hit <code>&lt;tab&gt;</code>)</p>\n<p>Just put this somewhere and then type <code>ObjectT</code> hit <code>&lt;tab&gt;</code> and it should get auto-imported when using vscode</p>\n<pre><code>/**\n * Nicely typed aliases for some `Object` Methods\n * - PSA: Don't mutate `yourObject`s\n * - Numerical keys are BAD, resolve that issue upstream\n * - Discussion: https://stackoverflow.com/a/65117465/565877\n */\nexport const ObjectTyped = {\n  /**\n   * Object.keys, but with nice typing (`Array&lt;keyof T&gt;`)\n   */\n  keys: Object.keys as &lt;T extends {}&gt;(yourObject: T) =&gt; Array&lt;keyof T&gt;,\n  /**\n   * Object.values, but with nice typing\n   */\n  values: Object.values as &lt;T extends {}&gt;(yourObject: T) =&gt; Array&lt;T[keyof T]&gt;,\n  /**\n   * Object.entries, but with nice typing\n   */\n  entries: Object.entries as &lt;T extends {}&gt;(\n    yourObject: T\n  ) =&gt; Array&lt;[keyof T, T[keyof T]]&gt;,\n  /**\n   * Object.fromEntries, but with nice typing\n   */\n  fromEntries: Object.fromEntries as &lt;K extends string, V&gt;(\n    yourObjectEntries: [K, V][]\n  ) =&gt; Record&lt;K, V&gt;\n}\n</code></pre>\n<h1>Globals</h1>\n<h3>If you prefer globals, add this to you <code>src/index.ts</code>:</h3>\n<pre><code>interface ObjectTypedInterface {\n  /**\n   * Object.keys, but with nice typing (`Array&lt;keyof T&gt;`)\n   */\n  keys&lt;T extends {}&gt;(yourObject: T): Array&lt;keyof T&gt;\n\n  /**\n   * Object.values, but with nice typing\n   */\n  values&lt;T extends {}&gt;(yourObject: T): Array&lt;T[keyof T]&gt;\n\n  /**\n   * Object.entries, but with nice typing\n   */\n  entries&lt;T extends {}&gt;(yourObject: T): Array&lt;[keyof T, T[keyof T]]&gt;\n\n  /**\n   * Object.fromEntries, but with nice typing\n   */\n  fromEntries&lt;K extends string, V&gt;(yourObjectEntries: [K, V][]): Record&lt;K, V&gt;\n}\n\ndeclare global {\n  /**\n   * Nicely typed aliases for some `Object` Methods\n   * - PSA: Don't mutate `yourObject`s\n   * - Numerical keys are BAD, resolve that issue upstream\n   * - Discussion: https://stackoverflow.com/a/65117465/565877\n   */\n  let ObjectTyped: ObjectTypedInterface\n  interface Window {\n    ObjectTyped: ObjectTypedInterface\n  }\n}\n\nwindow.ObjectTyped = {\n  keys: Object.keys,\n  values: Object.values,\n  entries: Object.entries,\n  fromEntries: Object.fromEntries\n}\n</code></pre>\n<p>Here's what you'll see when hovering over <code>TypedObject</code> (Renamed to <code>ObjectTyped</code> since it's easier to discover. If you type <code>Object</code> then you can potentially notice <code>ObjectTyped</code>)</p>\n<p><a href=\"https://i.stack.imgur.com/vbGAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbGAh.png\" alt=\"TypedObject info hover box\" /></a></p>\n<p>And <code>.entries</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/z65pM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z65pM.png\" alt=\"dot entries info hover box\" /></a></p>\n<p>And <code>yourEntries</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/OIBOb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OIBOb.png\" alt=\"yourEntries info hover box\" /></a></p>\n<p>Both approaches avoids mutating <code>Object.keys</code> behavior <em>in any way</em> across your whole codebase. It's an explicit opt-in. The javascript defining the aliases is right next to the TS declaration.</p>\n<p>Of course, developers will need to discover <code>ObjectTyped.keys</code>, but, if it's used all over a codebase, it shouldn't take long to discover it.</p>\n<p>======</p>\n<p>Both approaches eschew using <code>Extract&lt;keyof T, string&gt;</code>, since these are meant to be used across a whole codebase, it might not be the safest default (You might want to know if you have non-string keys, and handle that on a case by case basis, or address the root cause of non-string keys)</p>\n<p>If you just want to always see string keys, you can change <code>Array&lt;keyof T&gt;</code> to <code>Array&lt;Extract&lt;keyof T, string&gt;&gt;</code>, and you should still be fine <em>most of the time.</em></p>\n"}], "owner": {"reputation": 6209, "user_id": 1935318, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ftlsb.jpg?s=128&g=1", "display_name": "amaurym", "link": "https://stackoverflow.com/users/1935318/amaurym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62225, "favorite_count": 18, "accepted_answer_id": 52856805, "answer_count": 7, "score": 76, "last_activity_date": 1609265441, "creation_date": 1539784095, "question_id": 52856496, "link": "https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string", "title": "TypeScript: Object.keys return string[]", "body": "<p>When using <code>Object.keys(obj)</code>, the return value is a <code>string[]</code>, whereas I want a <code>(keyof obj)[]</code>.</p>\n\n<pre><code>const v = {\n    a: 1,\n    b: 2\n}\n\nObject.keys(v).reduce((accumulator, current) =&gt; {\n    accumulator.push(v[current]);\n    return accumulator;\n}, []);\n</code></pre>\n\n<p>I have the error:</p>\n\n<blockquote>\n  <p>Element implicitly has an 'any' type because type '{ a: number; b: number; }' has no index signature.</p>\n</blockquote>\n\n<p>TypeScript 3.1 with <code>strict: true</code>. Playground: <a href=\"http://www.typescriptlang.org/play/#src=const%20v%20%3D%20%7B%0D%0A%20%20%20%20a%3A%201%2C%0D%0A%20%20%20%20b%3A%202%0D%0A%7D%0D%0A%0D%0AObject.keys(v).reduce((accumulator%2C%20current)%20%3D%3E%20%7B%0D%0A%20%20%20%20accumulator.push(v%5Bcurrent%5D)%3B%0D%0A%20%20%20%20return%20accumulator%3B%0D%0A%7D%2C%20%5B%5D)%3B%0D%0A\" rel=\"noreferrer\">here</a>, please check all checkboxes in <code>Options</code> to activate <code>strict: true</code>.</p>\n"}, {"tags": ["angular", "typescript", "filter", "autocomplete"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1539784348, "post_id": 52856360, "comment_id": 92628165, "body": "So you have a constant (selectedIDproducts) that filters products. And yet underneath it you have a subscription that then assigns selectedIDproducts to a value? Perhaps show us a little more code like the structure of your objects, there may be a much easier way to achieve what you&#39;re looking for."}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1539785210, "post_id": 52856360, "comment_id": 92628772, "body": "I add more details in my post. Thank you!"}, {"owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "edited": false, "score": 0, "creation_date": 1539786794, "post_id": 52856360, "comment_id": 92629882, "body": "When you iterate in <code>for</code> loop and set <code>selectedIDproducts</code> you are overriding any previous value it had (therefore you get only the last value).  I think you should make <code>selectedIDproducts</code> be a <code>string[]</code> and use push to add values (<code>this.selectedIDproducts.push(ss.s_serial);</code>)."}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539787760, "post_id": 52856360, "comment_id": 92630480, "body": "I try, but in <code>selectedIDproducts: string[] =..</code> show this error <code>[ts] Type &#39;string&#39; is not assignable to type &#39;string[]&#39;.</code>"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1539789608, "post_id": 52856360, "comment_id": 92631569, "body": "@rrd Have you any idea please?"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1539847928, "post_id": 52856360, "comment_id": 92651615, "body": "@rrd have you any idea? How to solution this problem please?"}], "owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539785178, "creation_date": 1539783692, "last_edit_date": 1539785178, "question_id": 52856360, "link": "https://stackoverflow.com/questions/52856360/how-to-save-id-product-when-i-find-this-id-with-find-using-angular", "title": "How to save id_product when I find this id with find() using Angular", "body": "<p>I want to save id of product in FormArray.</p>\n\n<p>First, are products:</p>\n\n<pre><code> {\n        \"StatusCode\": 0,\n        \"StatusMessage\": \"OK\",\n        \"StatusDescription\": [\n             {\n                \"s_id\": \"11E8C70C8A5D78888E6EFA163EBBBC1D\",\n                \"s_serial\": \"PkMGo\",\n                \"active\": 0,\n              },\n             {\n                \"s_id\": \"11E8C70FB9D10DB38E6EFA163EBBBC1D\",\n                \"s_serial\": \"UgooX\",\n                \"active\": 0,\n                },\n              {\n                \"s_id\": \"11E8C7179F85836D8E6EFA163EBBBC1D\",\n                \"s_serial\": \"IiLnM\",\n                \"active\": 0,\n                }, .....\n            {\n                \"s_id\": \"11E8C71905123F1A8E6EFA163EBBBC1D\",\n                \"s_serial\": \"LVpcP\",\n                \"active\": 0,\n             }\n              }]\n }\n</code></pre>\n\n<p>Seconds, I have this JSON that get by product: homeboxp</p>\n\n<pre><code>{\n    \"StatusCode\":0,\n    \"StatusMessage\":\"OK\",\n    \"StatusDescription\":\n    {\"products\":[\n            {\n                \"s_serial\":\"PkMGo\",\n                \"s_id\":\"11E8C70C8A5D78888E6EFA163EBBBC1D\"\n            },\n            {\n                \"s_serial\":\"LVpcP\",\n                \"s_id\":\"11E8C71905123F1A8E6EFA163EBBBC1D\"\n            },\n            {\n                \"s_serial\":\"IiLnM\",\n                \"s_id\":\"11E8C7179F85836D8E6EFA163EBBBC1D\"\n            }\n            ],\n                \"hb_id\":\"11E8C71242B742EC8E6EFA163EBBBC1D\",\n                \"active\":0,\n          }\n}\n</code></pre>\n\n<p>With this filter I can find id_product:</p>\n\n<pre><code>product: Product;\nproducts: Product[]=[]\n\nselectedIDproducts: string =\n  this.products.filter(x =&gt; x.s_id === this.product.s_id[0])\n    .map(y =&gt; y.s_serial).join('');\n\nthis.ss.getAllproducts ().subscribe(products =&gt; {\n  this.products = products;\n  if (this.products &amp;&amp; this.products.length &gt; 0) {\n    for (let i = 0; i &lt; this.products.length; i++) {\n      let ss = this.products.find(x =&gt; {\n        let p = this.homeboxp.sensors[i];\n        return (p &amp;&amp; x.s_id === p.s_id);\n      });\n      if (ss) {\n        this.selectedIDproducts = ss.s_serial;\n        console.log(this.selectedIDproducts)\n      }\n    }\n  }\n});\n</code></pre>\n\n<p>Now, these I should be save in an array.</p>\n\n<p>Actually I post name of product in array, with this form:</p>\n\n<pre><code>get formData() { return &lt;FormArray&gt;this.editForm.get('s_id'); }\n\n\n\n populateForm() {\n    this.activatedRoute.params.pipe(flatMap(params =&gt; this.ws.getproductById(params['id'])))\n      .subscribe(\n    ..............\n    homeboxp =&gt; {\n      this.homeboxp = homeboxp;\n      .........\n      this.homeboxp.sensors.forEach(x =&gt; {\n        this.formData.push(new FormControl(x.s_serial))\n      }););}\n</code></pre>\n\n<p>I try to save like this:</p>\n\n<pre><code>this.editForm.value['s_id'] = this.selectedIDproducts\n</code></pre>\n\n<p>but, I save only the latest id product.</p>\n\n<p>autocomplete code:</p>\n\n<pre><code>&lt;div *ngFor=\"let sensor of sensorsIdFormArray; let i = index\"&gt;\n    &lt;input formControlName=\"{{i}}\" id=\"sensors_id\" type=\"text\" placeholder=\"Select Product\" aria-label=\"Number\" matInput [matAutocomplete]=\"auto1\"&gt;\n    &lt;mat-autocomplete autoActiveFirstOption #auto1=\"matAutocomplete\" [displayWith]=\"displayWith\"&gt;\n      &lt;mat-option (onSelectionChange)=\"updateForm($event, sensor.s_serial, 's_id', i)\"\n        *ngFor=\"let sensor of filteredProducts | async | myPipe: products : 's_serial': i\" [value]=\"sensor.s_id\"&gt;\n        {{sensor.s_serial}}\n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Update Function, when I add ore remove product.</p>\n\n<pre><code>  updateForm(ev: any, idd: any, componentid: any, index) {\n    if (ev.isUserInput) {\n      if (componentid === 's_id') {\n        (&lt;FormArray&gt;this.editForm.get('s_id')).at(index).patchValue(ev.source.viewValue);\n      } else {\n        console.log('error');\n      }\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "mongodb", "typescript", "mongoose"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1539783635, "post_id": 52856264, "comment_id": 92627706, "body": "Seems like it should be <code>AnimalInstance.find()</code> rather than <code>AnimalSchema.find</code>"}, {"owner": {"reputation": 7473, "user_id": 5231877, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/A6ERH.jpg?s=128&g=1", "display_name": "Ivan Semochkin", "link": "https://stackoverflow.com/users/5231877/ivan-semochkin"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1539784066, "post_id": 52856264, "comment_id": 92627971, "body": "@ExplosionPills thank you. My mistake I updated the question"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539923465, "post_id": 52856264, "comment_id": 92684779, "body": "It looks like the <code>@types&#47;mongoose</code> declarations need significant changes to support custom query helpers.  I&#39;m working on it."}], "answers": [{"comments": [{"owner": {"reputation": 7473, "user_id": 5231877, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/A6ERH.jpg?s=128&g=1", "display_name": "Ivan Semochkin", "link": "https://stackoverflow.com/users/5231877/ivan-semochkin"}, "edited": false, "score": 0, "creation_date": 1539968567, "post_id": 52895077, "comment_id": 92706286, "body": "Thanks it works, I actually did my own solution but it is not as elegant as yours."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 7473, "user_id": 5231877, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/A6ERH.jpg?s=128&g=1", "display_name": "Ivan Semochkin", "link": "https://stackoverflow.com/users/5231877/ivan-semochkin"}, "edited": false, "score": 1, "creation_date": 1539988397, "post_id": 52895077, "comment_id": 92713560, "body": "OK, here is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/29894\" rel=\"nofollow noreferrer\">the DefinitelyTyped pull request</a>."}, {"owner": {"reputation": 4324, "user_id": 3763848, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47078b76755df9945b9094a82976a8b9?s=128&d=identicon&r=PG", "display_name": "Vassilis Pallas", "link": "https://stackoverflow.com/users/3763848/vassilis-pallas"}, "edited": false, "score": 0, "creation_date": 1607223758, "post_id": 52895077, "comment_id": 115204165, "body": "I think <code>Promise&lt;any&gt;</code> should be changed with <code>MongooseQuery&lt;IArticle&gt;</code>. I tried with this solution but I couldn&#39;t chain any query helpers after my custom functions (both static and query helper)."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 5, "last_activity_date": 1539961331, "creation_date": 1539961331, "answer_id": 52895077, "question_id": 52856264, "link": "https://stackoverflow.com/questions/52856264/how-to-define-custom-query-helper-in-mongoose-model-with-typescript/52895077#52895077", "title": "How to define custom query helper in mongoose model with typescript?", "body": "<p>I've drafted <a href=\"https://github.com/mattmccutchen/DefinitelyTyped/tree/mongoose-query-helpers/types/mongoose\" rel=\"noreferrer\">a new version of <code>@types/mongoose</code></a> that supports query helpers.  See <a href=\"https://stackoverflow.com/a/52503107\">this answer</a> for ways to install a modified <code>@types</code> package.  With my version, you should be able to write the following in <code>models/article.ts</code>:</p>\n\n<pre><code>import { Document, Schema, Model, model, DocumentQuery } from 'mongoose';\n\ninterface IArticle extends Document {\n   name: string;\n}\n\ninterface IArticleModel extends Model&lt;IArticle, typeof articleQueryHelpers&gt; {\n   someStaticMethod(): Promise&lt;any&gt;;\n}\n\nconst ArticleSchema = new Schema( { name: String } )\n\nlet articleQueryHelpers = {\n    byName(this: DocumentQuery&lt;any, IArticle&gt;, name: string) {\n        return this.find({ name });\n    }\n};\nArticleSchema.query = articleQueryHelpers;\n\nexport default model&lt;IArticle, IArticleModel&gt;('Article', ArticleSchema);\n</code></pre>\n\n<p>and then <code>routes/article.ts</code> will work.  If this works for you, then I will submit a pull request to the original package on DefinitelyTyped.</p>\n"}], "owner": {"reputation": 7473, "user_id": 5231877, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/A6ERH.jpg?s=128&g=1", "display_name": "Ivan Semochkin", "link": "https://stackoverflow.com/users/5231877/ivan-semochkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 52895077, "answer_count": 1, "score": 1, "last_activity_date": 1539961331, "creation_date": 1539783423, "last_edit_date": 1539784449, "question_id": 52856264, "link": "https://stackoverflow.com/questions/52856264/how-to-define-custom-query-helper-in-mongoose-model-with-typescript", "title": "How to define custom query helper in mongoose model with typescript?", "body": "<p>I want to define custom query helper using  <a href=\"https://mongoosejs.com/docs/guide.html#query-helpers\" rel=\"nofollow noreferrer\">query helper api</a> . \nHere the example:</p>\n\n<pre><code>// models/article.ts\n\nimport { Document, Schema, Model, model } from 'mongoose';\n\ninterface IArticle extends Document {\n   name: string;\n}\n\ninterface IArticleModel extends Model&lt;IArticle&gt; {\n   someStaticMethod(): Promise&lt;any&gt;;\n}\n\nconst ArticleSchema = new Schema( { name: String } )\n\nArticleSchema.query.byName = function(name) {\n    return this.find({ name })\n}\n\nexport default model&lt;IArticle, IArticleModel&gt;('Article', ArticleSchema);\n\n\n\n// routes/article.ts\nimport ArticleModel from '../models/article.ts'\n\nrouter.get('/articles, (req, res) =&gt; {\n    ArticleModel.find().byName('example')\n})\n</code></pre>\n\n<p>Typescript complains about <code>byName</code> method when I chain it with defaults.<br>\nI can put it in <code>IArticleModel</code> interface but in that case I could only call it from model.<br>\nWhere should I put the definition of this method to use it in chainable way?</p>\n"}, {"tags": ["typescript", "testing", "jestjs", "supertest", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10518702, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w8Ugrzlf3ic/AAAAAAAAAAI/AAAAAAAAAHU/AkiOBh0cV9A/photo.jpg?sz=128", "display_name": "Marko Kova\u010devi\u0107", "link": "https://stackoverflow.com/users/10518702/marko-kova%c4%8devi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1539869182, "creation_date": 1539869182, "answer_id": 52875147, "question_id": 52855958, "link": "https://stackoverflow.com/questions/52855958/nest-js-fastify-testing-typeerror-app-address-is-not-a-function/52875147#52875147", "title": "Nest.js Fastify testing TypeError: app.address is not a function", "body": "<p>I've missed the documentation regarding Nest.js testing for fastify which can be found in the source code of Nest.js but not on the site docs. When using fastify we need to use IT's testing methods from their docs. Following example is working correctly:\n</p>\n\n<pre><code>beforeAll(async () =&gt; {\n    const fastifyAdapter = new FastifyAdapter();\n    fastifyAdapter.register(fastifyCookie);\n\n    const module = await Test.createTestingModule({\n      imports: [AuthenticationModule],\n    })\n      .overrideProvider(UserRepository)\n      .useValue(userRepository)\n      .compile();\n\n    app = module.createNestApplication(fastifyAdapter);\n    await app.init();\n});\n\nit(`/POST register - should succeed for valid info`, () =&gt; {\n    return app\n      .inject({\n        method:  'POST',\n        url:     '/authentication/register',\n        payload: { email: 'johnson@gmail.com', password: '1234' },\n      })\n      .then(({ statusCode, payload }) =&gt; {\n        expect(payload).toEqual('');\n        expect(statusCode).toEqual(201);\n      });\n});\n\nafterAll(async () =&gt; {\n    await app.close();\n});\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10518702, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w8Ugrzlf3ic/AAAAAAAAAAI/AAAAAAAAAHU/AkiOBh0cV9A/photo.jpg?sz=128", "display_name": "Marko Kova\u010devi\u0107", "link": "https://stackoverflow.com/users/10518702/marko-kova%c4%8devi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541071440, "creation_date": 1539782508, "last_edit_date": 1541071440, "question_id": 52855958, "link": "https://stackoverflow.com/questions/52855958/nest-js-fastify-testing-typeerror-app-address-is-not-a-function", "title": "Nest.js Fastify testing TypeError: app.address is not a function", "body": "<p>When executing e2e tests in <strong>Nest.js</strong> with <strong>FastifyAdapter</strong> I get the following error when executing tests:</p>\n\n<pre><code>TypeError: app.address is not a function\n\n  54 | \n  55 |     return request(app.getHttpServer())\n&gt; 56 |       .post('/authentication/register')\n     |        ^\n  57 |       .send(payload)\n  58 |       .expect(400);\n  59 |   });\n</code></pre>\n\n<p>The composition is as follows:\n</p>\n\n<pre><code>   beforeAll(async () =&gt; {\n    const module = await Test.createTestingModule({\n      imports: [AuthenticationModule],\n    })\n      .overrideProvider(UserRepository)\n      .useValue(userRepository)\n      .compile();\n\n    app = module.createNestApplication(new FastifyAdapter());\n    await app.init();\n  });\n\n  it(`/POST register - should succeed for valid info`, () =&gt; {\n    const payload = { email: 'johnson@gmail.com', password: '1234' };\n\n    return request(app.getHttpServer())\n      .post('/authentication/register')\n      .send(payload)\n      .expect({})\n      .expect(201);\n  });\n</code></pre>\n\n<p>When not using the <strong>FastifyAdapter</strong> there is no such error. Reason for using the adapter is because of <em>fastify-cookie</em> plugin which enables cookie manipulation through the requests.</p>\n\n<p>Just to note that for this demonstration I went without the cookie plugin in <em>beforeAll</em> which would had been:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const fastifyAdapter = new FastifyAdapter();\nfastifyAdapter.register(fastifyCookie);\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "sonarlint"], "owner": {"reputation": 608, "user_id": 1582709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CqPtO.jpg?s=128&g=1", "display_name": "Wouter van Koppen", "link": "https://stackoverflow.com/users/1582709/wouter-van-koppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 2, "answer_count": 0, "score": 8, "last_activity_date": 1539782383, "creation_date": 1539782383, "question_id": 52855912, "link": "https://stackoverflow.com/questions/52855912/run-sonarcloud-in-visual-studio-code-on-entire-project-structure", "title": "Run SonarCloud in Visual Studio Code on entire project structure", "body": "<p>I'm using SonarCloud to maintain/improve the code quality of our Angular5 application. I installed the SonarCloud plugin in VSC and it shows its warnings/problems as soon as I open a TypeScript file, if any found. So far, so good.</p>\n\n<p>Unfortunately, SonarCloud analysis is triggered at file level and not on project level. I want to run it on the entire project and see all the warnings/problems in a complete list. Opening all files on a single basis in order to see the warnings seems impractical to me.</p>\n\n<p>When I open the Command Palette in VSC, I would have expected a command like \"Run analysis\" but there is none. How can I trigger the analysis for the complete project?</p>\n"}, {"tags": ["typescript", "visual-studio-2017"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539782387, "post_id": 52855787, "comment_id": 92626844, "body": "I&#39;m not familiar with how Visual Studio 2017 works with TypeScript, but if you have a <code>tsconfig.json</code> file, you can probably just enable the <code>noEmit</code> compiler option there."}, {"owner": {"reputation": 835, "user_id": 2174621, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4136f8bcc4f3ccfdd960b208b744366c?s=128&d=identicon&r=PG", "display_name": "stephan.peters", "link": "https://stackoverflow.com/users/2174621/stephan-peters"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539784137, "post_id": 52855787, "comment_id": 92628017, "body": "I tried it and it works, but we still need the declaration (d.ts) files for some reason."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539784432, "post_id": 52855787, "comment_id": 92628231, "body": "Can you use the <code>outDir</code> option to send the <code>.js</code> files to a directory you don&#39;t care about, while you use the <code>declarationDir</code> option to keep the <code>.d.ts</code> files in the original directory?"}, {"owner": {"reputation": 835, "user_id": 2174621, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4136f8bcc4f3ccfdd960b208b744366c?s=128&d=identicon&r=PG", "display_name": "stephan.peters", "link": "https://stackoverflow.com/users/2174621/stephan-peters"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539785747, "post_id": 52855787, "comment_id": 92629130, "body": "Ok now we are very close. But I can&#39;t get declarationDir option to work to output to the same directory.  if i do &quot;declarationDir&quot;: &quot;./&quot;  --&gt; it wants to put it relative to where the tsconfig is."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1539786154, "post_id": 52855787, "comment_id": 92629414, "body": "Can you set <code>declarationDir</code> to the relative path from the tsconfig to the directory you want, or did that not work for some reason?"}], "answers": [{"tags": [], "owner": {"reputation": 835, "user_id": 2174621, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4136f8bcc4f3ccfdd960b208b744366c?s=128&d=identicon&r=PG", "display_name": "stephan.peters", "link": "https://stackoverflow.com/users/2174621/stephan-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1539957330, "creation_date": 1539957330, "answer_id": 52893828, "question_id": 52855787, "link": "https://stackoverflow.com/questions/52855787/visual-studio-2017-asp-net-core-typescript-compilation-without-js-generation/52893828#52893828", "title": "Visual Studio 2017 ASP.NET core typescript compilation without js generation", "body": "<p>1) Finally we used following to not have any generated code while keeping Visual Studio compilation:</p>\n\n<pre><code>\"noEmit\": true \n</code></pre>\n\n<p>2) Second for stuff where we need the output for some reason we used:</p>\n\n<pre><code>\"outDir\": \"out-tsc\"\n</code></pre>\n\n<p>We also excluded it:</p>\n\n<pre><code>\"exclude\": [\n        \"node_modules\",\n        \"wwwroot\",\n        \"out-tsc\"\n    ]\n</code></pre>\n\n<p>We added a .tfignore file with following content to exclude it from TFS:</p>\n\n<pre><code>\\out-tsc\n\\wwwroot\\**\n</code></pre>\n\n<p>We excluded the folder out-tsc from the project (exclude from project).</p>\n"}], "owner": {"reputation": 835, "user_id": 2174621, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4136f8bcc4f3ccfdd960b208b744366c?s=128&d=identicon&r=PG", "display_name": "stephan.peters", "link": "https://stackoverflow.com/users/2174621/stephan-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539957330, "creation_date": 1539782035, "question_id": 52855787, "link": "https://stackoverflow.com/questions/52855787/visual-studio-2017-asp-net-core-typescript-compilation-without-js-generation", "title": "Visual Studio 2017 ASP.NET core typescript compilation without js generation", "body": "<p>We want to be able to see typescript errors in Visual Studio 2017 within a .NET ASP.NET Core project (ASP.NET Core on full .NET framework). But we don't want to generate .js files from those .ts files when building.</p>\n\n<p>If we use the setting &lt;TypeScriptCompileBlocked&gt;true&lt;/TypeScriptCompileBlocked&gt; we have no .js files being generated which is good, but then we don't have typescript errors when building which is bad.</p>\n\n<p>How can we solve this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "leaflet", "geojson"], "answers": [{"comments": [{"owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "reply_to_user": {"reputation": 217, "user_id": 10091854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hkaSMn-qGA8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qTHVWcyv4dNNP3CB7H71YT3No97w/mo/photo.jpg?sz=128", "display_name": "al NTM", "link": "https://stackoverflow.com/users/10091854/al-ntm"}, "edited": false, "score": 0, "creation_date": 1539852115, "post_id": 52869765, "comment_id": 92653912, "body": "I made an edit to add the css of the label on top right corner"}], "tags": [], "owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "is_accepted": true, "score": 4, "last_activity_date": 1539852093, "last_edit_date": 1539852093, "creation_date": 1539850592, "answer_id": 52869765, "question_id": 52855784, "link": "https://stackoverflow.com/questions/52855784/error-when-creating-a-new-instance-of-l-control-using-leaflet-angular-6/52869765#52869765", "title": "Error when creating a new instance of L.control() using Leaflet &amp; Angular 6", "body": "<p>In order to avoid getting this error you need to initialize control like this: <code>new L.Control()</code></p>\n\n<p>Furthermore some parts of your code do not make sense as for instance you supposed to have a global <code>json</code> variable but there is not anyone as you use it as this.json afterwards. instead you have a <code>geojson</code> variable . </p>\n\n<p>Also there is no constructor for injecting http to make a get request. I prepared a working example for what you are trying to achieve: <a href=\"https://stackblitz.com/edit/angular-tppntk\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 217, "user_id": 10091854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hkaSMn-qGA8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qTHVWcyv4dNNP3CB7H71YT3No97w/mo/photo.jpg?sz=128", "display_name": "al NTM", "link": "https://stackoverflow.com/users/10091854/al-ntm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 0, "accepted_answer_id": 52869765, "answer_count": 1, "score": 4, "last_activity_date": 1594917535, "creation_date": 1539782022, "last_edit_date": 1584368433, "question_id": 52855784, "link": "https://stackoverflow.com/questions/52855784/error-when-creating-a-new-instance-of-l-control-using-leaflet-angular-6", "title": "Error when creating a new instance of L.control() using Leaflet &amp; Angular 6", "body": "<p>I follow this tutorial : <a href=\"https://leafletjs.com/examples/choropleth/\" rel=\"nofollow noreferrer\">https://leafletjs.com/examples/choropleth/</a></p>\n\n<p>I try to make a custom control when i mouseover my Geojson on map.</p>\n\n<p>But i have an error on \"info = L.control();\"</p>\n\n<blockquote>\n  <p>Cannot invoke an expression whose type lacks a call signature. Type 'type of control' has no compatible call signatures.</p>\n</blockquote>\n\n<p>Someone can translate me ? thanks fo your help.</p>\n\n<pre><code>var mapboxAccessToken = \"key\";\n\nconst myfrugalmap = L.map('frugalmap').setView([47.482019, -2], 7.5);\n\nL.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' + mapboxAccessToken, {\n    id: 'mapbox.light',\n    attribution: 'SOS'\n}).addTo(myfrugalmap); \n\n    this.http.get('assets/departements.json').subscribe((json: any) =&gt; {\n      console.log(json);\n      this.json = json;\n\nvar geojson;\n\ngeojson =  L.geoJSON(this.json, {\n    style: function(feature) {\n        switch (feature.properties.code) {\n            case '44': return {color: \"white\",fillColor:\"red\", fillOpacity: 0.1};\n            case '53':   return {color: \"white\",fillColor: \"yellow\", fillOpacity: 0.1};\n            case '72':   return {color: \"white\",fillColor: \"orange\", fillOpacity: 0.1};\n            case '85':   return {color: \"white\",fillColor: \"green\", fillOpacity: 0.1};\n            case '49':   return {color: \"white\",fillColor: \"blue\", fillOpacity: 0.1};\n\n        }\n    },\n\n    onEachFeature: function onEachFeature(feature, layer) {\n    layer.on({\n        mouseover: highlightFeature,\n        mouseout: resetHighlight,\n        click: zoomToFeature\n    });\n}\n\n} ).addTo(myfrugalmap);\n\nfunction highlightFeature(e) {\n    var layer = e.target;\n\n    layer.setStyle({\n        weight: 5,\n        color: '#666',\n        dashArray: '',\n        fillOpacity: 0.2\n    });\n\n    if (!L.Browser.ie &amp;&amp;  !L.Browser.edge) {\n        layer.bringToFront();\n    }\n\ninfo.update(layer.feature.properties);    \n}\n\n\nfunction resetHighlight(e) {\n    geojson.resetStyle(e.target);\n    info.update();\n}\n\n\nfunction zoomToFeature(e) {\n    myfrugalmap.fitBounds(e.target.getBounds());\n}\n\nvar info;\n\ninfo = L.control();\n\ninfo.onAdd = function (myfrugalmap) {\n    this._div = L.DomUtil.create('div', 'info'); \n    this.update();\n    return this._div;\n};\n\n\ninfo.update = function (props) {\n    this._div.innerHTML = '&lt;h4&gt;Pays de la Loire&lt;/h4&gt;' +  (props ?   '&lt;b&gt;' + props.nom + '&lt;/b&gt;&lt;br /&gt;'\n        : '');\n};\n\ninfo.addTo(myfrugalmap);\n\n    });\n</code></pre>\n"}, {"tags": ["typescript", "enums"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1539782588, "last_edit_date": 1539782588, "creation_date": 1539781192, "answer_id": 52855481, "question_id": 52855376, "link": "https://stackoverflow.com/questions/52855376/how-to-parse-a-enum-in-a-generic-function-to-return-an-array-of-the-enum-values/52855481#52855481", "title": "How to parse a Enum in a Generic function to return an array of the enum values?", "body": "<p>You can get the  value type of the enum by using a type query:</p>\n\n<pre><code>enum myExample {\n    value1,\n    value2\n}\n\nfunction getArrayWithNumberBaseEnumItems&lt;T&gt;(numberEnum: T): T[keyof T][] {\n    let arrayWithEnumItems: T[keyof T][] = [];\n    for (let item in numberEnum) {\n        if (isNaN(Number(item))) {\n            arrayWithEnumItems.push(numberEnum[item]);\n            console.log(numberEnum[item]);\n        }\n    }\n    return arrayWithEnumItems;\n}\n\nlet x = getArrayWithNumberBaseEnumItems(myExample);\nconsole.dir(x); // [0,1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1539843306, "post_id": 52855626, "comment_id": 92649466, "body": "I have to much to learn about Typescript... Thank you for your explanation here and in your other link! Just a quick question. Is there a reason why the returned type is <code>(myExample)[]</code> and not <code>myExample[] </code> ? (with the parentesis)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1539782083, "last_edit_date": 1539782083, "creation_date": 1539781629, "answer_id": 52855626, "question_id": 52855376, "link": "https://stackoverflow.com/questions/52855376/how-to-parse-a-enum-in-a-generic-function-to-return-an-array-of-the-enum-values/52855626#52855626", "title": "How to parse a Enum in a Generic function to return an array of the enum values?", "body": "<p>You are likely confusing the named <em>type</em> <code>myExample</code> with the named <em>value</em> <code>myExample</code>.  They are not the same, despite the same name.  The <em>type</em> <code>myExample</code> is the type of the enum values which are numbers.  The <em>value</em> <code>myExample</code> has type <code>typeof myExample</code>, a map from keys <code>value1</code> and <code>value2</code> to those <code>myExample</code> enum values.  That is, <code>typeof myExample</code> is something like <code>{example1: myExample.example1, example2: myExample.example2}</code>.</p>\n\n<p>(For more of my ranting about the difference between named values and named types in TypeScript, see <a href=\"https://stackoverflow.com/a/50396312/2887218\">this answer</a>)</p>\n\n<p>Therefore when you pass in the value <code>myExample</code> to <code>getArrayWithNumberBaseEnumItems()</code>, you are passing in <code>typeof myExample</code> and want <code>myExample[]</code> to come out.  The way to get from the former to the latter is to do a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup</a> from <code>T</code> (corresponding to <code>typeof myExample</code>) to <code>T[keyof T]</code> (meaning \"the values of the properties of <code>T</code>\").  </p>\n\n<p>Thus you should amend your types to the following:</p>\n\n<pre><code>function getArrayWithNumberBaseEnumItems&lt;T&gt;(numberEnum: T): T[keyof T][] {\n  let arrayWithEnumItems: T[keyof T][] = [];\n  for (let item in numberEnum) {\n    if (isNaN(Number(item))) {\n      arrayWithEnumItems.push(numberEnum[item]); // no type assertion here\n      console.log(numberEnum[item]);\n    }\n  }\n  return arrayWithEnumItems;\n}\n</code></pre>\n\n<p>Note how I've removed your type assertion of <code>numberEnum[item]</code> to <code>any</code>.  The error you were suppressing:</p>\n\n<pre><code>// Argument of type 'T[Extract&lt;keyof T, string&gt;]' \n// is not assignable to parameter of type 'T'.\n</code></pre>\n\n<p>(that's the error TS3.1 gives.  TS2.6 probably gives a different-looking but similar error)</p>\n\n<p>was trying to tell you that you were trying to push a property value onto an array of key-value maps, which was an error.  Sometimes you need to assert to get things done, but this is not one of those times.</p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 52855626, "answer_count": 2, "score": 2, "last_activity_date": 1539782588, "creation_date": 1539780890, "last_edit_date": 1539781397, "question_id": 52855376, "link": "https://stackoverflow.com/questions/52855376/how-to-parse-a-enum-in-a-generic-function-to-return-an-array-of-the-enum-values", "title": "How to parse a Enum in a Generic function to return an array of the enum values?", "body": "<p>I need to build a function where I can send an enum:</p>\n\n<pre><code>enum myExample {\n   value1,\n   value2\n}\n</code></pre>\n\n<p>and return an array like</p>\n\n<pre><code>[myExample.value1,myExample.value2] : myExample[]\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=enum%20myExample%20%7B%0D%0A%20%20%20%20value1%2C%0D%0A%20%20%20%20value2%0D%0A%7D%0D%0A%0D%0Afunction%20getArrayWithNumberBaseEnumItems%3CT%3E(numberEnum%3A%20T)%3A%20T%5B%5D%7B%0D%0A%20%20%20%20let%20arrayWithEnumItems%3A%20T%5B%5D%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20for%20(let%20item%20in%20numberEnum)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(isNaN(Number(item)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arrayWithEnumItems.push(numberEnum%5Bitem%5D%20as%20any)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(numberEnum%5Bitem%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20arrayWithEnumItems%3B%0D%0A%7D%0D%0A%0D%0Alet%20x%20%3D%20getArrayWithNumberBaseEnumItems(myExample)%3B%0D%0Aconsole.dir(x)%3B%20%2F%2F%20%5B0%2C1%5D\" rel=\"nofollow noreferrer\">I did this</a>, the  but the return type of the function is wrong <code>let x: (typeof myExample)[]</code>.</p>\n\n<pre><code> enum myExample {\n    value1,\n    value2\n}\n\nfunction getArrayWithNumberBaseEnumItems&lt;T&gt;(numberEnum: T): T[]{\n    let arrayWithEnumItems: T[] = [];\n    for (let item in numberEnum) {\n        if (isNaN(Number(item))) {\n            arrayWithEnumItems.push(numberEnum[item] as any);\n            console.log(numberEnum[item]);\n        }\n    }\n    return arrayWithEnumItems;\n}\n\nlet x = getArrayWithNumberBaseEnumItems(myExample);\nconsole.dir(x); // [0,1]\n</code></pre>\n\n<p>I am using Typescript 2.6</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms", "formarray"], "answers": [{"comments": [{"owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "edited": false, "score": 1, "creation_date": 1539780787, "post_id": 52855298, "comment_id": 92625793, "body": "Yeah, that is correct. It is working fine now. I can accept  your answer after 10 mins :-)"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 3, "last_activity_date": 1539780662, "creation_date": 1539780662, "answer_id": 52855298, "question_id": 52855245, "link": "https://stackoverflow.com/questions/52855245/how-to-pass-formarray-to-other-component/52855298#52855298", "title": "How to pass formarray to other component", "body": "<p><strong><code>title</code></strong> is a keyword and its already defined tag with HTML. just use some different name for the component <strong><code>selector</code></strong></p>\n\n<pre><code> selector: 'title1',\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-zff1am?file=src/app/title/title.component.ts\" rel=\"nofollow noreferrer\"><code>STACKBLITZ DEMO</code></a></strong></p>\n"}], "owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2360, "favorite_count": 1, "accepted_answer_id": 52855298, "answer_count": 1, "score": 2, "last_activity_date": 1539780662, "creation_date": 1539780483, "question_id": 52855245, "link": "https://stackoverflow.com/questions/52855245/how-to-pass-formarray-to-other-component", "title": "How to pass formarray to other component", "body": "<p>I want to pass formarray to child component to display formarray values there. Below is the code, what I've tried so far. I am not able to find the way to display the formarray values in the child component.</p>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;div [formGroup]=\"userForm\"&gt;\n  &lt;div formArrayName=\"users\"&gt;\n    &lt;div *ngFor=\"let user of users.controls; let i = index\"&gt;\n      &lt;input type=\"text\" placeholder=\"Enter a Room Name\" [formControlName]=\"i\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;button (click)=\"addUser()\"&gt;Add Room&lt;/button&gt;\n&lt;title [users]=\"users\"&gt;&lt;/title&gt;\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>userForm: FormGroup;\n\nconstructor(private fb: FormBuilder) {}\n\npublic get users(): any {\n  return this.userForm.get('users') as FormArray;\n}\n\nngOnInit() {\n  this.userForm = this.fb.group({\n    users: this.fb.array([this.fb.control('')])\n  });\n}\n\naddUser() {\n  this.users.push(this.fb.control(''));\n}\n</code></pre>\n\n<p><strong>title.component.html</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let user of users.controls\"&gt;{{ user.value }}&lt;/div&gt;\n</code></pre>\n\n<p><strong>title.component.ts</strong></p>\n\n<pre><code>@Input() users;\n\nngOnChanges(changes) {\n  console.log(changes);\n}\n</code></pre>\n\n<p>But above code not displaying the formarray values in the child component.</p>\n\n<p>Example stackblitz is <a href=\"https://stackblitz.com/edit/angular-ajbym9\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "edited": false, "score": 0, "creation_date": 1539780887, "post_id": 52855270, "comment_id": 92625865, "body": "Thanks, will accept this answer when I&#39;m allowed to."}], "tags": [], "owner": {"reputation": 684, "user_id": 5306879, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-mHzPJrQNo-g/AAAAAAAAAAI/AAAAAAAAAEw/9q0JlBuWzTM/photo.jpg?sz=128", "display_name": "\u042e\u0440\u0430 \u041f\u0430\u043d\u0430\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/5306879/%d0%ae%d1%80%d0%b0-%d0%9f%d0%b0%d0%bd%d0%b0%d1%80%d0%b8%d0%bd"}, "is_accepted": true, "score": 4, "last_activity_date": 1539780562, "creation_date": 1539780562, "answer_id": 52855270, "question_id": 52855233, "link": "https://stackoverflow.com/questions/52855233/angular-custom-validator-function-in-the-controller-how-to-access-this/52855270#52855270", "title": "Angular - Custom validator function in the controller: How to access &#39;this&#39;?", "body": "<p><a href=\"https://stackblitz.com/edit/ionic-tqp9o1?embed=1&amp;file=pages/home/home.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-tqp9o1?embed=1&amp;file=pages/home/home.ts</a></p>\n\n<p>And for future improvements way better move all validation in another file, and first params for each function must be config. You validators must not dependents from <code>this</code> just from config object </p>\n\n<p>Just change on <code>this.validateSuccessShortName.bind(this)</code>, because you function missing context</p>\n\n<pre><code>shortName: new FormControl('', [\n        this.validateSuccessShortName.bind(this)\n])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "is_accepted": false, "score": 1, "last_activity_date": 1539781082, "creation_date": 1539781082, "answer_id": 52855441, "question_id": 52855233, "link": "https://stackoverflow.com/questions/52855233/angular-custom-validator-function-in-the-controller-how-to-access-this/52855441#52855441", "title": "Angular - Custom validator function in the controller: How to access &#39;this&#39;?", "body": "<p>Your angular validator doesn't reference your component property. To fix this you need to bind <code>this</code> to the validator.</p>\n\n<pre><code>export class HomePage {\n    private arr: Array&lt;any&gt;;\n    private thevalue: string;\n    public thisForm: FormGroup;\n    public randomProp: string;\n  constructor(\n    private modal: ModalController,\n    public navCtrl: NavController) {\n    this.thevalue = \"Initial value\";\n    this.randomProp = \"This is a random property\";\n    this.thisForm = new FormGroup({\n      shortName: new FormControl('', [\n        this.validateSuccessShortName.bind(this)\n      ])\n    });\n  }\n  validateSuccessShortName(control: AbstractControl) {\n      if (control.value.length &gt; this.randomProp.length) {\n        return {value: control.value};\n      }\n      return null;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 52855270, "answer_count": 2, "score": 0, "last_activity_date": 1539781082, "creation_date": 1539780454, "question_id": 52855233, "link": "https://stackoverflow.com/questions/52855233/angular-custom-validator-function-in-the-controller-how-to-access-this", "title": "Angular - Custom validator function in the controller: How to access &#39;this&#39;?", "body": "<p>I am trying to implement a custom validator for a form in Angular. It would be perfect if I could access the <code>this</code> of the controller, but it's undefined in the validator function.</p>\n\n<p>This is my validator function:</p>\n\n<pre><code>validateSuccessShortName(control: AbstractControl) {\n      //can't read this.randomProp, because this is undefined\n      if (control.value.length &gt; this.randomProp.length) {\n        return {value: control.value};\n      }\n      return null;\n    }\n</code></pre>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/ionic-tqp9o1?file=pages%2Fhome%2Fhome.ts\" rel=\"nofollow noreferrer\"><strong><em>STACKBLITZ</em></strong></a> demonstrating the issue.</p>\n\n<p>Am I doing something wrong or is this simply impossible in the Angular framework?</p>\n"}, {"tags": ["angular", "typescript", "sum"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1539780751, "post_id": 52855255, "comment_id": 92625771, "body": "how can i get a instant formcontrol.value change without using keyup?"}, {"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1539780940, "post_id": 52855255, "comment_id": 92625907, "body": "Your can always subscribe to changes to the value of the form control."}, {"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1539781008, "post_id": 52855255, "comment_id": 92625947, "body": "how can i do this?"}, {"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "reply_to_user": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1539781401, "post_id": 52855255, "comment_id": 92626215, "body": "@RenaotPLS here&#39;s a good article on the subject: <a href=\"https://alligator.io/angular/reactive-forms-valuechanges/\" rel=\"nofollow noreferrer\">alligator.io/angular/reactive-forms-valuechanges</a>"}], "tags": [], "owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "is_accepted": false, "score": 0, "last_activity_date": 1539780510, "creation_date": 1539780510, "answer_id": 52855255, "question_id": 52855197, "link": "https://stackoverflow.com/questions/52855197/how-to-get-a-sum-elements-of-a-keyup-in-angular/52855255#52855255", "title": "How to get a sum elements of a keyup in angular?", "body": "<p>Your keyup event only preserves what you entered at keyup, it has no knowledge of previous key up events. You can however get the inputs of each of your form controls by calling the <code>formControl.value()</code> method and summing up your form controls.</p>\n"}, {"comments": [{"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1539782211, "post_id": 52855588, "comment_id": 92626732, "body": "In a first input i put: 13, in a second i put 13, my response is 01313"}, {"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1539782281, "post_id": 52855588, "comment_id": 92626776, "body": "if i declare the sum in a global (sum: number = 0;)   sum(){     Object.keys(this.controls).map(key =&gt; {       this.sum += this.controls[key];     });     console.log(this.sum);   }   i receive: 01131311313"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1539782313, "post_id": 52855588, "comment_id": 92626802, "body": "Updated the answer"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539782288, "last_edit_date": 1539782288, "creation_date": 1539781511, "answer_id": 52855588, "question_id": 52855197, "link": "https://stackoverflow.com/questions/52855197/how-to-get-a-sum-elements-of-a-keyup-in-angular/52855588#52855588", "title": "How to get a sum elements of a keyup in angular?", "body": "<p>Your current Implementation can handle only one control only however you need to sum up from all dynamic generated controls.</p>\n\n<blockquote>\n  <p>Follow the steps </p>\n</blockquote>\n\n<h2>1. In ts file</h2>\n\n<p>Create a object which can holds all the control model.</p>\n\n<pre><code>public controls = {};\n</code></pre>\n\n<h2>2. in html</h2>\n\n<pre><code>&lt;input [(ngModel)]=\"controls[i]\" (keyup)=\"sum($event)\" type=\"text\" name=\"estoque_variacao{{i}}\" class=\"form-control\" id=\"estoque_variacao{{i}}\" formControlName=\"estoque_variacao\"&gt;\n</code></pre>\n\n<p>ngModel will create the property inside the <code>controls</code> object</p>\n\n<h2>3. Final</h2>\n\n<p>Finally need to get the values of <code>controls</code> object and sum it up. </p>\n\n<pre><code> let sum = 0;\n Object.keys(this.controls).map(key =&gt; {\n   sum +=  +this.controls[key];\n });\n console.log(sum);\n</code></pre>\n\n<p>That's all  !</p>\n"}], "owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "accepted_answer_id": 52855588, "answer_count": 2, "score": 0, "last_activity_date": 1539806642, "creation_date": 1539780345, "question_id": 52855197, "link": "https://stackoverflow.com/questions/52855197/how-to-get-a-sum-elements-of-a-keyup-in-angular", "title": "How to get a sum elements of a keyup in angular?", "body": "<p>I have \"N\" inputs in a formgroup that i need to get the sum:</p>\n\n<pre><code>&lt;input (keyup)=\"sum($event)\" type=\"text\" name=\"estoque_variacao{{i}}\" class=\"form-control\" id=\"estoque_variacao{{i}}\" formControlName=\"estoque_variacao\"&gt;\n</code></pre>\n\n<p>My Typescript:</p>\n\n<pre><code>sum(value){\n    let sum;\n    if(sum == null){\n      sum = 0;\n    }\n    sum =  +Number(value.key);\n}\n</code></pre>\n\n<p>When i press \"22\", i get just:</p>\n\n<blockquote>\n  <p>2.</p>\n</blockquote>\n\n<p>I already try:</p>\n\n<pre><code>sum += parseFloat(valor.key);\n</code></pre>\n\n<p>But i get the same response</p>\n\n<p>How can i do this?</p>\n\n<p>I need something like this, but in angular/typescript:</p>\n\n<p><a href=\"http://jsfiddle.net/35At5/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/35At5/</a></p>\n"}, {"tags": ["typescript", "tuples"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539780316, "post_id": 52855145, "comment_id": 92625506, "body": "Is order important to you ? I don&#39;t think this is possible."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539780369, "post_id": 52855145, "comment_id": 92625542, "body": "Hi again! Order is not important, however it would be better to maintain it. If you say its impossible, than it must be impossible indeed. Sad :-("}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 2, "creation_date": 1539781062, "post_id": 52855145, "comment_id": 92625990, "body": "Can you say more about your original problem?  We might be able to find another solution."}, {"owner": {"reputation": 767, "user_id": 6857440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXweE.png?s=128&g=1", "display_name": "Sean Sobey", "link": "https://stackoverflow.com/users/6857440/sean-sobey"}, "edited": false, "score": 0, "creation_date": 1539785868, "post_id": 52855145, "comment_id": 92629212, "body": "When you say &#39;convert&#39; do you mean you want to create an array matching the tuple type from an object matching the interface? Or do you mean you want to change the Obj interface to be the tuple type?"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539786605, "post_id": 52855145, "comment_id": 92629741, "body": "I hope @MattMcCutchen still cares to help. I&#39;ve added the original problem to the answer."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 767, "user_id": 6857440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXweE.png?s=128&g=1", "display_name": "Sean Sobey", "link": "https://stackoverflow.com/users/6857440/sean-sobey"}, "edited": false, "score": 0, "creation_date": 1539786708, "post_id": 52855145, "comment_id": 92629815, "body": "@SeanSobey I guess I want the latter, you can see my updated answer."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539788039, "post_id": 52855145, "comment_id": 92630657, "body": "Can you just structure the <code>paramsDeclaration</code> as an array instead of an object?  If you want names for the parameters, you can put them in fields of the sub-objects."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539788084, "post_id": 52855145, "comment_id": 92630690, "body": "Do you mean the keys of <code>paramsDeclaration</code> should be 0, 1 instead of param1, param2 ? I am considering this at the moment, its a plan B."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539788606, "post_id": 52855145, "comment_id": 92631006, "body": "0, 1 keys are less prefereable, because the very purpose of <code>paramsDeclaration</code> is in a declarative, readable form to display params, their names, and their other different traits, and having string keys is more readable/meaningful etc."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539958730, "post_id": 52855145, "comment_id": 92701172, "body": "@NurbolAlpysbayev Sorry, I somehow missed your comments.  I was proposing <code>paramsDeclaration = [{name: &#39;param1&#39;, value: REQUIRED&lt;string&gt;(), shape: ...}, {name: &#39;param2&#39;, ...}]</code>.  It&#39;s a little clunker than your current syntax, but the names are still clearly visible."}], "answers": [{"comments": [{"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 1, "creation_date": 1539933140, "post_id": 52877742, "comment_id": 92687777, "body": "Thank you for your time! It was interesting to discover your approach. Yes, unfortunately the order is important, but it seems there is no way to somehow infer order of properties of interface/object."}], "tags": [], "owner": {"reputation": 767, "user_id": 6857440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXweE.png?s=128&g=1", "display_name": "Sean Sobey", "link": "https://stackoverflow.com/users/6857440/sean-sobey"}, "is_accepted": true, "score": 2, "last_activity_date": 1539877208, "creation_date": 1539877208, "answer_id": 52877742, "question_id": 52855145, "link": "https://stackoverflow.com/questions/52855145/typescript-object-type-to-array-type-tuple/52877742#52877742", "title": "Typescript: object type to array type (tuple)", "body": "<p>Not really an answer to the question, but since I don't actually think its possible to do, hopefully this is at least helpful in some way:</p>\n\n<pre><code>function REQUIRED&lt;T&gt;(): T {\n    //...\n}\nfunction OPTIONAL&lt;T&gt;(): T {\n    //...\n}\n\ninterface ParamsDeclaration {\n    readonly [paramName: string]: {\n        readonly value: any;\n        readonly shape?: Function;\n    };\n}\n\ntype Func&lt;T&gt; = T extends {\n    readonly [paramName: string]: {\n        readonly value: infer U;\n    };\n} ? (...params: Array&lt;U&gt;) =&gt; void\n    : never;\n\nfunction create&lt;T extends ParamsDeclaration&gt;(paramsDeclaration: T): Func&lt;T&gt; {\n\n    // ...\n}\n\nconst paramsDeclaration = {\n    param1: {\n        value: REQUIRED&lt;string&gt;(),\n        shape: (v: any) =&gt; typeof v === 'string' &amp;&amp; v.length &lt; 10\n    },\n    param2: {\n        value: OPTIONAL&lt;number&gt;(),\n        //...\n    },\n};\n// Type is '(...params: (string | number)[]) =&gt; void'\nconst func1 = create(paramsDeclaration);\nfunc1('1', 2); // Ok\nfunc1(2, '1'); // Ok, but I assume not what you want\nfunc1(Symbol()); // TS error\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 12463337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNcRc.png?s=128&g=1", "display_name": "rua.kr", "link": "https://stackoverflow.com/users/12463337/rua-kr"}, "is_accepted": false, "score": 1, "last_activity_date": 1584617926, "last_edit_date": 1584617926, "creation_date": 1584617417, "answer_id": 60756314, "question_id": 52855145, "link": "https://stackoverflow.com/questions/52855145/typescript-object-type-to-array-type-tuple/60756314#60756314", "title": "Typescript: object type to array type (tuple)", "body": "<p>Alternate suggestions,<br>\nIt needs to set orders of parameters.</p>\n\n<pre><code>interface Param {\n    readonly value: any;\n    readonly shape?: Function;\n}\ntype Func&lt;T extends Record&lt;string, Param&gt;, orders extends (keyof T)[]&gt; = (...args:{\n    [key in keyof orders]:orders[key] extends keyof T ? T[orders[key]]['value']: orders[key];\n})=&gt;void;\n\nfunction create&lt;T extends Record&lt;string, Param&gt;, ORDERS extends (keyof T)[]&gt;(params: T, ...orders:ORDERS): Func&lt;T, ORDERS&gt; {\n    return 0 as any;\n}\n\nconst func1 = create({a:{value:0}, b:{value:''}, c:{value:true}}, 'a', 'b', 'c');\nfunc1(0, '1', true); // ok\nfunc1(true, 0, '1'); // error\n</code></pre>\n\n<p>or<br>\nParamDeclarations with array</p>\n\n<pre><code>type Func2&lt;T extends Param[]&gt; = (...args:{\n    [key in keyof T]:T[key] extends Param ? T[key]['value'] : T[key]\n})=&gt;void;\n\nfunction create2&lt;T extends Param[], ORDERS extends (keyof T)[]&gt;(...params: T): Func2&lt;T&gt; {\n    return 0 as any;\n}\n\nconst func2 = create2({value:0}, {value:''}, {value:true});\nfunc2(0, '1', true); // ok\nfunc2(true, 0, '1'); // error\n</code></pre>\n"}], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1811, "favorite_count": 0, "accepted_answer_id": 52877742, "answer_count": 2, "score": 5, "last_activity_date": 1584617926, "creation_date": 1539780183, "last_edit_date": 1539787872, "question_id": 52855145, "link": "https://stackoverflow.com/questions/52855145/typescript-object-type-to-array-type-tuple", "title": "Typescript: object type to array type (tuple)", "body": "<p>I have this:</p>\n\n<pre><code>interface Obj {\n    foo: string,\n    bar: number,\n    baz: boolean\n}\n</code></pre>\n\n<p>The desired type is this tuple:</p>\n\n<pre><code>[string, number, boolean]\n</code></pre>\n\n<p>How can I convert the interface to the tuple?</p>\n\n<p><em>Update:</em></p>\n\n<p>My original problem is:\nI make some opinionated library with a declarative spirit, where a user should describe parameters of a function in an object literal. Like this:</p>\n\n<pre><code>let paramsDeclaration = {\n  param1: {\n    value: REQUIRED&lt;string&gt;(),\n    shape: (v) =&gt; typeof v === 'string' &amp;&amp; v.length &lt; 10\n  },\n  param2: {\n    value: OPTIONAL&lt;number&gt;(),\n    ...\n  },\n}\n</code></pre>\n\n<p>Then the library takes this object and creates a function with parameters from it:</p>\n\n<pre><code>   (param1: string, param2?: number) =&gt; ...\n</code></pre>\n\n<p>So, making such function is not a problem, the problem is to correctly <em>type</em> it, so that user gets good code-completion (IntelliSense).</p>\n\n<p>P.S. I know it's not solvable, but it would be interesting to know what is the closest possible workaround/hack.</p>\n"}, {"tags": ["json", "angular", "typescript", "variables"], "comments": [{"owner": {"reputation": 553, "user_id": 4259351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f717d69fb6d3dbc5490d47369aca3e0?s=128&d=identicon&r=PG", "display_name": "Mauricio Sipmann", "link": "https://stackoverflow.com/users/4259351/mauricio-sipmann"}, "edited": false, "score": 1, "creation_date": 1539778504, "post_id": 52854630, "comment_id": 92624384, "body": "When you request some data with a service and a <code>subscribe</code> the code runs asynchronously, so your <code>console.log(this.data)</code> will run before the subscribe runs. Put your console.log after the <code>this.data = data;</code> and you&#39;ll see! AND with angular, if the content type is a JSON, you don&#39;t need a <code>.json()</code> to convert again."}, {"owner": {"reputation": 23, "user_id": 5952297, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15532ab7b399d1d2e5bbdef3669cf193?s=128&d=identicon&r=PG", "display_name": "MrMik", "link": "https://stackoverflow.com/users/5952297/mrmik"}, "reply_to_user": {"reputation": 553, "user_id": 4259351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f717d69fb6d3dbc5490d47369aca3e0?s=128&d=identicon&r=PG", "display_name": "Mauricio Sipmann", "link": "https://stackoverflow.com/users/4259351/mauricio-sipmann"}, "edited": false, "score": 0, "creation_date": 1539778886, "post_id": 52854630, "comment_id": 92624632, "body": "@MauricioSipmann Hey thank you very much! This solved my problem."}, {"owner": {"reputation": 553, "user_id": 4259351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f717d69fb6d3dbc5490d47369aca3e0?s=128&d=identicon&r=PG", "display_name": "Mauricio Sipmann", "link": "https://stackoverflow.com/users/4259351/mauricio-sipmann"}, "edited": false, "score": 0, "creation_date": 1539779064, "post_id": 52854630, "comment_id": 92624744, "body": "your welcome ;)"}], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1539778471, "creation_date": 1539778471, "answer_id": 52854658, "question_id": 52854630, "link": "https://stackoverflow.com/questions/52854630/angular-2-this-data-is-undefined/52854658#52854658", "title": "Angular 2 this.data is undefined", "body": "<p>If you are using angular 6, no need to convert to json. Just return the request.</p>\n\n<pre><code>getRecords() {\n  return this.http.get('assets/standorte.json') \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1539778623, "creation_date": 1539778623, "answer_id": 52854704, "question_id": 52854630, "link": "https://stackoverflow.com/questions/52854630/angular-2-this-data-is-undefined/52854704#52854704", "title": "Angular 2 this.data is undefined", "body": "<p>another problem is your not re throw the async state ..try this:</p>\n\n<pre><code>ngOnInit() {\n    this.getRecords().then((resp)=&gt;{\nconsole.log(resp);\n});\n\n}\n\ngetRecords() {\nreturn new Promise&lt;&gt;((resolve,reject)\n =&gt; {\n   this.jsonService.getRecords().subscribe(data =&gt; {\n        this.data = data;\n\nresolve(data);\n    }, err =&gt; {\n        console.log(err);\nreject(err);\n    });\n\n})\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5952297, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15532ab7b399d1d2e5bbdef3669cf193?s=128&d=identicon&r=PG", "display_name": "MrMik", "link": "https://stackoverflow.com/users/5952297/mrmik"}, "is_accepted": true, "score": 1, "last_activity_date": 1539779232, "creation_date": 1539779232, "answer_id": 52854868, "question_id": 52854630, "link": "https://stackoverflow.com/questions/52854630/angular-2-this-data-is-undefined/52854868#52854868", "title": "Angular 2 this.data is undefined", "body": "<p>@MauricioSipmann solved my problem.\nThe problem was that the code runs asynchronously in a request.\nI actually knew that but Typescript confused me a little bit.</p>\n\n<p>Thank you to all responders!</p>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 7334873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02bcda468dd6ff637555372853e239e0?s=128&d=identicon&r=PG&f=1", "display_name": "Vishw Patel", "link": "https://stackoverflow.com/users/7334873/vishw-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1539779532, "creation_date": 1539779532, "answer_id": 52854954, "question_id": 52854630, "link": "https://stackoverflow.com/questions/52854630/angular-2-this-data-is-undefined/52854954#52854954", "title": "Angular 2 this.data is undefined", "body": "<p>Just modify your method <strong>getRecords()</strong></p>\n\n<p>Use it as below : </p>\n\n<pre><code>getRecords() {\n    this.jsonService.getRecords().subscribe(data =&gt; {\n        this.data = data;\n        console.log(this.data);\n    }, err =&gt; {\n        console.log(err);\n    });\n}\n</code></pre>\n\n<p>Instead of logging after calling method you should do inside success of service.</p>\n\n<p>This is common issue which every developer face at initiate stage of Angular 2+.\nIt is an <strong>async</strong> call. So the issue is you <strong>console.log()</strong> statement is executing before your service assign value <strong>this.data = data;</strong> to the variable.</p>\n\n<p>With your code if you display <strong>data</strong> in HTML it will probably work fine. Just it will not log properly where you got confused.</p>\n"}], "owner": {"reputation": 23, "user_id": 5952297, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15532ab7b399d1d2e5bbdef3669cf193?s=128&d=identicon&r=PG", "display_name": "MrMik", "link": "https://stackoverflow.com/users/5952297/mrmik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1273, "favorite_count": 0, "accepted_answer_id": 52854868, "answer_count": 4, "score": 0, "last_activity_date": 1539779532, "creation_date": 1539778354, "question_id": 52854630, "link": "https://stackoverflow.com/questions/52854630/angular-2-this-data-is-undefined", "title": "Angular 2 this.data is undefined", "body": "<p>I'm trying to read the content of my JSON file through my \"GetJsonService\".</p>\n\n<p><strong>app.component.ts:</strong></p>\n\n<pre><code>data: any;\n\nconstructor(private jsonService: GetJsonService) {}\n\nngOnInit() {\n    this.getRecords();\n    console.log(this.data);\n}\n\ngetRecords() {\n    this.jsonService.getRecords().subscribe(data =&gt; {\n        this.data = data;\n    }, err =&gt; {\n        console.log(err);\n    });\n}\n</code></pre>\n\n<p><strong>get-json.service.ts</strong></p>\n\n<pre><code>constructor(private http: Http) { }\n\ndata: any;\n\ngetRecords() {\n    return this.http.get('assets/standorte.json').map(data =&gt; {\n        this.data = data.json();\n        return data.json();\n    }, err =&gt; {\n        if (err) {\n            return err.json();\n       }\n     });\n }\n</code></pre>\n\n<p>I want to put the content of data.json() into this.data to use it.\nBut when I log this.data it is \"undefined\".</p>\n\n<p>I'm completely new to Angular 2 and Typescript, so I really would be thankful when someone helps me.</p>\n\n<p>Greetings</p>\n"}, {"tags": ["typescript", "ionic-framework", "loading-animation"], "answers": [{"tags": [], "owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1539786870, "creation_date": 1539786870, "answer_id": 52857440, "question_id": 52854609, "link": "https://stackoverflow.com/questions/52854609/loading-animation-until-data-is-loaded-in-typescript-ionic/52857440#52857440", "title": "loading animation until data is loaded in Typescript (ionic)", "body": "<p>you need to import the loader and use it accordingly to your async code:</p>\n\n<pre><code>import { LoadingController, ModalController, Platform } from \"ionic-angular\";\n// add your further imports here...\n\nconstructor(\n        public platform: Platform,\n        private network: NetworkService,\n        public navContrl: NavController,\n        public modalCtrl: ModalController,\n        // inject it:\n        public loadingCtrl: LoadingController\n    ) {\n        this.loadProjects();\n        this.admin = this.network.isUserAdmin();\n    }\n\nloadProjects() {\n        // start loader:\n        let loading = this.loadingCtrl.create({\n            content: 'Please wait...'\n        });\n        loading.present();\n        this.network.getAllProjects()\n            .then((projects) =&gt; {\n                this.projs = projects;\n                loading.dismiss();\n             })\n            .catch(err =&gt; this.logout());\n    }\n</code></pre>\n\n<p>Not sure if you posted the full code sample in your case. So I hope this will help. See usage here: <a href=\"https://ionicframework.com/docs/api/components/loading/LoadingController/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/components/loading/LoadingController/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2894, "user_id": 6599076, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Ajyqg.png?s=128&g=1", "display_name": "BRass", "link": "https://stackoverflow.com/users/6599076/brass"}, "is_accepted": false, "score": 0, "last_activity_date": 1539894725, "creation_date": 1539894725, "answer_id": 52882103, "question_id": 52854609, "link": "https://stackoverflow.com/questions/52854609/loading-animation-until-data-is-loaded-in-typescript-ionic/52882103#52882103", "title": "loading animation until data is loaded in Typescript (ionic)", "body": "<p>A similar alternative, using <code>async</code> and <code>await</code>.</p>\n\n<pre><code>async loadProjects() {\n    // start loader:\n    let loading = this.loadingCtrl.create({\n        content: 'Please wait...'\n    });\n\n    try {\n        await loading.present();\n        this.projs = await this.network.getAllProjects();\n    }\n    catch (error) {\n        //TODO: Log the error, show a friendly message\n        this.logout();\n    }\n    finally {\n        loading &amp;&amp; loading.dismiss();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 4095070, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6f6361c19d6eac99f53af67b45056754?s=128&d=identicon&r=PG&f=1", "display_name": "moody", "link": "https://stackoverflow.com/users/4095070/moody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 52857440, "answer_count": 2, "score": 0, "last_activity_date": 1539894725, "creation_date": 1539778267, "question_id": 52854609, "link": "https://stackoverflow.com/questions/52854609/loading-animation-until-data-is-loaded-in-typescript-ionic", "title": "loading animation until data is loaded in Typescript (ionic)", "body": "<p>i would like to add an animation to the screen until the projects are loaded.</p>\n\n<pre><code>constructor(\n        public platform: Platform,\n        private network: NetworkService,\n        public navContrl: NavController,\n        public modalCtrl: ModalController\n    ) {\n        this.loadProjects();\n\n        this.admin = this.network.isUserAdmin();\n    }\n\nloadProjects() {\n        this.network.getAllProjects()\n            .then(projects =&gt; this.projs = projects)\n            .catch(err =&gt; this.logout());\n    }\n</code></pre>\n\n<p>my first thought was to implement a settimeout which is the worstcase solution. is there a good way to solve this?</p>\n"}, {"tags": ["angular", "typescript", "api", "http", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 1128, "user_id": 2131459, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5459a8716b61fc4cd36f4998edd118b0?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2131459/chris"}, "edited": false, "score": 1, "creation_date": 1539778548, "post_id": 52854310, "comment_id": 92624429, "body": "Here data is an array of response1 and response2. As an alternative you could <code>.subscribe( ([dataPosts, dataComments]) =&gt; { this.posts = dataPosts; this.comments = dataComments;});</code> to access the responses."}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 3, "last_activity_date": 1539778597, "last_edit_date": 1539778597, "creation_date": 1539777267, "answer_id": 52854310, "question_id": 52854238, "link": "https://stackoverflow.com/questions/52854238/fetching-and-combine-data-from-api-in-angular-6/52854310#52854310", "title": "Fetching and combine data from Api In Angular 6", "body": "<p>use <code>forkJoin</code> to combine requests</p>\n\n<pre><code>let req1 = this.http.get('https://jsonplaceholder.typicode.com/posts')  \nlet req2 = this.http.get('https://jsonplaceholder.typicode.com/comments')\n\nforkJoin([req1,req2 ] )\n   .subscribe(data =&gt; {\n      this.posts = data;\n});\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 7880440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13613ec44838f2e002640bed40f5f1f1?s=128&d=identicon&r=PG&f=1", "display_name": "Qusay Saad", "link": "https://stackoverflow.com/users/7880440/qusay-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 52854310, "answer_count": 1, "score": 0, "last_activity_date": 1539787155, "creation_date": 1539777078, "last_edit_date": 1539787155, "question_id": 52854238, "link": "https://stackoverflow.com/questions/52854238/fetching-and-combine-data-from-api-in-angular-6", "title": "Fetching and combine data from Api In Angular 6", "body": "<p>How to retrieve data from API and\nFor each user id returns his posts with their comments in one JSON object?</p>\n\n<p><strong>posts</strong> can be fetched from this API: <a href=\"https://jsonplaceholder.typicode.com/posts\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/posts</a></p>\n\n<p>and their <strong>comments</strong> from this API: <a href=\"https://jsonplaceholder.typicode.com/comments\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/comments</a></p>\n\n<pre><code>//Get User Posts And Comments\ngetUser() {\n    this.http.get('https://jsonplaceholder.typicode.com/posts') &amp;&amp; this.http.get('https://jsonplaceholder.typicode.com/comments')\n\n    .subscribe(data =&gt; {\n      this.posts = data;\n    });\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 571, "user_id": 7556782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4FukG.jpg?s=128&g=1", "display_name": "Erch", "link": "https://stackoverflow.com/users/7556782/erch"}, "edited": false, "score": 4, "creation_date": 1539774761, "post_id": 52853463, "comment_id": 92622169, "body": "you may want to research cookies : D"}, {"owner": {"reputation": 29603, "user_id": 476951, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4e1366f240b6e71c43ca4c76c0d0ee70?s=128&d=identicon&r=PG", "display_name": "yunzen", "link": "https://stackoverflow.com/users/476951/yunzen"}, "edited": false, "score": 0, "creation_date": 1539775647, "post_id": 52853463, "comment_id": 92622699, "body": "Please note that your strategy bears enormous security risks. If you rely on a client side value of loggedIn being true or false, this could be easyly forged by a penetrator and unwanted things could happen like identity theft, data leaks and the kind. You possibly don&#39;t want that."}], "answers": [{"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 3, "last_activity_date": 1539774786, "creation_date": 1539774786, "answer_id": 52853521, "question_id": 52853463, "link": "https://stackoverflow.com/questions/52853463/how-to-remember-the-value-of-a-variable-after-reloading-the-page/52853521#52853521", "title": "How to remember the value of a variable after reloading the page?", "body": "<p>Use <a href=\"https://developer.mozilla.org/ru/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">localstorage</a></p>\n\n<p>Example:</p>\n\n<pre><code>localStorage.setItem('loggedIn', loggedIn);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 487, "user_id": 9448007, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cVfd4Iz_omg/AAAAAAAAAAI/AAAAAAAAACM/c8L-6YBqljw/photo.jpg?sz=128", "display_name": "Igor Shvets", "link": "https://stackoverflow.com/users/9448007/igor-shvets"}, "edited": false, "score": 0, "creation_date": 1539775197, "post_id": 52853538, "comment_id": 92622450, "body": "I need to save button styles after reloading, they depend on the value of the variable, how to implement it?"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "reply_to_user": {"reputation": 487, "user_id": 9448007, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cVfd4Iz_omg/AAAAAAAAAAI/AAAAAAAAACM/c8L-6YBqljw/photo.jpg?sz=128", "display_name": "Igor Shvets", "link": "https://stackoverflow.com/users/9448007/igor-shvets"}, "edited": false, "score": 0, "creation_date": 1539775451, "post_id": 52853538, "comment_id": 92622579, "body": "@IgorShvets, I&#39;ve updated my answer accordingly. Please check if that helps."}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1539787523, "post_id": 52853538, "comment_id": 92630341, "body": "@SiddAjmera you can&#39;t use <code>this</code> in the template"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 1, "last_activity_date": 1539776914, "last_edit_date": 1539776914, "creation_date": 1539774845, "answer_id": 52853538, "question_id": 52853463, "link": "https://stackoverflow.com/questions/52853463/how-to-remember-the-value-of-a-variable-after-reloading-the-page/52853538#52853538", "title": "How to remember the value of a variable after reloading the page?", "body": "<p>You've already stored <code>login</code> after the user logged in in the <code>LoggedinService</code>'s <code>login</code> method.</p>\n\n<p>Now even if you reload the page, you will be able to get it from there using:</p>\n\n<pre><code>// Add this property in your app.component.ts\nloggedIn = localStorage.getItem('login');\n</code></pre>\n\n<p>This will return 'true' if the user was logged in before the page reload.</p>\n\n<p>You can then create these classes:</p>\n\n<pre><code>.btn-outline-success {\n  background: 'green';\n}\n\n.btn-outline-danger {\n  background: 'green';\n}\n</code></pre>\n\n<p>And then in your app.component.html dynamically use these classes using <code>[ngClass]</code> syntax like this:</p>\n\n<pre><code>&lt;li class=\"nav-item\"&gt;\n  &lt;a \n    class=\"btn\" \n    [ngClass]=\"loggedIn === 'true' ? 'btn-outline-success': 'btn-outline-danger'\"\n    (click)=\"this.loggedInService.loggedIn ? logout() : logIn()\"&gt;\n    {{this.loggedInService.loggedIn? 'Exit' : 'Enter'}}\n  &lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7081042, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206035034995331/picture?type=large", "display_name": "Popoola Gafar Babatunde", "link": "https://stackoverflow.com/users/7081042/popoola-gafar-babatunde"}, "is_accepted": false, "score": 1, "last_activity_date": 1539776188, "creation_date": 1539776188, "answer_id": 52853957, "question_id": 52853463, "link": "https://stackoverflow.com/questions/52853463/how-to-remember-the-value-of-a-variable-after-reloading-the-page/52853957#52853957", "title": "How to remember the value of a variable after reloading the page?", "body": "<h1>For Angular 6 run:</h1>\n\n<p><code>npm install @ngx-pwa/local-storage@6</code></p>\n\n<h1>For Angular 5 run:</h1>\n\n<p><code>npm install @ngx-pwa/local-storage@5</code></p>\n\n<p>add this to your app module:</p>\n\n<p><code>imports: [\n    LocalStorageModule,\n    //other module imports here\n  ],</code></p>\n\n<h1>LoginService</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class LoggedinService implements OnInit {\r\n    redirectUrl: string;\r\n    loggedIn: boolean = false;\r\n    constructor(private localStorage: LocalStorage) {}\r\n\r\n    ngOnInit(): void  {}\r\n\r\n    login(): boolean {\r\n        this.localStorage.setItem('login', 'true').subscribe(res =&gt; {\r\n          this.loggedIn = true;\r\n        });\r\n        return this.loggedIn = true;\r\n    }\r\n\r\n    logout(): boolean {\r\n        this.localStorage.removeItem('login').subscribe(res =&gt; {\r\n          this.loggedIn = false;\r\n        });\r\n        return this.loggedIn = false;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Don't forget to add the import</p>\n</blockquote>\n\n<p><code>import { LocalStorage } from \"@ngx-pwa/local-storage\";</code></p>\n\n<blockquote>\n  <p>check the repository <a href=\"https://github.com/cyrilletuzi/angular-async-local-storage\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"}], "owner": {"reputation": 487, "user_id": 9448007, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cVfd4Iz_omg/AAAAAAAAAAI/AAAAAAAAACM/c8L-6YBqljw/photo.jpg?sz=128", "display_name": "Igor Shvets", "link": "https://stackoverflow.com/users/9448007/igor-shvets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 52853538, "answer_count": 3, "score": 1, "last_activity_date": 1539776914, "creation_date": 1539774604, "question_id": 52853463, "link": "https://stackoverflow.com/questions/52853463/how-to-remember-the-value-of-a-variable-after-reloading-the-page", "title": "How to remember the value of a variable after reloading the page?", "body": "<p>I want to memorize the value of the variable <code>loggedIn</code>, because the value of the corresponding function in <code>appComponent.html</code> depends on its value.Tell me please how to implement it?</p>\n\n<p><strong>teamplate of app component:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>            &lt;li class=\"nav-item\"&gt;\r\n                &lt;a class=\"btn btn-outline-success\"\r\n                   [class.btn-outline-success]=\"!this.loggedInService.loggedIn\"\r\n                   [class.btn-outline-danger]=\"this.loggedInService.loggedIn\"\r\n                   (click)=\"this.loggedInService.loggedIn ? logout() : logIn()\"&gt;\r\n                    {{this.loggedInService.loggedIn? 'Exit' : 'Enter'}}\r\n                &lt;/a&gt;\r\n            &lt;/li&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>code of app component:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class AppComponent implements OnInit {\r\n    constructor(private loggedInService: LoggedinService,\r\n                private router: Router) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    logIn(): void {\r\n        this.loggedInService.login();\r\n        if (this.loggedInService.loggedIn) {\r\n            let redirect = this.loggedInService.redirectUrl ? this.loggedInService.redirectUrl :\r\n                '/gallery';\r\n            this.router.navigate([redirect]);\r\n        }\r\n    }\r\n\r\n    logout(): void {\r\n        this.loggedInService.logout();\r\n        this.router.navigate(['/']);\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>LoggedinService:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class LoggedinService implements OnInit {\r\n    redirectUrl: string;\r\n    loggedIn: boolean = false;\r\n    constructor() {}\r\n\r\n    ngOnInit(): void  {}\r\n\r\n    login(): boolean {\r\n        localStorage.setItem('login', 'true');\r\n        return this.loggedIn = true;\r\n    }\r\n\r\n    logout(): boolean {\r\n        localStorage.removeItem('login');\r\n        return this.loggedIn = false;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539774816, "creation_date": 1539774816, "answer_id": 52853533, "question_id": 52853438, "link": "https://stackoverflow.com/questions/52853438/multiple-instantiations-of-singleton-service-in-angular-6/52853533#52853533", "title": "Multiple instantiations of singleton service in angular 6", "body": "<p>This is because of you are providing the same service multiple times in the same module -</p>\n\n<h2>First by</h2>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\n</code></pre>\n\n<h2>Second by</h2>\n\n<pre><code>providers: [\n    CurrentUserService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptor,\n      multi: true\n    }\n  ],\n</code></pre>\n\n<p>Better you remove from the first one.</p>\n"}], "owner": {"reputation": 59, "user_id": 9789515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a88725bddd278f17fdd0b24e4944bd5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Bohomaz", "link": "https://stackoverflow.com/users/9789515/anton-bohomaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 52853533, "answer_count": 1, "score": 1, "last_activity_date": 1539774816, "creation_date": 1539774497, "question_id": 52853438, "link": "https://stackoverflow.com/questions/52853438/multiple-instantiations-of-singleton-service-in-angular-6", "title": "Multiple instantiations of singleton service in angular 6", "body": "<p>I have an angular service provided in root</p>\n\n<pre><code>import {Injectable} from \"@angular/core\";\nimport {BehaviorSubject} from \"rxjs\";\nimport {Admin} from \"../models/admin.model\";\nimport {AdminsService} from \"./admins.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrentUserService {\n  public user$: BehaviorSubject&lt;Admin&gt; = new BehaviorSubject(null);\n\n  constructor(private _adminsService: AdminsService) {\n    console.log('current user service instantiated');\n    this._adminsService.getCurrentUser()\n      .subscribe(user =&gt; {\n        this.user$.next(user);\n      });\n  }\n\n  public update() {\n    this._adminsService.getCurrentUser().subscribe(user =&gt; {\n      this.user$.next(user);\n    })\n  }\n\n  public clear() {\n    this.user$.next(null);\n  }\n}\n</code></pre>\n\n<p>I provide it and Http Interceptor in app.module in this way: </p>\n\n<pre><code>providers: [\n    CurrentUserService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptor,\n      multi: true\n    }\n  ],\n</code></pre>\n\n<p>And when I try to inject it into interceptor i get a lot of messages from constructor, that indicates that service instantiates many times. \nCan anybody explain this behavior and may be have some idea of how to fix it? </p>\n\n<p><a href=\"https://i.stack.imgur.com/tH8oP.png\" rel=\"nofollow noreferrer\">console with messages screenshot</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "edited": false, "score": 0, "creation_date": 1539779591, "post_id": 52854525, "comment_id": 92625047, "body": "what is createItem() in this code? The console says &quot;this.createItem is not a function&quot;"}, {"owner": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "edited": false, "score": 0, "creation_date": 1539780649, "post_id": 52854525, "comment_id": 92625720, "body": "Adding and removing elements works fine!! But how do I get the values of the field?"}, {"owner": {"reputation": 489, "user_id": 7334873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02bcda468dd6ff637555372853e239e0?s=128&d=identicon&r=PG&f=1", "display_name": "Vishw Patel", "link": "https://stackoverflow.com/users/7334873/vishw-patel"}, "reply_to_user": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "edited": false, "score": 0, "creation_date": 1539850688, "post_id": 52854525, "comment_id": 92653071, "body": "You can just do this.linksForm.value and it will return JSON of form values which you have fields with all added members."}, {"owner": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "edited": false, "score": 0, "creation_date": 1539856652, "post_id": 52854525, "comment_id": 92656466, "body": "I am able to create multiple input fields dynamically. Each element holds a property in the value attribute under FormArray. When i try to retrieve the value of all the fields. I get the value of only the last field. How can i get all of them? Refer to the video, I have tried to highlight the current status of the program and the need as well. <a href=\"https://youtu.be/eF3UIKfaAH4\" rel=\"nofollow noreferrer\">youtu.be/eF3UIKfaAH4</a>"}, {"owner": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "edited": false, "score": 0, "creation_date": 1539856845, "post_id": 52854525, "comment_id": 92656579, "body": "The get button calls a function named abc which has one statement &quot;console.log(this.room.value.roomName);&quot; What should be the statement to access all the input field values"}, {"owner": {"reputation": 489, "user_id": 7334873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02bcda468dd6ff637555372853e239e0?s=128&d=identicon&r=PG&f=1", "display_name": "Vishw Patel", "link": "https://stackoverflow.com/users/7334873/vishw-patel"}, "reply_to_user": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "edited": false, "score": 0, "creation_date": 1539857314, "post_id": 52854525, "comment_id": 92656857, "body": "In your case &quot;this.myForm.get(&#39;addRoom&#39;).value;&quot; should return array of all rooms added."}], "tags": [], "owner": {"reputation": 489, "user_id": 7334873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02bcda468dd6ff637555372853e239e0?s=128&d=identicon&r=PG&f=1", "display_name": "Vishw Patel", "link": "https://stackoverflow.com/users/7334873/vishw-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1539780003, "last_edit_date": 1539780003, "creation_date": 1539778025, "answer_id": 52854525, "question_id": 52853387, "link": "https://stackoverflow.com/questions/52853387/how-do-you-add-elements-and-access-values-dynamically-in-angular/52854525#52854525", "title": "How do you add elements and access values dynamically in Angular?", "body": "<p>Below is the code sample for couple of fields with dynamic Add &amp; Remove functionality.</p>\n\n<pre><code>                              &lt;form [formGroup]=\"linksForm\" class=\"form-horizontal\"&gt;\n                                    &lt;div class=\"form-group\"&gt;\n                                        &lt;label class=\"col-md-2 control-label\"&gt;Links\n                                        &lt;/label&gt;\n                                        &lt;div class=\"col-md-10\"&gt;\n                                            &lt;div formArrayName=\"links\" *ngFor=\"let item of linksForm.get('links').controls; let i = index;\"&gt;\n                                                &lt;div [formGroupName]=\"i\"&gt;\n                                                    &lt;div class=\"col-md-5\"&gt;\n                                                        &lt;input class=\"form-control col-md-5\" formControlName=\"name\" placeholder=\"Name\"&gt;\n                                                    &lt;/div&gt;\n                                                    &lt;div class=\"col-md-5\"&gt;\n                                                        &lt;input type=\"url\" pattern=\"https?://.+\" placeholder=\"http://example.com\" class=\"form-control col-md-5\"\n                                                         formControlName=\"link\"&gt;\n                                                    &lt;/div&gt;\n                                                    &lt;div class=\"col-md-2\"&gt;\n                                                        &lt;button class=\"btn btn-warning btn-xs m-t-sm\" type=\"button\" (click)=\"removeItem(i)\"&gt;\n                                                            &lt;i name=\"save\" class=\"fa fa-trash\"&gt;&lt;/i&gt;\n                                                        &lt;/button&gt;\n                                                        &lt;button *ngIf=\"i == linksForm.get('links').controls.length - 1\" class=\"btn btn-primary btn-xs m-t-sm\" type=\"button\" (click)=\"addItem()\"&gt;\n                                                            &lt;i name=\"save\" class=\"fa fa-plus\"&gt;&lt;/i&gt;\n                                                        &lt;/button&gt;\n                                                    &lt;/div&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/form&gt;\n</code></pre>\n\n<p>TS : Declare below variables in class :</p>\n\n<pre><code>linksForm: FormGroup;\nlinks: FormArray;\n</code></pre>\n\n<p>Inside ngOnInit() initialize form with at least one row : </p>\n\n<pre><code>this.linksForm = new FormGroup({\n            'links': new FormArray([this.createItem()])\n        });\n</code></pre>\n\n<p>Add below functions for Add / Remove : </p>\n\n<pre><code>addItem(): void {\n    this.links = this.linksForm.get('links') as FormArray;\n    this.links.push(this.createItem());\n  }\n\n   removeItem(index: any) {\n      this.links.removeAt(index);\n\n      if (this.links.length == 0) {\n         this.addItem();\n      }\n   }\n\ncreateItem(): FormGroup {\n        return new FormGroup({\n            id: new FormControl(),\n            name: new FormControl(),\n            link: new FormControl(),\n            createdAt: new FormControl()\n        });\n    }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 5622171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f3e0276f96d75319da316d902656366?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Mathur", "link": "https://stackoverflow.com/users/5622171/rohit-mathur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539780003, "creation_date": 1539774312, "last_edit_date": 1539778542, "question_id": 52853387, "link": "https://stackoverflow.com/questions/52853387/how-do-you-add-elements-and-access-values-dynamically-in-angular", "title": "How do you add elements and access values dynamically in Angular?", "body": "<p>I am working on a small project that allows the user to add dynamic fields. On clicking a button I have been able to create input fields dynamically. I am trying to access the value of each field and push it to the service. On the other hand, another component should make the number of div depending upon the number of input fields created by the user and each div should contain a title depending upon the user input in the input field.</p>\n\n<p><strong>register.component.html</strong></p>\n\n<pre><code>&lt;h2&gt;Demo App&lt;/h2&gt;\n&lt;form [formGroup]=\"myForm\"&gt;\n    &lt;button (click)=\"addRooms()\"&gt;Add Room &lt;/button&gt;\n  &lt;div formArrayName=\"addRoom\"&gt;\n    &lt;div *ngFor=\"let r of Rooms.controls; let i=index\" [formGroupName]=\"i\"&gt;\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Enter A Room Name\" formControlName=\"roomName\" (keyup)=\"abc()\"/&gt;\n\n      &lt;/mat-form-field&gt;\n      &lt;button (click)=\"deleteRoom(i)\"&gt;Delete&lt;/button&gt;\n    &lt;/div&gt;\n\n\n  &lt;/div&gt;\n  &lt;input type=\"button\" (click)=\"getRoomValues()\" value=\"Get\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>register.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit} from '@angular/core';\nimport { RegisterModel } from '../models/register.model';\nimport {FormGroup, FormBuilder, Validators, FormArray, FormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit, AfterViewInit {\n  myForm: FormGroup;\n  room: FormGroup;\n\n  constructor(private formBuilder:FormBuilder, private r:Router, private _ele:ElementRef, private _render: Renderer) { }\n\n  ngOnInit() {\n    this.myForm = this.formBuilder.group({\n      addRoom: this.formBuilder.array([]),\n      tst: new FormControl()\n    });\n\n  }\n\n  getVal(){\n    console.log(this.myForm.value.tst);\n  }\n\n  get Rooms(){\n    return this.myForm.get('addRoom') as FormArray;\n  }\n\n\n  addRooms(){\n    this.room = this.formBuilder.group({\n      roomName:new FormControl()\n    })\n\n    this.Rooms.push(this.room);\n    console.log(this.Rooms);\n  }\n  abc(){\n    console.log(this.room.value.roomName);\n  }\n\n  deleteRoom(i){\n    this.Rooms.removeAt(i);\n  }\n\n  get roomNames(){\n    return this.myForm.get('roomNames') as FormArray;\n  }\n  getRoomValues(){\n    console.log(this.myForm.value.addRoom)\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "fullcalendar"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1539856515, "post_id": 52853331, "comment_id": 92656389, "body": "by writing <code>[&#39;internal&#39;]</code> like that you&#39;re specifying an array, not a simple string. I&#39;d guess that fullCalendar maybe doesn&#39;t understand it. Try just <code>&#39;internal&#39;</code> without the <code>[</code> and <code>]</code>. (P.S. the square brackets in the documentation are, I think, just to indicate that &quot;source&quot; is an optional parameter - that&#39;s quite a common convention in code documentation. I don&#39;t know if that&#39;s what confused you.)"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1539857589, "post_id": 52853331, "comment_id": 92656999, "body": "@ADyson <code>this.calendar.addEvent(response[&#39;event&#39;], &#39;internal&#39;);</code> without the array brackets returns an error and does not render the event: <code>Cannot read property &#39;allDayDefault&#39; of undefined</code>."}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1539857741, "post_id": 52853331, "comment_id": 92657064, "body": "replacing <code>[&#39;internal&#39;]</code> with <code>[this.calendar.getEventSourceById(&#39;internal&#39;)]</code> as state the docs is another option - does not work either"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1539860326, "post_id": 52853331, "comment_id": 92658438, "body": "the second error might be because the event data isn&#39;t populated. Have you checked that? Or it could just be a bug because you&#39;re using an alpha version of the plugin."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1539860520, "post_id": 52853331, "comment_id": 92658529, "body": "P.S. <code>[this.calendar.getEventSourceById(&#39;internal&#39;)]</code> would have to be <code>this.calendar.getEventSourceById(&#39;internal&#39;)</code> (again without the square brackets) if you want to try it that way."}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1539861813, "post_id": 52853331, "comment_id": 92659219, "body": "@ADyson Yeah I tried both methods in both forms. I believe it&#39;s safe to announce it is a bug. I&#39;ll forward it then. Thank you! =)"}], "owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539774105, "creation_date": 1539774105, "question_id": 52853331, "link": "https://stackoverflow.com/questions/52853331/fullcalendar4-0-0alpha-2-associate-new-event-with-event-source", "title": "fullcalendar@4.0.0alpha.2 associate new event with event source", "body": "<p>Fullcalendar keeps a newly created event in cache memory although it explicitly states it won't, if an <code>Event Source</code> object is attached to it.</p>\n\n<p><strong><a href=\"https://fullcalendar.io/docs/v4/release-notes#events\" rel=\"nofollow noreferrer\">From recent release docs:</a></strong></p>\n\n<blockquote>\n  <p>addEvent: The stick parameter has been removed in favor of a source parameter. When this source is fetched going forward, the dynamic event will be removed. Not specifying a source is equivalent to setting stick to true. <strong>So, by default, events will stick</strong>!</p>\n</blockquote>\n\n<p><strong><a href=\"https://fullcalendar.io/docs/v4/Calendar-addEvent\" rel=\"nofollow noreferrer\">Fullcalendar Example of usage:</a></strong></p>\n\n<p><code>calendar.addEvent( event [, source ] )</code></p>\n\n<blockquote>\n  <p>'source' represents the Event Source you want to associate this event with. It can be a string Event Source ID or an Event Source Object. When the source is refetched, it will clear the the dynamically added event from the internal cache before fetching. This parameter is optional.</p>\n</blockquote>\n\n<p>Therefore, when attaching a source, the newly added event should be associated with that source, and inherit properties? which it doesn't at the moment...</p>\n\n<p><strong>my code:</strong></p>\n\n<p><em>calendar element</em></p>\n\n<pre><code>this.calendar = new Calendar(this.calendarEl, {\n  // options... \n  eventSources: [\n    {\n      id: 'internal',\n      color: '#ff4202',\n      events: (fetchInfo, successCallback, failureCallback) =&gt; {\n        // Get events in updated weekly range.\n        this.eventService.getEvents(fetchInfo.start.valueOf(), fetchInfo.end.valueOf(), moment().utcOffset())\n          .subscribe((events: Array&lt;Event&gt;) =&gt; successCallback(events),\n            error =&gt; failureCallback(error));\n        },\n    }\n  ],\n}\n</code></pre>\n\n<p><em>Add event</em></p>\n\n<pre><code>this.eventService.createEvent(data)\n   .subscribe(response =&gt; {\n      this.calendar.addEvent(response['event'], ['internal']); // &lt;-- What I am requested to do\n   }\n</code></pre>\n\n<p>Cliking the newly created event to fetch its EventAPI data reveals:</p>\n\n<p><code>source: null</code></p>\n\n<p>While clicking a prefetched event using the <code>events</code> function from <code>CalendarOptions</code> reveals</p>\n\n<p><code>source: EventSourceApi</code> (the source object)</p>\n\n<p>I cannot find where I'm getting it wrong. If it is reassured as a bug, I will forward it then.</p>\n\n<p>Thank you for any help</p>\n"}, {"tags": ["angular", "typescript", "http", "rxjs"], "comments": [{"owner": {"reputation": 1386, "user_id": 1794058, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/624fc33c8075a5f5315323eed98432e2?s=128&d=identicon&r=PG", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/1794058/ritesh"}, "edited": false, "score": 0, "creation_date": 1539775508, "post_id": 52853098, "comment_id": 92622608, "body": "Check this out: <a href=\"https://stackoverflow.com/questions/38548407/how-to-return-an-empty-observable-in-rxjs\" title=\"how to return an empty observable in rxjs\">stackoverflow.com/questions/38548407/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 444272, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/03bf1cd2d5156561d5707c708ddeacf6?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/444272/cl%c3%a9ment"}, "edited": false, "score": 0, "creation_date": 1539779287, "post_id": 52853256, "comment_id": 92624878, "body": "It&#39;s not perfect since it requires to change the subscribe method (to use the <code>complete</code> callback instead of <code>next</code>). But I agree that <code>empty</code> is the best operator to convey the meaning of a <i>completed</i> HTTP request with <i>empty</i> content."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 729, "user_id": 444272, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/03bf1cd2d5156561d5707c708ddeacf6?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/444272/cl%c3%a9ment"}, "edited": false, "score": 0, "creation_date": 1539779689, "post_id": 52853256, "comment_id": 92625112, "body": "@Cl&#233;ment You can use <code>subscribe({ complete: () =&gt; ... })</code>"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539773802, "creation_date": 1539773802, "answer_id": 52853256, "question_id": 52853098, "link": "https://stackoverflow.com/questions/52853098/using-typescript-what-is-a-good-observable-type-to-best-represent-a-http-respon/52853256#52853256", "title": "Using typescript, what is a good Observable type to best represent a HTTP response with no content?", "body": "<p>You can use <code>Observable.empty()</code></p>\n\n<p>or </p>\n\n<p><code>empty()</code> if you have imported from <code>rxjs</code></p>\n"}, {"tags": [], "owner": {"reputation": 1094, "user_id": 7059557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Gpce.jpg?s=128&g=1", "display_name": "AmirReza-Farahlagha", "link": "https://stackoverflow.com/users/7059557/amirreza-farahlagha"}, "is_accepted": false, "score": 2, "last_activity_date": 1539774489, "creation_date": 1539774489, "answer_id": 52853436, "question_id": 52853098, "link": "https://stackoverflow.com/questions/52853098/using-typescript-what-is-a-good-observable-type-to-best-represent-a-http-respon/52853436#52853436", "title": "Using typescript, what is a good Observable type to best represent a HTTP response with no content?", "body": "<p>You can create a method for send a request as <code>Observable</code> like:</p>\n\n<pre><code> // Add a new comment\n    addComment (body: Object): Observable&lt;Comment[]&gt; {\n        let bodyString = JSON.stringify(body); // Stringify payload\n        let headers      = new Headers({ 'Content-Type': 'application/json' }); // ... Set content type to JSON\n        let options       = new RequestOptions({ headers: headers }); // Create a request option\n\n        return this.http.post(this.commentsUrl, body, options) // ...using post request\n                         .map((res:Response) =&gt; res.json()) // ...and calling .json() on the response to return data\n                         .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error')); //...errors if any\n    }   \n\n    // Update a comment\n    updateComment (body: Object): Observable&lt;Comment[]&gt; {\n        let bodyString = JSON.stringify(body); // Stringify payload\n        let headers      = new Headers({ 'Content-Type': 'application/json' }); // ... Set content type to JSON\n        let options       = new RequestOptions({ headers: headers }); // Create a request option\n\n        return this.http.put(`${this.commentsUrl}/${body['id']}`, body, options) // ...using put request\n                         .map((res:Response) =&gt; res.json()) // ...and calling .json() on the response to return data\n                         .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error')); //...errors if any\n    }   \n\n    // Delete a comment\n    removeComment (id:string): Observable&lt;Comment[]&gt; {\n        return this.http.delete(`${this.commentsUrl}/${id}`) // ...using put request\n                         .map((res:Response) =&gt; res.json()) // ...and calling .json() on the response to return data\n                         .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error')); //...errors if any\n    }\n</code></pre>\n\n<p>Or simply use of <code>HttpClient</code> like:</p>\n\n<pre><code>getConfigResponse(): Observable&lt;HttpResponse&lt;Config&gt;&gt; {\n  return this.http.get&lt;Config&gt;(\n    this.configUrl, { observe: 'response' });\n}\n\n    addHero (hero: Hero): Observable&lt;Hero&gt; {\n  return this.http.post&lt;Hero&gt;(this.heroesUrl, hero, httpOptions)\n    .pipe(\n           catchError(this.handleError('addHero', hero))\n         );\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 729, "user_id": 444272, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/03bf1cd2d5156561d5707c708ddeacf6?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/444272/cl%c3%a9ment"}, "edited": false, "score": 0, "creation_date": 1539780105, "post_id": 52854382, "comment_id": 92625380, "body": "<code>Observable&lt;void&gt;</code> is technically working but its semantic is hard to reason about: does it emit something? in what sense is the value &quot;void&quot;? <code>empty()</code> is good but like I said to @Sunil Singh, its too bad that the use of the subscribe method changes depending on whether there is a content or not (using sometimes <code>next</code> and sometimes <code>complete</code>)."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 729, "user_id": 444272, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/03bf1cd2d5156561d5707c708ddeacf6?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/444272/cl%c3%a9ment"}, "edited": false, "score": 1, "creation_date": 1539780335, "post_id": 52854382, "comment_id": 92625522, "body": "Well, it has to change. How would you distinguish a valid value from a situation where you don&#39;t want to emit anything? That&#39;s what <code>complete</code> and <code>error</code> notifications are for. Of course you can use <code>null</code> but it seems like you wanted to avoid this. The <code>void</code> type is a TypeScript type that represents nothing (like <code>NULL</code> in a database). Then <code>Observable&lt;T&gt;</code> is an Observable that emits <code>next</code> items of type <code>T</code>. So <code>Observable&lt;void&gt;</code> is an Observable that emits nothing."}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1539777531, "creation_date": 1539777531, "answer_id": 52854382, "question_id": 52853098, "link": "https://stackoverflow.com/questions/52853098/using-typescript-what-is-a-good-observable-type-to-best-represent-a-http-respon/52854382#52854382", "title": "Using typescript, what is a good Observable type to best represent a HTTP response with no content?", "body": "<p>What you're looking for actually exist and its correct type is <code>Observable&lt;void&gt;</code>. Like you said <code>null</code> is a regular value that can be produced by any Observable. In RxJS 6 this is represented by <code>empty()</code> which is like any other Observable but it doesn't emit any <code>next</code> value and just sends the <code>complete</code> signal.</p>\n\n<pre><code>import { empty, EMPTY } from 'rxjs';\n\nempty().subscribe(...) // will receive just the `complete` notification\n\n// or you can use EMPTY\n\nEMPTY.subscribe(...)\n</code></pre>\n\n<p>By the way you can also turn any Observable into <code>Observable&lt;void&gt;</code> using the <code>ignoreElements()</code> operator.</p>\n\n<p>There're also <code>never()</code> and <code>NEVER</code> Observables but don't mistake them for <code>empty()</code> because these don't emit anything (not even the <code>complete</code> notification).</p>\n"}], "owner": {"reputation": 729, "user_id": 444272, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/03bf1cd2d5156561d5707c708ddeacf6?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/444272/cl%c3%a9ment"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1002, "favorite_count": 1, "accepted_answer_id": 52853256, "answer_count": 3, "score": 4, "last_activity_date": 1541069760, "creation_date": 1539773281, "last_edit_date": 1541069760, "question_id": 52853098, "link": "https://stackoverflow.com/questions/52853098/using-typescript-what-is-a-good-observable-type-to-best-represent-a-http-respon", "title": "Using typescript, what is a good Observable type to best represent a HTTP response with no content?", "body": "<p>Using typescript, Angular 6+ and rxjs, how to best represent to the caller that an HTTP response content is empty (Content-Length=0)?</p>\n\n<p>Without specifying types in the method call (<code>get</code>, <code>post</code>, etc.), an <code>Observable&lt;Object&gt;</code> is returned, which is misleading regarding the response content, as one can be tempted to use the given object:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let response: Observable&lt;Object&gt; = httpClient.post('...');\nresponse.subscribe(o =&gt; ...);\n</code></pre>\n\n<p>In this case, <code>o</code> is always null, but this is not explicit nor checked by the compiler.</p>\n\n<p>A better solution would be to return <code>Observable&lt;null&gt;</code> but I find the semantic to be ambiguous, as null could also refer to a null data (eg, a customer without phone number would have a phoneNumber property set to null).</p>\n"}, {"tags": ["css", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 2026, "user_id": 7812112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I9HJf24huv0/AAAAAAAAAAI/AAAAAAAAAmM/Lcp1K2SE1Kk/photo.jpg?sz=128", "display_name": "Sarthak Aggarwal", "link": "https://stackoverflow.com/users/7812112/sarthak-aggarwal"}, "edited": false, "score": 0, "creation_date": 1539773693, "post_id": 52853033, "comment_id": 92621519, "body": "I guess you have to create a new  <b>custom theme</b> for your primary, secondary colors"}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 2310954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvEJ.png?s=128&g=1", "display_name": "Jaroslav", "link": "https://stackoverflow.com/users/2310954/jaroslav"}, "edited": false, "score": 0, "creation_date": 1539776344, "post_id": 52853156, "comment_id": 92623087, "body": "I have used similar solution with the default html checkbox (&lt;input type=&quot;checkbox&quot; ... &gt;), where it worked, but had to switch to the material design checkbox, where this solution does not work for me. But thanks anyway"}, {"owner": {"reputation": 637, "user_id": 2310954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvEJ.png?s=128&g=1", "display_name": "Jaroslav", "link": "https://stackoverflow.com/users/2310954/jaroslav"}, "edited": false, "score": 0, "creation_date": 1539776647, "post_id": 52853156, "comment_id": 92623245, "body": "yes, as I said, for the &lt;input type=&quot;checkbox&quot; ... &gt; it works, but not for the <b>&lt;mat-checkbox ... &gt;</b> checkbox"}], "tags": [], "owner": {"reputation": 1013, "user_id": 3274960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AL7Oo.jpg?s=128&g=1", "display_name": "stalinrajindian", "link": "https://stackoverflow.com/users/3274960/stalinrajindian"}, "is_accepted": false, "score": 0, "last_activity_date": 1539774231, "last_edit_date": 1539774231, "creation_date": 1539773512, "answer_id": 52853156, "question_id": 52853033, "link": "https://stackoverflow.com/questions/52853033/angular-material-design-checkbox-black-foreground-color-symbol-color/52853156#52853156", "title": "Angular Material design checkbox black foreground color (symbol color)", "body": "<p>Please try below CSS code. It will work.</p>\n\n<pre><code>input[type=\"checkbox\"]:checked + label::after {\n   content: '';\n   position: absolute;\n   width: 1.2ex;\n   height: 0.4ex;\n   background: rgba(0, 0, 0, 0);\n   top: 0.9ex;\n   left: 0.4ex;\n   border: 3px solid #000000;\n   border-top: none;\n   border-right: none;\n   -webkit-transform: rotate(-45deg);\n   -moz-transform: rotate(-45deg);\n   -o-transform: rotate(-45deg);\n   -ms-transform: rotate(-45deg);\n   transform: rotate(-45deg);\n}\n\ninput[type=\"checkbox\"] {\n   line-height: 2.1ex;\n}\n\ninput[type=\"checkbox\"] {\n    position: absolute;\n    left: -999em;\n}\n\ninput[type=\"checkbox\"] + label {\n    position: relative;\n    overflow: hidden;\n    cursor: pointer;\n}\n\ninput[type=\"checkbox\"] + label::before {\n   content: \"\";\n   display: inline-block;\n   vertical-align: -25%;\n   height: 2ex;\n   width: 2ex;\n   background-color: #3197ee;\n   border: 1px solid rgb(166, 166, 166);\n   border-radius: 4px;\n   box-shadow: inset 0 2px 5px rgba(0,0,0,0.25);\n   margin-right: 0.5em;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 637, "user_id": 2310954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvEJ.png?s=128&g=1", "display_name": "Jaroslav", "link": "https://stackoverflow.com/users/2310954/jaroslav"}, "edited": false, "score": 1, "creation_date": 1539775908, "post_id": 52853219, "comment_id": 92622838, "body": "The first solution works flawlessly! I would not prefer the second, because I have read, that the &#39;deep&#39; is being deprecated and may not work in all browsers. Thanks!"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 637, "user_id": 2310954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvEJ.png?s=128&g=1", "display_name": "Jaroslav", "link": "https://stackoverflow.com/users/2310954/jaroslav"}, "edited": false, "score": 0, "creation_date": 1539775956, "post_id": 52853219, "comment_id": 92622867, "body": "Great ! Yes, <code>&#47;deep&#47;</code> will be deprecated soon."}, {"owner": {"reputation": 266, "user_id": 10030695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiMCS.jpg?s=128&g=1", "display_name": "ManuelTS", "link": "https://stackoverflow.com/users/10030695/manuelts"}, "edited": false, "score": 0, "creation_date": 1585236566, "post_id": 52853219, "comment_id": 107696042, "body": "Works on Angular 7 with ::ng-deep too"}, {"owner": {"reputation": 5112, "user_id": 1646479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/2oPX6.jpg?s=128&g=1", "display_name": "mrroboaat", "link": "https://stackoverflow.com/users/1646479/mrroboaat"}, "edited": false, "score": 0, "creation_date": 1585242046, "post_id": 52853219, "comment_id": 107698698, "body": "It works with <code>&#47;deep&#47;</code> but not in a <i>custom theme</i> &gt;&lt;"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 8, "last_activity_date": 1539773676, "creation_date": 1539773676, "answer_id": 52853219, "question_id": 52853033, "link": "https://stackoverflow.com/questions/52853033/angular-material-design-checkbox-black-foreground-color-symbol-color/52853219#52853219", "title": "Angular Material design checkbox black foreground color (symbol color)", "body": "<p>try with this</p>\n\n<pre><code>.mat-checkbox-checkmark-path {\n    stroke: #000 !important;\n}\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>/deep/ .mat-checkbox-checkmark-path {\n    stroke: #000 !important;\n}\n</code></pre>\n"}], "owner": {"reputation": 637, "user_id": 2310954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvEJ.png?s=128&g=1", "display_name": "Jaroslav", "link": "https://stackoverflow.com/users/2310954/jaroslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1587, "favorite_count": 0, "accepted_answer_id": 52853219, "answer_count": 2, "score": 3, "last_activity_date": 1539782294, "creation_date": 1539773070, "last_edit_date": 1539782294, "question_id": 52853033, "link": "https://stackoverflow.com/questions/52853033/angular-material-design-checkbox-black-foreground-color-symbol-color", "title": "Angular Material design checkbox black foreground color (symbol color)", "body": "<p>I am using a <code>&lt;mat-checkbox&gt; ... &lt;/mat-checkbox&gt;</code> component within my application and I need to se the color of the symbol (the \"tick\" \u2713 ) to black. I am able to set the background color via css, but nothing works for the \"foreground\" color.</p>\n\n<p>code:</p>\n\n<pre><code>my.ts\n          &lt;mat-checkbox name=\"{{field.name}}\"\n                        [ngModel]=\"field.valueChecked\"\n                        ...\n                        [ngClass]=\"{\n                 'mandatory': field.mandatory == true\n                 ,'optional': field.mandatory == false\n                 ,'checkbox' : true}\"\n                 &gt;\n          &lt;/mat-checkbox&gt;\n\n\nmy.css\n    .checkbox {\n        background-color: #3197ee !important;\n        color: #050911 !important;\n    }\n</code></pre>\n\n<p>Any solution how to change the color is welcome!</p>\n"}, {"tags": ["typescript", "primitive-types"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1539775077, "post_id": 52852887, "comment_id": 92622374, "body": "FWIW, I updated <a href=\"https://stackoverflow.com/a/52853116/157247\">my answer</a> with a note about possible downsides..."}], "answers": [{"comments": [{"owner": {"reputation": 2249, "user_id": 5766143, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ztzpE.jpg?s=128&g=1", "display_name": "relief.melone", "link": "https://stackoverflow.com/users/5766143/relief-melone"}, "edited": false, "score": 0, "creation_date": 1539773369, "post_id": 52853001, "comment_id": 92621324, "body": "Thanks for the anser. Sadly I kind of expected that :("}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1539773556, "post_id": 52853001, "comment_id": 92621433, "body": "<i>&quot;...so that no one without access to the symbol can access the method...&quot;</i> That&#39;s incorrect: <code>Object.getOwnPropertySymbols(String.prototype)</code> will give access to that Symbol to any code that asks for it. Symbols do not provide any form of privacy at all."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1539773649, "post_id": 52853001, "comment_id": 92621491, "body": "<i>&quot;<code>String.prototype.isJson = () =&gt; &#39;your logic here</code>&quot;</i> Never extend built-in prototypes with <i>enumerable</i> properties. Something, somewhere, is going to fall over as a result. If you extend built-in prototypes (which can be okay in certain limited contexts), use <code>Object.defineProperty</code>."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 1, "creation_date": 1539773675, "post_id": 52853001, "comment_id": 92621511, "body": "Oh really? Didn&#39;t know about that. Thank you. So it just makes it harder. Making it non-enumerable will help a bit too."}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 3, "last_activity_date": 1539774097, "last_edit_date": 1539774097, "creation_date": 1539772960, "answer_id": 52853001, "question_id": 52852887, "link": "https://stackoverflow.com/questions/52852887/typescript-new-class-that-extends-string/52853001#52853001", "title": "TypeScript new class that extends String", "body": "<p>It is not possible, unfortunately. An object is still an object and is not <code>===</code> to primitive value (string). </p>\n\n<p>Trust me I've spent dozens of hours on this problem, you simply can't do anything.</p>\n\n<p>You can mutate String.prototype.isJSON </p>\n\n<pre><code>String.prototype.isJson = () =&gt; 'your logic here'\n</code></pre>\n\n<p>But that's not very clean solution, unless you are sure that this code stays inside your app only.</p>\n\n<p>P.S. Typescript has nothing to do with this problem.</p>\n"}, {"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 2, "last_activity_date": 1539774845, "last_edit_date": 1539774845, "creation_date": 1539773371, "answer_id": 52853116, "question_id": 52852887, "link": "https://stackoverflow.com/questions/52852887/typescript-new-class-that-extends-string/52853116#52853116", "title": "TypeScript new class that extends String", "body": "<p><code>===</code> requires the types to be the same. Instances of your <code>AdvancedString</code> type don't have the same type as either primitive or object strings, and so <code>===</code> will always be false. <code>new String(\"\") === \"\"</code> is also false, for the same reason; the former is a String object, the latter is a primitive string.</p>\n\n<p>Your <code>AdvancedString</code> is <code>==</code> primitive strings, but only (it seems) if you use <code>class</code> natively; when I <a href=\"http://www.typescriptlang.org/play/index.html#src=class%20AdvancedString%20extends%20String%20%7B%0A%20%20isJSON()%3A%20boolean%20%7B%0A%20%20%20%20var%20itIs%20%3D%20true%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20JSON.parse(this.toString())%3B%0A%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20itIs%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20itIs%3B%0A%20%20%7D%0A%7D%0A%0Aconst%20s%20%3D%20new%20AdvancedString(%22foo%22)%3B%0Aconsole.log(s%20%3D%3D%3D%20%22foo%22)%3B%20%2F%2F%20false%0Aconsole.log(s%20%3D%3D%20%22foo%22)%3B%20%20%2F%2F%20true\" rel=\"nofollow noreferrer\">try that in the TypeScript playground</a> with TypeScript transpiling the <code>class</code> syntax, it fails. But it works natively:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class AdvancedString extends String {\r\n  isJSON() {\r\n    var itIs = true;\r\n    try {\r\n      JSON.parse(this.toString());\r\n    } catch (err) {\r\n      itIs = false;\r\n    }\r\n\r\n    return itIs;\r\n  }\r\n}\r\n\r\nconst s = new AdvancedString(\"foo\");\r\nconsole.log(s === \"foo\"); // false\r\nconsole.log(s == \"foo\");  // true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>However</strong>, you might want to consider the downsides of using <code>AdvancedString</code>, since your strings will be objects, not primitives:</p>\n\n<ul>\n<li>Memory impact. Allocating those string objects has a bigger memory impact than using primitive strings.\u00b9</li>\n<li>Any code receiving one of your strings (for instance, a library you might be using) that does a <code>typeof</code> check will not see them as (primitive) strings. So an API accepting a string or an options object, for instance, will likely be misled if you pass it an <code>AdvancedString</code> instance. TypeScript may not be able to warn you when this happens, depending on how the library is annotated (<code>string|object</code>, for instance, wouldn't catch it).</li>\n</ul>\n\n<hr>\n\n<p>\u00b9 Out of curiousity, I did this:</p>\n\n<pre><code>const s = \"**y\";\nconst a = Array.from({length: 100000}, () =&gt; new String(\"x\" * s));\n</code></pre>\n\n<p>...on an otherwise-blank page. I ended up with 100,005 <code>String</code> instances in memory (I guess there were 5 from somewhere else) occupying 3,200,160 bytes. In contrast, this:</p>\n\n<pre><code>const s = \"**y\";\nconst a = Array.from({length: 100000}, () =&gt; \"x\" + s);\n</code></pre>\n\n<p>...only increased the number of primitive strings from 3,830 (281,384 bytes) to 27,533 (1,040,120 bytes); apparently some (but not all) of them were reused.</p>\n\n<p>So that's ~741kB for primitives vs. ~3MB for objects, a bit over four times the memory.</p>\n\n<p>That's just one synthetic test, but you get the idea.</p>\n"}], "owner": {"reputation": 2249, "user_id": 5766143, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ztzpE.jpg?s=128&g=1", "display_name": "relief.melone", "link": "https://stackoverflow.com/users/5766143/relief-melone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1539774845, "creation_date": 1539772593, "question_id": 52852887, "link": "https://stackoverflow.com/questions/52852887/typescript-new-class-that-extends-string", "title": "TypeScript new class that extends String", "body": "<p>I am currently trying to set up a class \"AdvancedString\". This class should extend String by methods like e.g. isJSON. Currently it looks like this</p>\n\n<pre><code>class AdvancedString extends String {\n    isJSON():boolean{\n        var itIs = true;\n        try{\n            JSON.parse(this.toString());\n        } catch (err) {\n            itIs = false;\n        }       \n\n        return itIs;\n    }\n}\n\nexport{ AdvancedString}\n</code></pre>\n\n<p>now it doesn't work too bad. If I create the a new instance with \"SampleString\" I'll get</p>\n\n<pre><code>let sample = new AdvancedString(\"SampleString\");\n// ExtendedString {[[PrimitiveValue]]: \"SampleString\"}\n</code></pre>\n\n<p>and if I do toString i get back the correct value</p>\n\n<pre><code>sample.toString()\n// \"SampleString\"\n</code></pre>\n\n<p>However I would like for it to behave like a normal string when i call it directly so</p>\n\n<pre><code>sample === \"SampleString\"\n// should return true and sample.toString() === \"SampleString\"\n// should not be necessary\n</code></pre>\n\n<p>Is there any way to accomplish this in TypeScript or is this not possible? I would like to use a separate class and not add my method to the prototype of string</p>\n"}, {"tags": ["angular", "typescript", "filter", "autocomplete"], "comments": [{"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1539776246, "post_id": 52852560, "comment_id": 92623030, "body": "<code>if (ss) { this.selectedproducts = ss.s_serial[i];</code> but <code>s_serial</code> is a string"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539779332, "post_id": 52854245, "comment_id": 92624900, "body": "I try this but My problem is when I use <code>[(ngModel)]=&#39;selectedproducts&#39;</code> in autocomplete. When I have 2 products, in view show only third product in 3 different input , not 2 product. Like in image in post"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539779807, "post_id": 52854245, "comment_id": 92625188, "body": "You cannot bind Array to [(ngModle)].  You need change it to [(ngModel)]=&#39;selectedproducts[i].s_serial&#39;"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539779947, "post_id": 52854245, "comment_id": 92625268, "body": "And you are binding the array for each iteration. Next issue you will come across related to asynchronous."}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539791100, "post_id": 52854245, "comment_id": 92632461, "body": "I try this, product are selected but in view doesn&#39;t show, and show this error: <code>ERROR TypeError: Cannot read property &#39;0&#39; of undefined     at Object.eval [as updateDirectives]</code>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539791568, "post_id": 52854245, "comment_id": 92632672, "body": "Put if condition in selectedproducts. <code>&lt;div *ngIf=&quot;selectedproducts &amp;&amp; selectedproducts.length &gt; 0&quot; *ngFor=&quot;let sensor of sensorsIdFormArray; let i = index&quot;&gt;</code>"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539852164, "post_id": 52854245, "comment_id": 92653938, "body": "I create a demo, that illustrate my problem <a href=\"https://stackblitz.com/edit/angular-g2hcvs-dauesh?file=app/autocomplete-overview-example.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-g2hcvs-dauesh?file=app/&hellip;</a>  I want to show in autocomplete name of city, and submit, id of city, like in add item."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539853920, "post_id": 52854245, "comment_id": 92654924, "body": "Your demo is working as your requirement. What is the issue in demo copy ?"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539854189, "post_id": 52854245, "comment_id": 92655089, "body": "State 3, 4. I want to display name, not id_city. And save id_city."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539861024, "post_id": 52854245, "comment_id": 92658799, "body": "Just check this modified version of your link - <a href=\"https://stackblitz.com/edit/angular-g2hcvs-cnzpsu\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-g2hcvs-cnzpsu</a>"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539867014, "post_id": 52854245, "comment_id": 92662226, "body": "Yes, but it has a problem, when I add new item, I post names of the existing cities. Thank you!"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539869182, "post_id": 52854245, "comment_id": 92663672, "body": "Please, looks again, I add in code and remove items <a href=\"https://stackblitz.com/edit/angular-g2hcvs-vfbjty?file=app/autocomplete-overview-example.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-g2hcvs-vfbjty?file=app/&hellip;</a>  when I remove item, control doesn&#39;t work. Post name, not id"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539874815, "post_id": 52854245, "comment_id": 92667386, "body": "Have you any idea please?"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539876461, "post_id": 52854245, "comment_id": 92668490, "body": "I am running out of time now for free support. will look through later."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539939328, "post_id": 52854245, "comment_id": 92690739, "body": "Update the answer and here is the demo link - <a href=\"https://stackblitz.com/edit/angular-g2hcvs-bnhugp\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-g2hcvs-bnhugp</a>"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539943409, "post_id": 52854245, "comment_id": 92692853, "body": "Thank you so mach dear Sunil. This demo doesn&#39;t work only when add new items, show <code>ERROR Error: Cannot read property &#39;city_id&#39; of undefined</code>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539943774, "post_id": 52854245, "comment_id": 92693052, "body": "its working in the demo link I given - <a href=\"https://stackblitz.com/edit/angular-g2hcvs-bnhugp\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-g2hcvs-bnhugp</a>"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539960065, "post_id": 52854245, "comment_id": 92701925, "body": "Yes, works thank you... but when change for example client_name, and click register  more than 2 times, look that City_id is undefined, this because <code>getCityId(name) {</code> return id_city. <a href=\"https://stackblitz.com/edit/angular-g2hcvs-ccqnnh?file=app/autocomplete-overview-example.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-g2hcvs-ccqnnh?file=app/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539939309, "last_edit_date": 1539939309, "creation_date": 1539777089, "answer_id": 52854245, "question_id": 52852560, "link": "https://stackoverflow.com/questions/52852560/filter-return-only-the-first-letter-of-product-selected/52854245#52854245", "title": "filter() return only the first letter of product selected", "body": "<p>Holding two values city name and city id will not be possible for by textbox. However there is workaround for this if your city name is always unique.</p>\n\n<ol>\n<li>Get the selected city ids.</li>\n<li>Get the city name by city id</li>\n<li>Set the formControl value with city name</li>\n<li>From the screen, let the user add/remove the city name</li>\n<li>Once user click on the Save/Register button, get the id by city name and set to the data you are sending to server.</li>\n</ol>\n\n<p>Below are few snippe which can help you out - </p>\n\n<blockquote>\n  <p>functions to get city name and city id</p>\n</blockquote>\n\n<pre><code> getCityName(cid) {\n    return this.city.find(c =&gt; c.city_id == cid).name;\n  }\n\n  getCityId(name) {\n    return this.city.find(c =&gt; c.name == name).city_id;\n  }\n</code></pre>\n\n<blockquote>\n  <p>Initialize form controls from the exiting city ids</p>\n</blockquote>\n\n<pre><code> city_id: this.client.forEach(x =&gt; {\n\n      x.city_id.forEach(cid =&gt; {\n        //this.formData.push(new FormControl(x.city_id))\n        let control = new FormControl(this.getCityName(cid), Validators.required);\n        (&lt;FormArray&gt;this.myform.controls['city_id']).push(control);\n      });\n\n    })\n</code></pre>\n\n<blockquote>\n  <p>Before saving, Convert city name to city id</p>\n</blockquote>\n\n<pre><code>onAddprod() {\n    let newHbp = this.myform.value;\n    let mapped = newHbp.city_id.map(id =&gt; this.getCityId(id));\n    newHbp.city_id = mapped;\n  }\n</code></pre>\n\n<p>Here is the sample demo - <a href=\"https://stackblitz.com/edit/angular-g2hcvs-bnhugp\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-g2hcvs-bnhugp</a></p>\n"}], "owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 52854245, "answer_count": 1, "score": 0, "last_activity_date": 1539939309, "creation_date": 1539771649, "last_edit_date": 1539779365, "question_id": 52852560, "link": "https://stackoverflow.com/questions/52852560/filter-return-only-the-first-letter-of-product-selected", "title": "filter() return only the first letter of product selected", "body": "<p>I get from API two JSON :</p>\n\n<p>First, are products:</p>\n\n<pre><code> {\n        \"StatusCode\": 0,\n        \"StatusMessage\": \"OK\",\n        \"StatusDescription\": [\n             {\n                \"s_id\": \"11E8C70C8A5D78888E6EFA163EBBBC1D\",\n                \"s_serial\": \"PknGo\",\n                \"active\": 0,\n              },\n             {\n                \"s_id\": \"11E8C70FB9D10DB38E6EFA163EBBBC1D\",\n                \"s_serial\": \"UgnoX\",\n                \"active\": 0,\n                },\n              {\n                \"s_id\": \"11E8C7179F85836D8E6EFA163EBBBC1D\",\n                \"s_serial\": \"IinnM\",\n                \"active\": 0,\n                }, .....\n            {\n                \"s_id\": \"11E8C71905123F1A8E6EFA163EBBBC1D\",\n                \"s_serial\": \"LVncP\",\n                \"active\": 0,\n             }\n              }]\n }\n</code></pre>\n\n<p>Seconds, I have this JSON that get by product:\nhomeboxp</p>\n\n<pre><code>{\n    \"StatusCode\":0,\n    \"StatusMessage\":\"OK\",\n    \"StatusDescription\":\n    {\"products\":[\n            {\n                \"s_serial\":\"PknGo\",\n                \"s_id\":\"11E8C70C8A5D78888E6EFA163EBBBC1D\"\n            },\n            {\n                \"s_serial\":\"LVncP\",\n                \"s_id\":\"11E8C71905123F1A8E6EFA163EBBBC1D\"\n            },\n            {\n                \"s_serial\":\"IinnM\",\n                \"s_id\":\"11E8C7179F85836D8E6EFA163EBBBC1D\"\n            }\n            ],\n                \"hb_id\":\"11E8C71242B742EC8E6EFA163EBBBC1D\",\n                \"active\":0,\n          }\n}\n</code></pre>\n\n<p>In this part of code, I get all products form API, and find for products and filter :</p>\n\n<pre><code> product: Product;\n  products: Product[]=[]\n\n  selectedproducts : string = this.products.filter(\n    x =&gt; x.s_id === this.product.s_id[0])\n    .map(y =&gt; y.s_serial).join('');\n\n\n\n\nthis.ss.getAllproducts ().subscribe(\n      products =&gt; {\n        this.products = products \n         if (this.products &amp;&amp; this.products .length &gt; 0) {\n      for (let i = 0; i &lt; this.products .length; i++) {\n        let ss = this.products .find(x =&gt; {\n          let p = this.homeboxp.sensors[i];\n          return (p &amp;&amp; x.s_id === p.s_id);\n        });\n        if (ss) {\n          this.selectedproducts = ss.s_serial[i];\n          console.log(this.selectedproducts )\n        }\n      }\n    }\n      });\n</code></pre>\n\n<p>First error: this.selectedproducts: this return only the first letter of product selected, not all value. <strong>SOLUTION</strong></p>\n\n<pre><code>this.selectedproducts = ss.s_serial[i]; to `this.selectedproducts = ss.s_serial;`\n</code></pre>\n\n<p>Second error: EditProductComponent.html:59 ERROR Error: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: 'undefined: n,,'. Current value: 'undefined: n,n,n'.\n<code>selectedproducts</code> I used in html code like this:</p>\n\n<pre><code>&lt;div *ngFor=\"let sensor of sensorsIdFormArray; let i = index\"&gt;\n    &lt;input formControlName=\"{{i}}\" id=\"sensors_id\" type=\"text\" placeholder=\"Select Product\" [(ngModel)]='selectedproducts'\n      aria-label=\"Number\" matInput [matAutocomplete]=\"auto1\"&gt;\n    &lt;mat-autocomplete autoActiveFirstOption #auto1=\"matAutocomplete\" [displayWith]=\"displayWith\"&gt;\n      &lt;mat-option (onSelectionChange)=\"updateForm($event, sensor.s_serial, 's_id', i)\"\n        *ngFor=\"let sensor of filteredProducts | async | myPipe: products : 's_serial': i\" [value]=\"sensor.s_id\"&gt;\n        {{sensor.s_serial}}\n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>My Pipe:</p>\n\n<pre><code>@Pipe({\n    name: 'myPipe'\n})\n    export class MyPipe implements PipeTransform {\n        transform&lt;T&gt;(value: Product, list: T[], field: string, idx: number): T[] {\n            const filterValue = value[idx] ? value[idx].toString().toLowerCase() : ''; \n            console.log(filterValue)\n            if (filterValue &amp;&amp; filterValue.length &gt; 0) {\n                return list.filter(sensor =&gt; sensor[field].toLowerCase().indexOf(filterValue) === 0);\n            }\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eIZLI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eIZLI.jpg\" alt=\"image\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1539776484, "post_id": 52853378, "comment_id": 92623150, "body": "I want ot close the <code>side-nav</code> only for mobile."}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "reply_to_user": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1543400708, "post_id": 52853378, "comment_id": 93903176, "body": "@Empty_Soul you have to implement some logic based on the &quot;is mobile?&quot; information. What did you try and what didn&#39;t work?"}], "tags": [], "owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1539779125, "last_edit_date": 1539779125, "creation_date": 1539774277, "answer_id": 52853378, "question_id": 52852414, "link": "https://stackoverflow.com/questions/52852414/side-nav-is-closing-for-all-devices-on-selecting-router-link/52853378#52853378", "title": "side-nav is closing for all devices on selecting router link", "body": "<p>To achieve this you have to use one of the <a href=\"https://angular.io/api/router/RouterOutlet\" rel=\"nofollow noreferrer\">RouterOutlet</a> events.</p>\n\n<p>Just react to the <code>activate</code> or <code>deactivate</code> events to toggle the sidenav via <code>opened</code> input:</p>\n\n<pre><code>&lt;router-outlet\n  (activate)='onActivate($event)'\n  (deactivate)='onDeactivate($event)'&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>Use <code>BreakpointObserver</code> from <a href=\"https://material.angular.io/cdk/layout/overview\" rel=\"nofollow noreferrer\">Angular CDK</a> to retrieve the info \"mobile or not?\" like this:</p>\n\n<pre><code>this.breakpointObserver.isMatched('(max-width: 767px)');\n</code></pre>\n"}], "owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539789329, "creation_date": 1539771213, "last_edit_date": 1539789329, "question_id": 52852414, "link": "https://stackoverflow.com/questions/52852414/side-nav-is-closing-for-all-devices-on-selecting-router-link", "title": "side-nav is closing for all devices on selecting router link", "body": "<p>I am using <code>side-nav</code> in my project, On resizing to mobile size toggle menu i,e <code>side-nav</code> will displayed on left likes this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hSN6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSN6b.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now the issues the <code>side-nav</code> is closing on clicking <code>router link</code>\n(ex customer) for for <code>all devices</code>, I want it to be closed only for small devices <code>(i,e mobile)</code>:</p>\n\n<p>I know this is the duplicate of this <a href=\"https://stackoverflow.com/questions/45615414/closing-md-sidenav-when-router-link-is-selected\">question:</a></p>\n\n<p>But these answers makes the <code>side-nav</code> to close for all the devices.</p>\n\n<p><strong>app-nav.html</strong></p>\n\n<pre><code> &lt;mat-sidenav-container class=\"sidenav-container\"&gt;\n       &lt;mat-sidenav #drawer class=\"sidenav mat-elevation-z4\" \n           fixedInViewport=\"true\" [attr.role]=\"(isHandset$ | async) ? \n           'dialog' : 'navigation'\"\n          [mode]=\"(isHandset$ | async) ? 'over' : 'side'\" [opened]=\"! \n          (isHandset$ | async)\"&gt;\n\n             &lt;mat-toolbar&gt;Business&lt;/mat-toolbar&gt;\n                    &lt;h2&gt;{{business.name}}&lt;/h2&gt;\n                    &lt;p class=\"\"&gt;{{business.branch}}&lt;/p&gt;\n             &lt;mat-divider&gt;&lt;/mat-divider&gt;\n\n           &lt;mat-nav-list&gt;\n             &lt;mat-list-item&gt;\n             &lt;mat-icon matListIcon&gt;home&lt;/mat-icon&gt;\n             &lt;a matLine&gt;Home&lt;/a&gt;\n          &lt;/mat-list-item&gt;\n\n          &lt;mat-list-item  [routerLink]=\"['../customer']\"&gt;\n           &lt;mat-icon matListIcon&gt;person&lt;/mat-icon&gt;\n           &lt;a matLine&gt;Customers&lt;/a&gt;\n          &lt;/mat-list-item&gt;\n\n          &lt;mat-list-item&gt;\n           &lt;mat-icon matListIcon&gt;group&lt;/mat-icon&gt;\n           &lt;a matLine&gt;Staff&lt;/a&gt;\n         &lt;/mat-list-item&gt;\n      &lt;/mat-sidenav&gt;\n\n      &lt;mat-sidenav-content&gt;\n         &lt;mat-toolbar class=\"ylet-header\"color=\"primary\"&gt;\n            &lt;button type=\"button\" aria-label=\"Toggle sidenav\" mat-icon-button \n               (click)=\"drawer.toggle()\" *ngIf=\"isHandset$ | async\"&gt;\n              &lt;mat-icon aria-label=\"Side nav toggle icon\"&gt;menu&lt;/mat-icon&gt;\n          &lt;/button&gt;\n        &lt;/mat-toolbar&gt;\n      &lt;/mat-sidenav-content&gt;\n\n &lt;/mat-sidenav-container&gt;\n</code></pre>\n\n<p><strong>app-nav.ts</strong></p>\n\n<pre><code>   import { \n         BreakpointObserver,\n         Breakpoints,\n         BreakpointState,} from '@angular/cdk/layout';\n  import { Component } from '@angular/core';\n  import { FormControl } from '@angular/forms';\n  import { MatSidenav, TooltipPosition } from '@angular/material';\n  import { Router, RouterModule } from '@angular/router';\n  import { Observable } from 'rxjs';\n  import { map } from 'rxjs/operators';\n\n  export interface IBusinessInfo {\n        name: string;\n        branch: string;\n     }\n\n\n  @Component({\n   selector: 'ylb-app-nav',\n   templateUrl: './app-nav.component.html',\n   styleUrls: ['./app-nav.component.scss'],\n  })\n export class AppNavComponent {\n\n     public isHandset$: Observable&lt;boolean&gt; = this.breakpointObserver\n    .observe(Breakpoints.Handset)\n    .pipe(map((result: BreakpointState) =&gt; result.matches));\n\n     public business: IBusinessInfo = {\n            name: 'Phone store',\n            branch: 'India',\n       };\n\n       constructor(private breakpointObserver: BreakpointObserver,\n                         private _router: Router) {}\n\n       ngOnInit(): void {\n             this.router.events.subscribe(event =&gt; {\n             this.sidenavService.close();\n           });\n\n     }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 785, "user_id": 8515210, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-lPjrWuPyy04/AAAAAAAAAAI/AAAAAAAAADA/5jwpxpSR8H0/photo.jpg?sz=128", "display_name": "Muhammad Saqib", "link": "https://stackoverflow.com/users/8515210/muhammad-saqib"}, "edited": false, "score": 0, "creation_date": 1539771154, "post_id": 52852358, "comment_id": 92620076, "body": "can you please cite the reasons behind this design decision?"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 785, "user_id": 8515210, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-lPjrWuPyy04/AAAAAAAAAAI/AAAAAAAAADA/5jwpxpSR8H0/photo.jpg?sz=128", "display_name": "Muhammad Saqib", "link": "https://stackoverflow.com/users/8515210/muhammad-saqib"}, "edited": false, "score": 0, "creation_date": 1539771379, "post_id": 52852358, "comment_id": 92620233, "body": "I updated my answer slightly. But the main reason is that TypeScript has to do many such &quot;silly&quot; design decisions because it has to be compatible with JS world. Another such decision is structural subtyping, for instance."}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": true, "score": 10, "last_activity_date": 1539771254, "last_edit_date": 1539771254, "creation_date": 1539771064, "answer_id": 52852358, "question_id": 52852278, "link": "https://stackoverflow.com/questions/52852278/why-can-i-avoid-excess-property-check-in-typescript-just-by-passing-a-reference/52852358#52852358", "title": "Why can I avoid excess property check in typescript just by passing a reference to an object to a function rather than the object in its literal form?", "body": "<p>It's by design. In short, Typescript creators made it this way because they know Javascript is a very dynamic language with many such use cases. </p>\n\n<p>You should read this carefully: <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks</a>\n(however I bet the question arised from reading it).</p>\n\n<blockquote>\n  <p>Object literals get special treatment</p>\n</blockquote>\n\n<p>Their logic might be like this: if you have a variable, then it may come from some third party and there is not much you can do with it. On the other hand, if you pass object literal, then <em>you</em> are responsible for its correct type.</p>\n"}], "owner": {"reputation": 785, "user_id": 8515210, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-lPjrWuPyy04/AAAAAAAAAAI/AAAAAAAAADA/5jwpxpSR8H0/photo.jpg?sz=128", "display_name": "Muhammad Saqib", "link": "https://stackoverflow.com/users/8515210/muhammad-saqib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 1, "accepted_answer_id": 52852358, "answer_count": 1, "score": 4, "last_activity_date": 1539771254, "creation_date": 1539770810, "question_id": 52852278, "link": "https://stackoverflow.com/questions/52852278/why-can-i-avoid-excess-property-check-in-typescript-just-by-passing-a-reference", "title": "Why can I avoid excess property check in typescript just by passing a reference to an object to a function rather than the object in its literal form?", "body": "<p>Have a look at this example typescript code</p>\n\n<pre><code>function printLabel(labelledObj: { label: string }) {\n    console.log(labelledObj.label);\n}\n\nprintLabel({ size: 10, label: 'hello' });\n</code></pre>\n\n<p>The above code fails to compile with the following error:</p>\n\n<blockquote>\n  <p>1.ts:6:14 - error TS2345: Argument of type '{ size: number; label: string; }' is not assignable to parameter of type '{ label: string; }'.\n    Object literal may only specify known properties, and 'size' does not exist in type '{ label: string; }'.</p>\n</blockquote>\n\n<p>In short, <code>size</code> is an excess property and not conforming to the type <code>{ label: string }</code> resulting in compiler yelling. Let's alter the above code snippet a little:</p>\n\n<pre><code>function printLabel(labelledObj: { label: string }) {\n    console.log(labelledObj.label);\n}\nconst obj = { size: 10, label: 'hello' }\nprintLabel(obj);\n</code></pre>\n\n<p>Now we extracted the object literal which was passed to <code>printLabel</code> in earlier example into an intermediary reference named <code>obj</code>, the weird part is that now it does not complain and works perfectly. Why does typescript behaves so?</p>\n"}, {"tags": ["typescript", "ts-node", "lodash"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 3, "last_activity_date": 1539782247, "creation_date": 1539782247, "answer_id": 52855863, "question_id": 52852167, "link": "https://stackoverflow.com/questions/52852167/how-to-use-lodash-es-in-typescript-correctly/52855863#52855863", "title": "How to use lodash-es in typescript correctly?", "body": "<p><code>ts-node</code> compiles <code>.ts</code> files as they are loaded.  It doesn't touch <code>.js</code> files; either they must already be in a form understood by Node.js (e.g., no ES6 <code>import</code> statements) or you must use a separate mechanism to transform them, such as the <a href=\"https://babeljs.io/docs/en/next/babel-register\" rel=\"nofollow noreferrer\"><code>@babel/register</code> require hook</a> (essentially the same thing that is used by <code>babel-node</code>).  You would still need to configure <code>@babel/register</code> not to ignore <code>node_modules</code>, as described in the <a href=\"https://stackoverflow.com/a/52853609\">other answer</a>.  The advice from the other answer to just use <code>lodash</code> instead of <code>lodash-es</code> is good.</p>\n"}, {"tags": [], "owner": {"reputation": 384, "user_id": 6246431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/963512280411360/picture?type=large", "display_name": "Clite Tailor", "link": "https://stackoverflow.com/users/6246431/clite-tailor"}, "is_accepted": false, "score": 3, "last_activity_date": 1540431581, "creation_date": 1540431581, "answer_id": 52980137, "question_id": 52852167, "link": "https://stackoverflow.com/questions/52852167/how-to-use-lodash-es-in-typescript-correctly/52980137#52980137", "title": "How to use lodash-es in typescript correctly?", "body": "<p>Actually, you should not use <code>lodash-es</code> but to use <code>lodash</code> because <code>lodash-es</code> is <code>esm</code> module while <code>lodash</code> is our formal <code>commonjs</code> module.</p>\n\n<p>However if you want to use <code>lodash-es</code> in node, you should use it with <code>esm</code> instead of <code>@babel/register</code>. I found <code>@babel/register</code> very buggy even if i have added <code>babel-plugin-lodash</code> or <code>dynamic-import</code> plugin or <code>@babel/plugin-transform-modules-commonjs</code>, <code>@babel/polyfill</code>, etc ...</p>\n"}, {"comments": [{"owner": {"reputation": 9055, "user_id": 996081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83817dc1e83cf8ac372b21cd5f010bc4?s=128&d=identicon&r=PG&f=1", "display_name": "cbr", "link": "https://stackoverflow.com/users/996081/cbr"}, "edited": false, "score": 1, "creation_date": 1608337808, "post_id": 58400124, "comment_id": 115562133, "body": "Heads up, in the current version of <code>next-transpile-modules</code>, it&#39;s just <code>withTM([&#39;lodash-es&#39;])</code>"}], "tags": [], "owner": {"reputation": 362, "user_id": 6232211, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cccc05d946e1d1400a43468e2da170ca?s=128&d=identicon&r=PG", "display_name": "Eddy Vinck", "link": "https://stackoverflow.com/users/6232211/eddy-vinck"}, "is_accepted": false, "score": 3, "last_activity_date": 1571163812, "last_edit_date": 1571163812, "creation_date": 1571161775, "answer_id": 58400124, "question_id": 52852167, "link": "https://stackoverflow.com/questions/52852167/how-to-use-lodash-es-in-typescript-correctly/58400124#58400124", "title": "How to use lodash-es in typescript correctly?", "body": "<p>I just ran into this and this works for me:</p>\n\n<pre><code>import { upperCase } from 'lodash-es'; // works :)\nimport upperCase from 'lodash-es/upperCase'; // broken :(\n</code></pre>\n\n<p>[edit]</p>\n\n<p>So I just restarted my application and now it's no longer working and I haven't made any configuration changes. Amazing.</p>\n\n<p>[edit 2]</p>\n\n<p>I found out that the problem probably lies in the <code>lodash-es</code> module not being transpiled out of the box, and you need to tell Webpack or Babel to do so. Here is a blog post providing some good insight: <a href=\"https://medium.com/@martin_hotell/tree-shake-lodash-with-webpack-jest-and-typescript-2734fa13b5cd\" rel=\"nofollow noreferrer\">https://medium.com/@martin_hotell/tree-shake-lodash-with-webpack-jest-and-typescript-2734fa13b5cd</a>. The article also covers how to fix the issue for Jest if you're using that.</p>\n\n<p>If you're using NextJS, you can use <a href=\"https://github.com/martpie/next-transpile-modules\" rel=\"nofollow noreferrer\">https://github.com/martpie/next-transpile-modules</a></p>\n\n<pre><code>// next.config.js\nconst withTM = require(\"next-transpile-modules\");\n\nmodule.exports = withTM({\n  transpileModules: [\"lodash-es\"]\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3561, "user_id": 685540, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4447ba1ad70d4b35cd418817d30dae9f?s=128&d=identicon&r=PG", "display_name": "atilkan", "link": "https://stackoverflow.com/users/685540/atilkan"}, "is_accepted": false, "score": 7, "last_activity_date": 1579537441, "creation_date": 1579537441, "answer_id": 59827308, "question_id": 52852167, "link": "https://stackoverflow.com/questions/52852167/how-to-use-lodash-es-in-typescript-correctly/59827308#59827308", "title": "How to use lodash-es in typescript correctly?", "body": "<p>You can load types from <a href=\"https://www.npmjs.com/package/@types/lodash-es\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code>npm install --save-dev @types/lodash-es\n</code></pre>\n\n<p>And use it like:</p>\n\n<pre><code>import { camelCase } from \"lodash-es\"\n</code></pre>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8621, "favorite_count": 0, "accepted_answer_id": 52855863, "answer_count": 4, "score": 14, "last_activity_date": 1579537441, "creation_date": 1539770488, "question_id": 52852167, "link": "https://stackoverflow.com/questions/52852167/how-to-use-lodash-es-in-typescript-correctly", "title": "How to use lodash-es in typescript correctly?", "body": "<p>I need to use <code>lodash-es</code> in my typescript project, but I can't configure it correctly, it always reports errors like <code>SyntaxError: Unexpected identifier</code></p>\n\n<p><strong>hello.ts</strong></p>\n\n<pre><code>import upperCase from 'lodash-es/upperCase'\n\nconsole.log('Hello ' + upperCase('typescript') + '!');\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"scripts\": {\n    \"demo\": \"ts-node hello.ts\"\n  },\n  \"dependencies\": {\n    \"lodash-es\": \"4.17.11\"\n  },\n  \"devDependencies\": {\n    \"@types/lodash-es\": \"4.17.1\",\n    \"ts-node\": \"7.0.0\",\n    \"typescript\": \"3.0.1\"\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\"\n  }\n}\n</code></pre>\n\n<p>When run <code>ts-node hello.ts</code>, it reports error like:</p>\n\n<pre><code>/typescript-use-lodash-es-demo/node_modules/lodash-es/upperCase.js:1\n    (function (exports, require, module, __filename, __dirname) { import createCompounder from './_createCompounder.js';\n                                                                         ^^^^^^^^^^^^^^^^\n\n    SyntaxError: Unexpected identifier\n        at new Script (vm.js:79:7)\n        at createScript (vm.js:251:10)\n</code></pre>\n\n<p>I've also setup a small demo for this issue, you can clone and try it if you need: <a href=\"https://github.com/freewind-demos/typescript-use-lodash-es-demo\" rel=\"noreferrer\">https://github.com/freewind-demos/typescript-use-lodash-es-demo</a></p>\n\n<p>A related question is to use lodash-es with babel: <a href=\"https://stackoverflow.com/questions/52851818/how-to-configure-babel-correctly-to-use-lodash-es\">How to configure babel correctly to use lodash-es?</a>. Since I'm not sure they have exactly the same reason, so I asked for typescript here</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1539771206, "post_id": 52852307, "comment_id": 92620115, "body": "Thanks for response, its working but on click of outside this popup is not closing"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1539771591, "post_id": 52852307, "comment_id": 92620355, "body": "In that case you need to check if the user is clicking outside of component. If he does that then you can fire code snippet to hide all rows. You can refers this to see how to capture if the user is clicked outside - <a href=\"http://4dev.tech/2016/03/angular2-tutorial-detecting-clicks-outside-the-component/\" rel=\"nofollow noreferrer\">4dev.tech/2016/03/&hellip;</a>"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1539771808, "post_id": 52852307, "comment_id": 92620459, "body": "Sorry, i mean if i again click on that row only it must get hided"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1539771938, "post_id": 52852307, "comment_id": 92620537, "body": "We need to capture the current row state <code>showDetailsList</code> and reverse it.  Answer is updated accordingly."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539771880, "last_edit_date": 1539771880, "creation_date": 1539770867, "answer_id": 52852307, "question_id": 52852092, "link": "https://stackoverflow.com/questions/52852092/how-to-hide-and-show-one-popup-at-a-time-using-angular2/52852307#52852307", "title": "How to hide and show one popup at a time using angular2", "body": "<p>The good thing is that you have toggle property <code>showDetailsList</code> for each row. Now your requirement is to hide others and show the latest one.</p>\n\n<p>So what we need to do is to set <code>showDetailsList</code> to <code>false</code> for each row of table and then set <code>showDetailsList</code> of current row.</p>\n\n<p>So your code should look like -</p>\n\n<h2>in ts</h2>\n\n<pre><code> detailsList(tableData, rowData) {\n    let isHidden = rowData.showDetailsList;\n    tableData.forEach(row=&gt;{row.showDetailsList = false;}) //reset all rows of table\n    rowData.showDetailsList = !isHidden;                      \n  }\n</code></pre>\n\n<h2>in html</h2>\n\n<pre><code>(click)=\"detailsList(medicationTableValue, rowData)\"\n</code></pre>\n\n<blockquote>\n  <p>Note : the Implementation is given on some assumption on tableData and its properties. Make the changes as per your table and row properties.</p>\n</blockquote>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 52852307, "answer_count": 1, "score": 0, "last_activity_date": 1539771880, "creation_date": 1539770248, "question_id": 52852092, "link": "https://stackoverflow.com/questions/52852092/how-to-hide-and-show-one-popup-at-a-time-using-angular2", "title": "How to hide and show one popup at a time using angular2", "body": "<p>i am using table, wherein in td i have a field called details, if i click on that the modal opens below, if i click on second row, first row v l remain opened along with second, so i want to open the recently clicked one and close the rest.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div style=\"margin-top:34px;\" *ngIf= \"medicationTableValue.length &gt;0\"&gt;\n      &lt;p-table #dt [columns]=\"tableHeaders\" [value]=\"medicationTableValue\"&gt;\n        &lt;ng-template pTemplate=\"header\" let-columns&gt;\n          &lt;tr role=\"row\"&gt;\n            &lt;th width=\"200\"&gt;Name&lt;/th&gt;\n            &lt;th class=\"line-height15\"&gt;Reason for Taking&lt;/th&gt;\n            &lt;th width=\"60\"&gt;Details&lt;/th&gt;\n          &lt;/tr&gt;\n        &lt;/ng-template&gt;\n        &lt;ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\"&gt;\n          &lt;tr [pSelectableRow]=\"rowData\"&gt;\n            &lt;td&gt;{{rowData.name}}&lt;/td&gt;\n            &lt;td&gt;{{rowData.Reason}}&lt;/td&gt;\n            &lt;td&gt;\n              &lt;a class=\"details\" id=\"details1\" (click)=\"detailsList(rowData)\"&gt;\n                &lt;i class=\"fa fa-angle-down\"&gt;&lt;/i&gt;\n              &lt;/a&gt;\n            &lt;/td&gt;\n          &lt;/tr&gt;\n          &lt;tr *ngIf=\"rowData.showDetailsList\"&gt;\n            &lt;td class=\"nes_table\" colspan=\"8\"&gt;\n              &lt;div&gt;\n                &lt;table class=\"w-100 table table-bordered\"&gt;\n                  &lt;tbody&gt;\n                    &lt;tr&gt;\n                      &lt;td width=\"150\"&gt;Name&lt;/td&gt;\n                      &lt;td&gt;{{rowData.name}}&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt; \n                      &lt;td width=\"150\"&gt;Date Started&lt;/td&gt;\n                      &lt;td&gt;{{rowData.date}}&lt;/td&gt;\n                    &lt;/tr&gt;\n                  &lt;/tbody&gt;\n                &lt;/table&gt;\n              &lt;/div&gt;\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/ng-template&gt;\n      &lt;/p-table&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code> detailsList(rowData) {\n    rowData.showDetailsList = !rowData.showDetailsList;\n  }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-tsx"], "comments": [{"owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "edited": false, "score": 1, "creation_date": 1539770101, "post_id": 52851851, "comment_id": 92619454, "body": "Whats the error you&#39;re getting?  Also <code>isAuthenticated</code> can only be a <code>boolean</code> or <code>undefined</code> according to <code>IPrivateRouteState</code> not null."}, {"owner": {"reputation": 2762, "user_id": 7520309, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uTJ7E.png?s=128&g=1", "display_name": "Connell.O&#39;Donnell", "link": "https://stackoverflow.com/users/7520309/connell-odonnell"}, "reply_to_user": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "edited": false, "score": 0, "creation_date": 1539770420, "post_id": 52851851, "comment_id": 92619655, "body": "The error is &quot;Cannot find name &#39;rest&#39;.&quot;"}, {"owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "edited": false, "score": 0, "creation_date": 1539770432, "post_id": 52851851, "comment_id": 92619661, "body": "Also <code>rest</code> is not defined in <code>PrivateRoute</code> so technically you&#39;re trying to spread <code>undefined</code>."}, {"owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "edited": false, "score": 0, "creation_date": 1539770462, "post_id": 52851851, "comment_id": 92619681, "body": "You can only use spread with an object or array"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 1, "creation_date": 1539770504, "post_id": 52851851, "comment_id": 92619700, "body": "Typescript has nothing to do with it. You just forgot to define the <code>rest</code> variable"}], "answers": [{"comments": [{"owner": {"reputation": 2762, "user_id": 7520309, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uTJ7E.png?s=128&g=1", "display_name": "Connell.O&#39;Donnell", "link": "https://stackoverflow.com/users/7520309/connell-odonnell"}, "edited": false, "score": 0, "creation_date": 1539773556, "post_id": 52852201, "comment_id": 92621434, "body": "It just doesn&#39;t redirect when I try that."}, {"owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "reply_to_user": {"reputation": 2762, "user_id": 7520309, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uTJ7E.png?s=128&g=1", "display_name": "Connell.O&#39;Donnell", "link": "https://stackoverflow.com/users/7520309/connell-odonnell"}, "edited": false, "score": 0, "creation_date": 1539850353, "post_id": 52852201, "comment_id": 92652905, "body": "This line:  <code>return &lt;Route {...rest} render={(props) =&gt; (&lt;Redirect to={{ pathname: &#39;&#47;login&#39;, state: { from: props.location } }} &#47;&gt;)}&#47;&gt;</code>  Should be more like:  <code>return &lt;Redirect to={{ pathname: &#39;&#47;login&#39;, state: { from: props.location } }} &#47;&gt;</code>"}], "tags": [], "owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "is_accepted": false, "score": 0, "last_activity_date": 1539770587, "creation_date": 1539770587, "answer_id": 52852201, "question_id": 52851851, "link": "https://stackoverflow.com/questions/52851851/spread-operator-with-react-typescript/52852201#52852201", "title": "Spread operator with React Typescript", "body": "<p><code>rest</code> is not defined.</p>\n\n<p>Did you mean:</p>\n\n<p><code>return &lt;Route {...this.props} render={(props) =&gt; (&lt;Component {...props} /&gt;)}/&gt;</code></p>\n"}], "owner": {"reputation": 2762, "user_id": 7520309, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uTJ7E.png?s=128&g=1", "display_name": "Connell.O&#39;Donnell", "link": "https://stackoverflow.com/users/7520309/connell-odonnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1912, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578476961, "creation_date": 1539769539, "last_edit_date": 1578476961, "question_id": 52851851, "link": "https://stackoverflow.com/questions/52851851/spread-operator-with-react-typescript", "title": "Spread operator with React Typescript", "body": "<p>I have a single page application with redirecting implemented as </p>\n\n<pre><code>const PrivateRoute = ({ component: Component, ...rest }) =&gt; (\n&lt;Route {...rest} render={(props) =&gt; (\n    Acc.isLoggedIn === true\n        ? &lt;Component {...props} /&gt;\n        : &lt;Redirect to={{\n            pathname: '/login',\n            state: { from: props.location }\n        }} /&gt;\n)} /&gt;\n</code></pre>\n\n<p>)</p>\n\n<pre><code>export { PrivateRoute };\n</code></pre>\n\n<p>I'm trying to update it to work something like this</p>\n\n<pre><code>interface IPrivateRouteProps {\n}\n\ninterface IPrivateRouteState {\n  isAuthenticated?: boolean\n}\n\nexport class PrivateRoute extends React.Component&lt;IPrivateRouteProps, IPrivateRouteState&gt; {\nconstructor(props: IPrivateRouteProps) {\n    super(props);\n\n    this.state = ({ isAuthenticated: null });\n}\n\ncomponentDidMount() {\n    Acc.isAuthenticated()\n        .then(isAuthenticated =&gt; {\n            this.setState({ isAuthenticated: isAuthenticated });\n        });\n}\n\nrender() {\n    if (this.state.isAuthenticated == null) {\n        return null;\n    }\n    else if (this.state.isAuthenticated) {\n        return &lt;Route {...rest} render={(props) =&gt; (&lt;Component {...props} /&gt;)}/&gt;\n    }\n    else {\n        return &lt;Route {...rest} render={(props) =&gt; (&lt;Redirect to={{ pathname: '/login', state: { from: props.location } }} /&gt;)}/&gt;\n    }\n}\n}\n</code></pre>\n\n<p>How can I pass on the props using the spread operator in typescript?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Needless to say, I'm not just relying to client side code for authentication.</p>\n\n<p>I have already tried this but it didn't help: <a href=\"https://stackoverflow.com/questions/43664031/spreading-react-props-in-tsx-in-typescript-2-3-1\">Spreading react props in tsx in typescript 2.3.1</a> </p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "edited": false, "score": 0, "creation_date": 1539774361, "post_id": 52852996, "comment_id": 92621904, "body": "That&#39;s exactly right. On StackBlits, like CodePen, JsFiddle and others, the HTML editor only shows what goes inside the <code>&lt;body&gt;</code> tags. You can confirm this by looking in the Chrome Development tools."}], "tags": [], "owner": {"reputation": 11, "user_id": 10517666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1To7kAyS0fY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUsGGnVvykFg5utHRWWDHqorhT6jA/mo/photo.jpg?sz=128", "display_name": "Jiri Kryda", "link": "https://stackoverflow.com/users/10517666/jiri-kryda"}, "is_accepted": true, "score": 1, "last_activity_date": 1539772939, "creation_date": 1539772939, "answer_id": 52852996, "question_id": 52851620, "link": "https://stackoverflow.com/questions/52851620/angular-6-app-stuck-on-loading-on-localhost/52852996#52852996", "title": "Angular 6 App stuck on loading on localhost", "body": "<p>Found the solution!\nin the index.html the app-root selector has to be inside the html 'body' tag like this:</p>\n\n<pre><code>    &lt;body&gt;\n     &lt;app-root&gt;&lt;/app-root&gt;\n    &lt;/body&gt;\n</code></pre>\n\n<p>and stackblizt doesn't need that or just does it by itself. </p>\n"}], "owner": {"reputation": 11, "user_id": 10517666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1To7kAyS0fY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUsGGnVvykFg5utHRWWDHqorhT6jA/mo/photo.jpg?sz=128", "display_name": "Jiri Kryda", "link": "https://stackoverflow.com/users/10517666/jiri-kryda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2001, "favorite_count": 0, "accepted_answer_id": 52852996, "answer_count": 1, "score": 0, "last_activity_date": 1539772939, "creation_date": 1539768774, "last_edit_date": 1539770489, "question_id": 52851620, "link": "https://stackoverflow.com/questions/52851620/angular-6-app-stuck-on-loading-on-localhost", "title": "Angular 6 App stuck on loading on localhost", "body": "<p>I have following app on stackblitz <a href=\"https://stackblitz.com/edit/ang-rafzby\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ang-rafzby</a>\nthat works fine in their web environment, but when I download the project and try to run it on my machine, it gets stuck on 'loading'.</p>\n\n<p>I've installed all required npm modules, even the peer ones and just can't find the solution for this. </p>\n\n<p>Edit(chrome console output):</p>\n\n<pre><code>    ERROR Error: The selector \"app-root\" did not match any elements\nat DefaultDomRenderer2.push../node_modules/@angular/platform-browser/fesm5/platform-browser.js.DefaultDomRenderer2.selectRootElement (platform-browser.js:1068)\nat BaseAnimationRenderer.push../node_modules/@angular/platform-browser/fesm5/animations.js.BaseAnimationRenderer.selectRootElement (animations.js:228)\nat DebugRenderer2.push../node_modules/@angular/core/fesm5/core.js.DebugRenderer2.selectRootElement (core.js:11449)\nat createElement (core.js:8129)\nat createViewNodes (core.js:10360)\nat createRootView (core.js:10313)\nat callWithDebugContext (core.js:11344)\nat Object.debugCreateRootView [as createRootView] (core.js:10831)\nat ComponentFactory_.push../node_modules/@angular/core/fesm5/core.js.ComponentFactory_.create (core.js:8659)\nat ComponentFactoryBoundToModule.push../node_modules/@angular/core/fesm5/core.js.ComponentFactoryBoundToModule.create (core.js:3311)\n</code></pre>\n"}, {"tags": ["typescript", "flowtype", "typescript-typings", "normalizr", "typescript-types"], "answers": [{"comments": [{"owner": {"reputation": 879, "user_id": 3758602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2cc0ae99a2b8e5491ecd59bebdeecae?s=128&d=identicon&r=PG&f=1", "display_name": "iamcastelli", "link": "https://stackoverflow.com/users/3758602/iamcastelli"}, "edited": false, "score": 1, "creation_date": 1566013852, "post_id": 52851676, "comment_id": 101531768, "body": "How can this be achieved if am strongly typed with no implicit any?"}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": true, "score": 3, "last_activity_date": 1539769289, "last_edit_date": 1539769289, "creation_date": 1539768973, "answer_id": 52851676, "question_id": 52851557, "link": "https://stackoverflow.com/questions/52851557/typescript-type-or-interface-for-normalized-data/52851676#52851676", "title": "TypeScript Type or Interface for Normalized Data", "body": "<p>I guess you want something like this</p>\n\n<pre><code>export interface NormalizerResult&lt;T extends House | Citizen&gt; {\n  result: any;\n  entities: Entity&lt;T&gt;;\n}\n</code></pre>\n\n<p>P.S. Typescript is more useful when you 100% know the structure of response and is less useful if response is different each time. If the former is correct, then you should make types for each response e.g.</p>\n\n<pre><code>export interface NormalizerResultForHousesAndCitizensRequest {\n  result: any;\n  entities: {\n    houses: NormalizedData&lt;House&gt;,\n    citizens: NormalizedData&lt;Citizen&gt;,\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3304, "favorite_count": 0, "accepted_answer_id": 52851676, "answer_count": 1, "score": 2, "last_activity_date": 1578175823, "creation_date": 1539768575, "last_edit_date": 1540974876, "question_id": 52851557, "link": "https://stackoverflow.com/questions/52851557/typescript-type-or-interface-for-normalized-data", "title": "TypeScript Type or Interface for Normalized Data", "body": "<p><strong>TLDR:</strong> How to create an interface for normalized data?</p>\n\n<p>I'm building a React application using TypeScript. I use <a href=\"https://github.com/paularmstrong/normalizr\" rel=\"nofollow noreferrer\">Normalizr</a> to normalize the data from my API calls.</p>\n\n<p>To give an example from the docs, an API response like this:</p>\n\n<p>Quick Start\nConsider a typical blog post. The API response for a single post might look something like this:</p>\n\n<pre><code>{\n  \"id\": \"123\",\n  \"author\": {\n    \"id\": \"1\",\n    \"name\": \"Paul\"\n  },\n  \"title\": \"My awesome blog post\",\n  \"comments\": [\n    {\n      \"id\": \"324\",\n      \"commenter\": {\n        \"id\": \"2\",\n        \"name\": \"Nicole\"\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>Might be normalized to this:</p>\n\n<pre><code>{\n  result: \"123\",\n  entities: {\n    \"articles\": {\n      \"123\": {\n        id: \"123\",\n        author: \"1\",\n        title: \"My awesome blog post\",\n        comments: [ \"324\" ]\n      }\n    },\n    \"users\": {\n      \"1\": { \"id\": \"1\", \"name\": \"Paul\" },\n      \"2\": { \"id\": \"2\", \"name\": \"Nicole\" }\n    },\n    \"comments\": {\n      \"324\": { id: \"324\", \"commenter\": \"2\" }\n    }\n  }\n}\n</code></pre>\n\n<p>I would like to create interfaces for my functions that use Normalizr. Here is what I've tried so far:</p>\n\n<pre><code>export interface House {\n  uuid: string;\n  address: string;\n}\n\nexport interface Citizen {\n  uuid: string;\n  name: string;\n}\n\nexport interface NormalizedData&lt;T&gt; {\n  [uuid: string]: T;\n}\n\nexport interface Entity&lt;T&gt; {\n  [name: string]: NormalizedData&lt;T&gt;;\n}\n\nexport interface NormalizerResult&lt;T&gt; {\n  result: any;\n  entities: Entity&lt;T&gt;;\n}\n</code></pre>\n\n<p>Since I have to give a generic type T here, this approach can only handle one entity. The problem is that the entities key can have several entities of different types, eg. House and Citizen (and more). How would I account fo this? Normalizr's own types just give back <code>{ result: any, entities: any }</code>.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 3796, "user_id": 8612835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sPwm6.jpg?s=128&g=1", "display_name": "Sachin Shah", "link": "https://stackoverflow.com/users/8612835/sachin-shah"}, "edited": false, "score": 0, "creation_date": 1539768563, "post_id": 52851461, "comment_id": 92618577, "body": "If value is static then you can do without bind checkbox with ngModel , You can use click event and based on that just pass value to your function."}], "answers": [{"comments": [{"owner": {"reputation": 2572, "user_id": 5852550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97e088c73755c2e941fa1deaedb65272?s=128&d=identicon&r=PG&f=1", "display_name": "Srikrushna", "link": "https://stackoverflow.com/users/5852550/srikrushna"}, "edited": false, "score": 0, "creation_date": 1584214648, "post_id": 52851684, "comment_id": 107370223, "body": "It will return true/false, not the value"}], "tags": [], "owner": {"reputation": 1865, "user_id": 7745173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tx8YG.png?s=128&g=1", "display_name": "Logan Wlv", "link": "https://stackoverflow.com/users/7745173/logan-wlv"}, "is_accepted": false, "score": 0, "last_activity_date": 1614436067, "last_edit_date": 1614436067, "creation_date": 1539768987, "answer_id": 52851684, "question_id": 52851461, "link": "https://stackoverflow.com/questions/52851461/angular-6-how-to-get-values-from-multiple-checkboxes-and-send-in-from/52851684#52851684", "title": "Angular 6 How To Get Values From Multiple Checkboxes and Send in From", "body": "<p>You can add a change event on each of your <code>mat-checkbox</code> and call the following method to fullify your array:</p>\n<p>(The below example could be upgraded using a single method with another parameter to know which checkbox had a change event)</p>\n<pre><code>&lt;section class=&quot;checkbox-section&quot;&gt;\n &lt;mat-checkbox [(ngModel)]=&quot;bChecked&quot; (change)=&quot;assignValues1($event)&quot;&gt;Blogs&lt;/mat-checkbox&gt;\n &lt;mat-checkbox [(ngModel)]=&quot;wChecked&quot; (change)=&quot;assignValues2($event)&quot;&gt;Web&lt;/mat-checkbox&gt;\n &lt;mat-checkbox [(ngModel)]=&quot;oChecked&quot; (change)=&quot;assignValues3($event)&quot;&gt;Online News&lt;/mat-checkbox&gt;\n &lt;/section&gt;\n</code></pre>\n<p>In my example to access the new <code>boolean</code> value you can do like this :</p>\n<pre><code>assingValues1(event: MatCheckboxChange) {\nvar newVal = event.checked;\n// your code here\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 662, "user_id": 10223942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EWEN.png?s=128&g=1", "display_name": "Roj", "link": "https://stackoverflow.com/users/10223942/roj"}, "edited": false, "score": 0, "creation_date": 1539781578, "post_id": 52851803, "comment_id": 92626337, "body": "Thank you! this taught me some new techniques for checking matboxes"}], "tags": [], "owner": {"reputation": 3856, "user_id": 2281770, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1f0ccde5a957f239d049452e6ef84e61?s=128&d=identicon&r=PG&f=1", "display_name": "Outlooker", "link": "https://stackoverflow.com/users/2281770/outlooker"}, "is_accepted": false, "score": 1, "last_activity_date": 1539769366, "creation_date": 1539769366, "answer_id": 52851803, "question_id": 52851461, "link": "https://stackoverflow.com/questions/52851461/angular-6-how-to-get-values-from-multiple-checkboxes-and-send-in-from/52851803#52851803", "title": "Angular 6 How To Get Values From Multiple Checkboxes and Send in From", "body": "<p>I don't know if this might suit your requirement, but from what I understand all you need to do is change your code to something like this to get an info on which of the checkboxes are actually <code>checked</code>.</p>\n\n<p><strong>Typescript</strong></p>\n\n<pre><code>public form = {\n    ...\n    interests: {\n      blogs: false,\n      web: false,\n      onlineNews: false,\n    },\n    ...\n  };\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;section class=\"checkbox-section\"&gt;\n    &lt;mat-checkbox [(ngModel)]=\"form.interests.blogs\"&gt;Blogs&lt;/mat-checkbox&gt;\n    &lt;mat-checkbox [(ngModel)]=\"form.interests.web\"&gt;Web&lt;/mat-checkbox&gt;\n    &lt;mat-checkbox [(ngModel)]=\"form.interests.onlineNews\"&gt;Online News&lt;/mat-checkbox&gt;\n &lt;/section&gt;\n</code></pre>\n\n<p>I don't know how pushing the value <code>true</code> or <code>false</code> to any array makes any sense or give information on which input is checked.</p>\n\n<p>Stackblitz <a href=\"https://stackblitz.com/edit/mat-checkbox-r3cm13\" rel=\"nofollow noreferrer\">demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 662, "user_id": 10223942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EWEN.png?s=128&g=1", "display_name": "Roj", "link": "https://stackoverflow.com/users/10223942/roj"}, "edited": false, "score": 0, "creation_date": 1539776123, "post_id": 52852153, "comment_id": 92622951, "body": "Thanks this is more similar to what i was looking for"}], "tags": [], "owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "is_accepted": true, "score": 1, "last_activity_date": 1539770837, "last_edit_date": 1539770837, "creation_date": 1539770457, "answer_id": 52852153, "question_id": 52851461, "link": "https://stackoverflow.com/questions/52851461/angular-6-how-to-get-values-from-multiple-checkboxes-and-send-in-from/52852153#52852153", "title": "Angular 6 How To Get Values From Multiple Checkboxes and Send in From", "body": "<p>Change your <strong>HTML</strong> as below.</p>\n\n<pre><code>&lt;section class=\"checkbox-section\"&gt;\n  &lt;mat-checkbox [(ngModel)]=\"bChecked\" (change)=\"onCheckboxChagen($event, 'Blogs')\"&gt;Blogs&lt;/mat-checkbox&gt;\n  &lt;mat-checkbox [(ngModel)]=\"wChecked\" (change)=\"onCheckboxChagen($event, 'Web')\"&gt;Web&lt;/mat-checkbox&gt;\n  &lt;mat-checkbox [(ngModel)]=\"oChecked\" (change)=\"onCheckboxChagen($event, 'Online News')\"&gt;Online News&lt;/mat-checkbox&gt;\n  &lt;/section&gt;\n</code></pre>\n\n<p>As you need to use <strong>static label</strong> for checkbox value, you can pass a static label as the second argument to the <code>onCheckboxChagen</code> method. According to the value of the checkbox you can <code>push</code> and <code>pop</code> elements from the <code>interests</code> array.</p>\n\n<p><strong>TS</strong> changes should be as below.</p>\n\n<pre><code>  onCheckboxChagen(event, value) {\n\n    if (event.checked) {\n\n      this.interests.push(value);\n    } \n    if (!event.checked) {\n\n      let index = this.interests.indexOf(value);\n\n      if (index &gt; -1) {\n\n        this.interests.splice(index, 1);\n      }\n    }\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-kfhwjl?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n"}], "owner": {"reputation": 662, "user_id": 10223942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EWEN.png?s=128&g=1", "display_name": "Roj", "link": "https://stackoverflow.com/users/10223942/roj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11402, "favorite_count": 1, "accepted_answer_id": 52852153, "answer_count": 3, "score": 1, "last_activity_date": 1614436067, "creation_date": 1539768305, "question_id": 52851461, "link": "https://stackoverflow.com/questions/52851461/angular-6-how-to-get-values-from-multiple-checkboxes-and-send-in-from", "title": "Angular 6 How To Get Values From Multiple Checkboxes and Send in From", "body": "<p>I'm trying to use mat-checkboxes as input in my form, but can't really find anything on docs regarding it.</p>\n\n<p>Html</p>\n\n<pre><code>&lt;section class=\"checkbox-section\"&gt;\n &lt;mat-checkbox [(ngModel)]=\"bChecked\"&gt;Blogs&lt;/mat-checkbox&gt;\n &lt;mat-checkbox [(ngModel)]=\"wChecked\"&gt;Web&lt;/mat-checkbox&gt;\n &lt;mat-checkbox [(ngModel)]=\"oChecked\"&gt;Online News&lt;/mat-checkbox&gt;\n &lt;/section&gt;\n</code></pre>\n\n<p>Typescript</p>\n\n<pre><code>    public form = {\n    name: null,\n    email: null,\n    birthday: null,\n    company: null,\n    interests: [],\n    newsletter: null,\n    address: null,\n    password: null,\n    password_confirmation: null,\n  };\n</code></pre>\n\n<p>I'm trying to get the values of the checkboxes which are static and then push to my interests array</p>\n"}, {"tags": ["typescript", "rxjs", "observable", "angular-cli", "canactivate"], "answers": [{"comments": [{"owner": {"reputation": 1611, "user_id": 5625696, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1157900344239720/picture?type=large", "display_name": "Borislav Stoilov", "link": "https://stackoverflow.com/users/5625696/borislav-stoilov"}, "edited": false, "score": 0, "creation_date": 1539774572, "post_id": 52852380, "comment_id": 92622046, "body": "Unfortunately map won&#39;t stop the polling if the condition is met. I other word we will always make 3 requests no matter what"}], "tags": [], "owner": {"reputation": 1249, "user_id": 4220663, "user_type": "registered", "profile_image": "https://graph.facebook.com/1385627383/picture?type=large", "display_name": "Ophir Bushinsky", "link": "https://stackoverflow.com/users/4220663/ophir-bushinsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1539771119, "creation_date": 1539771119, "answer_id": 52852380, "question_id": 52851257, "link": "https://stackoverflow.com/questions/52851257/emptyerror-no-elements-in-sequence-when-using-takewhile-in-angular-guard/52852380#52852380", "title": "EmptyError: no elements in sequence when using takeWhile in angular guard", "body": "<p>From my understanding, the EmptyError means that an observable that is supposed to emit something is completed without emitting anything. The takeWhile operator, whenever returning false, causes the observable not to emit anything, which the canActivate expects.</p>\n\n<p>I think you need to use the map operator instead of takeWhile:</p>\n\n<pre><code>canActivate(_route: ActivatedRouteSnapshot, _state: RouterStateSnapshot): Observable&lt;boolean&gt; {\nreturn this.authService.isAuthenticated().pipe(\n  delay(1000),\n  repeat(3),\n  map((authenticated: boolean) =&gt; {\n    return !authenticated;\n  })\n);\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1611, "user_id": 5625696, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1157900344239720/picture?type=large", "display_name": "Borislav Stoilov", "link": "https://stackoverflow.com/users/5625696/borislav-stoilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539771119, "creation_date": 1539767652, "question_id": 52851257, "link": "https://stackoverflow.com/questions/52851257/emptyerror-no-elements-in-sequence-when-using-takewhile-in-angular-guard", "title": "EmptyError: no elements in sequence when using takeWhile in angular guard", "body": "<p>We have a canActivate guard which should return Observable(boolean).</p>\n\n<p>The boolean status is obtained form service, where we need to poll 3 times with 1 sec interval until we receive response 'true'.</p>\n\n<p>Problem is that whenever takeWhile returns false we receive the following </p>\n\n<pre><code>error:\nfailure.service.ts:36 Error: Uncaught (in promise): EmptyError: no elements in sequence\nEmptyError: no elements in sequence\n</code></pre>\n\n<p>below is the the code that is causing the issue.\nRXJS is version ^6.2.1\nAngular CLI is version ^6.0.8 </p>\n\n<pre><code>import { repeat, delay, takeWhile, map } from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\nimport { Observable, of } from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  constructor(private authService: AuthService) { }\n\n  canActivate(_route: ActivatedRouteSnapshot, _state: RouterStateSnapshot): Observable&lt;boolean&gt; {\n    return this.authService.isAuthenticated().pipe(\n      delay(1000),\n      repeat(3),\n      takeWhile((authenticated: boolean) =&gt; {\n        return !authenticated;\n      })\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1539767675, "post_id": 52851107, "comment_id": 92618027, "body": "Do you want to make a get request right after the data is deleted? Or do you want to update the data locally without reaching out to the network?"}, {"owner": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 0, "creation_date": 1539767781, "post_id": 52851107, "comment_id": 92618091, "body": "Typically a delete request should send you the updated data back."}, {"owner": {"reputation": 122, "user_id": 9870605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Boudi", "link": "https://stackoverflow.com/users/9870605/boudi"}, "edited": false, "score": 0, "creation_date": 1539767857, "post_id": 52851107, "comment_id": 92618136, "body": "I don&#39;t think you can refresh the observable. When using HttpClient the observable completes after fetching the data. But you can directly run &quot;this.dataService.fetchData()&quot; when you delete the item. You can also create a Subject that will fire when a deletion is done and subscribe to that Subject to fetch the data."}, {"owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539768152, "post_id": 52851107, "comment_id": 92618332, "body": "I want to make a get request after data is deleted"}, {"owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "reply_to_user": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 0, "creation_date": 1539773279, "post_id": 52851107, "comment_id": 92621274, "body": "@VinodBhavnani so if I call delete(object), it would instantiate a new GET Request to get the changed Context?"}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539769542, "post_id": 52851382, "comment_id": 92619140, "body": "I guess your answer wil lead me to a good solution but now the delete call to BackEnd doesn&#39;t delete anything more. But it calls fetchData and reloads view. why could this happen? Maybe it is important to know that subject$ which is used inside dataService.fetchData() is already a BehaviourSubject"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539769600, "post_id": 52851382, "comment_id": 92619177, "body": "can you share your delete method?"}, {"owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539769899, "post_id": 52851382, "comment_id": 92619342, "body": "added the methods from services above"}, {"owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539773088, "post_id": 52851382, "comment_id": 92621163, "body": "works perfectly, just for clarification, could you explain this line of code from ngOnInit: this.update.subscribe(update =&gt; update === true ? this.fetchData() : &#39;&#39;);"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539773326, "post_id": 52851382, "comment_id": 92621301, "body": "basically i am using shorthand of if else. Initially set the update behaviour subject value to false at that time we no need to call this.fetchData()"}, {"owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539773377, "post_id": 52851382, "comment_id": 92621329, "body": "so else would be &#39;&#39; , which means do nothing?"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "edited": false, "score": 0, "creation_date": 1539773411, "post_id": 52851382, "comment_id": 92621345, "body": "if it is false set it to null so that noting will happen"}], "tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 1, "last_activity_date": 1539770560, "last_edit_date": 1539770560, "creation_date": 1539768051, "answer_id": 52851382, "question_id": 52851107, "link": "https://stackoverflow.com/questions/52851107/angular-6-refresh-observable-which-fetches-all-entries-from-backend-after-delete/52851382#52851382", "title": "Angular 6 refresh Observable which fetches all entries from backend after delete", "body": "<p>Use BehaviorSubject</p>\n\n<blockquote>\n  <p>The BehaviorSubject has the characteristic that it stores the\n  \u201ccurrent\u201d value. This means that you can always directly get the last\n  emitted value from the BehaviorSubject</p>\n</blockquote>\n\n<p>When you delete make your BehaviorSubject value to true then subscribe the value inside ngOnInit</p>\n\n<pre><code>update=new BehaviorSubject&lt;boolean&gt;(false);\n\nngOnInit() {\n  this.fetchData();\n  this.update.subscribe(update=&gt;update === true ? this.fetchData() : '');\n}\n\nfetchData(){\n      this.data = this.dataService.fetchData();\n}\n</code></pre>\n\n<p>Inside delete method </p>\n\n<pre><code>deleteSetting(keyName: string) {\n  const x = this.apiService.delete(keyName);\n  x.subscribe(()=&gt;this.update.next(true););\n}\n</code></pre>\n"}], "owner": {"reputation": 498, "user_id": 9268779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43afa9bcfc677875fae699eafe1cedeb?s=128&d=identicon&r=PG&f=1", "display_name": "student18", "link": "https://stackoverflow.com/users/9268779/student18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4030, "favorite_count": 1, "accepted_answer_id": 52851382, "answer_count": 1, "score": 1, "last_activity_date": 1614765988, "creation_date": 1539767172, "last_edit_date": 1614765988, "question_id": 52851107, "link": "https://stackoverflow.com/questions/52851107/angular-6-refresh-observable-which-fetches-all-entries-from-backend-after-delete", "title": "Angular 6 refresh Observable which fetches all entries from backend after delete", "body": "<p>I have an Observable which fetches all data from my BackEnd. When I do a delete action on an item I want to refresh this observable.<br>\nI have tried two solutions that worked but it seems they are really ugly.\nOne was to force angular to reload the current route and the other was as shown in the below code to resubscribe the observable with a given interval</p>\n<p>component.ts:</p>\n<pre><code>data: Observable&lt;Setting[]&gt;;\n\nngOnInit() {\n  this.data = interval(1000).pipe(\n    startWith(0),\n    mergeMap(res =&gt; this.dataService.fetchData())\n  );\n}\n</code></pre>\n<p>I use the async pipe in a template to subscribe to my observable.</p>\n<p>dataService.fetchData() looks like this:</p>\n<pre><code>fetchData() {\n  const fetch$: Observable &lt;Setting[]&gt; = this.apiService.getSettings().pipe(share());\n  fetch$.pipe(\n    map(allSettings =&gt; this.subject$.next(allSettings))\n  );\n\n  return fetch$;\n}\n</code></pre>\n<p>component.html:</p>\n<pre><code>&lt;table&gt;\n  &lt;tr *ngFor=&quot;let s of data | async&quot;&gt;\n    &lt;td&gt;{{s.property}}&lt;/td&gt;\n    &lt;td&gt;\n      &lt;button (click)=&quot;s = s = s.Id; delete(s)&quot;&gt;Delete&lt;/button&gt;\n    &lt;/td&gt;\n&lt;/table&gt;\n</code></pre>\n<p>As my last solution sends continuously GET requests to my backend, which is a waste of network traffic, anyone has an idea how to refresh my Observable with other techniques? Calling fetchData() after delete() doesn't update my view.. Even though when I refresh the view in browser(using F5), the changes appear.</p>\n<p>EDIT:</p>\n<p>objectService:</p>\n<pre><code>deleteSetting(keyName: string) {\n  const x = this.apiService.delete(keyName);\n  x.subscribe();\n}\n</code></pre>\n<p>apiService:</p>\n<pre><code>delete(keyName: string): Observable&lt;any&gt; {\n  let params = new HttpParams();\n  params = params.append('keyName', keyName);\n\n  return this.httpClient.delete&lt;Setting&gt;(this.API_URL + '/settings/delete', {params})\n  .pipe(\n    catchError(this.handleError('delete', []))\n  );\n}\n</code></pre>\n<p>delete() in component.ts:</p>\n<pre><code>deleteSetting() {\n  this.settingsService.deleteSetting(this.keyNameToDelete);\n  this.update.next(true);\n}\n</code></pre>\n"}, {"tags": ["ajax", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 1268, "user_id": 3129752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9TDZu.jpg?s=128&g=1", "display_name": "Baris Demiray", "link": "https://stackoverflow.com/users/3129752/baris-demiray"}, "edited": false, "score": 2, "creation_date": 1539767123, "post_id": 52851075, "comment_id": 92617707, "body": "Have you tried with <code>JSON.stringify(response)</code>?"}, {"owner": {"reputation": 701, "user_id": 8302531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H288j.jpg?s=128&g=1", "display_name": "Arty", "link": "https://stackoverflow.com/users/8302531/arty"}, "reply_to_user": {"reputation": 1268, "user_id": 3129752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9TDZu.jpg?s=128&g=1", "display_name": "Baris Demiray", "link": "https://stackoverflow.com/users/3129752/baris-demiray"}, "edited": false, "score": 1, "creation_date": 1539767297, "post_id": 52851075, "comment_id": 92617798, "body": "write this as an answer pls so i can mark."}, {"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 1, "creation_date": 1539768826, "post_id": 52851075, "comment_id": 92618726, "body": "better approach is this noo need to stringify console.log(&#39;Survey Request&#39;, response);"}, {"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1539768851, "post_id": 52851075, "comment_id": 92618742, "body": "pass your sting as first argument and the object as second"}], "answers": [{"tags": [], "owner": {"reputation": 1590, "user_id": 5456476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a198016ab85e6f18cc66150c2b67d0d?s=128&d=identicon&r=PG", "display_name": "Ali Torki", "link": "https://stackoverflow.com/users/5456476/ali-torki"}, "is_accepted": false, "score": 1, "last_activity_date": 1539767196, "creation_date": 1539767196, "answer_id": 52851114, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52851114#52851114", "title": "How can i print JSON with console.log", "body": "<p>Use the <strong>JSON.parse</strong> function like as below:</p>\n\n<pre><code>JSON.parse(response, null, 2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23420, "user_id": 6903497, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pHAbN.jpg?s=128&g=1", "display_name": "Hemadri Dasari", "link": "https://stackoverflow.com/users/6903497/hemadri-dasari"}, "is_accepted": false, "score": 2, "last_activity_date": 1539767252, "creation_date": 1539767252, "answer_id": 52851135, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52851135#52851135", "title": "How can i print JSON with console.log", "body": "<p>To get json </p>\n\n<pre><code>console.log(JSON.stringify(response));\n</code></pre>\n\n<p>To get structured JSON</p>\n\n<pre><code>console.log(JSON.stringify(response, undefined, 2));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 701, "user_id": 8302531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H288j.jpg?s=128&g=1", "display_name": "Arty", "link": "https://stackoverflow.com/users/8302531/arty"}, "edited": false, "score": 1, "creation_date": 1539767974, "post_id": 52851194, "comment_id": 92618217, "body": "when i write this way &quot;console.dir(&#39;Survey Request :&#39; +response)&quot; it doesnt work but  this is &quot;console.dir(response)&quot; working."}], "tags": [], "owner": {"reputation": 60, "user_id": 7430128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2G8xb.png?s=128&g=1", "display_name": "Hesen Tagiyev", "link": "https://stackoverflow.com/users/7430128/hesen-tagiyev"}, "is_accepted": false, "score": 1, "last_activity_date": 1539842306, "last_edit_date": 1539842306, "creation_date": 1539767423, "answer_id": 52851194, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52851194#52851194", "title": "How can i print JSON with console.log", "body": "<p>use console.dir(object:any) like this -></p>\n\n<pre><code>$.ajax(sendquery).done(function (response) {\n    console.dir(response);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1268, "user_id": 3129752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9TDZu.jpg?s=128&g=1", "display_name": "Baris Demiray", "link": "https://stackoverflow.com/users/3129752/baris-demiray"}, "is_accepted": true, "score": 5, "last_activity_date": 1539767490, "creation_date": 1539767490, "answer_id": 52851217, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52851217#52851217", "title": "How can i print JSON with console.log", "body": "<p>You can try with <code>JSON.stringify(response)</code> but note that it doesn't work with all the types, see <a href=\"https://stackoverflow.com/questions/16196338/json-stringify-doesnt-work-with-normal-javascript-array\">JSON.stringify doesn&#39;t work with normal Javascript array</a>, for example.</p>\n"}, {"tags": [], "owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "is_accepted": false, "score": 1, "last_activity_date": 1539768759, "creation_date": 1539768759, "answer_id": 52851614, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52851614#52851614", "title": "How can i print JSON with console.log", "body": "<p>The best way is pass the display string in the first argument and the object as second</p>\n\n<pre><code> console.log('Survey Request', response);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HJQeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HJQeG.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1539774645, "post_id": 52852593, "comment_id": 92622096, "body": "Thats exactly my answer, you have not contributed anything new"}, {"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1539774709, "post_id": 52852593, "comment_id": 92622134, "body": "only post answers if you are either adding something new to existing answer or giving something completely new."}, {"owner": {"reputation": 1655, "user_id": 2425529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155420b7462c19e05695c43f998c3451?s=128&d=identicon&r=PG", "display_name": "Elisha Sterngold", "link": "https://stackoverflow.com/users/2425529/elisha-sterngold"}, "reply_to_user": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1539774911, "post_id": 52852593, "comment_id": 92622271, "body": "@Sujit.Warrier we answered it more or less the same time when answered I didn&#39;t have in my view your answer."}], "tags": [], "owner": {"reputation": 1655, "user_id": 2425529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155420b7462c19e05695c43f998c3451?s=128&d=identicon&r=PG", "display_name": "Elisha Sterngold", "link": "https://stackoverflow.com/users/2425529/elisha-sterngold"}, "is_accepted": false, "score": 2, "last_activity_date": 1539771754, "creation_date": 1539771754, "answer_id": 52852593, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52852593#52852593", "title": "How can i print JSON with console.log", "body": "<p>Another option apart from what @Beris Demiray wrote is to write:</p>\n\n<p><code>console.log('Survey Request :', response);</code></p>\n\n<p>Meaning to put the object as a second parameter in the log. </p>\n\n<p>This will give you an object that you'll can open in the debugger.\nThe reason why this option is better because JSON.stringify doesn't stringify all objects, and this lets you look into all objects.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7081042, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206035034995331/picture?type=large", "display_name": "Popoola Gafar Babatunde", "link": "https://stackoverflow.com/users/7081042/popoola-gafar-babatunde"}, "is_accepted": false, "score": 1, "last_activity_date": 1539854634, "creation_date": 1539854634, "answer_id": 52870926, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log/52870926#52870926", "title": "How can i print JSON with console.log", "body": "<p>While i acknowledge all answers above, it's important to point out why you seem to be getting that result on the console.</p>\n\n<p>When you do this:</p>\n\n<pre><code>console.log('Survey Request :' + response);\n</code></pre>\n\n<p>You are basically trying to concatenate a primitive value <code>'Survey Reguest :'</code> with a complex value <code>response</code>, which is an object. Javascript cannot convert an object <code>response</code> to a primitive value. By simply replacing the <code>+</code> with a <code>,</code> signifies that you are sending the <code>response</code> object as a separate argument. Javascript then logs the arguments separately to the console.</p>\n"}], "owner": {"reputation": 701, "user_id": 8302531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H288j.jpg?s=128&g=1", "display_name": "Arty", "link": "https://stackoverflow.com/users/8302531/arty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7172, "favorite_count": 2, "accepted_answer_id": 52851217, "answer_count": 7, "score": 7, "last_activity_date": 1540888181, "creation_date": 1539767038, "last_edit_date": 1540888181, "question_id": 52851075, "link": "https://stackoverflow.com/questions/52851075/how-can-i-print-json-with-console-log", "title": "How can i print JSON with console.log", "body": "<p>I am writing a program with <code>php</code> <code>laravel</code> and <code>react.js</code>. But i am very new to these. Anyway in <code>react</code>, i am sending a API request with <code>ajax</code>. </p>\n\n<p>like this:</p>\n\n<pre><code>const sendquery = {\n    \"async\": true,\n    \"crossDomain\": true,\n    \"url\": url,\n    \"method\": \"POST\",\n    \"headers\": {\n        \"Authorization\": \"Bearer \" + tkid,\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n    },\n    \"processData\": false,\n    \"data\": query\n};\n\n$.ajax(sendquery).done(function (response) {\n    console.log('Survey Request :' + response);\n});\n</code></pre>\n\n<p>There are another API requests that are printing nicely when i <code>console.log()</code> because they are in array type. But this must be <code>json</code>. I tested API with <strong>Postman</strong> everything is OK. But still i have output like this:</p>\n\n<pre><code>Survey Request :[object Object]\n</code></pre>\n\n<p>Can anyone please help ?</p>\n"}, {"tags": ["javascript", "typescript", "three.js", "gltf"], "comments": [{"owner": {"reputation": 7685, "user_id": 1314762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec8b9cd05efa622fd08e55414e63470?s=128&d=identicon&r=PG", "display_name": "Don McCurdy", "link": "https://stackoverflow.com/users/1314762/don-mccurdy"}, "edited": false, "score": 1, "creation_date": 1539822858, "post_id": 52850514, "comment_id": 92644856, "body": "<code>&quot;I don&#39;t think this is gonna come any time soon.&quot;</code> \u2014 Please do feel free to open an issue on GitHub. The reason this hasn&#39;t been fixed may be that no one has requested it yet. :)"}, {"owner": {"reputation": 81, "user_id": 7666472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a9ac2501aba163fd0a845f20a9da1d?s=128&d=identicon&r=PG&f=1", "display_name": "Moums", "link": "https://stackoverflow.com/users/7666472/moums"}, "reply_to_user": {"reputation": 7685, "user_id": 1314762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec8b9cd05efa622fd08e55414e63470?s=128&d=identicon&r=PG", "display_name": "Don McCurdy", "link": "https://stackoverflow.com/users/1314762/don-mccurdy"}, "edited": false, "score": 1, "creation_date": 1539944450, "post_id": 52850514, "comment_id": 92693399, "body": "will do, I will open an issue"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10517614, "user_type": "registered", "profile_image": "https://graph.facebook.com/148183282444392/picture?type=large", "display_name": "David Smith", "link": "https://stackoverflow.com/users/10517614/david-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1539767808, "creation_date": 1539767808, "answer_id": 52851306, "question_id": 52850514, "link": "https://stackoverflow.com/questions/52850514/threejs-how-can-one-export-with-gltfexporter-an-indexed-geometry-with-draw-rang/52851306#52851306", "title": "Threejs: How can one export with GLTFExporter an indexed geometry with draw range?", "body": "<p>Regarding the two variables, this is something I'm going to address in the following PR to make it part of the WebGLUtils and just import it. It doesn't make sense that each one that needs these constants need to redefine them again every time.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 7666472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a9ac2501aba163fd0a845f20a9da1d?s=128&d=identicon&r=PG&f=1", "display_name": "Moums", "link": "https://stackoverflow.com/users/7666472/moums"}, "is_accepted": true, "score": 0, "last_activity_date": 1539773260, "creation_date": 1539773260, "answer_id": 52853090, "question_id": 52850514, "link": "https://stackoverflow.com/questions/52850514/threejs-how-can-one-export-with-gltfexporter-an-indexed-geometry-with-draw-rang/52853090#52853090", "title": "Threejs: How can one export with GLTFExporter an indexed geometry with draw range?", "body": "<p>As mentionned in my edit, I bypassed my problem by <strong>de-indexing</strong> of my geometry, it is not the best solution, but since I only need it for this export, here is how I proceeded: </p>\n\n<pre><code>// original attributes\nconst vertices  = geometryTmp.getAttribute(\"position\");\nconst normals  = geometryTmp.getAttribute(\"normal\");\nconst uv  = geometryTmp.getAttribute(\"uv\");\n\n// new buffer arrays\nlet verticesTmp = new Float32Array(3 * geometryTmp.index.array.length);\nlet normalTmp = new Float32Array(3 * geometryTmp.index.array.length);\nlet uvTmp = new Float32Array(2 * geometryTmp.index.array.length);\n\n\nlet j = 0;\nfor(let i = 0; i &lt; verticesTmp.length; i += 3) {\n    let index = geometryTmp.index.array[j];\n    verticesTmp[i] = vertices.getX(index);\n    verticesTmp[i+1] = vertices.getY(index);\n    verticesTmp[i+2] = vertices.getZ(index);\n\n    normalTmp[i] = normals.getX(index);\n    normalTmp[i+1] = normals.getY(index);\n    normalTmp[i+2] = normals.getZ(index);\n    j++;\n\n}\n\nj = 0;\nfor(let i = 0; i &lt; uvTmp.length; i += 2) {\n    let index = geometryTmp.index.array[j];\n    uvTmp[i] = uv.getX(index);\n    uvTmp[i+1] = uv.getY(index);\n    j++;\n}\n\nlet newGeomtry = new THREE.BufferGeometry();\nnewGeomtry.addAttribute( 'position', new THREE.BufferAttribute( verticesTmp, 3 ) );\nnewGeomtry.addAttribute( 'normal', new THREE.BufferAttribute( normalTmp, 3 ) );\nnewGeomtry.addAttribute( 'uv', new THREE.BufferAttribute( uvTmp, 2 ) );\n\nnewGeomtry.drawRange = geometryTmp.drawRange;\nmesh.geometry = newGeomtry;  \n\n// After I do that to all the meshes I need, them to a new THREE.Scene that will be given to the exporter with truncateDrawRange = true\n</code></pre>\n\n<p>I hope it helps someone too.</p>\n"}], "owner": {"reputation": 81, "user_id": 7666472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a9ac2501aba163fd0a845f20a9da1d?s=128&d=identicon&r=PG&f=1", "display_name": "Moums", "link": "https://stackoverflow.com/users/7666472/moums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 52853090, "answer_count": 2, "score": 1, "last_activity_date": 1539787395, "creation_date": 1539765212, "last_edit_date": 1539787395, "question_id": 52850514, "link": "https://stackoverflow.com/questions/52850514/threejs-how-can-one-export-with-gltfexporter-an-indexed-geometry-with-draw-rang", "title": "Threejs: How can one export with GLTFExporter an indexed geometry with draw range?", "body": "<p>I have a specific problem, I would like to export an indexed geomtry that has a drawrange. \nUsing the GLTFExporter, after having faced the issue with typescript integration (known issue apparently), I had the bad luck to discover that this was not implemented in the exporter:</p>\n\n<pre><code>// @TODO Indexed buffer geometry with drawRange not supported yet\n</code></pre>\n\n<p><a href=\"https://github.com/mrdoob/three.js/blob/master/examples/js/exporters/GLTFExporter.js\" rel=\"nofollow noreferrer\">https://github.com/mrdoob/three.js/blob/master/examples/js/exporters/GLTFExporter.js</a> line 564</p>\n\n<p>Checking the commit history showed me that the last update was 3 months ago and I don't think this is gonna come any time soon. \nI tried to remove the index buffer and rewrite my position bufferattribute array base on my draw range but I must do something wrong because it does not work, it simply breaks my geometry. \nWould any of you have a work around for me or some explainations on how to proceed with my geometry?</p>\n\n<p>Thank you in advance. </p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>My current work-around is to <strong><em>\"de-index\"</em></strong> my geometry for the export and keep the drawRange, this case is handled by the exporter. It is not ideal, and it forces me to recreate a full new geometry with new BufferAttributes. But since this operation is only done for the export, I can even have this process happening in an asynchronous way. I wish there was a better way. </p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "edited": false, "score": 0, "creation_date": 1539764713, "post_id": 52850273, "comment_id": 92616369, "body": "nope does not help. checked it in typescript playground"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539765210, "post_id": 52850273, "comment_id": 92616636, "body": "@NurbolAlpysbayev better yet, make it private (so no classes can mistakenly implement the interface), and don&#39;t assign a value to it, type it as <code>undefined</code>, no runtime cost :) <code>private [isEntityBase]: undefined;</code>"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1539765414, "post_id": 52850273, "comment_id": 92616755, "body": "Thank you, @TitianCernicova-Dragomir. You are true about <code>true</code> :-). However it&#39;s <code>public</code> because otherwise IDE will complain &quot;unused private bla bla&quot;."}, {"owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "edited": false, "score": 0, "creation_date": 1539766230, "post_id": 52850273, "comment_id": 92617162, "body": "btw  we could make it private and ignore it seems to be a fair place to use ts-ignore."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1539766418, "post_id": 52850273, "comment_id": 92617271, "body": "@NurbolAlpysbayev forgot about unused  privates :)"}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": true, "score": 2, "last_activity_date": 1539766788, "last_edit_date": 1539766788, "creation_date": 1539764292, "answer_id": 52850273, "question_id": 52850086, "link": "https://stackoverflow.com/questions/52850086/typescript-extensions-conditional-types/52850273#52850273", "title": "Typescript extensions. Conditional Types", "body": "<p>You should add to EntityBase some non-optional property e.g. </p>\n\n<pre><code>class EntityBase {\n\n    public isEntityBase = undefined\n    ...\n}\n</code></pre>\n\n<p>This is because TypeScript uses structural subtyping, in other words it checks whether an object implements some interface, by looking at the object's structure (names of properties).</p>\n\n<p>In order to not pollute the API of EntityBase, you could use Symbols:</p>\n\n<pre><code>const isEntityBase = Symbol()\n\nclass EntityBase {\n\n    public [isEntityBase] = undefined\n\n\n} \n</code></pre>\n"}], "owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 52850273, "answer_count": 1, "score": 1, "last_activity_date": 1539766788, "creation_date": 1539763601, "question_id": 52850086, "link": "https://stackoverflow.com/questions/52850086/typescript-extensions-conditional-types", "title": "Typescript extensions. Conditional Types", "body": "<p>I was trying to use conditional type but it does not work as expected.\nI was expecting type of abc would be number but it returns a string.\nAny help on the same would be appreciated.</p>\n\n<pre><code>class TableIdClass {\n    public tableId?: string;\n\n    constructor(props: TableIdClass) {\n        const { tableId } = props;\n        this.tableId = `${Math.random()}`;\n\n    }\n}\n\nexport class TableBase extends TableIdClass {\n\n    public createDate?: Date;\n\n    constructor(props: TableBase) {\n        super(props)\n        const { createDate } = props;\n        this.createDate = (createDate) ? createDate : new Date();\n    }\n}\n\nexport class EntityBase extends TableBase {\n    public entityId?: string;\n    public entityName?: string;\n    public isActive?: boolean;\n\n    constructor(props: EntityBase) {\n        super(props)\n        const { entityId, entityName, isActive } = props;\n        this.entityId = entityId;\n        this.entityName = (entityName) ? entityName : '';\n        this.isActive = (typeof isActive === 'undefined') ? true : isActive;\n    }\n};\n\nclass SomeClass extends TableIdClass {\n\n    constructor(prop: SomeClass) {\n        super(prop)\n\n    }\n}\n\ntype abc = SomeClass extends EntityBase ? string : number; // Returns string.\n</code></pre>\n"}, {"tags": ["angular", "typescript", "find"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539764718, "post_id": 52850191, "comment_id": 92616373, "body": "Thank you for answer. I changed it, but nothing happens, the error is repeated."}], "tags": [], "owner": {"reputation": 617, "user_id": 9963032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vWnCr.jpg?s=128&g=1", "display_name": "yannick", "link": "https://stackoverflow.com/users/9963032/yannick"}, "is_accepted": false, "score": 0, "last_activity_date": 1539763985, "creation_date": 1539763985, "answer_id": 52850191, "question_id": 52850043, "link": "https://stackoverflow.com/questions/52850043/error-typeerror-cannot-read-property-s-id-of-undefined/52850191#52850191", "title": "ERROR TypeError: Cannot read property &#39;s_id&#39; of undefined", "body": "<p>You start your loop with index 0 until this.products.length. This is your mistake. You have to loop until <strong>this.products.length - 1</strong> because arrays start to count at 0. So the last access at <strong>this.homeboxp.products[i]</strong>.s_id is not set.</p>\n\n<p>Change your code to:</p>\n\n<pre><code>for (let i = 0; i &lt; this.products.length - 1; i++) {\n        let ss = products.find(x =&gt; x.s_id === this.homeboxp.products[i].s_id);\n        console.log('ss', ss)\n        if (ss) {\n          this.selectedproducts = ss.s_serial[i]\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539766741, "post_id": 52850443, "comment_id": 92617467, "body": "The error doesn&#39;t show again, but <code>this.selectedproducts</code>  return only the first letter, not all value. for example <code>LVpcP</code>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539767462, "post_id": 52850443, "comment_id": 92617904, "body": "Wrong condition in filter. You are always using 0 index."}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539768472, "post_id": 52850443, "comment_id": 92618528, "body": "Any idea how to implement?"}, {"owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539775276, "post_id": 52850443, "comment_id": 92622503, "body": "I write this problem in new post, <a href=\"https://stackoverflow.com/questions/52852560/filter-return-only-the-first-letter-of-product-selected\" title=\"filter return only the first letter of product selected\">stackoverflow.com/questions/52852560/&hellip;</a> Can you help me please?"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "edited": false, "score": 0, "creation_date": 1539777060, "post_id": 52850443, "comment_id": 92623497, "body": "Ok, let me check."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1539764937, "creation_date": 1539764937, "answer_id": 52850443, "question_id": 52850043, "link": "https://stackoverflow.com/questions/52850043/error-typeerror-cannot-read-property-s-id-of-undefined/52850443#52850443", "title": "ERROR TypeError: Cannot read property &#39;s_id&#39; of undefined", "body": "<p>There are couple of issues with your implementation - </p>\n\n<ol>\n<li>I think you have missed this <code>this</code> keyword for products in <code>find</code> function.</li>\n<li>Wrong <code>index</code> value is being access. You should check if the product exist in the array.</li>\n</ol>\n\n<p>Try this - </p>\n\n<pre><code>product: Product;\n  products: Product[]=[]\n\n  selectedproducts : string = this.products.filter(\n    x =&gt; x.s_id === this.product.s_id[0])\n    .map(y =&gt; y.s_serial).join('');\n\n\n    this.ss.getAllproducts ().subscribe(\n      products =&gt; {\n        this.products = products \n        if (this.products &amp;&amp; this.products.length &gt; 0) {\n          for (let i = 0; i &lt; this.products.length; i++) {\n            let ss = this.products.find(x =&gt; {\n            let p = this.homeboxp.products[i];\n            return (p &amp;&amp; x.s_id === p.s_id);\n\n            );\n            console.log('ss', ss)\n            if (ss) {\n              this.selectedproducts = ss.s_serial[i]\n            }\n          }\n        }\n      });\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10460523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BunWbLWEOY0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW580m9bNOJDHLpyVu6cv0TcCcxcQ/mo/photo.jpg?sz=128", "display_name": "new_user", "link": "https://stackoverflow.com/users/10460523/new-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 52850443, "answer_count": 2, "score": 0, "last_activity_date": 1539764937, "creation_date": 1539763460, "question_id": 52850043, "link": "https://stackoverflow.com/questions/52850043/error-typeerror-cannot-read-property-s-id-of-undefined", "title": "ERROR TypeError: Cannot read property &#39;s_id&#39; of undefined", "body": "<p>I get from API two JSON :</p>\n\n<p>First, are products:</p>\n\n<pre><code> {\n        \"StatusCode\": 0,\n        \"StatusMessage\": \"OK\",\n        \"StatusDescription\": [\n             {\n                \"s_id\": \"11E8C70C8A5D78888E6EFA163EBBBC1D\",\n                \"s_serial\": \"PkMGo\",\n                \"active\": 0,\n              },\n             {\n                \"s_id\": \"11E8C70FB9D10DB38E6EFA163EBBBC1D\",\n                \"s_serial\": \"UgooX\",\n                \"active\": 0,\n                },\n              {\n                \"s_id\": \"11E8C7179F85836D8E6EFA163EBBBC1D\",\n                \"s_serial\": \"IiLnM\",\n                \"active\": 0,\n                }, .....\n            {\n                \"s_id\": \"11E8C71905123F1A8E6EFA163EBBBC1D\",\n                \"s_serial\": \"LVpcP\",\n                \"active\": 0,\n             }\n              }]\n }\n</code></pre>\n\n<p>Seconds, I have this JSON that get by product:\nhomeboxp</p>\n\n<pre><code>{\n    \"StatusCode\":0,\n    \"StatusMessage\":\"OK\",\n    \"StatusDescription\":\n    {\"products\":[\n            {\n                \"s_serial\":\"PkMGo\",\n                \"s_id\":\"11E8C70C8A5D78888E6EFA163EBBBC1D\"\n            },\n            {\n                \"s_serial\":\"LVpcP\",\n                \"s_id\":\"11E8C71905123F1A8E6EFA163EBBBC1D\"\n            },\n            {\n                \"s_serial\":\"IiLnM\",\n                \"s_id\":\"11E8C7179F85836D8E6EFA163EBBBC1D\"\n            }\n            ],\n                \"hb_id\":\"11E8C71242B742EC8E6EFA163EBBBC1D\",\n                \"active\":0,\n          }\n}\n</code></pre>\n\n<p>In this part of code, I get all products form API, and find for products :</p>\n\n<pre><code>  product: Product;\n  products: Product[]=[]\n\n  selectedproducts : string = this.products.filter(\n    x =&gt; x.s_id === this.product.s_id[0])\n    .map(y =&gt; y.s_serial).join('');\n\n\n    this.ss.getAllproducts ().subscribe(\n      products =&gt; {\n        this.products = products \n        if (this.products &amp;&amp; this.products.length &gt; 0) {\n          for (let i = 0; i &lt; this.products.length; i++) {\n            let ss = products.find(x =&gt; x.s_id === this.homeboxp.products[i].s_id);\n            console.log('ss', ss)\n            if (ss) {\n              this.selectedproducts = ss.s_serial[i]\n            }\n          }\n        }\n      });\n</code></pre>\n\n<p>I have error in this  <code>let ss = products.find(x =&gt; x.s_id === this.homeboxp.products[i].s_id);</code></p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 's_id' of undefined\n      at eval (edit-product.component.ts:123)\n      at Array.find () error</p>\n</blockquote>\n"}, {"tags": ["typescript", "bundling-and-minification", "rollupjs", "copyright-display"], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 5857685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-smP1jAVaYjU/AAAAAAAAAAI/AAAAAAAABdA/kWVaX3qYmz0/photo.jpg?sz=128", "display_name": "Jo&#227;o Eudes Lima", "link": "https://stackoverflow.com/users/5857685/jo%c3%a3o-eudes-lima"}, "edited": false, "score": 0, "creation_date": 1582584200, "post_id": 56078659, "comment_id": 106820758, "body": "This not works here, something alternative to <code>external: [&quot;tslib&quot;]</code>?"}], "tags": [], "owner": {"reputation": 192, "user_id": 11480716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LASMAjA1BwI/AAAAAAAAAAI/AAAAAAAAJa0/U4o3ydhqyCc/photo.jpg?sz=128", "display_name": "Clyde D&#39;Souza", "link": "https://stackoverflow.com/users/11480716/clyde-dsouza"}, "is_accepted": false, "score": 0, "last_activity_date": 1557494649, "creation_date": 1557494649, "answer_id": 56078659, "question_id": 52849894, "link": "https://stackoverflow.com/questions/52849894/how-to-handle-copyright-notice-in-javascript-bundle/56078659#56078659", "title": "How to handle Copyright notice in javascript bundle?", "body": "<p>@JGoodgive,</p>\n\n<p>You could potentially add your own custom license above every JavaScript file you create so when its bundled up together, your license file should show above your JS code. </p>\n\n<pre><code>/*! *****************************************************************************\nCopyright (c) &lt;Author&gt;. All rights reserved.\n&lt;Custom license text here&gt;\n***************************************************************************** */\n\n// Your JS code below your custom license \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 158, "user_id": 6738911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6z29.png?s=128&g=1", "display_name": "Marek R.", "link": "https://stackoverflow.com/users/6738911/marek-r"}, "is_accepted": false, "score": 3, "last_activity_date": 1567694108, "creation_date": 1567694108, "answer_id": 57807809, "question_id": 52849894, "link": "https://stackoverflow.com/questions/52849894/how-to-handle-copyright-notice-in-javascript-bundle/57807809#57807809", "title": "How to handle Copyright notice in javascript bundle?", "body": "<p>Rollup bundles everything that is needed into output files. What you see there are Typescript helpers from <code>tslib</code> module.</p>\n\n<p>You can replace that code (and get rid of MS license) with <code>tslib</code> library imports.</p>\n\n<p>Add to your <code>rollup.config.js</code> following setting: <code>external: [\"tslib\"]</code>. Unfortunatelly you need to add <code>tslib</code> module to your dependencies (or peerDependencies) to your project.</p>\n\n<p>check following conversations for more details:\n<a href=\"https://github.com/ezolenko/rollup-plugin-typescript2/issues/58\" rel=\"nofollow noreferrer\">https://github.com/ezolenko/rollup-plugin-typescript2/issues/58</a> (about external setting)</p>\n\n<p><a href=\"https://github.com/ReactiveX/rxjs/issues/2436#issuecomment-371585945\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/issues/2436#issuecomment-371585945</a> (about issues with dependency vs peerDependency)</p>\n\n<p>and here about helpers:\n<a href=\"https://mariusschulz.com/blog/external-helpers-library-in-typescript\" rel=\"nofollow noreferrer\">https://mariusschulz.com/blog/external-helpers-library-in-typescript</a></p>\n"}, {"tags": [], "owner": {"reputation": 1078, "user_id": 130237, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/jken3.jpg?s=128&g=1", "display_name": "ian", "link": "https://stackoverflow.com/users/130237/ian"}, "is_accepted": false, "score": 1, "last_activity_date": 1603161876, "creation_date": 1603161876, "answer_id": 64437727, "question_id": 52849894, "link": "https://stackoverflow.com/questions/52849894/how-to-handle-copyright-notice-in-javascript-bundle/64437727#64437727", "title": "How to handle Copyright notice in javascript bundle?", "body": "<p>I added rollup-plugin-terser in my rollup config and set comments to false so all comments are removed.</p>\n<pre><code>...\nimport { terser } from 'rollup-plugin-terser';\n...\nplugins: [\n    ...\n    terser({ format: { comments: false } }),\n    ...\n]\n</code></pre>\n"}], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1507, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1603161876, "creation_date": 1539762934, "last_edit_date": 1567705532, "question_id": 52849894, "link": "https://stackoverflow.com/questions/52849894/how-to-handle-copyright-notice-in-javascript-bundle", "title": "How to handle Copyright notice in javascript bundle?", "body": "<p>I was writing a couple of small demos to explain decorators (in typescript) to colleagues when I noticed that my bundle had a Microsoft Copyright notice that kind of make my entire file free for all (and made by MS). </p>\n\n<p>How should this be handled effectivly (if I create something that isn't free)?</p>\n\n<p>I used Typescript 3.1 to compile and rollup for bundling.</p>\n\n<p>code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { isNotUndefined, isNotNullOrUndefined } from \"goodcore/Test\";\n\nfunction deprecated&lt;S&gt;(instead?: string, message?: string) {\n    // Logic removed for brevity...\n}\n\nclass Car {\n    @deprecated()\n    public turnIgnitionKey() {\n        this.start();\n    }\n    public pressStartButton() {\n        this.start();\n    }\n    private start() {\n        console.log(\"Running!\");\n    }\n}\n\nlet car = new Car();\ncar.turnIgnitionKey();\ncar.pressStartButton();\n</code></pre>\n\n<p>and bundle beginning (where the last function is mine and those before are MS):</p>\n\n<pre><code>'use strict';\n\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\nfunction __decorate(decorators, target, key, desc) {\n    var c = arguments.length, r = c &lt; 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" &amp;&amp; typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i &gt;= 0; i--) if (d = decorators[i]) r = (c &lt; 3 ? d(r) : c &gt; 3 ? d(target, key, r) : d(target, key)) || r;\n    return c &gt; 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r;\n}\n\nfunction __metadata(metadataKey, metadataValue) {\n    if (typeof Reflect === \"object\" &amp;&amp; typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nfunction isNullOrUndefined(arg) {\n    return arg === undefined || arg === null;\n}\n</code></pre>\n"}, {"tags": ["typescript", "sass", "styled-components"], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1539762082, "creation_date": 1539762082, "question_id": 52849644, "link": "https://stackoverflow.com/questions/52849644/property-theme-does-not-exist-on-class-with-styled-component-themes", "title": "&quot;Property theme does not exist on class ...&quot; with Styled Component themes?", "body": "<p>Here is my index.tsx:</p>\n\n<pre><code>const theme = require('sass-extract-loader?{\"plugins\": [\"sass-extract-js\"]}!./parameters.scss');\n\n...\n\n&lt;Provider store={store}&gt;\n    &lt;ConnectedRouter history={history}&gt;\n        &lt;ThemeProvider theme={theme}&gt;\n            &lt;ScrollToTop&gt;\n                &lt;App /&gt;\n            &lt;/ScrollToTop&gt;\n        &lt;/ThemeProvider&gt;\n    &lt;/ConnectedRouter&gt;\n&lt;/Provider&gt;\n</code></pre>\n\n<p>Here is my styled component:</p>\n\n<pre><code>import * as React from 'react';\nimport styled from 'styled-components';\n\ninterface FlexContainerProps {\n    // tslint:disable-next-line:no-any\n    children: any;\n}\n\nexport default function FlexContainer(props: FlexContainerProps) {\n    const Container = styled.div`\n        display: flex;\n        flex-direction: column;\n\n        @media all and (min-width: ${props.theme.minWidthLargeDevice}) {\n            flex-direction: row;\n        }\n    `;\n    return (\n        &lt;Container&gt;\n            {props.children}\n        &lt;/Container&gt;\n    );\n}\n</code></pre>\n\n<p>I get the error </p>\n\n<pre><code>Property 'theme' does not exist on type 'FlexContainerProps'.\n</code></pre>\n\n<p>Why is theme not available to my component? How can I get rid of this error?</p>\n\n<p>I am using styled components v4.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1539762991, "post_id": 52849623, "comment_id": 92615430, "body": "Now, it could be nice if you also share the typescript code that created this? Are you requiring this module somewhere?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9152737"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1539763216, "post_id": 52849623, "comment_id": 92615556, "body": "I added the small TS code, I tried to use that : &quot;require([&quot;Global/Global&quot;]);&quot; without any result."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1539780887, "creation_date": 1539780887, "answer_id": 52855374, "question_id": 52849623, "link": "https://stackoverflow.com/questions/52849623/how-to-access-an-amd-module-define-from-ordinary-javascript/52855374#52855374", "title": "How to access an AMD module (&quot;define&quot;) from ordinary JavaScript?", "body": "<p>It looks like you have an <a href=\"https://en.wikipedia.org/wiki/Asynchronous_module_definition\" rel=\"nofollow noreferrer\">AMD module</a> there, so you'll need to use an AMD module loader such as <a href=\"https://requirejs.org/\" rel=\"nofollow noreferrer\">RequireJS</a> if you aren't using one already.  Then the proper syntax to access your module from <code>script.js</code> is like this:</p>\n\n<pre><code>require([\"Global/Global\"], function(Global_module) {\n    console.log(Global_module.Global.transition_time);\n});\n</code></pre>\n\n<p>The <code>require</code> function doesn't add anything to the global namespace; instead, you have to pass a callback that receives the module you asked for and does whatever you wanted with it.  Note the <code>Global_module.Global.transition_time</code>; <code>Global_module</code> is the name I gave to the variable that receives the entire module, and <code>Global</code> is the name of the exported class within the module.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9152737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 52855374, "answer_count": 1, "score": 0, "last_activity_date": 1539780965, "creation_date": 1539762006, "last_edit_date": 1539780965, "question_id": 52849623, "link": "https://stackoverflow.com/questions/52849623/how-to-access-an-amd-module-define-from-ordinary-javascript", "title": "How to access an AMD module (&quot;define&quot;) from ordinary JavaScript?", "body": "<p>I made a TypeScript code wich was compiled like this :</p>\n\n<pre><code>define(\"Global/Global\", [\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var Global = (function () {\n        function Global() {\n        }\n        Global.transition_time = 200;\n        return Global;\n    }());\n    exports.Global = Global;\n});\n</code></pre>\n\n<p>Now, in a classic \"script.js\" I'm trying to console.log() the \"transition_time\" value. But it tells me \"Global is not defined\".\nI put a breakpoint in the console in the Global's function, but it's never triggered :/</p>\n\n<p><strong><em>EDIT :</em></strong></p>\n\n<p>That's the Global's TypeScript code :</p>\n\n<pre><code>export class Global {\n    static transition_time: number = 200;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "angular-http-interceptors"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1539760571, "post_id": 52848765, "comment_id": 92614166, "body": "Just put the last part of the code in <code>else</code> and put <code>next.handle</code> inside your <code>if</code>s."}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 1, "creation_date": 1539763001, "post_id": 52848765, "comment_id": 92615436, "body": "You might want to read <a href=\"https://blog.rangle.io/rxjs-where-is-the-if-else-operator/\" rel=\"nofollow noreferrer\">RxJS, where is the If-Else Operator?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1539784597, "post_id": 52850225, "comment_id": 92628349, "body": "evaluate order does matter because i need a valid refresh token (first condition) to generate an access token (second condition)."}, {"owner": {"reputation": 2862, "user_id": 5801495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vW0bo.jpg?s=128&g=1", "display_name": "Buggy", "link": "https://stackoverflow.com/users/5801495/buggy"}, "reply_to_user": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 1, "creation_date": 1539789199, "post_id": 52850225, "comment_id": 92631333, "body": "You can use <code>concat</code> instead of <code>forkJoin</code>"}, {"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1539809180, "post_id": 52850225, "comment_id": 92641049, "body": "can you validate my answer? i think there may be something wrong because my server is a little unstable: restarts many times when using interceptor. I&#39;m getting this error on console <code>RangeError: Maximum call stack size exceeded</code>."}, {"owner": {"reputation": 2862, "user_id": 5801495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vW0bo.jpg?s=128&g=1", "display_name": "Buggy", "link": "https://stackoverflow.com/users/5801495/buggy"}, "reply_to_user": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 1, "creation_date": 1539846465, "post_id": 52850225, "comment_id": 92650861, "body": "You need to skip <a href=\"https://stackoverflow.com/q/46469349/5801495\">interceptor</a> for <code>handleRefreshToken </code> and <code>handleRefreshTokenRefresh </code>."}, {"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1539871314, "post_id": 52850225, "comment_id": 92665037, "body": "Thank you! I&#39;ve tried to stop calling interceptor with <code>HttpBackEnd</code> before but it didn&#39;t worked."}], "tags": [], "owner": {"reputation": 2862, "user_id": 5801495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vW0bo.jpg?s=128&g=1", "display_name": "Buggy", "link": "https://stackoverflow.com/users/5801495/buggy"}, "is_accepted": true, "score": 4, "last_activity_date": 1539847133, "last_edit_date": 1539847133, "creation_date": 1539764111, "answer_id": 52850225, "question_id": 52848765, "link": "https://stackoverflow.com/questions/52848765/angular-httpinterceptor-how-to-use-rxjs-for-multiple-conditions/52850225#52850225", "title": "Angular HttpInterceptor: How to use RxJS for multiple conditions", "body": "<p>We want to wait until some requests will be completed (evaluate order does not matter?) than do another request. </p>\n\n<p><code>const queue = this.handleRefreshToke(this.handleRefreshTokenRefresh([]));</code> - place there all request that should be done before we call <code>next.handle</code>.\nUse the <code>forkJoin</code> to wait until all request (placed in queue) will be completed than map to another Obervable ( <code>mergeMap</code> ).</p>\n\n<p>PS We could also move <code>handleRefreshTokenRefresh</code> and <code>handleRefreshToke</code> to separated HttpInterceptor.</p>\n\n<p><strong>EDITED</strong> To prevent recursive call of interceptors we should <a href=\"https://stackoverflow.com/q/46469349/5801495\">skip interceptors</a> for refreshTokens call.</p>\n\n<pre><code>export const InterceptorSkipHeader = 'X-Skip-Interceptor';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n    constructor(private authService: AuthService) { }\n\n    handleRefreshTokenRefresh(queue: Observable&lt;void&gt;[]) {\n        const Token = this.authService.getToken();\n        if (Token.expiresRefreshToken &amp;&amp; \n            const req = this.authService.refreshTokenRefresh(Token.tokenref)\n              .pipe(tap((response) =&gt; {\n                localStorage.setItem('tokenref', response.tokenref);\n                localStorage.setItem('tokenrefexp', response.tokenrefexp);\n            }));\n            return [...queue, req];\n        }\n        return queue;\n    }\n\n    handleRefreshToke(queue: Observable&lt;void&gt;[]) {\n        const Token = this.authService.getToken();\n        if (Token.expiresToken &amp;&amp; Number(Token.expiresToken) &lt; Date.now()) {\n            const req = this.authService.refreshToken(Token.tokenref)\n              .subscribe((response) =&gt; {\n                localStorage.setItem('token', response.token);\n                localStorage.setItem('tokenexp', response.tokenexp);\n            });\n            return [...queue, req];\n        }\n        return queue;\n    }\n\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n       if (req.headers.has(InterceptorSkipHeader)) {\n            const headers = req.headers.delete(InterceptorSkipHeader);\n            return next.handle(req.clone({ headers }));\n        }\n\n        const Token = this.authService.getToken();\n\n        if (!Token) {\n            return next.handle(req);\n        }\n\n        const queue = this.handleRefreshToke(this.handleRefreshTokenRefresh([]));\n\n        return forkJoin(queue).pipe(\n            mergeMap(()=&gt;{\n                return next.handle(req.clone({\n                    headers: req.headers\n                        .set('Authorization', 'Bearer ' + localStorage.getItem('token'))\n                        .set('X-Auth-Provider', localStorage.getItem('provider')),\n                }));\n            })\n        );\n    }\n\n}\n</code></pre>\n\n<p>Add <code>InterceptorSkipHeader</code> to refreshTokens to skip interceptors.</p>\n\n<pre><code>// AuthService\n\nrefreshTokenRefresh(token){\n   const headers = new HttpHeaders().set(InterceptorSkipHeader, '');\n   return this.httpClient\n    .get(someUrl, { headers })\n}\n\nrefreshToken(token){\n   const headers = new HttpHeaders().set(InterceptorSkipHeader, '');\n   return this.httpClient\n    .get(someUrl, { headers })\n}\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1407, "favorite_count": 1, "accepted_answer_id": 52850225, "answer_count": 1, "score": 6, "last_activity_date": 1539847133, "creation_date": 1539758686, "last_edit_date": 1539822133, "question_id": 52848765, "link": "https://stackoverflow.com/questions/52848765/angular-httpinterceptor-how-to-use-rxjs-for-multiple-conditions", "title": "Angular HttpInterceptor: How to use RxJS for multiple conditions", "body": "<p>Here is <code>AuthInterceptor</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n    constructor(private authService: AuthService) { }\r\n\r\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n\r\n        const Token = this.authService.getToken();\r\n\r\n        if (!Token) {\r\n            return next.handle(req);\r\n        }\r\n \r\n        // Refresh Token first\r\n        if (Token.expiresRefreshToken &amp;&amp; Number(Token.expiresRefreshToken) &lt; Date.now()) {\r\n            this.authService.refreshTokenRefresh(Token.tokenref)\r\n            .subscribe((response) =&gt; {\r\n                localStorage.setItem('tokenref', response.tokenref);\r\n                localStorage.setItem('tokenrefexp', response.tokenrefexp);\r\n            });\r\n        }\r\n        // Then next Access Token\r\n        if (Token.expiresToken &amp;&amp; Number(Token.expiresToken) &lt; Date.now()) {\r\n            this.authService.refreshToken(Token.tokenref)\r\n            .subscribe((response) =&gt; {\r\n                localStorage.setItem('token', response.token);\r\n                localStorage.setItem('tokenexp', response.tokenexp);\r\n            });\r\n        }\r\n        // Original request with updated custom headers\r\n        return next.handle(req.clone({\r\n            headers: req.headers\r\n            .set('Authorization', 'Bearer ' + localStorage.getItem('token'))\r\n            .set('X-Auth-Provider', localStorage.getItem('provider'))\r\n        }));\r\n    }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need to evaluate those conditions before sending the request because some custom headers may change after methods <code>refreshToken</code> and <code>refreshTokenRefresh</code>. Is there a way to evaluate everything inside a RxJS operator? First condition (<code>refreshTokenRefresh</code>), then second (<code>refreshToken</code>) and finally the <code>req</code>.</p>\n\n<p>Update: I'm getting this error: <code>RangeError: Maximum call stack size exceeded.</code> How to fix this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 1, "creation_date": 1539758843, "post_id": 52848547, "comment_id": 92613264, "body": "&quot;Better&quot; regarding what?"}, {"owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539758916, "post_id": 52848547, "comment_id": 92613307, "body": "@IngoB&#252;rk What will be most suitable or recommended one ? Will the both approaches behave the same ?"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539758995, "post_id": 52848547, "comment_id": 92613354, "body": "That depends on how the function is implemented. Using undefined does exactly what would happen if you omitted the second (and third) parameters, but null is shorter (which is also a metric). How the function behaves on either undefined or null depends on the implementation."}, {"owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539759331, "post_id": 52848547, "comment_id": 92613517, "body": "@IngoB&#252;rk In the function it does not explicitly handle that scenario. In that case what should I pass. This function I cannot change. (But I like to know what possible changes can do apart from handling those null and undefined)"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539759552, "post_id": 52848547, "comment_id": 92613631, "body": "The safest bet is using undefined. If the function doesn&#39;t handle that, it probably shouldn&#39;t make those parameters optional in the first place since <code>user(&quot;Jack&quot;)</code> is the same as <code>user(&quot;Jack&quot;, undefined, undefined)</code>, so why make something optional if it can&#39;t handle absent parameters."}, {"owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539759619, "post_id": 52848547, "comment_id": 92613667, "body": "@IngoB&#252;rk Yeah agree with that point. Any particular reason why you rule out <code>null</code> and let <code>undefined</code> be the safest ?"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539759781, "post_id": 52848547, "comment_id": 92613747, "body": "Because null isn&#39;t the same as undefined, so without knowing the implementation we just don&#39;t know what the function would do on null. It might just throw an error. Maybe. As I said, it depends on how it&#39;s implemented."}, {"owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1539759840, "post_id": 52848547, "comment_id": 92613786, "body": "@IngoB&#252;rk yeah. thank you for your thoughts."}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1539763518, "post_id": 52848547, "comment_id": 92615711, "body": "Always use undefined. When you&#39;re not passing optional parameters <code>undefined</code> is passed automaticaly. When you have to pass optional parameters, like in your case, use <code>undefined</code> manually.  <code>define testMethod(id, name?)</code> ---&gt; <code>call testMethod(1)</code> ---&gt; <code>name === undefined</code> --&gt; <code>arguments[1] === undefined</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 0, "creation_date": 1539778713, "post_id": 52848547, "comment_id": 92624522, "body": "If neither optional parameters are supplied then both will be <code>undefined</code>. So if you want to skip the first and supply the second then <code>undefined</code> seems like the best option because that&#39;s already what the function should be expecting as a possible incoming value. Also, you might be interested in turning on <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html\" rel=\"nofollow noreferrer\">strict null checks</a> which will prevent <code>null</code>s from being passed to things expecting <code>undefined</code>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 3, "creation_date": 1539778293, "post_id": 52854522, "comment_id": 92624249, "body": "It doesn&#39;t state that you should always use undefined, it states you should always use undefined when you&#39;re contributing to the TS codebase ... &quot;These are Coding Guidelines for Contributors to TypeScript. This is NOT a prescriptive guideline for the TypeScript community.&quot; and they continue to drive the message home &quot;AGAIN: This is NOT a prescriptive guideline for the TypeScript community&quot;"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539779138, "post_id": 52854522, "comment_id": 92624801, "body": "<i>Anyway check here, undefined...</i> The link explains the subject in the javascript context. If you want to know what&#39;s correct for TS, please see my answer, it is 100% legit"}, {"owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "reply_to_user": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539779430, "post_id": 52854522, "comment_id": 92624952, "body": "@NurbolAlpysbayev I think it would not do any harm right ?"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539779582, "post_id": 52854522, "comment_id": 92625040, "body": "The link? If yes, then the link is correct in JS context. Moreover it is correct for Typescript too, because it&#39;s superset of JS. But the subject is about Typescript, so I thought you wanted to know what is correct way from the <i>type system</i> point of view."}, {"owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "reply_to_user": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1539780722, "post_id": 52854522, "comment_id": 92625757, "body": "@NurbolAlpysbayev agree on your understanding. I just needed to highlight the difference between those two."}], "tags": [], "owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "is_accepted": false, "score": -1, "last_activity_date": 1539779021, "last_edit_date": 1592644375, "creation_date": 1539778002, "answer_id": 52854522, "question_id": 52848547, "link": "https://stackoverflow.com/questions/52848547/what-to-pass-for-typescript-optional-parameter-when-there-is-no-exact-value-to-s/52854522#52854522", "title": "What to pass for TypeScript optional parameter when there is no exact value to specify, &#39;undefined&#39; or &#39;null&#39;?", "body": "<p>Well I found this  <a href=\"https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines#null-and-undefined\" rel=\"nofollow noreferrer\">The Typescript coding style guide</a> which states that you should always use undefined and not null,</p>\n<blockquote>\n<p><strong>null</strong> and <strong>undefined</strong></p>\n<ul>\n<li>Use undefined. Do not use null.</li>\n</ul>\n</blockquote>\n<p>Anyway check <a href=\"https://stackoverflow.com/questions/5076944/what-is-the-difference-between-null-and-undefined-in-javascript\">here</a>,\n<code>undefined</code> means a variable has been declared but has not yet been assigned a value.\n<code>null</code> is an assignment value. It can be assigned to a variable as a representation of no value. So to serve the purpose of <code>optional</code> I think <code>undefined</code> would be better.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 0, "creation_date": 1539778808, "post_id": 52854601, "comment_id": 92624592, "body": "It&#39;s only illegal if you have <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html\" rel=\"nofollow noreferrer\">strictNullChecks</a> enabled, which is a good idea IMO."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 1, "creation_date": 1539778941, "post_id": 52854601, "comment_id": 92624665, "body": "@AndyJ I forgot about that, because in any project the first thing I do is enabling <code>strict: true</code>. Non-strict typescript is weird for me."}, {"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 0, "creation_date": 1539779004, "post_id": 52854601, "comment_id": 92624704, "body": "Yep, I do the same."}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 3, "last_activity_date": 1539779230, "last_edit_date": 1539779230, "creation_date": 1539778245, "answer_id": 52854601, "question_id": 52848547, "link": "https://stackoverflow.com/questions/52848547/what-to-pass-for-typescript-optional-parameter-when-there-is-no-exact-value-to-s/52854601#52854601", "title": "What to pass for TypeScript optional parameter when there is no exact value to specify, &#39;undefined&#39; or &#39;null&#39;?", "body": "<p>You should use undefined. </p>\n\n<p>This:</p>\n\n<pre><code>lastName?: string\n</code></pre>\n\n<p>tells us that <code>lastName</code> parameter has type of <code>string | undefined</code>. So using <code>null</code> would be illegal (in strict mode, which is kinda good). Use undefined.</p>\n"}], "owner": {"reputation": 11076, "user_id": 2523147, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ogeU4.gif?s=128&g=1", "display_name": "prime", "link": "https://stackoverflow.com/users/2523147/prime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3590, "favorite_count": 0, "closed_date": 1539779121, "answer_count": 2, "score": 2, "last_activity_date": 1539779230, "creation_date": 1539757830, "last_edit_date": 1539758887, "question_id": 52848547, "link": "https://stackoverflow.com/questions/52848547/what-to-pass-for-typescript-optional-parameter-when-there-is-no-exact-value-to-s", "closed_reason": "Duplicate", "title": "What to pass for TypeScript optional parameter when there is no exact value to specify, &#39;undefined&#39; or &#39;null&#39;?", "body": "<p>I have below function in TypeScript (which i can't change the order of the parameters),</p>\n\n<pre><code>user(firstName: string, lastName?: string, address?: string);\n</code></pre>\n\n<p>When in the case where I need to only pass <code>firstName</code> and <code>address</code> what is the better/suitable/recommended value to pass as the <code>lastname</code> ?</p>\n\n<pre><code>case 1: user(\"Jack\", undefined, \"NY\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>case 2: user(\"Jack\", null, \"NY\");\n</code></pre>\n\n<p>What are the pros and cons of each approach ?</p>\n"}, {"tags": ["c#", "json", "angular", "typescript", "http"], "answers": [{"comments": [{"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1539758991, "post_id": 52848707, "comment_id": 92613352, "body": "I have tried this. Stil get the same error in the console"}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "reply_to_user": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1539759168, "post_id": 52848707, "comment_id": 92613443, "body": "Can you post the request sent and the response received?"}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "edited": false, "score": 0, "creation_date": 1539760984, "post_id": 52848707, "comment_id": 92614376, "body": "Your updated data looks all good. My mistake, obviously responseType is not a header-paramter but an Angular HttpClient param. I updated the answer."}, {"owner": {"reputation": 400, "user_id": 1568195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c38ba4b5bf03d27c02577bafffbb5c?s=128&d=identicon&r=PG&f=1", "display_name": "LeBavarois", "link": "https://stackoverflow.com/users/1568195/lebavarois"}, "edited": false, "score": 4, "creation_date": 1564733937, "post_id": 52848707, "comment_id": 101135569, "body": "When doing this in Angular 8 (using HttpClient) I get the error &quot;Type &#39;&quot;application/octet-stream&quot;&#39; is not assignable to type &#39;&quot;json&quot;&#39;.ts&quot;  Is there a similar solution for Angular 8, where HttpClient has to be used?"}, {"owner": {"reputation": 1553, "user_id": 1580548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTIny.jpg?s=128&g=1", "display_name": "ddagsan", "link": "https://stackoverflow.com/users/1580548/ddagsan"}, "reply_to_user": {"reputation": 400, "user_id": 1568195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c38ba4b5bf03d27c02577bafffbb5c?s=128&d=identicon&r=PG&f=1", "display_name": "LeBavarois", "link": "https://stackoverflow.com/users/1568195/lebavarois"}, "edited": false, "score": 0, "creation_date": 1590954685, "post_id": 52848707, "comment_id": 109870113, "body": "when I set responseType: &#39;text/csv&#39; or somehing, I get error what @LeBavarois&#39;s has. only json settable for responseType (on angular 9.1.0)"}, {"owner": {"reputation": 400, "user_id": 1568195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c38ba4b5bf03d27c02577bafffbb5c?s=128&d=identicon&r=PG&f=1", "display_name": "LeBavarois", "link": "https://stackoverflow.com/users/1568195/lebavarois"}, "reply_to_user": {"reputation": 1553, "user_id": 1580548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTIny.jpg?s=128&g=1", "display_name": "ddagsan", "link": "https://stackoverflow.com/users/1580548/ddagsan"}, "edited": false, "score": 1, "creation_date": 1591107029, "post_id": 52848707, "comment_id": 109925809, "body": "@ddagsan I meanwhile solved this problem, check out my answer below"}, {"owner": {"reputation": 232, "user_id": 7032513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-36T7ZKYmMoo/AAAAAAAAAAI/AAAAAAAAEN4/H-6H-w2jbto/photo.jpg?sz=128", "display_name": "Kevin Oswaldo", "link": "https://stackoverflow.com/users/7032513/kevin-oswaldo"}, "reply_to_user": {"reputation": 400, "user_id": 1568195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c38ba4b5bf03d27c02577bafffbb5c?s=128&d=identicon&r=PG&f=1", "display_name": "LeBavarois", "link": "https://stackoverflow.com/users/1568195/lebavarois"}, "edited": false, "score": 0, "creation_date": 1612469442, "post_id": 52848707, "comment_id": 116784310, "body": "@LeBavarois I had to do this in my http request { responseType: &#39;blob&#39; as &#39;json&#39;});"}], "tags": [], "owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "is_accepted": true, "score": 6, "last_activity_date": 1591112251, "last_edit_date": 1591112251, "creation_date": 1539758529, "answer_id": 52848707, "question_id": 52848018, "link": "https://stackoverflow.com/questions/52848018/download-xls-file-using-angular-unexpected-token-p-in-json-at-position-0-at-js/52848707#52848707", "title": "Download .xls file using Angular: Unexpected token P in JSON at position 0 at JSON.parse (&lt;anonymous&gt;)", "body": "<p>You can set the <code>responseType</code> in the get-request directly like this:</p>\n\n<pre><code>return this.http.get(endpoint, { responseType: 'application/octet-stream'});\n</code></pre>\n\n<p><strong>Edit June 2020</strong> - in Angular 9 there are four response types supported: <code>'arraybuffer'|'blob'|'json'|'text'</code>. So <code>'application/octet-stream'</code> would need to be replaced with <code>'blob'</code> as @ryan-e pointed out in his <a href=\"https://stackoverflow.com/a/59332107/1423259\">answer</a>.</p>\n\n<p>More information is <a href=\"https://angular.io/api/common/http/HttpClient#get\" rel=\"nofollow noreferrer\">here</a> in the docs.</p>\n\n<p>Your <code>content-type</code> header is only used for the request-header, it does not influence the response. </p>\n"}, {"comments": [{"owner": {"reputation": 1597, "user_id": 1301933, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/mo5ks.jpg?s=128&g=1", "display_name": "RicardoGonzales", "link": "https://stackoverflow.com/users/1301933/ricardogonzales"}, "edited": false, "score": 0, "creation_date": 1584047131, "post_id": 59332107, "comment_id": 107324865, "body": "Same result with angular 8+"}], "tags": [], "owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "is_accepted": false, "score": 7, "last_activity_date": 1576295209, "last_edit_date": 1576295209, "creation_date": 1576294485, "answer_id": 59332107, "question_id": 52848018, "link": "https://stackoverflow.com/questions/52848018/download-xls-file-using-angular-unexpected-token-p-in-json-at-position-0-at-js/59332107#59332107", "title": "Download .xls file using Angular: Unexpected token P in JSON at position 0 at JSON.parse (&lt;anonymous&gt;)", "body": "<p>For Angular 8+</p>\n\n<pre><code>return this.http.get(endpoint, { responseType: 'blob'});\n\nreturn this.http.post(endpoint, postParams, { responseType: 'blob'});\n</code></pre>\n\n<p>It is subtle but if you look at the docs you will notice <code>http.post</code> and <code>http.get</code> does not take a generic return type of <code>&lt;T&gt;</code> when we set <code>responseType: 'blob'</code>.  So we don't need the <code>&lt;Blob&gt;</code> part in <code>http.get&lt;Blob&gt;</code> anymore.  Which makes sense when you think about it since we are telling HttpClient the response is of type <code>blob</code> with <code>responseType: 'blob'</code>.</p>\n\n<p><a href=\"https://angular.io/api/common/http/HttpClient#post\" rel=\"noreferrer\">https://angular.io/api/common/http/HttpClient#post</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5a7sD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5a7sD.png\" alt=\"Angular 8 HttpClient blob doc\"></a></p>\n\n<p>If you need something besides 'blob' here are the other options available for responseType.</p>\n\n<pre><code>responseType: 'arraybuffer' | 'blob' | 'json' | 'text'\n</code></pre>\n\n<p><a href=\"https://angular.io/api/common/http/HttpRequest#responseType\" rel=\"noreferrer\">https://angular.io/api/common/http/HttpRequest#responseType</a></p>\n"}, {"comments": [{"owner": {"reputation": 232, "user_id": 7032513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-36T7ZKYmMoo/AAAAAAAAAAI/AAAAAAAAEN4/H-6H-w2jbto/photo.jpg?sz=128", "display_name": "Kevin Oswaldo", "link": "https://stackoverflow.com/users/7032513/kevin-oswaldo"}, "edited": false, "score": 0, "creation_date": 1612469479, "post_id": 62121850, "comment_id": 116784325, "body": "In case it does not allow you to simple change the response type, you can have { responseType: &#39;blob&#39; as &#39;json&#39;});"}], "tags": [], "owner": {"reputation": 1553, "user_id": 1580548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTIny.jpg?s=128&g=1", "display_name": "ddagsan", "link": "https://stackoverflow.com/users/1580548/ddagsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1590955525, "creation_date": 1590955525, "answer_id": 62121850, "question_id": 52848018, "link": "https://stackoverflow.com/questions/52848018/download-xls-file-using-angular-unexpected-token-p-in-json-at-position-0-at-js/62121850#62121850", "title": "Download .xls file using Angular: Unexpected token P in JSON at position 0 at JSON.parse (&lt;anonymous&gt;)", "body": "<p>I resolve this On angular 9.1.0 with following code:</p>\n\n<pre><code>result = this._httpClient.get(url,\n{\n  responseType: 'blob',\n  headers: headers\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 1568195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c38ba4b5bf03d27c02577bafffbb5c?s=128&d=identicon&r=PG&f=1", "display_name": "LeBavarois", "link": "https://stackoverflow.com/users/1568195/lebavarois"}, "is_accepted": false, "score": 4, "last_activity_date": 1591106756, "creation_date": 1591106756, "answer_id": 62153918, "question_id": 52848018, "link": "https://stackoverflow.com/questions/52848018/download-xls-file-using-angular-unexpected-token-p-in-json-at-position-0-at-js/62153918#62153918", "title": "Download .xls file using Angular: Unexpected token P in JSON at position 0 at JSON.parse (&lt;anonymous&gt;)", "body": "<p>I resoloved the problem in Angular 9.1.4 by using responseType blob and setting type in BlobPropertyBag later, e.g. for Excel files:</p>\n\n<pre><code> return this.httpClient.get(url, {\n  responseType: 'blob',\n  params: queryParams\n})\n  .pipe(\n    map((res: any) =&gt; {\n      const blob = new Blob([res], {type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});\n      return blob;\n    })\n  );\n</code></pre>\n"}], "owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7754, "favorite_count": 0, "accepted_answer_id": 52848707, "answer_count": 4, "score": 8, "last_activity_date": 1591112251, "creation_date": 1539755281, "last_edit_date": 1539765080, "question_id": 52848018, "link": "https://stackoverflow.com/questions/52848018/download-xls-file-using-angular-unexpected-token-p-in-json-at-position-0-at-js", "title": "Download .xls file using Angular: Unexpected token P in JSON at position 0 at JSON.parse (&lt;anonymous&gt;)", "body": "<p>I have the following server method for returning an <code>byte[]</code> for an <code>xls</code> document stored in <code>Azure Blob Storage</code>.</p>\n\n<pre><code>[FunctionName(\"ReadBatchFile\")]\n        public async static Task&lt;HttpResponseMessage&gt; ReadBatchFile([HttpTrigger(AuthorizationLevel.Function, WebRequestMethods.Http.Get, Route = \"Agreements/ReadBatchFile\")]HttpRequestMessage req, TraceWriter log)\n        {\n            try\n            {\n                var fileName = req.GetQueryNameValuePairs()\n                   .FirstOrDefault(q =&gt; string.Compare(q.Key, \"fileName\", true) == 0)\n                   .Value;\n                var response = new HttpResponseMessage(HttpStatusCode.OK);\n                response.Content = new ByteArrayContent(await AzureHelpers.ReadFromBlobStorage(fileName));  //returns byte[] \n                response.Content.Headers.ContentDisposition = new System.Net.Http.Headers.ContentDispositionHeaderValue(\"attachment\") { FileName = fileName };\n                response.Content.Headers.ContentType =\n                    new MediaTypeHeaderValue(\"application/octet-stream\");\n                return response;\n            }\n            catch (Exception ex)\n            {\n                log.Error(ex.Message);\n                req.CreateResponse(HttpStatusCode.InternalServerError);\n            }\n            return req.CreateResponse(HttpStatusCode.BadRequest);\n        }\n</code></pre>\n\n<p>As can be seen from the above, the <code>response.Content</code> is set an <code>ByteArrayContent</code> and my <code>contentType</code> is <code>application/octet-stream</code>.</p>\n\n<p>In <code>Angular</code>, I have the following method in my service to call the above function.</p>\n\n<pre><code>readBatchFile(fileName: string): Observable&lt;Blob&gt; {\n    let endpoint = environment.endpoints.agreement.baseUrl + environment.endpoints.agreement.readBatchFile + \"&amp;fileName=\" + fileName;\n    const httpOptions = {\n      headers: new HttpHeaders({ contentType: 'application/octet-stream' })}; //application/vnd.ms-excel   application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\n    return this.http.get&lt;Blob&gt;(endpoint, httpOptions);\n  }\n</code></pre>\n\n<p>Although I am specifying that the <code>contentType</code> is <code>application/octet-stream</code>, and that my <code>get</code> method should return a <code>Blob</code> type, I still get the following error:</p>\n\n<blockquote>\n  <p>Unexpected token P in JSON at position 0\u21b5    at JSON.parse\n  ()</p>\n</blockquote>\n\n<p>Why is <code>Angular</code> still seeing the response from the server as <code>JSON</code>?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here is my request headers:</p>\n\n<pre><code>Accept: application/json, text/plain, */*\nAuthorization: Bearer ...\nOrigin: http://localhost:4200\nReferer: http://localhost:4200/batches\nresponseType: application/octet-stream\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36\n</code></pre>\n\n<p>Response Headers:</p>\n\n<pre><code>Access-Control-Allow-Origin: *\nCache-Control: no-cache\nContent-Disposition: attachment; filename=B4debe034-efc6-416f-8082-422a4122a857_MTN_Upgrade_20181017_T065548.xls\nContent-Length: 3011\nContent-Type: application/octet-stream\nDate: Wed, 17 Oct 2018 06:55:48 GMT\nExpires: -1\nPragma: no-cache\nServer: Microsoft-IIS/10.0\nX-Powered-By: ASP.NET\n</code></pre>\n\n<p>And the Response:</p>\n\n<pre><code>PK\u00f86QM\u00e4H\u00ad\u00af3[Content_Types].xml\u00b5\u00cfJ1\u00c6_e\u00c9U\u00b4D\u00a4\u00db\u00aaU\u00b0&gt;\u00c0\u00ccvC\u00f3\u00cc\u00b4\u00b6oo6+\"\u00a5z$\u00df\u00cc\u00f7\u00fd3_\u00bck\u00f6\u00c9\u00c6\u00d0\u00c6M+\u00de\u00d6[\u00d1C0\u00e0b\u00c0V\u00c4r1_RSf\u00b5\u00a2gNwJ\u00ee\u00d1\u00c90\u00a5\u00d9k\u00de\u00a8zT\u00d7\u00d3\u00e9\u00d210\u00f0\u00e0!\u00f3{\u00ec`\u00e7\u00b8Y\u00efu+ %g5p\u00c1R\u00c5L4\"\u00c3]\u00fdan\u00cc    \u00cc\u00e4Dft\u00b5z\u00e8\u00ea4\u00a0\u00a84$&lt;\u00c9\u00d6\u00e0\u00bf\"b\u00d7Y&amp;\u00ea/#RF0\u00d4#\u00b2w\u00b2V\u00e9\u00c11\u00f42?/\u00ae\u00ea\u00e0\u00d4G\u00cc\u00db\u00f7\u00b7\u00b2j\"\u00ea\u00f9\u00b7\u00fc*\u00aaevA\u00e2\u00a3C:G1*\u00ee!\u00a3y\u00e5\\\u00fc&lt;\u00c1\u00cfoU~\u00f1   PK\u00e4H\u00ad\u00af3PK\u00f86QM\u00da\u00eb\u00ae'_rels/.rels\u00cf\u00c10\u00e0WYzc1\u00e1j\u00f0\u00e6V\u00d6e\no\u00efb&lt;xl\u00fa\u00f7\u00fb\u00d3\u00b2^\u00e6=\u00d1\u00ac\"\u00cb\u00a1U\u00a4k\u00dc\u00da\u00cb\u00ee,Di\u00b5\u00c8\u00a2\u00d4Uy\u00c5I\u00c6t\u00fa\u00c1\u00f41\u00ba\u00e7A\u00f58\u00cbC6\u00f9Y\u00c64z\u00c3T\u00a34\u00c8\u00f7y~\u00e0\u00fe\u00d3\u00ad\u00c9-\u00c07\u00ba\u00d6\u00ae\u00ff\u00b1\u00a9\u00ebgRm\u00fcQ\u00f1H\u00b2\u00f4\u00a3e\u00e2/\u00f2\u00e3h\u00cc\n\u00bc*\u00f9\u00e6\u00c1\u00ea\nPK\u00da\u00eb\u00ae'PK\u00f86QM\u00e6l($\u00d7Sxl/workbook.xmlO\u00bdN\u00c40~\u00c8;\u00c2pBU\u00db`9    \u00e9{Hkt]9)\u00e5\u00ddx$^\u00f4\u00aa\nF&amp;\u00f6\u00f7c\u00fb\u00fb\u00f3\u00ab9|\u00c4\u00a0\u00deQgj\u00e1vWB\u00b2\u00dc{:\u00b70ews\u00aeY.o\u00ccU\u00d4jia\u00c8y\u00ac\u00b5Nv\u00c0h\u00d2G\u00a4\u00c29hri\u00e5\u00ac\u00d99o\u00f1\u00ed\u00b2\u00be\u00ab\u00aa\u00bd&amp;Mi\u00f0c5\u00ed?Yi4}skT4\u00a0k\u00ab^=\u00ce\u00e9\u00f7\u00c8\u00a5U\u00bak\u00f4\u00eej\u00dd\u00aa\"\u00b1$Mu\u00fb\u00f2&gt;(\u00a9}r\u00ec^26\u00a35\u00c1&gt;rS\u00e8\u00cd\u00eaXT\u00db\u00ea\u00eePK\u00e6l($\u00d7SPK\u00f86QMb\u00a2\u00d64xl/_rels/workbook.xml.rels\u00ad\u00cfj\u00c30_\u00c5\u00e8\u00be8\u00e9`Q\u00b71\u00e8\u00b5@\u00d8J\u00d8\u00c6\u00d2\u00da\u00e5\u00edk6VR(cd\u00f4\u00fd&gt;\u00ac\u00e5\u00fak\u00d42\u00f71h\u00aa]:\u00fd\u00c7\u00d3+(\u00c8\u00c0D\u00eb\u00d5rKJYa\u00df'V\u00d8IoZ\u00b3\u00f54\"W1Q(/m\u00cc#Jis\u00a7\u00da#v\u00a4u\u00fd\u00a2\u00f3\u00b7L\u00b5q\u00f2\u00c65\u00a0\u00f6S\u00a2\u00ff\u00b0c\u00db\u00f6\u00de\u00a3\u00fd)\u00c8}\u00f9\u00c8H\nsGb\u00e0:b\u00fd]\u00aaPA\u00dfY&lt;Re\u00ca_^M~\u00fa\u00bf\u00e2\u00ef1\u00dbI.[\u00cc\u00c7\u00bf2\u00fa\u00e6\u00da\u00abPKb\u00a2\u00d64PK\u00f86QM\u00c4\u00ce\u00abh\u00efxl/worksheets/sheet1.xml\u00cbr0F_a_\u00d0\u00fd\u00e2\u00b1I\u00e3:\u00f1\u00ae\u00d3E\u00bb\u00a6\u00b6\u00e4pw\u00eb\u00a2\u00d4W\u00a8\u00c0\u00c47 \u00d0\u00f9~I\n\u00f0\u00ef\u00cf\u00df\u00f9\u00c3G~\u00de\u00b1.!@\u00a8b\u00abwY\u00f1\u00baO\u00e5\u00fe\u00f3\u00b36o6U\u00aa^\u00d8YiYgql\u00b7\u00a9\u00ca\u00e9\u00a3*\\\u00df^&lt;)\u00dd\u00a5y\u00f5~m\u00d5JoO\u00b9*\u00ca\u00c0b\u00a3I\u00e9\u00b2iv\u00b4\u00e1\u00a5\u00da=\u00b5\u00ec\u00d1\u00a8dWO!?\\J\u00e5IV\u00cb\u00f9.s\u00d5\u00ab\u00d9F\u00ed\u00e1#mH\u00c4\u00cby\n\u00ff\u00cc\u00d4\u00d9\u00de\u00b4j%\u00bf\u00b5~\u00ab.6\u00bbEj6\u00f6\u00e0u=\u00f8w\u00ec\u00d4&gt;9\u00ca\u00fa\u00fc\u00a2\u00b2\u00d7\u00b4th\u00d9\u00ea\u00adAU\u00ea\u00c2 O&gt;\u00ea\u00f39\u00db\u00a9k\u00a1!\u00c2\\\u00c7\u00f6dK\u00ffj\u00ba\u00c3\u00f8&amp;8j\u00e3&lt;J\u00b1LF\u00e3\u00b8\u00e3\u00db\u00d1!\u00c5  $\u00c6I'\u00b7q! \u00a5\n\u00ce)&lt;m\u00e2\u00f4\u00c7e!8\u00c0\u00d1\u00d18k\u00e2\u00ec\u00c0\n/\u00b3\u00d18o\u00e2\u00fcg#&amp;\u00a5 \u00abM\\\\\u00e3 p\u00bdCl\u00e2\u00f2\u00a7n\u00f2Hp\u00a1t\u00d2\u00f1e\u00f3\u00d4;m\u00c9rn\u00f490U\u00af+]5q[oO\u00b7\u00e3\u00ac\u00bb\u00fb\u00be\u00f3\u00f8\u00bd6\u00c4W]\u00e2\u00c9'PX\u00f9\u00ee\u00df|t\u00b5O\u00d0.\u00f1\u00ec\u00acK\u00bc\u00f8\u00ef-;{\u00adB\u00d4*D^D\u00f6\u00fa\u00ecY~@zWH-c    \"$\u00a7C\"z6\u00a7\u00ab\u00ad\u00deS{@z\u00edezeQ\u00a4\u00a3\u00b7J\u00f1\u00a4R\u00f0 }\u00a5\u00f8~\u00a5\u00d3\u00d5\u00d6H_\u00e9\u00d2W:\u00bd\u00b2\u00cd(\u00d2QJZ\u00a5dR\u00a9OxJ\u00beRr\u00bf\u00d2\u00e9j\u00eb\u00a4\u00aft\u00e9+^\u00d9f\u00b9(o\u00de\u00a3\u00a9\u00fbMPf\u00adu\u00a9L\u00fdeo]\u00ffPK\u00c4\u00ce\u00abh\u00efPK\u00f86QM\"t\u00db4S\u00ce\nxl/styles.xmlR\u00bdn\u00c3 ~\u00c4\u00deGjUU\u00b63T\u00b2\u00d4%K:t\u00c56\u00d8Hp \u00c0\u00ddW\u00eb\u00d0G\u00ea+\u00b08Q\u00a5Lw|\u00fe~\u00f0?_\u00df\u00f9~TuBC\u00b3\u00cd#nt&lt;x\u00c6\u00fb2w~\u00ec\u00d83\u00e6Q\u00e0+p\u00ef\u00bdy!\u00c45=S\u00d4m\u00b4a\u00bepm\u00f5\u00e1h;\u00e2e\u00b4uQ\u00a4$\u00d9m\u00b7ODQ\u00b8\u00ccaP\u00f25z_\u00e0I\u00cak\u00b8@\u00fcNT$K,\u00a0\u00cd\u00c0+\u00a2\u00b6\"\u00a1d\u00e6\u00a6\u00e2RHy\u00b6\u00da\u00e1(sC\u00bdg\u00aap@K\u00ff&gt;V`\u00d0\u00c0D\u00bcC\u00ef,\u00b2\u00dd\u00e3ZJH\u00ae\u00b5m\u00c3,\u00d7\u00bf1Ce.\u00f7QaE\u00d7\u00a7\u00c6kK\u00ad\u00bd\u00d7*v\u00ad\u00a0*\u00efliw\u00c3\u00a4&lt;\u00c6=|\u00f0\u00ab\u00a3y\u00a0ome\u00c2\u00d2F\u00a3\u00b5l6\u00b9\u00a3\u00a7\u00c6\u00c8\u00e90\u00a8\u00d9*\u00ad3\u00d2\u00d6\u00aeP\u00e9YF~v\u00ceI\u00a9WQg\u00c5=\u00f8\u00fd\u00e5\u00ca\u00a3\u00f4\u00fe\u00bb~0mG~\u00f3h\u00c8\u00e5a\u00bfPK\"t\u00db4S\u00cePK\u00f86QMP\u00f9\u00fbxl/sharedStrings.xmlm]k0\u00ffJ\u00c8}h][Z2\u00e82\u00d0\u00fe\u00a0\u00c7fs\u00db\u00bf_\u00c6\u00d8\u00d6\u00cb&lt;\u00cf\u00c4=\u00b1wp8Z\u00f0`/9\u00d3\u00d8v4}\u00c2o\u00f5\u00f3\u00ee\u00cc2\u00ad\u00acrvIcDb\u00fe\u00aa\u00c1D\u00f3\u00a3\u00d8\u00a0\u00ee\u00ed\u00c6\u00ce:\u00ad\u00c8]/pv\u00a0ZHO\"\u00f2(\u00b4\ng]\u00f9\u00b2g\u00df\u00c8\u00fe/1\u00a61\u00a5Eu\u00ad\u00f22\u00c6\u00e2\u00fc\u00d0\u00eaZ\u00b0\u00d2\u00aeij\u00c72\u00db\u00c2Rt\u00c7^T\u00f3\u00aaz\u00d8\u00cc\u00ff\u00baZ\u00b9\u00b1\u00eb6#O\n\u00f9\u00a51\u00beo$h\u00d7\u00be\u00a8K\u00fb\u00a5m\u00f1\u00ccj\np\u00ed\u00e4)\u00d1\u00c3\u00f1t^WdT6p \u00e5Nkq{\u00a7\u00fe!\u00fc\u00a6_PKP\u00f9\u00fbPK-\u00f86QM\u00e4H\u00ad\u00af3[Content_Types].xmlPK-\u00f86QM\u00da\u00eb\u00ae'Y_rels/.relsPK-\u00f86QM\u00e6l($\u00d7S@xl/workbook.xmlPK-\u00f86QMb\u00a2\u00d64Txl/_rels/workbook.xml.relsPK-\u00f86QM\u00c4\u00ce\u00abh\u00efrxl/worksheets/sheet1.xmlPK-\u00f86QM\"t\u00db4S\u00ce\n xl/styles.xmlPK-\u00f86QMP\u00f9\u00fb\u00aexl/sharedStrings.xmlPK\u00c2\u00eb   \n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 116, "user_id": 2407717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23731c5051c913f2ef324f56cff22cba?s=128&d=identicon&r=PG", "display_name": "gbelisario", "link": "https://stackoverflow.com/users/2407717/gbelisario"}, "edited": false, "score": 0, "creation_date": 1539751538, "post_id": 52847415, "comment_id": 92610681, "body": "Related: <a href=\"https://stackoverflow.com/questions/46795955/how-to-know-scroll-to-element-is-done-in-javascript\" title=\"how to know scroll to element is done in javascript\">stackoverflow.com/questions/46795955/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1402, "user_id": 9076175, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/85767cc26223403eb106915c541c82d4?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/9076175/neha"}, "is_accepted": false, "score": 0, "last_activity_date": 1539753307, "last_edit_date": 1539753307, "creation_date": 1539752106, "answer_id": 52847521, "question_id": 52847415, "link": "https://stackoverflow.com/questions/52847415/check-if-scrollintoview-is-completed/52847521#52847521", "title": "Check if scrollIntoView is completed", "body": "<p>hope this helps..</p>\n\n<pre><code>  var scrollIntoviewCompleted = false;\n  var currentVisible = false;\n  var onceVisible = false;\n  $(window).scroll(function(){\n     $.fn.isOnScreen = function(){\n        var element = this.get(0);\n        var bounds = element.getBoundingClientRect();\n        return bounds.top &lt; window.innerHeight &amp;&amp; bounds.bottom &gt; 0;\n    }\n        if ($('.targetdiv').isOnScreen()) {\n            currentVisible = true;\n            onceVisible =true;\n        } \n        else\n        {\n            currentVisible = false;\n        }\n        if(onceVisible == true &amp;&amp; currentVisible == false){\n            scrollIntoviewCompleted = true;\n            console.log(\"scrollIntoViewCompleted\");\n        }\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21215, "user_id": 79677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc1ca130deb434dfe5bcc19fbbebe48a?s=128&d=identicon&r=PG&f=1", "display_name": "CBarr", "link": "https://stackoverflow.com/users/79677/cbarr"}, "is_accepted": false, "score": 0, "last_activity_date": 1557516163, "creation_date": 1557516163, "answer_id": 56083702, "question_id": 52847415, "link": "https://stackoverflow.com/questions/52847415/check-if-scrollintoview-is-completed/56083702#56083702", "title": "Check if scrollIntoView is completed", "body": "<p>Based on <a href=\"https://stackoverflow.com/a/51142522/79677\">an answer in this question</a> I was able to make this for my tests... and this assumes that you are <code>@Inject</code>ing <code>window</code> into your angular components</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let win: Window;\n\nconst onScrollEnd = (fn: () =&gt; void): void =&gt; {\n    let scrollTimeout: number | undefined;\n    const listener = (): void =&gt; {\n        win.clearTimeout(scrollTimeout);\n        scrollTimeout = win.setTimeout(() =&gt; {\n            win.removeEventListener('scroll', listener);\n            fn();\n        }, 100);\n    };\n    win.addEventListener('scroll', listener);\n};\n\nbeforeEach(() =&gt; {\n    //Standard component test setup stuff goes here...    \n\n    win = TestBed.get('Window');\n});\n</code></pre>\n\n<p>And then in my test I can do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>it('should scroll the window down when...', (done: DoneFn) =&gt; {\n    component.shouldScroll = true;\n    fixture.detectChanges();\n\n    onScrollEnd(() =&gt; {\n        expect(win.scrollY).toBeGreaterThan(0);\n        done();\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 1288906, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/533c71b724b5920b37bdaf336bfff63d?s=128&d=identicon&r=PG", "display_name": "user1288906", "link": "https://stackoverflow.com/users/1288906/user1288906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2843, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1608565547, "creation_date": 1539751358, "last_edit_date": 1608565547, "question_id": 52847415, "link": "https://stackoverflow.com/questions/52847415/check-if-scrollintoview-is-completed", "title": "Check if scrollIntoView is completed", "body": "<p>I am using the following function in a single page application in Angular. When I click on the menu item, I scroll to the relevant div.</p>\n<pre><code>scroll (el) {\n    this.sharedService.isClicked.next(true);\n    el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n}\n</code></pre>\n<p>How do I check if the element has finished scrolling? I want to avoid the <code>setTimeout</code> function.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 1, "creation_date": 1539751841, "post_id": 52847407, "comment_id": 92610759, "body": "can you show your html code also"}, {"owner": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "reply_to_user": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 1, "creation_date": 1539752497, "post_id": 52847407, "comment_id": 92610929, "body": "@harkeshkumar html added"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "reply_to_user": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "edited": false, "score": 1, "creation_date": 1539754560, "post_id": 52847507, "comment_id": 92611586, "body": "Yo, @AravindaMeewalaarachchi, why not use the *ngFor directive to dynamically generate elements. Also, use an array of Boolean type instead of creating a variable every time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "reply_to_user": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "edited": false, "score": 0, "creation_date": 1539754617, "post_id": 52847507, "comment_id": 92611610, "body": "...and what template are you talking about? Please elaborate."}, {"owner": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "edited": false, "score": 0, "creation_date": 1539755796, "post_id": 52847507, "comment_id": 92612002, "body": "Oh thanx dude..that is a such a great idea...i will look foreword to that....Template means my app.components.html"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "reply_to_user": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "edited": false, "score": 1, "creation_date": 1539755978, "post_id": 52847507, "comment_id": 92612059, "body": "If you share your code on stackblitz, I might be able to suggest the required changes."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "is_accepted": false, "score": 2, "last_activity_date": 1539753464, "last_edit_date": 1539753464, "creation_date": 1539752008, "answer_id": 52847507, "question_id": 52847407, "link": "https://stackoverflow.com/questions/52847407/mapping-multiple-click-events-to-a-single-method/52847507#52847507", "title": "Mapping multiple click events to a single method", "body": "<p>Are the buttons toggle switches? I'm asking because the implementation is like that. </p>\n\n<p>You could use <code>eval</code> :</p>\n\n<pre><code>clickEvent(id) {\neval(`this.status${id} = !this.status${id};`)\n}\n</code></pre>\n\n<p>PS: Notice that the expression in eval is quoted inside <code>|``|</code> and not normal <code>|''|</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "edited": false, "score": 0, "creation_date": 1539753809, "post_id": 52847513, "comment_id": 92611336, "body": "Thank you @Sarthak. This approach is nice but need to reduce the number of status variables also...is their any way to set a id for the div and parse it to the clickEvent? and also div tags can be also add dynamically up to max 10 div&#39;s"}, {"owner": {"reputation": 2026, "user_id": 7812112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I9HJf24huv0/AAAAAAAAAAI/AAAAAAAAAmM/Lcp1K2SE1Kk/photo.jpg?sz=128", "display_name": "Sarthak Aggarwal", "link": "https://stackoverflow.com/users/7812112/sarthak-aggarwal"}, "reply_to_user": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "edited": false, "score": 1, "creation_date": 1539754576, "post_id": 52847513, "comment_id": 92611590, "body": "If the div are dynamic, you can create array for your data model and then in your .component.html , use <i>*ngFor</i> directive to iterate over the array, parse it and change the status or any other data with the help of event handlers passing current index of array to it."}], "tags": [], "owner": {"reputation": 2026, "user_id": 7812112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I9HJf24huv0/AAAAAAAAAAI/AAAAAAAAAmM/Lcp1K2SE1Kk/photo.jpg?sz=128", "display_name": "Sarthak Aggarwal", "link": "https://stackoverflow.com/users/7812112/sarthak-aggarwal"}, "is_accepted": false, "score": 2, "last_activity_date": 1539753496, "last_edit_date": 1539753496, "creation_date": 1539752047, "answer_id": 52847513, "question_id": 52847407, "link": "https://stackoverflow.com/questions/52847407/mapping-multiple-click-events-to-a-single-method/52847513#52847513", "title": "Mapping multiple click events to a single method", "body": "<p>You can create a event handler with buttonId as parameter and use switch case. Trigger the event handler in html <code>(click)=\"clickEvent(1)\"</code></p>\n\n<p>.component.html</p>\n\n<pre><code>&lt;button `(click)=\"clickEvent(1)\"`&gt;button1&lt;/button&gt;\n&lt;button `(click)=\"clickEvent(2)\"`&gt;button2&lt;/button&gt;\n</code></pre>\n\n<p>.component.ts</p>\n\n<pre><code>clickEvent(buttonId : Number){\n  switch (buttonId){\n    case 1 : {\n     this.status1 = !this.status1;\n     break;\n   }\n    case 2 : {\n     this.status2 = !this.status2;\n   }\n   ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "is_accepted": true, "score": 4, "last_activity_date": 1539755022, "creation_date": 1539755022, "answer_id": 52847960, "question_id": 52847407, "link": "https://stackoverflow.com/questions/52847407/mapping-multiple-click-events-to-a-single-method/52847960#52847960", "title": "Mapping multiple click events to a single method", "body": "<p>There are two possible ways according to me</p>\n\n<p>first: you can directly change the value in html by calling the required variable on click event\nex:- </p>\n\n<pre><code>(click)=\"this.status1 = !this.status1\"\n</code></pre>\n\n<p>second: if you want to make function in ts then do like this\nex:-</p>\n\n<pre><code>clickEvent(status): boolean {\n    return !status;\n  }\n</code></pre>\n\n<p>and you can use this function of yours in ts as in html:- </p>\n\n<pre><code>(click)=\"status1 = clickEvent(status1)\"\n(click)=\"status2 = clickEvent(status2)\"\n</code></pre>\n"}], "owner": {"reputation": 1710, "user_id": 3590237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWLO.jpg?s=128&g=1", "display_name": "Aravinda Meewalaarachchi", "link": "https://stackoverflow.com/users/3590237/aravinda-meewalaarachchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 52847960, "answer_count": 3, "score": 3, "last_activity_date": 1539755022, "creation_date": 1539751298, "last_edit_date": 1539753953, "question_id": 52847407, "link": "https://stackoverflow.com/questions/52847407/mapping-multiple-click-events-to-a-single-method", "title": "Mapping multiple click events to a single method", "body": "<p>Currently i am faceing a problem while Mapping multiple click events to a single method. My currently\nimplimentation goes as follows and its working fine but i need a better way to handle multiple buttons\nusing one method.can any one help with this please. </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-draggable',\n  templateUrl: './draggable.component.html',\n  styleUrls: ['./draggable.component.scss']\n})\nexport class AppComponent implements OnInit {\n\n  status1: boolean = false;\n  status2: boolean = false;\n  status3: boolean = false;\n  status4: boolean = false;\n  status5: boolean = false;\n  status6: boolean = false;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  clickEvent1() {\n    this.status1 = !this.status1;\n  }\n  clickEvent2() {\n    this.status2 = !this.status2;\n  }\n  clickEvent3() {\n    this.status3 = !this.status3;\n  }\n  clickEvent4() {\n    this.status4 = !this.status4;\n  }\n  clickEvent5() {\n    this.status5 = !this.status5;\n  }\n  clickEvent6() {\n    this.status6 = !this.status6;\n  }\n}\n</code></pre>\n\n<p>Need to reduce amount of method and variable definition inside the ts file and also in the template file. <strong>div tags can be also add dynamically up to max 10 divs</strong>...</p>\n\n<p>app.component.html  </p>\n\n<pre><code>  &lt;div class=\"container-fluid\"&gt;\n      &lt;div class=\"row grid\"&gt;\n          &lt;div class=\"col-md-4 my-3 grid__widget-holder\"\n               (click)=\"clickEvent1()\"  \n               [ngClass]=\"status1 ? 'col-md-8 my-3 grid__widget-holder' : 'col-md-4 my-3 grid__widget-holder'\"&gt;\n              &lt;div class=\"card widget\"&gt;\n                  &lt;div class=\"card-header widget__header\"&gt;\n                      &lt;h5 class=\"card-title\"&gt;Widget 1\n                            &lt;button class=\"float-right\" type=\"button\"&gt;\n                                    &lt;i class=\"fa fa-bandcamp\"&gt;\n                                    &lt;/i&gt;\n                                &lt;/button&gt;\n                      &lt;/h5&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"card-body widget__body\"&gt;\n                      Content\n                  &lt;/div&gt;\n                  &lt;div class=\"card-footer widget__footer\"&gt;\n                      Footer\n                  &lt;/div&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-4 my-3 grid__widget-holder\"\n          (click)=\"clickEvent2()\"  \n          [ngClass]=\"status2 ? 'col-md-8 my-3 grid__widget-holder' : 'col-md-4 my-3 grid__widget-holder'\"&gt;\n         &lt;div class=\"card widget\"&gt;\n                  &lt;div class=\"card-header widget__header\"&gt;\n                      &lt;h5 class=\"card-title\"&gt;Widget 2\n                            &lt;button class=\"float-right\" type=\"button\"&gt;\n                                    &lt;i  class=\"fa fa-bandcamp\"&gt;\n                                    &lt;/i&gt;\n                            &lt;/button&gt;\n                      &lt;/h5&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"card-body widget__body\"&gt;\n                      Content\n                  &lt;/div&gt;\n                  &lt;div class=\"card-footer widget__footer\"&gt;\n                      Footer\n                  &lt;/div&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-4 my-3 grid__widget-holder\"\n          (click)=\"clickEvent3()\"  \n          [ngClass]=\"status3 ? 'col-md-8 my-3 grid__widget-holder' : 'col-md-4 my-3 grid__widget-holder'\"&gt;\n         &lt;div class=\"card widget\"&gt;\n                  &lt;div class=\"card-header widget__header\"&gt;\n                      &lt;h5 class=\"card-title\"&gt;Widget 3\n                            &lt;button class=\"float-right\" type=\"button\"&gt;\n                                    &lt;i  class=\"fa fa-bandcamp\"&gt;\n                                    &lt;/i&gt;\n                                &lt;/button&gt;\n                      &lt;/h5&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"card-body widget__body\"&gt;\n                      Content\n                  &lt;/div&gt;\n                  &lt;div class=\"card-footer widget__footer\"&gt;\n                      Footer\n                  &lt;/div&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-4 my-3 grid__widget-holder\"\n          (click)=\"clickEvent4()\"  \n          [ngClass]=\"status4 ? 'col-md-8 my-3 grid__widget-holder' : 'col-md-4 my-3 grid__widget-holder'\"&gt;\n         &lt;div class=\"card widget\"&gt;\n                  &lt;div class=\"card-header widget__header\"&gt;\n                      &lt;h5 class=\"card-title\"&gt;Widget 4\n                            &lt;button class=\"float-right\" type=\"button\"&gt;\n                                    &lt;i  class=\"fa fa-bandcamp\"&gt;\n                                    &lt;/i&gt;\n                                &lt;/button&gt;\n                      &lt;/h5&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"card-body widget__body\"&gt;\n                      Content\n                  &lt;/div&gt;\n                  &lt;div class=\"card-footer widget__footer\"&gt;\n                      Footer\n                  &lt;/div&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-4 my-3 grid__widget-holder\"\n          (click)=\"clickEvent5()\"  \n          [ngClass]=\"status5 ? 'col-md-8 my-3 grid__widget-holder' : 'col-md-4 my-3 grid__widget-holder'\"&gt;\n         &lt;div class=\"card widget\"&gt;\n                  &lt;div class=\"card-header widget__header\"&gt;\n                      &lt;h5 class=\"card-title\"&gt;Widget 5\n                            &lt;button class=\"float-right\" type=\"button\"&gt;\n                                    &lt;i  class=\"fa fa-bandcamp\"&gt;\n                                    &lt;/i&gt;\n                                &lt;/button&gt;\n                      &lt;/h5&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"card-body widget__body\"&gt;\n                      Content\n                  &lt;/div&gt;\n                  &lt;div class=\"card-footer widget__footer\"&gt;\n                      Footer\n                  &lt;/div&gt;\n\n              &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-4 my-3 grid__widget-holder\"\n          (click)=\"clickEvent6()\"  \n          [ngClass]=\"status6 ? 'col-md-8 my-3 grid__widget-holder' : 'col-md-4 my-3 grid__widget-holder'\"&gt;\n          &lt;div class=\"card widget\"&gt;\n                      &lt;div class=\"card-header widget__header\"&gt;\n                          &lt;h5 class=\"card-title\"&gt;Widget 6\n                          &lt;button class=\"float-right\" type=\"button\"&gt;\n                              &lt;i  class=\"fa fa-bandcamp\"&gt;\n                              &lt;/i&gt;\n                          &lt;/button&gt;\n                        &lt;/h5&gt;\n                      &lt;/div&gt;\n                      &lt;div class=\"card-body widget__body\"&gt;\n                          Content\n                      &lt;/div&gt;\n                      &lt;div class=\"card-footer widget__footer\"&gt;\n                          Footer\n                      &lt;/div&gt;\n                  &lt;/div&gt;\n              &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "express", "es6-promise"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1539752432, "post_id": 52847399, "comment_id": 92610914, "body": "what bundler are you using? Is this Angular? React? Vue? etc."}, {"owner": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1539752689, "post_id": 52847399, "comment_id": 92610989, "body": "Now its on dev mode."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "edited": false, "score": 0, "creation_date": 1539755164, "post_id": 52847747, "comment_id": 92611806, "body": "I try to create tsconfig.json at package.json level. Is it true? And in this file i set target : &quot;es6&quot;  and files : &quot;src/myfile.ts&quot;. I still get error same a previous."}, {"owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "reply_to_user": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "edited": false, "score": 0, "creation_date": 1539755784, "post_id": 52847747, "comment_id": 92611995, "body": "@KittinunPongsukjai Your tsconfig.json would contain the following JSON object: <code>{ compilerOptions: { target: &#39;ES6&#39; } }</code>. I&#39;m assuming you missed the <code>compilerOptions</code> as parent property"}, {"owner": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "edited": false, "score": 0, "creation_date": 1539756327, "post_id": 52847747, "comment_id": 92612188, "body": "my tsconfig.json = {   &quot;compilerOptions&quot;: {     &quot;target&quot;:&quot;es6&quot;   },   &quot;files&quot;: [     &quot;function/Translator.ts&quot;   ] } . I still get error what wrong with my solution?"}, {"owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "reply_to_user": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "edited": false, "score": 0, "creation_date": 1539756928, "post_id": 52847747, "comment_id": 92612399, "body": "@KittinunPongsukjai try this : <code>tsc --p &lt;path to tsconfig.json&gt;</code> to specify the tsconfig.json to use while compiling. If the above does not work, try specifying the command inline <code>tsc --target ES6</code>."}, {"owner": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "edited": false, "score": 0, "creation_date": 1539757344, "post_id": 52847747, "comment_id": 92612571, "body": "i get this error after i use command : tsc --p mypath , tsc --target ES6  &quot;node_modules/@types/es6-shim/index.d.ts:621:5 - error TS2717: Subsequent propert y declarations must have the same type.  Property &#39;prototype&#39; must be of type &#39;W eakSet&lt;object&gt;&#39;, but here has type &#39;WeakSet&lt;any&gt;&#39;.&quot;"}, {"owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "reply_to_user": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "edited": false, "score": 0, "creation_date": 1539758560, "post_id": 52847747, "comment_id": 92613126, "body": "@KittinunPongsukjai node and express do not have a built-in support for Typescript. You would need to include express-ts and @types/express in your application. Refer this: <a href=\"https://dev.to/briandgls/using-typescript-with-express--e0k\" rel=\"nofollow noreferrer\">dev.to/briandgls/using-typescript-with-express--e0k</a> .  I had missed the part where you mentioned you were doing this for an express app."}], "tags": [], "owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "is_accepted": false, "score": 0, "last_activity_date": 1539753726, "creation_date": 1539753726, "answer_id": 52847747, "question_id": 52847399, "link": "https://stackoverflow.com/questions/52847399/how-to-use-async-await-in-ts-file-i-get-error-async-functions-are-only-av/52847747#52847747", "title": "How to use async/await in .ts file ( I get error : &quot; async functions are only available when targeting ecmascript 6 or higher&quot; )", "body": "<p>The default target for Typescript is \"ES3\". Since you are not using tsconfig.json in your application the default compiler options are selected. If you wish to continue without using tsconfig.json you can use the following command:</p>\n\n<pre><code>tsc --target \"ES6\"\n</code></pre>\n\n<p>Or you can add a tsconfig.json to the application and use that.</p>\n\n<p>For the default compiler options refer: <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n\n<p>For knowing more about tsconfig.json refer: <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n"}], "owner": {"reputation": 63, "user_id": 7325200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10211848877918297/picture?type=large", "display_name": "Kittinun Pongsukjai", "link": "https://stackoverflow.com/users/7325200/kittinun-pongsukjai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 591, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539753726, "creation_date": 1539751248, "last_edit_date": 1539753093, "question_id": 52847399, "link": "https://stackoverflow.com/questions/52847399/how-to-use-async-await-in-ts-file-i-get-error-async-functions-are-only-av", "title": "How to use async/await in .ts file ( I get error : &quot; async functions are only available when targeting ecmascript 6 or higher&quot; )", "body": "<p>At first .. my project contains only app.js(expressJS) that is one main file and this file has many line of code. my dev manager order me refactor code and split some function in to another .ts file ( migrate from javascript to typescript )</p>\n\n<p>My first .js before I migrate to .ts has asyn function after I migrate my code in to .ts I get a error about</p>\n\n<blockquote>\n  <p>async functions are only available when targeting ecmascript 6 or higher</p>\n</blockquote>\n\n<p>I don't know how to resolve this problem. I found the solution that I have to target to es6 in tsconfig.json but I don't know where is tsconfig.js I have only package.json before I migrate its.</p>\n\n<p>Can you help me to solve this problem ? Thank you.</p>\n"}, {"tags": ["typescript", "ecmascript-6", "google-chrome-devtools", "source-maps"], "comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1539751956, "post_id": 52847386, "comment_id": 92610787, "body": "How are you bundling the app overall? If it&#39;s Webpack, you potentially need to use <a href=\"https://github.com/webpack-contrib/source-map-loader\" rel=\"nofollow noreferrer\">github.com/webpack-contrib/source-map-loader</a>"}, {"owner": {"reputation": 18465, "user_id": 293680, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/yEwH0.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/293680/naresh"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1539754346, "post_id": 52847386, "comment_id": 92611515, "body": "Yes, the app is bundled using Webpack. It is actually created by create-react-app. I don&#39;t think it is using source-map-loader. If I eject, I see that in uses <code>devtool: &#39;cheap-module-source-map&#39;</code> in the Webpack config."}, {"owner": {"reputation": 18465, "user_id": 293680, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/yEwH0.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/293680/naresh"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1539871546, "post_id": 52847386, "comment_id": 92665192, "body": "I configured webpack to use source-map-loader and <code>devtool: &#39;source-map&#39;</code>, but no luck :-("}], "answers": [{"comments": [{"owner": {"reputation": 18465, "user_id": 293680, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/yEwH0.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/293680/naresh"}, "edited": false, "score": 0, "creation_date": 1539798187, "post_id": 52854945, "comment_id": 92635932, "body": "Yep, I am on a mac too and yes, command+O let&#39;s you search for a file. However, the point I am making is that the version of the file that is displayed is the compiled (ES5) version, not the original ES6 or TypeScript version."}, {"owner": {"reputation": 3283, "user_id": 63437, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dfeee8a4c8815bf8501015bc3e4c32e2?s=128&d=identicon&r=PG", "display_name": "Steve -Cutter- Blades", "link": "https://stackoverflow.com/users/63437/steve-cutter-blades"}, "reply_to_user": {"reputation": 18465, "user_id": 293680, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/yEwH0.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/293680/naresh"}, "edited": false, "score": 0, "creation_date": 1539802151, "post_id": 52854945, "comment_id": 92637856, "body": "Yeah, I&#39;m using <code>devtool: &#39;source-map&#39;</code>, so maybe that&#39;s why."}], "tags": [], "owner": {"reputation": 3283, "user_id": 63437, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dfeee8a4c8815bf8501015bc3e4c32e2?s=128&d=identicon&r=PG", "display_name": "Steve -Cutter- Blades", "link": "https://stackoverflow.com/users/63437/steve-cutter-blades"}, "is_accepted": false, "score": 1, "last_activity_date": 1539779509, "creation_date": 1539779509, "answer_id": 52854945, "question_id": 52847386, "link": "https://stackoverflow.com/questions/52847386/cant-see-source-code-for-es6-and-typescript-libraries-in-chrome-devtools/52854945#52854945", "title": "Can&#39;t see source code for ES6 and TypeScript libraries in Chrome DevTools", "body": "<p>I do not see my files in the Sources file tree either, but (and I'm on a Mac), if I do Command+O I can search for my file, by name, and Dev Tools will show it, allowing me to add breakpoints and step through code.</p>\n"}], "owner": {"reputation": 18465, "user_id": 293680, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/yEwH0.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/293680/naresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539779509, "creation_date": 1539751175, "question_id": 52847386, "link": "https://stackoverflow.com/questions/52847386/cant-see-source-code-for-es6-and-typescript-libraries-in-chrome-devtools", "title": "Can&#39;t see source code for ES6 and TypeScript libraries in Chrome DevTools", "body": "<p>I am distributing my ES6 and TypeScript libraries with source maps as well as the associated source files. However when such a library is installed in an app (under <code>node_modules</code>), the Chrome debugger shows the compiled JavaScript output instead of the original source file. How can I make the debugger show the original source file?</p>\n\n<p>Here's the distribution of one of my TypeScript libraries:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wx9b4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wx9b4.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see I have <code>index.js.map</code> and <code>router-store.js.map</code> in the <code>dist</code> directory. These maps point to the corresponding TypeScript files in the src directory, e.g.</p>\n\n<pre><code>\"sources\":[\"../src/index.ts\"]\n</code></pre>\n\n<p>In spite of this, when I look at the app in Chrome Debugger, the file name shows as <code>index.js</code> and contains the compiled JavaScript output. See below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/O9D2r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O9D2r.png\" alt=\"enter image description here\"></a></p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["javascript", "typescript", "data-structures", "angular6"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "edited": false, "score": 0, "creation_date": 1539754981, "post_id": 52847368, "comment_id": 92611740, "body": "This is more of a programming problem than an angular one. Also, what is your data source for the table, can you guarantee that there wont be any cycles?"}], "answers": [{"comments": [{"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570461386, "post_id": 52847972, "comment_id": 102911683, "body": "Although this solution is elegant, it does not solve the generic case when a tree can have multiple root nodes. We&#39;d still have to iterate through the dictionary to create the final structure."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570488542, "post_id": 52847972, "comment_id": 102922360, "body": "@AsGoodAsItGets althought there are graphs with no root node, a tree always has a single one."}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570537663, "post_id": 52847972, "comment_id": 102937424, "body": "@Kaiido I assume you&#39;re refering to the tree data structure. I&#39;m refering to the generic use of trees as hierarchical UI elements, in which case of course you can have multiple roots. We are not talking about graph data structures."}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570537791, "post_id": 52847972, "comment_id": 102937491, "body": "And to answer the original question, a complete and far more elegant ES6-only solution is this one: <a href=\"https://stackoverflow.com/a/55241491/134120\">stackoverflow.com/a/55241491/134120</a>"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570541707, "post_id": 52847972, "comment_id": 102939662, "body": "@AsGoodAsItGets hum... please re-read the question here. Yes we are exactly talking about Graph data structure here. And sorry but recursive approach building a lot of mess in the GC is not what I call an &quot;elegant&quot; solution, even though it&#39;s done writing a bit less characters (is it really btw?)."}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570545940, "post_id": 52847972, "comment_id": 102942171, "body": "@Kaiido I re-read the question and I still stand by what I wrote. Although the example that the OP gave has only one root, a generic solution must take into account the existence of multiple roots. Especially in the context that the OP has described, i.e. building an Angular Material tree from database data returned in JSON, which is exactly what I&#39;m currently doing with the above mentioned solution. If performance is an issue (as you imply by the recursive approach), then is should be done in the back-end anyway."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570547054, "post_id": 52847972, "comment_id": 102942795, "body": "@AsGoodAsItGets OP asked for a return structure with a single entry point. The title of the question asks for a &quot;tree&quot;. Returning an Array would have made my answer fail to answer both OP&#39;s request and future readers expectation. If you want to handle such a particular case, then it&#39;s as easy as iterating over the generated map in search for orphans nodes. <a href=\"https://jsfiddle.net/9mb4urjs/\" rel=\"nofollow noreferrer\">jsfiddle.net/9mb4urjs</a> It&#39;s still far more efficient and elegant than the poor solution you linked to. But that&#39;s not an answer to this question."}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1570548431, "post_id": 52847972, "comment_id": 102943515, "body": "@Kaiido well, let&#39;s leave the future readers of these comments to use whatever works for them. Have a nice day :)"}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 4, "last_activity_date": 1539755087, "creation_date": 1539755087, "answer_id": 52847972, "question_id": 52847368, "link": "https://stackoverflow.com/questions/52847368/convert-an-array-to-tree-in-typescript/52847972#52847972", "title": "Convert an Array to Tree in Typescript", "body": "<p>To do this, you can reduce your array of nodes to a dictionary, using each node's <code>id</code> as index. </p>\n\n<p>This way, you'll have all the nodes accessible by their id directly on the dictionary. You'll thus be able to store each node in its parent easily.  </p>\n\n<p>Once all the nodes are stored in their respective parent, you just have to grab the root node from the dictionary, it will hold all your tree.</p>\n\n<p>It may happen that the parent isn't yet in the dictionary when you parse the child, in this case, you can use a dummy object that will play a placeholder the time we come to parse the actual parent node.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arry = [\r\n {\"name\": \"a\", \"id\": \"2\", \"data\":\"foo\", \"parent\": \"1\"},\r\n {\"name\": \"b\", \"id\": \"3\", \"data\":\"foo\", \"parent\": \"2\"},\r\n {\"name\": \"c\", \"id\": \"4\", \"data\":\"foo\", \"parent\": \"3\"},\r\n {\"name\": \"d\", \"id\": \"5\", \"data\":\"foo\", \"parent\": \"3\"},\r\n {\"name\": \"e\", \"id\": \"6\", \"data\":\"foo\", \"parent\": \"4\"},\r\n {\"name\": \"f\", \"id\": \"7\", \"data\":\"foo\", \"parent\": \"5\"}\r\n];\r\n\r\nfunction totree(branches, node) {\r\n  // if we don't have the parent yet\r\n  if (!branches[node.parent]) {\r\n    // create a dummy placeholder for now\r\n    branches[node.parent] = {};\r\n  }\r\n  // store our node in its parent\r\n  branches[node.parent][node.id] = node;\r\n  // store our node in the full list\r\n  // copy all added branches on possible placeholder\r\n  branches[node.id] = Object.assign(node, branches[node.id]);\r\n\r\n  return branches;\r\n}\r\n\r\nvar tree = arry.reduce(totree, {})['1']; // get only the root node ('1')\r\n\r\nconsole.log(tree);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 7255958, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ssqlfxqezI4/AAAAAAAAAAI/AAAAAAAAAEY/VZLCxP40yss/photo.jpg?sz=128", "display_name": "Eka hersada", "link": "https://stackoverflow.com/users/7255958/eka-hersada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2941, "favorite_count": 2, "accepted_answer_id": 52847972, "answer_count": 1, "score": 1, "last_activity_date": 1539757658, "creation_date": 1539750972, "last_edit_date": 1539757658, "question_id": 52847368, "link": "https://stackoverflow.com/questions/52847368/convert-an-array-to-tree-in-typescript", "title": "Convert an Array to Tree in Typescript", "body": "<p>I have structure database in array of objects stored like this:</p>\n\n<pre><code> arry = [{\"name\": \"a\", \"id\": \"2\", \"data\":\"foo\", \"parent\": \"1\"},\n {\"name\": \"b\", \"id\": \"3\", \"data\":\"foo\", \"parent\": \"2\"},\n {\"name\": \"c\", \"id\": \"4\", \"data\":\"foo\", \"parent\": \"3\"},\n {\"name\": \"d\", \"id\": \"5\", \"data\":\"foo\", \"parent\": \"3\"},\n {\"name\": \"e\", \"id\": \"6\", \"data\":\"foo\", \"parent\": \"4\"},\n {\"name\": \"f\", \"id\": \"7\", \"data\":\"foo\", \"parent\": \"5\"}]\n</code></pre>\n\n<p>I want nested structure like this</p>\n\n<pre><code>{\n\"2\":{\n   \"name\": \"a\",\n   \"data\": \"foo\",\n  \"3\":{\n     \"name\": \"b\",\n     \"data\":\"foo\",\n     \"4\":{\n        \"name\": \"c\",\n        \"data\":\"foo\",\n        \"6\":{\n           \"name\": \"e\",\n           \"data\": \"foo\",\n          };\n       },\n      \"5\":{\n         \"name\": \"d\",\n         \"data\": \"foo\",\n         \"7\":{\n            \"name\": \"f\",\n            \"data\": \"foo\"\n           }\n        }\n      }\n    }\n  };\n</code></pre>\n\n<p>so I can use it Angular Material tree.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "reply_to_user": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1539774251, "post_id": 52847114, "comment_id": 92621841, "body": "Thanks! regarding &quot;[(ngModel)]=&quot;description&quot; (ngModelChange)=&quot;onChangeDescription()&quot; &quot; comment you gave me before- if I write [ngModel], the description field doesn&#39;t update at all.."}], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "edited": false, "score": 0, "creation_date": 1539752735, "post_id": 52847371, "comment_id": 92611012, "body": "Although I saw this- <a href=\"https://stackoverflow.com/questions/42244690/does-ngfor-directive-re-render-whole-array-on-every-mutation?fbclid=IwAR0a3Z1RwdnEC843XL-5ECqFnEEYD6_zK1vM7dhFl50V2xsza-zoyF3mTj8\" title=\"does ngfor directive re render whole array on every mutation\">stackoverflow.com/questions/42244690/&hellip;</a> According to it, it should not render the content again."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "edited": false, "score": 1, "creation_date": 1539753103, "post_id": 52847371, "comment_id": 92611111, "body": "Its difficult to tell the exact issue without looking at your entire code however you can fix it by using <code>trackBy</code>. Updated my answer."}, {"owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "edited": false, "score": 0, "creation_date": 1539753545, "post_id": 52847371, "comment_id": 92611253, "body": "By adding the &quot;track by&quot; the component will not be re-initialized?"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "edited": false, "score": 1, "creation_date": 1539753858, "post_id": 52847371, "comment_id": 92611352, "body": "Yes, it will not. This way we are telling the if the link is same as before and no re-iteration is required."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539753223, "last_edit_date": 1539753223, "creation_date": 1539751017, "answer_id": 52847371, "question_id": 52847114, "link": "https://stackoverflow.com/questions/52847114/angular-5-component-is-being-initialized-with-no-reason/52847371#52847371", "title": "Angular 5, component is being initialized with no reason", "body": "<p>Whenever you make any changes in <code>depositFormDataService.mainForm.value.links</code>, Angular detect changes and it renders the content again.</p>\n\n<p>Since you have used the both of those component inside <code>*ngFor=\"let link of depositFormDataService.mainForm.value.links</code>, it will re-initialized the component.</p>\n\n<h2>in ts</h2>\n\n<pre><code>trackByLink = (index: number, link : any) =&gt; link.url; //check if you have `url` if not then you other unique property.\n</code></pre>\n\n<h2>in html</h2>\n\n<pre><code>`*ngFor=\"let link of depositFormDataService.mainForm.value.links ; trackBy:trackByLink `\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 52847371, "answer_count": 1, "score": 2, "last_activity_date": 1539753223, "creation_date": 1539749040, "last_edit_date": 1539749366, "question_id": 52847114, "link": "https://stackoverflow.com/questions/52847114/angular-5-component-is-being-initialized-with-no-reason", "title": "Angular 5, component is being initialized with no reason", "body": "<p>I have the following problem-</p>\n\n<p>component A:</p>\n\n<pre><code>&lt;!-- LIST OF URLs--&gt;\n&lt;exl-file-list  \n  *ngIf=\"hasLinks()\"\n  listTitle=\"Added links:\"\n  [expandable]=\"editableFiles\"\n  expandAllButton=\"Edit metadata\"\n  (edit)=\"onLinkEdit($event)\"\n  (expandAll)=\"allLinksEditable = !allLinksEditable\"\n  (removeAll)=\"onRemoveAllLinks()\"&gt;\n\n  &lt;!-- URL items --&gt;\n  &lt;exl-file-list-item\n    *ngFor=\"let link of depositFormDataService.mainForm.value.links let index = index\"\n    [item]=\"link\"\n    [index]=\"index\"\n    (remove)=\"onLinkRemove($event)\"\n    (edit)=\"onLinkEdit($event, index)\"&gt;\n\n    &lt;!-- metadata of each URL --&gt;\n    **&lt;esp-deposit-link-metadata\n    [index]=\"index\"&gt;\n    &lt;/esp-deposit-link-metadata&gt;**\n\n  &lt;/exl-file-list-item&gt;\n&lt;/exl-file-list&gt;\n</code></pre>\n\n<p>component B- esp-deposit-link-metadata:</p>\n\n<pre><code>&lt;div class=\"metadata-container\"&gt;\n  &lt;mat-form-field class=\"hasnt-underline\"&gt;\n    &lt;mat-label&gt;Description&lt;/mat-label&gt;\n    &lt;textarea \n      matInput \n      [(ngModel)]=\"description\" \n      **(ngModelChange)=\"onChangeDescription()\" \n      ** #textarea placeholder=\"Describe the link\" \n      matTextareaAutosize&gt;&lt;/textarea&gt;\n  &lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><code>onChangeDescription</code> method, updated my <code>formGroup</code> in <code>depositFormDataService.mainForm.links</code></p>\n\n<pre><code>onChangeDescription(){\n  this.depositFormDataService\n    .updateLinkDescription(this.index,this.description);\n}\n</code></pre>\n\n<p>it's content:</p>\n\n<pre><code>updateLinkDescription(index, description){\n  const link = this.links.at(index) as FormGroup;\n  link.setControl('description', new FormControl(description));\n}\n</code></pre>\n\n<p>depositFormDataService.mainForm holds the links as FormArray.\nlink is an object with three formControls that one of them is 'description'.</p>\n\n<p>Each time that <code>onChangeDescription()</code> is called the <code>constructor</code>s of <code>exl-file-list-item</code> and <code>esp-deposit-link-metadata</code> are called and all the view is refreshed, and I have no reason why.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 15914, "user_id": 1127428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pSzU4.jpg?s=128&g=1", "display_name": "Dale K", "link": "https://stackoverflow.com/users/1127428/dale-k"}, "edited": false, "score": 1, "creation_date": 1539747581, "post_id": 52846632, "comment_id": 92609805, "body": "Need to see your ts code - its a timing issue, you&#39;re changing the data before angular has officially stopped synchronising it."}, {"owner": {"reputation": 2862, "user_id": 5801495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vW0bo.jpg?s=128&g=1", "display_name": "Buggy", "link": "https://stackoverflow.com/users/5801495/buggy"}, "edited": false, "score": 0, "creation_date": 1539764522, "post_id": 52846632, "comment_id": 92616262, "body": "Please, provide live example"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10516386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee11702883073d5c10cd7720895c0347?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Naber", "link": "https://stackoverflow.com/users/10516386/mark-naber"}, "is_accepted": false, "score": 0, "last_activity_date": 1539843760, "creation_date": 1539843760, "answer_id": 52868089, "question_id": 52846632, "link": "https://stackoverflow.com/questions/52846632/expressionchangedafterithasbeencheckederror-caused-by-having-a-function-with-p/52868089#52868089", "title": "ExpressionChangedAfterItHasBeenCheckedError - Caused by having a function with parameter returning array for *ngFor", "body": "<p>Instead of calling the function calculateHours directly on your page.  Better to have your code return a type Observable of hours.  You can subscribe in the code or better still if possible use an async pipe. </p>\n\n<p>If you are able to return CalculateHours as an Observable of hours. ie type observable you can implement it as follows...</p>\n\n<pre><code>&lt;div *ngFor=\"let hour of hours | async\"&gt;\n&lt;div class=\"amount\" [ngStyle]=\"{'height': '5px', 'width': hour}\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And any changes to hours, would reflect on the page.</p>\n"}], "owner": {"reputation": 301, "user_id": 549322, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/55fbf324a93e25ecb4325efecf3ddef8?s=128&d=identicon&r=PG", "display_name": "Ray", "link": "https://stackoverflow.com/users/549322/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539843760, "creation_date": 1539744718, "last_edit_date": 1539746217, "question_id": 52846632, "link": "https://stackoverflow.com/questions/52846632/expressionchangedafterithasbeencheckederror-caused-by-having-a-function-with-p", "title": "ExpressionChangedAfterItHasBeenCheckedError - Caused by having a function with parameter returning array for *ngFor", "body": "<p>Each row in my table has an <code>itemId</code>.  I customized a column to have the following below...</p>\n\n<pre><code>&lt;td&gt;\n...\n&lt;div *ngFor=\"let hour of calculateHours(itemId)\"&gt;\n&lt;div class=\"amount\" [ngStyle]=\"{'height': '5px', 'width': getWidth(hour)}\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n...\n&lt;/td&gt;\n</code></pre>\n\n<p>My issue is when I add more <code>hours</code> to <code>Item</code>, the data in my table doesn't refresh. </p>\n\n<p>I know binding to a method in the template is bad, and will be called on every change detection, but I can't think of a good way to get the data displayed initially and have the data refreshed when <code>hours</code> changed. The only place I can get hours is where I have my <code>itemId</code> in each row. </p>\n\n<p>So I guess <code>*ngFor=\"let hour of calculatedHours\"</code> would work just perfectly, but I need my <code>itemId</code> to calculate... </p>\n\n<p>Any suggestions please? Thanks! </p>\n"}, {"tags": ["node.js", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1539781603, "post_id": 52846622, "comment_id": 92626349, "body": "Please add your TypeScript version and your package.json file to the question, then hopefully I&#39;ll be able to reproduce the problem and find the cause."}, {"owner": {"reputation": 108, "user_id": 4515348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2iWtj.jpg?s=128&g=1", "display_name": "xiaodeaux", "link": "https://stackoverflow.com/users/4515348/xiaodeaux"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539919841, "post_id": 52846622, "comment_id": 92683956, "body": "@MattMcCutchen I added the info you requested. Sorry for getting back to you so late."}], "answers": [{"comments": [{"owner": {"reputation": 10652, "user_id": 5666087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0eeb62bd4c02b40a8751ab3368368d02?s=128&d=identicon&r=PG&f=1", "display_name": "jakub", "link": "https://stackoverflow.com/users/5666087/jakub"}, "edited": false, "score": 1, "creation_date": 1540055962, "post_id": 52885917, "comment_id": 92727089, "body": "You can also downgrade typescript. 2.9.2 does not have this issue, but 3.1.3 does."}, {"owner": {"reputation": 108, "user_id": 4515348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2iWtj.jpg?s=128&g=1", "display_name": "xiaodeaux", "link": "https://stackoverflow.com/users/4515348/xiaodeaux"}, "reply_to_user": {"reputation": 10652, "user_id": 5666087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0eeb62bd4c02b40a8751ab3368368d02?s=128&d=identicon&r=PG&f=1", "display_name": "jakub", "link": "https://stackoverflow.com/users/5666087/jakub"}, "edited": false, "score": 0, "creation_date": 1540174213, "post_id": 52885917, "comment_id": 92752471, "body": "@Jakub  I just installed TS 2.9.2 locally and I got these errors: <a href=\"https://hastebin.com/ujapiwiqup.coffeescript\" rel=\"nofollow noreferrer\">hastebin.com/ujapiwiqup.coffeescript</a>"}, {"owner": {"reputation": 10652, "user_id": 5666087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0eeb62bd4c02b40a8751ab3368368d02?s=128&d=identicon&r=PG&f=1", "display_name": "jakub", "link": "https://stackoverflow.com/users/5666087/jakub"}, "reply_to_user": {"reputation": 108, "user_id": 4515348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2iWtj.jpg?s=128&g=1", "display_name": "xiaodeaux", "link": "https://stackoverflow.com/users/4515348/xiaodeaux"}, "edited": false, "score": 1, "creation_date": 1540218003, "post_id": 52885917, "comment_id": 92772321, "body": "@xiaodeaux - i&#39;m just beginning to learn typescript, so i don&#39;t know why these issues would occur. but you could try re-installing tfjs."}, {"owner": {"reputation": 108, "user_id": 4515348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2iWtj.jpg?s=128&g=1", "display_name": "xiaodeaux", "link": "https://stackoverflow.com/users/4515348/xiaodeaux"}, "reply_to_user": {"reputation": 10652, "user_id": 5666087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0eeb62bd4c02b40a8751ab3368368d02?s=128&d=identicon&r=PG&f=1", "display_name": "jakub", "link": "https://stackoverflow.com/users/5666087/jakub"}, "edited": false, "score": 1, "creation_date": 1540247469, "post_id": 52885917, "comment_id": 92786280, "body": "@Jakub yeah I just gave that a shot. I think what Matt said above is the primary thing to focus on. Figure out how to resolve TFJS using a 3rd party lib that TS seems to implement already now."}, {"owner": {"reputation": 448, "user_id": 906203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/722e6b9bdc6a4d7851f30227b38f2183?s=128&d=identicon&r=PG", "display_name": "zenmumbler", "link": "https://stackoverflow.com/users/906203/zenmumbler"}, "edited": false, "score": 2, "creation_date": 1540299925, "post_id": 52885917, "comment_id": 92807549, "body": "A PR to update webgl-ext has been submitted to DefinitelyTyped. In order for things to work, TFJS will have to move to TS2.7+ and the newer version of the webgl-ext package, which is a breaking change. <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/29971\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/pull/29971</a>"}, {"owner": {"reputation": 10652, "user_id": 5666087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0eeb62bd4c02b40a8751ab3368368d02?s=128&d=identicon&r=PG&f=1", "display_name": "jakub", "link": "https://stackoverflow.com/users/5666087/jakub"}, "reply_to_user": {"reputation": 448, "user_id": 906203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/722e6b9bdc6a4d7851f30227b38f2183?s=128&d=identicon&r=PG", "display_name": "zenmumbler", "link": "https://stackoverflow.com/users/906203/zenmumbler"}, "edited": false, "score": 3, "creation_date": 1540323781, "post_id": 52885917, "comment_id": 92820961, "body": "for those following these comments, that PR has been merged. thanks so much @zenmumbler"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 4, "last_activity_date": 1539923286, "creation_date": 1539923286, "answer_id": 52885917, "question_id": 52846622, "link": "https://stackoverflow.com/questions/52846622/error-ts2430-interface-webglrenderingcontext-incorrectly-extends-interface-w/52885917#52885917", "title": "error TS2430: Interface &#39;WebGLRenderingContext&#39; incorrectly extends interface &#39;WebGLRenderingContextBase&#39;", "body": "<p>It looks like the <code>@types/webgl-ext</code> package (an indirect dependency of <code>@tensorflow/tfjs-node-gpu</code>) contains a declaration of the <code>getExtension</code> method of <code>WebGLRenderingContext</code> that is incompatible with the declaration of the <code>getExtension</code> method of <code>WebGLRenderingContextBase</code> in recent versions of the TypeScript standard library.  I'm not sure what should be done about this, so I suggest you first <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues\" rel=\"nofollow noreferrer\">file an issue</a> against <code>@types/webgl-ext</code>.  If you don't get an answer there, then you could escalate to TensorFlow.js support resources to ask if the dependency on a broken and apparently unmaintained package can be removed.</p>\n\n<p>In the meantime, a workaround that may work is to create your own dummy version of the <code>@types/webgl-ext</code> package that is empty.  Create a directory in your project to hold the dummy package (for example, suppose you name the directory <code>webgl-ext</code>), copy the <code>package.json</code> from the real <code>@types/webgl-ext</code> package, create an empty <code>index.d.ts</code> file, and then register the dummy package in your main <code>package.json</code> using a relative path:</p>\n\n<pre><code>  \"dependencies\": {\n    \"@tensorflow/tfjs-node-gpu\": \"^0.1.18\",\n    \"@types/webgl-ext\": \"./webgl-ext\"\n  },\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2209, "user_id": 2692914, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7c7f5455232d8a359af4e7f79e7e78f0?s=128&d=identicon&r=PG&f=1", "display_name": "lmiguelmh", "link": "https://stackoverflow.com/users/2692914/lmiguelmh"}, "is_accepted": false, "score": 1, "last_activity_date": 1612481861, "creation_date": 1612481861, "answer_id": 66055471, "question_id": 52846622, "link": "https://stackoverflow.com/questions/52846622/error-ts2430-interface-webglrenderingcontext-incorrectly-extends-interface-w/66055471#66055471", "title": "error TS2430: Interface &#39;WebGLRenderingContext&#39; incorrectly extends interface &#39;WebGLRenderingContextBase&#39;", "body": "<p>According <em>@tafsiri</em> on <a href=\"https://github.com/tensorflow/tfjs/issues/4201\" rel=\"nofollow noreferrer\">tfjs issue: Compile error with @tensorflow/tfjs-backend-webgl</a> the issue is: <em>&quot;caused by a clash between the now built in types for webgl and the @types/webgl2 package we currently use&quot;</em>.</p>\n<p>He gives the next solution (that worked for me):</p>\n<ul>\n<li><p>Edit you file <code>tsconfig.json</code> and add the option <code>skipLibCheck</code></p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    ...\n    // skip error: Interface 'WebGL2RenderingContext' incorrectly extends interface 'WebGL2RenderingContextBase'.\n    // https://github.com/tensorflow/tfjs/issues/4201\n    &quot;skipLibCheck&quot;: true\n  },\n  ...\n}\n</code></pre>\n</li>\n</ul>\n"}], "owner": {"reputation": 108, "user_id": 4515348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2iWtj.jpg?s=128&g=1", "display_name": "xiaodeaux", "link": "https://stackoverflow.com/users/4515348/xiaodeaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 52885917, "answer_count": 2, "score": 5, "last_activity_date": 1612481861, "creation_date": 1539744655, "last_edit_date": 1539920203, "question_id": 52846622, "link": "https://stackoverflow.com/questions/52846622/error-ts2430-interface-webglrenderingcontext-incorrectly-extends-interface-w", "title": "error TS2430: Interface &#39;WebGLRenderingContext&#39; incorrectly extends interface &#39;WebGLRenderingContextBase&#39;", "body": "<p>When I run <code>tsc</code> it gives me this error output:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>../../../AppData/Roaming/npm/node_modules/typescript/lib/lib.dom.d.ts(15340,11): error TS2430: Interface 'WebGLRenderingContext' incorrectly extends interface 'WebGLRenderingContextBase'.\n  Types of property 'getExtension' are incompatible.\n    Type '{ (name: \"ANGLE_instanced_arrays\"): ANGLEInstancedArrays; (name: \"EXT_blend_minmax\"): EXTBlendMinMax; (name: \"EXT_color_buffer_half_float\"): EXTColorBufferHalfFloat; (name: \"EXT_frag_depth\"): EXTFragDepth; (name: \"EXT_sRGB\"): EXTsRGB; (name: \"EXT_shader_texture_lod\"): EXTShaderTextureLOD; (name: \"EXT_texture_filter_...' is not assignable to type '{ (extensionName: \"EXT_blend_minmax\"): EXT_blend_minmax | null; (extensionName: \"EXT_texture_filter_anisotropic\"): EXT_texture_filter_anisotropic | null; (extensionName: \"EXT_frag_depth\"): EXT_frag_depth | null; (extensionName: \"EXT_shader_texture_lod\"): EXT_shader_texture_lod | null; (extensionName: \"EXT_sRGB\"): EX...'.\n      Types of parameters 'name' and 'extensionName' are incompatible.\n        Type '\"OES_vertex_array_object\"' is not assignable to type '\"ANGLE_instanced_arrays\"'.\n</code></pre>\n\n<p>My <code>tsconfig.json</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"rootDir\": \"src\",\n    \"outDir\": \"dist\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"sourceMap\": true,\n    \"declaration\": true\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\"\n  ]\n}\n</code></pre>\n\n<p><code>tsc</code> is version <code>Version 3.1.3</code>.</p>\n\n<p>Here is my <code>package.json</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"name\": \"pupp-tf-test\",\n  \"version\": \"0.0.1\",\n  \"description\": \"Try to get environment set up to program using TypeScript, Puppeteer, and TensorFlow.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"xiaodeaux\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@tensorflow/tfjs-node-gpu\": \"^0.1.18\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^10.12.0\"\n  }\n}\n</code></pre>\n\n<p>The the only <code>.ts</code> file I have is empty. So this has nothing to do with the code in the file because there is none. At least I assume it has nothing to do with that specific file.</p>\n\n<p>Also, I'm on Windows 10 and using Visual Studio Code. Here's vscode environment info:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Version: 1.28.1 (user setup)\nCommit: 3368db6750222d319c851f6d90eb619d886e08f5\nDate: 2018-10-11T18:13:53.910Z\nElectron: 2.0.9\nChrome: 61.0.3163.100\nNode.js: 8.9.3\nV8: 6.1.534.41\nArchitecture: x64\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1539745475, "post_id": 52846401, "comment_id": 92609319, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/4881\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/4881</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2362, "user_id": 3648961, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006251682696/picture?type=large", "display_name": "Haziq", "link": "https://stackoverflow.com/users/3648961/haziq"}, "edited": false, "score": 0, "creation_date": 1539823491, "post_id": 52855209, "comment_id": 92644982, "body": "Thank you Matt McCutchen, now i understand a bit what yurzui link is. Anyway as far as I understand the mix-in approach is still using extend keyword, which I would like to avoid, because later I have to type alot of code <code>constructor() { super() } </code>, <code>extends ...</code>. to every componenet class.   Thank you."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 2362, "user_id": 3648961, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006251682696/picture?type=large", "display_name": "Haziq", "link": "https://stackoverflow.com/users/3648961/haziq"}, "edited": false, "score": 1, "creation_date": 1539826002, "post_id": 52855209, "comment_id": 92645471, "body": "The problem may not be as bad as you think.  If the only code in your constructor would be <code>super();</code>, you can leave the constructor out.  Only if you need to define a constructor for another reason, then you have to add <code>super();</code> to it.  The <code>extends</code> clause doesn&#39;t seem much worse than the decorator call to me."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1539780380, "creation_date": 1539780380, "answer_id": 52855209, "question_id": 52846401, "link": "https://stackoverflow.com/questions/52846401/add-typescript-typing-to-function-prototype-in-decorator/52855209#52855209", "title": "Add Typescript Typing to function prototype in Decorator", "body": "<p>As per <a href=\"https://github.com/Microsoft/TypeScript/issues/4881\" rel=\"nofollow noreferrer\">the issue</a> yurzui linked, TypeScript doesn't support class decorators that change the type of a class.  I'd suggest putting the <code>UnsubscribeComponent</code> logic in a base class that you can extend from <code>ModalFilterComponent</code> instead of a decorator.  If that becomes a problem because you want your components to extend another class, then you could move the unsubscribe logic to a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#support-for-mix-in-classes\" rel=\"nofollow noreferrer\">mix-in</a> that you could apply to any desired base class before extending it in your component.</p>\n"}], "owner": {"reputation": 2362, "user_id": 3648961, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006251682696/picture?type=large", "display_name": "Haziq", "link": "https://stackoverflow.com/users/3648961/haziq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539780380, "creation_date": 1539742740, "question_id": 52846401, "link": "https://stackoverflow.com/questions/52846401/add-typescript-typing-to-function-prototype-in-decorator", "title": "Add Typescript Typing to function prototype in Decorator", "body": "<p>I'm having a problem on how to add typings into function prototype in Decorators. What I'm trying to archive in Component Class is, I would like to unsubscribe rxjs when this component run <code>ngOnDestroy</code>. It's already working but it lacks of typings.</p>\n\n<p>Here my code </p>\n\n<pre><code>// Component \nimport { Component, OnInit } from '@angular/core';\nimport { debounceTime, filter, tap } from 'rxjs/operators';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { UnsubscribeComponent } from '@app/helper/unsubsribe-component.helper';\n\n@UnsubscribeComponent()\n@Component({\n  selector: 'app-modal-filter',\n  templateUrl: './modal-filter.component.html',\n})\nexport class ModalFilterComponent implements OnInit {\n\n  public formFilter: FormGroup;\n\n  constructor(\n    private formBuilder: FormBuilder,\n  ) {\n    this.formFilter = this.formBuilder.group({\n      'startDate': [null, Validators.required],\n      'endDate': [null, Validators.required]\n    });\n  }\n\n  ngOnInit() {\n\n    this.formFilter.valueChanges.pipe(\n      // @ts-ignore  &lt;- If i add this the warning will gone but i dont want to add this every rxjs later.\n      this.unsubsribeOnDestroy,   // &lt;- Error \"Property of unsubsribeOnDestroy is not exist on type ModalFilterComponent\"\n      debounceTime(200),\n      filter(_ =&gt; this.formFilter.valid),\n    ).subscribe();\n  }\n\n}\n</code></pre>\n\n<p>Here my Decorator function <code>UnsubscribeComponent</code></p>\n\n<pre><code>import { takeUntil } from 'rxjs/operators';\nimport { Observable, ReplaySubject } from 'rxjs';\n\nexport function UnsubscribeComponent(): ClassDecorator {\n  const destroyed$: ReplaySubject&lt;boolean&gt; = new ReplaySubject(1);\n\n  return function (componentClass: any) {\n    const destroyHook = componentClass.prototype['ngOnDestroy'];\n\n    componentClass.prototype['unsubsribeOnDestroy'] = (source: Observable&lt;any&gt;): Observable&lt;any&gt; =&gt;\n        source.pipe(takeUntil(destroyed$));\n\n    componentClass.prototype['ngOnDestroy'] = () =&gt; {\n      destroyed$.next(true);\n      destroyed$.complete();\n\n      // tslint:disable-next-line:no-unused-expression\n      destroyHook &amp;&amp; destroyHook();\n    };\n  };\n}\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "html", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539740428, "post_id": 52846122, "comment_id": 92608321, "body": "What is the question or problem?"}, {"owner": {"reputation": 305, "user_id": 2992157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006203712281/picture?type=large", "display_name": "Abhi", "link": "https://stackoverflow.com/users/2992157/abhi"}, "edited": false, "score": 0, "creation_date": 1539741296, "post_id": 52846122, "comment_id": 92608464, "body": "His problem is to insert the value of Camara1 Camera2 Camera3 into src tag from this.Camera1/2/3/4 (component) variable."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10034391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f3NnvdNS9fE/AAAAAAAAAAI/AAAAAAAAACY/hNMNVsMgPHg/photo.jpg?sz=128", "display_name": "Bryam Abril", "link": "https://stackoverflow.com/users/10034391/bryam-abril"}, "edited": false, "score": 0, "creation_date": 1539896100, "post_id": 52864820, "comment_id": 92678362, "body": "Bro thanks but I have an error on the html side ERROR Error: &quot;unsafe value used in a resource URL context (see <a href=\"http://g.co/ng/security#xss\" rel=\"nofollow noreferrer\">g.co/ng/security#xss</a>)&quot; how I can resolve help me please im too close"}, {"owner": {"reputation": 781, "user_id": 5979597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3UzjLvcaAfk/AAAAAAAAAAI/AAAAAAAAAHg/ZmJKufP0G5g/photo.jpg?sz=128", "display_name": "Chad Nehemiah", "link": "https://stackoverflow.com/users/5979597/chad-nehemiah"}, "reply_to_user": {"reputation": 3, "user_id": 10034391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f3NnvdNS9fE/AAAAAAAAAAI/AAAAAAAAACY/hNMNVsMgPHg/photo.jpg?sz=128", "display_name": "Bryam Abril", "link": "https://stackoverflow.com/users/10034391/bryam-abril"}, "edited": false, "score": 0, "creation_date": 1539993470, "post_id": 52864820, "comment_id": 92714523, "body": "Hey , sure this is handled by Angular&#39;s Dom sanitizer <a href=\"https://angular.io/api/platform-browser/DomSanitizer\" rel=\"nofollow noreferrer\">angular.io/api/platform-browser/DomSanitizer</a> so essentially you can pass to <code>bypassSecurityTrustUrl</code> function from this module,  the url. This will sanitize the url and make it accessible for images. For everything else you have to check these docs."}, {"owner": {"reputation": 3, "user_id": 10034391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f3NnvdNS9fE/AAAAAAAAAAI/AAAAAAAAACY/hNMNVsMgPHg/photo.jpg?sz=128", "display_name": "Bryam Abril", "link": "https://stackoverflow.com/users/10034391/bryam-abril"}, "edited": false, "score": 0, "creation_date": 1540047215, "post_id": 52864820, "comment_id": 92724555, "body": "Bro thanks again but now when I whanna see the url on the cell phone gives me a error like this file:///android_asset/www/null it can be load because:  net::ERR_FILE_NOT_FOUND ...... but when I run the app on my pc it works"}], "tags": [], "owner": {"reputation": 781, "user_id": 5979597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3UzjLvcaAfk/AAAAAAAAAAI/AAAAAAAAAHg/ZmJKufP0G5g/photo.jpg?sz=128", "display_name": "Chad Nehemiah", "link": "https://stackoverflow.com/users/5979597/chad-nehemiah"}, "is_accepted": true, "score": 0, "last_activity_date": 1539817824, "creation_date": 1539817824, "answer_id": 52864820, "question_id": 52846122, "link": "https://stackoverflow.com/questions/52846122/how-to-insert-a-component-variable-value-into-html-src-tag-using-typescript/52864820#52864820", "title": "How to insert a component variable value into html src tag using typescript", "body": "<p>I would suggest having the <code>url</code> as a variable that is passed to your <code>iframe</code>. So in your <strong>Typescript</strong> you would have :</p>\n\n<pre><code> const baseUrl = `http://publicIP:4545/`\n // Other code\n ....     \n this.Camara4=this.ApiKey[3]+\"/mjpeg/\"+this.GroupKey[3]+\"/\"+this.MonitorId[3];\n this.Camara4Url = `${baseUrl}${this.Camara4}`\n</code></pre>\n\n<p>Then bind it in your <strong>HTML</strong> file:</p>\n\n<pre><code>&lt;ion-row&gt;\n &lt;ion-col&gt;\n  &lt;iframe [src]=\"Camara4Url\"  scrolling=\"no\"&gt;&lt;/iframe&gt;\n &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10034391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f3NnvdNS9fE/AAAAAAAAAAI/AAAAAAAAACY/hNMNVsMgPHg/photo.jpg?sz=128", "display_name": "Bryam Abril", "link": "https://stackoverflow.com/users/10034391/bryam-abril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 52864820, "answer_count": 1, "score": 0, "last_activity_date": 1539817824, "creation_date": 1539739915, "last_edit_date": 1539790721, "question_id": 52846122, "link": "https://stackoverflow.com/questions/52846122/how-to-insert-a-component-variable-value-into-html-src-tag-using-typescript", "title": "How to insert a component variable value into html src tag using typescript", "body": "<p>I want to add Camera1/2/3/... values to be inserted into HTML form SRC tag. Please check out my code sample for the same. I am using Ionic Framework, Typescript</p>\n\n<p>Typescript:</p>\n\n<pre><code>public condicion:boolean;//condicion \n\n  constructor(public navCtrl: NavController, private contactProvider: ContactProvider, public toastCtrl: ToastController,private smsVar: SMS) {\n\n    this.contactProvider.getAll()\n    .then((result) =&gt; {\n      this.contacts = result;\n\n      let answer = this.contacts.map(x=&gt; {\n      let {name2, name3, name4} = x.contact;\n      let obj = {name2,name3,name4}\n      return obj\n    })\n\n    this.GroupKey= answer.map(({ name2}) =&gt; name2);\n    this.ApiKey= answer.map(({ name4}) =&gt; name4);\n    this.MonitorId = answer.map(({ name3}) =&gt; name3);\n    //console.log(answer)\n    this.Camara1=this.ApiKey[0]+\"/mjpeg/\"+this.GroupKey[0]+\"/\"+this.MonitorId[0];\n    this.Camara2=this.ApiKey[1]+\"/mjpeg/\"+this.GroupKey[1]+\"/\"+this.MonitorId[1];\n    this.Camara3=this.ApiKey[2]+\"/mjpeg/\"+this.GroupKey[2]+\"/\"+this.MonitorId[2];\n    this.Camara4=this.ApiKey[3]+\"/mjpeg/\"+this.GroupKey[3]+\"/\"+this.MonitorId[3];\n    console.log(this.Camara1);\n    });\n\n\n  }\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ion-row&gt;\n  &lt;ion-col&gt;\n      &lt;iframe src=\"http://publicIP:4545/+'Camara1'\"  scrolling=\"no\"&gt;&lt;/iframe&gt;\n  &lt;/ion-col&gt;\n  &lt;ion-col&gt;\n    &lt;iframe src=\"http://publicIP:4545/+'Camara2'\"  scrolling=\"no\"&gt;&lt;/iframe&gt;\n  &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n&lt;ion-row&gt;\n  &lt;ion-col&gt;\n    &lt;iframe src=\"http://publicIP:4545/+'Camara3'\"  scrolling=\"no\"&gt;&lt;/iframe&gt;      \n  &lt;/ion-col&gt;\n  &lt;ion-col&gt;\n    &lt;iframe src=\"http://publicIP:4545/+'Camara4'\"  scrolling=\"no\"&gt;&lt;/iframe&gt;\n  &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539739735, "post_id": 52846053, "comment_id": 92608166, "body": "What line of code is the error reported on?"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539739956, "post_id": 52846053, "comment_id": 92608233, "body": "First line. I added a print screen"}], "answers": [{"comments": [{"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 0, "creation_date": 1539740674, "post_id": 52846145, "comment_id": 92608366, "body": "It&#39;s not empty, but I think the error started happening when I installed the types/redux-logger package, do you recommend me to uninstall it?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 1, "creation_date": 1539741100, "post_id": 52846145, "comment_id": 92608434, "body": "Looks like your directory has <code>index.d.ts</code> in it, so you shouldn&#39;t be getting the error.  Try restarting VS Code if you haven&#39;t already.  You could also try uninstalling and reinstalling the package."}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 0, "creation_date": 1539741475, "post_id": 52846145, "comment_id": 92608482, "body": "Yes, reinstalling and restarting VS Code solved the issue, it was a basic solution ;). thank you sir"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1539740257, "creation_date": 1539740257, "answer_id": 52846145, "question_id": 52846053, "link": "https://stackoverflow.com/questions/52846053/cannot-find-type-definition-file-for-redux-logger-error-in-tsconfig-json/52846145#52846145", "title": "Cannot find type definition file for &#39;redux-logger&#39; error in tsconfig.json", "body": "<p>This error most likely means that the <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\"><code>typeRoots</code> mechanism</a> found a directory that appeared to represent a package named <code>@types/redux-logger</code>, but the directory did not contain a declaration file.  If you have an empty directory at <code>node_modules/@types/redux-logger</code>, try deleting it.</p>\n"}], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 52846145, "answer_count": 1, "score": 1, "last_activity_date": 1539740534, "creation_date": 1539739345, "last_edit_date": 1539740534, "question_id": 52846053, "link": "https://stackoverflow.com/questions/52846053/cannot-find-type-definition-file-for-redux-logger-error-in-tsconfig-json", "title": "Cannot find type definition file for &#39;redux-logger&#39; error in tsconfig.json", "body": "<p>I'm working in a react application using typescript and redux. I updated several npm packages, between them the <code>typescript</code> package and now the <code>tsconfig.json</code> (typescrip compiler configuration file) is showing me the following error:</p>\n\n<blockquote>\n  <p>Cannot find type definition file for 'redux-logger'</p>\n</blockquote>\n\n<p>I tried to search that issue here and google, but I could not find what I need to include in the tsconfig.json. This is the content of the file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"build/dist\",\n    \"module\": \"esnext\",\n    \"target\": \"es5\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"sourceMap\": true,\n    \"allowJs\": true,\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \".\",\n    \"forceConsistentCasingInFileNames\": true,\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"noUnusedLocals\": true,\n    \"allowSyntheticDefaultImports\": true,\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"build\",\n    \"scripts\",\n    \"acceptance-tests\",\n    \"webpack\",\n    \"jest\",\n    \"src/setupTests.ts\"\n  ],\n  \"include\": [\n      \"./src/**/*\"\n  ]\n}\n</code></pre>\n\n<p>Am I need to include something new now in the tsconfig.json? The project compiles and runs well, but this error bothers me</p>\n\n<p><a href=\"https://i.stack.imgur.com/g7ZnT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g7ZnT.png\" alt=\"error\"></a></p>\n\n<p>And these are the version of npm packages:</p>\n\n<pre><code>{\n  \"name\": \"documentloader\",\n  \"version\": \"1.0.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@material-ui/core\": \"^3.0.3\",\n    \"@material-ui/icons\": \"^3.0.1\",\n    \"react\": \"16.5.2\",\n    \"react-dom\": \"16.5.2\",\n    \"react-redux\": \"^5.0.7\",\n    \"react-redux-loading-bar\": \"^4.0.8\",\n    \"react-router-dom\": \"^4.3.1\",\n    \"react-scripts-ts\": \"latest\",\n    \"react-toastify\": \"^4.4.0\",\n    \"react-transition-group\": \"^2.5.0\",\n    \"redux\": \"^4.0.1\",\n    \"redux-logger\": \"^3.0.6\",\n    \"redux-persist\": \"^5.10.0\",\n    \"redux-saga\": \"^0.16.2\",\n    \"redux-thunk\": \"^2.3.0\",\n    \"ts-loader\": \"^5.2.2\"\n  },\n  \"devDependencies\": {\n    \"@types/classnames\": \"^2.2.6\",\n    \"@types/history\": \"^4.7.1\",\n    \"@types/jest\": \"^23.3.5\",\n    \"@types/node\": \"10.12.0\",\n    \"@types/ramda\": \"^0.25.39\",\n    \"@types/react\": \"16.4.18\",\n    \"@types/react-dom\": \"^16.0.9\",\n    \"@types/react-redux\": \"^6.0.9\",\n    \"@types/react-router-dom\": \"^4.3.1\",\n    \"@types/redux-logger\": \"^3.0.6\",\n    \"@types/webpack-env\": \"^1.13.6\",\n    \"awesome-typescript-loader\": \"^5.2.1\",\n    \"css-loader\": \"^1.0.0\",\n    \"csstype\": \"^2.5.7\",\n    \"file-loader\": \"^2.0.0\",\n    \"html-webpack-plugin\": \"^3.2.0\",\n    \"redux-devtools-extension\": \"^2.13.5\",\n    \"source-map-loader\": \"^0.2.4\",\n    \"style-loader\": \"^0.23.1\",\n    \"typescript\": \"^3.1.3\",\n    \"webpack\": \"^4.20.2\",\n    \"webpack-cli\": \"^3.1.2\",\n    \"webpack-dev-middleware\": \"^3.4.0\",\n    \"webpack-dev-server\": \"^3.1.9\",\n    \"webpack-hot-middleware\": \"^2.24.3\"\n  }\n }\n</code></pre>\n\n<h2>Update</h2>\n\n<p>Content of @types/redux-logger folder:\n<a href=\"https://i.stack.imgur.com/mZyi2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mZyi2.png\" alt=\"folder\"></a></p>\n"}, {"tags": ["typescript", "ag-grid"], "comments": [{"owner": {"reputation": 305, "user_id": 6422273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f2505d67fcc0f0fc005b9c3d011bc9?s=128&d=identicon&r=PG&f=1", "display_name": "Ms.Tamil", "link": "https://stackoverflow.com/users/6422273/ms-tamil"}, "edited": false, "score": 0, "creation_date": 1539765757, "post_id": 52846024, "comment_id": 92616937, "body": "Can you add a plunker for it. It would be easier to track the flow then."}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 6121865, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/19f1a7c7db749619169f3878b379b110?s=128&d=identicon&r=PG&f=1", "display_name": "dev", "link": "https://stackoverflow.com/users/6121865/dev"}, "edited": false, "score": 0, "creation_date": 1539801528, "post_id": 52850827, "comment_id": 92637545, "body": "How can we remove event listener for row selection event when checkbox is clicked? Do we need to make custom checkbox for this?"}], "tags": [], "owner": {"reputation": 1899, "user_id": 1063878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j64nI.jpg?s=128&g=1", "display_name": "Alexander Zbinden", "link": "https://stackoverflow.com/users/1063878/alexander-zbinden"}, "is_accepted": false, "score": 0, "last_activity_date": 1539766231, "creation_date": 1539766231, "answer_id": 52850827, "question_id": 52846024, "link": "https://stackoverflow.com/questions/52846024/programmatically-selecting-and-deselecting-row-in-ag-grid/52850827#52850827", "title": "Programmatically selecting and deselecting row in ag-grid", "body": "<p>One possible way is to add and remove an eventListener manually to have more control in certain actions/scenarios:</p>\n\n<p><a href=\"https://www.ag-grid.com/javascript-grid-row-node/\" rel=\"nofollow noreferrer\">https://www.ag-grid.com/javascript-grid-row-node/</a></p>\n\n<ul>\n<li><strong>addEventListener(eventType: string, listener: Function)</strong>: Add an event listener. Currently only rowSelected event supported.</li>\n<li><strong>removeEventListener(eventType: string, listener: Function)</strong> Remove event listener.</li>\n</ul>\n"}], "owner": {"reputation": 361, "user_id": 6121865, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/19f1a7c7db749619169f3878b379b110?s=128&d=identicon&r=PG&f=1", "display_name": "dev", "link": "https://stackoverflow.com/users/6121865/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3991, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539766231, "creation_date": 1539739148, "question_id": 52846024, "link": "https://stackoverflow.com/questions/52846024/programmatically-selecting-and-deselecting-row-in-ag-grid", "title": "Programmatically selecting and deselecting row in ag-grid", "body": "<p>I am selecting and deselecting some rows in ag-grid based on some condition. I am doing this in onRowDataChanged event, which will be called after grid has been loaded and row data being populated. When I am trying to achieve this in onGridReady event, it is called before row data being populated. So, I did this in onRowDataChanged event.</p>\n\n<p>This is my implementation of gridOptions.</p>\n\n<pre><code>ngOnInit() {\n  this.gridOptions = &lt;any&gt; {\n    rowSelection: 'multiple',\n    onRowSelected: event =&gt; {\n      // save selected rows in an array for additional work.\n    },\n    onRowDataChanged: event =&gt; {\n      if (selectRows) {\n         this.gridApi.selectAll();\n      } else {\n        this.gridApi.deSelectAll();\n      }\n    }\n    onGridReady: params =&gt; {\n      params.api.sizeColumnsToFit();\n    }\n  }\n}\n</code></pre>\n\n<p>Rows are selected and deselected properly based on condition.\nIf I want to select or deselect certain rows also, I can use following code:</p>\n\n<pre><code>this.gridApi.getRowNode(index).setSelected(true);\nthis.gridApi.getRowNode(index).setSelected(false);\n</code></pre>\n\n<p>But, I am facing one issue while selecting and deselecting rows programmatically. \nAfter this.gridApi.selectAll(); is executed and grid rows are all selected, onRowSelected event is being fired. And the code which I am doing when that event is fired is executed for each row selection and deselection. </p>\n\n<p>onRowSelection event should only be fired if user select or unselect checkbox. And I am saving the selected rows in an array to send to server.</p>\n\n<p>But, when I am selecting or deselecting rows during onRowDataChanged programmatically, onRowSelection is also being fired. This will cause code on that event to be executed multiple times and is giving me performance impact when I have more than 400 rows.</p>\n\n<p>How can I select or deselect certain rows in ag-grid programmatically without firing onRowSelected event multiple times?</p>\n"}, {"tags": ["typescript", "knockout.js"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1539739242, "creation_date": 1539739242, "answer_id": 52846033, "question_id": 52845900, "link": "https://stackoverflow.com/questions/52845900/typescript-conditional-mapped-types/52846033#52846033", "title": "Typescript - conditional mapped types", "body": "<p>As you expect, <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a> will help you:</p>\n\n<pre><code>type KnockoutType&lt;T&gt; = {\n    [K in keyof T]: T[K] extends Array&lt;infer U&gt; ? \n      KnockoutObservableArray&lt;U&gt; : KnockoutObservable&lt;T[K]&gt;\n}\n</code></pre>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 5156, "user_id": 34461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bd6e62afb4881ab0f617611b8b65d003?s=128&d=identicon&r=PG", "display_name": "Chui Tey", "link": "https://stackoverflow.com/users/34461/chui-tey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 52846033, "answer_count": 1, "score": 1, "last_activity_date": 1539739242, "creation_date": 1539738037, "question_id": 52845900, "link": "https://stackoverflow.com/questions/52845900/typescript-conditional-mapped-types", "title": "Typescript - conditional mapped types", "body": "<p>I would like to map a plain old Javascript type to an equivalent one using Knockout observables.</p>\n\n<pre><code>interface KnockoutObservableArray&lt;T&gt; { }\ninterface KnockoutObservable&lt;T&gt; { }\n\nclass CustomerDto {\n    Name: string;\n    PetLicenseNumbers: number[];\n}\n\n// manually mapped to Knockout-equivalent \nclass CustomerDtoKo {\n    Name: KnockoutObservable&lt;string&gt;;\n    PetLicenseNumbers: KnockoutObservableArray&lt;number&gt;;\n}\n</code></pre>\n\n<p>I'm trying to use mapped types to do the above automatically but I couldn't\nfind a proper way to conditionally map arrays to <code>KnockoutObservableArray&lt;U&gt;</code> \nwhile mapping the scalars to <code>KnockoutObservable&lt;U&gt;</code></p>\n\n<pre><code>type KnockoutType&lt;T&gt; = {\n    //[K in keyof T] : KnockoutObservableArray&lt;T[K][0]&gt;\n    [K in keyof T] : KnockoutObservable&lt;T[K]&gt;\n}\n\ntype CustomerDtoKo2 = KnockoutType&lt;CustomerDto&gt;;\n// gives\ntype CustomerDtoKo2 = {\n    Name: KnockoutObservable&lt;string&gt;,\n    PetLicenseNumbers: KnockoutObservable&lt;number[]&gt; // should be KnockoutObservableArray&lt;number&gt;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "types", "node-serialport"], "answers": [{"comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1539738708, "post_id": 52845799, "comment_id": 92607923, "body": "Of course, given <code>map</code> as in the second variant, it&#39;s possible to define named types <code>type PropName = keyof PropMapping</code> and <code>type PortInfoProp = PropMapping[PropName]</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1539738994, "post_id": 52845799, "comment_id": 92607979, "body": "Also in the second variant, you could get your string literal types back if you do something like <code>const lit = &lt;K extends string | number | boolean&gt;(k: K) =&gt; k;</code> and then <code>{ DEVNAME: lit(&#39;comName&#39;), ID_VENDOR_ENC: lit(&#39;manufacturer&#39;) ... }</code>."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1539737429, "last_edit_date": 1539737429, "creation_date": 1539736994, "answer_id": 52845799, "question_id": 52845673, "link": "https://stackoverflow.com/questions/52845673/how-do-i-make-this-typescript-mapping-function-much-less-complex/52845799#52845799", "title": "How do I make this typescript mapping function much less complex?", "body": "<p>The first thing I'd do is move your map outside of the function; there's no need to recreate it on each call. You can then declare your mapping as a dictionary:</p>\n\n<pre><code>type PropName = 'DEVNAME' | 'ID_VENDOR_ENC' | 'ID_SERIAL_SHORT' | 'ID_VENDOR_ID' | 'ID_MODEL_ID' | 'DEVLINKS';\ntype PortInfoProp = 'comName' | 'manufacturer' | 'serialNumber' | 'vendorId' | 'productId' | 'pnpId';\n\ntype PropertyMapping = { [key in PropName]: PortInfoProp };\n\nconst map: PropertyMapping = {\n  DEVNAME: 'comName',\n  ID_VENDOR_ENC: 'manufacturer',\n  ID_SERIAL_SHORT: 'serialNumber',\n  ID_VENDOR_ID: 'vendorId',\n  ID_MODEL_ID: 'productId',\n  DEVLINKS: 'pnpId',\n}\n\nfunction propName(name: PropName): PortInfoProp | null {\n  return map[name] || null\n}\n</code></pre>\n\n<p><strong>Edit</strong>: </p>\n\n<p>More succinct if you don't care to have named types for your map keys/values:</p>\n\n<pre><code>const map = {\n  DEVNAME: 'comName',\n  ID_VENDOR_ENC: 'manufacturer',\n  ID_SERIAL_SHORT: 'serialNumber',\n  ID_VENDOR_ID: 'vendorId',\n  ID_MODEL_ID: 'productId',\n  DEVLINKS: 'pnpId',\n}\n\ntype PropMapping = typeof map;\n\nfunction propName&lt;K extends keyof PropMapping&gt;(name: K): PropMapping[K] | null {\n  return map[name] || null\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "is_accepted": false, "score": 0, "last_activity_date": 1539740774, "creation_date": 1539740774, "answer_id": 52846198, "question_id": 52845673, "link": "https://stackoverflow.com/questions/52845673/how-do-i-make-this-typescript-mapping-function-much-less-complex/52846198#52846198", "title": "How do I make this typescript mapping function much less complex?", "body": "<p>A switch statement was a bit more concise. </p>\n\n<pre><code>type PortInfoProp = 'comName' | 'manufacturer' | 'serialNumber' | 'vendorId' | 'productId' | 'pnpId'\ntype PropName = 'DEVLINKS' | 'DEVNAME' | 'ID_MODEL_ID' | 'ID_SERIAL_SHORT' | 'ID_VENDOR_ENC' | 'ID_VENDOR_ID'\n\nfunction propName(name: PropName): PortInfoProp | null {\n  switch (name) {\n    case 'DEVNAME':\n      return 'comName'\n    case 'ID_VENDOR_ENC':\n      return 'manufacturer'\n    case 'ID_SERIAL_SHORT':\n      return 'serialNumber'\n    case 'ID_VENDOR_ID':\n      return 'vendorId'\n    case 'ID_MODEL_ID':\n      return 'productId'\n    case 'DEVLINKS':\n      return 'pnpId'\n    default:\n      return null\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1539740774, "creation_date": 1539735889, "question_id": 52845673, "link": "https://stackoverflow.com/questions/52845673/how-do-i-make-this-typescript-mapping-function-much-less-complex", "title": "How do I make this typescript mapping function much less complex?", "body": "<p>I'm trying to do a pretty simple map between some known values to some other known values. Everything about this code screams I'm missing something simple that typescript can do.</p>\n\n<pre><code>type PortInfoProp = 'comName' | 'manufacturer' | 'serialNumber' | 'vendorId' | 'productId' | 'pnpId'\n\ninterface LinuxPort extends PortInfo {}\n\ninterface PropNames {\n  readonly DEVLINKS: PortInfoProp\n  readonly DEVNAME: PortInfoProp\n  readonly ID_MODEL_ID: PortInfoProp\n  readonly ID_SERIAL_SHORT: PortInfoProp\n  readonly ID_VENDOR_ENC: PortInfoProp\n  readonly ID_VENDOR_ID: PortInfoProp\n}\n\ntype PropName = keyof PropNames\n\nfunction propName(name: PropName): PortInfoProp | null {\n  const map: PropNames = {\n    DEVNAME: 'comName',\n    ID_VENDOR_ENC: 'manufacturer',\n    ID_SERIAL_SHORT: 'serialNumber',\n    ID_VENDOR_ID: 'vendorId',\n    ID_MODEL_ID: 'productId',\n    DEVLINKS: 'pnpId',\n  }\n  return map[name] || null\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "set"], "comments": [{"owner": {"reputation": 10971, "user_id": 3575047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1820d77e8fbadfc9800df2b21efcd46?s=128&d=identicon&r=PG&f=1", "display_name": "Fengyang Wang", "link": "https://stackoverflow.com/users/3575047/fengyang-wang"}, "edited": false, "score": 0, "creation_date": 1539735812, "post_id": 52845610, "comment_id": 92607318, "body": "Please put your code inline in the question, and not in the screenshot. Also, this is a simple typo: you have omitted the <code>set X(value: number)</code> type annotation on your setter, so value cannot be safely compared to 0."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 10971, "user_id": 3575047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1820d77e8fbadfc9800df2b21efcd46?s=128&d=identicon&r=PG&f=1", "display_name": "Fengyang Wang", "link": "https://stackoverflow.com/users/3575047/fengyang-wang"}, "edited": false, "score": 0, "creation_date": 1539738556, "post_id": 52845610, "comment_id": 92607887, "body": "@FengyangWang It&#39;s a little more complex than that; see my answer."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1539738546, "creation_date": 1539738546, "answer_id": 52845957, "question_id": 52845610, "link": "https://stackoverflow.com/questions/52845610/typescript-setter-compile-error-but-it-still-does-its-job/52845957#52845957", "title": "TypeScript Setter Compile error but it still does its job?", "body": "<p>When a property such as <code>X</code> is defined by accessors, the return type of the <code>get</code> accessor must be the same as the parameter type of the <code>set</code> accessor.  Since you didn't annotate either type, by default TypeScript uses the type actually returned by the <code>get</code> accessor, which is the type of the property <code>x</code> declared in the constructor, which is <code>number | undefined</code> because <code>x</code> was declared optional.  Thus, in the <code>set</code> accessor, the type of <code>value</code> is <code>number | undefined</code>, and TypeScript won't let you compare <code>value &lt;= 0</code> if <code>value</code> can be undefined.</p>\n\n<p>To fix the problem, either change the type of <code>x</code> so it doesn't include <code>undefined</code> (e.g., by specifying a default value for the <code>x</code> parameter in the constructor) or check for <code>value</code> being undefined in the <code>set</code> accessor.</p>\n"}], "owner": {"reputation": 121, "user_id": 7311894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806565864976/picture?type=large", "display_name": "Jean-Philippe Dufour", "link": "https://stackoverflow.com/users/7311894/jean-philippe-dufour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539738546, "creation_date": 1539735283, "last_edit_date": 1539735808, "question_id": 52845610, "link": "https://stackoverflow.com/questions/52845610/typescript-setter-compile-error-but-it-still-does-its-job", "title": "TypeScript Setter Compile error but it still does its job?", "body": "<p>Typescript 3.0.1 gives me a compiling error for my setter inside my class but it still does it's job as it should when I run my JS as you can see on the picture.</p>\n\n<p>Code looks like this : </p>\n\n<p><a href=\"https://i.stack.imgur.com/UytUs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UytUs.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a reason for that? How do I get it to compile without the error because it is confusing me as I am learning Typescript.</p>\n"}, {"tags": ["reactjs", "typescript", "svg"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539735121, "post_id": 52845037, "comment_id": 92607156, "body": "TypeScript by itself is not capable of importing SVG files.  Are you using a module bundler such as Webpack to import the SVG files?  If so, please add the configuration for your module bundler to the question."}, {"owner": {"reputation": 260, "user_id": 5046030, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/vIl1y.png?s=128&g=1", "display_name": "while1pass", "link": "https://stackoverflow.com/users/5046030/while1pass"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539806595, "post_id": 52845037, "comment_id": 92639868, "body": "@MattMcCutchen updated post"}, {"owner": {"reputation": 260, "user_id": 5046030, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/vIl1y.png?s=128&g=1", "display_name": "while1pass", "link": "https://stackoverflow.com/users/5046030/while1pass"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539807638, "post_id": 52845037, "comment_id": 92640326, "body": "@MattMcCutchen As I see, my browser receive my string as link, updated questions"}], "answers": [{"tags": [], "owner": {"reputation": 260, "user_id": 5046030, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/vIl1y.png?s=128&g=1", "display_name": "while1pass", "link": "https://stackoverflow.com/users/5046030/while1pass"}, "is_accepted": false, "score": 0, "last_activity_date": 1539811594, "creation_date": 1539811594, "answer_id": 52863858, "question_id": 52845037, "link": "https://stackoverflow.com/questions/52845037/react-import-svg/52863858#52863858", "title": "React. Import svg", "body": "<p>Add <code>.svg</code> extension to extenstions list for <code>url-loader</code> like that </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>...\r\nrules: [\r\n...\r\n          {\r\n            test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.svg$/],\r\n            loader: require.resolve(\"url-loader\"),\r\n            options: {\r\n              limit: 10000,\r\n              name: \"static/media/[name].[hash:8].[ext]\"\r\n            }\r\n          },\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 260, "user_id": 5046030, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/vIl1y.png?s=128&g=1", "display_name": "while1pass", "link": "https://stackoverflow.com/users/5046030/while1pass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 898, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539812341, "creation_date": 1539730512, "last_edit_date": 1539812341, "question_id": 52845037, "link": "https://stackoverflow.com/questions/52845037/react-import-svg", "title": "React. Import svg", "body": "<p>Export svg from root file <code>index.ts</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import * as upArrow from \"./up-arrow.svg\";\r\nimport * as downArrow from \"./down-arrow.svg\";\r\n\r\nexport { upArrow, downArrow };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Try to use in my component</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import * as React from \"react\";\r\nimport { Icon } from \"components\";\r\nimport { upArrow, downArrow } from \"common/assets\";\r\n\r\nconst CollapseIcon = ({ condition }) =&gt; (\r\n  &lt;Icon alternative={upArrow} asset={downArrow} condition={condition} /&gt;\r\n);\r\n\r\nexport default CollapseIcon;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If it's important, I use values <code>asset</code> and <code>alternative</code> in <code>src</code> attribute like that</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>export default styled.img.attrs&lt;IconProps&gt;({\r\n  src: ({ condition, alternative, asset }: IconProps) =&gt;\r\n    condition ? alternative : asset,\r\n  alt: ({ alt }: IconProps) =&gt; alt\r\n})`\r\n  vertical-align: middle;\r\n `</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But get html-element with double quotes. If delete it, element view correctly. Where am I wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/IIlJ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIlJ6.png\" alt=\"enter image description here\"></a></p>\n\n<p>I try to declare non-code assets accrding <a href=\"http://declare%20module%20%22*.svg%22%20%7B%20%20%20const%20content:%20any;%20%20%20export%20default%20content;%20%7D\" rel=\"nofollow noreferrer\">docs</a>, but never change</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>declare module \"*.svg\" {\r\n  const content: string;\r\n  export default content;\r\n}\r\ndeclare module \"*.png\";\r\ndeclare module \"*.jpg\";</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My Webpack config: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"use strict\";\r\n\r\nconst path = require(\"path\");\r\nconst webpack = require(\"webpack\");\r\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\r\nconst CaseSensitivePathsPlugin = require(\"case-sensitive-paths-webpack-plugin\");\r\nconst InterpolateHtmlPlugin = require(\"react-dev-utils/InterpolateHtmlPlugin\");\r\nconst WatchMissingNodeModulesPlugin = require(\"react-dev-utils/WatchMissingNodeModulesPlugin\");\r\nconst ModuleScopePlugin = require(\"react-dev-utils/ModuleScopePlugin\");\r\nconst getClientEnvironment = require(\"./env\");\r\nconst paths = require(\"./paths\");\r\n\r\nconst publicPath = \"/\";\r\nconst publicUrl = \"\";\r\nconst env = getClientEnvironment(publicUrl);\r\n\r\nmodule.exports = {\r\n  devtool: \"cheap-module-source-map\",\r\n  entry: [\r\n    require.resolve(\"./polyfills\"),\r\n    require.resolve(\"react-dev-utils/webpackHotDevClient\"),\r\n    paths.appIndexJs\r\n  ],\r\n  output: {\r\n    pathinfo: true,\r\n    filename: \"static/js/bundle.js\",\r\n    chunkFilename: \"static/js/[name].chunk.js\",\r\n    publicPath: publicPath,\r\n    devtoolModuleFilenameTemplate: info =&gt;\r\n      path.resolve(info.absoluteResourcePath).replace(/\\\\/g, \"/\")\r\n  },\r\n  resolve: {\r\n    modules: [paths.appSrc, paths.appNodeModules].concat(\r\n      process.env.NODE_PATH.split(path.delimiter).filter(Boolean)\r\n    ),\r\n    extensions: [\".ts\", \".tsx\", \".js\", \".jsx\"],\r\n    alias: {\r\n      \"react-native\": \"react-native-web\"\r\n    },\r\n    plugins: [\r\n      new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson])\r\n    ]\r\n  },\r\n  module: {\r\n    strictExportPresence: true,\r\n    rules: [\r\n      {\r\n        enforce: \"pre\",\r\n        test: /\\.js$/,\r\n        loader: \"source-map-loader\"\r\n      },\r\n      {\r\n        oneOf: [\r\n          {\r\n            test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/],\r\n            loader: require.resolve(\"url-loader\"),\r\n            options: {\r\n              limit: 10000,\r\n              name: \"static/media/[name].[hash:8].[ext]\"\r\n            }\r\n          },\r\n          {\r\n            test: /\\.(ts|tsx|js|jsx)?$/,\r\n            loader: \"awesome-typescript-loader\",\r\n            options: {\r\n              getCustomTransformers: require(\"../config/transformers.js\")\r\n            }\r\n          },\r\n          {\r\n            exclude: [/\\.(js|jsx|mjs)$/, /\\.html$/, /\\.json$/],\r\n            loader: require.resolve(\"file-loader\"),\r\n            options: {\r\n              name: \"static/media/[name].[hash:8].[ext]\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  plugins: [\r\n    new InterpolateHtmlPlugin(env.raw),\r\n    new HtmlWebpackPlugin({\r\n      inject: true,\r\n      template: paths.appHtml\r\n    }),\r\n    new webpack.NamedModulesPlugin(),\r\n    new webpack.DefinePlugin(env.stringified),\r\n    new webpack.HotModuleReplacementPlugin(),\r\n    new CaseSensitivePathsPlugin(),\r\n    new WatchMissingNodeModulesPlugin(paths.appNodeModules),\r\n    new webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/)\r\n  ],\r\n  node: {\r\n    dgram: \"empty\",\r\n    fs: \"empty\",\r\n    net: \"empty\",\r\n    tls: \"empty\",\r\n    child_process: \"empty\"\r\n  },\r\n  performance: {\r\n    hints: false\r\n  },\r\n  externals: {\r\n    react: \"React\",\r\n    \"react-dom\": \"ReactDOM\"\r\n  },\r\n  devtool: \"source-map\"\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>UPD. As I see, browser receive my string as link</p>\n\n<p><a href=\"https://i.stack.imgur.com/qYmwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qYmwS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular-material2"], "answers": [{"comments": [{"owner": {"reputation": 1023, "user_id": 1537657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZMDj6.jpg?s=128&g=1", "display_name": "rain01", "link": "https://stackoverflow.com/users/1537657/rain01"}, "edited": false, "score": 0, "creation_date": 1539808470, "post_id": 52847236, "comment_id": 92640738, "body": "Oh wow. I had no idea that could even be the issue. I guess you learn something new everyday. How would you even start to figure that out? Thanks though."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "reply_to_user": {"reputation": 1023, "user_id": 1537657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZMDj6.jpg?s=128&g=1", "display_name": "rain01", "link": "https://stackoverflow.com/users/1537657/rain01"}, "edited": false, "score": 0, "creation_date": 1539832237, "post_id": 52847236, "comment_id": 92646646, "body": "I started with putting <code>debugger</code> inside <code>ViewChild</code> like <code>@ViewChild(MatColumnDef) set columnDef(val) { debugger }</code> And I had already known how <code>ViewChild</code> works under the hood."}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 2, "last_activity_date": 1539749996, "creation_date": 1539749996, "answer_id": 52847236, "question_id": 52844999, "link": "https://stackoverflow.com/questions/52844999/custom-angular-6-material-table-component-with-custom-columns/52847236#52847236", "title": "Custom Angular 6 material table component with custom columns", "body": "<p>The reason for that is that you defined NgModule with material directives from <code>@angular/material</code> module but now is trying to get access to directive from <code>@angular/material/table</code> module.</p>\n\n<p>Just a small test:</p>\n\n<pre><code>import {MatColumnDef} from '@angular/material/table';\nimport {MatColumnDef as RooColumnDef } from '@angular/material';\n\nconsole.log(MatColumnDef, RooColumnDef, MatColumnDef === RooColumnDef);\n                                                      ||\n                                                     false\n</code></pre>\n\n<p>So as you can guess <code>MatTableModule</code> and <code>MatColumnDef</code> should be imported from the same module.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-wm1psg?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">Forked Stackblitz</a></strong></p>\n"}], "owner": {"reputation": 1023, "user_id": 1537657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZMDj6.jpg?s=128&g=1", "display_name": "rain01", "link": "https://stackoverflow.com/users/1537657/rain01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3818, "favorite_count": 0, "accepted_answer_id": 52847236, "answer_count": 1, "score": 4, "last_activity_date": 1539749996, "creation_date": 1539730251, "last_edit_date": 1539735293, "question_id": 52844999, "link": "https://stackoverflow.com/questions/52844999/custom-angular-6-material-table-component-with-custom-columns", "title": "Custom Angular 6 material table component with custom columns", "body": "<p>I'm trying to simplify creating tables with custom material table component where with very little code I can create a very custom table for each different data source with pagination and sorting already attached. All I have to pass is <code>displayedColumns</code> and <code>data</code>. Based on the examples <a href=\"https://github.com/angular/material2/tree/7.0.0-beta.0/src/demo-app/table/custom-table\" rel=\"nofollow noreferrer\">here</a> I built this(<a href=\"https://stackblitz.com/edit/angular-kp2ryv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-kp2ryv</a>), but for some reason I'm getting error in StackBlitz when trying to use the custom column component.</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot set property 'name' of undefined</p>\n</blockquote>\n\n<p>Which tells me <code>@ViewChild(MatColumnDef) columnDef: MatColumnDef;</code> is not reading the <code>matColumnDef</code> in the template for some reason.</p>\n\n<p>Example table creation with custom comp:</p>\n\n<pre><code>&lt;dyn-table [data]=\"users\" [displayedColumns]=\"displayedColumns\"&gt;\n    &lt;dyn-col name=\"user_id\"&gt;&lt;/dyn-col&gt;\n    &lt;dyn-col name=\"user_name\"&gt;&lt;/dyn-col&gt;\n&lt;/dyn-table&gt;\n</code></pre>\n\n<p>Which would replace all this:</p>\n\n<pre><code>&lt;table mat-table #table [dataSource]=\"dataSource\" class=\"table table-striped mat-elevation-z8\"&gt;\n\n    &lt;ng-container matColumnDef=\"user_id\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; User id &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let data\"&gt;{{ data.user_id }}&lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"user_name\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; User name &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let data\"&gt;{{ data.user_name }}&lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n    &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;mat-paginator #paginator [pageSize]=\"10\"&gt;&lt;/mat-paginator&gt;\n</code></pre>\n\n<p>I've spent 2 days googling and trialing and erroring and I can't figure out why it's not reading it.</p>\n\n<p>Working fork of the same StackBlitz but without custom column components <a href=\"https://stackblitz.com/edit/angular-jw9whh\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-jw9whh</a></p>\n"}]