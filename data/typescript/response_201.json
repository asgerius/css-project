[{"tags": ["javascript", "typescript", "iterator", "currying"], "answers": [{"comments": [{"owner": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "edited": false, "score": 1, "creation_date": 1542296757, "post_id": 53311241, "comment_id": 93526529, "body": "that multiple return syntax is a surprise!"}, {"owner": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "edited": false, "score": 0, "creation_date": 1542297163, "post_id": 53311241, "comment_id": 93526793, "body": "Typescript doesn&#39;t have a problem with calling parallel map with an undefined. It resolves to the same types with your code or mine. I&#39;m not resolving the types correctly when I curry however. I get <code>AsyncIterableIterator&lt;{}&gt;</code> when I call it with one argument at a time, but I get it correctly determined if I call it with two, and then one, (or all 3)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "edited": false, "score": 0, "creation_date": 1542297822, "post_id": 53311241, "comment_id": 93527236, "body": "Maybe you&#39;re not using <code>--strictNullChecks</code>?  If so that&#39;s why you&#39;re not seeing the other error when using <code>undefined</code> as a parameter.  Generally I recommend turning it on, but that&#39;s a matter or personal preference."}, {"owner": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "edited": false, "score": 0, "creation_date": 1542333223, "post_id": 53311241, "comment_id": 93540854, "body": "ohh you&#39;re right, I forgot it, still working on trying to get the generic types to apply to the curried functions"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "edited": false, "score": 1, "creation_date": 1542334987, "post_id": 53311241, "comment_id": 93541179, "body": "Oh, sure... you should make the returned function generic in <code>&lt;T, R&gt;</code> and not <code>parallelMap()</code> itself.  Updated the answer."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1542335097, "last_edit_date": 1542335097, "creation_date": 1542245797, "answer_id": 53311241, "question_id": 53310509, "link": "https://stackoverflow.com/questions/53310509/how-do-you-type-a-3-argument-curried-function-in-typescript/53311241#53311241", "title": "How do you type a 3 argument curried function in typescript?", "body": "<p><a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">Overloads</a> are useful when different parameter types should result in different return types.  It's not useful to have two different overload signatures with the same parameter types.  That's because, as the handbook says:</p>\n\n<blockquote>\n  <p>[The compiler] looks at the overload list, and proceeding with the first overload attempts to call the function with the provided parameters. If it finds a match, it picks this overload as the correct overload.</p>\n</blockquote>\n\n<p>Your first two overloads have the same parameter types, so the second overload will never be used.  That means if you call <code>parallelMap()</code> with one argument, it will return a two-argument function and that's it.  It does not return a one-argument function.</p>\n\n<p>Let's remedy that.  The solution here is when you call <code>parallelMap()</code> with one argument, you want to <em>return</em> an overloaded function, instead of a function of just one argument or just two arguments.  </p>\n\n<p>Additionally, you want the generic type parameters to be on that returned function, since when you call <code>parallelMap(concurrency)</code> you don't know at that point what <code>T</code> and <code>R</code> will end up being.</p>\n\n<p>So replace those first two signatures with this:</p>\n\n<pre><code>export function parallelMap(concurrency: number): { \n  &lt;T,R&gt;(func: (data: T) =&gt; R | Promise&lt;R&gt;, iterable: AnyIterable&lt;T&gt;): AsyncIterableIterator&lt;R&gt;, \n  &lt;T,R&gt;(func: (data: T) =&gt; R | Promise&lt;R&gt;): (iterable: AnyIterable&lt;T&gt;) =&gt; AsyncIterableIterator&lt;R&gt; \n}\n</code></pre>\n\n<p>Now that says \"if you call <code>parallelMap()</code> with one argument, it will return another function which can be called with two arguments of type XXX and YYY and return ZZZ, and it can also be called with one argument of type XXX and return a function from YYY to ZZZ.\"</p>\n\n<p>Now it should mostly work.  Notice that because you are using overloads, the following code isn't exactly correct:</p>\n\n<pre><code>  if (func === undefined) {\n    return &lt;A, B&gt;(\n      curriedFunc: (data: A) =&gt; B | Promise&lt;B&gt;, \n      curriedIterable?: AnyIterable&lt;A&gt;\n    ) =&gt; parallelMap(concurrency, curriedFunc, curriedIterable) // error!\n  }\n</code></pre>\n\n<p>After all, none of the overload call signatures accept a possibly <code>undefined</code> third argument.  You either call it with two or three defined arguments.  So you should change that to something like:</p>\n\n<pre><code>  if (func === undefined) {\n    return &lt;A, B&gt;(\n      curriedFunc: (data: A) =&gt; B | Promise&lt;B&gt;,\n      curriedIterable?: AnyIterable&lt;A&gt;\n    ) =&gt; curriedIterable ?\n        parallelMap(concurrency, curriedFunc, curriedIterable) :\n        parallelMap(concurrency, curriedFunc)\n  }\n</code></pre>\n\n<p>which calls two different overloads of <code>parallelMap()</code> depending on whether <code>curriedIterable</code> is defined.</p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 4860, "user_id": 339, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e96e258e9d3bd640f9917d0ebda2639?s=128&d=identicon&r=PG", "display_name": "reconbot", "link": "https://stackoverflow.com/users/339/reconbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 1, "accepted_answer_id": 53311241, "answer_count": 1, "score": 0, "last_activity_date": 1542335097, "creation_date": 1542239562, "last_edit_date": 1542297241, "question_id": 53310509, "link": "https://stackoverflow.com/questions/53310509/how-do-you-type-a-3-argument-curried-function-in-typescript", "title": "How do you type a 3 argument curried function in typescript?", "body": "<p><em>Or how do you define multiple signatures for a returned function</em></p>\n\n<p>I'm trying to make a curried function but I'm having trouble with the definition overloads. In specific if you call <code>parallelMap</code> with one argument, you can call the next argument with 1 or 2 arguments. However the def is marked as invalid.</p>\n\n<blockquote>\n  <p>[ts] Overload signature is not compatible with function implementation. [2394]</p>\n  \n  <p><code>export function parallelMap&lt;T, R&gt; (concurrency: number): (func: (data: T) =&gt; R | Promise&lt;R&gt;) =&gt; (iterable: AnyIterable&lt;T&gt;) =&gt; AsyncIterableIterator&lt;R&gt;</code></p>\n</blockquote>\n\n<p>Full implementation; </p>\n\n<pre><code>export function parallelMap&lt;T, R&gt; (concurrency: number): (func: (data: T) =&gt; R | Promise&lt;R&gt;, iterable: AnyIterable&lt;T&gt;) =&gt; AsyncIterableIterator&lt;R&gt;\nexport function parallelMap&lt;T, R&gt; (concurrency: number): (func: (data: T) =&gt; R | Promise&lt;R&gt;) =&gt; (iterable: AnyIterable&lt;T&gt;) =&gt; AsyncIterableIterator&lt;R&gt;\nexport function parallelMap&lt;T, R&gt; (concurrency: number, func: (data: T) =&gt; R | Promise&lt;R&gt;): (iterable: AnyIterable&lt;T&gt;) =&gt; AsyncIterableIterator&lt;R&gt;\nexport function parallelMap&lt;T, R&gt; (concurrency: number, func: (data: T) =&gt; R | Promise&lt;R&gt;, iterable: AnyIterable&lt;T&gt;): AsyncIterableIterator&lt;R&gt;\nexport function parallelMap&lt;T, R&gt; (\n  concurrency: number,\n  func?: (data: T) =&gt; R | Promise&lt;R&gt;,\n  iterable?: AnyIterable&lt;T&gt;,\n) {\n  if (func === undefined) {\n    return &lt;A, B&gt;(curriedFunc: (data: A) =&gt; B | Promise&lt;B&gt;, curriedIterable?: AnyIterable&lt;A&gt;) =&gt; parallelMap(concurrency, curriedFunc, curriedIterable)\n  }\n  if (iterable === undefined) {\n    return (curriedIterable: AnyIterable&lt;T&gt;) =&gt; parallelMap&lt;T, R&gt;(concurrency, func, curriedIterable)\n  }\n  return _parallelMap&lt;T, R&gt;(concurrency, func, iterable)\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "html5-filesystem"], "comments": [{"owner": {"reputation": 7581, "user_id": 5377805, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a479657355e5a7d6b6a81efd8136db4?s=128&d=identicon&r=PG&f=1", "display_name": "HDJEMAI", "link": "https://stackoverflow.com/users/5377805/hdjemai"}, "edited": false, "score": 0, "creation_date": 1542240910, "post_id": 53310485, "comment_id": 93502137, "body": "Have you looked to <a href=\"https://stackoverflow.com/questions/45179389/subscribe-to-valuechanges-from-input-formcontrol-in-formgroup\">subscribe to valueChanges from input FormControl in FormGroup</a> ?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 7581, "user_id": 5377805, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a479657355e5a7d6b6a81efd8136db4?s=128&d=identicon&r=PG&f=1", "display_name": "HDJEMAI", "link": "https://stackoverflow.com/users/5377805/hdjemai"}, "edited": false, "score": 0, "creation_date": 1542241196, "post_id": 53310485, "comment_id": 93502212, "body": "@HDJEMAI yes.  That is for normal input fields that contains strings like first name last name, etc.  This is for a file, so the semantics are slightly different."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 7581, "user_id": 5377805, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a479657355e5a7d6b6a81efd8136db4?s=128&d=identicon&r=PG&f=1", "display_name": "HDJEMAI", "link": "https://stackoverflow.com/users/5377805/hdjemai"}, "edited": false, "score": 0, "creation_date": 1542243033, "post_id": 53310485, "comment_id": 93502682, "body": "Made it a feature request: <a href=\"https://github.com/angular/angular/issues/27106\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/27106</a>"}], "answers": [{"tags": [], "owner": {"reputation": 609, "user_id": 4707101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qdvag.jpg?s=128&g=1", "display_name": "Nick Wang", "link": "https://stackoverflow.com/users/4707101/nick-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1542250779, "creation_date": 1542250779, "answer_id": 53311787, "question_id": 53310485, "link": "https://stackoverflow.com/questions/53310485/subscribing-to-input-type-file-changes-with-formcontrol/53311787#53311787", "title": "Subscribing to input type file changes with FormControl?", "body": "<p>In my project, I did it in one component, like:</p>\n\n<pre><code>import { Component, EventEmitter, Output } from '@angular/core';\n@Component({\n  selector: 'app-image-uploader',\n  template: '&lt;input type=\"file\" (change)=\"onUploadFileChanged($event)\" /&gt;',\n})\nexport class ImageUploaderComponent implements OnInit {\n    @Output() uploadStatusChange = new EventEmitter&lt;any&gt;();\n    onUploadFileChanged(event) {\n        this.targetElement = event.target;\n        if (event.target.files &amp;&amp; event.target.files[0]) {\n            component.uploadStatusChange.emit('ready');\n        }\n    }\n\n}\n</code></pre>\n\n<p>Now, after selected file, the component will told parent component I'm ready, then you can set fromControl patch it to true. The HTML of parent component like, for above exmaple, the $event equal string 'ready':</p>\n\n<pre><code>&lt;app-image-uploader (uploadStatusChange)=\"yourFunction($event)\"&gt;&lt;/app-image-uploader&gt;\n</code></pre>\n\n<p>For image, you also can use FileReader show it before upload.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 53311787, "answer_count": 1, "score": -1, "last_activity_date": 1542250779, "creation_date": 1542239426, "last_edit_date": 1542240745, "question_id": 53310485, "link": "https://stackoverflow.com/questions/53310485/subscribing-to-input-type-file-changes-with-formcontrol", "title": "Subscribing to input type file changes with FormControl?", "body": "<p>When I subscribe to a <code>FormControl.valueChanges()</code> that is triggered by the selection of a file on an <code>input</code> the value emitted does not contain the full path to the file that was selected.  Is it possible to obtain this information via subscription or do we have to pull it off of the element directly with <code>@ViewChild</code> to get direct access to the element?  The setup looks like this:</p>\n\n<pre><code>&lt;input #file name='file' id='file' type='file' [formControl]='loadButton'/&gt;\n</code></pre>\n\n<p>It's subscribed to like this:</p>\n\n<pre><code>this.loadButton.valueChanges\n    .pipe(untilDestroyed(this))\n    .subscribe(path =&gt; {\n      console.dir(path);\n    });\n}\n</code></pre>\n\n<p>When a file is selected the logged statement looks like this:</p>\n\n<pre><code>C:\\fakepath\\test.png\n</code></pre>\n"}, {"tags": ["typescript", "transformer"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1542236998, "post_id": 53310103, "comment_id": 93501005, "body": "What javascript is generated?"}, {"owner": {"reputation": 7770, "user_id": 857848, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1ff99510ec45369e216ce549e442ddd?s=128&d=identicon&r=PG", "display_name": "citykid", "link": "https://stackoverflow.com/users/857848/citykid"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1542270123, "post_id": 53310103, "comment_id": 93510325, "body": "none. I add this to the question."}], "answers": [{"tags": [], "owner": {"reputation": 159275, "user_id": 572644, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afd0124e3eaa2f2dbe0eb6741aafcd03?s=128&d=identicon&r=PG", "display_name": "Daniel Hilgarth", "link": "https://stackoverflow.com/users/572644/daniel-hilgarth"}, "is_accepted": true, "score": 3, "last_activity_date": 1542297820, "creation_date": 1542297820, "answer_id": 53323387, "question_id": 53310103, "link": "https://stackoverflow.com/questions/53310103/how-can-i-create-a-const-assignment-in-a-typescript-transformer/53323387#53323387", "title": "How can I create a const assignment in a typescript transformer?", "body": "<p>Try this:</p>\n\n<pre><code>ts.createVariableStatement(\n      [],\n      ts.createVariableDeclarationList(\n        [\n          ts.createVariableDeclaration(\n            'a',\n            undefined,\n            ts.createStringLiteral('42'),\n          ),\n        ],\n        ts.NodeFlags.Const,\n      ),\n    )\n</code></pre>\n\n<p>Based on <a href=\"https://github.com/Microsoft/TypeScript/issues/21357#issuecomment-359810457\" rel=\"nofollow noreferrer\">this answer</a>.</p>\n"}], "owner": {"reputation": 7770, "user_id": 857848, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1ff99510ec45369e216ce549e442ddd?s=128&d=identicon&r=PG", "display_name": "citykid", "link": "https://stackoverflow.com/users/857848/citykid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 53323387, "answer_count": 1, "score": 2, "last_activity_date": 1542569057, "creation_date": 1542236896, "last_edit_date": 1542569057, "question_id": 53310103, "link": "https://stackoverflow.com/questions/53310103/how-can-i-create-a-const-assignment-in-a-typescript-transformer", "title": "How can I create a const assignment in a typescript transformer?", "body": "<p>I can create a variable assignment with this code:</p>\n\n<pre><code>ts.createVariableStatement(undefined, \n     [ts.createVariableDeclaration('a', undefined, \n      ts.createStringLiteral('42'))])\n\n/// yields: var a = 42\n</code></pre>\n\n<p>I cannot however create a const assignment. I am quite sure it <em>should</em> work like so:</p>\n\n<pre><code>ts.createVariableStatement([ts.createModifier(ts.SyntaxKind.ConstKeyword)], \n     [ts.createVariableDeclaration('a', undefined, \n      ts.createStringLiteral('42'))])\n</code></pre>\n\n<p>but this yields an error:</p>\n\n<pre><code>[!] Error: Unexpected keyword 'var'\n</code></pre>\n\n<p>an no javascript is emitted due to that error. The error message is very confusing as well.</p>\n"}, {"tags": ["node.js", "typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 1452, "user_id": 3897362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10713011/picture?type=large", "display_name": "Scott Lin", "link": "https://stackoverflow.com/users/3897362/scott-lin"}, "edited": false, "score": 0, "creation_date": 1542241924, "post_id": 53310174, "comment_id": 93502403, "body": "Wow, thank you. Not sure if I would have ever been able to debug this."}], "tags": [], "owner": {"reputation": 346, "user_id": 6606059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usksj.jpg?s=128&g=1", "display_name": "dpopp07", "link": "https://stackoverflow.com/users/6606059/dpopp07"}, "is_accepted": true, "score": 1, "last_activity_date": 1542237285, "creation_date": 1542237285, "answer_id": 53310174, "question_id": 53309728, "link": "https://stackoverflow.com/questions/53309728/cannot-find-module-install-npm-version/53310174#53310174", "title": "Cannot find module &#39;install-npm-version&#39;", "body": "<p>The <code>main</code> property in the package.json file is used to find the module when using as an in-code Node module. Yours starts with a slash, implying the root directory. This is incorrect, which is why your code is failing.</p>\n\n<p><strong>To fix:</strong>  </p>\n\n<p>Change</p>\n\n<p><code>\"main\": \"/lib/Install.js\",</code></p>\n\n<p>to</p>\n\n<p><code>\"main\": \"lib/Install.js\",</code></p>\n"}], "owner": {"reputation": 1452, "user_id": 3897362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10713011/picture?type=large", "display_name": "Scott Lin", "link": "https://stackoverflow.com/users/3897362/scott-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 53310174, "answer_count": 1, "score": 0, "last_activity_date": 1542237285, "creation_date": 1542234733, "question_id": 53309728, "link": "https://stackoverflow.com/questions/53309728/cannot-find-module-install-npm-version", "title": "Cannot find module &#39;install-npm-version&#39;", "body": "<p>I'm developing this project with TypeScript: <a href=\"https://github.com/scott-lin/install-npm-version\" rel=\"nofollow noreferrer\">https://github.com/scott-lin/install-npm-version</a></p>\n\n<p>When trying to consume the package within another project, I'm getting <code>Cannot find module 'install-npm-version'</code> error.</p>\n\n<p><strong>Repro Steps</strong></p>\n\n<ol>\n<li><code>npm install install-npm-version@1.0.2</code></li>\n<li>Create repro.js file with <code>const inv = require('install-npm-version');</code> as the content</li>\n<li>Invoke the repro with <code>node .\\repro.js</code></li>\n</ol>\n\n<p><strong>Error</strong></p>\n\n<pre><code>&gt; node .\\repro.js\nmodule.js:545\n    throw err;\n    ^\n\nError: Cannot find module 'install-npm-version'\n    at Function.Module._resolveFilename (module.js:543:15)\n    at Function.Module._load (module.js:470:25)\n    at Module.require (module.js:593:17)\n    at require (internal/module.js:11:18)\n    at Object.&lt;anonymous&gt; (C:\\Users\\scottlin.REDMOND\\Desktop\\test\\repro.js:1:75)\n    at Module._compile (module.js:649:30)\n    at Object.Module._extensions..js (module.js:660:10)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:501:12)\n    at Function.Module._load (module.js:493:3)\nPS C:\\Users\\scottlin.REDMOND\\Desktop\\test&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1542235574, "post_id": 53309436, "comment_id": 93500558, "body": "Could you please add the rest of your TS part ?"}, {"owner": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1542236309, "post_id": 53309436, "comment_id": 93500782, "body": "Do you need the entire file? I am also wanting to filter using radio buttons as well."}, {"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1542236499, "post_id": 53309436, "comment_id": 93500853, "body": "There is some undefined -for me at least- variables, such as <code>activeShopperDay</code>, <code>visibleActiveShoppers</code>.. so yes if you want !"}, {"owner": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 1, "creation_date": 1542236950, "post_id": 53309436, "comment_id": 93500985, "body": "Does this help. I&#39;ve added more of the TS file."}, {"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1542238413, "post_id": 53309436, "comment_id": 93501453, "body": "Here is a <a href=\"https://stackblitz.com/edit/material-6-3mxwvd?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a> for your case , try to add there your missed models <code>DailyActiveShopperDay</code> and <code>DailyActiveShopper</code>."}, {"owner": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1542242144, "post_id": 53309436, "comment_id": 93502461, "body": "This looks like the same thing I already have."}, {"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1542273665, "post_id": 53309436, "comment_id": 93512280, "body": "no missed  DailyActiveShopperDay and DailyActiveShopper @LDB"}], "owner": {"reputation": 289, "user_id": 9442497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "LDB", "link": "https://stackoverflow.com/users/9442497/ldb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542236876, "creation_date": 1542233169, "last_edit_date": 1542236876, "question_id": 53309436, "link": "https://stackoverflow.com/questions/53309436/how-do-i-filter-using-user-selected-value-with-angular-material-select", "title": "How do I filter using user selected value with Angular Material Select?", "body": "<p>I am trying to create a dropdown filter in angular material. Here is the array for my dropdown options</p>\n\n<pre><code> public intensities = ['All',1,2,3,4,5]\n</code></pre>\n\n<p>Here is the html for the mat-select field.</p>\n\n<pre><code>    &lt;mat-form-field&gt;\n                    &lt;mat-select placeholder=\"Choose Intensity\" [(ngModel)]=\"selectedIntensity\" (selectionChange)=\"onIntensityChange()\"&gt;\n                        &lt;mat-option *ngFor=\"let intensity of intensities\" [value]=\"intensity\"&gt;\n                            {{intensity}}\n                        &lt;/mat-option&gt;\n                    &lt;/mat-select&gt;\n     &lt;/mat-form-field&gt;\n\n &lt;div class=\"flex-wrap\" style=\"display: inline-block; padding: 5px 0 5px 20px;\"&gt;\n                &lt;span style=\"font-weight:bold;\"&gt;Show Shoppers With: &lt;/span&gt;\n                &lt;input style=\"margin-left: 10px; margin-right: 5px;\" type=\"checkbox\" [(ngModel)]=\"hiddenWithoutPhone\" (change)=\"filterVisibleShoppers()\"&gt;Phone\n                &lt;input style=\"margin-left: 10px; margin-right: 5px;\" type=\"checkbox\" [(ngModel)]=\"hiddenWithoutEmail\" (change)=\"filterVisibleShoppers()\"&gt;Email\n                &lt;input style=\"margin-left: 10px; margin-right: 5px;\" type=\"checkbox\" [(ngModel)]=\"hiddenWithoutAddress\" (change)=\"filterVisibleShoppers()\"&gt;Address\n                &lt;input style=\"margin-left: 10px; margin-right: 5px;\" type=\"checkbox\" [(ngModel)]=\"hiddenWithoutTradeIn\" (change)=\"filterVisibleShoppers()\"&gt;Trade In\n            &lt;/div&gt;\n</code></pre>\n\n<p>I am trying to write a function 'onIntensityChange()' that displays the correct choices based on the user selection. I also have a filter that works with a checkbox. I'd like to be able to filter based on both selections(dropdown and checkbox) Here is the typescript file.</p>\n\n<pre><code>   @Component({\n        templateUrl: 'daily-active-shopper.screen.html',\n    })\n\n    export class DailyActiveShoppersScreen {\n\n        public selectedDate: Date;\n        public maxDate: Date = new Date();\n        public count = 0;\n        public customers;\n        public loading: boolean;\n\n        public hiddenWithoutEmail: boolean;\n        public hiddenWithoutPhone: boolean;\n        public hiddenWithoutAddress: boolean;\n        public hiddenWithoutTradeIn: boolean;\n\n        _dealerId: number;\n\n        activeShopperDay: DailyActiveShopperDay;\n        visibleActiveShoppers: DailyActiveShopper[];\n\n        shopperDetailsVisible = true;\n        shopperErrorMessage: string;\n\n        public intensities = ['All',1,2,3,4,5]\n        public selectedIntensity: any; \n\n filterVisibleShoppers() {\n        let shoppers = this.activeShopperDay.shoppers;\n        if (this.hiddenWithoutAddress) {\n            shoppers = shoppers.filter((shopper) =&gt; {\n                return shopper.state !== null;\n            });\n        }\n        if (this.hiddenWithoutPhone) {\n            shoppers = shoppers.filter((shopper) =&gt; {\n                return shopper.phone !== null;\n            });\n        }\n        if (this.hiddenWithoutEmail) {\n            shoppers = shoppers.filter((shopper) =&gt; {\n                return shopper.email !== null;\n            });\n        }\n        if (this.hiddenWithoutTradeIn) {\n            shoppers = shoppers.filter((shopper) =&gt; {\n                return shopper.currentVehicle;\n            });\n        }\n        this.visibleActiveShoppers = shoppers;\n    }\n\n    onIntensityChange() {\n        console.log(this.selectedIntensity);\n        let shoppers = this.activeShopperDay.shoppers;\n            if(this.selectedIntensity === 'All') {\n                shoppers = shoppers.filter((shopper) =&gt; {\n                    return this.visibleActiveShoppers = shoppers;\n                })\n            }\n            if(this.selectedIntensity === 1) {\n               shoppers = shoppers.filter((shopper) =&gt; {\n                    return shopper.intensity === this.selectedIntensity\n                })\n            }\n            if(this.selectedIntensity === 2) {\n                shoppers = shoppers.filter((shopper) =&gt; {\n                    return shopper.intensity === this.selectedIntensity\n                })\n}\n            if(this.selectedIntensity === 3) {\n                shoppers = shoppers.filter((shopper) =&gt; {\n                    return shopper.intensity === this.selectedIntensity\n                })\n            }\n            if(this.selectedIntensity === 4) {\n                shoppers = shoppers.filter((shopper) =&gt; {\n                    return shopper.intensity === this.selectedIntensity\n                })\n            }\n            if(this.selectedIntensity === 5) {\n                shoppers = shoppers.filter((shopper) =&gt; {\n                    return shopper.intensity === this.selectedIntensity\n                })\n            }\n\n            if(this.visibleActiveShoppers.length &lt; 1) {\n                console.log(\"None found for this intensity\")\n            }\n            this.visibleActiveShoppers = shoppers;\n    }\n</code></pre>\n\n<p>I'm looking for a proper way to implement this. Basically allowing the user to filter based on intensity and the four radio buttons.</p>\n"}, {"tags": ["angular", "typescript", "odata"], "comments": [{"owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1542233875, "post_id": 53308810, "comment_id": 93499947, "body": "I read your question 10 times I still don&#39;t know what you&#39;re asking. Please clarify what the expected result is and what is the actual result, and also if you can provide a stackblitz that works or doesn&#39;t work."}, {"owner": {"reputation": 806, "user_id": 2474839, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae126759b2002396a3e388eea7b99e95?s=128&d=identicon&r=PG", "display_name": "Seth", "link": "https://stackoverflow.com/users/2474839/seth"}, "reply_to_user": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1542288654, "post_id": 53308810, "comment_id": 93521115, "body": "@AviadP.just start at edit1."}], "owner": {"reputation": 806, "user_id": 2474839, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae126759b2002396a3e388eea7b99e95?s=128&d=identicon&r=PG", "display_name": "Seth", "link": "https://stackoverflow.com/users/2474839/seth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1542289231, "creation_date": 1542230066, "last_edit_date": 1542289231, "question_id": 53308810, "link": "https://stackoverflow.com/questions/53308810/httppatch-ignored-by-angular-request", "title": "HttpPatch ignored by Angular request", "body": "<p>I'm having a strange issue. I'm working on a bulk edit feature for my application. Whenever a user updates a field, my form autosaves. Once the autosave event triggers, I loop through a set of similar set of user selected records with the intent to make the same change there. </p>\n\n<p>For example, I might have the form loaded for plan {id:4}, but also want the edits to apply to records with IDs of 2, 3, 7, 10.  So lets say I change the projectName field to \"A Great Project\". My desired result would be to update all five records to have the projectname field to \"A great Project\".</p>\n\n<p>However, even though I loop through each record, I only hit the service once, and thats for the original plan (in my example 4).  Everything else just dies off. I still see the changes in my state, and can follow them all through.</p>\n\n<p>This is my save after typing event on a container/component</p>\n\n<pre><code>autoSave(save: {changes: Plan, field: string, value: any}) {\n\n  this.planContext.getEnabled().forEach(x =&gt; {\n    x.plan[save.field] = save.value;\n    console.info(x.plan);\n    this.autoSavePlan(x.plan, x.plan.id);\n  });\n}\n\nautoSavePlan(changes: Plan, id: number) {\n   this.store.dispatch(new PlanActions.Edit({ plan: { id: id, changes: changes } }));\n}\n</code></pre>\n\n<p>I have the following effect</p>\n\n<pre><code>  @Effect()\n  editPlan$: Observable&lt;Action&gt; = this.actions$\n    .ofType&lt;Edit&gt;(PlanActionTypes.Edit).pipe(\n      switchMap(action =&gt; this.planService.editPlan(action.payload.plan)),   //Last Line of code for server break point for failing records.\n      map((plan: any) =&gt; {\n        console.log(plan);\n        return new EditSuccess({ id: plan.id, changes: plan});\n      }),\n      catchError(err =&gt; {\n        toastr.error(`An error has occurred. Please reload the page before making any other changes.`); \n        console.error(err);\n        return of(new EditFail(err));\n      })\n    );\n</code></pre>\n\n<p>Service Call:</p>\n\n<pre><code>editPlan(plan: Update&lt;Plan&gt;) : Observable&lt;Plan&gt; {\n    this.log(\"Editing a Plan\");\n\n    return this.http.patch&lt;Plan&gt;(this.odataUrl + \"Plans(\" + plan.id + \")\", plan.changes, this.httpPatchOptions);\n  }\n</code></pre>\n\n<p>PlansController</p>\n\n<pre><code>[Authorize]\npublic async Task&lt;IHttpActionResult&gt; Patch([FromODataUri] int key, Delta&lt;Plan&gt; plan)\n{\n//Breakpoint hit only once\n    if (!ModelState.IsValid)\n    {\n        return BadRequest(ModelState);\n    }\n //... do stuff\n}\n</code></pre>\n\n<p><strong>EDIT1</strong></p>\n\n<p>User Story:\n   As a user, I would like to be able to edit multiple plans at once.  I should be able to update a plan field with a single value, and have that change also applied to other plan records that I have selected for bulk editing. </p>\n\n<p>Expected Result:\nI update a field in my form. I should see a service call for each plan I have selected, and prove that the change is being applied to all plans.</p>\n\n<p>Current result: \nI run through a loop submitting httppatchs for each plan. I only ever see changes applied to one of them. If I attempt to follow the code via breakpoints, eventually I hit F10 and the chrome debugger loses context for all but one of the plans. This is consistently the plast plan in my list. There is no error logged, no indication of what happened. Likewise, the breakpoint on my service is only ever triggered once.</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>Leaving the above for context. My original problem was a fundamental issue with the way i was thinking about observables. Because I was updating the observable four times in the autosave function, it makes sense that anything subscribing to it wouldnt work as i anticipated. As we know, you only get the most recent object. Which is why only one update call would occur.</p>\n\n<p>After tinkering I was able to recreate all the above methods with Update[]. That resolved part of the issue.</p>\n\n<p>This works as expected, but fails to meet my user requirement:</p>\n\n<pre><code>editBulkPlan(plans: Update&lt;Plan&gt;[]): Observable&lt;Plan&gt; {  \n\n    var y = this.http.patch&lt;Plan&gt;(this.odataUrl + \"Plans(\" + plans[1].id + \")\", plans[1].changes, this.httpPatchOptions);\n\n    return y;\n\n    //return this.http.patch&lt;Plan[]&gt;(this.odataUrl + \"Plans(\" + plan.id + \")\", plans.changes, this.httpPatchOptions);\n  }\n</code></pre>\n\n<p>This does not work. I would expect to see two service calls. The service is never called. I never even hit the breakpoint in the PlanController.</p>\n\n<pre><code>editBulkPlan(plans: Update&lt;Plan&gt;[]): Observable&lt;Plan&gt; {  \n\n        var x = this.http.patch&lt;Plan&gt;(this.odataUrl + \"Plans(\" + plans[0].id + \")\", plans[0].changes, this.httpPatchOptions);\n        var y = this.http.patch&lt;Plan&gt;(this.odataUrl + \"Plans(\" + plans[1].id + \")\", plans[1].changes, this.httpPatchOptions);\n\n        return y;\n\n        //return this.http.patch&lt;Plan[]&gt;(this.odataUrl + \"Plans(\" + plan.id + \")\", plans.changes, this.httpPatchOptions);\n      }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1542229921, "post_id": 53308721, "comment_id": 93498296, "body": "If you want to index things, you&#39;ll need an indexer. ..."}], "answers": [{"comments": [{"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 0, "creation_date": 1542238907, "post_id": 53309239, "comment_id": 93501609, "body": "So cool!! I couldn&#39;t find <code>keyof</code> in the docs. May you please link me? I was looking for all the helper things like this in the docs, is there somewhere?"}, {"owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "reply_to_user": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 1, "creation_date": 1542247747, "post_id": 53309239, "comment_id": 93503680, "body": "Sure, they\u2019re over here: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a> (scroll down to Index Types)."}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 0, "creation_date": 1542305083, "post_id": 53309239, "comment_id": 93531385, "body": "Thanks you @y2bd!"}], "tags": [], "owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "is_accepted": true, "score": 1, "last_activity_date": 1542232217, "creation_date": 1542232217, "answer_id": 53309239, "question_id": 53308721, "link": "https://stackoverflow.com/questions/53308721/check-if-certain-props-changed-no-indexer/53309239#53309239", "title": "Check if certain props changed, no indexer", "body": "<p>Redefine that array of keys to actually be an array of <code>keyof Foo</code>:</p>\n\n<pre><code>const significantProps: (keyof Foo)[] = ['name', 'version'];\n\nconst foo: Foo = {} as any;\nconst prevFoo: Foo = {} as any;\nconst shouldUpdate = significantProps.some((prop) =&gt; foo[prop] !== prevFoo[prop]);\n</code></pre>\n"}], "owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 53309239, "answer_count": 1, "score": 0, "last_activity_date": 1542232217, "creation_date": 1542229591, "question_id": 53308721, "link": "https://stackoverflow.com/questions/53308721/check-if-certain-props-changed-no-indexer", "title": "Check if certain props changed, no indexer", "body": "<p>I am using TS 2.4 -</p>\n\n<p>I have an object defined by interface:</p>\n\n<pre><code>interface Foo {\n   name: string,\n   version: number,\n   qux: boolean,\n   baz: boolean\n}\n</code></pre>\n\n<p>I do not want an indexer in here. I now want to do a <code>.some</code> to see if certain props changed. These props are defined as strings in an array.</p>\n\n<pre><code>const significantProps = ['name', 'version'];\n\nconst foo: Foo = {};\nconst prevFoo: Foo = {};\nconst shouldUpdate = significantProps.some((prop: string) =&gt; foo[prop] !== prevFoo[prop]);\n</code></pre>\n\n<p>However this gives me error:</p>\n\n<blockquote>\n  <p>[ts] Element implicitly has an 'any' type because type 'Foo' has no index signature. [7017]</p>\n</blockquote>\n\n<p>Is there a way to achieve this?</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1542229562, "post_id": 53308547, "comment_id": 93498158, "body": "Is there possibly anything else called <code>array</code> that&#39;s conflicting with your definition?"}, {"owner": {"reputation": 1, "user_id": 2048143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e16187b7b49fb09f4342b396151310?s=128&d=identicon&r=PG", "display_name": "Sooraj Shajahan", "link": "https://stackoverflow.com/users/2048143/sooraj-shajahan"}, "reply_to_user": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1542231276, "post_id": 53308547, "comment_id": 93498865, "body": "I did a search and couldn&#39;t find any other references of <code>array</code>.. :("}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1542246281, "post_id": 53308547, "comment_id": 93503410, "body": "Welcome to Stack Overflow!  There&#39;s nothing wrong with the code you posted; this means something else must be going on, but you haven&#39;t provided enough information for anyone else to identify what that might be.  Please review the guidelines for what constitutes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can hopefully give you a more meaningful answer."}], "owner": {"reputation": 1, "user_id": 2048143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e16187b7b49fb09f4342b396151310?s=128&d=identicon&r=PG", "display_name": "Sooraj Shajahan", "link": "https://stackoverflow.com/users/2048143/sooraj-shajahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1544358912, "creation_date": 1542228800, "last_edit_date": 1544358912, "question_id": 53308547, "link": "https://stackoverflow.com/questions/53308547/unable-to-use-arrays-on-typescript-3-1-with-angular-7", "title": "Unable to use Arrays on Typescript 3.1 with Angular 7", "body": "<p>I am trying to use a types array for an application using Typescript 3.1.1 Angular 7.. There seems to be something I am missing. So I tried a simple string array and even that doesn't seem to work for me.. Not sure what I am missing..</p>\n\n<pre><code>let array: string[] = [];\n\narray.push(\"test\"); //&lt;--- doesn't work. :(\n</code></pre>\n\n<p>This results in the exception:</p>\n\n<pre><code>[ts] Property 'push' does not exist on type '{}'.\n</code></pre>\n"}, {"tags": ["typescript", "vuejs2", "axios", "jestjs", "vue-test-utils"], "answers": [{"tags": [], "owner": {"reputation": 1267, "user_id": 5046331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oumGt.jpg?s=128&g=1", "display_name": "Constantin Chirila", "link": "https://stackoverflow.com/users/5046331/constantin-chirila"}, "is_accepted": false, "score": 0, "last_activity_date": 1542280169, "creation_date": 1542280169, "answer_id": 53318143, "question_id": 53308414, "link": "https://stackoverflow.com/questions/53308414/unit-testing-vuejs-with-axios-typescript-template-and-async-functions/53318143#53318143", "title": "Unit testing VueJS with axios, TypeScript template, and async functions", "body": "<p>You are not replying with anything on 200 with axios mock.\n<code>axiosMock.onGet('${baseUrl}/api/users').reply(200, []);</code> should probably be <code>axiosMock.onGet('${baseUrl}/api/users').reply(200, {data: 'no user'});</code>or something like that. But you got to reply with some data so your component uses it to update itself like in your example. </p>\n"}], "owner": {"reputation": 1427, "user_id": 3646201, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/128c55921b80da89fd68d5cfe7232eea?s=128&d=identicon&r=PG&f=1", "display_name": "Farzad", "link": "https://stackoverflow.com/users/3646201/farzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542300685, "creation_date": 1542228055, "last_edit_date": 1542300685, "question_id": 53308414, "link": "https://stackoverflow.com/questions/53308414/unit-testing-vuejs-with-axios-typescript-template-and-async-functions", "title": "Unit testing VueJS with axios, TypeScript template, and async functions", "body": "<p>I'm trying to unit test a component that makes an HTTP call in its <code>mounted()</code> hook. I'm using the template created by CLI using Typescript and Jest. My component looks something like this:</p>\n\n<pre><code>export default class UsrUsers extends Vue {\n  private error: string = '';\n  private users: User[] | null = null;\n\n  private async mounted() {\n    const url = process.env.VUE_APP_SERVICE_URL;\n\n    try {\n      const res = await axios.get&lt;User[]&gt;(`${url}/api/users`);\n      this.users = res.data;\n\n    } catch (ex) {\n      this.error = (ex as AxiosError).message;\n    }\n  }\n}\n</code></pre>\n\n<p>I found <a href=\"https://github.com/ctimmerm/axios-mock-adapter\" rel=\"nofollow noreferrer\">axios-mock-adapter</a> package, and I have a test setup like this:</p>\n\n<pre><code>describe('Users Container', () =&gt; {\n  const axiosMock = new MockAdapter(axios);\n  const baseUrl = process.env.VUE_APP_SERVICE_URL;\n\n  it('should display no user when user list is empty', async () =&gt; {\n    axiosMock.onGet(`${baseUrl}/api/users`).reply(200, []);\n\n    const wrapper = await shallowMount(UsrUsers);\n    expect(wrapper.text()).toMatch('no user');\n  });\n});\n</code></pre>\n\n<p>But, it's not working (I also tried with <code>jest.mock('axios')</code>), and I get an empty string as <code>wrapper.text()</code>.</p>\n\n<p>I also tried using <code>$nextTick</code> like this:</p>\n\n<pre><code>it('should display no user', done =&gt; {\n  // Set up axiosMock\n  const wrapper = shallowMount(UsrUsers);\n\n  wrapper.vm.$nextTick(() =&gt; {\n    expect(wrapper.text()).toMatch('no user');\n    done();\n  });\n});\n</code></pre>\n\n<p>But this is timing out with the message <code>Async callback was not invoked within the 5000ms timeout specified by jest.setTimeout</code></p>\n\n<p>So, how can I properly test this component?? I tried to find something on the internet, but didn't find anything.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "edited": false, "score": 2, "creation_date": 1542230057, "post_id": 53308387, "comment_id": 93498363, "body": "Can you reproduce the issue on this stackblitz? <a href=\"https://stackblitz.com/edit/angular-naw1nu\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-naw1nu</a>"}, {"owner": {"reputation": 75, "user_id": 7993986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oQU9.png?s=128&g=1", "display_name": "IHaveHandedInMyResignation", "link": "https://stackoverflow.com/users/7993986/ihavehandedinmyresignation"}, "reply_to_user": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "edited": false, "score": 0, "creation_date": 1542301419, "post_id": 53308387, "comment_id": 93529448, "body": "@AlexK I have added some CSS to AdvertPhotoElementComponent. Thank you for attention. Link is added in main post"}], "answers": [{"tags": [], "owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1542303651, "last_edit_date": 1542303651, "creation_date": 1542303112, "answer_id": 53324976, "question_id": 53308387, "link": "https://stackoverflow.com/questions/53308387/js-in-angular-2-affects-only-on-one-component-instead-of-affecting-per-componen/53324976#53324976", "title": "JS in Angular 2+ affects only on one component instead of affecting per component", "body": "<p>Now I see the issue.</p>\n\n<p>Each of your component instances renders <code>&lt;input id=\"photo\"&gt;</code>. Because each input has the same id \"photo\", the <code>&lt;label for=\"photo\"&gt;</code> refers only to the first input with that id.</p>\n\n<p>Here's a demo of what's happening. Try clicking each label and see which input gets focused:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;label for=\"input\"&gt;Label for #input&lt;/label&gt;\r\n  &lt;input id=\"input\" /&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div&gt;\r\n  &lt;label for=\"input\"&gt;Label for #input&lt;/label&gt;\r\n  &lt;input id=\"input\" /&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div&gt;\r\n  &lt;label for=\"input1\"&gt;Label for #input1&lt;/label&gt;\r\n  &lt;input id=\"input1\" /&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div&gt;\r\n  &lt;label for=\"input2\"&gt;Label for #input 2&lt;/label&gt;\r\n  &lt;input id=\"input2\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To fix this, give each input a unique id, and pass that same id to the corresponding label:</p>\n\n<pre><code>&lt;div class=\"polaroid\"&gt;\n  &lt;label for=\"photo{{photoNumber}}\" class=\"cursor-pointer\"&gt;\n    &lt;img [src]=\"url\" class=\"img-fluid\" alt=\"\"&gt;\n  &lt;/label&gt;\n  &lt;div class=\"img-title-bot\"&gt;\n    Nr {{photoNumber}}.\n  &lt;/div&gt;\n  &lt;input type=\"file\" id=\"photo{{photoNumber}}\" (change)=\"onSelectFile($event)\"&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 7993986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oQU9.png?s=128&g=1", "display_name": "IHaveHandedInMyResignation", "link": "https://stackoverflow.com/users/7993986/ihavehandedinmyresignation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 2, "accepted_answer_id": 53324976, "answer_count": 1, "score": 0, "last_activity_date": 1542303651, "creation_date": 1542227938, "last_edit_date": 1542301306, "question_id": 53308387, "link": "https://stackoverflow.com/questions/53308387/js-in-angular-2-affects-only-on-one-component-instead-of-affecting-per-componen", "title": "JS in Angular 2+ affects only on one component instead of affecting per component", "body": "<p>I have an angular 2+ apllication where it is possible to choose image and see how it looks in preview.. The problem is that I have 3 components in parent HTML which can do the same work and contain the same JS script which affects only on first component. Code is presented below. <a href=\"https://i.stack.imgur.com/WN25A.gif\" rel=\"nofollow noreferrer\">Here is Gif which presents how it works</a> </p>\n\n<p>parent HTML:</p>\n\n<pre><code>&lt;div class=\"form-inline\"&gt;\n                &lt;app-advert-photo-element id=\"first\" [photoNumber]=\"1\"&gt;&lt;/app-advert-photo-element&gt;\n                &lt;app-advert-photo-element id=\"second\" [photoNumber]=\"2\"&gt;&lt;/app-advert-photo-element&gt;\n                &lt;app-advert-photo-element id=\"third\" [photoNumber]=\"3\"&gt;&lt;/app-advert-photo-element&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>app-advert-photo-element HTML:</p>\n\n<pre><code>&lt;div class=\"polaroid\"&gt;\n  &lt;label for=\"photo\" class=\"cursor-pointer\"&gt;\n    &lt;img [src]=\"url\" class=\"img-fluid\" alt=\"\"&gt;\n  &lt;/label&gt;\n  &lt;div class=\"img-title-bot\"&gt;\n    Nr {{photoNumber}}.\n  &lt;/div&gt;\n  &lt;input type=\"file\" id=\"photo\" (change)=\"onSelectFile($event)\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>app-advert-photo-element.ts:</p>\n\n<pre><code>export class AdvertPhotoElementComponent implements OnInit {\n\n  @Input()\n  protected photoNumber;\n\n  protected url = '';\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  onSelectFile(event: any) {\n    if (event.target.files &amp;&amp; event.target.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = (onLoadEvent: any) =&gt; {\n        this.url = onLoadEvent.target.result;\n      };\n\n      reader.readAsDataURL(event.target.files[0]);\n    }\n  }\n}\n</code></pre>\n\n<p>Please help me. I cannot find a solution...\nReproduced: <a href=\"https://stackblitz.com/edit/angular-h4df6q\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-h4df6q</a></p>\n\n<p>As I can see the problem is in CSS.. without my CSS it works correctly</p>\n"}, {"tags": ["angular", "typescript", "angularjs-directive", "angular7"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1542228280, "post_id": 53308264, "comment_id": 93497633, "body": "You will have to pass the appropriate function as a reference and not by method name (i.e. <code>&lt;validation-form ... [submit]=&quot;resetPassword&quot;&gt;</code>). The function will not be accessible by name outside of your component that is using <code>&lt;validation-form&gt;</code>."}, {"owner": {"reputation": 181, "user_id": 10654194, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4jQMCaPr_2M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDBNJRjyKmixjxqnjBTz7-HyIH2nw/mo/photo.jpg?sz=128", "display_name": "Testador", "link": "https://stackoverflow.com/users/10654194/testador"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1542228867, "post_id": 53308264, "comment_id": 93497872, "body": "I&#39;m starting to study angular, so if you could give me more details it would be great. Using [submit]=&quot;resetPassword&quot; will get the reference of the method? And how do I use this reference on the ngSubmit? Thx for answering XD"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1542228912, "post_id": 53308264, "comment_id": 93497891, "body": "I fail to see the point of that component, since it doesn&#39;t do anything other than a standard form already does. But submit shouldn&#39;t be an input. It should be an output. Your validation form component should emit an event to its parent when the form is being submitted."}, {"owner": {"reputation": 181, "user_id": 10654194, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4jQMCaPr_2M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDBNJRjyKmixjxqnjBTz7-HyIH2nw/mo/photo.jpg?sz=128", "display_name": "Testador", "link": "https://stackoverflow.com/users/10654194/testador"}, "edited": false, "score": 0, "creation_date": 1542329310, "post_id": 53308264, "comment_id": 93540116, "body": "I created this component because i&#39;m using a jquery validation lib that already have all the validation and messages I need."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 10654194, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4jQMCaPr_2M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDBNJRjyKmixjxqnjBTz7-HyIH2nw/mo/photo.jpg?sz=128", "display_name": "Testador", "link": "https://stackoverflow.com/users/10654194/testador"}, "edited": false, "score": 0, "creation_date": 1542329599, "post_id": 53314721, "comment_id": 93540176, "body": "<code>@Input() submit: string</code>  This line is no logner needed, right?"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 181, "user_id": 10654194, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4jQMCaPr_2M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDBNJRjyKmixjxqnjBTz7-HyIH2nw/mo/photo.jpg?sz=128", "display_name": "Testador", "link": "https://stackoverflow.com/users/10654194/testador"}, "edited": false, "score": 0, "creation_date": 1542339560, "post_id": 53314721, "comment_id": 93542032, "body": "Exactly, you can remove that."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1542268550, "creation_date": 1542268550, "answer_id": 53314721, "question_id": 53308264, "link": "https://stackoverflow.com/questions/53308264/passing-ngsubmit-as-reference-angular/53314721#53314721", "title": "Passing ngSubmit as reference Angular", "body": "<p>It looks like you want to handle the <code>validation</code> or <code>submission</code> on parent component rather than child component <code>validation-form</code>. </p>\n\n<p>To achieve this, you can use <code>@Output</code> decorator. It will propagate event from child to parent.  Here is the code which can help you to achieve the same.</p>\n\n<h2>validation-form.component.ts</h2>\n\n<pre><code>  @Input() formId: string;\n  @Input() submit: string;\n  @Output() submit = new EventEmitter();\n\n  public submit(){\n     this.validate.emit(this.formId); //&lt;-- you can pass the object if you need more info to pass.\n  }\n</code></pre>\n\n<h2>validation-form.component.html</h2>\n\n<pre><code>&lt;form [id]=\"formId\" method=\"post\" novalidate (ngSubmit)=\"submit()\"&gt;\n    &lt;ng-content&gt;&lt;/ng-content&gt;\n&lt;/form&gt;\n</code></pre>\n\n<h2>Parent Component.html</h2>\n\n<pre><code>&lt;validation-form formId=\"ResetPasswordForm\" (submit)=\"resetPassword($event)\"&gt;\n&lt;/validation-form&gt;\n</code></pre>\n\n<h2>Parent Component.ts</h2>\n\n<pre><code>public resetPassword(formId){\n  console.log(\"Form Id \", formId);\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 10654194, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4jQMCaPr_2M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDBNJRjyKmixjxqnjBTz7-HyIH2nw/mo/photo.jpg?sz=128", "display_name": "Testador", "link": "https://stackoverflow.com/users/10654194/testador"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542268550, "creation_date": 1542227270, "question_id": 53308264, "link": "https://stackoverflow.com/questions/53308264/passing-ngsubmit-as-reference-angular", "title": "Passing ngSubmit as reference Angular", "body": "<p>Is it possible to pass the ngSubmit function as a parameter?\nI created a component that receives an Id and the name of the ngSubmit function, but how do I put this parameter on the template?</p>\n\n<p>I have a component called validation-form</p>\n\n<p>validation-form.component.html</p>\n\n<pre><code>&lt;form [id]=\"formId\" method=\"post\" novalidate [(ngSubmit)]=\"\"&gt;\n    &lt;ng-content&gt;&lt;/ng-content&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My validation-form.component.ts has</p>\n\n<pre><code>  @Input() formId: string;\n  @Input() submit: string;\n</code></pre>\n\n<p>I pass this values like this</p>\n\n<pre><code>&lt;validation-form formId=\"ResetPasswordForm\" submit=\"resetPassword()\"&gt;\n&lt;/validation-form&gt;\n</code></pre>\n\n<p>I want to put the value of @Input() submit: string; to to the (ngSubmit). How can i do this?</p>\n"}, {"tags": ["node.js", "typescript", "nestjs"], "comments": [{"owner": {"reputation": 71, "user_id": 4170135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/904eb80361125828565602e5c27b1121?s=128&d=identicon&r=PG&f=1", "display_name": "Nex", "link": "https://stackoverflow.com/users/4170135/nex"}, "edited": false, "score": 0, "creation_date": 1562678524, "post_id": 53308235, "comment_id": 100445507, "body": "Did you resolve this problem ?"}], "answers": [{"comments": [{"owner": {"reputation": 2884, "user_id": 1430476, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/cf9e49064895c6b498e936d2a2b80bf3?s=128&d=identicon&r=PG", "display_name": "Tino", "link": "https://stackoverflow.com/users/1430476/tino"}, "edited": false, "score": 0, "creation_date": 1542572181, "post_id": 53310584, "comment_id": 93606581, "body": "I tried and it brought up the following error: [Nest] 1593   - 11/18/2018, 9:03:11 PM   [ExceptionHandler] No repository for &quot;Project&quot; was found. Looks like this"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1542240122, "creation_date": 1542240122, "answer_id": 53310584, "question_id": 53308235, "link": "https://stackoverflow.com/questions/53308235/nestjs-throws-a-ts2322-err-using-the-examples/53310584#53310584", "title": "Nestjs throws a TS2322 err using the examples", "body": "<p>You have an extra nested array around <code>TypeOrmModule.forRoot()</code> and <code>ProjectModule</code>.  The <code>@Module</code> call should read:</p>\n\n<pre><code>@Module({\n  imports: [\n    TypeOrmModule.forRoot(), ProjectModule,\n    AngularUniversalModule.forRoot(),\n  ],\n  controllers: [],\n  providers:[JiraService, ProjectsSync],\n})\n</code></pre>\n"}], "owner": {"reputation": 2884, "user_id": 1430476, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/cf9e49064895c6b498e936d2a2b80bf3?s=128&d=identicon&r=PG", "display_name": "Tino", "link": "https://stackoverflow.com/users/1430476/tino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542240122, "creation_date": 1542227167, "question_id": 53308235, "link": "https://stackoverflow.com/questions/53308235/nestjs-throws-a-ts2322-err-using-the-examples", "title": "Nestjs throws a TS2322 err using the examples", "body": "<p>I'm new to nest and I have run into an error which is not really decodable for me. I tried to follow the <a href=\"https://github.com/nestjs/nest/tree/master/sample/05-sql-typeorm/src\" rel=\"nofollow noreferrer\">nest example</a>, but no luck. </p>\n\n<pre><code> [tsl] ERROR in /Users/user/Documents/development/sprinta/src/server/app.module.ts(12,5)\n[0]       TS2322: Type '(DynamicModule | typeof ProjectModule)[]' is not assignable to type 'Type&lt;any&gt; | DynamicModule | Promise&lt;DynamicModule&gt; | ForwardReference&lt;any&gt;'.\n[0]   Type '(DynamicModule | typeof ProjectModule)[]' is not assignable to type 'ForwardReference&lt;any&gt;'.\n[0]     Property 'forwardRef' is missing in type '(DynamicModule | typeof ProjectModule)[]'.\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { AngularUniversalModule } from './modules/angular-universal/angular-universal.module';\nimport { JiraService } from './services/jira.service'\n// modules\nimport { ProjectModule } from './resources/local/projects/project.module'\n// sync\nimport {ProjectsSync} from './sync/projects.sync'\n\n@Module({\n  imports: [\n    [TypeOrmModule.forRoot(), ProjectModule],\n    AngularUniversalModule.forRoot(),\n  ],\n  controllers: [],\n  providers:[JiraService, ProjectsSync],\n})\nexport class ApplicationModule {}\n</code></pre>\n\n<p>project.module.ts</p>\n\n<pre><code>import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { ProjectService } from './project.service';\nimport { ProjectController } from './project.controller';\nimport { Project } from './project.entity';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([Project])],\n  providers: [ProjectService],\n  controllers: [ProjectController],\n})\nexport class ProjectModule {}\n</code></pre>\n\n<p>project.service.ts</p>\n\n<pre><code>import { Injectable, Inject } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { Project } from './project.entity';\n\n@Injectable()\nexport class ProjectService {\n  constructor(\n    @InjectRepository(Project)\n    private readonly projectRepository: Repository&lt;Project&gt;,\n  ) {}\n\n  async findAll(): Promise&lt;Project[]&gt; {\n    return await this.projectRepository.find();\n  }\n}\n</code></pre>\n\n<p>project.entity.ts</p>\n\n<pre><code>import { Entity, Column, PrimaryGeneratedColumn } from 'typeorm';\n\n@Entity()\nexport class Project {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ length: 500 })\n  name: string;\n}\n</code></pre>\n\n<p>project.controller.ts</p>\n\n<pre><code>import { Controller, Get } from '@nestjs/common';\nimport { ProjectService } from './project.service';\nimport { Project } from './project.entity';\n\n@Controller('project')\nexport class ProjectController {\n  constructor(private readonly projectService: ProjectService) {}\n\n  @Get()\n  findAll(): Promise&lt;Project[]&gt; {\n    return this.projectService.findAll();\n  }\n}\n</code></pre>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["angular", "typescript", "angular7", "angular-e2e"], "owner": {"reputation": 1093, "user_id": 2287595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7f730b15a8f7a4c0ba11bfdd833ad286?s=128&d=identicon&r=PG", "display_name": "Aarmora", "link": "https://stackoverflow.com/users/2287595/aarmora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542241426, "creation_date": 1542225719, "last_edit_date": 1542241426, "question_id": 53307946, "link": "https://stackoverflow.com/questions/53307946/e2e-testing-doing-nothing-since-upgrade-to-ng7", "title": "E2e testing doing nothing since upgrade to ng7", "body": "<p>We just completed our upgrade to Angular 7 and since then, it does nothing any time we try to run e2e tests. It doesn't throw any errors, just doesn't do anything.</p>\n\n<p>I tried booting up a completely new angular project and e2e tests work fine there. I copied over their angular.json file and just replaced the pathing and it does the same thing. </p>\n\n<p>Everything else works perfectly. Unit tests, serve, and aot builds.</p>\n\n<p><a href=\"https://i.stack.imgur.com/T1M9V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1M9V.png\" alt=\"E2e output\"></a></p>\n\n<p>Angular.json:</p>\n\n<pre><code>{\n    \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n    \"version\": 1,\n    \"newProjectRoot\": \"projects\",\n    \"projects\": {\n        \"lscloud-ui\": {\n            \"root\": \"\",\n            \"sourceRoot\": \"source\",\n            \"projectType\": \"application\",\n            \"architect\": {\n                \"build\": {\n                    \"builder\": \"@angular-devkit/build-angular:browser\",\n                    \"options\": {\n                        \"outputPath\": \"build/build\",\n                        \"index\": \"source/index.html\",\n                        \"main\": \"source/main.ts\",\n                        \"tsConfig\": \"source/tsconfig.app.json\",\n                        \"showCircularDependencies\": false,\n                        \"polyfills\": \"source/polyfills.ts\",\n                        \"assets\": [\n                            \"source/assets\",\n                            \"source/favicon.ico\"\n                        ],\n                        \"styles\": [],\n                        \"scripts\": []\n                    },\n                    \"configurations\": {\n                        \"production\": {\n                            \"optimization\": true,\n                            \"outputHashing\": \"all\",\n                            \"sourceMap\": false,\n                            \"extractCss\": true,\n                            \"namedChunks\": false,\n                            \"aot\": true,\n                            \"extractLicenses\": true,\n                            \"vendorChunk\": false,\n                            \"buildOptimizer\": true,\n                            \"fileReplacements\": [\n                                {\n                                    \"replace\": \"source/environments/environment.ts\",\n                                    \"with\": \"source/environments/environment.prod.ts\"\n                                }\n                            ]\n                        }\n                    }\n                },\n                \"serve\": {\n                    \"builder\": \"@angular-devkit/build-angular:dev-server\",\n                    \"options\": {\n                        \"browserTarget\": \"lscloud-ui:build\"\n                    },\n                    \"configurations\": {\n                        \"production\": {\n                            \"browserTarget\": \"lscloud-ui:build:production\"\n                        }\n                    }\n                },\n                \"extract-i18n\": {\n                    \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n                    \"options\": {\n                        \"browserTarget\": \"lscloud-ui:build\"\n                    }\n                },\n                \"test\": {\n                    \"builder\": \"@angular-devkit/build-angular:karma\",\n                    \"options\": {\n                        \"main\": \"source/test.ts\",\n                        \"karmaConfig\": \"./karma.conf.js\",\n                        \"polyfills\": \"source/polyfills.ts\",\n                        \"tsConfig\": \"source/tsconfig.spec.json\",\n                        \"scripts\": [],\n                        \"styles\": [],\n                        \"assets\": [\n                            \"source/assets\",\n                            \"source/favicon.ico\"\n                        ]\n                    }\n                },\n                \"lint\": {\n                    \"builder\": \"@angular-devkit/build-angular:tslint\",\n                    \"options\": {\n                        \"tsConfig\": [\n                            \"source/tsconfig.app.json\"\n                        ],\n                        \"exclude\": [\n                            \"**/node_modules/**\"\n                        ]\n                    }\n                }\n            }\n        },\n        \"lscloud-ui-e2e\": {\n            \"root\": \"\",\n            \"sourceRoot\": \"\",\n            \"projectType\": \"application\",\n            \"architect\": {\n                \"e2e\": {\n                    \"builder\": \"@angular-devkit/build-angular:protractor\",\n                    \"options\": {\n                        \"protractorConfig\": \"./protractor.conf.js\",\n                        \"devServerTarget\": \"lscloud-ui:serve\",\n                        \"port\": 49152\n                    },\n                    \"configurations\": {\n                        \"production\": {\n                            \"devServerTarget\": \"lscloud-ui:serve:production\"\n                        }\n                    }\n                },\n                \"lint\": {\n                    \"builder\": \"@angular-devkit/build-angular:tslint\",\n                    \"options\": {\n                        \"tsConfig\": [\n                            \"e2e/tsconfig.e2e.json\"\n                        ],\n                        \"exclude\": []\n                    }\n                }\n            }\n        }\n    },\n    \"defaultProject\": \"lscloud-ui\",\n    \"schematics\": {\n        \"@schematics/angular:component\": {\n            \"prefix\": \"\",\n            \"styleext\": \"css\"\n        },\n        \"@schematics/angular:directive\": {\n            \"prefix\": \"\"\n        }\n    }\n}\n</code></pre>\n\n<p>protractor.conf.js</p>\n\n<pre><code>const { SpecReporter } = require('jasmine-spec-reporter');\n\nexports.config = {\n    allScriptsTimeout: 11000,\n    specs: [\n        './e2e/**/*.e2e-spec.ts'\n    ],\n    capabilities: {\n        'browserName': 'chrome'\n    },\n    directConnect: true,\n    baseUrl: 'http://localhost:8081/',\n    framework: 'jasmine',\n    // capabilities: {\n    //   'browserName': 'chrome',\n    //   'chromeOptions': {\n    //     'args': [ \"--headless\", \"--disable-gpu\", \"--window-size=800x600\" ]\n    //   }\n    // },\n    jasmineNodeOpts: {\n        showColors: true,\n        defaultTimeoutInterval: 30000,\n        print: function () { }\n    },\n    onPrepare() {\n        browser.manage().window().setSize(1920, 1080);\n        browser.ignoreSynchronization = true;\n        require('ts-node').register({\n            project: 'e2e/tsconfig.e2e.json'\n        });\n        jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));\n    },\n    // seleniumAddress: 'http://localhost:4444/wd/hub',\n    // seleniumSessionId: '82d468f7f7336afd5727cd8682c252eb',\n\n    SELENIUM_PROMISE_MANAGER: false,\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "promise", "firebase-authentication"], "comments": [{"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1542226028, "post_id": 53307910, "comment_id": 93496626, "body": "Are you getting any error in console ?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542229245, "post_id": 53307910, "comment_id": 93498032, "body": "Did you miss to <code>preventDefault()</code> the onsubmit event navigating away?"}, {"owner": {"reputation": 57, "user_id": 3387688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10277e3d60effa51ee2f6fee62c7a6b?s=128&d=identicon&r=PG&f=1", "display_name": "kbronctjr", "link": "https://stackoverflow.com/users/3387688/kbronctjr"}, "edited": false, "score": 0, "creation_date": 1542230238, "post_id": 53307910, "comment_id": 93498442, "body": "The console shows nothng, and the network tab doesn&#39;t show any petition to firebase. I reverted the changes and did it again and now it&#39;s working... pretty strange"}, {"owner": {"reputation": 57, "user_id": 3387688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10277e3d60effa51ee2f6fee62c7a6b?s=128&d=identicon&r=PG&f=1", "display_name": "kbronctjr", "link": "https://stackoverflow.com/users/3387688/kbronctjr"}, "edited": false, "score": 0, "creation_date": 1542273777, "post_id": 53307910, "comment_id": 93512357, "body": "I have imported the FormsModule, so I think preventDefault() is not needed. Anyway it is working now so I will mark it as resolved"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 3387688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10277e3d60effa51ee2f6fee62c7a6b?s=128&d=identicon&r=PG&f=1", "display_name": "kbronctjr", "link": "https://stackoverflow.com/users/3387688/kbronctjr"}, "is_accepted": false, "score": 1, "last_activity_date": 1542273836, "creation_date": 1542273836, "answer_id": 53316130, "question_id": 53307910, "link": "https://stackoverflow.com/questions/53307910/firebase-promise-not-executing/53316130#53316130", "title": "Firebase Promise not executing", "body": "<p>I reverted the changes and did it again and now it's working</p>\n"}], "owner": {"reputation": 57, "user_id": 3387688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10277e3d60effa51ee2f6fee62c7a6b?s=128&d=identicon&r=PG&f=1", "display_name": "kbronctjr", "link": "https://stackoverflow.com/users/3387688/kbronctjr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542283733, "creation_date": 1542225550, "last_edit_date": 1542283733, "question_id": 53307910, "link": "https://stackoverflow.com/questions/53307910/firebase-promise-not-executing", "title": "Firebase Promise not executing", "body": "<p>I have the following method:</p>\n\n<pre><code>    async signinUser(email: string, password: string) {\n    return firebase.auth().signInWithEmailAndPassword(email, password)\n    .then(\n        response =&gt; {\n            console.log(response);\n            return firebase.auth().currentUser.getIdToken();\n        }\n    )\n    .then(\n        (token: string) =&gt; {\n            this.token = token;\n            return true;\n        }\n    )\n    .catch(\n        error =&gt; {\n            console.log(error);\n            return false;\n        }\n    );\n}\n</code></pre>\n\n<p>This method is called from a componente like this:</p>\n\n<pre><code>  onSignin(form: NgForm) {\nconst email = form.value.email;\nconst password = form.value.password;\n\nthis.authService.signinUser(email, password)\n.then(\n  (result: boolean) =&gt; {\n    console.log(result);\n    if (result) {\n      this.router.navigateByUrl(this.returnUrl);\n    }\n  }\n);\n</code></pre>\n\n<p>}</p>\n\n<p>The component method is called from the onsubmit of a form.</p>\n\n<p>The log does not show anything, for some reason the promises are not executing. Can anyone help me? </p>\n\n<p>Cheers</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "protractor", "automated-tests"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "edited": false, "score": 0, "creation_date": 1542296540, "post_id": 53313856, "comment_id": 93526376, "body": "I have looked into it, but am unable to do what I wish. Basically am wanting to have an AfterEach for each &quot;it&quot; block and that will be like  if (result.status == &#39;failed&#39;) { // code to send results to our api reporting }"}], "tags": [], "owner": {"reputation": 352, "user_id": 9659124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HhkiD.jpg?s=128&g=1", "display_name": "Alexandre", "link": "https://stackoverflow.com/users/9659124/alexandre"}, "is_accepted": false, "score": 0, "last_activity_date": 1542264467, "creation_date": 1542264467, "answer_id": 53313856, "question_id": 53307269, "link": "https://stackoverflow.com/questions/53307269/capture-pass-fail-of-protractor-test-case-for-custom-reporting/53313856#53313856", "title": "Capture pass/fail of Protractor test case for custom reporting", "body": "<p>Are you using this as well?:\n<a href=\"https://www.npmjs.com/package/protractor-html-reporter-2\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/protractor-html-reporter-2</a></p>\n\n<p>To have a better error description of the error and adding them to the jasmine reporter:\n<a href=\"https://www.npmjs.com/package/jasmine2-custom-message\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/jasmine2-custom-message</a></p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "edited": false, "score": 0, "creation_date": 1542306800, "post_id": 53325123, "comment_id": 93532144, "body": "Looks like specDone is for the entire spec file right. I want it to update based on each &quot;it&quot; block but looks like I&#39;ll need to have some reporting dependency still."}, {"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "reply_to_user": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "edited": false, "score": 0, "creation_date": 1542309586, "post_id": 53325123, "comment_id": 93533420, "body": "It should run for each &#39;it&#39; block. First line of the docs: <code>specDone is invoked when an it and its associated beforeEach and afterEach functions have been run.</code>"}, {"owner": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "edited": false, "score": 0, "creation_date": 1542318040, "post_id": 53325123, "comment_id": 93536954, "body": "ok that makes sense.. still not exactly sure where to specify the specDone piece of it at. in the spec file or the conf file?"}, {"owner": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "edited": false, "score": 0, "creation_date": 1542318053, "post_id": 53325123, "comment_id": 93536961, "body": "this is what i have now          let myReporter = {             specDone: function (result) {                 if (result.failedExpectations.length &gt; 0) {                     TEST_STATUS = &quot;FAIL&quot;;                 } else {                     TEST_STATUS = &quot;PASS&quot;;                 }             }         };                  afterEach(function (myReporter) {             home.reportResults(PROJECT_KEY,                 TEST_CASE_KEY,                 TEST_CYCLE_KEY,                 TEST_STATUS,                 startTime);         });`"}, {"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "reply_to_user": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "edited": false, "score": 0, "creation_date": 1542322624, "post_id": 53325123, "comment_id": 93538516, "body": "Is that actually working? You should probably create a separate <code>myReporter.js</code> file and then set it up in your <code>onPrepare</code> of the protractor config similar to the way other reporters are configured. I&#39;ll update my answer with an example."}], "tags": [], "owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "is_accepted": false, "score": 1, "last_activity_date": 1542323049, "last_edit_date": 1542323049, "creation_date": 1542303643, "answer_id": 53325123, "question_id": 53307269, "link": "https://stackoverflow.com/questions/53307269/capture-pass-fail-of-protractor-test-case-for-custom-reporting/53325123#53325123", "title": "Capture pass/fail of Protractor test case for custom reporting", "body": "<p>What you are looking for is actually <code>specDone</code> not <code>afterEach</code>. You either need to modify the <code>specDone</code> function of the reporter you are currently using or build a custom reporter that fits your needs. </p>\n\n<p><a href=\"https://jasmine.github.io/2.1/custom_reporter.html#section-specDone\" rel=\"nofollow noreferrer\">https://jasmine.github.io/2.1/custom_reporter.html#section-specDone</a></p>\n\n<p>Create your custom reporter:</p>\n\n<pre><code>// myReporter.js\nmodule.exports = {\n  specDone: (result) =&gt; {\n    // do stuff...\n  }\n}\n</code></pre>\n\n<p>Then in your protractor config you would have something like this:</p>\n\n<pre><code>const myReporter = require('myReporter');\n\n// other config properties\n\nonPrepare: function() {\n  jasmine.getEnv().addReporter(myReporter);        \n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9536978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a79a411dfcc180a3d9c8ea5dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Coolei Whistles", "link": "https://stackoverflow.com/users/9536978/coolei-whistles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542323049, "creation_date": 1542222860, "last_edit_date": 1542262125, "question_id": 53307269, "link": "https://stackoverflow.com/questions/53307269/capture-pass-fail-of-protractor-test-case-for-custom-reporting", "title": "Capture pass/fail of Protractor test case for custom reporting", "body": "<p>I've recently setup Protractor testing for our angular apps at our company - and was looking for a simple way to capture pass/fail status of each scenario in the spec classes. Is there a simple way to do this? I've tried messing with the <code>jasmine-spec-reporter</code>, but maybe I was missing something there to extract the data I need. Any help would be appreciated.</p>\n\n<p>I've tried things like this:</p>\n\n<pre><code>let currentSpec = jasmine.getEnv().currrentSpec, passed = currentSpec.results().passed();\n</code></pre>\n\n<p>but am always getting issues like </p>\n\n<blockquote>\n  <p>currentSpec not specified</p>\n</blockquote>\n\n<p>Ideally I would like to capture pass or fail without jasmine reporting, if possible.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1542222677, "post_id": 53307076, "comment_id": 93495130, "body": "You can probably use a <code>concatMap</code> in a pipe to make sure that you process those page requests in order. However, do you really care about the prior request if a new one comes in before the last was done? Usually you wouldn&#39;t and should instead use <code>switchMap</code>."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1542223320, "post_id": 53307076, "comment_id": 93495418, "body": "<code>this.route.params.pipe(switchMap(params =&gt; this.service.getPerson(params[&#39;id&#39;]).then(person =&gt; this.person = person)))</code>"}, {"owner": {"reputation": 2589, "user_id": 661422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/472aa5dffcda16cf23d2979d035f9605?s=128&d=identicon&r=PG", "display_name": "Kir", "link": "https://stackoverflow.com/users/661422/kir"}, "edited": false, "score": 0, "creation_date": 1542223750, "post_id": 53307076, "comment_id": 93495611, "body": "Correct, I would not care about the intermediate values. I will check out switchmap and get back to you.   I am currently reading through all the operators. For the sake of completeness, <code>debounceTime</code> also does mitigate this situation as long as I can predict the maximum time that my <code>getPerson</code> will take. But that&#39;s not great :)"}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 9542374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b40e2d98a6793af81964218ea37d92?s=128&d=identicon&r=PG&f=1", "display_name": "Davesoft", "link": "https://stackoverflow.com/users/9542374/davesoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1542222413, "creation_date": 1542222413, "answer_id": 53307157, "question_id": 53307076, "link": "https://stackoverflow.com/questions/53307076/how-to-maintain-order-of-subscribers-with-async-operations/53307157#53307157", "title": "How to maintain order of subscribers with async operations", "body": "<p>You could add a 'request id' to each call, that gets returned back to you. Then in the callback you can check if the req id is higher than the last one you processed.</p>\n\n<p>It's not ideal for little calls with single-integer responses, but I hid mine in the headers and used an interceptor/filter to echo that header back to the client on every request.</p>\n"}, {"tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 2, "last_activity_date": 1542223290, "creation_date": 1542223290, "answer_id": 53307399, "question_id": 53307076, "link": "https://stackoverflow.com/questions/53307076/how-to-maintain-order-of-subscribers-with-async-operations/53307399#53307399", "title": "How to maintain order of subscribers with async operations", "body": "<p>You'll want to make use of either <a href=\"https://www.learnrxjs.io/operators/transformation/concatmap.html\" rel=\"nofollow noreferrer\"><code>concatMap</code></a> or <a href=\"https://www.learnrxjs.io/operators/transformation/switchmap.html\" rel=\"nofollow noreferrer\"><code>switchMap</code></a>. <code>concatMap</code> will make sure the previous request is finished processing before doing the next one. <code>switchMap</code> will also ensure the order, except it will abort the processing of the prior request if it is still processing when the next request comes in.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngOnInit() {\n  this.route.params.pipe(\n      map(params =&gt; params['id']),\n      tap(id =&gt; console.log('processing', id)),\n      concatMap(id =&gt; fromPromise(this.service.getPerson(id)).pipe(\n        tap(person =&gt; console.log('processed id', id))\n      )), \n      tap(person =&gt; this.person = person)\n  )\n  .subscribe();\n}\n</code></pre>\n"}], "owner": {"reputation": 2589, "user_id": 661422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/472aa5dffcda16cf23d2979d035f9605?s=128&d=identicon&r=PG", "display_name": "Kir", "link": "https://stackoverflow.com/users/661422/kir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 53307399, "answer_count": 2, "score": 0, "last_activity_date": 1542223290, "creation_date": 1542222045, "last_edit_date": 1592644375, "question_id": 53307076, "link": "https://stackoverflow.com/questions/53307076/how-to-maintain-order-of-subscribers-with-async-operations", "title": "How to maintain order of subscribers with async operations", "body": "<p>I have an angular component which subscribes to its route params. Whenever the route params change, it reads the <code>id</code> from the params and calls a function to look up the record for that id. The function returns a promise. Upon resolving, the component sets a property on itself for the purposes of databinding.</p>\n<p>In some cases, it seems that the responses are getting out of order, and the wrong value is set. Here's what it looks like:</p>\n<pre><code>ngOnInit() {\n  this.route.params.subscribe((params) =&gt; {\n    const id = params['id'];\n    console.log('processing', id);\n    this.service.getPerson(id).then((person) =&gt; {\n      console.log('processed id', id);\n      this.person = person; // sometimes this happens out of order\n    }\n  }\n}\n</code></pre>\n<p>So, let's say I have a textbox where I filter by name, and as I type, navigation events occur where <code>id</code> gets the first result for that name. Sometimes I see this:</p>\n<blockquote>\n<p>processing 1</p>\n<p>processing 2</p>\n<p>processed 2</p>\n<p>processed 1   &lt;---- PROBLEM</p>\n</blockquote>\n<p>What is the most elegant way to solve this? I have considered converting the promise to an observable and trying to cancel it, but that seems heavy-handed. I am trying to figure out if there's a way to serialize subscriptions, so that the second 'processing' doens't begin until the first one completes.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1542220716, "post_id": 53306678, "comment_id": 93494198, "body": "The important part of your code is not shown: is the pipe that provides <code>| translate</code> (probably called <code>TranslatePipe</code>?) listed in the <code>declarations[]</code> and <code>exports[]</code> somewhere? Say, in <code>TranslateModule</code>?"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1542220730, "post_id": 53306678, "comment_id": 93494207, "body": "Did you try to have the <code>TranslateModule</code> module exported instead of imported in your shared module (may need both depending on if other things are using it in your shared module)? If you don&#39;t export that then any module that imports the shared module will still need to import that module on its own in order to use that <code>translate</code> pipe."}, {"owner": {"reputation": 342, "user_id": 10621714, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-heBBbF03Dj4/AAAAAAAAAAI/AAAAAAAAA2Q/owBGUvMVz74/photo.jpg?sz=128", "display_name": "Gabriel Lopez", "link": "https://stackoverflow.com/users/10621714/gabriel-lopez"}, "edited": false, "score": 0, "creation_date": 1542230908, "post_id": 53306678, "comment_id": 93498724, "body": "I think you might be missing the configuration for the shared Module <code>TranslateModule.forRoot({       loader: {         provide: TranslateLoader,         useFactory: HttpLoaderFactory,         deps: [HttpClient]       }     })</code>"}], "owner": {"reputation": 1, "user_id": 10157216, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hcSK6n-dPa4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oFp6McrlQCbuQamDt9CZ_-4bflPg/mo/photo.jpg?sz=128", "display_name": "Thiago Braz", "link": "https://stackoverflow.com/users/10157216/thiago-braz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542228051, "creation_date": 1542220365, "last_edit_date": 1542228051, "question_id": 53306678, "link": "https://stackoverflow.com/questions/53306678/about-angular-modules", "title": "About angular modules", "body": "<p>I`m developing app in angular and maybe i having a problem with multiple modules. I have 3 other modules besides the app.module. \ni called them: DashboardModule, InstitutionalModule and SharedModule. \nI imported Shared Module in Institutional Module And DashboardModule. Inside SharedModule i have a TranslateModule but when i compile project with 'ng build --prod' returns an error 'the pipe translate is not found.</p>\n\n<p>Other question i have is, it`s necessary to import shared module in app.module??</p>\n\n<p>Above The Modules code:\nApp.module.ts\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Angular Core\r\nimport { BrowserModule }                                   from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule }                         from '@angular/platform-browser/animations';\r\nimport { NgModule }                                        from '@angular/core';\r\nimport { AppRoutingModule }                                from './app.route.module';\r\nimport { HttpClient, HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { TranslateModule, TranslateLoader }                from '@ngx-translate/core';\r\nimport { TranslateHttpLoader }                             from '@ngx-translate/http-loader';\r\nimport { CommonModule }                                    from '@angular/common';\r\n\r\n//environment \r\nimport { environment } from '../environments/environment';\r\n\r\n//Guard \r\nimport { AuthGuard } from './guard/auth-guard';\r\n\r\n//Pages\r\nimport { AppComponent }                       from './app.component';\r\n\r\n//Bootstrap components\r\nimport { TabsModule }         from 'ngx-bootstrap/tabs';\r\nimport { BsDropdownModule }   from 'ngx-bootstrap/dropdown';\r\nimport { ModalModule }        from 'ngx-bootstrap/modal';\r\nimport { TooltipModule }      from 'ngx-bootstrap/tooltip';\r\nimport { ProgressbarModule }  from 'ngx-bootstrap/progressbar';\r\nimport { AccordionModule }    from 'ngx-bootstrap/accordion';\r\n\r\n//Alert Compomnent\r\nimport { ToastrModule }      from 'ngx-toastr';\r\n\r\n//Websocket\r\nimport { StompConfig, StompService } from '@stomp/ng2-stompjs';\r\n\r\n//Modules\r\nimport { NgxMaskModule }   from 'ngx-mask';\r\n\r\n//Interceptor\r\nimport { HttpsRequestInterceptor } from './interceptor/interceptor.module';\r\n\r\n//Modules\r\nimport { InstitutionalModule } from './modules/institutional/institutional.module';\r\nimport { DashboardModule } from './modules/dashboard/dashboard.module';\r\n\r\nconst stompConfig: StompConfig = {\r\n  url: environment.webSocket,\r\n\r\n  headers: {\r\n    login: 'guest',\r\n    passcode: 'guest'\r\n  },\r\n\r\n  heartbeat_in: 1000,\r\n  heartbeat_out: 1000,\r\n\r\n  reconnect_delay: 2000,\r\n\r\n  debug: false\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    InstitutionalModule,\r\n    DashboardModule,\r\n    CommonModule,\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    TabsModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    ToastrModule.forRoot({\r\n      timeOut: 1000,\r\n      positionClass: 'toast-bottom-right',\r\n      preventDuplicates: true,\r\n    }),\r\n    NgxMaskModule.forRoot(),\r\n    ProgressbarModule.forRoot(),\r\n    AccordionModule.forRoot(),\r\n  ],\r\n  providers: [AuthGuard,\r\n              StompService,\r\n              {\r\n                provide: StompConfig,\r\n                useValue: stompConfig\r\n              },\r\n              {\r\n                provide: HTTP_INTERCEPTORS,\r\n                useClass: HttpsRequestInterceptor,\r\n                multi: true\r\n              }\r\n            ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Shared Module</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule }                          from '@angular/core';\r\nimport { CommonModule }                      from '@angular/common';\r\nimport { HttpClient }                        from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule }  from '@angular/forms';\r\n\r\n//Translate\r\nimport { TranslateModule, TranslateLoader }  from '@ngx-translate/core';\r\nimport { TranslateHttpLoader }               from '@ngx-translate/http-loader';\r\n\r\n//Directive\r\nimport { NumberOnlyDirective }     from './directives/number-only.directive';\r\nimport { MaskDirective }           from './directives/cpf.directive';\r\nimport { KzMaskCurrencyDirective } from './directives/currency.directive';\r\nimport { CriptocurrencyDirective } from './directives/criptocurrency.directive';\r\n\r\n//Pipes\r\nimport { CurrencyValuePipe }  from './pipe/currency.pipe';\r\nimport { CpfPipe }            from './pipe/cpf.pipe';\r\nimport { CryptocurrencyPipe } from './pipe/cryptocurrency.pipe';\r\n\r\n//Dependecies Modules\r\nimport { TabsModule }         from 'ngx-bootstrap/tabs';\r\nimport { BsDropdownModule }   from 'ngx-bootstrap/dropdown';\r\nimport { ModalModule }        from 'ngx-bootstrap/modal';\r\nimport { TooltipModule }      from 'ngx-bootstrap/tooltip';\r\nimport { ProgressbarModule }  from 'ngx-bootstrap/progressbar';\r\nimport { AccordionModule }    from 'ngx-bootstrap/accordion';\r\nimport { ClipboardModule }    from 'ngx-clipboard';\r\nimport { QRCodeModule }       from 'angularx-qrcode';\r\nimport { NgxMaskModule }      from 'ngx-mask';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [\r\n    NumberOnlyDirective,\r\n    MaskDirective,\r\n    KzMaskCurrencyDirective,\r\n    CurrencyValuePipe,\r\n    CpfPipe,\r\n    CryptocurrencyPipe,\r\n    CriptocurrencyDirective\r\n  ],\r\n  providers:[\r\n    CurrencyValuePipe,\r\n    CryptocurrencyPipe\r\n  ],\r\n  exports: [\r\n    NumberOnlyDirective,\r\n    MaskDirective,\r\n    KzMaskCurrencyDirective,\r\n    CurrencyValuePipe,\r\n    CpfPipe,\r\n    CryptocurrencyPipe,\r\n    CriptocurrencyDirective,\r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TabsModule,\r\n    BsDropdownModule,\r\n    ModalModule,\r\n    TooltipModule,\r\n    ProgressbarModule,\r\n    AccordionModule,\r\n    ClipboardModule,\r\n    QRCodeModule,\r\n    NgxMaskModule\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Dashboard Module</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule }     from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n//Routes\r\nimport { dahsboardRoutingModule } from './dashboard.routing.module';\r\n\r\n//Pages\r\nimport { AttendancePageComponent }            from './pages/attendance-page/attendance-page.component';\r\nimport { CareDetailPageComponent }            from './pages/care-detail/care-detail-page.component';\r\nimport { DepositPageComponent }               from './pages/deposit/deposit-page.component';\r\nimport { ExtractPageComponent }               from './pages/extract/extract-page.component';\r\nimport { HomePageComponent }                  from './pages/home/home-page.component';\r\nimport { NotificationPageComponent }          from './pages/notification-page/notification-page.component';\r\nimport { RegistryWithdrawUsersPageComponent } from './pages/registry-withdraw-users-page/registry-withdraw-users-page.component';\r\nimport { TradeAdvancedPageComponent }         from './pages/trade/trade-advanced/trade-advanced-page.component';\r\nimport { SendCriptoPageComponent }            from './pages/transfer/send/send-cripto-page.component';\r\nimport { ReceiveCriptoPageComponent }         from './pages/transfer/receive/receive-cripto-page.component';\r\nimport { ProfilePageComponent }               from './pages/user/profile/profile-page.component';\r\nimport { WalletPageComponent }                from './pages/wallet/wallet-page.component';\r\nimport { WithdrawPageComponent }              from './pages/withdraw/withdraw-page.component';\r\n\r\n//Components\r\nimport { MarketsDoughnutComponent }           from './components/markets-doughnut/markets-doughnut.component';\r\nimport { EthereumChartComponent }             from './components/charts/home/ethereum-chart/ethereum-chart.component';\r\nimport { LitecoinChartComponent }             from './components/charts/home/litecoin-chart/litecoin-chart.component';\r\nimport { BitcoinChartComponent }              from './components/charts/home/bitcoin-chart/bitcoin-chart.component';\r\nimport { BitcoincashChartComponent }          from './components/charts/home/bitcoincash-chart/bitcoincash-chart.component';\r\nimport { DashChartComponent }                 from './components/charts/home/dash-chart/dash-chart.component';\r\nimport { SellBookComponent }                  from './components/offers-book/sell-book/sell-book.component';\r\nimport { BuyBookComponent }                   from './components/offers-book/buy-book/buy-book.component';\r\nimport { MenuBarComponent }                   from './components/menu-bar/menu-bar.component';\r\nimport { WalletVariationComponent }           from './components/wallet-variable/wallet-variation.component';\r\nimport { MywalletHomeComponent }              from './components/mywallet-home/mywallet-home.component';\r\nimport { BuyTradeComponent }                  from './components/forms/advanced/buy-trade/buy-trade.component';\r\nimport { SellTradeComponent }                 from './components/forms/advanced/sell-trade/sell-trade.component';\r\nimport { OrdensAbertasComponent }             from './components/ordens/ordens-abertas/ordens-abertas.component';\r\nimport { OrdensExcutadasComponent }           from './components/ordens/ordens-excutadas/ordens-excutadas.component';\r\nimport { OrdensHistoricoComponent }           from './components/ordens/ordens-historico/ordens-historico.component';\r\nimport { BoletaTradeSimpleComponent }         from './components/forms/home/boleta-trade-sample/boleta-trade-simple.component';\r\nimport { ExtratoSaqueComponent }              from './components/extrato/extrato-saque/extrato-saque.component';\r\nimport { ExtratoDepositoComponent }           from './components/extrato/extrato-deposito/extrato-deposito.component';\r\nimport { ExtratoCriptomoedasComponent }       from './components/extrato/extrato-criptomoedas/extrato-criptomoedas.component';\r\nimport { PriceVolumeComponent }               from './components/price-volume/price-volume.component';\r\nimport { NotificationComponent }              from './components/notification/notification.component';\r\nimport { PriceChartComponent }                from './components/price-chart/price-chart.component';\r\nimport { SendDocumentModalComponent }         from '../../shared/components/send-document-modal/send-document-modal.component';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    dahsboardRoutingModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    AttendancePageComponent,\r\n    CareDetailPageComponent,\r\n    DepositPageComponent,\r\n    ExtractPageComponent,\r\n    HomePageComponent,\r\n    NotificationPageComponent,\r\n    RegistryWithdrawUsersPageComponent,\r\n    TradeAdvancedPageComponent,\r\n    SendCriptoPageComponent,\r\n    ReceiveCriptoPageComponent,\r\n    ProfilePageComponent,\r\n    WalletPageComponent,\r\n    WithdrawPageComponent,\r\n    MarketsDoughnutComponent,\r\n    EthereumChartComponent,\r\n    LitecoinChartComponent,\r\n    BitcoinChartComponent,\r\n    BitcoincashChartComponent,\r\n    DashChartComponent,\r\n    SellBookComponent,\r\n    BuyBookComponent,\r\n    MenuBarComponent,\r\n    WalletVariationComponent,\r\n    MywalletHomeComponent,\r\n    BuyTradeComponent,\r\n    SellTradeComponent,\r\n    OrdensAbertasComponent,\r\n    OrdensExcutadasComponent,\r\n    OrdensHistoricoComponent,\r\n    BoletaTradeSimpleComponent,\r\n    ExtratoSaqueComponent,\r\n    ExtratoDepositoComponent,\r\n    ExtratoCriptomoedasComponent,\r\n    PriceVolumeComponent,\r\n    NotificationComponent,\r\n    PriceChartComponent,\r\n    SendDocumentModalComponent\r\n  ]\r\n})\r\nexport class DashboardModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Institutional Module</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule }     from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n//Routes\r\nimport { institutionalRoutingModule } from './institutional.routing.module';\r\n\r\n//Pages\r\nimport { InstitucionalPageComponent } from './pages/institucional-page/institucional-page.component';\r\nimport { AboutCoinsPageComponent }    from './pages/about-coins-page/about-coins-page.component';\r\n\r\n//Components\r\nimport { CoinsListComponent }    from './components/coins-list/coins-list.component';\r\nimport { LoginComponent }        from './components/login/login.component';\r\nimport { HeaderComponent }       from './components/header/header.component';\r\nimport { FooterComponent }       from './components/footer/footer.component';\r\nimport { RegistroPageComponent } from './pages/registro-page/registro-page.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    institutionalRoutingModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    InstitucionalPageComponent,\r\n    AboutCoinsPageComponent,\r\n    RegistroPageComponent,\r\n    CoinsListComponent,\r\n    LoginComponent,\r\n    HeaderComponent,\r\n    FooterComponent\r\n  ]\r\n})\r\nexport class InstitutionalModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/BLVNj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BLVNj.png\" alt=\"The error\"></a></p>\n"}, {"tags": ["typescript", "api", "calendar", "google-calendar-api"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7122731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08149569dba1a79ec6a9527a26ec5195?s=128&d=identicon&r=PG&f=1", "display_name": "philippe.kienner", "link": "https://stackoverflow.com/users/7122731/philippe-kienner"}, "edited": false, "score": 2, "creation_date": 1542568788, "post_id": 53332377, "comment_id": 93605677, "body": "Thank you droidBomb. As per <a href=\"https://developers.google.com/calendar/quickstart/js\" rel=\"nofollow noreferrer\">goole&#39;s documentation, the gapi lib is to be used for browser</a>. I&#39;m looking for a server implementation on node.js. <a href=\"https://developers.google.com/calendar/quickstart/nodejs\" rel=\"nofollow noreferrer\">Here the docs says to use googleapi</a>. Still your answer is interesting."}, {"owner": {"reputation": 837, "user_id": 1067156, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/qkPmc.jpg?s=128&g=1", "display_name": "MaxRocket", "link": "https://stackoverflow.com/users/1067156/maxrocket"}, "edited": false, "score": 0, "creation_date": 1555410881, "post_id": 53332377, "comment_id": 98093067, "body": "droidBomb, were you able to make this work? If so, can you put a Codepen or JSFiddle or such up for us? Thanks!"}, {"owner": {"reputation": 202, "user_id": 2395985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c92d6ec7e8cccccb1c8fb9db33899b6?s=128&d=identicon&r=PG", "display_name": "Edward Chan JW", "link": "https://stackoverflow.com/users/2395985/edward-chan-jw"}, "edited": false, "score": 0, "creation_date": 1605190849, "post_id": 53332377, "comment_id": 114579539, "body": "I am no recommend using the client on node.js and vis versa. But it is great if Client(Browser) manage to reach consensus so most stuff run on ES6/7 in near future."}], "tags": [], "owner": {"reputation": 784, "user_id": 8215090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j08q0.png?s=128&g=1", "display_name": "droidBomb", "link": "https://stackoverflow.com/users/8215090/droidbomb"}, "is_accepted": false, "score": 0, "last_activity_date": 1542348705, "creation_date": 1542348705, "answer_id": 53332377, "question_id": 53306382, "link": "https://stackoverflow.com/questions/53306382/google-calendar-api-typescript-types/53332377#53332377", "title": "google Calendar API - typescript types", "body": "<p>Try following this <a href=\"https://hintdesk.com/2018/08/24/angular-google-drive-api-example/\" rel=\"nofollow noreferrer\">Angular 6 \u2013 Google Drive Api v3 example</a>, I tried this tutorial to integrate Google APIs to my angular app. It is not <code>@types/googleapis</code> but <code>@types/gapi</code>.</p>\n\n<pre><code>npm install --save @types/gapi\nnpm install --save @types/gapi.auth2\nnpm install --save @types/gapi.client.drive\n</code></pre>\n\n<p>Instead of <code>gapi.client.drive</code> you will call <code>gapi.client.calendar</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 5863923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d8baa3b46dd1e24a0c3d17bd9278c9?s=128&d=identicon&r=PG&f=1", "display_name": "Employee 451", "link": "https://stackoverflow.com/users/5863923/employee-451"}, "edited": false, "score": 0, "creation_date": 1605947683, "post_id": 56529403, "comment_id": 114813529, "body": "The issue for me here is that google.calendar() does not accept auth to be of type JWT, which is needed when using service accounts."}], "tags": [], "owner": {"reputation": 7229, "user_id": 178236, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b46e503bdfc5dfe07ec0f5a7c542184?s=128&d=identicon&r=PG", "display_name": "Justin Beckwith", "link": "https://stackoverflow.com/users/178236/justin-beckwith"}, "is_accepted": true, "score": 4, "last_activity_date": 1560180875, "creation_date": 1560180875, "answer_id": 56529403, "question_id": 53306382, "link": "https://stackoverflow.com/questions/53306382/google-calendar-api-typescript-types/56529403#56529403", "title": "google Calendar API - typescript types", "body": "<p>You can absolutely use this library with TypeScript.  It's written in TypeScript!  Here's a basic example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {google} from 'googleapis';\nconst calendar = google.calendar('v3');\n</code></pre>\n\n<p>That's the right way to get a reference to a particular subsection of the API :)</p>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 5863923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d8baa3b46dd1e24a0c3d17bd9278c9?s=128&d=identicon&r=PG&f=1", "display_name": "Employee 451", "link": "https://stackoverflow.com/users/5863923/employee-451"}, "edited": false, "score": 0, "creation_date": 1605947671, "post_id": 61163080, "comment_id": 114813528, "body": "The issue for me here is that google.calendar() does not accept auth to be of type JWT, which is needed when using service accounts."}], "tags": [], "owner": {"reputation": 4533, "user_id": 495244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a292e42b64b2bc2a266d47cccf341057?s=128&d=identicon&r=PG", "display_name": "corolla", "link": "https://stackoverflow.com/users/495244/corolla"}, "is_accepted": false, "score": 5, "last_activity_date": 1586635792, "creation_date": 1586635792, "answer_id": 61163080, "question_id": 53306382, "link": "https://stackoverflow.com/questions/53306382/google-calendar-api-typescript-types/61163080#61163080", "title": "google Calendar API - typescript types", "body": "<p>@justin-beckwith's answer is correct, but retrieving the types also deserves an example:</p>\n\n<pre><code>import { calendar_v3, google } from 'googleapis';\nimport { OAuth2Client, Credentials } from 'google-auth-library';\nimport Calendar = calendar_v3.Calendar;\nimport Schema$Event = calendar_v3.Schema$Event;\n\nconst auth: OAuth2Client = new google.auth.OAuth2(...);\nconst calendar: Calendar = google.calendar({ version: 'v3', auth });\nconst schemaEvent: Schema$Event = (await calendar.events.get({ calendarId, eventId })).data;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7122731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08149569dba1a79ec6a9527a26ec5195?s=128&d=identicon&r=PG&f=1", "display_name": "philippe.kienner", "link": "https://stackoverflow.com/users/7122731/philippe-kienner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3639, "favorite_count": 1, "accepted_answer_id": 56529403, "answer_count": 3, "score": 3, "last_activity_date": 1586635792, "creation_date": 1542218977, "last_edit_date": 1543058245, "question_id": 53306382, "link": "https://stackoverflow.com/questions/53306382/google-calendar-api-typescript-types", "title": "google Calendar API - typescript types", "body": "<p>Does anybody know if the google Calendar API (npm googleapis pkg) for node.js (or browser) has types available that could be used in typescript.\nAllowing a strongly typed approach in node or angular.</p>\n\n<p>I could not find a @types/googleapis npm package.\nNor anything in the doc.</p>\n\n<p>Any advise welcome.</p>\n\n<p>Thanks in advance.</p>\n\n<p>--\nThe documentation says it is natively supported, no need for separate package.\n<a href=\"https://www.npmjs.com/package/googleapis\" rel=\"nofollow noreferrer\">Doc - section Typescript</a>\nBUT, when I try, as stated in the doc</p>\n\n<pre><code>    import { google, calendar_v3 } from 'googleapis';\n</code></pre>\n\n<p>Typescript tells me : \n[ts] Module '\"/home/me/myProject/functions/node_modules/googleapis/build/src/index\"' has no exported member 'calendar_v3'. [2305]</p>\n\n<p>When I look in googleapis/build/src/index.d.ts I see GoogleApis, that point to ../apis where all the apis are, with a v3.d.ts file including the namespace</p>\n\n<pre><code>    * @namespace calendar\n    * @type {Function}\n    * @version v3\n    * @variation v3\n</code></pre>\n\n<p>So, obviously, it is there, but I am missing something ... but what?\nHow can you use this library in typescript?\nAn example would be welcome.</p>\n\n<p>Philippe</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 5, "creation_date": 1542218695, "post_id": 53306274, "comment_id": 93493260, "body": "Question: why not declare it as <code>errorCode?: apiErrors</code> ?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542218763, "post_id": 53306274, "comment_id": 93493286, "body": "And rename the enum to <code>ApiErrorCode</code>?"}, {"owner": {"reputation": 202, "user_id": 7003817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b651d5daa52cd9c4ad0caa2af2deca63?s=128&d=identicon&r=PG&f=1", "display_name": "C Smith", "link": "https://stackoverflow.com/users/7003817/c-smith"}, "edited": false, "score": 0, "creation_date": 1542221579, "post_id": 53306274, "comment_id": 93494613, "body": "otherwise if you want just to define the values as a type you can use: export type ApiErrors = &#39;INVALID_SHAPRE&#39; | &#39;EXISTS&#39;; etc"}], "answers": [{"tags": [], "owner": {"reputation": 1752, "user_id": 469601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76dddfc78c5cd4d013d6407ad6dd5f2?s=128&d=identicon&r=PG", "display_name": "colefner", "link": "https://stackoverflow.com/users/469601/colefner"}, "is_accepted": false, "score": 0, "last_activity_date": 1542221550, "creation_date": 1542221550, "answer_id": 53306956, "question_id": 53306274, "link": "https://stackoverflow.com/questions/53306274/how-to-assign-string-types-from-a-enum-in-typescript/53306956#53306956", "title": "How to assign string types from a enum in Typescript?", "body": "<p>As @JBNizet and @AviadP mentioned, just set <code>errorCode</code> to the <code>apiErrors</code> enum. Typescript will automatically ensure that anything that implements the <code>IApiResponse</code> interface has <code>errorCode</code> set to be one of those values.</p>\n\n<pre><code>export enum apiErrors {\n   INVALID_SHAPE = \"INVALID_SHAPE\",\n   NOT_FOUND = \"NOT_FOUND\",\n   EXISTS = \"EXISTS\",\n   INVALID_AUTH = \"INVALID_AUTH\",\n   INTERNAL_SERVER_ERROR = \"INTERNAL_SERVER_ERROR\"\n}\n\nexport interface IApiResponse {\n   status: boolean;\n   payload: any;\n   errorCode?: apiErrors // this is the change\n}\n\n// this would now be invalid\nconst invalidResponse: IApiResponse = {\n   status: false,\n   payload: {foo: 'bar'},\n   errorCode: 'something not in the enum',\n};\n\n// this is valid\nconst validResponse: IApiResponse = {\n   status: false,\n   payload: {foo: 'bar'},\n   errorCode: apiErrors.INVALID_SHAPE,\n};\n\n// this is also valid\nconst anotherValidResponse: IApiResponse = {\n   status: true,\n   payload: {foo: 'bar'},\n   // errorCode isn't included at all\n};\n</code></pre>\n"}], "owner": {"reputation": 774, "user_id": 1565492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f6fd8fc08e2e4b8fb67572443d71e6b?s=128&d=identicon&r=PG", "display_name": "Sai Datta", "link": "https://stackoverflow.com/users/1565492/sai-datta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542221550, "creation_date": 1542218516, "question_id": 53306274, "link": "https://stackoverflow.com/questions/53306274/how-to-assign-string-types-from-a-enum-in-typescript", "title": "How to assign string types from a enum in Typescript?", "body": "<p>So I have an enum which contains a set of strings</p>\n\n<pre><code>export enum apiErrors {\n    INVALID_SHAPE = \"INVALID_SHAPE\",\n    NOT_FOUND = \"NOT_FOUND\",\n    EXISTS = \"EXISTS\",\n    INVALID_AUTH = \"INVALID_AUTH\",\n    INTERNAL_SERVER_ERROR = \"INTERNAL_SERVER_ERROR\"\n}\n</code></pre>\n\n<p>I defined an interface like below</p>\n\n<pre><code>export interface IApiResponse {\n    status: boolean;\n    payload: any;\n    errorCode?: string; // I want this to be \"INVALID_SHAPE\" | \"NOT_FOUND\" and so on...\n}\n</code></pre>\n\n<p>I know I can define just like <code>\"INVALID_SHAPE\" | \"NOT_FOUND\" ...</code></p>\n\n<p>But is there a way to de-structure the enum to <code>errorCode</code> so that it can accept only one of those strings?</p>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1542216947, "post_id": 53305833, "comment_id": 93492515, "body": "What is the issue? Do you need different functionality for blur vs select? Can you just choose either select or blur to execute <code>onEndTimeChange()</code>? Why do you have both assigned?"}, {"owner": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1542271469, "post_id": 53305833, "comment_id": 93511025, "body": "Issue is when i select something for first tie in time picker both the blur and select event gets called."}, {"owner": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1542271824, "post_id": 53305833, "comment_id": 93511194, "body": "As i want to performed one operation on time change so i have assigned onblur as well as on select the same method."}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1542301680, "post_id": 53305833, "comment_id": 93529594, "body": "I&#39;m sorry, I&#39;m just not understanding the issue. It sounds like if you just use onSelect or onBlur, not both, then <code>onEndTimeChange()</code> will only be executed a single (1) time. Maybe update your question to provide more detail on what happens <code>onEndTimeChange()</code> and the exact serious of events you are seeing. I&#39;d also recommend to maybe create a working example with <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">StackBlitz</a> or similar. Thanks!"}], "owner": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 706, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542216784, "creation_date": 1542216784, "question_id": 53305833, "link": "https://stackoverflow.com/questions/53305833/onblur-and-onselect-both-events-getting-called-in-prime-ng-calendar-control-angu", "title": "OnBlur and OnSelect Both events getting called in prime ng calendar control Angular 5", "body": "<p>I am using prime ng calendar control and for time picker.but when I am selecting any time both the onBlur and Onselect events are getting called.Please help to resolve.Here is the code I have use:</p>\n\n<pre><code> &lt;p-calendar id=\"endtime\" name=\"end\" [stepMinute]=\"15\" (onSelect)=\"onEndTimeChange()\" (onBlur)=\"onEndTimeChange()\" [(ngModel)]=\"searchParameters.endTime\" class=\"form-control time-control\"\n        showTime=true timeOnly=true placeholder=\"End Time\"&gt;\n      &lt;/p-calendar&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7hlZI.png\" rel=\"nofollow noreferrer\">Time picker control</a></p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "edited": false, "score": 0, "creation_date": 1542275442, "post_id": 53306255, "comment_id": 93513400, "body": "Hey @Picci, thanks for the answer. The problem with this answer, is that it will only emit the last value in the returned observable."}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "reply_to_user": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "edited": false, "score": 0, "creation_date": 1542284323, "post_id": 53306255, "comment_id": 93518576, "body": "What would you expect to get as result? The simulating functions you propose just emit 1 element. In the real case do you expect any of the Observables actually emit more than 1 value?"}, {"owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "edited": false, "score": 0, "creation_date": 1542623566, "post_id": 53306255, "comment_id": 93621326, "body": "I mean the final <code>perform()</code> function. It emits all 3 elements from the 3 functions in a single observable."}], "tags": [], "owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "is_accepted": false, "score": 1, "last_activity_date": 1542664065, "last_edit_date": 1542664065, "creation_date": 1542218446, "answer_id": 53306255, "question_id": 53305760, "link": "https://stackoverflow.com/questions/53305760/concat-observables-reusing-the-previous-results/53306255#53306255", "title": "Concat observables reusing the previous results", "body": "<p>You can try something like</p>\n\n<pre><code>getCat()\n.pipe(\n   switchMap(cat =&gt; petCat(cat).pipe(map(mood =&gt; ({cat, mood})))),\n   switchMap(({cat, mood}) =&gt; getFood(cat, mood))\n)\n</code></pre>\n\n<p>The whole idea is to use <code>switchMap</code> to <em>switch</em> from the source Observable to the Observable returned by the function passed to <code>switchMap</code> as parameter.</p>\n\n<p>Maybe worth of mentioning is the use of <code>map</code> chained into the pipe of the first <code>switchMap</code>. That <code>map</code> operator makes sure that we keep <code>cat</code> as part of the parameters we pass the second, and last, <code>switchMap</code>.</p>\n\n<p><strong>UPDATE after comment</strong>\nIf the function <code>perform</code> has to emit all the 3 elements emitted by the 3 functions, then you may try something like the following</p>\n\n<pre><code>function perform() {\n   return getCat()\n          .pipe(\n             switchMap(cat =&gt; petCat(cat).pipe(map(mood =&gt; ({cat, mood})))),\n             switchMap(({cat, mood}) =&gt; getFood(cat, mood).pipe(map(food =&gt; ({cat, mood, food}))))\n          )\n}\n</code></pre>\n"}], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542664065, "creation_date": 1542216556, "last_edit_date": 1542217833, "question_id": 53305760, "link": "https://stackoverflow.com/questions/53305760/concat-observables-reusing-the-previous-results", "title": "Concat observables reusing the previous results", "body": "<p>Imagine I have 3 functions, taking some arguments and returning an observable. Logic would be (all would be a result of something async):</p>\n\n<ol>\n<li>Get a cat.</li>\n<li>Pet the cat.</li>\n<li>Get food for the cat based on it's mood after petting it. </li>\n</ol>\n\n<p>Sample code:</p>\n\n<pre><code>function getCat(): Observable&lt;Cat&gt; {\n  return Observable.of({ name: 'Larry' }) \n}\n\nfunction petCat(cat: Cat): Observable&lt;Mood&gt; {\n  return Observable.of(Mood.HAPPY)\n}\n\nfunction getFood(cat: Cat, mood: Mood): Observable&lt;Food&gt; {\n  return Observable.of({ type: 'fish' })\n}\n</code></pre>\n\n<ol>\n<li><p>I would like to end up with an Observable that's equivalent with this:</p>\n\n<p><code>Observable.from([{ name: 'Larry' }, Mood.HAPPY, { type: 'fish' }])</code></p></li>\n<li><p>I would like the functions to be invoked in sequence (obviously from the parameter signatures)</p></li>\n<li>I would not like to delay the individual emits, in the final observable I'd like to get the results as soon as they arrive.</li>\n</ol>\n\n<p>I could get it working with something like this:</p>\n\n<pre><code>function perform() {\n  return getCat().pipe(\n    mergeMap((cat) =&gt; concat(\n        of(cat),\n        petCat(cat).pipe(\n          mergeMap((mood) =&gt; concat(\n            of(mood),\n            getFood(cat, mood)\n          ))\n        )\n      )\n    ),\n  )\n}\n</code></pre>\n\n<p><strong>Question is</strong>, is there a better, more readable way of doing this (let's say I would have 5 of these that I would like to chain)?</p>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "html5-filesystem"], "comments": [{"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 1, "creation_date": 1542215207, "post_id": 53305340, "comment_id": 93491598, "body": "They should be a part of the standard DOM type library <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.dom.d.ts\" rel=\"nofollow noreferrer\"><code>lib.dom.d.ts</code></a>."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 0, "creation_date": 1542215876, "post_id": 53305340, "comment_id": 93491945, "body": "Does not look like the <code>Window</code> interface has <code>File</code> and <code>FileReader</code> properties on it, which probably explains why Typescript complains when we attempt to use that namespace in  Angular."}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 1, "creation_date": 1542216264, "post_id": 53305340, "comment_id": 93492142, "body": "You could potentially use declaration merging to attach <code>File</code> and <code>FileReader</code> to the <code>Window</code> interface."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1542216322, "post_id": 53305340, "comment_id": 93492165, "body": "So if we try to do this: `    const w = document.defaultView; ` and ` this.hasHtml5FileApiSupport = w.File &amp;&amp; w.FileReader &amp;&amp; w.FileList &amp;&amp; w.Blob; ` the VSCode draws red squigglies under the properties that are not defined on the <code>Window</code> interface."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1542216444, "post_id": 53305340, "comment_id": 93492228, "body": "@JakeHolzinger I could extend the <code>Window</code> interface with a custom interface also ... but I&#39;m wondering why the properties are not on the <code>Window</code> interface.  They could be null, but at least if they are defined, it makes the code a bit more DRY ... Perhaps I should put it in as a feature request?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1542218083, "post_id": 53305340, "comment_id": 93493022, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/28525\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/28525</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1542218567, "post_id": 53305917, "comment_id": 93493214, "body": "I added another related answer here: <a href=\"https://stackoverflow.com/questions/53292312/checking-for-html5-file-api-support-in-angular\" title=\"checking for html5 file api support in angular\">stackoverflow.com/questions/53292312/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1542217126, "creation_date": 1542217126, "answer_id": 53305917, "question_id": 53305340, "link": "https://stackoverflow.com/questions/53305340/typescript-html5-api-typings/53305917#53305917", "title": "Typescript HTML5 API Typings", "body": "<p>I cannot tell you why <code>File</code> and <code>FileReader</code> are not included on the <code>Window</code> object already. You can certainly open an issue with <code>typescript</code> to see if they plan on adding them. In the meantime, the easiest way to \"patch\" this oversight would be to use declaration merging.</p>\n\n<p>Window.d.ts</p>\n\n<pre><code>interface Window {\n    File?:File;\n    FileReader?:FileReader;\n}\n</code></pre>\n\n<p>Now <code>File</code> and <code>FileReader</code> will be available on the <code>Window</code> object anywhere in your project.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "accepted_answer_id": 53305917, "answer_count": 1, "score": 0, "last_activity_date": 1542217126, "creation_date": 1542214978, "question_id": 53305340, "link": "https://stackoverflow.com/questions/53305340/typescript-html5-api-typings", "title": "Typescript HTML5 API Typings", "body": "<p>Anyone know if there exists type definitions for the HTML5 File API?  Specifically:</p>\n\n<ul>\n<li>FileList</li>\n<li>File</li>\n<li>Blob</li>\n<li>FileReader</li>\n</ul>\n\n<p>Also in Angular there is a <code>document.defaultView</code> object that represents the window, but it does not the full Window interface with respect to the Html5 File API, so it would be necessary to cast <code>document.defaultView</code> to an instance that has the <code>Window</code> interface for the file API.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "spfx"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542240428, "post_id": 53305278, "comment_id": 93502035, "body": "You are passing the literal string <code>require(&#39;.&#47;incident-report-graphic.jpg&#39;)</code> as the image path, which can&#39;t be right.  Try curly braces instead of double quotes around the <code>require</code> call so the call gets evaluated."}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542292998, "post_id": 53305278, "comment_id": 93523929, "body": "@MattMcCutchen I tried <code>&lt;img src={require(&#39;.&#47;assets&#47;incident-report-graphic.jpg&#39;)}alt=&quot;te&zwnj;&#8203;st&quot; &#47;&gt;</code> and I get <code>YellowCardForm.tsx:177 Uncaught (in promise) Error: Cannot find module &quot;.&#47;assets&#47;incident-report-graphic.jpg&quot;</code> error."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542322739, "post_id": 53305278, "comment_id": 93538550, "body": "First, try <code>require(&#39;.&#47;incident-report-graphic.jpg)</code> without the <code>assets</code>, because I don&#39;t see an <code>assets</code> folder in your project structure.  If you still have trouble, then the problem is likely with your Webpack configuration, so please add it to the question."}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542379915, "post_id": 53305278, "comment_id": 93559268, "body": "@MattMcCutchen That did it.  I had the image in both locations; same folder and in the /assets folder.  How can I access the image in the /assets folder? I&#39;ll add a pic of the structure."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542383188, "post_id": 53305278, "comment_id": 93561163, "body": "It looks like the correct relative path to use in <code>require</code> would be <code>..&#47;..&#47;assets&#47;incident-report-graphic.jpg</code>."}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542388080, "post_id": 53305278, "comment_id": 93563729, "body": "Ah, I didn&#39;t know if it was relative path or absolute path, thanks!  If you want to put up an answer, we can get everything square."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1542395318, "creation_date": 1542395318, "answer_id": 53343982, "question_id": 53305278, "link": "https://stackoverflow.com/questions/53305278/sharepoint-framework-with-react-component-loading-images/53343982#53343982", "title": "SharePoint Framework with React Component loading images", "body": "<p>Resolved in comments.  There were two issues:</p>\n\n<ol>\n<li><p>The JSX code:</p>\n\n<pre><code>&lt;img src=\"require('./incident-report-graphic.jpg')\"alt=\"test\" /&gt;\n</code></pre>\n\n<p>was passing the literal string <code>\"require('./incident-report-graphic.jpg')\"</code> as the image path.  Instead, the require call needs to be evaluated as an expression and its return value passed as the image path:</p>\n\n<pre><code>&lt;img src={require('./incident-report-graphic.jpg')}alt=\"test\" /&gt;\n</code></pre></li>\n<li>The path to the image, <code>./assets/incident-report-graphic.jpg</code>, was incorrect.  The correct relative path is <code>../../assets/incident-report-graphic.jpg</code>.  It might be possible to use an absolute path, but I didn't pursue that.</li>\n</ol>\n"}], "owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1442, "favorite_count": 0, "accepted_answer_id": 53343982, "answer_count": 1, "score": 1, "last_activity_date": 1542395318, "creation_date": 1542214766, "last_edit_date": 1542379955, "question_id": 53305278, "link": "https://stackoverflow.com/questions/53305278/sharepoint-framework-with-react-component-loading-images", "title": "SharePoint Framework with React Component loading images", "body": "<p>I have an image in the same folder as my React component:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IpB98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpB98.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to render it:</p>\n\n<pre><code>&lt;img src=\"require('./incident-report-graphic.jpg')\"alt=\"test\" /&gt;\n</code></pre>\n\n<p>I get the broken image icon:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pK3oM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pK3oM.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my <code>gulpfile.js</code>, I added in the local path stuff:</p>\n\n<pre><code>build.configureWebpack.mergeConfig({\n    additionalConfiguration: (generatedConfiguration) =&gt; {\n        if (build.getConfig().production) {\n            var basePath = build.writeManifests.taskConfig.cdnBasePath;\n            if (!basePath.endsWith('/')) {\n                basePath += '/';\n            }\n            generatedConfiguration.output.publicPath = basePath;\n        }\n        else {\n            generatedConfiguration.output.publicPath = \"/dist/\";\n        }\n        return generatedConfiguration;\n    },    \n});\n</code></pre>\n\n<p>I don't know what I'm doing wrong.</p>\n\n<p>EDIT:</p>\n\n<p>I just notice I'm getting an error:</p>\n\n<pre><code>GET https://myOrg.sharepoint.com/sites/sbx/mySite/_layouts/15/require('/assets/incident-report-graphic.jpg') 404\n</code></pre>\n\n<p>EDIT 2:  I tried Matt's suggestion and change my code to:</p>\n\n<pre><code>&lt;img src={require('./assets/incident-report-graphic.jpg')}alt=\"test\" /&gt;\n</code></pre>\n\n<p>I got the error: </p>\n\n<pre><code>YellowCardForm.tsx:177 Uncaught (in promise) Error: Cannot find module \"./assets/incident-report-graphic.jpg\"\n</code></pre>\n\n<p>EDIT 3: </p>\n\n<p><a href=\"https://i.stack.imgur.com/pmbn9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmbn9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "typescript-compiler-api"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 1, "last_activity_date": 1542214546, "creation_date": 1542214546, "answer_id": 53305218, "question_id": 53305041, "link": "https://stackoverflow.com/questions/53305041/how-to-create-an-instanceof-ast-node-using-typescript-compiler-api/53305218#53305218", "title": "How to create an instanceof AST node using typescript compiler API", "body": "<p>The left and right expressions are identifiers, so the <code>createIdentifier</code> method could be used:</p>\n\n<pre><code>const binaryExpression = ts.createBinary(ts.createIdentifier(\"MyObj\"),\n    ts.SyntaxKind.InstanceOfKeyword,\n    ts.createIdentifier(\"MyClass\"));\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2115617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a1f3ac9e9faed38980dbf9aa80d72e?s=128&d=identicon&r=PG", "display_name": "stef2nice", "link": "https://stackoverflow.com/users/2115617/stef2nice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542219778, "creation_date": 1542213922, "last_edit_date": 1542219778, "question_id": 53305041, "link": "https://stackoverflow.com/questions/53305041/how-to-create-an-instanceof-ast-node-using-typescript-compiler-api", "title": "How to create an instanceof AST node using typescript compiler API", "body": "<p>I would like to represent the typescript code \"MyObj instanceOf MyClass\" with the typescript compiler API. </p>\n\n<p>I try to use the <code>createBinary</code> API as follow:</p>\n\n<pre><code>ts.createBinary(leftExpression,ts.SyntaxKind.InstanceOfKeyword, rightExpression);\n</code></pre>\n\n<p>How do I create the <code>rightExpression</code>?</p>\n"}, {"tags": ["node.js", "typescript", "express", "heroku", "typescript-typings"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1542215274, "post_id": 53304645, "comment_id": 93491642, "body": "A standard troubleshooting step: enable the <code>traceResolution</code> compiler option and look at the output."}], "answers": [{"tags": [], "owner": {"reputation": 6964, "user_id": 5132444, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/yVQmw.jpg?s=128&g=1", "display_name": "Jude Fernandes", "link": "https://stackoverflow.com/users/5132444/jude-fernandes"}, "is_accepted": false, "score": 0, "last_activity_date": 1542228897, "creation_date": 1542228897, "answer_id": 53308577, "question_id": 53304645, "link": "https://stackoverflow.com/questions/53304645/unable-to-compile-typescript-on-heroku/53308577#53308577", "title": "Unable to compile typescript on heroku", "body": "<p>Found the issue, it turns out I wasn't paying attention to the filename ie, the case.</p>\n\n<p>For example the error being thrown as described above <code>Cannot find module '../repo/adminTypes'</code> was due to the face that the actual filename was <code>AdminTypes</code>, capital <code>A</code>.</p>\n\n<p>VSCode/ Windows was auto handling case sensitivity so it never threw an error but when deployed to heroku, the server was very strict with filenames.</p>\n"}], "owner": {"reputation": 6964, "user_id": 5132444, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/yVQmw.jpg?s=128&g=1", "display_name": "Jude Fernandes", "link": "https://stackoverflow.com/users/5132444/jude-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1157, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542228897, "creation_date": 1542212577, "question_id": 53304645, "link": "https://stackoverflow.com/questions/53304645/unable-to-compile-typescript-on-heroku", "title": "Unable to compile typescript on heroku", "body": "<p>I am trying to deploy a typescript nodejs app using express to heroku, the code is pushed up fine, heroku installs the dependencies and then runs <code>tsc</code> but crashes with <code>src/controller/adminTypes.ts:3:34 - error TS2307: Cannot find module '../repo/adminTypes'.</code>.</p>\n\n<p>I checked the line where the import happens and it looks like this </p>\n\n<p><code>import { insertAdminTypes } from \"../repo/adminTypes\";</code></p>\n\n<p>The equivalent export happens like so</p>\n\n<pre><code>export const insertAdminTypes = async queryObj =&gt; {\n  // code\n};\n</code></pre>\n\n<p>VSCode resolves the paths perfectly fine, when I try running tsc locally everything compiles fine and I get the compiled files in the <code>dist</code> folder. It's only heroku that seems to be throwing an error for the paths online. This doesn't happen for every file, the above <code>TS2307</code> error is thrown only for a few files.</p>\n\n<p>These are the following config files.</p>\n\n<p><strong><code>package.json</code></strong></p>\n\n<pre><code>{\n  \"name\": \"express_server\",\n  \"version\": \"0.0.1\",\n  \"license\": \"UNLICENSED\",\n  \"main\": \"./src/server.ts\",\n  \"scripts\": {\n    \"build-ts\": \"tsc\",\n    \"start\": \"npx nodemon\",\n    \"prod\": \"npx run build-ts\",\n    \"postinstall\": \"npm run build-ts\"\n  },\n  \"dependencies\": {\n    \"@types/body-parser\": \"^1.17.0\",\n    \"@types/dotenv\": \"^6.1.0\",\n    \"@types/express\": \"^4.16.0\",\n    \"@types/jquery\": \"^3.3.22\",\n    \"@types/node\": \"^10.12.2\",\n    \"@types/underscore\": \"^1.8.9\",\n    \"bcrypt\": \"^3.0.2\",\n    \"body-parser\": \"^1.18.3\",\n    \"dotenv\": \"^6.1.0\",\n    \"express\": \"^4.16.4\",\n    \"express-handlebars\": \"^3.0.0\",\n    \"jsonwebtoken\": \"^8.3.0\",\n    \"mongodb\": \"^3.1.9\",\n    \"mysql\": \"^2.16.0\",\n    \"nodemon\": \"^1.18.6\",\n    \"reflect-metadata\": \"^0.1.12\",\n    \"ts-node\": \"^7.0.1\",\n    \"typeorm\": \"^0.2.8\",\n    \"typescript\": \"^3.1.6\",\n    \"underscore\": \"^1.9.1\"\n  },\n  \"devDependencies\": {\n    \"husky\": \"^1.1.3\",\n    \"lint-staged\": \"^8.0.4\",\n    \"prettier\": \"^1.15.2\",\n    \"pretty-quick\": \"^1.8.0\",\n    \"tslint\": \"^5.11.0\",\n    \"tslint-config-prettier\": \"^1.15.0\",\n    \"tslint-plugin-prettier\": \"^2.0.1\"\n  },\n  \"husky\": {\n    \"hooks\": {\n      \"pre-commit\": \"pretty-quick --staged\"\n    }\n  },\n  \"lint-staged\": {\n    \"linters\": {\n      \"*.{ts}\": [\n        \"npx tslint --fix\",\n        \"git add\"\n      ]\n    },\n    \"ignore\": [\n      \"./public\",\n      \"./environment\",\n      \"./node_modules\"\n    ]\n  }\n}\n</code></pre>\n\n<p><code>nodemon.json</code></p>\n\n<pre><code>{\n  \"ignore\": [\"**/*.test.ts\", \"**/*.spec.ts\", \".git\", \"node_modules\"],\n  \"watch\": [\"src\"],\n  \"exec\": \"npx ts-node ./src/server.ts\",\n  \"ext\": \"ts\"\n}\n</code></pre>\n\n<p><code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"esModuleInterop\": true,\n    \"target\": \"es6\",\n    \"noImplicitAny\": false,\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"outDir\": \"dist\",\n    \"pretty\": true,\n    \"baseUrl\": \".\",\n    \"alwaysStrict\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"paths\": {\n      \"*\": [\"node_modules/*\", \"src/types/*\"]\n    }\n  },\n  \"include\": [\"src/**/*.ts\"],\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n"}, {"tags": ["typescript", "amcharts"], "comments": [{"owner": {"reputation": 866, "user_id": 7333607, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6b4ccd21733420cb3489509fb281cdaf?s=128&d=identicon&r=PG&f=1", "display_name": "Aroon", "link": "https://stackoverflow.com/users/7333607/aroon"}, "edited": false, "score": 0, "creation_date": 1542263490, "post_id": 53304313, "comment_id": 93507555, "body": "Is that codepen is your code?"}, {"owner": {"reputation": 105, "user_id": 7105756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rssND.png?s=128&g=1", "display_name": "Alex Wells", "link": "https://stackoverflow.com/users/7105756/alex-wells"}, "reply_to_user": {"reputation": 866, "user_id": 7333607, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6b4ccd21733420cb3489509fb281cdaf?s=128&d=identicon&r=PG&f=1", "display_name": "Aroon", "link": "https://stackoverflow.com/users/7333607/aroon"}, "edited": false, "score": 1, "creation_date": 1542270940, "post_id": 53304313, "comment_id": 93510752, "body": "@Aroon I&#39;ve updated the codepen example I think I might&#39;ve made an error when creating the question."}, {"owner": {"reputation": 866, "user_id": 7333607, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6b4ccd21733420cb3489509fb281cdaf?s=128&d=identicon&r=PG&f=1", "display_name": "Aroon", "link": "https://stackoverflow.com/users/7333607/aroon"}, "edited": false, "score": 0, "creation_date": 1542274524, "post_id": 53304313, "comment_id": 93512842, "body": "The dates are coming from json or manually by you? If it is json you should change the dateformat from json file end"}, {"owner": {"reputation": 105, "user_id": 7105756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rssND.png?s=128&g=1", "display_name": "Alex Wells", "link": "https://stackoverflow.com/users/7105756/alex-wells"}, "reply_to_user": {"reputation": 866, "user_id": 7333607, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6b4ccd21733420cb3489509fb281cdaf?s=128&d=identicon&r=PG&f=1", "display_name": "Aroon", "link": "https://stackoverflow.com/users/7333607/aroon"}, "edited": false, "score": 0, "creation_date": 1542279569, "post_id": 53304313, "comment_id": 93515820, "body": "I could format the date before I send it to amcharts, but my intention was to pass the data and use the dateformatter class to configure the format"}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 7105756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rssND.png?s=128&g=1", "display_name": "Alex Wells", "link": "https://stackoverflow.com/users/7105756/alex-wells"}, "is_accepted": true, "score": 1, "last_activity_date": 1542291159, "creation_date": 1542291159, "answer_id": 53321353, "question_id": 53304313, "link": "https://stackoverflow.com/questions/53304313/dateformat-with-category-axis-amcharts4/53321353#53321353", "title": "Dateformat with category axis amcharts4", "body": "<p>Quote from @martynasma on github</p>\n\n<blockquote>\n  <p>You are using CategoryAxis. This axis treats all of the categories as\n  text, hence no formatting applied.</p>\n  \n  <p>If you need proper date axis, you need to use DateAxis, as well as use\n  dateX for series' dataFields:</p>\n\n<pre><code>var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n</code></pre>\n  \n  <p>....</p>\n\n<pre><code>series1.dataFields.dateX = \"category\";\nseries1.dataFields.valueY = \"value1\";\n</code></pre>\n  \n  <p>Now, setting format for the DateAxis is not as straightforward as\n  setting dateFormat. This axis type have multiple levels of\n  granularity, so you need to set for your target one. In your case it's\n  a day.</p>\n\n<pre><code>dateAxis.dateFormats.setKey(\"day\", \"dd/MM/yyyy\");\ndateAxis.periodChangeDateFormats.setKey(\"day\", \"dd/MM/yyyy\");\n</code></pre>\n  \n  <p>More info:</p>\n  \n  <p><a href=\"https://www.amcharts.com/docs/v4/reference/dateaxis/#dateFormats_property\" rel=\"nofollow noreferrer\">https://www.amcharts.com/docs/v4/reference/dateaxis/#dateFormats_property</a>\n  <a href=\"https://www.amcharts.com/docs/v4/reference/dateaxis/#periodChangeDateFormats_property\" rel=\"nofollow noreferrer\">https://www.amcharts.com/docs/v4/reference/dateaxis/#periodChangeDateFormats_property</a></p>\n  \n  <p>And here's your pen updated as per above:</p>\n  \n  <p><a href=\"https://codepen.io/team/amcharts/pen/pQPQdN?editors=0010\" rel=\"nofollow noreferrer\">https://codepen.io/team/amcharts/pen/pQPQdN?editors=0010</a></p>\n</blockquote>\n"}], "owner": {"reputation": 105, "user_id": 7105756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rssND.png?s=128&g=1", "display_name": "Alex Wells", "link": "https://stackoverflow.com/users/7105756/alex-wells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1636, "favorite_count": 0, "accepted_answer_id": 53321353, "answer_count": 1, "score": 2, "last_activity_date": 1542291159, "creation_date": 1542211464, "last_edit_date": 1542270897, "question_id": 53304313, "link": "https://stackoverflow.com/questions/53304313/dateformat-with-category-axis-amcharts4", "title": "Dateformat with category axis amcharts4", "body": "<p>The dateformat property is not working in amcharts4.</p>\n\n<p>I understand that the dateformat is inherited from the parent element, I've tried setting the dateformat at a chart level, axis level, and series level.</p>\n\n<pre><code> chart.dateFormatter.dateFormat = \"dd/MM/yyyy\";\n</code></pre>\n\n<p>Please see codepen below:</p>\n\n<p><a href=\"https://codepen.io/alex-wells/pen/vQmWBz\" rel=\"nofollow noreferrer\">https://codepen.io/alex-wells/pen/vQmWBz</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1542211267, "post_id": 53304221, "comment_id": 93489260, "body": "i know, but i don&#39;t know other way to make a formGroup sum without ngModel"}, {"owner": {"reputation": 355, "user_id": 1675986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qu2Bc.jpg?s=128&g=1", "display_name": "Manish Gharat", "link": "https://stackoverflow.com/users/1675986/manish-gharat"}, "reply_to_user": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1542211443, "post_id": 53304221, "comment_id": 93489363, "body": "You have a formGroup, you can get values from fromGroup with <code>variacaoForm .value</code> and proceed with that"}, {"owner": {"reputation": 355, "user_id": 1675986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qu2Bc.jpg?s=128&g=1", "display_name": "Manish Gharat", "link": "https://stackoverflow.com/users/1675986/manish-gharat"}, "reply_to_user": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1542212034, "post_id": 53304221, "comment_id": 93489716, "body": "I&#39;ve updated the main answer with an example. Please take a look"}, {"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1542212034, "post_id": 53304221, "comment_id": 93489717, "body": "Ok, i remove the ngModel and change my soma() function, see my edit, but when i add more than 1 formGroup and try to fill the estoque_variacao my produto_estoque still show NaN. Probably not a problem with ngModel + formControlName"}, {"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1542212117, "post_id": 53304221, "comment_id": 93489773, "body": "i will try with your function"}, {"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1542213065, "post_id": 53304221, "comment_id": 93490381, "body": "Thanks, you function work well, i edit my question with aditional code that work for me"}], "tags": [], "owner": {"reputation": 355, "user_id": 1675986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qu2Bc.jpg?s=128&g=1", "display_name": "Manish Gharat", "link": "https://stackoverflow.com/users/1675986/manish-gharat"}, "is_accepted": true, "score": 1, "last_activity_date": 1542212009, "last_edit_date": 1542212009, "creation_date": 1542211180, "answer_id": 53304221, "question_id": 53304112, "link": "https://stackoverflow.com/questions/53304112/sum-of-my-ngmodel-elements-returns-nan-when-formgroup-length-1/53304221#53304221", "title": "Sum of my ngModel elements returns NAN when formGroup.length &gt; 1", "body": "<p>You should not use ngModel and FormControlName together. In fact, you should not use Template Driven Forms and Reactive Forms together. These are two different approaches and you need to pick one for any given situation.</p>\n\n<p>Here's an example: <a href=\"https://stackblitz.com/edit/angular-uqvcnb\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-uqvcnb</a></p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 53304221, "answer_count": 1, "score": 0, "last_activity_date": 1542213141, "creation_date": 1542210859, "last_edit_date": 1542213141, "question_id": 53304112, "link": "https://stackoverflow.com/questions/53304112/sum-of-my-ngmodel-elements-returns-nan-when-formgroup-length-1", "title": "Sum of my ngModel elements returns NAN when formGroup.length &gt; 1", "body": "<p>Outside my form-group i have this ngModel input:</p>\n\n<pre><code>&lt;input [class.disabled]=\"controls[0] &gt; 0\" [(ngModel)]=\"produto.estoque\" type=\"text\"&gt;\n</code></pre>\n\n<p>This input show the sum of the input values inside my formgroup.</p>\n\n<p>I have this form group:</p>\n\n<pre><code>&lt;form [formGroup]=\"variacaoForm\"&gt;\n  &lt;ng-container *ngFor=\"let item of variacoes.controls; let i = index;\"&gt;\n    &lt;input [(ngModel)]=\"controls[i]\" (keyup)=\"soma($event)\" type=\"text\" name=\"estoque_variacao{{i}}\" formControlName=\"estoque_variacao\"&gt;\n</code></pre>\n\n<p>I can have \"N\" inputs.</p>\n\n<p>This is actualy my function that sum the input estoque_variacao:</p>\n\n<pre><code>  soma(){\n    let sum = 0;\n\n    Object.keys(this.variacaoForm.value.variacoes).map(key =&gt; {\n      sum +=  +this.variacaoForm.value.variacoes[key].estoque_variacao;\n    })\n      this.produto.estoque = sum\n    }\n</code></pre>\n\n<p>Everything works well when i follow this steps:</p>\n\n<ol>\n<li>Add a new form group;</li>\n<li>Fill the value in the input estoque_variacao</li>\n<li>Add other form group</li>\n<li>Fill the value of the second input estoque_variacao</li>\n<li>The sum is show correctly in the input produto.estoque</li>\n</ol>\n\n<p>The problem is when i follow this steps:</p>\n\n<blockquote>\n  <ol>\n  <li>Add a new Form group;</li>\n  <li>Don't fill the value of the estoque_variacao of the first formGroup;</li>\n  <li>Add a new form group;</li>\n  <li>Try to fill the estoque_variacao of the first of second input of my form group returns NAN in my produto.estoque.</li>\n  </ol>\n</blockquote>\n\n<p>My function that create the formGroup:</p>\n\n<pre><code>createFormGroup(): FormGroup {\n    return this.fb.group({\n         estoque_variacao: 0\n}\n</code></pre>\n\n<p>How can i fix this?</p>\n\n<p><strong>@Edit:</strong></p>\n\n<p>Worked for me:</p>\n\n<pre><code>  soma(){\n    let sum = 0;\n\n    const value = this.variacaoForm.value.variacoes;\n\n    for(const key in value){\n      sum += (+value[key].estoque_variacao);\n    }\n\n    this.produto.estoque = sum\n  }\n</code></pre>\n\n<p>And when i remove the formgroup i need to decrease the value of my input:</p>\n\n<pre><code>this.produto.estoque = this.produto.estoque - this.variacaoForm.value.variacoes[index].estoque_variacao\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "reactjs", "typescript", "webpack", "production-environment"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4678419, "user_type": "registered", "profile_image": "https://graph.facebook.com/1584207791825285/picture?type=large", "display_name": "\u0422\u0430\u0440\u0430\u0441 \u0412\u0435\u0441\u0435\u043b\u044b\u0439", "link": "https://stackoverflow.com/users/4678419/%d0%a2%d0%b0%d1%80%d0%b0%d1%81-%d0%92%d0%b5%d1%81%d0%b5%d0%bb%d1%8b%d0%b9"}, "is_accepted": false, "score": 0, "last_activity_date": 1549304211, "creation_date": 1549304211, "answer_id": 54522042, "question_id": 53303940, "link": "https://stackoverflow.com/questions/53303940/run-rails-react-with-webpacker-in-production-mode-assetsprecompile-takes-very/54522042#54522042", "title": "Run rails-react with webpacker in production mode. assets:precompile takes very much time", "body": "<p>you need to add in your webpacker.yml</p>\n\n<pre><code>check_yarn_integrity: false\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5431567, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PGbIxOnbeWw/AAAAAAAAAAI/AAAAAAAAA8c/ZCD86YlQmYM/photo.jpg?sz=128", "display_name": "GumarovRinat", "link": "https://stackoverflow.com/users/5431567/gumarovrinat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 656, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549304211, "creation_date": 1542210357, "question_id": 53303940, "link": "https://stackoverflow.com/questions/53303940/run-rails-react-with-webpacker-in-production-mode-assetsprecompile-takes-very", "title": "Run rails-react with webpacker in production mode. assets:precompile takes very much time", "body": "<p>I have a project on rails-react with webpacker. It works perfectly on development mode, but I cannot run it on production mode.</p>\n\n<p>I run it inside docker container:</p>\n\n<pre><code>FROM ruby:2.5.1\n# Install dependencies\nRUN apt-get update -qq &amp;&amp; apt-get install -y build-essential libpq-dev\nRUN apt-get update \\\n    &amp;&amp; apt-get install -y xvfb qt5-default libqt5webkit5-dev \\\n                          gstreamer1.0-plugins-base gstreamer1.0-tools gstreamer1.0-x\n\n# Node.js\nRUN curl -sL https://deb.nodesource.com/setup_10.x | bash - \\\n    &amp;&amp; apt-get install -y nodejs\n\n# yarn\nRUN curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -\\\n    &amp;&amp; echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list \\\n    &amp;&amp; apt-get update \\\n    &amp;&amp; apt-get install -y yarn\n# Adding gems\nCOPY Gemfile Gemfile\nCOPY Gemfile.lock Gemfile.lock\nRUN bundle install\n\n# Adding project files\nCOPY . .\nRUN yarn install\nRUN bundle exec rails assets:precompile\nRUN bundle exec rails webpacker:compile\n</code></pre>\n\n<p>Here is my <code>config/environments/production.rb</code> file</p>\n\n<pre><code>  config.cache_classes = false\n  config.eager_load = false\n  config.consider_all_requests_local = false\n  if Rails.root.join('tmp', 'caching-dev.txt').exist?\n    config.action_controller.perform_caching = true\n    config.cache_store = :memory_store\n    config.public_file_server.headers = {\n        'Cache-Control' =&gt; \"public, max-age=#{2.days.to_i}\"\n    }\n  else\n    config.action_controller.perform_caching = false\n    config.cache_store = :null_store\n  end\n  config.active_storage.service = :local\n  config.action_mailer.raise_delivery_errors = false\n  config.action_mailer.perform_caching = false\n  config.active_support.deprecation = :log\n  config.active_record.migration_error = :page_load\n  config.active_record.verbose_query_logs = true\n  config.assets.debug = true\n  config.assets.compile = false\n  config.assets.compress = true\n  config.assets.logger = Logger.new $stdout\n  config.assets.quiet = true\n</code></pre>\n\n<p>When I try to run <code>rails assets:precompile</code> on my local machine it takes abouut 1 hour and nothing happens.\nAnd when I try to run docker, It says that <code>Your Yarn packages are out of date!</code> And suggests to do yarn install. I even tryed this with removing yarn.lock file.</p>\n\n<p>Below is my webpacker.yml config:</p>\n\n<pre><code>production:\n  source_path: app/javascript\n  source_entry_path: packs\n  public_output_path: packs\n  cache_path: tmp/cache/webpacker\n  resolved_paths: []\n  extensions:\n    - .tsx\n    - .ts\n    - .mjs\n    - .jsx\n    - .js\n    - .sass\n    - .scss\n    - .css\n    - .module.sass\n    - .module.scss\n    - .module.css\n    - .png\n    - .svg\n    - .gif\n    - .jpeg\n    - .jpg\n  compile: false\n  cache_manifest: true\n</code></pre>\n\n<p>Any help would be useful as I don't have much experience in using webpacker.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1542210821, "post_id": 53303840, "comment_id": 93488958, "body": "Where have you seen these values ? If you call this function from typescript you get a compile time error as expected. If you call from JS, there is no enforcement of types in any way at runtime"}, {"owner": {"reputation": 2980, "user_id": 2861108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93a93f38a1b31a3349b7d6e7193a10?s=128&d=identicon&r=PG", "display_name": "MjZac", "link": "https://stackoverflow.com/users/2861108/mjzac"}, "edited": false, "score": 0, "creation_date": 1542210915, "post_id": 53303840, "comment_id": 93489018, "body": "Just copied your code into TypeScript playground. It shows compile error.  <a href=\"https://www.typescriptlang.org/play/index.html#src=%0D%0A%0D%0Ainterface%20MyType%20%7B%0D%0A%20%20%20myField%3A%20string%0D%0A%20%20%20myOtherField%3A%20string%0D%0A%7D%0D%0A%0D%0Aconst%20myFunction%20%3D%20(input%3A%20MyType)%20%3D%3E%20%7B%0D%0A%20%20%20%20console.log(input.myField)%3B%0D%0A%7D%0D%0A%0D%0AmyFunction(&#39;hello&#39;)%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 2980, "user_id": 2861108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93a93f38a1b31a3349b7d6e7193a10?s=128&d=identicon&r=PG", "display_name": "MjZac", "link": "https://stackoverflow.com/users/2861108/mjzac"}, "edited": false, "score": 0, "creation_date": 1542211821, "post_id": 53303840, "comment_id": 93489577, "body": "@MjZac Those functions are used from other libraries and called at runtime."}], "answers": [{"comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1542211991, "post_id": 53304362, "comment_id": 93489683, "body": "The Safer Typescript sounded interesting. I think the approach would have been the same as the one applied in Kotlin for throwing exceptions in case of null values, additional code generation."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1542212046, "post_id": 53304362, "comment_id": 93489724, "body": "That&#39;s right - it was going to be an alternate compiler that inserted type checks that would actually run (at some performance cost). I don&#39;t think it made it out of research and only worked with TypeScript 0.9.5."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1542212339, "post_id": 53304362, "comment_id": 93489912, "body": "A pity. I would have loved it. I think the performance penalty is negligible"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1542211628, "creation_date": 1542211628, "answer_id": 53304362, "question_id": 53303840, "link": "https://stackoverflow.com/questions/53303840/typescript-declared-type-not-respected/53304362#53304362", "title": "Typescript declared type not respected", "body": "<p>The types are checked by the TypeScript compiler and are erased during compilation.</p>\n\n<p>While you are working within TypeScript, you get all of the checking that you expect:</p>\n\n<pre><code>interface MyType {\n   myField: string\n   myOtherField: string\n}\n\nconst myFunction = (input: MyType) =&gt; {\n    return input.myField;\n};\n\n// OK\nmyFunction({ myField: '', myOtherField: '' });\n\n// NOT OK\nmyFunction([{ myField: '', myOtherField: '' }]);\n</code></pre>\n\n<p>But if you call your transpiled JavaScript from another JavaScript file at runtime there is no type checking. <em>Type checking at runtime is not a feature of TypeScript</em>.</p>\n\n<h1>TS* / Safer TypeScript</h1>\n\n<p>There was a brief initiative to create a <a href=\"https://www.stevefenton.co.uk/2014/07/what-is-ts-and-how-is-it-safer-typescript/\" rel=\"nofollow noreferrer\">runtime type safe compiler for TypeScript</a>, but it didn't gain traction and hasn't been updated since 2014.</p>\n"}], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 53304362, "answer_count": 1, "score": 0, "last_activity_date": 1542232614, "creation_date": 1542210050, "last_edit_date": 1542232614, "question_id": 53303840, "link": "https://stackoverflow.com/questions/53303840/typescript-declared-type-not-respected", "title": "Typescript declared type not respected", "body": "<p>I'm new to Typescript, so this might be a dumb question.<br>\nI've got a function such as:</p>\n\n<pre><code>interface MyType {\n   myField: string\n   myOtherField: string\n}\n\nconst myFunction = (input: MyType) =&gt; { ... }\n</code></pre>\n\n<p>I've noticed that this function is able to receive values which are not <code>MyType</code>, e.g. I've seen values such as <code>MyType[]</code> or even <code>string</code>.</p>\n\n<p>Now, probably this happens because Typescript simply output Javascript code, which does not know about types at all.</p>\n\n<p>Is there a way to enforce type checking and throw an <code>Error</code> if such mismatch happens?</p>\n\n<p>Edit: for future reference see <a href=\"https://github.com/fabiandev/ts-runtime\" rel=\"nofollow noreferrer\">https://github.com/fabiandev/ts-runtime</a></p>\n"}, {"tags": ["typescript", "webpack", "babeljs", "storybook", "javascript-import"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542211287, "post_id": 53303757, "comment_id": 93489273, "body": "This is going to be tough for me to reproduce based on the information you&#39;ve provided.  Can you publish a repository that reproduces the problem?"}, {"owner": {"reputation": 386, "user_id": 502927, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a44387decda97bd0c4f0970c3ebb4c0d?s=128&d=identicon&r=PG", "display_name": "Walter", "link": "https://stackoverflow.com/users/502927/walter"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542220970, "post_id": 53303757, "comment_id": 93494322, "body": "Hi Matt I&#39;m afraid the project is not open source and therefore, I cannot simply publish a link to the repository here. However, I am happy to provide you with any details you might need, such as the webpack.conf.js or the like..."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542223271, "post_id": 53303757, "comment_id": 93495394, "body": "I wasn&#39;t asking for the original repository, just for one that reproduces the same problem; you can remove all but the minimum amount of code needed to demonstrate the problem.  I know this will take some work for you, but if you do it, I think I have a good chance of being able to find and solve the problem, whereas I&#39;m not willing to spend the time asking you for more details one at a time, so decide whether it&#39;s worth it to you.  Or you can wait and see if someone else is willing to help."}, {"owner": {"reputation": 386, "user_id": 502927, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a44387decda97bd0c4f0970c3ebb4c0d?s=128&d=identicon&r=PG", "display_name": "Walter", "link": "https://stackoverflow.com/users/502927/walter"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542230105, "post_id": 53303757, "comment_id": 93498387, "body": "All right. I attached a minimal setup and instructions above. Your help is much appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1542237564, "creation_date": 1542237564, "answer_id": 53310221, "question_id": 53303757, "link": "https://stackoverflow.com/questions/53303757/why-am-i-not-getting-the-exported-object-when-importing-in-another-typescript-pr/53310221#53310221", "title": "Why am I not getting the exported Object when importing in another Typescript project?", "body": "<p>It looks like the problem is that you have enabled static code splitting on <code>analytics</code>, so Webpack generates two bundles, <code>vendors~Analytics.chunk.js</code> and <code>Analytics.js</code>.  <code>Analytics.js</code> is dependent on <code>vendors~Analytics.chunk.js</code>; for an import of <code>Analytics.js</code> to return a useful value, you would have to manually load <code>vendors~Analytics.chunk.js</code> first.  You could do so by adding the following to <code>storybook/stories/1_overview.stories.tsx</code> before the import of <code>analytics</code>:</p>\n\n<pre><code>import \"analytics/vendors~Analytics.chunk\";\n</code></pre>\n\n<p>But I don't see what you are hoping to gain in this scenario by having code splitting enabled and having all users of the <code>analytics</code> library do this extra import.  I'd suggest turning off code splitting by removing the following from <code>analytics/webpack.config.ts</code>:</p>\n\n<pre><code>splitChunks: {\n  chunks: \"all\"\n}\n</code></pre>\n"}], "owner": {"reputation": 386, "user_id": 502927, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a44387decda97bd0c4f0970c3ebb4c0d?s=128&d=identicon&r=PG", "display_name": "Walter", "link": "https://stackoverflow.com/users/502927/walter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542237564, "creation_date": 1542209805, "last_edit_date": 1542230056, "question_id": 53303757, "link": "https://stackoverflow.com/questions/53303757/why-am-i-not-getting-the-exported-object-when-importing-in-another-typescript-pr", "title": "Why am I not getting the exported Object when importing in another Typescript project?", "body": "<p>I'm trying to create a React component library written by means of Typescript that shall be imported into another Typescript project. To be precise, I would like to import an Analytics chart library into a <a href=\"https://github.com/storybooks/storybook\" rel=\"nofollow noreferrer\">storybook</a> for demo and testing purposes.</p>\n\n<p>To do that, I use these dependencies for the library:</p>\n\n<ul>\n<li>\"typescript\": \"^3.1.6\"</li>\n<li>\"webpack\": \"^4.15.1\"</li>\n<li>\"babel-loader\": \"^8.0.4\"</li>\n<li>\"ts-loader\": \"^5.3.0\"</li>\n<li>\"@babel/core\": \"^7.1.5\",</li>\n<li>\"@babel/runtime\": \"^7.1.5\",</li>\n<li>\"@babel/plugin-proposal-object-rest-spread\": \"^7.0.0\",</li>\n<li>\"@babel/plugin-syntax-dynamic-import\": \"^7.0.0\",</li>\n<li>\"@babel/preset-env\": \"^7.1.5\",</li>\n<li>many more...</li>\n</ul>\n\n<p>And I these additional dependencies for the storybook:</p>\n\n<ul>\n<li>\"@storybook/react\": \"^4.0.4\"</li>\n<li>all the others mentioned above</li>\n<li>many more...</li>\n</ul>\n\n<p>Moreover, I have this settings in the tsconfig.json of my library:</p>\n\n<ul>\n<li>\"module\": \"esnext\",</li>\n<li>\"moduleResolution\": \"node\",</li>\n<li>\"target\": \"es5\" (this is on purpose)</li>\n<li>etc.</li>\n</ul>\n\n<p>Webpack generates a neat d.ts file which (among other things) contains:</p>\n\n<pre><code>declare module 'mylibrary' {\n     import { BarChartFactory } from 'mylibrary/factories/barChartFactory';\n     import { LineChartFactory } from 'mylibrary/factories/lineChartFactory';\n     import { PieChartFactory } from 'mylibrary/factories/pieChartFactory';\n     import { AreaChartFactory } from 'mylibrary/factories/areaChartFactory';\n     import { RadarChartFactory } from 'mylibrary/factories/radarChartFactory';\n     import { ScatterChartFactory } from 'mylibrary/factories/scatterChartFactory';\n     import { GaugeChartFactory } from 'mylibrary/factories/gaugeChartFactory';\n     import { HeatmapChartFactory } from 'mylibrary/factories/heatmapChartFactory';\n\n     const Analytics: {\n         \"barChart\": typeof BarChartFactory;\n         \"lineChart\": typeof LineChartFactory;\n         \"pieChart\": typeof PieChartFactory;\n         \"areaChart\": typeof AreaChartFactory;\n         \"radarChart\": typeof RadarChartFactory;\n         \"scatterChart\": typeof ScatterChartFactory;\n         \"gaugeChart\": typeof GaugeChartFactory;\n         \"heatmapChart\": typeof HeatmapChartFactory;\n     };\n     export default Analytics;\n}\n</code></pre>\n\n<p>Last but not least, the libraryTarget is UMD.</p>\n\n<p>Now, when I try to import the library in the storybook like this:</p>\n\n<pre><code>import * as Analytics from \"mylibrary\";\n</code></pre>\n\n<p>and then make a</p>\n\n<pre><code>console.log(Analytics)\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>Module\n    Symbol(Symbol.toStringTag): \"Module\"\n    __esModule: true\n    __proto__: Object\n</code></pre>\n\n<p>in the console. This is not exactly useful, because <em>what I expect is an Object that I can consume (as defined in the d.ts).</em>.</p>\n\n<p>So, I must be doing and / or misunderstand something fundamentally wrong about exports and imports. I appreciate it very much if somebody could point to the right direction. Let me know if any more details are needed.</p>\n\n<p>Thanks a lot</p>\n\n<p>Walter</p>\n\n<p>EDIT:\n<a href=\"https://wetransfer.com/downloads/805e2c044bc7d95a3c773a7fd895d81a20181114211143/fa2177\" rel=\"nofollow noreferrer\">Minimal project setup</a></p>\n\n<ul>\n<li>In the folder \"analytics\", run \"yarn install &amp;&amp; yarn run dist\"</li>\n<li>Go to folder \"storybook\" and run \"yarn install &amp;&amp; yarn start-storybook\"</li>\n<li>Open a browser and go to localhost:6006</li>\n<li>Check the dev console</li>\n<li>Look out for a message that starts with \"There you go!\"</li>\n<li>I expect that there is an Object holding all the Analytics factories, rather than a Module or undefined...</li>\n</ul>\n"}, {"tags": ["typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1542210752, "post_id": 53303646, "comment_id": 93488913, "body": "I&#39;m confused: you said that assigning to the property in the constructor did not work, but you say the code snippet works and it assigns to the property in the constructor.  When you say that assigning &quot;did not work&quot;, what went wrong?  Did you get wrong data somewhere, or an error?"}, {"owner": {"reputation": 17, "user_id": 5471059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bc1b98830d63cb8d925dad09a3f5ef?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng Chi Man", "link": "https://stackoverflow.com/users/5471059/cheng-chi-man"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542212176, "post_id": 53303646, "comment_id": 93489814, "body": "Sorry for bad expression, I have edited the post"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542215151, "post_id": 53303646, "comment_id": 93491559, "body": "So both versions of the code work?  Then what is your question?"}], "owner": {"reputation": 17, "user_id": 5471059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bc1b98830d63cb8d925dad09a3f5ef?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng Chi Man", "link": "https://stackoverflow.com/users/5471059/cheng-chi-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542211989, "creation_date": 1542209478, "last_edit_date": 1542211989, "question_id": 53303646, "link": "https://stackoverflow.com/questions/53303646/assign-value-to-property-in-the-field-but-not-in-constructor-in-typescript", "title": "Assign value to property in the field but not in constructor in typescript", "body": "<p>It is working  if I  assign value to property in the field, but not in the constructor in typescript, as <code>proda = this.navParams.data;</code> in the field. I try this and it seems to be working in my ionic page .ts file.</p>\n\n<p>It is the correct original code below:</p>\n\n<pre><code> import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the BuyoutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-buyout',\n  templateUrl: 'buyout.html',\n})\nexport class BuyoutPage {\n\n  proda;    \n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    this.proda = this.navParams.data;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BuyoutPage');\n  }\n\n  onConfirm(){\n    this.navCtrl.popToRoot();\n  }\n\n}\n</code></pre>\n\n<p>It is the code that I tried to assign value to the field but not in constructor, and seems to work: </p>\n\n<pre><code> import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the BuyoutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-buyout',\n  templateUrl: 'buyout.html',\n})\nexport class BuyoutPage {\n\n  proda = this.navParams.data;  \n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BuyoutPage');\n  }\n\n  onConfirm(){\n    this.navCtrl.popToRoot();\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "find"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1542209357, "post_id": 53303550, "comment_id": 93487997, "body": "The value of <code>this</code> in your first sample of code is not what you think it is."}], "answers": [{"tags": [], "owner": {"reputation": 2191, "user_id": 4587598, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zkWVl.jpg?s=128&g=1", "display_name": "Mac_W", "link": "https://stackoverflow.com/users/4587598/mac-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1542209427, "creation_date": 1542209427, "answer_id": 53303626, "question_id": 53303550, "link": "https://stackoverflow.com/questions/53303550/array-find-only-works-with-a-constant-value-in-comparator-typescript/53303626#53303626", "title": "Array.find only works with a constant value in comparator - Typescript", "body": "<p>It seems that <code>item.device_id</code> is not equal to 4 in any of the occurrences.</p>\n\n<blockquote>\n  <p>The find() method returns the value of the first element in the array that satisfies the provided testing function. Otherwise undefined is returned.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1023, "user_id": 7265507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2754c1d305bdc0e010b0b5a073676b?s=128&d=identicon&r=PG", "display_name": "Tim VN", "link": "https://stackoverflow.com/users/7265507/tim-vn"}, "is_accepted": true, "score": 0, "last_activity_date": 1542209437, "creation_date": 1542209437, "answer_id": 53303633, "question_id": 53303550, "link": "https://stackoverflow.com/questions/53303550/array-find-only-works-with-a-constant-value-in-comparator-typescript/53303633#53303633", "title": "Array.find only works with a constant value in comparator - Typescript", "body": "<p>Are you sure you're not comparing a string to an integer?</p>\n\n<p>Try:</p>\n\n<pre><code>const device = this.selectedDevtype.devices.find(item =&gt; +item.device_id === +this.deviceID)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7700985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e55c3b1c73ca9ae03b4ed5c3d4ab9d39?s=128&d=identicon&r=PG&f=1", "display_name": "Acentellao17", "link": "https://stackoverflow.com/users/7700985/acentellao17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 53303633, "answer_count": 2, "score": 0, "last_activity_date": 1542210804, "creation_date": 1542209169, "last_edit_date": 1542210804, "question_id": 53303550, "link": "https://stackoverflow.com/questions/53303550/array-find-only-works-with-a-constant-value-in-comparator-typescript", "title": "Array.find only works with a constant value in comparator - Typescript", "body": "<p>I'm trying to get an item from an array:</p>\n\n<pre><code>const device = this.selectedDevtype.devices.find(item =&gt;\n    console.log(this.deviceID);\n    return item.device_id === this.deviceID;\n});\nconsole.log(device);\n</code></pre>\n\n<p>Console log writes \"4\" for <code>this.deviceID</code>, and it returns undefined for <code>device</code> value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ex4dx.png\" rel=\"nofollow noreferrer\">Log fail</a></p>\n\n<p>But if I put a hard coded value, it works:</p>\n\n<pre><code>const device = this.selectedDevtype.devices.find(item =&gt;\n    console.log(this.deviceID);\n    return item.device_id === 4;\n});\nconsole.log(device);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uBspp.png\" rel=\"nofollow noreferrer\">Log OK</a></p>\n\n<p>Why the first function does not work? What's the error? Thanks.</p>\n\n<p>My typescript version is 2.6.2, I'm working on Angular 5.</p>\n\n<hr>\n\n<p>Effectively, i'm comparing a string and a number. A regret that I declared the type in the component class:</p>\n\n<pre><code>deviceID: number;\n</code></pre>\n\n<p>the angular material radiogroup was changing the type of variable to string:</p>\n\n<pre><code>&lt;mat-radio-group [(ngModel)]=\"deviceID\" (change)=\"updateDevice()\"&gt;\n  &lt;mat-radio-button fxFlex=\"50\"\n    *ngFor=\"let device of selectedDevtype.devices\" value=\"{{ device.device_id }}\"&gt;\n    [{{ device.key }}]{{ device.name }}\n  &lt;/mat-radio-button&gt;\n&lt;/mat-radio-group&gt;\n</code></pre>\n\n<p>Maybe this can help someone.</p>\n"}, {"tags": ["reactjs", "typescript", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 774, "user_id": 1565492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f6fd8fc08e2e4b8fb67572443d71e6b?s=128&d=identicon&r=PG", "display_name": "Sai Datta", "link": "https://stackoverflow.com/users/1565492/sai-datta"}, "is_accepted": true, "score": 0, "last_activity_date": 1542214675, "creation_date": 1542214675, "answer_id": 53305246, "question_id": 53303355, "link": "https://stackoverflow.com/questions/53303355/async-actions-reducer-typings-using-typesafe-actions/53305246#53305246", "title": "Async Actions Reducer Typings using typesafe-actions", "body": "<p>Okay, what I have is actually correct, but I had a bad implementation while creating the constants in <code>createAsyncAction</code></p>\n\n<p>I was dynamically generating constants like below:</p>\n\n<pre><code>function createAsyncTypes(type: string) {\n    return {\n        REQUEST: type + \"_REQUEST\",\n        SUCCESS: type + \"_SUCCESS\",\n        ERROR: type + \"_ERROR\"\n    }\n}\n</code></pre>\n\n<p>And the TS server could not compute that during linting and it caused a mess during the chaining.</p>\n\n<p>I changed them to this, </p>\n\n<pre><code>export const login = createAsyncAction(\n    \"LOGIN_REQUEST\",\n    \"LOGIN_SUCCESS\",\n    \"LOGIN_FAILURE\"\n)&lt;ILoginRequest, ILoginSuccess, Error&gt;();\n</code></pre>\n\n<p>And TS Server validly shows the exports</p>\n"}], "owner": {"reputation": 774, "user_id": 1565492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f6fd8fc08e2e4b8fb67572443d71e6b?s=128&d=identicon&r=PG", "display_name": "Sai Datta", "link": "https://stackoverflow.com/users/1565492/sai-datta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 1, "accepted_answer_id": 53305246, "answer_count": 1, "score": 1, "last_activity_date": 1542214675, "creation_date": 1542208495, "last_edit_date": 1542209886, "question_id": 53303355, "link": "https://stackoverflow.com/questions/53303355/async-actions-reducer-typings-using-typesafe-actions", "title": "Async Actions Reducer Typings using typesafe-actions", "body": "<p>I'm having a small difficulty in using <code>createAsyncAction</code> from the module <code>typesafe-actions</code> (<a href=\"https://github.com/piotrwitek/typesafe-actions/\" rel=\"nofollow noreferrer\">Typesafe Actions</a>) and typing them the same for my reducer</p>\n\n<p>Here is the action</p>\n\n<pre><code>export const login = createAsyncAction(\n    EmployeeConstants.LOGIN.REQUEST,\n    EmployeeConstants.LOGIN.SUCCESS,\n    EmployeeConstants.LOGIN.ERROR\n)&lt;ILoginRequest,ILoginSuccess, Error&gt;();\n</code></pre>\n\n<p>As you can see, this creates an async action builder <code>AsyncActionBuilder</code>, and not the actions themselves.</p>\n\n<p>And my reducer is typed by doing like so</p>\n\n<pre><code>import * as loginActions from './actions';\n\ntype IEmployeeActions = ActionType&lt;typeof loginActions&gt;;\n\nconst employeeState = (state = initialState, action: IEmployeeActions) =&gt; {\n  // switch cases\n}\n</code></pre>\n\n<p>But I'm not able to access <code>payload</code> or <code>type</code> (obviously) because <code>loginActions</code> is a union of async builders and not Actions themselves.</p>\n\n<p>How do I resolve them ?</p>\n"}, {"tags": ["javascript", "html", "angular", "forms", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542209212, "post_id": 53303268, "comment_id": 93487903, "body": "Thanks a lot for your answer ! I did not know ngIf and it is true that it corresponds exactly to my problem. I follow a tutorial angular but I have not seen all the parameters yet. However your code me to be fair but it does not run. The appears does not appear. If you have an idea ... I continue my research :)"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542209377, "post_id": 53303268, "comment_id": 93488006, "body": "You had forgotten <code>[value]</code> in <code>option</code>. See my updated answer."}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542209797, "post_id": 53303268, "comment_id": 93488255, "body": "Thank you, I just saw your change but it does not work. I think he can not recover the value of the drop-down list. I continue my research with console.log and alert. Once resolved I put the answer and your post resolved"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542209893, "post_id": 53303268, "comment_id": 93488323, "body": "My bad. its should be <code>[value]=&quot;o.name&quot;</code>"}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542210404, "post_id": 53303268, "comment_id": 93488682, "body": "Thanks, i just made the change but still not ^^"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542210580, "post_id": 53303268, "comment_id": 93488804, "body": "OMG, I should work. Here is the sample code <a href=\"https://stackblitz.com/edit/angular-fqkfyx\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fqkfyx</a>. Note I had removed <code>formControlName</code> from <code>input</code>."}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542210868, "post_id": 53303268, "comment_id": 93488995, "body": "Ahah thank you very much. I&#39;m looking at it right away. I have two errors in my console I will also study them: 1- ERROR Error:       ngModel can not be used to register with a parent formGroup directive. Try using       formGroup&#39;s partner directive &quot;formControlName&quot; instead. Example: ... 2- ERROR CONTEXT DebugContext_ {view: {...}, nodeIndex: 138, nodeDef: {...}, elDef: {...}, elView: {...}} ..."}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542211008, "post_id": 53303268, "comment_id": 93489088, "body": "I want to clarify that I am on Angular (5) and not AngularJs"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542211047, "post_id": 53303268, "comment_id": 93489124, "body": "Yes, I know that you are in Angular 2+ not AngularJS"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542211080, "post_id": 53303268, "comment_id": 93489147, "body": "I will be able to help you if you can share more code of yours."}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542211136, "post_id": 53303268, "comment_id": 93489172, "body": "I put it in resolved. I&#39;m going to look at this from my side and bring the problem in comment. thank you so much"}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542211363, "post_id": 53303268, "comment_id": 93489322, "body": "I have so much code that I do not know what else I could share. Especially that you send me a link or the solution works and that I implode in my code and that it does not work. I&#39;m looking at this, I&#39;m coming back to you"}, {"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542226193, "post_id": 53303268, "comment_id": 93496702, "body": "the problem is that my ngIf is in a ngSubmit. Thus the display of the new field can not be done because it is &quot;blocked&quot; by the ngSubmit"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1542210543, "last_edit_date": 1542210543, "creation_date": 1542208147, "answer_id": 53303268, "question_id": 53303020, "link": "https://stackoverflow.com/questions/53303020/display-a-form-field-according-to-the-selected-value-in-a-drop-down-list-angular/53303268#53303268", "title": "Display a form field according to the selected value in a drop-down list Angular TypeScript", "body": "<blockquote>\n  <p>You can put <code>if</code> condition as -</p>\n</blockquote>\n\n<pre><code>&lt;p id=\"champs\" *ngIf=\"selectedOption == 'two'\"&gt;Appears\n    &lt;input type=\"appears\" class=\"form-control\" name=\"appears\" formControlName=\"appears\"&gt;\n&lt;/p&gt;\n</code></pre>\n\n<h2>html</h2>\n\n<pre><code>      &lt;select [(ngModel)]=\"selectedOption\" name=\"type\" &gt; \n           &lt;option style=\"display:none\"&gt;\n           &lt;option [value]=\"o.name\" *ngFor=\"let o of options\"&gt;\n              {{o.name}}\n           &lt;/option&gt;\n       &lt;/select&gt;\n</code></pre>\n\n<p>Working copy is here - <a href=\"https://stackblitz.com/edit/angular-fqkfyx\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-fqkfyx</a></p>\n\n<p>Note : It looks like you pretty new to the Angular, I would encourage to walk through Angular tutorial. Stackoverflow will not be helpful in long run.</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "edited": false, "score": 0, "creation_date": 1542209350, "post_id": 53303292, "comment_id": 93487990, "body": "Hi, thank you for your reply ! Indeed it seems to me just like the code above but it does not run when I select &#39;two&#39; Appears does not appear. I think he can not recover the value of the drop-down list. I continue my research thank you :)"}], "tags": [], "owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "is_accepted": false, "score": 3, "last_activity_date": 1542210596, "last_edit_date": 1542210596, "creation_date": 1542208226, "answer_id": 53303292, "question_id": 53303020, "link": "https://stackoverflow.com/questions/53303020/display-a-form-field-according-to-the-selected-value-in-a-drop-down-list-angular/53303292#53303292", "title": "Display a form field according to the selected value in a drop-down list Angular TypeScript", "body": "<p>You can use an angular if contidition in the html, it's called *ngIf.</p>\n\n<pre><code>&lt;input *ngIf=\"selectedOption == 'two'\" type=\"appears\" class=\"form-control\" name=\"appears\" formControlName=\"appears\"&gt;\n</code></pre>\n\n<p>Source: <a href=\"https://angular.io/api/common/NgIf\" rel=\"nofollow noreferrer\">https://angular.io/api/common/NgIf</a></p>\n"}], "owner": {"reputation": 165, "user_id": 10420971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea1d32c71ee8c8afa0a696571f8dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10420971/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2270, "favorite_count": 0, "accepted_answer_id": 53303268, "answer_count": 2, "score": 1, "last_activity_date": 1593668370, "creation_date": 1542207329, "last_edit_date": 1542207646, "question_id": 53303020, "link": "https://stackoverflow.com/questions/53303020/display-a-form-field-according-to-the-selected-value-in-a-drop-down-list-angular", "title": "Display a form field according to the selected value in a drop-down list Angular TypeScript", "body": "<p>I want to display a form field according to the selected value in a drop-down list of the form.</p>\n\n<p>For example if the element selected in the dropdown list is 'first' I want the form does not change.</p>\n\n<p>On the other hand if I choose the element 'two' in my drop-down list I want it to display the input 'appears'</p>\n\n<p>Here is my code for the moment</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"div-champs\"&gt;\n    &lt;p id=\"champs\"&gt;Type\n       &lt;span id=\"required\"&gt;*&lt;/span&gt;\n    &lt;/p&gt;\n    &lt;div class=\"select-style \"&gt;\n        &lt;select [(ngModel)]=\"selectedOption\" name=\"type\" &gt; \n           &lt;option style=\"display:none\"&gt;\n           &lt;option *ngFor=\"let o of options\"&gt;\n              {{o.name}}\n           &lt;/option&gt;\n       &lt;/select&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;p id=\"champs\"&gt;Appears\n    &lt;input type=\"appears\" class=\"form-control\" name=\"appears\" formControlName=\"appears\"&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>   ...\nprivate selectedOption: string;\n\noptions = [\n  { name: \"first\", value: 1 },\n  { name: \"two\", value: 2 }\n]\n  ...\n</code></pre>\n\n<p>Thank you in advance for your help.</p>\n\n<p>Beautiful day,</p>\n\n<p>Regards,\nValentin</p>\n"}, {"tags": ["typescript", "class", "inner-classes", "extend", "overwrite"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9091101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cb0dd8ffa0b9971651bf36423248797?s=128&d=identicon&r=PG&f=1", "display_name": "maximus", "link": "https://stackoverflow.com/users/9091101/maximus"}, "edited": false, "score": 0, "creation_date": 1542984091, "post_id": 53303314, "comment_id": 93770087, "body": "ups .. the emails of stackoverflow were pushed inside the spam-folder. You&#39;re right, there is no instance of the util class. I will try this next week and give feedback"}, {"owner": {"reputation": 23, "user_id": 9091101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cb0dd8ffa0b9971651bf36423248797?s=128&d=identicon&r=PG&f=1", "display_name": "maximus", "link": "https://stackoverflow.com/users/9091101/maximus"}, "edited": false, "score": 0, "creation_date": 1543997691, "post_id": 53303314, "comment_id": 94115387, "body": "Ok, if I change the classes to namespaces, it works as excpected. Thank you!"}], "tags": [], "owner": {"reputation": 266, "user_id": 7128051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8ydSaYvFf3U/AAAAAAAAAAI/AAAAAAAAJL8/0wjRtfhyuNQ/photo.jpg?sz=128", "display_name": "Tim Lundqvist", "link": "https://stackoverflow.com/users/7128051/tim-lundqvist"}, "is_accepted": true, "score": 0, "last_activity_date": 1542208307, "creation_date": 1542208307, "answer_id": 53303314, "question_id": 53302908, "link": "https://stackoverflow.com/questions/53302908/overwrite-extend-typescript-class-expressions/53303314#53303314", "title": "Overwrite / extend typescript class expressions", "body": "<p>To me is sounds like the <code>Util</code> class is never instantiated. If that is correct it shouldn't be a class. A <code>namespace</code> is more fitting in this context. Namespaces are also able to be merged between declaration files.</p>\n\n<pre><code>// testframework.d.ts\nclass UnitTest {\n    constructor(unitTest: (this: UnitTest) =&gt; void);\n\n    util = Util;\n}\n\ndeclare namespace Util {\n    export function createFile(filePath: string): File;\n}\n\n// myExtendedUtilNamespace.d.ts\ndeclare namespace Util {\n  export function myCustomUtilFunction(): void;\n}\n</code></pre>\n\n<p>See the TypeScript Handbook about namespaces:\n<a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/namespaces.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 9091101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cb0dd8ffa0b9971651bf36423248797?s=128&d=identicon&r=PG&f=1", "display_name": "maximus", "link": "https://stackoverflow.com/users/9091101/maximus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 1, "accepted_answer_id": 53303314, "answer_count": 1, "score": 0, "last_activity_date": 1542208307, "creation_date": 1542206940, "question_id": 53302908, "link": "https://stackoverflow.com/questions/53302908/overwrite-extend-typescript-class-expressions", "title": "Overwrite / extend typescript class expressions", "body": "<p>My company has developed a own test framework for the software, because it's not possible to use an open-source framework in the context of the software we develop.</p>\n\n<p>Anyway, I wrote Typescript Definition Files to improve the code completion for VS Code, but I can't make it work for the following setup:</p>\n\n<p>The following class is used to define unit tests. It provides some functions, e.g. for assertions. The main problem is the util-namespace. You can pass a function which is actually the unit test. Note that the this-object of that function points to the unit test class so that the passed function can make use of the functions of the unit test (internally the passed function will be called with \"unitTest.call(this)\" to set the this object of the function to the unit test instance)</p>\n\n<pre><code>class UnitTest {\n    constructor(unitTest: (this: UnitTest) =&gt; void);\n    .\n    .\n    .\n    util = Util; // Referes to the Util-Class (it's a class because its the only possibility in typescript for nesting \n</code></pre>\n\n<p>The Util-class provides some general functions which are useful for writing tests</p>\n\n<pre><code>class Util {\n    static createFile(filePath: string): File;\n    .\n    .\n    .\n}\n</code></pre>\n\n<p>If you declare a Unit Test like this, everything works fine:</p>\n\n<pre><code>var unitTest = new UnitTest(function() {\n     this.util.createFile(\"...\"); // VS-Code provides code completion for that functions of the unit-test-namespace\n});\n</code></pre>\n\n<p>The problem is, that the util-class (which is used for \ncode encapsulation) can be extended in every project. You can define a script following a specific name schema and the testframework dynamically loads that script and provides that functions in the util namespace, e.g. \"test.util.myProject.js\"</p>\n\n<pre><code>module.exports = {\n    myCustomUtilFunction = function () { ... }\n};\n</code></pre>\n\n<p>Just by providing the script you can use that function in your unit test:</p>\n\n<pre><code>var unitTest = new UnitTest(function() {\n this.util.myCustomUtilFunction();\n});\n</code></pre>\n\n<p>But I can't cover this with the typescript definition file. VS-Code will not provide any code completion for the custom util functions because it's missing in the typescript definition of the test framework. I tried to extend the Util-class as follow, but VS-Code doesn't care:</p>\n\n<pre><code>class Util {\n    static myCustomUtilFunction(): void;\n}\n</code></pre>\n\n<p>Any idea how to solve this?</p>\n\n<hr>\n\n<p>To make it easier to understand, here is the complete setup<br>\n<em>testframework.d.ts</em></p>\n\n<pre><code>class UnitTest {\n    constructor(unitTest: (this: UnitTest) =&gt; \n\n    util = Util;\n}\n\nclass Util {\n    static createFile(filePath: string): File;\n}\n</code></pre>\n\n<p><em>myExtendedUtilNamespace.d.ts</em></p>\n\n<pre><code>class Util {\n    static myCustomUtilFunction(): void;\n}\n</code></pre>\n\n<p><em>unitTests.js</em></p>\n\n<pre><code>var unitTest = new UnitTest(function() {\n    this.util.createFile(\"...\"); // works\n    this.util.myCustomUtilFunction(); // does not work\n});\n</code></pre>\n"}, {"tags": ["typescript", "generics", "recursion", "overloading"], "comments": [{"owner": {"reputation": 266, "user_id": 7128051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8ydSaYvFf3U/AAAAAAAAAAI/AAAAAAAAJL8/0wjRtfhyuNQ/photo.jpg?sz=128", "display_name": "Tim Lundqvist", "link": "https://stackoverflow.com/users/7128051/tim-lundqvist"}, "edited": false, "score": 0, "creation_date": 1542205715, "post_id": 53302360, "comment_id": 93485627, "body": "What if you change <code>T[]</code> to <code>ArrayLike&lt;T&gt;</code>? Since you also allow a <code>Float32Array</code> you will not be using any of the Array prototype function. If you also use it in a for-of loop or something you may add <code>ArrayLike&lt;T&gt; &amp; Iterable&lt;T&gt;</code>."}, {"owner": {"reputation": 51, "user_id": 8390473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a52a80601c8d7176d62a5292448f44e?s=128&d=identicon&r=PG&f=1", "display_name": "SpacePotatoes", "link": "https://stackoverflow.com/users/8390473/spacepotatoes"}, "reply_to_user": {"reputation": 266, "user_id": 7128051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8ydSaYvFf3U/AAAAAAAAAAI/AAAAAAAAJL8/0wjRtfhyuNQ/photo.jpg?sz=128", "display_name": "Tim Lundqvist", "link": "https://stackoverflow.com/users/7128051/tim-lundqvist"}, "edited": false, "score": 0, "creation_date": 1542206787, "post_id": 53302360, "comment_id": 93486333, "body": "Thanks, I didn&#39;t know about these types in Typescript. Iterable&lt;T&gt; seems to work (and therefore, no overload is required). I can&#39;t use ArrayLike which seems to be readonly (the array is mutaded in the implementation)."}], "answers": [{"comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1542212670, "post_id": 53303926, "comment_id": 93490118, "body": "Doesn&#39;t adding a union signature basically defeat the purpose of the overloads?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1542213193, "post_id": 53303926, "comment_id": 93490457, "body": "Not necessarily .. the first overload will be active for <code>FloatArrays</code> so the  callback will take <code>numbers</code>. For other <code>T[]</code>s the callback will take <code>T</code>. Only if it&#39;s a union of type <code>FloatArray | T[]</code> will the last overload be triggered"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1542213630, "post_id": 53303926, "comment_id": 93490724, "body": "But it seems like you can basically pass anything that satisfies the union and it&#39;ll compile, even though it could be an error... like <code>select(floatArray, 1, 2, 3, (a: string, b: string) =&gt; a == b)</code> is allowed because it <code>floatArray</code> matches <code>Float32Array</code> and <code>(string, string) =&gt; boolean</code> matches <code>(T, T) =&gt; boolean</code>... even though it no longer makes sense."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1542210334, "creation_date": 1542210334, "answer_id": 53303926, "question_id": 53302360, "link": "https://stackoverflow.com/questions/53302360/overloading-a-recursive-function-in-typescript-with-array-and-typedarray/53303926#53303926", "title": "Overloading a recursive function in Typescript with Array and TypedArray", "body": "<p>The problem is that the implementation overload (ie. the last one) is not directly callable, so when you call the function recursively the types have to be compatible with one of the two overloads, and the union is not compatible with either (typescript will not try to combine signatures to get to allow unions to be passed in)</p>\n\n<p>The simplest solution in such a situation is to duplicate the implementation signature:</p>\n\n<pre><code>export function select(\n    array: Float32Array,\n    first: number,\n    nth: number,\n    last: number,\n    comp: (a: number, b: number) =&gt; boolean,\n): void;\nexport function select&lt;T&gt;(\n    array: T[],\n    first: number,\n    nth: number,\n    last: number,\n    comp: (a: T, b: T) =&gt; boolean,\n): void;\nexport function select&lt;T&gt;(\n    array: Float32Array | T[],\n    first: number,\n    nth: number,\n    last: number,\n    comp: (a: number | T, b: number | T) =&gt; boolean,\n): void;\nexport function select&lt;T&gt;(\n    array: Float32Array | T[],\n    first: number,\n    nth: number,\n    last: number,\n    comp: (a: number | T, b: number | T) =&gt; boolean,\n): void {\n    // Implementation of Floyd-Rivest algorithm\n    // Some code\n    let newFirst = 0\n    let newLast = 0\n    select(array, newFirst, nth, newLast, comp);\n    // Some code\n}\n</code></pre>\n\n<p>Another solution would be to use a type that is more general and is applicable for both types of array, as suggested in the comments.</p>\n"}], "owner": {"reputation": 51, "user_id": 8390473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a52a80601c8d7176d62a5292448f44e?s=128&d=identicon&r=PG&f=1", "display_name": "SpacePotatoes", "link": "https://stackoverflow.com/users/8390473/spacepotatoes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542210334, "creation_date": 1542205197, "question_id": 53302360, "link": "https://stackoverflow.com/questions/53302360/overloading-a-recursive-function-in-typescript-with-array-and-typedarray", "title": "Overloading a recursive function in Typescript with Array and TypedArray", "body": "<p>I have a recursive function with 2 overloads :</p>\n\n<pre><code>export function select(\n  array: Float32Array,\n  first: number,\n  nth: number,\n  last: number,\n  comp: (a: number, b: number) =&gt; boolean,\n): void;\nexport function select&lt;T&gt;(\n  array: T[],\n  first: number,\n  nth: number,\n  last: number,\n  comp: (a: T, b: T) =&gt; boolean,\n): void;\nexport function select&lt;T&gt;(\n  array: Float32Array | T[],\n  first: number,\n  nth: number,\n  last: number,\n  comp: (a: number | T, b: number | T) =&gt; boolean,\n): void {\n  // Implementation of Floyd-Rivest algorithm\n  // Some code\n  select(array, newFirst, nth, newLast, comp);\n  // Some code\n}\n</code></pre>\n\n<p>Typescript complains about variable <code>array</code> when calling <code>select</code> function recursively in the implementation :</p>\n\n<blockquote>\n  <p>The argument of type 'Float32Array | T[]' is not assignable to the parameter of type '(number | T)[]'.</p>\n</blockquote>\n\n<p>First, I don't really understand why typescript try to compare the type of argument <code>array</code> with a type <code>(number | T)[]</code> which does not exist in the different signatures. Does it try to compare the type of <code>array</code> with arguments type of <code>comp</code> function?</p>\n\n<p>Of course I can replace the type of the argument <code>array</code> by <code>any</code> in the implementation signature, it works, but I would like to know if there is a better way to handle this case.</p>\n"}, {"tags": ["angular", "typescript", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 3172, "user_id": 6726592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6xIeo.jpg?s=128&g=1", "display_name": "Roxy&#39;Pro", "link": "https://stackoverflow.com/users/6726592/roxypro"}, "edited": false, "score": 0, "creation_date": 1542272447, "post_id": 53301923, "comment_id": 93511509, "body": "and it is ok to get data with post?"}, {"owner": {"reputation": 2191, "user_id": 4587598, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zkWVl.jpg?s=128&g=1", "display_name": "Mac_W", "link": "https://stackoverflow.com/users/4587598/mac-w"}, "reply_to_user": {"reputation": 3172, "user_id": 6726592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6xIeo.jpg?s=128&g=1", "display_name": "Roxy&#39;Pro", "link": "https://stackoverflow.com/users/6726592/roxypro"}, "edited": false, "score": 0, "creation_date": 1542274293, "post_id": 53301923, "comment_id": 93512672, "body": "Well, how the name says it is supposed to be used to POST and store data, but obviously you can set your server to send specific data back but this would not be considered good practice at all, so please use GET to get data and just attach params to it like shown above."}], "tags": [], "owner": {"reputation": 2191, "user_id": 4587598, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zkWVl.jpg?s=128&g=1", "display_name": "Mac_W", "link": "https://stackoverflow.com/users/4587598/mac-w"}, "is_accepted": true, "score": 2, "last_activity_date": 1542206341, "last_edit_date": 1542206341, "creation_date": 1542203816, "answer_id": 53301923, "question_id": 53301748, "link": "https://stackoverflow.com/questions/53301748/why-post-works-and-get-is-throwing-error-angular-service/53301923#53301923", "title": "Why post works and get is throwing error? Angular service", "body": "<p>It works because <code>POST</code> in Angular <code>HttpClient</code> accepts as second parameter a body which can be a string which is not a case with a <code>GET</code> request. This accepts an object of type HttpParams.</p>\n\n<p>To GET specific data you can use HttpParams, see below:</p>\n\n<pre><code>let params = new HttpParams();\nparams = params.append('userId', userId);\nreturn this.httpClient\n    .get(this.url, {params});\n</code></pre>\n"}], "owner": {"reputation": 3172, "user_id": 6726592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6xIeo.jpg?s=128&g=1", "display_name": "Roxy&#39;Pro", "link": "https://stackoverflow.com/users/6726592/roxypro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 53301923, "answer_count": 1, "score": 1, "last_activity_date": 1542206341, "creation_date": 1542203270, "question_id": 53301748, "link": "https://stackoverflow.com/questions/53301748/why-post-works-and-get-is-throwing-error-angular-service", "title": "Why post works and get is throwing error? Angular service", "body": "<p>I need to get total orders from specific user, </p>\n\n<p>here is my service code /when I am using get/:</p>\n\n<pre><code>  getTotal(userId:string): Observable&lt;OrderTransaction[]&gt; {\n    const apiUrl = environment.apiUrl + '/OrderTransaction/GetAllByUserId';\n    return this._http.get&lt;OrderTransaction[]&gt;(apiUrl, userId)\n      .catch(\n        (error: HttpErrorResponse) =&gt; {\n          return Observable.throw(error);\n        });\n  }\n</code></pre>\n\n<p>It says:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kaU8t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kaU8t.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why this happening?</p>\n\n<p>When I change <code>_http.get</code> to <code>_http.post</code> it works, and why is that?</p>\n\n<p>Thanks guys\nCheers</p>\n"}, {"tags": ["angular", "typescript", "angular-router", "angular-module"], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1542219914, "last_edit_date": 1542219914, "creation_date": 1542202863, "answer_id": 53301611, "question_id": 53301546, "link": "https://stackoverflow.com/questions/53301546/how-to-use-angular-modules-nullinjectorerror-no-provider-for-router/53301611#53301611", "title": "How to use angular modules? (NullInjectorError: No provider for Router)", "body": "<p>Make the following changes -</p>\n\n<h2>AuthenticationRoutingModule</h2>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginPageComponent } from './components/login-page/login-page.component';\n\nconst routes: Routes = [\n  { path: '', component: LoginPageComponent, pathMatch: 'full' },\n  { path: '/login', component: LoginPageComponent, pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes), //&lt;-- change it to Root if it is parent routing.\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class AuthenticationRoutingModule { }\n</code></pre>\n\n<h2>AppModule</h2>\n\n<pre><code>import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { AuthenticationModule } from './authentication/authentication.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\n    CoreModule,\n    AuthenticationModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1542205929, "post_id": 53301629, "comment_id": 93485762, "body": "If I remove AuthenticationModule, the error is: <code>&#39;app-login-page&#39; is not a known element:</code> The <code>app-login-page</code> component is declared in the AuthenticationModule"}, {"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1542206348, "post_id": 53301629, "comment_id": 93486041, "body": "I have removed the <code>app-login-page</code> tag from <code>app.component.html</code>. Now I don&#39;t get any errors but the LoginComponent is not showing up either."}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1542208346, "post_id": 53301629, "comment_id": 93487431, "body": "Again you need to remove coremodule from providers and have it under imports"}, {"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1542265783, "post_id": 53301629, "comment_id": 93508393, "body": "I have already removed everything from app.module providers array. It builds now and doesn&#39;t throw any error in the browser but LoginComponent is not showing up either."}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 2, "last_activity_date": 1542202925, "creation_date": 1542202925, "answer_id": 53301629, "question_id": 53301546, "link": "https://stackoverflow.com/questions/53301546/how-to-use-angular-modules-nullinjectorerror-no-provider-for-router/53301629#53301629", "title": "How to use angular modules? (NullInjectorError: No provider for Router)", "body": "<p>You need to remove  <strong><code>AuthenticationModule</code></strong> from providers inside the app.module.ts</p>\n\n<p>Only the services should remain under providers array.</p>\n"}, {"comments": [{"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1542205674, "post_id": 53301671, "comment_id": 93485598, "body": "Didn&#39;t help. ng build now says: <code>ERROR in No NgModule metadata found for &#39;AuthenticationModule &#39;.</code>"}], "tags": [], "owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1542203050, "creation_date": 1542203050, "answer_id": 53301671, "question_id": 53301546, "link": "https://stackoverflow.com/questions/53301546/how-to-use-angular-modules-nullinjectorerror-no-provider-for-router/53301671#53301671", "title": "How to use angular modules? (NullInjectorError: No provider for Router)", "body": "<p>You need to <code>import</code> following in your <code>app module</code>.</p>\n\n<pre><code>RouterModule.forRoot([\n{ path: '', loadChildren: 'path/to/authentication.module#AuthenticationModule ' }])\n</code></pre>\n\n<p>Dont forget to change <code>path/to</code> to your actual path</p>\n"}, {"tags": [], "owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "is_accepted": false, "score": 0, "last_activity_date": 1542353367, "creation_date": 1542353367, "answer_id": 53333263, "question_id": 53301546, "link": "https://stackoverflow.com/questions/53301546/how-to-use-angular-modules-nullinjectorerror-no-provider-for-router/53333263#53333263", "title": "How to use angular modules? (NullInjectorError: No provider for Router)", "body": "<p>I had several problems with my code, including the ones I got as solutions. One of them was that somehow I removed the  tag in my app.component.html. Working modules:</p>\n\n<p><strong>/app/app.module.ts</strong></p>\n\n<pre><code>import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { RouterModule } from '@angular/router';\nimport { ModalModule } from 'ngx-bootstrap';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\n    CoreModule,\n    RouterModule.forRoot([\n      { path: '', loadChildren: './admin/admin.module#AdminModule' },\n      { path: 'login', loadChildren: './authentication/authentication.module#AuthenticationModule' }\n    ]),\n    ModalModule.forRoot()\n  ],\n  providers: [\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><strong>/app/authentication/authentication.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { LoginPageComponent } from './components/login-page/login-page.component';\nimport { CoreModule } from '../core/core.module';\nimport { CommonModule } from '@angular/common';\nimport { routing } from './authentication.routing';\nimport { ModalModule } from 'ngx-bootstrap';\n\n@NgModule({\n  declarations: [\n    LoginPageComponent\n  ],\n  imports: [\n    FormsModule,\n    CommonModule,\n    CoreModule,\n    ModalModule.forRoot(),\n    routing\n  ],\n  exports: [\n    LoginPageComponent\n  ]\n})\nexport class AuthenticationModule { }\n</code></pre>\n\n<p><strong>/app/authentication/authentication.routing.ts</strong></p>\n\n<pre><code>import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginPageComponent } from './components/login-page/login-page.component';\n\nexport const routes: Routes = [\n  { path: '', component: LoginPageComponent },\n  { path: 'login', component: LoginPageComponent, pathMatch: 'full' },\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forChild(routes);\n</code></pre>\n"}], "owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2666, "favorite_count": 1, "accepted_answer_id": 53301629, "answer_count": 4, "score": 1, "last_activity_date": 1542353367, "creation_date": 1542202640, "question_id": 53301546, "link": "https://stackoverflow.com/questions/53301546/how-to-use-angular-modules-nullinjectorerror-no-provider-for-router", "title": "How to use angular modules? (NullInjectorError: No provider for Router)", "body": "<p>I'm new to angular modules and I have sliced my (working) application into these seperate modules for start:</p>\n\n<pre><code>/app\n    /core\n    /admin\n    /authentication\n    /wst\n</code></pre>\n\n<p>All folders have its *.module.ts file, some of them have a *.routing.module.ts, too. At first I would be happy to see my login page that is a component in the authentication module but I got errors only. Right now it says: </p>\n\n<blockquote>\n  <p>Error: StaticInjectorError(AppModule)[RouterModule -> Router]:<br>\n  StaticInjectorError(Platform: core)[RouterModule -> Router]: \n      NullInjectorError: No provider for Router!</p>\n</blockquote>\n\n<p>I have tried to add the Router module everywhere that is related and some other places that is not but still. Why am I getting this error? What is missing?</p>\n\n<p><strong>/app/app.module.ts</strong></p>\n\n<pre><code>import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { AuthenticationModule } from './authentication/authentication.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\n    CoreModule,\n    AuthenticationModule\n  ],\n  providers: [\n    AuthenticationModule,\n    CoreModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><strong>/app/authentication/authentication.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { LoginPageComponent } from './components/login-page/login-page.component';\nimport { CoreModule } from '../core/core.module';\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AuthenticationRoutingModule } from './authentication.routing.module';\n\n@NgModule({\n  declarations: [\n    LoginPageComponent\n  ],\n  imports: [\n    FormsModule,\n    BrowserModule,\n    AuthenticationRoutingModule\n  ],\n  exports: [\n    LoginPageComponent\n  ]\n})\nexport class AuthenticationModule { }\n</code></pre>\n\n<p><strong>/app/authentication/authentication.routing.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginPageComponent } from './components/login-page/login-page.component';\n\nconst routes: Routes = [\n  { path: '', component: LoginPageComponent, pathMatch: 'full' },\n  { path: '/login', component: LoginPageComponent, pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes),\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class AuthenticationRoutingModule { }\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "filter"], "answers": [{"tags": [], "owner": {"reputation": 3494, "user_id": 5045563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9dccd10e57c08cb05ec5b39fa80f6d?s=128&d=identicon&r=PG&f=1", "display_name": "shkaper", "link": "https://stackoverflow.com/users/5045563/shkaper"}, "is_accepted": false, "score": 1, "last_activity_date": 1542202312, "creation_date": 1542202312, "answer_id": 53301431, "question_id": 53301255, "link": "https://stackoverflow.com/questions/53301255/remove-the-deleted-values-from-array/53301431#53301431", "title": "Remove the deleted values from array", "body": "<p>Your <code>filter</code> predicate doesn't work because you can't just compare an object from <code>normalArray</code> to an object from <code>deletedValuesfromArray</code>:</p>\n\n<blockquote>\n  <p><code>indexOf()</code> compares <code>searchElement</code> to elements of the <code>Array</code> using\n  strict equality (the same method used by the === or triple-equals\n  operator).</p>\n</blockquote>\n\n<p>-- <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Description\" rel=\"nofollow noreferrer\">Array.indexOf()</a></p>\n\n<p>In other words, </p>\n\n<pre><code>{ \"property_name\": \"Property one\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 1 } === { \"property_name\": \"Property one\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 1 }\n// &gt; false\n</code></pre>\n\n<p>To make the <code>filter</code> work, you need to implement a comparison function. See <a href=\"https://stackoverflow.com/questions/201183/how-to-determine-equality-for-two-javascript-objects\">How to determine equality for two JavaScript objects?</a> for some ideas.</p>\n"}, {"comments": [{"owner": {"reputation": 3494, "user_id": 5045563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9dccd10e57c08cb05ec5b39fa80f6d?s=128&d=identicon&r=PG&f=1", "display_name": "shkaper", "link": "https://stackoverflow.com/users/5045563/shkaper"}, "edited": false, "score": 0, "creation_date": 1542202946, "post_id": 53301469, "comment_id": 93483757, "body": "Here you&#39;re assuming that <code>property_name</code> values are unique. The OP never said that"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 3494, "user_id": 5045563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9dccd10e57c08cb05ec5b39fa80f6d?s=128&d=identicon&r=PG&f=1", "display_name": "shkaper", "link": "https://stackoverflow.com/users/5045563/shkaper"}, "edited": false, "score": 0, "creation_date": 1542203903, "post_id": 53301469, "comment_id": 93484417, "body": "Yes this solution seems to be close to me but the thing is as @shkaper said the values may not be unique at all time.."}, {"owner": {"reputation": 3494, "user_id": 5045563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9dccd10e57c08cb05ec5b39fa80f6d?s=128&d=identicon&r=PG&f=1", "display_name": "shkaper", "link": "https://stackoverflow.com/users/5045563/shkaper"}, "edited": false, "score": 3, "creation_date": 1542207351, "post_id": 53301469, "comment_id": 93486713, "body": "this is potentially dangerous since object&#39;s property order is not guaranteed in JavaScript"}, {"owner": {"reputation": 1277, "user_id": 7868639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3117f075e0c1ef80f6304bb92f45c77c?s=128&d=identicon&r=PG&f=1", "display_name": "itsundefined", "link": "https://stackoverflow.com/users/7868639/itsundefined"}, "edited": false, "score": 0, "creation_date": 1542229088, "post_id": 53301469, "comment_id": 93497975, "body": "If you need an explanation about why this solution is terrible, please consider how much cpu time is wasted to stringify all those objects. You are also stringifying the same object way too many times with the way this loop works. You are also not taking into account that there is no spec in javascript that says that the order of object properties stays the same."}], "tags": [], "owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "is_accepted": false, "score": 0, "last_activity_date": 1542205547, "last_edit_date": 1542205547, "creation_date": 1542202424, "answer_id": 53301469, "question_id": 53301255, "link": "https://stackoverflow.com/questions/53301255/remove-the-deleted-values-from-array/53301469#53301469", "title": "Remove the deleted values from array", "body": "<p>You can proceed with <strong>ES6 operators</strong> (<em>filter</em> and <em>some</em>) : </p>\n\n<pre><code> ngOnInit() {\n    let newArray = this.normalArray.filter( (val) =&gt; {\n      return !this.deletedValuesfromArray.some((newval) =&gt; {\n       return JSON.stringify(newval) === JSON.stringify(val) // check if two objects are the same\n      });\n    });\n    console.log(newArray);\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3494, "user_id": 5045563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9dccd10e57c08cb05ec5b39fa80f6d?s=128&d=identicon&r=PG&f=1", "display_name": "shkaper", "link": "https://stackoverflow.com/users/5045563/shkaper"}, "edited": false, "score": 0, "creation_date": 1542202522, "post_id": 53301480, "comment_id": 93483464, "body": "what if the order of keys is different in two same-looking objects?"}, {"owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "reply_to_user": {"reputation": 3494, "user_id": 5045563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9dccd10e57c08cb05ec5b39fa80f6d?s=128&d=identicon&r=PG&f=1", "display_name": "shkaper", "link": "https://stackoverflow.com/users/5045563/shkaper"}, "edited": false, "score": 0, "creation_date": 1542202574, "post_id": 53301480, "comment_id": 93483505, "body": "@shkaper the order is important in my example, I will update my answer"}, {"owner": {"reputation": 1277, "user_id": 7868639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3117f075e0c1ef80f6304bb92f45c77c?s=128&d=identicon&r=PG&f=1", "display_name": "itsundefined", "link": "https://stackoverflow.com/users/7868639/itsundefined"}, "edited": false, "score": 0, "creation_date": 1542228609, "post_id": 53301480, "comment_id": 93497767, "body": "I can explain the down vote. Using stringify is a terrible solution and the guy that made the question didn&#39;t say that he wants to check that the two objects are exactly identical. You should <i>NEVER</i> expect that the order of keys is the same."}, {"owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "reply_to_user": {"reputation": 1277, "user_id": 7868639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3117f075e0c1ef80f6304bb92f45c77c?s=128&d=identicon&r=PG&f=1", "display_name": "itsundefined", "link": "https://stackoverflow.com/users/7868639/itsundefined"}, "edited": false, "score": 1, "creation_date": 1542229350, "post_id": 53301480, "comment_id": 93498076, "body": "@itsundefined from the question it is easy to get that he wants to check that the two objects are exactly identical. Almost all answers contain the same logic, as accepted answer too which marked by question creator, it means we got question right, and I noted that in my example order is important,  so I don&#39;t see any reason for down vote, it seems you got question wrong and added down votes to answers which have upvote"}, {"owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "reply_to_user": {"reputation": 1277, "user_id": 7868639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3117f075e0c1ef80f6304bb92f45c77c?s=128&d=identicon&r=PG&f=1", "display_name": "itsundefined", "link": "https://stackoverflow.com/users/7868639/itsundefined"}, "edited": false, "score": 0, "creation_date": 1542229535, "post_id": 53301480, "comment_id": 93498146, "body": "@itsundefined I&#39;m not using this method for removing objects from array, I&#39;m using this method for comparing objects, 2 different things"}, {"owner": {"reputation": 1277, "user_id": 7868639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3117f075e0c1ef80f6304bb92f45c77c?s=128&d=identicon&r=PG&f=1", "display_name": "itsundefined", "link": "https://stackoverflow.com/users/7868639/itsundefined"}, "edited": false, "score": 0, "creation_date": 1542229540, "post_id": 53301480, "comment_id": 93498148, "body": "<a href=\"https://stackoverflow.com/questions/5525795/does-javascript-guarantee-object-property-order\" title=\"does javascript guarantee object property order\">stackoverflow.com/questions/5525795/&hellip;</a> . Here is the reason for the downvote"}], "tags": [], "owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1542202623, "last_edit_date": 1542202623, "creation_date": 1542202466, "answer_id": 53301480, "question_id": 53301255, "link": "https://stackoverflow.com/questions/53301255/remove-the-deleted-values-from-array/53301480#53301480", "title": "Remove the deleted values from array", "body": "<p>one of simple options here you can use <code>JSON.stringify</code>, which will turn objects into strings and compare them as strings, because 2 objects never equal each other by value since it compares them by reference, make sure that your objects keys order are the same</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const deletedValuesfromArray =\r\n     [\r\n        { \"property_name\": \"Property three\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 2 }, \r\n        { \"property_name\": \"rstywrtre\", \"property_type\": 3, \"property_required\": true, \"property_origin\": 1 }\r\n     ]\r\n\r\n  const normalArray =\r\n   [\r\n    { \"property_name\": \"Property one\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 1 },\r\n     { \"property_name\": \"Property two\", \"property_type\": 5, \"property_required\": true, \"property_origin\": 1 }, \r\n     { \"property_name\": \"Property three\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 2 }, \r\n     { \"property_name\": \"rstywrtre\", \"property_type\": 3, \"property_required\": true, \"property_origin\": 1 }\r\n   ]\r\n\r\nconst result = normalArray.filter(obj =&gt; !deletedValuesfromArray.find(o =&gt; JSON.stringify(o) == JSON.stringify(obj)));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 639, "user_id": 6333644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2GJr.jpg?s=128&g=1", "display_name": "devansvd", "link": "https://stackoverflow.com/users/6333644/devansvd"}, "edited": false, "score": 0, "creation_date": 1542203627, "post_id": 53301523, "comment_id": 93484237, "body": "FYI, lodash is swiss army knife of Javascript."}], "tags": [], "owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "is_accepted": false, "score": 0, "last_activity_date": 1542202582, "creation_date": 1542202582, "answer_id": 53301523, "question_id": 53301255, "link": "https://stackoverflow.com/questions/53301255/remove-the-deleted-values-from-array/53301523#53301523", "title": "Remove the deleted values from array", "body": "<p>Using lodash :-</p>\n\n<pre><code>npm install --save lodash\n\n\nimport * as _ from \"lodash\";\n\nvar newArray = _.differenceWith(this.normalArray, this.deletedValuesfromArray, _.isEqual);\nconsole.log(\"newArray\", newArray);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9346671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-kRA5Czt78rI/AAAAAAAAAAI/AAAAAAAAAM0/h7y7pR_N4P0/photo.jpg?sz=128", "display_name": "Pratik Rathi", "link": "https://stackoverflow.com/users/9346671/pratik-rathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1542262536, "creation_date": 1542262536, "answer_id": 53313478, "question_id": 53301255, "link": "https://stackoverflow.com/questions/53301255/remove-the-deleted-values-from-array/53313478#53313478", "title": "Remove the deleted values from array", "body": "<p>This might also help you.</p>\n\n<pre><code>function display()\n{\n  let newArray = this.normalArray.filter(function (val) {\n  count = 0;\n  var flag = true;\n  return this.deletedValuesfromArray.find(function(item, i){\n  count++;\n\n     if(val.property_name == item.property_name &amp;&amp; val.property_type == item.property_type &amp;&amp; val.property_required == item.property_required &amp;&amp; val.property_origin == item.property_origin ){\n       flag =  false;\n     }\n     if(count == deletedValuesfromArray.length) {\n     return flag;\n     }\n  });\n</code></pre>\n\n<p>});\n   }</p>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1542262536, "creation_date": 1542201770, "last_edit_date": 1542207297, "question_id": 53301255, "link": "https://stackoverflow.com/questions/53301255/remove-the-deleted-values-from-array", "title": "Remove the deleted values from array", "body": "<p>I have two arrays such as,</p>\n\n<p><strong>Array 1</strong>:</p>\n\n<pre><code>    deletedValuesfromArray =\n     [\n        { \"property_name\": \"Property three\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 2 }, \n        { \"property_name\": \"rstywrtre\", \"property_type\": 3, \"property_required\": true, \"property_origin\": 1 }\n     ]\n</code></pre>\n\n<p><strong>Array 2:</strong></p>\n\n<pre><code>  normalArray =\n   [\n    { \"property_name\": \"Property one\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 1 },\n     { \"property_name\": \"Property two\", \"property_type\": 5, \"property_required\": true, \"property_origin\": 1 }, \n     { \"property_name\": \"Property three\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 2 }, \n     { \"property_name\": \"rstywrtre\", \"property_type\": 3, \"property_required\": true, \"property_origin\": 1 }\n   ]\n</code></pre>\n\n<p>I would like to compare both arrays and filter the array to get the new one after removing the <code>deletedValuesfromArray</code> (Array 1).</p>\n\n<p>For which i have tried the following,</p>\n\n<pre><code>let newArray = this.normalArray.filter(function (val) {\n  return this.deletedValuesfromArray.indexOf(val) == -1;\n});\nconsole.log(newArray);\n</code></pre>\n\n<p>But it doesn't works..</p>\n\n<p>Expected Output is,</p>\n\n<p><strong>New Array</strong></p>\n\n<pre><code>   [\n     { \"property_name\": \"Property one\", \"property_type\": 4, \"property_required\": true, \"property_origin\": 1 },\n     { \"property_name\": \"Property two\", \"property_type\": 5, \"property_required\": true, \"property_origin\": 1 }\n   ]\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-snctb9\" rel=\"nofollow noreferrer\">Stackblitz</a> that i have tried</p>\n\n<p>The values also will not be unique always it may have a complete duplicate of any object.</p>\n\n<p>How to compare and remove the deleted values from the normal array and get the newarray?</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 1349, "user_id": 7689896, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/VhIke.jpg?s=128&g=1", "display_name": "saperlipopette", "link": "https://stackoverflow.com/users/7689896/saperlipopette"}, "is_accepted": false, "score": 0, "last_activity_date": 1542209169, "creation_date": 1542209169, "answer_id": 53303548, "question_id": 53301132, "link": "https://stackoverflow.com/questions/53301132/error-uncaught-in-promise-invalid-link-editpage/53303548#53303548", "title": "Error: Uncaught in promise: Invalid link: EditPage", "body": "<p>According to the <a href=\"https://ionicframework.com/docs/api/components/nav/NavPush/\" rel=\"nofollow noreferrer\">documentation</a>, you should set </p>\n\n<pre><code>&lt;button ion-button [navPush]=\"EditPage\"&gt;&lt;/button&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>&lt;button ion-button navPush=\"EditPage\"&gt;&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10241925, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yGiGMrdtUqM/AAAAAAAAAAI/AAAAAAAAAAc/q_5L2lxCelo/photo.jpg?sz=128", "display_name": "user10241925", "link": "https://stackoverflow.com/users/10241925/user10241925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542209169, "creation_date": 1542201363, "question_id": 53301132, "link": "https://stackoverflow.com/questions/53301132/error-uncaught-in-promise-invalid-link-editpage", "title": "Error: Uncaught in promise: Invalid link: EditPage", "body": "<pre><code>menu.html\n&lt;ion-header&gt;\n  &lt;ion-navbar color=\"light\"&gt;\n    &lt;ion-title align=\"center\" class=\"fontHead\"&gt;\n      Report\n    &lt;/ion-title&gt;\n    &lt;ion-buttons start&gt;\n    &lt;button ion-button menuToggle&gt;\n      &lt;ion-icon name=\"menu\"&gt;&lt;/ion-icon&gt;\n    &lt;/button&gt;\n&lt;/ion-buttons&gt;\n  &lt;/ion-navbar&gt;\n&lt;/ion-header&gt;\n    &lt;ion-fab right&gt;\n        &lt;button ion-fab class=\"n\" color=\"fab\" (click)=\"addMenu()\"&gt;&lt;ion-icon name=\"create\"&gt;&lt;/ion-icon&gt;&lt;/button&gt;\n    &lt;/ion-fab&gt;\n\n\n&lt;ion-content padding&gt;\n    &lt;ion-card&gt;\n    &lt;ion-list&gt;\n      &lt;ion-item-sliding *ngFor=\"let menu of menuList | async\"&gt;\n       &lt;ion-item (click)=\"detailsMenu(menu)\"&gt;\n        &lt;h2&gt;&lt;ion-icon name=\"calendar\" item-start&gt;&lt;/ion-icon&gt;Date: &lt;br&gt; {{ menu.date }}&lt;/h2&gt;\n        &lt;p&gt;&lt;ion-icon name=\"clipboard\" item-start&gt;&lt;/ion-icon&gt;Customer: &lt;br&gt; {{ menu.CustName }} &lt;/p&gt;\n        &lt;p class&gt;&lt;ion-icon name=\"information-circle\" item-start&gt;&lt;/ion-icon&gt;Done by: &lt;br&gt; {{ menu.AdminName }}&lt;/p&gt;\n        &lt;p&gt;&lt;ion-icon name=\"information-circle\" item-start&gt;&lt;/ion-icon&gt;Status: &lt;br&gt; {{ menu.status }}&lt;/p&gt;\n      &lt;/ion-item&gt;\n\n      &lt;ion-item-options&gt;\n        &lt;button ion-button color=\"edit\" navPush=\"EditPage\" [navParams]=\"{menu:menu}\"&gt;\n       &lt;ion-icon name=\"build\"&gt;&lt;/ion-icon&gt;Edit&lt;/button&gt;\n        &lt;/ion-item-options&gt;\n     &lt;/ion-item-sliding&gt;\n    &lt;/ion-list&gt;\n  &lt;/ion-card&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>ERROR Error: Uncaught (in promise): invalid link: EditPage</p>\n\n<p>I dont know why it doesnt work on this page my other page with the similar code working but this page only the edit link is not working. I dont know what the problem is.. can you help me? :(</p>\n"}, {"tags": ["typescript", "babeljs"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1542200685, "post_id": 53300899, "comment_id": 93482280, "body": "Works in the playground .. <a href=\"https://www.typescriptlang.org/play/#src=export%20namespace%20Foo%7B%0D%0A%20%20%20%20export%20const%20ONE%3Astring%3D%20&#39;foo%20one&#39;%0D%0A%7D%0D%0Aexport%20namespace%20BAR%7B%0D%0A%20%20%20%20export%20const%20ONE%3Astring%3D%20&#39;bar%20one&#39;%0D%0A%7D\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1542200697, "post_id": 53300899, "comment_id": 93482289, "body": "I&#39;m using 3.1.4 and can&#39;t reproduce it."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 1, "creation_date": 1542200739, "post_id": 53300899, "comment_id": 93482314, "body": "Don&#39;t use namespaces, they are deprecated in favor of modules."}, {"owner": {"reputation": 1711, "user_id": 1016408, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/17131f006d6538837a453a7002dd9d56?s=128&d=identicon&r=PG&f=1", "display_name": "bukowski", "link": "https://stackoverflow.com/users/1016408/bukowski"}, "edited": false, "score": 0, "creation_date": 1542203083, "post_id": 53300899, "comment_id": 93483854, "body": "Sorry, but one more important thing - Im using @babel/preset-typescript"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542292806, "post_id": 53300899, "comment_id": 93523819, "body": "Given that we know namespaces won&#39;t work, can you give the code you tried using modules that you expected to work?"}], "owner": {"reputation": 1711, "user_id": 1016408, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/17131f006d6538837a453a7002dd9d56?s=128&d=identicon&r=PG&f=1", "display_name": "bukowski", "link": "https://stackoverflow.com/users/1016408/bukowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1542208465, "creation_date": 1542200608, "last_edit_date": 1542208465, "question_id": 53300899, "link": "https://stackoverflow.com/questions/53300899/typescript-complains-about-duplicate-const-declarations-inside-different-namespa", "title": "Typescript complains about duplicate const declarations inside different namespaces", "body": "<p>Why typescript is complaining about duplicate <code>const</code> declarations if they live inside different namespaces? Here is what I have:</p>\n\n<pre><code>export namespace Foo{\n    export const ONE:string= 'foo one'\n}\nexport namespace BAR{\n    export const ONE:string= 'bar one'\n}\n</code></pre>\n\n<p>And I get following typescript error:</p>\n\n<pre><code>Duplicate declaration \"ONE\"\n</code></pre>\n\n<p>I am using <strong>typescript@3.1.6</strong> and <strong>@babel/preset-typescript</strong>. As noted in comments namespaces are not supported with babel preset.But it doesnt work with modules also...\nhere is my babel config:</p>\n\n<pre><code>const presets = [\n  '@babel/preset-react',\n  ['@babel/env', {\n    targets: {\n      edge: '17',\n      firefox: '60',\n      chrome: '67',\n      safari: '11.1',\n    },\n    useBuiltIns: 'usage',\n    modules: 'commonjs',\n  }],\n  '@babel/preset-typescript',\n]\n\n\nmodule.exports = { presets }\n</code></pre>\n"}, {"tags": ["jquery", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 345, "user_id": 3274282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zv43v.png?s=128&g=1", "display_name": "L.A", "link": "https://stackoverflow.com/users/3274282/l-a"}, "edited": false, "score": 0, "creation_date": 1542208690, "post_id": 53300824, "comment_id": 93487612, "body": "why do you want to use jquery to manipulate the DOM in angular?"}, {"owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "reply_to_user": {"reputation": 345, "user_id": 3274282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zv43v.png?s=128&g=1", "display_name": "L.A", "link": "https://stackoverflow.com/users/3274282/l-a"}, "edited": false, "score": 0, "creation_date": 1542211436, "post_id": 53300824, "comment_id": 93489357, "body": "@L.A I edited my question and tried to explain what and why I am trying to do it that way. If you have another possibility feel free to tell me :) (I know you shouldn&#39;t ask for these things in a question, still I am open for other ideas)"}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "edited": false, "score": 0, "creation_date": 1542204299, "post_id": 53301602, "comment_id": 93484668, "body": "Thanks for the answer, I found an error! I updated my description"}], "tags": [], "owner": {"reputation": 851, "user_id": 584211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45687cf8dc439678b653367f2b19451e?s=128&d=identicon&r=PG", "display_name": "Eugene Kuzmenko", "link": "https://stackoverflow.com/users/584211/eugene-kuzmenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1542202825, "creation_date": 1542202825, "answer_id": 53301602, "question_id": 53300824, "link": "https://stackoverflow.com/questions/53300824/fill-html-table-data-with-jquery-fails-uncaught-referenceerror/53301602#53301602", "title": "Fill html-table data with jquery fails Uncaught ReferenceError", "body": "<p>I'm not exactly familiar with Angular, but this piece of code seems strange to me</p>\n\n<pre><code>&lt;table #dataTable &gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Maybe you meant</p>\n\n<pre><code>&lt;table id=\"dataTable\"&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "edited": false, "score": 0, "creation_date": 1542218484, "post_id": 53305126, "comment_id": 93493180, "body": "So my thought was that, if I would simply generate a String-object that is formatted like an HTML-table and pass it, this might work, but sadly when an entry is changed I cannot determine which entry it was to update it in my database, or am I missing something? But as i write this comment, I see that my solution is not offering this to me either..."}, {"owner": {"reputation": 851, "user_id": 584211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45687cf8dc439678b653367f2b19451e?s=128&d=identicon&r=PG", "display_name": "Eugene Kuzmenko", "link": "https://stackoverflow.com/users/584211/eugene-kuzmenko"}, "reply_to_user": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "edited": false, "score": 0, "creation_date": 1542224319, "post_id": 53305126, "comment_id": 93495855, "body": "@R&#252;diger I expanded the example a little bit. Now the table can be edited and there&#39;s an easy way to get to the id, or any underlying data you might need to."}], "tags": [], "owner": {"reputation": 851, "user_id": 584211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45687cf8dc439678b653367f2b19451e?s=128&d=identicon&r=PG", "display_name": "Eugene Kuzmenko", "link": "https://stackoverflow.com/users/584211/eugene-kuzmenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1542223997, "last_edit_date": 1542223997, "creation_date": 1542214201, "answer_id": 53305126, "question_id": 53300824, "link": "https://stackoverflow.com/questions/53300824/fill-html-table-data-with-jquery-fails-uncaught-referenceerror/53305126#53305126", "title": "Fill html-table data with jquery fails Uncaught ReferenceError", "body": "<p>If you want something really fast, however, it's best to do without jQuery and reuse as much of the objects you generate as possible.</p>\n\n<p><code>&lt;table id=\"dataTable\"&gt;&lt;/table&gt;</code></p>\n\n<pre><code>const MOCKUP = [{\n  type: 'thead',\n  children: [{\n    type: 'tr',\n    dataset: {id: 1},\n    children: [\n      {type: 'th', textContent: '', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: '2018', colSpan: 2, contentEditable: true},\n      {type: 'th', textContent: '2019', colSpan: 6, contentEditable: true}\n    ]\n  }, {\n    type: 'tr',\n    dataset: {id: 2},\n    children: [\n      {type: 'th', textContent: '', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'December', colSpan: 2, contentEditable: true},\n      {type: 'th', textContent: 'January', colSpan: 2, contentEditable: true},\n      {type: 'th', textContent: 'February', colSpan: 2, contentEditable: true},\n      {type: 'th', textContent: 'March', colSpan: 2, contentEditable: true}\n    ]\n  }, {\n    type: 'tr',\n    dataset: {id: 3},\n    children: [\n      {type: 'th', textContent: '', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Foo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Boo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Foo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Boo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Foo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Boo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Foo', colSpan: 1, contentEditable: true},\n      {type: 'th', textContent: 'Boo', colSpan: 1, contentEditable: true}\n    ]\n  }]\n}];\n\nconst cache = {};\n\nfunction assign(destination, source) {\n  for (const key in source) {\n    if (source.hasOwnProperty(key)) {\n      const value = source[key];\n\n      if (typeof value === 'object') {\n        assign(destination[key], value);\n      } else if (null != destination) {\n        destination[key] = value;\n      }\n    }\n  }\n\n  return destination;\n}\n\nfunction get(data, pathStr) {\n  const path = pathStr.split('.');\n  let i = path.length;\n\n  while (--i) {\n    data = data[path[i]];\n  }\n\n  return data;\n}\n\nfunction disassemble(target) {\n  let element;\n\n  while ((element = target.lastElementChild)) {\n    target.removeChild(element);\n    disassemble(element);\n\n    const type = element.tagName.toLowerCase();\n    const c = cache[type] || (cache[type] = []);\n\n    c.push(element);\n  }\n}\n\nfunction assemble(target, path, data = []) {\n  const fragment = document.createDocumentFragment();\n\n  data.forEach(({type, children, ...config}, i) =&gt; {\n    const element = assign(cache[type] &amp;&amp; cache[type].pop() || document.createElement(type), config);\n    const newPath = `.${i}${path}`;\n\n    element.dataset.path = newPath;\n    assemble(element, `.children${newPath}`, children);\n\n    fragment.appendChild(element);\n  });\n\n  target.appendChild(fragment);\n}\n\nfunction render(target, data) {\n  window.requestAnimationFrame(() =&gt; {\n    disassemble(target);\n    assemble(target, '', data);\n  });\n}\n\nconst table = document.getElementById('dataTable');\n\ntable.addEventListener('input', ({target: {dataset, textContent, parentElement}}) =&gt; {\n  // use this to update local data\n  get(MOCKUP, dataset.path).textContent = textContent;\n\n  // easy access to row id (dataset values can only be strings)\n  parentElement.dataset.id\n\n  // raw dataset with all types and deep objects intact\n  get(MOCKUP, parentElement.dataset.path).dataset.id\n});\n\nrender(table, MOCKUP);\n</code></pre>\n\n<p>Not as fast as React, but pretty darn close.</p>\n"}], "owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 53305126, "answer_count": 2, "score": 2, "last_activity_date": 1542223997, "creation_date": 1542200327, "last_edit_date": 1542211384, "question_id": 53300824, "link": "https://stackoverflow.com/questions/53300824/fill-html-table-data-with-jquery-fails-uncaught-referenceerror", "title": "Fill html-table data with jquery fails Uncaught ReferenceError", "body": "<p>I would like to use <code>jquery</code> in <code>Angular</code> to create a table based on my data input. I am new to <code>jquery</code>, so this might be some dumb thing I forgot, but I cannot say what it is.</p>\n\n<p>Sadly when I execute <code>ng serve</code> what happens is nothing, just a blank page.</p>\n\n<p>I got the following code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;body onLoad=\"createHeaders('#dataTable')\"&gt;\n    &lt;table #dataTable &gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MOCKUP } from '../Table';\nimport * as $ from \"jquery\";\n\n@Component({\n  selector: 'app-tabular',\n  templateUrl: './tabular.component.html',\n  styleUrls: ['./tabular.component.css']\n})\nexport class TabularComponent implements OnInit {\n\n\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  //this is where i want to work in the future, lets just forget about that for the moment\n  buildHTMLTableCodeFromTree(selector) {\n    //var header = this.createHeaders(selector, MOCKUP.Head);\n    $(selector).append(\"&lt;td&gt;test&lt;/td&gt;\");\n  }\n\n  createHeaders(selector) {\n    var headObject = MOCKUP.Head;\n\n    console.log(\"Er ist in der Methode!\");\n\n    var value;\n    var colspan;\n    var entry = \"\";\n\n    for (var j = 0; j &lt; headObject.length; j++) {\n      entry = entry + \"&lt;tr&gt;\";\n      for (var i = 0; i &lt; headObject[j].length; i++) {\n        value = headObject[j][i].value;\n        colspan = headObject[j][i].colspan;\n        entry = entry + \"&lt;th colSpan='\" + colspan + \"'&gt;\" + value + \"&lt;/th&gt;\";\n      }\n      entry = entry + \"&lt;/tr&gt;\";\n    }\n    $(\"dataTable\").append(entry);\n  }\n\n}\n</code></pre>\n\n<p>The table Head Mockup:</p>\n\n<pre><code>export const MOCKUP = {\n    \"Table\": \"tab1\",\n    \"Head\": [\n        [\n            {\n                \"value\": \"\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"2018\",\n                \"colspan\": 2\n            },\n            {\n                \"value\": \"2019\",\n                \"colspan\": 6\n            }\n        ],\n        [\n            {\n                \"value\": \"\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"December\",\n                \"colspan\": 2\n            },\n            {\n                \"value\": \"January\",\n                \"colspan\": 2\n            },\n            {\n                \"value\": \"February\",\n                \"colspan\": 2\n            },\n            {\n                \"value\": \"March\",\n                \"colspan\": 2\n            }\n        ],\n        [\n            {\n                \"value\": \"\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Foo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Boo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Foo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Boo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Foo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Boo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Foo\",\n                \"colspan\": 1,\n            },\n            {\n                \"value\": \"Boo\",\n                \"colspan\": 1,\n            }\n        ]\n    ],\n    \"Body\": [\n        [\n            {   \n                \"value\": \"Total\",\n                \"entryID\": -1\n            },\n            {   \n                \"value\": \"10\",\n                \"entryID\": 33\n            },\n            {   \n                \"value\": \"24\",\n                \"entryID\": 34\n            },\n            {   \n                \"value\": \"66\",\n                \"entryID\": 35\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 36\n            },\n            {   \n                \"value\": \"23\",\n                \"entryID\": 37\n            },\n            {   \n                \"value\": \"24\",\n                \"entryID\": 38\n            },\n            {   \n                \"value\": \"21\",\n                \"entryID\": 39\n            },\n            {   \n                \"value\": \"10\",\n                \"entryID\": 40\n            }\n        ],\n        [\n            {   \n                \"value\": \"Row1\",\n                \"entryID\": -1\n            },\n            {   \n                \"value\": \"10\",\n                \"entryID\": 1\n            },\n            {   \n                \"value\": \"12\",\n                \"entryID\": 2\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 3\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 4\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 5\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 6\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 7\n            },\n            {   \n                \"value\": \"0\",\n                \"entryID\": 8\n            }\n        ]\n    ]\n}\n</code></pre>\n\n<p>I wanted it to be a three-rowed header (Year, Month and the last row out of the last values of my <code>HEAD</code>-array). I've tried to do it according to </p>\n\n<p>I also tried to do it like described <a href=\"https://stackoverflow.com/questions/44894137/json-data-to-html-table-with-jquery\">here</a> (so with <code>$(\"#dataTable\").append(entry);</code> but that does not change the outcome.</p>\n\n<p>Edit: Indeed there is an error, not in the command prompt where <code>ng serve</code> is executed, but in the Chrome-console:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: createHeaders is not defined\n      at onload (localhost/:13)</p>\n</blockquote>\n\n<p>Obviously he did not instantiate the method when executing the HTML-Code. </p>\n\n<p><strong>Edit:</strong> Why am I trying with jquery? \n<em>Note: This might not be necessary for the question itself, it is meant as an explanation</em></p>\n\n<p>Here's an example of my data:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oALZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oALZq.png\" alt=\"My data\"></a></p>\n\n<p>and the desired output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DPgJx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DPgJx.png\" alt=\"my desired output\"></a></p>\n\n<p>Now the output has to be editable and these edits should be saved in my database (on button click, that's why I saved the entryID in my mockup).</p>\n\n<p>For the communication from Backend->Frontend I thought about the above format of the raw data (that's why I save an entryID):</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 1024661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b374f3bd05b1db4a974585ba57661815?s=128&d=identicon&r=PG", "display_name": "jorgecasar", "link": "https://stackoverflow.com/users/1024661/jorgecasar"}, "is_accepted": false, "score": 0, "last_activity_date": 1547455495, "creation_date": 1547455495, "answer_id": 54178114, "question_id": 53300577, "link": "https://stackoverflow.com/questions/53300577/firebase-cloud-functions-firebase-config-environment-variable-is-missing/54178114#54178114", "title": "Firebase Cloud Functions - FIREBASE_CONFIG environment variable is missing", "body": "<p>You have to initialize <code>firebase-admin</code> with a configuration. It could be explicit, when you call <code>admin.initializeApp(config)</code>, or implicit, using environment variables.</p>\n\n<p>Take a look this guide for more info: <a href=\"https://firebase.google.com/docs/admin/setup?hl=es-419\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup?hl=es-419</a></p>\n"}], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2481, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1547455495, "creation_date": 1542199575, "question_id": 53300577, "link": "https://stackoverflow.com/questions/53300577/firebase-cloud-functions-firebase-config-environment-variable-is-missing", "title": "Firebase Cloud Functions - FIREBASE_CONFIG environment variable is missing", "body": "<p>I have initialized a new project of <a href=\"https://nestjs.com/\" rel=\"nofollow noreferrer\">NestJS</a> inside <code>/functions</code>. After I've done that, I installed:</p>\n\n<pre><code>npm install firebase-admin firebase-functions\n</code></pre>\n\n<p>After that, I had to link the app to cloud functions like so:</p>\n\n<pre><code>const bootstrap = async (expressInstance: Express) =&gt; {\n  const app = await NestFactory.create(AppModule, expressInstance);\n  await app.listen(3000); // Just for easy way to develop\n  await app.init();\n};\n\nbootstrap(server);\n\nexports.api = functions.https.onRequest(server);\n</code></pre>\n\n<p>In the app, I had to use <code>firebase-admin</code> to authorize a user. And here's the problem. I assume that running <code>firebase serve --only=function</code>, it will set FIREBASE_CONFIG, while I, running <code>nodemon</code>,  won't set FIREBASE_CONFIG.</p>\n\n<p>I was wondering, how can I set this variable, and what it contains, so I could know how to set it properly.</p>\n"}, {"tags": ["angular", "typescript", "angular-components", "kendo-chart", "kendo-angular-ui"], "comments": [{"owner": {"reputation": 741, "user_id": 1867625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ae405dff3f8d28a0258c60f5838e47?s=128&d=identicon&r=PG&f=1", "display_name": "SiliconSoul", "link": "https://stackoverflow.com/users/1867625/siliconsoul"}, "edited": false, "score": 0, "creation_date": 1542339207, "post_id": 53300539, "comment_id": 93541964, "body": "The pie chart seems to be resized correctly here: <a href=\"https://stackblitz.com/edit/angular-jd47bi?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-jd47bi?file=app%2Fapp.component.&zwnj;&#8203;ts</a> Is there anything else specific besides the OnPush strategy?"}, {"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "reply_to_user": {"reputation": 741, "user_id": 1867625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ae405dff3f8d28a0258c60f5838e47?s=128&d=identicon&r=PG&f=1", "display_name": "SiliconSoul", "link": "https://stackoverflow.com/users/1867625/siliconsoul"}, "edited": false, "score": 0, "creation_date": 1542352710, "post_id": 53300539, "comment_id": 93545692, "body": "@SiliconSoul well, nothing else, I&#39;m using this chart inside some containers with flex layout, but these containers working well, I mean they got resized so I&#39;m not sure if that&#39;s the problem, also the chart is inside an Ionic application. but for the component itself, got nothing else."}, {"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "reply_to_user": {"reputation": 741, "user_id": 1867625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ae405dff3f8d28a0258c60f5838e47?s=128&d=identicon&r=PG&f=1", "display_name": "SiliconSoul", "link": "https://stackoverflow.com/users/1867625/siliconsoul"}, "edited": false, "score": 0, "creation_date": 1542352777, "post_id": 53300539, "comment_id": 93545714, "body": "I&#39;ll try to provide the containers template once I have access to code."}, {"owner": {"reputation": 386, "user_id": 2215352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40dde625684180ceb0f636e0973315c2?s=128&d=identicon&r=PG", "display_name": "Adeel Shekhani", "link": "https://stackoverflow.com/users/2215352/adeel-shekhani"}, "edited": false, "score": 0, "creation_date": 1606938416, "post_id": 53300539, "comment_id": 115118156, "body": "I came here for overriding series color&#39;s scss variables.defined here <a href=\"https://docs.telerik.com/kendo-ui/styles-and-layout/sass-themes\" rel=\"nofollow noreferrer\">docs.telerik.com/kendo-ui/styles-and-layout/sass-themes</a>, like $series-a and so on, but it didn&#39;t work. [seriesColors]=&quot;[&#39;orange&#39;, &#39;#ffe&#39;, &#39;green&#39;]&quot; perfectly worked for me"}], "answers": [{"tags": [], "owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "is_accepted": true, "score": 0, "last_activity_date": 1542199453, "creation_date": 1542199453, "answer_id": 53300540, "question_id": 53300539, "link": "https://stackoverflow.com/questions/53300539/kendo-ui-for-angular-pie-charts-is-not-responsive-with-changedetectionstrategy-o/53300540#53300540", "title": "Kendo UI for Angular Pie Charts is not responsive with ChangeDetectionStrategy.OnPush", "body": "<p>If you got component with <code>changeDetection: ChangeDetectionStrategy.OnPush</code> (which is a good idea to improve performance) then the good solution is to get <code>markForCheck()</code> fired each time you resize the window, but with <code>debounceTime</code> so you will get some time to wait before you resize the chart:</p>\n\n<pre><code>import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'my-component',\n  templateUrl: 'my-component.html',\n  styleUrls: ['./my-component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MyComponent implements OnInit {\n  constructor(private _cdRef: ChangeDetectorRef) {\n  }\n\n  ngOnInit(): void {\n    fromEvent(window, 'resize') // get the event observable\n      .pipe(debounceTime(200)) // you can change debounceTime to whatever you want\n      .subscribe((event) =&gt; {\n        this._cdRef.markForCheck(); // Here we go\n      });\n  }\n}\n</code></pre>\n\n<p>As the chart itself seems to be responsive and should be redrawn each window change, this will do the trick. </p>\n"}], "owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 53300540, "answer_count": 1, "score": 1, "last_activity_date": 1570357271, "creation_date": 1542199453, "last_edit_date": 1570357271, "question_id": 53300539, "link": "https://stackoverflow.com/questions/53300539/kendo-ui-for-angular-pie-charts-is-not-responsive-with-changedetectionstrategy-o", "title": "Kendo UI for Angular Pie Charts is not responsive with ChangeDetectionStrategy.OnPush", "body": "<p>I have created a new component that should show a pie chart inside any place that I place that component, the problem is even with simple component, the pie chart stays as the size of the first render, I got this issue after I changed <code>ChangeDetectionStrategy</code> to <code>ChangeDetectionStrategy.OnPush</code>, the problem that I did that because without even the problem does not persist but the resizing start to be laggy and consume more CPU usage during that.</p>\n\n<p>So I got the option to keep that lag and make chart responsive, or change the <code>ChangeDetectionStrategy</code> and get chart stuck to first time render.</p>\n\n<p>Also, I got many types of charts, like the bar chart and the issue does not seem to be happening with that kind of charts, for now, it is only for my Pie chart.</p>\n\n<p><strong>my.component.ts:</strong></p>\n\n<pre><code>import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'my-component',\n  templateUrl: 'my-component.html',\n  styleUrls: ['./my-component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MyComponent implements OnInit {\n  public pieData: { category: string; value: number; active: boolean }[] = [\n    {category: 'Complete', value: 123},\n    {category: 'Work In Progress', value: 22},\n    {category: 'Other', value: 5},\n  ];\n  constructor(private _cdRef: ChangeDetectorRef) {\n  }\n}\n</code></pre>\n\n<p><strong>my-component.html:</strong></p>\n\n<pre><code>&lt;kendo-chart [seriesColors]=\"['orange', '#ffe', 'green']\"&gt;\n  &lt;kendo-chart-legend position=\"top\"&gt;&lt;/kendo-chart-legend&gt;\n  &lt;kendo-chart-series&gt;\n        &lt;kendo-chart-series-item [type]=\"'pie'\" [data]=\"pieData\" [field]=\"'value'\" [categoryField]=\"'category'\"&gt;\n&lt;/kendo-chart-series-item&gt;\n  &lt;/kendo-chart-series&gt;\n&lt;/kendo-chart&gt;\n</code></pre>\n\n<p><strong>my-component.scss</strong>:</p>\n\n<pre><code>:host {\n  display: flex;\n  overflow: hidden;\n  margin: 8px;\n  padding: 8px;\n  flex-direction: column;\n\n  @media only screen and (max-width: 760px),\n  (min-device-width: 768px) and (max-device-width: 1024px) {\n    padding: 2px;\n  }\n}\n</code></pre>\n"}, {"tags": ["list", "typescript", "firebase", "firebase-realtime-database", "angularfire2"], "comments": [{"owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "edited": false, "score": 0, "creation_date": 1542199935, "post_id": 53300518, "comment_id": 93481856, "body": "Firebase will not return it in the sorted order. you need to use some map filters to achieve the desired output."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1542199974, "creation_date": 1542199974, "answer_id": 53300703, "question_id": 53300518, "link": "https://stackoverflow.com/questions/53300518/shorting-list-by-name-angular-5-firebase/53300703#53300703", "title": "Shorting list by name - Angular 5 + Firebase", "body": "<p>Firebase takes full advantage of the observables and async pipes. </p>\n\n<p>You should take advantage of that : </p>\n\n<pre><code>eleList$ = new Subject();\n\ngetElements() {\n  this.this.firebase.list(\"elements\")\n    .pipe(take(1))\n    .subscribe(list =&gt; this.eleList$.next(list));\n}\n\ngetBets() {\n  this.databaseService\n    .getElements()\n    .snapshotChanges()\n    .pipe(\n      map(item =&gt; items.map(element =&gt; ({\n        ...element.payload.toJSON(),\n        '$key': element.key\n      })))\n    )\n    .subscribe(elements =&gt; this.eleList$.next(list));\n}\n</code></pre>\n\n<p>Now for a sorted list : </p>\n\n<pre><code>sortedList$ = this.eleList$.pipe(\n  map(elements =&gt; elements.filter(element =&gt; !!element.name))\n);\n</code></pre>\n"}], "owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542205195, "creation_date": 1542199389, "last_edit_date": 1542205195, "question_id": 53300518, "link": "https://stackoverflow.com/questions/53300518/shorting-list-by-name-angular-5-firebase", "title": "Shorting list by name - Angular 5 + Firebase", "body": "<p>I have created a service where I get all the elements of my database:</p>\n\n<p><strong>Service</strong></p>\n\n<pre><code> getElements() {\n    return (this.eleList= this.firebase.list(\"elements\"));\n  }\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>eleList: Element[];\ngetBets() {\n    return this.databaseService\n      .getElements()\n      .snapshotChanges()\n      .subscribe(item =&gt; {\n        this.eleList= [];\n        item.forEach(element =&gt; {\n          let x = element.payload.toJSON();\n          x[\"$key\"] = element.key;\n          this.eleList.push(x as Element);\n        });\n      });\n  }\n</code></pre>\n\n<p>With these two methods what I do is to store all my elements in <code>this.eleList</code>.</p>\n\n<p>I would like to create a new method, named <code>filterByName(name)</code>, where I would update <code>this.eleList</code> to an array which contains only the ones that contain <code>name</code>in the object, for example, <code>this.eleList[1].name</code></p>\n\n<p>I do not know if Firebase provides a way to short it, or I need to use Javascript/Typescript for it. </p>\n"}, {"tags": ["reactjs", "typescript", "graphql", "aws-appsync", "appsync-apollo-client"], "answers": [{"tags": [], "owner": {"reputation": 6086, "user_id": 2531132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a842165f1df19a0b40a0684baeb2353b?s=128&d=identicon&r=PG", "display_name": "thomasmichaelwallace", "link": "https://stackoverflow.com/users/2531132/thomasmichaelwallace"}, "is_accepted": true, "score": 0, "last_activity_date": 1542201021, "creation_date": 1542201021, "answer_id": 53301023, "question_id": 53300450, "link": "https://stackoverflow.com/questions/53300450/what-does-symbolisoptimistic-false-true-mean-when-sending-a-mutation-requ/53301023#53301023", "title": "What does &#39;Symbol(isOptimistic): false | true&#39; mean when sending a mutation request on AppSync, Graphql, Apollo", "body": "<p><code>isOptimistic</code> is a flag that you can use as part of an Apollo Client (<a href=\"https://www.apollographql.com/docs/react/features/optimistic-ui.html\" rel=\"nofollow noreferrer\">full documentation</a>).</p>\n\n<p>It's a way of making your UI appear more responsive by <em>assuming</em> that your mutation works.</p>\n\n<p>For example, is you called <code>addComment</code>, an optimistic response immediately add the comment in the client application and <em>then</em> waits for the backend to confirm that the mutation was successful. If it wasn't successful then the client can rollback and error accordingly.</p>\n\n<p>This approach is based on the observation that for some patterns (especially when client validation is used) most mutations succeed.</p>\n\n<p><em>n.b. <code>Symbol(isOptimistic): false | true</code> is just the type definition indicating that the value can either be true or false.</em></p>\n"}], "owner": {"reputation": 344, "user_id": 4692302, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bd0Ji.jpg?s=128&g=1", "display_name": "Neill", "link": "https://stackoverflow.com/users/4692302/neill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 53301023, "answer_count": 1, "score": 0, "last_activity_date": 1542201021, "creation_date": 1542199149, "question_id": 53300450, "link": "https://stackoverflow.com/questions/53300450/what-does-symbolisoptimistic-false-true-mean-when-sending-a-mutation-requ", "title": "What does &#39;Symbol(isOptimistic): false | true&#39; mean when sending a mutation request on AppSync, Graphql, Apollo", "body": "<p>I am starting to get into the graphql world using AppSync. I had a working api that stored my data with the following technologies:</p>\n\n<ul>\n<li>React</li>\n<li>Apollo</li>\n<li>Typescript</li>\n</ul>\n\n<p>Unfortunately, i added some other functionality and it stopped to store new data. I am trying to figure out why. I think I can start by understanding what does actually 'Symbol(isOptimistic): false' mean. Thank you in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "date"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1542228679, "post_id": 53300278, "comment_id": 93497794, "body": "What is your definition of &quot;work&quot;? Why not just use Date.UTC and ignore the timezone?"}, {"owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1542257755, "post_id": 53300278, "comment_id": 93505758, "body": "What do you mean? how can I use I need a date object and not a number."}, {"owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1542258156, "post_id": 53300278, "comment_id": 93505850, "body": "I need the actual local date for display issues in UI."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1542262062, "post_id": 53300278, "comment_id": 93507059, "body": "What your code appears to be doing is treating UTC values as local, so you then subtract the timezone offset to get back to the correct time. If you use Date.UTC you avoid that. Provide some example input and output per <a href=\"https://stackoverflow.com/help/mcve\"><i>How to create a minimal, complete and verifiable example</i></a>."}], "answers": [{"tags": [], "owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "is_accepted": true, "score": 1, "last_activity_date": 1542263288, "last_edit_date": 1542263288, "creation_date": 1542262910, "answer_id": 53313555, "question_id": 53300278, "link": "https://stackoverflow.com/questions/53300278/converting-java-calendar-date-to-javascript-date-using-new-date-gettimezoneoff/53313555#53313555", "title": "Converting java calendar date to javascript date using new Date().getTimezoneOffset()", "body": "<p>What you appear to be doing is using UTC values as local, so you then have to use the timezone offset to get back to the correct time. </p>\n\n<p>No, it will not work in all cases as you are getting the timezone offset for when the function is run, not for the date you're parsing. That may differ in places where the timezone offset has changed either through government regulation or legislation, or from daylight saving. E.g. the Line Islands recently changed from -12 to +14.</p>\n\n<p>So assuming the data you get is UTC, you can use Date.UTC to get the correct date and time:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// data for 2018-01-01T12:00:00Z\r\nvar data = {\r\n    dayOfMonth: 1,\r\n    hourOfDay: 12,\r\n    minute: 0,\r\n    month: 0,\r\n    second: 0,\r\n    year: 2018\r\n};\r\n\r\n// Current function, uses current timezone offset regardless of date\r\nfunction toDate(data) {\r\n  return new Date(\r\n    data.year, data.month, data.dayOfMonth, data.hourOfDay,\r\n    data.minute - new Date().getTimezoneOffset(), data.second);\r\n}\r\n\r\n// Better function, pure UTC\r\nfunction toDateNew(data) {\r\n  return new Date(Date.UTC(\r\n    data.year, data.month, data.dayOfMonth, data.hourOfDay,\r\n    data.minute, data.second));\r\n}\r\n\r\nconsole.log('Existing: ' + toDate(data).toISOString() + \r\n          '\\nor      : ' + toDate(data).toString() + \r\n          '\\nNew func: ' + toDateNew(data).toISOString() +\r\n          '\\nor      : ' + toDateNew(data).toString()\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So now the values are parsed as UTC, setting the date's time value to the correct value. When you display the date, local values will be used that will adjust for the timezone offset for the date based on host system settings. You don't have to do anything.</p>\n"}], "owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53313555, "answer_count": 1, "score": 0, "last_activity_date": 1542263288, "creation_date": 1542198549, "question_id": 53300278, "link": "https://stackoverflow.com/questions/53300278/converting-java-calendar-date-to-javascript-date-using-new-date-gettimezoneoff", "title": "Converting java calendar date to javascript date using new Date().getTimezoneOffset()", "body": "<p>I have a calendar data that is send to the server, it contains this fields-</p>\n\n<pre><code>export interface CalendarDate{\n    dayOfMonth: number;\n    hourOfDay: number;\n    minute: number;\n    month: number;\n    second: number;\n    year: number;\n}\n</code></pre>\n\n<p>I want to convert it to javascript Date with reference to the time offset calculation, I read a lot of posts in this matter, is it correct to do it like this? will it work in all cases?</p>\n\n<pre><code> return new Date(modificationDate.year, modificationDate.month, modificationDate.dayOfMonth,\n                modificationDate.hourOfDay, modificationDate.minute -new Date().getTimezoneOffset(), modificationDate.second);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542197705, "post_id": 53299991, "comment_id": 93480538, "body": "<a href=\"https://material.angular.io/components/tooltip/overview#manually-calling-show-and-hide-\" rel=\"nofollow noreferrer\">Documentation</a>, again and again ..."}, {"owner": {"reputation": 49, "user_id": 10651620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l2R3njV5kAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB1cWJs_ukEusmQhTOor0CTLXc8Iw/mo/photo.jpg?sz=128", "display_name": "Cristian Coroian", "link": "https://stackoverflow.com/users/10651620/cristian-coroian"}, "edited": false, "score": 0, "creation_date": 1542198551, "post_id": 53299991, "comment_id": 93481065, "body": "@trichetriche I already checked the documetation. It still doesn&#39;t work..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542198612, "post_id": 53299991, "comment_id": 93481110, "body": "Then please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the issue."}, {"owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 0, "creation_date": 1542199690, "post_id": 53299991, "comment_id": 93481705, "body": "material tool tip by default <a href=\"https://stackblitz.com/angular/baprrvoeynl?file=app%2Ftooltip-overview-example.html\" rel=\"nofollow noreferrer\">disappears the moment you click the button</a>. what do you mean it &quot;stays&quot; ?"}, {"owner": {"reputation": 49, "user_id": 10651620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l2R3njV5kAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB1cWJs_ukEusmQhTOor0CTLXc8Iw/mo/photo.jpg?sz=128", "display_name": "Cristian Coroian", "link": "https://stackoverflow.com/users/10651620/cristian-coroian"}, "reply_to_user": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 0, "creation_date": 1542200597, "post_id": 53299991, "comment_id": 93482232, "body": "@Stavm I mean it&#39;s still visible on the redirected page at the same position as it was on the initial page. I read about the &quot;trigger&quot; field which value is &quot;focus&quot; by default and it has to be &quot;hover&quot; in order for this to work, but I don&#39;t know how can I acces that field without using jQuery."}], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 9408111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EyEIx.png?s=128&g=1", "display_name": "sheucm", "link": "https://stackoverflow.com/users/9408111/sheucm"}, "edited": false, "score": 2, "creation_date": 1558008946, "post_id": 53303121, "comment_id": 98963125, "body": "My solution is like the <a href=\"https://github.com/angular/components/issues/11478#issuecomment-420213238\" rel=\"nofollow noreferrer\">vinothsubramanian&#39;s comment</a>. If one who wouldn&#39;t like to use JQuery to solve it, this is a good solution!"}], "tags": [], "owner": {"reputation": 49, "user_id": 10651620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l2R3njV5kAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB1cWJs_ukEusmQhTOor0CTLXc8Iw/mo/photo.jpg?sz=128", "display_name": "Cristian Coroian", "link": "https://stackoverflow.com/users/10651620/cristian-coroian"}, "is_accepted": true, "score": 3, "last_activity_date": 1542207657, "creation_date": 1542207657, "answer_id": 53303121, "question_id": 53299991, "link": "https://stackoverflow.com/questions/53299991/angular-materials-mattooltip-not-disappearing-after-redirecting-to-another-page/53303121#53303121", "title": "Angular Material&#39;s matTooltip not disappearing after redirecting to another page", "body": "<p>So after some deep searches I found that when you're using RouteReuseStrategy with a tooltip (and that's exactly what I'm using), the tooltip doesn't vanish after navigating to another page. For the moment there isn't a fix for this using Typescript/Angular features but only using jQuery. The below links addresses the exactly same problem and offers a solution: <a href=\"https://github.com/angular/material2/issues/11478#issuecomment-420164916\" rel=\"nofollow noreferrer\">https://github.com/angular/material2/issues/11478#issuecomment-420164916</a></p>\n"}], "owner": {"reputation": 49, "user_id": 10651620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l2R3njV5kAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB1cWJs_ukEusmQhTOor0CTLXc8Iw/mo/photo.jpg?sz=128", "display_name": "Cristian Coroian", "link": "https://stackoverflow.com/users/10651620/cristian-coroian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1650, "favorite_count": 0, "accepted_answer_id": 53303121, "answer_count": 1, "score": 1, "last_activity_date": 1542207657, "creation_date": 1542197607, "last_edit_date": 1542199583, "question_id": 53299991, "link": "https://stackoverflow.com/questions/53299991/angular-materials-mattooltip-not-disappearing-after-redirecting-to-another-page", "title": "Angular Material&#39;s matTooltip not disappearing after redirecting to another page", "body": "<p>As title says, the matTooltip doesn't disappear if, let's say, I press a button which has a tooltip attached and redirects me to another page. The tooltip is displayed and it redirects me to the other page, but the tooltip remains visible in the same position. I know that I need to change the \"trigger\" value from \"focus\" to \"hover\", but the solutions I found are all using jQuery. Is there a way I can do this in TypeScript/Angular?</p>\n\n<p>Edit: </p>\n\n<p>This is how my button looks like: </p>\n\n<pre><code>  &lt;button type=\"button\"\n          #tooltip=\"matTooltip\"\n          class=\"close pull-right cogs-properties\"\n          matTooltip=\"Edit button\"\n          (mouseenter)=\"tooltip.hide()\"\n          (click)=\"onEditPage(page)\"\n          aria-label=\"Edit\"&gt;\n    &lt;span class=\"fa fa-cog\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n  &lt;/button&gt;\n</code></pre>\n\n<p>This is the editPage function:</p>\n\n<pre><code>  onEditPage(page) {\n    this.selectedPageForEditing = page;\n    this.editPageService.sendPage({\n      pageName: page[\"name\"],\n      templateId: page[\"value\"][\"templateId\"]\n    });\n    this.router.navigate([\".../page\"]);\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 847, "user_id": 3837427, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XOJ6a.jpg?s=128&g=1", "display_name": "rssfrncs", "link": "https://stackoverflow.com/users/3837427/rssfrncs"}, "edited": false, "score": 0, "creation_date": 1542280284, "post_id": 53299865, "comment_id": 93516227, "body": "This is great! Thanks for the pointer about partial type inference and the issue to keep track of."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1542197439, "last_edit_date": 1542197439, "creation_date": 1542197126, "answer_id": 53299865, "question_id": 53299743, "link": "https://stackoverflow.com/questions/53299743/generic-function-and-index-types/53299865#53299865", "title": "Generic function and index types", "body": "<p>You need to create a relation between the two parameters, after all you could potentially be passing in multiple keys, and multiple values, why would the compiler asume that <code>value</code> should have the type of the key specified in the <code>property</code> parameter.</p>\n\n<p>To create the relation you will need an extra type parameter to represent the property as a literal type </p>\n\n<pre><code>function filter&lt;T, K extends keyof T&gt;(property: K, value: T[K]) {\n   return `${property} ${value}`\n}\n\nfilter&lt;Person, \"name\"&gt;(\"name\", 123); // error\nfilter&lt;Person, \"age\"&gt;(\"age\", 123); // ok\n</code></pre>\n\n<p>The problem with the above implementation is that you have to specify the additional type parameter since typescript does not support partial type inference. (Hopefuly it will soon be possible as this <a href=\"https://github.com/Microsoft/TypeScript/pull/26349\" rel=\"nofollow noreferrer\">issue</a> proposes, it's slated for January 2018 but is has been pushed back several times)</p>\n\n<p>To fix this inconvenience we can create a function that returns a function and fix the <code>T</code> parameter in the first call and let <code>K</code> be inferred in the second call </p>\n\n<pre><code>function filter&lt;T&gt;() {\n  return function &lt;K extends keyof T&gt;(property: K, value: T[K]) {\n    return `${property} ${value}`\n  }\n\n}\nfilter&lt;Person&gt;()(\"name\", 123); // error\nfilter&lt;Person&gt;()(\"age\", 123); // ok\n</code></pre>\n\n<p>Or depending on what you plan to do with <code>filter</code> you can leave the function with two type parameters and use the return type as the source for the inference of <code>T</code>:</p>\n\n<pre><code>function filter&lt;T, K extends keyof T&gt;(property: K, value: T[K]) {\n  return `${property} ${value}` as IFiler&lt;T&gt;\n}\n\ntype IFiler&lt;T&gt; = string &amp; { _isFilterFor: T } \nclass Query&lt;T&gt; {\n  addFilter(f: IFiler&lt;T&gt;) {\n\n  }\n}\n\nvar q = new Query&lt;Person&gt;();\n// T will be inferred to Person in filter because we assign in to a parameter expecting IFilter&lt;Person&gt;\nq.addFilter(filter('age', \"\")) //error \nq.addFilter(filter('age', 12)) //ok \n// Same as above but assigning to a variable:\nvar f: IFiler&lt;Person&gt; = filter('age', 12);\nvar f2: IFiler&lt;Person&gt; = filter('age', \"12\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 847, "user_id": 3837427, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XOJ6a.jpg?s=128&g=1", "display_name": "rssfrncs", "link": "https://stackoverflow.com/users/3837427/rssfrncs"}, "edited": false, "score": 0, "creation_date": 1542280255, "post_id": 53304291, "comment_id": 93516203, "body": "Appreciate the alternative solution"}], "tags": [], "owner": {"reputation": 1231, "user_id": 6051261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oawEM.jpg?s=128&g=1", "display_name": "Daniel P&#233;rez", "link": "https://stackoverflow.com/users/6051261/daniel-p%c3%a9rez"}, "is_accepted": false, "score": 1, "last_activity_date": 1542211393, "creation_date": 1542211393, "answer_id": 53304291, "question_id": 53299743, "link": "https://stackoverflow.com/questions/53299743/generic-function-and-index-types/53304291#53304291", "title": "Generic function and index types", "body": "<p>This way you don't have to change your code</p>\n\n<pre><code>type Fn&lt;T&gt; = &lt;K extends keyof T&gt;(prop: K, value: T[K]) =&gt;  string;\n\nfunction filter(property: string, value: any) {\n  return `${property} ${value}`;\n}\n\ntype Person = {\n  name: string;\n  age: number;\n};\n\nconst result = (filter as Fn&lt;Person&gt;)(\"name\", 123);\n</code></pre>\n"}], "owner": {"reputation": 847, "user_id": 3837427, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XOJ6a.jpg?s=128&g=1", "display_name": "rssfrncs", "link": "https://stackoverflow.com/users/3837427/rssfrncs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 53299865, "answer_count": 2, "score": 2, "last_activity_date": 1542211393, "creation_date": 1542196734, "question_id": 53299743, "link": "https://stackoverflow.com/questions/53299743/generic-function-and-index-types", "title": "Generic function and index types", "body": "<p>I'm looking to implement a generic function which accepts a single type argument \"T\" which is an object. It uses <code>keyof T</code> to specify the first argument to the function \"property\". Now the part I can't get working, I want to use the type of <code>T[typeof property]</code> to specify the type of the second argument to the function \"value\".</p>\n\n<p>This gets me close to the ideal usage,</p>\n\n<pre><code>type Person = {\n  name: string;\n  age: number;\n};\n\nfunction filter&lt;T&gt;(property: keyof T, value: T[typeof property]) {\n\n return `${property} ${value}`\n\n}\n\nfilter&lt;Person&gt;(\"name\", 123);\n</code></pre>\n\n<p>With the above we get type checking for the \"property\" argument, correctly restricting it to only \"name\" or \"age\". Unfortunately for the value argument it accepts either a number or string, so it seems to be creating a union of all the keyof types of Person.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "date", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "edited": false, "score": 0, "creation_date": 1542196577, "post_id": 53299662, "comment_id": 93479930, "body": "I have to call getTimeDiff in *ngFor. Let me update my question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1542199469, "post_id": 53299662, "comment_id": 93481588, "body": "With this, the error will not disappear, as the process is the same : the <code>dateNow</code> will get updated at every millisecond, resulting in the same error encountered by OP."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1542196622, "last_edit_date": 1542196622, "creation_date": 1542196459, "answer_id": 53299662, "question_id": 53299597, "link": "https://stackoverflow.com/questions/53299597/how-to-get-difference-in-given-time-and-current-time-in-typescript-is/53299662#53299662", "title": "How to get difference in given time and current time in typescript is", "body": "<p><code>Angular</code> runs change detection and when its find that some values which has been passed to the child component has been changed Angular throws the error <code>ExpressionChangedAfterItHasBeenCheckedError</code>.</p>\n\n<p>Better to create one variable to hold the information rather than calling the same function on each change detection </p>\n\n<pre><code>different = false;  //&lt;-- hold the difference state.\n\ngetTimeDiff(time, date)\n{\n\n     const dateNow = new Date()\n     const slotDate = new Date(`${date} ${time}`);  // say time = '10:30:00' and date = '2018-11-14' \n\n     const diff = Math.abs(Math.abs(dateNow.getTime() - slotDate.getTime()) /  3600000)\n\n    //if diff is not negative\n   if(diff) {\n     this.different = false  //&lt;-- change to false.\n  } \n    else {\n     this.different  = true  //&lt;-- change to true.\n   }\n }\n</code></pre>\n\n<h2>html</h2>\n\n<pre><code>&lt;span *ngIf=\"different\"&gt; open &lt;/span&gt;\n</code></pre>\n\n<blockquote>\n  <p>Note : Do not forget to call getTimeDiff function in appropriate place like ngOnInit if you want to get one time .</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "edited": false, "score": 0, "creation_date": 1542197406, "post_id": 53299691, "comment_id": 93480391, "body": "Thanks trichetriche. I was very confused due to multiple log. Now I have shifted private now = new Date() to scope of component but still get console several times. Though error is gone."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "edited": false, "score": 1, "creation_date": 1542197504, "post_id": 53299691, "comment_id": 93480450, "body": "The console log will always appear, I have given you the way to avoid the lifecycle error, not to change the Angular lifecycle itself :) And your syntax (component member) and mine (constructor parameter with access modifier) are the same, it&#39;s just that mine is a shortcut, so use the one you prefer, it won&#39;t change much !"}, {"owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "edited": false, "score": 0, "creation_date": 1542204980, "post_id": 53299691, "comment_id": 93485156, "body": "trichetriche Can I do something so that getTimeDiff function does not keep on executing. As I have to add some more logic to it , like setting up some flag true and as it keeps on executing again and again that flags again set to true even if I have later set it to false. This does not happen with other functions which does not involve time. Thanks."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "edited": false, "score": 0, "creation_date": 1542206027, "post_id": 53299691, "comment_id": 93485833, "body": "@Simer Sure, I have edited my answer, feel free to try it out"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1542206004, "last_edit_date": 1542206004, "creation_date": 1542196555, "answer_id": 53299691, "question_id": 53299597, "link": "https://stackoverflow.com/questions/53299597/how-to-get-difference-in-given-time-and-current-time-in-typescript-is/53299691#53299691", "title": "How to get difference in given time and current time in typescript is", "body": "<p>That's a lifecycle error, saying Angular has already checked a value, but you're updating it for some reason. </p>\n\n<p>If you put a console log in your function, you will see that it's called <strong>A LOT</strong> of time. </p>\n\n<p>That's because functions, bound to directives, are called at every user interaction.</p>\n\n<p>That means that everytime it's called, it gets a new date value (+1 ms)</p>\n\n<p>To avoid that, create your date at component creation and compare on it. If you wish, you can update it some time, but not in the function itself. </p>\n\n<pre><code>constructor(private now = new Date()) {}\n\ngetTimeDiff(time, date)\n{\n     const slotDate = new Date(`${date} ${time}`);  // say time = '10:30:00' and date = '2018-11-14' \n\n     const diff = Math.abs(Math.abs(this.now.getTime() - slotDate.getTime()) /  3600000)\n\n    //if diff is not negative\n   if(diff) {\n     return false\n  } \n    else {\n     return true\n   }\n }\n</code></pre>\n\n<h3>EDIT</h3>\n\n<p>To avoid your function being called, you could use a variable that is update on change : </p>\n\n<pre><code>this.timeDiff: boolean;\n\nngDoCheck() {\n  this.timeDiff(this.result.endtime, this.result.date);\n}\n\ngetTimeDiff(time, date)\n{\n     const slotDate = new Date(`${date} ${time}`);  // say time = '10:30:00' and date = '2018-11-14' \n\n     const diff = Math.abs(Math.abs(this.now.getTime() - slotDate.getTime()) /  3600000)\n\n    //if diff is not negative\n   if(diff) {\n     this.timeDiff = false;\n  } \n    else {\n     this.timeDiff =  true;\n   }\n }\n</code></pre>\n\n<p>In your HTML </p>\n\n<pre><code>&lt;span *ngIf=\"timeDiff\"&gt; open &lt;/span&gt;\n</code></pre>\n\n<p><code>ngDoCheck</code> is a lifecycle hook (like <code>ngOnInit</code>) that can be summed up by </p>\n\n<blockquote>\n  <p>Function that detect changes that are not tracked by Angular</p>\n</blockquote>\n"}], "owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 0, "accepted_answer_id": 53299691, "answer_count": 2, "score": 0, "last_activity_date": 1542206004, "creation_date": 1542196239, "last_edit_date": 1542196844, "question_id": 53299597, "link": "https://stackoverflow.com/questions/53299597/how-to-get-difference-in-given-time-and-current-time-in-typescript-is", "title": "How to get difference in given time and current time in typescript is", "body": "<p>I am using angular 7 and want to display elements in component html if following condition is satisfied: given time is ahead of current time.</p>\n\n<p>I tried below logic</p>\n\n<pre><code> getTimeDiff(time, date)\n    {\n\n         const dateNow = new Date()\n         const slotDate = new Date(`${date} ${time}`);  // say time = '10:30:00' and date = '2018-11-14' \n\n         const diff = Math.abs(Math.abs(dateNow.getTime() - slotDate.getTime()) /  3600000)\n\n        //if diff is not negative\n       if(diff) {\n         return false\n      } \n        else {\n         return true\n       }\n     }\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;span *ngIf=\"getTimeDiff(result.endtime, result.date)\"&gt; open &lt;/span&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Elements are displayed  using *ngFor so I cannot call getTimeDiff in ngOnInit().</p>\n\n<pre><code>&lt;div *ngFor=\"let result of results\"&gt;\n    &lt;span *ngIf=\"getTimeDiff(result.endtime, result.date)\"&gt; open &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>but for some reason I get:</p>\n\n<blockquote>\n  <p>ViewAppointmentsComponent.html:30 ERROR Error:\n  ExpressionChangedAfterItHasBeenCheckedError: Expression has changed\n  after it was checked. Previous value: 'null: 6.0732225'. Current\n  value: 'null: 6.0732252777777775'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 2038, "user_id": 2240780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3sn5N.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/2240780/julien"}, "edited": false, "score": 0, "creation_date": 1542196668, "post_id": 53299454, "comment_id": 93479987, "body": "I think _loadedConfig may not be initialized at the moment you try to use it. The question is : when is it initialized ?"}, {"owner": {"reputation": 21, "user_id": 10651673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KaaU2eC8mG4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCc1GdqxuO5vdWOzgBLZ-8ydgXEXg/mo/photo.jpg?sz=128", "display_name": "Der Eine", "link": "https://stackoverflow.com/users/10651673/der-eine"}, "reply_to_user": {"reputation": 2038, "user_id": 2240780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3sn5N.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/2240780/julien"}, "edited": false, "score": 0, "creation_date": 1543304172, "post_id": 53299454, "comment_id": 93859014, "body": "hello thanks that&#39;s the problem."}, {"owner": {"reputation": 1658, "user_id": 6501190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vapSh.jpg?s=128&g=1", "display_name": "java-addict301", "link": "https://stackoverflow.com/users/6501190/java-addict301"}, "edited": false, "score": 0, "creation_date": 1555420523, "post_id": 53299454, "comment_id": 98098850, "body": "can anyone say what the solution is?"}], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 1622564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7d954b9ef90d6f51be654de92b6293f?s=128&d=identicon&r=PG", "display_name": "Florian", "link": "https://stackoverflow.com/users/1622564/florian"}, "is_accepted": false, "score": 1, "last_activity_date": 1572537320, "creation_date": 1572537320, "answer_id": 58647083, "question_id": 53299454, "link": "https://stackoverflow.com/questions/53299454/angular-access-route-loadedconfig-in-routeconfigloadend-handler/58647083#58647083", "title": "angular access route._loadedConfig in RouteConfigLoadEnd-Handler", "body": "<p>Assuming you want access to the <strong>routes</strong> object of the <strong>_loadedConfig</strong> ( as the module-object is mostly internal angular-stuff you shouldn't really mess around ) i would advice not to access this directly as it's not a part of a public api and so might change or being otherwise unrelaiable.</p>\n\n<p>To access the child-roots of a lazy-loaded module on load-time, you could do something like the following:</p>\n\n<p>Create a root-injected service</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class LazyLoadedChildRouteService {\n    public updateLazyLoadedRoutes( childRoutes: Routes ){ ... }\n    // CONSTRUCTOR\n    constructor( ... ){ ... }\n}\n</code></pre>\n\n<p>In the Module-File:</p>\n\n<pre><code>export const lazyLoadedRoutes: Routes = [\n    {\n      path: 'lazyRoute',\n      component: LazyLoadedComponent\n    },\n]\n\n@NgModule({\n  ...\n  imports: [\n    RouterModule.forChild( lazyLoadedRoutes ),\n  ],\n  ...\n})\nexport class LazyLoadedModule {\n  /** CONSTRUCTOR */\n  constructor(\n    public $translateUrlService: FgTranslateRouterService\n  ) {\n    this.$translateUrlService.addChildModuleRoutes( lazyLoadedRoutes );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10651673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KaaU2eC8mG4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCc1GdqxuO5vdWOzgBLZ-8ydgXEXg/mo/photo.jpg?sz=128", "display_name": "Der Eine", "link": "https://stackoverflow.com/users/10651673/der-eine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577453622, "creation_date": 1542195803, "last_edit_date": 1577453622, "question_id": 53299454, "link": "https://stackoverflow.com/questions/53299454/angular-access-route-loadedconfig-in-routeconfigloadend-handler", "title": "angular access route._loadedConfig in RouteConfigLoadEnd-Handler", "body": "<p>How can I access the <code>route._loadedConfig</code> member ? It is always undefined.</p>\n\n<pre><code>const a = (route as any)._loadedConfig;\nconst a =  (&lt;any&gt;route )._loadedConfig;\nconst a =  (&lt;any&gt;route )['_loadedConfig'];\n</code></pre>\n\n<p>None of these work.</p>\n\n<p>VS-Code shows the value in debug-window:</p>\n\n<p><img src=\"https://i.stack.imgur.com/NOjMJ.png\" alt=\"debug window\"></p>\n"}, {"tags": ["angular", "typescript", "onesignal"], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1542198886, "creation_date": 1542198886, "answer_id": 53300386, "question_id": 53299109, "link": "https://stackoverflow.com/questions/53299109/onesignal-hide-bell-button-on-some-pagesroutes/53300386#53300386", "title": "OneSignal: hide bell button on some pages(routes)", "body": "<p>Better to subscribe to the current URL and toggle your bell icon on the basis of that. for example</p>\n\n<p>Somewhere in your global service, you have code: </p>\n\n<pre><code>this.router.events.subscribe((ev) =&gt; {\n  if (this.router.url.includes('someURL')) {\n    this.isBellIconShown = false;\n  } else {\n    this.isBellIconShown = true;\n  }\n}\n</code></pre>\n\n<p>and then you can use <code>isBellIconShown</code> as toggle</p>\n"}], "owner": {"reputation": 21, "user_id": 10128542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c63741bbe4412df51538bfe3933db42?s=128&d=identicon&r=PG&f=1", "display_name": "Undernerd", "link": "https://stackoverflow.com/users/10128542/undernerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542198886, "creation_date": 1542194715, "question_id": 53299109, "link": "https://stackoverflow.com/questions/53299109/onesignal-hide-bell-button-on-some-pagesroutes", "title": "OneSignal: hide bell button on some pages(routes)", "body": "<p>I have an SPA(angular v.5) application. I'm importing oneSignal by CDN. I have to hide the bell icon from one signal in some routes(pages). I tried something like this:</p>\n\n<pre><code>...\nconst oneSignal = window.OneSignal\ntry{\noneSignal.init({\n/* My config */\n}).then(() =&gt; {\n  this.displayButton$.subscribe(value =&gt; {\n    if (value) {\n      oneSignal.notifyButton.launcher.show();\n    } else {\n      oneSignal.notifyButton.launcher.hide();\n    }\n  });\n})\n} catch(err) {\n... \n</code></pre>\n\n<p>This solution works perfectly for all browser except Safari(v. 12 MacOS). It happens because on safari <code>oneSignal.notifyButton</code> is equal to null. I didn't find those <code>show</code> and <code>hide</code> methods in docs. I found them in oneSignal code. I thought it could be because some polyfill is missed but I stuck with this idea. </p>\n\n<p>If anyone can help me with that or provide some other solution to hide this bell on some pages. I will be grateful.     </p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings", "react-tsx"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542209136, "post_id": 53298949, "comment_id": 93487858, "body": "I&#39;ll call this a bug in the <code>react-dom</code> type declarations.  I&#39;m working on a fix."}], "answers": [{"comments": [{"owner": {"reputation": 1877, "user_id": 1095379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3e4557ab1cd0bc5040e1d401cc7cae3?s=128&d=identicon&r=PG", "display_name": "jeremija", "link": "https://stackoverflow.com/users/1095379/jeremija"}, "edited": false, "score": 0, "creation_date": 1542298838, "post_id": 53311643, "comment_id": 93527935, "body": "Appreciate your reply and good to know there will be a fix soon! Thanks!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1542858883, "last_edit_date": 1542858883, "creation_date": 1542249594, "answer_id": 53311643, "question_id": 53298949, "link": "https://stackoverflow.com/questions/53298949/testutils-findrenderedcomponentwithtype-fails-to-compile-when-componentprops-d/53311643#53311643", "title": "TestUtils findRenderedComponentWithType fails to compile when Component&lt;Props&gt; defined", "body": "<p>The <code>react-dom</code> type declarations were not designed to work when the <code>strictFunctionTypes</code> option is enabled.  I have a <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/30748\" rel=\"nofollow noreferrer\">change</a> to fix the problem you saw and a few others related to <code>strictFunctionTypes</code>.  See <a href=\"https://stackoverflow.com/a/52503107\">this answer</a> for the possible ways you can use my modified declarations until they get merged into DefinitelyTyped.</p>\n"}], "owner": {"reputation": 1877, "user_id": 1095379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3e4557ab1cd0bc5040e1d401cc7cae3?s=128&d=identicon&r=PG", "display_name": "jeremija", "link": "https://stackoverflow.com/users/1095379/jeremija"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 53311643, "answer_count": 1, "score": 0, "last_activity_date": 1542858883, "creation_date": 1542194171, "question_id": 53298949, "link": "https://stackoverflow.com/questions/53298949/testutils-findrenderedcomponentwithtype-fails-to-compile-when-componentprops-d", "title": "TestUtils findRenderedComponentWithType fails to compile when Component&lt;Props&gt; defined", "body": "<p>File <code>package.json</code>:</p>\n\n<pre><code>{\n  \"scripts\": {\n    \"test\": \"tsc --project . --noEmit\"\n  },\n  \"dependencies\": {\n    \"@types/react\": \"^16.7.6\",\n    \"@types/react-dom\": \"^16.0.9\",\n    \"react\": \"^16.6.3\",\n    \"react-dom\": \"^16.6.3\",\n    \"typescript\": \"^3.1.6\"\n  }\n}\n</code></pre>\n\n<p>File <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\"es2015\", \"dom\"],\n    \"target\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"jsx\": \"react\",\n    \"strict\": true\n  }\n}\n</code></pre>\n\n<p>File <code>test.tsx</code>:</p>\n\n<pre><code>import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport * as TestUtils from 'react-dom/test-utils'\n\ninterface Props {\n  a: number\n}\n\nclass Component extends React.Component&lt;Props&gt; {\n  render () {\n    return 'test'\n  }\n}\n\nconst div = TestUtils.renderIntoDocument(\n  &lt;div&gt;\n    &lt;Component a={1} /&gt;\n  &lt;/div&gt;\n) as React.Component\n\nconst component = TestUtils.findRenderedComponentWithType(div, Component)\n</code></pre>\n\n<p>Running <code>tsc --project . --noEmit</code> results with the following error:</p>\n\n<pre><code>src/test.tsx:22:64 - error TS2345: Argument of type 'typeof Component' is not assignable to parameter of type 'ClassType&lt;any, Component, ComponentClass&lt;{}, any&gt;&gt;'.\n  Type 'typeof Component' is not assignable to type 'ComponentClass&lt;{}, any&gt;'.\n    Types of parameters 'props' and 'props' are incompatible.\n      Type '{}' is not assignable to type 'Readonly&lt;Props&gt;'.\n        Property 'a' is missing in type '{}'.\n\n21 const component = TestUtils.findRenderedComponentWithType(div, Component)\n                                                                  ~~~~~~~~~\n</code></pre>\n\n<p>Is this a bug? If I disable the <code>--strict</code> option, or omit the <code>&lt;Props&gt;</code> in <code>Component&lt;Props&gt;</code>, it compiles successfully.</p>\n"}, {"tags": ["typescript", "sharepoint", "sharepoint-online", "sharepointframework"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 3531729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/v1LTd.jpg?s=128&g=1", "display_name": "Norhan ElKholy", "link": "https://stackoverflow.com/users/3531729/norhan-elkholy"}, "edited": false, "score": 0, "creation_date": 1542530738, "post_id": 53316365, "comment_id": 93595250, "body": "So, if I have my files inside the SharePoint Style Library, what should I do?"}, {"owner": {"reputation": 1138, "user_id": 3921329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00aa1ec225cc6924c5b83c22fa3c2364?s=128&d=identicon&r=PG", "display_name": "Szab", "link": "https://stackoverflow.com/users/3921329/szab"}, "reply_to_user": {"reputation": 29, "user_id": 3531729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/v1LTd.jpg?s=128&g=1", "display_name": "Norhan ElKholy", "link": "https://stackoverflow.com/users/3531729/norhan-elkholy"}, "edited": false, "score": 1, "creation_date": 1542535811, "post_id": 53316365, "comment_id": 93596281, "body": "Probably just provide the folder&#39;s address to the <code>cdnBasePath</code> property"}], "tags": [], "owner": {"reputation": 1138, "user_id": 3921329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00aa1ec225cc6924c5b83c22fa3c2364?s=128&d=identicon&r=PG", "display_name": "Szab", "link": "https://stackoverflow.com/users/3921329/szab"}, "is_accepted": false, "score": 1, "last_activity_date": 1542274614, "creation_date": 1542274614, "answer_id": 53316365, "question_id": 53298844, "link": "https://stackoverflow.com/questions/53298844/can-we-deploy-sharepoint-framework-assets-anywhere-other-than-sharepoint-cdn-and/53316365#53316365", "title": "Can we deploy SharePoint framework assets anywhere other than SharePoint CDN and Azure CDN?", "body": "<p>SPFx assets basically can be hosted in any file storage - it can be a centralised SharePoint site, O365 CDN, external CDN service like Azure CDN, Cloudflare CDN, Amazon S3 but also it can be a custom file server hosted anywhere basically (any hosting provider, on premise infrastructure etc). There's basically no limitation to where you can host your SPFx assets. You just have to ensure that your <code>cdnBasePath</code> is properly set and that all the files were copied to the correct destination.</p>\n\n<p>Source: <a href=\"https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/get-started/deploy-web-part-to-cdn#deploy-to-other-cdns\" rel=\"nofollow noreferrer\">Deploy your SharePoint client-side web part to Azure CDN</a></p>\n"}], "owner": {"reputation": 29, "user_id": 3531729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/v1LTd.jpg?s=128&g=1", "display_name": "Norhan ElKholy", "link": "https://stackoverflow.com/users/3531729/norhan-elkholy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542274614, "creation_date": 1542193833, "question_id": 53298844, "link": "https://stackoverflow.com/questions/53298844/can-we-deploy-sharepoint-framework-assets-anywhere-other-than-sharepoint-cdn-and", "title": "Can we deploy SharePoint framework assets anywhere other than SharePoint CDN and Azure CDN?", "body": "<p>Can we deploy SPFx assets anywhere other than SharePoint CDN and Azure CDN?</p>\n"}, {"tags": ["angular", "typescript", "redux"], "comments": [{"owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 1, "creation_date": 1542195098, "post_id": 53298830, "comment_id": 93479079, "body": "why is <code>this._store.select(&#39;reduxObj&#39;)</code> in constructor, it should be in init method"}, {"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1542195335, "post_id": 53298830, "comment_id": 93479211, "body": "You would need to expand on your question really. Unless you&#39;re using effects that call actions, you have full control over when you dispatch an action so not sure what you mean by &#39;actions call twice&#39;. Also your example is strange. You should really use created selectors in you store.select. Then doing a switch on type is illogical. You might want to read up a bit more on how to implement NGRX I think."}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1542195433, "post_id": 53298830, "comment_id": 93479262, "body": "putting the redux into the ngonInit() actions are called  thrice instead twice.  I really can&#39;t understand the behaviur"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1542195733, "post_id": 53298830, "comment_id": 93479413, "body": "skip the code if you don&#39;t get it , but please consider that works fine, but the question was  : What mistakes can generate this behavior ?"}], "answers": [{"tags": [], "owner": {"reputation": 2987, "user_id": 2936424, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/VXaTA.jpg?s=128&g=1", "display_name": "magos", "link": "https://stackoverflow.com/users/2936424/magos"}, "is_accepted": false, "score": 2, "last_activity_date": 1542195236, "creation_date": 1542195236, "answer_id": 53299271, "question_id": 53298830, "link": "https://stackoverflow.com/questions/53298830/redux-angular-how-prevent-actions-called-twice/53299271#53299271", "title": "Redux - Angular: How prevent actions called twice?", "body": "<p>First of all you don't need to <code>.bind(this)</code> to observer function. Secondly, you are able to take advantage from ES6 arrow functions instead of regular javascript functions as a callback (<code>() =&gt; {}</code>).</p>\n\n<p>When it comes to your question - the best option to take only one value from Observable is adding <code>take()</code> stage to the RxJS pipe, like that:</p>\n\n<pre><code>         this.subscription = this._store.select('reduxObj')\n           .pipe(take(1))\n           .subscribe((item) =&gt; {\n              switch (item.type) {    \n                case fromAction.GETITEMS:{                                                                                                        \n                  //...                                    \n                  break;\n                }\n              }\n        }); \n</code></pre>\n\n<p>To use it you have to import take from 'rxjs/operators' assuming you're using RxJS 5.5 library or above.</p>\n\n<pre><code>import { take } from 'rxjs/operators';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1542197988, "post_id": 53299610, "comment_id": 93480705, "body": "it makes sence, who can generate an undefined value ? I updated my code above thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1542198222, "post_id": 53299610, "comment_id": 93480855, "body": "mine is <code>undefined</code>, yours is <code>state: any = []</code>, so you will have two values emitted, the first being <code>[]</code> and the second being <code>new fromAction.GetListAction()</code>."}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1542198664, "post_id": 53299610, "comment_id": 93481134, "body": "I tried and I uploaded the code above but i have the same behavior."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1542198837, "post_id": 53299610, "comment_id": 93481240, "body": "Of course, that&#39;s exactly the same behavior. I have updated my question, try this out and tell me what you choose !"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 4, "last_activity_date": 1542198823, "last_edit_date": 1592644375, "creation_date": 1542196285, "answer_id": 53299610, "question_id": 53298830, "link": "https://stackoverflow.com/questions/53298830/redux-angular-how-prevent-actions-called-twice/53299610#53299610", "title": "Redux - Angular: How prevent actions called twice?", "body": "<p>People seem to focus on trivial things.</p>\n<p>So I'll straight answer your question :</p>\n<p>a <code>select</code> on a store listens to <code>dispatch</code> events in its most simple implementation.</p>\n<p>You call <code>dispatch</code> twice, your subscription gets called twice.</p>\n<p>Now this can change with effects and so on, but I'll assume you don't have any.</p>\n<p>If it gets called twice, it's because your store is instantiated with a default value. In your reducers signature is</p>\n<pre><code>(state: MyState, action: MyAction implements Action) =&gt; any\n</code></pre>\n<p>And generally, you put it like this</p>\n<pre><code>myReducer(state: MyState = undefined, action: MyAction implements Action) { ... }\n</code></pre>\n<p>This means that you have your first value being <code>undefined</code>, and if you call dispatch, your second value is defined.</p>\n<p>That's where the two calls come from.</p>\n<p>And as a side note, you can leave it in the constructor, that won't change a damn thing.</p>\n<h3>EDIT</h3>\n<p>To ignore the first value, you can use <code>filter</code> or <code>skip</code> (not all at once, choose one depending on what you want) :</p>\n<pre><code>this.subscription = this._store.select('reduxObj').pipe(\n  // For an array, will ignore all empty arrays\n  filter(value =&gt; value.length),\n  // For undefined, will ignore all falsy values\n  filter(value =&gt; !!value),\n  // Ignore first value only\n  skip(1),\n)\n</code></pre>\n"}], "owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2962, "favorite_count": 0, "accepted_answer_id": 53299610, "answer_count": 2, "score": 0, "last_activity_date": 1563474245, "creation_date": 1542193791, "last_edit_date": 1563474245, "question_id": 53298830, "link": "https://stackoverflow.com/questions/53298830/redux-angular-how-prevent-actions-called-twice", "title": "Redux - Angular: How prevent actions called twice?", "body": "<p>Redux It's a very cool library, I really like it, but how can I prevent that actions call twice? What mistakes can generate this behavior ?\nConsider that I've already unsubscribe the subscription into the controller</p>\n\n<pre><code>constructor(private _store: Store&lt;AppState&gt;) {\n    this.subscription = this._store.select('reduxObj').subscribe(function (item) {\n      switch (item.type) {\n        case fromAction.GETITEMS: {\n          break;\n        }\n      }\n    }.bind(this));\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n\n  ngOnInit() {\n    this._store.dispatch(new fromAction.GetListAction());\n  }\n\n\n\n    //REDUCER\n    export function ReduxReducer(state: any = undefined, action: fromAction.actions) {\n\n  switch (action.type) {\n    case fromAction.GETITEMS: {\n      return { ...state, type: fromAction.GETITEMS }\n    }\n  }\n\n\n  //ACTION\n  export class GetListAction implements Action {\n    readonly type = GETITEMS;\n    constructor() { }\n  }\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "npm", "eslint", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 6210422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b03dbd166b0310888bf22c107c9c713?s=128&d=identicon&r=PG&f=1", "display_name": "FAYA", "link": "https://stackoverflow.com/users/6210422/faya"}, "edited": false, "score": 0, "creation_date": 1542196657, "post_id": 53299251, "comment_id": 93479977, "body": "Ok, thanks I was using this reference:  <a href=\"https://palantir.github.io/tslint/rules/no-console/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/no-console</a>"}, {"owner": {"reputation": 266, "user_id": 7128051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8ydSaYvFf3U/AAAAAAAAAAI/AAAAAAAAJL8/0wjRtfhyuNQ/photo.jpg?sz=128", "display_name": "Tim Lundqvist", "link": "https://stackoverflow.com/users/7128051/tim-lundqvist"}, "reply_to_user": {"reputation": 97, "user_id": 6210422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b03dbd166b0310888bf22c107c9c713?s=128&d=identicon&r=PG&f=1", "display_name": "FAYA", "link": "https://stackoverflow.com/users/6210422/faya"}, "edited": false, "score": 1, "creation_date": 1542198394, "post_id": 53299251, "comment_id": 93480958, "body": "Ah, I see how that could easily be misunderstood. As I&#39;m sure you know now the &quot;error&quot; string is referring to the function <code>console.error()</code>."}, {"owner": {"reputation": 97, "user_id": 6210422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b03dbd166b0310888bf22c107c9c713?s=128&d=identicon&r=PG&f=1", "display_name": "FAYA", "link": "https://stackoverflow.com/users/6210422/faya"}, "edited": false, "score": 0, "creation_date": 1542210120, "post_id": 53299251, "comment_id": 93488475, "body": "Sure, now I it is refering to the console methods not to the console itself. Btw do you know any way to make the output prettier, like coloring or changing the warning for npm warn!  <code>WARNING: src&#47;server.ts[3, 1]: Calls to &#39;console.log&#39; are not allowed.</code>"}, {"owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "reply_to_user": {"reputation": 97, "user_id": 6210422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b03dbd166b0310888bf22c107c9c713?s=128&d=identicon&r=PG&f=1", "display_name": "FAYA", "link": "https://stackoverflow.com/users/6210422/faya"}, "edited": false, "score": 1, "creation_date": 1542441702, "post_id": 53299251, "comment_id": 93576770, "body": "@FAYA you can use the <code>-t stylish</code> option to get the prettier colors. <a href=\"https://palantir.github.io/tslint/usage/cli/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/usage/cli</a>"}], "tags": [], "owner": {"reputation": 266, "user_id": 7128051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8ydSaYvFf3U/AAAAAAAAAAI/AAAAAAAAJL8/0wjRtfhyuNQ/photo.jpg?sz=128", "display_name": "Tim Lundqvist", "link": "https://stackoverflow.com/users/7128051/tim-lundqvist"}, "is_accepted": true, "score": 1, "last_activity_date": 1542195190, "creation_date": 1542195190, "answer_id": 53299251, "question_id": 53298737, "link": "https://stackoverflow.com/questions/53298737/how-to-use-npm-warnings-in-tslint/53299251#53299251", "title": "How to use npm warnings in tslint?", "body": "<p>To change the severity of the rule an object must be used as the rule setting.</p>\n\n<pre><code>{\n  // ...\n  \"rules\": {\n    \"no-console\": {\n      \"options\": [true, \"log\"],\n      \"severity\": \"warning\"\n    }\n  }\n}\n</code></pre>\n\n<p>You may also wish to follow this <a href=\"https://palantir.github.io/tslint/usage/configuration/\" rel=\"nofollow noreferrer\">link to the documentation</a>.</p>\n"}], "owner": {"reputation": 97, "user_id": 6210422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b03dbd166b0310888bf22c107c9c713?s=128&d=identicon&r=PG&f=1", "display_name": "FAYA", "link": "https://stackoverflow.com/users/6210422/faya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 53299251, "answer_count": 1, "score": 0, "last_activity_date": 1542195190, "creation_date": 1542193509, "question_id": 53298737, "link": "https://stackoverflow.com/questions/53298737/how-to-use-npm-warnings-in-tslint", "title": "How to use npm warnings in tslint?", "body": "<p>I am new using tslint, in the past I used eslint for javascript files and now I want to use tslint as my typescript linting tool.</p>\n\n<p>The thing is that using eslint I was able to specify that some of my errors where specifyed as NPM warnings, in this case the console logging.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BNhy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BNhy6.png\" alt=\"**Console error using tsling**\"></a></p>\n\n<p>As you can see my \"warnings\" are throwing an npm ERR, is there a way to tell that it should be npm WARN ???</p>\n"}, {"tags": ["javascript", "string", "typescript", "replace"], "comments": [{"owner": {"reputation": 967, "user_id": 7338394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSIRI.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/7338394/sagar"}, "edited": false, "score": 0, "creation_date": 1542193404, "post_id": 53298650, "comment_id": 93478094, "body": "What&#39;s the problem you are facing? Just place message line at bottom"}, {"owner": {"reputation": 10897, "user_id": 736172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/25b2d80f32ba198cf07c5ab0e0af469d?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/736172/ahmad"}, "edited": false, "score": 0, "creation_date": 1542193431, "post_id": 53298650, "comment_id": 93478104, "body": "when you say <code>let taskId = T-100;</code> do you want the literal string <code>T-100</code> to be parsed into the string, or you want the expression result <code>T minus 100</code>?"}, {"owner": {"reputation": 174, "user_id": 6073258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eC5d.png?s=128&g=1", "display_name": "Mars.Tsai", "link": "https://stackoverflow.com/users/6073258/mars-tsai"}, "edited": false, "score": 0, "creation_date": 1542193443, "post_id": 53298650, "comment_id": 93478110, "body": "like this ? <a href=\"https://codepen.io/anon/pen/yQMzGJ\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/yQMzGJ</a>"}, {"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "reply_to_user": {"reputation": 967, "user_id": 7338394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSIRI.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/7338394/sagar"}, "edited": false, "score": 0, "creation_date": 1542193521, "post_id": 53298650, "comment_id": 93478166, "body": "@Sagar The message is dynamic from db and Iam not able to replace the variables with its values in run time."}, {"owner": {"reputation": 967, "user_id": 7338394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSIRI.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/7338394/sagar"}, "edited": false, "score": 0, "creation_date": 1542193635, "post_id": 53298650, "comment_id": 93478234, "body": "@ShaikNizamuddin <a href=\"https://codepen.io/anon/pen/yQMzGJ\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/yQMzGJ</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13483, "user_id": 2737978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5Dww.jpg?s=128&g=1", "display_name": "Quince", "link": "https://stackoverflow.com/users/2737978/quince"}, "edited": false, "score": 1, "creation_date": 1542193587, "post_id": 53298728, "comment_id": 93478213, "body": "need to check on the support for that <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>, for instance this will not work in IE"}, {"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542193648, "post_id": 53298728, "comment_id": 93478244, "body": "When i see logs before and after , I get the same sentence with no changes"}], "tags": [], "owner": {"reputation": 92, "user_id": 5200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89254d2798896326d69e5a9ee8a1e7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Prathap", "link": "https://stackoverflow.com/users/5200627/hari-prathap"}, "is_accepted": false, "score": 0, "last_activity_date": 1542193479, "creation_date": 1542193479, "answer_id": 53298728, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript/53298728#53298728", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>You don't need to do anything. Js will replace the variables with value at runtime.</p>\n"}, {"comments": [{"owner": {"reputation": 19135, "user_id": 5104748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a3147dbf27b3d0950d7c9d964d11045e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/5104748/mohammad"}, "edited": false, "score": 0, "creation_date": 1542195680, "post_id": 53298759, "comment_id": 93479392, "body": "@ShaikNizamuddin i think this is what you want"}], "tags": [], "owner": {"reputation": 19135, "user_id": 5104748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a3147dbf27b3d0950d7c9d964d11045e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/5104748/mohammad"}, "is_accepted": false, "score": 1, "last_activity_date": 1542195554, "last_edit_date": 1542195554, "creation_date": 1542193578, "answer_id": 53298759, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript/53298759#53298759", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>You can store values with target names in object and use <code>.replace()</code> to replacing target part of string with values in object. If value with matched name exist in object replace it with value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var message = 'Task ${taskId} assigned by ${taskCreaterName} for customer ${customerName} and ${newVar}';\r\nvar values = {\r\n  taskId: 'T-100',\r\n  taskCreaterName: 'mark',\r\n  customerName: 'henry'\r\n};\r\nvar newStr = message.replace(/\\$\\{(\\w+)\\}/g, function(match, cont){\r\n  return typeof values[cont] !== 'undefined' ? values[cont] : match;\r\n})\r\nconsole.log(newStr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 1, "creation_date": 1542193901, "post_id": 53298784, "comment_id": 93478418, "body": "OP mentioned that message comes from db and is dynamic"}, {"owner": {"reputation": 2546, "user_id": 1268168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2tKYX.jpg?s=128&g=1", "display_name": "Steven McConnon", "link": "https://stackoverflow.com/users/1268168/steven-mcconnon"}, "reply_to_user": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1542196275, "post_id": 53298784, "comment_id": 93479739, "body": "Well, OP edited the question after I posted my answer. I answered his original question just fine."}, {"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1542196329, "post_id": 53298784, "comment_id": 93479775, "body": "It was in comment before you answered"}], "tags": [], "owner": {"reputation": 2546, "user_id": 1268168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2tKYX.jpg?s=128&g=1", "display_name": "Steven McConnon", "link": "https://stackoverflow.com/users/1268168/steven-mcconnon"}, "is_accepted": false, "score": 0, "last_activity_date": 1542193650, "creation_date": 1542193650, "answer_id": 53298784, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript/53298784#53298784", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>This is probably the simplest way to accomplish the thing you're looking for:</p>\n\n<pre><code>let taskId = 'T-100';\nlet taskCreaterName = 'mark';\nlet customerName = 'henry';\n\nlet newMessage = 'Task ' + taskId + ' assigned by ' + taskCreaterName + ' for customer ' + customerName;\n</code></pre>\n\n<p>Where newMessage has \"Task T-100 assigned by mark for customer henry\".</p>\n"}, {"tags": [], "owner": {"reputation": 10897, "user_id": 736172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/25b2d80f32ba198cf07c5ab0e0af469d?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/736172/ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1542193669, "creation_date": 1542193669, "answer_id": 53298789, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript/53298789#53298789", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>Depending on the value of <code>T</code> in your code, which you did not provide, I will assume it holds a valid Integer number.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let T = parseInt(Math.random() * 1000);\r\n\r\nlet taskId = T-100;\r\nlet taskCreaterName = 'mark';\r\nlet customerName = 'henry';\r\n\r\n//assuming T-100 is a result of an expression, you would do something like:\r\nconsole.log(`Task ${taskId} assigned by ${taskCreaterName} for customer ${customerName}`);\r\n\r\n//assming T-100 is a litral string, then you don't need to parse it at all\r\nconsole.log(`Task T-100 assigned by ${taskCreaterName} for customer ${customerName}`);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542194709, "post_id": 53298857, "comment_id": 93478883, "body": "Iam getting the following error : Property &#39;entries&#39; does not exist on type &#39;ObjectConstructor&#39;"}, {"owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "reply_to_user": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542194818, "post_id": 53298857, "comment_id": 93478948, "body": "Okay. Which browser are you using?"}, {"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542194846, "post_id": 53298857, "comment_id": 93478960, "body": "chrome browser and its firebase"}, {"owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "reply_to_user": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542194973, "post_id": 53298857, "comment_id": 93479023, "body": "No problem, may be your chrome needs update. Never mind updated my answer and you can now use it without &quot;object.entries&quot;. pls check"}, {"owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "reply_to_user": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542195043, "post_id": 53298857, "comment_id": 93479056, "body": "I am used to &quot;for..of&quot; that&#39;s why always prefer to work ES6 way, still you can anyday use &quot;for..in&quot;"}, {"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 1, "creation_date": 1542196179, "post_id": 53298857, "comment_id": 93479672, "body": "Sir , Iam working on it ,and definitely I will update you. thanks"}, {"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542197374, "post_id": 53298857, "comment_id": 93480377, "body": "It is replacing only the first variable  &#39;<code>Task TSK-0009 assigned by ${taskCreaterName} for customer ${customername}</code>&#39;"}, {"owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "reply_to_user": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542197444, "post_id": 53298857, "comment_id": 93480414, "body": "You can click on &quot;Run Code Snippet&quot; to verify it&#39;s replacing all words. Pls can show what you are using exactly."}, {"owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "reply_to_user": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542197497, "post_id": 53298857, "comment_id": 93480443, "body": "Pls make sure &quot;key&quot; names are exactly the same. Only then it will replace it"}, {"owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542198464, "post_id": 53298857, "comment_id": 93481014, "body": "Thanks sir its working . previoulsy the keys didnt matched for rest of the variables"}, {"owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "reply_to_user": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "edited": false, "score": 0, "creation_date": 1542198570, "post_id": 53298857, "comment_id": 93481079, "body": "Great!! Pls drop &quot;sir&quot; as we all are learners and friends here!! Also, pls mark this answer as accepted solution so that others get to know your issue is resolved!! Thnx"}], "tags": [], "owner": {"reputation": 3616, "user_id": 3048429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYKPi.jpg?s=128&g=1", "display_name": "Nitish Narang", "link": "https://stackoverflow.com/users/3048429/nitish-narang"}, "is_accepted": true, "score": 1, "last_activity_date": 1542194932, "last_edit_date": 1542194932, "creation_date": 1542193870, "answer_id": 53298857, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript/53298857#53298857", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>To make this work in generic way you can keep 1 object (like 'withData' I created below, rather than maintaining different variables) to store values to replace and let generic function (replace) take care of all the changes like below</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let message = 'Task ${taskId} assigned by ${taskCreaterName} for customer ${customerName}'\r\n\r\nlet withData = {\r\n  taskId: 'T-100'\r\n  , taskCreaterName: 'mark'\r\n  , customerName: 'henry'\r\n}\r\n\r\nfunction replace(obj, withData) {\r\n  let result = message.slice(0)\r\n  for (let [key, value] of Object.entries(withData)) {\r\n    result = result.replace('${' + key + '}', value)\r\n  }\r\n  \r\n  return result\r\n}\r\n\r\nlet result = replace(message, withData)\r\n\r\nconsole.log(result)\r\n\r\n// In case Object.entries is not supported\r\nfunction replace(obj, withData) {\r\n  let result = message.slice(0)\r\n  for (let key in withData) {\r\n    let value = withData[key]\r\n    result = result.replace('${' + key + '}', value)\r\n  }\r\n  \r\n  return result\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1542194933, "creation_date": 1542194933, "answer_id": 53299180, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript/53299180#53299180", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>You could use <code>String#replace</code> with custom callback and <code>eval</code> (<code>name</code> contains only chars <code>[a-zA-z0-9]</code> so it should be safe)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var message = 'Task ${taskId} assigned by ${taskCreaterName} for customer ${customerName}';\r\nlet taskId = 'T-100';\r\nlet taskCreaterName = 'mark';\r\nlet customerName = 'henry';\r\n\r\nvar newMessage = message.replace(/\\${([\\w]+)}/g, function(match, name){\r\n  return eval(name);\r\n})\r\n\r\nconsole.log(newMessage);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 357, "user_id": 5157866, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-0NbB-Hfaqpk/AAAAAAAAAAI/AAAAAAAAABE/_hsQEpF8GQ4/photo.jpg?sz=128", "display_name": "Shaik Nizamuddin", "link": "https://stackoverflow.com/users/5157866/shaik-nizamuddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 53298857, "answer_count": 6, "score": 1, "last_activity_date": 1542195554, "creation_date": 1542193233, "last_edit_date": 1542194154, "question_id": 53298650, "link": "https://stackoverflow.com/questions/53298650/how-to-replace-words-in-a-sentence-with-its-values-in-javascript", "title": "How to replace words in a sentence with its values in javascript?", "body": "<p>I have the following scenerio , where I have the following string</p>\n\n<pre><code>Edit:  const message = results.doc.data().taskSettings.taskInProgressSettings.pushNotifications.onAssignmentNotifyEmployee.message;\n</code></pre>\n\n<p>I get the message from db , and the variables are not necessarily <code>taskId , customerName</code> . It can be <code>taskId , customerName , customerId, taskCreaterName , employeeName , employeeId</code>. The message may contain any of the above variables and i need to replace them in run time with its values.</p>\n\n<pre><code>message:`Task ${taskId} assigned by ${taskCreaterName} for customer ${customerName}`\nlet taskId = T-100;\nlet taskCreaterName = 'mark';\nlet customerName = 'henry';\n</code></pre>\n\n<p>and I want to replace the variables (taskId , taskCreaterName , customername) with its values and the final result should be the following,</p>\n\n<pre><code>newMessage = Task T-100 assigned by mark for customer henry\n</code></pre>\n\n<p>What would be the best way of achieving this. Thanks </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 1, "creation_date": 1542192548, "post_id": 53298357, "comment_id": 93477601, "body": "Could you elaborate your question."}, {"owner": {"reputation": 533, "user_id": 10555697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VNPuZevkYrg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDqeVxFvX82bb3_ssTzi_x4xW_B-g/mo/photo.jpg?sz=128", "display_name": "ashwin karki", "link": "https://stackoverflow.com/users/10555697/ashwin-karki"}, "reply_to_user": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1542192628, "post_id": 53298357, "comment_id": 93477645, "body": "i have a static checkbox . i need to show the json data into the chekcbox dynamically like if there is 10 json data then there should be 10checkboxes automatically."}, {"owner": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 1, "creation_date": 1542192816, "post_id": 53298357, "comment_id": 93477753, "body": "I think he wants to create checkboxes based on the result from the json."}, {"owner": {"reputation": 825, "user_id": 10086033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qgtbT.jpg?s=128&g=1", "display_name": "Gihan Saranga Siriwardhana", "link": "https://stackoverflow.com/users/10086033/gihan-saranga-siriwardhana"}, "edited": false, "score": 0, "creation_date": 1542192909, "post_id": 53298357, "comment_id": 93477808, "body": "check this <a href=\"https://coryrylan.com/blog/creating-a-dynamic-checkbox-list-in-angular\" rel=\"nofollow noreferrer\">coryrylan.com/blog/creating-a-dynamic-checkbox-list-in-angul&zwnj;&#8203;ar</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1542193657, "last_edit_date": 1542193657, "creation_date": 1542192817, "answer_id": 53298503, "question_id": 53298357, "link": "https://stackoverflow.com/questions/53298357/how-to-iterate-over-checkbox-in-angular-so-it-becomes-dynamic/53298503#53298503", "title": "How to iterate over checkbox in angular so it becomes dynamic?", "body": "<p>You can use <code>*ngFor</code> to iterate over the <code>documents</code>. Note : You can add one property in <code>document</code> where you can <code>bind</code> the <code>value</code> of <code>checkbox</code>. Here I added the property <code>selected</code>.</p>\n\n<pre><code>&lt;div class=\"form-check\" *ngFor=\"let document of documents\"&gt;\n   &lt;label class=\"form-check-label\" for=\"check1\"&gt;\n   &lt;input type=\"checkbox\" class=\"form-check-input\" \n        id=\"check1\" name=\"proformaInvoice\"\n        [value]= \"document.docName\"\n        [(ngModel)]=\"document.selected\"\n        &gt;Proforma Invoice\n   &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "is_accepted": false, "score": 0, "last_activity_date": 1542192883, "creation_date": 1542192883, "answer_id": 53298535, "question_id": 53298357, "link": "https://stackoverflow.com/questions/53298357/how-to-iterate-over-checkbox-in-angular-so-it-becomes-dynamic/53298535#53298535", "title": "How to iterate over checkbox in angular so it becomes dynamic?", "body": "<p>In your HTML, check with ngIf if the data has already arrived. If not, do not display the div.</p>\n\n<p>In the inner div run an ngFor on your documents.</p>\n\n<pre><code>&lt;h5&gt;Document List&lt;/h5&gt;\n&lt;div class=\"form-check\" *ngIf=\"dataIsPresent\"&gt;\n  &lt;div *ngFor=\"let document of documents\"&gt;\n   &lt;label class=\"form-check-label\" for=\"check1\"&gt;\n   &lt;input type=\"checkbox\" class=\"form-check-input\" name=\"document.docName\" value=\"something\"  value=\"document.docName\" &gt;{{document.docName}}\n   &lt;/label&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In your TS create a boolean to check if data has arrived or not.</p>\n\n<pre><code>dataIsPresent: Boolean = false;\nngOnInit() {\n         this.http.get('http://localhost:8080/api/documents')\n      .subscribe((data: any[]) =&gt; {\n        this.documents = data;\n        this.dataIsPresent = true;\n        console.log(this.documents);\n      })\n  }\n</code></pre>\n\n<p>Let me know if this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 5200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89254d2798896326d69e5a9ee8a1e7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Prathap", "link": "https://stackoverflow.com/users/5200627/hari-prathap"}, "is_accepted": false, "score": 0, "last_activity_date": 1542193080, "creation_date": 1542193080, "answer_id": 53298600, "question_id": 53298357, "link": "https://stackoverflow.com/questions/53298357/how-to-iterate-over-checkbox-in-angular-so-it-becomes-dynamic/53298600#53298600", "title": "How to iterate over checkbox in angular so it becomes dynamic?", "body": "<p>You can use *ngFor directive to iterate documents and create check boxes</p>\n\n<pre><code>&lt;div *ngFor=\"let obj of documents\"&gt;\n    &lt;div class=\"form-check\"&gt;\n       &lt;label class=\"form-check-label\" for=\"check1\"&gt;\n           &lt;input type=\"checkbox\" class=\"form-check-input\" id=\"check1\"\n           name=\"proformaInvoice\" value=\"something\" \n           [(ngModel)]=\"obj.value\" value=\"checked\" &gt;Proforma \n           Invoice\n       &lt;/label&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 10555697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VNPuZevkYrg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDqeVxFvX82bb3_ssTzi_x4xW_B-g/mo/photo.jpg?sz=128", "display_name": "ashwin karki", "link": "https://stackoverflow.com/users/10555697/ashwin-karki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 53298503, "answer_count": 3, "score": 0, "last_activity_date": 1542193657, "creation_date": 1542192350, "last_edit_date": 1542192713, "question_id": 53298357, "link": "https://stackoverflow.com/questions/53298357/how-to-iterate-over-checkbox-in-angular-so-it-becomes-dynamic", "title": "How to iterate over checkbox in angular so it becomes dynamic?", "body": "<p>I have harcoded checkbox which is like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UVVCM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UVVCM.png\" alt=\"enter image description here\"></a></p>\n\n<p>The code looks like:</p>\n\n<pre><code>&lt;h5&gt;Document List&lt;/h5&gt;\n&lt;div class=\"form-check\"&gt;\n   &lt;label class=\"form-check-label\" for=\"check1\"&gt;\n   &lt;input type=\"checkbox\" class=\"form-check-input\" id=\"check1\" name=\"proformaInvoice\" value=\"something\" [(ngModel)]=\"processAnexOne.proformaInvoice\" value=\"checked\" &gt;Proforma Invoice\n   &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The Json data coming is :</p>\n\n<p><a href=\"https://i.stack.imgur.com/ckeWq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckeWq.png\" alt=\"enter image description here\"></a></p>\n\n<p>The method to call the api to get json data is:</p>\n\n<pre><code>ngOnInit() {\n         this.http.get('http://localhost:8080/api/documents')\n      .subscribe((data: any[]) =&gt; {\n        this.documents = data;\n        console.log(this.documents);\n      })\n  }\n</code></pre>\n\n<p>How can i bin these json data into the checkbox so that it becomes dynamic?</p>\n"}, {"tags": ["typescript", "winston"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 1329477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/137ac44d8776f3e9b015c7ca44d0146c?s=128&d=identicon&r=PG", "display_name": "leonormes", "link": "https://stackoverflow.com/users/1329477/leonormes"}, "edited": false, "score": 0, "creation_date": 1542193274, "post_id": 53298622, "comment_id": 93478017, "body": "1. That was a quick response! 2. And it works, thanks."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 752, "user_id": 1329477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/137ac44d8776f3e9b015c7ca44d0146c?s=128&d=identicon&r=PG", "display_name": "leonormes", "link": "https://stackoverflow.com/users/1329477/leonormes"}, "edited": false, "score": 0, "creation_date": 1542193524, "post_id": 53298622, "comment_id": 93478170, "body": "@leonormes I also added a function that creates the logger .. for a more reusable solution :)"}, {"owner": {"reputation": 1285, "user_id": 3432391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d463ee07137bcc65f940598ebe6ab811?s=128&d=identicon&r=PG", "display_name": "Schaki", "link": "https://stackoverflow.com/users/3432391/schaki"}, "edited": false, "score": 0, "creation_date": 1574005821, "post_id": 53298622, "comment_id": 104067575, "body": "Worked like a charm, however I first thought it didn&#39;t. Reason was I skipped the <code>level</code> parameter since my custom log levels doesn&#39;t have an intuitive ranking. However winston will then mute the output <a href=\"https://github.com/winstonjs/winston/issues/1491\" rel=\"nofollow noreferrer\">github.com/winstonjs/winston/issues/1491</a> . It has nothing to do with typescript, which I thought at first."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1542193511, "last_edit_date": 1542193511, "creation_date": 1542193150, "answer_id": 53298622, "question_id": 53298354, "link": "https://stackoverflow.com/questions/53298354/winston-custom-log-levels-typescript-definitions/53298622#53298622", "title": "Winston custom log levels typescript definitions", "body": "<p>The definitions as currently written do not unfortunately allow for custom log levels. The simplest solution is to cast the returned logger to a logger and an intersection with a type that contains the extra methods. We can create this type based on your const declaration using the mapped type <code>Record</code> and <code>keyof</code></p>\n\n<pre><code>import * as winston from 'winston'\nconst logger = winston.createLogger({\n    level: data,\n    levels: myCustomLevels.levels,\n    format: winston.format.combine(\n        winston.format.json()\n    ),\n    transports: [new winston.transports.Console()],\n}) as winston.Logger &amp; Record&lt;keyof typeof myCustomLevels['levels'], winston.LeveledLogMethod&gt;;\n\nlogger.protocol({})\n</code></pre>\n\n<p>Note I toyed around with augmenting the existing module definition but because <code>createLogger</code> is declared as a variable with an inline function signature we can't really extend it with augmentation. </p>\n\n<p>If this a general problem for you, you could write a general function that preserves the levels:</p>\n\n<pre><code>function createWinstonLogger&lt;T&gt;(options?: Pick&lt;winston.LoggerOptions, Exclude&lt;keyof winston.LoggerOptions, 'levels'&gt;&gt; &amp; { levels: T }) {\n    return winston.createLogger(options) as winston.Logger &amp; Record&lt;keyof T, winston.LeveledLogMethod&gt;\n}\nconst logger = createWinstonLogger({\n    level: data,\n    levels: myCustomLevels.levels,\n    format: winston.format.combine(\n        winston.format.json()\n    ),\n    transports: [new winston.transports.Console()],\n});\nlogger.protocol({})\n</code></pre>\n"}], "owner": {"reputation": 752, "user_id": 1329477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/137ac44d8776f3e9b015c7ca44d0146c?s=128&d=identicon&r=PG", "display_name": "leonormes", "link": "https://stackoverflow.com/users/1329477/leonormes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1667, "favorite_count": 1, "accepted_answer_id": 53298622, "answer_count": 1, "score": 2, "last_activity_date": 1542193511, "creation_date": 1542192327, "question_id": 53298354, "link": "https://stackoverflow.com/questions/53298354/winston-custom-log-levels-typescript-definitions", "title": "Winston custom log levels typescript definitions", "body": "<p>I am working on a node application and using Typescript.\nI have winston 3.\nIn my code I have added custom log levels;</p>\n\n<pre><code>const myCustomLevels = {\n    levels: {\n        data: 10,\n        protocol: 9,\n        debug: 8,\n        info: 7,\n        notice: 6,\n        note: 5,\n        warn: 4,\n        error: 3,\n        crit: 2,\n        alert: 1,\n        emerg: 0,\n    }\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>const logger = winston.createLogger({\n    level: data,\n    levels: myCustomLevels.levels,\n    format: winston.format.combine(\n        winston.format.json()\n    ),\n    transports: [new winston.transports.Console()],\n});\n</code></pre>\n\n<p>The problem I need help with is when I use the logger Typescript complains.</p>\n\n<pre><code>logger.protocol({});\n</code></pre>\n\n<p>in this case the types are <code>const logger: winston.Logger</code> and the ts says <code>[ts] Property 'protocol' does not exist on type 'Logger'. [2339]</code>.\nTypescript doesn't know about my levels.</p>\n\n<p>How do I correct this so that <code>tsc</code> knows about my levels on the logger?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1542194447, "post_id": 53297832, "comment_id": 93478733, "body": "If you don&#39;t need any parametrs a property would be better : <code>public get prop2(): boolean {     return this.a &amp;&amp; (this.b || this.c);   }</code> and in your component you can just use ` [prop2]=&quot;prop2&quot;`"}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1542206128, "post_id": 53297832, "comment_id": 93485899, "body": "@TitianCernicova-Dragomir: How is getter better?"}], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1542191206, "creation_date": 1542191206, "answer_id": 53297967, "question_id": 53297832, "link": "https://stackoverflow.com/questions/53297832/proper-way-to-abstract-property-expression-in-angular-template/53297967#53297967", "title": "Proper way to abstract property expression in Angular template", "body": "<p>If you have very simple <code>test</code> then you use inline check however if you have complicated condition then it is always better to move to separate function. </p>\n\n<p>Performance wise there won't be much difference in <code>inline</code> and <code>function</code> fashion since both will take the same amount for execution. There is no extra optimization in either case.</p>\n"}], "owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 53297967, "answer_count": 1, "score": 0, "last_activity_date": 1542191206, "creation_date": 1542190783, "question_id": 53297832, "link": "https://stackoverflow.com/questions/53297832/proper-way-to-abstract-property-expression-in-angular-template", "title": "Proper way to abstract property expression in Angular template", "body": "<h2>Repeating expression</h2>\n\n<p>I'm having the following component template in Angular 6. I'm repeating <code>a &amp;&amp; (b || c)</code> expression 3 times, so I'd like to somehow abstract it.</p>\n\n<p><em>parent.component.html</em></p>\n\n<pre><code>&lt;component\n  [prop1]=\"1\"\n  [prop2]=\"a &amp;&amp; (b || c)\"\n&gt;\n&lt;/component&gt;\n\n&lt;component\n  [prop1]=\"2\"\n  [prop2]=\"a &amp;&amp; (b || c)\"\n&gt;\n&lt;/component&gt;\n\n&lt;component\n  [prop1]=\"3\"\n  [prop2]=\"a &amp;&amp; (b || c)\"\n&gt;\n&lt;/component&gt;\n</code></pre>\n\n<h2>Abstracting it as function</h2>\n\n<p>My first intuition is to abstract it as a function, a method of the component which defines the template. The code presented below.</p>\n\n<p>The problem with this approach is the performance. The function gets called dozens of times, even when <code>a</code>, <code>b</code> and <code>c</code> values don't change. My worries are confirmed in <a href=\"https://stackoverflow.com/questions/43710642/does-angular-have-the-computed-property-feature-like-in-vue-js#47306546\">this question</a>.</p>\n\n<p><em>parent.component.ts</em></p>\n\n<pre><code>@Component(...)\nclass ParentComponent {\n\n  (...)\n\n  public prop2(): boolean {\n    return this.a &amp;&amp; (this.b || this.c);\n  }\n\n  (...)\n\n}\n</code></pre>\n\n<p><em>parent.component.html</em></p>\n\n<pre><code>&lt;component\n  [prop1]=\"1\"\n  [prop2]=\"prop2()\"\n&gt;\n&lt;/component&gt;\n\n&lt;component\n  [prop1]=\"2\"\n  [prop2]=\"prop2()\"\n&gt;\n&lt;/component&gt;\n\n&lt;component\n  [prop1]=\"3\"\n  [prop2]=\"prop2()\"\n&gt;\n&lt;/component&gt;\n</code></pre>\n\n<h2>Question</h2>\n\n<p>What's the proper way in Angular (especially performance-wise) to abstract that <code>a &amp;&amp; (b || c)</code> expression?</p>\n"}, {"tags": ["angular", "typescript", "arrow-functions", "angular-observable"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1542189864, "post_id": 53297516, "comment_id": 93475923, "body": "It&#39;s an <i>arrow function</i>, that&#39;s the callback."}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1542189875, "post_id": 53297516, "comment_id": 93475928, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33743, "user_id": 1833945, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5108c5943fad55dcbf5849a01ce854fa?s=128&d=identicon&r=PG", "display_name": "AndreaNobili", "link": "https://stackoverflow.com/users/1833945/andreanobili"}, "edited": false, "score": 0, "creation_date": 1542190663, "post_id": 53297721, "comment_id": 93476408, "body": "Ok, maybe I have some knowledge gap. Referring to your code: who is the heroes passaed as parameter of this function? Is it the array &quot;returned&quot; by the Observable when it is ready?"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "reply_to_user": {"reputation": 33743, "user_id": 1833945, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5108c5943fad55dcbf5849a01ce854fa?s=128&d=identicon&r=PG", "display_name": "AndreaNobili", "link": "https://stackoverflow.com/users/1833945/andreanobili"}, "edited": false, "score": 1, "creation_date": 1542190805, "post_id": 53297721, "comment_id": 93476508, "body": "@AndreaNobili <i>&quot;Is it the array &quot;returned&quot; by the Observable when it is ready?&quot;</i> - that is 100% correct. Please also see my update which may be a clearer example."}, {"owner": {"reputation": 33743, "user_id": 1833945, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5108c5943fad55dcbf5849a01ce854fa?s=128&d=identicon&r=PG", "display_name": "AndreaNobili", "link": "https://stackoverflow.com/users/1833945/andreanobili"}, "edited": false, "score": 0, "creation_date": 1542190926, "post_id": 53297721, "comment_id": 93476581, "body": "So my interpreation is: the service return an  Observable&lt;Hero[]&gt;. When it si completed it emit the <b>Hero[]</b> array that is the heroes parameter of the function (heroes). Is it this interpretation correct?"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "reply_to_user": {"reputation": 33743, "user_id": 1833945, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5108c5943fad55dcbf5849a01ce854fa?s=128&d=identicon&r=PG", "display_name": "AndreaNobili", "link": "https://stackoverflow.com/users/1833945/andreanobili"}, "edited": false, "score": 1, "creation_date": 1542191259, "post_id": 53297721, "comment_id": 93476797, "body": "@AndreaNobili I&#39;m not sure if this will be at all helpful, but I made this example for a post earlier about Observables. <a href=\"https://stackblitz.com/edit/angular-u36nnh?file=src%2Fapp%2Fapp.service.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "is_accepted": true, "score": 2, "last_activity_date": 1542190667, "last_edit_date": 1542190667, "creation_date": 1542190439, "answer_id": 53297721, "question_id": 53297516, "link": "https://stackoverflow.com/questions/53297516/what-is-the-correct-interpretation-of-this-arrow-function-subscribing-an-observa/53297721#53297721", "title": "What is the correct interpretation of this arrow function subscribing an Observable in Angular?", "body": "<p>You are correct, it is indeed a lambda, however they are more commonly referred to in js as arrow functions. They function the same way.</p>\n\n<p>That lambda equates to:</p>\n\n<pre><code>(function (heroes) { return _this.heroes = heroes; });\n</code></pre>\n\n<p>So it is expecting a parameter and then storing it in the local property.</p>\n\n<p>The Observable in your snippet could also be written:</p>\n\n<pre><code>this.heroService.getHeroes()\n   .subscribe((heroes: Hero[]) =&gt; {\n      this.heroes = heroes;\n   });\n</code></pre>\n\n<p>Which is clearer of what it is returning.</p>\n"}], "owner": {"reputation": 33743, "user_id": 1833945, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5108c5943fad55dcbf5849a01ce854fa?s=128&d=identicon&r=PG", "display_name": "AndreaNobili", "link": "https://stackoverflow.com/users/1833945/andreanobili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53297721, "answer_count": 1, "score": 0, "last_activity_date": 1542198092, "creation_date": 1542189759, "last_edit_date": 1542198092, "question_id": 53297516, "link": "https://stackoverflow.com/questions/53297516/what-is-the-correct-interpretation-of-this-arrow-function-subscribing-an-observa", "title": "What is the correct interpretation of this arrow function subscribing an Observable in Angular?", "body": "<p>I am following the official Angular tutorial: <a href=\"https://angular.io/tutorial/toh-pt4\" rel=\"nofollow noreferrer\">https://angular.io/tutorial/toh-pt4</a></p>\n\n<p>As you can see there is one component class that subscribe on a service:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\nimport { Hero } from '../hero';\nimport { HeroService } from '../hero.service';\n\n@Component({\n  selector: 'app-heroes',\n  templateUrl: './heroes.component.html',\n  styleUrls: ['./heroes.component.css']\n})\nexport class HeroesComponent implements OnInit {\n\n  selectedHero: Hero;\n\n  heroes: Hero[];\n\n  constructor(private heroService: HeroService) { }\n\n  ngOnInit() {\n    this.getHeroes();\n  }\n\n  onSelect(hero: Hero): void {\n    this.selectedHero = hero;\n  }\n\n  getHeroes(): void {\n    this.heroService.getHeroes()\n        .subscribe(heroes =&gt; this.heroes = heroes);\n  }\n}\n</code></pre>\n\n<p>I have some doubts about the <code>getHeroes()</code> method of this component:</p>\n\n<pre><code> getHeroes(): void {\n    this.heroService.getHeroes()\n        .subscribe(heroes =&gt; this.heroes = heroes);\n  }\n</code></pre>\n\n<p>I know that my service returns an <code>Observable&lt;Hero[]&gt;</code> that I have to subscribe to because it is asynchronous.</p>\n\n<p>The only thing that I can't completly understand is the inner expression (I think it is called lambda), this: \n<code>heroes =&gt; this.heroes = heroes</code></p>\n\n<p>What is the exact meaning of this expression?</p>\n"}, {"tags": ["typescript", "unit-testing", "react-native", "jestjs", "jest-fetch-mock"], "answers": [{"tags": [], "owner": {"reputation": 1573, "user_id": 752318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31de368b1bbb9988477511b2c59d61c0?s=128&d=identicon&r=PG", "display_name": "pure cuteness", "link": "https://stackoverflow.com/users/752318/pure-cuteness"}, "is_accepted": true, "score": 1, "last_activity_date": 1542192356, "last_edit_date": 1542192356, "creation_date": 1542190785, "answer_id": 53297836, "question_id": 53297437, "link": "https://stackoverflow.com/questions/53297437/react-native-with-typescript-how-to-set-up-globals-in-setup-js/53297836#53297836", "title": "React Native with TypeScript: How to set up globals in setup.js?", "body": "<p>Why typescript compiles <code>.js</code> files?</p>\n\n<p>If you have <code>setup.ts</code> file: try to add <code>declare var global: any;</code> before <code>global.fetch = ...</code>.</p>\n\n<p>However, I suggest you to use typings for your project:</p>\n\n<pre><code>npm i -D @types/node @types/jest\n</code></pre>\n\n<p>Then extending <code>global</code> object will look like this:</p>\n\n<pre><code>declare module NodeJS {\n  interface Global {\n    fetch: GlobalFetch\n  }\n}\n\nglobal.fetch = require('jest-fetch-mock');\n</code></pre>\n"}], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3152, "favorite_count": 0, "accepted_answer_id": 53297836, "answer_count": 1, "score": 0, "last_activity_date": 1542192356, "creation_date": 1542189533, "question_id": 53297437, "link": "https://stackoverflow.com/questions/53297437/react-native-with-typescript-how-to-set-up-globals-in-setup-js", "title": "React Native with TypeScript: How to set up globals in setup.js?", "body": "<p>I'm building a React Native app with TypeScript.</p>\n\n<p>I want to use <a href=\"https://github.com/jefflau/jest-fetch-mock\" rel=\"nofollow noreferrer\">jest-fetch-mock</a>. In the documentation it says to create <code>setup.js</code> file and add</p>\n\n<pre><code>global.fetch = require(\"jest-fetch-mock\");\n</code></pre>\n\n<p>in it. I did that. But I get the error: </p>\n\n<pre><code>[ts] Cannot compile namespaces when the '--isolatedModules' flag is provided.\n</code></pre>\n\n<p>So I googled and found out that I just have to import something to fix this (which is fine, since I need imports for setting <code>NativeModules.ReactLocalization</code> for using <a href=\"https://github.com/stefalda/ReactNativeLocalization\" rel=\"nofollow noreferrer\">localization</a> anyway).</p>\n\n<p>Then I get the error:</p>\n\n<pre><code>[ts] Cannot find name 'global'.\n</code></pre>\n\n<p>So I googled some more and found this 'fix':</p>\n\n<pre><code>// Change to file to setup.ts and\nconst globalAny: any = global;\n</code></pre>\n\n<p>But it throws the same error and now I'm stuck. How can I set a global variable?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1542189051, "post_id": 53297211, "comment_id": 93475401, "body": "You are not passing the image content to the server through second parameter of <code>post </code> function."}, {"owner": {"reputation": 196, "user_id": 10064551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cjaO0e2thE0/AAAAAAAAAAI/AAAAAAAAFWw/XWDIn9C-3sE/photo.jpg?sz=128", "display_name": "Sari Masri", "link": "https://stackoverflow.com/users/10064551/sari-masri"}, "edited": false, "score": 0, "creation_date": 1542189067, "post_id": 53297211, "comment_id": 93475412, "body": "you pass only one variable but the function takes more then 1 <code>post(url: string, body: any, options?: RequestOptionsArgs) : Observable&lt;Response&gt; </code>"}], "answers": [{"comments": [{"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1568263815, "post_id": 53297244, "comment_id": 102220456, "body": "Not sure if there are any downsides to this but it worked a treat, thanks"}], "tags": [], "owner": {"reputation": 629, "user_id": 6771202, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWh_1D0drqg/AAAAAAAAAAI/AAAAAAAAGfQ/h7E3dAkTRlo/photo.jpg?sz=128", "display_name": "sachintha hewawasam", "link": "https://stackoverflow.com/users/6771202/sachintha-hewawasam"}, "is_accepted": true, "score": 13, "last_activity_date": 1581072507, "last_edit_date": 1581072507, "creation_date": 1542188993, "answer_id": 53297244, "question_id": 53297211, "link": "https://stackoverflow.com/questions/53297211/angular-4-error-expected-2-3-arguments-but-got-1/53297244#53297244", "title": "Angular 4 error &quot;Expected 2-3 arguments, but got 1&quot;", "body": "<p>just use {} behind like this,</p>\n\n<pre><code>return this.http.post(this.apiUrl+\"/uploadImages/\"+fda,{})\n</code></pre>\n\n<p>full jaaam</p>\n"}, {"tags": [], "owner": {"reputation": 2270, "user_id": 1759063, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/hJfRp.jpg?s=128&g=1", "display_name": "Ilya Yevlampiev", "link": "https://stackoverflow.com/users/1759063/ilya-yevlampiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1565111644, "creation_date": 1565111644, "answer_id": 57381051, "question_id": 53297211, "link": "https://stackoverflow.com/questions/53297211/angular-4-error-expected-2-3-arguments-but-got-1/57381051#57381051", "title": "Angular 4 error &quot;Expected 2-3 arguments, but got 1&quot;", "body": "<p>It is very difficult to track the reason of this kind of the error, if it is thrown by the pipe (as when you are drilling only into your custom pipe filter definition with the desired number of args, you will never thing that the compiler prefers to deal with another one already exited with another agrs). For me it was just coinciding with another already imported pipe having another number of args. And I have figured this out only being forced to change the name of my custom pipe method, as then I was finally drilled in my IDE to the initial preexisted pipe defined with the same name.  </p>\n"}], "owner": {"reputation": 80, "user_id": 10638819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35298029f9fd266396ce77c41cd12258?s=128&d=identicon&r=PG&f=1", "display_name": "doc leo", "link": "https://stackoverflow.com/users/10638819/doc-leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6936, "favorite_count": 0, "accepted_answer_id": 53297244, "answer_count": 2, "score": 5, "last_activity_date": 1581072507, "creation_date": 1542188901, "question_id": 53297211, "link": "https://stackoverflow.com/questions/53297211/angular-4-error-expected-2-3-arguments-but-got-1", "title": "Angular 4 error &quot;Expected 2-3 arguments, but got 1&quot;", "body": "<p>I have created a code that I want to upload files</p>\n\n<pre><code>  uploadImages(fda){\n  return this.http.post(this.apiUrl+\"/uploadImages/\"+fda)\n  .map((res : Response) =&gt; res);\n}\n</code></pre>\n\n<p>but shows the error of </p>\n\n<pre><code>ERROR in E:/MCQ/CsExamsModule - Client/src/app/services/question.service.ts (90,14): Expected 2-3 arguments, but got 1.\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4672, "user_id": 7404235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8e0a64e8ce79b73f996e4cfe6b16cb3?s=128&d=identicon&r=PG", "display_name": "enno.void", "link": "https://stackoverflow.com/users/7404235/enno-void"}, "edited": false, "score": 0, "creation_date": 1542188693, "post_id": 53297112, "comment_id": 93475184, "body": "look for array.filter and the indexOf function..."}], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 5, "last_activity_date": 1542189176, "last_edit_date": 1542189176, "creation_date": 1542188814, "answer_id": 53297185, "question_id": 53297112, "link": "https://stackoverflow.com/questions/53297112/how-to-filter-two-different-type-of-arrays-remove-duplicate-data-using-angul/53297185#53297185", "title": "How to filter two different type of arrays ( remove duplicate data ) using angular 6?", "body": "<blockquote>\n  <p>You can leverage <code>filter</code> and <code>includes</code>.</p>\n</blockquote>\n\n<pre><code>let finalArray = array2.filter(item=&gt;!array1.includes(item.name))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "is_accepted": false, "score": 3, "last_activity_date": 1542189072, "creation_date": 1542189072, "answer_id": 53297274, "question_id": 53297112, "link": "https://stackoverflow.com/questions/53297112/how-to-filter-two-different-type-of-arrays-remove-duplicate-data-using-angul/53297274#53297274", "title": "How to filter two different type of arrays ( remove duplicate data ) using angular 6?", "body": "<p>You can filter with checking the <code>index</code> of the name in <code>array1</code></p>\n\n<pre><code>const array3 = array2.filter((item) =&gt; array1.indexOf(item.name) &lt; 0);\n</code></pre>\n"}], "owner": {"reputation": 1277, "user_id": 4635536, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6c910d1aaac3e7d051867d7b35e03d27?s=128&d=identicon&r=PG&f=1", "display_name": "durga siva kishore mopuru", "link": "https://stackoverflow.com/users/4635536/durga-siva-kishore-mopuru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1542198905, "creation_date": 1542188597, "last_edit_date": 1542198905, "question_id": 53297112, "link": "https://stackoverflow.com/questions/53297112/how-to-filter-two-different-type-of-arrays-remove-duplicate-data-using-angul", "title": "How to filter two different type of arrays ( remove duplicate data ) using angular 6?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>array1 = [\"one\",\"two\"];\r\n\r\narray2 = [ {\"name\":\"one\",\"id\":101} , {\"name\":\"two\",\"id\":102} , {\"name\":\"three\",\"id\":103} , {\"name\":\"four\",\"id\":104} ];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>in the above data, <code>array1</code> is a collection of string values, <code>array2</code> is a collection of objects. Now how to remove <code>array1</code> related values in <code>array2</code>. I wrote code using for loops but it was too long so any predefined methods exist in angular-6/typescript.</p>\n\n<p>Output:</p>\n\n<pre><code>array2 = [ {\"name\":\"three\",\"id\":103} , {\"name\":\"four\",\"id\":104} ];\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "edited": false, "score": 0, "creation_date": 1542188350, "post_id": 53296732, "comment_id": 93474951, "body": "What do you mean by not working? Is it supposed to return false? or what?"}, {"owner": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "reply_to_user": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "edited": false, "score": 0, "creation_date": 1542189596, "post_id": 53296732, "comment_id": 93475757, "body": "@Yousefkhan The router is redirecting to the home page, the same behaviour as if CanActivate returns false"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "edited": false, "score": 0, "creation_date": 1542192989, "post_id": 53298274, "comment_id": 93477856, "body": "Thanks, I&#39;ll try this. If it is being resolved before we get a response is this a bug with angular?"}, {"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "reply_to_user": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "edited": false, "score": 0, "creation_date": 1542193240, "post_id": 53298274, "comment_id": 93478002, "body": "@JacobRegan I am not sure. It is just a guess. Got the idea from this thread. See if it helps <a href=\"https://stackoverflow.com/questions/45255745/angular2-guard-not-working-on-page-refresh\" title=\"angular2 guard not working on page refresh\">stackoverflow.com/questions/45255745/&hellip;</a>"}, {"owner": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "edited": false, "score": 0, "creation_date": 1542193701, "post_id": 53298274, "comment_id": 93478284, "body": "Unfortunately this didn&#39;t work either, it still redirects to the home page on full reload"}, {"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "reply_to_user": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "edited": false, "score": 0, "creation_date": 1542194454, "post_id": 53298274, "comment_id": 93478735, "body": "It will be easier to find the cause if you could add your code on <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz.com</a>"}, {"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "reply_to_user": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "edited": false, "score": 0, "creation_date": 1542194827, "post_id": 53298274, "comment_id": 93478952, "body": "Can you inspect in network that how many times your hasPermission request is sent when you reload? Just change the <code>subscribe</code> to <code>map</code>"}], "tags": [], "owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1542192046, "creation_date": 1542192046, "answer_id": 53298274, "question_id": 53296732, "link": "https://stackoverflow.com/questions/53296732/angular-canactivate-failing-on-browser-refresh-even-though-observable-returns-tr/53298274#53298274", "title": "Angular CanActivate failing on browser refresh even though observable returns true", "body": "<p>I guess somehow it is resolved before you get response. Try using <code>subject</code> here.</p>\n\n<pre><code>import { Subject } from 'rxjs';\n\ncanActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n    let permissionTag = route.data[\"permissionTag\"] as string;\n\n    let hasPermission$ = this.userPermissionService.hasPermission(null, SubjectType.Site, permissionTag, null);\n\n const subject: Subject&lt;boolean&gt; = new Subject();\n    hasPermission$.subscribe(x =&gt; {\n        console.log(x);\n        subject.next(x);\n    });\n\n    return subject.asObservable();\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5542142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc017c4491d3b713c3000f701ebbaaf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Regan", "link": "https://stackoverflow.com/users/5542142/jacob-regan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 484, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542192046, "creation_date": 1542187380, "last_edit_date": 1542189703, "question_id": 53296732, "link": "https://stackoverflow.com/questions/53296732/angular-canactivate-failing-on-browser-refresh-even-though-observable-returns-tr", "title": "Angular CanActivate failing on browser refresh even though observable returns true", "body": "<p>We have a routing guard for <code>CanActivate</code> that works fine when clicking between links on the site, but fails when we fully refresh the browser (i.e. it redirects to the home page, the same behaviour as if <code>CanActivate</code> returns false).  </p>\n\n<p>This is my guard</p>\n\n<pre><code>@Injectable()\nexport class PermissionCheckGuard implements CanActivate {\n    constructor(private userPermissionService: UserPermissionService) { }\n\n    canActivate(\n        route: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot\n    ): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        let permissionTag = route.data[\"permissionTag\"] as string;\n\n        let hasPermission$ = this.userPermissionService.hasPermission(null, SubjectType.Site, permissionTag, null);\n\n        hasPermission$.subscribe(x =&gt; {\n            console.log(x);\n        });\n\n        return hasPermission$;\n    }\n}\n</code></pre>\n\n<p>This is my router config:-</p>\n\n<pre><code>path: 'security/security-example', component: SecurityExampleComponent, canActivate: [PermissionCheckGuard], data: { permissionTag: 'Site_Permission_1' }\n</code></pre>\n\n<p>In case it matters this is the <code>hasPermission</code> function</p>\n\n<pre><code> public hasPermission(userId: string, subjectType: SubjectType, permissionTag: string, subjectId: string): Observable&lt;boolean&gt; {\n\n        if (userId == null) {\n            userId = 'Current';\n        }\n\n        const url = this.apiUrlBuilder.create('Security', 'Users', userId, 'Permission', {\n            permissionTag: permissionTag,\n            subjectType: subjectType,\n            subjectId: subjectId\n        });\n\n        return this.http.get(url)\n            .map&lt;Response, boolean&gt;((response: Response) =&gt; {\n                return &lt;boolean&gt;response.json();\n            })\n            .catch((error) =&gt; {\n                return this.errorHandlingService.ToNotification(error, this);\n            })\n    }\n</code></pre>\n\n<p>I don't see what I'm doing wrong, the guard is returning an observable and the console log is always returning <code>true</code>. Is this an issue with angular or is there a mistake in my code?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 159275, "user_id": 572644, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afd0124e3eaa2f2dbe0eb6741aafcd03?s=128&d=identicon&r=PG", "display_name": "Daniel Hilgarth", "link": "https://stackoverflow.com/users/572644/daniel-hilgarth"}, "edited": false, "score": 0, "creation_date": 1542186959, "post_id": 53296586, "comment_id": 93474103, "body": "And what is your problem?"}, {"owner": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "reply_to_user": {"reputation": 159275, "user_id": 572644, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afd0124e3eaa2f2dbe0eb6741aafcd03?s=128&d=identicon&r=PG", "display_name": "Daniel Hilgarth", "link": "https://stackoverflow.com/users/572644/daniel-hilgarth"}, "edited": false, "score": 0, "creation_date": 1542192465, "post_id": 53296586, "comment_id": 93477561, "body": "If I try to set the variable inside the function it comes back as &quot;undefined is not an object. So I&#39;m fairly new to this and can&#39;t figure out why. So my idea was to have the function return the variable"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542191985, "post_id": 53296674, "comment_id": 93477252, "body": "Nope, tried that first of course. It comes back &quot;undefined is not an object&quot;"}, {"owner": {"reputation": 306, "user_id": 8357750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215385622d9b2c72e5f83e85ee43fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden Hall", "link": "https://stackoverflow.com/users/8357750/hayden-hall"}, "reply_to_user": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542192507, "post_id": 53296674, "comment_id": 93477588, "body": "Is <code>errorVar</code> defined within the context of a <code>class</code>?"}, {"owner": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542192770, "post_id": 53296674, "comment_id": 93477726, "body": "yes, it is - it&#39;s a reactive form and the variable definition and function is inside the export class"}], "tags": [], "owner": {"reputation": 306, "user_id": 8357750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215385622d9b2c72e5f83e85ee43fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden Hall", "link": "https://stackoverflow.com/users/8357750/hayden-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1542187551, "last_edit_date": 1542187551, "creation_date": 1542187144, "answer_id": 53296674, "question_id": 53296586, "link": "https://stackoverflow.com/questions/53296586/set-variable-from-function/53296674#53296674", "title": "Set variable from function", "body": "<p>You can do something like this: </p>\n\n<pre><code>  errorVar: boolean = false\n\n  function(c: AbstractControl): { [key: string]: string } | null {\n    // validation if 'test' is true or not goes here\n    if (test) {\n      this.errorVar = true;\n      let errorMessageText:\n        return { 'errorText': errorMessageText };\n    }\n\n    this.errorVar = false;\n    return null;\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542269323, "post_id": 53301057, "comment_id": 93509934, "body": "Thanks for your answer, but that&#39;s not why it&#39;s not working. The <code>errorVar: boolean = false</code>  was meant as a pointer that I have declared the variable earlier in the class; the function is a representation what I want to achieve, not a functioning piece of code. Not that I can explain it, but rest assured, I have about 20 other declarations that work just fine this way. ...and to your second point, TypeScript let&#39;s you define the variable type by using a colon after the name."}, {"owner": {"reputation": 311, "user_id": 3608483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0cb7d89f779f707bae88417122fb64?s=128&d=identicon&r=PG&f=1", "display_name": "XouDo", "link": "https://stackoverflow.com/users/3608483/xoudo"}, "reply_to_user": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542273147, "post_id": 53301057, "comment_id": 93511932, "body": "Well, I tested my code on <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">TypeScript playground</a>. <code>let errorMessageText: &quot;test&quot;</code> did not work (<code>errorMessageText</code>was undefined), but <code>let errorMessageText= &quot;test&quot;</code> did."}, {"owner": {"reputation": 311, "user_id": 3608483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0cb7d89f779f707bae88417122fb64?s=128&d=identicon&r=PG&f=1", "display_name": "XouDo", "link": "https://stackoverflow.com/users/3608483/xoudo"}, "reply_to_user": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542273729, "post_id": 53301057, "comment_id": 93512326, "body": "Concerning the &quot;pointer&quot; thing, what you can do is pass an object <code>{ errorMessageText:&quot;&quot; }</code> as parameter, and modify its property inside the function."}, {"owner": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542450501, "post_id": 53301057, "comment_id": 93578458, "body": "Of course it didn&#39;t, because as I said before, you define the type of the variable with the colon &quot;:&quot; and write it with the equal sign &quot;=&quot;. So in this example I am setting <code>errorMessageText</code> as type string.... but all that is beside the point, because the function properly returns <code>errorMessageText</code>, what I need is that the function returns a SECOND variable!"}, {"owner": {"reputation": 311, "user_id": 3608483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0cb7d89f779f707bae88417122fb64?s=128&d=identicon&r=PG&f=1", "display_name": "XouDo", "link": "https://stackoverflow.com/users/3608483/xoudo"}, "reply_to_user": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "edited": false, "score": 0, "creation_date": 1542522977, "post_id": 53301057, "comment_id": 93594066, "body": "Ok, this was a typo error. Could it be that you have a problem of <code>this</code> binding that prevents you from settings <code>errorVar</code> (if it&#39;s declared in a class)? In that case, you could  bind explicitly by passing <code>myFunction.bind(myInstance)</code> instead of <code>myFunction</code>.  Anyway, good luck for your problem."}], "tags": [], "owner": {"reputation": 311, "user_id": 3608483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0cb7d89f779f707bae88417122fb64?s=128&d=identicon&r=PG&f=1", "display_name": "XouDo", "link": "https://stackoverflow.com/users/3608483/xoudo"}, "is_accepted": false, "score": 0, "last_activity_date": 1542201120, "creation_date": 1542201120, "answer_id": 53301057, "question_id": 53296586, "link": "https://stackoverflow.com/questions/53296586/set-variable-from-function/53301057#53301057", "title": "Set variable from function", "body": "<p>I think there are several problems</p>\n\n<ul>\n<li>your <code>errorVar</code> should be declared using <code>var</code> or <code>let</code> so you can set it in the function via a closure</li>\n<li>your <code>errorMessageText</code> variable must be set using <code>=</code> and not <code>:</code></li>\n</ul>\n\n<p>like this: </p>\n\n<pre><code>var errorVar: boolean = false;\n\nfunction(c: AbstractControl): {[key: string]: string } | null {\n    // validation if 'test' is true or not goes here\n    if(test) {\n        errorVar = true;\n        let errorMessageText: string =\"test\";\n        return {'errorText': errorMessageText};\n    }\n    errorVar = false;\n    return null;\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10092371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9809c035d45dfa872cfd9b137551eb?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipK", "link": "https://stackoverflow.com/users/10092371/philipk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542201120, "creation_date": 1542186866, "last_edit_date": 1542192537, "question_id": 53296586, "link": "https://stackoverflow.com/questions/53296586/set-variable-from-function", "title": "Set variable from function", "body": "<p>This may be an easy question/answer, but I can't seem to wrap my head around it: \nI am validating fields with a function using AbstractControl:</p>\n\n<pre><code>errorVar: boolean = false\n\nfunction(c: AbstractControl): {[key: string]: string } | null {\n // validation if 'test' is true or not goes here\n if(test) {\n  let errorMessageText: \"test\"\n  return {'errorText': errorMessageText};\n }\nreturn null;\n}\n</code></pre>\n\n<p>Besides the <code>errorText</code> I want the function to also set the variable <code>errorVar</code> to <code>true</code> and to <code>false</code> if the function returns null.</p>\n"}, {"tags": ["angular", "typescript", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10581965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84697d94668733f74857314d5920421b?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/10581965/pratik"}, "edited": false, "score": 0, "creation_date": 1542188216, "post_id": 53296915, "comment_id": 93474866, "body": "API provides dynamic data e.g. course id &amp; course name Will your code create Switch dynamically? I have used dynamic IDs several thousands of times in web development, but not sure how it goes here in NS?"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "reply_to_user": {"reputation": 43, "user_id": 10581965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84697d94668733f74857314d5920421b?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/10581965/pratik"}, "edited": false, "score": 0, "creation_date": 1542194056, "post_id": 53296915, "comment_id": 93478518, "body": "Listview takes an array of data items as input and renders items for each based on the item template you pass in. My code was just psuedo to showcase how you bind the checked property directly instead of I&#39;d. Read more about ListView in the official docs."}, {"owner": {"reputation": 43, "user_id": 10581965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84697d94668733f74857314d5920421b?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/10581965/pratik"}, "edited": false, "score": 0, "creation_date": 1542199926, "post_id": 53296915, "comment_id": 93481847, "body": "Manoj, thanks for the correct input. I took a while to understand your suggestion. Now I am able to do it but console.log does not reflect user updated state of Switch.  Even when all Switches are slide to off state, console says true. As long as I feel, I am not doing anything wrong in ObservableArray. Any further clue will help me call it a day !!!"}], "tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1542187919, "creation_date": 1542187919, "answer_id": 53296915, "question_id": 53296561, "link": "https://stackoverflow.com/questions/53296561/nativescript-array-of-switch-elements-tricks-to-read-value-in-tap-of-button/53296915#53296915", "title": "Nativescript Array of Switch elements | Tricks to read value in tap of Button", "body": "<p>I wouldn't recommend using dynamic IDs. Also when using ListView, it's not guaranteed that all your Switches / templates are alive, as you scroll up and down same element will be recycled with different data to retain performance.</p>\n\n<p>So you should play with data here, bind the checked state of Switch to a property in data item. For example</p>\n\n<pre><code>&lt;Switch [checked]=\"result.selected\" class=\"m-15\" row=\"0\" col=\"1\" &gt;&lt;/Switch&gt;\n</code></pre>\n\n<p>Now you will just have to loop through the array to find which item is selected.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 10581965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84697d94668733f74857314d5920421b?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/10581965/pratik"}, "edited": false, "score": 0, "creation_date": 1542266831, "post_id": 53313705, "comment_id": 93508795, "body": "Thanks Narendra for the help. My assumption of Observable Array was a two way automatic binding. i.e. Data from API will get bind to Switch state in .html and vice versa user changes of switch slide will automatically reflect into result.selected value of observable array.   There is documentation for two way data binding, then why do we need to manually check id of switch that is pressed and then modify the result.selected?   Though, meantime will try your solution Narendra."}], "tags": [], "owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "is_accepted": true, "score": 0, "last_activity_date": 1542263689, "creation_date": 1542263689, "answer_id": 53313705, "question_id": 53296561, "link": "https://stackoverflow.com/questions/53296561/nativescript-array-of-switch-elements-tricks-to-read-value-in-tap-of-button/53313705#53313705", "title": "Nativescript Array of Switch elements | Tricks to read value in tap of Button", "body": "<p>Mutiple ways to achive the desired</p>\n\n<ol>\n<li><p>Add the onSwitchChecked</p>\n\n<p>  </p></li>\n</ol>\n\n<p>and in your .ts file handle the onSwitchChecked</p>\n\n<pre><code>    import { Switch } from 'ui/switch';\n    public onSwitchChecked(args) {\n            const sortSwitch = &lt;Switch&gt;args.object;\n            if (sortSwitch.id === 'id of your swich') {\n                if (sortSwitch.checked) {\n// Change the _coursesmeta or result.selected here.\n    }\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Use the ng model for your result.checked e.g. </p>\n\n<pre><code>&lt;Switch [(ngModel)]='isSwitchChecked' (checkedChange)=\"onSwitchChecked($event)\"&gt;&lt;/Switch&gt;\n</code></pre></li>\n</ol>\n\n<p>and in yout .ts</p>\n\n<pre><code> public onSwitchChecked() {\n            alert(this.isSwitchChecked);\n        }\n</code></pre>\n\n<p>I have created playground and you can test functionality <a href=\"https://play.nativescript.org/?template=play-ng&amp;id=giJgV5\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 10581965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84697d94668733f74857314d5920421b?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/10581965/pratik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 53313705, "answer_count": 2, "score": 0, "last_activity_date": 1542263689, "creation_date": 1542186759, "last_edit_date": 1542202228, "question_id": 53296561, "link": "https://stackoverflow.com/questions/53296561/nativescript-array-of-switch-elements-tricks-to-read-value-in-tap-of-button", "title": "Nativescript Array of Switch elements | Tricks to read value in tap of Button", "body": "<p>Scenario:</p>\n\n<p>Using Nativescript 5.0 with Angular</p>\n\n<ol>\n<li>I have data coming from API (customers.component.ts)</li>\n<li>Rendering n number of  as many IDs I get from API. Works great (customers.component.html)</li>\n<li>User taps the Switches to make his choice and finally taps Save Button which calls a function saveData()</li>\n<li>In saveData(), I am unable to read which Switches are checked.</li>\n</ol>\n\n<p>I tried below in customers.component.html, it renders perfectly based on the data received from API. No error in this.</p>\n\n<pre><code>&lt;ListView [items]=\"_coursesmeta\" [height]  = \"_coursesmeta.length == 0 ? 30 : _coursesmeta.length * 70\" class=\"list-group\"&gt;\n    &lt;ng-template let-result=\"item\"&gt;   \n        &lt;GridLayout rows=\"auto auto\" columns=\"* *\" class=\"m-5\" verticalAlignment=\"stretch\"&gt;\n            &lt;Label class=\"h3 m-15\" [text]=\"result.coursename\" textWrap=\"true\" row=\"0\" col=\"0\"&gt;&lt;/Label&gt;\n            &lt;Switch [id]=\"'switch[' + id + ']'\" class=\"m-15\" row=\"0\" col=\"1\" &gt;&lt;/Switch&gt;                \n        &lt;/GridLayout&gt;\n    &lt;/ng-template&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>Is<br>\n[id]=\"'switch[' + id + ']'\"\nthis ok?\nIs there any way to read if any of the Switches are checked.</p>\n\n<p>Switches are dynamically created based on API data.</p>\n\n<p>**Edit - adding code below **</p>\n\n<pre><code>&lt;ListView [items]=\"_coursesmeta\" [height]  = \"_coursesmeta.length == 0 ? 30 : _coursesmeta.length * 70\" class=\"list-group\"&gt;\n          &lt;ng-template let-result=\"item\"&gt;   \n          &lt;GridLayout rows=\"auto auto\" columns=\"* *\" class=\"m-5\" verticalAlignment=\"stretch\"&gt;\n          &lt;Label class=\"h3 m-15\" [text]=\"result.coursename\" textWrap=\"true\" row=\"0\" col=\"0\"&gt;&lt;/Label&gt;\n         &lt;Switch [checked]=\"result.selected\" class=\"m-15\" row=\"0\" col=\"1\" &gt;&lt;/Switch&gt;               &lt;/GridLayout&gt;\n     &lt;/ng-template&gt;\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>and important portion of ts file is </p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { RouterExtensions } from \"nativescript-angular/router\";\nimport { ActivatedRoute } from \"@angular/router\";\n\nimport { ObservableArray } from \"data/observable-array\";\nimport * as Permissions from \"nativescript-permissions\";\nimport { Coursemeta } from \"../../shared/coursemeta.model\";\nimport { CoursemetaService } from \"~/app/shared/coursemeta.service\";\nvar contacts = require( \"nativescript-contacts\" );\n\nimport { finalize } from 'rxjs/operators';\n\nexport class ContactManagerComponent implements OnInit {\n\n    public constructor(private router: RouterExtensions, private route: ActivatedRoute, private _coursemetaservice: CoursemetaService) { }\n    public _coursesmeta: ObservableArray&lt;Coursemeta&gt; = new ObservableArray&lt;Coursemeta&gt;([]); \n\n    ngOnInit(): void {                 \n        this.callerName=this.route.snapshot.params[\"callerName\"]; \n        this.callerNumber=this.route.snapshot.params[\"callerNumber\"]; \n        this.input=\"\";\n        this._coursemetaservice.getCoursesmeta()\n            .pipe(finalize(() =&gt; this._isLoading = false))\n            .subscribe((coursesmeta: Array&lt;Coursemeta&gt;) =&gt; {\n                this._coursesmeta = new ObservableArray(coursesmeta);       \n                this.courseCount=this._coursesmeta.length;        \n                this._isLoading = false;                 \n            });        \n    }\n\npublic ShowSelectedCourses()\n{\n\n    for(var i=0; i &lt; this._coursesmeta.length; i++)\n    {\n        if(this._coursesmeta.getItem(i).selected == false)\n        {\n            alert(\"false = \" + i);\n        }    \n    }\n    alert(\"Saved ....\");        \n}\n}\n</code></pre>\n\n<p>What I expect is, if user slides the switch, then selected property should change its value as its part of observablearray.</p>\n\n<p><strong>I am able to see data as expected, no error in API data communication, rendering is perfect.</strong></p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-components"], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542186905, "post_id": 53296565, "comment_id": 93474074, "body": "Thanks for the answer, is it possible highlight the first customer??"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187141, "post_id": 53296565, "comment_id": 93474200, "body": "What class and where you want to put for highlighting ?"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187239, "post_id": 53296565, "comment_id": 93474254, "body": "In the list component, Means the <code>first list-item (i,e customer-one)</code> should be <code>selected&#47;highlighted</code> by default.."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187441, "post_id": 53296565, "comment_id": 93474396, "body": "Check the updated answer and link. I added the class <code>selected</code> in <code>mat-list-option</code> but you can change as per requirement."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187573, "post_id": 53296565, "comment_id": 93474488, "body": "I have seen the <code>stackblitz</code> link,it&#39;s not highlighting the first customer."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187666, "post_id": 53296565, "comment_id": 93474545, "body": "I just want to change the 1st selected item &#39;s  <code>(i,e customer one)</code> <b>background color</b> or <b>color</b>."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187808, "post_id": 53296565, "comment_id": 93474625, "body": "Updated the link. checknow"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542187906, "post_id": 53296565, "comment_id": 93474674, "body": "I got it,Thank you."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542189633, "post_id": 53296565, "comment_id": 93475773, "body": "Actually i was previously tried this code to <b>highlight the customer-list</b>, from now your code i am bit confused ...:) Here is the link which i used <b>to highlight the customer list onclick</b> : <code>https:&#47;&#47;stackblitz.com&#47;edit&#47;list-examples-mine-btgyuq?file=a&zwnj;&#8203;pp&#47;list&#47;list.compone&zwnj;&#8203;nt.scss</code>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542189679, "post_id": 53296565, "comment_id": 93475793, "body": "You did not the add code for html and ts. Here is your modified code. <a href=\"https://stackblitz.com/edit/list-examples-mine-gta2rl\" rel=\"nofollow noreferrer\">stackblitz.com/edit/list-examples-mine-gta2rl</a>"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542189950, "post_id": 53296565, "comment_id": 93475987, "body": "This is highlighting the 1st customer by default i,e fine but on clicking next customer the previous click is not going, <b>Means on clicking next customer previous customer is still highlighted</b>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1542190163, "post_id": 53296565, "comment_id": 93476092, "body": "Its because of your css issue.  check here <a href=\"https://stackblitz.com/edit/list-examples-mine-gta2rl\" rel=\"nofollow noreferrer\">stackblitz.com/edit/list-examples-mine-gta2rl</a>. If you have any other issue, feel free to raise another query."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1542190410, "post_id": 53296565, "comment_id": 93476236, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/183618/discussion-between-prashanth-gh-and-sunil-singh\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1542187398, "last_edit_date": 1542187398, "creation_date": 1542186779, "answer_id": 53296565, "question_id": 53296357, "link": "https://stackoverflow.com/questions/53296357/to-display-1st-list-item-value-from-mat-selection-list-in-another-component-by-d/53296565#53296565", "title": "To display 1st list-item value from mat-selection-list in another component by default", "body": "<p>You can emit the first value once the <code>ListComponent</code> is loaded.</p>\n\n<h2>ts</h2>\n\n<pre><code>export class ListComponent {\n\n  ngOnInit() {\n    if (this.contacts &amp;&amp; this.contacts.length &gt; 0) {\n      this.select.emit(this.contacts[0]);  //&lt;-- emit the first value\n    }\n\n  }\n</code></pre>\n\n<h2>html</h2>\n\n<pre><code>  &lt;mat-selection-list  #contact&gt;\n        &lt;mat-list-option \n      [ngClass]=\"{selected : contact.name == currentContact.name}\"  \n      *ngFor=\"let contact of contacts\"&gt;\n            &lt;a mat-list-item (click)=\"onSelect(contact)\"&gt;&lt;span&gt;{{ contact.name }}&lt;/span&gt; &lt;/a&gt;\n        &lt;/mat-list-option&gt;\n      &lt;/mat-selection-list&gt;\n</code></pre>\n\n<p>Here is the working copy - <a href=\"https://stackblitz.com/edit/list-examples-mine-mgshnt\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/list-examples-mine-mgshnt</a></p>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 53296565, "answer_count": 1, "score": 1, "last_activity_date": 1542187398, "creation_date": 1542186095, "question_id": 53296357, "link": "https://stackoverflow.com/questions/53296357/to-display-1st-list-item-value-from-mat-selection-list-in-another-component-by-d", "title": "To display 1st list-item value from mat-selection-list in another component by default", "body": "<p>I have 2 components called:</p>\n\n<p><strong>1)list (used to display customer list)</strong></p>\n\n<p><strong>2)detail (used to display customer details)</strong></p>\n\n<p>These two components are generic components,So i am re using these components inside another component called <strong>customer</strong>.which will be displayed as shown in below image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nBMKa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nBMKa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here on clicking particular customer name(ex customer one) on <code>list</code> component, I am displaying that customer values(ex Name and age) on <code>details</code> component(i,e Customer details).This scenario working fine.</p>\n\n<p><strong>But i want first list-item(i,e customer one) to be highlighted and its value(i,e name and age) to be displayed on the details component by default.</strong> like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MAcDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MAcDx.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://stackblitz.com/edit/list-examples-mine-bmjfra?file=app/customer/customer.component.html\" rel=\"nofollow noreferrer\">Stackblitz</a> Link</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "passport.js", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 5862455, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/351a626af86085930bfb40098c38897c?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/5862455/albert"}, "edited": false, "score": 2, "creation_date": 1588702611, "post_id": 53302059, "comment_id": 108999070, "body": "I don&#39;t understand. How should I pass a new access token to the client using this approach? Would you please elaborate?"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 1022, "user_id": 5862455, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/351a626af86085930bfb40098c38897c?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/5862455/albert"}, "edited": false, "score": 0, "creation_date": 1594375365, "post_id": 53302059, "comment_id": 111110405, "body": "@Albert It really depends on your specific requirements, but maybe this <a href=\"https://stackoverflow.com/a/61837033/4694994\">thread</a> will be helpful."}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 11, "last_activity_date": 1546127105, "last_edit_date": 1546127105, "creation_date": 1542204286, "answer_id": 53302059, "question_id": 53296157, "link": "https://stackoverflow.com/questions/53296157/how-to-refresh-token-in-nestjs/53302059#53302059", "title": "How to refresh token in Nestjs", "body": "<p>Instead of using the built-in <code>AuthGuard</code> you can create your own one and overwrite the request handler:</p>\n\n<pre><code>@Injectable()\nexport class MyAuthGuard extends AuthGuard('jwt') {\n\n  handleRequest(err, user, info: Error) {\n    if (info instanceof TokenExpiredError) {\n      // do stuff when token is expired\n      console.log('token expired');\n    }\n    return user;\n  }\n\n}\n</code></pre>\n\n<p>Depending on what you want to do, you can also overwrite the <code>canActivate</code> method where you have access to the request object. Have a look at the <a href=\"https://github.com/nestjs/passport/blob/6d9c71fa04e5c16480ba0b7e7671e43918dd9ff4/lib/auth.guard.ts\" rel=\"noreferrer\"><code>AuthGuard</code> sourcecode</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1249, "user_id": 1022043, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/91a492901a1ff4eaa488051e2c65f981?s=128&d=identicon&r=PG", "display_name": "glasspill", "link": "https://stackoverflow.com/users/1022043/glasspill"}, "edited": false, "score": 0, "creation_date": 1591965652, "post_id": 62055576, "comment_id": 110261729, "body": "this doesn&#39;t attach the user to the request"}, {"owner": {"reputation": 1498, "user_id": 8381015, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YsMDIFS4UxQ/AAAAAAAAAAI/AAAAAAAAABQ/0Y-uLXxOJ7M/photo.jpg?sz=128", "display_name": "\u017deljko \u0160evi\u0107", "link": "https://stackoverflow.com/users/8381015/%c5%bdeljko-%c5%a0evi%c4%87"}, "reply_to_user": {"reputation": 1249, "user_id": 1022043, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/91a492901a1ff4eaa488051e2c65f981?s=128&d=identicon&r=PG", "display_name": "glasspill", "link": "https://stackoverflow.com/users/1022043/glasspill"}, "edited": false, "score": 0, "creation_date": 1591969445, "post_id": 62055576, "comment_id": 110263700, "body": "attaching the user to the request is done in <code>validate</code> method in <code>JwtStrategy</code> class, I added an example for that"}], "tags": [], "owner": {"reputation": 1498, "user_id": 8381015, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YsMDIFS4UxQ/AAAAAAAAAAI/AAAAAAAAABQ/0Y-uLXxOJ7M/photo.jpg?sz=128", "display_name": "\u017deljko \u0160evi\u0107", "link": "https://stackoverflow.com/users/8381015/%c5%bdeljko-%c5%a0evi%c4%87"}, "is_accepted": false, "score": 14, "last_activity_date": 1591969385, "last_edit_date": 1591969385, "creation_date": 1590630034, "answer_id": 62055576, "question_id": 53296157, "link": "https://stackoverflow.com/questions/53296157/how-to-refresh-token-in-nestjs/62055576#62055576", "title": "How to refresh token in Nestjs", "body": "<p>Refresh token implementation could be handled in <code>canActivate</code> method in custom auth guard.</p>\n\n<p>If the access token is expired, the refresh token will be used to obtain a new access token. In that process, refresh token is updated too.</p>\n\n<p>If both tokens aren't valid, cookies will be cleared.</p>\n\n<pre><code>@Injectable()\nexport class CustomAuthGuard extends AuthGuard('jwt') {\n  private logger = new Logger(CustomAuthGuard.name);\n\n  constructor(\n    private readonly authService: AuthService,\n    private readonly userService: UserService,\n  ) {\n    super();\n  }\n\n  async canActivate(context: ExecutionContext): Promise&lt;boolean&gt; {\n    const request = context.switchToHttp().getRequest();\n    const response = context.switchToHttp().getResponse();\n\n    try {\n      const accessToken = ExtractJwt.fromExtractors([cookieExtractor])(request);\n      if (!accessToken)\n        throw new UnauthorizedException('Access token is not set');\n\n      const isValidAccessToken = this.authService.validateToken(accessToken);\n      if (isValidAccessToken) return this.activate(context);\n\n      const refreshToken = request.cookies[REFRESH_TOKEN_COOKIE_NAME];\n      if (!refreshToken)\n        throw new UnauthorizedException('Refresh token is not set');\n      const isValidRefreshToken = this.authService.validateToken(refreshToken);\n      if (!isValidRefreshToken)\n        throw new UnauthorizedException('Refresh token is not valid');\n\n      const user = await this.userService.getByRefreshToken(refreshToken);\n      const {\n        accessToken: newAccessToken,\n        refreshToken: newRefreshToken,\n      } = this.authService.createTokens(user.id);\n\n      await this.userService.updateRefreshToken(user.id, newRefreshToken);\n\n      request.cookies[ACCESS_TOKEN_COOKIE_NAME] = newAccessToken;\n      request.cookies[REFRESH_TOKEN_COOKIE_NAME] = newRefreshToken;\n\n      response.cookie(ACCESS_TOKEN_COOKIE_NAME, newAccessToken, COOKIE_OPTIONS);\n      response.cookie(\n        REFRESH_TOKEN_COOKIE_NAME,\n        newRefreshToken,\n        COOKIE_OPTIONS,\n      );\n\n      return this.activate(context);\n    } catch (err) {\n      this.logger.error(err.message);\n      response.clearCookie(ACCESS_TOKEN_COOKIE_NAME, COOKIE_OPTIONS);\n      response.clearCookie(REFRESH_TOKEN_COOKIE_NAME, COOKIE_OPTIONS);\n      return false;\n    }\n  }\n\n  async activate(context: ExecutionContext): Promise&lt;boolean&gt; {\n    return super.canActivate(context) as Promise&lt;boolean&gt;;\n  }\n\n  handleRequest(err, user) {\n    if (err || !user) {\n      throw new UnauthorizedException();\n    }\n\n    return user;\n  }\n}\n</code></pre>\n\n<p>Attaching user to the request is done in <code>validate</code> method in <code>JwtStrategy</code> class, it will be called if the access token is valid</p>\n\n<pre><code>@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(\n    readonly configService: ConfigService,\n    private readonly userService: UserService,\n  ) {\n    super({\n      jwtFromRequest: cookieExtractor,\n      ignoreExpiration: false,\n      secretOrKey: configService.get('jwt.secret'),\n    });\n  }\n\n  async validate({ id }): Promise&lt;User&gt; {\n    const user = await this.userService.get(id);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n\n    return user;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 9970356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRlD4.jpg?s=128&g=1", "display_name": "Sang Dang", "link": "https://stackoverflow.com/users/9970356/sang-dang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11619, "favorite_count": 4, "accepted_answer_id": 53302059, "answer_count": 2, "score": 16, "last_activity_date": 1591969385, "creation_date": 1542185344, "last_edit_date": 1542204346, "question_id": 53296157, "link": "https://stackoverflow.com/questions/53296157/how-to-refresh-token-in-nestjs", "title": "How to refresh token in Nestjs", "body": "<pre><code>import { ExtractJwt, Strategy } from 'passport-jwt';\nimport { AuthService } from './auth.service';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { JwtPayload } from './model/jwt-payload.model';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(private readonly authService: AuthService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: 'secretKey',\n    });\n  }\n\n  async validate(payload: JwtPayload) {\n    const user = await this.authService.validateUser(payload);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return true;\n  }\n}\n</code></pre>\n\n<p>Token is extracted from the request by <code>PassportStrategy</code>. I don't know how to catch the error when the token expires or gets invalid. My purpose is if there is an error because the token expired, I need to refresh the token. Otherwise do something else.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 1, "last_activity_date": 1542185398, "creation_date": 1542185398, "answer_id": 53296170, "question_id": 53296047, "link": "https://stackoverflow.com/questions/53296047/typescript-array-interace-with-numbered-index-and-custom-properties-accessbile-b/53296170#53296170", "title": "Typescript array interace with numbered index and custom properties accessbile by string keys", "body": "<p>What you are doing is weird and Typescript team intentionally does not support such weird ideas. Hence, you have to do some weird workarounds (sorry for writing \"weird\" 3 times):</p>\n\n<pre><code>interface IItem {\n    key: string\n}\n\ntype ICustomArray = Array&lt;IItem&gt; &amp; {\n    [key: string]: IItem\n}\n\nconst myArray: ICustomArray = [] as unknown as ICustomArray\n\nmyArray.push(item)\nmyArray[item.key] = item;\n</code></pre>\n\n<p>The weirdness is in combining array and object. Moreover, the object can have any keys. There is no much benefit from an interface with arbitrary keys.</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1542185521, "creation_date": 1542185521, "answer_id": 53296202, "question_id": 53296047, "link": "https://stackoverflow.com/questions/53296047/typescript-array-interace-with-numbered-index-and-custom-properties-accessbile-b/53296202#53296202", "title": "Typescript array interace with numbered index and custom properties accessbile by string keys", "body": "<p>The problem with your type is that it is inconsistent with regard to the string index signature (<code>[key: string] : IItem;</code>). Not all keys accessed this way will be of type <code>IItem</code> if you inherit array. For example <code>myArray['map']</code> will be the array function not <code>IItem</code>. This is the reason typescript forces the string index signature to be compatible with ALL statically declared members of the interface.</p>\n\n<p>There is a loophole in this check though. The intersection type loophole. We can declare <code>ICustomArray</code> as an intersection of array and a type that has the index signature.</p>\n\n<pre><code>export type ICustomArray = Array&lt;IItem&gt; &amp; {\n  [key: string] : IItem;\n}\n\nlet item: IItem;\nconst myArray: ICustomArray = [] as ICustomArray\nmyArray.push(item)\nmyArray[item.key] = item;\n</code></pre>\n\n<p>This will mostly have work the way you would expect:</p>\n\n<pre><code>let o = myArray['map'] // o is a function of type  &lt;U&gt;(callbackfn: (value: IItem, index: number, array: IItem[]) =&gt; U, thisArg?: any) =&gt; U[]\nlet i = myArray['key'] //IItem\ndeclare let randomStr: string\nlet d = myArray[randomStr] //IItem .. but if randomStr= map, we have a runtime problem\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1542187715, "creation_date": 1542187715, "answer_id": 53296854, "question_id": 53296047, "link": "https://stackoverflow.com/questions/53296047/typescript-array-interace-with-numbered-index-and-custom-properties-accessbile-b/53296854#53296854", "title": "Typescript array interace with numbered index and custom properties accessbile by string keys", "body": "<p>I have been thinking a bit about the infamous <a href=\"https://www.stevefenton.co.uk/2018/11/typescript-dictarray-options/\" rel=\"nofollow noreferrer\">TypeScript Dictarray</a>, as this has come up a few times.</p>\n\n<p>There is a quick and dirty fix that basically supresses the error on type creation. The reason this is interesting is that the type checking and inference both work as expected if you do this. You are effectively ignoring the conflice between all of the members of <code>Array</code> with your string-keyed items.</p>\n\n<pre><code>interface Dictarray extends Array&lt;string&gt; {\n    [index: number]: string;\n    // @ts-ignore: I'm creating a Dictarray!\n    [key: string] : string;\n}\n</code></pre>\n\n<p>If you use this, you can effectively carry on exactly as you anticipated when you create the type - although if you are creating a new type, you could consider <em>not</em> jamming them together as an option.</p>\n\n<p>You can use this generic <code>Dictarray</code> rather than a hard-stringed version:</p>\n\n<pre><code>interface Dictarray&lt;T&gt; extends Array&lt;T&gt; {\n    [index: number]: T;\n    // @ts-ignore: I'm creating a Dictarray!\n    [key: string]: T;\n}\n\nconst dictarray = [] as Dictarray&lt;string&gt;;\n</code></pre>\n"}], "owner": {"reputation": 1585, "user_id": 788784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a02ac562683e9ff16474cf727bfa7661?s=128&d=identicon&r=PG", "display_name": "Jan M&#237;\u0161ek", "link": "https://stackoverflow.com/users/788784/jan-m%c3%ad%c5%a1ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1542187715, "creation_date": 1542184928, "question_id": 53296047, "link": "https://stackoverflow.com/questions/53296047/typescript-array-interace-with-numbered-index-and-custom-properties-accessbile-b", "title": "Typescript array interace with numbered index and custom properties accessbile by string keys", "body": "<p>I would like to have array of objects indexed by numbers and and also to put all of the objects on the array under specific key</p>\n\n<p>Something like this:</p>\n\n<pre><code>const myArray:ICustomArray = []\nmyArray.push(item)\nmyArray[item.key] = item;\n</code></pre>\n\n<p>But I am struggling to define its interface. First I expected something like this will work but it does not.</p>\n\n<pre><code>export interface ICustomArray extends Array&lt;IItem&gt; {\n  [index: number] : IItem;\n  [key: string] : IItem;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["typescript", "interface", "naming-conventions"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1542183523, "post_id": 53295529, "comment_id": 93472228, "body": "I don&#39;t see the problem. What&#39;s wrong with having your class implement one <code>foo()</code> method to satisfy two interfaces?"}, {"owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1542185729, "post_id": 53295529, "comment_id": 93473337, "body": "the whole point is, that sometimes you must. mostly solved by having implementations to depend on each other, just as you can do this when overriding a method and calling the base-method inside somewhere."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1542185834, "post_id": 53295529, "comment_id": 93473393, "body": "Sometimes you must what? You probably have something in mind, but it&#39;s not apparent from your question. It&#39;s unclear what problem you&#39;re trying to solve."}, {"owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1542189848, "post_id": 53295529, "comment_id": 93475913, "body": "@RobbyCornelissen im working around not being able to explicitly implement interfaces with naming. I wonder if that is the best practice to do so. Of course this is a question not related to functionalty. Its more a matter of writing clean code."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1542190054, "post_id": 53295529, "comment_id": 93476040, "body": "Maybe someone else will take a stab at answering your question, but I don&#39;t know what &quot;not being able to explicitly implement interfaces with naming&quot; means."}, {"owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1542190451, "post_id": 53295529, "comment_id": 93476268, "body": "@rob in typescript you can&#39;t explicitly implement interfaces, as explained you can do this eg. in c#: <code>Interface.Method(){}</code> Because this syntax doesn&#39;t exist for reasons I explained in my question, i am working around this by naming."}], "answers": [{"tags": [], "owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "is_accepted": false, "score": 0, "last_activity_date": 1542182732, "creation_date": 1542182732, "answer_id": 53295530, "question_id": 53295529, "link": "https://stackoverflow.com/questions/53295529/typescript-interface-member-prefixing/53295530#53295530", "title": "TypeScript Interface-Member prefixing", "body": "<p>I came up with the solution to prefix an abbrevation of the interface-name:</p>\n\n<pre><code>export interface SomeFancyDelegate {\n    sfdLoadData();\n}\n</code></pre>\n\n<p>But im still interrested in any other or hopefully better solution.</p>\n\n<p><em>Anyway, would you in this case alaway prefix your interface members for consistency?</em></p>\n"}], "owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1542182732, "creation_date": 1542182732, "question_id": 53295529, "link": "https://stackoverflow.com/questions/53295529/typescript-interface-member-prefixing", "title": "TypeScript Interface-Member prefixing", "body": "<h2>Problem</h2>\n\n<p>According to my research, typescript interfaces exist only at compiletime and have no according structure in JS, whereas a class does. </p>\n\n<p>That's why you cant explicitly implement interfaces, as you can do this in other languages like c# for instance.</p>\n\n<p>consider this example:</p>\n\n<pre><code>export interface FooableBar {\n    foo();\n}\n\nexport class Bar implements FooableBar {\n    foo(){}\n}\n</code></pre>\n\n<p>Of course if i wanted to have another implementation of <code>foo()</code> for <code>Bar</code> I could simply rename it.</p>\n\n<p>But what if <code>Bar</code> was to implement a second Interface like this:</p>\n\n<pre><code>export interface SpecialFooable {\n    foo();\n}\n</code></pre>\n\n<p>This is where explicit implementations would do the job perfectly. Unfortunately this has to be done with naming. </p>\n\n<h2>Question</h2>\n\n<p>Generally asking: <em>What is the best way to do this in TypeScript?</em></p>\n\n<p>or <em>What sort of naming-convention does fit the TypeScript concepts the most?</em></p>\n\n<p>For instance, i've found that it is common to use a prefix for libraries or frameworks like angular. Where this interface may be found:</p>\n\n<pre><code>export interface OnInit {\n    ngOnInit();\n}\n</code></pre>\n\n<p>prefixing <code>ng</code> indeed provides the option to just implement <code>onInit()</code> our own, but in my case adding a <code>app</code> prefix would not solve the problem at all. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1542182619, "post_id": 53295457, "comment_id": 93471829, "body": "you can use <code>providedIn: &#39;root&#39;</code> in your singleton service then, whenever you need to use it, use <code>@Inject(DateAdapter)</code> so that angular is aware that it needs to inject the service instance."}, {"owner": {"reputation": 357, "user_id": 2043900, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbbfaaaee1011fea339905aed18c0c07?s=128&d=identicon&r=PG", "display_name": "thadam", "link": "https://stackoverflow.com/users/2043900/thadam"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 4, "creation_date": 1542183901, "post_id": 53295457, "comment_id": 93472416, "body": "@briosheje hmm, ok but if I undertand it correctly, then this service should be used in every Lazy Loaded modules to set dateAdapter locale. Am I right? I would like to inject DateAdapter in my root component and call one time setLocale()  and with that change locale in every Lazy Loaded module."}], "answers": [{"comments": [{"owner": {"reputation": 4332, "user_id": 9369606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bp5iz6kBNgY/AAAAAAAAAAI/AAAAAAAADsM/vnrFyE7XH_Q/photo.jpg?sz=128", "display_name": "Rafi Henig", "link": "https://stackoverflow.com/users/9369606/rafi-henig"}, "edited": false, "score": 0, "creation_date": 1594998611, "post_id": 62797950, "comment_id": 111332172, "body": "Thanks it was very helpful!,  although I would like to understand how it solves the problem, AFAIK although modules are always shared, providers are always recreated on lazy modules unless you export them through static method returning <code>ModuleWithProviders</code> and call that static method in the root module which is  clearly not the case here."}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "reply_to_user": {"reputation": 4332, "user_id": 9369606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bp5iz6kBNgY/AAAAAAAAAAI/AAAAAAAADsM/vnrFyE7XH_Q/photo.jpg?sz=128", "display_name": "Rafi Henig", "link": "https://stackoverflow.com/users/9369606/rafi-henig"}, "edited": false, "score": 0, "creation_date": 1595010391, "post_id": 62797950, "comment_id": 111337589, "body": "@RafiHenig When a lazy module is created all providers from the root injector are copied to the child injector of the lazy module. So the lazy module is using the same provider as the root module. This provider will provide the same instance of <code>DateAdapter</code> to the lazy module as it does to the root module."}], "tags": [], "owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "is_accepted": false, "score": 2, "last_activity_date": 1595064112, "last_edit_date": 1595064112, "creation_date": 1594220982, "answer_id": 62797950, "question_id": 53295457, "link": "https://stackoverflow.com/questions/53295457/how-to-make-dateadapter-singleton-in-angular-2-app/62797950#62797950", "title": "How to make DateAdapter singleton in angular 2 app?", "body": "<p>The problem for me was that I imported my <code>DateAdapter</code> in my <code>SharedModule</code> and then imported that <code>SharedModule</code> in my <code>AppModule</code> and in other LazyModules.</p>\n<hr />\n<p>To make the <code>DateAdapter</code> a singleton service you should provide the <code>DateAdapter</code> you're using only once at root level in your application and not at root level and in LazyModules.</p>\n<p>To do so make sure that you import the module that provides the <code>DateAdapter</code>, e.g. <code>MatNativeDateModule</code>, only in your <code>AppModule</code> (or another root module thats imported only once like a CoreModule). Don't import <code>MatNativeDateModule</code> in multiple modules or in a module that's imported multiple times like a SharedModule.</p>\n<pre class=\"lang-ts prettyprint-override\"><code>import { MatNativeDateModule } from '@angular/material/core'\n\n@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    MatNativeDateModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n<p>Then you can set the locale in your AppComponent.</p>\n<pre class=\"lang-ts prettyprint-override\"><code>export class AppComponent implements OnInit {\n  constructor(private dateAdapter: DateAdapter&lt;Date&gt;) {}\n\n  ngOnInit(): void {\n    this.dateAdapter.setLocale('en')\n  }\n}\n</code></pre>\n<p>And the same DateAdapter with the set locale will be injected in your LazyModules.</p>\n"}], "owner": {"reputation": 357, "user_id": 2043900, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbbfaaaee1011fea339905aed18c0c07?s=128&d=identicon&r=PG", "display_name": "thadam", "link": "https://stackoverflow.com/users/2043900/thadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1595064112, "creation_date": 1542182477, "last_edit_date": 1544102700, "question_id": 53295457, "link": "https://stackoverflow.com/questions/53295457/how-to-make-dateadapter-singleton-in-angular-2-app", "title": "How to make DateAdapter singleton in angular 2 app?", "body": "<p>I'm developing an angular 7 application with lazy loaded modules. I'm using angular material components as well. I would like to localize and support multiple locales in datepicker component.</p>\n\n<p>I would like to change it globally for the whole application when application language changes. It may be done via DateAdapter.setLocale method.\nHowever the problem is that if I change it on my root module then it does not change in lazy loaded modules.</p>\n\n<p>Yes, lazy loaded modules have their injector and receive their DateAdapter, where locale is not set to the correct one.</p>\n\n<p>How to achieve that DateAdapter is singleton in the whole app? For other modules there is a forChild() vs forRoot() API, but not for datepicker module.</p>\n"}, {"tags": ["javascript", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1542183557, "post_id": 53295381, "comment_id": 93472240, "body": "Hi. What do you want to achieve? And what do you mean by this: &quot;<code>the file is const file: string[] | File | undefined instead of const file: File | undefined</code>&quot;. In my setup <code>file</code> has type <code>any</code>."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1542183724, "post_id": 53295381, "comment_id": 93472313, "body": "What is the type of <code>this.state.variables</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "is_accepted": false, "score": 0, "last_activity_date": 1542183864, "creation_date": 1542183864, "answer_id": 53295786, "question_id": 53295381, "link": "https://stackoverflow.com/questions/53295381/could-you-explain-why-typescript-guard-doesnt-work/53295786#53295786", "title": "Could you explain why typescript guard doesn&#39;t work", "body": "<p>TypeScript isn't able to link together two instances of <code>this.state.variables[entity.variable]</code> - one that is passed into type guard and another used afterwards. For it, this is two unrelated queries into array, since <code>entity.variable</code> could be very well changed by some undercover process (or even by the type guard, if it is in the same scope), and type system isn't able to catch that.</p>\n\n<p>A common workaround is to use the temporary variable:</p>\n\n<pre><code>type Variable = string[] | File;\n\nfunction isFile(variable: Variable): variable is File {\n  return (variable as File).name !== undefined;\n}\n\nfunction getFileFromVariables(entity: EntityInterface) {\n   const variable = this.state.variables[entity.variable];\n   return isFile(variable) ? variable : undefined;\n}\n\nconst file = getFileFromVariables(someEntity);\n</code></pre>\n\n<hr>\n\n<p>Side note: try to provide a <em>self-contained</em> example, in other words, an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. Your code was impossible to check, since we don't know neither what <code>EntityInterface</code> interface looks like nor what is <code>this</code> or <code>this.state</code>. My answer is assuming that <code>this.state.variables</code> is of type <code>Variable</code> and <code>EnintyInterface extends {variable: number}</code>, and it's enough for the code provided to give you the result you ask, but please, don't force us to do this assumptions.</p>\n"}, {"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 0, "last_activity_date": 1542184531, "last_edit_date": 1542184531, "creation_date": 1542184130, "answer_id": 53295854, "question_id": 53295381, "link": "https://stackoverflow.com/questions/53295381/could-you-explain-why-typescript-guard-doesnt-work/53295854#53295854", "title": "Could you explain why typescript guard doesn&#39;t work", "body": "<p>Your question is pretty vague. </p>\n\n<p>Other than that, all the problems you are encountering are from non-strict mode and some other poor practices. I suggest you the following:</p>\n\n<ul>\n<li>Add <code>\"strict\": true</code> to <code>compilerOptions</code> of <code>tsconfig.json</code> (at least temporarily, until you figure out the solution to your problem)</li>\n<li>Define explicitly what you want to get from a function e.g. <code>getFileFromVariables(...): File | undefined</code> </li>\n<li>If possible, don't use classic functions for such cases. Instead define a type <code>type GetFileFromVariables = (ent: EntityInterface) =&gt; File | undefined</code>, then <code>const getFileFromVariables: GetFileFromVariables = () =&gt; ...</code></li>\n</ul>\n\n<p>Then everything instantly becomes much clearer to you.</p>\n"}], "owner": {"reputation": 325, "user_id": 3716085, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/100000565832291/picture?type=large", "display_name": "Abdizriel", "link": "https://stackoverflow.com/users/3716085/abdizriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1542184531, "creation_date": 1542182162, "question_id": 53295381, "link": "https://stackoverflow.com/questions/53295381/could-you-explain-why-typescript-guard-doesnt-work", "title": "Could you explain why typescript guard doesn&#39;t work", "body": "<p>With Typescript 3.1 I have got a following piece of code</p>\n\n<pre><code>type Variable = string[] | File;\n\nfunction isFile(variable: Variable): variable is File {\n  return (variable as File).name !== undefined;\n}\n\nfunction getFileFromVariables(entity: EntityInterface) {\n   return isFile(this.state.variables[entity.variable])\n           ? this.state.variables[entity.variable]\n           : undefined;\n}\n\nconst file = getFileFromVariables(someEntity);\n</code></pre>\n\n<p>Unfortunately, I don't know why the file is\n<code>const file: string[] | File | undefined</code>\ninstead of <code>const file: File | undefined</code></p>\n\n<p>Could someone tell me why it's like this and how may I fix it?</p>\n"}, {"tags": ["typescript", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 4609, "user_id": 4636715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ebd8c54bb287f99b94373429b588e21?s=128&d=identicon&r=PG&f=1", "display_name": "vahdet", "link": "https://stackoverflow.com/users/4636715/vahdet"}, "edited": false, "score": 0, "creation_date": 1542180319, "post_id": 53294979, "comment_id": 93470909, "body": "Is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30310\" rel=\"nofollow noreferrer\">this issue</a> the same with your problem?"}, {"owner": {"reputation": 821, "user_id": 4675072, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e21a7153be7d43886046faf5a63319dc?s=128&d=identicon&r=PG&f=1", "display_name": "ananya", "link": "https://stackoverflow.com/users/4675072/ananya"}, "reply_to_user": {"reputation": 4609, "user_id": 4636715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ebd8c54bb287f99b94373429b588e21?s=128&d=identicon&r=PG&f=1", "display_name": "vahdet", "link": "https://stackoverflow.com/users/4636715/vahdet"}, "edited": false, "score": 1, "creation_date": 1542180582, "post_id": 53294979, "comment_id": 93471017, "body": "Yes , correct, i have gone through this page and using the required jasmin and typescript version.Still i am having same error. @vahdet"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542207760, "post_id": 53294979, "comment_id": 93487007, "body": "If you are using TypeScript 2.8 or newer and are still getting the error, then you probably aren&#39;t using the TypeScript version that you think you are.  How are you running the compiler?  Just <code>tsc</code> at the command line?  Try <code>tsc --version</code>."}, {"owner": {"reputation": 821, "user_id": 4675072, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e21a7153be7d43886046faf5a63319dc?s=128&d=identicon&r=PG&f=1", "display_name": "ananya", "link": "https://stackoverflow.com/users/4675072/ananya"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542258375, "post_id": 53294979, "comment_id": 93505901, "body": "After running tsc --version its showing Version 3.0.3 @MattMcCutchen"}], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 1535547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/324901370dcff73fd2e1ec8ebee282e1?s=128&d=identicon&r=PG", "display_name": "Remy Ticona", "link": "https://stackoverflow.com/users/1535547/remy-ticona"}, "is_accepted": false, "score": 0, "last_activity_date": 1542590843, "creation_date": 1542590843, "answer_id": 53367184, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected/53367184#53367184", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<p>Try this: install ncu</p>\n\n<pre><code>npm install -g npm-check-updates\n</code></pre>\n\n<p>Update tsc easily:</p>\n\n<pre><code>ncu -u\nnpm install\n</code></pre>\n\n<p>That's it all, enjoy!.</p>\n"}, {"comments": [{"owner": {"reputation": 223, "user_id": 8264546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-emz53nkZs-s/AAAAAAAAAAI/AAAAAAAAAG8/GL_yXvO3PYY/photo.jpg?sz=128", "display_name": "Mehak Fatima", "link": "https://stackoverflow.com/users/8264546/mehak-fatima"}, "edited": false, "score": 0, "creation_date": 1543224456, "post_id": 53478048, "comment_id": 93826107, "body": "&quot;typescript&quot;: &quot;~2.6.2&quot; replace 2.6.2 with ^2.9.2"}, {"owner": {"reputation": 839, "user_id": 1211127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI6Ws.jpg?s=128&g=1", "display_name": "Anand_5050", "link": "https://stackoverflow.com/users/1211127/anand-5050"}, "edited": false, "score": 0, "creation_date": 1589342779, "post_id": 53478048, "comment_id": 109252777, "body": "Worked for me. Great"}], "tags": [], "owner": {"reputation": 223, "user_id": 8264546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-emz53nkZs-s/AAAAAAAAAAI/AAAAAAAAAG8/GL_yXvO3PYY/photo.jpg?sz=128", "display_name": "Mehak Fatima", "link": "https://stackoverflow.com/users/8264546/mehak-fatima"}, "is_accepted": false, "score": 20, "last_activity_date": 1543224372, "creation_date": 1543224372, "answer_id": 53478048, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected/53478048#53478048", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<p>If you are still having the issue, in package.json add</p>\n\n<p>\"typescript\": \"^2.9.2\"</p>\n\n<p>Run npm install.</p>\n\n<p>It should work.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3355941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dfc7cd6c262cdbdbdd5eb3c82c7fdfa?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/3355941/vikas"}, "is_accepted": false, "score": 0, "last_activity_date": 1543231155, "creation_date": 1543231155, "answer_id": 53479991, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected/53479991#53479991", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<ol>\n<li>Step 1. You need to remove \"~\" before 2.8.6 or 2.8.9 in package.json</li>\n<li>Step 2. Remove the package-lock.json file and node_modules folder</li>\n<li>Step 3. Run \"npm cache clean --force\" and \"npm install\"</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2809, "user_id": 2343242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a089d97652a0d0a517a16d7f364721a?s=128&d=identicon&r=PG", "display_name": "ryanrain", "link": "https://stackoverflow.com/users/2343242/ryanrain"}, "edited": false, "score": 0, "creation_date": 1547574788, "post_id": 53741162, "comment_id": 95235460, "body": "i was seeing errors following updates I had to simply remove the caret caracter (^) from beside my <code>@types&#47;jasmine</code> version. docs on what updates are allowed by caret: <a href=\"https://docs.npmjs.com/misc/semver#caret-ranges-123-025-004\" rel=\"nofollow noreferrer\">docs.npmjs.com/misc/semver#caret-ranges-123-025-004</a>"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1605689558, "post_id": 53741162, "comment_id": 114725361, "body": "Thanks for this. As this allows removing the error without changing the typescript version."}], "tags": [], "owner": {"reputation": 341, "user_id": 5692019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x0GFm.jpg?s=128&g=1", "display_name": "monikaja", "link": "https://stackoverflow.com/users/5692019/monikaja"}, "is_accepted": false, "score": 7, "last_activity_date": 1544611156, "creation_date": 1544611156, "answer_id": 53741162, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected/53741162#53741162", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<p>I have fixed it changing my package versions:</p>\n\n<pre><code>\"@types/jasmine\": \"2.8.6\",\n\"@types/jasminewd2\": \"2.0.3\",\n</code></pre>\n\n<p>Founded in this post: \n<a href=\"http://dailydevfixes.blogspot.com/2018/11/angular-4-sudden-typesjasmine-error-at.html\" rel=\"noreferrer\">Angular 4+ : Sudden @types/jasmine error at runtime (npm start)</a></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 2280024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/138aaccc1a6943ee2deac190f8ae2ae2?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/2280024/jay"}, "is_accepted": false, "score": 0, "last_activity_date": 1549549994, "last_edit_date": 1549549994, "creation_date": 1549548779, "answer_id": 54575290, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected/54575290#54575290", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<p>If you have reached this page when you are not using Jasmine anywhere in your application, then I would suggest checking your import statements on the top of your ts file. It should have this added on the top:</p>\n\n<pre><code>import { ConsoleReporter } from 'jasmine';\n</code></pre>\n\n<p>I saw this accidentally added on the top when I was using console object to log into the browser and the autocomplete feature of VS Code completed it with ConsoleReporter and this import statement was added. Removing this statement fixed my issue.</p>\n"}, {"tags": [], "owner": {"reputation": 740, "user_id": 6376796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u4NrdFTbNmI/AAAAAAAAAAI/AAAAAAAAABk/OYQkRWv2RRY/photo.jpg?sz=128", "display_name": "Yogesh Kumar", "link": "https://stackoverflow.com/users/6376796/yogesh-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1562241364, "last_edit_date": 1562241364, "creation_date": 1562229048, "answer_id": 56883721, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected/56883721#56883721", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<p>You have just change typescript@2.8.4 and @types/jasmine@2.8.3</p>\n\n<p>Like </p>\n\n<ol>\n<li>npm install typescript@2.8.4 --save-dev</li>\n<li>npm install @types/jasmine@2.8.3 --save-dev</li>\n</ol>\n\n<p>It's working 100%.</p>\n\n<p>Thanks,</p>\n"}], "owner": {"reputation": 821, "user_id": 4675072, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e21a7153be7d43886046faf5a63319dc?s=128&d=identicon&r=PG&f=1", "display_name": "ananya", "link": "https://stackoverflow.com/users/4675072/ananya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13967, "favorite_count": 1, "answer_count": 6, "score": 8, "last_activity_date": 1562241364, "creation_date": 1542180102, "question_id": 53294979, "link": "https://stackoverflow.com/questions/53294979/error-node-modules-types-jasmine-index-d-ts138-230-ts1005-expected", "title": "Error - node_modules\\@types\\jasmine\\index.d.ts(138,230) TS1005: &#39;)&#39; expected", "body": "<p>Below is the versions i am using\n \"@types/jasmine\": \"^2.8.9\"\n \"typescript\": \"~2.6.2\"  </p>\n\n<pre><code> \"devDependencies\": {\n        \"@ionic/app-scripts\": \"3.2.0\",\n        \"@types/jasmine\": \"^2.8.9\",\n        \"@types/node\": \"^10.12.5\",\n        \"angular2-template-loader\": \"^0.6.2\",\n        \"html-loader\": \"^0.5.5\",\n        \"istanbul-instrumenter-loader\": \"^3.0.1\",\n        \"jasmine\": \"^3.3.0\",\n        \"jasmine-spec-reporter\": \"^4.2.1\",\n        \"karma\": \"^3.1.1\",\n        \"karma-chrome-launcher\": \"^2.2.0\",\n        \"karma-coverage-istanbul-reporter\": \"^2.0.4\",\n        \"karma-jasmine\": \"^1.1.2\",\n        \"karma-jasmine-html-reporter\": \"^1.4.0\",\n        \"karma-sourcemap-loader\": \"^0.3.7\",\n        \"karma-webpack\": \"^3.0.5\",\n        \"null-loader\": \"^0.1.1\",\n        \"protractor\": \"^5.4.1\",\n        \"ts-loader\": \"^3.5.0\",\n        \"ts-node\": \"^7.0.1\",\n        \"typescript\": \"~2.6.2\"\n      },\n</code></pre>\n\n<p>But still i am getting the below error</p>\n\n<pre><code>Error: node_modules/@types/jasmine/index.d.ts(138,47): error TS1005: ';' expected.\nnode_modules/@types/jasmine/index.d.ts(138,90): error TS1005: '(' expected.\nnode_modules/@types/jasmine/index.d.ts(138,104): error TS1005: ']' expected.\nnode_modules/@types/jasmine/index.d.ts(138,112): error TS1005: ',' expected.\nnode_modules/@types/jasmine/index.d.ts(138,113): error TS1136: Property assignment expected.\nnode_modules/@types/jasmine/index.d.ts(138,121): error TS1005: ')' expected.\nnode_modules/@types/jasmine/index.d.ts(138,147): error TS1005: '(' expected.\nnode_modules/@types/jasmine/index.d.ts(138,162): error TS1005: ']' expected.\nnode_modules/@types/jasmine/index.d.ts(138,163): error TS1005: ',' expected.\nnode_modules/@types/jasmine/index.d.ts(138,164): error TS1136: Property assignment expected.\nnode_modules/@types/jasmine/index.d.ts(138,165): error TS1136: Property assignment expected.\nnode_modules/@types/jasmine/index.d.ts(138,179): error TS1005: ',' expected.\nnode_modules/@types/jasmine/index.d.ts(138,183): error TS1005: ':' expected.\nnode_modules/@types/jasmine/index.d.ts(138,208): error TS1005: '{' expected.\nnode_modules/@types/jasmine/index.d.ts(138,217): error TS1005: ':' expected.\nnode_modules/@types/jasmine/index.d.ts(138,222): error TS1005: ',' expected.\nnode_modules/@types/jasmine/index.d.ts(138,227): error TS1005: ':' expected.\nnode_modules/@types/jasmine/index.d.ts(138,228): error TS1109: Expression expected.\nnode_modules/@types/jasmine/index.d.ts(138,230): error TS1005: ')' expected.\n</code></pre>\n\n<p>I am not getting how to resolve this.\nCan anyone please help me.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 4625, "user_id": 3654837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a32d6cce60c2b76de72f54250c0b8cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mukyuu", "link": "https://stackoverflow.com/users/3654837/mukyuu"}, "edited": false, "score": 0, "creation_date": 1542179443, "post_id": 53294794, "comment_id": 93470553, "body": "have you confirmed that custOffcName has a value beforehand?"}, {"owner": {"reputation": 533, "user_id": 10555697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VNPuZevkYrg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDqeVxFvX82bb3_ssTzi_x4xW_B-g/mo/photo.jpg?sz=128", "display_name": "ashwin karki", "link": "https://stackoverflow.com/users/10555697/ashwin-karki"}, "reply_to_user": {"reputation": 4625, "user_id": 3654837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a32d6cce60c2b76de72f54250c0b8cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mukyuu", "link": "https://stackoverflow.com/users/3654837/mukyuu"}, "edited": false, "score": 0, "creation_date": 1542179587, "post_id": 53294794, "comment_id": 93470606, "body": "no no so i want to assign it to the json data i get after calling api"}, {"owner": {"reputation": 4481, "user_id": 5939058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/m438e.jpg?s=128&g=1", "display_name": "Surjeet Bhadauriya", "link": "https://stackoverflow.com/users/5939058/surjeet-bhadauriya"}, "edited": false, "score": 0, "creation_date": 1542180243, "post_id": 53294794, "comment_id": 93470885, "body": "try by putting this code inside subscribe =&gt; this.empList.push(selectionCustomOffice);"}], "answers": [{"tags": [], "owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "is_accepted": true, "score": 1, "last_activity_date": 1542179840, "creation_date": 1542179840, "answer_id": 53294918, "question_id": 53294794, "link": "https://stackoverflow.com/questions/53294794/when-the-api-returned-data-the-data-is-not-able-to-be-set-in-the-objects-dataty/53294918#53294918", "title": "When the Api returned data,the data is not able to be set in the Object&#39;s datatype in angular", "body": "<p>I think you have a small problem - You are reading your response as <code>text</code></p>\n\n<pre><code>getSingleCustomOffice(id: number): Observable&lt;any&gt; {\n    return this.http.get(`${this.baseUrl}/${id}`, { responseType: 'text' });\n  }\n</code></pre>\n\n<p>Remove the <code>{ responseType: 'text' }</code> from the <code>http</code> call or use <code>JSON.parse(data)</code> when you are reading data - <code>{ responseType: 'text' }</code> this will return your response as <code>string</code></p>\n\n<p>Try like this if you want your response as <code>text</code></p>\n\n<pre><code>this.selectionCustomOfficeService.getSingleCustomOffice(selectionCustomOffice.customOfficeId).subscribe((data)=&gt;{\n        console.log(\"entered\");\n         let outPut = JSON.parse(data);\n         selectionCustomOffice.custOfficeName=outPut.custOffcName;\n         console.log( selectionCustomOffice.custOfficeName);\n          },(error)=&gt;{\n         console.log(error);\n       });\n</code></pre>\n\n<p>I think this might solve your problem - Happy coding !!</p>\n"}], "owner": {"reputation": 533, "user_id": 10555697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VNPuZevkYrg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDqeVxFvX82bb3_ssTzi_x4xW_B-g/mo/photo.jpg?sz=128", "display_name": "ashwin karki", "link": "https://stackoverflow.com/users/10555697/ashwin-karki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 53294918, "answer_count": 1, "score": 0, "last_activity_date": 1542179840, "creation_date": 1542179288, "question_id": 53294794, "link": "https://stackoverflow.com/questions/53294794/when-the-api-returned-data-the-data-is-not-able-to-be-set-in-the-objects-dataty", "title": "When the Api returned data,the data is not able to be set in the Object&#39;s datatype in angular", "body": "<p>I have a normal input fields like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qigTr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qigTr.png\" alt=\"enter image description here\"></a></p>\n\n<p>When i click on that \"+\" button this action happens and the service class is called as I have simple Json data arriving.I want to assign the   <b>selectionCustomOffice.custOfficeName=json data's.custOffcName;</b> but I am getting the <b>undefined</b> result.</p>\n\n<pre><code>addedO(selectionCustomOffice:SelectionCustomOffice){\n     this.scoe=true;\n\n   this.selectionCustomOfficeService.getSingleCustomOffice(selectionCustomOffice.customOfficeId).subscribe((data)=&gt;{\n        console.log(\"entered\");\n\n         selectionCustomOffice.custOfficeName=data.custOffcName;\n         console.log( selectionCustomOffice.custOfficeName);\n          },(error)=&gt;{\n         console.log(error);\n       });\n\n this.empList.push(selectionCustomOffice);\n this.selectionCustomOffice=new SelectionCustomOffice();\n\n console.log(this.empList);\n}\n\n\n\nthis.selectionCustomOfficeService.getSingleCustomOffice(selectionCustomOffice.customOfficeId).subscribe((data)=&gt;{\n        console.log(\"entered\");\n\n         selectionCustomOffice.custOfficeName=data.custOffcName;\n         console.log( selectionCustomOffice.custOfficeName);\n          },(error)=&gt;{\n         console.log(error);\n       });\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AMZVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMZVN.png\" alt=\"enter image description here\"></a></p>\n\n<p>SelectionCustomOffice.ts</p>\n\n<pre><code>export class SelectionCustomOffice {\n    id: number;\n    fromDate: string;\n    toDate: string;\n    consignmentNo: number;\n    selectionId: number;\n    customOfficeId: number;\n    custOfficeName: string;\n\n}\n</code></pre>\n\n<p>The form to send data is: I have used this field <code>custom office</code> as select field.</p>\n\n<pre><code>&lt;div class=\"form-group row\"&gt;\n   &lt;div class=\"col-md-4\"&gt;\n      &lt;label&gt;Custom Office&lt;/label&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-2\"&gt;\n      &lt;label&gt;From Date&lt;/label&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-2\"&gt;\n      &lt;label&gt;To Date&lt;/label&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-4\"&gt;Consignment No&lt;/div&gt;\n   &lt;div class=\"col-md-4\"&gt;\n      &lt;select class=\"form-control\" id=\"customOfficeId\" required [(ngModel)]=\"selectionCustomOffice.customOfficeId\" name=\"customOfficeId\"\n      &gt;\n      &lt;option *ngFor=\"let title of customoffices\" [value]=\"title.custOfficeId\"&gt;{{title.custOffcName}}&lt;/option&gt;\n      &lt;/select&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-2\"&gt;\n      &lt;input type=\"date\" class=\"form-control\" id=\"fromDate\" required [(ngModel)]=\"selectionCustomOffice.fromDate\" name=\"fromDate\" /&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-2\"&gt;\n      &lt;input type=\"date\" class=\"form-control\" id=\"toDate\" required [(ngModel)]=\"selectionCustomOffice.toDate\" name=\"toDate\" /&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-3\"&gt;\n      &lt;input type=\"number\" class=\"form-control\" id=\"consignmentNo\" required [(ngModel)]=\"selectionCustomOffice.consignmentNo\" name=\"consignmentNo\"&gt;\n   &lt;/div&gt;\n   &lt;div class=\"col-md-1\"&gt;\n      &lt;button type=\"button\" (click)=\"addedO(selectionCustomOffice)\"&gt;+&lt;/button&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>service class</p>\n\n<pre><code>getSingleCustomOffice(id: number): Observable&lt;any&gt; {\n    return this.http.get(`${this.baseUrl}/${id}`, { responseType: 'text' });\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "drag-and-drop", "angular7"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542178775, "post_id": 53294487, "comment_id": 93470299, "body": "can you provide stackblitz for the same?"}, {"owner": {"reputation": 33, "user_id": 10650264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f90a0f3f0407fe6ea9016fc8bdf4b67?s=128&d=identicon&r=PG&f=1", "display_name": "Quimcode", "link": "https://stackoverflow.com/users/10650264/quimcode"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 1, "creation_date": 1542179912, "post_id": 53294487, "comment_id": 93470759, "body": "<a href=\"https://stackblitz.com/edit/angular-axk9wx\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-axk9wx</a> I am even more amazed because on stackblitz its working no idea why"}, {"owner": {"reputation": 33, "user_id": 10650264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f90a0f3f0407fe6ea9016fc8bdf4b67?s=128&d=identicon&r=PG&f=1", "display_name": "Quimcode", "link": "https://stackoverflow.com/users/10650264/quimcode"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542180172, "post_id": 53294487, "comment_id": 93470862, "body": "What is bad that when this autoscrolling is present track of element position is lost. And it is still not working in my dev env"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542180225, "post_id": 53294487, "comment_id": 93470875, "body": "then error must be in your local code , revise it once again. Good luck"}], "answers": [{"comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1544991223, "post_id": 53805928, "comment_id": 94460713, "body": "<i>&quot;that doesn&#39;t solve the issue&quot;</i>: the answer section is for answers that solve the issue."}], "tags": [], "owner": {"reputation": 11, "user_id": 4115891, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850366668/picture?type=large", "display_name": "Luis Diego Pizarro Moreno", "link": "https://stackoverflow.com/users/4115891/luis-diego-pizarro-moreno"}, "is_accepted": false, "score": 0, "last_activity_date": 1544990001, "creation_date": 1544990001, "answer_id": 53805928, "question_id": 53294487, "link": "https://stackoverflow.com/questions/53294487/scrolling-div-in-angular-7/53805928#53805928", "title": "Scrolling div in Angular 7", "body": "<p>Hi be sure that you are setting the native element to the container that has scroll, I had same issue as you and notice I was using the wrong element. But that doesn't solve the issue, now it scrolls fine, but after scrolling it's not recognizing the new elements so for example if you drag and scroll down, the drop will be on the latest element you saw before the scroll.</p>\n"}], "owner": {"reputation": 33, "user_id": 10650264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f90a0f3f0407fe6ea9016fc8bdf4b67?s=128&d=identicon&r=PG&f=1", "display_name": "Quimcode", "link": "https://stackoverflow.com/users/10650264/quimcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1335, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544990001, "creation_date": 1542177870, "last_edit_date": 1543366631, "question_id": 53294487, "link": "https://stackoverflow.com/questions/53294487/scrolling-div-in-angular-7", "title": "Scrolling div in Angular 7", "body": "<p>I am creating simple drag and drop functionality. </p>\n\n<p>On dragging an element i want to scroll div by some amount to top or bottom.</p>\n\n<p>I am using angular material cdk drag and drop.</p>\n\n<p>Container:</p>\n\n<pre><code>&lt;div cdkDropList (cdkDropListDropped)=\"dropElement($event)\" #ordersList&gt;\n</code></pre>\n\n<p>I am referencing the container with elements using:</p>\n\n<pre><code>@ViewChild('ordersList', {read: ElementRef}) ordersListRef: ElementRef;\n</code></pre>\n\n<p>How can i change position of the scroll of this element, something like this doesnt work</p>\n\n<pre><code>this.ordersListRef.nativeElement.scrollTop += 20;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-redux"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1542177815, "post_id": 53294381, "comment_id": 93469911, "body": "You can&#39;t get an event value from a dispatch: That defeats the purpose of the framework. You need to dispatch actions as a result of the login: <code>dispatch(LOGIN_FAILURE)</code>, etc... Take a look into redux-thunk or redux-saga for side effects like these."}, {"owner": {"reputation": 2551, "user_id": 4998659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nud9V.jpg?s=128&g=1", "display_name": "Fawaz", "link": "https://stackoverflow.com/users/4998659/fawaz"}, "edited": false, "score": 0, "creation_date": 1542178220, "post_id": 53294381, "comment_id": 93470068, "body": "Have you setup the thunk middleware ? <a href=\"https://github.com/reduxjs/redux-thunk#installation\" rel=\"nofollow noreferrer\">github.com/reduxjs/redux-thunk#installation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 3111204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GS1RQ.png?s=128&g=1", "display_name": "Neal", "link": "https://stackoverflow.com/users/3111204/neal"}, "is_accepted": false, "score": 0, "last_activity_date": 1542180396, "creation_date": 1542180396, "answer_id": 53295037, "question_id": 53294381, "link": "https://stackoverflow.com/questions/53294381/react-redux-thunk-with-typescript/53295037#53295037", "title": "React Redux-Thunk with Typescript", "body": "<p>What you're attempting seems a bit, anti-pattern. \nThe function is meant to be fire and forget, so that you don't hang the UI.\nThe login function should dispatch to your reducer that state has now gone from </p>\n\n<pre><code>loggedIn: false\n</code></pre>\n\n<p>to </p>\n\n<pre><code>loggedIn: true\n</code></pre>\n\n<p>If you need some magic with response aka throw an exception if login fails, then I would recommend something like</p>\n\n<pre><code>this.props.login().catch(err =&gt; console.log(err)).then(() =&gt; doSomething));\n</code></pre>\n\n<p>However, I strongly recommend you just dispatch and listen to ComponentDidUpdate lifecycle hook to redirect or whatever you may need to do.</p>\n"}, {"tags": [], "owner": {"reputation": 192, "user_id": 7651718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QwTni.jpg?s=128&g=1", "display_name": "Ashish Kirodian", "link": "https://stackoverflow.com/users/7651718/ashish-kirodian"}, "is_accepted": false, "score": 0, "last_activity_date": 1542180430, "creation_date": 1542180430, "answer_id": 53295050, "question_id": 53294381, "link": "https://stackoverflow.com/questions/53294381/react-redux-thunk-with-typescript/53295050#53295050", "title": "React Redux-Thunk with Typescript", "body": "<p>You need to invoke the logout function by dispatching the appropriate action</p>\n"}], "owner": {"reputation": 774, "user_id": 1565492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f6fd8fc08e2e4b8fb67572443d71e6b?s=128&d=identicon&r=PG", "display_name": "Sai Datta", "link": "https://stackoverflow.com/users/1565492/sai-datta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542180430, "creation_date": 1542177366, "question_id": 53294381, "link": "https://stackoverflow.com/questions/53294381/react-redux-thunk-with-typescript", "title": "React Redux-Thunk with Typescript", "body": "<p>So I am trying to type my Redux Actions with Redux Thunk</p>\n\n<p>Here is an Action </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function logout() {\n  return async(dispatch) =&gt; {\n    try {\n      const value = localStorage.removeItem(\"token\");\n\n      dispatch(cons.updateLoginStatus(false));\n\n      return true;\n\n    } catch (err) {\n      console.error(err);\n    }\n  }\n}\n</code></pre>\n\n\n\n<p>Here is the connect file</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const mapStateToProps = (store: IAppState) =&gt; {\n  return {\n    isLoggedIn: store.employee.isLoggedIn\n  }\n}\n\nconst mapDispatchToProps = {\n  logout\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\n</code></pre>\n\n\n\n<p>When I call <code>await this.props.logout();</code> I would like to access the returned <code>true</code> But typescript only sees the function being returned.</p>\n\n<p>So how do I type the function to <code>await</code> for returned value?</p>\n\n<p>Or is there any better way to do this? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "routing"], "answers": [{"comments": [{"owner": {"reputation": 2026, "user_id": 7812112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I9HJf24huv0/AAAAAAAAAAI/AAAAAAAAAmM/Lcp1K2SE1Kk/photo.jpg?sz=128", "display_name": "Sarthak Aggarwal", "link": "https://stackoverflow.com/users/7812112/sarthak-aggarwal"}, "edited": false, "score": 1, "creation_date": 1542177586, "post_id": 53294356, "comment_id": 93469839, "body": "also import router in your <b>ts</b>, <code>import { Router } from &#39;@angular&#47;route&#39;</code>"}], "tags": [], "owner": {"reputation": 2026, "user_id": 7812112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I9HJf24huv0/AAAAAAAAAAI/AAAAAAAAAmM/Lcp1K2SE1Kk/photo.jpg?sz=128", "display_name": "Sarthak Aggarwal", "link": "https://stackoverflow.com/users/7812112/sarthak-aggarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1542177257, "creation_date": 1542177257, "answer_id": 53294356, "question_id": 53294306, "link": "https://stackoverflow.com/questions/53294306/angular-router-button-not-triggering-submit-event/53294356#53294356", "title": "Angular Router button not triggering submit event", "body": "<p>You can manually <code>route</code> in your <code>onSubmit</code> handler</p>\n\n<p>Make the following changes </p>\n\n<p><strong>.ts</strong></p>\n\n<pre><code>constructor(private fb: FormBuilder, private router : Router) { }\n\nonSubmit(form: NgForm) {\n    console.log('You submit to me?');\n    console.log(form);\n    this.router.navigate(['/forms']);\n\n  }\n</code></pre>\n\n<p>Also remove your <code>routerLink</code> from <strong>.html</strong> </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 53294356, "answer_count": 1, "score": 0, "last_activity_date": 1542177257, "creation_date": 1542177007, "question_id": 53294306, "link": "https://stackoverflow.com/questions/53294306/angular-router-button-not-triggering-submit-event", "title": "Angular Router button not triggering submit event", "body": "<p>The problem I'm facing is that the <strong>button is not triggering the submit event</strong> in this code, but if I <strong>remove the router link, then it starts triggering the event</strong> like it should normally. I am guessing that routing takes place before the event can be triggered. </p>\n\n<p>How can I change my code so that it <em>runs the onSubmit() function and then starts routing</em>.</p>\n\n<p>I have a simple angular code:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;form (submit)=\"onSubmit(theForm)\" #homeForm='ngForm' ngControl=\"homeForm\"&gt;\n  &lt;button \n    mat-raised-button\n    color=\"accent\"\n    routerLink=\"/form\"\n    routerLinkActive=\"active\"&gt;\n    Submit\n  &lt;/button&gt;\n  &lt;mat-card&gt;\n      &lt;mat-checkbox&gt;Check me!&lt;/mat-checkbox&gt;\n  &lt;/mat-card&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>TYPESCRIPT</p>\n\n<pre><code>import { Component, Output, Input, OnInit } from '@angular/core';\nimport {FormsModule, FormGroup,  NgForm, FormBuilder} from '@angular/forms';\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css']\n})\nexport class FormComponent implements OnInit {\n\n  onSubmit(form: NgForm) {\n    console.log('You submit to me?');\n    console.log(form);\n\n  }\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms", "angular-ngselect"], "answers": [{"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542181457, "post_id": 53295054, "comment_id": 93471350, "body": "If i use like this, then in remove the entire <code>template_properties</code> is getting removed.."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542181559, "post_id": 53295054, "comment_id": 93471389, "body": "It means, the logic of <code>onRemove</code> function is wrong. Share the code of <code>onRemove</code>."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542181714, "post_id": 53295054, "comment_id": 93471438, "body": "Kindly see my updated code for remove.. If i am wrong kindly make me correct for remove function.. How to remove the removed item&#39;s (template name) <code>template_properties</code>.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542184124, "post_id": 53295054, "comment_id": 93472520, "body": "Sunil, Also updated my getTemplateValues (add) function by removing the filter which shows error after implementing <code>(add)</code> .. Even now Its working for add but not for remove.. Kindly check whether <code>removeControl(&#39;template_properties&#39;)</code> is right one please.."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542184387, "post_id": 53295054, "comment_id": 93472651, "body": "Updated the answer where could be the issue. Share your <code>removeControls</code> code as well."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542184695, "post_id": 53295054, "comment_id": 93472789, "body": "Updated with removecontrol function at last in my question.. If any needed i can provide the code.. Kindly help me to fix it.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542184796, "post_id": 53295054, "comment_id": 93472831, "body": "Also if i give <code>this.form = this.qcs.toFormGroup(this.questions); </code> this line inside onRemove function, then the entire data is getting removed.. (I hope its not needed in remove function)"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542185539, "post_id": 53295054, "comment_id": 93473236, "body": "Updated my remove function again (minimized).. Now its getting removed as per the count in that template if template one has one template_properties length then it gets deleted one at last, same way the template three has two properties and it deletes the last two properties instead of the two properties which is in the middle.. Say i have choosen template one,three,two and so three is in middle so the middle two properties (as three has two properties) needs to get removed but the last two (one from template three and one from template two is getting deleted.."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542186036, "post_id": 53295054, "comment_id": 93473508, "body": "Share html code where you have` &lt;ngi-select placeholder=&quot;Select Template&quot; [required]=&quot;true&quot; [hideSelected]=&quot;false&quot; [multiple]=&quot;true&quot; [items]=&quot;templateList&quot; dropdownPosition=&quot;down&quot; bindLabel=&quot;name&quot; bindValue=&quot;id&quot; (change)=&quot;getTemplateValues($event)&quot; (remove)=&quot;onRemove($event)&quot;&gt; &lt;/ngi-select`"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542187225, "post_id": 53295054, "comment_id": 93474244, "body": "I have give complete HTML that i use.. It may not be clear for you.. It was derived from this stackblitz <a href=\"https://stackblitz.com/edit/angular-x4a5b6-rrfv1b\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-x4a5b6-rrfv1b</a>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542188494, "post_id": 53295054, "comment_id": 93475038, "body": "you need to pass the <code>index</code> from <code>removeControls</code>. Updated the answer. Note : You may need to pass this index from html and <code>onRemove</code> function."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542188678, "post_id": 53295054, "comment_id": 93475176, "body": "Do you mean to add like <code>(remove)=&quot;onRemove($event,index)&quot;</code>??"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542188694, "post_id": 53295054, "comment_id": 93475185, "body": "Yes, you got it."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542189266, "post_id": 53295054, "comment_id": 93475542, "body": "It gives the following, <code>{&quot;index&quot;:2,&quot;label&quot;:&quot;Template Three&quot;,&quot;value&quot;:{&quot;id&quot;:&quot;5bebba8d20ccc52871509d5d&quot;,&quot;name&quot;:&quot;Temp&zwnj;&#8203;late Three&quot;},&quot;htmlId&quot;:&quot;ab33bc17cd61&quot;,&quot;selected&quot;:false} </code> When i delete the template three.."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542189951, "post_id": 53295054, "comment_id": 93475988, "body": "and print the value of <code>array</code> index in <code>removeControls</code> function."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542190682, "post_id": 53295054, "comment_id": 93476423, "body": "Sorry are you asking to do <code>console.log(array)</code> inside removecontrol function??"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542190746, "post_id": 53295054, "comment_id": 93476472, "body": "yes, for this line <code>let array = this.form.get(control) as FormArray;</code>"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542190861, "post_id": 53295054, "comment_id": 93476547, "body": "If i am using, I have tried with <code>for (let i = 0; i &lt; res.data.template_properties.length; i++) {             this.removeControls(&#39;template_properties&#39;, e.index);            }</code>.. As <code>console.log(e)</code> has index value as i given you in previous comment.. It deletes correctly when we delete from last but if we delete from center only one item getting deleted and not the count the index has.. But deleting from last to first works.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542192079, "post_id": 53295054, "comment_id": 93477313, "body": "Sorry ignore my edit in your solution.. I have given screenshot of data comes from array in my question.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542194575, "post_id": 53295054, "comment_id": 93478809, "body": "Sunil, Whether this is a right approach, <code>this.removeControls(&#39;template_properties&#39;, e.index);</code> all the time its not helping to delete the right element??"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1542192323, "last_edit_date": 1542192323, "creation_date": 1542180450, "answer_id": 53295054, "question_id": 53294198, "link": "https://stackoverflow.com/questions/53294198/how-to-remove-the-child-when-removing-the-parent/53295054#53295054", "title": "How to remove the child when removing the parent?", "body": "<p>It should be pretty easy fix. Use <code>(add)</code> instead of <code>(change)</code> in <code>ngi-select</code>.</p>\n\n<pre><code> onRemove(e) {\n    console.log(e);\n    this.dynamicFormService.getRest(\"url\" + '/' + e.value.id\").subscribe(res =&gt; {\n      try {\n        if (res.status === \"true\") {\n          this.form = this.qcs.toFormGroup(this.questions);\n\n          // Issue is here, you should remove only specific record\n          // which is being passed from function `e`\n          for (let i = 0; i &lt; res.data.template_properties.length; i++) {\n            this.removeControls('template_properties'); \n          }\n\n          let propertiesArray = [];\n          this.templateArray.forEach(element =&gt; {\n            propertiesArray.push(element);\n          });\n          this.form.patchValue({\n            'template_properties': propertiesArray\n          });\n        } else {\n\n        }\n      }\n      catch (error) {\n\n      }\n    })\n  }\n</code></pre>\n\n<p>Pass the index in <code>removeControls</code>  where you want to remove the element from.</p>\n\n<pre><code>  removeControls(control: string, index:number) {\n    let array = this.form.get(control) as FormArray;\n    console.log(array)\n    array.removeAt(index);\n  }\n</code></pre>\n\n<p><code>console.log(array)</code> gives,\n<a href=\"https://i.stack.imgur.com/490hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/490hm.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542192323, "creation_date": 1542176424, "last_edit_date": 1542192024, "question_id": 53294198, "link": "https://stackoverflow.com/questions/53294198/how-to-remove-the-child-when-removing-the-parent", "title": "How to remove the child when removing the parent?", "body": "<p>I am making angular application with angular dynamic form where i am using <a href=\"https://www.npmjs.com/package/@ng-select/ng-select\" rel=\"nofollow noreferrer\">ng-select library</a>.</p>\n\n<p>The <strong>HTML</strong> with select:</p>\n\n<pre><code>    &lt;div *ngFor=\"let question of questions\" class=\"form-row {{question.class}}\"&gt;\n            &lt;ng-container *ngIf=\"question.children\"&gt;\n                &lt;div [formArrayName]=\"question.key\" class=\"w-100\"&gt;\n                    &lt;div *ngFor=\"let item of form.get(question.key).controls; let i=index\" [formGroupName]=\"i\" class=\"row mt-1\"&gt;\n                        &lt;div *ngFor=\"let item of question.children\" class=\"{{item.class}} align-middle\"&gt;\n                            &lt;div class=\"w-100\"&gt;\n                                &lt;dynamic-form-builder [question]=\"item\" [index]=\"i\" [form]=\"form.get(question.key).at(i)\"&gt;&lt;/dynamic-form-builder&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"container\"&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;div class=\"col-6 col-sm-12 col-lg-6 col-md-6\"&gt;\n                                &lt;div class=\"form-label-group\" *ngIf=\"showTemplateDropdown\"&gt;\n                                    &lt;ngi-select placeholder=\"Select Template\" [required]=\"true\" [hideSelected]=\"false\" [multiple]=\"true\" [items]=\"templateList\"\n                                     dropdownPosition=\"down\" bindLabel=\"name\" bindValue=\"id\" (add)=\"getTemplateValues($event)\" (remove)=\"onRemove($event)\"&gt;\n                                    &lt;/ngi-select&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"container\"&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;div class=\"col-6 col-sm-12 col-lg-6 col-md-6\"&gt;\n\n                            &lt;/div&gt;\n                            &lt;div class=\"col-6 col-sm-12 col-lg-6 col-md-6 text-right\"&gt;\n                                &lt;div class=\"btn-group  float-right\"&gt;\n                                    &lt;button class=\"btn btn-primary btn-round btn-fab mat-raised-button\" mat-min-fab=\"\" mat-raised-button=\"\" type=\"button\"\n                                     (click)=\"addControls('template_properties')\"&gt;\n                                        &lt;span class=\"mat-button-wrapper\"&gt;&lt;i class=\"material-icons mt-2\"&gt;add&lt;/i&gt;&lt;/span&gt;\n                                        &lt;div class=\"mat-button-ripple mat-ripple\" matripple=\"\"&gt;&lt;/div&gt;\n                                        &lt;div class=\"mat-button-focus-overlay\"&gt;&lt;/div&gt;\n                                    &lt;/button&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;\n                                    &lt;button class=\"btn btn-primary btn-round btn-fab mat-raised-button\" mat-min-fab=\"\" mat-raised-button=\"\" type=\"button\"\n                                     (click)=\"removeControls('template_properties')\"&gt;\n                                        &lt;span class=\"mat-button-wrapper\"&gt;&lt;i class=\"material-icons mt-2\"&gt;remove&lt;/i&gt;&lt;/span&gt;\n                                        &lt;div class=\"mat-button-ripple mat-ripple\" matripple=\"\"&gt;&lt;/div&gt;\n                                        &lt;div class=\"mat-button-focus-overlay\"&gt;&lt;/div&gt;\n                                    &lt;/button&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                &lt;/div&gt;\n            &lt;/ng-container&gt;\n            &lt;ng-container *ngIf=\"!question.children\"&gt;\n                &lt;div class=\"w-100\"&gt;\n                    &lt;dynamic-form-builder [question]=\"question\" [form]=\"form\"&gt;&lt;/dynamic-form-builder&gt;\n                &lt;/div&gt;\n            &lt;/ng-container&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Here the <code>[items]=\"templateList\"</code> has the following,</p>\n\n<pre><code>[{\"id\":\"5bebba2c20ccc52871509d56\",\"name\":\"Template One\"},\n{\"id\":\"5bebba5720ccc52871509d57\",\"name\":\"Template Two\"},\n{\"id\":\"5bebba8d20ccc52871509d5d\",\"name\":\"Template Three\"}]\n</code></pre>\n\n<p>I am having <code>(change)=\"getTemplateValues($event)\"</code> event for detecting each change happen when we select an item from dropdown.</p>\n\n<p>The change event function <strong>Edited</strong>,</p>\n\n<pre><code>    getTemplateValues(e) {\n      this.dynamicFormService.getRest(\"url\" + '/' + e.id\").subscribe(res =&gt; {\n  try {\n    if (res.status === \"true\") {\n      res.data.template_properties.forEach(element =&gt; {\n        this.templateArray.push(element);\n      });\n      this.form = this.qcs.toFormGroup(this.questions);\n      for (let i = 0; i &lt; this.templateArray.length; i++) {\n        this.addControls('template_properties');\n      }\n      let propertiesArray = [];\n      this.templateArray.forEach(element =&gt; {\n        propertiesArray.push(element);\n      });\n      this.form.patchValue({\n        'template_properties': propertiesArray\n      });\n    } else {\n\n    }\n  }\n  catch (error) {\n\n  }\n})\n</code></pre>\n\n<p>}</p>\n\n<p><code>console.log(this.propertiesArray)</code> gives the following,</p>\n\n<pre><code>[{\"property_name\":\"Property one\",\"property_type\":4,\"property_required\":true,\"property_origin\":1},{\"property_name\":\"Property one\",\"property_type\":5,\"property_required\":true,\"property_origin\":1}]  \n</code></pre>\n\n<p>In the below image i have deleted template three but the template three properties still showing in it..</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nhgvx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nhgvx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here first i am filtering the data first and ignoring the duplicates and each time i am sending the newly selected values alone to the service and fetching the data related to the id <code>element.id</code>.</p>\n\n<p>And using <code>this.addControls('template_properties')</code> to make open the number of rows, and elements will get patched to the form <code>template_properties</code>.</p>\n\n<pre><code>this.form.patchValue({\n 'template_properties': propertiesArray\n});\n</code></pre>\n\n<p>As of now everything working fine..</p>\n\n<p>The <strong>problem actually arise from here</strong>:</p>\n\n<p>If we delete a selected list from dropdown, (say i have selected all three template and i have <strong>deleted</strong> the <code>template two</code> then that particular <code>template</code>'s <code>template_properties</code> needs to get deleted..</p>\n\n<p>I have <strong>tried</strong> with <code>(remove)=\"onRemove($event)\"</code> but its not working because while remove data, the <code>(change)</code> function also calls..</p>\n\n<p>How can i remove the <code>template_properties</code> with <code>this.removeControls('template_properties');</code> of particular deleted template name in the change event or remove event..</p>\n\n<p><strong>Remove Function</strong>:</p>\n\n<pre><code>  onRemove(e) {\n    console.log(e);\n    this.dynamicFormService.getRest(\"url\" + '/' + e.value.id\").subscribe(res =&gt; {\n      try {\n        if (res.status === \"true\") {\n          for (let i = 0; i &lt; res.data.template_properties.length; i++) {\n            this.removeControls('template_properties');\n          }\n        } else {\n\n        }\n      }\n      catch (error) {\n\n      }\n    })\n  }\n</code></pre>\n\n<p><strong>Remove Control</strong>:</p>\n\n<pre><code>  removeControls(control: string) {\n    let array = this.form.get(control) as FormArray;\n    console.log(array)\n    array.removeAt(array.length);\n  }\n</code></pre>\n\n<p><code>console.log(array)</code> gives,</p>\n\n<p><a href=\"https://i.stack.imgur.com/HeLlz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HeLlz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1542175221, "post_id": 53293985, "comment_id": 93469024, "body": "Please add your <code>tsconfig.json</code> to the question, it will make answering much easier."}, {"owner": {"reputation": 459, "user_id": 10576398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7637759c1df9d1f9fd4acab1375de2?s=128&d=identicon&r=PG&f=1", "display_name": "cameraguy258", "link": "https://stackoverflow.com/users/10576398/cameraguy258"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1542175626, "post_id": 53293985, "comment_id": 93469150, "body": "@Cerberus edited post."}, {"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1542178879, "post_id": 53293985, "comment_id": 93470333, "body": "Well, then how do you compile these files? Just <code>tsc &lt;filenames&gt;</code>, without any additional options?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1542208179, "post_id": 53293985, "comment_id": 93487309, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52261286/how-to-transpile-typescript-for-the-client\">How to transpile typescript for the client</a>"}, {"owner": {"reputation": 459, "user_id": 10576398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7637759c1df9d1f9fd4acab1375de2?s=128&d=identicon&r=PG&f=1", "display_name": "cameraguy258", "link": "https://stackoverflow.com/users/10576398/cameraguy258"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1542219368, "post_id": 53293985, "comment_id": 93493575, "body": "Yes, just tsc &lt;filename&gt; @Cerberus"}], "owner": {"reputation": 459, "user_id": 10576398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7637759c1df9d1f9fd4acab1375de2?s=128&d=identicon&r=PG&f=1", "display_name": "cameraguy258", "link": "https://stackoverflow.com/users/10576398/cameraguy258"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542175610, "creation_date": 1542175081, "last_edit_date": 1542175610, "question_id": 53293985, "link": "https://stackoverflow.com/questions/53293985/include-typescript-into-webpage-that-uses-multiple-components", "title": "Include TypeScript into webpage that uses multiple components", "body": "<p>I have a TypeScript file that looks a little something like this:</p>\n\n<p><code>myTypescript.ts</code></p>\n\n<pre><code>import { MyFirstClass } from \"./MyFirstClass\"\nimport { AnotherClass } from \"./AnotherClass\"\nimport { MyThirdClass } from \"./MyThirdClass\"\n\nvar test = new MyFirstClass();\n// some more code\n</code></pre>\n\n<p><code>MyFirstClass.ts</code></p>\n\n<pre><code>export class MyFirstClass {\n  constructor() {}\n}\n</code></pre>\n\n<p>Here is what myTypescript.ts compiles to:</p>\n\n<pre><code>1 | \"use strict\";\n2 | exports.__esModule = true;\n3 | var MyFirstClass_1 = require(\"./MyFirstClass\");\n4 | // more classes included\n</code></pre>\n\n<p>And the HTML that includes the main (compiled) typescript:</p>\n\n<p><code>index.html</code></p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello world&lt;/h1&gt;\n    &lt;script src=\"MyTypescript.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But going to <code>localhost:8080</code> shows this in the console:</p>\n\n<pre><code>Uncaught ReferenceError: exports is not defined at myTypescript.js:2\n</code></pre>\n\n<p>and commenting out that second line just yields another error:</p>\n\n<pre><code>Uncaught ReferenceError: require is not defined at myTypescript.js:3\n</code></pre>\n\n<p>Perhaps my assumption that TypeScript can simply be compiled into JS is erroneous. I've written half a dozen custom classes, similar to how I would in Java, hoping it would just compile into JS nicely.</p>\n\n<p>Is my code still usable in-browser? <em>I've tried some of the solutions posted on StackOverflow, but they are a little vague, and don't address the custom classes being includes.</em> Thanks in advance!</p>\n\n<p><strong>I'm a little unfamiliar with how the <code>tsconfig</code> file works, so I don't actually have one.</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "edited": false, "score": 0, "creation_date": 1542177112, "post_id": 53294207, "comment_id": 93469655, "body": "Loader doesn&#39;t always work only for HTTP request - be generic with your answer"}, {"owner": {"reputation": 609, "user_id": 4707101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qdvag.jpg?s=128&g=1", "display_name": "Nick Wang", "link": "https://stackoverflow.com/users/4707101/nick-wang"}, "reply_to_user": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "edited": false, "score": 0, "creation_date": 1542183840, "post_id": 53294207, "comment_id": 93472370, "body": "@RahulSwamynathan of course, you can build one service and define one subject there, same time subscribe it in your loader, and at other component, call service.subject.next(&#39;open&#39;/&#39;close&#39;)."}], "tags": [], "owner": {"reputation": 609, "user_id": 4707101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qdvag.jpg?s=128&g=1", "display_name": "Nick Wang", "link": "https://stackoverflow.com/users/4707101/nick-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1542176463, "creation_date": 1542176463, "answer_id": 53294207, "question_id": 53293874, "link": "https://stackoverflow.com/questions/53293874/showing-the-loading-spinner-icon-on-all-components/53294207#53294207", "title": "Showing the loading spinner icon on all components", "body": "<p>Please search keyword HttpInterceptor learn details. One simple example below:</p>\n\n<pre><code>// siteHttpInterceptor.ts\nimport { Injectable } from '@angular/core';\nimport { HttpRequest, HttpInterceptor, HttpHandler, HttpEvent, HttpResponse } from '@angular/common/http';\nimport { throwError } from 'rxjs';\nimport { tap, catchError } from 'rxjs/operators';\nimport { LoadingService } from './loading.service';\n\n@Injectable()\nexport class SiteHttpInterceptor implements HttpInterceptor {\n  constructor(private loadingService: LoadingService){}\n  intercept(request: HttpRequest&lt;any&gt;, httpHandler: HttpHandler): Observable&lt;any&gt; {\n      /* Start loading here */\n      this.loadingService.startLoading();\n      return httpHandler.handle(request).pipe(\n          tap((event: HttpEvent&lt;any&gt;) =&gt; {\n              /* End loading */\n              this.loadingService.endLoading();\n          },\n          (err: any) =&gt; {\n              /* End loading */\n              this.loadingService.endLoading();\n          }),\n          catchError(err =&gt; {\n              return throwError(err);\n          })\n      );\n  }\n}\n\n//loading.service.ts LoadingService base on Ionic framework, you can instead it\nimport { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n\n  private loaders = [];\n  //sometimes, the request so quickly then close event earlier than open loading bar\n  private badLoaders = 0;\n\n  constructor(\n      private loadingController: LoadingController\n  ) {\n  }\n\n  async startLoading() {\n      if (this.badLoaders &gt; 0) {\n          this.badLoaders --;\n      } else {\n          await this.loadingController.create({\n              message: 'Loading ...',\n          }).then(loader =&gt; {\n              this.loaders.push(loader);\n              loader.present().then(() =&gt; {\n                  //if it is bad loader, close\n                  if (this.badLoaders &gt; 0) {\n                      this.badLoaders --;\n                      this.endLoading();\n                  }\n              });\n          });\n      }\n  }\n\n  endLoading() {\n      let loader = this.loaders.pop();\n      if (loader) {\n          loader.dismiss();\n      } else {\n          // it is mean close event earlier\n          this.badLoaders ++;\n      }\n  }\n\n}\n</code></pre>\n\n<p>Use it then you not need manage loader handle each request method.</p>\n"}, {"tags": [], "owner": {"reputation": 187, "user_id": 10328376, "user_type": "registered", "profile_image": "https://graph.facebook.com/444620265944491/picture?type=large", "display_name": "Lowell Ed Llames", "link": "https://stackoverflow.com/users/10328376/lowell-ed-llames"}, "is_accepted": false, "score": 0, "last_activity_date": 1542176638, "creation_date": 1542176638, "answer_id": 53294243, "question_id": 53293874, "link": "https://stackoverflow.com/questions/53293874/showing-the-loading-spinner-icon-on-all-components/53294243#53294243", "title": "Showing the loading spinner icon on all components", "body": "<p>Put your spinner at the main component.. in most cases its the AppComponent\n<br><br>\nThen put a these on your shared service</p>\n\n<pre><code> private LoadingStatus = new Subject&lt;boolean&gt;();\n\n // Observable string streams\n IsLoading$ = this.LoadingStatus.asObservable();\n\n // Service message commands\n triggerLoading(status: boolean) {\n   this.LoadingStatus.next(mission);\n }\n</code></pre>\n\n<p>Then at your sender component call <code>triggerLoading(true)</code> or <code>triggerLoading(false)</code> from the service and subscribe at your main component (AppComponent):</p>\n\n<pre><code>this.shareService.IsLoading$.subscribe( data =&gt; progressFlag = data )\n</code></pre>\n\n<p>Or Add your logic as this:</p>\n\n<pre><code>this.shareService.IsLoading$.subscribe(\n data =&gt; {\n   if(data) {\n     // start loading logic here\n   } else {\n     // end loading logic here\n   }\n }\n)\n</code></pre>\n\n<p>Source: <a href=\"https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service\" rel=\"nofollow noreferrer\">Angular - Component Interaction</a></p>\n"}], "owner": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542176638, "creation_date": 1542174417, "last_edit_date": 1542175037, "question_id": 53293874, "link": "https://stackoverflow.com/questions/53293874/showing-the-loading-spinner-icon-on-all-components", "title": "Showing the loading spinner icon on all components", "body": "<p>I have written the code to show the loading spinner on all components when any event is triggered. It works fine on a single component but the issue with it, I have to show the same loading spinner on the around multiple components when certain event is triggered. See below code:</p>\n\n<pre><code>  tasks() {\n  this.handler.activateLoader();\n  this.tasksService.get(this.page, this.pageSize).subscribe(results =&gt; {\n    this.handler.hideLoader();\n    if (this.handler.handle(results)) {\n      return;\n    }\n    this.tasksRes = results['data'];\n    for (let i = 0; i &lt; this.tasksRes.length; i++) {\n      if (this.tasksRes[i].status == 'In_progress' &amp;&amp; this.tasksRes[i].eventType == 'Sync' &amp;&amp;\n        this.tasksRes[i].entityId == this.id) {\n        this.progressFlag = true;\n        break;\n      } else {\n        this.progressFlag = false;\n      }\n    }\n    this.length = results['totalElements'];\n  }, error =&gt; {\n    this.handler.hideLoader();\n    this.handler.error(error);\n  });\n}\n\nconnect() {\n  let source = new EventSource('/api/v1/events/register');\n  source.addEventListener('message', message =&gt; {\n    this.tasks();\n  });\n}\n</code></pre>\n\n<p>And on ngOnInit(), I have called these 2 methods as below then its working fine.</p>\n\n<pre><code>ngOnInit() {\n  this.tasks();\n  this.connect();\n}\n</code></pre>\n\n<p>The actual requirement is when I run a particular event the button is going to be disabled and at the same time the spinner loading will come. I have achieved this one. But how to show the same spinner on multiple components so that the user can know that the task is running.</p>\n\n<p>This is how I am showing the loading spinner. See below:</p>\n\n<pre><code>&lt;span class=\"text-warning pull-right\" *ngIf=\"progressFlag\"&gt;\n  &lt;i class=\"fa fa-spinner fa-spin fa-2x\"&gt;&lt;/i&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>In my code, I have many components at around 17-18 where I need to show the loading spinner. If I want to show the spinner globally means I can show it on either header and footer component which is common to my entire template. Can any one provide any ideas on it.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2897, "user_id": 2037841, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/04f06e605ef5a9d0a2871d4f610a78b8?s=128&d=identicon&r=PG", "display_name": "Johannes Reuter", "link": "https://stackoverflow.com/users/2037841/johannes-reuter"}, "edited": false, "score": 0, "creation_date": 1542184506, "post_id": 53293200, "comment_id": 93472698, "body": "I think this is an awesome question. Maybe it is possible to recursively traverse the path array during compile time by using spread types (<code>path: [KH, ...KT]</code>), but unfortunately this is <a href=\"https://github.com/Microsoft/TypeScript/issues/26113\" rel=\"nofollow noreferrer\">not supported in TS 3.1</a>. Nevertheless, I tried to come up with an untested <a href=\"https://gist.github.com/flash1293/71ea45dad4035edd84f8713a272f1f16\" rel=\"nofollow noreferrer\">POC</a>; Maybe it will work if TS supports rest types in tuples."}], "answers": [{"comments": [{"owner": {"reputation": 9562, "user_id": 20489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8daed6e147b68f7d82fde4963d30bbdb?s=128&d=identicon&r=PG", "display_name": "bingles", "link": "https://stackoverflow.com/users/20489/bingles"}, "edited": false, "score": 0, "creation_date": 1542316295, "post_id": 53305221, "comment_id": 93536235, "body": "Seems to not work on Partial&lt;Record&lt;T&gt;&gt; types. Any thoughts as to why?"}, {"owner": {"reputation": 9562, "user_id": 20489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8daed6e147b68f7d82fde4963d30bbdb?s=128&d=identicon&r=PG", "display_name": "bingles", "link": "https://stackoverflow.com/users/20489/bingles"}, "edited": false, "score": 1, "creation_date": 1542319444, "post_id": 53305221, "comment_id": 93537502, "body": "I ended up solving with  type IfKey&lt;T, K&gt; = [K] extends [keyof T] ? Exclude&lt;Required&lt;T[K]&gt;, undefined&gt; : T;    and then return type of T6 extends Required&lt;infer U&gt; ? U : T6"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1542386023, "last_edit_date": 1542386023, "creation_date": 1542214555, "answer_id": 53305221, "question_id": 53293200, "link": "https://stackoverflow.com/questions/53293200/typescript-get-deeply-nested-property-value-using-array/53305221#53305221", "title": "TypeScript: Get deeply nested property value using array", "body": "<p>Unfortunately, TypeScript doesn't currently allow arbitrary <a href=\"https://github.com/Microsoft/TypeScript/issues/26980\" rel=\"nofollow noreferrer\">recursive type functions</a>, which is what you want to iterate through a list of keys, drill down into an object type, and come out with the type of the nested property corresponding to the list of keys.  You can do pieces of it, but it's a mess.  </p>\n\n<p>So you're going to have to pick some maximum level of nesting and write for that.  Here's a possible type signature for your function which doesn't use overloads:</p>\n\n<pre><code>type IfKey&lt;T, K&gt; = [K] extends [keyof T] ? T[K] : T;\n\ndeclare function byPath&lt;T0,\n  K1 extends keyof T0 | undefined, T1 extends IfKey&lt;T0, K1&gt;,\n  K2 extends keyof T1 | undefined, T2 extends IfKey&lt;T1, K2&gt;,\n  K3 extends keyof T2 | undefined, T3 extends IfKey&lt;T2, K3&gt;,\n  K4 extends keyof T3 | undefined, T4 extends IfKey&lt;T3, K4&gt;,\n  K5 extends keyof T4 | undefined, T5 extends IfKey&lt;T4, K5&gt;,\n  K6 extends keyof T5 | undefined, T6 extends IfKey&lt;T5, K6&gt;\n&gt;({ state, path }: { state: T0, path: [K1?, K2?, K3?, K4?, K5?, K6?] }): T6;\n</code></pre>\n\n<p>Note that you can easily extend that to more than six layers of nesting if you need to.</p>\n\n<p>The way it works: there are two kinds of type parameters... key types (named <code>K1</code>, <code>K2</code>, etc), and object types (named <code>T0</code>, <code>T1</code>, etc).  The <code>state</code> property is of type <code>T0</code>, and the path is a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#optional-elements-in-tuple-types\" rel=\"nofollow noreferrer\">tuple with optional elements</a> of the key types.  Each key type is either a key of the previous object type, or it's <code>undefined</code>.  If the key is undefined, then the next object type is the same as the current object type; otherwise it's the type of the relevant property.  So as soon as key types become and stay <code>undefined</code>, the object types become and stay the last relevant property type... and the last object type (<code>T6</code> above) is the return type of the function.</p>\n\n<p>Let's do an example: if <code>T0</code> is <code>{a: {b: string}, c: {d: string}}</code>, then <code>K1</code> must be one of <code>'a'</code>, <code>'d'</code>, or <code>undefined</code>.  Let's say that <code>K1</code> is <code>'a'</code>.  Then <code>T1</code> is <code>{b: string}</code>.  Now <code>K2</code> must be <code>'b'</code> or <code>undefined</code>.  Let's say that <code>K2</code> is <code>'b'</code>.  Then <code>T2</code> is <code>string</code>.  Now <code>K3</code> must be in <code>keyof string</code> or <code>undefined</code>.  (So <code>K3</code> could be <code>\"charAt\"</code>, or any of the <code>string</code> methods and properties).  Let's say that <code>K3</code> is <code>undefined</code>.  Then <code>T3</code> is <code>string</code> (since it is the same as <code>T2</code>).  And if all the rest of <code>K4</code>, <code>K5</code>, and <code>K6</code> are <code>undefined</code>, then <code>T4</code>, <code>T5</code>, and <code>T6</code> are just <code>string</code>.  And the function returns <code>T6</code>.</p>\n\n<p>So if you do this call:</p>\n\n<pre><code>const ret = byPath({state: {a: {b: \"hey\"}, c: {d: \"you\"} }, path: ['a', 'b'] });\n</code></pre>\n\n<p>Then <code>T0</code> will be inferred as <code>{a: {b: string}, c: {d: string}</code>, <code>K1</code> will be <code>'a'</code>, <code>K2</code> will be <code>'b'</code>, and <code>K3</code> through <code>K6</code> will all be <code>undefined</code>.  Which is the example above, so <code>T6</code> will be <code>string</code>.  And thus <code>ret</code> will of type <code>string</code>.</p>\n\n<p>The above function signature should also yell at you if you enter a bad key:</p>\n\n<pre><code>const whoops = byPath({ state: { a: { b: \"hey\" }, c: { d: \"you\" } }, path: ['a', 'B'] });\n// error! type \"B\" is not assignable to \"b\" | undefined: ----------------------&gt; ~~~\n</code></pre>\n\n<p>That error makes sense, since <code>B</code> is not valid.  The following also yells at you:</p>\n\n<pre><code>const alsoWhoops = byPath({ state: { a: { b: \"hey\" }, c: { d: \"you\" } }, path: ['A', 'b'] });\n// error! type \"A\" is not assignable to \"a\" | \"c\" | undefined: ---------------&gt; ~~~\n// also error! Type \"b\" is not assignable to \"a\" | \"c\" | undefined ?! -------------&gt; ~~~\n</code></pre>\n\n<p>The first error is exactly what you'd expect; the second is a little weird, since <code>\"b\"</code> is fine.  But the compiler now has no idea what to expect for <code>keyof T['A']</code>, so it is acting as if <code>K1</code> were <code>undefined</code>.  If you fix the first error, the second will go away.  There might be ways to alter the <code>byPath()</code> signature to avoid this, but it seems minor to me.</p>\n\n<hr>\n\n<p>Anyway, hope that helps you or gives you some ideas.  Good luck!</p>\n\n<hr>\n\n<p>EDIT: in case you care about that erroneous second error message you could use the slightly more complex:</p>\n\n<pre><code>type IfKey&lt;T, K&gt; = [K] extends [keyof T] ? T[K] : T\ntype NextKey&lt;T, K = keyof any&gt; = [K] extends [undefined] ? undefined :\n  [keyof T | undefined] extends [K] ? keyof any : (keyof T | undefined)\n\ndeclare function byPath&lt;T0,\n  K1 extends NextKey&lt;T0&gt;, T1 extends IfKey&lt;T0, K1&gt;,\n  K2 extends NextKey&lt;T1, K1&gt;, T2 extends IfKey&lt;T1, K2&gt;,\n  K3 extends NextKey&lt;T2, K2&gt;, T3 extends IfKey&lt;T2, K3&gt;,\n  K4 extends NextKey&lt;T3, K3&gt;, T4 extends IfKey&lt;T3, K4&gt;,\n  K5 extends NextKey&lt;T4, K4&gt;, T5 extends IfKey&lt;T4, K5&gt;,\n  K6 extends NextKey&lt;T5, K5&gt;, T6 extends IfKey&lt;T5, K6&gt;\n&gt;({ state, path }: { state: T0, path: [K1?, K2?, K3?, K4?, K5?, K6?] }): T6;\n</code></pre>\n\n<p>which is pretty much the same except for when things go wrong with keys not matching what they're supposed to match.</p>\n"}], "owner": {"reputation": 9562, "user_id": 20489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8daed6e147b68f7d82fde4963d30bbdb?s=128&d=identicon&r=PG", "display_name": "bingles", "link": "https://stackoverflow.com/users/20489/bingles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1993, "favorite_count": 3, "accepted_answer_id": 53305221, "answer_count": 1, "score": 8, "last_activity_date": 1542386023, "creation_date": 1542169695, "question_id": 53293200, "link": "https://stackoverflow.com/questions/53293200/typescript-get-deeply-nested-property-value-using-array", "title": "TypeScript: Get deeply nested property value using array", "body": "<p>I'd like to declare a function that can take an object plus an array of nested property keys and derive the type of the nested value as the return type of the function.</p>\n\n<p>e.g.</p>\n\n<pre><code>const value = byPath({ state: State, path: ['one', 'two', 'three'] }); \n// return type == State['one']['two']['three']\n\nconst value2 = byPath({ state: State, path: ['one', 'two'] });\n// return type == State['one']['two']\n</code></pre>\n\n<p>The best I've been able to put together is the following, but it is more verbose than I'd like it to be, and I have to add a function overload for every level of nesting.</p>\n\n<pre><code>export function byPath&lt;\n  K1 extends string,\n  R\n&gt;({ state, path }: {\n  state: {[P1 in K1]?: R},\n  path: [K1]\n}): R;\n\nexport function byPath&lt;\n  K1 extends string,\n  K2 extends string,\n  R\n&gt;({ state, path }: {\n  state: {[P1 in K1]?: {[P2 in K2]?: R}},\n  path: [K1, K2]\n}): R;\n\nexport function byPath&lt;\n  K1 extends string,\n  K2 extends string,\n  K3 extends string,\n  R\n&gt;({ state, path }: {\n  state: {[P1 in K1]?: {[P2 in K2]?: {[P3 in K3]?: R}}},\n  path: [K1, K2, K3]\n}): R;\n\nexport function byPath&lt;R&gt;({ state, path }: { state: State, path: string[] }): R | undefined {\n  // do the actual nested property retrieval\n}\n</code></pre>\n\n<p>Is there a simpler / better way to do this?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 11, "last_activity_date": 1542166047, "creation_date": 1542166047, "answer_id": 53292762, "question_id": 53292729, "link": "https://stackoverflow.com/questions/53292729/can-you-enable-typescript-strict-mode-on-a-per-file/53292762#53292762", "title": "Can you enable TypeScript strict mode on a per file?", "body": "<p>Not currently.  See <a href=\"https://github.com/Microsoft/TypeScript/issues/28306\" rel=\"noreferrer\">this open suggestion</a>; I don't expect the TypeScript team to get around to it any time soon.  One workaround might be to write a script that runs <code>tsc</code> with the stricter checks enabled and filters the output for the files you want; see <a href=\"https://stackoverflow.com/a/51531201\">this answer</a> for some prior art.</p>\n"}], "owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3865, "favorite_count": 0, "accepted_answer_id": 53292762, "answer_count": 1, "score": 10, "last_activity_date": 1542166047, "creation_date": 1542165749, "question_id": 53292729, "link": "https://stackoverflow.com/questions/53292729/can-you-enable-typescript-strict-mode-on-a-per-file", "title": "Can you enable TypeScript strict mode on a per file?", "body": "<p>Is it possible to enable strict checks done by the TSC compiler (i.e. <code>--strict</code> et al.) file-by-file, say using a special comment? I'm working on an established Angular codebase that mostly doesn't take advantage of TS, and I'd like to have at least my own code be neater without also having to fix everybody else's code by turning the flag on for the whole project.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "amazon-web-services", "amazon-cognito"], "answers": [{"tags": [], "owner": {"reputation": 1222, "user_id": 4828534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b25b69ec8a2829c88f4719703ac3b6d?s=128&d=identicon&r=PG&f=1", "display_name": "AlexK", "link": "https://stackoverflow.com/users/4828534/alexk"}, "is_accepted": false, "score": 0, "last_activity_date": 1542179713, "creation_date": 1542179713, "answer_id": 53294896, "question_id": 53292567, "link": "https://stackoverflow.com/questions/53292567/updating-user-pool-schema-is-not-allowed-from-cloudformation/53294896#53294896", "title": "Updating user pool schema is not allowed from cloudformation", "body": "<p>You cannot add additional attributes to Cognito user pool once it has been created neither using CloudFormation, nor using the CLI or AWS console. You can only add custom attributes to an existing user pool.</p>\n"}], "owner": {"reputation": 1, "user_id": 10649569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cb90c978762ccd7f15ecb6349ba6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10649569/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 488, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542179713, "creation_date": 1542164403, "question_id": 53292567, "link": "https://stackoverflow.com/questions/53292567/updating-user-pool-schema-is-not-allowed-from-cloudformation", "title": "Updating user pool schema is not allowed from cloudformation", "body": "<p>I am trying to make phone_number mutable through cloudformation templete, but getting below error </p>\n\n<p>\"Updating user pool schema is not allowed from cloudformation. Use the AddCustomAttributes API or the AWS Cognito Console to update user pool schema.\"</p>\n\n<p>Below is my schema snippet:-</p>\n\n<pre><code>      {\n        \"Name\": \"phone_number\",\n        \"AttributeDataType\": \"String\",\n        \"Mutable\": true,\n        \"Required\": true\n      },\n</code></pre>\n\n<p>Not sure why cloudformation is not able to update the UserPoolId.</p>\n"}, {"tags": ["angular", "typescript", "lazy-loading"], "comments": [{"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1542170672, "post_id": 53292542, "comment_id": 93467783, "body": "why would the sharedmodule (if its only imported by the lazy modules) be bundled with main?"}, {"owner": {"reputation": 183, "user_id": 7374680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb62e3eaebe6ff6f7195da0f81039ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Liranius", "link": "https://stackoverflow.com/users/7374680/liranius"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1542174667, "post_id": 53292542, "comment_id": 93468867, "body": "@pixelbits Well, I have a <code>CoreModule</code> which imported <code>SharedModule</code> to get access to some of the shared components. And obviously, the <code>CoreModule</code> is imported in <code>AppModule</code>."}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1542174724, "post_id": 53292542, "comment_id": 93468887, "body": "Easy solution is split your shared module.  One which is imported by AppModule, another that is imported by lazy feature modules."}], "answers": [{"tags": [], "owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1542179150, "creation_date": 1542179150, "answer_id": 53294754, "question_id": 53292542, "link": "https://stackoverflow.com/questions/53292542/how-to-load-a-shared-component-lazily-in-angular/53294754#53294754", "title": "How to load a shared component lazily in Angular?", "body": "<p>I think you are confusing with <code>shared</code> module and <code>lazy</code> loading modules - </p>\n\n<p>Lazy loading modules are called only on demand whereas shared module is totally different from it.</p>\n\n<p>Let's come to shared module - In your App if you have around 3 modules and all the three modules relay on a same <code>component</code> <code>directive</code> or <code>modules</code> instead of importing all these in each and every modules you can just import in your <code>shared</code> module and map it in all your modules </p>\n\n<p><strong>AppModule(Root Module)</strong>         </p>\n\n<pre><code>@NgModule({\n  declarations: [],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    FormsModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><strong>LazyModule</strong></p>\n\n<pre><code>@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    BoatsManagerRoutingModule,\n  ],\n  declarations: [],\n  providers: []\n})\nexport class LazyModule { }\n</code></pre>\n\n<p>Check the above modules - you might see <code>HttpClientModule</code> and <code>FormsModule</code> are commonly imported in both the modules now the act of <code>Shared</code> module comes into play</p>\n\n<p><strong>SharedModule</strong></p>\n\n<pre><code> @NgModule({\n     imports: [\n       CommonModule,\n       HttpClientModule,\n       FormsModule,\n     ],\n     declarations: [],\n     providers: [],\n     exports: [\n     HttpClientModule,\n     FormsModule\n    ]\n  })\n  export class SharedModule { }\n</code></pre>\n\n<p>Now I Have imported those two modules in a <strong>Shared</strong> module and then exported the same, like the same way if you have any components or directives common to both can be declared in the shared module and export the same - Now only one thing you want to do is that directly import the <code>Shared</code> module you have created above in both the <code>AppModule</code> and <code>LazyModule</code> then you will have access to both <code>HttpClientModule</code> and <code>FormsModule</code> </p>\n\n<p>So that is use of <code>SharedModule</code> there is no need of lazy loading the shared module because it will get imported to the modules and get access to them </p>\n\n<p>Finally loading loading <code>Lazy</code> modules you can use <code>loadChildern</code> property on your routes that will load the module Lazily </p>\n\n<pre><code>  {\n    path: 'lazy',\n    loadChildren: './folder/Lazy.module#LazyModule',\n  }\n</code></pre>\n\n<p>Hope this solves your problem - Happy coding !!</p>\n"}], "owner": {"reputation": 183, "user_id": 7374680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb62e3eaebe6ff6f7195da0f81039ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Liranius", "link": "https://stackoverflow.com/users/7374680/liranius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1028, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542179150, "creation_date": 1542164241, "question_id": 53292542, "link": "https://stackoverflow.com/questions/53292542/how-to-load-a-shared-component-lazily-in-angular", "title": "How to load a shared component lazily in Angular?", "body": "<p>I have a component <code>CompA</code>, which is used in 2 lazy-load modules, <code>LazyModuleA</code> and <code>LazyModuleB</code>. I know the way that creating a <code>SharedModule</code> and import it in both lazy-load modules works. But the <code>SharedModule</code> is not lazy-loaded and will be bundled in <code>main.js</code>.</p>\n\n<p>Is there a way that make <code>CompA</code> lazy-loaded while can be shared between lazy-loaded modules?</p>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "html5-filesystem"], "answers": [{"tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": true, "score": 0, "last_activity_date": 1542218531, "creation_date": 1542218531, "answer_id": 53306282, "question_id": 53292312, "link": "https://stackoverflow.com/questions/53292312/checking-for-html5-file-api-support-in-angular/53306282#53306282", "title": "Checking for HTML5 File API Support in Angular?", "body": "<p>If we inject <code>document</code> using the <code>Document</code> type then we get the strict type checking, and VSCode draws squigglies, however if we use <code>any</code> instead of <code>Document</code> the errors disappear:</p>\n\n<pre><code>private hasHtml5FileApiSupport;\nconstructor(@Optional() @Inject(DOCUMENT) document: any) {\n  const w = document.defaultView;\n  this.hasHtml5FileApiSupport = w.File &amp;&amp; w.FileReader &amp;&amp; w.FileList &amp;&amp; w.Blob;\n}\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 53306282, "answer_count": 1, "score": -2, "last_activity_date": 1542218531, "creation_date": 1542162282, "question_id": 53292312, "link": "https://stackoverflow.com/questions/53292312/checking-for-html5-file-api-support-in-angular", "title": "Checking for HTML5 File API Support in Angular?", "body": "<p>When coding a check for HTML5 File API browser support like this:</p>\n\n<pre><code>  private hasHtml5FileApiSupport;\n  constructor(@Optional() @Inject(DOCUMENT) document: Document) {\n    const w = document.defaultView;\n    this.hasHtml5FileApiSupport = w.File &amp;&amp; w.FileReader &amp;&amp; w.FileList &amp;&amp; w.Blob;\n</code></pre>\n\n<p>VSCode draws red squigglies under the <code>w.File &amp;&amp; w.FileReader &amp;&amp; w.FileList</code> parts.</p>\n\n<p>Is there a way to get rid of these / Is there a better way to do this?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1542155979, "creation_date": 1542155979, "answer_id": 53291528, "question_id": 53291490, "link": "https://stackoverflow.com/questions/53291490/pip-install-e-equivalent-for-npm-typescript-react/53291528#53291528", "title": "&quot;pip install -e .&quot; equivalent for npm/typescript/react", "body": "<blockquote>\n  <p>What is the equivalent procedure for React/Typescript</p>\n</blockquote>\n\n<p>There is no global <em>dependency</em> pattern supported. Each project that depends on e.g. <code>react</code> will have it as a <code>devDependency</code>. </p>\n"}], "owner": {"reputation": 508, "user_id": 2317696, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ec9ca534c06088b44a188c0744b7f142?s=128&d=identicon&r=PG", "display_name": "Malthus", "link": "https://stackoverflow.com/users/2317696/malthus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1542155979, "creation_date": 1542155706, "question_id": 53291490, "link": "https://stackoverflow.com/questions/53291490/pip-install-e-equivalent-for-npm-typescript-react", "title": "&quot;pip install -e .&quot; equivalent for npm/typescript/react", "body": "<p>I'm developing a central set of React (Typescript) components that need to be imported from several other projects that are in development as well. When I face this type of situation in Python, I would use <code>pip install -e .</code> from the virtual env of each dependent project. Then I can use <code>from central_package import xyz</code> from wherever.</p>\n\n<p>What is the equivalent procedure for React/Typescript? I have tried <code>npm link</code>, but there seems to be an issue with importing the components: </p>\n\n<p><code>Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.</code></p>\n\n<p>I'm assuming some particular setup is required.</p>\n"}, {"tags": ["typescript", "unit-testing", "rxjs", "angular6", "karma-jasmine"], "comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1542213157, "post_id": 53290899, "comment_id": 93490433, "body": "Please include all the relevant sections of your .spec file, including where you set up your TestBed, any beforeEach() functions that affect this spec, and variables declared.  Even better would be a link to a stackblitz.  Trying to take a swag based on what you showed so far I would guess that you haven&#39;t gotten a hold of the actual <code>activityService</code> that was actually injected into the component being tested."}, {"owner": {"reputation": 633, "user_id": 9341172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q_Yv2lnsym0/AAAAAAAAAAI/AAAAAAAAADY/0-Ghe4sg8ds/photo.jpg?sz=128", "display_name": "ericksoen", "link": "https://stackoverflow.com/users/9341172/ericksoen"}, "edited": false, "score": 0, "creation_date": 1542219578, "post_id": 53290899, "comment_id": 93493674, "body": "Seeing the full context would be incredibly valuable to provide a more accurate recommendation.  Once you&#39;ve got the test spec passing, you can probably delete a few instances of your <code>fixture.detectChanges()</code>. The initial invocation triggers the <code>ngOnInit</code> behavior, which you need. However, any additional calls to <code>fixture.detectChanges</code> are only relevant if you intend to make assertions about the rendered HTML (change detection in test specs is off by default)."}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 9341172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q_Yv2lnsym0/AAAAAAAAAAI/AAAAAAAAADY/0-Ghe4sg8ds/photo.jpg?sz=128", "display_name": "ericksoen", "link": "https://stackoverflow.com/users/9341172/ericksoen"}, "edited": false, "score": 0, "creation_date": 1542254585, "post_id": 53306853, "comment_id": 93505095, "body": "I&#39;m glad you were able to get something working. That&#39;s always the first step! There&#39;s something about your hot/cold observable conclusion that&#39;s unfamiliar to me (if you have a source for it, can you share?).  I put together a fairly test harness using <a href=\"https://stackblitz.com/edit/angular-testing-blitz\" rel=\"nofollow noreferrer\">Angular StackBlitz</a> to see if it is possible to trigger the <code>ngOnInit</code> lifecycle hook using <code>fixture.detectChanges</code> while also firing the <code>subscribe</code> block on an Observable."}], "tags": [], "owner": {"reputation": 375, "user_id": 6471259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43df600d99ef02865761a13ee23d8001?s=128&d=identicon&r=PG&f=1", "display_name": "develmatik", "link": "https://stackoverflow.com/users/6471259/develmatik"}, "is_accepted": false, "score": 16, "last_activity_date": 1542221393, "last_edit_date": 1542221393, "creation_date": 1542221085, "answer_id": 53306853, "question_id": 53290899, "link": "https://stackoverflow.com/questions/53290899/angular-jasmine-test-not-firing-subscribe-inside-ngoninit/53306853#53306853", "title": "Angular Jasmine test not firing subscribe inside ngOnInit", "body": "<p>After hours of trying fakeAsync, providing mock class for the service, various tick() calls, and dozens of other posts and slighty different approaches, the culprit came down to adding one line: <code>component.ngOnInit();</code>.  </p>\n\n<p>Apparently, while <code>fixture.detectChanges()</code> certainly calls ngOnInit, it was somehow keeping the observable cold.  When I would call <code>fixture.detectChanges()</code>, it would not go into the subscribe of the observable.  As soon as I added <code>component.ngOnInit()</code>, the observable became hot, and the code inside the subscribe was executed, and I could see my console logs being printed.  Oddly, this made the following <code>fixture.detectChanges()</code> calls also jump into the subscribe code for each subsequent call.  </p>\n\n<p>Here is a simplified version of my spec file, hopefully this aids anyone in the future with the same problem.  fakeAsync and sync zones still passed the test, I had assumed I would have needed at least a tick() inside the fakeAsync zone, but it wasn't necessary.</p>\n\n<pre><code>describe('RecentActivityComponent', () =&gt; {\nlet component: RecentActivityComponent;\nlet fixture: ComponentFixture&lt;RecentActivityComponent&gt;;\nlet activityService: ActivityService;\n\nbeforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n        imports: [AccordionModule, FontAwesomeModule, HttpClientTestingModule],\n        declarations: [ RecentActivityComponent ],\n        providers: [AccordionConfig, ActivityService]\n    }).compileComponents();\n}));\n\nbeforeEach(async () =&gt; {\n    fixture = TestBed.createComponent(RecentActivityComponent);\n    component = fixture.componentInstance;\n    activityService = TestBed.get(ActivityService);\n});\n\nit('should populate recent activities', fakeAsync( () =&gt; {\n    const activities = [new ActivityBuilder()\n        .withId('1').withRecentActivityActionId(RecentActivityActionType.Created).build()\n    ];\n    spyOn(activityService, 'getActivities').and.returnValue(of(activities));\n    component.ngOnInit();\n    expect(component.recentActivities.length).toBe(1);\n}));\n\nit('should populate recent activities', () =&gt; {\n    const activities = [new ActivityBuilder()\n        .withId('1').withRecentActivityActionId(RecentActivityActionType.Created).build()\n    ];\n    spyOn(activityService, 'getActivities').and.returnValue(of(activities));\n    component.ngOnInit();\n    expect(component.recentActivities.length).toBe(1);\n});\n</code></pre>\n\n<p>});</p>\n"}], "owner": {"reputation": 375, "user_id": 6471259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43df600d99ef02865761a13ee23d8001?s=128&d=identicon&r=PG&f=1", "display_name": "develmatik", "link": "https://stackoverflow.com/users/6471259/develmatik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4349, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1546246901, "creation_date": 1542150845, "last_edit_date": 1546246901, "question_id": 53290899, "link": "https://stackoverflow.com/questions/53290899/angular-jasmine-test-not-firing-subscribe-inside-ngoninit", "title": "Angular Jasmine test not firing subscribe inside ngOnInit", "body": "<p>I have a basic component class, inside ngOnInit it subscribes to a service call</p>\n\n<pre><code>ngOnInit() {\n    this.activityService.getActivities().subscribe(activities =&gt; {\n        console.log('inside sub');\n        this.recentActivities = activities;\n    });\n}\n</code></pre>\n\n<p>So I included this console.log to see if this subscribe ever executes.</p>\n\n<p>In my test I spyOn this activity service method to return an Observable collection of the data I need. Then in the test, I do the whole fixture.detectChanges() deal and expect my array to be of length 1.</p>\n\n<pre><code>fit('should populate recent activities', () =&gt; {\n    const activities = [new ActivityBuilder()\n        .withId('1').withRecentActivityActionId(RecentActivityActionType.Created).build()\n    ];\n    spyOn(activityService, 'getActivities').and.returnValue(of(activities));\n\n    fixture.detectChanges();\n    fixture.whenStable().then(() =&gt; {\n        fixture.detectChanges();\n    });\n    fixture.detectChanges();\n\n    expect(component.recentActivities.length).toBe(1);\n});\n</code></pre>\n\n<p>According to the Angular docs, they pretty much do the same thing, I even tried the fakeAsync approach, but to no avail.  What am I missing here? Why does the subscribe block not execute?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542202412, "post_id": 53290984, "comment_id": 93483393, "body": "I followed your advice and modified <code>tsconfig.json</code> to set the <code>module</code> and <code>esModuleInterop</code> to the values you specified above. However, when I type in <code>ng build</code>, I get a compile error: <code>ERROR in node_modules&#47;typescript&#47;lib&#47;lib.dom.d.ts(3268,88): error TS2344: Type &#39;SVGElementTagNameMap[K]&#39; does not satisfy the constraint &#39;Node&#39;.</code> Note that I have placed <code>index.d.ts</code> at the root of the project, and <code>import mylib from &#39;mylib&#39;</code> does not show any errors in the IDE (VS Code). Any ideas?"}, {"owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542204153, "post_id": 53290984, "comment_id": 93484578, "body": "Something interest to observe. If I comment out the import statement and run <code>ng serve</code> the compile error goes away. While the server is running from <code>ng serve</code>, if I uncomment the import statements, the compile error shows up in the console, however, I can still use my library&#39;s code completely! This observation leads me to believe that the problem is with the compile configuration. Not sure how to fix that."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542204381, "post_id": 53290984, "comment_id": 93484726, "body": "Is there by any chance some interface or type named <code>Node</code> in mylib?"}, {"owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542204696, "post_id": 53290984, "comment_id": 93484959, "body": "You are right! There is an interface named <code>Node</code> (this is a graph library with Node, Edge, Graph). Let me see if I can tinker with that."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542209466, "post_id": 53290984, "comment_id": 93488065, "body": "Then it would be better to have all the interfaces from <code>mylib</code> declared within the <code>declare module { .. }</code> scope, not as globals, to avoid interfering with other global types. I updated the answer."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1542209462, "last_edit_date": 1542209462, "creation_date": 1542151548, "answer_id": 53290984, "question_id": 53290624, "link": "https://stackoverflow.com/questions/53290624/how-do-i-write-a-typescript-definition-file-for-a-javascript-library-written-lik/53290984#53290984", "title": "How do I write a Typescript definition file for a JavaScript library written like the following?", "body": "<p>Since you mentioned NPM, I'm assuming that the code which uses <code>mylib</code> is using CommonJS module resolution, and you are running it in node (or you are using something like webpack).</p>\n\n<p>Then, this export variant is in effect:</p>\n\n<pre><code>module.exports = getLib();\n</code></pre>\n\n<p>This exports mylib object as a whole, and does not introduce anything named <code>mylib</code>, so the named import </p>\n\n<pre><code>import {mylib} from 'mylib'. \n</code></pre>\n\n<p>is undefined at runtime.</p>\n\n<p>How to consume this kind of export in TypeScript is complicated, <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#support-for-import-d-from-cjs-form-commonjs-modules-with---esmoduleinterop\" rel=\"nofollow noreferrer\">but starting from TypeScript 2.7</a>, the way that usually works is</p>\n\n<ol>\n<li><p>write type declaration using <a href=\"https://stackoverflow.com/questions/39109027/write-a-declaration-file-for-a-default-export-module\">export assignment</a></p>\n\n<pre><code>declare module \"mylib\" {\n    let mylib: MyLib;\n    export = mylib; \n}\n</code></pre></li>\n<li><p>compile with <code>--module=commonjs</code> and <code>--esModuleInterop=true</code></p></li>\n<li><p>import it as if it was default export</p>\n\n<pre><code>import mylib from 'mylib';\n</code></pre></li>\n</ol>\n\n<p><strong>UPDATE</strong></p>\n\n<p>To avoid name conflicts in global scope, it would be better to have all the types from <code>mylib</code> declared within <code>mylib</code> module scope, like this</p>\n\n<pre><code>declare module \"mylib\" {\n\n    export interface Car {\n        make: string;\n        model: string;\n        year: number;\n    }\n\n    export interface MyLib {\n        getSomething(): string;\n        getCar(make: string, model: string, year: number): Car;\n    }\n\n    export let mylib: MyLib\n}\n</code></pre>\n\n<p>But then, you will have to import these types explicitly in every module that needs them:</p>\n\n<pre><code>import mylib from 'mylib';\n\nimport {Car, MyLib} from 'mylib';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542167951, "post_id": 53291006, "comment_id": 93467208, "body": "Please let me clarify; are you saying one approach could be to simply add the type definition file to the root of <code>mylib</code>? So upon <code>npm install mylib --save</code> it will end up in <code>node_modules&#47;mylib&#47;index.d.ts</code>? And then from there I may import as <code>import mylib from &#39;mylib&#39;</code>?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "edited": false, "score": 0, "creation_date": 1542168487, "post_id": 53291006, "comment_id": 93467327, "body": "Yes, that should work in terms of finding the declaration file.  A separate issue is that the default import will only work if you enable <code>esModuleInterop</code> according to artem&#39;s answer.  If you want to import the entire module, I would suggest instead using <code>import * as mylib from &#39;mylib&#39;;</code>.  That works regardless of <code>esModuleInterop</code>."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 2, "last_activity_date": 1542151670, "creation_date": 1542151670, "answer_id": 53291006, "question_id": 53290624, "link": "https://stackoverflow.com/questions/53290624/how-do-i-write-a-typescript-definition-file-for-a-javascript-library-written-lik/53291006#53291006", "title": "How do I write a Typescript definition file for a JavaScript library written like the following?", "body": "<p>In your type declaration file, the <code>getSomething</code> and <code>getCar</code> functions are members of a named export named <code>mylib</code>, but in the implementation, <code>getSomething</code> and <code>getCar</code> are themselves exports of the module.  The cleanest way to write the declaration file would be like this:</p>\n\n<pre><code>declare module \"mylib\" {\n export function getSomething(): string;\n export function getCar(make: string, model: string, year: number): Car;\n}\n</code></pre>\n\n<p>(Using an export assignment as artem said is another option.)</p>\n\n<p>Side note: It's inadvisable to create a file at <code>node_modules/@types/mylib/index.d.ts</code> manually because package management tools such as npm and yarn expect to be in control of the entire <code>node_modules</code> directory.  Instead, you can add the declaration file to the original <code>mylib</code> package or publish an actual <code>@types/mylib</code> package to your private repository.  Or if you want to use the type declarations only in this Angular app, you can put the <code>index.d.ts</code> file in its own directory in the Angular app and either (1) set the <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"nofollow noreferrer\"><code>baseUrl</code> and <code>paths</code> options</a> so that module resolution of <code>mylib</code> finds your file or (2) create a <code>package.json</code> file for your type declaration and register it as a dependency in your main <code>package.json</code> using a relative path.</p>\n"}], "owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2679, "favorite_count": 1, "accepted_answer_id": 53290984, "answer_count": 2, "score": 1, "last_activity_date": 1542209462, "creation_date": 1542149012, "last_edit_date": 1542204547, "question_id": 53290624, "link": "https://stackoverflow.com/questions/53290624/how-do-i-write-a-typescript-definition-file-for-a-javascript-library-written-lik", "title": "How do I write a Typescript definition file for a JavaScript library written like the following?", "body": "<p>I have an old JavaScript library that I wrote to work with <code>AMD</code> and <code>CommonJS</code>. I forgot the original source which influenced me to write the library in this way, but my JavaScript library is written in the following pattern.</p>\n\n<pre><code>(function(window) {\n 'use strict';\n\n function getLib() {\n  var mylib = {};\n  mylib.getSomething = function() {\n   return 'x';\n  }\n  mylib.getCar = function(make, model, year) {\n   return {\n    make: make,\n    model: model,\n    year: year\n   };\n  }\n  return mylib;\n }\n\n if(typeof module === 'object' &amp;&amp; module &amp;&amp; typeof module.exports === 'object') {\n    module.exports = getLib();\n  } else {\n    if(typeof(mylib) === 'undefined') {\n      window.mylib = getLib();\n    }\n\n    if(typeof define === 'function' &amp;&amp; define.amd) {\n      define('mylib', [], getLib());\n    }\n  }\n})(this);\n</code></pre>\n\n<p>How do I write a type definition <code>d.ts</code> file for this JavaScript library?</p>\n\n<p>I attempted to write a <code>d.ts</code> as follows, but it does not work. In my Angular app, I put the following file <code>node_modules/@types/mylib/index.d.ts</code>.</p>\n\n<pre><code>interface Car {\n make: string;\n model: string;\n year: number;\n}\n\ninterface MyLib {\n getSomething(): string;\n getCar(make: string, model: string, year: number): Car;\n}\n\ndeclare module \"mylib\" {\n export let mylib: MyLib\n}\n</code></pre>\n\n<p>In my controller, I simply try to import the library and debug it to the console, but get <code>undefined</code>.</p>\n\n<pre><code>import {mylib} from 'mylib'; //IDE doesn't complain, seems to find the type def\n\nexport class MyPage {\n constructor() {\n  console.log(mylib); //undefined\n  console.log(mylib.getCar('ford', 'f150', 2018)); //code won't reach here\n }\n}\n</code></pre>\n\n<p>Note that the JavaScript package <code>mylib</code> is not on <code>NPM</code> but a private repository and I have already installed it (e.g. <code>npm install mylib --save</code>) to <code>node_modules/mylib</code>. I mention this because I am not sure where the type def file should go. </p>\n\n<p>Any help is appreciated.</p>\n\n<p>UPDATE:</p>\n\n<p>Per the advice below, I've modified my <code>d.ts</code> file to look like the following and placed it in <code>mylib/index.d.ts</code>.</p>\n\n<pre><code>declare module \"mylib\" {\n    let mylib: MyLib;\n    export = mylib; \n}\n</code></pre>\n\n<p>Now, I can import the library in two ways. First way.</p>\n\n<pre><code>import mylib from 'mylib';\n</code></pre>\n\n<p>Second way.</p>\n\n<pre><code>import * as mylib from 'mylib';\n</code></pre>\n\n<p>In VS Code, the IDE, there are no complaints (no red lines hinting at problems). Furthermore, I've modified <code>tsconfig.json</code> to look like the following.</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"module\": \"commonjs\",\n    \"esModuleInterop\": true,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2015.promise\",\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>When I run <code>ng build</code>, I see the message below.</p>\n\n<pre>\nERROR in node_modules/typescript/lib/lib.dom.d.ts(3268,88): error TS2344: Type 'SVGElementTagNameMap[K]' does not satisfy the constraint 'Node'.\n  Type 'SVGSVGElement | SVGCircleElement | SVGClipPathElement | SVGDefsElement | SVGDescElement | SVGElli...' is not assignable to type 'Node'.\n    Type 'SVGFEColorMatrixElement' is not assignable to type 'Node'.\n      Types of property 'values' are incompatible.\n        Type 'SVGAnimatedNumberList' is not assignable to type 'string[]'.\n          Property 'includes' is missing in type 'SVGAnimatedNumberList'.\nnode_modules/typescript/lib/lib.dom.d.ts(3626,85): error TS2344: Type 'SVGElementTagNameMap[K]' does not satisfy the constraint 'Node'.\n  Type 'SVGSVGElement | SVGCircleElement | SVGClipPathElement | SVGDefsElement | SVGDescElement | SVGElli...' is not assignable to type 'Node'.\n    Type 'SVGFEColorMatrixElement' is not assignable to type 'Node'.\nnode_modules/typescript/lib/lib.dom.d.ts(10405,11): error TS2430: Interface 'SVGFEColorMatrixElement' incorrectly extends interface 'SVGElement'.\n  Types of property 'values' are incompatible.\n    Type 'SVGAnimatedNumberList' is not assignable to type 'string[]'.\nnode_modules/typescript/lib/lib.dom.d.ts(14172,86): error TS2344: Type 'SVGElementTagNameMap[K]' does not satisfy the constraint 'Node'.\n  Type 'SVGSVGElement | SVGCircleElement | SVGClipPathElement | SVGDefsElement | SVGDescElement | SVGElli...' is not assignable to type 'Node'.\n    Type 'SVGFEColorMatrixElement' is not assignable to type 'Node'.\n</pre>\n\n<p>The \"interesting\" thing is that if I comment out the <code>import</code> then run <code>ng build</code> or <code>ng serve</code>, the compile error goes away. While the app is in live reload mode, I can simply uncomment the <code>import</code>, and though the compile error shows up, I can still use all the features of the library in the application. </p>\n"}, {"tags": ["typescript", "express", "inversifyjs"], "answers": [{"tags": [], "owner": {"reputation": 1089, "user_id": 291323, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/d5e25a81bd4f57b8361ade66fa9d26d0?s=128&d=identicon&r=PG", "display_name": "MJ.", "link": "https://stackoverflow.com/users/291323/mj"}, "is_accepted": false, "score": 0, "last_activity_date": 1542210783, "creation_date": 1542210783, "answer_id": 53304090, "question_id": 53290330, "link": "https://stackoverflow.com/questions/53290330/getting-404-from-inversify-express-utils-controller/53304090#53304090", "title": "Getting 404 from inversify-express-utils controller", "body": "<p>Figured it out.</p>\n\n<p>The @controller() annotation doesn't seem to work with a root ('/') path.</p>\n\n<p>Works after changing <strong>healthController.ts</strong> to the following</p>\n\n<pre><code>import {Request, Response} from \"express\"\nimport {BaseHttpController, controller, httpGet} from \"inversify-express-utils\"\n\n@controller('/health')\nexport class HealthController extends BaseHttpController {\n\n    @httpGet('/')\n    private health(req: Request, resp: Response) {\n        resp.json({uptime: process.uptime()})\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8103348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f947735efc25bb5390d122ad23cf5d2?s=128&d=identicon&r=PG&f=1", "display_name": "STK913", "link": "https://stackoverflow.com/users/8103348/stk913"}, "is_accepted": false, "score": 0, "last_activity_date": 1577455791, "creation_date": 1577455791, "answer_id": 59501941, "question_id": 53290330, "link": "https://stackoverflow.com/questions/53290330/getting-404-from-inversify-express-utils-controller/59501941#59501941", "title": "Getting 404 from inversify-express-utils controller", "body": "<p>It works well, but you shouldn't use a slash as a root path:</p>\n\n<pre><code>import {Request, Response} from \"express\"\nimport {BaseHttpController, controller, httpGet} from \"inversify-express-utils\"\n\n@controller('')\nexport class HealthController extends BaseHttpController {\n\n    @httpGet('/health')\n    private health(req: Request, resp: Response) {\n        resp.json({uptime: process.uptime()})\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1089, "user_id": 291323, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/d5e25a81bd4f57b8361ade66fa9d26d0?s=128&d=identicon&r=PG", "display_name": "MJ.", "link": "https://stackoverflow.com/users/291323/mj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577455791, "creation_date": 1542147324, "last_edit_date": 1542210660, "question_id": 53290330, "link": "https://stackoverflow.com/questions/53290330/getting-404-from-inversify-express-utils-controller", "title": "Getting 404 from inversify-express-utils controller", "body": "<p>I'm struggling to get an inversify-express-utils service properly configured. I'm trying to use two controllers, but only one of them seems to be discovered by inversify.</p>\n\n<p>With my current configuration, only <code>helloController</code> seems to be registering. Requests to <code>GET .../api/v1/hello</code> respond as expected with 200 OK. However, requests to <code>GET .../api/health</code> respond with 404 NOT FOUND.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Here is my current configuration:</p>\n\n<pre><code>src\n\u2502\n\u2514\u2500\u2500api\n   \u2502  index.ts\n   \u2502\n   \u2514\u2500\u2500controller\n      \u2502  index.ts\n      \u2502  healthController.ts\n      \u2502\n      \u2514\u2500\u2500v1\n         \u2502  index.ts\n         \u2502  helloController.ts\n</code></pre>\n\n<p><strong>src/api/index.ts</strong></p>\n\n<pre><code>import \"reflect-metadata\"\nimport {Container} from \"inversify\"\nimport {InversifyExpressServer} from \"inversify-express-utils\"\nimport \"./api/controller\"\n\nconst inversifyContainer = new Container()\nconst server = new InversifyExpressServer(inversifyContainer)\nconst serverInstance = server.build()\nserverInstance.listen(3000)\n</code></pre>\n\n<p><strong>src/api/controller/index.ts</strong></p>\n\n<pre><code>export * from \"./healthController\"\nexport * from \"./v1/\"\n</code></pre>\n\n<p><strong>src/api/controller/healthController.ts</strong></p>\n\n<pre><code>import {Request, Response} from \"express\"\nimport {BaseHttpController, controller, httpGet} from \"inversify-express-utils\"\n\n@controller('/')\nexport class HealthController extends BaseHttpController {\n\n    constructor(){ super() }\n\n    @httpGet('/health')\n    private health(req: Request, resp: Response) {\n        resp.json({uptime: process.uptime()})\n    }\n}\n</code></pre>\n\n<p><strong>src/api/controller/v1/index.ts</strong></p>\n\n<pre><code>export * from \"./helloController\"\n</code></pre>\n\n<p><strong>src/api/controller/v1/helloController.ts</strong></p>\n\n<pre><code>import {Request, Response} from \"express\"\nimport {BaseHttpController, controller, httpGet} from \"inversify-express-utils\"\n\n\n@controller('/v1/hello')\nexport class helloController extends BaseHttpController {\n\n    @httpGet('/')\n    private hello(req: Request, resp: Response) {\n        resp.send(\"Hello, World!\")\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 2, "creation_date": 1542147228, "post_id": 53290183, "comment_id": 93462340, "body": "You could always <code>console.log</code> this instead: <code>Object.assign({}, this.searchform.value, { answer: this.searchform.value.answer.label })</code>"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1542147802, "post_id": 53290183, "comment_id": 93462584, "body": "You can literally copy that code in your stackblitz as is to see it... <a href=\"https://stackblitz.com/edit/angular-rvpmjk\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-rvpmjk</a>"}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1542147867, "post_id": 53290183, "comment_id": 93462613, "body": "@DanielWStrimpel thanks a lot bro!"}, {"owner": {"reputation": 398, "user_id": 7392985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1P10Z.png?s=128&g=1", "display_name": "Nitin Walia", "link": "https://stackoverflow.com/users/7392985/nitin-walia"}, "edited": false, "score": 0, "creation_date": 1542147880, "post_id": 53290183, "comment_id": 93462620, "body": "JSON.stringify(this.searchform.value); try this or you can directly use Json pipe in html like {{ searchform.value |  json }}"}], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1542147194, "post_id": 53290290, "comment_id": 93462321, "body": "I don&#39;t want to print them one by one. I want to print them all out in a single object like I showed in my question"}], "tags": [], "owner": {"reputation": 14, "user_id": 10466296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ozIBDZztXr8/AAAAAAAAAAI/AAAAAAAAAAQ/q0Nk-YJd7E4/photo.jpg?sz=128", "display_name": "Jose O", "link": "https://stackoverflow.com/users/10466296/jose-o"}, "is_accepted": false, "score": -1, "last_activity_date": 1542147194, "last_edit_date": 1542147194, "creation_date": 1542147143, "answer_id": 53290290, "question_id": 53290183, "link": "https://stackoverflow.com/questions/53290183/how-to-print-single-string-and-not-object/53290290#53290290", "title": "How to print single string and not object?", "body": "<p>This happens because you have an array inside and you gotta access the value of the array</p>\n\n<pre><code>console.log(this.searchform.value.firstName);\nconsole.log(this.searchform.value.lastName);\nconsole.log(this.searchform.value.answer.label);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 10614448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd70f7190d115edd9c0407daed82f856?s=128&d=identicon&r=PG&f=1", "display_name": "ams", "link": "https://stackoverflow.com/users/10614448/ams"}, "is_accepted": false, "score": 0, "last_activity_date": 1542148432, "creation_date": 1542148432, "answer_id": 53290525, "question_id": 53290183, "link": "https://stackoverflow.com/questions/53290183/how-to-print-single-string-and-not-object/53290525#53290525", "title": "How to print single string and not object?", "body": "<p>How about this?</p>\n\n<pre><code>const newObj = {\n   'firstName': this.searchform.value.firstName,\n   'lastName': this.searchform.value.lastName,\n   'answer': this.searchform.value.answer.label,\n};\nconsole.log(newObj);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1542209574, "post_id": 53290895, "comment_id": 93488122, "body": "Thanks a lot for your input bro!"}], "tags": [], "owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "is_accepted": true, "score": 0, "last_activity_date": 1542150828, "creation_date": 1542150828, "answer_id": 53290895, "question_id": 53290183, "link": "https://stackoverflow.com/questions/53290183/how-to-print-single-string-and-not-object/53290895#53290895", "title": "How to print single string and not object?", "body": "<p>Remove the <code>optionLabel=\"label\"</code> property from your <code>p-dropdown</code>, and intialise the answers object with a <code>value</code>, and a <code>label</code>:</p>\n\n<pre><code>this.answers = [\n  { label: 'Yes', value: 'Yes' },\n  { label: 'No', value: 'No' },\n];\n</code></pre>\n\n<p>This will now print in your expected format.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-qpmjf7?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Here is a fork of the Stackblitz</a></strong></p>\n"}], "owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 53290895, "answer_count": 3, "score": 0, "last_activity_date": 1542150828, "creation_date": 1542146577, "question_id": 53290183, "link": "https://stackoverflow.com/questions/53290183/how-to-print-single-string-and-not-object", "title": "How to print single string and not object?", "body": "<p>I'm working with a simple <strong>reactive form</strong> and after entering <strong>firstName</strong>, <strong>lastName</strong> and <strong>Answer</strong> I'm able to print out the values in the console like this:</p>\n\n<blockquote>\n  <p>{firstName: \"Peter\", lastName: \"Smith\", answer: {\u2026}}</p>\n</blockquote>\n\n<p>However, I want to print out the value of answer as a simple string and NOT an object.</p>\n\n<p><strong>Expected Result:</strong></p>\n\n<blockquote>\n  <p>{firstName:\"Peter\", lastName:\"Smith\", answer:'Yes'}</p>\n</blockquote>\n\n<p>Does anyone have any idea how to make this happen?</p>\n\n<p>Here's my code: <a href=\"https://stackblitz.com/edit/angular-8wvrkv?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\"><strong>LIVE DEMO</strong></a></p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings", "react-props", "typescript-types"], "answers": [{"comments": [{"owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "edited": false, "score": 0, "creation_date": 1542144411, "post_id": 53289658, "comment_id": 93461202, "body": "Hi estus, thank you for helping me again \ud83d\ude0aI made an edit to the post after your answer, I was just wondering if that is what you meant with your answer?"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 12, "last_activity_date": 1542144046, "creation_date": 1542144046, "answer_id": 53289658, "question_id": 53289525, "link": "https://stackoverflow.com/questions/53289525/typescript-and-react-pass-component-in-props-and-return-it-from-a-function/53289658#53289658", "title": "TypeScript and React: Pass component in props and return it from a function", "body": "<p><code>ReactNode</code> is React <em>element</em> type, while <code>component</code> prop is expected to be React <em>component</em>.</p>\n\n<p>It likely should be:</p>\n\n<pre><code>export interface Props {\n  component: React.ComponentType;\n  handleSubmit(): void;\n}\n</code></pre>\n\n<blockquote>\n  <p>renderForm has to return a ReactNode, so I can't change ReactNode to ComponentType (the latter would resolve the JSX error).</p>\n</blockquote>\n\n<p><code>component</code> prop and <code>renderForm</code> return type aren't connected. The former is a component and the latter is an element.</p>\n"}], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7729, "favorite_count": 1, "accepted_answer_id": 53289658, "answer_count": 1, "score": 4, "last_activity_date": 1542144378, "creation_date": 1542143384, "last_edit_date": 1542144378, "question_id": 53289525, "link": "https://stackoverflow.com/questions/53289525/typescript-and-react-pass-component-in-props-and-return-it-from-a-function", "title": "TypeScript and React: Pass component in props and return it from a function", "body": "<p>I'm writing a Form component with React and TypeScript. I use Formik for the form logic. I want to pass the <code>&lt;Form /&gt;</code> component a specific form as a prop and render it. Here is what I tried:</p>\n\n<pre><code>import { Formik, FormikProps } from \"formik\";\nimport React, { PureComponent, ReactNode } from \"react\";\n\nexport interface Props {\n  component: ReactNode; // TODO: Change to one of LoginForm or RegisterForm.\n  handleSubmit(): void;\n}\n\nexport class Form extends PureComponent&lt;Props&gt; {\n  renderForm = (formikProps: FormikProps&lt;any&gt;): ReactNode =&gt; {\n    const { component: FormComponent } = this.props;\n    return &lt;FormComponent {...formikProps} /&gt;;\n  };\n\n  render() {\n    const { handleSubmit } = this.props;\n    return &lt;Formik render={this.renderForm} /&gt;;\n  }\n}\n\nexport default Form;\n</code></pre>\n\n<p>The problem is that the line where I return the <code>&lt;FormComponent /&gt;</code> throws the error:</p>\n\n<pre><code>[ts] JSX element type 'FormComponent' does not have any construct or call signatures.\n</code></pre>\n\n<p><code>renderForm</code> has to return a ReactNode, so I can't change <code>ReactNode</code> to <code>ComponentType</code> (the latter would resolve the JSX error).</p>\n\n<p>How would one do this in TypeScript?</p>\n\n<p><strong>Edit</strong>\nSo I got it working by doing this (thanks to <a href=\"https://stackoverflow.com/users/3731501/estus\">estus</a>):</p>\n\n<pre><code>import { Formik, FormikProps } from \"formik\";\nimport React, { PureComponent, ReactElement } from \"react\";\n\nexport interface Props {\n  component: React.ComponentType&lt;any&gt;; // TODO: Change to one of LoginForm or RegisterForm.\n  handleSubmit(): void;\n}\n\nexport class Form extends PureComponent&lt;Props&gt; {\n  renderForm = (formikProps: FormikProps&lt;any&gt;): ReactElement&lt;any&gt; =&gt; {\n    const { component: FormComponent } = this.props;\n    return &lt;FormComponent {...formikProps} /&gt;;\n  };\n\n  render() {\n    const { handleSubmit } = this.props;\n    return &lt;Formik render={this.renderForm} /&gt;;\n  }\n}\n\nexport default Form;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 1, "creation_date": 1542142544, "post_id": 53289319, "comment_id": 93460485, "body": "<code>return this.clientServiceSearch({...</code>"}, {"owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "reply_to_user": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 0, "creation_date": 1542143040, "post_id": 53289319, "comment_id": 93460680, "body": "Won&#39;t help, as i&#39;m subscribing to the result returned by the service."}, {"owner": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 1, "creation_date": 1542143142, "post_id": 53289319, "comment_id": 93460730, "body": "It will. Makes the async call &quot;wait&quot;. Otherwise it returns &quot;undefined&quot; before clientService gets to complete"}, {"owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "reply_to_user": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 0, "creation_date": 1542143261, "post_id": 53289319, "comment_id": 93460769, "body": "Thanks for the input. However, how will I handle the subscription? When I return the service call, I cannot leave the subscription in the call."}, {"owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "reply_to_user": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 0, "creation_date": 1542144365, "post_id": 53289319, "comment_id": 93461184, "body": "The problem is, I need to map the data returned by clientService.search to this.client. For this purpose I call the service that returns an Observable and this cannot be marked async."}, {"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 1, "creation_date": 1542144386, "post_id": 53289319, "comment_id": 93461193, "body": "Why don&#39;t just move findTimeSheets() into your subscription."}, {"owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "reply_to_user": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1542144448, "post_id": 53289319, "comment_id": 93461219, "body": "@wannadream i need to load some more data after that, so for simplicity reason I&#39;d like to keep that separated."}, {"owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "reply_to_user": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1542144644, "post_id": 53289319, "comment_id": 93461310, "body": "@wannadream: you know what? I still might do that, because this works fine. Is this good practice as well?"}, {"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 1, "creation_date": 1542144894, "post_id": 53289319, "comment_id": 93461424, "body": "No matter what, you will need to pipe them one by one, executing synchronously. This is the simplest way."}, {"owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "edited": false, "score": 0, "creation_date": 1542145706, "post_id": 53289319, "comment_id": 93461779, "body": "Thanks for you help. I&#39;ll use it in the subscription, I hope i can further process the data that way."}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 9062700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9d98a88cd88d3608e3f34f061ac9f45?s=128&d=identicon&r=PG&f=1", "display_name": "natqe", "link": "https://stackoverflow.com/users/9062700/natqe"}, "edited": false, "score": 0, "creation_date": 1542153745, "post_id": 53291153, "comment_id": 93464107, "body": "replace return with await"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 182, "user_id": 9062700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9d98a88cd88d3608e3f34f061ac9f45?s=128&d=identicon&r=PG&f=1", "display_name": "natqe", "link": "https://stackoverflow.com/users/9062700/natqe"}, "edited": false, "score": 0, "creation_date": 1542154092, "post_id": 53291153, "comment_id": 93464187, "body": "Done. Because, I can see your preference for future expansion \ud83c\udf39"}, {"owner": {"reputation": 182, "user_id": 9062700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9d98a88cd88d3608e3f34f061ac9f45?s=128&d=identicon&r=PG&f=1", "display_name": "natqe", "link": "https://stackoverflow.com/users/9062700/natqe"}, "edited": false, "score": 0, "creation_date": 1542158599, "post_id": 53291153, "comment_id": 93465246, "body": "if you use the return keyword, you don&#39;t need the async keyword. but its a bit a lot tricky for the human eyes."}, {"owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "edited": false, "score": 0, "creation_date": 1542176371, "post_id": 53291153, "comment_id": 93469393, "body": "You cannot call <code>toPromise</code> on an RxJS subscription. Instead you could call <code>toPromise</code> first on the returned observable, and register the handlers that are now in <code>subscribe</code> in a <code>then</code> call."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1542154062, "last_edit_date": 1542154062, "creation_date": 1542153045, "answer_id": 53291153, "question_id": 53289319, "link": "https://stackoverflow.com/questions/53289319/data-not-ready-when-needed/53291153#53291153", "title": "Data not ready when needed", "body": "<p>You have <code>await this.reloadClients()</code> However the function <code>reloadClients</code> is not <code>async</code>. So the await is useless. </p>\n\n<h1>Fix</h1>\n\n<p>Make <code>reloadClients</code> async e.g. </p>\n\n<pre><code>async reloadClients() {\n    await this.clientService.search({\n        page: '0',\n        query: 'assigner.id:' + this.selectedAssigner.id,\n        size: '250',\n        sort: ''})\n       .subscribe((res: HttpResponse&lt;Client[]&gt;) =&gt; { this.clients = res.body; this.init(res.body); }, (res: HttpErrorResponse) =&gt; this.onError(res.message))\n       .toPromise();\n}\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 2750910, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b223cc99dc81f98cb964a756840fb6da?s=128&d=identicon&r=PG&f=1", "display_name": "Fish-Guts", "link": "https://stackoverflow.com/users/2750910/fish-guts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542154062, "creation_date": 1542142301, "question_id": 53289319, "link": "https://stackoverflow.com/questions/53289319/data-not-ready-when-needed", "title": "Data not ready when needed", "body": "<p>I need to load some data from the server before further processing. So have I have this function: </p>\n\n<pre><code>async load() {\n    await this.reloadClients()\n    this.findTimeSheets();\n}\n\nfindTimeSheets() {\n    for (const client of this.clients) {\n        console.log('Client: ' + client.lastName);\n    }      \n}\n</code></pre>\n\n<p>This function gets called when clicking a button on the component. </p>\n\n<p>I need the function this.timeSheets to wait until this.reloadClients is done processing, so the data is ready. This is the the reload function, it should load a list of clients and store it in this.clients: </p>\n\n<pre><code>reloadClients() {\n    this.clientService.search({\n        page: '0',\n        query: 'assigner.id:' + this.selectedAssigner.id,\n        size: '250',\n        sort: ''})\n       .subscribe((res: HttpResponse&lt;Client[]&gt;) =&gt; { this.clients = res.body; this.init(res.body); }, (res: HttpErrorResponse) =&gt; this.onError(res.message));\n}\n</code></pre>\n\n<p>What happens now is that I need to click the button twice to get the correct data. So the loop in findTimeSheets() works after the second click (printing data to console). </p>\n\n<p>My approach was to use await, but somehow this doesn't work. </p>\n\n<p>As I'm new to Angular, I need some help resolving this. </p>\n"}, {"tags": ["typescript", "typescript3.0"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 9497574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fec41840751410f15af189f12a7331e?s=128&d=identicon&r=PG&f=1", "display_name": "Itay", "link": "https://stackoverflow.com/users/9497574/itay"}, "edited": false, "score": 1, "creation_date": 1610452448, "post_id": 53289298, "comment_id": 116131903, "body": "I&#39;ve been searching for hours! Thank you!"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 32, "last_activity_date": 1542142226, "creation_date": 1542142226, "answer_id": 53289298, "question_id": 53289233, "link": "https://stackoverflow.com/questions/53289233/how-do-i-get-the-return-type-of-a-class-method-in-typescript/53289298#53289298", "title": "How do I get the return type of a class method in TypeScript", "body": "<p>To get property or method type, you can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"noreferrer\">indexed access type operator</a>:</p>\n\n<pre><code>type FooReturnType = ReturnType&lt;MyClass['foo']&gt;;\n</code></pre>\n"}], "owner": {"reputation": 20789, "user_id": 51428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dfe31131d62b675b10d7b02284d5303?s=128&d=identicon&r=PG", "display_name": "flq", "link": "https://stackoverflow.com/users/51428/flq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2138, "favorite_count": 1, "accepted_answer_id": 53289298, "answer_count": 1, "score": 13, "last_activity_date": 1544133332, "creation_date": 1542141919, "last_edit_date": 1544133332, "question_id": 53289233, "link": "https://stackoverflow.com/questions/53289233/how-do-i-get-the-return-type-of-a-class-method-in-typescript", "title": "How do I get the return type of a class method in TypeScript", "body": "<p>In newer TypeScript versions (I think 2.8 onwards?), I can easily obtain the return type of a function:</p>\n\n<pre><code>function f() { return \"hi\"; }\ntype MyType = ReturnType&lt;typeof f&gt;; //MyType is string\n</code></pre>\n\n<p>But I can't figure out to get the same info from a class method\u2026</p>\n\n<pre><code>class MyClass {\n  foo() { return \"hi\"; }\n}\n</code></pre>\n\n<p>How do I get the return type of <code>(new MyClass()).foo()</code> ?</p>\n"}, {"tags": ["javascript", "typescript", "ionic-framework", "visual-studio-code"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 3, "creation_date": 1542141858, "post_id": 53289111, "comment_id": 93460228, "body": "It looks to me like you shouldn&#39;t have the semicolon here (typo?): ` return this.http.get(this.url+city+&#39;,&#39;+country);` - I&#39;m assuming the <code>.map(...)</code> should come directly after that"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8522602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2de26da5b5026b4a25bd7d8d446a7e?s=128&d=identicon&r=PG&f=1", "display_name": "lcrimsonl", "link": "https://stackoverflow.com/users/8522602/lcrimsonl"}, "edited": false, "score": 0, "creation_date": 1542143953, "post_id": 53289567, "comment_id": 93461018, "body": "actually the problem gets resolve just by removing the semicolon on the return line, however if i put the return line last like you suggested i get the same problem"}, {"owner": {"reputation": 621, "user_id": 5578477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaLeT.jpg?s=128&g=1", "display_name": "ketchupisred", "link": "https://stackoverflow.com/users/5578477/ketchupisred"}, "reply_to_user": {"reputation": 63, "user_id": 8522602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2de26da5b5026b4a25bd7d8d446a7e?s=128&d=identicon&r=PG&f=1", "display_name": "lcrimsonl", "link": "https://stackoverflow.com/users/8522602/lcrimsonl"}, "edited": false, "score": 2, "creation_date": 1542144116, "post_id": 53289567, "comment_id": 93461082, "body": "actually, that&#39;s why my answer is correct. Removing the semicolon actually makes your return the last statement because JS removes whitespace and compresses the code into a single line making the return statement one expression."}, {"owner": {"reputation": 621, "user_id": 5578477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaLeT.jpg?s=128&g=1", "display_name": "ketchupisred", "link": "https://stackoverflow.com/users/5578477/ketchupisred"}, "reply_to_user": {"reputation": 63, "user_id": 8522602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2de26da5b5026b4a25bd7d8d446a7e?s=128&d=identicon&r=PG&f=1", "display_name": "lcrimsonl", "link": "https://stackoverflow.com/users/8522602/lcrimsonl"}, "edited": false, "score": 1, "creation_date": 1542318158, "post_id": 53289567, "comment_id": 93536997, "body": "@lcrimsonl you can read about it here: <a href=\"https://crockford.com/javascript/encyclopedia/#automatic%20semicolon%20insertion\" rel=\"nofollow noreferrer\">crockford.com/javascript/encyclopedia/&hellip;</a> More specifically:  In the next example, a ; semicolon is not inserted after c because there is not a syntax error.  a = b + c (d + e).print() It is understood to mean  a = b + c(d + e).print(); which might be quite different than the intention. It is not wise to rely on semicolon insertion. It can mask errors and it can cause errors. ----  So therefore, you can take the behavior of semicolon insertion and ...continued below"}, {"owner": {"reputation": 621, "user_id": 5578477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaLeT.jpg?s=128&g=1", "display_name": "ketchupisred", "link": "https://stackoverflow.com/users/5578477/ketchupisred"}, "reply_to_user": {"reputation": 63, "user_id": 8522602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2de26da5b5026b4a25bd7d8d446a7e?s=128&d=identicon&r=PG&f=1", "display_name": "lcrimsonl", "link": "https://stackoverflow.com/users/8522602/lcrimsonl"}, "edited": false, "score": 1, "creation_date": 1542318269, "post_id": 53289567, "comment_id": 93537043, "body": "deduce that JS is just chugging right down the line. That&#39;s why when you take the semicolon out, your code compiles as expected. It&#39;s kinda round-about but that&#39;s what&#39;s happening."}], "tags": [], "owner": {"reputation": 621, "user_id": 5578477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaLeT.jpg?s=128&g=1", "display_name": "ketchupisred", "link": "https://stackoverflow.com/users/5578477/ketchupisred"}, "is_accepted": true, "score": 1, "last_activity_date": 1542143595, "creation_date": 1542143595, "answer_id": 53289567, "question_id": 53289111, "link": "https://stackoverflow.com/questions/53289111/error-unreachable-code-detected-ionic-3-weather-app/53289567#53289567", "title": "Error: Unreachable code detected ionic 3 weather app", "body": "<p>The return statement in <code>getWeather()</code> is making the <code>.map()</code> unreachable. You should make the return statement the last statement in the function. </p>\n"}], "owner": {"reputation": 63, "user_id": 8522602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2de26da5b5026b4a25bd7d8d446a7e?s=128&d=identicon&r=PG&f=1", "display_name": "lcrimsonl", "link": "https://stackoverflow.com/users/8522602/lcrimsonl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 53289567, "answer_count": 1, "score": 0, "last_activity_date": 1542143595, "creation_date": 1542141415, "last_edit_date": 1542143239, "question_id": 53289111, "link": "https://stackoverflow.com/questions/53289111/error-unreachable-code-detected-ionic-3-weather-app", "title": "Error: Unreachable code detected ionic 3 weather app", "body": "<p>Ok, so I am following along the traversy media tutorial on ionic 3, and when i get to the part where you create a provider I get and error that says unreachable code detected in here: </p>\n\n<p><code>.map((res: Response) =&gt; res.json() );</code></p>\n\n<p>and it also says on <em>typescript</em> </p>\n\n<blockquote>\n  <p>cannot find the name 'map' did you mean 'Map'?</p>\n</blockquote>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class WeatherProvider {\n  apiKey = \"89cca14f4ffcd27d602ad5e587f8e17f\";\n  url;\n\n constructor(public http: HttpClient) {\n   console.log('Hello WeatherProvider Provider');\n   this.url = \"api.openweathermap.org/data/2.5/weather?q=\";\n }\n\n\n\n getWeather(city, country){\n return this.http.get(this.url+city+','+country);\n   .map((res: Response) =&gt; res.json() );\n }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ng-packagr"], "answers": [{"tags": [], "owner": {"reputation": 6373, "user_id": 1173033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5ca89edf773580d7bea34ac01c4e11f5?s=128&d=identicon&r=PG", "display_name": "Abhidev", "link": "https://stackoverflow.com/users/1173033/abhidev"}, "is_accepted": false, "score": 0, "last_activity_date": 1542217030, "creation_date": 1542217030, "answer_id": 53305891, "question_id": 53288749, "link": "https://stackoverflow.com/questions/53288749/ng-packagr-auto-generated-path-issues/53305891#53305891", "title": "ng packagr auto-generated path issues", "body": "<p>One workaround for this is to inline all the models wherever they are used in the code instead of importing them as files. This is not the best solution but it works. For eg.</p>\n\n<pre><code>export interface Report {\n    fromDate: Date;\n    toDate: Date;\n}\n\n@Component({....})\n// rest of the code\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6373, "user_id": 1173033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5ca89edf773580d7bea34ac01c4e11f5?s=128&d=identicon&r=PG", "display_name": "Abhidev", "link": "https://stackoverflow.com/users/1173033/abhidev"}, "is_accepted": false, "score": 0, "last_activity_date": 1542651093, "creation_date": 1542651093, "answer_id": 53380408, "question_id": 53288749, "link": "https://stackoverflow.com/questions/53288749/ng-packagr-auto-generated-path-issues/53380408#53380408", "title": "ng packagr auto-generated path issues", "body": "<p>It turns out that the issue is with Typescript v2.9.2. This get resolves after upgrading to v3+. </p>\n\n<p><strong>But keep in mind that Typescript v3 is only supported in Angular v7+.</strong></p>\n\n<p>Unless you don't want to upgrade to Angular v7, you can inline the models as shown in the other answer.</p>\n"}], "owner": {"reputation": 6373, "user_id": 1173033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5ca89edf773580d7bea34ac01c4e11f5?s=128&d=identicon&r=PG", "display_name": "Abhidev", "link": "https://stackoverflow.com/users/1173033/abhidev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542651093, "creation_date": 1542139819, "question_id": 53288749, "link": "https://stackoverflow.com/questions/53288749/ng-packagr-auto-generated-path-issues", "title": "ng packagr auto-generated path issues", "body": "<p>I'm working on creating stand-alone ng-libraries to be used in a parent app. Each of these libraries have multiple model files that are being used.\nBut <strong>ng-packagr</strong> seems to be messing up the model file paths.</p>\n\n<p>For example</p>\n\n<pre><code>import(\"projects/reports/src/lib/models/report.model\").ReportModel[]\n</code></pre>\n\n<p>while the correct path should be the complete absolute path </p>\n\n<p>export declare const selectState: import </p>\n\n<pre><code>import(\"../../../Users/Abhi/code/app/projects/reports/src/lib/models/report.model\").ReportModel[]\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "primeng"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1542146246, "post_id": 53288868, "comment_id": 93461980, "body": "Thank you for your help bro!"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1542140319, "creation_date": 1542140319, "answer_id": 53288868, "question_id": 53288567, "link": "https://stackoverflow.com/questions/53288567/not-able-to-get-value-from-dropdown-when-clicking-enter/53288868#53288868", "title": "Not able to get value from dropDown when clicking ENTER", "body": "<p>The issue with <code>primeng</code> dropdown <code>p-dropdown</code>. By default <code>enter</code> doesn't work how a standard select box work. </p>\n\n<p>To get this fix you can use <code>(keyup.enter)</code> in <code>p-dropdown</code>.</p>\n\n<pre><code>&lt;p-dropdown (keyup.enter)=\"onFormSubmit($event)\"  [options]=\"cities\" formControlName=\"currentCity\" placeholder = \"city\" optionLabel=\"label\"&gt;&lt;/p-dropdown&gt;\n</code></pre>\n\n<p>working copy is here - <a href=\"https://stackblitz.com/edit/angular-k7o6r7\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-k7o6r7</a></p>\n"}, {"comments": [{"owner": {"reputation": 1502, "user_id": 3342429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTzTs.jpg?s=128&g=1", "display_name": "ritlew", "link": "https://stackoverflow.com/users/3342429/ritlew"}, "edited": false, "score": 0, "creation_date": 1542144556, "post_id": 53289110, "comment_id": 93461273, "body": "You can insert pictures into the post without linking them. It would be helpful to do so."}], "tags": [], "owner": {"reputation": 179, "user_id": 8041124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6147283bdbada26f617653de7cfaa44?s=128&d=identicon&r=PG&f=1", "display_name": "Max Hesari", "link": "https://stackoverflow.com/users/8041124/max-hesari"}, "is_accepted": false, "score": -1, "last_activity_date": 1575919585, "last_edit_date": 1575919585, "creation_date": 1542141404, "answer_id": 53289110, "question_id": 53288567, "link": "https://stackoverflow.com/questions/53288567/not-able-to-get-value-from-dropdown-when-clicking-enter/53289110#53289110", "title": "Not able to get value from dropDown when clicking ENTER", "body": "<p>Just a little change in onFormSubmit. \nSee here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0V5gHl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0V5gHl.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-zous5f\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-zous5f</a></p>\n"}], "owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 53288868, "answer_count": 2, "score": 0, "last_activity_date": 1575919585, "creation_date": 1542139007, "last_edit_date": 1542147098, "question_id": 53288567, "link": "https://stackoverflow.com/questions/53288567/not-able-to-get-value-from-dropdown-when-clicking-enter", "title": "Not able to get value from dropDown when clicking ENTER", "body": "<p>I've been trying to get this to work for hours now, but still no luck :(. I have this basic reactive form that if I either hit <strong>\"ENTER\"</strong> or click on <strong>\"Search\"</strong> button I can see the result of the form values in the console.</p>\n\n<p><strong>Issue:</strong></p>\n\n<p>1) When I select a value from <strong>dropDown</strong> and then hit <strong>Enter</strong> right away I can't console out the form values, but if I type either firstName or Lastname and then hit <strong>ENTER</strong> it works.</p>\n\n<p>Here my CODE: <a href=\"https://stackblitz.com/edit/angular-8wvrkv?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>LIVE DEMO</strong></a></p>\n\n<p>Thanks a lot in advance!!</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "is_accepted": true, "score": 2, "last_activity_date": 1542144785, "last_edit_date": 1542144785, "creation_date": 1542142677, "answer_id": 53289398, "question_id": 53288286, "link": "https://stackoverflow.com/questions/53288286/how-to-show-my-calcul-for-each-array-with-typescript-and-api/53289398#53289398", "title": "How to show my calcul for each array with typescript and api?", "body": "<p>First off, your code is very messy, you have <code>let fix = ...['data'][i]</code> then the line after you have <code>this.fix = ...['data']</code> and then never use the variable <code>fix</code>. Same thing with your <code>lined</code> variable. Plus you are setting every <code>this.fix</code> to the 0th element of your json, which I am guessing is wrong. Do you want to use <code>fix</code> and <code>lined</code> local variables or stick with <code>this.fix</code> and <code>this.lined</code> arrays because they are two separate variables. Then you have your <code>this.note</code> variable which is a single variable, not an array, which is why you are getting a single note in your html. </p>\n\n<p>Your big problem is that you have variables like <code>this.fix</code> and <code>this.note</code> which are not arrays, they are a single object. Then when you are using the <code>*ngFor</code> you are looping a single object, which will be populated from the last time you ran your <code>for</code> loop in your typescript. If I were you, I would try something like this:</p>\n\n<p><strong>ts</strong></p>\n\n<pre><code>lined: Array&lt;any&gt; = [];\nfix: Array&lt;any&gt; = [];\ncards: Array&lt;any&gt; = [];\nnote: Array&lt;any&gt; = [];\n\nthis.http.get(url).subscribe(result =&gt; {\nthis.lineup = result.json();\nthis.lineup = Array.of(this.lineup);\n\nfor(let i = 0; i &lt; this.lineup['0']['data'].latest['data'].length; i++) {\n   this.fix[i] = this.lineup['i']['data'].latest['data'];\n   this.fix[i].sort(function (a, b) {\n            a = new Date(a.time.starting_at.date);\n            b = new Date(b.time.starting_at.date);\n            return a&lt;b ? 1 : a&gt;b ? -1 : 0;\n   });\n\n   this.lined[i] = this.fix[i].lineup['data'];\n   this.lined[i] = this.lined[i].filter(lined =&gt; lined.player_id === 580);\n   this.cards = this.lined[i]['0'];\n\n   if(this.cards != undefined) {\n     this.note[i] = 5;\n     console.log(\"first\",this.note);\n     this.note[i] = this.note[i] + (0.8 * this.cards.stats.goals.scored);\n     this.note[i] = this.note[i] - (0.4 * this.cards.stats.goals.conceded);\n     this.note[i] = this.note[i] + (0.1 * this.cards.stats.shots.shots_total);\n     this.note[i] = this.note[i] + (0.2 * this.cards.stats.shots.shots_on_goal);\n     this.note[i] = this.note[i] + (0.1 * this.cards.stats.fouls.drawn);\n     this.note[i] = this.note[i] - (0.4 * this.cards.stats.fouls.committed);\n     this.note[i] = this.note[i] - (0.4 * this.cards.stats.cards.yellowcards);\n     this.note[i] = this.note[i] - (3 * this.cards.stats.cards.redcards);\n     this.note[i] = this.note[i] + (0.2 * this.cards.stats.passing.crosses_accuracy);\n     this.note[i] = this.note[i] + (0.01 * this.cards.stats.passing.passes);\n     if (this.cards.stats.passing.passes_accuracy &gt; 80) {\n        this.note[i] = this.note[i] + (0.5);\n     } else {\n        this.note[i] = this.note[i] - (0.5);\n     }\n     this.note[i] = this.note[i] + (0.4 * this.cards.stats.other.assists);\n     this.note[i] = this.note[i] - (0.3 * this.cards.stats.other.offsides);\n     this.note[i] = this.note[i] + (0.01 * this.cards.stats.passing.passes);\n     this.note[i] = this.note[i] + (1 * this.cards.stats.other.saves);\n     this.note[i] = this.note[i] + (2 * this.cards.stats.other.pen_saved);\n\n     this.note[i] = this.note[i] - (1.5 * this.cards.stats.other.pen_missed);\n     this.note[i] = this.note[i] - (1 * this.cards.stats.other.pen_committed);\n     this.note[i] = this.note[i] + (0.3 * this.cards.stats.other.hit_woodwork);\n\n     this.note[i] = this.note[i] + (0.3 * this.cards.stats.other.tackles);\n     this.note[i] = this.note[i] + (0.3 * this.cards.stats.other.blocks);\n     this.note[i] = this.note[i] + (0.4 * this.cards.stats.other.interceptions);\n     this.note[i] = this.note[i] + (0.1 * this.cards.stats.other.clearances);\n     console.log('note finale', this.note)\n}\n});\n</code></pre>\n\n<p><strong>html</strong></p>\n\n<pre><code>&lt;ion-col *ngFor=\"let event of fix; let i = index\" col-6 style=\" font-size: 19px;padding:  3px;vertical-align:middle;color:#4B4B4B;text-align: left; padding-left:5%;\"&gt;\n  {{event.localTeam.data.name}} - {{note[i]}}\n&lt;/ion-col&gt;\n</code></pre>\n\n<p>If this doesn't work, clean up your code, get rid of your extra variables, try to do a simple <code>*ngFor</code> and then build up to use your variables, then ask again.</p>\n"}], "owner": {"reputation": 137, "user_id": 10636287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66e6f33d7aa7109efed62aebef18e0f?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre Torres", "link": "https://stackoverflow.com/users/10636287/pierre-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53289398, "answer_count": 1, "score": 2, "last_activity_date": 1542173078, "creation_date": 1542137599, "last_edit_date": 1542173078, "question_id": 53288286, "link": "https://stackoverflow.com/questions/53288286/how-to-show-my-calcul-for-each-array-with-typescript-and-api", "title": "How to show my calcul for each array with typescript and api?", "body": "<p>I create an algorithme which sum different data.</p>\n\n<pre><code>this.http.get(url)\n  .subscribe(result =&gt; {\n\n    this.lineup = result.json();\n    this.lineup = Array.of(this.lineup);\n\n    for(let i = 0; i &lt; this.lineup['0']['data'].latest['data'].length; i++){\n       let fix = this.lineup['0']['data'].latest['data'][i];\n       this.fix = this.lineup['0']['data'].latest['data'];\n       this.fix.sort(function (a, b) {\n                a = new Date(a.time.starting_at.date);\n                b = new Date(b.time.starting_at.date);\n                return a&lt;b ? 1 : a&gt;b ? -1 : 0;\n       });\n       let lined = this.fix[i].lineup['data'][i];\n       this.lined = this.fix[i].lineup['data'];\n       this.lined = this.lined.filter(lined =&gt; lined.player_id === 580);\n       this.cards = this.lined['0'];\n\n       if(this.cards != undefined) {\n         this.note = 5;\n         console.log(\"first\",this.note);\n         this.note = this.note + (0.8 * this.cards.stats.goals.scored);\n         this.note = this.note - (0.4 * this.cards.stats.goals.conceded);\n         this.note = this.note + (0.1 * this.cards.stats.shots.shots_total);\n         this.note = this.note + (0.2 * this.cards.stats.shots.shots_on_goal);\n         this.note = this.note + (0.1 * this.cards.stats.fouls.drawn);\n         this.note = this.note - (0.4 * this.cards.stats.fouls.committed);\n         this.note = this.note - (0.4 * this.cards.stats.cards.yellowcards);\n         this.note = this.note - (3 * this.cards.stats.cards.redcards);\n         this.note = this.note + (0.2 * this.cards.stats.passing.crosses_accuracy);\n         this.note = this.note + (0.01 * this.cards.stats.passing.passes);\n         if (this.cards.stats.passing.passes_accuracy &gt; 80) {\n            this.note = this.note + (0.5);\n         } else {\n            this.note = this.note - (0.5);\n         }\n         this.note = this.note + (0.4 * this.cards.stats.other.assists);\n         this.note = this.note - (0.3 * this.cards.stats.other.offsides);\n         this.note = this.note + (0.01 * this.cards.stats.passing.passes);\n         this.note = this.note + (1 * this.cards.stats.other.saves);\n         this.note = this.note + (2 * this.cards.stats.other.pen_saved);\n\n         this.note = this.note - (1.5 * this.cards.stats.other.pen_missed);\n         this.note = this.note - (1 * this.cards.stats.other.pen_committed);\n         this.note = this.note + (0.3 * this.cards.stats.other.hit_woodwork);\n\n         this.note = this.note + (0.3 * this.cards.stats.other.tackles);\n         this.note = this.note + (0.3 * this.cards.stats.other.blocks);\n         this.note = this.note + (0.4 * this.cards.stats.other.interceptions);\n         this.note = this.note + (0.1 * this.cards.stats.other.clearances);\n         console.log('note finale', this.note)\n      }\n   });\n</code></pre>\n\n<p>The problem, with my console log, I have 1 note for each array \nlike this :</p>\n\n<p>player.ts:260 note finale 8.400000000000002</p>\n\n<p>player.ts:260 note finale 8.64</p>\n\n<p>player.ts:260 note finale 7.38</p>\n\n<p>player.ts:260 note finale 8.839999999999998</p>\n\n<p>player.ts:260 note finale 7.040000000000001</p>\n\n<p>player.ts:260 note finale 8.78</p>\n\n<p>player.ts:260 note finale 7.84</p>\n\n<p>player.ts:260 note finale 9.700000000000001</p>\n\n<p>player.ts:260 note finale 7.760000000000001</p>\n\n<p>But in my html file, only last note is showing :</p>\n\n<pre><code>&lt;ion-col *ngFor=\"let event of fix\" col-6 style=\" font-size: 19px;padding:  3px;vertical-align:middle;color:#4B4B4B;text-align: left; padding-left:5%;\"&gt;\n               {{event.localTeam.data.name}} - {{note}}\n\n             &lt;/ion-col&gt;\n</code></pre>\n\n<p>Any idea? Thanks.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1542137364, "post_id": 53288202, "comment_id": 93458417, "body": "Shouldn&#39;t you use <code>this.urlSan</code>?"}, {"owner": {"reputation": 1190, "user_id": 8370602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/45cc1a0c28deb48188bbc29f77284be9?s=128&d=identicon&r=PG&f=1", "display_name": "Talg123", "link": "https://stackoverflow.com/users/8370602/talg123"}, "edited": false, "score": 0, "creation_date": 1542137506, "post_id": 53288202, "comment_id": 93458464, "body": "why your not using bypassSecurityTrustHtml insted of bypassSecurityTrustResourceUrl that your using? you said you want HTML not url... Also you need to use this.urlSan()"}], "owner": {"reputation": 1128, "user_id": 6388582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TjlTA.jpg?s=128&g=1", "display_name": "IWI", "link": "https://stackoverflow.com/users/6388582/iwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542137260, "creation_date": 1542137260, "question_id": 53288202, "link": "https://stackoverflow.com/questions/53288202/trouble-sanitizing-html-in-angular-6-ionic", "title": "Trouble sanitizing HTML in angular 6/ionic", "body": "<p>I would like to sanitize the HTML tags out of text coming in from the server on my ionic/angular 6 app.  The object looks like this</p>\n\n<pre><code>{note: '&lt;p&gt;lorem ipsum&lt;/p&gt;'}\n</code></pre>\n\n<p>The error I'm currently getting is <code>urlSan is not defined</code>, but on top of that, I am not super sure I am using this feature correctly. I used a <a href=\"http://www.damirscorner.com/blog/posts/20180323-AngularDomSanitizationInIonic.html\" rel=\"nofollow noreferrer\">version of this walkthrough</a> </p>\n\n<p>This is the <code>page.ts</code></p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\nimport { LoadingService } from '../loading.service';\nimport { FinaeoApiService } from '../finaeo-api.service';\nimport { ActivatedRoute } from '@angular/router';\nimport * as _ from 'lodash';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-contact-individual',\n  templateUrl: './contact-individual.page.html',\n  styleUrls: ['./contact-individual.page.scss'],\n})\nexport class ContactIndividualPage implements OnInit {\n  contact: any;\n  initials: string = '';\n  safeHTML:  SafeResourceUrl;\n\n  private htmlValue: string;\n\n  constructor(\n    private loadingService: LoadingService,\n    private api: FinaeoApiService,\n    private route: ActivatedRoute,\n    private sanitizer: DomSanitizer\n  ) {   }\n\n  urlSan(value: string) {\n    this.htmlValue = value;\n    this.safeHTML = this.sanitizer.bypassSecurityTrustResourceUrl(value);\n  };\n\n  async ngOnInit() {\n    await this.loadingService.load(async () =&gt; {\n      const routeParams = &lt;any&gt; this.route.params;\n      this.contact = await this.api.getModel('Contact', routeParams._value.id);\n      _.forEach(this.contact.notes, function(html) {\n        urlSan(html.note)\n      })\n      this.initials = this.contact.firstName != null ? this.contact.firstName.charAt(0) + this.contact.lastName.charAt(0) : '';\n    });\n  }\n\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "dictionary", "angular2-observables", "angular-pipe"], "comments": [{"owner": {"reputation": 2245, "user_id": 524324, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1265c18acd8d236f08bb199d0d81577d?s=128&d=identicon&r=PG", "display_name": "Michael Beeson", "link": "https://stackoverflow.com/users/524324/michael-beeson"}, "edited": false, "score": 0, "creation_date": 1542135993, "post_id": 53287776, "comment_id": 93457776, "body": "Just out of curiosity, what happens if you remove <code>this.fetchDataTemp$ = </code> before calling <code>getPrice</code>?"}, {"owner": {"reputation": 11, "user_id": 10647415, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gunth", "link": "https://stackoverflow.com/users/10647415/gunth"}, "reply_to_user": {"reputation": 2245, "user_id": 524324, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1265c18acd8d236f08bb199d0d81577d?s=128&d=identicon&r=PG", "display_name": "Michael Beeson", "link": "https://stackoverflow.com/users/524324/michael-beeson"}, "edited": false, "score": 0, "creation_date": 1542136792, "post_id": 53287776, "comment_id": 93458157, "body": "<code>this.fetchDataTemp$</code> is used in the timer, and those results are passed back to the timer, where the timer returns the results to<code>tempdata$</code>, so an error of undefined will be thrown. since the timer expects a stream initialized."}], "owner": {"reputation": 11, "user_id": 10647415, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gunth", "link": "https://stackoverflow.com/users/10647415/gunth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554871586, "creation_date": 1542135356, "last_edit_date": 1554871586, "question_id": 53287776, "link": "https://stackoverflow.com/questions/53287776/want-to-return-new-observable-with-pipe-with-new-data-passed-in-each-time-with", "title": "Want to return new observable with pipe, with new data passed in each time. With Angular 6", "body": "<p>I have a get method that retrieves data from an API with values that changes every minute. This data needs to be multiplied with static data every minute and displayed back to the user . I have decided to use the pipe to handle this transaction since this data will be used frequently throughout the app itself. </p>\n\n<p>My issue is that when implementing this pipe, running in a loop it takes the last static value of that was piped in and changes it for all values that have already passed.</p>\n\n<p>I want the multiplied value for the individual static value that is passed. and returned back to the UI as an observable.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  constructor(private service: AppService,private http: HttpClient) {}\n  private fetchDataTemp$: Observable&lt;any&gt;;\n\n  private killTrigger: Subject&lt;void&gt; = new Subject();\n\n  private refreshIntervalTemp$: Observable&lt;any&gt; = timer(0, 60000)\n    .pipe(\n      // This kills the request if the user closes the component \n      takeUntil(this.killTrigger),\n      // switchMap cancels the last request, if no response have been received since last tick\n      switchMap(() =&gt; this.fetchDataTemp$),\n      // catchError handles http throws \n      catchError(error =&gt; of('0'))\n   );\n\n  getData() {\n    return this.http.get(\"https://jsonplaceholder.typicode.com/posts/42\")\n      .pipe(\n        retry(3),\n        share()\n      );\n  }\n\n  public tempdata$: Observable&lt;any&gt; = this.refreshIntervalTemp$;\n  fakedata = [1,2,3];\n\n  ngOnInit() {  \n    this.fakedata.forEach(element =&gt; {\n      this.tempdata$.subscribe(data =&gt; { console.log(data,\"test\"); }); \n      console.log(element);  \n\n      this.fetchDataTemp$ = this.getPrice().pipe(\n        map(\n          (response) =&gt; {\n            console.log(element*response.id as number)\n            return response.id;\n          },\n          share()\n        )\n      ); \n    });\n  }\n}\n</code></pre>\n\n<p>The code above is very similar to the scenario to what I want to achieve. \nthe <code>fakedata</code> is the data passed into the pipe, and the <code>foreach</code> is the ngFor loop running with async. the url <code>https://jsonplaceholder.typicode.com/posts/42</code>\nreturns static data in this case, so I am able to keep data consistent <code>response.id is 42</code>. when running this code the results are </p>\n\n<pre><code>1\n2\n3\n126 test \n126 test \n126 test  \n</code></pre>\n\n<p>What I expect is</p>\n\n<pre><code> 1\n 2\n 3\n 42 test\n 84 test\n 126 test\n</code></pre>\n\n<p>I pinpointed the issue to the <code>map()</code> but I don't know how to force the map to handle values one at a time and return them accordingly.</p>\n\n<p>Thanks in advance!   </p>\n"}]