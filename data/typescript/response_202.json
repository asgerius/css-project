[{"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1542843210, "post_id": 53421900, "comment_id": 93718294, "body": "Can you clarify what you mean? I seems you are saying that Safari on iOS has JS disabled, but you expect a JS application to work anyway. It seems the answer is to enable JS in Safari iOS. What am I missing?"}, {"owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1542843661, "post_id": 53421900, "comment_id": 93718407, "body": "The problem is that this option is disabled by default in IOS, then every user who wants to use my application must enable javascript. This is something that can cause my application not to be used, because they may think it does not work, so the idea is to prevent each user from having to do this ... how could he do it?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1542843950, "post_id": 53421900, "comment_id": 93718501, "body": "show a message in case of js not being enabled saying they have to enable it?"}, {"owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "edited": false, "score": 0, "creation_date": 1542844253, "post_id": 53421900, "comment_id": 93718575, "body": "How could I do something like that?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1542845183, "post_id": 53421900, "comment_id": 93718845, "body": "<a href=\"https://www.w3schools.com/tags/tag_noscript.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/tag_noscript.asp</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2964, "user_id": 5208606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmCN5.jpg?s=128&g=1", "display_name": "Maarti", "link": "https://stackoverflow.com/users/5208606/maarti"}, "is_accepted": false, "score": 0, "last_activity_date": 1542844588, "last_edit_date": 1542844588, "creation_date": 1542843257, "answer_id": 53421925, "question_id": 53421900, "link": "https://stackoverflow.com/questions/53421900/angular-5-app-doesnt-render-in-safari-mobile-browser/53421925#53421925", "title": "Angular 5 app doesn&#39;t render in safari mobile browser", "body": "<p>An Angular app (in Typescript) is transpiled in Javascript, so it will not work until JavaScript is enabled.</p>\n\n<p>It looks like <a href=\"https://stackoverflow.com/questions/4822857/iphone-javascript-defaults\">the default value of this setting is \"enabled\"</a> so don't worry about your visitors.</p>\n"}, {"tags": [], "owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "is_accepted": false, "score": 0, "last_activity_date": 1542845312, "creation_date": 1542845312, "answer_id": 53422172, "question_id": 53421900, "link": "https://stackoverflow.com/questions/53421900/angular-5-app-doesnt-render-in-safari-mobile-browser/53422172#53422172", "title": "Angular 5 app doesn&#39;t render in safari mobile browser", "body": "<p>The problem is with the IOS version (11.4.1) that I have, because when you've never manipulated it, the button looks like it's disabled, but it's actually active ... but when you manipulate it, it actually shows the status button ... that is, active or inactive...which means that JS is active by default in IOS, but it is shown as inactive</p>\n\n<p><a href=\"https://discussions.apple.com/thread/8476294\" rel=\"nofollow noreferrer\">See more details</a></p>\n"}], "owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1512, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1542845312, "creation_date": 1542843034, "last_edit_date": 1542843331, "question_id": 53421900, "link": "https://stackoverflow.com/questions/53421900/angular-5-app-doesnt-render-in-safari-mobile-browser", "title": "Angular 5 app doesn&#39;t render in safari mobile browser", "body": "<p>Hi I have a simple angular 5 application that uploads an image to my web server. This angular 5 app works perfectly in chrome(mobile/desktop) and only Safari desktop version. but when I access it from my iPhone using Safari as a web browser, it does not render.....to be able to work I have to enable JS:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hY37Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hY37Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I make this configuration in IOS the web application works without problems...then my question is....what can I do so that my angular web app be rendered in mobile safari, without having to make this configuration in IOS?</p>\n\n<p>Angular Code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"custom-file\"&gt;\n  &lt;input type=\"file\" class=\"custom-file-input\" lang=\"es\" (change)=\"onFileChange($event)\"&gt;\n  &lt;label class=\"custom-file-label\" for=\"customFileLang\"&gt;{{fileName}}&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>export class AppComponent{\n  title = 'app';\n  fileName:string;\n  base64:string;\n\n  constructor(private imageService: ImageService) {\n  }\n\n  onFileChange(event) {\n    let image:File = event.target.files[0];\n    this.base64=image.name;\n    this.imageService.saveImage(image).subscribe();\n  }\n</code></pre>\n\n<p>Many thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1542843889, "post_id": 53421868, "comment_id": 93718487, "body": "Try <code>setAttribute(&#39;onclick&#39;, &#39;clickCreatedDiv()&#39;)</code>"}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1542844193, "post_id": 53421868, "comment_id": 93718559, "body": "@KoshVery that makes me get the message &#39;clickCreatedDiv is not defined&#39;."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1542844571, "post_id": 53421868, "comment_id": 93718669, "body": "It means that <code>onclick</code> works, now you have to reach the function. Probably <code>MyPage.clickCreatedDiv()</code> would work?"}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1542845208, "post_id": 53421868, "comment_id": 93718855, "body": "Not yet, now MyPage is not defined. Even when I&#39;m importing it within MyProvider. Something must be missing..."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1542845418, "post_id": 53421868, "comment_id": 93718910, "body": "<code>onclick</code> attribute function should be available from the global scope. Otherwise it would be better to set the event handler in that scope where <code>clickCreatedDiv</code> is available."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1542851262, "post_id": 53421868, "comment_id": 93720054, "body": "What string do you want to pass as an argument to <code>clickCreateDiv</code>? Is it the <code>comment</code> parameter of <code>wrapSelection(comment)</code>?"}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1542852877, "post_id": 53421868, "comment_id": 93720388, "body": "@ConnorsFan it would be an attribute from the same div, however, I didn&#39;t include it in my question for not making it too long, but only to expect an answer compatible with the usage of attributes."}], "answers": [{"comments": [{"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "edited": false, "score": 0, "creation_date": 1542854377, "post_id": 53422520, "comment_id": 93720725, "body": "setAttribute(&#39;(click)&#39;, onClick) generates this error: &quot;String contains an invalid character&quot;."}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "edited": false, "score": 0, "creation_date": 1542854396, "post_id": 53422520, "comment_id": 93720733, "body": "But using, setAttribute(&#39;onclick&#39;, onClick) renders this: &lt;div onclick=&quot;function (arg) {alert(&#39;click &#39; + arg);}&quot;&gt;&lt;/div&gt;, but clicking it shows this error: function statement requires a name"}, {"owner": {"reputation": 784, "user_id": 5280880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9668d336b4e58de36ae2de407f9f?s=128&d=identicon&r=PG&f=1", "display_name": "AndrWeisR", "link": "https://stackoverflow.com/users/5280880/andrweisr"}, "reply_to_user": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "edited": false, "score": 1, "creation_date": 1542857050, "post_id": 53422520, "comment_id": 93721215, "body": "Hmmm, what if you try: element.addEventListener(&quot;click&quot;, onClick);"}], "tags": [], "owner": {"reputation": 784, "user_id": 5280880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9668d336b4e58de36ae2de407f9f?s=128&d=identicon&r=PG&f=1", "display_name": "AndrWeisR", "link": "https://stackoverflow.com/users/5280880/andrweisr"}, "is_accepted": false, "score": 1, "last_activity_date": 1542848482, "creation_date": 1542848482, "answer_id": 53422520, "question_id": 53421868, "link": "https://stackoverflow.com/questions/53421868/ionic-add-a-click-function-to-dynamically-created-div/53422520#53422520", "title": "Ionic add a click function to dynamically created div", "body": "<p>I would pass the click function as a callback to wrapSelection.\nE.g. something like:</p>\n\n<pre><code>export class MyProvider {\n  wrapSelection(comment, onClick) {\n    let element = document.createElement(\"div\")\n    element.setAttribute('(click)', onClick);\n    element.surroundContents(element);\n  }\n}\n\nexport class MyPage {\n  constructor(public myprovider: MyProvider) {}\n  createDiv() {\n    this.myprovider.wrapSelection('Some comment', this.clickCreatedDiv);\n  }\n\n  clickCreatedDiv(arg) { // This is what I want to trigger with click\n    alert('click ' + arg);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1542854527, "creation_date": 1542854527, "answer_id": 53423152, "question_id": 53421868, "link": "https://stackoverflow.com/questions/53421868/ionic-add-a-click-function-to-dynamically-created-div/53423152#53423152", "title": "Ionic add a click function to dynamically created div", "body": "<p>The Angular event binding syntax <code>(click)=\"doSomething()\"</code> cannot be used to set the event handler on a dynamically created HTML element. To make it work, you can pass the event handler from the <code>MyPage</code> class, and set it with <code>element.addEventListener</code>:</p>\n\n<pre><code>export class MyProvider {\n  wrapSelection(eventHandler) {\n    let element = document.createElement(\"div\")\n    element.addEventListener(\"click\", () =&gt; { eventHandler(\"Some text\"); });\n    ...\n  }\n}\n</code></pre>\n\n<p>In <code>MyPage</code>, the event handler should be defined as an arrow function to preserve <code>this</code> and allow to access the class members:</p>\n\n<pre><code>createDiv() {\n  this.myProvider.wrapSelection(this.clickCreatedDiv);\n}\n\nclickCreatedDiv = (arg) =&gt; {\n  alert('Clicked: ' + arg);\n}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-skbc2x\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo.</p>\n"}], "owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2118, "favorite_count": 1, "accepted_answer_id": 53423152, "answer_count": 2, "score": 1, "last_activity_date": 1542854527, "creation_date": 1542842856, "question_id": 53421868, "link": "https://stackoverflow.com/questions/53421868/ionic-add-a-click-function-to-dynamically-created-div", "title": "Ionic add a click function to dynamically created div", "body": "<p>From my code I have a function that can create div elements multiple times (with <code>surroundContents()</code>), how can I make these created div elements to trigger a function inside the class of the very same page?</p>\n\n<p>More precisely, I need that any of these div elements (created with function <code>createDiv()</code>) be able to trigger with click the function called <code>clickCreatedDiv(arg)</code> located in <code>MyPage class</code> and pass any string as an argument. I have tried this <code>element.setAttribute('(click)', 'clickCreatedDiv()');</code> but with no success. How can I achieve this behavior?</p>\n\n<pre><code>export class MyProvider {\n  wrapSelection(comment) {\n    let element = document.createElement(\"div\")\n    element.setAttribute('(click)', 'clickCreatedDiv()');\n    element.surroundContents(element);\n  }\n}\n\nimport { MyProvider } from '../../providers/my-provider';\n@Component({\n    selector: 'page-mypage',\n    templateUrl: 'mypage.html',\n}) \nexport class MyPage {\n  constructor(public myprovider: MyProvider) {}\n  createDiv() {\n    this.myprovider.wrapSelection();\n  }\n\n  clickCreatedDiv(arg) { // This is what I want to trigger with click\n    alert('click ' + arg);\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "is_accepted": false, "score": 0, "last_activity_date": 1542843546, "last_edit_date": 1542843546, "creation_date": 1542842844, "answer_id": 53421866, "question_id": 53421761, "link": "https://stackoverflow.com/questions/53421761/using-a-provider-in-a-custom-class-ionic-3/53421866#53421866", "title": "Using a Provider in a Custom Class - Ionic 3", "body": "<blockquote>\n  <p>\"Why is this the case?\"</p>\n</blockquote>\n\n<p>provider is <code>undefined</code> because it is never assigned.</p>\n\n<pre><code>export class User {\n    constructor(payload, public provider: Provider) { }\n}\n</code></pre>\n\n<p>is shorthand for</p>\n\n<pre><code>export class User {\n    public provider: Provider;\n    constructor(payload, provider: Provider) {\n        this.provider = provider;\n    }\n} \n</code></pre>\n\n<blockquote>\n  <p>\"Must a provider be passed through a constructor?\"</p>\n</blockquote>\n\n<p>That is one way but <code>this.provider =</code> must happen some way, at lest.</p>\n\n<blockquote>\n  <p>\"Obviously, seems like there is some better way to handle this. Perhaps it is better to not have a bunch of objects floating around that make there own http calls.\"</p>\n</blockquote>\n\n<p>Like @Octavio Garbarino said typically you'd have a service that makes the http call and returns the <code>User</code> instance in say a <code>getUser(payload): User</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 652, "user_id": 5297288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FgOrBus7N0Q/AAAAAAAAAAI/AAAAAAAADtQ/rliPpMhNR2g/photo.jpg?sz=128", "display_name": "Octavio Garbarino", "link": "https://stackoverflow.com/users/5297288/octavio-garbarino"}, "is_accepted": false, "score": 1, "last_activity_date": 1542843190, "creation_date": 1542843190, "answer_id": 53421918, "question_id": 53421761, "link": "https://stackoverflow.com/questions/53421761/using-a-provider-in-a-custom-class-ionic-3/53421918#53421918", "title": "Using a Provider in a Custom Class - Ionic 3", "body": "<p>The providers are created by <strong>Dependency Injection</strong>, and to have the instances of them you have to add them in the constructors of your components like your first example and add it to app module providers.</p>\n\n<p>I have never seen the providers in other classes than components and providers, I think that in the place that you are creating the user (I supose is a component or a provider) you can add the provider in the constructor, and if needed, pass it to the <code>User</code> constructor.</p>\n\n<p>Other option is to remove the provider from the <code>User class</code>, create a new provider (lets call it <strong>UserPrivider</strong>) which will have the first <code>provider</code> added in the constructor, and in this new <strong>UserProvider</strong>, implement a method that creates the user and after the creation makes the call to the first provider, in order that every time you need to create an User, you inject the UserProvider and call this method.</p>\n"}], "owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1542843546, "creation_date": 1542842063, "question_id": 53421761, "link": "https://stackoverflow.com/questions/53421761/using-a-provider-in-a-custom-class-ionic-3", "title": "Using a Provider in a Custom Class - Ionic 3", "body": "<p>I am trying to implement some custom classes in my Ionic 3 project to help handle data in a proper OOP fashion. However, I am think what I am trying to achieve is actually an anti-pattern to Angular and Ionic design patterns.</p>\n\n<p>For each user, I want to make a user object. I have a provider named <code>provider</code> that performs some http call. Each user object will be able to use a method that makes <code>provider</code>'s http call.</p>\n\n<p>This works fine if I pass <code>Provider</code> through the constructor like so:</p>\n\n<pre><code>export class User {\n\n    //...various user attributes....\n\n    constructor(payload, public provider: Provider){\n        this.provider.doSomethingHttp(payload).subscribe(val =&gt; {\n        // do something with response\n        })\n    }\n}\n</code></pre>\n\n<p>It does not work if I do something like this:</p>\n\n<pre><code>export class User {\n\n    //...various user attributes....\n    public provider: Provider;\n\n    constructor(payload){\n        this.provider.doSomethingHttp(payload).subscribe(val =&gt; {\n        // do something with response\n        })\n    }\n}\n</code></pre>\n\n<p>provider is now <code>undefined</code>.</p>\n\n<p>Why is this the case? Must a provider be passed through a constructor?</p>\n\n<p>Also, if I instantiate a new class of <code>User</code> somewhere, I will have to pass in arguments for the providers, which doesn't work either. </p>\n\n<pre><code>let user = new User(payload, this.provider)\n</code></pre>\n\n<p>Obviously, seems like there is some better way to handle this. Perhaps it is better to not have a bunch of objects floating around that make there own http calls.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "youtube-api"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1542842728, "post_id": 53421500, "comment_id": 93718132, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1542842835, "post_id": 53421500, "comment_id": 93718170, "body": "Define the callbacks as arrow functions: (1) <code>window[&#39;onYouTubeIframeAPIReady&#39;] = () =&gt; { ... }</code>, (2) <code>private onPlayerStateChange = (event) =&gt; { ...; this.currentTime = time; ... }</code>, (3) and set <code>onStateChange: this.onPlayerStateChange</code> (and do (2) and (3) for <code>onPlayerReady</code> also)."}, {"owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1542846136, "post_id": 53421500, "comment_id": 93719083, "body": "@ConnorsFan thanks, i readed the other question and it&#39;s work! but seems not to understand why i need the strange timeout to get the data updated on screen"}], "owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542846114, "creation_date": 1542840454, "last_edit_date": 1542846114, "question_id": 53421500, "link": "https://stackoverflow.com/questions/53421500/variable-scope-cant-access-the-value", "title": "Variable scope, can&#39;t access the value", "body": "<p>I can't assign the current time to my variable 'currentTime', any idea how to get a workaround to let the variable get che current time of the video? it's seem a classic problem about scope variable, but i can't get a solution, any tips? thanks !</p>\n\n<pre><code> import {Component, OnInit} from '@angular/core';\n\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.css']\n})\nexport class PlayerComponent implements OnInit {\n\n  currentTime = 0;\n\n  ngOnInit() {\n\n    let player;\n    let myTimer;\n\n\n    window['onYouTubeIframeAPIReady'] = function () {\n      player = new window['YT'].Player('video', {\n        events: {\n          'onReady': onPlayerReady,\n          'onStateChange': onPlayerReady\n        }\n      });\n    };\n\n    function onPlayerReady(event) {\n      event.target.playVideo();\n    }\n\n    function onPlayerStateChange(event) {\n        if (event.data === 1) { // playing\n          myTimer = setInterval(() =&gt; {\n            const time = player.getCurrentTime();\n            console.log(time); // I want to set the currentTime declared on top equal to player.getCurrentTime();\n          }, 100);\n        } else { // not playing\n          clearInterval(myTimer);\n        }\n    }\n\n    if (!window['YT']) {\n      const tag = document.createElement('script');\n      tag.src = '//www.youtube.com/player_api';\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    }\n  }\n\n\n  constructor() {\n\n  }\n}\n</code></pre>\n\n<p>Thanks for all your responses, it's ended by me doing the classic this trick but after reading : <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>, It's ended using the bind function.\nThe weird part of that code is that without the 'checkCurrentTime' interval the currentTime is not updated on html layout, definetly don't understand why. </p>\n\n<pre><code>import {AfterViewInit, Component, ElementRef, OnInit, ViewChild} from '@angular/core';\n\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.css']\n})\nexport class PlayerComponent implements OnInit, AfterViewInit {\n\n  tempoAttuale = 0;\n\n  ngAfterViewInit() {\n\n\n    let player;\n    let myTimer;\n\n    window['onYouTubeIframeAPIReady'] = function () {\n      player = new window['YT'].Player('video', {\n        events: {\n          'onReady': onPlayerReady,\n          'onStateChange': onPlayerStateChange\n        }\n      });\n    };\n\n    function onPlayerReady(event) {\n      event.target.playVideo();\n    }\n\n    const tis = this;\n    function onPlayerStateChange(event) {\n      if (event.data === 1) { // playing\n        myTimer = setInterval(() =&gt; {\n          const time = player.getCurrentTime();\n          tis.tempoAttuale = time;\n        }, 100);\n      } else { // not playing\n        clearInterval(myTimer);\n      }\n    }\n\n    /*\n    I don't know why, but thanks to that the value of 'tempoAttuale' time on html is updated\n     */\n    const checkCurrentTime = setInterval(() =&gt; {\n    }, 100);\n\n\n    if (!window['YT']) {\n      const tag = document.createElement('script');\n      tag.src = '//www.youtube.com/player_api';\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    }\n  }\n\n  ngOnInit() {\n\n  }\n\n\n  constructor() {\n\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1683, "user_id": 8195572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMhnN.jpg?s=128&g=1", "display_name": "Ahmed Kamal", "link": "https://stackoverflow.com/users/8195572/ahmed-kamal"}, "edited": false, "score": 1, "creation_date": 1542842409, "post_id": 53421741, "comment_id": 93718029, "body": "Thanks for explanation, but isn&#39;t this considered a weakness of the language?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 1683, "user_id": 8195572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMhnN.jpg?s=128&g=1", "display_name": "Ahmed Kamal", "link": "https://stackoverflow.com/users/8195572/ahmed-kamal"}, "edited": false, "score": 1, "creation_date": 1542842491, "post_id": 53421741, "comment_id": 93718056, "body": "@AhmedM.Kamal in what way? It makes very little sense to check if the instance itself implements something, you can see it yourself right in your editor already."}, {"owner": {"reputation": 161, "user_id": 6475944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tmIsz.jpg?s=128&g=1", "display_name": "Shandy Sulen", "link": "https://stackoverflow.com/users/6475944/shandy-sulen"}, "edited": false, "score": 0, "creation_date": 1579552119, "post_id": 53421741, "comment_id": 105797338, "body": "I understand that the focus of TypeScript interfaces is to create public contracts, so that objects within a running application inter-operate appropriately with one another. However, I think some would still find benefits if interfaces also specify the private side of a class. Private contracts ensure that the objects within a running application <i>intra-operate</i> appropriately with themselves."}], "tags": [], "owner": {"reputation": 2964, "user_id": 5208606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmCN5.jpg?s=128&g=1", "display_name": "Maarti", "link": "https://stackoverflow.com/users/5208606/maarti"}, "is_accepted": false, "score": 4, "last_activity_date": 1558962382, "last_edit_date": 1558962382, "creation_date": 1542841882, "answer_id": 53421741, "question_id": 53421494, "link": "https://stackoverflow.com/questions/53421494/typescript-interface-with-private-members/53421741#53421741", "title": "Typescript interface with private members", "body": "<p>Interfaces define \"public contracts\", it describes the public side of the class  and as such it doesn't make sense to have private access modifier.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">From Typescript interface documentation</a>:</p>\n\n<blockquote>\n  <p>This prohibits you from using them to check that a class also has\n  particular types for the private side of the class instance.</p>\n</blockquote>\n\n<hr>\n\n<p>But an interface can extend classes with private members.</p>\n\n<p>From <a href=\"https://msdn.microsoft.com/en-us/magazine/dn890374.aspx\" rel=\"nofollow noreferrer\">Understanding TypeScript</a>:</p>\n\n<blockquote>\n  <p>In TypeScript, interfaces can also extend classes, but only in a way\n  that involves inheritance. When an interface extends a class, the\n  interface includes all class members (public and private), but without\n  the class\u2019 implementations.</p>\n</blockquote>\n\n<pre><code>class Customer\n{\n  private id: number;\n  get Id(): number\n  {\n    return this.id\n  }\n  set Id( value: number )\n  {\n    this.id = value;\n  }\n}\ninterface ICustomer extends Customer\n{\n  MiddleName: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 1683, "user_id": 8195572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMhnN.jpg?s=128&g=1", "display_name": "Ahmed Kamal", "link": "https://stackoverflow.com/users/8195572/ahmed-kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2920, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1558962382, "creation_date": 1542840410, "question_id": 53421494, "link": "https://stackoverflow.com/questions/53421494/typescript-interface-with-private-members", "title": "Typescript interface with private members", "body": "<p>Why typescript not supporting private members in interfaces?</p>\n\n<p>How to handle the following scenario?</p>\n\n<pre><code>interface IFoo\n{\n  private member: {};\n}\n\nclass Foo implements IFoo\n{\n  private member = {};\n}\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "highlightjs"], "answers": [{"tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": true, "score": 2, "last_activity_date": 1542840113, "creation_date": 1542840113, "answer_id": 53421443, "question_id": 53421239, "link": "https://stackoverflow.com/questions/53421239/highlightjs-with-angular/53421443#53421443", "title": "Highlightjs with Angular?", "body": "<p>Check the code more closely there is a <a href=\"https://github.com/akveo/ng2-smart-table/blob/cf59d21ee22b244a63ab58a1f1d677ada6f521fe/src/app/shared/directives/highlight.directive.ts\" rel=\"nofollow noreferrer\">highlight</a> <a href=\"https://angular.io/guide/attribute-directives\" rel=\"nofollow noreferrer\">directive</a> (ng2-smart-table/src/app/shared/directives/highlight.directive.ts) that uses highlightjs. It is part of the sample application not the library so you need to copy it if you want to do the same in your application.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "accepted_answer_id": 53421443, "answer_count": 1, "score": 3, "last_activity_date": 1542846977, "creation_date": 1542838810, "last_edit_date": 1542846977, "question_id": 53421239, "link": "https://stackoverflow.com/questions/53421239/highlightjs-with-angular", "title": "Highlightjs with Angular?", "body": "<p>The <a href=\"https://github.com/akveo/ng2-smart-table/blob/master/src/app/pages/demo/demo.component.html\" rel=\"nofollow noreferrer\">ng2-smart-table application documentation</a> has <code>code</code> elements snippets that look like this:</p>\n\n<pre><code>&lt;code highlight class=\"typescript\"&gt;{{ snippets.require }}&lt;/code&gt;\n</code></pre>\n\n<p>The <a href=\"https://akveo.github.io/ng2-smart-table/#/demo\" rel=\"nofollow noreferrer\">resulting documentation looks like this</a>.</p>\n\n<p>When looking at the resulting application html, it looks like <a href=\"https://highlightjs.org/\" rel=\"nofollow noreferrer\">highlightjs</a> is doing the highlighting, but I don't see an import of an angular dependency that would perform the transform (Or any preprocessing by the scripts), so just wondering how it works? </p>\n\n<h2>Per the Answer</h2>\n\n<p>Thought is as really cool how simple this is to do with Angular:</p>\n\n<pre><code>import { Directive, ElementRef, AfterViewInit } from '@angular/core';\nimport * as hljs from 'highlight.js';\n\n@Directive({\nselector: 'code[highlight]',\n})\nexport class HighlightCodeDirective implements AfterViewInit {\n\nconstructor(private elRef: ElementRef) { }\n\nngAfterViewInit() {\n    hljs.highlightBlock(this.elRef.nativeElement);\n}\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 224, "user_id": 10379675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bb18ee5c29990312949a9869f809a8?s=128&d=identicon&r=PG&f=1", "display_name": "domready", "link": "https://stackoverflow.com/users/10379675/domready"}, "edited": false, "score": 0, "creation_date": 1542883713, "post_id": 53428359, "comment_id": 93732489, "body": "Thanks, it works fine. I do not think this is the best solution but a big step to the next optimal solution."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 224, "user_id": 10379675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bb18ee5c29990312949a9869f809a8?s=128&d=identicon&r=PG&f=1", "display_name": "domready", "link": "https://stackoverflow.com/users/10379675/domready"}, "edited": false, "score": 0, "creation_date": 1542883750, "post_id": 53428359, "comment_id": 93732509, "body": "You are welcome. Type Inference isn&#39;t that bad, btw."}], "tags": [], "owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "is_accepted": true, "score": 1, "last_activity_date": 1542880890, "creation_date": 1542880890, "answer_id": 53428359, "question_id": 53420973, "link": "https://stackoverflow.com/questions/53420973/find-in-array-with-different-types/53428359#53428359", "title": "Find in array with different types", "body": "<p>I mentioned two things:</p>\n\n<ol>\n<li><p>You declared the array with type <code>Building</code></p>\n\n<p>const buildingsStore: (Building)[] = [storehouse, barracks];</p></li>\n</ol>\n\n<p>and then in the filter expecting <code>building</code> to have the property <code>type</code>:</p>\n\n<pre><code>return type === building.type;\n</code></pre>\n\n<p>This does obviously not work, because Building does not have <code>type</code>.</p>\n\n<ol start=\"2\">\n<li>I can't sadly explain what exactly goes on in <em>TypeScript</em>, but removing the return type of the function and type cast the result instead works (has somethign to do with <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">Type Inference</a>): </li>\n</ol>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%2F%2F%20Sub%20Sub%20Class%0D%0Aclass%20Building%20%7B%0D%0A%20%20%20public%20type%3A%20string%20%3D%20&#39;production&#39;%3B%0D%0A%20%20%20%20protected%20render()%20%7B%20%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;render%20building.&#39;)%3B%0D%0A%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Sub%20Classes%0D%0Aclass%20ProductionBuilding%20extends%20Building%20%7B%0D%0A%0D%0A%20%20%20%20public%20produceResource()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;produce%20resource&#39;)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20MilitaryBuilding%20extends%20Building%20%7B%0D%0A%20%20%20%20public%20type%3A%20string%20%3D%20&#39;military&#39;%3B%0D%0A%0D%0A%0D%0A%20%20%20%20public%20trainAUnit()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;train%20a%20unit&#39;)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Concrete%20Classes%0D%0Aclass%20Storehouse%20extends%20ProductionBuilding%20%7B%20%7D%0D%0A%0D%0Aclass%20Barracks%20extends%20MilitaryBuilding%20%7B%20%7D%0D%0A%0D%0A%2F%2F%20Create%20instances.%0D%0Aconst%20storehouse%20%3D%20new%20Storehouse()%3B%0D%0Aconst%20barracks%20%3D%20new%20Barracks()%3B%0D%0A%0D%0A%2F%2F%20Store%20instances%20on%20an%20array.%0D%0Aconst%20buildingsStore%3A%20(Building)%5B%5D%20%3D%20%5Bstorehouse%2C%20barracks%5D%3B%0D%0A%0D%0A%2F%2F%20Returns%20the%20first%20class%20that%20has%20been%20found%20in%20the%20array%20with%20the%20given%20type.%0D%0Afunction%20findFirstTypeBuilding%3CT%20extends%20ProductionBuilding%3E(type%3A%20string)%20%7B%0D%0A%20%20%20%20return%20buildingsStore.filter((building)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20type%20%3D%3D%3D%20building.type%3B%0D%0A%20%20%20%20%7D)%5B0%5D%20as%20T%3B%0D%0A%7D%0D%0A%0D%0Aconst%20productionBuilding%3A%20ProductionBuilding%20%3D%20findFirstTypeBuilding%3CProductionBuilding%3E(&#39;production&#39;)%3B%0D%0A%0D%0Aconsole.log(productionBuilding)%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">Working code here</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I updated my code regarding to the <code>type</code> property: <a href=\"http://www.typescriptlang.org/play/#src=%2F%2F%20Sub%20Sub%20Class%0D%0Aclass%20Building%20%7B%0D%0A%20%20%20public%20type%3A%20string%20%3D%20&#39;&#39;%3B%0D%0A%20%20%20%20protected%20render()%20%7B%20%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;render%20building.&#39;)%3B%0D%0A%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Sub%20Classes%0D%0Aclass%20ProductionBuilding%20extends%20Building%20%7B%0D%0A%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20super()%3B%0D%0A%20%20%20%20%20%20%20%20this.type%20%3D%20&#39;production&#39;%3B%0D%0A%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20produceResource()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;produce%20resource&#39;)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20MilitaryBuilding%20extends%20Building%20%7B%0D%0A%20%20%20%20public%20type%3A%20string%20%3D%20&#39;military&#39;%3B%0D%0A%0D%0A%0D%0A%20%20%20%20public%20trainAUnit()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;train%20a%20unit&#39;)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Concrete%20Classes%0D%0Aclass%20Storehouse%20extends%20ProductionBuilding%20%7B%20%7D%0D%0A%0D%0Aclass%20Barracks%20extends%20MilitaryBuilding%20%7B%20%7D%0D%0A%0D%0A%2F%2F%20Create%20instances.%0D%0Aconst%20storehouse%20%3D%20new%20Storehouse()%3B%0D%0Aconst%20barracks%20%3D%20new%20Barracks()%3B%0D%0A%0D%0A%2F%2F%20Store%20instances%20on%20an%20array.%0D%0Aconst%20buildingsStore%3A%20(Building)%5B%5D%20%3D%20%5Bstorehouse%2C%20barracks%5D%3B%0D%0A%0D%0A%2F%2F%20Returns%20the%20first%20class%20that%20has%20been%20found%20in%20the%20array%20with%20the%20given%20type.%0D%0Afunction%20findFirstTypeBuilding%3CT%20extends%20ProductionBuilding%3E(type%3A%20string)%20%7B%0D%0A%20%20%20%20return%20buildingsStore.filter((building)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20type%20%3D%3D%3D%20building.type%3B%0D%0A%20%20%20%20%7D)%5B0%5D%20as%20T%3B%0D%0A%7D%0D%0A%0D%0Aconst%20productionBuilding%3A%20ProductionBuilding%20%3D%20findFirstTypeBuilding%3CProductionBuilding%3E(&#39;production&#39;)%3B%0D%0A%0D%0Aconsole.log(productionBuilding)%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 224, "user_id": 10379675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bb18ee5c29990312949a9869f809a8?s=128&d=identicon&r=PG&f=1", "display_name": "domready", "link": "https://stackoverflow.com/users/10379675/domready"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 53428359, "answer_count": 1, "score": 0, "last_activity_date": 1542880890, "creation_date": 1542837171, "question_id": 53420973, "link": "https://stackoverflow.com/questions/53420973/find-in-array-with-different-types", "title": "Find in array with different types", "body": "<p>I have two subClasses that will be extended to many classes. Now i will find a class with a specific type (in my case this is a property on the subClass).</p>\n\n<p>After creating many instances i have a helper function that will return the first class with a match of needed type.\nSo far everything works fine.</p>\n\n<p><strong>My Problem</strong>\nI do not get the correct ts-type when i return my class on my Helper funtion. I always get a typescript error but i have no idea how to solve that problem.</p>\n\n<p>Is there anyone show me the right way to do it? \nOr is there some tutorial? (I found some tutorials but only withoud extends and no dynamic store array with many different types)</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%2F%2F%20Sub%20Sub%20Class%0D%0Aclass%20Building%20%7B%0D%0A%20%20%20%20protected%20render()%20%7B%20%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;render%20building.&#39;)%3B%0D%0A%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Sub%20Classes%0D%0Aclass%20ProductionBuilding%20extends%20Building%20%7B%0D%0A%20%20%20public%20type%3A%20string%20%3D%20&#39;production&#39;%3B%0D%0A%0D%0A%20%20%20%20public%20produceResource()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;produce%20resource&#39;)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20MilitaryBuilding%20extends%20Building%20%7B%0D%0A%20%20%20%20public%20type%3A%20string%20%3D%20&#39;military&#39;%3B%0D%0A%0D%0A%0D%0A%20%20%20%20public%20trainAUnit()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(&#39;train%20a%20unit&#39;)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Concrete%20Classes%0D%0Aclass%20Storehouse%20extends%20ProductionBuilding%20%7B%20%7D%0D%0A%0D%0Aclass%20Barracks%20extends%20MilitaryBuilding%20%7B%20%7D%0D%0A%0D%0A%2F%2F%20Create%20instances.%0D%0Aconst%20storehouse%20%3D%20new%20Storehouse()%3B%0D%0Aconst%20barracks%20%3D%20new%20Barracks()%3B%0D%0A%0D%0A%2F%2F%20Store%20instances%20on%20an%20array.%0D%0Aconst%20buildingsStore%3A%20(Building)%5B%5D%20%3D%20%5Bstorehouse%2C%20barracks%5D%3B%0D%0A%0D%0A%2F%2F%20Returns%20the%20first%20class%20that%20has%20been%20found%20in%20the%20array%20with%20the%20given%20type.%0D%0Afunction%20findFirstTypeBuilding%3CT%20extends%20ProductionBuilding%3E(type%3A%20string)%3A%20T%20%7B%0D%0A%20%20%20%20return%20buildingsStore.filter((building)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20type%20%3D%3D%3D%20building.type%3B%0D%0A%20%20%20%20%7D)%5B0%5D%3B%0D%0A%7D%0D%0A%0D%0Aconst%20productionBuilding%3A%20ProductionBuilding%20%3D%20findFirstTypeBuilding%3CProductionBuilding%3E(&#39;production&#39;)%3B%0D%0A%0D%0Aconsole.log(productionBuilding)%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">My example code on the typescript playground with the ts-error</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 1, "creation_date": 1542835074, "post_id": 53420566, "comment_id": 93715532, "body": "Your <code>selections</code> function doesn&#39;t actually return a value-- you&#39;re only returning from the <code>filter</code> function"}, {"owner": {"reputation": 2429, "user_id": 8946627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5N2d.jpg?s=128&g=1", "display_name": "JBoothUA", "link": "https://stackoverflow.com/users/8946627/jboothua"}, "edited": false, "score": 0, "creation_date": 1542835194, "post_id": 53420566, "comment_id": 93715583, "body": "instead of {{ }} does it work any better if you do [matTooltip]=&quot;selections()&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9718365"}, "reply_to_user": {"reputation": 2429, "user_id": 8946627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5N2d.jpg?s=128&g=1", "display_name": "JBoothUA", "link": "https://stackoverflow.com/users/8946627/jboothua"}, "edited": false, "score": 0, "creation_date": 1542835307, "post_id": 53420566, "comment_id": 93715630, "body": "@JBoothUA I tried that too.. still no help"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9718365"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1542835402, "post_id": 53420566, "comment_id": 93715671, "body": "@user184994 Awesome! It worked"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9718365"}, "edited": false, "score": 0, "creation_date": 1542844479, "post_id": 53420566, "comment_id": 93718639, "body": "@use184994 If you would like to convert your comment to answer, I will accept it as the answer. Thanks"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9718365"}, "edited": false, "score": 0, "creation_date": 1542835664, "post_id": 53420651, "comment_id": 93715772, "body": "It also worked for string interpolation.. where I missed was I am not returning from the selections() instead I am returning from the filter()"}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1542836144, "post_id": 53420651, "comment_id": 93715950, "body": "You are correct, interpolation works and this answer is not the root issue, would you like me to delete this answer?"}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1542838199, "post_id": 53420651, "comment_id": 93716660, "body": "I placed the note on this answer for clarification of future readers as I had 2 up votes received; did not expect you to accept it as the answer. If @user184994 would like to covert comment to answer please accept that answer as it should truly be marked as the correct answer in this case."}], "tags": [], "owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "is_accepted": true, "score": 8, "last_activity_date": 1542836764, "last_edit_date": 1542836764, "creation_date": 1542835393, "answer_id": 53420651, "question_id": 53420566, "link": "https://stackoverflow.com/questions/53420566/angular-mat-tooltip-calling-a-function/53420651#53420651", "title": "Angular mat-tooltip calling a function", "body": "<p>You need to use a template expression via property binding.. the following should call your method and receive the returned string.</p>\n\n<pre><code>&lt;button mat-raised-button\n      [matTooltip]=\"selections()\"\n      matTooltipClass = \"test\"\n      aria-label=\"Button that displays a tooltip when focused or hovered \n      over\"&gt;\nAction\n&lt;/button&gt;\n</code></pre>\n\n<hr>\n\n<p>The following link is information on template expressions</p>\n\n<p><a href=\"https://angular.io/guide/template-syntax#template-expressions\" rel=\"noreferrer\">https://angular.io/guide/template-syntax#template-expressions</a></p>\n\n<p>The following link is information on property binding</p>\n\n<p><a href=\"https://angular.io/guide/template-syntax#property-binding\" rel=\"noreferrer\">https://angular.io/guide/template-syntax#property-binding</a></p>\n\n<hr>\n\n<p><strong>Please Note:</strong></p>\n\n<blockquote>\n  <p>Although this is also a viable solution to populating the tooltip via\n  component method, per the comments below this was not the root issue\n  to this question and interpolation would have worked in this scenario\n  as well. <code>matTooltip=\"{{selections()}}\"</code></p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9718365"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5231, "favorite_count": 0, "accepted_answer_id": 53420651, "answer_count": 1, "score": 2, "last_activity_date": 1542836764, "creation_date": 1542834921, "last_edit_date": 1542835699, "question_id": 53420566, "link": "https://stackoverflow.com/questions/53420566/angular-mat-tooltip-calling-a-function", "title": "Angular mat-tooltip calling a function", "body": "<p>I want to call a method selections() from button tooltip which does something and returns a string that needs to be displayed on hovering the tooltip. I tried interpolating the returned value on html, but it didn't work</p>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;button mat-raised-button\n      matTooltip={{selections()}}\n      matTooltipClass = \"test\"\n      aria-label=\"Button that displays a tooltip when focused or hovered \n      over\"&gt;\nAction\n&lt;/button&gt;\n</code></pre>\n\n<p>The string \"selected\" needs to be returned from the function and to be displayed on hovering the tooltip</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>selections() {\nthis.selectedelems = [];\nthis.selection.selected.map(id =&gt; this.tableData.data.filter((row: any) =&gt; \n{\n  if (row._id === id) {\n    this.selectedelems.push(row.name);\n    this.selected = this.selectedelems.join('\\r\\n');\n    }\n}));\nreturn this.selected;\n}\n</code></pre>\n"}, {"tags": ["typescript", "destructuring"], "answers": [{"tags": [], "owner": {"reputation": 5032, "user_id": 1496453, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/zHJ5F.jpg?s=128&g=1", "display_name": "Sandy Gifford", "link": "https://stackoverflow.com/users/1496453/sandy-gifford"}, "is_accepted": true, "score": 17, "last_activity_date": 1542834767, "creation_date": 1542834767, "answer_id": 53420541, "question_id": 53420524, "link": "https://stackoverflow.com/questions/53420524/suppress-unused-variable-error-for-destructured-arrays/53420541#53420541", "title": "Suppress unused variable error for destructured arrays", "body": "<p>Found an answer almost immediately (ain't it always the way) - when destructuring arrays you can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Ignoring_some_returned_values\" rel=\"noreferrer\">ignore select values</a> by adding an extra comma in:</p>\n\n<pre><code>function getStuffIWant(str: string): string {\n    const [\n        , // full match\n        stuffIWant,\n    ] = str.match(/1(.*)2/);\n\n    return stuffIWant;\n}\n\ngetStuffIWant(\"abc1def2ghi\");\n</code></pre>\n\n<p>No variable declared, nothing for TypeScript to get all up in arms about.</p>\n"}], "owner": {"reputation": 5032, "user_id": 1496453, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/zHJ5F.jpg?s=128&g=1", "display_name": "Sandy Gifford", "link": "https://stackoverflow.com/users/1496453/sandy-gifford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2337, "favorite_count": 1, "accepted_answer_id": 53420541, "answer_count": 1, "score": 9, "last_activity_date": 1542834767, "creation_date": 1542834660, "question_id": 53420524, "link": "https://stackoverflow.com/questions/53420524/suppress-unused-variable-error-for-destructured-arrays", "title": "Suppress unused variable error for destructured arrays", "body": "<p>I'm destructuring the result of a regex match</p>\n\n<pre><code>function getStuffIWant(str: string): string {\n    const [\n        fullMatch,   // [ts] 'fullMatch' is declared but its value is never read.\n        stuffIWant,\n    ] = str.match(/1(.*)2/);\n\n    return stuffIWant;\n}\n\ngetStuffIWant(\"abc1def2ghi\");\n</code></pre>\n\n<p>As the comment points out, <code>fullMatch</code> is never used and TSC wants me to know.  <strong>Is there any way to suppress this error without turning off unused checks across the board?</strong></p>\n\n<p>I've also tried unpacking the array as an object:</p>\n\n<pre><code>const {\n    1: stuffIWant, // Unexpected SyntaxError: Unexpected token :\n} = str.match(/1(.*)2/);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "build", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 158821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d634ea8e2e8d90b179998794db6e6a?s=128&d=identicon&r=PG", "display_name": "Vapour in the Alley", "link": "https://stackoverflow.com/users/158821/vapour-in-the-alley"}, "is_accepted": false, "score": -2, "last_activity_date": 1542835182, "creation_date": 1542835182, "answer_id": 53420614, "question_id": 53419242, "link": "https://stackoverflow.com/questions/53419242/angular-7-build-aot-fails-typescript-d-ts-declaration-files-missing-from/53420614#53420614", "title": "Angular 7 | Build --aot fails | Typescript .d.ts declaration files missing from compilation", "body": "<p>Change the <code>types</code> key to <code>typeRoots</code> in your <code>tsconfig.app.json</code> since you are specifying a folder instead of specific files.</p>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 1503888, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/JOK7X.jpg?s=128&g=1", "display_name": "LudoZik", "link": "https://stackoverflow.com/users/1503888/ludozik"}, "is_accepted": true, "score": 0, "last_activity_date": 1543233497, "creation_date": 1543233497, "answer_id": 53480649, "question_id": 53419242, "link": "https://stackoverflow.com/questions/53419242/angular-7-build-aot-fails-typescript-d-ts-declaration-files-missing-from/53480649#53480649", "title": "Angular 7 | Build --aot fails | Typescript .d.ts declaration files missing from compilation", "body": "<p>I found the solution to my problem :\nI checked all the <code>import</code> statements of the <code>.d.ts</code> files everywhere in my app.\nOne was wrong (wrong path) , which did not seem to be an issue without the <code>--aot</code> flag.\nMaybe that will help someone.</p>\n"}], "owner": {"reputation": 917, "user_id": 1503888, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/JOK7X.jpg?s=128&g=1", "display_name": "LudoZik", "link": "https://stackoverflow.com/users/1503888/ludozik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 53480649, "answer_count": 2, "score": 0, "last_activity_date": 1544471152, "creation_date": 1542828355, "last_edit_date": 1544471152, "question_id": 53419242, "link": "https://stackoverflow.com/questions/53419242/angular-7-build-aot-fails-typescript-d-ts-declaration-files-missing-from", "title": "Angular 7 | Build --aot fails | Typescript .d.ts declaration files missing from compilation", "body": "<p>I am currently struggling to build my Angular 7 app (recently updated from v6).</p>\n\n<p>Running <code>ng build</code> works <strong>fine</strong>, however, either <code>ng serve --aot</code>, <code>ng build --aot</code> or <code>ng build --prod</code> (which enables aot as well) causes the error below.</p>\n\n<p>The Typescript compiler fails to find my <strong>own</strong> <strong><code>.d.ts</code></strong> files all located in <code>src/app/types/</code>.</p>\n\n<p>I tried to solve the issue by adding the path to these files to the <code>include</code> property of the <code>tsconfig.app.json</code> file, but it did not work.</p>\n\n<p>Please note that the issue was the same with Angular v6.</p>\n\n<pre><code>ERROR in ./src/app/types/data.d.ts\nModule build failed (from ./node_modules/@ngtools/webpack/src/index.js):\nError: /xxx/src/app/types/data.d.ts is missing from the TypeScript compilation. Please make sure it is in your tsconfig via the 'files' or 'include' property.\nat AngularCompilerPlugin.getCompiledFile (/xxxx/node_modules/@ngtools/webpack/src/angular_compiler_plugin.js:767:23)\nat plugin.done.then (/xxxx/node_modules/@ngtools/webpack/src/loader.js:41:31)\nat &lt;anonymous&gt;\nat process._tickCallback (internal/process/next_tick.js:188:7)\n</code></pre>\n\n<p>Here is the <code>tsconfig.json</code> file :</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>Here is the <code>tsconfig.app.json</code> file :</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"types\": [\"node\"]\n  },\n  \"exclude\": [\n    \"src/test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>Can you please help me resolve this issue ?\nThanks.</p>\n"}, {"tags": ["angular", "typescript", "highcharts", "tooltip"], "comments": [{"owner": {"reputation": 2591, "user_id": 4868839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0ae88c5689880ba355618317faec0?s=128&d=identicon&r=PG&f=1", "display_name": "User3250", "link": "https://stackoverflow.com/users/4868839/user3250"}, "edited": false, "score": 1, "creation_date": 1542857825, "post_id": 53419235, "comment_id": 93721393, "body": "Check answer <a href=\"https://stackoverflow.com/a/37618597/4868839\">here</a>"}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 2591, "user_id": 4868839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0ae88c5689880ba355618317faec0?s=128&d=identicon&r=PG&f=1", "display_name": "User3250", "link": "https://stackoverflow.com/users/4868839/user3250"}, "edited": false, "score": 0, "creation_date": 1542990757, "post_id": 53419235, "comment_id": 93772951, "body": "He&#39;s using JQuery to set the tooltip. I don&#39;t quite know how to achieve that in angular. I tried using getElementsByClassName to work over the HTMLCollection but that didn&#39;t work either. Apply matToolTip to the Span directly doesn&#39;t do anything either."}, {"owner": {"reputation": 2591, "user_id": 4868839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0ae88c5689880ba355618317faec0?s=128&d=identicon&r=PG&f=1", "display_name": "User3250", "link": "https://stackoverflow.com/users/4868839/user3250"}, "edited": false, "score": 0, "creation_date": 1542995728, "post_id": 53419235, "comment_id": 93774778, "body": "U don&#39;t wanna use jquery? Then u need to create a JavaScript func to achieve the same. Mattooltip sadly won&#39;t work, I&#39;ve tried before.."}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 2591, "user_id": 4868839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0ae88c5689880ba355618317faec0?s=128&d=identicon&r=PG&f=1", "display_name": "User3250", "link": "https://stackoverflow.com/users/4868839/user3250"}, "edited": false, "score": 0, "creation_date": 1543005252, "post_id": 53419235, "comment_id": 93777850, "body": "I see thank you, I&#39;ll find an alternative"}], "owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542828328, "creation_date": 1542828328, "question_id": 53419235, "link": "https://stackoverflow.com/questions/53419235/highcharts-legend-tool-tip-in-angular-5", "title": "HighCharts Legend Tool-Tip in Angular 5", "body": "<p>Is there a way to show a customized tool-tip for each legend item when you scroll over them. \nI need to display custom descriptions for each legend to describe the item however, adding it directly to the legend would make the title too long and the points tool-tip as well. So Instead the best approach would be to add a tool-tip to the legend that would display the description of the legend item. \nI can't seem to find anything in the documentation and most of the solutions I encounter don't seem to be fit for this case or Angular.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1420, "user_id": 6706381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5671b662c316b0e27d980cc6d58204?s=128&d=identicon&r=PG&f=1", "display_name": "Asanka", "link": "https://stackoverflow.com/users/6706381/asanka"}, "is_accepted": false, "score": 1, "last_activity_date": 1542827575, "creation_date": 1542827575, "answer_id": 53419056, "question_id": 53418898, "link": "https://stackoverflow.com/questions/53418898/open-angular-2-component-from-a-link-in-email-with-querystring-parameters/53419056#53419056", "title": "Open angular 2 component from a link in email with querystring parameters", "body": "<p>You can do this using ActivatedRoute, In your MyComponent.</p>\n\n<pre><code>import { ActivatedRoute } from '@angular/router';\n\nconstructor(private route: ActivatedRoute) {}\n\nngOnInit() {\nthis.route.queryParams.subscribe(params =&gt; {\n            console.log(params['Id']);\n     });\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 1180174, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0c01519b9a4f084925773d1a085e6791?s=128&d=identicon&r=PG", "display_name": "Warrior", "link": "https://stackoverflow.com/users/1180174/warrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542827575, "creation_date": 1542826802, "last_edit_date": 1542826969, "question_id": 53418898, "link": "https://stackoverflow.com/questions/53418898/open-angular-2-component-from-a-link-in-email-with-querystring-parameters", "title": "Open angular 2 component from a link in email with querystring parameters", "body": "<p>I have a component for which I wish to provide the deep link with query string parameters, clicking on which opens the component in the browser.</p>\n\n<p>Example:</p>\n\n<p>exmaple.com/MyComponent?Id=10</p>\n\n<p>I wish to provide a link in the email with the specific Id which opens up the component and shows the information for Id=10 in the modal which I have inside the same component.</p>\n\n<p>I do not wish to provide any router link in the html as its only the single component.</p>\n\n<p>I have basic understand of routing in angular 2 but not sure how it works without the router link.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 0, "creation_date": 1542827915, "post_id": 53418891, "comment_id": 93712404, "body": "<code>Unknown compiler option &#39;esModuleInterop&#39;</code> it seems you&#39;re using an older version of typescript. That&#39;s an option from typescript <code>&gt;=2.7</code>"}, {"owner": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 1, "creation_date": 1542828187, "post_id": 53418891, "comment_id": 93712539, "body": "Well <code>react-webpack-typescript-babel</code> is using <code>v3.1.6</code> so your local typescript might not be the issue. Maybe you have an older version of typescript globally installed?"}, {"owner": {"reputation": 2705, "user_id": 1370984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wc7yM.jpg?s=128&g=1", "display_name": "SILENT", "link": "https://stackoverflow.com/users/1370984/silent"}, "reply_to_user": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 0, "creation_date": 1542834167, "post_id": 53418891, "comment_id": 93715144, "body": "@lleon Wow. I thought I removed all globals but I was wrong."}], "answers": [{"tags": [], "owner": {"reputation": 2705, "user_id": 1370984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wc7yM.jpg?s=128&g=1", "display_name": "SILENT", "link": "https://stackoverflow.com/users/1370984/silent"}, "is_accepted": false, "score": 2, "last_activity_date": 1542834355, "creation_date": 1542834355, "answer_id": 53420470, "question_id": 53418891, "link": "https://stackoverflow.com/questions/53418891/typescript-and-types-react-errors/53420470#53420470", "title": "typescript and @types/react errors", "body": "<p>Based on @lleon input, an old typescript version was the cause of my headache. I removed it <code>npm un -g typescript</code>, added vscode user setting <code>\"typescript.tsdk\": \"node_modules\\\\typescript\\\\lib\"</code> and restarted vscode. Works well so far.</p>\n"}], "owner": {"reputation": 2705, "user_id": 1370984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wc7yM.jpg?s=128&g=1", "display_name": "SILENT", "link": "https://stackoverflow.com/users/1370984/silent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542834355, "creation_date": 1542826773, "last_edit_date": 1542827437, "question_id": 53418891, "link": "https://stackoverflow.com/questions/53418891/typescript-and-types-react-errors", "title": "typescript and @types/react errors", "body": "<p>I'm still learning to use typescript with react. Due to how slow <a href=\"https://github.com/wmonk/create-react-app-typescript#react-scripts-ts--\" rel=\"nofollow noreferrer\">react-scripts-ts</a> was, I was turned off from it. I've tried the new typescript setup with babel 7 (<a href=\"https://github.com/a-tarasyuk/react-webpack-typescript-babel\" rel=\"nofollow noreferrer\">react-webpack-typescript-babel</a>) and its exceedingly fast. However there are some basic errors that I can't resolve.</p>\n\n<p>Even though the project runs, in vscode I get the following errors:</p>\n\n<ul>\n<li>[ts] Module ...@types/react... has no exported member 'Component'</li>\n<li>[ts] Property 'setState' does not exist on type 'Counter'</li>\n<li>[ts] Module ...@types/react... has no exported member 'SFC'</li>\n<li>[ts] Unknown compiler option 'esModuleInterop'</li>\n<li>and more...</li>\n</ul>\n\n<p>I'm assuming this is a @types/react and typescript issue.</p>\n\n<ol>\n<li>Is @types/react not being updated?</li>\n<li>How I can get the other properties to show up?</li>\n<li>I also don't understand when to download from\n@types vs use the @types found in some packages other than reading\nthe package description.</li>\n</ol>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 807, "user_id": 1647603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93470dce3214814a6bd928a608ceefeb?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Shinkle", "link": "https://stackoverflow.com/users/1647603/dave-shinkle"}, "edited": false, "score": 0, "creation_date": 1557430386, "post_id": 53641895, "comment_id": 98772638, "body": "This fixed an error I was stuck on for days after upgrading from Angular 6 to Angular 7."}, {"owner": {"reputation": 3666, "user_id": 3503019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/dezfV.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/3503019/akash"}, "edited": false, "score": 1, "creation_date": 1576676869, "post_id": 53641895, "comment_id": 104976233, "body": "But by doing this, you&#39;ll loose all the build optimisation and tree shaking benefits. The issue is related to <code>angular-cli</code> version. Try downgrading or upgrading it globally."}], "tags": [], "owner": {"reputation": 2862, "user_id": 10115847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Okv0j.jpg?s=128&g=1", "display_name": "Or Yaacov", "link": "https://stackoverflow.com/users/10115847/or-yaacov"}, "is_accepted": true, "score": 16, "last_activity_date": 1579001656, "last_edit_date": 1579001656, "creation_date": 1544049805, "answer_id": 53641895, "question_id": 53418760, "link": "https://stackoverflow.com/questions/53418760/angular-uncaught-typeerror-e-is-not-a-constructor-after-build-prod-work-on-n/53641895#53641895", "title": "Angular Uncaught TypeError: e is not a constructor after build --prod (work on ng serve)", "body": "<p>after a long time of trying, I discovered that there is an open bug at angular cli</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/issues/9929\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/9929</a></p>\n\n<blockquote>\n  <p>ng build --prod --base-href=\"/site/\" <strong>--aot=false</strong> --build-optimizer=false</p>\n</blockquote>\n\n<p>and for now using <code>--aot=false --build-optimizer=false</code> temporarily solves the problem. </p>\n\n<p>Ill keep the post updated with official the information and solution that angular team will provide.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 11768058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5e9ab2816b0b3c1e8a79be9046a3c90?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh Goud", "link": "https://stackoverflow.com/users/11768058/ganesh-goud"}, "is_accepted": false, "score": 1, "last_activity_date": 1570791999, "creation_date": 1570791999, "answer_id": 58339946, "question_id": 53418760, "link": "https://stackoverflow.com/questions/53418760/angular-uncaught-typeerror-e-is-not-a-constructor-after-build-prod-work-on-n/58339946#58339946", "title": "Angular Uncaught TypeError: e is not a constructor after build --prod (work on ng serve)", "body": "<p>we also got same issue.Once remove all the node modules and install one by one node modules.After installing every node module enter ng build --prod it may help.In one project we got that error in ngx password toggle node module.</p>\n"}], "owner": {"reputation": 2862, "user_id": 10115847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Okv0j.jpg?s=128&g=1", "display_name": "Or Yaacov", "link": "https://stackoverflow.com/users/10115847/or-yaacov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6547, "favorite_count": 2, "accepted_answer_id": 53641895, "answer_count": 2, "score": 11, "last_activity_date": 1585704851, "creation_date": 1542826229, "last_edit_date": 1542826807, "question_id": 53418760, "link": "https://stackoverflow.com/questions/53418760/angular-uncaught-typeerror-e-is-not-a-constructor-after-build-prod-work-on-n", "title": "Angular Uncaught TypeError: e is not a constructor after build --prod (work on ng serve)", "body": "<p>I have a problem while uploading my angular application to production .\nThe application works just fine in development and used to work before on production too. </p>\n\n<p>To build my application I'm using:</p>\n\n<pre><code>ng build --prod --base-href=\"/site/\" \n</code></pre>\n\n<p>The application is built, but with the following warnings:</p>\n\n<pre><code>WARNING in ./src/app/eco-header/eco-header.component.ngfactory.js 138:299-319 \"export 'MAT_ICON_LOCATION' (imported as 'i9') was not found in '@angular/material/icon'\n\nWARNING in ./node_modules/@angular/material/dialog/typings/index.ngfactory.js 20:1247-1265 \"export 'ScrollingModule' (imported as 'i7') was not found in '@angular/cdk/scrolling'\n\nWARNING in ./node_modules/@angular/material/dialog/typings/index.ngfactory.js 20:1267-1285 \"export 'ScrollingModule' (imported as 'i7') was not found in '@angular/cdk/scrolling'\n\nWARNING in ./node_modules/@angular/material/icon/typings/index.ngfactory.js 20:327-347 \"export 'MAT_ICON_LOCATION' (imported as 'i1') was not found in '@angular/material/icon'\n</code></pre>\n\n<p>When I try to load the page, I get the following error:</p>\n\n<pre><code>Uncaught TypeError: e is not a constructor\n    at main.1ebe20842d3713f62535.js:1\n    at Wl (main.1ebe20842d3713f62535.js:1)\n    at main.1ebe20842d3713f62535.js:1\n    at new t (main.1ebe20842d3713f62535.js:1)\n    at Object.dr [as createNgModuleRef] (main.1ebe20842d3713f62535.js:1)\n    at e.create (main.1ebe20842d3713f62535.js:1)\n    at main.1ebe20842d3713f62535.js:1\n    at e.invoke (polyfills.c72d3210425a88b28b6d.js:1)\n    at Object.onInvoke (main.1ebe20842d3713f62535.js:1)\n    at e.invoke (polyfills.c72d3210425a88b28b6d.js:1)\n</code></pre>\n\n<p>My <code>tsconfig</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"experimentalDecorators\": true,\n        \"allowJs\": true,\n        \"sourceMap\": true\n    }\n}\n</code></pre>\n\n<p>My <code>package.json</code>:</p>\n\n<pre><code>{   \"name\": \"idea-ecomanager-frontend\",   \"version\": \"0.0.0\",   \"scripts\": {\n\"ng\": \"ng\",\n\"start\": \"ng serve\",\n\"build\": \"ng build\",\n\"test\": \"ng test\",\n\"lint\": \"ng lint\",\n\"e2e\": \"ng e2e\"   },   \"private\": true,   \"dependencies\": {\n\"@angular/animations\": \"^7.0.1\",\n\"@angular/cdk\": \"^7.0.2\",\n\"@angular/common\": \"^7.0.1\",\n\"@angular/compiler\": \"^7.0.1\",\n\"@angular/core\": \"^7.0.1\",\n\"@angular/forms\": \"^7.0.1\",\n\"@angular/http\": \"^7.0.1\",\n\"@angular/material\": \"^7.0.2\",\n\"@angular/platform-browser\": \"^7.0.1\",\n\"@angular/platform-browser-dynamic\": \"^7.0.1\",\n\"@angular/router\": \"^7.0.1\",\n\"angularcli\": \"^6.0.1\",\n\"bootstrap\": \"^4.1.3\",\n\"core-js\": \"^2.5.4\",\n\"ngx-loading\": \"^3.0.1\",\n\"ngx-toastr\": \"^9.1.1\",\n\"rxjs\": \"^6.3.3\",\n\"zone.js\": \"^0.8.26\"   },   \"devDependencies\": {\n\"@angular-devkit/build-angular\": \"~0.6.0\",\n\"@angular/cli\": \"^6.0.8\",\n\"@angular/compiler-cli\": \"^7.0.1\",\n\"@angular/language-service\": \"^7.0.1\",\n\"@types/jasmine\": \"~2.8.6\",\n\"@types/jasminewd2\": \"~2.0.3\",\n\"@types/node\": \"~8.9.4\",\n\"codelyzer\": \"~4.2.1\",\n\"jasmine-core\": \"~2.99.1\",\n\"jasmine-spec-reporter\": \"~4.2.1\",\n\"karma\": \"~1.7.1\",\n\"karma-chrome-launcher\": \"~2.2.0\",\n\"karma-coverage-istanbul-reporter\": \"~1.4.2\",\n\"karma-jasmine\": \"~1.1.1\",\n\"karma-jasmine-html-reporter\": \"^0.2.2\",\n\"protractor\": \"~5.3.0\",\n\"ts-node\": \"~5.0.1\",\n\"tslint\": \"~5.9.1\",\n\"typescript\": \"~3.1.3\"   } }\n</code></pre>\n\n<p>Any idea why this is happening? </p>\n"}, {"tags": ["html", "angular", "typescript", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "edited": false, "score": 0, "creation_date": 1542826616, "post_id": 53418782, "comment_id": 93711797, "body": "Works like a charm"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 2, "last_activity_date": 1542826301, "creation_date": 1542826301, "answer_id": 53418782, "question_id": 53418715, "link": "https://stackoverflow.com/questions/53418715/bootstrap-card-double-clickable-area-angular-5/53418782#53418782", "title": "Bootstrap card double clickable area - Angular 5", "body": "<p>You have to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation\" rel=\"nofollow noreferrer\"><code>stopPropagation()</code></a> inside your event callback.</p>\n\n<p>Change your template to this, notice the <code>$event</code> parameter being passed:</p>\n\n<pre><code> &lt;button (click)=\"onClick2($event)\"&gt;TEST2BUTTON&lt;/button&gt;\n</code></pre>\n\n<p>and in your component:</p>\n\n<pre><code>onClick2(event: MouseEvent): void {\n  event.stopPropagation();\n}\n</code></pre>\n"}], "owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 53418782, "answer_count": 1, "score": 1, "last_activity_date": 1542826445, "creation_date": 1542826049, "last_edit_date": 1542826445, "question_id": 53418715, "link": "https://stackoverflow.com/questions/53418715/bootstrap-card-double-clickable-area-angular-5", "title": "Bootstrap card double clickable area - Angular 5", "body": "<p>I am trying to create a Bootstrap <code>card</code> which is able to call to two of my methods.</p>\n\n<pre><code>&lt;div (click)=\"TEST1()\" class=\"card\" style=\"width: 18rem;\"&gt;\n  &lt;div class=\"card-body\"&gt;\n    &lt;h5 class=\"card-title\"&gt;Card title&lt;/h5&gt;\n    &lt;button (click)=\"(TEST2)\"&gt;TEST2BUTTON&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Nevertheless, and actually, it makes sense, where I click it will always call to <code>TEST1()</code>. Is there any way to call <code>TEST2()</code> when clicking on the <code>button</code>?</p>\n"}, {"tags": ["typescript", "webpack", "momentjs"], "comments": [{"owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1542828040, "post_id": 53418665, "comment_id": 93712461, "body": "Maybe <a href=\"https://stackoverflow.com/q/36648231/4131048\">this</a> question can be useful."}, {"owner": {"reputation": 3166, "user_id": 2670928, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sHRwx.jpg?s=128&g=1", "display_name": "Random", "link": "https://stackoverflow.com/users/2670928/random"}, "reply_to_user": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1542871130, "post_id": 53418665, "comment_id": 93725511, "body": "No, it&#39;s a different case"}], "answers": [{"comments": [{"owner": {"reputation": 3166, "user_id": 2670928, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sHRwx.jpg?s=128&g=1", "display_name": "Random", "link": "https://stackoverflow.com/users/2670928/random"}, "edited": false, "score": 0, "creation_date": 1542879731, "post_id": 53426263, "comment_id": 93729967, "body": "it won&#39;t work for a huge project, and I definitely don&#39;t want to add it to every single file"}], "tags": [], "owner": {"reputation": 1181, "user_id": 4589069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a712e21314267b02a73ad8302c0730?s=128&d=identicon&r=PG&f=1", "display_name": "MrAleister", "link": "https://stackoverflow.com/users/4589069/mraleister"}, "is_accepted": false, "score": 0, "last_activity_date": 1542873582, "creation_date": 1542873582, "answer_id": 53426263, "question_id": 53418665, "link": "https://stackoverflow.com/questions/53418665/typescript-global-import-doesnt-work-for-momentjs/53426263#53426263", "title": "TypeScript - Global import doesn&#39;t work for MomentJS", "body": "<pre><code> var moment; \n</code></pre>\n\n<p>At the top of your file.</p>\n"}], "owner": {"reputation": 3166, "user_id": 2670928, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sHRwx.jpg?s=128&g=1", "display_name": "Random", "link": "https://stackoverflow.com/users/2670928/random"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1542873582, "creation_date": 1542825831, "question_id": 53418665, "link": "https://stackoverflow.com/questions/53418665/typescript-global-import-doesnt-work-for-momentjs", "title": "TypeScript - Global import doesn&#39;t work for MomentJS", "body": "<p>TypeScript provides an option to define global external modules. For example, if I have jQuery library loaded externally, I can set up global definition without including it's duplicate into TypeScript bundle. But when I try to do the same for 'moment' module, compiler doesn't import it's typing.</p>\n\n<p>Here is my content of <code>tsconfig.json</code>, <code>compilerOptions</code> section</p>\n\n<pre><code>\"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"module\": \"es2015\",\n    \"types\": [\"jquery\", \"moment\"]\n}\n</code></pre>\n\n<p>Here is code fragment that uses these definitions:</p>\n\n<pre><code>console.log($);\nconsole.log(moment); // error TS2304: Cannot find name 'moment'\n</code></pre>\n\n<p>So it works fine for jQuery but not for MomentJS. I also have <code>@types/jquery</code> and <code>moment</code> added to <code>package.json</code> and installed into <code>node_modules</code>.</p>\n\n<p>I know it's possible to use ES6 import syntax but it will include it into a bundle and I want to avoid it because it's already loaded in another place of the app.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1542825282, "post_id": 53418439, "comment_id": 93711154, "body": "You seem to be using <code>this.interRetard</code> 2 times. Once to hold the subscription returned by the subscribe, and again when you assign <code>data</code> to it <i>inside</i> the subscribe."}, {"owner": {"reputation": 863, "user_id": 4638529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUZb.png?s=128&g=1", "display_name": "Wrokar", "link": "https://stackoverflow.com/users/4638529/wrokar"}, "edited": false, "score": 1, "creation_date": 1542825296, "post_id": 53418439, "comment_id": 93711161, "body": "<code>this.interRetard</code> is being assigned twice in your statement. You only need to assign it inside the <code>subscribe</code> callback."}, {"owner": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 0, "creation_date": 1542825664, "post_id": 53418439, "comment_id": 93711324, "body": "i removed it and something weird is happepning :/ when i do console.log(interRetard) it displayes undefined then when i trigger the method again (selection changed of a select box) it shows the right value :/ :/"}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "edited": false, "score": 0, "creation_date": 1542825832, "post_id": 53418439, "comment_id": 93711393, "body": "What is the type of your <code>interRetard</code> ?"}, {"owner": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 0, "creation_date": 1542825985, "post_id": 53418439, "comment_id": 93711464, "body": "the type is any .. i have bad news also this is not working  doughnutChartData:number[] = [this.interRetard ,this.interFinie,this.interAvance];"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 0, "creation_date": 1542826371, "post_id": 53418754, "comment_id": 93711651, "body": "yes i know this works .. but i need the variable outside the method subscribe so i can put it in an array and assign the array to a chart like this ... public doughnutChartData:number[] = [this.interRetard ,this.interFinie,this.interAvance];"}, {"owner": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 0, "creation_date": 1542826544, "post_id": 53418754, "comment_id": 93711757, "body": "can you please explain your last comment .. i don&#39;t seem to get what u&#39;re saying"}, {"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "reply_to_user": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 0, "creation_date": 1542826605, "post_id": 53418754, "comment_id": 93711790, "body": "I edited the answer, let me know if that answers your question!"}, {"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "reply_to_user": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 0, "creation_date": 1542827289, "post_id": 53418754, "comment_id": 93712143, "body": "@kmarakrout: that comment was partial, so removed it!"}, {"owner": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "edited": false, "score": 1, "creation_date": 1542828215, "post_id": 53418754, "comment_id": 93712552, "body": "no problem .. i think your answer is working .. i&#39;m trying something if it works perfectly i&#39;ll let you know .. thanks"}], "tags": [], "owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "is_accepted": true, "score": 1, "last_activity_date": 1542826571, "last_edit_date": 1542826571, "creation_date": 1542826206, "answer_id": 53418754, "question_id": 53418439, "link": "https://stackoverflow.com/questions/53418439/fill-chart-dynamically-with-variables-from-component/53418754#53418754", "title": "Fill Chart dynamically with variables from Component", "body": "<p>This should work:</p>\n\n<pre><code>   this.technicienService.getInterRetard(id).subscribe(data =&gt; {\n      this.interRetard = data;\n      console.log(this.iterRetard);\n      this.myFunction(this.iterRetard) or this.myFunction(data);\n    });\n\nmyFunction(p) {\n// Your Logic //\n}\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 8398143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IR0fbf3_u7Y/AAAAAAAAAAI/AAAAAAAAACM/LxX6Td3hzXg/photo.jpg?sz=128", "display_name": "kmar akrout", "link": "https://stackoverflow.com/users/8398143/kmar-akrout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53418754, "answer_count": 1, "score": 0, "last_activity_date": 1542826571, "creation_date": 1542824965, "question_id": 53418439, "link": "https://stackoverflow.com/questions/53418439/fill-chart-dynamically-with-variables-from-component", "title": "Fill Chart dynamically with variables from Component", "body": "<p>i am new to Angular so i think i'm missing something.</p>\n\n<p>i have 3 variables in my component, those variables are being filled after calling .subscribe method on an observable object.</p>\n\n<p>like this </p>\n\n<pre><code>this.interRetard = this.technicienService.getInterRetard(id).subscribe(data =&gt; {\n  this.interRetard = data;\n});\n</code></pre>\n\n<p>the interRetard variable contains a number, i can display its value in the html by doing {{interRetard}} .</p>\n\n<p>the problem is that when i try to display it with console.log() it says : </p>\n\n<pre><code>Subscriber\u00a0{closed: false, _parent: null, _parents: null, _subscriptions: Array(1), syncErrorValue: null,\u00a0\u2026}\n</code></pre>\n\n<p>and i need it to give me the exact value like it is displaying it in the html so i can assign it to the chart like this </p>\n\n<pre><code>public doughnutChartData:number[] = [this.interRetard ,  5, 10];\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["typescript", "import", "rename"], "answers": [{"tags": [], "owner": {"reputation": 20779, "user_id": 1056679, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb906e4ebc05732cd74ff47671e6667c?s=128&d=identicon&r=PG", "display_name": "Slava Fomin II", "link": "https://stackoverflow.com/users/1056679/slava-fomin-ii"}, "is_accepted": false, "score": 0, "last_activity_date": 1542824928, "creation_date": 1542824928, "answer_id": 53418429, "question_id": 53418296, "link": "https://stackoverflow.com/questions/53418296/rename-symbol-implicitly-imported-from-internal-library-in-typescript/53418429#53418429", "title": "Rename symbol implicitly imported from internal library in TypeScript", "body": "<p>The only solution I've found so far is to define a custom type pointing to the original DOM symbol:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>type DOMElement = Element;\n\nnamespace Acme {\n\n  class Element {\n    private element: DOMElement;\n  }\n\n}\n</code></pre>\n\n<p>The idea here is to hide my custom Element class inside of a namespace and reference the DOM Element indirectly using custom type.</p>\n\n<p>However, a better approach would be highly appreciated.</p>\n"}], "owner": {"reputation": 20779, "user_id": 1056679, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb906e4ebc05732cd74ff47671e6667c?s=128&d=identicon&r=PG", "display_name": "Slava Fomin II", "link": "https://stackoverflow.com/users/1056679/slava-fomin-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547141833, "creation_date": 1542824278, "question_id": 53418296, "link": "https://stackoverflow.com/questions/53418296/rename-symbol-implicitly-imported-from-internal-library-in-typescript", "title": "Rename symbol implicitly imported from internal library in TypeScript", "body": "<p>I have a module where I'm using <code>Element</code> class implicitly imported from the <code>\"dom\"</code> internal library.</p>\n\n<p>However, in the same module I want to define an <code>Element</code> class of my own. This of course leads to a name collision and a world of pain.</p>\n\n<p>is there a way to rename the implicit <code>Element</code> class from the DOM library?</p>\n\n<p>Ideally, I would like something like this:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>import * as DOM from 'dom'; // &lt;-- what do I write here?\n\nclass Element { // &lt;-- my element\n  private element: DOM.Element; // &lt;-- reference to the original DOM element\n}\n</code></pre>\n"}, {"tags": ["javascript", "function", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 3329, "user_id": 8409922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZB5M.jpg?s=128&g=1", "display_name": "BadPiggie", "link": "https://stackoverflow.com/users/8409922/badpiggie"}, "edited": false, "score": 0, "creation_date": 1542822506, "post_id": 53417766, "comment_id": 93709959, "body": "Try <code>return this.objectCollector.......</code>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1542823606, "post_id": 53417766, "comment_id": 93710495, "body": "return in forEach?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1542823624, "post_id": 53417766, "comment_id": 93710500, "body": "Why are you not using find() ?"}], "answers": [{"tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": false, "score": 1, "last_activity_date": 1542824514, "creation_date": 1542824514, "answer_id": 53418334, "question_id": 53417766, "link": "https://stackoverflow.com/questions/53417766/typescript-gives-error-if-instead-of-returning-value-throws-error/53418334#53418334", "title": "TypeScript gives error if instead of returning value throws Error", "body": "<p>I would use <code>find()</code> and add if check to throw the error.</p>\n\n<pre><code>public getObject(obj:IObjectsCommonJSON): ObjectsCommon {\n  const id = obj.id;\n  const item = this.objectCollector.find(object =&gt; object.getID() === id);\n  if (!item) {\n    throw new Error(`Scene.getObject(). Object ${id} not found`);\n  }\n  return item;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 9800605, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qcx7Euru_y0/AAAAAAAAAAI/AAAAAAAACAg/HXqaMcWwBeU/photo.jpg?sz=128", "display_name": "Alberto Valero", "link": "https://stackoverflow.com/users/9800605/alberto-valero"}, "edited": false, "score": 0, "creation_date": 1542826008, "post_id": 53418470, "comment_id": 93711475, "body": "Thanks for the explanation @jcalz . Now it&#39;s clear!!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1542825104, "creation_date": 1542825104, "answer_id": 53418470, "question_id": 53417766, "link": "https://stackoverflow.com/questions/53417766/typescript-gives-error-if-instead-of-returning-value-throws-error/53418470#53418470", "title": "TypeScript gives error if instead of returning value throws Error", "body": "<p>The error is inside the callback to <code>forEach()</code>, not on the <code>getObject()</code> call.  Note that even though you are using an arrow function, it's still a function.  And the <code>return</code> inside the callback is returning from the arrow function, not from <code>getObject()</code>.  Note that for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Basic_syntax\" rel=\"nofollow noreferrer\">arrow functions</a>, <code>x =&gt; {return y}</code> is equivalent to <code>x =&gt; y</code>.  There's no way to return from an outer function from inside an arrow function.</p>\n\n<p>So this is your function:</p>\n\n<pre><code>object =&gt; {\n  if(object.getID() === id){\n    return object;\n  }\n}\n</code></pre>\n\n<p>And the compiler (if you've enabled <code>--noImplicitReturns</code>) notices that this function only sometimes returns a value, and so it complains.  </p>\n\n<p>Of course, <code>forEach()</code> doesn't care about the return value of its callback, and that wasn't your intent anyway. The fix is to do what others have suggested... use <code>find()</code> instead of <code>forEach()</code>: <code>... this.objectCollector.find(o =&gt; o.getID()===id) ...</code>  Or use a <code>for</code> loop:</p>\n\n<pre><code>for (let object of this.objectCollector) {\n  if (object.getID() === id) {\n    return object; // no callback, this returns from the getObject function.\n  }\n}\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 159, "user_id": 9800605, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qcx7Euru_y0/AAAAAAAAAAI/AAAAAAAACAg/HXqaMcWwBeU/photo.jpg?sz=128", "display_name": "Alberto Valero", "link": "https://stackoverflow.com/users/9800605/alberto-valero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 53418470, "answer_count": 2, "score": 0, "last_activity_date": 1542825104, "creation_date": 1542821997, "question_id": 53417766, "link": "https://stackoverflow.com/questions/53417766/typescript-gives-error-if-instead-of-returning-value-throws-error", "title": "TypeScript gives error if instead of returning value throws Error", "body": "<p>I have this function:</p>\n\n<pre><code>public getObject(obj:IObjectsCommonJSON): ObjectsCommon {\n    const id = obj.id;\n    this.objectCollector.forEach( object =&gt; {\n      if(object.getID() === id){\n        return object;\n      }\n    });\n\n    throw new Error(`Scene.getObject(). Object ${id} not found`); \n  }\n</code></pre>\n\n<p>And I get the following ts error: </p>\n\n<blockquote>\n  <p>Not all code paths return a value.</p>\n</blockquote>\n\n<p>That's true, because object.id must not be in objectCollector Array, in which case I throw an Error. How could I make this work? I've tried doing</p>\n\n<blockquote>\n  <p>public getObject(obj:IObjectsCommonJSON): ObjectsCommon | void</p>\n</blockquote>\n\n<p>But it does not work either</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "is_accepted": true, "score": 2, "last_activity_date": 1542824075, "creation_date": 1542824075, "answer_id": 53418248, "question_id": 53417666, "link": "https://stackoverflow.com/questions/53417666/set-viewencapsulation-none-to-every-component/53418248#53418248", "title": "Set ViewEncapsulation.None to every component", "body": "<p><code>ViewEncapsulation</code> will not only allow to bind your contents from other components - it will also stop encapsulating your components <code>styles</code>  so if you remove the <code>style</code> or <code>styleUrls</code> from  your component decorator the encapsulation will be set to <code>none</code> by the compiler </p>\n\n<p>Check this <a href=\"https://angular.io/api/core/Component#encapsulation\" rel=\"nofollow noreferrer\">doc</a> for further queries </p>\n\n<p>Next step you can restrict it while creating your components using angular cli </p>\n\n<p><code>ng generate component [name] --view-encapsulation=none</code></p>\n\n<p>This will create your component with the encapsulation property as none - you can check for some commands over <a href=\"https://github.com/angular/angular-cli/wiki/generate-component\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Hope this helps - Happy coding:)</p>\n"}, {"tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": false, "score": 0, "last_activity_date": 1542825972, "creation_date": 1542825972, "answer_id": 53418693, "question_id": 53417666, "link": "https://stackoverflow.com/questions/53417666/set-viewencapsulation-none-to-every-component/53418693#53418693", "title": "Set ViewEncapsulation.None to every component", "body": "<p>You can try setting 'ViewEncapsulation.None' in app.component.ts which will be applicable for your whole project.</p>\n\n<pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n</code></pre>\n"}], "owner": {"reputation": 1218, "user_id": 9801177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZohj.png?s=128&g=1", "display_name": "Pietro Nadalini", "link": "https://stackoverflow.com/users/9801177/pietro-nadalini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 53418248, "answer_count": 2, "score": 0, "last_activity_date": 1542825972, "creation_date": 1542821530, "question_id": 53417666, "link": "https://stackoverflow.com/questions/53417666/set-viewencapsulation-none-to-every-component", "title": "Set ViewEncapsulation.None to every component", "body": "<p>I don't like how Angular adds a <code>_ngcontent-*</code> in the elements of the HTML page, and since I don't really implement that functionality I remove it adding <code>encapsulation: ViewEncapsulation.None</code> in my component. But since there are a lot of components and there will be more in my project, I was wondering if there's a way to set the encapsulation globally instead of modifying each component.</p>\n\n<p>Here's a <a href=\"https://github.com/sherweb/ngx-materialize/issues/222\" rel=\"nofollow noreferrer\">link</a> to some research I have done and the <a href=\"https://angular.io/api/core/ViewEncapsulation#members\" rel=\"nofollow noreferrer\">angular documentation</a> about the <code>ViewEncapsulation</code> enum.</p>\n"}, {"tags": ["angular", "typescript", "angular2-forms", "angular-reactive-forms", "angular-forms"], "answers": [{"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542822728, "post_id": 53417896, "comment_id": 93710079, "body": "Thanks for your response.. Can you kindly making a working stackblitz with it.. I have tried creating form array inside the html part i have listed but it is saying cannot find control with name <code>template_details</code>.. Please help me out and make stackblitz with i have provided.."}, {"owner": {"reputation": 538, "user_id": 5861930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mJN-p5AFVOo/AAAAAAAAAAI/AAAAAAAAHKs/y0OLn0o9IcE/photo.jpg?sz=128", "display_name": "itay oded", "link": "https://stackoverflow.com/users/5861930/itay-oded"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542826803, "post_id": 53417896, "comment_id": 93711885, "body": "there you go, I updated my question with a working solution...I hope that&#39;s what you meant."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542850665, "post_id": 53417896, "comment_id": 93719934, "body": "No this is not what  i want.. If i select the template one and two then it should be as like the expected output given by me.. And in yours it is replacing the newer one.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1542853071, "post_id": 53417896, "comment_id": 93720424, "body": "It should needs to be a multiple objects inside <code>template_properties</code>.."}], "tags": [], "owner": {"reputation": 538, "user_id": 5861930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mJN-p5AFVOo/AAAAAAAAAAI/AAAAAAAAHKs/y0OLn0o9IcE/photo.jpg?sz=128", "display_name": "itay oded", "link": "https://stackoverflow.com/users/5861930/itay-oded"}, "is_accepted": false, "score": 1, "last_activity_date": 1542826759, "last_edit_date": 1542826759, "creation_date": 1542822578, "answer_id": 53417896, "question_id": 53417645, "link": "https://stackoverflow.com/questions/53417645/group-the-inputs-as-array/53417896#53417896", "title": "Group the inputs as array", "body": "<p>Just create \u201ctemplate_details\u201d as FormArray that has FormGroups that each group has \u201ctenplate_name\u201d FormControl and \u201ctemplate_child\u201d FormArray.</p>\n\n<p>replace your dynamic form component with this:</p>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup, FormArray, FormControl, AbstractControl } from '@angular/forms';\n\nimport { QuestionBase } from './question-base';\nimport { QuestionControlService } from './question-control.service';\n\nimport { QuestionService } from './question.service';\n\n\n@Component({\n  selector: 'app-dynamic-form',\n  templateUrl: './dynamic-form.component.html',\n  providers: [QuestionControlService]\n})\nexport class DynamicFormComponent implements OnInit {\n\n  @Input() questions: QuestionBase&lt;any&gt;[] = [];\n  @Input() questionsPartTwo: QuestionBase&lt;any&gt;[] = [];\n  @Input() questionsPartThree: QuestionBase&lt;any&gt;[] = [];\n  form: FormGroup;\n  formPartTwo: FormGroup;\n  formPartThree: FormGroup;\n  formJoin: FormGroup;\n  formJoin2: FormGroup;\n  payLoad = '';\n  allquestions: QuestionBase&lt;any&gt;[] = [];\n  selectItems: any;\n\n  jsonDataPart1: any = [\n    {\n      \"elementType\": \"textbox\",\n      \"class\": \"col-12 col-md-4 col-sm-12\",\n      \"key\": \"project_name\",\n      \"label\": \"Project Name\",\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"required\": false,\n      \"minlength\": 3,\n      \"maxlength\": 20,\n      \"order\": 1\n    },\n    {\n      \"elementType\": \"textbox\",\n      \"class\": \"col-12 col-md-4 col-sm-12\",\n      \"key\": \"project_desc\",\n      \"label\": \"Project Description\",\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"required\": true,\n      \"order\": 2\n    }\n  ]\n\n  jsonDataPart2: any = [\n    {\n      \"elementType\": \"textbox\",\n      \"class\": \"col-12 col-md-4 col-sm-12\",\n      \"key\": \"property_one\",\n      \"label\": \"Property One\",\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"required\": true,\n      \"order\": 3\n    },\n    {\n      \"elementType\": \"textbox\",\n      \"class\": \"col-12 col-md-4 col-sm-12\",\n      \"key\": \"property_two\",\n      \"label\": \"Property Two\",\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"required\": true,\n      \"order\": 4\n    }\n  ]\n\n  persons = [\n    {\n      key: 1, value: \"Template one\",\n      personOneChild: [\n        { property_name: \"Property one\" },\n        { property_name: \"Property two\" }\n      ]\n    },\n    {\n      key: 2, value: \"Template two\",\n      personTwoChild: [\n        { property_name: \"Property three\" },\n        { property_name: \"Property four\" },\n        { property_name: \"Property five\" }\n      ]\n    },\n    {\n      key: 3, value: \"Template three\",\n      personThreeChild: [\n        { property_name: \"Property six\" },\n        { property_name: \"Property seven\" }\n      ]\n    }\n  ]\n\n  array: any[] = [];\n\n  constructor(private service: QuestionService, private qcs: QuestionControlService) { }\n  ngOnInit() {\n    this.questions = this.service.getQuestions(this.jsonDataPart1)\n    this.form = this.qcs.toFormGroup(this.questions);\n\n    this.questionsPartTwo = this.service.getQuestions(this.jsonDataPart2)\n\n    this.formPartTwo = this.qcs.toFormGroup(this.questionsPartTwo);\n\n    this.formJoin = new FormGroup({ form1: this.form, form2: this.formPartTwo });\n\n\n\n  }\n  changeEvent(e) {\n    this.array = [];\n    for (let select of this.selectItems) {\n      let propertiesArray = [];\n\n      this.array.forEach(element =&gt; {\n        element.templateChild.forEach(data =&gt; {\n          propertiesArray.push(\n            {\n              key: data.property_name.replace(' ',''),\n              label: data.property_name,\n              \"elementType\": \"textbox\",\n              \"type\": \"text\"\n            }\n          )\n        });\n      });\n      let values:any[]=propertiesArray.map(x=&gt;x.key);\n      let element=[{\n        \"elementType\": \"array\",\n        \"key\": \"template_details\",\n        \"value\":values,\n        \"children\":propertiesArray\n      }]\n\n      this.questionsPartThree = this.service.getQuestions(element);\n            console.log(values);\n\n      this.formPartThree = this.buildForm(+select) as AbstractControl;\n      this.formJoin = new FormGroup({ form1: this.form, form2: this.formPartTwo, template_data: this.formPartThree });\n\n    }\n  }\n\n  buildForm(selecteVal: number) {\n    switch (selecteVal) {\n        case 1:\n          return new FormArray([\n            new FormGroup({\n              template_name: new FormControl(\"Template One\"),\n              template_child: new FormArray([\n                new FormGroup({\n                  property_one: new FormControl(\"property one\"),\n                  property_two: new FormControl(\"property two\"),\n                })\n              ]),\n            })\n          ])\n        case 2:\n          return new FormArray([\n            new FormGroup({\n              template_name: new FormControl(\"Template One\"),\n              template_child: new FormArray([\n                new FormGroup({\n                  property_three: new FormControl(\"property three\"),\n                  property_four: new FormControl(\"property four\"),\n                })\n              ]),\n            })\n          ])\n\n          break;\n        case 3:\nreturn new FormArray([\n            new FormGroup({\n              template_name: new FormControl(\"Template One\"),\n              template_child: new FormArray([\n                new FormGroup({\n                  property_five: new FormControl(\"property five\"),\n                  property_six: new FormControl(\"property six\"),\n                })\n              ]),\n            })\n          ])\n          break;\n      }\n  }\n\n  onSubmit() {\n    this.payLoad = JSON.stringify(this.form.value);\n  }\n\n}\n\n\n/*\nCopyright 2017-2018 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n</code></pre>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1542853142, "creation_date": 1542821427, "last_edit_date": 1542853142, "question_id": 53417645, "link": "https://stackoverflow.com/questions/53417645/group-the-inputs-as-array", "title": "Group the inputs as array", "body": "<p>I am making angular application with angular dynamic form.. Here i am making  the form where i have a select box..</p>\n\n<p>On click over the select box i would like to generate the input boxes which needs to be array..</p>\n\n<p>Here even the generation of textboxes doesn't works.. </p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let item of array\"&gt;\n        {{item.value}} is the parent\n  &lt;div *ngFor=\"let child of item.templateChild\"&gt;\n    {{child.property_name}}\n    &lt;input type=\"text\" [value]=\"child.property_name\"&gt;\n        &lt;div *ngFor=\"let partThree of questionsParthree\"&gt;\n            &lt;ng-container&gt;\n            &lt;app-question [question]=\"partThree\" [form]=\"formPartThree\"&gt;&lt;/app-question&gt;\n\n        &lt;/ng-container&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><strong>TS:</strong></p>\n\n<pre><code>  this.questionsPartThree = this.service.getQuestions(element);\n        console.log(values);\n\n  this.formPartThree = this.qcs.toFormGroup(this.questionsPartThree);\n  this.formJoin = new FormGroup({ form1: this.form, form2: this.formPartTwo, template_data: this.formPartThree });\n</code></pre>\n\n<p>Tried with making <code>formArray</code> inside the above listed html but i am getting error as <code>cannot find control name template_properties</code>.</p>\n\n<p>In order to confuse and make unclear question i have reduced the code and everything you will get in demo..</p>\n\n<p>The <strong>working stackblitz:</strong> <a href=\"https://stackblitz.com/edit/angular-x4a5b6-wyqdzn\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-x4a5b6-wyqdzn</a></p>\n\n<p>The current output of form is,</p>\n\n<pre><code>{\n  \"form1\": {\n    \"project_name\": \"\",\n    \"project_desc\": \"\"\n  },\n  \"form2\": {\n    \"property_one\": \"\",\n    \"property_two\": \"\"\n  },\n  \"template_data\": {\n    \"template_details\": [\n      {\n        \"Propertyone\": \"\",\n        \"Propertytwo\": \"\",\n        \"Propertythree\": \"\",\n        \"Propertyfour\": \"\",\n        \"Propertyfive\": \"\"\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>{\n  \"form1\": {\n    \"project_name\": \"\",\n    \"project_desc\": \"\"\n  },\n  \"form2\": {\n    \"property_one\": \"\",\n    \"property_two\": \"\"\n  },\n    \"template_details\" : [\n    { \"template_name\": \"Template One\",\n      \"templateChild\" : [{\"property_one\": \"\", \"property_two\":\"\"}]\n    },\n    { \"template_name\": \"Template Two\",\n      \"templateChild\" : [{\"property_three\": \"\", \"property_four\":\"\", \n                            \"property_five\":\"\"}]\n    }\n    ]\n}\n</code></pre>\n\n<p>If i select multiple options (as select box is multi select), the following is expected to form inside the <code>template_properties</code>.</p>\n\n<p>Form has three parts, kindly don't care about the first and second part.. The select box is related to third part only..</p>\n\n<p><strong>Please refer the expected output above to have a JSON structure of form</strong>.. If i select two then it should not replace the values it should get multiple objects inside array <code>template_properties</code>..</p>\n\n<pre><code>{ \"template_name\": \"Template One\",\n          \"templateChild\" : [{\"property_one\": \"\", \"property_two\":\"\"}]\n        },\n        { \"template_name\": \"Template Two\",\n          \"templateChild\" : [{\"property_three\": \"\", \"property_four\":\"\", \n                                \"property_five\":\"\"}]\n        }\n</code></pre>\n\n<p>Struggling a lot and lot but i am unable to get a right solution.. Any angular person please help me to achieve the expected output from the current output using the <a href=\"https://stackblitz.com/edit/angular-x4a5b6-wyqdzn\" rel=\"nofollow noreferrer\">demo</a> ..</p>\n"}, {"tags": ["typescript", ".d.ts"], "comments": [{"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1542821824, "post_id": 53417333, "comment_id": 93709635, "body": "Since you mention &quot;hovering over&quot;, I suspect this may be an IDE-specific question. Mind telling us what your development environment is?"}, {"owner": {"reputation": 1276, "user_id": 246970, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6fc59d35f04c53851f0b335c8e7263ff?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/246970/dylan"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1542822249, "post_id": 53417333, "comment_id": 93709831, "body": "Updated to state that it was VS Code. Thanks"}], "owner": {"reputation": 1276, "user_id": 246970, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6fc59d35f04c53851f0b335c8e7263ff?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/246970/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1542823351, "creation_date": 1542820335, "last_edit_date": 1542823351, "question_id": 53417333, "link": "https://stackoverflow.com/questions/53417333/typescript-not-getting-any-type-information-from-a-d-ts-file-for-an-existing-js", "title": "Typescript not getting any type information from a d.ts file for an existing js file", "body": "<p>I suspsect that I'm doing something wrong here but if I have the existing file <code>demo.js</code> in a Node app which contains:</p>\n\n<pre><code>var Demo = function () {\n    let self = this;\n    self.sayGoodbye = (x) =&gt; `goodbye ${x}`;\n};\nmodule.exports = new Demo();\n</code></pre>\n\n<p>I would use this in a regular js file with</p>\n\n<pre><code>const demo = require('./demo');\ndemo.sayGoodbye('foo');\n</code></pre>\n\n<p>I've written a d.ts file called <code>demo.d.ts</code> that lives next to <code>demo.js</code></p>\n\n<pre><code>export = Demo\ndeclare class Demo {\n    sayGoodbye(x: string) : string\n}\n</code></pre>\n\n<p>In my new typescript file <code>run.ts</code> I've written the following:</p>\n\n<pre><code>const dem = require('./demo');\nconsole.log(dem.sayGoodbye('foo'));\n</code></pre>\n\n<p>When I hover over the <code>dem</code> variable (in VSCode) the type is listed as <code>any</code> and I get no type information. \nHere is my tsconfig</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"sourceMap\": true,          // allow sourcemap support\n        \"strictNullChecks\": true,   // enable strict null checks as a best practice\n        \"module\": \"commonjs\",            // specify module code generation,\n        \"moduleResolution\": \"Node\",\n        \"target\": \"es2015\",            // specify ECMAScript target version\n        \"allowJs\": true,             // allow a partial TypeScript and JavaScript codebase\n        \"experimentalDecorators\": false,\n        \"types\" : [\"node\"],\n        \"baseUrl\":\".\"\n    },\n    \"include\": [\n        \"./**/*.ts\",\n    ],\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>If anyone could explain where I've gone wrong with d.ts or require statement I'd appreciate it.</p>\n\n<h2>Update:</h2>\n\n<p>I altered the d.ts file to this:</p>\n\n<pre><code>interface Demo {\n    sayGoodbye(x: string) : string\n}\n\ndeclare var demo : Demo\nexport = demo\n</code></pre>\n\n<p>as I figured that the previous one wasn't actually representative of the file. If I understand it correctly the export of the inital one would have been a constructor function instead of an instance.\nIf I now change the import statement in run.js to</p>\n\n<pre><code>import dem = require('./demo');\nconsole.log(dem.sayGoodbye('foo'));\n</code></pre>\n\n<p>and I now get intellisense. Unfortunately the transpiled JS now has the following line:</p>\n\n<pre><code>Object.defineProperty(exports, \"__esModule\", { value: true });\n</code></pre>\n\n<p>It's not a deal breaker to have this present but I'd like to know how I can remove it but keep the require as the import for non-module based code.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "recompose"], "comments": [{"owner": {"reputation": 3207, "user_id": 3367340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRTPJ.png?s=128&g=1", "display_name": "Varit J Patel", "link": "https://stackoverflow.com/users/3367340/varit-j-patel"}, "edited": false, "score": 0, "creation_date": 1542820032, "post_id": 53417030, "comment_id": 93708774, "body": "Add your that <code>setReady</code> where you&#39;re using <code>withFormikHoc</code>"}, {"owner": {"reputation": 2611, "user_id": 6876418, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MVwm9.jpg?s=128&g=1", "display_name": "Emad Dehnavi", "link": "https://stackoverflow.com/users/6876418/emad-dehnavi"}, "reply_to_user": {"reputation": 3207, "user_id": 3367340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRTPJ.png?s=128&g=1", "display_name": "Varit J Patel", "link": "https://stackoverflow.com/users/3367340/varit-j-patel"}, "edited": false, "score": 0, "creation_date": 1542820210, "post_id": 53417030, "comment_id": 93708879, "body": "Already added by adding : WrappedProps"}], "answers": [{"tags": [], "owner": {"reputation": 4574, "user_id": 488212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/DyzvK.jpg?s=128&g=1", "display_name": "Sergio Moura", "link": "https://stackoverflow.com/users/488212/sergio-moura"}, "is_accepted": false, "score": 0, "last_activity_date": 1542832989, "creation_date": 1542832989, "answer_id": 53420191, "question_id": 53417030, "link": "https://stackoverflow.com/questions/53417030/react-recompose-method-created-in-withstateprops-is-not-accessible/53420191#53420191", "title": "React Recompose : Method created in WithStateProps is not accessible", "body": "<p>You're not getting the props properly. Your deconstructor is wrong.</p>\n\n<p>Here is how it should look:</p>\n\n<pre><code>handleSubmit: async (values, { setSubmitting, ...props }) =&gt; {\n</code></pre>\n\n<p>What it means: from your component props, extract <code>setSubmitting</code> into its own variable and put everything else inside a <code>props</code> object.</p>\n\n<p>What you should actually do:</p>\n\n<pre><code>handleSubmit: async (values, { setReady, setSubmitting }) =&gt; {\n  const addressAlreadyVerified = isReady(values.country);\n  if (addressAlreadyVerified) {\n    setReady(true)\n  }\n}\n</code></pre>\n\n<p>This way, you only extract the values that you need from your props, and don't end up with an object full of properties you don't really need.</p>\n\n<p>EDIT</p>\n\n<p>If you want, you can choose NOT to deconstruct anything and your could would end up somewhat like this:</p>\n\n<pre><code>handleSubmit: async (values, props) =&gt; {\n  const addressAlreadyVerified = isReady(values.country);\n  if (addressAlreadyVerified) {\n    props.setReady(true)\n  }\n}\n</code></pre>\n\n<p>I just realized that you're not using <code>setSubmitting</code> at all. You can just remove that if you wish.</p>\n"}, {"tags": [], "owner": {"reputation": 2611, "user_id": 6876418, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MVwm9.jpg?s=128&g=1", "display_name": "Emad Dehnavi", "link": "https://stackoverflow.com/users/6876418/emad-dehnavi"}, "is_accepted": true, "score": 0, "last_activity_date": 1542879617, "creation_date": 1542879617, "answer_id": 53427895, "question_id": 53417030, "link": "https://stackoverflow.com/questions/53417030/react-recompose-method-created-in-withstateprops-is-not-accessible/53427895#53427895", "title": "React Recompose : Method created in WithStateProps is not accessible", "body": "<p>Well, I find the problem, which was my mistake, in my <code>compose</code> I added <code>withFormikHoc</code> before <code>withStateHoc</code> &amp; <code>withIsEligibleStateHoc</code> and that was the reason for the error. After bring them first problem solved.</p>\n"}], "owner": {"reputation": 2611, "user_id": 6876418, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MVwm9.jpg?s=128&g=1", "display_name": "Emad Dehnavi", "link": "https://stackoverflow.com/users/6876418/emad-dehnavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53427895, "answer_count": 2, "score": 0, "last_activity_date": 1542879617, "creation_date": 1542819294, "last_edit_date": 1542824488, "question_id": 53417030, "link": "https://stackoverflow.com/questions/53417030/react-recompose-method-created-in-withstateprops-is-not-accessible", "title": "React Recompose : Method created in WithStateProps is not accessible", "body": "<p>I am using Recompose to define some methods like below : </p>\n\n<pre><code>export interface WithStateProps {\n  isDisabled: boolean;\n  isReady: boolean;\n  setDisabled(value: boolean): void;\n  setReady(value: boolean): void;\n}\n\n\nexport const withStateHoc = withState('isDisabled', 'setDisabled', false);\nexport const withIsEligibleStateHoc = withState(\n  'isReady',\n  'setReady',\n  true\n);\n\nexport const isReady = (value : string) =&gt; {\n  return value ? true : false\n};\n\nexport type WrappedProps = StepContentProps &amp;\n  FormikProps&lt;MyAddress&gt; &amp;\n  InjectedIntlProps &amp; \n  AddressFormHandlers &amp; WithStateProps;\n</code></pre>\n\n<p>When I want to use the <code>setReady</code> method I get this message: <code>props.setReady is not a function</code> Here is my code: </p>\n\n<pre><code>export const withFormikHoc = withFormik&lt;\n  WrappedProps &amp; RouteComponentProps&lt;{}&gt; &amp; InjectedIntlProps &amp; WithStateProps,\n  MyAddress\n&gt;({\n handleSubmit: async (values, { props, setSubmitting }) =&gt; {\n     const addressAlreadyVerified = isReady(values.country);\n     if(addressAlreadyVerified) {\n        props.setReady(true)\n     }\n   }\n})\n</code></pre>\n\n<p>When I hover on <code>props.setReady(true)</code> in VCode, I can see: <code>(method) WithStateProps.setReady(value: boolean): void</code></p>\n\n<p>But I know that <code>props.setReady</code> is not a function!</p>\n\n<p>Does anyone have any idea what I am missing here?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 10567964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a959bd66655e34173f69d5a7f4918298?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai Kiefer", "link": "https://stackoverflow.com/users/10567964/nikolai-kiefer"}, "is_accepted": false, "score": 1, "last_activity_date": 1542820227, "creation_date": 1542820227, "answer_id": 53417302, "question_id": 53416782, "link": "https://stackoverflow.com/questions/53416782/benefit-of-defining-model-class-in-angular2/53417302#53417302", "title": "Benefit of defining model class in angular2+", "body": "<p>Easier debugging would be one thing that comes to mind. You'll then know when your double gets filled with a String. </p>\n"}, {"tags": [], "owner": {"reputation": 2231, "user_id": 3538258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rG3j6.jpg?s=128&g=1", "display_name": "Ron Newcomb", "link": "https://stackoverflow.com/users/3538258/ron-newcomb"}, "is_accepted": true, "score": 2, "last_activity_date": 1542820497, "creation_date": 1542820497, "answer_id": 53417390, "question_id": 53416782, "link": "https://stackoverflow.com/questions/53416782/benefit-of-defining-model-class-in-angular2/53417390#53417390", "title": "Benefit of defining model class in angular2+", "body": "<p>You're effectively asking, \"why use strong typing\" since this isn't Angular specific. </p>\n\n<p>In a word: scalability.  The bigger the program, the greater likelihood of mistakes.  Types narrow down the what could possibly be going wrong. </p>\n"}], "owner": {"reputation": 394, "user_id": 485474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/005b63cc286a17cfd8e607ee84ff4b4b?s=128&d=identicon&r=PG", "display_name": "ghazyy", "link": "https://stackoverflow.com/users/485474/ghazyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 53417390, "answer_count": 2, "score": -2, "last_activity_date": 1542820497, "creation_date": 1542818516, "last_edit_date": 1542818633, "question_id": 53416782, "link": "https://stackoverflow.com/questions/53416782/benefit-of-defining-model-class-in-angular2", "title": "Benefit of defining model class in angular2+", "body": "<p>While creating <strong>service</strong> for my domain i realized i can simply implement service using <strong>any</strong> type like this :</p>\n\n<pre><code>list(): Observable&lt;any&gt; {\n    const url = this.appUrlApi + this.serviceUrlApi;\n    return this.http.get(url, { headers: this.header });\n  }\n\nadd(item: any): Observable&lt;any&gt; {\n    const url = this.appUrlApi + this.serviceUrlApi;\n    return this.http.post(url, item, { headers: this.header });\n  }\n</code></pre>\n\n<p>instead of explicitly mentioning Class like this :</p>\n\n<pre><code>list(): Observable&lt;Car[]&gt; {\nconst url = this.appUrlApi + this.serviceUrlApi;\nreturn this.http.get(url, { headers: this.header });\n  }\n\nadd(item: Car): Observable&lt;any&gt; {\n    const url = this.appUrlApi + this.serviceUrlApi;\n    return this.http.post(url, item, { headers: this.header });\n  }\n</code></pre>\n\n<p>I know the the second one is correct way and better aproach(while in first way we can save time with less file making and no commitment to properties) but what exactly we benefit from defining model classes and it's <strong>properties</strong> in <strong>Angular</strong> ? \nit was supposed to keep Model as simple as it is possible in MVC.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 5882224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XEJ6dJ5Gac8/AAAAAAAAAAI/AAAAAAAAATA/ON0e-MFZB8E/photo.jpg?sz=128", "display_name": "Natalia Guti&#233;rrez", "link": "https://stackoverflow.com/users/5882224/natalia-guti%c3%a9rrez"}, "edited": false, "score": 0, "creation_date": 1542819562, "post_id": 53416855, "comment_id": 93708526, "body": "Oh sorry I forgot to put the imports in the question. The filter import was already added but nothing happens."}], "tags": [], "owner": {"reputation": 146, "user_id": 9371532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84f35d19c662732721ab27f5992b7dd1?s=128&d=identicon&r=PG&f=1", "display_name": "E.Tiake", "link": "https://stackoverflow.com/users/9371532/e-tiake"}, "is_accepted": false, "score": 0, "last_activity_date": 1542818763, "creation_date": 1542818763, "answer_id": 53416855, "question_id": 53416658, "link": "https://stackoverflow.com/questions/53416658/ts-property-filter-does-not-exist-on-type/53416855#53416855", "title": "ts Property &#39;filter&#39; does not exist on type &#39;{}&#39;", "body": "<p>I think you missed some importing.\nFor Rxjs 6 try with:</p>\n\n<pre><code>import { filter } from 'rxjs/operators';\n</code></pre>\n\n<p>For Rxjs 5 try with:</p>\n\n<pre><code>import 'rxjs/add/operator/filter';\n</code></pre>\n\n<p>I suggest you to install an intellisense in your coder. </p>\n"}, {"comments": [{"owner": {"reputation": 70, "user_id": 5882224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XEJ6dJ5Gac8/AAAAAAAAAAI/AAAAAAAAATA/ON0e-MFZB8E/photo.jpg?sz=128", "display_name": "Natalia Guti&#233;rrez", "link": "https://stackoverflow.com/users/5882224/natalia-guti%c3%a9rrez"}, "edited": false, "score": 0, "creation_date": 1542820538, "post_id": 53417265, "comment_id": 93709035, "body": "I don&#39;t know how it happened but this is a typo in the question code (since I edited some texts from original code)"}, {"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "reply_to_user": {"reputation": 70, "user_id": 5882224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XEJ6dJ5Gac8/AAAAAAAAAAI/AAAAAAAAATA/ON0e-MFZB8E/photo.jpg?sz=128", "display_name": "Natalia Guti&#233;rrez", "link": "https://stackoverflow.com/users/5882224/natalia-guti%c3%a9rrez"}, "edited": false, "score": 0, "creation_date": 1542821338, "post_id": 53417265, "comment_id": 93709424, "body": "This is a different error altogether. Have a look at this <a href=\"https://stackoverflow.com/a/53268299/6019563\">stackoverflow.com/a/53268299/6019563</a>"}], "tags": [], "owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1542820101, "creation_date": 1542820101, "answer_id": 53417265, "question_id": 53416658, "link": "https://stackoverflow.com/questions/53416658/ts-property-filter-does-not-exist-on-type/53417265#53417265", "title": "ts Property &#39;filter&#39; does not exist on type &#39;{}&#39;", "body": "<p>You are missing the opening <code>[</code> in matAutocomplete</p>\n"}, {"tags": [], "owner": {"reputation": 1526, "user_id": 7680307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sfapG.jpg?s=128&g=1", "display_name": "Ram Chandra Neupane", "link": "https://stackoverflow.com/users/7680307/ram-chandra-neupane"}, "is_accepted": true, "score": 1, "last_activity_date": 1542869072, "last_edit_date": 1542869072, "creation_date": 1542866141, "answer_id": 53424678, "question_id": 53416658, "link": "https://stackoverflow.com/questions/53416658/ts-property-filter-does-not-exist-on-type/53424678#53424678", "title": "ts Property &#39;filter&#39; does not exist on type &#39;{}&#39;", "body": "<p><strong>Step 1.</strong></p>\n\n<pre><code>ngOnInit() {\n     this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n        startWith(''),\n        map(value =&gt; this._filter(value))\n   );\n}\nprivate _filter(value: any): string[] { const filterValue = value.toLowerCase(); \n//Use the pipe \nreturn this.options.pipe(filter(option =&gt; option.toLowerCase().includes(filterValue)));\n}\n</code></pre>\n\n<p><strong>Step 2.</strong></p>\n\n<p>For the console error</p>\n\n<p>When you use <code>formControl</code> you need to import <code>ReactiveFormsModule</code>\nMake sure you imported <code>ReactiveFormsModule</code> in <code>imports array</code></p>\n\n<pre><code>import {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\n@NgModule({\n imports: [\n   BrowserModule,\n   FormsModule,\n   ReactiveFormsModule,\n   MaterialModule,\n],\n</code></pre>\n\n<p><a href=\"https://material.angular.io/components/autocomplete/overview\" rel=\"nofollow noreferrer\">See the docs here</a></p>\n"}], "owner": {"reputation": 70, "user_id": 5882224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XEJ6dJ5Gac8/AAAAAAAAAAI/AAAAAAAAATA/ON0e-MFZB8E/photo.jpg?sz=128", "display_name": "Natalia Guti&#233;rrez", "link": "https://stackoverflow.com/users/5882224/natalia-guti%c3%a9rrez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5019, "favorite_count": 0, "accepted_answer_id": 53424678, "answer_count": 3, "score": 1, "last_activity_date": 1542869072, "creation_date": 1542818138, "last_edit_date": 1542820555, "question_id": 53416658, "link": "https://stackoverflow.com/questions/53416658/ts-property-filter-does-not-exist-on-type", "title": "ts Property &#39;filter&#39; does not exist on type &#39;{}&#39;", "body": "<p>I'm trying to follow Angular Material guide to create a custom filter for autocomplete input text</p>\n\n<p><a href=\"https://material.angular.io/components/autocomplete/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/components/autocomplete/overview</a></p>\n\n<p>This is what I have</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { TemplateRef } from '@angular/core';\nimport { FormControl } from \"@angular/forms\";\nimport { Observable } from \"rxjs\";\nimport { map, startWith, filter } from 'rxjs/operators';\n\n(...)\n\nexport class AppComponent implements OnInit {\n  title = 'Your Profile';\n  displayedColumns: string[] = ['selected', 'name', 'description', 'pnr'];\n  dataSource = ELEMENT_DATA;\n\n  myControl = new FormControl();\n  options: any[] = ['One', 'Two', 'Three'];\n  filteredOptions: Observable&lt;string[]&gt;;\n\n  ngOnInit() {\n     this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n        startWith(''),\n        map(value =&gt; this._filter(value))\n      );\n  }\n\n  private _filter(value: any): string[] {\n    const filterValue = value.toLowerCase();\n\n    return this.options.filter(option =&gt;   option.toLowerCase().includes(filterValue));\n  }\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-form-field class=\"full-with-field\" hintLabel=\"(or code)\"&gt; \n    &lt;input matInput placeholder=\"RP oficina/Nombre empresa\" [formControl]=\"companyControl\" [matAutocomplete]=\"auto\"&gt;\n    &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt; \n        &lt;mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\"&gt;\n        {{option}} \n        &lt;/mat-option&gt; \n    &lt;/mat-autocomplete&gt; \n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>And I'm having an error in the return sentece, the only error I get is</p>\n\n<pre><code>[ts] Property 'filter' does not exist on type '{}'.\n</code></pre>\n\n<p>As you can see, options is part of an array so I don't know what could happen.</p>\n\n<p>When I'm debugging in Firefox I get the next error message:</p>\n\n<pre><code>Uncaught Error: Template parse errors:\nCan't bind to 'formControl' since it isn't a known property of 'input'. (\"=\"(or code)\"&gt; &lt;input\n                            matInput placeholder=\"RP oficina/Nombre empresa\"\n                            [ERROR -&gt;][formControl]=\"companyControl\" [matAutocomplete]=\"auto\"&gt;\n                        &lt;mat-autocomplete #auto=\"matAutocompl\"): ng:///AppModule/AppComponent.html@26:7\nCan't bind to 'matAutocomplete' since it isn't a known property of 'input'. (\"put\n                            matInput placeholder=\"RP oficina/Nombre empresa\"\n                            [formControl]=\"companyControl\" [ERROR -&gt;][matAutocomplete]=\"auto\"&gt;\n                        &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt; &lt;mat-option\n                            *ngFo\"): ng:///AppModule/AppComponent.html@26:38\nThere is no directive with \"exportAs\" set to \"matAutocomplete\" (\" empresa\"\n                            [formControl]=\"companyControl\" [matAutocomplete]=\"auto\"&gt;\n                        &lt;mat-autocomplete [ERROR -&gt;]#auto=\"matAutocomplete\"&gt; &lt;mat-option\n                            *ngFor=\"let option of filteredOptions | async\" [value]=\"\"): ng:///AppModule/AppComponent.html@27:24\nCan't bind to 'value' since it isn't a known property of 'mat-option'.\n1. If 'mat-option' is an Angular component and it has 'value' input, then verify that it is part of this module.\n2. If 'mat-option' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component. (\"omplete #auto=\"matAutocomplete\"&gt; &lt;mat-option\n                            *ngFor=\"let option of filteredOptions | async\" [ERROR -&gt;][value]=\"option\"&gt;\n                        {{option}} &lt;/mat-option&gt; &lt;/mat-autocomplete&gt; &lt;mat-hint align=\"end\"&gt;Para desc\"): ng:///AppModule/AppComponent.html@28:54\n'mat-option' is not a known element:\n1. If 'mat-option' is an Angular component, then verify that it is part of this module.\n2. If 'mat-option' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"ntrol]=\"companyControl\" [matAutocomplete]=\"auto\"&gt;\n                        &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt; [ERROR -&gt;]&lt;mat-option\n                            *ngFor=\"let option of filteredOptions | async\" [value]=\"option\"&gt;\n                        {{option}\"): ng:///AppModule/AppComponent.html@27:49\n'mat-autocomplete' is not a known element:\n1. If 'mat-autocomplete' is an Angular component, then verify that it is part of this module.\n2. If 'mat-autocomplete' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"\"RP oficina/Nombre empresa\"\n                            [formControl]=\"companyControl\" [matAutocomplete]=\"auto\"&gt;\n                        [ERROR -&gt;]&lt;mat-autocomplete #auto=\"matAutocomplete\"&gt; &lt;mat-option\n                            *ngFor=\"let option of filteredOptions \"): ng:///AppModule/AppComponent.html@27:6\n    at syntaxError (compiler.js:1021)\n    at TemplateParser.push../node_modules/@angular/compiler/fesm5/compiler.js.TemplateParser.parse (compiler.js:14851)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._parseTemplate (compiler.js:24570)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileTemplate (compiler.js:24557)\n    at compiler.js:24500\n    at Set.forEach (&lt;anonymous&gt;)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileComponents (compiler.js:24500)\n    at compiler.js:24410\n    at Object.then (compiler.js:1012)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileModuleAndComponents (compiler.js:24409)\nsyntaxError @ compiler.js:1021\npush../node_modules/@angular/compiler/fesm5/compiler.js.TemplateParser.parse @ compiler.js:14851\npush../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._parseTemplate @ compiler.js:24570\npush../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileTemplate @ compiler.js:24557\n(anonymous) @ compiler.js:24500\npush../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileComponents @ compiler.js:24500\n(anonymous) @ compiler.js:24410\nthen @ compiler.js:1012\npush../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileModuleAndComponents @ compiler.js:24409\npush../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler.compileModuleAsync @ compiler.js:24369\npush../node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js.CompilerImpl.compileModuleAsync @ platform-browser-dynamic.js:143\ncompileNgModuleFactory__PRE_NGCC__ @ core.js:14376\npush../node_modules/@angular/core/fesm5/core.js.PlatformRef.bootstrapModule @ core.js:14559\n./src/main/angular/main.ts @ main.ts:11\n__webpack_require__ @ bootstrap:78\n0 @ main.ts:12\n__webpack_require__ @ bootstrap:78\ncheckDeferredModules @ bootstrap:45\nwebpackJsonpCallback @ bootstrap:32\n(anonymous) @ main.js:1\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1542817037, "post_id": 53416252, "comment_id": 93706964, "body": "<code>{12, AUTOMON}</code> doesn&#39;t make sense. If those are keys, what are the values? If that&#39;s supposed to be an array, you use <code>[...]</code>, not <code>{...}</code>."}], "answers": [{"tags": [], "owner": {"reputation": 358, "user_id": 10557120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d3eb46618a28943ab96a683e74c1f1?s=128&d=identicon&r=PG&f=1", "display_name": "javimovi", "link": "https://stackoverflow.com/users/10557120/javimovi"}, "is_accepted": false, "score": 0, "last_activity_date": 1542817106, "creation_date": 1542817106, "answer_id": 53416337, "question_id": 53416252, "link": "https://stackoverflow.com/questions/53416252/how-to-return-multiple-values-with-the-method-array-from-and-new-set/53416337#53416337", "title": "How to return multiple values with the method array.from and new set", "body": "<p><strong>Try this:</strong></p>\n\n<pre><code>this.data.map((el) =&gt;{ return {age: el.age, company: el.company} })\n\n// You get this array\n//0: {age: 35, company: \"AUTOMON\"}\n//1: {age: 40, company: \"SYNKGEN\"}\n//2: {age: 38, company: \"ETERNIS\"}\n//3: {age: 31, company: \"ETERNIS\"}\n//4: {age: 36, company: \"ETERNIS\"}\n</code></pre>\n\n<blockquote>\n  <p>{12, AUTOMON} doesn't make sense, obj is { key: value, key: value...}</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 0, "creation_date": 1542818070, "post_id": 53416388, "comment_id": 93707638, "body": "This really is a thing of beauty"}, {"owner": {"reputation": 383, "user_id": 4587202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OJrWW.jpg?s=128&g=1", "display_name": "Greg-A", "link": "https://stackoverflow.com/users/4587202/greg-a"}, "edited": false, "score": 0, "creation_date": 1542819049, "post_id": 53416388, "comment_id": 93708219, "body": "Thanks @Nina Scholz for you reply."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 3, "last_activity_date": 1542819051, "last_edit_date": 1542819051, "creation_date": 1542817304, "answer_id": 53416388, "question_id": 53416252, "link": "https://stackoverflow.com/questions/53416252/how-to-return-multiple-values-with-the-method-array-from-and-new-set/53416388#53416388", "title": "How to return multiple values with the method array.from and new set", "body": "<p>You could use a <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">JSON</a> with the wanted data and take then the parsed values as result.</p>\n\n<p>Why a string instead of an object, you may ask. The problem here is every new object with the wanted properties is a new object, and not the same.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\"><code>Set</code></a> works wite a single primitive or object and checks, if an object's reference is the same. By taking a string, the value could be checked and you get unique strings in the set. This required to convert the JSON back to an object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{ _id: \"5bf57b965401169dd81c2a51\", age: 35, name: \"Paige Zamora\", gender: \"female\", company: \"AUTOMON\", reference_id: \"12\" }, { _id: \"5bf57b96c2c3b88adff4b972\", age: 40, name: \"Jennifer Carr\", gender: \"female\", company: \"SYNKGEN\", reference_id: \"11\" }, { _id: \"5bf57b969dd839926db78767\", age: 38, name: \"Weaver Rosales\", gender: \"male\", company: \"ETERNIS\", reference_id: \"10\" }, { _id: \"5bf57b968c845ea691e76c84\", age: 31, name: \"Myers Pickett\", gender: \"male\", company: \"ETERNIS\", reference_id: \"10\" }, { _id: \"5bf57b96998c44eff083d3fa\", age: 36, name: \"Dona Nicholson\", gender: \"female\", company: \"ETERNIS\", reference_id: \"10\" }],\r\n    unique = Array.from(\r\n        new Set(\r\n            data.map(({ reference_id, company }) =&gt;\r\n                JSON.stringify({ reference_id, company }))\r\n        ),\r\n        json =&gt; JSON.parse(json)\r\n    );\r\n    \r\nconsole.log(unique);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 383, "user_id": 4587202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OJrWW.jpg?s=128&g=1", "display_name": "Greg-A", "link": "https://stackoverflow.com/users/4587202/greg-a"}, "edited": false, "score": 1, "creation_date": 1542818999, "post_id": 53416618, "comment_id": 93708195, "body": "Thanks @slider for you reply."}], "tags": [], "owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "is_accepted": true, "score": 1, "last_activity_date": 1542818612, "last_edit_date": 1542818612, "creation_date": 1542818016, "answer_id": 53416618, "question_id": 53416252, "link": "https://stackoverflow.com/questions/53416252/how-to-return-multiple-values-with-the-method-array-from-and-new-set/53416618#53416618", "title": "How to return multiple values with the method array.from and new set", "body": "<p>You can also group them in a <code>Map</code> (ignoring any repetitions and where keys are the string representations of <code>reference_id</code> and <code>company</code>) and return an array from its values:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{\r\n    \"_id\": \"5bf57b965401169dd81c2a51\",\r\n    \"age\": 35,\r\n    \"name\": \"Paige Zamora\",\r\n    \"gender\": \"female\",\r\n    \"company\": \"AUTOMON\",\r\n    \"reference_id\": \"12\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b96c2c3b88adff4b972\",\r\n    \"age\": 40,\r\n    \"name\": \"Jennifer Carr\",\r\n    \"gender\": \"female\",\r\n    \"company\": \"SYNKGEN\",\r\n    \"reference_id\": \"11\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b969dd839926db78767\",\r\n    \"age\": 38,\r\n    \"name\": \"Weaver Rosales\",\r\n    \"gender\": \"male\",\r\n    \"company\": \"ETERNIS\",\r\n    \"reference_id\": \"10\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b968c845ea691e76c84\",\r\n    \"age\": 31,\r\n    \"name\": \"Myers Pickett\",\r\n    \"gender\": \"male\",\r\n    \"company\": \"ETERNIS\",\r\n    \"reference_id\": \"10\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b96998c44eff083d3fa\",\r\n    \"age\": 36,\r\n    \"name\": \"Dona Nicholson\",\r\n    \"gender\": \"female\",\r\n    \"company\": \"ETERNIS\",\r\n    \"reference_id\": \"10\"\r\n  }\r\n];\r\n\r\n\r\nvar res = Array.from(data.reduce((acc, {reference_id, company}) =&gt; {\r\n  acc.set(`${reference_id},${company}`, {reference_id, company});\r\n  return acc;\r\n}, new Map()).values());\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 383, "user_id": 4587202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OJrWW.jpg?s=128&g=1", "display_name": "Greg-A", "link": "https://stackoverflow.com/users/4587202/greg-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53416618, "answer_count": 3, "score": 2, "last_activity_date": 1542819051, "creation_date": 1542816882, "question_id": 53416252, "link": "https://stackoverflow.com/questions/53416252/how-to-return-multiple-values-with-the-method-array-from-and-new-set", "title": "How to return multiple values with the method array.from and new set", "body": "<p>I would like to know if it is possible from an array of objects to retrieve several unique values with the method array.from new set.</p>\n\n<p>For example :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   this.data = [\r\n  {\r\n    \"_id\": \"5bf57b965401169dd81c2a51\",\r\n    \"age\": 35,\r\n    \"name\": \"Paige Zamora\",\r\n    \"gender\": \"female\",\r\n    \"company\": \"AUTOMON\",\r\n    \"reference_id\": \"12\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b96c2c3b88adff4b972\",\r\n    \"age\": 40,\r\n    \"name\": \"Jennifer Carr\",\r\n    \"gender\": \"female\",\r\n    \"company\": \"SYNKGEN\",\r\n    \"reference_id\": \"11\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b969dd839926db78767\",\r\n    \"age\": 38,\r\n    \"name\": \"Weaver Rosales\",\r\n    \"gender\": \"male\",\r\n    \"company\": \"ETERNIS\",\r\n    \"reference_id\": \"10\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b968c845ea691e76c84\",\r\n    \"age\": 31,\r\n    \"name\": \"Myers Pickett\",\r\n    \"gender\": \"male\",\r\n    \"company\": \"ETERNIS\",\r\n    \"reference_id\": \"10\"\r\n  },\r\n  {\r\n    \"_id\": \"5bf57b96998c44eff083d3fa\",\r\n    \"age\": 36,\r\n    \"name\": \"Dona Nicholson\",\r\n    \"gender\": \"female\",\r\n    \"company\": \"ETERNIS\",\r\n    \"reference_id\": \"10\"\r\n  }\r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I would like to retrieve the following unique values: <strong>reference_id</strong> and the <strong>company</strong> associated with the reference_id, which would give this:</p>\n\n<pre><code>[{12, AUTOMON}, {11, SYNKGEN}, {10, ETERNIS}]\n</code></pre>\n\n<p>I thought I would use this method:</p>\n\n<pre><code>const list = Array.from (new Set (this.data.map ({reference_id}) =&gt; reference_id)));\n</code></pre>\n\n<p>what returns :</p>\n\n<pre><code>[12,11,10]\n</code></pre>\n\n<p>I do not know if this method can be used to return multiple values like the list above ?</p>\n"}, {"tags": ["typescript", "recursion", "mapreduce"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1542817155, "creation_date": 1542817155, "answer_id": 53416347, "question_id": 53416184, "link": "https://stackoverflow.com/questions/53416184/map-fails-due-to-undefined-property/53416347#53416347", "title": "Map fails due to undefined property", "body": "<p>The problem is that <code>this</code> in the call  <code>this.logRecursive</code> is <code>undefined</code> on the recursive call. The reason for this is that in Javascript (and by extension Typescript) <code>this</code> is not decided by the function declaration but rather by the caller. So the caller can call a member function with whatever <code>this</code> it wants. </p>\n\n<p>When you pass <code>this.logRecursive</code> to <code>map</code>, <code>map</code> will decide with what <code>this</code> to call <code>logRecursive</code>. <code>map</code> will just not pass any <code>this</code> to your function and thus the error.</p>\n\n<p>The problem can be fixed either by calling <code>this.logRecursive.bind(this)</code> when passing the function to <code>map</code> in order to fix who <code>this</code> is. I do not recommend this in Typescript, as <code>bind</code> is very weakly typed at present (it will soon get better in 3.2 with this <a href=\"https://github.com/Microsoft/TypeScript/pull/27028\" rel=\"nofollow noreferrer\">PR</a>)</p>\n\n<p>Another option is to use an arrow function, which will capture <code>this</code> from declaration context.</p>\n\n<pre><code>interface TreeModel {\n    id: string;\n    children: Array&lt;TreeModel&gt;;\n}\nlet a: TreeModel = {\n    id: \"Adrian\",\n    children: [\n        { id: \"Dan\", children: [] },\n        {\n            id: \"Marian\", children: [  //fails when mapping his children...\n                { id: \"Farcas\", children: [] },\n                { id: \"Liviu\", children: [] }\n            ]\n        }\n    ]\n};\n\nclass Comp {\n    logRecursive(model: TreeModel): number {\n        if (model == null || model == undefined) {\n            console.log(\"null\");\n            return 0;\n        }\n        if (model.children == undefined || model.children.length == 0) {\n            console.log(`${model.id} is leaf`);\n            return 1;\n        }\n\n        console.log(`${model.id} has children:${model.children.reduce((x, y) =&gt; y.id + \",\" + x, \"\")}`);\n        var result = model.children.map(m =&gt; this.logRecursive(m)).reduce((x, y) =&gt; x + y);\n        return result;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542817155, "creation_date": 1542816707, "question_id": 53416184, "link": "https://stackoverflow.com/questions/53416184/map-fails-due-to-undefined-property", "title": "Map fails due to undefined property", "body": "<p>Hello i am enumerating a <code>tree</code> values recursively and while some <code>nodes</code> in the tree are <code>undefined</code> i have placed guards so that it doesn't fail.Even so when <code>map</code>-ing the <code>children</code> nodes i get the error:</p>\n\n<p><strong>Output with Error</strong><br></p>\n\n<pre><code>Adrian has children:Marian,Dan,\nDan is leaf\nMarian has children:Liviu,Farcas,\nt.ngfactory.js? \n    [sm]:1 ERROR TypeError: Cannot read property 'logRecursive' of undefined\n                at push../src/app/pages/tree-view/treeview.component.ts.TreeViewComponent.logRecursive (tree-view.component.ts:29)\n            at Array.map (&lt;anonymous&gt;)\n            at TreeViewComponent.push../src/app/pages/tree-view/tree-view.component.ts.TreeViewComponent.logRecursive (tree-view.component.ts:29)\n            at TreeViewComponent.push../src/app/pages/tree-view/tree-view.component.ts.TreeViewComponent.ngOnInit (tree-view.component.ts:37)\n            at checkAndUpdateDirectiveInline (core.js:18537)\n            at checkAndUpdateNodeInline (core.js:19801)\n            at checkAndUpdateNode (core.js:19763)\n            at debugCheckAndUpdateNode (core.js:20397)\n            at debugCheckDirectivesFn (core.js:20357)\n            at Object.eval [as updateDirectives] (TreeViewComponent_Host.ngfactory.js? [sm]:1)\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code> public logRecursive(model:TreeModel):number{\n    if(model==null || model ==undefined){\n      console.log(\"null\");\n      return 0;\n    }\n    if(model.children ==undefined || model.children.length==0 ){\n      console.log(`${model.id} is leaf`);\n      return 1;\n    }\n\n    console.log(`${model.id} has children:${model.children.reduce((x,y)=&gt;y.id+\",\"+x,\"\")}`);\n    var result= model.children.map(this.logRecursive).reduce((x,y)=&gt;x+y);\n    return result;\n  }\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>export interface TreeModel{\n    id:string;\n    children:Array&lt;TreeModel&gt;;\n}\n</code></pre>\n\n<p><strong>P.S</strong> I Have tried all the possible guard combinations for <code>children</code> being <code>null</code> , <code>undefined</code> or plain <code>length==0</code> and still it doesn't fail at the first level.It fails on the second level (<code>children of 'Marian')</code></p>\n\n<p><strong>Input</strong></p>\n\n<pre><code>let a:TreeModel={\n       id:\"Adrian\",\n       children:[\n         {id:\"Dan\",children:[]},\n         {id:\"Marian\",children:[  //fails when mapping his children...\n           {id:\"Farcas\",children:[]},\n           {id:\"Liviu\",children:[]}\n         ]}\n       ]\n     };\n</code></pre>\n\n<p><strong>Call</strong>\n<code>logRecursive(a);</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1542816585, "post_id": 53416115, "comment_id": 93706667, "body": "Your map callback doesn&#39;t actually <i>return</i> anything. You need to tap or, much better (as it doesn&#39;t have side effects), return a new array from the callback."}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 7311894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806565864976/picture?type=large", "display_name": "Jean-Philippe Dufour", "link": "https://stackoverflow.com/users/7311894/jean-philippe-dufour"}, "edited": false, "score": 0, "creation_date": 1542817491, "post_id": 53416210, "comment_id": 93707252, "body": "Good to know about the automatic return. I forgot about it. I cannot get  map(data =&gt; data.map(d =&gt; d.title = d.title +&quot;Hey&quot;); to work tho. Also thanks for your inputs"}, {"owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "reply_to_user": {"reputation": 121, "user_id": 7311894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806565864976/picture?type=large", "display_name": "Jean-Philippe Dufour", "link": "https://stackoverflow.com/users/7311894/jean-philippe-dufour"}, "edited": false, "score": 0, "creation_date": 1542817575, "post_id": 53416210, "comment_id": 93707317, "body": "@Jean-PhilippeDufour what output do you get ?"}, {"owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "reply_to_user": {"reputation": 121, "user_id": 7311894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806565864976/picture?type=large", "display_name": "Jean-Philippe Dufour", "link": "https://stackoverflow.com/users/7311894/jean-philippe-dufour"}, "edited": false, "score": 0, "creation_date": 1542817684, "post_id": 53416210, "comment_id": 93707378, "body": "@Jean-PhilippeDufour I have fixed it, please check again"}, {"owner": {"reputation": 121, "user_id": 7311894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806565864976/picture?type=large", "display_name": "Jean-Philippe Dufour", "link": "https://stackoverflow.com/users/7311894/jean-philippe-dufour"}, "edited": false, "score": 0, "creation_date": 1542818073, "post_id": 53416210, "comment_id": 93707640, "body": "Works just fine. Thanks. That was a little dumb of me I didn&#39;t even check the correct implementation for the map."}], "tags": [], "owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "is_accepted": true, "score": 7, "last_activity_date": 1542817663, "last_edit_date": 1542817663, "creation_date": 1542816767, "answer_id": 53416210, "question_id": 53416115, "link": "https://stackoverflow.com/questions/53416115/angular-6-httpclient-using-map/53416210#53416210", "title": "Angular 6 HttpClient using Map", "body": "<p><code>map</code> should return something to mutate current property, in your case I guess you should return the <code>data</code></p>\n\n<pre><code>getData(): Observable&lt;any&gt; {\n    return this.http.get(this.postURL).pipe(\n      map(data =&gt; {\n        for (let datas of (data as Array&lt;any&gt;)){\n          datas.title = datas.title + \"Hey\";\n        }\n        return data;\n      }),\n    );\n}\n</code></pre>\n\n<p>by the way you can use <code>Array.prototype</code>'s <code>map</code> instead of <code>for</code> loop too, to mutate your data</p>\n\n<pre><code>getData(): Observable&lt;any&gt; {\n    return this.http.get(this.postURL).pipe(\n      map(data =&gt; data.map(d =&gt; (d.title = d.title +\"Hey\", d));\n      }),\n    );\n }\n</code></pre>\n\n<p>note that if curly braces are missing in arrow function, it will return automatically</p>\n"}], "owner": {"reputation": 121, "user_id": 7311894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806565864976/picture?type=large", "display_name": "Jean-Philippe Dufour", "link": "https://stackoverflow.com/users/7311894/jean-philippe-dufour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5779, "favorite_count": 0, "accepted_answer_id": 53416210, "answer_count": 1, "score": 2, "last_activity_date": 1542817663, "creation_date": 1542816517, "last_edit_date": 1542816609, "question_id": 53416115, "link": "https://stackoverflow.com/questions/53416115/angular-6-httpclient-using-map", "title": "Angular 6 HttpClient using Map", "body": "<p>For learning purposes I am trying to get datas from a json fake API and add \"hey\" to all titles before returning an Observable. So far I can display the data if I don't use Map and even while using map if I console.log my variable it says Observable but it does not display in my template.</p>\n\n<pre><code>&lt;div class=\"col-6\" *ngIf=\"courseDatas$ | async as courses else NoData\"&gt;\n  &lt;div class=\"card\" *ngFor=\"let course of courses\"&gt;\n    &lt;div class=\"card-body\"&gt;\n      &lt;span&gt;&lt;strong&gt;User ID is : &lt;/strong&gt;{{course.userId}}&lt;/span&gt;&lt;br&gt;\n      &lt;span&gt;&lt;strong&gt;Title is : &lt;/strong&gt;{{course.title}}&lt;/span&gt;&lt;br&gt;\n      &lt;span&gt;&lt;strong&gt;Body is : &lt;/strong&gt;{{course.body}}&lt;/span&gt;&lt;br&gt;\n      &lt;span&gt;&lt;strong&gt;ID is : &lt;/strong&gt;{{course.id}}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;ng-template #NoData&gt;No Data Available&lt;/ng-template&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>App component : </p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {PostsService} from \"./posts.service\";\n\nimport {Observable} from \"rxjs\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent implements OnInit {\n  courseDatas$ : Observable&lt;any&gt;;\n\n  constructor(private posts : PostsService){}\n\n\n  ngOnInit(){\n    this.courseDatas$ = this.posts.getData();\n\n  }\n}\n</code></pre>\n\n<p>posts Service : </p>\n\n<pre><code>import { Injectable } from '@angular/core'\nimport {HttpClient} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {map} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PostsService {\n\n  private postURL: string = 'https://jsonplaceholder.typicode.com/posts';\n\n  constructor(private http: HttpClient) {}\n\n  getData(): Observable&lt;any&gt; {\n    return this.http.get(this.postURL).pipe(\n      map(data =&gt; {\n        for (let datas of (data as Array&lt;any&gt;)){\n          datas.title = datas.title + \"Hey\";\n        }\n      }),\n    );\n  }\n</code></pre>\n\n<p>So, if I don't use the map operator in my getData method in my service everything displays properly. If I use the map operator if I console.log coursesDatas$ in App.Component the console says Observable so I don't understand why it does not work with my async pipe in the template. Also, if I use console.log(datas.title) inside my map operator it does log every titles with Hey at the end.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542815489, "post_id": 53415766, "comment_id": 93705982, "body": "after checking conditions here is going some code for configuring proccess - so it&#39;s not sutable using switch in my case"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 1, "creation_date": 1542815640, "post_id": 53415766, "comment_id": 93706081, "body": "@Vadim - I don&#39;t see why not, but in any case, the fundamental point is the same: Assign <code>logger</code> a value on every path. Worst case, assign it <code>undefined</code> where you declare it, but better to structure things so that you get warned when your conditions have a path through them you haven&#39;t handled."}, {"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542816113, "post_id": 53415766, "comment_id": 93706392, "body": "What should I do when I don&#39;t want to have logger is undefined and my code above is never gives a chance a logger to be undefined?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 1, "creation_date": 1542816191, "post_id": 53415766, "comment_id": 93706440, "body": "@Vadim - Throw an error if that&#39;s not a valid configuration for this module. Or if it is, always assign it a <code>Logger</code> (again: possibly one that doesn&#39;t do anything)."}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 2, "creation_date": 1542816741, "post_id": 53415766, "comment_id": 93706760, "body": "Again, this seems like a bad concession to make, every module which imports the logger has to now do an <code>undefined</code> check before using it.  There&#39;s no need to make it possibly undefined, see my answer for a simpler solution without the <code>undefined</code> caveat"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542819064, "post_id": 53415766, "comment_id": 93708229, "body": "@Alex - See the last paragraph, where I raise that very concern. (Edit: Though I just realized I should fold part of a comment I made above into it.)"}, {"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542819326, "post_id": 53415766, "comment_id": 93708392, "body": "if logger is not declared as possible undefined - default section of switch raises error"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542819374, "post_id": 53415766, "comment_id": 93708416, "body": "@Vadim - Right. As I said above, if supporting something other than those two branches isn&#39;t something you want to do in your code, <b>throw an error</b> in the default branch."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542819755, "post_id": 53415766, "comment_id": 93708636, "body": "@Alex - It <i>was</i> the last paragraph <a href=\"https://stackoverflow.com/revisions/53415766/2\">at the time</a>, now I&#39;ve beefed up that entire section. I shouldn&#39;t have taken <i>&quot;...but even if it will be undefined it is suted for me...&quot;</i> at face value."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 1, "creation_date": 1542819824, "post_id": 53415766, "comment_id": 93708668, "body": "@Vadim - I&#39;ve folded my comments above into the answer now."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 13, "last_activity_date": 1542819683, "last_edit_date": 1542819683, "creation_date": 1542815389, "answer_id": 53415766, "question_id": 53415708, "link": "https://stackoverflow.com/questions/53415708/common-pattern-when-variable-is-used-before-being-assigned/53415766#53415766", "title": "Common pattern when variable is used before being assigned", "body": "<blockquote>\n  <p>but even if it will be undefined it is suted for me</p>\n</blockquote>\n\n<p>I would suggest that having <code>logger</code> be <code>undefined</code> is not a good idea (more below), but based on your statement above:</p>\n\n<p>Make that explicit, to the compiler and to maintainers of the code:</p>\n\n<pre><code>switch (process.env.NODE_ENV) {\n    case 'production':\n        const dest = pino.extreme(); // logs to stdout with no args\n        logger = pino(dest);\n        break;\n    case 'development':\n        // @ts-ignore\n        logger = pino({ prettyPrint: { colorize: true } });\n        break;\n    default:\n        logger = undefined; // That's fine\n        break;\n}\n</code></pre>\n\n<p>(Doesn't have to be <code>switch</code>, <code>if</code>/<code>else if</code>/<code>else</code> works too.)</p>\n\n<p>Also note that you'll need to allow <code>logger</code> to have the value <code>undefined</code>, <a href=\"https://stackoverflow.com/a/53415844/157247\">as VinceOPS points out</a>:</p>\n\n<pre><code>let logger: Logger | undefined;\n</code></pre>\n\n<hr>\n\n<p><strong>Note</strong>: This means that anything <em>using</em> <code>logger</code> has to allow for it having the value <code>undefined</code>. I wouldn't do that if I were you. Instead:</p>\n\n<ol>\n<li><p>If you only need to support the two configurations you list, either:</p>\n\n<ol>\n<li><p>Only check for one of them and then assume the other:</p>\n\n<pre><code>if (process.env.NODE_ENV === 'development') {\n    case 'development':\n        // @ts-ignore\n        logger = pino({ prettyPrint: { colorize: true } });\n} else { // production\n        const dest = pino.extreme(); // logs to stdout with no args\n        logger = pino(dest);\n}\n</code></pre>\n\n<p>or</p></li>\n<li><p>Throw an error in the third branch:</p>\n\n<pre><code>switch (process.env.NODE_ENV) {\n    case 'production':\n        const dest = pino.extreme(); // logs to stdout with no args\n        logger = pino(dest);\n        break;\n    case 'development':\n        // @ts-ignore\n        logger = pino({ prettyPrint: { colorize: true } });\n        break;\n    default:\n        throw new Error(\"process.env.NODE_ENV must be either 'production' or 'development' to use this module\");\n}\n</code></pre></li>\n</ol></li>\n<li><p>If you want to support all three possibilities (<code>production</code>, <code>development</code>, or neither), initialize <code>logger</code> to a valid <code>Logger</code> in the third branch as well, perhaps a \"do nothing\" logger.</p></li>\n</ol>\n\n<p>That would be much better than letting <code>logger</code> be <code>undefined</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1542815729, "post_id": 53415844, "comment_id": 93706138, "body": "That solves a different problem than the one the OP asked about (but it&#39;s their <b>next</b> problem :-) )."}, {"owner": {"reputation": 1950, "user_id": 4365807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3axe.jpg?s=128&g=1", "display_name": "VinceOPS", "link": "https://stackoverflow.com/users/4365807/vinceops"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1542815867, "post_id": 53415844, "comment_id": 93706237, "body": "True. But adding an <code>else</code> in the execution paths (or doing a <code>switch&#47;case&#47;default</code>) won&#39;t give any additional hints to <code>tsc</code>, thus, I assume the KISS principle applies here!"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1542816062, "post_id": 53415844, "comment_id": 93706355, "body": "Well, as I said, it&#39;s their <b>next</b> problem. But again doesn&#39;t address <i>this</i> problem, unless you mean doing that will get rid of the error quoted without any other changes...? (Since <code>undefined</code> is the default if there&#39;s no initializer...)"}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542816065, "post_id": 53415844, "comment_id": 93706358, "body": "@VinceOPS - Yes it will.  <code>tsc</code> can follow exhaustive branching logic, he can simply use an if/else instead of two if statements and the compiler would be happy to recognize that <code>logger</code> must have been set."}, {"owner": {"reputation": 1950, "user_id": 4365807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3axe.jpg?s=128&g=1", "display_name": "VinceOPS", "link": "https://stackoverflow.com/users/4365807/vinceops"}, "reply_to_user": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542816216, "post_id": 53415844, "comment_id": 93706452, "body": "@Alex switch with <code>case &#47; case &#47; default</code> is somewhat equivalent to <code>if &#47; else if &#47; else</code>, if the <code>else</code> is only setting to <code>undefined</code>, then this is somewhat equivalent to <code>if &#47; else if</code> with a default assignment. So, nope, no additional hint for <code>tsc</code> in <b>this specific case</b>. @T.J.Crowder You&#39;re right, my bad, forgot about this S.O &quot;guideline&quot; :-)."}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542816669, "post_id": 53415844, "comment_id": 93706714, "body": "I have to disagree with this answer, he now has to unnecessarily deal with it being possibly <code>undefined</code> for every other module which imports it.  That&#39;s a pretty horrible concession to make for your logger, which is going to be used many many times."}, {"owner": {"reputation": 1950, "user_id": 4365807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3axe.jpg?s=128&g=1", "display_name": "VinceOPS", "link": "https://stackoverflow.com/users/4365807/vinceops"}, "edited": false, "score": 1, "creation_date": 1542817613, "post_id": 53415844, "comment_id": 93707332, "body": "You&#39;re making assumptions about the OP&#39;s codebase/business logic, here; my answer concerns <code>tsc</code> &amp; type inference only, and would not change even if <code>logger</code> was called <code>foo</code> and of type <code>Bar</code>. &quot;Other modules&quot; importing it would be informed of its possible <i>undefinedness</i>, and this is where TypeScript becomes really powerful. I do not see the link/issue here. Anyway, I hope one of the proposed solutions will suit the OP! Have a nice day."}], "tags": [], "owner": {"reputation": 1950, "user_id": 4365807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3axe.jpg?s=128&g=1", "display_name": "VinceOPS", "link": "https://stackoverflow.com/users/4365807/vinceops"}, "is_accepted": false, "score": 5, "last_activity_date": 1542815729, "last_edit_date": 1542815729, "creation_date": 1542815614, "answer_id": 53415844, "question_id": 53415708, "link": "https://stackoverflow.com/questions/53415708/common-pattern-when-variable-is-used-before-being-assigned/53415844#53415844", "title": "Common pattern when variable is used before being assigned", "body": "<p>Or simpler, assuming that:</p>\n\n<blockquote>\n  <p>but even if it will be undefined it is suted for me</p>\n</blockquote>\n\n<p>Replace</p>\n\n<pre><code>let logger: Logger;  \n</code></pre>\n\n<p>With</p>\n\n<pre><code>let logger: Logger | undefined;\n</code></pre>\n\n<p>If <code>logger</code> <strong>can be</strong> undefined, then annotate it as <strong>possibly undefined</strong>. Then <code>tsc</code> won't complain anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542816934, "post_id": 53416070, "comment_id": 93706887, "body": "thanks for the sample. But there is a 3 case - when process.env.NODE_ENV is undefined and where to put a rest common code?"}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "reply_to_user": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542817033, "post_id": 53416070, "comment_id": 93706959, "body": "@Vadim, you can make it an if/else if/else similarly.  Are you ever going to leave <code>logger</code> as <code>undefined</code>?  I assume that you <i>always</i> want a logger to be defined, no matter how many variations you have. If you do intend to leave it <code>undefined</code> in some circumstance, then the other answers are correct, your type should reflect that with <code>| undefined</code>"}, {"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542817226, "post_id": 53416070, "comment_id": 93707076, "body": "I need not logger to be undefined. where should I put my code after logger initialization? Repeat it in every case? If I put it after <code>if&#47;else</code> - I have the error !"}, {"owner": {"reputation": 1950, "user_id": 4365807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3axe.jpg?s=128&g=1", "display_name": "VinceOPS", "link": "https://stackoverflow.com/users/4365807/vinceops"}, "edited": false, "score": 0, "creation_date": 1542817460, "post_id": 53416070, "comment_id": 93707221, "body": "<code>development</code> environment ignored? Why <code>logger</code> should necessarily be defined btw?"}, {"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542817677, "post_id": 53416070, "comment_id": 93707372, "body": "I&#39;ve chnge the code in question - have a look please"}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542818127, "post_id": 53416070, "comment_id": 93707673, "body": "@Vadin, I&#39;ve updated my answer to reflect what you&#39;ve described.  In this manner, you&#39;re guaranteeing that <code>logger</code> is defined and the compiler will be happy.  The key difference here is that we&#39;re using a simple if/else to ensure it&#39;s assigned in all cases.  This is the part that makes <code>tsc</code> compile fine.  You can then do other sanity checks, such as the <code>NODE_ENV === undefined</code> check and bail out then, without affecting the compilers decision about the type safety"}, {"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542818666, "post_id": 53416070, "comment_id": 93707983, "body": "Thanks. I&#39;ve caught it but where should I place my process setting code where I am using logger variable? Have a look at the editet code in my question."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1542821654, "post_id": 53416070, "comment_id": 93709548, "body": "Why would someone downvote this answer? I&#39;d handle the <code>if</code>/<code>else</code> differently, but it&#39;s nowhere near a downvote situation. Geez people."}], "tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1542818044, "last_edit_date": 1542818044, "creation_date": 1542816348, "answer_id": 53416070, "question_id": 53415708, "link": "https://stackoverflow.com/questions/53415708/common-pattern-when-variable-is-used-before-being-assigned/53416070#53416070", "title": "Common pattern when variable is used before being assigned", "body": "<p>You don't have to make it also be assignable to <code>undefined</code>, if your branching logic is exhaustive, then the compiler will understand that <code>logger</code> must be assigned.</p>\n\n<p>I'm assuming that you only ever want to support two logging modes, <code>production</code> or else always <code>development</code>, so just make it an if/else and the compiler will be happy</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import pino, { Logger } from 'pino';\n\nlet logger: Logger;\n\nif (process.env.NODE_ENV === 'production') {\n  const dest = pino.extreme(); // logs to stdout with no args\n  logger = pino(dest);\n} else {\n  logger = pino({ prettyPrint: { colorize: true } });\n}\n\nif (process.env.NODE_ENV === undefined) {\n  throw new Error('Logger must be initialized! Set up process.env.NODE_ENV');\n}\n\nexport default logger;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "edited": false, "score": 0, "creation_date": 1542820217, "post_id": 53417100, "comment_id": 93708883, "body": "ts does not understand <code>if&#47;else</code> correctly - only <code>switch&#47;case</code>"}], "tags": [], "owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "is_accepted": false, "score": -2, "last_activity_date": 1542819524, "creation_date": 1542819524, "answer_id": 53417100, "question_id": 53415708, "link": "https://stackoverflow.com/questions/53415708/common-pattern-when-variable-is-used-before-being-assigned/53417100#53417100", "title": "Common pattern when variable is used before being assigned", "body": "<p>Here is the final working code</p>\n\n<pre><code>import pino, { Logger } from 'pino';\n\nlet logger: Logger;\n\nswitch (process.env.NODE_ENV) {\n    case 'development':\n        // @ts-ignore\n        logger = pino({ prettyPrint: { colorize: true } });\n        break;\n    case 'production':\n        const dest = pino.extreme(); // logs to stdout with no args\n        logger = pino(dest);\n        break;\n    default:\n        throw new Error('Logger must be initialized! Set up process.env.NODE_ENV');\n}\n\n// here is the code fo setting up the process with the logger\nsetInterval(() =&gt; logger &amp;&amp; logger.flush(), 10000).unref();\n\nexport default logger;\n</code></pre>\n"}], "owner": {"reputation": 1948, "user_id": 5354939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17cb7225e6eaa3bb41f3fc06357379e?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/5354939/vadim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9853, "favorite_count": 1, "accepted_answer_id": 53415766, "answer_count": 4, "score": 6, "last_activity_date": 1542819683, "creation_date": 1542815147, "last_edit_date": 1542818250, "question_id": 53415708, "link": "https://stackoverflow.com/questions/53415708/common-pattern-when-variable-is-used-before-being-assigned", "title": "Common pattern when variable is used before being assigned", "body": "<p>I have a module</p>\n\n<pre><code>import pino, { Logger } from 'pino';\n\nlet logger: Logger;\n\nif (process.env.NODE_ENV === 'production') {\n    const dest = pino.extreme();\n    logger = pino(dest);\n}\n\nif (process.env.NODE_ENV === 'development') {\n    // @ts-ignore\n    logger = pino({ prettyPrint: { colorize: true } });\n}\n\n...\n\nexport default logger;\n// ^^^ [ts] Variable 'logger' is used before being assigned. [2454]\n</code></pre>\n\n<p>Here is no any situation when logger is undefined, but even if it will be undefined it is suted for me</p>\n\n<p>How to resolve the TypeScript error at the end:</p>\n\n<blockquote>\n  <p>Variable 'logger' is used before being assigned. [2454]</p>\n</blockquote>\n\n<p>I've rewritten my code but the error still here</p>\n\n<pre><code>import pino, { Logger } from 'pino';\n\nlet logger: Logger;\n\nif (process.env.NODE_ENV === 'production') {\n    const dest = pino.extreme();\n    logger = pino(dest);\n} else \n\nif (process.env.NODE_ENV === 'development') {\n    // @ts-ignore\n    logger = pino({ prettyPrint: { colorize: true } });\n} else\n\nif (process.env.NODE_ENV === undefined) {\n    throw new Error('Logger must be initialized! Set up process.env.NODE_ENV');\n}\n\nif (logger) { // &lt;-- Variable 'logger' is used before being assigned. [2454]\n   // configuring process\n}\n\nexport default logger;\n</code></pre>\n\n<p>Even in another way</p>\n\n<pre><code>import pino, { Logger } from 'pino';\n\nlet logger: Logger;\n\nfunction configureProcess(theLogger: Logger) {\n  // setup process with theLogger\n}\n\nif (process.env.NODE_ENV === 'production') {\n    const dest = pino.extreme();\n    logger = pino(dest);\n    configureProcess(logger); // &lt;-- code duplication\n} else if (process.env.NODE_ENV === 'development') {\n    // @ts-ignore\n    logger = pino({ prettyPrint: { colorize: true } });\n    configureProcess(logger); // &lt;-- code duplication\n}\n\nif (process.env.NODE_ENV === undefined) {\n    throw new Error('Logger must be initialized! Set up process.env.NODE_ENV');\n}\n\nexport default logger;\n// ^^^ [ts] Variable 'logger' is used before being assigned. [2454]\n</code></pre>\n\n<p>I feel like a fighter against TypeScrit instead of developer - so many dances to solve a problem which is not a problem in reality (</p>\n"}, {"tags": ["typescript", "visual-studio-code", "automated-tests", "e2e-testing", "testcafe"], "comments": [{"owner": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1542965023, "post_id": 53415501, "comment_id": 93760578, "body": "first workaround to eliminate the differences between browsers: 1. I am maximizing the browser window; 2. instead of selecting an effective option (the normal and logical way) from the combo, I will press the Down Key, which will select the first option... 3. now, without doing anything else, the radioBox is also clicked :)"}, {"owner": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1542979802, "post_id": 53415501, "comment_id": 93768030, "body": "does the post need more details? is it reproducible for someone else except me?"}], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1543215691, "post_id": 53449266, "comment_id": 93822280, "body": "10Q @alex. Will try this out."}, {"owner": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1543228982, "post_id": 53449266, "comment_id": 93828555, "body": "yes, the selection of the radiobox is much faster now. It&#39;s doing it like instant, not waiting anymore after the timeout"}, {"owner": {"reputation": 4930, "user_id": 9994312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2LIza.png?s=128&g=1", "display_name": "Alex Kamaev", "link": "https://stackoverflow.com/users/9994312/alex-kamaev"}, "reply_to_user": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1560784839, "post_id": 53449266, "comment_id": 99840261, "body": "@Eugen, does the issue persist? I wanted to fix it in the context of the <a href=\"https://github.com/DevExpress/testcafe/issues/3150\" rel=\"nofollow noreferrer\">github.com/DevExpress/testcafe/issues/3150</a> ticket. However, it looks like the original web site changed so I cannot reproduce it anymore. If the issue still occurs, could you please provide me with details at <a href=\"https://github.com/DevExpress/testcafe/issues/3150\" rel=\"nofollow noreferrer\">github.com/DevExpress/testcafe/issues/3150</a> ?"}, {"owner": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1560839148, "post_id": 53449266, "comment_id": 99856061, "body": "I haven&#39;t encountered the problem again. As you noticed, the site changed and I can&#39;t find another reproducible scenario for the moment. 10x for asking."}, {"owner": {"reputation": 4930, "user_id": 9994312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2LIza.png?s=128&g=1", "display_name": "Alex Kamaev", "link": "https://stackoverflow.com/users/9994312/alex-kamaev"}, "reply_to_user": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "edited": false, "score": 0, "creation_date": 1560844827, "post_id": 53449266, "comment_id": 99858911, "body": "I&#39;ll close the issue on GitHub if you don&#39;t mind. Please feel free to create a new one if you are able to reproduce it again."}], "tags": [], "owner": {"reputation": 4930, "user_id": 9994312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2LIza.png?s=128&g=1", "display_name": "Alex Kamaev", "link": "https://stackoverflow.com/users/9994312/alex-kamaev"}, "is_accepted": true, "score": 2, "last_activity_date": 1542986640, "creation_date": 1542986640, "answer_id": 53449266, "question_id": 53415501, "link": "https://stackoverflow.com/questions/53415501/testscript-execution-behaves-differently-in-firefox-and-chrome-while-manipulatin/53449266#53449266", "title": "testscript execution behaves differently in Firefox and Chrome while manipulating a &lt;select&gt; element", "body": "<p>I was able to reproduce the first issue. I think this unexpected behavior is somehow connected with the\u00a0information popup. You mentioned that you are maximizing the browser window and it helps. As I see, this\u00a0leads to changes in the render, so the cause of the issue lies here. I think it is a bug so I've created a <a href=\"https://github.com/DevExpress/testcafe/issues/3150\" rel=\"nofollow noreferrer\">bug report</a> in the TestCafe repository. For now, I recommend using the workaround with the maximizing.</p>\n\n<p>As for the second question, I've found that the markup of radio input is complex (inputs are invisible, opacity equals \u00a00), so I recommend you modify your selector in the following manner:</p>\n\n<p><code>const buildingTypeRadioInput = Selector('label[for=\"Einfamilienhaus\"]');</code></p>\n"}], "owner": {"reputation": 735, "user_id": 4377157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000291763378/picture?type=large", "display_name": "Eugen", "link": "https://stackoverflow.com/users/4377157/eugen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 53449266, "answer_count": 1, "score": 2, "last_activity_date": 1542986640, "creation_date": 1542814494, "last_edit_date": 1542980527, "question_id": 53415501, "link": "https://stackoverflow.com/questions/53415501/testscript-execution-behaves-differently-in-firefox-and-chrome-while-manipulatin", "title": "testscript execution behaves differently in Firefox and Chrome while manipulating a &lt;select&gt; element", "body": "<p>I'm facing a weird problem, which I will try to describe in the next rows.<br>\nThank you in advance for your help!</p>\n\n<p><strong>The problem is that in my case, Testcafe behaves differently when running the same test script on different browsers.</strong><br>\n<em>testcafe</em>: 0.23.1<br>\n<em>firefox</em>: 63.0.1<br>\n<em>chrome</em>: 70.0.3538.102<br>\n<em>typescript</em>: 3.1.6</p>\n\n<p>Typescript code from the executed test script:</p>\n\n<pre><code>import { Selector, t } from 'testcafe';\nfixture `stackoverflow`\n.page `https://www.verivox.de/internet-vergleich/internetundtelefon/?Prefix=030&amp;speed=16000#/offer?i=eyJmaWx0ZXIiOltudWxsLDE2MDAwLDEsbnVsbCwiMDMwIiwxLDEsMSxudWxsLDEsMSxudWxsLC0xLG51bGwsbnVsbCwicHJpY2UtYXNjIiwyLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCw2XSwiZGlhbG9nIjpbbnVsbF0sIm9mZmVyQ3JpdGVyaWEiOlsiNjM0ODkyIiwiMTg0ODYiLG51bGwsIjI0IiwzLDIsIjUwMDAwIiwiMTAwMDAiLG51bGwsbnVsbCwxLG51bGwsbnVsbCxudWxsLCIyIiwxLG51bGwsIjAzMCIsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLDEsNixudWxsLG51bGwsbnVsbF19`;\ntest('1', async () =&gt; {\n\nconst acceptCookiesButton = Selector('span.gdpr-vx-consent-bar-button');\nconst showAvailabilityCheckButton = Selector(Selector('a').withAttribute('class', /offer-page-cta/));\nconst contactDataEMailTextInput = Selector('#PersonalData_ContactData_EMail');\nconst confirmationEmailTextInput = Selector('#PersonalData_ContactData_EMailConfirmation');\nconst genderSelect = Selector('select[name=\"PersonalData.AddressData.ConnectionAddress.Gender\"]');\nconst genderSelectOptionGet = genderSelect.find('option');\nconst genderSelectOption = Selector(genderSelectOptionGet);\nconst firstNameTextInput = Selector('#PersonalData_AddressData_ConnectionAddress_FirstName');\nconst nameTextInput = Selector('#PersonalData_AddressData_ConnectionAddress_Name');\nconst zipTextInput = Selector('#PersonalData_AddressData_ConnectionAddress_Zip');\nconst cityTextInput = Selector('#PersonalData_AddressData_ConnectionAddress_City');\nconst buildingTypeRadioInput = Selector('#Einfamilienhaus');\nconst bankInformationTypeRadioInput = Selector('#PersonalData_BankData_BankInformationType_KnrBlz');\nconst bankCodeTextInput = Selector('#PersonalData_BankData_BankCode');\n\nawait t\n    .click(acceptCookiesButton)\n    .click(showAvailabilityCheckButton)\n    .wait(2000)\n    .typeText(contactDataEMailTextInput, 'asd@asd.asd')\n    .typeText(confirmationEmailTextInput, 'asd@asd.asd')\n    .click(genderSelect)\n    .click(genderSelectOption.withText('Herr'))\n    .typeText(firstNameTextInput, 'Test')\n    .typeText(nameTextInput, 'Test')\n    .typeText(zipTextInput, '67112')\n    .click(cityTextInput)\n    .expect(cityTextInput.value).eql('Mutterstadt')\n    .click(buildingTypeRadioInput)\n    .click(bankInformationTypeRadioInput)\n    .wait(2000)\n    .expect(bankCodeTextInput.exists).ok('field not displayed');\n\n});\n</code></pre>\n\n<p>I am using VisualStudio Code to write my code, and I'm executing the test in Firefox browser, with the option -e:  </p>\n\n<blockquote>\n  <p>testcafe firefox .\\stackoverflow.ts -e</p>\n</blockquote>\n\n<p><strong>Question 1:</strong>\nI'm executing the exactly same test script with<br>\n<code>Firefox</code>: everything works, test passes<br>\n<code>Chrome</code>: test fails and I receive the below error:</p>\n\n<pre><code>1) The element that matches the specified selector is not visible.\n\n  Browser: Chrome 70.0.3538 / Windows 10.0.0\n\n     38 |        .click(showAvailabilityCheckButton)\n     39 |        .wait(2000)\n     40 |        .typeText(contactDataEMailTextInput, 'asd@asd.asd')\n     41 |        .typeText(confirmationEmailTextInput, 'asd@asd.asd')\n     42 |        .click(genderSelect)\n   &gt; 43 |        .click(genderSelectOption.withText('Herr'))\n     44 |        .typeText(firstNameTextInput, 'Test')\n     45 |        .typeText(nameTextInput, 'Test')\n     46 |        .typeText(zipTextInput, '67112')\n     47 |        .click(cityTextInput)\n     48 |        .expect(cityTextInput.value).eql('Mutterstadt')\n\n     at Object.&lt;anonymous&gt; (C:\\gco\\gco-e2e-baseline\\src\\playground\\e2etests\\stackoverflow.ts:43:10)\n</code></pre>\n\n<p>In order to avoid this error, I'm doing the next workaround:</p>\n\n<blockquote>\n  <p>.click(genderSelect).click(genderSelect)  </p>\n</blockquote>\n\n<p>and now, running the test script on Chrome browser also returns a pass result. \nWhat is wrong in my code, and why do I encounter this difference in behavior?</p>\n\n<p><strong>Question 2:</strong>\nConsidering I'm using the above workaround (the 2 clicks), executing the test script under Chrome, gets me to the next problem:</p>\n\n<pre><code> Running tests in:\n- Chrome 70.0.3538 / Windows 10.0.0\nstackoverflow\n\u221a 1\n1 passed (34s)\n</code></pre>\n\n<p><strong>Test is passing, even tho not all the code lines are executed...</strong>, because looking at the radio box I'm trying to click and having the browser visible, </p>\n\n<blockquote>\n  <p>.click(buildingTypeRadioInput)</p>\n</blockquote>\n\n<p>the radio box is clearly not clicked, but still the test passes?! \nThere are some other code lines after this line that are not executed\nAs a temporary solution, again I'm doing this:</p>\n\n<blockquote>\n  <p>.click(buildingTypeRadioInput).click(buildingTypeRadioInput)</p>\n</blockquote>\n\n<p>just to make sure that the test does what I want him to do.\nWhat is wrong in my code, and why do I encounter this issue, with returning a pass instead of a fail?</p>\n"}, {"tags": ["typescript", "callback"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1542814382, "post_id": 53415419, "comment_id": 93705279, "body": "Create a &quot;higher-order function&quot;, <code>arr.filter(funcCreator(myId))</code>."}, {"owner": {"reputation": 1464, "user_id": 6608257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2f57a75c3beb518f16aeb4ffd1f8de3?s=128&d=identicon&r=PG&f=1", "display_name": "dmx", "link": "https://stackoverflow.com/users/6608257/dmx"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1542815329, "post_id": 53415419, "comment_id": 93705874, "body": "@jonrsharpe can you please explain a bit more how to do this ?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1542815407, "post_id": 53415419, "comment_id": 93705921, "body": "I&#39;d recommend searching for information about HOFs in JavaScript, there are many existing resources on that."}], "answers": [{"comments": [{"owner": {"reputation": 1464, "user_id": 6608257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2f57a75c3beb518f16aeb4ffd1f8de3?s=128&d=identicon&r=PG&f=1", "display_name": "dmx", "link": "https://stackoverflow.com/users/6608257/dmx"}, "edited": false, "score": 0, "creation_date": 1542816499, "post_id": 53415894, "comment_id": 93706622, "body": "thank for your answer. The issue is that my function is in another file and just imported."}], "tags": [], "owner": {"reputation": 358, "user_id": 10557120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d3eb46618a28943ab96a683e74c1f1?s=128&d=identicon&r=PG&f=1", "display_name": "javimovi", "link": "https://stackoverflow.com/users/10557120/javimovi"}, "is_accepted": false, "score": -1, "last_activity_date": 1542815763, "creation_date": 1542815763, "answer_id": 53415894, "question_id": 53415419, "link": "https://stackoverflow.com/questions/53415419/typescript-passing-additional-parameters-to-callback-function/53415894#53415894", "title": "Typescript: passing additional parameters to callback function", "body": "<p><strong>Try this:</strong></p>\n\n<pre><code>let myId = 1 // for example\nlet arr = [obj1, obj2, obj4, ...];\narr.filter((el, index) =&gt; {\n  if(el.id === myId) return index;\n} )\n</code></pre>\n"}], "owner": {"reputation": 1464, "user_id": 6608257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2f57a75c3beb518f16aeb4ffd1f8de3?s=128&d=identicon&r=PG&f=1", "display_name": "dmx", "link": "https://stackoverflow.com/users/6608257/dmx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542815763, "creation_date": 1542814256, "question_id": 53415419, "link": "https://stackoverflow.com/questions/53415419/typescript-passing-additional-parameters-to-callback-function", "title": "Typescript: passing additional parameters to callback function", "body": "<p>I want to pass a params to a callback function. Here is my function:</p>\n\n<pre><code>    let func = function(el, index){\n    if(el.id === myId) return index;\n    }\n    arr = [obj1, obj2, obj4, ...];\n    arr.filter(func);\n</code></pre>\n\n<p>How can I pass <code>myId</code> to the callback in this case ? thank in advance!</p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "automated-tests", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 1424, "user_id": 4830093, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10205953110178545/picture?type=large", "display_name": "Daniel Turcich", "link": "https://stackoverflow.com/users/4830093/daniel-turcich"}, "is_accepted": true, "score": 1, "last_activity_date": 1542829856, "creation_date": 1542829856, "answer_id": 53419560, "question_id": 53415363, "link": "https://stackoverflow.com/questions/53415363/jest-vue-syntaxerror-unexpected-token/53419560#53419560", "title": "Jest + Vue - SyntaxError: Unexpected token &lt;", "body": "<p>After sleuthing around I <a href=\"https://stackoverflow.com/a/41558029/4830093\">found the answer here</a> </p>\n\n<p><strong>New jest.config.js</strong></p>\n\n<pre><code>module.exports = {\n  preset: 'ts-jest/presets/js-with-ts',\n  testEnvironment: 'node',\n  verbose: true,\n  moduleDirectories: ['node_modules', 'src'],\n  modulePaths: ['&lt;rootDir&gt;/src', '&lt;rootDir&gt;/node_modules'],\n  moduleFileExtensions: ['js', 'ts', 'json', 'node', 'html'],\n  transform: {\n    '^.+\\\\.html$': '&lt;rootDir&gt;/config/htmlLoader.js'\n  },\n  transformIgnorePatterns: ['node_modules/(?!(bootstrap-vue)/)'],\n  testPathIgnorePatterns: [\n    '/build/',\n    '/config/',\n    '/data/',\n    '/dist/',\n    '/node_modules/',\n    '/test/',\n    '/vendor/'\n  ],\n  globals: {\n    'ts-jest': {\n      tsConfig: './src/app/tsconfig.json'\n    },\n    NODE_ENV: 'test'\n  }\n}\n</code></pre>\n\n<p><strong>Note</strong> </p>\n\n<pre><code>transform: {\n    '^.+\\\\.html$': '&lt;rootDir&gt;/config/htmlLoader.js'\n  }, \n\nmoduleFileExtensions: ['js', 'ts', 'json', 'node', 'html'],\n</code></pre>\n\n<p><strong>Html Loader file</strong></p>\n\n<pre><code>const htmlLoader = require('html-loader')\n\nmodule.exports = {\n  process(src, filename, config, options) {\n    return htmlLoader(src)\n  }\n}\n</code></pre>\n\n<p>This seemingly has worked as I'm now getting a new error :)</p>\n"}], "owner": {"reputation": 1424, "user_id": 4830093, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10205953110178545/picture?type=large", "display_name": "Daniel Turcich", "link": "https://stackoverflow.com/users/4830093/daniel-turcich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5659, "favorite_count": 0, "accepted_answer_id": 53419560, "answer_count": 1, "score": 4, "last_activity_date": 1542829856, "creation_date": 1542814134, "question_id": 53415363, "link": "https://stackoverflow.com/questions/53415363/jest-vue-syntaxerror-unexpected-token", "title": "Jest + Vue - SyntaxError: Unexpected token &lt;", "body": "<p>I'm trying to add testing to my Electron + Vue2 application written in TypeScript using ts-Jest/ Jest and Chai. However when I try and run the simple test I wrote to try and make sure Jest is working correctly I'm now running into the issue of Jest seemingly not liking the fact that I'm importing the template of the component I'm testing as can be seen in the Error. When I try and search for things related to this I'm not having much luck and a lot of it points to \"Unexpected token import\" which is a problem I've already fixed. </p>\n\n<p>If anyone has any insight or knowledge on how I can get the test to not freak out over importing HTML that would be amazing because I'm stumped and the documentation doesn't point to anything helpful it seems.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>$ npm run test\n\n&gt; app@1.0.0 test C:\\Users\\daniel\\Desktop\\app\\app\n&gt; jest --detectOpenHandles\n\nFAIL src/app/features/app-window/app-window.component.spec.ts\n  \u25cf Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    This usually means that you are trying to import a file which Jest cannot parse, e.g. it's not plain JavaScript.\n\n    By default, if Jest sees a Babel config, it will use that to transform your files, ignoring \"node_modules\".\n\n    Here's what you can do:\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/en/configuration.html\n\n    Details:\n\n    C:\\Users\\daniel\\Desktop\\app\\app\\src\\app\\features\\app-application-content\\app-application-content.component.html:1\n    ({\"Object.&lt;anonymous&gt;\":function(module,exports,require,__dirname,__filename,global,jest){&lt;webview-component v-if=\"src\"\n                                                                                             ^\n\n    SyntaxError: Unexpected token &lt;\n\n      2 | import Component from 'vue-class-component'\n      3 | import { Prop, Watch } from 'vue-property-decorator'\n    &gt; 4 | import Template from './app-application-content.component.html'\n        | ^\n      5 |\n      6 | import * as qs from 'qs'\n      7 | import { INameValue } from '../../../contracts/Core'\n\n      at ScriptTransformer._transformAndBuildScript (node_modules/jest-runtime/build/script_transformer.js:403:17)\n      at Object.&lt;anonymous&gt; (src/app/features/app-application-content/app-application-content.component.ts:4:1)\n      at Object.&lt;anonymous&gt; (src/app/features/app-content/app-content.component.ts:9:1)\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        12.924s\nRan all test suites.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! app@1.0.0 test: `jest --detectOpenHandles`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the app@1.0.0 test script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\daniel\\AppData\\Roaming\\npm-cache\\_logs\\2018-11-21T14_25_23_427Z-debug.log\n</code></pre>\n\n<p><strong>jest.config.js</strong></p>\n\n<pre><code>module.exports = {\n  preset: 'ts-jest/presets/js-with-ts',\n  testEnvironment: 'node',\n  verbose: true,\n  moduleDirectories: ['node_modules', 'src'],\n  modulePaths: ['&lt;rootDir&gt;/src', '&lt;rootDir&gt;/node_modules'],\n  moduleFileExtensions: ['js', 'ts', 'json', 'node'],\n  transformIgnorePatterns: ['node_modules/(?!(bootstrap-vue)/)'],\n  testPathIgnorePatterns: [\n    '/build/',\n    '/config/',\n    '/data/',\n    '/dist/',\n    '/node_modules/',\n    '/test/',\n    '/vendor/'\n  ],\n  globals: {\n    'ts-jest': {\n      tsConfig: './src/app/tsconfig.json'\n    },\n    NODE_ENV: 'test'\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"outDir\": \"./built/\",\n    \"sourceMap\": true,\n    \"strict\": true,\n    \"moduleResolution\": \"node\",\n    \"target\": \"ES2017\",\n    \"experimentalDecorators\": true,\n    \"noImplicitAny\": false,\n    \"emitDecoratorMetadata\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"es2017\", \"dom\"],\n    \"include\": [\n      \"**/*\",\n      \"../types/**/*\",\n      \"../../node_modules/bootstrap-vue/**/*\",\n      \"../../node_modules/electron/**/*\"\n    ]\n  }\n}\n</code></pre>\n\n<p><strong>app-window.component.spec.ts</strong></p>\n\n<pre><code>import { expect } from 'chai'\nimport 'jest'\nimport { appWindowComponent } from './app-window.component'\n\nconst appWindowComponent = new appWindowComponent()\n\ndescribe('Test: Set Title Function', () =&gt; {\n  it('should set the variable title to the passed variable', () =&gt; {\n    const title = 'this is a test'\n    appWindowComponent.setTitle(title)\n    expect(appWindowComponent.title).to.equal(title)\n  })\n})\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "rxjs", "redux-observable"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 178322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8ece8f5bbe0e3d82f0e67058a6c9e1?s=128&d=identicon&r=PG", "display_name": "Fredrik Norlin", "link": "https://stackoverflow.com/users/178322/fredrik-norlin"}, "edited": false, "score": 0, "creation_date": 1571829562, "post_id": 54279344, "comment_id": 103368473, "body": "Is there a way to solve this without using <code>typesafe-actions</code>?"}, {"owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "reply_to_user": {"reputation": 313, "user_id": 178322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8ece8f5bbe0e3d82f0e67058a6c9e1?s=128&d=identicon&r=PG", "display_name": "Fredrik Norlin", "link": "https://stackoverflow.com/users/178322/fredrik-norlin"}, "edited": false, "score": 1, "creation_date": 1571851499, "post_id": 54279344, "comment_id": 103380418, "body": "The implementation is pretty simple and portable. You could probably copy-paste it to your project if you like. <a href=\"https://github.com/piotrwitek/typesafe-actions/blob/2065bfaad8281c6a8d504f50f34af9c84f61f81a/src/is-of-type.ts#L15-L23\" rel=\"nofollow noreferrer\">github.com/piotrwitek/typesafe-actions/blob/&hellip;</a>"}, {"owner": {"reputation": 313, "user_id": 178322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8ece8f5bbe0e3d82f0e67058a6c9e1?s=128&d=identicon&r=PG", "display_name": "Fredrik Norlin", "link": "https://stackoverflow.com/users/178322/fredrik-norlin"}, "edited": false, "score": 1, "creation_date": 1571914594, "post_id": 54279344, "comment_id": 103401560, "body": "I ended up implementing the <code>typesafe-actions</code> method(s). And I really like it - my actions and reducers are suddenly much &quot;cleaner&quot;."}, {"owner": {"reputation": 181, "user_id": 7470746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uKiA3.jpg?s=128&g=1", "display_name": "George S", "link": "https://stackoverflow.com/users/7470746/george-s"}, "edited": false, "score": 1, "creation_date": 1618244917, "post_id": 54279344, "comment_id": 118538346, "body": "Amazing this saved me after hours upon hours"}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": true, "score": 11, "last_activity_date": 1548007372, "creation_date": 1548007372, "answer_id": 54279344, "question_id": 53415353, "link": "https://stackoverflow.com/questions/53415353/react-redux-observable-typescript-compilation-argument-not-assignable-err/54279344#54279344", "title": "React + Redux-Observable + Typescript - Compilation, Argument Not Assignable Error", "body": "<p>The <code>ofType</code> operator offered by <code>redux-observable</code> is not the best way to discriminate union types. A much better way is to use the <code>isOfType</code> function provided by <a href=\"https://github.com/piotrwitek/typesafe-actions\" rel=\"noreferrer\"><code>typesafe-actions</code></a>.</p>\n\n<pre><code>import { filter } from 'rxjs/operators';\nimport { isOfType } from 'typesafe-actions';\n</code></pre>\n\n<p>First, let's tell TypeScript about the possible actions used in your application. Your action stream should not be defined as <code>ActionsObservable&lt;Action&gt;</code>, but as a stream of <em>your</em> actions: <code>ActionsObservable&lt;LoginActions&gt;</code>.</p>\n\n<pre><code>export const loginUserEpic = (action$: ActionsObservable&lt;LoginActions&gt;) =&gt;\n</code></pre>\n\n<p>Now we can use the <code>isOfType</code> predicate together with the <code>filter</code> operator. Replace this:</p>\n\n<pre><code>ofType&lt;LoginAction&gt;(LoginActionTypes.LOGIN_ACTION)\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>filter(isOfType(LoginActionTypes.LOGIN_ACTION))\n</code></pre>\n\n<p>The action passed down the stream will be correctly recognized as <code>LoginAction</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 734, "user_id": 7514001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-c5JBopS4klo/AAAAAAAAAAI/AAAAAAAAAHY/r5XWXe8GFW8/photo.jpg?sz=128", "display_name": "johnson lai", "link": "https://stackoverflow.com/users/7514001/johnson-lai"}, "is_accepted": false, "score": 2, "last_activity_date": 1577211457, "last_edit_date": 1577211457, "creation_date": 1548153121, "answer_id": 54306270, "question_id": 53415353, "link": "https://stackoverflow.com/questions/53415353/react-redux-observable-typescript-compilation-argument-not-assignable-err/54306270#54306270", "title": "React + Redux-Observable + Typescript - Compilation, Argument Not Assignable Error", "body": "<p>You can checkout <a href=\"https://github.com/piotrwitek/react-redux-typescript-guide\" rel=\"nofollow noreferrer\">https://github.com/piotrwitek/react-redux-typescript-guide</a> for the details below for all the standard way of doing when using React, Redux and Redux-Observable.</p>\n\n<p>I would suggest using  <code>typesafe-actions</code> library to achieve the types.</p>\n\n<p>Some pseudo codes:</p>\n\n<p><strong>Actions</strong></p>\n\n<p>Instead of this</p>\n\n<pre><code>export interface LoginSuccessAction extends Action {\n  type: LoginActionTypes.LOGIN_SUCCESS_ACTION;\n  payload: {\n    loginToken: string;\n  };\n}\n\nexport function loginSuccess(loginToken: string): LoginSuccessAction {\n  return {\n    type: LoginActionTypes.LOGIN_SUCCESS_ACTION,\n    payload: { loginToken },\n  };\n}\n</code></pre>\n\n<p>use <code>typesafe-actions</code>, without interface</p>\n\n<p><code>actions/login/LoginActions.ts</code></p>\n\n<pre><code>import { action } from \"typesafe-actions\"\n\nexport function loginSuccess(loginToken: string) {\n  return action(LoginActionTypes.LOGIN_SUCCESS_ACTION, { loginToken });\n}\n</code></pre>\n\n<p><code>actions/login/LoginActionsModel.ts</code></p>\n\n<pre><code>import * as LoginActions from \"./LoginActions\";\nimport { ActionCreator } from \"typesafe-actions\";\n\nexport type LoginActionCreator = ActionCreator&lt;typeof LoginActions&gt;\n</code></pre>\n\n<p>Then export out All Actions.</p>\n\n<p><code>actions/index.ts</code></p>\n\n<pre><code>import { LoginActionCreator } from \"./login/LoginActionModel\";\n\nexport default type AllActions = LoginActionCreator\n</code></pre>\n\n<p><strong>Epics</strong></p>\n\n<pre><code>import { Epic } from \"redux-observable\";\nimport { isOfType } from \"typesafe-actions\";\nimport { filter } from \"rxjs/operators\";\n</code></pre>\n\n<pre><code>export const loginUserEpic: Epic&lt;AllActions&gt; = (action$) =&gt;\n  action$.pipe(\n    filter(isOfType((LoginActionTypes.LOGIN_ACTION))),\n    switchMap((action: LoginAction) =&gt;\n      ajax({\n        url,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: { email: action.payload.username, password: action.payload.password },\n      }).pipe(\n        map((response: AjaxResponse) =&gt; loginSuccess(response.response.token)),\n        catchError((error: Error) =&gt; of(loginFailed(error))),\n      ),\n    ),\n  );\n</code></pre>\n\n<p>Where the Epics is from <code>redux-observable</code> library, AllActions are the actions that is input and output of the epics.</p>\n\n<p>The types is as follows:</p>\n\n<pre><code>Epic&lt;InputActions, OutputActions, Store&gt;\nEpic&lt;Actions(Input&amp;Output)&gt;\n</code></pre>\n\n<p>In case you want to use store from redux, you need a RootState (from root reducer)</p>\n\n<pre><code>export const someEpic: Epic&lt;AllActions, AllActions, RootState&gt; = (action$, store$) \n=&gt; action$.pipe(\n  filter(isOfType(SOMETYPE)),\n  mergeMap(action =&gt; {\n    const a = store$.value.a;\n    return someActions(a, action.payload.b);\n  })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2162, "user_id": 3796431, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ukRt6.png?s=128&g=1", "display_name": "iamawebgeek", "link": "https://stackoverflow.com/users/3796431/iamawebgeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1548398973, "creation_date": 1548398973, "answer_id": 54360262, "question_id": 53415353, "link": "https://stackoverflow.com/questions/53415353/react-redux-observable-typescript-compilation-argument-not-assignable-err/54360262#54360262", "title": "React + Redux-Observable + Typescript - Compilation, Argument Not Assignable Error", "body": "<p>Typescript gives an error because you have set to <code>ActionsObservable</code> action generic a redux <code>Action</code> that is an interface with form of <code>{ type: string }</code>. So Typescript thinks that all the actions coming will have only type, but you are setting to <code>ofType</code> filtering operator another type of Action, even if it extends redux Action interface Typescript will require <code>bivarianceHack</code> to allow you pass anything that implements that interface. One of the simplest workarounds is to change <code>ActionsObservable&lt;Action&gt;</code> to <code>ActionsObservable&lt;AnyAction&gt;</code>, with <code>AnyAction</code> which is imported from redux.</p>\n"}], "owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5829, "favorite_count": 5, "accepted_answer_id": 54279344, "answer_count": 3, "score": 11, "last_activity_date": 1577211457, "creation_date": 1542814117, "question_id": 53415353, "link": "https://stackoverflow.com/questions/53415353/react-redux-observable-typescript-compilation-argument-not-assignable-err", "title": "React + Redux-Observable + Typescript - Compilation, Argument Not Assignable Error", "body": "<p>I am creating an app using React and Redux-Observable. I am new to this and I am trying to create an epic to execute the user login.</p>\n\n<p>My epic is below:</p>\n\n<pre><code>export const loginUserEpic = (action$: ActionsObservable&lt;Action&gt;) =&gt;\n  action$.pipe(\n    ofType&lt;LoginAction&gt;(LoginActionTypes.LOGIN_ACTION),\n    switchMap((action: LoginAction) =&gt;\n      ajax({\n        url,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: { email: action.payload.username, password: action.payload.password },\n      }).pipe(\n        map((response: AjaxResponse) =&gt; loginSuccess(response.response.token)),\n        catchError((error: Error) =&gt; of(loginFailed(error))),\n      ),\n    ),\n  );\n</code></pre>\n\n<p>The problema is that I am getting a Typescript error on this line: <code>ofType&lt;LoginAction&gt;(LoginActionTypes.LOGIN_ACTION)</code> saying this:</p>\n\n<pre><code>Argument of type '(source: Observable&lt;LoginAction&gt;) =&gt; Observable&lt;LoginAction&gt;' is not assignable to parameter of type 'OperatorFunction&lt;Action&lt;any&gt;, LoginAction&gt;'.\n  Types of parameters 'source' and 'source' are incompatible.\n    Type 'Observable&lt;Action&lt;any&gt;&gt;' is not assignable to type 'Observable&lt;LoginAction&gt;'.\n      Type 'Action&lt;any&gt;' is not assignable to type 'LoginAction'.\n        Property 'payload' is missing in type 'Action&lt;any&gt;'.\n</code></pre>\n\n<p>My actions are here:</p>\n\n<pre><code>export enum LoginActionTypes {\n  LOGIN_ACTION = 'login',\n  LOGIN_SUCCESS_ACTION = 'login-sucesss',\n  LOGIN_FAILED_ACTION = 'login-failed',\n}\n\nexport interface LoginAction extends Action {\n  type: LoginActionTypes.LOGIN_ACTION;\n  payload: {\n    username: string;\n    password: string;\n  };\n}\n\nexport function login(username: string, password: string): LoginAction {\n  return {\n    type: LoginActionTypes.LOGIN_ACTION,\n    payload: { username, password },\n  };\n}\n\nexport interface LoginSuccessAction extends Action {\n  type: LoginActionTypes.LOGIN_SUCCESS_ACTION;\n  payload: {\n    loginToken: string;\n  };\n}\n\nexport function loginSuccess(loginToken: string): LoginSuccessAction {\n  return {\n    type: LoginActionTypes.LOGIN_SUCCESS_ACTION,\n    payload: { loginToken },\n  };\n}\n\nexport interface LoginFailedAction extends Action {\n  type: LoginActionTypes.LOGIN_FAILED_ACTION;\n  payload: {\n    error: Error;\n  };\n}\n\nexport function loginFailed(error: Error): LoginFailedAction {\n  return {\n    type: LoginActionTypes.LOGIN_FAILED_ACTION,\n    payload: { error },\n  };\n}\n\nexport type LoginActions = LoginAction | LoginSuccessAction | LoginFailedAction;\n</code></pre>\n\n<p>How can I fix this without using <code>any</code> types on the Epic?</p>\n"}, {"tags": ["typescript", "promise"], "comments": [{"owner": {"reputation": 367, "user_id": 6593399, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rxxWQpdZDZg/AAAAAAAAAAI/AAAAAAAAMco/dBE3ou3GapQ/photo.jpg?sz=128", "display_name": "Grzesiek Danowski", "link": "https://stackoverflow.com/users/6593399/grzesiek-danowski"}, "edited": false, "score": 0, "creation_date": 1542813411, "post_id": 53415077, "comment_id": 93704717, "body": "I suppose you should create array of promises (by loop) and then wait as all finish using Promise.all() <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "edited": false, "score": 0, "creation_date": 1542814436, "post_id": 53415077, "comment_id": 93705319, "body": "Note that <code>i</code> when the <code>template.instantiateToElement(data.results[i])</code> is executed is the value of <code>i</code> after the loop has completed. You need to wrap the promise manipulation inside another function which has <code>i</code> as a parameter so the callback function sees the value at the time when the callback was created rather than when it was called."}], "answers": [{"tags": [], "owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "is_accepted": true, "score": 0, "last_activity_date": 1542815007, "creation_date": 1542815007, "answer_id": 53415661, "question_id": 53415077, "link": "https://stackoverflow.com/questions/53415077/running-a-loop-of-promises-in-order-and-waiting-for-execution-to-be-complete/53415661#53415661", "title": "Running a loop of promises in order and waiting for execution to be complete", "body": "<p>Your problem is that by the time you call <code>instantiateToElement()</code> the loop using <code>i</code> has completed and the only value for <code>i</code> the code will see is <code>data.results.length</code>.</p>\n\n<p>You should use a function call to bind the required value of <code>i</code>:</p>\n\n<pre><code>const instantiate = (i) =&gt; (_ =&gt; template.instantiateToElement(data.results[i]));\nlet p = Promise.resolve&lt;void&gt;();\nfor (let i = 0; i &lt; data.results.length; i++) {\n    p = p.then(instantiate(i)).then(res =&gt; {\n        console.log('rendering');\n    }));\n}\np.then(_ =&gt; {\n    console.log('done');\n});\n</code></pre>\n\n<p>The call to <code>instantiate(i)</code> happens during the <code>for</code> loop and it creates a function which has <code>i</code> bound in a new closure.</p>\n"}], "owner": {"reputation": 652, "user_id": 3553746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0uqwZ.jpg?s=128&g=1", "display_name": "TamerM", "link": "https://stackoverflow.com/users/3553746/tamerm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53415661, "answer_count": 1, "score": 0, "last_activity_date": 1542815007, "creation_date": 1542813197, "question_id": 53415077, "link": "https://stackoverflow.com/questions/53415077/running-a-loop-of-promises-in-order-and-waiting-for-execution-to-be-complete", "title": "Running a loop of promises in order and waiting for execution to be complete", "body": "<p>I'm trying to run a loop where a <code>promise</code> and its own <code>then</code> are created for each iteration. I want to print 'Done' only when all promises are executed (in order). Whatever I do, 'done' is always executed before the 'rendering's!\nI know this sounds like a duplicate, but nothing is working, maybe adding a <code>promise</code> and a 'then` for each iteration is the problem.</p>\n\n<pre><code>        let p = Promise.resolve&lt;void&gt;()\n        for (let i = 0; i &lt; data.results.length; i++) {\n            p = p.then(_ =&gt; template.instantiateToElement(data.results[i]).then(res =&gt; {\n                console.log('rendering');\n            }));\n        };\n        p.then(_ =&gt; {\n            console.log('done');\n        });\n</code></pre>\n\n<p>** template.instantiateToElement() returns a <code>promise</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "progress-bar", "angular6"], "comments": [{"owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "edited": false, "score": 0, "creation_date": 1542812991, "post_id": 53414936, "comment_id": 93704448, "body": "How does the round-progress component use the current value? What does it do with it? Try adding <code>{{current}}</code> to your template and see if that value updates. If so, the round-progress component most likely simply only reads the current value once."}, {"owner": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "reply_to_user": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "edited": false, "score": 0, "creation_date": 1542813501, "post_id": 53414936, "comment_id": 93704775, "body": "@Arne i put the {{current}} and the value is not update everytime that the percentage is increase but it show at 0 value and 100 value but it doesn&#39;t show 20% or 35%. I don&#39;t know what I have to do to update this  round-progress"}], "answers": [{"comments": [{"owner": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "edited": false, "score": 0, "creation_date": 1542817247, "post_id": 53415375, "comment_id": 93707084, "body": "your solution is not work! :( the value is not update. Now i&#39;m tring to put markForCheck and detectionChanges after subscrive value but they doesn&#39;t work same!"}, {"owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "reply_to_user": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "edited": false, "score": 0, "creation_date": 1542817561, "post_id": 53415375, "comment_id": 93707308, "body": "If you add a <code>tap(value =&gt; console.log(&#39;my new value: &#39;, value)</code> under the scan (second parameter of the pipe), you see the value updating? If you in your template add <code>{{current$ | async}}</code> that value does not update?"}, {"owner": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "edited": false, "score": 0, "creation_date": 1542818204, "post_id": 53415375, "comment_id": 93707715, "body": "yeah in console.log the value is update but in the html isn&#39;t update in correct way!"}, {"owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "reply_to_user": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "edited": false, "score": 0, "creation_date": 1542824217, "post_id": 53415375, "comment_id": 93710715, "body": "I\u2019m really curious what you\u2019ve been up to in that component and what the rest of the code looks like. The async pipe even works when you\u2019d completely disable the angular change detection."}], "tags": [], "owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "is_accepted": false, "score": 1, "last_activity_date": 1542814160, "creation_date": 1542814160, "answer_id": 53415375, "question_id": 53414936, "link": "https://stackoverflow.com/questions/53414936/progress-bar-doesnt-update-angular/53415375#53415375", "title": "progress bar doesn&#39;t update angular", "body": "<p>Since your value does update correctly in your subscription, but not in your template, the change detection fails to register the new value. You could manually trigger change detection, but you shouldn't. </p>\n\n<p>I'd suggest using the <code>async</code> pipe. And thus rewriting your usage to:</p>\n\n<pre><code>&lt;round-progress #progress\n    [current]=\"current$ | async\"\n&lt;/round-progress&gt;\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>this.current$ = this.percentageService.percentage$.pipe(\n  scan((acc = 0, percentage) =&gt; acc + percentage)    \n);\n</code></pre>\n\n<p>As a bonus you don't have to manage your subscription no more. If you locally need the \"current\" for other purposes you could either share the observable (and have to manage subscriptions again) or you could add a tap that sets a local value.</p>\n"}], "owner": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542814160, "creation_date": 1542812766, "question_id": 53414936, "link": "https://stackoverflow.com/questions/53414936/progress-bar-doesnt-update-angular", "title": "progress bar doesn&#39;t update angular", "body": "<p>Suppose I have a component html where there is my html my <a href=\"https://www.npmjs.com/package/angular-svg-round-progressbar\" rel=\"nofollow noreferrer\">progress bar</a></p>\n\n<pre><code> &lt;round-progress #progress\n    [current]=\"current\"\n&lt;/round-progress&gt;\n</code></pre>\n\n<p>Current is the percentage value. In my ts component I do:</p>\n\n<pre><code>    this.percentageSubscription=this.percentageService.percentage$.subscribe((percentage)=&gt;{\n\n          this.current=this.current+percentage;\nconsole.log(this.current);\n\n        });\n</code></pre>\n\n<p>the value that I print is correct. It is increase following another algorithm. The console.log show the correct increame but my percentage value is not increase in the progress bar . Anyone can help me?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1542812241, "post_id": 53414723, "comment_id": 93703965, "body": "I think the problem must be in code you haven&#39;t shown. In the <code>Hello</code> class shown, <code>_isMounted</code> is clearly a data property, not an accessor property."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1542812330, "post_id": 53414723, "comment_id": 93704015, "body": "The <a href=\"http://www.typescriptlang.org/play/index.html#src=class%20Hello%20%7B%0D%0A%20%20%20%20private%20_isMounted%3A%20boolean%3B%0D%0A%0D%0A%20%20%20%20componentDidMount()%20%7B%0D%0A%20%20%20%20%20%20%20%20this._isMounted%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20componentWillUnmount()%20%7B%0D%0A%20%20%20%20%20%20%20%20this._isMounted%20%3D%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">playground</a> is happy with it (removed the React-isms, which shouldn&#39;t matter)."}, {"owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1542813193, "post_id": 53414723, "comment_id": 93704588, "body": "I think _isMounted is a private property of React.Component. Rename it and it should work."}, {"owner": {"reputation": 25885, "user_id": 126998, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e26464827b005a24cb566e53b0313543?s=128&d=identicon&r=PG", "display_name": "Dimitar Christoff", "link": "https://stackoverflow.com/users/126998/dimitar-christoff"}, "edited": false, "score": 1, "creation_date": 1542813438, "post_id": 53414723, "comment_id": 93704738, "body": "or better yet, teardown any async stuff when unmount happens. eg if you have <code>setTimeout</code> / <code>Interval</code>, keep a reference and call <code>clearTimeout</code>. <a href=\"https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\" rel=\"nofollow noreferrer\">reactjs.org/blog/2015/12/16/ismounted-antipattern.html</a>"}, {"owner": {"reputation": 153, "user_id": 9300219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52892fd78a48724d6082a838c22748f2?s=128&d=identicon&r=PG&f=1", "display_name": "sq29", "link": "https://stackoverflow.com/users/9300219/sq29"}, "reply_to_user": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1542813860, "post_id": 53414723, "comment_id": 93704989, "body": "@Stramski Yes it did work when I change the name! Thanks! But why didn&#39;t the private property we define here overwrite the one from React.Component?"}, {"owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1542814923, "post_id": 53414723, "comment_id": 93705630, "body": "You are just declaring the property there. The typecheck is still added inside React.Component. Declaring a setter should work too."}], "answers": [{"tags": [], "owner": {"reputation": 10365, "user_id": 329709, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cco5H.jpg?s=128&g=1", "display_name": "Oyeme", "link": "https://stackoverflow.com/users/329709/oyeme"}, "is_accepted": false, "score": 1, "last_activity_date": 1575909579, "creation_date": 1575909579, "answer_id": 59253126, "question_id": 53414723, "link": "https://stackoverflow.com/questions/53414723/typescript-react-avoid-setstate-on-unmounted-components/59253126#59253126", "title": "TypeScript + React: Avoid setState on unmounted components", "body": "<p>It might be useful for other developers <br>\n<strong>Using getters and setters</strong></p>\n\n<pre><code>class Hello extends React.Component {\n    private isFullyMounted: boolean = false;\n\n    public componentDidMount() {\n        this.isMounted = true;\n    }\n\n    public componentWillUnmount() {\n        this.isMounted = false;\n    }\n\n    public set isMounted(status: boolean) {\n        this.isFullyMounted = status;\n    }\n\n    public get isMounted() {\n        return this.isFullyMounted;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 9300219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52892fd78a48724d6082a838c22748f2?s=128&d=identicon&r=PG&f=1", "display_name": "sq29", "link": "https://stackoverflow.com/users/9300219/sq29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575909579, "creation_date": 1542812032, "last_edit_date": 1542813905, "question_id": 53414723, "link": "https://stackoverflow.com/questions/53414723/typescript-react-avoid-setstate-on-unmounted-components", "title": "TypeScript + React: Avoid setState on unmounted components", "body": "<p>I know that a common pattern of avoiding calling <code>.setState()</code> on an unmounted component is by adding a private property such as <code>_isMounted</code> to keep track of it, as mentioned in a <a href=\"https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\" rel=\"nofollow noreferrer\">blog</a>. </p>\n\n<p>I've been using this method like this:</p>\n\n<pre><code>class Hello extends React.PureComponent{\n_isMounted = false;\n\nconstructor(props) {\n    super(props);\n    this.state = {\n        // ...\n    };\n}\n\ncomponentDidMount() {\n    this._isMounted = true;\n}\n\ncomponentWillUnmount() {\n    this._isMounted = false;\n}\n// ...\n}\n</code></pre>\n\n<p>Everything was fine until I started to use TypeScript. I tried to do this in the same way:</p>\n\n<pre><code>class Hello extends React.PureComponent&lt;Props, State&gt; {\nprivate _isMounted: boolean;\n\nconstructor(props: Props) {\n    super(props);\n    this.state = {\n        // ...\n    };\n}\n\ncomponentDidMount() {\n    this._isMounted = true;\n}\n\ncomponentWillUnmount() {\n    this._isMounted = false;\n}\n}\n</code></pre>\n\n<p>But then it always throws a type error:</p>\n\n<pre><code>TypeError: Cannot set property _isMounted of #&lt;Component&gt; which has only a getter\n</code></pre>\n\n<p>For now, the only solution I know is to explicitly write a setter for it. But I don't really understand if this is the expected way to do it. Doesn't TypeScript generate getter and setter automatically?</p>\n\n<p>Updated:<br>\nA codesandbox example: <a href=\"https://codesandbox.io/s/l59wnqy5zz\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/l59wnqy5zz</a></p>\n"}, {"tags": ["angular", "typescript", "webpack", "rxjs", "angular7"], "comments": [{"owner": {"reputation": 11, "user_id": 10686389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hHIUdMU6ML4/AAAAAAAAAAI/AAAAAAAAAIY/_Evn2SWxVHo/photo.jpg?sz=128", "display_name": "Adam Goodnight", "link": "https://stackoverflow.com/users/10686389/adam-goodnight"}, "edited": false, "score": 0, "creation_date": 1543342594, "post_id": 53414653, "comment_id": 93881190, "body": "At the time of this post the issue was RXJS 6.3.3 does not seem to play well with Angular. I had to downgrade for now to 6.2.2. This solved my issue."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10686389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hHIUdMU6ML4/AAAAAAAAAAI/AAAAAAAAAIY/_Evn2SWxVHo/photo.jpg?sz=128", "display_name": "Adam Goodnight", "link": "https://stackoverflow.com/users/10686389/adam-goodnight"}, "is_accepted": false, "score": 1, "last_activity_date": 1543342712, "creation_date": 1543342712, "answer_id": 53505828, "question_id": 53414653, "link": "https://stackoverflow.com/questions/53414653/angular-7-platform-browser-dynamic-intermediate-value-share-is-not-a-function/53505828#53505828", "title": "Angular 7 Platform-Browser-Dynamic (intermediate value).share is not a function", "body": "<p>At the time of this post the issue was RXJS 6.3.3 does not seem to play well with Angular. I had to downgrade for now to 6.2.2. This solved my issue.</p>\n\n<pre><code> \"dependencies\": {\n   ...\n   \"rxjs\": \"6.2.2\",\n   \"rxjs-compat\": \"6.2.2\",\n   ...\n }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10686389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hHIUdMU6ML4/AAAAAAAAAAI/AAAAAAAAAIY/_Evn2SWxVHo/photo.jpg?sz=128", "display_name": "Adam Goodnight", "link": "https://stackoverflow.com/users/10686389/adam-goodnight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543934176, "creation_date": 1542811821, "last_edit_date": 1543934176, "question_id": 53414653, "link": "https://stackoverflow.com/questions/53414653/angular-7-platform-browser-dynamic-intermediate-value-share-is-not-a-function", "title": "Angular 7 Platform-Browser-Dynamic (intermediate value).share is not a function", "body": "<p>I have been updating our Angular 5 build to 7 and after installing webpack 4, rxjs 6.3.3 and angular 7.0.3 as well as taking care of dependencies I have gotten the bundle to compile. However this hard to trace error is occurring when it tries to bind the app component to it's selector.</p>\n\n<p><code>t_Host.ngfactory.js? [sm]:1 ERROR TypeError: (intermediate value).share is not a function  at new t (platform-browser-dynamic.js:314)</code></p>\n\n<p>Here is my main.ts file ( the file that bootstraps my component ) :</p>\n\n<pre><code>import { tap, mapTo, share } from 'rxjs/operators';\nimport { platformBrowserDynamic } from '@angular/platform- \nbrowser-dynamic';\n\nimport { AppModule } from './app.module';\n\nconst platform = platformBrowserDynamic();\nplatform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>Here is my vendor.ts file:</p>\n\n<pre><code>import '@angular/platform-browser';\nimport '@angular/platform-browser-dynamic';\nimport '@angular/core';\nimport '@angular/common';\nimport '@angular/forms';\nimport '@angular/http';\nimport '@angular/router';\nimport '@ng-bootstrap/ng-bootstrap';\nimport 'ngx-scrollspy';\n\nimport 'rxjs/operators/map';\nimport 'rxjs/operators/mergeMap';\nimport 'rxjs/operators/share';\n</code></pre>\n\n<p>Here are the generated head script imports (seems like the proper order):</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"0.chunk.js\" defer&gt; &lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"polyfills.bundle.js\" defer&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"vendor.bundle.js\" defer&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"main.bundle.js\" defer&gt;&lt;/script&gt;&lt;/head&gt;\n</code></pre>\n\n<p>and finally here are the relevant parts of the package.json:</p>\n\n<pre><code>\"dependencies\": {\n...\n\"@angular/animations\": \"7.0.4\",\n\"@angular/cli\": \"7.0.6\",\n\"@angular/common\": \"7.0.4\",\n\"@angular/compiler\": \"7.0.4\",\n\"@angular/core\": \"7.0.4\",\n\"@angular/forms\": \"7.0.4\",\n\"@angular/http\": \"7.0.4\",\n\"@angular/platform-browser\": \"7.0.4\",\n\"@angular/platform-browser-dynamic\": \"7.0.4\",\n\"@angular/platform-server\": \"7.0.4\",\n\"@angular/router\": \"7.0.4\",\n\"@angular/upgrade\": \"7.0.4\",\n...\n\"rxjs\": \"6.3.3\",\n\"rxjs-compat\": \"6.3.3\",\n...\n\"devDependencies\": {\n...\n\"@ngtools/webpack\": \"7.0.6\",\n\"awesome-typescript-loader\": \"5.2.1\",\n...\n\"typescript\": \"3.1.1\",\n\"webpack\": \"4.26.0\",\n\"webpack-cli\": \"3.1.2\",\n\"webpack-dev-middleware\": \"3.4.0\",\n\"webpack-dev-server\": \"3.1.10\",\n\"webpack-md5-hash\": \"0.0.5\",\n\"webpack-merge\": \"1.0.1\"\n...\n}\n</code></pre>\n\n<p>Update: I have tried using the rxjs linter found here: <a href=\"https://github.com/ReactiveX/rxjs-tslint\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs-tslint</a> and it results in 'Cannot find any possible migrations'. So I assume I migrated properly.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "angular6"], "comments": [{"owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 4, "creation_date": 1542811750, "post_id": 53414563, "comment_id": 93703643, "body": "provide a name for your class as the error suggests. <code>export class MyClassNameHere</code>"}, {"owner": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "reply_to_user": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 0, "creation_date": 1542812843, "post_id": 53414563, "comment_id": 93704342, "body": "am now getting this kind of error &quot;The name of the class AddOurAnnouncementsPage should end with the suffix Directive&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542813420, "post_id": 53415084, "comment_id": 93704723, "body": "thank you, i just added a name into the class, and now it has brought and error &quot;The name of the class AddOurAnnouncementsPage should end with the suffix Directive&quot;"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "reply_to_user": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542813820, "post_id": 53415084, "comment_id": 93704971, "body": "Yes your class name should have <code>Directive</code> attached to it. Normally your class name should end with the type of class. For ex: <b>a component class should have a name: <code>MyButtonComponent</code> , A directive should be <code>AddOurAnnouncementsDirective</code> and so on.</b>"}, {"owner": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542814181, "post_id": 53415084, "comment_id": 93705158, "body": "yes i just added the directive to the name, now its alerting me &quot;The selector of the directive &quot;AddOurAnnouncementsPageDirective&quot; should have prefix &quot;app&quot; &quot;"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "reply_to_user": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542814409, "post_id": 53415084, "comment_id": 93705298, "body": "Yes, These are your ts-lint rules defined in tslint.json. You can add &quot;app&quot; to selector EX: <code>selector: &#39;app-ion-textarea[autosize]&#39;</code> or chose to disable the same by removing or modifying this rule in the tslint.json. It&#39;s a standard to have directive selectors use app, you can add any other value to it as well. For Ex: <code>&quot;directive-selector&quot;: [       true,       &quot;attribute&quot;,       [&quot;myapp&quot;, &quot;myname&quot;],       &quot;camelCase&quot;     ],     &quot;component-selector&quot;: [       true,       &quot;element&quot;,       [&quot;myapp&quot;, &quot;myname&quot;],       &quot;kebab-case&quot;     ],</code>"}, {"owner": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542814926, "post_id": 53415084, "comment_id": 93705631, "body": "thank you for the continuos feedback nkuma_12, i have tried both and no change to the error"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "reply_to_user": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542815268, "post_id": 53415084, "comment_id": 93705827, "body": "try using ` [appAutosize] ` as your selector for directive.  Selectors in Angular don&#39;t support combinators: - descendant selector (space) - child selector (&gt;) - adjacent sibling selector (+) - general sibling selector (~)"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "reply_to_user": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "edited": false, "score": 0, "creation_date": 1542815633, "post_id": 53415084, "comment_id": 93706074, "body": "Declare Directive as one of the following: check here: <a href=\"https://angular.io/api/core/Directive#selector\" rel=\"nofollow noreferrer\">angular.io/api/core/Directive#selector</a>  element-name: Select by element name. .class: Select by class name. [attribute]: Select by attribute name. [attribute=value]: Select by attribute name and value. :not(sub_selector): Select only if the element does not match the sub_selector. selector1, selector2: Select if either selector1 or selector2 matches."}], "tags": [], "owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "is_accepted": true, "score": 1, "last_activity_date": 1542813211, "creation_date": 1542813211, "answer_id": 53415084, "question_id": 53414563, "link": "https://stackoverflow.com/questions/53414563/angular-6-a-class-declaration-without-the-default-modifier-must-have-a-name/53415084#53415084", "title": "angular 6: A class declaration without the &#39;default&#39; modifier must have a name", "body": "<p><strong>Your class doesn't have a name.</strong>\nEx:</p>\n\n<pre><code>@Directive({\n         selector: 'ion-textarea[autosize]' // Attribute selector,\n     })\n\n\n export class TextAreaDirective {\n\n     constructor() {\n}\n</code></pre>\n\n<p>Please look at <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">how classes are defined in Typescript:</a> </p>\n\n<p>Also look at <a href=\"https://angular.io/guide/styleguide\" rel=\"nofollow noreferrer\">Angular style guide</a> for coding norms.</p>\n\n<blockquote>\n  <p>Do use consistent type names for all components following a pattern that describes the component's feature then its type. A recommended pattern is feature.type.ts.</p>\n  \n  <p><strong>Do use conventional type names including .service, .component, .pipe,\n  .module, and .directive.</strong> Invent additional type names if you must but\n  take care not to create too many.</p>\n  \n  <p>Why? Type names provide a consistent way to quickly identify what is\n  in the file.</p>\n  \n  <p>Why? Type names make it easy to find a specific file type using an\n  editor or IDE's fuzzy search techniques.</p>\n  \n  <p>Why? Unabbreviated type names such as .service are descriptive and\n  unambiguous. Abbreviations such as .srv, .svc, and .serv can be\n  confusing.</p>\n</blockquote>\n"}], "owner": {"reputation": 63, "user_id": 10629082, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AQf1GZJTG_c/AAAAAAAAAAI/AAAAAAAAACg/fJMV7hKi6ew/photo.jpg?sz=128", "display_name": "James Macharia", "link": "https://stackoverflow.com/users/10629082/james-macharia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "closed_date": 1542821868, "accepted_answer_id": 53415084, "answer_count": 1, "score": -1, "last_activity_date": 1542813211, "creation_date": 1542811534, "last_edit_date": 1542811572, "question_id": 53414563, "link": "https://stackoverflow.com/questions/53414563/angular-6-a-class-declaration-without-the-default-modifier-must-have-a-name", "closed_reason": "Not suitable for this site", "title": "angular 6: A class declaration without the &#39;default&#39; modifier must have a name", "body": "<p>I am getting this kind of error in my <code>ts.file</code>, what could be the reason in which I am just starting to learn the angular/ionic world. </p>\n\n<hr>\n\n<p>I have tried various ways to clear it but no luck.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, NavParams } from '@ionic/angular';\nimport {Announcements} from '../../../environments/environment';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport { take } from 'rxjs/operators';\nimport { Directive, HostListener, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'app-add-our-announcements',\n  templateUrl: './add-our-announcements.page.html',\n  styleUrls: ['./add-our-announcements.page.scss'],\n})\n@Directive({\n  selector: 'ion-textarea[autosize]' // Attribute selector,\n})\nexport class {\n\n    constructor(\n      private afauth: AngularFireAuth,\n      private afDatabase: AngularFireDatabase,\n      public navCtrl: NavController,\n      public navParams: NavParams,\n      public element: ElementRef) {\n    }\n\n   announcements = {} as Announcements;\n\n  @HostListener('document:keydown.enter', ['$event']) onKeydownHandler() {\n    this.adjust();\n  }\n\n  AfterViewInit() {\n      this.adjust();\n    }\n\n    adjust(): void {\n      const textArea = this.element.nativeElement.getElementsByTagName('textarea')[0];\n      textArea.style.overflow = 'hidden';\n      textArea.style.height = 'auto';\n      textArea.style.height = (textArea.scrollHeight + 42) + 'px';\n    }\n\n\n\n        createAnnouncements() {\n            this.afauth.authState.pipe(take(1)).subscribe(() =&gt; {\n              this.afDatabase.list(`announcements`).push(this.announcements)\n                .then(() =&gt; this.navCtrl.navigateForward('ListOfOurAnnouncementsPage'));\n            });\n        }\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "regex", "string", "typescript"], "comments": [{"owner": {"reputation": 944, "user_id": 3229805, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbf06230e9e11eb81a4f829371669d55?s=128&d=identicon&r=PG&f=1", "display_name": "Chax", "link": "https://stackoverflow.com/users/3229805/chax"}, "edited": false, "score": 0, "creation_date": 1542811960, "post_id": 53414548, "comment_id": 93703776, "body": "You could use this as a regex ` and | or | \\s*` although this select all subsequent spaces"}, {"owner": {"reputation": 21, "user_id": 10473725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mu89u5tpXFY/AAAAAAAAAAI/AAAAAAAAADY/g67Z8AKumEg/photo.jpg?sz=128", "display_name": "Valentina Carrington", "link": "https://stackoverflow.com/users/10473725/valentina-carrington"}, "reply_to_user": {"reputation": 944, "user_id": 3229805, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbf06230e9e11eb81a4f829371669d55?s=128&d=identicon&r=PG&f=1", "display_name": "Chax", "link": "https://stackoverflow.com/users/3229805/chax"}, "edited": false, "score": 1, "creation_date": 1542813719, "post_id": 53414548, "comment_id": 93704909, "body": "Thank you for your answer. This worked:  const value = new RegExp(searchVal.toLowerCase().replace(/ and | or |\\s+/g, &#39;|&#39;));"}, {"owner": {"reputation": 944, "user_id": 3229805, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbf06230e9e11eb81a4f829371669d55?s=128&d=identicon&r=PG&f=1", "display_name": "Chax", "link": "https://stackoverflow.com/users/3229805/chax"}, "edited": false, "score": 0, "creation_date": 1542819171, "post_id": 53414548, "comment_id": 93708287, "body": "My pleasure. Have fun on SO."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10473725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mu89u5tpXFY/AAAAAAAAAAI/AAAAAAAAADY/g67Z8AKumEg/photo.jpg?sz=128", "display_name": "Valentina Carrington", "link": "https://stackoverflow.com/users/10473725/valentina-carrington"}, "edited": false, "score": 1, "creation_date": 1542813568, "post_id": 53414849, "comment_id": 93704815, "body": "Thank you so much. That worked. I guess the order matters. When I had \\s+ at the begging of regex, it didn&#39;t give me the results I was expecting."}], "tags": [], "owner": {"reputation": 2243, "user_id": 9399978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2731a894382cd77c97dc615dbbb2dac1?s=128&d=identicon&r=PG", "display_name": "Pushkin", "link": "https://stackoverflow.com/users/9399978/pushkin"}, "is_accepted": false, "score": 5, "last_activity_date": 1542812844, "last_edit_date": 1542812844, "creation_date": 1542812462, "answer_id": 53414849, "question_id": 53414548, "link": "https://stackoverflow.com/questions/53414548/replace-string-by-3-patterns-space-and-or/53414849#53414849", "title": "Replace string by 3 patterns &quot;space&quot;, &quot;and&quot;, &quot;or&quot;", "body": "<p>Use \\s+ at the end of regex</p>\n\n<p><strong>Mistake 1:</strong> You used \\S for space instead of \\s.</p>\n\n<blockquote>\n  <p>\\S Matches a character other than white space. Equivalent to [^ \\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]. </p>\n</blockquote>\n\n<p><strong>Mistake 2:</strong> You used \\s at the beginning of regex</p>\n\n<pre><code>const value = new RegExp(searchValue.toLowerCase().replace(/ and | or |\\s+/g, '|'));\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let searchValue = \"apple and pear or corn banana\"\r\nconst value = new RegExp(searchValue.toLowerCase().replace(/ and | or |\\s+/g, '|'));\r\n\r\nconsole.log(value)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 10473725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mu89u5tpXFY/AAAAAAAAAAI/AAAAAAAAADY/g67Z8AKumEg/photo.jpg?sz=128", "display_name": "Valentina Carrington", "link": "https://stackoverflow.com/users/10473725/valentina-carrington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542812844, "creation_date": 1542811504, "last_edit_date": 1542812292, "question_id": 53414548, "link": "https://stackoverflow.com/questions/53414548/replace-string-by-3-patterns-space-and-or", "title": "Replace string by 3 patterns &quot;space&quot;, &quot;and&quot;, &quot;or&quot;", "body": "<p>I am working on a project in Angular 6 and I need to replace a string by 3 patterns, \"space\", \"and\", and \"or\" by using replace method with regular expression. I am able to do it with \"and\" and \"or\", but not by adding \"space\". The user would enter words in the searchbox separated by any of the 3 patterns. </p>\n\n<p>This works:</p>\n\n<pre><code>const value = new RegExp(searchValue.toLowerCase().replace(/ and | or /g, '|'));\n\n// Input: apple and pear or corn\n// Output: /apple|pear|corn/\n</code></pre>\n\n<p>This doesn't work:</p>\n\n<pre><code>const value = new RegExp(searchValue.toLowerCase().replace(/ \\S+ | and | or /g, '|'));\n</code></pre>\n\n<p>I know that in order to replace by space you do <code>.replace(/ /g, '|'))</code>, but I need the space in the same method with \"and\" and \"or\".</p>\n\n<p>How can this be accomplished? Thank you in advance. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "underscore.js"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 10106969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b830035036908f9a465741a9b91bf0?s=128&d=identicon&r=PG&f=1", "display_name": "Joh", "link": "https://stackoverflow.com/users/10106969/joh"}, "edited": false, "score": 0, "creation_date": 1542815487, "post_id": 53414542, "comment_id": 93705979, "body": "Hello Nina, How can I use this code in typescript, because I&#39;m trying put this code in typescript and I get this error:  [ts] Argument of type &#39;string[]&#39; is not assignable to parameter of type &#39;string&#39;. [2345]"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 141, "user_id": 10106969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b830035036908f9a465741a9b91bf0?s=128&d=identicon&r=PG&f=1", "display_name": "Joh", "link": "https://stackoverflow.com/users/10106969/joh"}, "edited": false, "score": 0, "creation_date": 1542816306, "post_id": 53414542, "comment_id": 93706497, "body": "i am sorry about typescript, but i have no idea of it."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 3, "last_activity_date": 1542811477, "last_edit_date": 1592644375, "creation_date": 1542811477, "answer_id": 53414542, "question_id": 53414278, "link": "https://stackoverflow.com/questions/53414278/how-to-use-groupby-js-for-group-object-when-the-properties-is-in-another-objec/53414542#53414542", "title": "How to use _.groupBy js for group object when the properties is in another object - TypeScript", "body": "<p>You could use <a href=\"https://underscorejs.org/#property\" rel=\"nofollow noreferrer\"><code>_.property</code></a> with a path to the property for grouping. This function returns a closure over the path and retuns a function which takes an object for getting the (nested) property.</p>\n<blockquote>\n<p><strong><code>_.property(path)</code></strong></p>\n<p>Returns a function that will return the specified property of any passed-in object. <code>path</code> may be specified as a simple key, or as an array of object keys or array indexes, for deep property fetching.</p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var cars = [{ make: 'audi', model: 'r8', year: '2012', location: { city: 'A', state: 'X', country: 'XX' } }, { make: 'audi', model: 'rs5', year: '2013', location: { city: 'A', state: 'X', country: 'XX' } }, { make: 'ford', model: 'mustang', year: '2012', location: { city: 'C', state: 'X', country: 'XX' } }, { make: 'ford', model: 'fusion', year: '2015', location: { city: 'B', state: 'X', country: 'XX' } }, { make: 'kia', model: 'optima', year: '2012', location: { city: 'A', state: 'X', country: 'XX' } }],\n    groups = _.groupBy(cars, _.property(['location', 'city']));\n\nconsole.log(groups);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 10106969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b830035036908f9a465741a9b91bf0?s=128&d=identicon&r=PG&f=1", "display_name": "Joh", "link": "https://stackoverflow.com/users/10106969/joh"}, "is_accepted": false, "score": 2, "last_activity_date": 1542819404, "creation_date": 1542819404, "answer_id": 53417066, "question_id": 53414278, "link": "https://stackoverflow.com/questions/53414278/how-to-use-groupby-js-for-group-object-when-the-properties-is-in-another-objec/53417066#53417066", "title": "How to use _.groupBy js for group object when the properties is in another object - TypeScript", "body": "<p>The Nina's answer is correct for javascript implementation , but I need do it using typescript, so, I fund one solution for me question.</p>\n\n<p>It's working for me:</p>\n\n<pre><code> let groups = _.groupBy(this.cars, car =&gt; car.location.city);\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 10106969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b830035036908f9a465741a9b91bf0?s=128&d=identicon&r=PG&f=1", "display_name": "Joh", "link": "https://stackoverflow.com/users/10106969/joh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 53414542, "answer_count": 2, "score": 2, "last_activity_date": 1542819404, "creation_date": 1542810507, "last_edit_date": 1542816791, "question_id": 53414278, "link": "https://stackoverflow.com/questions/53414278/how-to-use-groupby-js-for-group-object-when-the-properties-is-in-another-objec", "title": "How to use _.groupBy js for group object when the properties is in another object - TypeScript", "body": "<p>I have the follow object</p>\n\n<pre><code>var cars = [\n {\n    'make': 'audi',\n    'model': 'r8',\n    'year': '2012',\n    location: {\n       'city': 'A',\n       'state': 'X',\n       'country': XX'\n    }\n}, {\n    'make': 'audi',\n    'model': 'rs5',\n    'year': '2013',\n    location: {\n       'city': 'D',\n       'state': 'X',\n       'country': XX'\n    }\n}, {\n    'make': 'ford',\n    'model': 'mustang',\n    'year': '2012',\n    location: {\n      'city': 'A',\n      'state': 'X',\n      'country': XX'\n    }\n}, {\n    'make': 'ford',\n    'model': 'fusion',\n    'year': '2015',\n    location: {\n      'city': 'A',\n      'state': 'X',\n      'country': XX'\n    }\n}, {\n    'make': 'kia',\n    'model': 'optima',\n    'year': '2012',\n    location: {\n      'city': 'C',\n      'state': 'X',\n      'country': XX'\n    }\n},\n</code></pre>\n\n<p>];</p>\n\n<p>I would like group cars by city.</p>\n\n<p>So I'm using underscore js, but I don't know how can I access other object in property. I'm trying do it, but not working.</p>\n\n<pre><code>var groups = _.groupBy(cars, 'location.city');\n</code></pre>\n\n<p>could you please help me?</p>\n\n<p>thanks</p>\n"}, {"tags": ["angular", "typescript", "angular2-forms", "angular-reactive-forms", "reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7272805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa8ce14921885c1e6ab5489cce053f2?s=128&d=identicon&r=PG&f=1", "display_name": "DineshkumarVellingiri", "link": "https://stackoverflow.com/users/7272805/dineshkumarvellingiri"}, "edited": false, "score": 0, "creation_date": 1542861159, "post_id": 53413745, "comment_id": 93722174, "body": "trichetriche Thanks for your valuable reply. I would be pleased to have your response. But still your answer doesn&#39;t suit my question. My question is that can i achieve that patchValue() insertion in looping concept ? I have tried your technique but still no improvement."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 53, "user_id": 7272805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa8ce14921885c1e6ab5489cce053f2?s=128&d=identicon&r=PG&f=1", "display_name": "DineshkumarVellingiri", "link": "https://stackoverflow.com/users/7272805/dineshkumarvellingiri"}, "edited": false, "score": 1, "creation_date": 1542873995, "post_id": 53413745, "comment_id": 93726859, "body": "With two seconds of self thinking, you would probably understand that the second syntax can be used in loops ... But if you want me to be more specific, feel free to post some data and your model, or even a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your question on <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> so that I can show you how it&#39;s done."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1542808806, "creation_date": 1542808806, "answer_id": 53413745, "question_id": 53413627, "link": "https://stackoverflow.com/questions/53413627/reactive-forms-patchvalue-in-for-loop/53413745#53413745", "title": "Reactive Forms patchValue() in For loop", "body": "<p>Simply spread your form value and override the properties you want to change. </p>\n\n<p>As a sidenote, <code>patchValue</code> is supposed to keep the values of the keys you don't provide, e.g. giving a single key will keep all other keys to their actual value. </p>\n\n<p>Here is a stackblitz : <a href=\"https://stackblitz.com/edit/angular-xlxcic?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xlxcic?file=src%2Fapp%2Fapp.component.ts</a></p>\n\n<pre><code>  constructor() {\n    const form = new FormGroup({\n      name: new FormControl(''),\n      surname: new FormControl('')\n    });\n\n    form.patchValue({\n      ...form.value,\n      name: 'name of the user'\n    });\n\n    form.patchValue({\n      surname: 'surname of the user, with name kept'\n    });\n\n    console.log(form.value);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2352, "user_id": 2861283, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/lXVFY.png?s=128&g=1", "display_name": "Rakesh Chaudhari", "link": "https://stackoverflow.com/users/2861283/rakesh-chaudhari"}, "is_accepted": false, "score": 0, "last_activity_date": 1611208742, "creation_date": 1611208742, "answer_id": 65821903, "question_id": 53413627, "link": "https://stackoverflow.com/questions/53413627/reactive-forms-patchvalue-in-for-loop/65821903#65821903", "title": "Reactive Forms patchValue() in For loop", "body": "<p>try this, No need to use loop</p>\n<pre><code>this.form.patchValue(model)\n</code></pre>\n<p>For information visit, <a href=\"https://dev.to/crazedvic/using-patchvalue-on-formarrays-in-angular-7-2c8c\" rel=\"nofollow noreferrer\">https://dev.to/crazedvic/using-patchvalue-on-formarrays-in-angular-7-2c8c</a></p>\n"}], "owner": {"reputation": 53, "user_id": 7272805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa8ce14921885c1e6ab5489cce053f2?s=128&d=identicon&r=PG&f=1", "display_name": "DineshkumarVellingiri", "link": "https://stackoverflow.com/users/7272805/dineshkumarvellingiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1112, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1611208742, "creation_date": 1542808438, "last_edit_date": 1542808832, "question_id": 53413627, "link": "https://stackoverflow.com/questions/53413627/reactive-forms-patchvalue-in-for-loop", "title": "Reactive Forms patchValue() in For loop", "body": "<p>Following sample code:</p>\n\n<pre><code>model={name: \"D100\"\nvalue: \"Dying\"};\n\n   for (let key in model) {\n            if(this.divisionForm.controls.hasOwnProperty(key)) {\n                let value = divisionModel[key];\n                this.form.patchValue({\n                    key: value\n                });\n            }\n        }\n</code></pre>\n\n<ul>\n<li>Is there any way to achieve the looping object and insert key value pair into the <strong>Angular reactive form's patchValue()</strong> </li>\n<li>I cannot have values to get set in form i can achieve this by manually add setValue() and use destructuring to get the objects and set which leads very long code in bigger forms.</li>\n</ul>\n\n<p>I have structed in this for long time kindly help me. Thanks in advance.</p>\n"}, {"tags": ["typescript", "ionic-framework", "firebase-realtime-database", "ionic3"], "comments": [{"owner": {"reputation": 652, "user_id": 5297288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FgOrBus7N0Q/AAAAAAAAAAI/AAAAAAAADtQ/rliPpMhNR2g/photo.jpg?sz=128", "display_name": "Octavio Garbarino", "link": "https://stackoverflow.com/users/5297288/octavio-garbarino"}, "edited": false, "score": 0, "creation_date": 1542812843, "post_id": 53413298, "comment_id": 93704341, "body": "did you try to also add the this.isDoPosttest1 = doPosttest1; line, between doPosttest1 = true; and the console.log... ?"}, {"owner": {"reputation": 11, "user_id": 8091509, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212869825008765/picture?type=large", "display_name": "Ittiwut Wongsawat", "link": "https://stackoverflow.com/users/8091509/ittiwut-wongsawat"}, "reply_to_user": {"reputation": 652, "user_id": 5297288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FgOrBus7N0Q/AAAAAAAAAAI/AAAAAAAADtQ/rliPpMhNR2g/photo.jpg?sz=128", "display_name": "Octavio Garbarino", "link": "https://stackoverflow.com/users/5297288/octavio-garbarino"}, "edited": false, "score": 0, "creation_date": 1542853017, "post_id": 53413298, "comment_id": 93720407, "body": "yes, but it&#39;s doesn&#39;t know &quot;this.isDoPostTest1&quot;. So i have to to like this."}], "owner": {"reputation": 11, "user_id": 8091509, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212869825008765/picture?type=large", "display_name": "Ittiwut Wongsawat", "link": "https://stackoverflow.com/users/8091509/ittiwut-wongsawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542807459, "creation_date": 1542807459, "question_id": 53413298, "link": "https://stackoverflow.com/questions/53413298/how-to-wait-firebase-to-loaded-data-before-render-page", "title": "How to wait firebase to loaded data before render page", "body": "<p>I have a function that getting data from firebase realtime database.\nBut It's seem like it's took some time so my parameter \"doPosttest1\" is always false and after a second, if found data \"doPosttest1\" will change but it too late.</p>\n\n<p>How can I do async or wait until data loaded, then render the page?</p>\n\n<p>Thank you.</p>\n\n<p>PS. I'm using Ionic V.3</p>\n\n<pre><code>// Check posttest 1\nlet doPosttest1 = false;\nvar refPosttestSubject1 = this.db.database.ref(\"/testSubmit/Onboard-Safety-and-Security/posttest\");\nrefPosttestSubject1.orderByChild(\"email\").equalTo(this.auth.currentUser.email).on(\"child_added\", function (snapshot) {\n  doPosttest1 = true;\n  console.log(snapshot.key + \" was \" + snapshot.val().name + \" meters tall\");\n});\n\nthis.isDoPosttest1 = doPosttest1;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "web"], "comments": [{"owner": {"reputation": 689, "user_id": 5396946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0qCIs.png?s=128&g=1", "display_name": "Marv", "link": "https://stackoverflow.com/users/5396946/marv"}, "edited": false, "score": 0, "creation_date": 1542806959, "post_id": 53413085, "comment_id": 93700753, "body": "<code>chart.data.datasets.data.forEach()</code> data seems to be undefined I guess"}, {"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1542807003, "post_id": 53413085, "comment_id": 93700790, "body": "Do you want a chart based on API data, and update chart if data changes?"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1542807005, "post_id": 53413085, "comment_id": 93700792, "body": "Should it be <code>chart.data.datasets.forEach</code>? Because you have named the  parameter as <code>dataset</code>"}, {"owner": {"reputation": 51, "user_id": 9737754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7074fdc5666d499215d5d63beb37209?s=128&d=identicon&r=PG&f=1", "display_name": "Madalina", "link": "https://stackoverflow.com/users/9737754/madalina"}, "edited": false, "score": 0, "creation_date": 1542807246, "post_id": 53413085, "comment_id": 93700937, "body": "Yes. I want a chart based on API data and it should be updated based on the data it receives."}, {"owner": {"reputation": 51, "user_id": 9737754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7074fdc5666d499215d5d63beb37209?s=128&d=identicon&r=PG&f=1", "display_name": "Madalina", "link": "https://stackoverflow.com/users/9737754/madalina"}, "edited": false, "score": 0, "creation_date": 1542807684, "post_id": 53413085, "comment_id": 93701198, "body": "I put chart.data.datasets.forEach and i don&#39;t see the error anymore but my chart doesn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9737754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7074fdc5666d499215d5d63beb37209?s=128&d=identicon&r=PG&f=1", "display_name": "Madalina", "link": "https://stackoverflow.com/users/9737754/madalina"}, "edited": false, "score": 0, "creation_date": 1542810368, "post_id": 53413470, "comment_id": 93702871, "body": "Thank you very much ! ES6 spread operator is so nice. The Xaxis looks oke from API data but Yaxis does not receive anything. In this form &quot;...chart.data.datasets.data, ...labels_data&quot;  I get  ERROR TypeError: Cannot read property &#39;concat&#39; of undefined."}, {"owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "reply_to_user": {"reputation": 51, "user_id": 9737754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7074fdc5666d499215d5d63beb37209?s=128&d=identicon&r=PG&f=1", "display_name": "Madalina", "link": "https://stackoverflow.com/users/9737754/madalina"}, "edited": false, "score": 0, "creation_date": 1542812651, "post_id": 53413470, "comment_id": 93704227, "body": "Then you most likely didn&#39;t use the whole answer; since either your labels_data or chart.data.labels is undefined; and my full solution provided both with defaults."}], "tags": [], "owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "is_accepted": true, "score": 0, "last_activity_date": 1542807935, "creation_date": 1542807935, "answer_id": 53413470, "question_id": 53413085, "link": "https://stackoverflow.com/questions/53413085/updating-chart-js-in-angular/53413470#53413470", "title": "Updating chart.js in Angular", "body": "<p>Technically you receive this error because you never initialized this.myChart.data.datasets.data before looping over it. You've only typed it. You could fix that by setting a default array, like so:</p>\n\n<pre><code>ngOnInit() {\n   this.getFilters();\n\n   var ctx = document.getElementById(\"myChart\");\n   this.myChart = new Chart(ctx, {\n   type: 'bar',\n   data: {\n       labels: [] = [] // might as well,\n       datasets: [{\n           label: '# of Total Messages',\n           data: [] = [], // &lt;== note this part, the initialization\n          backgroundColor:'#ffe4c9',\n\n       }]\n   },\n   options: {\n       scales: {\n           yAxes: [{\n               ticks: {\n                   beginAtZero:true,\n\n               }\n               ,\n               scaleLabel: {\n                 display: true,\n                  labelString: 'Total Messages'\n               }\n           }]\n           ,\n           xAxes: [{\n             scaleLabel: {\n               display: true,\n                labelString: 'Builds'\n             }\n           }]\n       }\n   }\n});\n</code></pre>\n\n<p>That being said, I am pretty sure this will not resolve your functional goal. I am pretty sure you don't want to add result elements from the server call based on the items already there; but just want to add them all. You're frankly looping the wrong data. So you'll also have to change the addData method. Like this:</p>\n\n<pre><code>addData(chart, \n        labels_builds = [], // See comment below\n        labels_data = [] // added this as an alternative null check for your server data.\n){\n     chart.data.labels = [\n        ...chart.data.labels, // Check the ES6 spread operator, you'll like it.\n        ...labels_builds      // In essence in this case it means \"every element of\"\n     ];\n     chart.data.datasets.data = [\n        ...chart.data.datasets.data,\n        ...labels_data\n     ];\n     chart.update();\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 10289046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3a7ce4f5a4523fdcd82c4f4f76d96f?s=128&d=identicon&r=PG&f=1", "display_name": "Tejas", "link": "https://stackoverflow.com/users/10289046/tejas"}, "is_accepted": false, "score": 0, "last_activity_date": 1555658011, "creation_date": 1555658011, "answer_id": 55757976, "question_id": 53413085, "link": "https://stackoverflow.com/questions/53413085/updating-chart-js-in-angular/55757976#55757976", "title": "Updating chart.js in Angular", "body": "<p>Try This: </p>\n\n<pre><code>    updateChart() {\n    //first set datasets length 0\n    this.chart.data.datasets.length = 0;\n    //call update method\n    this.chart.update();\n\n    const color = Chart.helpers.color;\n    //define your data here\n    let data1 = {\n        labels: ['1 Jan', '2 Jan', '3 Jan', '4 Jan', '5 Jan', '6 Jan', '7 Jan'],\n        datasets: [\n            {\n                fill: false,\n                borderWidth: 3,\n                backgroundColor: color(this.layoutConfigService.getConfig('colors.state.brand')).alpha(0.6).rgbString(),\n                borderColor: this.layoutConfigService.getConfig('colors.state.primary'),\n                label: 'Value1',\n                pointStyle: 'line',\n                pointHoverRadius: 4,\n                pointHoverBorderWidth: 12,\n                pointBackgroundColor: Chart.helpers.color('#000000').alpha(0).rgbString(),\n                pointBorderColor: Chart.helpers.color('#000000').alpha(0).rgbString(),\n                pointHoverBackgroundColor: this.layoutConfigService.getConfig('colors.state.primary'),\n                pointHoverBorderColor: Chart.helpers.color('#000000').alpha(0.1).rgbString(),\n\n                data: [this.getNo(), this.getNo(), this.getNo(), this.getNo(), this.getNo(),this.getNo(),this.getNo()]\n            }\n        ]\n    };\n    //asign data1 to chart data\n    this.chart.data = data1;\n    //again update chart\n    this.chart.update();\n}\ngetNo() {\n    return Math.floor((Math.random() * 100 ) + 1);\n}\n</code></pre>\n\n<p>This worked for me...!</p>\n"}], "owner": {"reputation": 51, "user_id": 9737754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7074fdc5666d499215d5d63beb37209?s=128&d=identicon&r=PG&f=1", "display_name": "Madalina", "link": "https://stackoverflow.com/users/9737754/madalina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6379, "favorite_count": 0, "accepted_answer_id": 53413470, "answer_count": 2, "score": 0, "last_activity_date": 1555658011, "creation_date": 1542806814, "question_id": 53413085, "link": "https://stackoverflow.com/questions/53413085/updating-chart-js-in-angular", "title": "Updating chart.js in Angular", "body": "<p>I want to create a chart by add labels and data from an API and update this one.</p>\n\n<p>I create a method <strong>addData()</strong> in charts.component.ts that looks in this way:</p>\n\n<pre><code> addData(chart, labels_builds,labels_data){\n     chart.data.labels.push(labels_builds);\n     chart.data.datasets.data.forEach(dataset =&gt; {\n        dataset.data.push(labels_data);\n     });\n     chart.update();\n }\n</code></pre>\n\n<p>This will be call here: </p>\n\n<pre><code>getMisraLintChart(projectVariantId: number,filterType : string, filterValue: string): void {\n    this.chartService.getMisraLintChart(projectVariantId, filterType, filterValue)\n    .subscribe(pageChart =&gt;{\n        this.chartMisraLint = pageChart\n      this.addData(this.myChart,pageChart.build,pageChart.data);\n        })\n    } \n</code></pre>\n\n<p>In <strong>ngOnInit()</strong> i have this code:</p>\n\n<pre><code>ngOnInit() {\n   this.getFilters();\n\n   var ctx = document.getElementById(\"myChart\");\n   this.myChart = new Chart(ctx, {\n   type: 'bar',\n   data: {\n       labels: [],\n       datasets: [{\n           label: '# of Total Messages',\n           data: [],\n          backgroundColor:'#ffe4c9',\n\n       }]\n   },\n   options: {\n       scales: {\n           yAxes: [{\n               ticks: {\n                   beginAtZero:true,\n\n               }\n               ,\n               scaleLabel: {\n                 display: true,\n                  labelString: 'Total Messages'\n               }\n           }]\n           ,\n           xAxes: [{\n             scaleLabel: {\n               display: true,\n                labelString: 'Builds'\n             }\n           }]\n       }\n   }\n});\n</code></pre>\n\n<p><strong>I get the error :ERROR TypeError: Cannot read property 'forEach' of undefined.</strong></p>\n\n<p>If anyone could push me in the right direction, it would be greatly appreciated!</p>\n"}, {"tags": ["typescript", "immutability"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1542806389, "post_id": 53412934, "comment_id": 93700419, "body": "Not possible currently.You maybe could do something for  a function parameter to ensure the passed in parameter does not have readonly fields"}, {"owner": {"reputation": 3835, "user_id": 2476884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9e6937def916fce7ecfb45345ffc44?s=128&d=identicon&r=PG", "display_name": "danielnixon", "link": "https://stackoverflow.com/users/2476884/danielnixon"}, "edited": false, "score": 0, "creation_date": 1593327033, "post_id": 53412934, "comment_id": 110736857, "body": "Here you go: <a href=\"https://github.com/danielnixon/eslint-plugin-total-functions#total-functionsno-unsafe-assignment\" rel=\"nofollow noreferrer\">github.com/danielnixon/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4939788, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206731418101319/picture?type=large", "display_name": "Erik Johansson", "link": "https://stackoverflow.com/users/4939788/erik-johansson"}, "edited": false, "score": 0, "creation_date": 1542895217, "post_id": 53416703, "comment_id": 93738889, "body": "This is exactly what i wanted to know. Thank you for a very detailed answer :)"}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1616774895, "post_id": 53416703, "comment_id": 118117151, "body": "<code>[&quot;OOPS&quot;, T, &quot;has readonly properties&quot;]</code> is an <i>excellent</i> way of improving Typescript error messages. (Except, I suppose, when <code>T</code> is a type like <code>string[]</code>, in which case the result is assignable to <code>T</code> and you don&#39;t get an error message at all.)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 16, "last_activity_date": 1542818248, "creation_date": 1542818248, "answer_id": 53416703, "question_id": 53412934, "link": "https://stackoverflow.com/questions/53412934/disable-allowing-assigning-readonly-types-to-non-readonly-types/53416703#53416703", "title": "Disable allowing assigning Readonly types to non-readonly types", "body": "<p>Ah, you've run into a problem that annoyed someone enough to file an <a href=\"https://github.com/Microsoft/TypeScript/issues/13002\" rel=\"noreferrer\">issue</a> with the memorable title <a href=\"https://github.com/Microsoft/TypeScript/issues/13002#event-916346948\" rel=\"noreferrer\">\"readonly modifiers are a joke\"</a> (which has since changed to something more neutral).   The issue is being tracked at <a href=\"https://github.com/Microsoft/TypeScript/issues/13347\" rel=\"noreferrer\">Microsoft/TypeScript#13347</a>, but there doesn't seem to be much movement on it.  For now, we just have to deal with the fact that <code>readonly</code> properties don't affect assignability.</p>\n\n<p>So, what workarounds are possible? </p>\n\n<hr>\n\n<p>The cleanest is to give up on <code>readonly</code> properties and instead use some kind of mapping that turns an object into something you really can only read from, via something like getter functions.  For example, if readonly properties are replaced with functions that return the desired value:</p>\n\n<pre><code>function readonly&lt;T extends object&gt;(x: T): { readonly [K in keyof T]: () =&gt; T[K] } {\n  const ret = {} as { [K in keyof T]: () =&gt; T[K] };\n  (Object.keys(x) as Array&lt;keyof T&gt;).forEach(k =&gt; ret[k] = () =&gt; x[k]);\n  return ret;\n}\n\nconst user = readonly({\n  firstName: \"Joe\",\n  lastName: \"Bob\",\n});\n\nconst mutableUser: User = user; // error, user is wrong shape\n\n// reading from a readonly thing is a bit annoying\nconst firstName = user.firstName();\nconst lastName = user.lastName();\n\n// but you can't write to it\nuser.firstName = \"Foo\" // doesn't even make sense, \"Foo\" is not a function\nuser.firstName = () =&gt; \"Foo\" // doesn't work because readonly\n</code></pre>\n\n<p>Or similarly, if a readonly object only exposes a single getter function:</p>\n\n<pre><code>function readonly&lt;T extends object&gt;(x: T): { get&lt;K extends keyof T&gt;(k: K): T[K] } {\n  return { get&lt;K extends keyof T&gt;(k: K) { return x[k] } };\n}\n\nconst user = readonly({\n  firstName: \"Joe\",\n  lastName: \"Bob\",\n});\n\nconst mutableUser: User = user; // error, user is wrong shape\n\n// reading from a readonly thing is a bit annoying\nconst firstName = user.get(\"firstName\");\nconst lastName = user.get(\"lastName\");\n\n// but you can't write to it\nuser.firstName = \"Foo\" // doesn't even make sense, firstName not a property\n</code></pre>\n\n<p>It's annoying to use, but definitely enforces the spirit of readonliness (readonlity? \ud83e\udd37\u200d\u2642\ufe0f) and you can't accidentally write to something readonly.</p>\n\n<hr>\n\n<p>Another workaround is to run a helper function which will only accept mutable values, as <a href=\"https://stackoverflow.com/users/125734/titian-cernicova-dragomir\">@TitianCernicova-Dragomir</a> has <a href=\"https://stackoverflow.com/questions/53412934/disable-allowing-assigning-readonly-types-to-non-readonly-types#comment93700419_53412934\">suggested</a>.  Possibly, like this:</p>\n\n<pre><code>type IfEquals&lt;T, U, Y = unknown, N = never&gt; =\n  (&lt;V&gt;() =&gt; V extends T ? 1 : 2) extends\n  (&lt;V&gt;() =&gt; V extends U ? 1 : 2) ? Y : N;\ntype Mutable&lt;T&gt; = { -readonly [K in keyof T]: T[K] };\ntype IsMutable&lt;T, Y=unknown, N=never&gt; = IfEquals&lt;T, Mutable&lt;T&gt;, Y, N&gt;\n\nconst readonly = &lt;T&gt;(x: T): Readonly&lt;T&gt; =&gt; x;\nconst mutable = &lt;T&gt;(\n  x: T &amp; IsMutable&lt;T, unknown, [\"OOPS\", T, \"has readonly properties\"]&gt;\n): Mutable&lt;T&gt; =&gt; x;\n\nconst readonlyUser = readonly({\n  firstName: \"Joe\",\n  lastName: \"Bob\",\n});\nconst mutableUser = mutable(\n  { firstName: \"Bob\", lastName: \"Joe\" }\n); // okay\n\nconst fails: User = mutable(readonlyUser); // error, can't turn readonly to mutable\n// msg includes [\"OOPS\", Readonly&lt;{ firstName: string; lastName: string; }&gt;\n// , \"has readonly properties\"]\n\nconst works = readonly(mutableUser); //okay, can turn mutable to readonly\n</code></pre>\n\n<p>Here the <code>readonly</code> function will accept any value of type <code>T</code> and return a <code>Readonly&lt;T&gt;</code>, but the <code>mutable</code> function will only accept values which are already mutable.  You have to remember to call <code>mutable()</code> on any value you expect to be mutable.  That's fairly error-prone, so I don't really recommend this method.</p>\n\n<hr>\n\n<p>I also played around with the idea of making a fake <code>Readonly&lt;T&gt;</code> type which modified <code>T</code> in such a way as to distinguish it <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#what-is-structural-typing\" rel=\"noreferrer\">structurally</a> from <code>T</code>, but it was as cumbersome as the getter-function method.  The problem is that, assuming you want to be able to assign mutable values to readonly variables but you want to be prevented from assigning readonly values to mutable variables, the readonly modifier needs to widen the type of <code>T</code>, not narrow it.  That limits the options to something like <code>Readonly&lt;T&gt; = {[K in keyof T]: T[K] | Something}</code> or <code>Readonly&lt;T&gt; = T | Something</code>.  But in each case it becomes very difficult to actually read the readonly properties, since you have to narrow the types back.  If you need boilerplate every time you read a property, you might as well use a getter function.  So, forget that.</p>\n\n<hr>\n\n<p>To wrap up: I think the getter function method is probably your best bet if you really want to enforce properties that cannot be written.  Or maybe you should just give up on <code>readonly</code> modifiers, as they are, after all, a joke \ud83e\udd21.  Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 149, "user_id": 4939788, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206731418101319/picture?type=large", "display_name": "Erik Johansson", "link": "https://stackoverflow.com/users/4939788/erik-johansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4615, "favorite_count": 1, "accepted_answer_id": 53416703, "answer_count": 1, "score": 10, "last_activity_date": 1542818248, "creation_date": 1542806257, "question_id": 53412934, "link": "https://stackoverflow.com/questions/53412934/disable-allowing-assigning-readonly-types-to-non-readonly-types", "title": "Disable allowing assigning Readonly types to non-readonly types", "body": "<p>I've been looking at the readonly type in typescript. Sadly, it does not work as i hope it would. For instance, see the code below:</p>\n\n<pre><code>interface User{\n    firstName: string;\n    lastName: string;\n}\n\nconst user: Readonly&lt;User&gt; = {\n    firstName: \"Joe\",\n    lastName: \"Bob\",\n};\n\nconst mutableUser: User = user; //Is it possible to disallow this?\n\nuser.firstName = \"Foo\" //Throws error as expected\nmutableUser.firstName =\"Bar\"//This works\n</code></pre>\n\n<p>Is it somehow possible to use the readonly type in a way that doesn't allow assigning it to another type that is not readonly? If it isn't can i solve it in any other way?</p>\n"}, {"tags": ["javascript", "regex", "typescript"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1542805938, "post_id": 53412790, "comment_id": 93700164, "body": "<code>var regex = new RegExp(&quot;^\\\\d+:&quot;+myVar+&quot;$&quot;, &quot;gm&quot;);</code>. But you might want to escape the <code>myvar</code>, too."}, {"owner": {"reputation": 385, "user_id": 2418162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/480735e4a6f49b6e928bfffe28df4ffc?s=128&d=identicon&r=PG", "display_name": "Fobi", "link": "https://stackoverflow.com/users/2418162/fobi"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1542806159, "post_id": 53412790, "comment_id": 93700282, "body": "Why have you changed my regex from /^(\\d|\\d{2,}):node_type$/gm to /^\\d:node_type$/gm ?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1542806216, "post_id": 53412790, "comment_id": 93700313, "body": "Because that is what it looks like after you realize <code>(\\d|\\d{2,})</code> = <code>\\d+</code>."}], "owner": {"reputation": 385, "user_id": 2418162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/480735e4a6f49b6e928bfffe28df4ffc?s=128&d=identicon&r=PG", "display_name": "Fobi", "link": "https://stackoverflow.com/users/2418162/fobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1542805846, "answer_count": 0, "score": 0, "last_activity_date": 1542805790, "creation_date": 1542805790, "question_id": 53412790, "link": "https://stackoverflow.com/questions/53412790/how-to-put-a-variable-in-my-js-regular-expression", "closed_reason": "Duplicate", "title": "How to put a variable in my JS regular expression?", "body": "<p>this is my regex:</p>\n\n<pre><code>/^(\\d|\\d{2,}):node_type$/gm\n</code></pre>\n\n<p>But I need to parameterizing it with </p>\n\n<pre><code>var myVar = \"a value\";\nvar regex = /^(\\d|\\d{2,}):+myVar+$/gm;\n</code></pre>\n\n<p>I know this is not possibile in this way and I know that I need to using:</p>\n\n<pre><code>var regex = new RegExp(...);\n</code></pre>\n\n<p>So my question is how can I use RegExp to parameterizing my regex with myVar? </p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1542805710, "post_id": 53412749, "comment_id": 93700034, "body": "Not possible to perform string literal type concatenations"}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547858976, "post_id": 54263102, "comment_id": 95350433, "body": "But this is more of a runtime solution... it&#39;s not like if you write <code>A.X</code> you will have the string literal type that represents the string <code>AX</code>. That is what is asked. Having the literal type has all sorts of advantages, when creating mapped types, or using a value of such a type to access o strictly typed object."}, {"owner": {"reputation": 404, "user_id": 762837, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7cddfee8fed4b62c1b9fbbb5dace9fec?s=128&d=identicon&r=PG", "display_name": "mintuhouse", "link": "https://stackoverflow.com/users/762837/mintuhouse"}, "edited": false, "score": 0, "creation_date": 1547876757, "post_id": 54263102, "comment_id": 95352758, "body": "Thanks Silvan!  But I am looking for a type that represents the string &quot;AX&quot;.  It may not be possible today after all as Titian says"}, {"owner": {"reputation": 888, "user_id": 8018716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aeccee3e71022b1b81ce3b23b22466?s=128&d=identicon&r=PG&f=1", "display_name": "Silvan Bregy", "link": "https://stackoverflow.com/users/8018716/silvan-bregy"}, "edited": false, "score": 0, "creation_date": 1547909063, "post_id": 54263102, "comment_id": 95359291, "body": "As mentioned. I just wanted to share. I know it&#39;s not an &quot;answer..&quot;"}], "tags": [], "owner": {"reputation": 888, "user_id": 8018716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aeccee3e71022b1b81ce3b23b22466?s=128&d=identicon&r=PG&f=1", "display_name": "Silvan Bregy", "link": "https://stackoverflow.com/users/8018716/silvan-bregy"}, "is_accepted": false, "score": 0, "last_activity_date": 1547858282, "creation_date": 1547858282, "answer_id": 54263102, "question_id": 53412749, "link": "https://stackoverflow.com/questions/53412749/create-a-union-type-based-on-2-enums/54263102#54263102", "title": "Create a union type based on 2 enums", "body": "<h2>Hello,</h2>\n\n<p>I just read through the question, and i had definitely nothing to do.</p>\n\n<p>I saw the comments and I don't like sentences containing <code>Not possible</code> , etc.</p>\n\n<h2>Anyways:</h2>\n\n<p>I started to play around and I produced something which is maybe worth it to share .The code below demonstrates a \"dynamic\" typing of enum keys. I created a type which holds your combination as nested objects. So therefore, Your type value <code>ab</code> would be represented as <code>a.b</code> in the \"typed\" <code>enum</code>.</p>\n\n<p>Just look at the code, it should make it a little clear.</p>\n\n<pre><code>\nexport enum Actions {\n    A = 'A',\n    B = 'B',\n    C = 'C'\n}\nexport enum Prefix {\n    X = 'X',\n    Y = 'Y'\n}\n\ntype actType = keyof typeof Actions\ntype preType = keyof typeof Prefix\n\ntype resultsArr = {[key1 in actType]: {[key2 in preType]: string}};\n\n\n// structure of resultsArr:\n/*\n    A: {\n        X: string, // holds 'AX'\n        Y: string // holds 'AY'\n    },\n    B: {\n        X: string, // holds 'BX'\n        Y: string  // ...\n    },\n    C: {\n        X: string,\n        Y: string\n    }\n\n*/\n</code></pre>\n\n<h2>maybe worth to try...</h2>\n\n<p>If you are able to produce objects like this after your manipulation, It would maybe be possible to type something useful according to your problem.</p>\n\n<p>Such objects would then be easily to normalise to the string values you have.\nYou will also have to hardcode all the enums you have and concat them \"by hand\".</p>\n\n<p>But anyways, I wanted to share..\nCheers.</p>\n"}], "owner": {"reputation": 404, "user_id": 762837, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7cddfee8fed4b62c1b9fbbb5dace9fec?s=128&d=identicon&r=PG", "display_name": "mintuhouse", "link": "https://stackoverflow.com/users/762837/mintuhouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547858282, "creation_date": 1542805668, "question_id": 53412749, "link": "https://stackoverflow.com/questions/53412749/create-a-union-type-based-on-2-enums", "title": "Create a union type based on 2 enums", "body": "<p>If I have 2 enums and I want to declare a new type based some operation on 2 enums, is there a way to do it?</p>\n\n<pre><code>export enum Actions {\n  A = 'a',\n  B = 'b',\n  C = 'c'\n}\nexport enum Prefix {\n  X = 'x',\n  Y = 'y'\n}\n</code></pre>\n\n<p>And I want a new type which is a concat of 2 enums</p>\n\n<p><code>type AP = \"ax\" | \"ay\" | \"bx\" | \"by\" | \"cx\" | \"cy\"</code></p>\n"}, {"tags": ["angular", "typescript", "angular-ui-router", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 7536587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4adc4e47efbd89154fd692539c5d8c3?s=128&d=identicon&r=PG&f=1", "display_name": "M. Fish", "link": "https://stackoverflow.com/users/7536587/m-fish"}, "edited": false, "score": 0, "creation_date": 1542811309, "post_id": 53412747, "comment_id": 93703389, "body": "Create yes I had to imporant it. Now I have this Problem:ERROR in players/players.component.ts(91,32): error TS2345: Argument of type &#39;(teamxx1: any, teamxx2: any) =&gt; void&#39; is not assignable to parameter of type &#39;(value: [any, any]) =&gt; void&#39;. Okay i think I can only do subscribe( (a) =&gt;..... )"}, {"owner": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "reply_to_user": {"reputation": 237, "user_id": 7536587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4adc4e47efbd89154fd692539c5d8c3?s=128&d=identicon&r=PG&f=1", "display_name": "M. Fish", "link": "https://stackoverflow.com/users/7536587/m-fish"}, "edited": false, "score": 1, "creation_date": 1542816019, "post_id": 53412747, "comment_id": 93706331, "body": "Yes combineLatest maps the latest result of each observable to an array of their values in order. Your subscribe will need to be something like this: <code>updateAllPlayers.subscribe(([teamxx1, teamxx2]) =&gt; { &#47;* ... *&#47; });</code>"}], "tags": [], "owner": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "is_accepted": true, "score": 1, "last_activity_date": 1542805667, "creation_date": 1542805667, "answer_id": 53412747, "question_id": 53412604, "link": "https://stackoverflow.com/questions/53412604/problem-using-observable-combinelist-of-rxjs-in-angular/53412747#53412747", "title": "Problem using Observable.combineList of RxJS in Angular", "body": "<p>You have imported the lettable operator instead of the function. Update the import of <code>combineLatest</code> to be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { combineLatest } from 'rxjs';\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 7536587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4adc4e47efbd89154fd692539c5d8c3?s=128&d=identicon&r=PG&f=1", "display_name": "M. Fish", "link": "https://stackoverflow.com/users/7536587/m-fish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 53412747, "answer_count": 1, "score": 0, "last_activity_date": 1542805667, "creation_date": 1542805212, "question_id": 53412604, "link": "https://stackoverflow.com/questions/53412604/problem-using-observable-combinelist-of-rxjs-in-angular", "title": "Problem using Observable.combineList of RxJS in Angular", "body": "<p>I want to use the typscript function to have to Oberservable sync.</p>\n\n<p>First I have a service, which gives me the Oberservable as return. </p>\n\n<pre><code>  public updatePlayers(players: Player[]): Observable&lt;any&gt;{\n    return this.http.post(this.REST_URI + \"player/updateplayers\", players).pipe(\n      tap(_tap =&gt; console.log(\"Update Players. \" + _tap)),\n      catchError(this.handleError)\n    )\n  }\n</code></pre>\n\n<p>Than I have the function where I want to use the Observable.combineList to wait for booth function to be finished with the update.</p>\n\n<pre><code>OnSubmit(){\n\n   let updateAllPlayers = combineLatest(this.restApi.updatePlayers(this.allPlayerTeam1), this.restApi.updatePlayers(this.allPlayerTeam1));\n    updateAllPlayers.subscribe((teamxx1, teamxx2) =&gt; {\n      this.router.navigate(['statsRecordGrid', this.team1.id, this.team2.id]);\n    }, (e) =&gt; {\n      console.error(\"Players not updated\");\n    });\n\n}\n\n....\n}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>ERROR in players/players.component.ts(91,22): error TS2339: Property\n  'subscribe' does not exist on type 'OperatorFunction&lt;{}, [{}, any,\n  any]>'.</p>\n</blockquote>\n\n<p>Which I do not understand because if I also do the example of RxJs with the timer I geht the same issue.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 4672, "user_id": 7404235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8e0a64e8ce79b73f996e4cfe6b16cb3?s=128&d=identicon&r=PG", "display_name": "enno.void", "link": "https://stackoverflow.com/users/7404235/enno-void"}, "edited": false, "score": 0, "creation_date": 1542805254, "post_id": 53412562, "comment_id": 93699805, "body": "I would create a Common-Module for those Components and include the Module in both other modules"}], "answers": [{"comments": [{"owner": {"reputation": 2497, "user_id": 385623, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/768520cb816dac68d400fd5fe74e3bc7?s=128&d=identicon&r=PG", "display_name": "Ciprian", "link": "https://stackoverflow.com/users/385623/ciprian"}, "edited": false, "score": 0, "creation_date": 1542806594, "post_id": 53412660, "comment_id": 93700536, "body": "Ok ... Seems simple enough to create a shared module. I don&#39;t know where to include it. Do I include the shared module in all page modules? Like <code>users.module.ts</code>, <code>events.module.ts</code>? What should <code>users.module.ts</code> look like?"}], "tags": [], "owner": {"reputation": 87802, "user_id": 340760, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef1a0f00d57917768acdc5b379ca1b28?s=128&d=identicon&r=PG", "display_name": "BrunoLM", "link": "https://stackoverflow.com/users/340760/brunolm"}, "is_accepted": true, "score": 2, "last_activity_date": 1542805380, "creation_date": 1542805380, "answer_id": 53412660, "question_id": 53412562, "link": "https://stackoverflow.com/questions/53412562/angular-component-part-of-two-declarations/53412660#53412660", "title": "Angular Component part of two declarations", "body": "<p>Your AddButton should probably be on a <a href=\"https://angular.io/guide/styleguide#shared-feature-module\" rel=\"nofollow noreferrer\">Shared module</a> and then you would be able to use it in multiple places by importing the module</p>\n"}, {"tags": [], "owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1542805407, "creation_date": 1542805407, "answer_id": 53412672, "question_id": 53412562, "link": "https://stackoverflow.com/questions/53412562/angular-component-part-of-two-declarations/53412672#53412672", "title": "Angular Component part of two declarations", "body": "<p>add your <code>AddButton</code> component into <code>exports</code> array of <code>users.module.ts</code> so you can use it in other modules where <code>UsersModule</code> is imported</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UsersPage } from './users';\nimport { AddButton } from '../../components/add-button.component';\n\n@NgModule({\n  declarations: [\n    UsersPage,\n    AddButton\n  ],\n  imports: [\n    IonicPageModule.forChild(UsersPage),\n  ],\n  exports: [\n    AddButton\n  ]\n})\nexport class UsersPageModule { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 652, "user_id": 5297288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FgOrBus7N0Q/AAAAAAAAAAI/AAAAAAAADtQ/rliPpMhNR2g/photo.jpg?sz=128", "display_name": "Octavio Garbarino", "link": "https://stackoverflow.com/users/5297288/octavio-garbarino"}, "is_accepted": false, "score": 0, "last_activity_date": 1542805674, "creation_date": 1542805674, "answer_id": 53412752, "question_id": 53412562, "link": "https://stackoverflow.com/questions/53412562/angular-component-part-of-two-declarations/53412752#53412752", "title": "Angular Component part of two declarations", "body": "<p>If you create the component with the <code>ionic cli</code> with ionic <strong>g component AddButton</strong> it will automatically create a ComponentsModule and your new component in that module.</p>\n\n<p>And to use this component in the other modules you just have to import that module in the modules that you need.</p>\n\n<p>Also in your ComponentModule you should add <code>imports: [IonicModule]</code> in order to be able to use the Ionic Components like <strong>ion-buttons</strong></p>\n"}, {"tags": [], "owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "is_accepted": false, "score": 0, "last_activity_date": 1542807228, "creation_date": 1542807228, "answer_id": 53413221, "question_id": 53412562, "link": "https://stackoverflow.com/questions/53412562/angular-component-part-of-two-declarations/53413221#53413221", "title": "Angular Component part of two declarations", "body": "<p>If you think ButtonComponent doesn't fit to be in Shared Module, Make a Individual module for <code>AddButton</code>. Now this new module should declare and export the <code>AddButtonComponent</code>. You should import this new module in whichever child module you want it to be used for. This should not cause any problem. This will also save you from loading all Shared component just for sake of getting <code>AddComponent</code> working.  </p>\n\n<blockquote>\n  <p>It's a best practice to create another module for the component if it is being used at multiple places/modules.</p>\n</blockquote>\n"}], "owner": {"reputation": 2497, "user_id": 385623, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/768520cb816dac68d400fd5fe74e3bc7?s=128&d=identicon&r=PG", "display_name": "Ciprian", "link": "https://stackoverflow.com/users/385623/ciprian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53412660, "answer_count": 4, "score": 1, "last_activity_date": 1542813301, "creation_date": 1542805094, "last_edit_date": 1542813301, "question_id": 53412562, "link": "https://stackoverflow.com/questions/53412562/angular-component-part-of-two-declarations", "title": "Angular Component part of two declarations", "body": "<p>I created a small component which I want to use in some of the pages but I seem to have some problems when including it in more than one lazy load page.</p>\n\n<p>add.button.component.ts</p>\n\n<pre><code>import { Component, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'add-button',\n  template: `\n  &lt;ion-buttons end&gt;\n    &lt;button ion-button icon-only (click)=\"navToAdd()\"&gt;\n      &lt;ion-icon name=\"md-add-circle\"&gt;&lt;/ion-icon&gt;\n    &lt;/button&gt;\n  &lt;/ion-buttons&gt;`\n})\n\nexport class AddButton {\n  visible: boolean = true;\n\n  @Output() navigate: EventEmitter&lt;any&gt; = new EventEmitter();\n\n  navToAdd() {\n    this.navigate.emit(null)\n  }\n}\n</code></pre>\n\n<p>app.modules.ts</p>\n\n<pre><code>    import { BrowserModule } from '@angular/platform-browser';\n    import { MyApp } from './app.component';\n    import { HomePage } from '../pages/home/home';\n    import { TabsPage } from '../pages/tabs/tabs';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    TabsPage\n  ],\n  imports: [\n    BrowserModule,\n    ...\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    TabsPage\n  ],\n  providers: [\n    ...\n  ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>users.module.ts - Just like <code>users.module.ts</code> there are other page modules where I want to use the component just like i use it in <code>users.module.ts</code> below</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UsersPage } from './users';\nimport { AddButton } from '../../components/add-button.component';\n\n@NgModule({\n  declarations: [\n    UsersPage,\n    AddButton\n  ],\n  imports: [\n    IonicPageModule.forChild(UsersPage),\n  ],\n})\nexport class UsersPageModule { }\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 3220, "user_id": 8175467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B1AqBPPOFvg/AAAAAAAAAAI/AAAAAAAAAwE/nND5ZayO9ME/photo.jpg?sz=128", "display_name": "programoholic", "link": "https://stackoverflow.com/users/8175467/programoholic"}, "edited": false, "score": 1, "creation_date": 1542805169, "post_id": 53412500, "comment_id": 93699769, "body": "Can you post your html"}, {"owner": {"reputation": 2373, "user_id": 7179862, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1241237245937173/picture?type=large", "display_name": "Daniil Andreyevich Baunov", "link": "https://stackoverflow.com/users/7179862/daniil-andreyevich-baunov"}, "edited": false, "score": 0, "creation_date": 1542805201, "post_id": 53412500, "comment_id": 93699780, "body": "Can you please specify what exactly you mean by doesn&#39;t work? Is there some error or wrong id, etc?"}, {"owner": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 0, "creation_date": 1542806543, "post_id": 53412500, "comment_id": 93700497, "body": "There are no errors in the IDE terminal or the console. How many do not press the button, nothing changes."}, {"owner": {"reputation": 2373, "user_id": 7179862, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1241237245937173/picture?type=large", "display_name": "Daniil Andreyevich Baunov", "link": "https://stackoverflow.com/users/7179862/daniil-andreyevich-baunov"}, "edited": false, "score": 0, "creation_date": 1542816031, "post_id": 53412500, "comment_id": 93706338, "body": "Thanks for clarification. I updated the answer have a look."}, {"owner": {"reputation": 3220, "user_id": 8175467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B1AqBPPOFvg/AAAAAAAAAAI/AAAAAAAAAwE/nND5ZayO9ME/photo.jpg?sz=128", "display_name": "programoholic", "link": "https://stackoverflow.com/users/8175467/programoholic"}, "edited": false, "score": 0, "creation_date": 1542876430, "post_id": 53412500, "comment_id": 93728054, "body": "@LillyZhuk did you try ?"}], "answers": [{"tags": [], "owner": {"reputation": 3220, "user_id": 8175467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B1AqBPPOFvg/AAAAAAAAAAI/AAAAAAAAAwE/nND5ZayO9ME/photo.jpg?sz=128", "display_name": "programoholic", "link": "https://stackoverflow.com/users/8175467/programoholic"}, "is_accepted": false, "score": 1, "last_activity_date": 1542808259, "creation_date": 1542808259, "answer_id": 53413574, "question_id": 53412500, "link": "https://stackoverflow.com/questions/53412500/how-to-get-the-next-id-from-the-array-when-paging/53413574#53413574", "title": "How to get the next id from the array when paging?", "body": "<p>I didn't understand what issue you are facing exactly but here is an overview of how you can route to next User id by clicking on button. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// in Component.ts file\r\n// import Router from @angular/router\r\nimport { Router } from '@angular/router';\r\n\r\n\r\nconstructor(private _router: Router){}\r\n\r\n// to get the next user id\r\ngetNextId(id: number): number {\r\n       \r\n       // write your logic to get the next id here \r\n    \r\n }}\r\n \r\n//navigate to user id \r\ngetNextUser(id:number){\r\n\r\nlet nextId  = this.getNextId(id); // holds next id \r\n\r\nthis._router.navigate([`/register-step2/${nextId}`]);\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- In Component.html  --&gt;\r\n&lt;div class=\"userDetails\"&gt;\r\n &lt;p&gt; {{user.name}} &lt;/p&gt;\r\n  &lt;p&gt; {{user.age}} &lt;/p&gt;\r\n   &lt;p&gt; {{user.occuption}} &lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;button class=\"next-user\" (click)=\"getNextUser(user.id)\"&gt;\r\n    Next Movie\r\n  &lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I assumed that for each userid service gets called and the result of the service is stored on <code>user</code> variable.  I Hope it helps .</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 0, "creation_date": 1543221349, "post_id": 53413597, "comment_id": 93824562, "body": "I have separate methods:"}, {"owner": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 1, "creation_date": 1543221720, "post_id": 53413597, "comment_id": 93824717, "body": "1.  <code>getNextId(id: number): number {     let index = this.users.findIndex(user =&gt; user.id === id);     if (index &gt; -1) {       return this.users[this.users.length &gt; index + 2         ? index + 1 : 0].id;     } else {       return id || 0;     }   }</code>  2. <code>getUserById(id: number): Observable&lt;User&gt; {     return this.getUsers()       .pipe(         map(users =&gt; users.find(user =&gt; user.id === id)));   }</code> I used your code, but an error occurred error TS2322: Type &#39;Observable&lt;User&gt;&#39; is not assignable to type &#39;User&#39;. Property &#39;page&#39; is missing in type &#39;Observable&lt;User&gt;&#39;."}, {"owner": {"reputation": 2373, "user_id": 7179862, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1241237245937173/picture?type=large", "display_name": "Daniil Andreyevich Baunov", "link": "https://stackoverflow.com/users/7179862/daniil-andreyevich-baunov"}, "reply_to_user": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 0, "creation_date": 1543226986, "post_id": 53413597, "comment_id": 93827440, "body": "Yeah, you are right. since <code>getUserById</code> returns an Observable, you should use <code>switchMap</code> here. To switch from <code>params</code> Observable to <code>User</code> Observable. I updated the answer."}, {"owner": {"reputation": 2373, "user_id": 7179862, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1241237245937173/picture?type=large", "display_name": "Daniil Andreyevich Baunov", "link": "https://stackoverflow.com/users/7179862/daniil-andreyevich-baunov"}, "reply_to_user": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 0, "creation_date": 1543227063, "post_id": 53413597, "comment_id": 93827493, "body": "Next time make sure you give all the necessary information straight away, though."}, {"owner": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 0, "creation_date": 1543235967, "post_id": 53413597, "comment_id": 93832164, "body": "It doesn&#39;t work((( <b>ERROR TypeError: Cannot read property &#39;id&#39; of undefined</b>"}, {"owner": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "edited": false, "score": 0, "creation_date": 1543239458, "post_id": 53413597, "comment_id": 93834223, "body": "I think problem in service.ts. It returns  not the next ID, but the current one."}], "tags": [], "owner": {"reputation": 2373, "user_id": 7179862, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1241237245937173/picture?type=large", "display_name": "Daniil Andreyevich Baunov", "link": "https://stackoverflow.com/users/7179862/daniil-andreyevich-baunov"}, "is_accepted": false, "score": 1, "last_activity_date": 1543226899, "last_edit_date": 1543226899, "creation_date": 1542808335, "answer_id": 53413597, "question_id": 53412500, "link": "https://stackoverflow.com/questions/53412500/how-to-get-the-next-id-from-the-array-when-paging/53413597#53413597", "title": "How to get the next id from the array when paging?", "body": "<p>=== EDIT (After the question was clarified) ===</p>\n\n<p>Now I understand your use case. Here is how I would go about it. </p>\n\n<p>Few things to note so that the example is clear: </p>\n\n<ol>\n<li><code>list</code> route was renamed to <code>users</code> (makes more sense to me)</li>\n<li>Brand new <code>UsersComponent</code> is created to handle all the users-related routes</li>\n<li><code>DetailComponent</code> -> <code>UserDetailsComponent</code></li>\n<li><code>ListComponent</code> -> <code>UsersListComponent</code></li>\n</ol>\n\n<p>Those are just my coding conventions so that things are clear. You can leave your naming style.</p>\n\n<p>In your root component, you will have your root <code>&lt;router-outlet&gt;</code>. And you will also have another <code>&lt;router-outlet&gt;</code> in <code>UsersComponent</code>.\nIn your router settings you would have:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{ path: 'users', component: UsersComponent, children: [\n  { path: '', component: UsersListComponent }\n  { path: ':id', component: UserDetailsComponent }\n] },\n{ path: '', redirectTo: '/users ', pathMatch: 'full' }\n</code></pre>\n\n\n\n<p>Notice, I added a new component <code>UsersComponent</code> which will be a parent for both <code>UsersListComponent</code> and <code>UserDetailsComponent</code>. It will hold a <code>&lt;router-outlet&gt;</code> that will hold either <code>UsersListComponent</code> or <code>UserDetailsComponent</code> depending on the child route that is active.</p>\n\n<ol>\n<li>For <code>/users</code> it will render <code>UsersListComponent</code>.</li>\n<li>For <code>/users/:id</code> it will render <code>UserDetailsComponent</code>.</li>\n</ol>\n\n<p>So, <code>UsersListComponent</code> will have something like the following template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngFor=\"let user of users\" class=\"user-list-item\" &gt;\n    &lt;p&gt;user.name&lt;/p&gt;\n    &lt;button class=\"open-user-details\"\n            [routerLink]=\"['/users', user.id]\"&gt;\n      Navigate To Details\n    &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n\n<p>In <code>UserDetailsComponent</code> you will have something like the following:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"userDetails\"&gt;\n  &lt;p&gt; {{user.id}} &lt;/p&gt;\n  &lt;p&gt; {{user.name}} &lt;/p&gt;\n  &lt;p&gt; {{user.age}} &lt;/p&gt;\n  &lt;p&gt; {{user.occuption}} &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;button class=\"next-user\" \n        [routerLink]=\"['/users', getNextUserId()]\" \n        routerLinkActive=\"active\"&gt;\n    Next User\n&lt;/button&gt;\n</code></pre>\n\n\n\n<p>And in <code>.ts</code> file for <code>UserDetailsComponent</code> you would have:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>user: User; // complete user details object. ID included\nconstructor(private userService: UserService,\n            private activeRoute: ActivatedRoute)\n\n// gets the next user id based on the current user.id\npublic getNextUserId(): number {\n  return this.userService.getNextId(this.user.id)\n}\n\npublic ngOnInit(): void {\n  this.activeRoute.params.pipe(switchMap((params) =&gt; {\n        return this.userService.getUserById(params.id);\n    })).subscribe(user =&gt; {\n        this.user = user;\n    });\n}\n</code></pre>\n\n\n\n<p>I assume your <code>UserService</code> has separate methods:</p>\n\n<ol>\n<li><code>getNextId(curId: number): number</code></li>\n<li><code>getUserById(userId: number): Observable&lt;User&gt;</code></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 10412731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mAybxnliec/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW6_mCnBNqk3u9plVfYQ7N8BrSFMg/mo/photo.jpg?sz=128", "display_name": "LillyZhuk", "link": "https://stackoverflow.com/users/10412731/lillyzhuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1543226899, "creation_date": 1542804895, "last_edit_date": 1542809620, "question_id": 53412500, "link": "https://stackoverflow.com/questions/53412500/how-to-get-the-next-id-from-the-array-when-paging", "title": "How to get the next id from the array when paging?", "body": "<p>I have a button that turns the pages. I need to remain in this component, change the ID in the address bar and thus I will change the information on the site. Data coming to me, look like this:</p>\n\n<pre><code>{\n \"users\": [\n  {\n   \"id\": \"3135\",\n   \"name\": \"Lulu\"\n  },\n {\n  \"id\": \"8173\",\n  \"name\": \"Lala\"\n },\n {\n  \"id\": \"5783\",\n  \"name\": \"Lolo\"\n }\n]\n</code></pre>\n\n<p>I am outputting detailed information about the user by getting an id. My navigation has looks like:</p>\n\n<pre><code>{ path: 'list', component: ListComponent },\n{ path: '', redirectTo: '/list ', pathMatch: 'full' },\n{ path: 'details/:id', component: DetailComponent }\n</code></pre>\n\n<p>I have a button, by pressing which the transition from '/details/Id' to 'details/nextId'. But this button does not work. This is a request for the next ID in the service. (I get the data from Database API\u200b)</p>\n\n<pre><code>private users: User[] = new Array&lt;User&gt;();\nprivate locator = (u: User, id: number) =&gt; u.id === id;\ngetNextId(id: number): number {\n let index = this.users.findIndex(u =&gt; this.locator(u, id));\n if (index &gt; -1) {\n  return this.users[this.users.length &gt; index + 2\n   ? index + 1 : 0].id;\n } else {\n  return id || 0;\n }}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button class=\"next-user\" [routerLink]=\"['details', userService.getNextId(user.id)]\" routerLinkActive=\"active\"&gt;\n    Next User\n  &lt;/button&gt;\n</code></pre>\n\n<p>DetailsListComponent:</p>\n\n<pre><code> private userService: UserService,\nprivate activeRoute: ActivatedRoute,\nprivate location: Location,\nprivate router: Router) {\n\nactiveRoute.params.subscribe(params =&gt; {\n  this.detail = params['details'] === 'details';\n  let id = params['id'];\n  if (id !== null) {\n    Object.assign(this.user, userService.getNextId(id));\n  }\n});\n}\ndetail: boolean = true;\n</code></pre>\n\n<p>I searched the Internet and here the answer to this question, but found only suitable for php. Please, help me. What am I doing wrong? I just recently began to study angular 7 and do not always understand what to do.</p>\n\n<p>I do not know how to explain it correctly, how to explain my problem. But I will try, I have a page that displays a list of my users. Clicking on the user opens a new page with more detailed information about it. In order not to go back to the page with a list of users and not to select the next user, a page with detailed information about the user assumes the presence of the Next button. When I click on this button, the array is iterated, it is determined by which ID the page is currently open and which ID is the next in this array, after which the page goes to the next ID. That is, the same page is opened, but the information on it is about another user who is following the list after the previous user.\nBut my button is currently not working and I do not understand why.</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 588, "user_id": 2225624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88cba5f6ee044b057480fe2cff63825b?s=128&d=identicon&r=PG", "display_name": "kgryte", "link": "https://stackoverflow.com/users/2225624/kgryte"}, "edited": false, "score": 0, "creation_date": 1547853973, "post_id": 53412489, "comment_id": 95349485, "body": "Did you include a triple slash directive which references the <code>node</code> types before attempting to import? E.g., <code>&#47;&#47;&#47; &lt;reference types=&quot;node&quot;&#47;&gt;</code>."}], "owner": {"reputation": 8750, "user_id": 888469, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c97e31641aae90e72cd9b4015f634848?s=128&d=identicon&r=PG", "display_name": "Daniel Santos", "link": "https://stackoverflow.com/users/888469/daniel-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3535, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1595599969, "creation_date": 1542804855, "question_id": 53412489, "link": "https://stackoverflow.com/questions/53412489/node-import-url-and-querystring-types-to-a-typescript-application", "title": "node import url and querystring types to a TypeScript Application", "body": "<p>I would like to import <code>url</code> and <code>querystring</code> node modules in a TypeScript Application.</p>\n\n<pre><code>import url from 'url';\nimport querystring from 'querystring';\n</code></pre>\n\n<p>But I'm getting the fallowing warning, and I'm not getting typing from it.</p>\n\n<blockquote>\n  <p>[ts] Could not find a declaration file for module 'url'. '.../node_modules/url/url.js' implicitly has an 'any' type.\n    Try <code>npm install @types/url</code> if it exists or add a new declaration (.d.ts) file containing <code>declare module 'url';</code> [7016]</p>\n</blockquote>\n\n<p>I know that <code>url</code> and <code>querystring</code> are node modules. I've Installed <code>\"@types/node\": \"^10.12.9\",</code> but it does not solves the typing from both neither the warning.</p>\n\n<p><strong>What Should I Do to get typing from it?</strong></p>\n\n<p>info: I'ts a frontend application using Vue CLI</p>\n\n<p>here are my <code>ts.config</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"esnext\",\n    \"strict\": true,\n    \"strictNullChecks\": false,\n    \"jsx\": \"preserve\",\n    \"importHelpers\": true,\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"sourceMap\": true,\n    \"noImplicitAny\": false,\n    \"baseUrl\": \".\",\n    \"types\": [\"webpack-env\", \"mocha\", \"chai\"],\n    \"paths\": {\n      \"@/*\": [\"src/*\"]\n    },\n    \"lib\": [\"esnext\", \"dom\", \"dom.iterable\", \"scripthost\"]\n  },\n  \"include\": [\"src/**/*.ts\", \"src/**/*.tsx\", \"src/**/*.vue\", \"tests/**/*.ts\", \"tests/**/*.tsx\"],\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n\n<p>and <code>package.json</code></p>\n\n<pre><code>{\n  \"name\": \"rating-form\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"serve\": \"vue-cli-service serve\",\n    \"build\": \"vue-cli-service build\",\n    \"lint\": \"vue-cli-service lint\",\n    \"test:unit\": \"vue-cli-service test:unit\"\n  },\n  \"dependencies\": {\n    \"axios\": \"^0.18.0\",\n    \"bootstrap\": \"^4.1.3\",\n    \"jquery\": \"^3.3.1\",\n    \"moment\": \"^2.22.2\",\n    \"popper.js\": \"^1.14.4\",\n    \"toastr\": \"^2.1.4\",\n    \"vue\": \"^2.5.17\",\n    \"vue-class-component\": \"^6.0.0\",\n    \"vue-property-decorator\": \"^7.0.0\",\n    \"vue-router\": \"^3.0.1\",\n    \"vue-slider-component\": \"^2.8.0\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"^4.1.0\",\n    \"@types/mocha\": \"^5.2.4\",\n    \"@types/node\": \"^10.12.9\",\n    \"@types/qs\": \"^6.5.1\",\n    \"@types/toastr\": \"^2.1.35\",\n    \"@vue/cli-plugin-typescript\": \"^3.1.1\",\n    \"@vue/cli-plugin-unit-mocha\": \"^3.1.1\",\n    \"@vue/cli-service\": \"^3.1.1\",\n    \"@vue/test-utils\": \"^1.0.0-beta.20\",\n    \"chai\": \"^4.1.2\",\n    \"ts-node\": \"^7.0.1\",\n    \"typescript\": \"^3.1.6\",\n    \"vue-template-compiler\": \"^2.5.17\"\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 449, "user_id": 9303950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rah0mFHfa9Y/AAAAAAAAAAI/AAAAAAAAARQ/tKwHAEVbP-A/photo.jpg?sz=128", "display_name": "ashish pal", "link": "https://stackoverflow.com/users/9303950/ashish-pal"}, "edited": false, "score": 0, "creation_date": 1542804931, "post_id": 53412263, "comment_id": 93699625, "body": "have you did proxy configuration for cross-origin issue?"}, {"owner": {"reputation": 449, "user_id": 9303950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rah0mFHfa9Y/AAAAAAAAAAI/AAAAAAAAARQ/tKwHAEVbP-A/photo.jpg?sz=128", "display_name": "ashish pal", "link": "https://stackoverflow.com/users/9303950/ashish-pal"}, "edited": false, "score": 0, "creation_date": 1542805665, "post_id": 53412263, "comment_id": 93700013, "body": "if you are facing cross-origin issue the this one may help you <a href=\"https://stackoverflow.com/questions/53372609/embed-angular-into-spring-application-and-access-spring-controllers-when-running/53372789#53372789\" title=\"embed angular into spring application and access spring controllers when running\">stackoverflow.com/questions/53372609/&hellip;</a>"}], "owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542804075, "creation_date": 1542804075, "question_id": 53412263, "link": "https://stackoverflow.com/questions/53412263/angular-cross-origin-calling-mockapi-io", "title": "Angular: cross origin calling mockapi.io", "body": "<p>Could you please help me to find the error on this http service ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/KlG44.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlG44.png\" alt=\"enter image description here\"></a>\nJson:\n<a href=\"http://5bf54a062a6f080013a34e5b.mockapi.io/tasks\" rel=\"nofollow noreferrer\">http://5bf54a062a6f080013a34e5b.mockapi.io/tasks</a></p>\n\n<p>Project\n<a href=\"https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fservices%2Ftask.service.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fservices%2Ftask.service.ts</a></p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 1, "creation_date": 1542815853, "post_id": 53412209, "comment_id": 93706224, "body": "I&#39;m not following your problem here.  Your <code>index.d.ts</code> example seems to compile fine, and I have no problem mixing an import of <code>ServerPlugin</code> from <code>index.d.ts</code> and importing <code>NextFunction</code> from <code>express</code>.  Can you at least show the compiler error you&#39;re getting?"}, {"owner": {"reputation": 789, "user_id": 9077800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StzLv.jpg?s=128&g=1", "display_name": "aquiseb", "link": "https://stackoverflow.com/users/9077800/aquiseb"}, "reply_to_user": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 1, "creation_date": 1542818620, "post_id": 53412209, "comment_id": 93707961, "body": "I just solved the issue by renaming index.d.ts to global.d.ts. Do you think the issue occured because I had a index.ts at the same level as index.d.ts? index.ts was just exporting all undelying modules."}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 1, "creation_date": 1542819137, "post_id": 53412209, "comment_id": 93708265, "body": "Yes, typescript has a fuzzy logic for matching imports.  If you run <code>tsc --traceResolution</code> it will give you extremely verbose output about what filenames it tries and in what order.  See <a href=\"http://www.typescriptlang.org/docs/handbook/module-resolution.html#how-typescript-resolves-modules\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a> for the official documentation.  If you give it a name like <code>import x from &quot;abc&quot;</code> it searches a bunch of extension patterns (defined in the link above) until it finds the first match.  Specifically, <code>.ts</code> is searched before <code>.d.ts</code>, so that would cause your problem."}, {"owner": {"reputation": 789, "user_id": 9077800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StzLv.jpg?s=128&g=1", "display_name": "aquiseb", "link": "https://stackoverflow.com/users/9077800/aquiseb"}, "reply_to_user": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1542820001, "post_id": 53412209, "comment_id": 93708755, "body": "@Alex Thanks, much appreciated. Please feel free to extend your comment as an answer so I can select it as the answer and upvote."}], "owner": {"reputation": 789, "user_id": 9077800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StzLv.jpg?s=128&g=1", "display_name": "aquiseb", "link": "https://stackoverflow.com/users/9077800/aquiseb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1489, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542805137, "creation_date": 1542803899, "last_edit_date": 1542805137, "question_id": 53412209, "link": "https://stackoverflow.com/questions/53412209/how-to-import-an-interface-from-types-in-index-d-ts", "title": "How to import an interface from @types in index.d.ts?", "body": "<p>Express exposes <code>Express.Request</code>, <code>Express.Response</code> but I also need <code>Express.NextFunction</code> interface which is not available in the Express namespace. </p>\n\n<p>How to use the <code>NextFunction</code> interface in index.d.ts?</p>\n\n<p>Context:</p>\n\n<ul>\n<li><p><code>index.d.ts</code> declares a namespace <strong>ServerPlugin</strong>.</p></li>\n<li><p>ServerPlugin contains an interface called <strong>Params</strong></p></li>\n<li><p>Anywhere in the app, I can use <code>ServerPlugin.Params</code> as expected</p></li>\n</ul>\n\n<p>But, as soon as I import NextFunction from <a href=\"https://www.npmjs.com/package/@types/express\" rel=\"nofollow noreferrer\">@types/express</a>, in <code>index.d.ts</code> I get errors in all files using <code>ServerPlugin.Params</code>.</p>\n\n<blockquote>\n  <p>Cannot find namespace 'ServerPlugin'</p>\n</blockquote>\n\n<p><strong>index.d.ts</strong></p>\n\n<p>If not importing <code>NextFunction</code> and commenting out <code>next</code> => no error</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>declare namespace ServerPlugin {\n    interface Params {\n        req: Express.Response;\n        res: Express.Request;\n        next: NextFunction;\n        options: object;\n        // ... and much more\n    }\n}\n\nimport { NextFunction } from 'express';\n</code></pre>\n\n<p><strong>user.ts</strong></p>\n\n<p>This file says it cannot find namespace ServerPlugin. </p>\n\n<p>If I <code>import { ServerPlugin } from '../../index'</code>, no error, but I did not have to import before using NextFunction.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { userViewerChunk } from './graphql/UserType';\n\nconst user: Function = ({ next, extendSchema }: ServerPlugin.Params): void =&gt; {\n    extendSchema(userViewerChunk);\n    next();\n};\n\nexport default user;\n</code></pre>\n"}, {"tags": ["typescript", "cors"], "comments": [{"owner": {"reputation": 1024, "user_id": 3021349, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/W6R7t.png?s=128&g=1", "display_name": "ram12393", "link": "https://stackoverflow.com/users/3021349/ram12393"}, "edited": false, "score": 0, "creation_date": 1542803658, "post_id": 53412124, "comment_id": 93698924, "body": "use this google chrome extension <code>https:&#47;&#47;chrome.google.com&#47;webstore&#47;detail&#47;allow-control-allo&zwnj;&#8203;w-origi&#47;nlfbmbojpeac&zwnj;&#8203;fghkpbjhddihlkkiljbi&zwnj;&#8203;?hl=en</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542803704, "post_id": 53412124, "comment_id": 93698944, "body": "Have you authorized preflight requests ? These are <code>OPTIONS</code> requests made by the browser."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542803744, "post_id": 53412124, "comment_id": 93698968, "body": "Also, as this has nothing to do with Angular, I highly suggest you update your code with your backend code, and the tags with the corresponding language, before your question gets edited (like, by me in five minutes)"}, {"owner": {"reputation": 1297, "user_id": 6672179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sa5GS.jpg?s=128&g=1", "display_name": "Sheik Althaf", "link": "https://stackoverflow.com/users/6672179/sheik-althaf"}, "edited": false, "score": 0, "creation_date": 1542803746, "post_id": 53412124, "comment_id": 93698969, "body": "What is your backed framework because there is nothing to do with angular"}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 5745917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5zTJn.jpg?s=128&g=1", "display_name": "Myco Claro", "link": "https://stackoverflow.com/users/5745917/myco-claro"}, "edited": false, "score": 0, "creation_date": 1542803945, "post_id": 53412182, "comment_id": 93699083, "body": "this answer maybe help to other&#39;s they can easily see the answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542804182, "post_id": 53412182, "comment_id": 93699222, "body": "That&#39;s not an answer, and it won&#39;t help anyone with an issue. That&#39;s basically promoting a plugin, not answering a question."}, {"owner": {"reputation": 183, "user_id": 9870268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a93a0dd65eb016daa823ad40ea526c6?s=128&d=identicon&r=PG&f=1", "display_name": "Joost Kaal", "link": "https://stackoverflow.com/users/9870268/joost-kaal"}, "edited": false, "score": 0, "creation_date": 1542804275, "post_id": 53412182, "comment_id": 93699280, "body": "I think this would only work on my pc, and it would not work when the application get&#39;s deployed. Or am i wrong here?"}], "tags": [], "owner": {"reputation": 465, "user_id": 5745917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5zTJn.jpg?s=128&g=1", "display_name": "Myco Claro", "link": "https://stackoverflow.com/users/5745917/myco-claro"}, "is_accepted": true, "score": -4, "last_activity_date": 1542803788, "creation_date": 1542803788, "answer_id": 53412182, "question_id": 53412124, "link": "https://stackoverflow.com/questions/53412124/typescript-cors-enabled-but-still-getting-cors-error/53412182#53412182", "title": "Typescript CORS enabled but still getting CORS error", "body": "<p>If you want Easiest way you can use plugins.</p>\n\n<pre><code>Allow-Control-Allow-Origin\n</code></pre>\n\n<p>URL LINK: <a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi?hl=en\" rel=\"nofollow noreferrer\">https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi?hl=en</a></p>\n"}], "owner": {"reputation": 183, "user_id": 9870268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a93a0dd65eb016daa823ad40ea526c6?s=128&d=identicon&r=PG&f=1", "display_name": "Joost Kaal", "link": "https://stackoverflow.com/users/9870268/joost-kaal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6954, "favorite_count": 0, "closed_date": 1542804098, "accepted_answer_id": 53412182, "answer_count": 1, "score": 2, "last_activity_date": 1542805654, "creation_date": 1542803567, "last_edit_date": 1542805654, "question_id": 53412124, "link": "https://stackoverflow.com/questions/53412124/typescript-cors-enabled-but-still-getting-cors-error", "closed_reason": "Duplicate", "title": "Typescript CORS enabled but still getting CORS error", "body": "<p>I have added a cors header in my Angular 7.0.5 project but i am still getting the following error when submitting a form and sending the form data to a 'back-end' (google script):</p>\n\n<p>Access to XMLHttpRequest at '<a href=\"https://script.google.com/blabla\" rel=\"nofollow noreferrer\">https://script.google.com/blabla</a>' from origin '<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a>' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n\n<p>I am not receiving this error when i try this in Chrome with disabled security.</p>\n\n<p>Might be a syntax error but i have been searching for a long time and tried a lot of things but i can't get it working.</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {HttpClient, HttpParams, HttpHeaders} from '@angular/common/http';\nimport {ContactFormDto} from '../services/dto/contactform.dto';\n\nconst headers = new HttpHeaders()\n    .set('Content-Type', 'undefined')\n    .set('Access-Control-Allow-Origin', '*')\n    .set('Access-Control-Allow-Methods', 'POST')\n    .set('Access-Control-Allow-Headers', 'Origin')\n    .set('Access-Control-Allow-Credentials', 'true');\n\n@Component({\n    selector: 'app-contact',\n    templateUrl: './contact.component.html',\n    styleUrls: ['./contact.component.sass']\n})\n\nexport class ContactComponent implements OnInit {\n\ncontactForm: FormGroup;\nsubmitted = false;\n\nMAIL_SCRIPT_URL = \n'https://script.google.com/scriptlocation';\n\nprivate contactFormDto: ContactFormDto;\n\nconstructor(private formBuilder: FormBuilder, private http: HttpClient) {\n    this.contactForm = this.formBuilder.group({\n       name: ['', Validators.required],\n       email: ['', Validators.required],\n       message: ['', Validators.required],\n    });\n}\n\nonSubmit() {\n  this.submitted = true;\n  if (this.contactForm.valid) {\n  this.contactFormDto = new ContactFormDto(\n    this.contactForm.controls.name.value,\n    this.contactForm.controls.email.value,\n    this.contactForm.controls.message.value\n  );\n\n  this.http.post(\n    this.MAIL_SCRIPT_URL,\n    this.contactFormDto,\n    {headers}\n  ).subscribe(data =&gt; {\n    console.log('Mail has been sent' + data);\n  }, error =&gt; {\n    console.log('Mail has not been sent ' + error);\n  });\n\n  console.log('name: ' + this.contactForm.controls.name.value + ' email: ' + \n  this.contactForm.controls.email.value + ' message: ' + \n  this.contactForm.controls.message.value);\n  }\n}\n\nngOnInit() {\n}\n</code></pre>\n\n<p>The 'backend' is a google script (runs when i post the form results to the url) </p>\n\n<pre><code>var TO_ADDRESS = \"myaddress@gmail.com\"; // where to send form data\n\nfunction doPost(e) {\n\ntry {\n  Logger.log(e); // the Google Script version of console.log see: Class \n  Logger\n  MailApp.sendEmail(TO_ADDRESS, \"Contact Form Submitted\",\n                  JSON.stringify(e.parameters));\n  // return json success results\n  return ContentService\n      .createTextOutput(\n        JSON.stringify({\"result\":\"success\",\n                        \"data\": JSON.stringify(e.parameters) }))\n      .setMimeType(ContentService.MimeType.JSON);\n} catch(error) { // if error return this\n  Logger.log(error);\n  return ContentService\n      .createTextOutput(JSON.stringify({\"result\":\"error\", \"error\": e}))\n      .setMimeType(ContentService.MimeType.JSON);\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1542802088, "creation_date": 1542802088, "answer_id": 53411718, "question_id": 53411529, "link": "https://stackoverflow.com/questions/53411529/how-to-merge-several-object-methods-declared-using-generics-in-typescript/53411718#53411718", "title": "How to merge several object methods declared using generics in TypeScript?", "body": "<p>Declaration merging can't change the type of an existing field (this is a design limitation). An alternate solution would be to declare a type for the <code>emit</code> field and extend that:</p>\n\n<pre><code>interface IEmit&lt;TType, TPayload&gt; {\n    (type: TType, id: string, options: { payload: TPayload }) : void\n}\n\ninterface CommandBus {\n  emit: CommandBusEmit;\n}\n\n//default type for the emit field \ninterface CommandBusEmit { }\n\n//extensions to it \ninterface CommandBusEmit extends IEmit&lt;'execute', { command: string }&gt; { }\ninterface CommandBusEmit extends IEmit&lt;'stop', { pid: number }&gt; { }\n\ndeclare let cb: CommandBus;\ncb.emit('execute', \"\", { payload : { command: \"\"}})\ncb.emit('stop', \"\", { payload: { command: \"\" } }) // error\ncb.emit('stop', \"\", { payload : { pid: 1}}) // ok\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 3641734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d82497763ec2373a2a10fcf3575937?s=128&d=identicon&r=PG&f=1", "display_name": "termosa", "link": "https://stackoverflow.com/users/3641734/termosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53411718, "answer_count": 1, "score": 2, "last_activity_date": 1542802088, "creation_date": 1542801366, "question_id": 53411529, "link": "https://stackoverflow.com/questions/53411529/how-to-merge-several-object-methods-declared-using-generics-in-typescript", "title": "How to merge several object methods declared using generics in TypeScript?", "body": "<p><strong>THE SCOPE</strong>:</p>\n\n<p>Here is what I love about TypeScript:</p>\n\n<pre><code>interface CommandBus {\n    emit(type: 'execute', payload: { command: string }) : number;\n    emit(type: 'stop', payload: { pid: number }) : bool;\n}\n</code></pre>\n\n<p>\u2026 and then, while I'm writing this <code>commandBus.emit('stop',</code> IntelliSense will tell me that the next function argument is <code>payload: { pid: number }</code>. This is priceless!</p>\n\n<p>It is also possible to split it into several interfaces and TypeScript will merge it and the result will be the same:</p>\n\n<pre><code>interface CommandBus {\n    emit(type: 'execute', payload: { command: string }) : number;\n}\n\ninterface CommandBus {\n    emit(type: 'stop', payload: { pid: number }) : bool;\n}\n</code></pre>\n\n<p>This is what I use for my application. In different packages, I extend an interface with methods specific to that package. But the method signature is more complicated than the one above, and it has more common things, so I've created the generic:</p>\n\n<pre><code>interface IEmit&lt;TType, TPayload&gt; {\n    (type: TType, id: string, options: { payload: TPayload }) : void\n}\n</code></pre>\n\n<p>And I've tried to use it with my interface:</p>\n\n<pre><code>interface CommandBus {\n    emit: IEmit&lt;'execute', { command: string }&gt;;\n    emit: IEmit&lt;'stop', { pid: number }&gt;;\n}\n</code></pre>\n\n<p><strong>THE PROBLEM</strong>: TypeScript cannot handle this syntax, it only applies the first <code>emit</code> declaration and ignoring others.</p>\n\n<p><strong>THE QUESTION</strong>: How do I manage to overload a method in an interface using function types or interfaces?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1542800689, "post_id": 53411296, "comment_id": 93697409, "body": "I have edited your question to make it prettier. Please make some effort for readability, no-one wants to see a huge chunk of unformatted text ... Also, if it doesn&#39;t cope with your code, please update it (I have added <code>===</code> instead of <code>=</code> and <code>==</code>, thinking they were errors)."}, {"owner": {"reputation": 1060, "user_id": 5564018, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b070c50a8b9a8a1c41fb18a700506b7?s=128&d=identicon&r=PG&f=1", "display_name": "Yaniv Eliav", "link": "https://stackoverflow.com/users/5564018/yaniv-eliav"}, "edited": false, "score": 0, "creation_date": 1542800819, "post_id": 53411296, "comment_id": 93697479, "body": "thanks. correct, they were errors but wasn&#39;t the problem"}, {"owner": {"reputation": 770, "user_id": 4091337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/571fac3c538daeefb2ed28c670530fc7?s=128&d=identicon&r=PG&f=1", "display_name": "Teun van der Wijst", "link": "https://stackoverflow.com/users/4091337/teun-van-der-wijst"}, "edited": false, "score": 0, "creation_date": 1542800841, "post_id": 53411296, "comment_id": 93697490, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44330952/filter-array-of-objects-by-multiple-properties-and-values\">Filter array of objects by multiple properties and values</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "is_accepted": true, "score": 3, "last_activity_date": 1542800916, "creation_date": 1542800916, "answer_id": 53411394, "question_id": 53411296, "link": "https://stackoverflow.com/questions/53411296/filter-with-two-arguments-parameters/53411394#53411394", "title": "Filter with two arguments\\parameters", "body": "<p>use <code>&amp;&amp;</code> operator </p>\n\n<pre><code>performFilterByRunnerName(\n  filterByCompetition: string, filterByRunnerName: string\n): IRunners[] {\nreturn this.runners\n  .filter(x =&gt; x.runnerName === filterByRunnerName &amp;&amp; x.competitionId === filterByCompetition);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1542800938, "creation_date": 1542800938, "answer_id": 53411405, "question_id": 53411296, "link": "https://stackoverflow.com/questions/53411296/filter-with-two-arguments-parameters/53411405#53411405", "title": "Filter with two arguments\\parameters", "body": "<p>Doing two filters in sequence means that </p>\n\n<ul>\n<li>You get a first set of values</li>\n<li>In this set, you create a new set of values</li>\n</ul>\n\n<p>If it isn't what you want, you should probably explain what it is that you are expecting. </p>\n\n<p>But to inform you, you have : </p>\n\n<p><strong>OR</strong></p>\n\n<pre><code>.filter(x =&gt; x.runnerName === filterByRunnerName || x.competitionId === filterByCompetition);\n</code></pre>\n\n<p><strong>AND</strong></p>\n\n<pre><code>.filter(x =&gt; x.runnerName === filterByRunnerName &amp;&amp; x.competitionId === filterByCompetition);\n</code></pre>\n\n<p><strong>XOR</strong> </p>\n\n<pre><code>.filter(x =&gt; \n  (x.runnerName === filterByRunnerName &amp;&amp; !(x.competitionId === filterByCompetition)) || \n  (!(x.runnerName === filterByRunnerName) &amp;&amp; x.competitionId === filterByCompetition));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 1, "last_activity_date": 1542801250, "creation_date": 1542801250, "answer_id": 53411497, "question_id": 53411296, "link": "https://stackoverflow.com/questions/53411296/filter-with-two-arguments-parameters/53411497#53411497", "title": "Filter with two arguments\\parameters", "body": "<p>It's hard to know exactly what's going on from your post. But I'll give it a go:</p>\n\n<pre><code>You have a function,\nThat accepts two values,\nand returns an array,\nthat is first filtered by one value,\nwhich is passed along the pipe,\nand is then filtered by the other value.\n</code></pre>\n\n<p>That's not the same as, \"I am filtering an array by two values,\" which implies the two filters are a simple \"&amp;&amp;\". They're not. I've seen this subtle (though important) difference cause an issue many times.</p>\n\n<p>A very simple way to go about it: you can just do as many comparisons inside of one filter as you want.</p>\n\n<pre><code>performFilterByRunnerName(\n  filterByCompetition: string, filterByRunnerName: string\n): IRunners[] {\nreturn this.runners\n  .filter(x =&gt; ( x.runnerName === filterByRunnerName &amp;&amp; x.competitionId === filterByCompetition ) );\n}\n</code></pre>\n\n<p>If your end game is to \"get all objects that match these two criteria\" this should run predictably.</p>\n"}], "owner": {"reputation": 1060, "user_id": 5564018, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b070c50a8b9a8a1c41fb18a700506b7?s=128&d=identicon&r=PG&f=1", "display_name": "Yaniv Eliav", "link": "https://stackoverflow.com/users/5564018/yaniv-eliav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 53411394, "answer_count": 3, "score": 1, "last_activity_date": 1542801250, "creation_date": 1542800486, "last_edit_date": 1542800721, "question_id": 53411296, "link": "https://stackoverflow.com/questions/53411296/filter-with-two-arguments-parameters", "title": "Filter with two arguments\\parameters", "body": "<p>I have a method that should return a list.\nI would like to filter the data by two parameters and not one. \nSo far I have done the following but that's an unwanted result so I've probably done something wrong</p>\n\n<pre><code>performFilterByRunnerName(\n  filterByCompetition: string, filterByRunnerName: string\n): IRunners[] {\nreturn this.runners\n  .filter(x =&gt; x.runnerName === filterByRunnerName)\n  .filter(x =&gt; x.competitionId === filterByCompetition);\n}\n</code></pre>\n"}, {"tags": ["typescript", "jasmine", "protractor", "qa", "browser-automation"], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 8931968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f374c45b9ff941ce7e6bc19fe14d38?s=128&d=identicon&r=PG&f=1", "display_name": "tz0", "link": "https://stackoverflow.com/users/8931968/tz0"}, "edited": false, "score": 0, "creation_date": 1553771284, "post_id": 54959350, "comment_id": 97512358, "body": "Yes, but the problem I have with this is that, almost always, these xx:xx show it(..) in which a line had failed and not the line itself"}, {"owner": {"reputation": 343, "user_id": 490364, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/944f085fd19cfeca28ce8693e36d5473?s=128&d=identicon&r=PG", "display_name": "xlash", "link": "https://stackoverflow.com/users/490364/xlash"}, "reply_to_user": {"reputation": 187, "user_id": 8931968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f374c45b9ff941ce7e6bc19fe14d38?s=128&d=identicon&r=PG&f=1", "display_name": "tz0", "link": "https://stackoverflow.com/users/8931968/tz0"}, "edited": false, "score": 0, "creation_date": 1553870566, "post_id": 54959350, "comment_id": 97558871, "body": "Please share your conf.js and possibly a code snippet to reproduce. I assume you do use jasmine framework, as per the tag set in your question."}, {"owner": {"reputation": 187, "user_id": 8931968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f374c45b9ff941ce7e6bc19fe14d38?s=128&d=identicon&r=PG&f=1", "display_name": "tz0", "link": "https://stackoverflow.com/users/8931968/tz0"}, "edited": false, "score": 0, "creation_date": 1554202278, "post_id": 54959350, "comment_id": 97656376, "body": "I&#39;ve added them in the issue description"}], "tags": [], "owner": {"reputation": 343, "user_id": 490364, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/944f085fd19cfeca28ce8693e36d5473?s=128&d=identicon&r=PG", "display_name": "xlash", "link": "https://stackoverflow.com/users/490364/xlash"}, "is_accepted": false, "score": 0, "last_activity_date": 1554213680, "last_edit_date": 1554213680, "creation_date": 1551535554, "answer_id": 54959350, "question_id": 53411292, "link": "https://stackoverflow.com/questions/53411292/how-to-set-protractor-to-show-line-in-which-the-test-had-failed/54959350#54959350", "title": "How to set protractor to show line in which the test had failed", "body": "<p>Running your tests with protractor directly shows this. For example :</p>\n\n<pre><code>\u279c  MyApp git:(master) \u2717 protractor conf.js \n[08:59:29] I/launcher - Running 1 instances of WebDriver\n[08:59:29] I/local - Starting selenium standalone server...\n[08:59:29] I/local - Selenium standalone server started at http://192.168.157.128:52662/wd/hub\nStarted\nF\nF.\n\nFailures:\n1) My tests Loads and login\n  Message:\n    Expected 'My variable' to equal 'Welcome!'.\n  Stack:\n    Error: Failed expectation\n        at UserContext.&lt;anonymous&gt; (/MyApp/ConvertedJSFiles/mytests_1.js:65:39)\n        at step (/MyApp/ConvertedJSFiles/mytests_1.js:32:23)\n        at Object.next (/MyApp/ConvertedJSFiles/mytests_1.js:13:53)\n        at fulfilled (/MyApp/ConvertedJSFiles/mytests_1.js:4:58)\n        at process._tickCallback (internal/process/next_tick.js:68:7)\n\n2) My Second Test\n  Message:\n    Expected 0 to be 4.\n  Stack:\n    Error: Failed expectation\n        at UserContext.&lt;anonymous&gt; (/MyApp/ConvertedJSFiles/mytests_1.js:91:37)\n        at step (/MyApp/ConvertedJSFiles/mytests_1.js:32:23)\n        at Object.next (/MyApp/ConvertedJSFiles/mytests_1.js:13:53)\n        at fulfilled (/MyApp/ConvertedJSFiles/mytests_1.js:4:58)\n        at process._tickCallback (internal/process/next_tick.js:68:7)\n\n3 specs, 2 failures\nFinished in 5.991 seconds\n\n[08:59:37] I/local - Shutting down selenium standalone server.\n[08:59:37] I/launcher - 0 instance(s) of WebDriver still running\n[08:59:37] I/launcher - chrome #01 failed 2 test(s)\n[08:59:37] I/launcher - overall: 2 failed spec(s)\n[08:59:37] E/launcher - Process exited with error code 1\n</code></pre>\n\n<hr>\n\n<p>UPDATE:</p>\n\n<p>Since I'm not allowed to disclose the code, here are the relevant parts:</p>\n\n<pre><code>// shared-helper.ts:\nexport class SharedHelper {\n    // ...\n    public static isPresentAndVisible(el: ElementFinder, expectedResult: boolean, nameUponFail = 'Element'): void {\n        el.isPresent().then(present =&gt; {\n            if (present !== expectedResult) {\n                // tslint:disable-next-line:max-line-length\n                global.console.log('[isPresentAndVisible] ERROR: [', nameUponFail, ']\\'s presence was expected to be [', expectedResult, '] and it was not');\n                expect(present).toEqual(expectedResult);\n            } else if (expectedResult) {\n                el.isDisplayed().then(displayed =&gt; {\n                    if (displayed !== expectedResult) {\n                        // tslint:disable-next-line:max-line-length\n                        global.console.log('[isPresentAndVisible] ERROR: [', nameUponFail, ']\\'s visibility was expected to be [', expectedResult, '] and it was not. Presence was confirmed though');\n                    }\n                    expect(displayed).toEqual(expectedResult);\n                });\n            } else {\n                expect(present).toEqual(expectedResult);\n            }\n        });\n    }\n    // ...\n}\n\n// m-helper.ts:\n\nexport class MHelper {\n    // ...\n    public static checkM(someParameters): void {\n        // ...\n        SharedHelper.isPresentAndVisible(someArguments);\n        // ...\n    }\n}\n\n\n// test.ts:\n\n// ...\nit('Test', () =&gt; {\n    // ...\n    MHelper.checkM(someArguments);\n    // ...\n});\n\n//protractor.conf.js:\n\nconst {\n    SpecReporter\n} = require('jasmine-spec-reporter');\n\nvar screenShotReporter = require('./e2e/reporter/screenshot-reporter');\n\nexports.config = {\n    allScriptsTimeout: 90000,  // original value: 11000\n    getPageTimeout: 30000,  // original value: 20000\n    suites: {\n        ...\n        regression: './e2e/src/regression/.test.ts',\n        ...\n    },\n    capabilities: {\n        'browserName': 'chrome',\n        'chromeOptions': {\n            prefs: {\n                'profile.managed_default_content_settings.notifications': 2\n            }\n        }\n    },\n    directConnect: true,\n    baseUrl: 'http://localhost:4200',\n    framework: 'jasmine',\n    jasmineNodeOpts: {\n        showColors: true,\n        defaultTimeoutInterval: 50000,\n        print: function () {}\n    },\n    onPrepare() {\n        require('ts-node').register({\n            project: 'e2e/tsconfig.e2e.json'\n        });\n        jasmine.getEnv().addReporter(new SpecReporter({\n            suite: {\n                displayNumber: true\n            },\n            spec: {\n                displayStacktrace: true,\n                displayDuration: true\n            }\n        }));\n        jasmine.getEnv().addReporter(screenShotReporter);\n\n        setTimeout(function() {\n            browser.driver.executeScript(function() {\n                return {\n                    width: window.screen.availWidth,\n                    height: window.screen.availHeight\n                };\n            }).then(function(result) {\n                browser.driver.manage().window().setSize(result.width, result.height);\n            });\n        });\n    }\n};\n</code></pre>\n\n<hr>\n\n<h2>RESULT:</h2>\n\n<p>isPresentAndVisible failed; this is log:</p>\n\n<pre><code>[12:10:58] I/direct - Using ChromeDriver directly...\nJasmine started\n[isPresentAndVisible] ERROR: [ xBtn ]'s presence was expected to be [ true ] and it was not\n\n  1 DescName\n\n    1.1\n      \u2717 Test (17 secs)\n        - Expected false to equal true.\n            at /home/zzzz/zzzz/projName/zzzz/e2e/src/utils/helpers/shared.ts:478:21\n            at ManagedPromise.invokeCallback_ (/usr/lib/node_modules/protractor/node_modules/selenium-webdriver/lib/promise.js:1376:14)\n            at TaskQueue.execute_ (/usr/lib/node_modules/protractor/node_modules/selenium-webdriver/lib/promise.js:3084:14)\n            at TaskQueue.executeNext_ (/usr/lib/node_modules/protractor/node_modules/selenium-webdriver/lib/promise.js:3067:27)\n            at asyncRun (/usr/lib/node_modules/protractor/node_modules/selenium-webdriver/lib/promise.js:2927:27)\n            at /usr/lib/node_modules/protractor/node_modules/selenium-webdriver/lib/promise.js:668:7\n            at &lt;anonymous&gt;\n            at process._tickCallback (internal/process/next_tick.js:188:7)\n\n**************************************************\n*                    Failures                    *\n**************************************************\n\n1) ...Test\n  - Expected false to equal true.\n\nExecuted 1 of 803 specs (1 FAILED) (802 SKIPPED) in 24 secs.\n[12:11:24] I/launcher - 0 instance(s) of WebDriver still running\n[12:11:24] I/launcher - chrome #01 failed 1 test(s)\n[12:11:24] I/launcher - overall: 1 failed spec(s)\n[12:11:24] E/launcher - Process exited with error code 1\n*/\n</code></pre>\n\n<p>As you can see, here, I've received information about fail in sharedHelper, but not where isPresentAndVisible func was called (it is used multiple times).\nAlso, there is even less info (no file created by me is referenced in the log) when browser.wait(EC.visibilityOf(btn)); is called;</p>\n"}], "owner": {"reputation": 187, "user_id": 8931968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f374c45b9ff941ce7e6bc19fe14d38?s=128&d=identicon&r=PG&f=1", "display_name": "tz0", "link": "https://stackoverflow.com/users/8931968/tz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1611602352, "creation_date": 1542800479, "last_edit_date": 1543247690, "question_id": 53411292, "link": "https://stackoverflow.com/questions/53411292/how-to-set-protractor-to-show-line-in-which-the-test-had-failed", "title": "How to set protractor to show line in which the test had failed", "body": "<p>I am very new to protractor, so I hope someone knows the answer to this question:</p>\n\n<p><strong>Question</strong>\nHow can I set it up, so that when test fails, report log shows the line in which it had failed?</p>\n\n<p><strong>Example</strong>\nNightwatch terminal log would show something like this:</p>\n\n<pre><code>testing command1\ntesting command2\n   Error sharedFunctions.js (5:23) // 5-line, 23-character where the error occured\n         componentHelper.js (236:32) // place where sharedFunctions was called\n         test.js (56:12) // place in test where componentHelper was called\n</code></pre>\n\n<p>Could it be possible to make something similar with protractor?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular7"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 2, "creation_date": 1542800587, "post_id": 53411274, "comment_id": 93697351, "body": "Why not to use enviroment files?"}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542801876, "post_id": 53411274, "comment_id": 93698036, "body": "I added my environment file. How I need to configure it?"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542801939, "post_id": 53411274, "comment_id": 93698071, "body": "which version of angular you are using?"}, {"owner": {"reputation": 3556, "user_id": 5300473, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/88eaa2b57410990d33dfa1b9330b77ae?s=128&d=identicon&r=PG", "display_name": "Spitzbueb", "link": "https://stackoverflow.com/users/5300473/spitzbueb"}, "edited": false, "score": 0, "creation_date": 1542802482, "post_id": 53411274, "comment_id": 93698337, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43258421/properly-using-environment-ts-in-my-angular4-application-with-angular-cli\">Properly using environment.ts in my angular4 application with angular-cli</a>"}], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 2, "last_activity_date": 1542802351, "creation_date": 1542802351, "answer_id": 53411794, "question_id": 53411274, "link": "https://stackoverflow.com/questions/53411274/run-ng-build-with-custom-configurations/53411794#53411794", "title": "Run ng build with custom configurations", "body": "<p>Assuming you are using Angular (>v6), and you have created multiple environment files as per requirements.</p>\n\n<p>So what you need to do is, go to angular.json file</p>\n\n<pre><code>angular.json &gt; projects &gt; projectName &gt; architect &gt; build &gt; configurations &gt; fileReplacements\n</code></pre>\n\n<p>and here you need to replace files name with your files name like this -</p>\n\n<pre><code>\"replace\": \"src/environments/environment.ts\",\n\"with\": \"src/environments/environment.live.ts\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "is_accepted": false, "score": 2, "last_activity_date": 1615543720, "last_edit_date": 1615543720, "creation_date": 1542802391, "answer_id": 53411805, "question_id": 53411274, "link": "https://stackoverflow.com/questions/53411274/run-ng-build-with-custom-configurations/53411805#53411805", "title": "Run ng build with custom configurations", "body": "<p>You can define different environment files. Below example for &quot;dev&quot;:</p>\n<pre><code>export const environment = {\n    production: false,\n    envName: 'dev',\n    configPath: './assets/config/config.dev.json'\n    ...\n};\n</code></pre>\n<p>Add a configuration part for &quot;dev&quot; in &quot;angular.json&quot; file, like that:</p>\n<pre><code>&quot;dev&quot;: {\n  &quot;fileReplacements&quot;: [\n    {\n      &quot;replace&quot;: &quot;src/environments/environment.ts&quot;,\n      &quot;with&quot;: &quot;src/environments/environment.dev.ts&quot;\n    }\n  ],\n  ....\n</code></pre>\n<p>And use this command to build : <code>ng build --configuration=dev</code></p>\n<p>For more information, take a look at this post : <a href=\"https://stackoverflow.com/questions/50174584/how-to-set-environment-via-ng-serve-in-angular-6\">How to set environment via `ng serve` in Angular 6</a></p>\n"}], "owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5828, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1615543720, "creation_date": 1542800394, "last_edit_date": 1542810936, "question_id": 53411274, "link": "https://stackoverflow.com/questions/53411274/run-ng-build-with-custom-configurations", "title": "Run ng build with custom configurations", "body": "<p>I have Angular project which I would like to deploy on Apache server. I use <code>ng build</code> but I would like to custom address and endpoint for backend.</p>\n\n<p>proxy.conf.json:</p>\n\n<pre><code>{\n  \"/api/*\": {\n    \"target\": \"http://localhost:8080\",\n    \"secure\": false,\n    \"logLevel\": \"debug\",\n    \"changeOrigin\": true\n  }\n}\n</code></pre>\n\n<p>This configuration is not applied at all. \nHow I can set it properly in order to change configurations?</p>\n\n<p>Environment ts file:</p>\n\n<pre><code>import {environment as prod} from './environment.prod';\n\nexport const environment = Object.assign(prod, {\n  production: false\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 2, "creation_date": 1542800221, "post_id": 53411108, "comment_id": 93697157, "body": "Just a sidenote : if you want an infinite scroll, <a href=\"https://material.angular.io/cdk/scrolling/overview\" rel=\"nofollow noreferrer\">use the CDK</a>, it will be easier. If you want to train, then good luck !"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1542800252, "post_id": 53411108, "comment_id": 93697170, "body": "Just to make sure: Is it just the <code>scrollHeight</code> property which isn&#39;t defined or is it <code>this.element</code>?"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 1, "creation_date": 1542800416, "post_id": 53411108, "comment_id": 93697266, "body": "yeah well said @trichetriche , Angular CDK is very good option for such use case, if it suits your requirements"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542800521, "post_id": 53411108, "comment_id": 93697305, "body": "Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your issue on <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> ? It would be easier for us to identify the issue"}, {"owner": {"reputation": 330, "user_id": 10672994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XOqkg.png?s=128&g=1", "display_name": "Rajat Singh", "link": "https://stackoverflow.com/users/10672994/rajat-singh"}, "edited": false, "score": 0, "creation_date": 1542804432, "post_id": 53411108, "comment_id": 93699368, "body": "@trichetriche stackblitz link is there now. Please Check."}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1542807998, "post_id": 53411108, "comment_id": 93701412, "body": "&quot;A class member cannot have the &#39;const&#39; keyword.&quot; means you need to put this code inside a method."}], "owner": {"reputation": 330, "user_id": 10672994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XOqkg.png?s=128&g=1", "display_name": "Rajat Singh", "link": "https://stackoverflow.com/users/10672994/rajat-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542804266, "creation_date": 1542799636, "last_edit_date": 1542804266, "question_id": 53411108, "link": "https://stackoverflow.com/questions/53411108/value-of-scrollheight-is-undefined", "title": "Value of scrollHeight is undefined?", "body": "<p>I'm new to Angular and wanted to implement <strong>Infinite Scroll</strong>, but my values of <code>scrollHeight</code> is undefined.I'm using <code>ElementRef</code> from <code>@angular/core</code>.Here's my code.</p>\n\n<pre><code>@Input() eachElementHeightInPx = 20;\n@Input() fetchThreshold = 5;\nprivate element: HTMLElement = this.elementRef.nativeElement;\n\nconstructor(private elementRef: ElementRef) { }\n\n@HostListener('scroll', ['$event'])\nonScrollContainer($event: any) {\n    console.log('scrollContainer');\n    console.log('scrollHeight ' + this.element.scrollHeight); // it is undefined idk why!!.\n    console.log(typeof (this.element[0]));\n    if (this.element.scrollHeight &gt; this.lastCheckedHeight) {\n        this.previousScrollHeight = this.element.scrollHeight;\n        let remainingHeight = this.element.scrollHeight -\n            (this.element.offsetHeight + this.element.scrollTop);\n        let remainingElement = Math.ceil(remainingHeight /\n            this.eachElementHeightInPx);\n        if (remainingElement &lt; this.fetchThreshold) {\n            this.lastCheckedHeight = this.element.scrollHeight;\n            // this.fetchMore.emit();\n            console.log('emitting');\n        }\n    } else if (this.element.scrollHeight &lt; this.previousScrollHeight) { // To check if the list is reloaded\n        this.previousScrollHeight = this.element.scrollHeight;\n        this.lastCheckedHeight = 0;\n        this.element.scrollTop = 0; // Scroll the list to top\n    }\n}\n</code></pre>\n\n<p>Here's my function snapshot just in case the above code is not lill confusing.\n<a href=\"https://i.stack.imgur.com/IbO1x.png\" rel=\"nofollow noreferrer\">Click Here</a>.\nPlease explaing ways that <strong>do not include jQuery</strong>.Thanks.</p>\n\n<p><strong>UPDATE:VERY MINIMAL STACKBLITZ REPRODUCTION</strong>\n<a href=\"https://stackblitz.com/edit/angular-qngk3b\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-qngk3b</a></p>\n"}, {"tags": ["node.js", "angular", "typescript", "axios", "angular-httpclient"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542799529, "post_id": 53411068, "comment_id": 93696780, "body": "Seems CORS issue with backend API&#39;s"}, {"owner": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 1, "creation_date": 1542799578, "post_id": 53411068, "comment_id": 93696801, "body": "You have CORS error, read some other questions about this error."}, {"owner": {"reputation": 86, "user_id": 5837076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c031be669ae68be35dbe755b41c406b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sameer Basil", "link": "https://stackoverflow.com/users/5837076/sameer-basil"}, "edited": false, "score": 0, "creation_date": 1542802138, "post_id": 53411068, "comment_id": 93698171, "body": "But the request works with axios, that is not possible if there is a CORS issue with the back end right?"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 5837076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c031be669ae68be35dbe755b41c406b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sameer Basil", "link": "https://stackoverflow.com/users/5837076/sameer-basil"}, "is_accepted": true, "score": 1, "last_activity_date": 1548304426, "creation_date": 1548304426, "answer_id": 54339408, "question_id": 53411068, "link": "https://stackoverflow.com/questions/53411068/rest-call-works-with-axios-but-not-with-httpclient-in-an-angular-5-project/54339408#54339408", "title": "REST call works with axios but not with HttpClient in an Angular 5 project", "body": "<p>Apparently, Axios adds the \"X-XSRF-TOKEN\" header when it detects the \"XSRF-TOKEN\" cookie whereas the HttpClient in Angular doesn't.</p>\n\n<p>So you have to read the value of the \"XSRF-TOKEN\" cookie and set it as the header \"X-XSRF-TOKEN\" when sending your requests.</p>\n"}], "owner": {"reputation": 86, "user_id": 5837076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c031be669ae68be35dbe755b41c406b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sameer Basil", "link": "https://stackoverflow.com/users/5837076/sameer-basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1314, "favorite_count": 0, "accepted_answer_id": 54339408, "answer_count": 1, "score": 0, "last_activity_date": 1548304426, "creation_date": 1542799479, "last_edit_date": 1542799605, "question_id": 53411068, "link": "https://stackoverflow.com/questions/53411068/rest-call-works-with-axios-but-not-with-httpclient-in-an-angular-5-project", "title": "REST call works with axios but not with HttpClient in an Angular 5 project", "body": "<p>Service.ts code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ClientService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getClients() {\r\n    return this.http.get&lt;any&gt;('http://localhost:8080/admin-api/client?count=15&amp;page=0&amp;q=', { withCredentials: true })\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Component.ts code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { LazyLoadEvent } from 'primeng/api'\r\n\r\nimport { ClientService } from '../../services/client.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-client',\r\n  templateUrl: './client.component.html',\r\n  styleUrls: ['./client.component.css']\r\n})\r\n\r\nexport class ClientComponent implements OnInit {\r\n\r\nconstructor(private clientService: ClientService) { }\r\n\r\nngOnInit() {\r\n    this.loading = true\r\n\r\n    this.clientService.getClients().subscribe(data =&gt; {\r\n      console.log(data)\r\n    }, error =&gt; {\r\n      console.log(error)\r\n    })\r\n\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The error I get when I run this\n<a href=\"https://i.stack.imgur.com/7CWuX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7CWuX.png\" alt=\"The browser console\"></a></p>\n\n<p>I don't understand why the same request can succeed using axios but not with the HttpClient in Angular.</p>\n"}, {"tags": ["angular", "typescript", "office-js", "office-ui-fabric"], "comments": [{"owner": {"reputation": 166, "user_id": 10489507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqUAD.png?s=128&g=1", "display_name": "osiris85", "link": "https://stackoverflow.com/users/10489507/osiris85"}, "edited": false, "score": 0, "creation_date": 1542799133, "post_id": 53410954, "comment_id": 93696571, "body": "You have to import the 2 types on test file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1542799147, "post_id": 53410954, "comment_id": 93696582, "body": "in the <code>tests.ts</code> file, you should add your dependencies. Also, it&#39;s a bad practice to use scripts in the head of the index, you should use the <code>angular.json</code> file to import JS scripts."}], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 1278417, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/91b99e2a64a4f91f88f2b1b4f35d4003?s=128&d=identicon&r=PG", "display_name": "Andrew Ferguson", "link": "https://stackoverflow.com/users/1278417/andrew-ferguson"}, "is_accepted": true, "score": 3, "last_activity_date": 1542812152, "creation_date": 1542812152, "answer_id": 53414755, "question_id": 53410954, "link": "https://stackoverflow.com/questions/53410954/angular-unit-tests-referenceerror-type-is-not-defined/53414755#53414755", "title": "Angular Unit Tests ReferenceError: type is not defined", "body": "<p>So I found out how to resolve this issue.</p>\n\n<p>For fabric since there was a local copy of this we were using I could add a reference to it in the angular.json file under the test section:</p>\n\n<pre><code>\"test\": {\n  \"builder\": \"@angular-devkit/build-angular:karma\",\n  \"options\": {\n    \"main\": \"src/test.ts\",\n    \"polyfills\": \"src/polyfills.ts\",\n    \"tsConfig\": \"src/tsconfig.spec.json\",\n    \"karmaConfig\": \"src/karma.conf.js\",\n    \"styles\": [\n      \"src/styles.scss\"\n    ],\n    \"scripts\": [\"src/assets/js/fabric.js\"],\n    \"assets\": [\n      \"src/assets\"\n    ]\n  }\n}\n</code></pre>\n\n<p>For the Office issue I put the following in my spec class to get round the issue:</p>\n\n<pre><code>const officeScript = 'https://appsforoffice.microsoft.com/lib/1/hosted/Office.js';\nconst node = document.createElement('script');\nnode.src = officeScript;\nnode.type = 'text/javascript';\nnode.async = false;\nnode.charset = 'utf-8';\ndocument.getElementsByTagName('head')[0].appendChild(node);\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 1278417, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/91b99e2a64a4f91f88f2b1b4f35d4003?s=128&d=identicon&r=PG", "display_name": "Andrew Ferguson", "link": "https://stackoverflow.com/users/1278417/andrew-ferguson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1831, "favorite_count": 0, "accepted_answer_id": 53414755, "answer_count": 1, "score": 0, "last_activity_date": 1542812152, "creation_date": 1542799017, "last_edit_date": 1542802194, "question_id": 53410954, "link": "https://stackoverflow.com/questions/53410954/angular-unit-tests-referenceerror-type-is-not-defined", "title": "Angular Unit Tests ReferenceError: type is not defined", "body": "<p>I'm having some issues with my Unit Tests for an Angular application that is intended to be an Add-In for Outlook.</p>\n\n<p>The code itself runs fine without errors but the tests are routinely failing.</p>\n\n<p>The errors I'm getting are the following:</p>\n\n<pre><code>ReferenceError: Office is not defined\n\nReferenceError: fabric is not defined\n</code></pre>\n\n<p>The tests fail on any method that makes use of Office.js or Fabric.  So for example if a method was the following:</p>\n\n<pre><code>  public getName() {\n    this.item = Office.context.mailbox.item;\n    return this.item.from.displayName;\n  }\n</code></pre>\n\n<p>It will fail with the error that office is not defined.</p>\n\n<p>Both Office and Fabric are added to the application via the index.html file:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;Firefish Outlook Addin&lt;/title&gt;\n\n  &lt;base href=\"/AddinClient/\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"https://static2.sharepointonline.com/files/fabric/office-ui-fabric-js/1.4.0/css/fabric.min.css\" /&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://static2.sharepointonline.com/files/fabric/office-ui-fabric-js/1.4.0/css/fabric.components.min.css\" /&gt;\n  &lt;script src=\"assets/js/fabric.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://appsforoffice.microsoft.com/lib/1/hosted/Office.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And office in particular is initialised in the main.ts file:</p>\n\n<pre><code>import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './modules/app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nOffice.initialize = function () {\n  platformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .catch(err =&gt; console.error(err));\n};\n</code></pre>\n\n<p>I have been looking online for potential solutions and unfortunately can't find any.  My Karma.conf.js file is the following:</p>\n\n<pre><code>module.exports = function (config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage-istanbul-reporter'),\n      require('@angular-devkit/build-angular/plugins/karma')\n    ],\n    client: {\n      clearContext: false // leave Jasmine Spec Runner output visible in browser\n    },\n    coverageIstanbulReporter: {\n      dir: require('path').join(__dirname, '../coverage'),\n      reports: ['html', 'lcovonly'],\n      fixWebpackSourcePaths: true\n    },\n    Files: [\"https://appsforoffice.microsoft.com/lib/1/hosted/Office.js\"],\n    reporters: ['progress', 'kjhtml'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    singleRun: false\n  });\n};\n</code></pre>\n\n<p>and my tsconfig.spec.json file is the following:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/spec\",\n    \"types\": [\n      \"jasmine\",\n      \"node\",\n      \"@types/office-js\"\n    ]\n  },\n\n  \"files\": [\n    \"test.ts\",\n    \"polyfills.ts\"\n  ],\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"**/*.d.ts\",\n    \"../node_modules/office-ui-fabric-js/src/components/Dropdown/Dropdown.ts\",\n    \"../node_modules/office-ui-fabric-js/src/components/Button/Button.ts\",\n    \"../node_modules/office-ui-fabric-js/src/components/TextField/TextField.ts\",\n    \"../node_modules/office-ui-fabric-js/src/components/RadioButton/RadioButton.ts\",\n    \"../node_modules/office-ui-fabric-js/src/components/Spinner/Spinner.ts\",\n    \"../node_modules/office-ui-fabric-js/src/components/ProgressIndicator/ProgressIndicator.ts\"\n  ]\n}\n</code></pre>\n\n<p>So I'm adding the necessary references to the files for Office and fabric.</p>\n\n<p>Is this a case that I'd need to create mocks of Office and fabric?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1542797193, "post_id": 53410210, "comment_id": 93695496, "body": "Are u using a component/directive with a child component/directive?"}, {"owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "reply_to_user": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1542797304, "post_id": 53410210, "comment_id": 93695564, "body": "I know little Angular. How can I fix this?"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1542797378, "post_id": 53410210, "comment_id": 93695610, "body": "@KamilKamil please check my answer <a href=\"https://stackoverflow.com/a/53410403/5043867\">stackoverflow.com/a/53410403/5043867</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 0, "creation_date": 1542797705, "post_id": 53410403, "comment_id": 93695792, "body": "this.contentTemplate is undefined :("}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 0, "creation_date": 1542797765, "post_id": 53410403, "comment_id": 93695830, "body": "@KamilKamil No, it&#39;s working, check in my example given"}, {"owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 0, "creation_date": 1542798239, "post_id": 53410403, "comment_id": 93696101, "body": "Yes but In my case doesnt work.  In my global component I call data-grid-column component, you are doing all in the one component - maybe thats the point? I dont know : ( I tried yesterday similar version and it worked, but i dont remember"}, {"owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 0, "creation_date": 1542798420, "post_id": 53410403, "comment_id": 93696192, "body": "you have &lt;span #contentTemplate in html of your component - I have in another component inside &lt;data-grid-column&gt; - it means, this must to be ContentChild not View - now it will be work."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 0, "creation_date": 1542798462, "post_id": 53410403, "comment_id": 93696215, "body": "No this should not be the reason behind this culprit problem, you can have anything here instead of span. I am just taking example using span."}, {"owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 1, "creation_date": 1542798520, "post_id": 53410403, "comment_id": 93696250, "body": "Your answer work - if I changed viewchild to childview. Thanks :)"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": true, "score": 0, "last_activity_date": 1542797533, "last_edit_date": 1542797533, "creation_date": 1542797230, "answer_id": 53410403, "question_id": 53410210, "link": "https://stackoverflow.com/questions/53410210/empty-native-element-with-ng-template/53410403#53410403", "title": "Empty native element with ng-template", "body": "<blockquote>\n  <p><strong>ng-template</strong> - Is an Angular element for rendering HTML. It is never displayed directly. In fact, before rendering the view, Angular replaces the  and its contents with a comment</p>\n</blockquote>\n\n<p>As per the official documentation.</p>\n\n<p>Ref. </p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/structural-directives#the-ng-template\" rel=\"nofollow noreferrer\">https://angular.io/guide/structural-directives#the-ng-template</a></li>\n</ul>\n\n<p>I don't know why you are using <code>ng-template</code> here, but you can use <code>ng-container</code> instead this will print your content.</p>\n\n<p>Also as you are using <code>#</code> local variable on HTML element you need to use <code>ViewChild</code> instead, like this -</p>\n\n<pre><code>@ViewChild('contentTemplate') contentTemplate: any;\n</code></pre>\n\n<h1><a href=\"https://stackblitz.com/edit/angular-ubximv?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Working Example</a></h1>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "edited": false, "score": 0, "creation_date": 1542797728, "post_id": 53410423, "comment_id": 93695808, "body": "it didnt help :("}], "tags": [], "owner": {"reputation": 285, "user_id": 5762574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/199053dcb338b34fc2e643baef099983?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip", "link": "https://stackoverflow.com/users/5762574/pradip"}, "is_accepted": false, "score": 1, "last_activity_date": 1542797296, "creation_date": 1542797296, "answer_id": 53410423, "question_id": 53410210, "link": "https://stackoverflow.com/questions/53410210/empty-native-element-with-ng-template/53410423#53410423", "title": "Empty native element with ng-template", "body": "<p>I hope it will work.</p>\n\n<pre><code>&lt;ng-container #contentTemplate&gt;&lt;span class=\"elo\"&gt;Hello&lt;/span&gt;&lt;/ng-container&gt;\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 10651743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731637f0c09d7d698a9416f8a590d07f?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kamil", "link": "https://stackoverflow.com/users/10651743/kamil-kamil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 1, "accepted_answer_id": 53410403, "answer_count": 2, "score": 4, "last_activity_date": 1599661697, "creation_date": 1542796610, "last_edit_date": 1599661697, "question_id": 53410210, "link": "https://stackoverflow.com/questions/53410210/empty-native-element-with-ng-template", "title": "Empty native element with ng-template", "body": "<p>I use Angular 5.</p>\n\n<p>In my <code>component</code> I have:</p>\n\n<pre><code>@ContentChild('contentTemplate') contentTemplate: TemplateRef&lt;any&gt;;\n</code></pre>\n\n<p>my html:</p>\n\n<pre><code>&lt;data-grid-column&gt;\n  &lt;ng-template #contentTemplate&gt;\n    &lt;span class=\"elo\"&gt;Hello&lt;/span&gt;\n  &lt;/ng-template&gt;\n&lt;/data-grid-column&gt;\n</code></pre>\n\n<p>and I am trying to view:</p>\n\n<pre><code>ngAfterViewChecked () {\n  console.log(this.contentTemplate.elementRef.nativeElement);\n}\n</code></pre>\n\n<p>But output is:</p>\n\n<pre><code>&lt;!----&gt;\n</code></pre>\n\n<p>What is wrong?</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1542798222, "post_id": 53409957, "comment_id": 93696092, "body": "Can you post the code where you have added the validator in your form builder ?"}, {"owner": {"reputation": 1022, "user_id": 3584920, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d56b8202a02b09693c3ce309f263da9d?s=128&d=identicon&r=PG&f=1", "display_name": "hofshteyn", "link": "https://stackoverflow.com/users/3584920/hofshteyn"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1542799737, "post_id": 53409957, "comment_id": 93696874, "body": "@Niladri I updated question"}], "owner": {"reputation": 1022, "user_id": 3584920, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d56b8202a02b09693c3ce309f263da9d?s=128&d=identicon&r=PG&f=1", "display_name": "hofshteyn", "link": "https://stackoverflow.com/users/3584920/hofshteyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1542802873, "creation_date": 1542795850, "last_edit_date": 1542802873, "question_id": 53409957, "link": "https://stackoverflow.com/questions/53409957/angular-forms-pass-error-to-form-from-one-of-group", "title": "Angular forms: pass error to form from one of group", "body": "<p>I'm sorry if it's duplicate of some question, I didn't find any solution for my problem.</p>\n\n<p>I have two form groups from <code>@angular/forms</code> in Angular 5 app. One of them has custom validator that set an error. One of group has error and form is invalid, but form doesn't has any errors inside. How can I prevent it and display error correctly?</p>\n\n<p>Creating form</p>\n\n<pre><code>private createForm() {\n    const groups = {};\n\n    this.groupArray.forEach((item, index) =&gt; {\n        const group: SomModel&lt;FormControl&gt; = { thing: this.fb.control(thing.id, [Validators.required]) };\n\n        groups['thing' + index] = index === 0 ?\n            this.fb.group(group) :\n            this.fb.group(group, { validator: this.thingMatchValidator(groups['thing' + (index - 1)].controls.thing) });\n    });\n\n    this.form = this.fb.group(groups);\n}\n</code></pre>\n\n<p>Validator</p>\n\n<pre><code>thingMatchValidator(from: Dictionary&lt;FormControl&gt;): ValidatorFn {\n    return (to: AbstractControl): { [key: string]: any } =&gt; {  // seems that I soudn't use AbstractControl because I have FormGroup here\n        const thingFrom = from.thing.value;\n        const thingTo = to.value.thing;\n        const test = thingFrom &amp;&amp; thingTo &amp;&amp; thingFrom === thingTo ? { portMatch: true } : null;\n        return test;\n    };\n}\n</code></pre>\n\n<p>Update:</p>\n\n<p>The field that I need to validate stayed valid, but form is invalid.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ezjcl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezjcl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "automapper", "asp.net-core-webapi", "angular7"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542802802, "post_id": 53409882, "comment_id": 93698486, "body": "Well, you could simply use the same structure in your FormGroup as the structure expected by the API. Otherwise, yes, you need to do what you&#39;re doing. It could be made simpler by using <code>this.form.value.person.name</code>."}, {"owner": {"reputation": 795, "user_id": 3711246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NYqpL.png?s=128&g=1", "display_name": "Appsum Solutions", "link": "https://stackoverflow.com/users/3711246/appsum-solutions"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542803588, "post_id": 53409882, "comment_id": 93698878, "body": "I cant use the same structure in my formgroup, because each nested formgroup is a separate component that is combined on nginit of the main form component. I\u2019m using AoT and Universal, so I think I have to get them by string name."}, {"owner": {"reputation": 1804, "user_id": 6528560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10154210313253162/picture?type=large", "display_name": "Alexander Poshtaruk", "link": "https://stackoverflow.com/users/6528560/alexander-poshtaruk"}, "edited": false, "score": 0, "creation_date": 1543127124, "post_id": 53409882, "comment_id": 93801239, "body": "Nice idea - to create form mapper for Angular. It would be interesting to takd a look ar c# code with suto-mapper"}], "owner": {"reputation": 795, "user_id": 3711246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NYqpL.png?s=128&g=1", "display_name": "Appsum Solutions", "link": "https://stackoverflow.com/users/3711246/appsum-solutions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1068, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543115760, "creation_date": 1542795630, "last_edit_date": 1543115760, "question_id": 53409882, "link": "https://stackoverflow.com/questions/53409882/angular-7-map-form-data-to-api-model", "title": "Angular 7 map form data to API model", "body": "<p>I have an Angular (using the latest version of Angular 7) formgroup with nested form groups:</p>\n\n<pre><code>this.form = this._formBuilder.group({\n    person: this._formBuilder.group({\n        name: [''. Validators.required],\n        firstName: [''. Validators.required],\n        birthDate: [new Date()]\n    }),\n    request: this._formBuilder.group({\n        title: [''. Validators.required],\n        startDate: [new Date()],\n        endDate: [new Date()],\n    }),\n});\n</code></pre>\n\n<p>This needs to be mapped to an API POST model that has a different structure:</p>\n\n<pre><code>interface ApiData {\n    personName: string;\n    personFirstName: string;\n    personBirthDate: Date;\n    requestTitle: string;\n    requestStartDate: Date;\n    requestEndDate: Date;\n}\n</code></pre>\n\n<p>Currently I have a _patchForm method that is called on init if the form is used as edit form (if an id is in the route) to transform the API data to the form model:\nOn form submit I transform the form model to the API data.</p>\n\n<pre><code>let entity: ApiData = {};\nentity.personName = this.form.get('person').get('name').value;\nentity.personFirstName = this.form.get('person').get('firstName').value;\n...\nthis._http.post(apiUrl, entity).subscribe( ... )\n</code></pre>\n\n<p>In C# I use Automapper for this, but because automapper-ts is not written for Angular, I\u2019m not sure that this will work with the FormGroup model.</p>\n\n<p>Is this possible or is there another, more Angular way to solve this? I\u2019m doing this type of convertion on forms all over my app. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-ng-if"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1542795208, "post_id": 53409674, "comment_id": 93694277, "body": "<code>offsprings.every(c =&gt; !c.condition)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 644, "user_id": 3806412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q1NpX.png?s=128&g=1", "display_name": "Nil Llisterri", "link": "https://stackoverflow.com/users/3806412/nil-llisterri"}, "edited": false, "score": 0, "creation_date": 1542798007, "post_id": 53409742, "comment_id": 93695982, "body": "Edited the answer to search the condition in the conditions map"}], "tags": [], "owner": {"reputation": 644, "user_id": 3806412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q1NpX.png?s=128&g=1", "display_name": "Nil Llisterri", "link": "https://stackoverflow.com/users/3806412/nil-llisterri"}, "is_accepted": false, "score": 1, "last_activity_date": 1542797813, "last_edit_date": 1542797813, "creation_date": 1542795219, "answer_id": 53409742, "question_id": 53409674, "link": "https://stackoverflow.com/questions/53409674/how-to-hide-a-component-if-all-sub-components-are-hidden-ngif/53409742#53409742", "title": "how to hide a component if all sub-components are hidden ngIf", "body": "<p>Try adding in the Parent *ngIf condition </p>\n\n<pre><code>!offsprings.every(child =&gt; !conditions[child.name]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2167, "user_id": 9434520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0UP5.jpg?s=128&g=1", "display_name": "Abhishek Kumar", "link": "https://stackoverflow.com/users/9434520/abhishek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1542800468, "creation_date": 1542800468, "answer_id": 53411288, "question_id": 53409674, "link": "https://stackoverflow.com/questions/53409674/how-to-hide-a-component-if-all-sub-components-are-hidden-ngif/53411288#53411288", "title": "how to hide a component if all sub-components are hidden ngIf", "body": "<p>Used a function call as <strong><code>*ngIf = checkIfExists()</code></strong> on parent.</p>\n\n<pre><code>&lt;div *ngIf=\"checkIfExists()\"&gt;\n  Parent with children existing\n  &lt;div *ngFor = 'let child of offsprings'&gt;\n    &lt;div name=\"c1\" *ngIf=\"conditions[child.name]\"&gt;\n      Child0 {{conditions[child.name]}}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Function For Parent ngIf:</strong> <br>Appraoch is to traverse every element of <code>offsprings</code> array, <br>and check if <code>conditions[child.name]</code> exists.</p>\n\n<pre><code>checkIfExists() {\n  let ifDefined: boolean;\n    this.offsprings.forEach(e=&gt; {\n      if (this.conditions[e.name]) {\n        ifDefined = true;\n      } \n    });\n    return ifDefined;\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-parent-hide-according-to-child-ngif?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz Working Demo</a></strong></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1542800468, "creation_date": 1542795002, "last_edit_date": 1542797186, "question_id": 53409674, "link": "https://stackoverflow.com/questions/53409674/how-to-hide-a-component-if-all-sub-components-are-hidden-ngif", "title": "how to hide a component if all sub-components are hidden ngIf", "body": "<p>For example consider the code:</p>\n\n<pre><code>&lt;div *ngIf=\"-------NOTEMPTY-------\"&gt;\n  Parent\n  &lt;div *ngFor = 'let child of offsprings'&gt;\n    &lt;div name=\"c1\" *ngIf=\"conditions[child.name]\"&gt;\n      Child0\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want Parent division's <code>ngIf</code> to be <code>false</code> if all its child divisions' <code>ngIf</code> are <code>false</code>.</p>\n\n<p><strong>Note : It is not possible to me to collect all the child conditions in the ts file.</strong></p>\n"}, {"tags": ["typescript", "interface", "react-redux", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "edited": false, "score": 0, "creation_date": 1542801576, "post_id": 53410583, "comment_id": 93697884, "body": "That was easy. Thanks. I actually also want to change the return value in Props to void. Is that also as trivial?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "edited": false, "score": 0, "creation_date": 1542801669, "post_id": 53410583, "comment_id": 93697929, "body": "@MrMamen not trivial, nu bo that hard either, I&#39;ll add it to the answer shortly"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "edited": false, "score": 0, "creation_date": 1542801934, "post_id": 53410583, "comment_id": 93698067, "body": "@MrMamen I added the answer to the follow-up, don&#39;t forget to upvote ;)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1542802243, "last_edit_date": 1542802243, "creation_date": 1542797744, "answer_id": 53410583, "question_id": 53409465, "link": "https://stackoverflow.com/questions/53409465/extracting-typescript-signatures-from-an-object-into-an-interface/53410583#53410583", "title": "Extracting typescript signatures from an object into an interface", "body": "<p>You can just use the <code>typeof</code> type operator to get the type of any constant. You can then use a type alias to give it a name</p>\n\n<pre><code>const ActionCreators = {\n  foo: (a: string): string =&gt; (\"foo\" + a),\n  bar: (a: number): string =&gt; (\"bar\" + a),\n  baz: (a: boolean): number =&gt; (a ? 256 : 123)\n};\n\ntype Props = typeof ActionCreators;\n/*\nSame as\ntype Props = {\n  foo: (a: string) =&gt; string;\n  bar: (a: number) =&gt; string;\n  baz: (a: boolean) =&gt; number;\n} \n*/\n</code></pre>\n\n<p>While there are subtle differences between interfaces and type aliases in this case they should be equivalent.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Follow-up question in the comments: How can I change the return type to void for all member function ?</p>\n\n<p>To do this you need to use a mapped type to map the original type to a new type and a conditional type to extract the argument types of the original function:</p>\n\n<pre><code>type ArgumentTypes&lt;T&gt; = T extends (...a: infer A) =&gt; any ? A: [] //Conditional type extracts the argument types\ntype Props = {\n  // Mapped type, maps the keys of the original type to a new type\n  // with the same keys, and with each key being a function with the same argument as the original \n  // but returning void.\n  [P in keyof typeof ActionCreators]: (...a: ArgumentTypes&lt;typeof ActionCreators[P]&gt;) =&gt; void\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53410583, "answer_count": 1, "score": 2, "last_activity_date": 1542802243, "creation_date": 1542794326, "question_id": 53409465, "link": "https://stackoverflow.com/questions/53409465/extracting-typescript-signatures-from-an-object-into-an-interface", "title": "Extracting typescript signatures from an object into an interface", "body": "<p>I have a habit where I seem to duplicate a lot of typings when passing information in redux. Is there any way to automatically generate the interface Props when they are all defined in ActionCreators? See the code below:</p>\n\n<pre><code>import { bindActionCreators, Dispatch } from \"redux\";\nconst ActionCreators = {\n  foo: (a: string): string =&gt; (\"foo\" + a),\n  bar: (a: number): string =&gt; (\"bar\" + a),\n  baz: (a: boolean): number =&gt; (a ? 256 : 123)\n};\n\ninterface Props {\n  foo: (a: string) =&gt; string;\n  bar: (a: number) =&gt; string;\n  baz: (a: boolean) =&gt; number;\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch): Props =&gt; {\n  return bindActionCreators(ActionCreators, dispatch);\n};\n</code></pre>\n\n<p>Understanding bindActionCreators is not required, the real issue here is getting all the signatures on ActionCreators the be extracted to an interface such as Props.</p>\n"}, {"tags": ["javascript", "node.js", "django", "angular", "typescript"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1542794306, "post_id": 53409447, "comment_id": 93693776, "body": "No you don&#39;t need to"}, {"owner": {"reputation": 7464, "user_id": 1100874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/JaNSq.jpg?s=128&g=1", "display_name": "Katana24", "link": "https://stackoverflow.com/users/1100874/katana24"}, "edited": false, "score": 0, "creation_date": 1542794380, "post_id": 53409447, "comment_id": 93693812, "body": "No - angular has no need for your back end to be a particular tech - use Django, Node, whatever"}], "answers": [{"tags": [], "owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "is_accepted": false, "score": 1, "last_activity_date": 1542794607, "creation_date": 1542794607, "answer_id": 53409555, "question_id": 53409447, "link": "https://stackoverflow.com/questions/53409447/can-we-use-angular-without-node/53409555#53409555", "title": "Can we use angular without node?", "body": "<p>Angular is for your front-end. You can use what you want for the back-end.\nYou can use Node to build your sources, to convert typescript files to javascript files.</p>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 10187911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12112e349bee12c1fcf7a35a32b78da2?s=128&d=identicon&r=PG", "display_name": "Benneee_", "link": "https://stackoverflow.com/users/10187911/benneee"}, "is_accepted": false, "score": 4, "last_activity_date": 1542795678, "creation_date": 1542795678, "answer_id": 53409896, "question_id": 53409447, "link": "https://stackoverflow.com/questions/53409447/can-we-use-angular-without-node/53409896#53409896", "title": "Can we use angular without node?", "body": "<p>No, Angular is basically concerned with your front-end in your case, you don't need to use Node together with Django for your back-end.</p>\n\n<p>However, what you would need node for is the build process and dependencies, as Node helps in the building process of your Angular project and in the management of your dependencies, this is facilitated also with NPM.\nApart from that, Node also allows you use the port:4200 when serving using <code>ng serve</code>.... Once your project passes the development stage and you have a dist folder, you don't need the ng serve process anymore and the files within the folder are static and can be run like your normal index.html files...\nI do hope this is helpful.</p>\n"}], "owner": {"reputation": 102, "user_id": 10487845, "user_type": "registered", "profile_image": "https://graph.facebook.com/2231964600355781/picture?type=large", "display_name": "Pratik Chatterjee", "link": "https://stackoverflow.com/users/10487845/pratik-chatterjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2371, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1564750426, "creation_date": 1542794269, "last_edit_date": 1564750426, "question_id": 53409447, "link": "https://stackoverflow.com/questions/53409447/can-we-use-angular-without-node", "title": "Can we use angular without node?", "body": "<p>We are working with <strong>Django</strong> as a server framework and used <strong>JavaScript</strong> for client-side scripting. Now we are migrating to <strong>Angular4</strong>, do we need to run a <strong>node.js</strong> server with the existing running Django server?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1542794407, "post_id": 53409412, "comment_id": 93693834, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1542794698, "post_id": 53409412, "comment_id": 93694012, "body": "There is no such thing as an array-list in typescript, what you seem to have is an array of arrays. Your array content doesn&#39;t look right though, I assume the content are strings?"}, {"owner": {"reputation": 1, "user_id": 10223450, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3qkoOQtBIjU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pX0wsVwq7mYZ4XYDjzZzZlvdWDRw/mo/photo.jpg?sz=128", "display_name": "Suraj Ghadge", "link": "https://stackoverflow.com/users/10223450/suraj-ghadge"}, "edited": false, "score": 0, "creation_date": 1542794851, "post_id": 53409412, "comment_id": 93694090, "body": "as i m new in typescript so i said array-list sorry for that.but yes those values are string"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1542795813, "post_id": 53409412, "comment_id": 93694645, "body": "Basically, the type is <code>string[][]</code> and you want <code>string[]</code>. You can use <code>flat</code> as @ritaj proposed, but it won&#39;t work in all browsers as it is a recent addition to javascript. The operation to go from <code>any[][]</code> to <code>any[]</code> is called flattening and there is a lot you can find about it online. Here&#39;s one way to do it <a href=\"https://schneidenbach.gitbooks.io/typescript-cookbook/functional-programming/flattening-array-of-arrays.html\" rel=\"nofollow noreferrer\">schneidenbach.gitbooks.io/typescript-cookbook/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 10223450, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3qkoOQtBIjU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pX0wsVwq7mYZ4XYDjzZzZlvdWDRw/mo/photo.jpg?sz=128", "display_name": "Suraj Ghadge", "link": "https://stackoverflow.com/users/10223450/suraj-ghadge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542811437, "creation_date": 1542794144, "last_edit_date": 1542811437, "question_id": 53409412, "link": "https://stackoverflow.com/questions/53409412/how-to-convert-arraylist-to-array-in-typescript", "title": "how to convert arraylist to array in typescript", "body": "<p>i'm working firebase cloud function. i have written script in typescript.after getting snapshot  and fetch some ids from snapshot i got array-list like.</p>\n\n<blockquote>\n  <p>[[-LRosbC0OZyOUl5qs_Wc, -LRoztmKz6XJzDPicDq8], [-LRot-OCd9PJ73EGpOZx]]</p>\n</blockquote>\n\n<p>now i want to convert this array-list to array like</p>\n\n<blockquote>\n  <p>[-LRosbC0OZyOUl5qs_Wc, -LRoztmKz6XJzDPicDq8, -LRot-OCd9PJ73EGpOZx]</p>\n</blockquote>\n\n<p>how can i achieve this</p>\n\n<p>any suggestion is greatly appreciated Thanks </p>\n"}, {"tags": ["javascript", "typescript", "serverless-framework"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 9431033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Julian Sanchez", "link": "https://stackoverflow.com/users/9431033/julian-sanchez"}, "is_accepted": false, "score": 0, "last_activity_date": 1545079200, "creation_date": 1545079200, "answer_id": 53822665, "question_id": 53409369, "link": "https://stackoverflow.com/questions/53409369/serverless-packaging-problems-with-typescript/53822665#53822665", "title": "Serverless packaging problems with TypeScript", "body": "<p>Use the Serverless Webpack plugin and in the includeModules(serverless.yml) configuration include the package.json <code>custom: \n    webpack:\n        webpackConfig: 'webpack.config.js'   # Name of webpack configuration file\n        includeModules: \n            packagePath: './package.json'   # Node modules configuration for packaging\n        packager: 'npm'   # P</code></p>\n"}], "owner": {"reputation": 272, "user_id": 5448519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EwxYu.jpg?s=128&g=1", "display_name": "widdy", "link": "https://stackoverflow.com/users/5448519/widdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545153060, "creation_date": 1542794054, "last_edit_date": 1545153060, "question_id": 53409369, "link": "https://stackoverflow.com/questions/53409369/serverless-packaging-problems-with-typescript", "title": "Serverless packaging problems with TypeScript", "body": "<p>I developed a lambda function in plain JavaScript which uses the following node modules:</p>\n\n<ul>\n<li>knex</li>\n<li>mysql</li>\n<li>stripe</li>\n</ul>\n\n<p>When I deploy this project it has about <strong>3.94 MB</strong>.</p>\n\n<p>I recently switched to TypeScript and added the following additional DEV dependencies:</p>\n\n<ul>\n<li>serverless-plugin-typescript</li>\n<li>@types/aws-lambda</li>\n<li>@types/node</li>\n</ul>\n\n<p>When I deploy it now, it has <strong>15.11 MB</strong> which is kind of strange, since I only added dev dependencies. As default serverless usually excludes dev dependencies, but in my case it seems that something is wrong with that config.</p>\n\n<p>Has anybody discovered a similar problem with serverless and typescript?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 10585976, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0WtpRGVQWGU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbANXgm-sq87dEQ946L524rUK_g71w/mo/photo.jpg?sz=128", "display_name": "Pavan Sista", "link": "https://stackoverflow.com/users/10585976/pavan-sista"}, "edited": false, "score": 0, "creation_date": 1542800770, "post_id": 53410973, "comment_id": 93697447, "body": "Thank you, that&#39;s the answer, actually I have another stupid way of doing it, but your answer is perfect."}, {"owner": {"reputation": 10202, "user_id": 9695286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6RvS.png?s=128&g=1", "display_name": "Karan", "link": "https://stackoverflow.com/users/9695286/karan"}, "reply_to_user": {"reputation": 93, "user_id": 10585976, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0WtpRGVQWGU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbANXgm-sq87dEQ946L524rUK_g71w/mo/photo.jpg?sz=128", "display_name": "Pavan Sista", "link": "https://stackoverflow.com/users/10585976/pavan-sista"}, "edited": false, "score": 0, "creation_date": 1542801589, "post_id": 53410973, "comment_id": 93697894, "body": "You can accept the answer if your issue can be solved by answer."}, {"owner": {"reputation": 93, "user_id": 10585976, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0WtpRGVQWGU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbANXgm-sq87dEQ946L524rUK_g71w/mo/photo.jpg?sz=128", "display_name": "Pavan Sista", "link": "https://stackoverflow.com/users/10585976/pavan-sista"}, "edited": false, "score": 0, "creation_date": 1542864831, "post_id": 53410973, "comment_id": 93723160, "body": "I did, but the minimum reputation to vote is 15 and i have 11. Thanks anyway."}, {"owner": {"reputation": 10202, "user_id": 9695286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6RvS.png?s=128&g=1", "display_name": "Karan", "link": "https://stackoverflow.com/users/9695286/karan"}, "reply_to_user": {"reputation": 93, "user_id": 10585976, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0WtpRGVQWGU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbANXgm-sq87dEQ946L524rUK_g71w/mo/photo.jpg?sz=128", "display_name": "Pavan Sista", "link": "https://stackoverflow.com/users/10585976/pavan-sista"}, "edited": false, "score": 0, "creation_date": 1542868348, "post_id": 53410973, "comment_id": 93724326, "body": "You can not upvote but as you have asked the question you can accept the answer."}], "tags": [], "owner": {"reputation": 10202, "user_id": 9695286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6RvS.png?s=128&g=1", "display_name": "Karan", "link": "https://stackoverflow.com/users/9695286/karan"}, "is_accepted": true, "score": 1, "last_activity_date": 1542799092, "creation_date": 1542799092, "answer_id": 53410973, "question_id": 53409298, "link": "https://stackoverflow.com/questions/53409298/unable-to-access-the-members-which-are-instantiated-in-one-method-in-another-met/53410973#53410973", "title": "Unable to access the members which are instantiated in one method in another method in Angular", "body": "<p>Try updating your <code>[displayWith]=\"displayFn\"</code> to <code>[displayWith]=\"displayFn.bind(this)\"</code>.</p>\n\n<p>You can <a href=\"https://stackoverflow.com/questions/44234290/how-to-display-using-displaywith-in-autocomplete-material2\">check here</a> for more information.</p>\n"}], "owner": {"reputation": 93, "user_id": 10585976, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0WtpRGVQWGU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbANXgm-sq87dEQ946L524rUK_g71w/mo/photo.jpg?sz=128", "display_name": "Pavan Sista", "link": "https://stackoverflow.com/users/10585976/pavan-sista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53410973, "answer_count": 1, "score": 2, "last_activity_date": 1542799092, "creation_date": 1542793818, "question_id": 53409298, "link": "https://stackoverflow.com/questions/53409298/unable-to-access-the-members-which-are-instantiated-in-one-method-in-another-met", "title": "Unable to access the members which are instantiated in one method in another method in Angular", "body": "<p>I am able to store the data of user.id in the displayFn() function into the sourceId and print it in the console, but when I am trying to access it in the onClick() even after the displayFn() is called it shows undefined in the console. Please don't mind if this is silly question. Below is my code for the component. Thanks in advance.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport { DataService } from '../data.service';\nimport { Router } from '@angular/router'\nimport { Global } from './Global'\nimport { LocationsService } from '../locations.service';\n\nexport class Locations {\n  id: string;\n  value: string;\n}\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  loc: Locations[] = [];\n  sourceId: number;\n  destinationId: number;\n  myControl1 = new FormControl();\n  myControl = new FormControl();\n  filteredOptions1: Observable&lt;Locations[]&gt;;\n  filteredOptions: Observable&lt;Locations[]&gt;;\n\n  constructor(private router: Router, private locations: LocationsService) {}\n\n  ngOnInit() {\n\n    this.locations.getLocations().subscribe(\n      data =&gt; {\n        for (var i = 0; data[i] != null; i++) {\n          this.loc.push(data[i]);\n        }\n      },\n      error =&gt; {\n        console.log(\"error in receiving data\");\n      },\n    );\n\n    this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n        startWith&lt;string | Locations&gt;(''),\n        map(value =&gt; typeof value === 'string' ? value : value.value),\n        map(name =&gt; name ? this._filter(name) : this.loc.slice())\n      );\n\n    this.filteredOptions1 = this.myControl1.valueChanges\n      .pipe(\n        startWith&lt;string | Locations&gt;(''),\n        map(value =&gt; typeof value === 'string' ? value : value.value),\n        map(name =&gt; name ? this._filter1(name) : this.loc.slice())\n\n      );\n  }\n\n  displayFn(user: Locations): string {\n\n    this.sourceId = parseInt(user.id);\n    console.log(\"sourceId = \" + this.sourceId);\n    return user.value;\n  }\n\n  private _filter(name: string): Locations[] {\n\n    const filterValue = name.toLowerCase();\n    return this.loc.filter(option =&gt; option.value.toLowerCase().indexOf(filterValue) === 0);\n  }\n\n  public displayFn1(user: Locations): string {\n\n    this.destinationId = parseInt(user.id);\n    console.log(\"destinationId = \" + this.destinationId);\n    return user.value;\n  }\n\n  private _filter1(name1: string): Locations[] {\n    const filterValue1 = name1.toLowerCase();\n    return this.loc.filter(option1 =&gt; option1.value.toLowerCase().indexOf(filterValue1) === 0);\n  }\n\n  onClick() {\n\n    console.log(\"from onclick, sourceID = \" + this.sourceId);\n    console.log(\"from onclick, sourceID = \" + this.destinationId);\n    this.router.navigate(['/services', this.sourceId,this. destinationId]);\n  }\n}\n</code></pre>\n\n<p>Below is my HTML which uses Angular material Autocomplete Form.</p>\n\n<pre><code>&lt;form&gt;\n&lt;input type=\"text\" placeholder=\"To\" matInput [formControl]=\"myControl\" [matAutocomplete]=\"auto\" id=\"toPlaceName\"\n                  class=\"ajxPlaceCs ui-autocomplete-input\"&gt;\n                &lt;mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\"&gt;\n                  &lt;mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\"&gt;\n                    {{option.value}}\n                  &lt;/mat-option&gt;\n                &lt;/mat-autocomplete&gt;\n\n                &lt;input type=\"text\" placeholder=\"From\" matInput [formControl]=\"myControl1\" [matAutocomplete]=\"auto1\" id=\"fromPlaceName\"\n                  class=\"ajxPlaceCs ui-autocomplete-input\"&gt;\n                &lt;mat-autocomplete #auto1=\"matAutocomplete\" [displayWith]=\"displayFn1\"&gt;\n                  &lt;mat-option *ngFor=\"let option1 of filteredOptions1 | async\" [value]=\"option1\"&gt;\n                    {{option1.value}}\n                  &lt;/mat-option&gt;\n                &lt;/mat-autocomplete&gt;\n&lt;input type=\"button\" name=\"searchBtn\" (click)=\"onClick()\" id=\"searchBtn\" class=\"chkavailabilityBtn\"\n                  value=\"Check Availability\" title=\"Search\"&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sorting", "angular5", "angular6"], "comments": [{"owner": {"reputation": 691, "user_id": 6550273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSsKB.jpg?s=128&g=1", "display_name": "P. Moloney", "link": "https://stackoverflow.com/users/6550273/p-moloney"}, "edited": false, "score": 0, "creation_date": 1542866640, "post_id": 53408490, "comment_id": 93723712, "body": "Do you specifically want this sort to be a pipe? Is <code>selectgid</code> an array or an observable array?"}, {"owner": {"reputation": 691, "user_id": 6550273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSsKB.jpg?s=128&g=1", "display_name": "P. Moloney", "link": "https://stackoverflow.com/users/6550273/p-moloney"}, "edited": false, "score": 0, "creation_date": 1542866766, "post_id": 53408490, "comment_id": 93723758, "body": "Take a search through stackoverflow; there are plenty questions around this: <a href=\"https://stackoverflow.com/questions/35928432/implementing-an-asynchronous-sorting-pipe-in-angular-2\">Async Pipe Sort</a>, <a href=\"https://stackoverflow.com/questions/50969262/angular-pipe-sorting\">Regular Pipe Sort</a>"}, {"owner": {"reputation": 691, "user_id": 6550273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSsKB.jpg?s=128&g=1", "display_name": "P. Moloney", "link": "https://stackoverflow.com/users/6550273/p-moloney"}, "edited": false, "score": 0, "creation_date": 1542866872, "post_id": 53408490, "comment_id": 93723794, "body": "It is not recommended by the Angular team to do it like this though, see <a href=\"https://stackoverflow.com/questions/50969262/angular-pipe-sorting\">Angular Docs- Filtering Pipe</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9293809, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G82O0k_tZy8/AAAAAAAAAAI/AAAAAAAABPw/UVblJKwFFl8/photo.jpg?sz=128", "display_name": "shail shah", "link": "https://stackoverflow.com/users/9293809/shail-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1542793126, "creation_date": 1542793126, "answer_id": 53409088, "question_id": 53408490, "link": "https://stackoverflow.com/questions/53408490/sort-an-array-of-obects-in-angular-6/53409088#53409088", "title": "Sort an array of obects in angular 6", "body": "<p>Assuming selectgid is your array of object containing the values shown in the image try to sort your data inside ngOnInit() method in your .ts file like this:</p>\n\n<pre><code>this.selectgid.sort((a, b) =&gt; {\n    if (a.group_id &lt; b.group_id) {\n        return -1;\n    } else if (a.group_id &gt; b.group_id) {\n        return 1;\n    } else {\n        return 0;\n    }\n})\n</code></pre>\n\n<p>And on .html page you need to specify the key of Object like this:</p>\n\n<pre><code>&lt;ul *ngFor=\"let list of selectgid\"&gt;\n    &lt;li&gt;{{list.group_id}}&lt;/li&gt;\n    &lt;li&gt;{{list.permission_list}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 10264207, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iH_BPgYZmdM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN49DCp8RCzYxDleb2vd_SmU6o_Ig/mo/photo.jpg?sz=128", "display_name": "Jijo Robin", "link": "https://stackoverflow.com/users/10264207/jijo-robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542866155, "creation_date": 1542791031, "last_edit_date": 1542866155, "question_id": 53408490, "link": "https://stackoverflow.com/questions/53408490/sort-an-array-of-obects-in-angular-6", "title": "Sort an array of obects in angular 6", "body": "<p>I have problem in sorting an array of objects</p>\n\n<p>The object looks like </p>\n\n<p><a href=\"https://i.stack.imgur.com/z5UMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5UMv.png\" alt=\"enter image description here\"></a></p>\n\n<p>All I want is to make the *ngFor loop sort it by the group_id property.</p>\n\n<blockquote>\n  <p><strong>component.html</strong></p>\n</blockquote>\n\n<pre><code>&lt;ul *ngFor=\"let list of selectgid | groupid\"&gt;\n  &lt;li&gt;{{list}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>pipe.ts</strong></p>\n</blockquote>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n name: 'groupid'\n })\nexport class GroupidPipe implements PipeTransform {\n\ntransform(array: Array&lt;any&gt;): Array&lt;any&gt; {\n  if (array !== undefined) {\n  array.sort((a: any, b: any) =&gt; {\n    if (a.group_id &lt; b.group_id) {\n      return -1;\n    } else if (a.group_id &gt; b.group_id) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n}\n  return array;\n}\n}\n</code></pre>\n\n<p>I tried to implement this code but it doesn't seem to working. What is wrong in my code or is there anything that needs to be done?</p>\n"}, {"tags": ["node.js", "typescript", "express"], "comments": [{"owner": {"reputation": 1515, "user_id": 5640730, "user_type": "registered", "profile_image": "https://graph.facebook.com/1252702464755126/picture?type=large", "display_name": "Ivan Mladenov", "link": "https://stackoverflow.com/users/5640730/ivan-mladenov"}, "edited": false, "score": 1, "creation_date": 1542791318, "post_id": 53408165, "comment_id": 93691973, "body": "The request and response are passed in the controller methods that handle them. They are not global objects <a href=\"https://stackoverflow.com/questions/4696283/what-are-res-and-req-parameters-in-express-functions\" title=\"what are res and req parameters in express functions\">stackoverflow.com/questions/4696283/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1950, "user_id": 4365807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3axe.jpg?s=128&g=1", "display_name": "VinceOPS", "link": "https://stackoverflow.com/users/4365807/vinceops"}, "is_accepted": false, "score": 0, "last_activity_date": 1542793795, "creation_date": 1542793795, "answer_id": 53409289, "question_id": 53408165, "link": "https://stackoverflow.com/questions/53408165/how-to-get-request-in-a-controller/53409289#53409289", "title": "How to get Request in a Controller", "body": "<p>You can create \"<code>Controller</code>\" classes to group your <em><a href=\"https://expressjs.com/en/guide/routing.html\" rel=\"nofollow noreferrer\">route handlers</a></em>, but Express always pass <code>req</code> and <code>res</code> (Request and Response objects) to the route handlers.</p>\n\n<p>Exemple using TypeScript:</p>\n\n<pre><code>// very simplistic example\n\n// \"Controller\" class\nexport class UsersController {\n  // route handler\n  async getUsers(req: Request, res: Response) {\n    try {\n      const users = await this.usersRepository.fetchUsers();\n      return res.json(users);\n    } catch (e) {\n      console.error(e);\n      return res.status(500).end();\n    }\n  }\n}\n</code></pre>\n\n<p>And somewhere with your Express router:</p>\n\n<pre><code>const usersController = new UsersController();\napp.get('/users', usersController.getUsers);\n</code></pre>\n\n<p>As a bonus suggestion, I'd recommend having a look at the <a href=\"https://nestjs.com/\" rel=\"nofollow noreferrer\">Nest</a> project, which offers a great developer experience to anyone eager to use both TypeScript and Express together.</p>\n"}], "owner": {"reputation": 751, "user_id": 8541064, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6c4e915fcfb1f99f7c6b78c1b7bc3603?s=128&d=identicon&r=PG&f=1", "display_name": "bonblow", "link": "https://stackoverflow.com/users/8541064/bonblow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542793795, "creation_date": 1542789829, "last_edit_date": 1542789879, "question_id": 53408165, "link": "https://stackoverflow.com/questions/53408165/how-to-get-request-in-a-controller", "title": "How to get Request in a Controller", "body": "<p>I use Express with Typescript and Controllers. I try to make a BaseController who contains Request and Response of each request. I tried something like this but it doesn't work.</p>\n\n<pre><code>export * as express from 'express';\n\nconst req = express.Request;\n</code></pre>\n"}, {"tags": ["sql", "typescript", "operators", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 2580, "user_id": 8295283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82e91e74e9091501247d9b71125c0eee?s=128&d=identicon&r=PG", "display_name": "Arnold Schrijver", "link": "https://stackoverflow.com/users/8295283/arnold-schrijver"}, "edited": false, "score": 1, "creation_date": 1593288543, "post_id": 54016974, "comment_id": 110729286, "body": "Well, the other answer without QueryBuilder works well, but in case you&#39;d like to use QueryBuilder anyway then you can also use <a href=\"https://typeorm.io/#/select-query-builder/adding-where-expression\" rel=\"nofollow noreferrer\">orWhere</a> to create your <code>OR</code> expression."}], "tags": [], "owner": {"reputation": 1511, "user_id": 4039675, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b0df8c62ca14e624b42ebf4ed949014?s=128&d=identicon&r=PG&f=1", "display_name": "Javascriptonian", "link": "https://stackoverflow.com/users/4039675/javascriptonian"}, "is_accepted": false, "score": 4, "last_activity_date": 1546494621, "creation_date": 1546494621, "answer_id": 54016974, "question_id": 53407236, "link": "https://stackoverflow.com/questions/53407236/typeorm-or-operator/54016974#54016974", "title": "typeorm &quot;OR&quot; operator", "body": "<p>I had the same issue, but I worked around it with the <a href=\"http://typeorm.io/#/select-query-builder\" rel=\"nofollow noreferrer\">QueryBuilder</a>.</p>\n\n<p>This would be an example.</p>\n\n<pre><code>return await getRepository(MyModel)\n  .createQueryBuilder()\n  .where(\"name = :name OR lastName = :lastName\", {\n    name: \"john\",\n    lastName: \"doe\"\n  })\n  .getMany();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 4420482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpXFg.png?s=128&g=1", "display_name": "Kashkashio", "link": "https://stackoverflow.com/users/4420482/kashkashio"}, "edited": false, "score": 0, "creation_date": 1563799002, "post_id": 54747657, "comment_id": 100807512, "body": "sorry this dosnt work. you get this error: &#39;filter&#39; field must be of BSON type object"}, {"owner": {"reputation": 371, "user_id": 4420482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpXFg.png?s=128&g=1", "display_name": "Kashkashio", "link": "https://stackoverflow.com/users/4420482/kashkashio"}, "edited": false, "score": 0, "creation_date": 1563802078, "post_id": 54747657, "comment_id": 100809281, "body": "Ok i figured it out. this will only work with SQL databases and not Mongo."}, {"owner": {"reputation": 1163, "user_id": 243424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b052f4656430fdd1efca5d543b629905?s=128&d=identicon&r=PG", "display_name": "Alex Fortuna", "link": "https://stackoverflow.com/users/243424/alex-fortuna"}, "edited": false, "score": 0, "creation_date": 1594280677, "post_id": 54747657, "comment_id": 111072256, "body": "Works for Postgres. The question is, now, how to combine this &quot;OR&quot; sub-clause with additional &quot;AND&quot; sub-clauses. Any ideas?"}, {"owner": {"reputation": 29513, "user_id": 183200, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ARQ8X.jpg?s=128&g=1", "display_name": "Praveen Prasad", "link": "https://stackoverflow.com/users/183200/praveen-prasad"}, "edited": false, "score": 0, "creation_date": 1594578843, "post_id": 54747657, "comment_id": 111168423, "body": "Add more properties to the object"}, {"owner": {"reputation": 7544, "user_id": 2750743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sJOzq.png?s=128&g=1", "display_name": "Klesun", "link": "https://stackoverflow.com/users/2750743/klesun"}, "edited": false, "score": 0, "creation_date": 1611029296, "post_id": 54747657, "comment_id": 116312392, "body": "Hm, how would one express parentheses?"}], "tags": [], "owner": {"reputation": 29513, "user_id": 183200, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ARQ8X.jpg?s=128&g=1", "display_name": "Praveen Prasad", "link": "https://stackoverflow.com/users/183200/praveen-prasad"}, "is_accepted": false, "score": 32, "last_activity_date": 1550494030, "creation_date": 1550494030, "answer_id": 54747657, "question_id": 53407236, "link": "https://stackoverflow.com/questions/53407236/typeorm-or-operator/54747657#54747657", "title": "typeorm &quot;OR&quot; operator", "body": "<pre><code>db.getRepository(MyModel).find({\n  where:[\n      {name:\"john\"},\n      {lastName: \"doe\"}\n  ]\n})\n</code></pre>\n\n<p>Pass an array to <code>where</code></p>\n"}], "owner": {"reputation": 231, "user_id": 10684265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/547d203a638e8cef349f7b82bde62b38?s=128&d=identicon&r=PG&f=1", "display_name": "levansuper", "link": "https://stackoverflow.com/users/10684265/levansuper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17983, "favorite_count": 6, "answer_count": 2, "score": 22, "last_activity_date": 1614687346, "creation_date": 1542785781, "last_edit_date": 1614687346, "question_id": 53407236, "link": "https://stackoverflow.com/questions/53407236/typeorm-or-operator", "title": "typeorm &quot;OR&quot; operator", "body": "<p>I could not find any notion of OR operator neither in TypeORM docs nor in the source code. does it support it at all?</p>\n<p>I'm trying to do perform a basic search with a repository.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.getRepository(MyModel).find({\n  name : &quot;john&quot;,\n  lastName: &quot;doe&quot;\n})\n</code></pre>\n<p>I know this generates an AND operation but\nI need an OR operation so SQL would look like:</p>\n<blockquote>\n<p>name='john' OR lastName='doe'</p>\n</blockquote>\n<p>am I forced to use the query builder for something basic like this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-universal"], "comments": [{"owner": {"reputation": 461, "user_id": 10608322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-npZqFUbLqYc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDz26XacBfNbjjiwyL4S-AXdm1N7Q/mo/photo.jpg?sz=128", "display_name": "Rolvernew", "link": "https://stackoverflow.com/users/10608322/rolvernew"}, "edited": false, "score": 0, "creation_date": 1542788073, "post_id": 53406926, "comment_id": 93690149, "body": "The answers to this <a href=\"https://stackoverflow.com/questions/35842315/angular2-seo-how-to-manipulate-the-meta-description\">question</a> might help."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 3597699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GqIz0.jpg?s=128&g=1", "display_name": "Cristian Guedes", "link": "https://stackoverflow.com/users/3597699/cristian-guedes"}, "is_accepted": false, "score": 1, "last_activity_date": 1569063794, "creation_date": 1569063794, "answer_id": 58039648, "question_id": 53406926, "link": "https://stackoverflow.com/questions/53406926/angular-universal-update-meta-tags-with-dynamic-content/58039648#58039648", "title": "angular universal update meta tags with dynamic content", "body": "<p>I have a blog fully implemented in Angular 7. Here's how I was able to use Facebook meta tags dynamically without using Angular Universal:</p>\n\n<p>1) in my backend (in my case it's Spring Boot) I created a service to generate an HTML file according to my current blog post. I am adding all the specific Facebook tags in the header of this HTML according to my blog post (like title, thumbnail, etc.)</p>\n\n<p>2) In my HTML I add a \"Go to Blog post\" link</p>\n\n<p>3) When I want to share the post blog, I am sharing the generated HTML URL on Facebook. And thus the title, thumbnail, etc. are according to my current post content.</p>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1569063794, "creation_date": 1542784338, "last_edit_date": 1542785184, "question_id": 53406926, "link": "https://stackoverflow.com/questions/53406926/angular-universal-update-meta-tags-with-dynamic-content", "title": "angular universal update meta tags with dynamic content", "body": "<p>Hey I'm having an issue I have this blogs page that brings in dynamic data, and with that data I want to use it to populate meta tags so for example I'm doing something like this</p>\n\n<pre><code>getBlogPost() {\n  this.http.get(...)\n     .subscribe(result =&gt; {\n         this.blogPost = result;\n         this.meta.updateTag({ name: 'description', content: this.blogPost.fields.metaDescription });\n         this.meta.updateTag({name: 'robots', content: 'INDEX, FOLLOW'});\n         this.title.setTitle(this.blogPost.fields.blogName);\n         this.meta.updateTag({name: 'twitter:image:src', content: this.blogPost.includes.Asset[0].fields.file.url });\n         this.meta.updateTag({name: 'twitter:title', content: this.blogPost.fields.blogName });\n         this.meta.updateTag({name: 'twitter:description', content: this.blogPost.fields.metaDescription });\n         this.meta.updateTag({property: 'og:title', content:  this.blogPost.fields.blogName});\n         this.meta.updateTag({property: 'og:description',  content: this.blogPost.fields.metaDescription});\n         this.meta.updateTag({property: 'og:image', content: this.blogPost.includes.Asset[0].fields.file.url });\n         this.meta.updateTag({property: 'og:image:secure_url', content: this.blogPost.includes.Asset[0].fields.file.url});\n     })\n}\n</code></pre>\n\n<p>Now all signs point to this should work but I don't see the updated meta tags when I view the source code and I don't see them when I check SEO tools...</p>\n\n<p>Is there a solution to this?</p>\n\n<p>Thanks in Advance!!</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542784059, "post_id": 53406844, "comment_id": 93688469, "body": "The same way as in every version of angular: by declaring the component in only one (shared) module, and importing that one (shared) module in all modules where you need it. <a href=\"https://angular.io/guide/sharing-ngmodules\" rel=\"nofollow noreferrer\">angular.io/guide/sharing-ngmodules</a>"}, {"owner": {"reputation": 393, "user_id": 7641206, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/eefad40ea395c166afbceff77fbff4b2?s=128&d=identicon&r=PG&f=1", "display_name": "srujana", "link": "https://stackoverflow.com/users/7641206/srujana"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542784483, "post_id": 53406844, "comment_id": 93688653, "body": "i have to use the shared component in different router modules for navigation. how to use that component in router module? i have imported the shared module in module.ts of every module."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542784673, "post_id": 53406844, "comment_id": 93688745, "body": "The way I explained in my previous comment, and the doc I linked to explains. If you think you have done that, and still have a problem, then ask why you get an error and post all the relevant code."}], "owner": {"reputation": 393, "user_id": 7641206, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/eefad40ea395c166afbceff77fbff4b2?s=128&d=identicon&r=PG&f=1", "display_name": "srujana", "link": "https://stackoverflow.com/users/7641206/srujana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544358430, "creation_date": 1542783877, "last_edit_date": 1544358430, "question_id": 53406844, "link": "https://stackoverflow.com/questions/53406844/how-to-implement-component-sharing-in-different-modules-in-angular-7-while-using", "title": "How to implement Component sharing in different modules in Angular 7 while using lazy loading?", "body": "<p>I am working on upgrading existing Angular 4 project to Angular 7.I have implemented lazy loading.Everything is working fine, but at one issue I have strucked.A single component has been used multiple times for different routes in Angular 4 project.Since I am converting the project into Angular 7,I have divided the components into different modules.So,on using the same component in 2 different router modules, I am getting the error of \n\"is part of the declarations of 2 modules\"</p>\n\n<p>How to use same component in different router modules in angular 7?</p>\n"}, {"tags": ["javascript", "angular", "forms", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1542784143, "post_id": 53406704, "comment_id": 93688507, "body": "did you check my answer? what is the problem?"}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1542786275, "post_id": 53406704, "comment_id": 93689359, "body": "If I use the component doing this twice on a page the IDs \u20180field\u2019, \u20181field\u2019 will repeat"}], "tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": false, "score": 2, "last_activity_date": 1542783704, "last_edit_date": 1542783704, "creation_date": 1542783304, "answer_id": 53406704, "question_id": 53406626, "link": "https://stackoverflow.com/questions/53406626/how-can-i-associate-labels-with-form-fields-outside-them-in-angular/53406704#53406704", "title": "How can I associate labels with form fields outside them in Angular?", "body": "<p>you can try:</p>\n\n<pre><code> &lt;div class='form'&gt;\n      &lt;ng-container *ngFor=\"let item of items\"&gt;\n        &lt;label for=\"{{item}} + 'field'\" &gt;{{item|uppercase}}:&lt;/label&gt;\n        &lt;input id=\"{{item}} + 'field'\" [value]=\"item\"/&gt;\n      &lt;/ng-container&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>or use the ngfor index if your items are not unique:</p>\n\n<pre><code>&lt;div class='form'&gt;\n  &lt;ng-container *ngFor=\"let item of items; let i = index\"&gt;\n    &lt;label for=\"{{i}} + 'field'\" &gt;{{item|uppercase}}:&lt;/label&gt;\n    &lt;input id=\"{{i}} + 'field'\" [value]=\"item\"/&gt;\n  &lt;/ng-container&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fvgvmm\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1542783899, "post_id": 53406734, "comment_id": 93688395, "body": "I mean in my dummy example they are but generally I can&#39;t guarantee this and components should be self-contained."}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1542783917, "post_id": 53406734, "comment_id": 93688405, "body": "<code>shortid</code> looks neat though"}, {"owner": {"reputation": 2945, "user_id": 5403618, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/23dd52d5b8a74b7b8c741c04265432a3?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Undavia", "link": "https://stackoverflow.com/users/5403618/anand-undavia"}, "reply_to_user": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1542784114, "post_id": 53406734, "comment_id": 93688491, "body": "Yeah, Because the items were being used as labels themselves, I assumed that they would be unique. Duplicate label in a form does not make sense. About <code>shortid</code>, definitely, I have seen people in react community using it quite extensively"}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 1, "creation_date": 1542786329, "post_id": 53406734, "comment_id": 93689387, "body": "I\u2019ll probably go nuts and use it to make our forms submittable with Enter too like god intended"}], "tags": [], "owner": {"reputation": 2945, "user_id": 5403618, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/23dd52d5b8a74b7b8c741c04265432a3?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Undavia", "link": "https://stackoverflow.com/users/5403618/anand-undavia"}, "is_accepted": true, "score": 4, "last_activity_date": 1542783401, "creation_date": 1542783401, "answer_id": 53406734, "question_id": 53406626, "link": "https://stackoverflow.com/questions/53406626/how-can-i-associate-labels-with-form-fields-outside-them-in-angular/53406734#53406734", "title": "How can I associate labels with form fields outside them in Angular?", "body": "<p>Given that the <code>items</code> are unique, you could surely do this:</p>\n\n<pre><code>&lt;label [for]=\"item\" &gt;{{item|uppercase}}:&lt;/label&gt;\n&lt;input [id]=\"item\" [value]=\"item\"/&gt;\n</code></pre>\n\n<p>That way, each <code>id</code> and <code>for</code> would be unique and label would work as required.</p>\n\n<p>Here is the <a href=\"https://stackblitz.com/edit/angular-yecc9f\" rel=\"nofollow noreferrer\">demo</a>.</p>\n\n<p>If you anyway need to generate the unique IDs, take a look at <a href=\"https://www.npmjs.com/package/shortid\" rel=\"nofollow noreferrer\">shortid</a></p>\n"}], "owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2540, "favorite_count": 0, "accepted_answer_id": 53406734, "answer_count": 2, "score": 0, "last_activity_date": 1542783704, "creation_date": 1542782933, "question_id": 53406626, "link": "https://stackoverflow.com/questions/53406626/how-can-i-associate-labels-with-form-fields-outside-them-in-angular", "title": "How can I associate labels with form fields outside them in Angular?", "body": "<p>Let's say I'm creating labels and form fields in a *ngFor loop like this:</p>\n\n<h3>app.component.ts</h3>\n\n<pre><code>export class AppComponent  {\n  items = ['aaa', 'bbbbbb', 'ccccccccc']\n}\n</code></pre>\n\n<h3>app.component.html</h3>\n\n<pre><code>&lt;div class='form'&gt;\n  &lt;ng-container *ngFor=\"let item of items\"&gt;\n    &lt;label&gt;{{item|uppercase}}:&lt;/label&gt;\n    &lt;input [value]=\"item\"/&gt;\n  &lt;/ng-container&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>(See it on StackBlitz: <a href=\"https://stackblitz.com/edit/angular-ptwq6t\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ptwq6t</a>)</p>\n\n<p>Is there a way to cleanly associate these \"dynamic\" labels and inputs with one another? If I do:</p>\n\n<pre><code>&lt;label for=\"field\" &gt;{{item|uppercase}}:&lt;/label&gt;\n&lt;input id=\"field\" [value]=\"item\"/&gt;\n</code></pre>\n\n<p>Angular just repeats the <code>for</code> and <code>id</code> attributes verbatim and all labels point to the first input field.</p>\n\n<p>Is there some way to use Angular's component identity, or am I stuck with something like generating a UUID myself, or otherwise guaranteeing uniqueness of the ID myself?</p>\n\n<p>I can't nest the input inside the label because I have to reuse some already implemented CSS that doesn't expect that structure, but would still like the better usability that comes from having a proper label.</p>\n"}, {"tags": ["typescript", "express", "auth0", "express-jwt"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6780140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaebf016d883100da07b8715425de21d?s=128&d=identicon&r=PG&f=1", "display_name": "tsummer2", "link": "https://stackoverflow.com/users/6780140/tsummer2"}, "is_accepted": false, "score": 1, "last_activity_date": 1551129564, "creation_date": 1551129564, "answer_id": 54874828, "question_id": 53406347, "link": "https://stackoverflow.com/questions/53406347/jest-mock-express-jwt-middleware-behavior-for-protected-routes/54874828#54874828", "title": "jest.mock express-jwt middleware behavior for protected routes", "body": "<p>I solved a similar problem I was having by moving the <code>jest.mock()</code> out of the <code>beforeAll()</code>. It appears that <code>jest.mock()</code> is hosted to the top of its <em>scope</em>, not the file itself. So since you are importing your app at the top of the file (which then requires your middleware) the middleware is still your original rather than the mock, which gets stuck in the <code>beforeAll()</code> function.</p>\n\n<p>I'm new to jest so I might be misunderstanding something important...</p>\n"}], "owner": {"reputation": 2537, "user_id": 354306, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e8a87b57f88343a0cd8b3f8e415016e6?s=128&d=identicon&r=PG", "display_name": "Jubair", "link": "https://stackoverflow.com/users/354306/jubair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551129564, "creation_date": 1542781581, "question_id": 53406347, "link": "https://stackoverflow.com/questions/53406347/jest-mock-express-jwt-middleware-behavior-for-protected-routes", "title": "jest.mock express-jwt middleware behavior for protected routes", "body": "<p>So right now I have something like this (which doesn't work)</p>\n\n<pre><code>import app from '../src/app';\n\nbeforeAll(() =&gt;\n  jest.mock('../src/middleware/auth', () =&gt; (req: Request, res: Response, next: NextFunction) =&gt; {\n    req.user = {};\n    return next();\n  });\n\nafterAll(() =&gt;\n  jest.unmock('../src/middleware/auth'));\n</code></pre>\n\n<p>and then my test as usual: </p>\n\n<pre><code>describe('POST /v1/protected-route', () =&gt; {\n  it('should return 200 OK', async () =&gt; {\n    await request(app)\n      .get('/v1/protected-route')\n...\n</code></pre>\n\n<p>in <code>../src/app</code> I'm importing <code>./middleware/auth</code> and adding it like so <code>app.use(auth())</code></p>\n\n<p>I still keep getting 401s and it looks like the mock is not getting used here.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 3306, "user_id": 2888753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4f46021e22a612af73b4b980bf91c6?s=128&d=identicon&r=PG", "display_name": "miqh", "link": "https://stackoverflow.com/users/2888753/miqh"}, "edited": false, "score": 0, "creation_date": 1542782464, "post_id": 53406239, "comment_id": 93687826, "body": "Doesn&#39;t look like you&#39;re indexing items in <code>selectedItems</code> in your second snippet with the filter? (i.e. <code>x =&gt; selectedItems.indexOf(x) === -1</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 5571935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e524b95be04c2163f7d8c20a1cbdeba6?s=128&d=identicon&r=PG&f=1", "display_name": "Mailyan", "link": "https://stackoverflow.com/users/5571935/mailyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1542787577, "creation_date": 1542787577, "answer_id": 53407618, "question_id": 53406239, "link": "https://stackoverflow.com/questions/53406239/filtering-an-array-of-objects-in-react-using-lambda-expression/53407618#53407618", "title": "Filtering an array of objects in React using lambda expression", "body": "<p>You can use <code>indexOf()</code> function to check if the item is present in the selectedItems array and delete it if necessary.</p>\n\n<pre><code>public OnDeleteClick = (): void =&gt; {\n  let selectedItems = (this._selection.getSelection() as {}[]);\n  let itemsCopy = this.state.items;\n  let newArray = itemsCopy.filter(x =&gt; selectedItems.indexOf(x) &gt;= 0);\n  this.setState({\n    items: newArray\n  })\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5868181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C7M5I.jpg?s=128&g=1", "display_name": "AKronym", "link": "https://stackoverflow.com/users/5868181/akronym"}, "edited": false, "score": 0, "creation_date": 1542796473, "post_id": 53408147, "comment_id": 93695043, "body": "indexOf  is working fine but includes method apparently doesn&#39;t exist. Don&#39;t know why."}, {"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "reply_to_user": {"reputation": 51, "user_id": 5868181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C7M5I.jpg?s=128&g=1", "display_name": "AKronym", "link": "https://stackoverflow.com/users/5868181/akronym"}, "edited": false, "score": 0, "creation_date": 1542798030, "post_id": 53408147, "comment_id": 93695997, "body": "@AKronym You tried it with a browser that is <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Browser_compatibility\" rel=\"nofollow noreferrer\">too old</a> and you didn&#39;t set the babel settings correctly for that browser? Or maybe your typescript definition files are out dated."}, {"owner": {"reputation": 51, "user_id": 5868181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C7M5I.jpg?s=128&g=1", "display_name": "AKronym", "link": "https://stackoverflow.com/users/5868181/akronym"}, "edited": false, "score": 0, "creation_date": 1542804397, "post_id": 53408147, "comment_id": 93699349, "body": "I am using the latest version of chrome and also for further verification i tried this code on <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">Typescript playground</a> and it is throwing an error on the includes method. <code>let arrObj1 = [     {         name: &quot;ABC&quot;,         age: 12     },     {     name: &quot;XYZ&quot;,     age: 23     } ];  let arrObj2 = [     {         name: &quot;ABC&quot;,         age: 12     }, ];   let arrObj3 = arrObj1.filter(x =&gt; arrObj2.includes(x) &lt; 0); document.writeln(JSON.stringify(arrObj3));</code>"}, {"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "reply_to_user": {"reputation": 51, "user_id": 5868181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C7M5I.jpg?s=128&g=1", "display_name": "AKronym", "link": "https://stackoverflow.com/users/5868181/akronym"}, "edited": false, "score": 0, "creation_date": 1542805663, "post_id": 53408147, "comment_id": 93700011, "body": "@AKronym it&#39;s a <a href=\"https://github.com/gdi2290/angular-starter/issues/931\" rel=\"nofollow noreferrer\">typescript setting</a>"}, {"owner": {"reputation": 51, "user_id": 5868181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C7M5I.jpg?s=128&g=1", "display_name": "AKronym", "link": "https://stackoverflow.com/users/5868181/akronym"}, "edited": false, "score": 0, "creation_date": 1542809627, "post_id": 53408147, "comment_id": 93702428, "body": "Oh I see!. So it works in es7 only. Thank you so much!"}], "tags": [], "owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "is_accepted": false, "score": 0, "last_activity_date": 1542789748, "creation_date": 1542789748, "answer_id": 53408147, "question_id": 53406239, "link": "https://stackoverflow.com/questions/53406239/filtering-an-array-of-objects-in-react-using-lambda-expression/53408147#53408147", "title": "Filtering an array of objects in React using lambda expression", "body": "<p>You can use negate the result of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\">includes</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">some</a> or even indexOf as in the other answer:</p>\n\n<pre><code>public OnDeleteClick = (): void =&gt; {\n  let selectedItems = (this._selection.getSelection() as {}[]);\n  this.setState({\n    items: this.state.items.filter(\n      item=&gt;!selectedItems.includes(item)\n        //using some\n        // !selectedItems.some(\n        //   selected=&gt;\n        //     selected===item\n        // )\n    ) \n  })\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5868181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C7M5I.jpg?s=128&g=1", "display_name": "AKronym", "link": "https://stackoverflow.com/users/5868181/akronym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 53407618, "answer_count": 2, "score": 0, "last_activity_date": 1542789748, "creation_date": 1542780953, "last_edit_date": 1542787049, "question_id": 53406239, "link": "https://stackoverflow.com/questions/53406239/filtering-an-array-of-objects-in-react-using-lambda-expression", "title": "Filtering an array of objects in React using lambda expression", "body": "<p>I am trying to make a delete button that filters out items from a list of items and updates the state variable.</p>\n\n<pre><code>public OnDeleteClick = (): void =&gt; {\n  const selectionCount = this._selection.getSelectedCount();\n\n  let newArray = this.state.items;\n\n  for (let i = 0; i &lt; selectionCount; i++) {\n    const keyToBeRemoved = (this._selection.getSelection()[i] as any);\n    const filteredItem = newArray.filter(item =&gt; item !== keyToBeRemoved);\n    newArray = filteredItem;\n  }\n  this.setState({\n    items: newArray\n  })\n}\n</code></pre>\n\n<p>This is working but I don't want to use the for loop.\nSo I wrote this.</p>\n\n<pre><code>public OnDeleteClick = (): void =&gt; {\n  let selectedItems = (this._selection.getSelection() as {}[]);\n  let itemsCopy = this.state.items;\n  let newArray = itemsCopy.filter(x =&gt; x != selectedItems);\n  this.setState({\n    items: newArray\n  })\n}\n</code></pre>\n\n<p>But this wont filter out the items. What is not working?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1542778949, "creation_date": 1542778949, "answer_id": 53405882, "question_id": 53405746, "link": "https://stackoverflow.com/questions/53405746/typescript-react-sfc-children-props-type-error/53405882#53405882", "title": "TypeScript React SFC children props type error", "body": "<p>Your problem is that <code>selected &amp;&amp; children</code> evaluates to <code>React.ReactNode</code>, which if you check the typings, is a union type:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>type ReactNode = ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;\n</code></pre>\n\n<p>However, a <code>React.SFC</code> must return a <code>ReactElement</code>, it's definition for the function definition is:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>(props: P &amp; { children?: ReactNode }, context?: any): ReactElement&lt;any&gt; | null;\n</code></pre>\n\n<p>I think you've seen the <code>[truthy] &amp;&amp; [render me]</code> pattern used a lot, but usually inside of a larger TSX component, where a <code>React.ReactNode</code> is allowed</p>\n\n<p>You could do this if you want to keep it simple:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const ProfileTabContent: SFC&lt;ProfileTabContentProps&gt; = ({ selected, children }) =&gt; \n  &lt;&gt;{selected &amp;&amp; children}&lt;/&gt;\n</code></pre>\n\n<p>Which just wraps up your expression inside the shorthand for a <code>React.ReactFragment</code></p>\n"}], "owner": {"reputation": 316, "user_id": 8099543, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2dc81140ddddc4bcda4efdbdde191373?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Shi", "link": "https://stackoverflow.com/users/8099543/kevin-shi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 1, "accepted_answer_id": 53405882, "answer_count": 1, "score": 1, "last_activity_date": 1542778949, "creation_date": 1542778099, "question_id": 53405746, "link": "https://stackoverflow.com/questions/53405746/typescript-react-sfc-children-props-type-error", "title": "TypeScript React SFC children props type error", "body": "<p>I have the following stateless functional component defined:</p>\n\n<pre><code>import { SFC } from \"react\";\n\ntype ProfileTabContentProps = {\n  selected: boolean;\n};\n\nconst ProfileTabContent: SFC&lt;ProfileTabContentProps&gt; = ({ selected, children }) =&gt; selected &amp;&amp; children;\n</code></pre>\n\n<p>This fails to compile with the following error:</p>\n\n<pre><code>Type '({ selected, children }: ProfileTabContentProps &amp; { children?: ReactNode; }) =&gt; ReactNode' is not assignable to type 'StatelessComponent'.\nType 'ReactNode' is not assignable to type 'ReactElement | null'.\nType 'undefined' is not assignable to type 'ReactElement | null'.\n</code></pre>\n\n<p>A quick search for related questions all give the same answer, which is very similar to what I've done. What am I missing?</p>\n"}, {"tags": ["angular", "typescript", "kendo-ui"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8401765"}, "edited": false, "score": 0, "creation_date": 1542778412, "post_id": 53405622, "comment_id": 93686462, "body": "Hey, can you put the <code>You selected {{selectedname}}</code> line outside the if, and just below the first <code>kendo-multiselect</code> and show me the output? You are treating like the <code>selectedname</code> will be a string, but I suspect its an Object since it doesnt have to store only one name."}], "answers": [{"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 15, "user_id": 8791088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HABOJo5VC18/AAAAAAAAAAI/AAAAAAAAAQc/nIRWF1BLrV0/photo.jpg?sz=128", "display_name": "Adibah Hanun Abu Seman", "link": "https://stackoverflow.com/users/8791088/adibah-hanun-abu-seman"}, "edited": false, "score": 0, "creation_date": 1572969051, "post_id": 53405794, "comment_id": 103723095, "body": "haha this mean you check this after almost 1 Year, Amazing :D"}, {"owner": {"reputation": 15, "user_id": 8791088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HABOJo5VC18/AAAAAAAAAAI/AAAAAAAAAQc/nIRWF1BLrV0/photo.jpg?sz=128", "display_name": "Adibah Hanun Abu Seman", "link": "https://stackoverflow.com/users/8791088/adibah-hanun-abu-seman"}, "edited": false, "score": 1, "creation_date": 1577978767, "post_id": 53405794, "comment_id": 105299508, "body": "Actually, no. Your answer was helpful but during that time, I didn&#39;t know that I need to accept an answer. So recently (on last November), I was actually going Stack Overflow and realized that accepting an answer would be helpful for the others. Sorry for the misunderstanding, but really :( @Pardeep Jain"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": true, "score": 0, "last_activity_date": 1542778428, "creation_date": 1542778428, "answer_id": 53405794, "question_id": 53405622, "link": "https://stackoverflow.com/questions/53405622/how-to-display-div-based-on-selected-multiselect/53405794#53405794", "title": "How to display div based on selected multiselect", "body": "<p>Basically here <code>selectedname</code> returns an array, so you need to check whether an item exists in an array or not. So you can use the below code to check -</p>\n\n<pre><code>&lt;kendo-multiselect [data]=\"nameList\" [(ngModel)]=\"selectedname \"&gt;&lt;/kendo-multiselect&gt;\n\n\n&lt;div *ngIf=\"isShown('Name')\"&gt;\n&lt;div class=\"col-4\"&gt;\n   You selected {{selectedname}}\n&lt;/div&gt;\n&lt;div class=\"col-2\"&gt;Name:&lt;/div&gt;\n&lt;div class=\"col-6\"&gt;\n  &lt;kendo-dropdownlist style=\"width: 100%\" [data]=\"anotherList\" [valuePrimitive]=\"true\"&gt;&lt;/kendo-dropdownlist&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n\nisShown(flag) {\n      console.log(this.selectedname.indexOf(flag));\n      if (this.selectedname.indexOf(flag) !== -1) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-5njzks?file=app/app.component.ts\" rel=\"nofollow noreferrer\">Working example</a> </p>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 2184182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7a7bbe76bac868651ec0fef852c43a2?s=128&d=identicon&r=PG", "display_name": "Serkan KONAKCI", "link": "https://stackoverflow.com/users/2184182/serkan-konakci"}, "is_accepted": false, "score": 1, "last_activity_date": 1542778489, "creation_date": 1542778489, "answer_id": 53405802, "question_id": 53405622, "link": "https://stackoverflow.com/questions/53405622/how-to-display-div-based-on-selected-multiselect/53405802#53405802", "title": "How to display div based on selected multiselect", "body": "<p>On change event of \"kendo-mutliselecet\" push selectedname item to \"anotherList\" then set kendo-dropdownlist [(ngModel)] to this selectedname. </p>\n\n<pre><code>&lt;div *ngIf=\"selectedname.indexOf('Name')&gt;=0\"&gt;\n</code></pre>\n\n<p>I think it will be solution.  Not tested.</p>\n"}], "owner": {"reputation": 15, "user_id": 8791088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HABOJo5VC18/AAAAAAAAAAI/AAAAAAAAAQc/nIRWF1BLrV0/photo.jpg?sz=128", "display_name": "Adibah Hanun Abu Seman", "link": "https://stackoverflow.com/users/8791088/adibah-hanun-abu-seman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 53405794, "answer_count": 2, "score": 0, "last_activity_date": 1542778489, "creation_date": 1542777217, "question_id": 53405622, "link": "https://stackoverflow.com/questions/53405622/how-to-display-div-based-on-selected-multiselect", "title": "How to display div based on selected multiselect", "body": "<p>I am trying to show/hide elements based on multiselect dropdown, but my code doesn't seem to work. For example, one of the data for nameList is Name, and when Name is selected, I would like to display a div with another drop-down menu. I am using Angular and Typescript. Below are my codes for your reference:</p>\n\n<pre><code>&lt;kendo-multiselect [data]=\"nameList\" [(ngModel)]=\"selectedname \"&gt;&lt;/kendo-multiselect&gt;\n\n\n&lt;div *ngIf=\"selectedname === 'Name'\"&gt;\n&lt;div class=\"col-4\"&gt;\n   You selected {{selectedname}}\n&lt;/div&gt;\n&lt;div class=\"col-2\"&gt;Name:&lt;/div&gt;\n&lt;div class=\"col-6\"&gt;\n  &lt;kendo-dropdownlist style=\"width: 100%\" [data]=\"anotherList\" [valuePrimitive]=\"true\"&gt;&lt;/kendo-dropdownlist&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 803, "user_id": 10488923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7NfB.jpg?s=128&g=1", "display_name": "marvinIsSacul", "link": "https://stackoverflow.com/users/10488923/marvinissacul"}, "edited": false, "score": 0, "creation_date": 1542777015, "post_id": 53405428, "comment_id": 93686113, "body": "there you have it. this is probably a browser problem. check the browser support for the Angular version you&#39;re using"}, {"owner": {"reputation": 803, "user_id": 10488923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7NfB.jpg?s=128&g=1", "display_name": "marvinIsSacul", "link": "https://stackoverflow.com/users/10488923/marvinissacul"}, "edited": false, "score": 0, "creation_date": 1542777485, "post_id": 53405428, "comment_id": 93686238, "body": "<a href=\"https://angular.io/guide/browser-support\" rel=\"nofollow noreferrer\">https://angular.io/guide/browser-support</a>"}], "owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542775754, "creation_date": 1542775754, "question_id": 53405428, "link": "https://stackoverflow.com/questions/53405428/angular-upload-image-from-mobile-browser-doesnt-work", "title": "Angular upload image from mobile browser doesn&#39;t work", "body": "<p>I have a simple angular 5 application that uploads an image to my server. The problem is that in desktop browsers it works without problems, but when I'm going to upload images from a mobile device this does not work.</p>\n\n<p>Then I show my Angular code:\n<a href=\"https://stackblitz.com/edit/angular-vuufdb\" rel=\"nofollow noreferrer\">Online Code</a></p>\n\n<p>When I try to use this web app from mobile safari (V11) the blank screen appears, in google chrome mobile it works, but if I upload a heavy image ... it does not upload anything to my server.</p>\n\n<p>My question is how can I do this, so that it works in both safari and chrome (Desktop / mobile)...this is the idea of \u200b\u200ba web application.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3248, "user_id": 1262542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7cf2d499caed8b2c28ccc311ddffaeb?s=128&d=identicon&r=PG", "display_name": "Stefan Hanke", "link": "https://stackoverflow.com/users/1262542/stefan-hanke"}, "edited": false, "score": 1, "creation_date": 1542775043, "post_id": 53404740, "comment_id": 93685589, "body": "Please check other questions, see e.g. <a href=\"https://stackoverflow.com/questions/32948271/extend-interface-defined-in-d-ts-file\">here</a>."}, {"owner": {"reputation": 425, "user_id": 4135968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SD03M.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/4135968/john"}, "reply_to_user": {"reputation": 3248, "user_id": 1262542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7cf2d499caed8b2c28ccc311ddffaeb?s=128&d=identicon&r=PG", "display_name": "Stefan Hanke", "link": "https://stackoverflow.com/users/1262542/stefan-hanke"}, "edited": false, "score": 0, "creation_date": 1542782692, "post_id": 53404740, "comment_id": 93687916, "body": "all right,I got it ! so I cannot modified the interface directly in lib.dom.d.ts.but I create a global.d.ts and add the following code: ` interface CanvasRenderingContext2D {     fillTextCircle: any; }   `  It works!"}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 4135968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SD03M.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/4135968/john"}, "is_accepted": true, "score": 0, "last_activity_date": 1542782803, "creation_date": 1542782803, "answer_id": 53406599, "question_id": 53404740, "link": "https://stackoverflow.com/questions/53404740/how-to-add-functions-to-canvasrenderingcontext2d-prototype-in-typescript/53406599#53406599", "title": "how to add functions to CanvasRenderingContext2D prototype in typescript", "body": "<p>just add a global.d.ts,and add the following code:</p>\n\n<pre><code> interface CanvasRenderingContext2D {\n    fillTextCircle: any;\n}\n</code></pre>\n\n<p>It will work</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32948271/extend-interface-defined-in-d-ts-file\">link question</a></p>\n"}], "owner": {"reputation": 425, "user_id": 4135968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SD03M.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/4135968/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 53406599, "answer_count": 1, "score": 0, "last_activity_date": 1542783668, "creation_date": 1542769760, "last_edit_date": 1542783668, "question_id": 53404740, "link": "https://stackoverflow.com/questions/53404740/how-to-add-functions-to-canvasrenderingcontext2d-prototype-in-typescript", "title": "how to add functions to CanvasRenderingContext2D prototype in typescript", "body": "<p>I want to add a function on CanvasRenderingContext2D. what it does is to draw a circle text.</p>\n\n<p>in javascript, all I need to do is write code like this:</p>\n\n<pre><code>CanvasRenderingContext2D.prototype.fillTextCircle = function () {\n    //some code       \n}\n</code></pre>\n\n<p>however it desen't work in typescript.</p>\n\n<p>I also try these two methods:</p>\n\n<p>1.\n  add following code at the file header</p>\n\n<pre><code>interface CanvasRenderingContext2D {\n    fillTextCircle: any;\n}\n\nCanvasRenderingContext2D.prototype.fillTextCircle = function () {\n    //some code       \n}\n</code></pre>\n\n<p>2.\n add this line in lib.dom.d.ts</p>\n\n<pre><code>interface CanvasRenderingContext2D extends CanvasState, CanvasTransform, CanvasCompositing, CanvasImageSmoothing, CanvasFillStrokeStyles, CanvasShadowStyles, CanvasFilters, CanvasRect, CanvasDrawPath, CanvasUserInterface, CanvasText, CanvasDrawImage, CanvasImageData, CanvasPathDrawingStyles, CanvasTextDrawingStyles, CanvasPath {\n    readonly canvas: HTMLCanvasElement;\n    fillTextCircle: any;   //add this line in lib.dom.d.ts\n}\n</code></pre>\n\n<p>but it still complains this error:</p>\n\n<blockquote>\n  <p>Property 'fillTextCircle' does not exist on type\n  'CanvasRenderingContext2D'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "api", "asp.net-web-api", "asp.net-core"], "comments": [{"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "edited": false, "score": 0, "creation_date": 1542770099, "post_id": 53404685, "comment_id": 93684525, "body": "When you are making request you are adding some parameters. Can you please provide URL from network? It seems that you are sending invalid date."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1542770362, "post_id": 53404685, "comment_id": 93684572, "body": "Show <code>FilterModel</code> as defined on server side. Also show the <code>filter</code> params sent from client. You most likely have the <code>[ApiController]</code> and the filter is defaulting to bad request because of a missing or malformed parameter value."}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "edited": false, "score": 0, "creation_date": 1542770439, "post_id": 53404685, "comment_id": 93684587, "body": "Does it get hit while you debug or it doesn&#39;t even find the Url ? Whereas am not sure how you pass a body for get ?"}, {"owner": {"reputation": 1502, "user_id": 8343203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a552e228a2a29006473a22ae0bf34?s=128&d=identicon&r=PG&f=1", "display_name": "hphp", "link": "https://stackoverflow.com/users/8343203/hphp"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1542771527, "post_id": 53404685, "comment_id": 93684845, "body": "@Nkosi you can see my model in my post aboce, i aleady updated it. also i already use [ApiController]"}], "answers": [{"comments": [{"owner": {"reputation": 1502, "user_id": 8343203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a552e228a2a29006473a22ae0bf34?s=128&d=identicon&r=PG&f=1", "display_name": "hphp", "link": "https://stackoverflow.com/users/8343203/hphp"}, "edited": false, "score": 0, "creation_date": 1542773429, "post_id": 53405041, "comment_id": 93685262, "body": "there is no FromUri only FromBody, Form, Header, Query, Route, Services  which one i have to use?"}, {"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "reply_to_user": {"reputation": 1502, "user_id": 8343203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a552e228a2a29006473a22ae0bf34?s=128&d=identicon&r=PG&f=1", "display_name": "hphp", "link": "https://stackoverflow.com/users/8343203/hphp"}, "edited": false, "score": 0, "creation_date": 1542773585, "post_id": 53405041, "comment_id": 93685282, "body": "@hphp updated my answer. I did posted for old aspnet. In core there is fromQuery"}, {"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "reply_to_user": {"reputation": 1502, "user_id": 8343203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a552e228a2a29006473a22ae0bf34?s=128&d=identicon&r=PG&f=1", "display_name": "hphp", "link": "https://stackoverflow.com/users/8343203/hphp"}, "edited": false, "score": 0, "creation_date": 1542773822, "post_id": 53405041, "comment_id": 93685336, "body": "@hphp well at least its not bad request :) Seems to be that endpoint is hit but error in your code"}, {"owner": {"reputation": 1502, "user_id": 8343203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a552e228a2a29006473a22ae0bf34?s=128&d=identicon&r=PG&f=1", "display_name": "hphp", "link": "https://stackoverflow.com/users/8343203/hphp"}, "edited": false, "score": 1, "creation_date": 1542773939, "post_id": 53405041, "comment_id": 93685360, "body": "ah yeah.. it&#39;s hit.. thanks... now i just have to debug my code logic thanks"}], "tags": [], "owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "is_accepted": true, "score": 1, "last_activity_date": 1542773558, "last_edit_date": 1542773558, "creation_date": 1542772513, "answer_id": 53405041, "question_id": 53404685, "link": "https://stackoverflow.com/questions/53404685/asp-net-core-httpget-with-parameter-resulting-bad-request/53405041#53405041", "title": "ASP .net core HttpGet with parameter resulting Bad Request", "body": "<p>Try to add </p>\n\n<blockquote>\n  <p>[FromQuery]</p>\n</blockquote>\n\n<pre><code>public async Task&lt;IActionResult&gt; GetReport([FromQuery] FilterModel filter)\n</code></pre>\n\n<p>So since you are doing binding to object you need to say where to take them <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-2.1#customize-model-binding-behavior-with-attributes\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-2.1#customize-model-binding-behavior-with-attributes</a>.</p>\n\n<p>Or you can do it just with parameters</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; GetReport(string EmployeeId, DateTime? Month = null, DateTime? FromMonth = null, DateTime? ToMonth = null)\n</code></pre>\n"}], "owner": {"reputation": 1502, "user_id": 8343203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a552e228a2a29006473a22ae0bf34?s=128&d=identicon&r=PG&f=1", "display_name": "hphp", "link": "https://stackoverflow.com/users/8343203/hphp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1390, "favorite_count": 0, "accepted_answer_id": 53405041, "answer_count": 1, "score": 0, "last_activity_date": 1542773558, "creation_date": 1542769247, "last_edit_date": 1542771454, "question_id": 53404685, "link": "https://stackoverflow.com/questions/53404685/asp-net-core-httpget-with-parameter-resulting-bad-request", "title": "ASP .net core HttpGet with parameter resulting Bad Request", "body": "<p>So I have a service using Axios to call my C# API\nsince i wanto to select specific data, I use get method with parameter</p>\n\n<p>here's my service</p>\n\n<pre><code>let response = await Axios.get('/api/get-report', {\n        params: filter\n    });\n</code></pre>\n\n<p>and here's my filter object in typescript</p>\n\n<pre><code>export interface FilterModel {\n  employeeId?: string;\n  Month?: Date;\n  from?: Date;\n  to?: Date;\n}\n</code></pre>\n\n<p>model on server</p>\n\n<pre><code>public class AttendanceReportFilterModel\n{\n    public string EmployeeId { set; get; }\n    public DateTime? Month { set; get; }\n    public DateTime? From { set; get; }\n    public DateTime? To { set; get; }\n}\n</code></pre>\n\n<p>and finally, here's my C# API</p>\n\n<pre><code>[HttpGet(\"get-report\")]\n    public async Task&lt;IActionResult&gt; GetReport(FilterModel filter)\n    {\n        var Detail = await Service.GetReport(filter);\n        if (Detail == null)\n        {\n            return StatusCode(500, \"Not Found\");\n        }\n\n        return Ok(Detail);\n    }\n</code></pre>\n\n<p>whenever I call my service, its always returning Bad Request\nanybody know why? and how to fix this?</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1542767440, "post_id": 53404422, "comment_id": 93683969, "body": "<code>concat(...).pipe(ignoreElements())</code> will either complete (but emit no values) or error."}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1542767528, "post_id": 53404422, "comment_id": 93683984, "body": "@cartant - well, that at least pointed me in the right direction, now I know I can pass a <code>complete</code> callback to <code>subscribe()</code>"}, {"owner": {"reputation": 3248, "user_id": 1262542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7cf2d499caed8b2c28ccc311ddffaeb?s=128&d=identicon&r=PG", "display_name": "Stefan Hanke", "link": "https://stackoverflow.com/users/1262542/stefan-hanke"}, "edited": false, "score": 0, "creation_date": 1542778482, "post_id": 53404422, "comment_id": 93686486, "body": "This reads like you already know the answer."}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "reply_to_user": {"reputation": 3248, "user_id": 1262542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7cf2d499caed8b2c28ccc311ddffaeb?s=128&d=identicon&r=PG", "display_name": "Stefan Hanke", "link": "https://stackoverflow.com/users/1262542/stefan-hanke"}, "edited": false, "score": 0, "creation_date": 1542778661, "post_id": 53404422, "comment_id": 93686524, "body": "@StefanHanke - I\u2019ll either answerify what I have or nule this question since it\u2019s a pretty basic API thing and I also have an unrelated bug in the question code; I\u2019ll decide after finishing this all-nighter and catching at least a little sleep"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1542783630, "post_id": 53404422, "comment_id": 93688292, "body": "OT, but you should tell your backend guys that doing this one by one is not only a scaling issue (user needs to wait n times as long), but also an issue of transactionality (usually you want all to succeed or fail, not get an intermediate state) and atomicity (user leaves page mid-stream will execute only half the requests). Also, maybe if they don&#39;t give you the endpoint, they should at least fix that bug. Not serving an endpoint concurrently is outrageous. Your backend guys are wrong here, very wrong."}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1542786661, "post_id": 53404422, "comment_id": 93689521, "body": "@IngoB&#252;rk you\u2019re underestimating the obstinacy involved, and odds are I\u2019d get told to use the endpoint that can replace the whole collection; which would be atomic but also building previous+new items on the frontend is onerous and sending 102 elements to the API to accomplish adding 2 to the 100 that were there is just plain silly"}], "answers": [{"comments": [{"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1542767377, "post_id": 53404494, "comment_id": 93683955, "body": "Sorry, no, concatMap still emits once for every time a source observable emits."}, {"owner": {"reputation": 2646, "user_id": 4591364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TPlHJ.jpg?s=128&g=1", "display_name": "Microsmsm", "link": "https://stackoverflow.com/users/4591364/microsmsm"}, "reply_to_user": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1542768062, "post_id": 53404494, "comment_id": 93684086, "body": "can <code>skipUntil</code> help you here? <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/skipUntil\" rel=\"nofollow noreferrer\">rxjs-dev.firebaseapp.com/api/operators/skipUntil</a>"}], "tags": [], "owner": {"reputation": 2646, "user_id": 4591364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TPlHJ.jpg?s=128&g=1", "display_name": "Microsmsm", "link": "https://stackoverflow.com/users/4591364/microsmsm"}, "is_accepted": false, "score": 0, "last_activity_date": 1542767293, "creation_date": 1542767293, "answer_id": 53404494, "question_id": 53404422, "link": "https://stackoverflow.com/questions/53404422/how-to-turn-multiple-observables-an-observable-that-emits-once-when-all-the-sour/53404494#53404494", "title": "How to turn multiple observables an observable that emits once when all the source observables complete?", "body": "<p>You can use <a href=\"https://www.learnrxjs.io/operators/transformation/concatmap.html\" rel=\"nofollow noreferrer\">concatMap</a></p>\n\n<blockquote>\n  <p>concatMap: it's maping values to inner observable, subscribe and emit\n  <strong>in order</strong>.</p>\n</blockquote>\n\n<p>In your case <code>forkJoin</code> is doing all subscriptions at the same time, but <code>concatMap</code> should do them <strong><em>one by one</em></strong>.</p>\n\n<p>I hope this is useful to you</p>\n"}], "owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542767293, "creation_date": 1542766632, "question_id": 53404422, "link": "https://stackoverflow.com/questions/53404422/how-to-turn-multiple-observables-an-observable-that-emits-once-when-all-the-sour", "title": "How to turn multiple observables an observable that emits once when all the source observables complete?", "body": "<p>I'm calling an API method (using Angular's <code>HttpClient</code> several times as part of a form submission. (It adds a thing into another thing and our backend guys flat out refused to give me a batch-add method. So I call it once for every item the user enters.) The code is something like this (using lodash for data massaging):</p>\n\n<pre><code>const items = ['foo', 'bar', 'baz', 'quux'];\nconst result$: Observable[] = _.map(items, it =&gt; httpClient.post('/items', it));\n</code></pre>\n\n<p>I tried combining them using <code>forkJoin</code>:</p>\n\n<pre><code>forkJoin(result$).subscribe(resp =&gt; ..., err =&gt; ...);\n</code></pre>\n\n<p>But that revealed some sort of bug in the back-end where it throws when I do this for multiple items, but doesn't if I add them one-by-one. (Race condition I'm guessing.)</p>\n\n<p>I tried getting around this by using concat() to make the client do the requests one-by-one:</p>\n\n<pre><code>concat(result$).subscribe(resp =&gt; ..., err =&gt; ...);\n</code></pre>\n\n<p>But that fires the subscription once for every source observable, I only want to know when they all complete (or don't.) How do I get the behaviour of forkJoin, except with the source observables not being subscribed to concurrently?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-redux"], "comments": [{"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1542764199, "post_id": 53404077, "comment_id": 93683243, "body": "Evan I know that but I am trying to find a way to make this work , I am sure there is a way"}, {"owner": {"reputation": 1172, "user_id": 9947487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rjxMlYNvLGI/AAAAAAAAAAI/AAAAAAAAAAc/I3ReJRHso8w/photo.jpg?sz=128", "display_name": "Caleb H.", "link": "https://stackoverflow.com/users/9947487/caleb-h"}, "edited": false, "score": 1, "creation_date": 1542764234, "post_id": 53404077, "comment_id": 93683251, "body": "Try &quot;this.state.userInput.split(&quot;&quot;).map(&quot; instead"}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1542764279, "post_id": 53404077, "comment_id": 93683262, "body": "If you knew that, why are you calling <code>map</code> on a string? Surely the question is &quot;how do I loop each character in a string&quot; or something. How is react even relevant?"}], "answers": [{"tags": [], "owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "is_accepted": true, "score": 4, "last_activity_date": 1542764225, "creation_date": 1542764225, "answer_id": 53404121, "question_id": 53404077, "link": "https://stackoverflow.com/questions/53404077/react-16-typeerror-this-state-userinput-map-is-not-a-function/53404121#53404121", "title": "React 16: TypeError: this.state.userInput.map is not a function", "body": "<p>There is no <code>map</code> method for a string.</p>\n\n<p>You can make it an array easily enough:</p>\n\n<p><code>this.state.userInput.split('').map(c =&gt; &lt;Char character={c} /&gt;);</code></p>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 53404121, "answer_count": 1, "score": 1, "last_activity_date": 1542764267, "creation_date": 1542763843, "question_id": 53404077, "link": "https://stackoverflow.com/questions/53404077/react-16-typeerror-this-state-userinput-map-is-not-a-function", "title": "React 16: TypeError: this.state.userInput.map is not a function", "body": "<p>I have simple react app, which a user can enter a text input , I want to display character entered as list </p>\n\n<p>here is what I have done so far:</p>\n\n<pre><code>    app components \n    import React, { Component } from 'react';\n    import './App.css';\n    import Char from './Char/Char'\n\n\n    class App extends Component {\n      state ={\n        userInput: ''\n      }\n\n      handleChange =(e)=&gt;{\nthis.setState({\n  userInput: e.target.value\n})\n      render() {\n\n        const charList = this.state.userInput.map(char =&gt;{\n          return (\n            &lt;Char character={char} /&gt;\n          )\n        })\n\n        return (\n          &lt;div className=\"container\"&gt;\n          &lt;div className=\"App card\"&gt;\n    &lt;input type=\"text\" placeholder=\"enter a text\" \n      value={this.state.userInput} onChange={this.handleChange}&gt;&lt;/input&gt;\n      &lt;p&gt;Paragraph: {this.state.userInput}&lt;/p&gt;\n\n          {charList}\n\n          &lt;/div&gt;\n        &lt;/div&gt;\n        );\n      }\n    }\n\n    export default App;\n</code></pre>\n\n<p>Here is Char component</p>\n\n<pre><code>import React from 'react'\n\nconst Char =(props) =&gt;{\n\n        const divStyle = {\n            display: 'inline-block',\n            margin: '16px',\n            border: '1px solid pink',\n            padding: '16px', \n            textAlign: 'center',\n            backgroundColor: 'orange'\n\n          };\n        return ( \n            &lt;div style={divStyle}&gt;\n           &lt;p&gt;{props.character}&lt;/p&gt;\n            &lt;/div&gt;\n         );\n}\n\nexport default Char;\n</code></pre>\n\n<p>so when I run the app I get the following error</p>\n\n<blockquote>\n  <p>TypeError: this.state.userInput.map is not a function</p>\n</blockquote>\n\n<p>What do I need to change to get rid of this distubing litle error?</p>\n"}, {"tags": ["typescript", "selenium", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 366050, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2426ce1527c64785c110bfce55d05c49?s=128&d=identicon&r=PG", "display_name": "nhoyti", "link": "https://stackoverflow.com/users/366050/nhoyti"}, "edited": false, "score": 0, "creation_date": 1542841444, "post_id": 53406651, "comment_id": 93717723, "body": "what is the content of the getWebElement()?"}, {"owner": {"reputation": 1115, "user_id": 2987069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b1764082f04a7a6e11b032b00ee91f?s=128&d=identicon&r=PG", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/2987069/yash-jagdale"}, "reply_to_user": {"reputation": 633, "user_id": 366050, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2426ce1527c64785c110bfce55d05c49?s=128&d=identicon&r=PG", "display_name": "nhoyti", "link": "https://stackoverflow.com/users/366050/nhoyti"}, "edited": false, "score": 0, "creation_date": 1542867571, "post_id": 53406651, "comment_id": 93724044, "body": "getWebElement returns the WebElement represented by this ElementFinder."}], "tags": [], "owner": {"reputation": 1115, "user_id": 2987069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b1764082f04a7a6e11b032b00ee91f?s=128&d=identicon&r=PG", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/2987069/yash-jagdale"}, "is_accepted": true, "score": 1, "last_activity_date": 1542783061, "creation_date": 1542783061, "answer_id": 53406651, "question_id": 53403803, "link": "https://stackoverflow.com/questions/53403803/how-to-access-scroll-bar-inside-the-div-using-protractor-for-e2e/53406651#53406651", "title": "how to access scroll bar inside the div using protractor for e2e", "body": "<p>I had same issue with my application. There is no direct way using which you can scroll inside scrollbar but I achieved it using javacript executor. </p>\n\n<p><strong>Option 1:-</strong> <br>\n   You can select element till which you wanted to scroll. <br> example:- (replace  with your actual identifier)</p>\n\n<pre><code>browser.executeScript('arguments[0].scrollIntoView(true)', &lt;yourelement&gt;.getWebElement());\n</code></pre>\n\n<p><strong>Option 2:-</strong> <br> Find the identifier of element on which scrollbar is applied and use below code.</p>\n\n<pre><code>var objDiv = document.getElementById(\"divExample\");\nobjDiv.scrollTop = objDiv.scrollHeight;\n</code></pre>\n\n<p>let me know if still facing issue.</p>\n"}], "owner": {"reputation": 633, "user_id": 366050, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2426ce1527c64785c110bfce55d05c49?s=128&d=identicon&r=PG", "display_name": "nhoyti", "link": "https://stackoverflow.com/users/366050/nhoyti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 0, "accepted_answer_id": 53406651, "answer_count": 1, "score": 1, "last_activity_date": 1602983368, "creation_date": 1542761500, "question_id": 53403803, "link": "https://stackoverflow.com/questions/53403803/how-to-access-scroll-bar-inside-the-div-using-protractor-for-e2e", "title": "how to access scroll bar inside the div using protractor for e2e", "body": "<p>im currently writing an e2e script however, im having issues accessing an element when the a div overflows and scrollbar within the div is being activated.</p>\n\n<p>Inside the form, i need to access the scroll down inside the div of the request travel form.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Z5Bb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Z5Bb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried using:</p>\n\n<pre><code> browser.executeScript(\"window.scrollTo(0,10000);\").then(callback);\n</code></pre>\n\n<p>However, the scrollbar that it access is the browser itself not the div i intended to scroll down.</p>\n\n<p>Any leads or suggestion is greatly appreciate.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "node-modules", "angular7"], "comments": [{"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1542905640, "post_id": 53403639, "comment_id": 93744515, "body": "If you split your main code into multiple modules and use lazy loading that will split your main module.  I am not sure if that technique can be used to split the vendor module or not."}], "owner": {"reputation": 98, "user_id": 1692588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32ee12549f1a35fdc6fc1c044625012?s=128&d=identicon&r=PG", "display_name": "Anuj Rastogi", "link": "https://stackoverflow.com/users/1692588/anuj-rastogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542895270, "creation_date": 1542760103, "last_edit_date": 1542895270, "question_id": 53403639, "link": "https://stackoverflow.com/questions/53403639/compress-production-main-js-in-angular-7", "title": "Compress production main.js in Angular 7", "body": "<p>I am trying to compile production build using Angular 7. where I am not sure how can I compress the main.js or split into pieces. Using below snippet for budgeting. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"budgets\": [{\r\n                \"type\": \"bundle\",\r\n                \"name\": \"vendor\",\r\n                \"baseline\": \"750kb\",\r\n                \"warning\": \"100kb\",\r\n                \"error\": \"200kb\"\r\n              }]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/yOT56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yOT56.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1542760984, "post_id": 53403550, "comment_id": 93682516, "body": "I don&#39;t quite understand what you&#39;re saying.  <code>baz</code> is in error because it needs to have at least one of the <code>foo</code> or <code>bar</code> properties in order to be <code>SudoA | SudoB</code>.  And since <code>baz</code> is of type <code>Sudo</code> I don&#39;t understand how <code>SuperSudo</code> has anything to do with it.   Could you rephrase the question or add more examples of what you expect to work and what you expect to report an error?"}, {"owner": {"reputation": 618, "user_id": 3766393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/S8u16.png?s=128&g=1", "display_name": "Sly321", "link": "https://stackoverflow.com/users/3766393/sly321"}, "edited": false, "score": 0, "creation_date": 1542761962, "post_id": 53403550, "comment_id": 93682741, "body": "When i understand your question, then you find the answer in the documentation of the release notes 2.8 typescript. <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#example-6\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>  Here is everything covered what you need to know about typings and how to make attributes optional / readonly / modify datatypes in inheritance."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1542764904, "post_id": 53403550, "comment_id": 93683411, "body": "You want <code>SuperSudo</code> to only require <code>super</code> and not require <i>any</i> of the properties from <code>SudoA</code> or <code>SudoB</code>?  What if <code>SudoA</code> has two or more properties (e.g., <code>{foo: string, qux: number}</code>)?  Can a <code>SuperSudo</code> contain just one of those properties (e.g., <code>{super: true, foo: &quot;a&quot;}</code>)?  It&#39;s still not clear to me what you&#39;re trying to do.  <i>Maybe</i> you&#39;re looking for something like <code>type AllKeys&lt;T&gt; = T extends any ? keyof T : never; type SuperSudo = {[K in AllKeys&lt;Sudo&gt;]?: Extract&lt;Sudo, Record&lt;K, any&gt;&gt;[K]} &amp; {super: boolean;}</code> but it&#39;s hard to be sure."}], "answers": [{"tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1542775742, "creation_date": 1542775742, "answer_id": 53405427, "question_id": 53403550, "link": "https://stackoverflow.com/questions/53403550/way-to-define-a-type-in-typescript-like-one-of-union-of-interfaces-atrrib/53405427#53405427", "title": "Way to define a type in typescript like [one of union of interfaces] &amp; {//atrributes}", "body": "<p>Have you considered using a type discriminator?</p>\n\n<p>Without one, then specifying either <code>foo</code>, <code>bar</code> or both <code>foo</code> and <code>bar</code> will always satisfy the union type.</p>\n\n<p>With one might look like:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface SudoA {\n  _type: \"a\";\n  foo: string;\n}\n\ninterface SudoB {\n  _type: \"b\";\n  bar: string;\n}\n\ntype Sudo = SudoA | SudoB;\n\ntype SuperSudo = Sudo &amp; {\n  super: boolean;\n}\n\nconst baz1_valid: SuperSudo = {\n  _type: \"a\",\n  super: true,\n  foo: \"bar\",\n}\n\nconst baz2_valid: SuperSudo = {\n  _type: \"b\",\n  super: true,\n  bar: \"foo\",\n}\n</code></pre>\n\n<p>The field name does not have to be <code>_type</code>, it simply must be the same field name with different type values on each variant.</p>\n"}], "owner": {"reputation": 934, "user_id": 332297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7047a19d02c4a8314065faa4f9a8cc3e?s=128&d=identicon&r=PG", "display_name": "mdikici", "link": "https://stackoverflow.com/users/332297/mdikici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542775742, "creation_date": 1542759474, "last_edit_date": 1542763937, "question_id": 53403550, "link": "https://stackoverflow.com/questions/53403550/way-to-define-a-type-in-typescript-like-one-of-union-of-interfaces-atrrib", "title": "Way to define a type in typescript like [one of union of interfaces] &amp; {//atrributes}", "body": "<pre><code>// The way types defined:\n\ninterface SudoA {\n    foo: string;\n}\n\ninterface SudoB {\n    bar: string;\n}\n\ntype Sudo = SudoA | SudoB;\n\ntype SuperSudo = Sudo &amp; {\n    super: boolean;\n}\n\nconst baz: SuperSudo = {\n\n} \n// typescript (3.1.6) says i have to define both `bar` and `foo` for the object\n</code></pre>\n\n<p>What I expect is that to put <code>super</code> attribute and other attributes (coming from <code>Sudo</code> type) should be optional. The question; is this a wrong expectation? Regardless if yes or no how is this achieved?</p>\n\n<p><strong>Edit</strong><br>\nCorrected the type of <code>baz</code>, my mistake :/.<br>\nWhat I am expecting is for <code>SuperSudo</code> defining only <code>super</code> attribute should be enough and other attributes coming from union of interfaces should be optional.</p>\n\n<p>I can define a new type like<br>\n<code>type SuperSudo&lt;T&gt; = T &amp; {}</code> but this ends up using <code>SuperSudo&lt;T&gt;</code>which I find quite verbose.</p>\n\n<p><strong>Edit2</strong><br>\nChanged the title </p>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 652, "user_id": 5297288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FgOrBus7N0Q/AAAAAAAAAAI/AAAAAAAADtQ/rliPpMhNR2g/photo.jpg?sz=128", "display_name": "Octavio Garbarino", "link": "https://stackoverflow.com/users/5297288/octavio-garbarino"}, "edited": false, "score": 0, "creation_date": 1542756750, "post_id": 53402919, "comment_id": 93681588, "body": "Glad to know that my answer works!"}], "answers": [{"tags": [], "owner": {"reputation": 652, "user_id": 5297288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FgOrBus7N0Q/AAAAAAAAAAI/AAAAAAAADtQ/rliPpMhNR2g/photo.jpg?sz=128", "display_name": "Octavio Garbarino", "link": "https://stackoverflow.com/users/5297288/octavio-garbarino"}, "is_accepted": true, "score": 0, "last_activity_date": 1542756044, "last_edit_date": 1542756044, "creation_date": 1542755722, "answer_id": 53403043, "question_id": 53402919, "link": "https://stackoverflow.com/questions/53402919/how-to-remove-selection-from-table/53403043#53403043", "title": "How to remove selection from table?", "body": "<p>you have to add the <code>[(selection)]=\"selectedRow\"</code> in the <code>p-table</code> in order to bind the selected row to the variable that you have defined:</p>\n\n<pre><code>&lt;p-table [value]=\"tableData\" selectionMode=\"single\" metaKeySelection = \"true\" [(selection)]=\"selectedRow\"&gt;\n&lt;ng-template pTemplate=\"header\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Company&lt;/th&gt;\n        &lt;th&gt;First Name&lt;/th&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/ng-template&gt;\n&lt;ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\"&gt;\n    &lt;tr [pSelectableRow]=\"rowData\"&gt;\n        &lt;td&gt;{{rowData.first_name}}&lt;/td&gt;\n        &lt;td&gt;{{rowData.last_name}}&lt;/td&gt;\n        &lt;td&gt;{{rowData.email}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/ng-template&gt;\n&lt;/p-table&gt;\n\n&lt;button (click)= \"removeSelection()\"&gt;Remove Selection&lt;/button&gt;\n</code></pre>\n\n<p>And also add the <code>this.selectedRow = null;</code> in the <code>removeSelection()</code> method:</p>\n\n<pre><code>removeSelection() {\n    this.selectedRow = null;\n}\n</code></pre>\n"}], "owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 53403043, "answer_count": 1, "score": 0, "last_activity_date": 1542756044, "creation_date": 1542755002, "last_edit_date": 1542755595, "question_id": 53402919, "link": "https://stackoverflow.com/questions/53402919/how-to-remove-selection-from-table", "title": "How to remove selection from table?", "body": "<p>I've been struggling with this for a while now. I have a simple table and when I select a row it gets <strong>selected</strong>. But I want to add a functionality to my button (<strong>remove Selection</strong>) so that when I click on it I want to remove the selection from the row. Can someone tell me what I'm missing? Thanks a lot in advance!</p>\n\n<p>Here's my code:\n<a href=\"https://stackblitz.com/edit/angular-b1gx4b?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>LIVE DEMO</strong></a></p>\n\n<pre><code> &lt;p-table [value]=\"tableData\" selectionMode=\"single\" metaKeySelection = \"true\"&gt;\n&lt;ng-template pTemplate=\"header\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Company&lt;/th&gt;\n        &lt;th&gt;First Name&lt;/th&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/ng-template&gt;\n&lt;ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\"&gt;\n    &lt;tr [pSelectableRow]=\"rowData\"&gt;\n        &lt;td&gt;{{rowData.first_name}}&lt;/td&gt;\n        &lt;td&gt;{{rowData.last_name}}&lt;/td&gt;\n        &lt;td&gt;{{rowData.email}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/ng-template&gt;\n&lt;/p-table&gt;\n\n&lt;button (click)= \"removeSelection()\"&gt;Remove Selection&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "square"], "comments": [{"owner": {"reputation": 1305, "user_id": 9352043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4CQH.jpg?s=128&g=1", "display_name": "sjosey", "link": "https://stackoverflow.com/users/9352043/sjosey"}, "edited": false, "score": 2, "creation_date": 1542752391, "post_id": 53402215, "comment_id": 93680193, "body": "&quot;The only way to load them is to hit refresh of my payment form.&quot; Sounds to me like you should utilize the <code>autoBuild</code> parameter of the <code>SqPaymentForm</code>. Can you try adding <code>autoBuild: false</code>, and then calling <code>this.paymentForm.build()</code> when your page is loaded? See more info here: <a href=\"https://docs.connect.squareup.com/api/paymentform#build\" rel=\"nofollow noreferrer\">docs.connect.squareup.com/api/paymentform#build</a>"}, {"owner": {"reputation": 1446, "user_id": 7738433, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TMPtM.jpg?s=128&g=1", "display_name": "Harleen Kaur Arora", "link": "https://stackoverflow.com/users/7738433/harleen-kaur-arora"}, "edited": false, "score": 0, "creation_date": 1560251144, "post_id": 53402215, "comment_id": 99666170, "body": "Can you solve this issue, please tell me. I am also getting same issue."}, {"owner": {"reputation": 201, "user_id": 7885579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f20a39e196e28f49b97ce50d87479b65?s=128&d=identicon&r=PG&f=1", "display_name": "pooh098", "link": "https://stackoverflow.com/users/7885579/pooh098"}, "reply_to_user": {"reputation": 1446, "user_id": 7738433, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TMPtM.jpg?s=128&g=1", "display_name": "Harleen Kaur Arora", "link": "https://stackoverflow.com/users/7738433/harleen-kaur-arora"}, "edited": false, "score": 0, "creation_date": 1560781094, "post_id": 53402215, "comment_id": 99838126, "body": "@HarleenKaurArora Please, take a look I posted solution below. I hope it will help."}], "answers": [{"tags": [], "owner": {"reputation": 201, "user_id": 7885579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f20a39e196e28f49b97ce50d87479b65?s=128&d=identicon&r=PG&f=1", "display_name": "pooh098", "link": "https://stackoverflow.com/users/7885579/pooh098"}, "is_accepted": false, "score": 0, "last_activity_date": 1560781030, "creation_date": 1560781030, "answer_id": 56633214, "question_id": 53402215, "link": "https://stackoverflow.com/questions/53402215/problems-with-initializing-square-iframes-in-angular-6-form/56633214#56633214", "title": "Problems with initializing Square iframes in Angular 6 form", "body": "<p>First set autobuild to false</p>\n\n<pre><code>squarePaymentFunction() {\n    let vm;\n    vm = this;\n\n    this.paymentForm = new SqPaymentForm({\n\n      // Initialize the payment form elements\n      applicationId: applicationId,\n      locationId: locationId,\n      inputClass: 'sq-input',\n      autoBuild : false,\n)};\n</code></pre>\n\n<p>Then I created a local variable and set to false</p>\n\n<pre><code>formLoaded: boolean =  false;\n</code></pre>\n\n<p>Next, I created a function to checked if a form is built and add it to ngOnInit():</p>\n\n<pre><code>loadPaymentForm() {\n    if (this.formLoaded === false) {\n      this.paymentForm.build();\n      this.formLoaded = true;\n    }\n}\n</code></pre>\n\n<p>And the last step it was to add it my function to input fields</p>\n\n<pre><code>&lt;input id=\"property_name\" formControlName=\"property_name\"  (focus)=\"loadPaymentForm()\" (input)=\"checkInputError()\" type=\"text\" class=\"form-control\" name=\"property_name\" required/&gt;\n</code></pre>\n\n<p>This is not the best way but it is working.</p>\n"}], "owner": {"reputation": 201, "user_id": 7885579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f20a39e196e28f49b97ce50d87479b65?s=128&d=identicon&r=PG&f=1", "display_name": "pooh098", "link": "https://stackoverflow.com/users/7885579/pooh098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 800, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1560781030, "creation_date": 1542751056, "question_id": 53402215, "link": "https://stackoverflow.com/questions/53402215/problems-with-initializing-square-iframes-in-angular-6-form", "title": "Problems with initializing Square iframes in Angular 6 form", "body": "<p>I'm having a problem with loading Square iframes to my form. When I navigate from navbar to payment form iframes are not loading in my inputs fields. The only way to load them is to hit refresh of my payment form. Here is my payment.ts:</p>\n\n<pre><code>import { Component, OnInit, Input, EventEmitter, AfterViewInit } from '@angular/core';\nimport {AppService} from '../app.service';\n\ndeclare var SqPaymentForm: any;\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.component.html',\n  styleUrls: ['./payment.component.css']\n})\nexport class PaymentComponent implements OnInit, AfterViewInit  {\n\n  constructor(private appService: AppService) { }\n  paymentForm: any ;\n  ngOnInit() {\n   this.squarePaymentFunction();\n  }\n  ngAfterViewInit(): void  {}\n\n  squarePaymentFunction() {\n    let vm;\n    vm = this;\n    // this.calculatePayment();\n    const applicationId = '********';\n\n    // Set the location ID\n    const locationId = '*********';\n    this.paymentForm = new SqPaymentForm({\n\n      // Initialize the payment form elements\n      applicationId: applicationId,\n      locationId: locationId,\n      inputClass: 'sq-input',\n\n      // Customize the CSS for SqPaymentForm iframe elements\n      inputStyles: [{\n        fontSize: '.9em'\n      }],\n\n      // Initialize the credit card placeholders\n      cardNumber: {\n        elementId: 'sq-card-number',\n        placeholder: '\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022'\n      },\n      cvv: {\n        elementId: 'sq-cvv',\n        placeholder: 'CVV'\n      },\n      expirationDate: {\n        elementId: 'sq-expiration-date',\n        placeholder: 'MM/YY'\n      },\n      postalCode: {\n        elementId: 'sq-postal-code'\n      },\n      // SqPaymentForm callback functions\n      callbacks: {\n\n        /*\n         * callback function: methodsSupported\n         * Triggered when: the page is loaded.\n         */\n        methodsSupported: function (methods) {\n        },\n\n        /*\n         * callback function: createPaymentRequest\n         * Triggered when: a digital wallet payment button is clicked.\n         */\n        createPaymentRequest: function () {\n\n          let paymentRequestJson;\n          return paymentRequestJson;\n\n        },\n\n        /*\n         * callback function: cardNonceResponseReceived\n         * Triggered when: SqPaymentForm completes a card nonce request\n         */\n        cardNonceResponseReceived: function (errors, nonce, cardData)  {\n          if (errors) {\n            // Log errors from nonce generation to the Javascript console\n            console.log('Encountered errors:');\n            errors.forEach(function(error) {\n              console.log('  ' + error.message);\n            });\n\n            return;\n          }\n\n          alert('Nonce received: ' + nonce); /* FOR TESTING ONLY */\n\n          // Assign the nonce value to the hidden form field\n          // document.getElementById('card-nonce').value = nonce;\n          // needs to be extracted from the\n          (&lt;HTMLInputElement&gt;document.getElementById('card-nonce')).value = nonce; // casting so .value will work\n\n          let amount = (&lt;HTMLInputElement&gt;document.getElementById('amountToPay')).value;\n\n          // POST the nonce form to the payment processing page\n          // (&lt;HTMLFormElement&gt;document.getElementById('nonce-form')).submit();\n          vm.sendSqPayment({'nonce': nonce, 'amountToPay': amount});\n        },\n\n        /*\n         * callback function: unsupportedBrowserDetected\n         * Triggered when: the page loads and an unsupported browser is detected\n         */\n        unsupportedBrowserDetected: function() {\n          alert('Your browser seems to be unsupported for card processing. Please try a different browser.');\n        },\n\n        /*\n         * callback function: inputEventReceived\n         * Triggered when: visitors interact with SqPaymentForm iframe elements.\n         */\n        inputEventReceived: function(inputEvent) {\n          switch (inputEvent.eventType) {\n            case 'focusClassAdded':\n              /* HANDLE AS DESIRED */\n              break;\n            case 'focusClassRemoved':\n              /* HANDLE AS DESIRED */\n              break;\n            case 'errorClassAdded':\n              document.getElementById('error').innerHTML = 'Please fix card information errors before continuing.';\n              /* HANDLE AS DESIRED */\n              break;\n            case 'errorClassRemoved':\n              document.getElementById('error').style.display = 'none';\n              /* HANDLE AS DESIRED */\n              break;\n            case 'cardBrandChanged':\n              /* HANDLE AS DESIRED */\n              break;\n            case 'postalCodeChanged':\n              /* HANDLE AS DESIRED */\n              break;\n          }\n        },\n\n        /*\n         * callback function: paymentFormLoaded\n         * Triggered when: SqPaymentForm is fully loaded\n         */\n        paymentFormLoaded: function() {\n          /* HANDLE AS DESIRED */\n          console.log('The form loaded!');\n        }\n      }\n    });\n  }\n\n  requestCardNonce(event) {\n\n\n    // Request a nonce from the SqPaymentForm object\n    this.paymentForm.requestCardNonce();\n  }\n  sendSqPayment(data) {\n    this.appService.sendPayment(data).subscribe((data) =&gt; {\n        if (data.success) {\n          console.log('Data success');\n        }\n        // console.log('data', data);\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>I have setup routing in my app.routing.ts using Routes and RouterModlue  </p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 343, "user_id": 1598503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ef1ce4c2de9610ed0ab29d319d8f4a?s=128&d=identicon&r=PG", "display_name": "lupus137", "link": "https://stackoverflow.com/users/1598503/lupus137"}, "edited": false, "score": 0, "creation_date": 1542750196, "post_id": 53401973, "comment_id": 93679286, "body": "It looks to me that you are setting data variable to a string, not a file value."}], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 1675986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qu2Bc.jpg?s=128&g=1", "display_name": "Manish Gharat", "link": "https://stackoverflow.com/users/1675986/manish-gharat"}, "is_accepted": false, "score": 1, "last_activity_date": 1542750235, "creation_date": 1542750235, "answer_id": 53402033, "question_id": 53401973, "link": "https://stackoverflow.com/questions/53401973/angular-issue-assigning-json-file-to-class/53402033#53402033", "title": "Angular - issue assigning json file to class", "body": "<p><strong>EDIT:</strong></p>\n\n<p>You can read JSON file using requirejs. Check this question for more details: <a href=\"https://stackoverflow.com/questions/47206924/angular-5-service-to-read-local-json-file\">Angular 5 Service to read local .json file</a>.</p>\n\n<hr>\n\n<p><code>this.data = '../assets/data.json';</code></p>\n\n<p>This is your issue. All you're doing on this line assigning a <code>String</code> value to <code>this.data</code>. And as you mentioned <code>this.data</code> is of type <code>Data</code>, not string. Hence the error</p>\n\n<p>Now, coming back to your issue, you cannot read data from JSON file (As far as I know.). If you have to, convert that JSON file into a .ts file and export your data from that file. then you can import it and assign to <code>this.data</code> or any other property</p>\n"}, {"comments": [{"owner": {"reputation": 219, "user_id": 3047035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9e6ffc29146a2233f129181bdc33b79?s=128&d=identicon&r=PG&f=1", "display_name": "jmckie", "link": "https://stackoverflow.com/users/3047035/jmckie"}, "edited": false, "score": 0, "creation_date": 1542750961, "post_id": 53402159, "comment_id": 93679629, "body": "This is exactly what I was looking for. Thanks!"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 1, "last_activity_date": 1542750810, "creation_date": 1542750810, "answer_id": 53402159, "question_id": 53401973, "link": "https://stackoverflow.com/questions/53401973/angular-issue-assigning-json-file-to-class/53402159#53402159", "title": "Angular - issue assigning json file to class", "body": "<p>As commented you're assigning a <code>string</code> value to a property that you've declared of type <code>Data</code>.</p>\n\n<p>To fix it:</p>\n\n<ol>\n<li>Make sure you have the following in <code>architect.build.options</code> in angular.json:</li>\n</ol>\n\n<hr>\n\n<pre><code>\"assets\": [\n  \"src/favicon.ico\",\n  \"src/assets\",\n],\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a <code>millers.json</code> file in <code>src/assets</code>.</li>\n<li>Import <code>HttpClientModule</code> in your Module and add it to the <code>imports</code> array.</li>\n<li>Inject <code>HttpClient</code> as a dependency in your Component and then use it's get method to call the <code>.json</code> which is sort of exposed as an API file:</li>\n</ol>\n\n<hr>\n\n<pre><code>import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({...})\nexport class AppComponent {\n  data;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.http.get('../assets/millers.json')\n      .subscribe(res =&gt; console.log(res));\n  }\n}\n</code></pre>\n\n<p>HEre's a <a href=\"https://stackblitz.com/edit/angular-assigning-json-data?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\"><strong>Sample StackBlitz</strong></a> for your ref.</p>\n"}], "owner": {"reputation": 219, "user_id": 3047035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9e6ffc29146a2233f129181bdc33b79?s=128&d=identicon&r=PG&f=1", "display_name": "jmckie", "link": "https://stackoverflow.com/users/3047035/jmckie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 53402159, "answer_count": 2, "score": 1, "last_activity_date": 1542750810, "creation_date": 1542749939, "question_id": 53401973, "link": "https://stackoverflow.com/questions/53401973/angular-issue-assigning-json-file-to-class", "title": "Angular - issue assigning json file to class", "body": "<p>I'm just wondering if you could help me fix this issue I'm having with assigning an interface from my json file. I am getting the ts error of json file is not assignable to type Data. 'data' is declared as a type of Data in the .ts file.</p>\n\n<pre><code>  this.data = '../assets/data.json';\n\n  export interface Data {\n      millers: Miller[];\n  }\n\n  export interface Miller {\n      name: string;\n      address: string;\n      farms: Farm[];\n  }\n\n  export interface Farm {\n     code: string;\n     name: string;\n     harvest: string;\n     type: string;\n     paddocks: Paddock[];\n  }\n\n  export interface Paddock {\n     code: string;\n     area: string;\n     owner: string;\n  }\n\n\n  {\n  \"millers\": [\n    {\n      \"name\": \"Britney Houston\",\n      \"address\": \"Summit Street Haena\",\n      \"farms\": [\n        {\n          \"code\": \"deserunt840\",\n          \"name\": \"Artiq\",\n          \"harvest\": \"2012-06-26\",\n          \"type\": \"Cane\",\n          \"paddocks\": [\n            {\n              \"code\": \"do318\",\n              \"area\": 965\n            },\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "ionic3", "chart.js"], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 10673121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6a70468b5f6ff88c3fc08c312333c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10673121/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1542781879, "creation_date": 1542781879, "answer_id": 53406406, "question_id": 53401831, "link": "https://stackoverflow.com/questions/53401831/how-to-create-dynamically-chart-for-ionic-app-with-firebase-data/53406406#53406406", "title": "How to create dynamically chart for Ionic App with Firebase data?", "body": "<p>There are some nice Frameworks to create Charts in Ionic. My Favourite one is <a href=\"https://chartjs.org\" rel=\"nofollow noreferrer\">ChartJS</a>. You should try it out.</p>\n"}], "owner": {"reputation": 11, "user_id": 8853264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0da117ba40a50da604a61defaeb267ae?s=128&d=identicon&r=PG&f=1", "display_name": "N. Rozis", "link": "https://stackoverflow.com/users/8853264/n-rozis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542781879, "creation_date": 1542749344, "question_id": 53401831, "link": "https://stackoverflow.com/questions/53401831/how-to-create-dynamically-chart-for-ionic-app-with-firebase-data", "title": "How to create dynamically chart for Ionic App with Firebase data?", "body": "<p>I have a firebase catalogue as the following for an Ionic 3 app. </p>\n\n<p>These are answers of many users for a questionnaire for each question's id. Most of them have the format of ratings, to wit values 0 to 5. Currently, i get the data and display the mean value for each question from the answers of all users.</p>\n\n<blockquote>\n<pre><code>FIREBASE FORMAT:\n\n-submissions\n - Jack\n - George\n - Peter\n    -0\n        -id: 1.1\n        -rating: 5\n    -1\n        -id: 2.1\n        -rating: 2\n    -2\n    -3\n    -4\n        -id: 3.2\n        -rating: 3\n</code></pre>\n</blockquote>\n\n<p>I create the mean values:</p>\n\n<blockquote>\n<pre><code> this.submissions = this.afDatabase.list('submissions')\n    var formArray : FormArray = new FormArray([])\n    Array.from(Array(20).keys()).forEach(e =&gt; formArray.push(this.createItem()))\n    this.survey = this.formBuilder.group({\n      //rating: [''],\n      //answer: [''],\n      items: this.formBuilder.array(formArray.controls)\n    })\n\n    this.crunchData()\n\n    this.usersubm = this.afDatabase.list('submissions'+`/`+ this.user).valueChanges();\n    this.usersubm.subscribe(_ =&gt; {\n      this.loading = false\n    })\n    console.log(\"usersubm\",this.usersubm);\n   // this.apokliseis()\n  }\n\n  ngOnInit() {\n  }\n\n\n\n  crunchData() {\n    this.submissions.valueChanges().subscribe(\n      (results:Submission[]) =&gt; {\n        this.loading = false\n        console.log('crunchData.results', results)\n        this.crunch(results)\n      }\n    )    \n  }\n\n  crunch(results: Submission[]) {\n    var stats = {}\n    this.ids = []\n\n    results.forEach((submission) =&gt; {\n      var programCode = submission[1].answer\n      var answerArray = submission as QuestionAnswer[]\n\n      if (!stats[programCode]) {\n        stats[programCode] = {}\n        stats[programCode].show = true\n      }\n      answerArray.forEach((answer: QuestionAnswer) =&gt; {\n        console.log('answer:', answer.user)\n\n\n\n\n        // include id on list of ids\n        if (this.ids.indexOf(answer.id) == -1) this.ids.push(answer.id)\n\n        if (!stats[programCode][answer.id]) {\n          stats[programCode][answer.id] = {}\n        }\n        var questionStats = stats[programCode][answer.id]\n        questionStats.title = answer.title\n\n        if (answer.type == 'text') {\n          if (!questionStats.answers) questionStats.answers = []\n\n          questionStats.answers.push(answer.answer)\n        }\n\n        // average(statistics[programCode][id].ratings\n        if (answer.type == 'radio') {\n          if (!questionStats.ratings) questionStats.ratings = {}\n          if (!questionStats.ratings[answer.rating]) questionStats.ratings[answer.rating] = 0\n          questionStats.ratings[answer.rating] += 1\n        }\n\n        if (answer.type == 'radio2') {\n          if (!questionStats.answers) questionStats.answers = []\n\n          questionStats.answers.push(answer.answer)\n        }\n\n      })\n    })\n\n    console.log('crunch.stats before', stats)\n    this.statistics = stats\n    this.crunchAverages(results)\n    console.log('crunch.stats', stats)\n    Object.keys(this.statistics).forEach(programCode =&gt; {\n      this.ids.forEach(id =&gt; {\n\n        this.apant[id]=  this.statistics[programCode][id].answers\n\n        //this.calculateAverage(this.statistics[programCode][id].ratings)\n      })\n    })\n    console.log('apantiseius x:', this.apant[1.1])\n\n\n    this.programCodes = Observable.of( Object.keys(stats))\n    return stats\n\n}\n\n\n  crunchAverages(results: Submission[]) {\n\n    Object.keys(this.statistics).forEach(programCode =&gt; {\n      this.ids.forEach(id =&gt; {\n        if (id==2.1 || id==3.1 || id==4.1){\n          console.log('gia na doume',  this.statistics[programCode][id].ratings.average)\n        }\n        console.log(\"id==\",id)\n\n        console.log('crunchAverages',  this.statistics[programCode][id])\n        this.calculateAverage(this.statistics[programCode][id].ratings)\n      })\n    })\n\n\n\n  }\n\n\n\n  calculateAverage(ratings) {\n    if (!ratings) return\n    var r1 = ratings[1] ? ratings[1] : 0\n    var r2 = ratings[2] ? ratings[2] : 0\n    var r3 = ratings[3] ? ratings[3] : 0\n    var r4 = ratings[4] ? ratings[4] : 0\n    var r5 = ratings[5] ? ratings[5] : 0\n    var total = r1 + r2 + r3 + r4 + r5\n\n    ratings.average = (1 * r1 + 2 * r2 + 3 * r3 + 4 * r4 + 5 * r5 ) / total\n    ratings.average = Math.round(ratings.average * 1000) / 1000\n    ratings.roundedAverage = this.roundAverage(ratings.average)\n  }\n\n  roundAverage(average: number) {\n    if (average &lt; 0) {\n      console.log('roundAverage warning: average &lt; 0')\n      return 0\n    }\n    if (average &lt; 0.25) return 0.00\n    if (average &lt; 0.75) return 0.50\n    if (average &lt; 1.25) return 1.00\n    if (average &lt; 1.75) return 1.50\n    if (average &lt; 2.25) return 2.00\n    if (average &lt; 2.75) return 2.50\n    if (average &lt; 3.25) return 3.00\n    if (average &lt; 3.75) return 3.50\n    if (average &lt; 4.25) return 4.00\n    if (average &lt; 4.75) return 4.50\n    if (average &gt; 5.00) console.log('roundAverage warning: average &gt; 5')\n    return 5\n  }\n\n  createItem(): FormGroup {\n    return this.formBuilder.group({\n      id: [''],\n      rating: [''],\n      answer: [''],\n      title: ['']\n    })\n  }\n</code></pre>\n</blockquote>\n\n<p>Now, I want to create charts with the average values for each id question so that the average score for each question is visible.</p>\n"}, {"tags": ["typescript", "protractor", "e2e-testing"], "comments": [{"owner": {"reputation": 18483, "user_id": 497600, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9d2bd51b0d7a3e483cb42919119d2e8d?s=128&d=identicon&r=PG", "display_name": "lhk", "link": "https://stackoverflow.com/users/497600/lhk"}, "edited": false, "score": 0, "creation_date": 1542750109, "post_id": 53401812, "comment_id": 93679248, "body": "in sample-page.ts, your definition of helper:helper is missing var or let. Maybe typescript is confused by that. Also you should not call the variable helper, that might shadow the import. try something like var my_helper : helper = new helper()"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 18483, "user_id": 497600, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9d2bd51b0d7a3e483cb42919119d2e8d?s=128&d=identicon&r=PG", "display_name": "lhk", "link": "https://stackoverflow.com/users/497600/lhk"}, "edited": false, "score": 0, "creation_date": 1542829977, "post_id": 53401812, "comment_id": 93713370, "body": "Using var shows an error - [ts] Unexpected token. A constructor, method, accessor, or property was expected. [1068]"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 18483, "user_id": 497600, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9d2bd51b0d7a3e483cb42919119d2e8d?s=128&d=identicon&r=PG", "display_name": "lhk", "link": "https://stackoverflow.com/users/497600/lhk"}, "edited": false, "score": 0, "creation_date": 1543329053, "post_id": 53401812, "comment_id": 93873014, "body": "Still looking for help on this."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1542811892, "post_id": 53402618, "comment_id": 93703729, "body": "Thank you for your reply :) but I am still not able to access the helper functions. As per your first solution, if I use a variable, &quot;let&quot; is showing an error - [ts] Unexpected token. A constructor, method, accessor, or property was expected. [1068] Static is not working either. Does this have something to do with the target in tsconfig? I am using  ES2017."}, {"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "reply_to_user": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1542816114, "post_id": 53402618, "comment_id": 93706394, "body": "@williamtell Sounds like the issue is more with typescript than protractor. Sadly, I am not much help there"}], "tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": false, "score": 0, "last_activity_date": 1542753363, "creation_date": 1542753363, "answer_id": 53402618, "question_id": 53401812, "link": "https://stackoverflow.com/questions/53401812/typescript-unable-to-import-functions-from-a-helper-class/53402618#53402618", "title": "TypeScript - unable to import functions from a helper class", "body": "<p>You will have to create a new variable for it to work like that such as:</p>\n\n<pre><code>import { helper } from '../../helper';\nexport class loginPage{\n  let help = new helper();\n  help.sayHello('name');\n}\n</code></pre>\n\n<p>A simpler solution might be to make the methods in your helper function static. If you have:</p>\n\n<pre><code>export class helper{\n  static async sayHello(name:String){\n    console.log('Hello '+name);\n  }\n}\n</code></pre>\n\n<p>You can then call this method like:</p>\n\n<pre><code>import { helper } from '../../helper';\nexport class loginPage{\n  helper.sayHello('name');\n}\n</code></pre>\n\n<p>Alternatively, in your helper class you could use a getter such as:  </p>\n\n<pre><code>export class helper{\nstatic get x() {return new this();} //could be named anything, I chose 'x'  \nasync sayHello(name:String){\n    console.log('Hello '+name);\n  }\n}\n</code></pre>\n\n<p>Which would allow you to call the method like  </p>\n\n<pre><code>import { helper } from '../../helper';\nexport class loginPage{\n  helper.x.sayHello('name');\n}\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 703, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542830093, "creation_date": 1542749262, "last_edit_date": 1542830093, "question_id": 53401812, "link": "https://stackoverflow.com/questions/53401812/typescript-unable-to-import-functions-from-a-helper-class", "title": "TypeScript - unable to import functions from a helper class", "body": "<p>I am creating a TypeScript with Protractor framework and plan on using a set of helper functions (like isDisplayed(), isPresent(), isClickable(), etc) in a class and trying to reuse them in the spec files.</p>\n\n<p>The end result will look something like this:</p>\n\n<pre><code>selectDropDown(element, option);\nenterText(element, text);\n</code></pre>\n\n<p>However, I am having issues with creating the helper files as I am not able to export the functions from the helper file. Auto completion or auto suggestion is not working because the object is not accessible. :( </p>\n\n<p><strong>helper.ts</strong></p>\n\n<pre><code>import { } from 'jasmine';\nimport { by, element, browser } from 'protractor';\nimport { By } from 'selenium-webdriver';\n\nexport class helper {\n    async sayHello(name: String) {\n        console.log('Hello ' + name);\n    }\n}\n</code></pre>\n\n<p><strong>sample-page.ts</strong></p>\n\n<pre><code>import { by, element, browser, WebElement } from 'protractor';\nimport { async } from 'q';\nimport { helper } from '../../helper'; //Importing the helper here\n\nexport class loginPage{\n\n    help123: helper = new helper();\n    help123. //Here the auto completion just doesn't happen.\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "antd"], "answers": [{"tags": [], "owner": {"reputation": 847, "user_id": 1341807, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/oxYFx.jpg?s=128&g=1", "display_name": "Justin Handley", "link": "https://stackoverflow.com/users/1341807/justin-handley"}, "is_accepted": true, "score": 0, "last_activity_date": 1544206817, "creation_date": 1544206817, "answer_id": 53674955, "question_id": 53401338, "link": "https://stackoverflow.com/questions/53401338/property-handleselectchange-does-not-exist-on-type-in-ant-design-form/53674955#53674955", "title": "Property &#39;handleSelectChange&#39; does not exist on type &#39;&#39; in Ant Design Form", "body": "<p>The issue is that even though Form.create() was being called, the  element isn't wrapping this - it is in a higher component.  There is no need to call Form.create() here, just do it in the form component, and then pass down form as a prop.  Then you can use</p>\n\n<pre><code>form.handleSelectChange\n</code></pre>\n\n<p>and that works.</p>\n"}], "owner": {"reputation": 847, "user_id": 1341807, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/oxYFx.jpg?s=128&g=1", "display_name": "Justin Handley", "link": "https://stackoverflow.com/users/1341807/justin-handley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "accepted_answer_id": 53674955, "answer_count": 1, "score": 0, "last_activity_date": 1544206817, "creation_date": 1542747148, "question_id": 53401338, "link": "https://stackoverflow.com/questions/53401338/property-handleselectchange-does-not-exist-on-type-in-ant-design-form", "title": "Property &#39;handleSelectChange&#39; does not exist on type &#39;&#39; in Ant Design Form", "body": "<p>Ant design has a HOC wrapper for forms that is implemented like this:</p>\n\n<pre><code>class View extends Component {\n  render() {\n  return ( &lt;FormItem\n                {...formItemLayout}\n                label='Country'&gt;\n                {getFieldDecorator('country', {\n                  initialValue: Company &amp;&amp; Company.country,\n                })(\n                  &lt;Select\n                    showSearch={true}\n                    optionFilterProp=\"children\"\n                    filterOption={(input: any, option: any) =&gt; option.props.children.toLowerCase().indexOf(input.toLowerCase()) &gt;= 0}\n                    placeholder=\"Select a Country\"\n                    onChange={this.handleSelectChange}\n                  &gt;\n                    {countrylist}\n                  &lt;/Select&gt;\n                )}\n              &lt;/FormItem&gt;)\n  }\n}\n\nexport default compose(\n  Form.create()\n  ...\n)(View)\n</code></pre>\n\n<p>In normal javascript, the this.handleSelectChange works fine, but I'm trying to migrate my project to typescript, and I'm getting:</p>\n\n<blockquote>\n  <p>Property 'handleSelectChange' does not exist on type View</p>\n</blockquote>\n\n<p>I tried extending the interface, but I'm not getting it right.  How do I get this to work?</p>\n"}, {"tags": ["typescript", "switch-statement", "key-value"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1542746185, "post_id": 53400963, "comment_id": 93677430, "body": "You&#39;ve tagged this question with <code>for-loop</code> but there is not <code>for</code> loop in the code. Please <a href=\"https://stackoverflow.com/posts/53400963/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the issue you are seeing."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1542746420, "post_id": 53400963, "comment_id": 93677533, "body": "Still not reproducible, since you don&#39;t show how you&#39;re calling <code>mapData</code>. Note that if you&#39;re calling <code>mapData(data)</code>, it should show a compile error, since <code>const data = {...}</code> is not in the correct format for the <code>data</code> argument to <code>mapData</code>. I think you want <code>mapData(data: { [key: string]: Array&lt;number&gt; }): void {</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 461, "user_id": 10608322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-npZqFUbLqYc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDz26XacBfNbjjiwyL4S-AXdm1N7Q/mo/photo.jpg?sz=128", "display_name": "Rolvernew", "link": "https://stackoverflow.com/users/10608322/rolvernew"}, "is_accepted": true, "score": 0, "last_activity_date": 1542746112, "creation_date": 1542746112, "answer_id": 53401106, "question_id": 53400963, "link": "https://stackoverflow.com/questions/53400963/typescript-accessing-the-properties-of-a-key-value-pair-in-typescript/53401106#53401106", "title": "Typescript: Accessing the properties of a key value pair in typescript", "body": "<p>There is no iteration in the code your provide. Is this what you want to achieve ?</p>\n\n<pre><code>for (key in data) {\n  mapData({key: key, value: data[key]}); }\n</code></pre>\n"}], "owner": {"reputation": 647, "user_id": 7290236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fd945fdfca441d28b62ed0a2374212?s=128&d=identicon&r=PG&f=1", "display_name": "prabhat gundepalli", "link": "https://stackoverflow.com/users/7290236/prabhat-gundepalli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 53401106, "answer_count": 1, "score": 0, "last_activity_date": 1542746215, "creation_date": 1542745392, "last_edit_date": 1542746215, "question_id": 53400963, "link": "https://stackoverflow.com/questions/53400963/typescript-accessing-the-properties-of-a-key-value-pair-in-typescript", "title": "Typescript: Accessing the properties of a key value pair in typescript", "body": "<p>I have a key value pair object in typescript. </p>\n\n<p><code>const data = {INTERNAL:[372042],EXTERNAL:[332244]};</code></p>\n\n<p>The above is not a map, but I want to iterate over its keys and use it in a switch case pattern.</p>\n\n<pre><code>mapData(data: { key: string; value: Array&lt;number&gt; }):void{\nswitch(data[key]) {\ncase 'INTERNAL':\n      console.log('this is Internal data' =+data[value];\nbreak;\n case 'EXTERNAL':\n      console.log('this is External data' =+data[value];\nbreak;\ndefault:\n  }\n}\n</code></pre>\n\n<p><code>data[key]</code> or <code>data[value]</code> is throwing an error saying <code>key/value is not existing'.</code></p>\n\n<p>What is the correct way to access the data.</p>\n"}, {"tags": ["reactjs", "typescript", "static-analysis"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1542750232, "post_id": 53400926, "comment_id": 93679301, "body": "I believe this is not specific to JSX and spread. This actually can be reduced to <code>React.createElement&lt;MyComponentProps&gt;(MyComponent, { nonexistentProp: &quot;foo&quot; })</code> vs <code>React.createElement&lt;MyComponentProps&gt;(MyComponent, Object.assign({ nonexistentProp: &quot;foo&quot; }))</code> (this is what happens internally)."}], "answers": [{"comments": [{"owner": {"reputation": 3488, "user_id": 152711, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c7564ed5b848eda69e4fea42ab2323b5?s=128&d=identicon&r=PG", "display_name": "Freewalker", "link": "https://stackoverflow.com/users/152711/freewalker"}, "edited": false, "score": 0, "creation_date": 1543864460, "post_id": 53405628, "comment_id": 94063066, "body": "Ok - interesting, thank you for the background.  I&#39;m able to get what I need by refactoring a bit to type-check the object before spreading it into the props."}, {"owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "edited": false, "score": 1, "creation_date": 1558043000, "post_id": 53405628, "comment_id": 98980438, "body": "I don&#39;t believe this answer is correct.  It states that it&#39;s not possible to achieve type-checking for spread props.  However, it is theoretically possible, and in fact was implemented as the default behavior for a short time.  See: <a href=\"https://github.com/Microsoft/TypeScript/issues/15463\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/15463</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/15731\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/15731</a>  Yuit&#39;s comments in the main thread describe how they rolled it back and settled on the current default behavior that is described in the question here.  Unfortunately, I do not know how to get back to the functionality described in the link."}, {"owner": {"reputation": 583, "user_id": 2159920, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1056450323/picture?type=large", "display_name": "Webber", "link": "https://stackoverflow.com/users/2159920/webber"}, "edited": false, "score": 0, "creation_date": 1587437133, "post_id": 53405628, "comment_id": 108505032, "body": "Was there any solution to this? I&#39;m resorting to typing the variable before spreading it"}], "tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": true, "score": 0, "last_activity_date": 1542777254, "creation_date": 1542777254, "answer_id": 53405628, "question_id": 53400926, "link": "https://stackoverflow.com/questions/53400926/how-can-i-get-typescript-to-type-check-the-spread-operator-in-react-props/53405628#53405628", "title": "How can I get TypeScript to type-check the spread operator in React props?", "body": "<p>I suspect this type checking is subject to the same constraints as regular TypeScript code:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface Contract {\n  a: string;\n}\n\nconst allowed: Contract = {\n  a: \"bc\",\n};\n\nconst notAllowed: Contract = {\n  a: \"bc\",\n  b: \"dc\",\n};\n\nconst aboutToBeAllowed = {\n  a: \"bc\",\n  b: \"dc\",\n};\n\nconst alsoAllowed: Contract = aboutToBeAllowed;\n</code></pre>\n\n<p>The problem shown here is that TypeScript has it's limitations, in that it's a structural type system.  </p>\n\n<p>It is only able to enforce the constraints that us humans think it should be doing in all cases during an object literal assignment (see <code>notAllowed</code> assignment).</p>\n\n<p>The <code>alsoAllowed</code> case is essentially the same as the <code>notAllowed</code> variant, but it works.  This is because the anonymous object satisfies the <code>Contract</code> constraints.</p>\n\n<p>Similarly, in your TSX example, this is essentially the same behavior as regular TypeScript:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface Props { a: string; };\nconst MyComponent: React.SFC&lt;Props&gt; = (props) =&gt; &lt;div /&gt;;\n\nconst myCompOk1 = &lt;MyComponent a=\"ab\" /&gt;;\n\nconst myCompBad1 = &lt;MyComponent a=\"ab\" b=\"cd\" /&gt;;\n\nconst anonPropsNoExtra = { a: \"bc\" };\nconst myCompOk2 = &lt;MyComponent {...anonPropsNoExtra} /&gt;;\n\nconst anonPropsWithExtra = { a: \"bc\", b: \"cd\" };\nconst myCompOk3 = &lt;MyComponent {...anonPropsWithExtra} /&gt;;\n</code></pre>\n\n<p>I don't believe it's possible for it to enforce it the way you're looking for</p>\n"}], "owner": {"reputation": 3488, "user_id": 152711, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c7564ed5b848eda69e4fea42ab2323b5?s=128&d=identicon&r=PG", "display_name": "Freewalker", "link": "https://stackoverflow.com/users/152711/freewalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 1, "accepted_answer_id": 53405628, "answer_count": 1, "score": 7, "last_activity_date": 1542777254, "creation_date": 1542745211, "question_id": 53400926, "link": "https://stackoverflow.com/questions/53400926/how-can-i-get-typescript-to-type-check-the-spread-operator-in-react-props", "title": "How can I get TypeScript to type-check the spread operator in React props?", "body": "<p>This code properly flagged in TS:</p>\n\n<p><code>&lt;MyComponent nonexistentProp=\"foo\" /&gt;</code></p>\n\n<p>This code is not:</p>\n\n<p><code>&lt;MyComponent { ...{ nonexistentProp: \"foo\" }} /&gt;</code></p>\n\n<p>It seems trivial for TS to check that improper props are not getting passed in - how can we enable this checking to ensure that we're passing in the expected props?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1542777662, "creation_date": 1542777662, "answer_id": 53405689, "question_id": 53400830, "link": "https://stackoverflow.com/questions/53400830/typescript-react-lazy-load-components-in-route/53405689#53405689", "title": "Typescript React Lazy load components in route", "body": "<p>Your <code>NewPost</code> React Component requires the properties from <code>RouteComponentProps</code>, but you aren't setting them when you render <code>&lt;NewPost /&gt;</code></p>\n\n<p>The route <code>render</code> method receives props that you're ignoring, you can re-write like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Route\n  path=\"/new-post\"\n  render={(props) =&gt; (\n    &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;\n      &lt;NewPost {...props} /&gt;\n    &lt;/Suspense&gt;\n  )}\n/&gt;\n</code></pre>\n\n<p>Recall that the Route <code>render</code> method takes a <code>React.SFC</code>, which is your anonymous arrow function, which receives props injected by react-router</p>\n\n<p>The <code>props</code> variable here will be typed as <code>RouteComponentProps&lt;any, StaticContext, any&gt;</code>, so you can spread them onto your <code>NewPost</code> instance to satisfy it's prop constraints</p>\n"}], "owner": {"reputation": 1083, "user_id": 938021, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e740151ceb3ec3334593fa96f84efa0c?s=128&d=identicon&r=PG", "display_name": "jakobdo", "link": "https://stackoverflow.com/users/938021/jakobdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1311, "favorite_count": 0, "accepted_answer_id": 53405689, "answer_count": 1, "score": 0, "last_activity_date": 1542777662, "creation_date": 1542744837, "question_id": 53400830, "link": "https://stackoverflow.com/questions/53400830/typescript-react-lazy-load-components-in-route", "title": "Typescript React Lazy load components in route", "body": "<p>i am trying to lazy load a component like this:</p>\n\n<pre><code>const NewPost = React.lazy(() =&gt; import('./NewPost/NewPost'));\n</code></pre>\n\n<p>And then i want to load it inside a route like this:</p>\n\n<pre><code>&lt;Route \n    path=\"/new-post\" \n    render={() =&gt; (\n        &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;\n            &lt;NewPost /&gt;\n        &lt;/Suspense&gt;\n    )} \n/&gt;\n</code></pre>\n\n<p>And my NewPost is defined like this:</p>\n\n<pre><code>interface INewPostProps extends RouteComponentProps&lt;any&gt; {}\n\ninterface INewPostState {\n  title: string;\n}\n\nclass NewPost extends React.Component&lt;INewPostProps, INewPostState&gt; {\n</code></pre>\n\n<p>But i get this error:</p>\n\n<p>Type '{}' is not assignable to type 'INewPostProps'.\n  Property 'history' is missing in type '{}'.</p>\n\n<p>Which refers to this line:\n inside Route => Suspense.</p>\n\n<p>What am i missing ?</p>\n\n<p>PS: I stackoverflow the best place to ask/find info regarding typescript / react ?</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "reactive-programming", "rxjs6"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1542749815, "post_id": 53400784, "comment_id": 93679121, "body": "Does the output at the beginning of your question actually represent your use case? I&#39;m not at all sure that it does. In which case, there are two questions within your question."}, {"owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1542779310, "post_id": 53400784, "comment_id": 93686694, "body": "I guess I didn&#39;t give the best description. Yes it does actually represent my case. Whenever keyboard inputs are incoming faster than interval ticks I want them to be somewhat saved in memory so that when later ticks arrive they are matched together, but whenever there are no more keyboard inputs I want latest keyboard input to be matched with the tick"}, {"owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1542779559, "post_id": 53400784, "comment_id": 93686773, "body": "Please have look at streams again, I edited them to better demonstrate my use case"}, {"owner": {"reputation": 528, "user_id": 2911181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd68bb4b8abcfb974ea8c5546a226b73?s=128&d=identicon&r=PG&f=1", "display_name": "dK-", "link": "https://stackoverflow.com/users/2911181/dk"}, "edited": false, "score": 0, "creation_date": 1542842251, "post_id": 53400784, "comment_id": 93717976, "body": "I presume that you would like to have a interval to keep going and taking the latest value from what you have type (keyboard event).  Please see below is the fork from your Stackblitz and I modified that to try to answer your question."}, {"owner": {"reputation": 528, "user_id": 2911181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd68bb4b8abcfb974ea8c5546a226b73?s=128&d=identicon&r=PG&f=1", "display_name": "dK-", "link": "https://stackoverflow.com/users/2911181/dk"}, "edited": false, "score": 0, "creation_date": 1542847666, "post_id": 53400784, "comment_id": 93719389, "body": "My post was deleted by moderator due to lack of information and not solving problems. However, if you are still interested - <a href=\"https://stackblitz.com/edit/rxjs-zip-with-latest-form-terxdq?file=index.ts\" rel=\"nofollow noreferrer\">here</a> is the link. The modification is minimal, the operator you need is <code>combineLatest</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "edited": false, "score": 0, "creation_date": 1542779881, "post_id": 53401418, "comment_id": 93686876, "body": "Please have look at streams again, I edited them to better demonstrate my use case. As for my use case please consider that I would like to have more like zip functionality, because using <code>withLatestFrom()</code> will emit whenever any of the (source1 or source2) observables emit. And I would get many more emitted items at final subscription than I would like"}, {"owner": {"reputation": 692, "user_id": 4061620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/054a6e820a38bcd65780bfaab517e7dc?s=128&d=identicon&r=PG&f=1", "display_name": "Bene", "link": "https://stackoverflow.com/users/4061620/bene"}, "reply_to_user": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "edited": false, "score": 0, "creation_date": 1542789000, "post_id": 53401418, "comment_id": 93690615, "body": "No, by using withLatestFrom, it will only emit if the source stream (in my example timer$) emits. You can also check this in my demo - just press keyboard buttons furiously - there will ever only be one emitted value every second"}, {"owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "edited": false, "score": 0, "creation_date": 1543304725, "post_id": 53401418, "comment_id": 93859233, "body": "Yes I agree with you but using <code>withLatesForm()</code> will give me [1, a] and [2, c]. [2,b] would be skipped."}], "tags": [], "owner": {"reputation": 692, "user_id": 4061620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/054a6e820a38bcd65780bfaab517e7dc?s=128&d=identicon&r=PG&f=1", "display_name": "Bene", "link": "https://stackoverflow.com/users/4061620/bene"}, "is_accepted": false, "score": 0, "last_activity_date": 1542747832, "last_edit_date": 1542747832, "creation_date": 1542747487, "answer_id": 53401418, "question_id": 53400784, "link": "https://stackoverflow.com/questions/53400784/zipwithlatestform-wanted-operator-or-workaround/53401418#53401418", "title": "ZipWithLatestForm *Wanted Operator* or Workaround", "body": "<p>You can just use withLatestFrom</p>\n\n<pre><code>import { of, fromEvent, interval } from 'rxjs'; \nimport { map, withLatestFrom } from 'rxjs/operators';\n\nconst input$ = fromEvent(document, 'keydown').pipe( map((event: KeyboardEvent) =&gt; event.keyCode));\nconst timer$ = interval(1000);\nconst source$ = timer$.pipe(withLatestFrom(input$));\n\nsource$.subscribe(x =&gt; console.log(x));\n</code></pre>\n\n<p>Try out this live demo at stackblitz -> <a href=\"https://stackblitz.com/edit/rxjs-bmx7hg\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs-bmx7hg</a></p>\n\n<p>As soon as you focus the page and press some key, the stream will start and you will get an emitted value on every tick, no matter if you clicked a button since the last tick.</p>\n"}, {"comments": [{"owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "edited": false, "score": 0, "creation_date": 1543305384, "post_id": 53420971, "comment_id": 93859525, "body": "Thanks I guess that would be working since my case is exactly queue functionality. I wanted some kind of rxjs operator"}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 0, "last_activity_date": 1542837162, "creation_date": 1542837162, "answer_id": 53420971, "question_id": 53400784, "link": "https://stackoverflow.com/questions/53400784/zipwithlatestform-wanted-operator-or-workaround/53420971#53420971", "title": "ZipWithLatestForm *Wanted Operator* or Workaround", "body": "<p>I don't know rxjs well enough to say whether there's a builtin that already does this, but you should be able to handle it with an explicit queue:</p>\n\n<pre><code>import { of, fromEvent, interval } from 'rxjs'; \nimport { map, withLatestFrom } from 'rxjs/operators';\n\nconst queue = [];\nconst input$ = fromEvent(document, 'keydown').pipe(map((event: KeyboardEvent) =&gt; {\n    queue.push(event.keyCode);\n    return queue;\n});\nconst timer$ = interval(1000);\nconst source$ = timer$.pipe(withLatestFrom(input$), map(([tick, queue]) =&gt; {\n    if (queue.length &gt; 1)\n        return queue.shift();\n    else\n        return queue[0];\n}));\n\nsource$.subscribe(console.log);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "is_accepted": true, "score": 0, "last_activity_date": 1543305289, "creation_date": 1543305289, "answer_id": 53495048, "question_id": 53400784, "link": "https://stackoverflow.com/questions/53400784/zipwithlatestform-wanted-operator-or-workaround/53495048#53495048", "title": "ZipWithLatestForm *Wanted Operator* or Workaround", "body": "<p>After some time of thinking on the solution I came up with solution like so, <a href=\"https://stackblitz.com/edit/rxjs-zip-with-latest-form-solution\" rel=\"nofollow noreferrer\">StackBlitz Edit Link</a>:</p>\n\n<pre><code>const interval$ = interval(500).pipe(share());\nconst input$ = fromEvent(document, 'keydown')\n  .pipe(\n    map((event: KeyboardEvent) =&gt; event.keyCode),\n    concatMap(key =&gt; interval$.pipe(map(tick =&gt; key), take(1))),\n  );\n\nconst source$ = interval$.pipe(withLatestFrom(input$))\nsource$.subscribe(x =&gt; console.log(x));\n</code></pre>\n\n<p><strong>I delayed input$ with the help of interval$ and concatMap (notice take(1) as well).</strong></p>\n\n<p>ConcatMap helped me to prolong input$ events and wait for interval event to fire its own event. Using withLatestForm helped me to match ticks with their own input$ values.</p>\n"}], "owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 53495048, "answer_count": 3, "score": 0, "last_activity_date": 1543305289, "creation_date": 1542744589, "last_edit_date": 1542779538, "question_id": 53400784, "link": "https://stackoverflow.com/questions/53400784/zipwithlatestform-wanted-operator-or-workaround", "title": "ZipWithLatestForm *Wanted Operator* or Workaround", "body": "<p><strong>Lets consider following streams:</strong></p>\n\n<pre><code>Stream1: 1  2  3  4  5  6  7  8  9                \nStream2: abc  d       fg   h\n</code></pre>\n\n<p><strong>Output I would like to get with combining these streams:</strong></p>\n\n<pre><code>[1, a]\n[2, b]\n[3, c]\n[4, d]\n[5, d]\n[6, f]\n[7, g]\n[8, h]\n[9, h]\n</code></pre>\n\n<p><strong>Sample Code Idea:</strong> <a href=\"https://stackblitz.com/edit/rxjs-zip-with-latest-form\" rel=\"nofollow noreferrer\">StackBlitz Editor Link</a></p>\n\n<pre><code>const input$ = fromEvent(document, 'keydown')\n  .pipe(\n    map((event: KeyboardEvent) =&gt; event.keyCode)\n  );\nconst source$ = interval(500).pipe(s$ =&gt; zip(s$, input$))\nsource$.subscribe(x =&gt; console.log(x));\n</code></pre>\n\n<p>So this is something like operators <code>zip()</code> and/or <code>withLatestForm()</code>, but I can't come up with solution</p>\n\n<ul>\n<li><em>Main idea is that I have interval of 500ms and on every tick I want to zip it with Keyboard Input Observable, which works how I would like, but as long I am not emitting Keyboard Input Observable everything stops. <strong>I want to keep emitting interval ticks, but if keyboard events stop then take the latest value</em></strong></li>\n</ul>\n"}, {"tags": ["jquery", "angular", "typescript", "button", "click"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1542744565, "post_id": 53400758, "comment_id": 93676718, "body": "Use <code>ngClass</code> <a href=\"https://angular.io/api/common/NgClass\" rel=\"nofollow noreferrer\">angular.io/api/common/NgClass</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 6, "last_activity_date": 1542744659, "creation_date": 1542744659, "answer_id": 53400800, "question_id": 53400758, "link": "https://stackoverflow.com/questions/53400758/toggleclassactive-on-angular-and-typescript/53400800#53400800", "title": "ToggleClass(&#39;active&#39;) on Angular and Typescript", "body": "<p>You can use something like this(<code>[class.className]=\"conditionThatResolvesToABoolean\"</code>, or <code>[ngClass]</code>) for doing this:</p>\n\n<pre><code>&lt;div [class.active]=\"classApplied\"&gt;\n  Here's some text\n  &lt;button (click)=\"toggleClass()\"&gt;Toggle Class&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And in your Template:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({...})\nexport class AppComponent  {\n  classApplied = false;\n\n  toggleClass() {\n    this.classApplied = !this.classApplied;\n  }\n}\n</code></pre>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-igl2xq?file=src%2Fapp%2Fapp.component.html\" rel=\"noreferrer\"><strong>Sample StackBlitz</strong></a> for your ref.</p>\n"}], "owner": {"reputation": 73, "user_id": 10009864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TYKhmZKGT2Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0HOEFrQy1tJOpFv032-qzcKipRzA/mo/photo.jpg?sz=128", "display_name": "catsdev", "link": "https://stackoverflow.com/users/10009864/catsdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6349, "favorite_count": 0, "accepted_answer_id": 53400800, "answer_count": 1, "score": 2, "last_activity_date": 1542745247, "creation_date": 1542744458, "last_edit_date": 1542745247, "question_id": 53400758, "link": "https://stackoverflow.com/questions/53400758/toggleclassactive-on-angular-and-typescript", "title": "ToggleClass(&#39;active&#39;) on Angular and Typescript", "body": "<p>Anyone knows how can I do something like this with Angular? </p>\n\n<pre><code>$('button').click(function(){\n  $('button').toggleClass('active');\n  $('.title').toggleClass('active');\n  $('nav').toggleClass('active');\n});\n</code></pre>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["typescript", "reflect-metadata"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7024747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZHNfF.jpg?s=128&g=1", "display_name": "Mikey Dee", "link": "https://stackoverflow.com/users/7024747/mikey-dee"}, "edited": false, "score": 0, "creation_date": 1542746887, "post_id": 53400646, "comment_id": 93677753, "body": "Not sure I follow you. Doesn&#39;t <i>reflect-metada</i> simply add additional functionality to the global Reflect object by means of Object.defineProperty? So there is no need to define an export. And come to think of it, there also shouldn&#39;t be a need to import it multiple times."}], "tags": [], "owner": {"reputation": 1182, "user_id": 343112, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413b5280dee1b01142edeb551619c82c?s=128&d=identicon&r=PG&f=1", "display_name": "pungggi", "link": "https://stackoverflow.com/users/343112/pungggi"}, "is_accepted": false, "score": 0, "last_activity_date": 1542743917, "creation_date": 1542743917, "answer_id": 53400646, "question_id": 53400581, "link": "https://stackoverflow.com/questions/53400581/how-to-import-reflect-metadata-correctly/53400646#53400646", "title": "How to import reflect-metadata correctly", "body": "<p>Yes, this is because there is no export in the package of reflect-metadata.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7024747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZHNfF.jpg?s=128&g=1", "display_name": "Mikey Dee", "link": "https://stackoverflow.com/users/7024747/mikey-dee"}, "is_accepted": true, "score": 1, "last_activity_date": 1545168255, "creation_date": 1545168255, "answer_id": 53841293, "question_id": 53400581, "link": "https://stackoverflow.com/questions/53400581/how-to-import-reflect-metadata-correctly/53841293#53841293", "title": "How to import reflect-metadata correctly", "body": "<p>To answer my own question; yes, you only have to import it once. I did some overall project re-arrangement which among others involved replacing <em>ts-node</em> for a <em>rollup</em> based solution and removing a bunch of unused packages. After that a single import of <em>reflect-metada</em> now does work. Unfortunately I cannot deduce the exact cause of my original problem, only that it is solved now after reorganisation. Perhaps some other package was interfering with it.</p>\n"}], "owner": {"reputation": 41, "user_id": 7024747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZHNfF.jpg?s=128&g=1", "display_name": "Mikey Dee", "link": "https://stackoverflow.com/users/7024747/mikey-dee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 1, "accepted_answer_id": 53841293, "answer_count": 2, "score": 1, "last_activity_date": 1545168255, "creation_date": 1542743623, "question_id": 53400581, "link": "https://stackoverflow.com/questions/53400581/how-to-import-reflect-metadata-correctly", "title": "How to import reflect-metadata correctly", "body": "<p>So I have a <em>TypeScript</em> project I am working on and I want to make use of the <em>reflect-metadata</em> package. I am a little confused about the correct way of importing this. It was my understanding that this only needed to be imported once in your \"main\" file. So in my case I have an <em>app.ts</em> in which I import <em>reflect-metadata</em> as the very first thing:</p>\n\n<pre><code>import 'reflect-metadata';\n\nimport ReflectionClass from '@src/Reflection/ReflectionClass';\n...\n</code></pre>\n\n<p><code>ReflectionClass</code> then in turn imports another class that eventually calls <code>Reflect.getMetadata()</code>. However, this fails with error</p>\n\n<pre><code>error TS2339: Property 'getMetadata' does not exist on type 'typeof Reflect'.\n</code></pre>\n\n<p>Only when I import <em>reflect-metadata</em> explicitly in the relevant file does the error disappear. Is this the correct way to do this? In other words, do I need to import <em>reflect-metadata</em> in each file that uses it as opposed to a global, one time import in your main file?</p>\n"}, {"tags": ["angular", "html", "typescript", "angular5"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 1, "creation_date": 1542743475, "post_id": 53400524, "comment_id": 93676156, "body": "Try <a href=\"https://lindell.me/JsBarcode/\" rel=\"nofollow noreferrer\">JsBarcode</a>. Closing this as Off-topic."}, {"owner": {"reputation": 113, "user_id": 10046703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4190db774171c756338f62ef45a9b1?s=128&d=identicon&r=PG&f=1", "display_name": "mhd saeed shamborsh", "link": "https://stackoverflow.com/users/10046703/mhd-saeed-shamborsh"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1542743721, "post_id": 53400524, "comment_id": 93676326, "body": "I don&#39;t want generate barcode i want to print barcode label"}], "owner": {"reputation": 113, "user_id": 10046703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4190db774171c756338f62ef45a9b1?s=128&d=identicon&r=PG&f=1", "display_name": "mhd saeed shamborsh", "link": "https://stackoverflow.com/users/10046703/mhd-saeed-shamborsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542743375, "creation_date": 1542743375, "question_id": 53400524, "link": "https://stackoverflow.com/questions/53400524/how-to-print-barcode-sticker-with-angular-6", "title": "How to print barcode Sticker with Angular 6?", "body": "<p>I am working on point of sale project with angular 6,\ni need a way to print bar code label how can i do that?\nIs there any library or any way to do that.</p>\n"}]