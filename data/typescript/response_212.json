[{"tags": ["angular", "typescript", "firebase", "firebase-authentication"], "answers": [{"comments": [{"owner": {"reputation": 1309, "user_id": 85679, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cfb190943c68973cd3cdc47ba5232c18?s=128&d=identicon&r=PG", "display_name": "Richard Edwards", "link": "https://stackoverflow.com/users/85679/richard-edwards"}, "edited": false, "score": 1, "creation_date": 1569803178, "post_id": 54484310, "comment_id": 102702646, "body": "Worked for me. Looks like the previous version returned user, but now it returns a different object with a user property."}], "tags": [], "owner": {"reputation": 149, "user_id": 1658522, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mopsz.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/1658522/mark"}, "is_accepted": false, "score": 8, "last_activity_date": 1549041919, "creation_date": 1549041919, "answer_id": 54484310, "question_id": 54451337, "link": "https://stackoverflow.com/questions/54451337/firebase-5-8-sendemailverification/54484310#54484310", "title": "Firebase 5.8^ sendEmailVerification", "body": "<p>In the end, I found this solution.</p>\n\n<pre><code>firebase.auth().createUserWithEmailAndPassword(email, password)\n    .then(userData =&gt; {\n        userData.user.sendEmailVerification();\n            console.log(userData);\n    })\n    .catch(err =&gt; {\n        console.log(err);\n    });\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 1658522, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mopsz.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/1658522/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 801, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549041919, "creation_date": 1548892198, "last_edit_date": 1548907475, "question_id": 54451337, "link": "https://stackoverflow.com/questions/54451337/firebase-5-8-sendemailverification", "title": "Firebase 5.8^ sendEmailVerification", "body": "<p>I am trying to make <code>firebase</code> create user by email and send the verification email.\nIt has changed I believe in version 5+ </p>\n\n<p>I cannot seem to get it to function.</p>\n\n<p>Can someone help explain where am I going wrong?</p>\n\n<p>The following error message I keep getting is</p>\n\n<blockquote>\n  <p>TypeError: user.sendEmailVerification is not a function</p>\n</blockquote>\n\n<p>This is my TS file.</p>\n\n<pre><code>onSubmit(form: NgForm) {\n\nconst fullname = form.value.fullname;\nconst email = form.value.email;\nconst password = form.value.password;\n\n\nfirebase.auth().createUserWithEmailAndPassword(email, password)\n.then(function(user) {\n    user.sendEmailVerification();\n})\n.then(function () {\n    console.log('User signup success');\n    alert('Signed Up');\n})\n.catch(function (err) {\n    console.log(err);\n    alert('Error!');\n});\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "generics", "typescript-typings", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 5349, "user_id": 5132337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fcj6b.jpg?s=128&g=1", "display_name": "Siraj Alam", "link": "https://stackoverflow.com/users/5132337/siraj-alam"}, "is_accepted": false, "score": 1, "last_activity_date": 1561943262, "creation_date": 1561943262, "answer_id": 56829109, "question_id": 54451253, "link": "https://stackoverflow.com/questions/54451253/why-is-type-not-assignable-to-generic-type/56829109#56829109", "title": "Why is type not assignable to generic type", "body": "<p>Finally, I found the solution. </p>\n\n<blockquote>\n  <p>All you have to do is give the type of props (in <code>React.forwardRef</code>) as the type received which is <code>P</code>.</p>\n</blockquote>\n\n<pre><code>  return React.forwardRef((props:P, ref) =&gt; (\n    &lt;WithProvider {...props} forwardedRef={ref} /&gt;\n  ));\n</code></pre>\n\n<p>Complete Code:</p>\n\n<pre><code>const withProvider = function&lt;P&gt;(WrappedComponent: React.ComponentClass&lt;P&gt;) {\n\n  type Props = P &amp; { forwardedRef?: React.Ref&lt;any&gt; }\n\n  class WithProvider extends React.Component&lt;Props&gt; {\n    render() {\n      const { forwardedRef, ...props } = this.props\n      return (\n        &lt;ApolloProvider client={client}&gt;\n          &lt;WrappedComponent {...props} ref={forwardedRef} /&gt;\n        &lt;/ApolloProvider&gt;\n      )\n    }\n  }\n\n  hoistNonReactStatics(WithProvider, WrappedComponent)\n\n  return React.forwardRef((props:P, ref) =&gt; (\n    &lt;WithProvider {...props} forwardedRef={ref} /&gt;\n  ))\n}\n</code></pre>\n"}], "owner": {"reputation": 979, "user_id": 7165303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QzN9GsYrT-8/AAAAAAAAAAI/AAAAAAAAAIQ/dt-bAbLoh7E/photo.jpg?sz=128", "display_name": "Donovan Hiland", "link": "https://stackoverflow.com/users/7165303/donovan-hiland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1561943262, "creation_date": 1548891635, "last_edit_date": 1548895587, "question_id": 54451253, "link": "https://stackoverflow.com/questions/54451253/why-is-type-not-assignable-to-generic-type", "title": "Why is type not assignable to generic type", "body": "<p>I'm trying to build and type a HOC which just wraps a component in an ApolloProvider. I would like to be able to forward the ref on to the wrapped component. However, when I try and pass props along in the forwardRef component I'm getting type errors</p>\n\n<p>Somewhere along my research spree I stumbled upon an answer that talked about generics being the issue. </p>\n\n<pre><code>const withProvider = function&lt;P&gt;(WrappedComponent: React.ComponentClass&lt;P&gt;) {\n\n  type Props = P &amp; { forwardedRef?: React.Ref&lt;any&gt; }\n\n  class WithProvider extends React.Component&lt;Props&gt; {\n    render() {\n      const { forwardedRef, ...props } = this.props\n      return (\n        &lt;ApolloProvider client={client}&gt;\n          &lt;WrappedComponent {...props} ref={forwardedRef} /&gt;\n        &lt;/ApolloProvider&gt;\n      )\n    }\n  }\n\n  hoistNonReactStatics(WithProvider, WrappedComponent)\n\n  return React.forwardRef((props, ref) =&gt; (\n    &lt;WithProvider {...props} forwardedRef={ref} /&gt;\n  ))\n}\n</code></pre>\n\n<p>Gives me the error:</p>\n\n<pre><code>\nType '{ forwardedRef: string | ((instance: {} | null) =&gt; any) | RefObject&lt;{}&gt; | undefined; children?: ReactNode; }' is not assignable to type 'Readonly&lt;Props&gt;'\n\n</code></pre>\n\n<p>To me these should match up and the former should be assignable to the latter. The only thing I can think of is that <code>Readonly&lt;Props&gt;</code> contains a generic.</p>\n\n<p>Can someone point me in the right direction?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1548889717, "creation_date": 1548889717, "answer_id": 54450941, "question_id": 54450787, "link": "https://stackoverflow.com/questions/54450787/returning-observable-from-function/54450941#54450941", "title": "Returning Observable from function", "body": "<p>Don't subscribe to the observable, return it, and use the <code>tap</code> operator to store the response:</p>\n\n<pre><code>getConfigurations() {\n    let sessionConfig = sessionStorage.getItem('config');\n    if(config)\n        return of(sessionConfig);\n    else {\n        return this.dataService.getRoute('configurations').pipe(\n          mergeMap(route =&gt; this.http.get&lt;any[]&gt;(route.ToString()),\n          tap(result =&gt; sessionStorage.setItem('config', result))\n        );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 2379344, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e45e4cfb81d3136fec87a16c2cc379da?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno A", "link": "https://stackoverflow.com/users/2379344/bruno-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 54450941, "answer_count": 1, "score": 0, "last_activity_date": 1548889955, "creation_date": 1548888825, "last_edit_date": 1548889955, "question_id": 54450787, "link": "https://stackoverflow.com/questions/54450787/returning-observable-from-function", "title": "Returning Observable from function", "body": "<p>I have the following function in typescript:</p>\n\n<pre><code>getConfigurations() {\n    let sessionConfig = sessionStorage.getItem('config');\n    if(config)\n        return of(sessionConfig);\n    else {\n        this.dataService.getRoute('configurations').subscribe(\n        route =&gt; this.http.get&lt;any[]&gt;(route.ToString()).subscribe(\n            result =&gt; {\n                sessionStorage.setItem('config', result);\n                return of(result);\n            },\n            error =&gt; {\n                alert(error);\n            }),\n        error =&gt; {\n            alert(error);\n        }\n        );\n    }\n}\n</code></pre>\n\n<p>The function should return a string if the sessionStorage key is already existent or use dataService to retrieve the value from back end and then set the value in the session. I'd like to return the value set in sessionStorage too (result), but I couldn't find a way to do it.</p>\n\n<p>The function getRoute from dataService is:</p>\n\n<pre><code>getRoute(service: string){\n    return this.http.get('urlToMyBackendWebApi');\n}\n</code></pre>\n\n<p>Where http is the Angular HttpClient.</p>\n\n<p>How could I get the value returned from getConfigurations() ?</p>\n\n<p>I tried to subscribe to getConfigurations. I have no problems with the if condition (the string sessionConfig is returned) but how to get the result from the else condition? Should I return an observable of the entire part? In this case, how could I read the return?</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-material-table"], "comments": [{"owner": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "edited": false, "score": 0, "creation_date": 1548910622, "post_id": 54450783, "comment_id": 95715349, "body": "Commented out the <code>this.columnsToDisplay = [];</code> and <code>setTimeout()</code> on the stackblitz example you provided and it worked fine."}, {"owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "reply_to_user": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "edited": false, "score": 0, "creation_date": 1548948465, "post_id": 54450783, "comment_id": 95735868, "body": "My bad, I made a change last night in the stackblitz without forking it. It&#39;s back to demonstrating the problem."}, {"owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "reply_to_user": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "edited": false, "score": 0, "creation_date": 1548948646, "post_id": 54450783, "comment_id": 95735987, "body": "I had made it so that instead of having an id property for both data sets, they had id1 and id2. That allows everything to refresh properly, but in practice both my data sets will have the same id property so that wouldn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "edited": false, "score": 1, "creation_date": 1549044141, "post_id": 54484499, "comment_id": 95776691, "body": "That is super interesting how that works. I totally thought recreating the configs with new object references would have caused the headers to update, so I didn&#39;t even think to try trackBy. Thank you for taking the time to answer, much appreciated!"}], "tags": [], "owner": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "is_accepted": true, "score": 6, "last_activity_date": 1549042674, "creation_date": 1549042674, "answer_id": 54484499, "question_id": 54450783, "link": "https://stackoverflow.com/questions/54450783/angular-material-table-how-to-update-column-header-of-an-existing-table/54484499#54484499", "title": "Angular Material Table - How to update column header of an existing table?", "body": "<blockquote>\n  <p>Maybe it's not working because the property name stays the same (i.e. 'id') and only the title changes.</p>\n</blockquote>\n\n<p>Thats the reason for it not updating, as explained on this <a href=\"https://github.com/angular/material2/issues/8361#issuecomment-345804954\" rel=\"noreferrer\">comment</a></p>\n\n<p>On the same comment, there is a proposed solution that you may use (add a trackBy function).</p>\n\n<p>For doing this, include <code>trackBy</code> on your template:</p>\n\n<pre><code>&lt;ng-container [matColumnDef]=\"config.property\" *ngFor=\"let config of configs; trackBy: trackByIndex\"&gt;\n&lt;th mat-header-cell *matHeaderCellDef&gt; {{config.name}} &lt;/th&gt;\n&lt;td mat-cell *matCellDef=\"let element\"&gt; {{element[config.property]}} &lt;/td&gt;\n</code></pre>\n\n<p></p>\n\n<p>Include function <code>trackByIndex</code> on your component ts file:</p>\n\n<pre><code>trackByIndex(i) { return i; }\n</code></pre>\n\n<p>Forked the stackblitz you provided and it is working <a href=\"https://stackblitz.com/edit/angular-hx9r7n?file=app%2Ftable-dynamic-columns-example.ts\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3084, "favorite_count": 3, "accepted_answer_id": 54484499, "answer_count": 1, "score": 4, "last_activity_date": 1549042674, "creation_date": 1548888810, "question_id": 54450783, "link": "https://stackoverflow.com/questions/54450783/angular-material-table-how-to-update-column-header-of-an-existing-table", "title": "Angular Material Table - How to update column header of an existing table?", "body": "<p>I'm using Angular 7 and I have a simple component with an <a href=\"https://material.angular.io/components/table/overview\" rel=\"nofollow noreferrer\">Angular Material Table</a>. Through some event, say a mouse click, I want to be able to update both the data and the header of that existing table.</p>\n\n<p>Before:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B0Unj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B0Unj.png\" alt=\"enter image description here\"></a></p>\n\n<p>After (goal):</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Y6HV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Y6HV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Currently, I'm getting the data to update fine. However, I can't get the header text of the columns to update unless, that is, I do a fairly hokey window timeout call.</p>\n\n<p>This is hard to describe, so a <a href=\"https://stackblitz.com/edit/angular-hx9r7n?file=app%2Ftable-dynamic-columns-example.ts\" rel=\"nofollow noreferrer\">stackblitz repo</a> should help. The in 'table-dynamic-columns.example.ts' file I've linked there, I have two different strategies that I try on the 'changeColumnHeader' button click handler. It appears that in order to get my new column header title to show up, I need to first clear out the displayed columns of the table, and then set them back properly in a timeout. Maybe it's not working because the property name stays the same (i.e. 'id') and only the title changes. </p>\n\n<p>Does anyone know a better way to get this to update correctly?</p>\n"}, {"tags": ["typescript", "variant", "discriminated-union"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1548889879, "creation_date": 1548889879, "answer_id": 54450967, "question_id": 54450629, "link": "https://stackoverflow.com/questions/54450629/why-do-exhaustiveness-checks-work-differently-for-union-types/54450967#54450967", "title": "Why do exhaustiveness checks work differently for union types?", "body": "<p>Typescript narrows unions when you use a type-guard. The confusion arises from where the union is.</p>\n\n<p>In <code>Variant1</code> the union is on the <code>kind</code> member so typescript narrows that union down to <code>never</code> on the <code>default</code> branch. This means <code>x</code> is still of type <code>Variant1</code>, and <code>kind</code> is still accessible on <code>x</code>, just that the type of <code>kind</code> at this point is <code>never</code></p>\n\n<p>In <code>Variant2</code> the union is on the <code>x</code> parameter itself, so <code>x</code> is what gets narrowed. This version is also called a discriminated union with <code>kind</code> being the discriminator. Since all <code>kinds</code> have been checked, on <code>default</code> <code>x</code> will have been narrowed to <code>never</code> and thus accessing <code>kind</code> becomes an error.</p>\n"}], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 54450967, "answer_count": 1, "score": 3, "last_activity_date": 1548889879, "creation_date": 1548887900, "question_id": 54450629, "link": "https://stackoverflow.com/questions/54450629/why-do-exhaustiveness-checks-work-differently-for-union-types", "title": "Why do exhaustiveness checks work differently for union types?", "body": "<p>I'm using exhaustiveness checking as described in <a href=\"https://basarat.gitbooks.io/typescript/docs/types/discriminated-unions.html\" rel=\"nofollow noreferrer\">TypeScript Deep Dive</a></p>\n\n<p>Exhaustiveness checks seem to work differently for union types as compared to types that are not union types. Why??</p>\n\n<p>For example, in the code below, note that <code>exhaustivenessCheck1</code> only works (doesn't type error when it shouldn't) if we assert that <code>x.kind</code> is <code>never</code>.</p>\n\n<p>However, <code>exhaustivenessCheck2</code> only does the right thing if we assert that <code>x</code> is <code>never</code>.</p>\n\n<pre><code>type Variant1 = {\n    kind: 1 | 2\n}\n\ntype Variant2 = {\n    kind: 1\n} | {\n    kind: 2\n}\n\nconst x: Variant1 = { kind: 1 };\n\n\nfunction exhaustivenessCheck1(x: Variant1) {\n    switch (x.kind) {\n        case 1:\n        case 2:\n            break;\n        default:\n            const _x: never = x.kind; // OK\n            const _y: never = x; // Error\n    }\n}\n\nfunction exhaustivenessCheck2(x: Variant2) {\n    switch (x.kind) {\n        case 1:\n            break;\n        case 2:\n            break;\n        default:\n            const _x: never = x.kind; // Error\n            const _y: never = x; // OK\n    }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=%0D%0Atype%20Variant1%20%3D%20%7B%0D%0A%20%20%20%20kind%3A%201%20%7C%202%0D%0A%7D%0D%0A%0D%0Atype%20Variant2%20%3D%20%7B%0D%0A%20%20%20%20kind%3A%201%0D%0A%7D%20%7C%20%7B%0D%0A%20%20%20%20kind%3A%202%0D%0A%7D%0D%0A%0D%0Aconst%20x%3A%20Variant1%20%3D%20%7B%20kind%3A%201%20%7D%3B%0D%0A%0D%0A%0D%0Afunction%20exhaustivenessCheck1(x%3A%20Variant1)%20%7B%0D%0A%20%20%20%20switch%20(x.kind)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20_x%3A%20never%20%3D%20x.kind%3B%20%2F%2F%20OK%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20_y%3A%20never%20%3D%20x%3B%20%2F%2F%20Error%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20exhaustivenessCheck2(x%3A%20Variant2)%20%7B%0D%0A%20%20%20%20switch%20(x.kind)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20_x%3A%20never%20%3D%20x.kind%3B%20%2F%2F%20Error%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20_y%3A%20never%20%3D%20x%3B%20%2F%2F%20OK%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">TypeScript Playground link (be sure to enable \"strict null checks\")</a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 1046439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253cd266b5a0927c32441dcfa3d1f9cb?s=128&d=identicon&r=PG", "display_name": "Nathaniel Tucker", "link": "https://stackoverflow.com/users/1046439/nathaniel-tucker"}, "edited": false, "score": 0, "creation_date": 1548886827, "post_id": 54450298, "comment_id": 95709483, "body": "That requires me to implement the abstract members in A, but I want to only be able to extend &#39;this&#39; for those that already implement all the abstract types"}, {"owner": {"reputation": 417, "user_id": 1046439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253cd266b5a0927c32441dcfa3d1f9cb?s=128&d=identicon&r=PG", "display_name": "Nathaniel Tucker", "link": "https://stackoverflow.com/users/1046439/nathaniel-tucker"}, "edited": false, "score": 0, "creation_date": 1548887001, "post_id": 54450298, "comment_id": 95709539, "body": "I also end up not being able to refer to static members of &#39;this&#39; in newDerived()"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 417, "user_id": 1046439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253cd266b5a0927c32441dcfa3d1f9cb?s=128&d=identicon&r=PG", "display_name": "Nathaniel Tucker", "link": "https://stackoverflow.com/users/1046439/nathaniel-tucker"}, "edited": false, "score": 0, "creation_date": 1548887450, "post_id": 54450298, "comment_id": 95709715, "body": "@NathanielTucker I fixed the requirement to reimplement the abstract methods, using <code>Pick</code> it&#39;s not ideal but since the constructor returns an abstract type the compiler requires us to reimplement all abstract methods. The static issue I&#39;m not sure how to fix, if I and anything to the constraint the compiler will not let us derive from <code>this</code> anymore. The way mixins are build in TS is a bit frail: <a href=\"https://github.com/Microsoft/TypeScript/pull/13743\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/pull/13743</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 417, "user_id": 1046439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253cd266b5a0927c32441dcfa3d1f9cb?s=128&d=identicon&r=PG", "display_name": "Nathaniel Tucker", "link": "https://stackoverflow.com/users/1046439/nathaniel-tucker"}, "edited": false, "score": 0, "creation_date": 1548889138, "post_id": 54450298, "comment_id": 95710257, "body": "@NathanielTucker FYI I think the requirement to implement the members in the mixin class is a bug, I filed it as such: <a href=\"https://github.com/Microsoft/TypeScript/issues/29653\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/29653</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1548887243, "last_edit_date": 1548887243, "creation_date": 1548886006, "answer_id": 54450298, "question_id": 54450241, "link": "https://stackoverflow.com/questions/54450241/how-to-constraint-type-of-abstract-class-in-typescript/54450298#54450298", "title": "How to constraint type of abstract class in Typescript", "body": "<p>You can constrain <code>T</code> to be a constructor that returns <code>AbBase</code>. This will solve both the non-abstract class requirement and will satisfy the compiler that this can be inherited:</p>\n\n<pre><code>abstract class AbBase {\n    static newDerived&lt;T extends { new (...a: any[]) : Pick&lt;AbBase, keyof AbBase&gt; } &gt;(this: T) {\n        return class A extends this {\n\n        }\n    }\n}\n\nAbBase.newDerived() // error\n\nclass Derived extends AbBase {}\nDerived.newDerived() // ok \n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 1046439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253cd266b5a0927c32441dcfa3d1f9cb?s=128&d=identicon&r=PG", "display_name": "Nathaniel Tucker", "link": "https://stackoverflow.com/users/1046439/nathaniel-tucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548887243, "creation_date": 1548885734, "question_id": 54450241, "link": "https://stackoverflow.com/questions/54450241/how-to-constraint-type-of-abstract-class-in-typescript", "title": "How to constraint type of abstract class in Typescript", "body": "<p>This is what I want to do:</p>\n\n<pre><code>abstract class AbBase\n  static newDerived&lt;T extends typeof AbBase&gt;(this: T) {\n    return class A extends this {\n      //...\n    }\n  }\n</code></pre>\n\n<p>Essentially I want newDerived to only be called from non-abstract implementations.</p>\n\n<p>However, I get this error on the <code>extends this</code> part:\n\"Type 'T' is not a constructor function type. Did you mean for T to be constrained to type 'new (...args: any[]) => AbBase'?\"</p>\n\n<p>But then if I do</p>\n\n<pre><code>  static newDerived&lt;T extends typeof AbBase&gt;(this: new (...args: any[]) =&gt; AbstractInstanceType&lt;T&gt;) {\n</code></pre>\n\n<p>it says, \"Base constructor return type 'AbstractInstanceType' is not an object type or intersection of object types with statically known members.\"</p>\n"}, {"tags": ["reactjs", "typescript", "enums"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548886470, "post_id": 54449973, "comment_id": 95709369, "body": "Why  not set <code>state</code> in the constructor instead of re-defining it in the child class?"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548886523, "post_id": 54449973, "comment_id": 95709383, "body": "@ShaunLuttin This was meant to be an MVCE that mocks the way React looks since that&#39;s what I&#39;m using."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548886668, "post_id": 54449973, "comment_id": 95709431, "body": "Right... even so, why re-define the <code>state</code> property when it is already defined in React&#39;s <code>Component</code> class?"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548886843, "post_id": 54449973, "comment_id": 95709491, "body": "@ShaunLuttin Forgive me (I&#39;m new to TypeScript), but does TS distinguish between a class property and its initial value? I was under the impression I could avoid constructor boilerplate by assigning the class property (like with ECMAScript&#39;s proposed class properties)."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548887019, "post_id": 54449973, "comment_id": 95709548, "body": "Yes. TypeScript does distinguish between a class property and its initial value. You can assign the class property at the same time you define the class property. If you do that in a child class, though, you are re-defining the property in addition to setting its initial value."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548887266, "post_id": 54449973, "comment_id": 95709646, "body": "What you were doing initially is the equivalent of this: <a href=\"https://www.typescriptlang.org/play/#src=class%20Parent%20%7B%20%7D%0D%0A%0D%0Aclass%20Child%20extends%20Parent%20%7B%20%7D%0D%0A%0D%0Aclass%20HasParent%20%7B%20%0D%0A%20%20%20%20public%20prop%3A%20Parent%3B%0D%0A%7D%0D%0A%0D%0Aclass%20HasChild%20extends%20HasParent%20%7B%0D%0A%20%20%20%20%2F%2F%20prop%20is%20now%20re-defined%20as%20type%20Child%0D%0A%20%20%20%20public%20prop%20%3D%20new%20Child()%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548887657, "post_id": 54449973, "comment_id": 95709798, "body": "Also, I added a quote to my answer which shows that using the constructor to set initial state is what the React docs recommend."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548887846, "post_id": 54449973, "comment_id": 95709860, "body": "@ShaunLuttin Okay, so is there any reason not to do <code>public state: MyState = { \u2026 }</code> as I&#39;m used to ES syntax aside from the fact I need to explicit type it? This way I won&#39;t need the constructor."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548888191, "post_id": 54449973, "comment_id": 95709971, "body": "Setting the initial state by re-defining the <code>Component</code> parent class&#39;s <code>state</code> property might be problematic in surprising ways. I&#39;m afraid I don&#39;t know enough about React to know what surprises might await when we do not follow the docs."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1548888299, "post_id": 54449973, "comment_id": 95710003, "body": "@ShaunLuttin Okay, thanks for the explanation."}], "answers": [{"comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 1, "creation_date": 1548884915, "post_id": 54450037, "comment_id": 95708831, "body": "Okay, that makes sense. But why do I have to respecify if the class <code>Component</code> defines <code>public state: S</code>?"}], "tags": [], "owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "is_accepted": false, "score": 0, "last_activity_date": 1548886618, "last_edit_date": 1548886618, "creation_date": 1548884822, "answer_id": 54450037, "question_id": 54449973, "link": "https://stackoverflow.com/questions/54449973/why-does-type-have-no-overlap-when-in-enum/54450037#54450037", "title": "Why does type have no overlap when in enum?", "body": "<p>You have to type the public state to State like this:</p>\n\n<pre><code>public state: State = {\n    action: initialAction,\n}\n</code></pre>\n\n<p>Otherwise Typescript will infer that <code>state.action</code> is the same type as <code>initialAction</code>.</p>\n\n<h2>To answer the question in your comment</h2>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=class%20Component%3CS%3E%20%7B%0D%0A%20%20%20%20public%20state%3A%20S%3B%0D%0A%20%20%20%20public%20count%3A%20number%3B%0D%0A%20%20%20%20public%20render()%20%7B%7D%0D%0A%7D%0D%0A%0D%0Aenum%20Action%20%7B%0D%0A%20%20%20%20UP%2C%0D%0A%20%20%20%20DOWN%2C%0D%0A%20%20%20%20LEFT%2C%0D%0A%20%20%20%20RIGHT%2C%0D%0A%7D%0D%0A%0D%0Ainterface%20State%20%7B%0D%0A%20%20%20%20action%3A%20Action%3B%0D%0A%7D%0D%0A%0D%0Aconst%20initialAction%3A%20Action.UP%20%7C%20Action.DOWN%20%3D%20Action.UP%3B%0D%0Aclass%20MyComponent%20extends%20Component%3CState%3E%20%7B%0D%0A%20%20%20%20public%20count%3B%0D%0A%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20super()%3B%0D%0A%20%20%20%20%20%20%20%20this.state%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20action%3A%20initialAction%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20render()%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Why%20is%20action%20not%20of%20type%20Action%3F%0D%0A%20%20%20%20%20%20%20%20const%20isLateral%20%3D%20this.state.action%20%3D%3D%3D%20Action.LEFT%3B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20This%20is%20ok%20even%20though%20Component%3CState%3E.type%20is%20a%20number%0D%0A%20%20%20%20%20%20%20%20this.count%20%3D%20&#39;Not%20a%20number&#39;%3B%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">playground link</a>)</p>\n\n<p>You redefined the value and type of <code>state</code> in your child class when you set as a new property.</p>\n\n<p>My link illustrates that. I've added a new property on the parent class called <code>count</code> with a type <code>number</code>. If I define it in my child class as a new property, it infers it as <code>any</code>, and thus can be set to a string within <code>render()</code>.</p>\n\n<p>However, you can see how I handled your original <code>state</code> property. In order to use the parent's state type, you can call <code>super()</code> in the constructor and then define <code>this.state.action = initialAction;</code>.</p>\n\n<p>That way, when you call <code>render()</code> it will be looking for the <code>Action</code> type on <code>this.state.action</code>, and not the newly defined <code>Action.UP | Action.DOWN</code></p>\n"}, {"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 2, "last_activity_date": 1548887623, "last_edit_date": 1548887623, "creation_date": 1548885830, "answer_id": 54450264, "question_id": 54449973, "link": "https://stackoverflow.com/questions/54449973/why-does-type-have-no-overlap-when-in-enum/54450264#54450264", "title": "Why does type have no overlap when in enum?", "body": "<h2>Answer to \"Why?\"</h2>\n\n<blockquote>\n  <p>Why is action not of type Action as declared in the interface?</p>\n</blockquote>\n\n<p>It is of a different type because the child class is re-defining the <code>state</code> property and giving it a narrower type than it has in the parent class. If you are doing that by design, then you can access the broader interface of the parent class by casting inside <code>render()</code>. </p>\n\n<pre><code>const isLateral = (this as Component&lt;State&gt;).state.action === Action.LEFT;\n</code></pre>\n\n<h2>Recommended Approach</h2>\n\n<p>Alternatively, do what the <a href=\"https://reactjs.org/docs/react-component.html\" rel=\"nofollow noreferrer\">React Component documentation</a> says: </p>\n\n<blockquote>\n  <p>...if your component needs to use local state, assign the initial state to this.state directly in the constructor: </p>\n</blockquote>\n\n<p>That is, do not re-redefine the parent class's state property; instead, use the already defined <code>state</code> property that <code>extend</code> gives you. Set its initial value in the constructor. </p>\n\n<pre><code>class MyComponent extends Component&lt;State&gt; {\n\n    constructor() { \n        super();\n        this.state = {\n            action: initialAction,\n        }\n    }\n\n    public render() {\n        const isLateral = this.state.action === Action.LEFT;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2013, "user_id": 6170191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYRt6.jpg?s=128&g=1", "display_name": "Nagibaba", "link": "https://stackoverflow.com/users/6170191/nagibaba"}, "is_accepted": false, "score": 0, "last_activity_date": 1597011450, "creation_date": 1597011450, "answer_id": 63331874, "question_id": 54449973, "link": "https://stackoverflow.com/questions/54449973/why-does-type-have-no-overlap-when-in-enum/63331874#63331874", "title": "Why does type have no overlap when in enum?", "body": "<p>in our case we forgot <code>{}</code> as <code>const A: React.FC&lt;IProps&gt; = (first, second, ...rest)</code> had to be <code>const A: React.FC&lt;IProps&gt; = ({first, second, ...rest})</code>. This is awful :)</p>\n"}], "owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2020, "favorite_count": 0, "accepted_answer_id": 54450264, "answer_count": 3, "score": 3, "last_activity_date": 1597011450, "creation_date": 1548884488, "last_edit_date": 1548888314, "question_id": 54449973, "link": "https://stackoverflow.com/questions/54449973/why-does-type-have-no-overlap-when-in-enum", "title": "Why does type have no overlap when in enum?", "body": "<p>I'm trying to wrap my head around why TypeScript reports that my condition will always be false due to no type overlap between <code>Action.UP | Action.DOWN</code> and <code>Action.LEFT</code> in this situation (<a href=\"https://www.typescriptlang.org/play/#src=class%20Component%3CS%3E%20%7B%0D%0A%20%20%20%20public%20state%3A%20S%3B%0D%0A%20%20%20%20public%20render()%20%7B%7D%0D%0A%7D%0D%0A%0D%0Aenum%20Action%20%7B%0D%0A%20%20%20%20UP%2C%0D%0A%20%20%20%20DOWN%2C%0D%0A%20%20%20%20LEFT%2C%0D%0A%20%20%20%20RIGHT%2C%0D%0A%7D%0D%0A%0D%0Ainterface%20State%20%7B%0D%0A%20%20%20%20action%3A%20Action%3B%0D%0A%7D%0D%0A%0D%0Aconst%20initialAction%3A%20Action.UP%20%7C%20Action.DOWN%20%3D%20Action.UP%3B%0D%0Aclass%20MyComponent%20extends%20Component%3CState%3E%20%7B%0D%0A%20%20%20%20public%20state%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20action%3A%20initialAction%2C%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20render()%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Why%20is%20action%20not%20of%20type%20Action%3F%0D%0A%20%20%20%20%20%20%20%20const%20isLateral%20%3D%20this.state.action%20%3D%3D%3D%20Action.LEFT%3B%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">playground link</a>):</p>\n\n<pre><code>class Component&lt;S&gt; {\n    public state: S;\n    public render() {}\n}\n\nenum Action {\n    UP,\n    DOWN,\n    LEFT,\n    RIGHT,\n}\n\ninterface State {\n    action: Action;\n}\n\nconst initialAction: Action.UP | Action.DOWN = Action.UP;\nclass MyComponent extends Component&lt;State&gt; {\n    public state = {\n        action: initialAction,\n    }\n\n    public render() {\n        // Why is action not of type Action as declared in the interface?\n        const isLateral = this.state.action === Action.LEFT;\n    }\n}\n</code></pre>\n\n<p>If <code>this.state.action</code> only has an initial value of type <code>Action.UP | Action.DOWN</code>, but is declared as type <code>Action</code> in the interface, why can't I compare it to <code>Action.LEFT</code>? If I can reassign <code>this.state.action</code> in the future to be either <code>LEFT</code> or <code>RIGHT</code>, why is the condition always false?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "is_accepted": false, "score": 0, "last_activity_date": 1549971667, "creation_date": 1549971667, "answer_id": 54649358, "question_id": 54449730, "link": "https://stackoverflow.com/questions/54449730/typescript-extend-datatype-alternately-fails-to-compile/54649358#54649358", "title": "Typescript extend DataType alternately fails to compile", "body": "<p>You have to overwrite <code>global</code> with you <code>Date</code> interface in (e.g.) <code>date.ts</code> file</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export {}\n\ndeclare global {\n  interface Date {\n    addDays(days: number):  Date\n  }\n}\n\nDate.prototype.addDays = function(days: number): Date {\n  if (!days) return this;\n  let date = this;\n  date.setDate(date.getDate() + days);\n  return date;\n};\n</code></pre>\n\n<p><code>export {}</code> is hack to avoid <code>File date.ts is not a module.</code> error</p>\n\n<p>Then in main file you can <code>import './date'</code> and call <code>let fn = (arg: Date) =&gt; arg.addDays(1);</code> without error</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as x from './date';\n\nlet fn = (arg: Date) =&gt; arg.addDays(1);\n</code></pre>\n"}], "owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549971667, "creation_date": 1548883300, "question_id": 54449730, "link": "https://stackoverflow.com/questions/54449730/typescript-extend-datatype-alternately-fails-to-compile", "title": "Typescript extend DataType alternately fails to compile", "body": "<p>In my <code>extensions/date.ts</code> file, I have the following extension:</p>\n\n<pre><code>interface Date {\n  addDays: (days: number) =&gt; Date\n}\n\nDate.prototype.addDays = function(days: number): Date {\n  if (!days) return this;\n  let date = this;\n  date.setDate(date.getDate() + days);\n  return date;\n};\n</code></pre>\n\n<p>In <code>server.ts</code>, it is imported first in line:</p>\n\n<pre><code>import './extensions/date';\nimport * as dotenv from 'dotenv';\ndotenv.config()\n...rest imports\n</code></pre>\n\n<p>And it actually compiles, and proved to be working! but sometimes when I make changes and the app is recompiled automatically using <code>nodemon</code> and runs using <code>node-ts</code>, the app breaks and TS no longer recognises <code>Date.addDays()</code> as a valid function.</p>\n\n<p>To solve it temporarily I used to relocate the import to a higher place in the chain, but now I have nowhere else to climb.</p>\n\n<p>The error is the good old 2339:</p>\n\n<blockquote>\n  <p>Property 'addDays' does not exist on type 'Date'. (2339)</p>\n</blockquote>\n\n<p>Has anyone tackled this? Perhaps a workaround?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "is_accepted": true, "score": 2, "last_activity_date": 1548883122, "creation_date": 1548883122, "answer_id": 54449689, "question_id": 54449651, "link": "https://stackoverflow.com/questions/54449651/typescript-getting-error-trying-to-implement-an-interface-inside-a-class/54449689#54449689", "title": "typescript - getting error trying to implement an interface inside a class", "body": "<p>You haven't assigned a value to <code>this.data</code> yet, so it is <code>undefined</code>.</p>\n\n<p>Instead, assign it like so:</p>\n\n<pre><code>this.data = {\n  name: '',\n  email: '',\n};\n</code></pre>\n"}], "owner": {"reputation": 32, "user_id": 10749365, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g5jf4O7edDc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hl-6tn2HZQ7xq_K0hYxF9PJ90VsA/mo/photo.jpg?sz=128", "display_name": "Caio Reis", "link": "https://stackoverflow.com/users/10749365/caio-reis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 54449689, "answer_count": 1, "score": 0, "last_activity_date": 1548883266, "creation_date": 1548882933, "question_id": 54449651, "link": "https://stackoverflow.com/questions/54449651/typescript-getting-error-trying-to-implement-an-interface-inside-a-class", "title": "typescript - getting error trying to implement an interface inside a class", "body": "<p>Can anybody tell me what i'm doing wrong... i'm trying to use an interface inside a class an initialize it, but i'm getting this error : </p>\n\n<pre><code>Uncaught TypeError: Cannot set property 'name' of undefined\nat new User (eval at setTimeout (main.js:493), &lt;anonymous&gt;:4:24)\nat eval (eval at setTimeout (main.js:493), &lt;anonymous&gt;:9:14)\nat setTimeout (main.js:493)\n</code></pre>\n\n<p>here is what i'm trying to do:</p>\n\n<pre><code>interface UserInterface {\n    name: string\n    email: string\n}\n\nclass User {\n    id: string\n    data: UserInterface\n\n    constructor(){\n        this.data.name = ''\n        this.data.name = ''\n        this.id = ''\n    }\n}\n\nconst user = new User()\n\nconsole.log(user.data)\n</code></pre>\n\n<p>tks people!</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-settings", "polyfills"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1548883142, "post_id": 54449286, "comment_id": 95708136, "body": "<i>&quot;We do not get any info about the existing polyfill&quot;</i> what does that mean? what info are you expecting to get? What are you expecting to provide said info?"}, {"owner": {"reputation": 3415, "user_id": 1098046, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LULOr.jpg?s=128&g=1", "display_name": "Mackelito", "link": "https://stackoverflow.com/users/1098046/mackelito"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1548971092, "post_id": 54449286, "comment_id": 95747229, "body": "Maybe a service that would provide information about that the core-js/es7/object polyfill is needed for the current target? :)"}], "owner": {"reputation": 3415, "user_id": 1098046, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LULOr.jpg?s=128&g=1", "display_name": "Mackelito", "link": "https://stackoverflow.com/users/1098046/mackelito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1548882824, "creation_date": 1548881317, "last_edit_date": 1548882824, "question_id": 54449286, "link": "https://stackoverflow.com/questions/54449286/get-hint-about-polyfills-in-vscode", "title": "Get hint about polyfills in vscode", "body": "<p>If we are using target: es5 and lib es2015 then the Object does not have values</p>\n\n<pre><code>[ts] Property \u2018values\u2019 does not exist on type \u2018ObjectConstructor\u2019. [2339]\nObject.values(myObject)\n\n</code></pre>\n\n<p>By adding the es7 polyfill (import \u2018core-js/es7/object\u2019; in polyfills.ts) we are good to go!\u2026 </p>\n\n<p>We do not get any info about the existing polyfill (obviously \ud83d\ude09) is there a way to \u201csolve\u201d that? Perhaps using a extension or some settings/config?</p>\n"}, {"tags": ["typescript", "types", "datadog"], "answers": [{"comments": [{"owner": {"reputation": 48731, "user_id": 329700, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/41910a452554b187d044c00c576866b1?s=128&d=identicon&r=PG", "display_name": "Kevin Burke", "link": "https://stackoverflow.com/users/329700/kevin-burke"}, "edited": false, "score": 0, "creation_date": 1548890503, "post_id": 54449721, "comment_id": 95710627, "body": "thank you! I assume by use of the word &quot;our&quot; that you work for Datadog?"}, {"owner": {"reputation": 251, "user_id": 5477963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e31ff0ffcaddd1ae221acefae4f001c?s=128&d=identicon&r=PG&f=1", "display_name": "rochdev", "link": "https://stackoverflow.com/users/5477963/rochdev"}, "reply_to_user": {"reputation": 48731, "user_id": 329700, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/41910a452554b187d044c00c576866b1?s=128&d=identicon&r=PG", "display_name": "Kevin Burke", "link": "https://stackoverflow.com/users/329700/kevin-burke"}, "edited": false, "score": 0, "creation_date": 1548948148, "post_id": 54449721, "comment_id": 95735649, "body": "Just noticed the upvote, so I&#39;m assuming it worked :)"}], "tags": [], "owner": {"reputation": 251, "user_id": 5477963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e31ff0ffcaddd1ae221acefae4f001c?s=128&d=identicon&r=PG&f=1", "display_name": "rochdev", "link": "https://stackoverflow.com/users/5477963/rochdev"}, "is_accepted": true, "score": 1, "last_activity_date": 1549913527, "last_edit_date": 1549913527, "creation_date": 1548883248, "answer_id": 54449721, "question_id": 54449261, "link": "https://stackoverflow.com/questions/54449261/how-to-import-typescript-definition-that-exports-a-single-variable/54449721#54449721", "title": "How to import Typescript definition that exports a single variable", "body": "<p>The export from the module is actually the tracer itself. Calling <code>tracer.init()</code> simply initializes the tracer and returns itself. This means you don't need to create a new variable.</p>\n\n<p>This should work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as ddTrace from \"dd-trace\";\n\nconst tracer = ddTrace;\ntracer.init();\n\n// continue to use \"tracer\" for example \"tracer.startSpan()\" etc\n</code></pre>\n\n<p>One important thing to note also if you are using any of our integrations is that the initialization should happen in a separate file to avoid hoisting.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// server.ts\n\nimport tracer from \"./tracer\";\nimport * as express from \"express\"; // or any other modules\n\n// tracer.ts\n\nimport * as tracer from \"dd-trace\";\n\ntracer.init();\n\nexport default tracer;\n</code></pre>\n\n<p>This is done to make sure that the tracer is initialized before any instrumented module is imported.</p>\n\n<p>If you are not actually using the tracer in your application entrypoint, simply replace <code>import tracer from \"./tracer\"</code> with <code>import \"./tracer\"</code>.</p>\n"}], "owner": {"reputation": 48731, "user_id": 329700, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/41910a452554b187d044c00c576866b1?s=128&d=identicon&r=PG", "display_name": "Kevin Burke", "link": "https://stackoverflow.com/users/329700/kevin-burke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 54449721, "answer_count": 1, "score": 1, "last_activity_date": 1549913527, "creation_date": 1548881200, "last_edit_date": 1548883285, "question_id": 54449261, "link": "https://stackoverflow.com/questions/54449261/how-to-import-typescript-definition-that-exports-a-single-variable", "title": "How to import Typescript definition that exports a single variable", "body": "<p>The type definition for the \"dd-trace\" library, in \"@types/dd-trace\", exports a single variable.</p>\n\n<pre><code>declare var trace: TraceProxy;\nexport = trace;\n\ndeclare class TraceProxy extends Tracer {\n    /**\n     * Initializes the tracer. This should be called before importing other libraries.\n     */\n    init(options?: TracerOptions): this;\n\n    // A bunch of other irrelevant code.\n}\n</code></pre>\n\n<p>How can I import this in my code? If I incorrectly try assign ddTrace.init() to a boolean, TypeScript tells me the type is 'TraceProxy'. However I have tried every seeming variation:</p>\n\n<pre><code>import { TraceProxy } from \"dd-trace\"\n</code></pre>\n\n<p>fails with <code>node_modules/@types/dd-trace\"' has no exported member 'TraceProxy'.</code></p>\n\n<pre><code>import { init, trace } from \"dd-trace\"\n\nconst tracer: trace = init()\n</code></pre>\n\n<p>The import succeeds there but then the declaration fails: <code>3:15: cannot find name \"trace\"</code></p>\n\n<p>All of these variations fail:</p>\n\n<pre><code>const tracer: trace.trace = init()\nconst tracer: trace.TraceProxy = init()\nconst tracer: trace.Tracer = init()\nconst tracer: TraceProxy = init()\nconst tracer: Tracer = init()\n</code></pre>\n\n<p>Importing the module fails:</p>\n\n<pre><code>import * as ddTrace from \"dd-trace\"\n\nconst tracer: ddTrace = ddTrace.init()\n</code></pre>\n\n<p>with <code>Cannot find name 'ddTrace'.</code> on line 3. </p>\n\n<p>These also failed:</p>\n\n<pre><code>import * as ddTrace from \"dd-trace\"\n\nconst tracer: ddTrace.TraceProxy = ddTrace.init()\n</code></pre>\n\n<p>with <code>Cannot find namespace 'ddTrace'.</code></p>\n\n<p>One suggested answer (since deleted) was:</p>\n\n<pre><code>import trace from \"dd-trace\"\n\nconst tracer: trace = trace.init()\n</code></pre>\n\n<p>This fails with: <code>@types/dd-trace/index\"' has no default export.</code></p>\n\n<p>How can I declare the type definition there? I'm using the latest version of TypeScript and compiling by running <code>./node_modules/.bin/tsc myfile.ts</code>.</p>\n"}, {"tags": ["angular", "typescript", "android-studio", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548883235, "post_id": 54449245, "comment_id": 95708172, "body": "now when I run tns doctor I get &#39;tns&#39; is not recognized as an internal or external command, operable program or batch file."}, {"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548965671, "post_id": 54449245, "comment_id": 95744967, "body": "Yes they are corret"}, {"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548966209, "post_id": 54449245, "comment_id": 95745192, "body": "the path for my SDK in android studio is C:\\Users\\Natasha\\AppData\\Local\\Android\\Sdk I have set this as my ANDROID_HOME"}, {"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1549034174, "post_id": 54449245, "comment_id": 95771500, "body": "I unistalled everything and followed the instructions for preparing the development enviroment added these paths to my environment  file and I dont get the errors anymore"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "reply_to_user": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1549185972, "post_id": 54449245, "comment_id": 95807282, "body": "@user3149979 Nice :)"}], "tags": [], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "is_accepted": true, "score": 2, "last_activity_date": 1548881092, "creation_date": 1548881092, "answer_id": 54449245, "question_id": 54448962, "link": "https://stackoverflow.com/questions/54448962/nativescript-sdk-errors/54449245#54449245", "title": "Nativescript SDK errors", "body": "<p>Open your environment file (in my case <code>.zprofile</code>) and add these:</p>\n\n<pre><code>export PATH=~/Library/Android/sdk/platform-tools:$PATH\nexport ANDROID_HOME=/Users/$USER/Library/Android/sdk\nexport ANDROID_SDK_ROOT=/Users/$USER/Library/Android/sdk\nexport ANDROID_AVD_HOME=/Users/$USER/.android/avd\nexport JAVA_HOME=/Library/Java/\n</code></pre>\n\n<p><strong>Make sure that you set your paths to where they're located on your computer as they may not be the same.</strong></p>\n\n<p>Then run <code>source .zprofile</code>, restart your terminal just in case and then try running <code>tns doctor</code> again. If you have Android Studio open then restart that as well.</p>\n"}], "owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 0, "accepted_answer_id": 54449245, "answer_count": 1, "score": 0, "last_activity_date": 1548881092, "creation_date": 1548879808, "question_id": 54448962, "link": "https://stackoverflow.com/questions/54448962/nativescript-sdk-errors", "title": "Nativescript SDK errors", "body": "<p>I am creating a nativescript app with angular, I am using a json server.\nI have my json server running and when I run 'tns run android' or 'tns doctor' I get these errors.</p>\n\n<p>\u00d7 The ANDROID_HOME environment variable is not set or it points to a non-existent directory. You will not be able to perform any build-related operations for Android.\n To be able to perform Android build-related operations, set the <code>ANDROID_HOME</code> variable to point to the root of your Android SDK installation directory.</p>\n\n<p>\u00d7 WARNING: adb from the Android SDK is not installed or is not configured properly.\n For Android-related operations, the NativeScript CLI will use a built-in version of adb.\nTo avoid possible issues with the native Android emulator, Genymotion or connected\nAndroid devices, verify that you have installed the latest Android SDK and\nits dependencies as described in <a href=\"http://developer.android.com/sdk/index.html#Requirements\" rel=\"nofollow noreferrer\">http://developer.android.com/sdk/index.html#Requirements</a></p>\n\n<p>\u00d7 WARNING: The Android SDK is not installed or is not configured properly.\n You will not be able to run your apps in the native emulator. To be able to run apps\nin the native Android emulator, verify that you have installed the latest Android SDK\nand its dependencies as described in <a href=\"http://developer.android.com/sdk/index.html#Requirements\" rel=\"nofollow noreferrer\">http://developer.android.com/sdk/index.html#Requirements</a></p>\n\n<p>\u00d7 Cannot find a compatible Android SDK for compilation. To be able to build for Android, install Android SDK 28 or later.\n Run <code>$ sdkmanager</code> to manage your Android SDK versions.</p>\n\n<p>\u00d7 You need to have the Android SDK Build-tools installed on your system. You can install any version in the following range: '>=23 &lt;=28'.\n Run <code>$ sdkmanager</code> from your command-line to install required <code>Android Build Tools</code>. In case you already have them installed, make sure <code>ANDROID_HOME</code> environment variable is set correctly.</p>\n\n<p>\u00d7 Error executing command 'javac'. Make sure you have installed The Java Development Kit (JDK) and set JAVA_HOME environment variable.\n You will not be able to build your projects for Android.\nTo be able to build for Android, verify that you have installed The Java Development Kit (JDK) and configured it according to system requirements as\n described in <a href=\"http://docs.nativescript.org/setup/ns-cli-setup/ns-setup-win.html#system-requirements\" rel=\"nofollow noreferrer\">http://docs.nativescript.org/setup/ns-cli-setup/ns-setup-win.html#system-requirements</a></p>\n\n<p>\u00d7 WARNING: The Java Development Kit (JDK) is not installed or is not configured properly.\n You will not be able to work with the Android SDK and you might not be able\nto perform some Android-related operations. To ensure that you can develop and\ntest your apps for Android, verify that you have installed the JDK as\ndescribed in <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html</a> (for JDK 8).</p>\n\n<p>I have installed JDK and android studio, I have installed SDK in android studio.</p>\n"}, {"tags": ["typescript", "overloading"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1548879158, "post_id": 54448763, "comment_id": 95706345, "body": "Try adding some properties so that the two types <code>UserRequest</code> and <code>CompanyRequest</code> are <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#how-do-i-prevent-two-types-from-being-structurally-compatible\" rel=\"nofollow noreferrer\">obviously structurally distinct</a>"}, {"owner": {"reputation": 1077, "user_id": 128021, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/11b6212e55a2d4786658fb6061061c72?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/128021/alan"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1548879637, "post_id": 54448763, "comment_id": 95706554, "body": "Thanks! That was the problem - adding differently-named private instance variables to each class solved the issue. If you&#39;d like to post a full answer, I can mark it as accepted."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1548879851, "creation_date": 1548879851, "answer_id": 54448970, "question_id": 54448763, "link": "https://stackoverflow.com/questions/54448763/typescript-function-overload-based-on-class-type-of-parameter/54448970#54448970", "title": "TypeScript: Function overload based on class type of parameter", "body": "<p>Your problem seems to be that the compiler thought that both <code>UserRequest</code> and <code>CompanyRequest</code> are structurally compatible, meaning they are essentially the same type.  So the first overload is always chosen, and bad things happen.  The easiest way to avoid this is to add a properties to at least one of the types so that the compiler <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#how-do-i-prevent-two-types-from-being-structurally-compatible\" rel=\"nofollow noreferrer\">recognizes they are distinct types</a>.  Here's one possible way:</p>\n\n<pre><code>class UserRequest implements IRequest {\n  getBody() {\n    return { type: 'user', id: 7 };\n  }\n  readonly className = \"UserRequest\"\n}\n\nclass CompanyRequest implements IRequest {\n  getBody() {\n    return { type: 'company', id: 42 };\n  }\n  readonly className = \"CompanyRequest\"\n}\n</code></pre>\n\n<p>In that case the <code>readonly</code> property <code>className</code> gets some literal string values that differ.  Hope that helps. Good luck!</p>\n"}], "owner": {"reputation": 1077, "user_id": 128021, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/11b6212e55a2d4786658fb6061061c72?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/128021/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 54448970, "answer_count": 1, "score": 0, "last_activity_date": 1548879851, "creation_date": 1548878905, "question_id": 54448763, "link": "https://stackoverflow.com/questions/54448763/typescript-function-overload-based-on-class-type-of-parameter", "title": "TypeScript: Function overload based on class type of parameter", "body": "<p>Is it possible to apply overloads of a TypeScript function based on the class type of the parameter?</p>\n\n<p>I realize that the \"classes\" will be compiled down to plain functions in the output, but am hoping to get the type checking to work depending on the input type.</p>\n\n<p>The goal is to create a <code>send()</code> function for server communication that returns a typed response based on the type of request. However, TypeScript appears to be always selecting the first overload regardless of the class type passed in.</p>\n\n<pre><code>interface IRequest {\n  getBody(): object;\n}\n\nclass UserRequest implements IRequest {\n  getBody() {\n    return { type: 'user', id: 7 };\n  }\n}\n\nclass CompanyRequest implements IRequest {\n  getBody() {\n    return { type: 'company', id: 42 };\n  }\n}\n\ninterface IUserResponse {\n  userName: string;\n}\n\ninterface ICompanyResponse {\n  companyName: string;\n}\n\nfunction send(request: UserRequest): Promise&lt;IUserResponse&gt;;\nfunction send(request: CompanyRequest): Promise&lt;ICompanyResponse&gt;;\nasync function send(request: IRequest): Promise&lt;any&gt; {\n  const response = await fetch('https://example.com/service', {\n    body: request.getBody(),\n  });\n  return response.json();\n}\n\nasync function test() {\n\n  // Works\n  const userResponse = await send(new UserRequest());\n  userResponse.userName;\n\n  // Error: [ts] Property 'companyName' does not exist on type 'IUserResponse'. [2339]\n  const companyResponse = await send(new CompanyRequest());\n  companyResponse.companyName;\n\n}\n</code></pre>\n\n<p>Swapping the order of the declared overloads reverses the problem (the return type will always be <code>CompanyRequest</code> instead of <code>UserRequest</code>).</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 0, "creation_date": 1548880166, "post_id": 54448750, "comment_id": 95706781, "body": "The reason I don&#39;t say <code>this.foo[key] = val</code> is to avoid mutations, I don&#39;t actually access the foo property directly it was just for the sake of brevity. I never knew <code>Foo[K]</code> was valid syntax, this is awesome."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1548878854, "creation_date": 1548878854, "answer_id": 54448750, "question_id": 54448482, "link": "https://stackoverflow.com/questions/54448482/typescript-validate-that-value-associated-with-a-key-is-correct-when-using-key/54448750#54448750", "title": "TypeScript - validate that value associated with a key is correct when using keyof", "body": "<p>Yes, you want to use a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#using-type-parameters-in-generic-constraints\" rel=\"nofollow noreferrer\">generic function</a>:</p>\n\n<pre><code> public updateFoo&lt;K extends keyof Foo&gt;(key: K, val: Foo[K]): void {        \n    this.foo = { ...this.foo, [key]: val };\n    // or just this.foo[key] = val;\n  }\n</code></pre>\n\n<p>The <code>key</code> parameter is a generic type <code>K</code> constrained to <code>keyof Foo</code>, and the <code>val</code> parameter is the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a> <code>Foo[K]</code>, meaning \"the type of the property of <code>Foo</code> whose key is of type <code>K</code>\".  This allows you to do the sort of type-safe property getting and setting that you're looking for.</p>\n\n<p>Now if you try the offending code you get an error:</p>\n\n<pre><code>this.updateFoo('description', 10) // error, 10 not assignable to string\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 54448750, "answer_count": 1, "score": 0, "last_activity_date": 1548878854, "creation_date": 1548877874, "question_id": 54448482, "link": "https://stackoverflow.com/questions/54448482/typescript-validate-that-value-associated-with-a-key-is-correct-when-using-key", "title": "TypeScript - validate that value associated with a key is correct when using keyof", "body": "<p>Assuming I have an interface like:</p>\n\n<pre><code>interface Foo {\n  description: string;\n  amount: number;\n}\n</code></pre>\n\n<p>And a function to update Foo like:</p>\n\n<pre><code>public updateFoo(key: keyof Foo, val: string | number): void {\n  this.foo = { ...foo, [key]: val }\n}\n</code></pre>\n\n<p>When I call this function in TypeScript, this is obviously considered valid:</p>\n\n<pre><code>this.updateFoo('description', 10)\n</code></pre>\n\n<p>Is there a way for TypeScript to use the keys that it already knows belong to the target interface and validate the type of the second argument being passed?</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "angular-animations"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1548885911, "post_id": 54449225, "comment_id": 95709191, "body": "Awesome!  Any ideas on why that works the way it does?"}], "tags": [], "owner": {"reputation": 725, "user_id": 3454786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RT4ca.jpg?s=128&g=1", "display_name": "Gregor Albert", "link": "https://stackoverflow.com/users/3454786/gregor-albert"}, "is_accepted": true, "score": 1, "last_activity_date": 1548880998, "creation_date": 1548880998, "answer_id": 54449225, "question_id": 54448477, "link": "https://stackoverflow.com/questions/54448477/animating-the-removal-of-a-dynamic-angular-component/54449225#54449225", "title": "Animating the Removal of a dynamic Angular Component?", "body": "<p>Update your alert.component.ts to this:</p>\n\n<pre><code>import { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { trigger, style, animate, transition } from '@angular/animations';\n\n@Component({\n  selector: \"alert\",\n  template: `\n     &lt;section [@fadeInOut]&gt;\n     &lt;h1 (click)=\"output.next('output')\"&gt;Alert {{type}}&lt;/h1&gt;\n    &lt;section&gt;\n  `,\n  styles: [`\n  :host {\n    display: block;\n    overflow: hidden;\n  }`],\n  animations: [\n    trigger('fadeInOut', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate(5000, style({ opacity: 1 }))\n      ]),\n      transition(':leave', [\n        animate(5000, style({ opacity: 0 }))\n      ])\n    ])\n  ],\n  host: { '[@fadeInOut]': 'in' }\n})\nexport class AlertComponent {\n  @Input() type: string = \"success\";\n  @Output() output = new EventEmitter();\n}\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackblitz.com/edit/angular-animate-dynamically-created-component?file=app%2Fhello.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-animate-dynamically-created-component?file=app%2Fhello.component.ts</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "accepted_answer_id": 54449225, "answer_count": 1, "score": 0, "last_activity_date": 1548880998, "creation_date": 1548877852, "question_id": 54448477, "link": "https://stackoverflow.com/questions/54448477/animating-the-removal-of-a-dynamic-angular-component", "title": "Animating the Removal of a dynamic Angular Component?", "body": "<p><a href=\"https://stackblitz.com/edit/angular-fadeinout?file=app%2Falert.component.ts\" rel=\"nofollow noreferrer\">In this stackblitz demo</a> when we click <code>Create success</code> the components view display is animated (From opacity 0 to opacity 1 over 5 seconds.).</p>\n\n<p>If we clear the container (<code>this.container.clear()</code>) the removal of the element is not animated.  The animations attribute looks like this:</p>\n\n<pre><code>  animations: [\n    trigger('fadeInOut', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate(5000, style({ opacity: 1 }))\n      ]),\n      transition(':leave', [\n        animate(5000, style({ opacity: 0 }))\n      ])\n    ])\n  ],\n</code></pre>\n\n<p>How would we enable the triggering of the <code>leave</code> animation in this case?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 5883716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KSJl1k8-4sI/AAAAAAAAAAI/AAAAAAAAAJg/Fx5J5OlEiO0/photo.jpg?sz=128", "display_name": "Carlos Frias", "link": "https://stackoverflow.com/users/5883716/carlos-frias"}, "is_accepted": false, "score": 0, "last_activity_date": 1548878496, "creation_date": 1548878496, "answer_id": 54448649, "question_id": 54448317, "link": "https://stackoverflow.com/questions/54448317/react-typescript-syntax-dynamically-change-container-component/54448649#54448649", "title": "React + TypeScript Syntax: Dynamically change container component", "body": "<p>The problem with your first example is that you're passing the already rendered component, instead of a reference to it (to be rendered later), the way to fix it is:</p>\n\n<pre><code>// imports ...\n\nfunction Foo(props) {\n  console.log('using foo')\n  return &lt;main&gt;{props.children}&lt;/main&gt;\n}\n\nfunction Baz(props) {\n  console.log('using baz')\n  return &lt;div&gt;{props.children}&lt;/div&gt;\n}\n\nfunction ConditionalComponent(props) {\n  const Container = props.useFoo ? Foo : Baz;\n\n  return (\n    &lt;Container&gt;\n      {props.children}\n    &lt;/Container&gt;\n  )\n}\n\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1812, "user_id": 1982441, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/deF2f.jpg?s=128&g=1", "display_name": "CookieMonster", "link": "https://stackoverflow.com/users/1982441/cookiemonster"}, "edited": false, "score": 0, "creation_date": 1548879408, "post_id": 54448694, "comment_id": 95706463, "body": "That&#39;s neat. But, you are not passing <code>fooProps</code> to the component <code>Foo</code>. Is that still possible with this syntax? In my case, <code>Foo</code> comes from a separate file, and <code>fooProps</code> is dynamically created inside the <code>Demo</code> component."}, {"owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "reply_to_user": {"reputation": 1812, "user_id": 1982441, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/deF2f.jpg?s=128&g=1", "display_name": "CookieMonster", "link": "https://stackoverflow.com/users/1982441/cookiemonster"}, "edited": false, "score": 0, "creation_date": 1548879806, "post_id": 54448694, "comment_id": 95706626, "body": "@CookieMonster No. because you need to pass <code>fooProps</code> to an instance. You can pass the <code>fooProps</code> in <code>Container</code> but that&#39;d clutter if <code>useFoo</code> is false.  Then you are stuck with the 2nd &quot;verbose and ugly&quot; version..."}], "tags": [], "owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "is_accepted": true, "score": 3, "last_activity_date": 1548879021, "last_edit_date": 1548879021, "creation_date": 1548878638, "answer_id": 54448694, "question_id": 54448317, "link": "https://stackoverflow.com/questions/54448317/react-typescript-syntax-dynamically-change-container-component/54448694#54448694", "title": "React + TypeScript Syntax: Dynamically change container component", "body": "\n\n<p>\u26a0 <em>Note that I am just getting started with \"TypeScript\" (using React).</em></p>\n\n<p>It seems like you are assigning an rendered Component instance to <code>Container</code> instead of specifying what the shape (class) of container should be.</p>\n\n<p>So you need to pass the class or the intrinsic string, <code>\"div\"</code> and set the container as <code>React.ReactType</code> (which can be a class, functional component or intrinsic ones like <code>div</code>, <code>p</code>, <code>span</code>, etc).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function Demo(props: DemoProps) {\n  const Container: React.ReactType = props.useFoo ? Foo : \"div\";\n\n  return (\n    &lt;Container&gt;\n      &lt;div&gt;{props.children}&lt;/div&gt;\n    &lt;/Container&gt;\n  );\n}\n</code></pre>\n\n<p>You can check the demo on Sandbox.</p>\n\n<p><a href=\"https://codesandbox.io/s/rl6wolkynn\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit so.answer.54448317\"></a></p>\n\n<hr>\n\n<p>Full source in case Sandbox link fails to work.</p>\n\n<h3>Code</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from \"react\";\nimport { render } from \"react-dom\";\n\nimport \"./styles.css\";\n\ninterface DemoProps {\n  useFoo?: boolean;\n  children: string | JSX.Element | JSX.Element[];\n}\n\nconst Foo = () =&gt; &lt;div&gt;Foo&lt;/div&gt;;\n\nfunction Demo(props: DemoProps) {\n  const Container: React.ReactType = props.useFoo ? Foo : \"div\";\n\n  return (\n    &lt;Container&gt;\n      &lt;div&gt;{props.children}&lt;/div&gt;\n    &lt;/Container&gt;\n  );\n}\n\nfunction App() {\n  return (\n    &lt;div&gt;\n      &lt;Demo useFoo&gt;This is a demo App&lt;/Demo&gt;\n      &lt;Demo&gt;This is a demo App&lt;/Demo&gt;\n    &lt;/div&gt;\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nrender(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<h3>Result</h3>\n\n<p><a href=\"https://i.stack.imgur.com/MGCO3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGCO3.png\" alt=\"demo result\"></a></p>\n\n<p>\u261d You can see the when <code>useFoo</code> was used, container overwrote the children content.</p>\n"}], "owner": {"reputation": 1812, "user_id": 1982441, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/deF2f.jpg?s=128&g=1", "display_name": "CookieMonster", "link": "https://stackoverflow.com/users/1982441/cookiemonster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1685, "favorite_count": 0, "accepted_answer_id": 54448694, "answer_count": 2, "score": 3, "last_activity_date": 1548880335, "creation_date": 1548877273, "last_edit_date": 1548880335, "question_id": 54448317, "link": "https://stackoverflow.com/questions/54448317/react-typescript-syntax-dynamically-change-container-component", "title": "React + TypeScript Syntax: Dynamically change container component", "body": "<p>Is there a clean way to write this kind of syntax below in React+TypeScript? When I do this, I get the following error.</p>\n\n<pre><code>JSX element type 'Container' does not have any construct or call signatures.\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>const Container = this.props.useFoo ? &lt;Foo {...fooProps}&gt;&lt;/Foo&gt; : &lt;div&gt;&lt;/div&gt;;\n\nreturn (\n        &lt;Container&gt;\n            &lt;div {...someAttrs}&gt;\n                {this.props.children}\n            &lt;/div&gt;\n        &lt;/Container&gt;\n);\n</code></pre>\n\n<p>I know I can define the container tag dynamically with a string, i.e. <code>Tag = \"div\"</code>, and use <code>&lt;Tag&gt;...&lt;/Tag&gt;</code>, but this doesn't seem to work for components. The only way I can do this is to save the child content to a variable, and do the following which I found it verbose and ugly.</p>\n\n<pre><code>const content = &lt;div {...someAttrs}&gt;{this.props.children}&lt;/div&gt;;\n\nreturn (\n    &lt;&gt;\n        {this.props.useFoo ? &lt;Foo {...fooProps}&gt;{content}&lt;/Foo&gt; : &lt;div&gt;{content}&lt;/div&gt;}\n    &lt;/&gt;\n);\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I decided to go with this syntax:</p>\n\n<pre><code>const container = (content) =&gt; {\n    return this.props.useFoo ? &lt;Foo {...fooProps}&gt;{content}&lt;/Foo&gt; : &lt;div&gt;{content}&lt;/div&gt;;\n};\n\nreturn container(\n    &lt;div {...someAttrs}&gt;\n        {this.props.children}\n    &lt;/div&gt;\n);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "npm", "drop-down-menu"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 10851332, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gsnd7rvCiog/AAAAAAAAAAI/AAAAAAAAJjc/uWFPbUYpmO0/photo.jpg?sz=128", "display_name": "MahanteshGowda Patil", "link": "https://stackoverflow.com/users/10851332/mahanteshgowda-patil"}, "is_accepted": true, "score": 1, "last_activity_date": 1548876082, "creation_date": 1548876082, "answer_id": 54448042, "question_id": 54447794, "link": "https://stackoverflow.com/questions/54447794/angular-4-animated-dropdown-menu/54448042#54448042", "title": "Angular 4 animated dropdown menu", "body": "<p>You can achieve the above task using primeng library.\nyou can get more information on this link.</p>\n\n<p>[[1]: <a href=\"https://www.primefaces.org/primeng/#/dropdown][1]\" rel=\"nofollow noreferrer\">https://www.primefaces.org/primeng/#/dropdown][1]</a></p>\n\n<p>you have to override the primeng css. using ng:deep</p>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 54448042, "answer_count": 1, "score": -2, "last_activity_date": 1548876230, "creation_date": 1548874993, "last_edit_date": 1548876230, "question_id": 54447794, "link": "https://stackoverflow.com/questions/54447794/angular-4-animated-dropdown-menu", "title": "Angular 4 animated dropdown menu", "body": "<p>I saw this in web.whatsapp.com</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZnhtR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnhtR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any packages in angular? to achieve the exact look of the drop down menu?</p>\n\n<p>If is not. \u00bfHow can I do it with css?</p>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "is_accepted": true, "score": 4, "last_activity_date": 1548881224, "creation_date": 1548881224, "answer_id": 54449266, "question_id": 54447750, "link": "https://stackoverflow.com/questions/54447750/how-to-easily-get-ts-type-of-react-native-element-prop/54449266#54449266", "title": "How to easily get ts type of react-native element prop?", "body": "<p>You need to use the type definition, not the class itself. Assuming you have installed <code>@types/react-native</code>:</p>\n\n<pre><code>import { TouchableWithoutFeedbackProps } from 'react-native'\n\ninterface Props {\n  onPress: TouchableWithoutFeedbackProps[\"onPress\"] // &lt;-- must be bracket notation\n}\n</code></pre>\n\n<p>I think all of their component prop definitions follow the same naming pattern, so <code>View</code> would be <code>ViewProps</code>, <code>Text</code> would be <code>TextProps</code> etc</p>\n\n<p>Bracket notation is because dot notation is only valid on namespaces in ts</p>\n"}], "owner": {"reputation": 35300, "user_id": 911930, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/HtpZB.jpg?s=128&g=1", "display_name": "Ilja", "link": "https://stackoverflow.com/users/911930/ilja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 1, "accepted_answer_id": 54449266, "answer_count": 1, "score": 3, "last_activity_date": 1548881224, "creation_date": 1548874831, "question_id": 54447750, "link": "https://stackoverflow.com/questions/54447750/how-to-easily-get-ts-type-of-react-native-element-prop", "title": "How to easily get ts type of react-native element prop?", "body": "<p>I found myself doing following a lot lately</p>\n\n<pre><code>// MyButton.tsx\nimport { TouchableWithoutFeedback } from \"react-native\"\n\ninterface Props {\n onPress: () =&gt; void\n}\n\n//...\n\n&lt;TouchableWithoutFeedback onPress={this.props.onPress} /&gt;\n</code></pre>\n\n<p>Essentially I am making my own \"wrapper\" components around react native ones and these wrapper components usually take similar props as react native components they wrap. I have to always re-type these props.</p>\n\n<p>I don't want to extend all props of native component, rather expose some very specific ones. It would be awesome to do something like this</p>\n\n<pre><code>interface Props = {\n  onPress: TouchableWithoutFeedback.onPress\n}\n</code></pre>\n\n<p>Which unfortunately doesn't work, but something like this would help a lot with prop safety as I don't define my own type.</p>\n\n<p>Is this achievable somehow?</p>\n"}, {"tags": ["javascript", "typescript", "inheritance", "static-methods"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 2796699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac1d8e47403cfa9140920a651b46603?s=128&d=identicon&r=PG&f=1", "display_name": "Randelung", "link": "https://stackoverflow.com/users/2796699/randelung"}, "edited": false, "score": 0, "creation_date": 1548873861, "post_id": 54447198, "comment_id": 95703860, "body": "Oh, so close. Thanks!"}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 2, "last_activity_date": 1548872867, "creation_date": 1548872867, "answer_id": 54447198, "question_id": 54447152, "link": "https://stackoverflow.com/questions/54447152/is-it-possible-to-generically-instantiate-a-js-class-type-from-an-inherited-fact/54447198#54447198", "title": "Is it possible to generically instantiate a JS class type from an inherited factory method?", "body": "<p>As you seem to have realised, the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow noreferrer\"><code>this</code> keyword</a> would refer to the constructor (= the (sub)class) inside the static method<sup>1</sup>. So you can just call that with <code>new</code>:</p>\n\n<pre><code>class Message {\n    static fromBytes(bytes) {\n        someChecks();\n        return new this(processedBytes);\n//             ^^^^^^^^\n    }\n    constructor(someParameters) {\n        // \u2026\n    }\n}\n</code></pre>\n\n<p><sub>1: As long as it is called as a method on the respective class. You can no longer easily pass it around <a href=\"https://stackoverflow.com/q/20279484/1048572\">as a callback</a>.</sub></p>\n"}], "owner": {"reputation": 103, "user_id": 2796699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac1d8e47403cfa9140920a651b46603?s=128&d=identicon&r=PG&f=1", "display_name": "Randelung", "link": "https://stackoverflow.com/users/2796699/randelung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1548874176, "accepted_answer_id": 54447198, "answer_count": 1, "score": 2, "last_activity_date": 1548873215, "creation_date": 1548872677, "last_edit_date": 1548873215, "question_id": 54447152, "link": "https://stackoverflow.com/questions/54447152/is-it-possible-to-generically-instantiate-a-js-class-type-from-an-inherited-fact", "closed_reason": "Duplicate", "title": "Is it possible to generically instantiate a JS class type from an inherited factory method?", "body": "<p>So I've been googling this for a few hours now and I can't really decide whether it's possible or not. I don't understand JS inheritance well enough to find a solution. I'm working in TypeScript, but I think this is a JavaScript issue. Platform is Node.js.</p>\n\n<p>My setup is the following:</p>\n\n<pre><code>class Message {\n    static fromBytes(bytes) {\n        someChecks();\n        return new Message(processedBytes);\n    }\n    constructor(someParameters) {\n        someOtherChecks();\n    }\n}\n\nclass SpecificMessage extends Message {\n    constructor(parameters) {\n        someSpecificChecks(parameters);\n    }\n}\n</code></pre>\n\n<p>The background is that I get some bytes network traffic and have to check consistency before decoding it. The classes are also used to prepare new outgoing bytes (there's a <code>toBytes</code> method), which is why checksum consistency is checked in <code>fromBytes</code> and logical consistency is checked in the constructor.</p>\n\n<p>What I'd like to have is an inheritable factory method that will return the respective object type. Calling <code>SpecificMessage.fromBytes</code> will return a <code>Message</code> object since it's explicitly named. I'd like to replace that object creation with something that \"knows\" whether I'm calling from <code>Message</code> or <code>SpecificMessage</code>. My best guess in that direction is something along the lines of <code>Object.create(this.prototype, {someInitLiteral})</code>, but I think this doesn't call the constructor?</p>\n\n<p>Another thing that came up was <code>Object.call(this, parameters)</code>, but I don't think that's correct either. Is there a way to instantiate the current class from the \"generic\" static method?</p>\n\n<p>Worst case I was thinking about just calling <code>super.fromBytes</code> and create a new <code>SpecificMessage</code> from the contained data. That would construct two objects but go through all the checks.</p>\n\n<p>Thank your for your help.</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1548872229, "post_id": 54446948, "comment_id": 95703037, "body": "You will probably need a type assertion <code>...param as P</code>, typescript is very limited in what it can do with conditional types that still contain unresolved type parameters.."}, {"owner": {"reputation": 118, "user_id": 1394568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33942491d2dc4800ea1334c7b1dc792c?s=128&d=identicon&r=PG", "display_name": "oldlol", "link": "https://stackoverflow.com/users/1394568/oldlol"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1548874016, "post_id": 54446948, "comment_id": 95703941, "body": "Thank you, managed to make it pass by adding <code>return {...} as unknown as P</code>. This is quite ugly, let&#39;s see if someone has a better solution."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1548874431, "post_id": 54446948, "comment_id": 95704135, "body": "Pretty sure this is unsolvable at present, but we&#39;ll see :)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1548875063, "post_id": 54446948, "comment_id": 95704475, "body": "This is a weird signature... there&#39;s no way to infer <code>P</code> from <code>param</code> and the value you have for <code>R</code> is just a default.  If I wanted something that behaved rationally I&#39;d give the signature as something like <code>test&lt;R&gt;(param: R): Omit&lt;R, &#39;name&#39;&gt; &amp; {name: string}</code> (with <code>Omit&lt;T,K&gt;</code> redefined so that <code>K</code> is constrained only to <code>keyof any</code> instead of <code>keyof T</code>).  That wouldn&#39;t require any type assertions, but I don&#39;t know if that&#39;s what you want."}], "owner": {"reputation": 118, "user_id": 1394568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33942491d2dc4800ea1334c7b1dc792c?s=128&d=identicon&r=PG", "display_name": "oldlol", "link": "https://stackoverflow.com/users/1394568/oldlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548871772, "creation_date": 1548871772, "question_id": 54446948, "link": "https://stackoverflow.com/questions/54446948/how-can-i-implement-o-omitt-keyof-k-so-that-o-k-is-compatible-with-t", "title": "How can I implement O = Omit&lt;T, keyof K&gt; so that O &amp; K is compatible with T", "body": "<p>The following snippet doesn't validate:</p>\n\n<pre><code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\n\nfunction test&lt;P extends { name: string }, R = Omit&lt;P, 'name'&gt;&gt;(\n    param: R,\n): P {\n    return {\n        ...param,\n        name: 'test'\n    };\n}\n</code></pre>\n\n<p>It produces the following error:</p>\n\n<blockquote>\n  <p>type 'R &amp; { name: string; }' is not assignable to type 'P'</p>\n</blockquote>\n\n<p>Is there a way to achieve this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1548871068, "post_id": 54446647, "comment_id": 95702461, "body": "I think this is basically the same question as this : <a href=\"https://stackoverflow.com/questions/49189557/implementing-large-interface/49189666#49189666\" title=\"implementing large interface\">stackoverflow.com/questions/49189557/&hellip;</a> Agreed ?"}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1548872388, "post_id": 54446647, "comment_id": 95703094, "body": "redundancy is a good thing as it allows typescript to check consistency in interface and class, right?"}], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 0, "last_activity_date": 1548872247, "creation_date": 1548872247, "answer_id": 54447040, "question_id": 54446647, "link": "https://stackoverflow.com/questions/54446647/create-class-from-interface-without-redundancy/54447040#54447040", "title": "Create class from interface without redundancy", "body": "<p>For non-generic interface, you can create reusable function that creates a class and calls <code>Object.assign()</code> in the constructor</p>\n\n<pre><code>export interface PropertiesConstructor&lt;Properties&gt; {\n    new(p: Properties): Properties;\n}\n\nexport function Implementation&lt;Properties&gt;(): PropertiesConstructor&lt;Properties&gt; {\n    return class {\n        constructor(p: Properties) {\n            Object.assign(this, p);\n        }\n    } as PropertiesConstructor&lt;Properties&gt;\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>interface _Notes {\n  date: Date;\n}\n\nclass Notes extends Implementation&lt;_Notes&gt;() {\n    constructor(n: _Notes) {\n        super(n);\n    }\n}\n</code></pre>\n\n<p>You still have to declare a constructor and don't forget to pass constructor argument to <code>super()</code>, so it does not eliminate the redundancy completely, but I think it's useful.</p>\n\n<p>But if your interface is generic, there's a problem:</p>\n\n<pre><code>interface _Data&lt;ItemType&gt; {\n  item: ItemType;\n}\n\nclass Data&lt;ItemType&gt; extends Implementation&lt;_Data&lt;ItemType&gt;&gt;() {\n\n// error: Base class expressions cannot reference class type parameters.\n</code></pre>\n\n<p>To avoid this error, you can pass <code>any</code> as type parameter for the interface, and redeclare all properties which depend on type parameter in the class:</p>\n\n<pre><code>interface _Data&lt;ItemType&gt; {\n    item: ItemType;\n    timestamp: Date;\n}\n\nclass Data&lt;ItemType&gt; extends Implementation&lt;_Data&lt;any&gt;&gt;() {\n\n    item: ItemType;\n\n    constructor(n: _Data&lt;ItemType&gt;) {\n        super(n);\n        this.timestamp = new Date();\n    }\n}\n</code></pre>\n\n<p>Again, not much better than the Titian's answer for <a href=\"https://stackoverflow.com/questions/49189557/implementing-large-interface/49189666#49189666\">the linked question</a>, but still you did not have to redeclare <code>timestamp</code> in this example.</p>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548872247, "creation_date": 1548870741, "question_id": 54446647, "link": "https://stackoverflow.com/questions/54446647/create-class-from-interface-without-redundancy", "title": "Create class from interface without redundancy", "body": "<p>I am looking to take an interface and create a <em>thin</em> class wrapper for that interface without all the duplication of properties in the constructor and in the class.</p>\n\n<pre><code>interface _Notes {\n  date: Date;\n}\n\nclass Notes implements _Notes{\n  date: Date;\n  constructor (n: _Notes) {\n    this.date = n.date;\n  }\n}\n</code></pre>\n\n<p>What I want is something simpler like this:</p>\n\n<pre><code>class Notes implements _Notes{\n  constructor (n: _Notes) {\n    Object.assign(this, n)\n  }\n}\n</code></pre>\n\n<p>or simply:</p>\n\n<pre><code>class Notes implements _Notes {}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1548870652, "post_id": 54446578, "comment_id": 95702253, "body": "Apparently the <code>devices.forEach</code> is <b>not</b> the standard <code>Array.prototype.forEach</code>. What does <code>devicesRef.get</code> return?"}, {"owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1548870928, "post_id": 54446578, "comment_id": 95702402, "body": "@jonrsharpe it returns a list of objects"}], "answers": [{"comments": [{"owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "edited": false, "score": 0, "creation_date": 1548871213, "post_id": 54446754, "comment_id": 95702517, "body": "Thank you for answering. In this implementation will <code>array</code> actually return an array? As my objective is to know when I&#39;m at the end of the loop using <code>if (idx === array.length - 1) {</code>"}, {"owner": {"reputation": 619, "user_id": 3178936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74981fcdb4dfa0227362d3637c975163?s=128&d=identicon&r=PG&f=1", "display_name": "dabishan", "link": "https://stackoverflow.com/users/3178936/dabishan"}, "reply_to_user": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "edited": false, "score": 0, "creation_date": 1548871976, "post_id": 54446754, "comment_id": 95702907, "body": "if you need index, you can still do your way, but remove async at forEach and do it later inside the function. I have updated the answer."}, {"owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "edited": false, "score": 0, "creation_date": 1548872508, "post_id": 54446754, "comment_id": 95703141, "body": "I still get the same error :( <code>Argument of type &#39;(result: any, idx: any, array: any) =&gt; void&#39; is not assignable to parameter of type &#39;(result: QueryDocumentSnapshot) =&gt; void&#39;.</code>"}, {"owner": {"reputation": 619, "user_id": 3178936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74981fcdb4dfa0227362d3637c975163?s=128&d=identicon&r=PG&f=1", "display_name": "dabishan", "link": "https://stackoverflow.com/users/3178936/dabishan"}, "reply_to_user": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "edited": false, "score": 0, "creation_date": 1548872899, "post_id": 54446754, "comment_id": 95703317, "body": "Looks like, you are getting QueryDocumentSnapshot not a list or array. So, you will have to convert it to a list. See this <a href=\"https://stackoverflow.com/questions/50035752/how-to-get-list-of-documents-from-a-collection-in-firestore-android\">answer</a>"}, {"owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "edited": false, "score": 0, "creation_date": 1548873455, "post_id": 54446754, "comment_id": 95703614, "body": "Thank you. I actually realized I can do <code>devices.size</code> and just keep a counter in the loop :)"}, {"owner": {"reputation": 619, "user_id": 3178936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74981fcdb4dfa0227362d3637c975163?s=128&d=identicon&r=PG&f=1", "display_name": "dabishan", "link": "https://stackoverflow.com/users/3178936/dabishan"}, "reply_to_user": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "edited": false, "score": 0, "creation_date": 1548873640, "post_id": 54446754, "comment_id": 95703725, "body": "You can do that too! I still edited my answer for when you need a list out."}], "tags": [], "owner": {"reputation": 619, "user_id": 3178936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74981fcdb4dfa0227362d3637c975163?s=128&d=identicon&r=PG&f=1", "display_name": "dabishan", "link": "https://stackoverflow.com/users/3178936/dabishan"}, "is_accepted": true, "score": 1, "last_activity_date": 1548875483, "last_edit_date": 1548875483, "creation_date": 1548871055, "answer_id": 54446754, "question_id": 54446578, "link": "https://stackoverflow.com/questions/54446578/argument-type-is-not-assignable-to-parameter-of-type/54446754#54446754", "title": "Argument type is not assignable to parameter of type", "body": "<p>Assuming <code>devices</code> is an array of objects, I don't think you can assign your function there as the function only expects one argument which will get individual device. Try: </p>\n\n<pre><code>  const db = admin.firestore()\n  const devicesRef = db.collection('devices')\n  const result = await devicesRef.get();\n\n  // adds all results to devices list\n  List&lt;any&gt; devices = [];\n  for (QueryDocumentSnapshot device : result.getResult()) {\n    devices.add(device);\n  }\n\n  devices.forEach((device idx, array) =&gt; {\n    if (idx === array.length -1) {\n       // Do specific task\n    }\n    // some async function\n    async (someOtherFunction) =&gt; {\n       // do something with individual device\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2188, "favorite_count": 0, "accepted_answer_id": 54446754, "answer_count": 1, "score": 0, "last_activity_date": 1548875483, "creation_date": 1548870489, "last_edit_date": 1548874142, "question_id": 54446578, "link": "https://stackoverflow.com/questions/54446578/argument-type-is-not-assignable-to-parameter-of-type", "title": "Argument type is not assignable to parameter of type", "body": "<p>I'm trying to loop through an object by doing: </p>\n\n<pre><code>  const db = admin.firestore()\n  const devicesRef = db.collection('devices')\n  const devices = await devicesRef.get();\n  devices.forEach(async (result, idx, array) =&gt; {\n\n  });\n</code></pre>\n\n<p>But I get an error: </p>\n\n<blockquote>\n  <p>Argument of type '(result: any, idx: any, array: any) => Promise' is not assignable to parameter of type '(result: QueryDocumentSnapshot) => void'.</p>\n</blockquote>\n\n<p>Which I don't really understand. If I get rid of <code>idx, array</code> the script works perfectly, but I want to know when the last loop is being performed, which is why I add <code>idx, array</code>... </p>\n\n<p>Any ideas what the error messages might mean? </p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "reply_to_user": {"reputation": 85, "user_id": 3301677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf3ba1f71d94ca129611ffbe5dcbe78?s=128&d=identicon&r=PG&f=1", "display_name": "lsilva", "link": "https://stackoverflow.com/users/3301677/lsilva"}, "edited": false, "score": 1, "creation_date": 1548872151, "post_id": 54446605, "comment_id": 95702992, "body": "You are welcome. By the way, your IDE should be able to tell you the error as you are using TypeScript."}, {"owner": {"reputation": 85, "user_id": 3301677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf3ba1f71d94ca129611ffbe5dcbe78?s=128&d=identicon&r=PG&f=1", "display_name": "lsilva", "link": "https://stackoverflow.com/users/3301677/lsilva"}, "edited": false, "score": 0, "creation_date": 1548873284, "post_id": 54446605, "comment_id": 95703530, "body": "I will check into that. Thanks for the advice"}], "tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": true, "score": 2, "last_activity_date": 1548870579, "creation_date": 1548870579, "answer_id": 54446605, "question_id": 54446505, "link": "https://stackoverflow.com/questions/54446505/property-does-not-exist-on-type-string-iterate-in-nested-json-objects/54446605#54446605", "title": "Property does not exist on type &#39;string&#39; - iterate in nested Json objects", "body": "<p>You need to access the object:</p>\n\n<pre><code>for (var key in this.obj) {\n  goodArray.push(this.obj[key].good);\n  notgoodArray.push(this.obj[key].not_good);\n  fruitArray.push(key);\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3301677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf3ba1f71d94ca129611ffbe5dcbe78?s=128&d=identicon&r=PG&f=1", "display_name": "lsilva", "link": "https://stackoverflow.com/users/3301677/lsilva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 54446605, "answer_count": 1, "score": 0, "last_activity_date": 1548870579, "creation_date": 1548870256, "question_id": 54446505, "link": "https://stackoverflow.com/questions/54446505/property-does-not-exist-on-type-string-iterate-in-nested-json-objects", "title": "Property does not exist on type &#39;string&#39; - iterate in nested Json objects", "body": "<p>I need to iterate over these nested objects and store the outer objet key and the inner nested object values in arrays so I can show them in chart.js group bar chart.</p>\n\n<pre><code>let goodArray = [];\nlet notgoodArray = [];\nlet fruitsArray =[];\n\nconst obj = {\n \"oranges\": {\n    \"good\": 1,\n    \"not_good\": 0\n },\n \"apples\": {\n     \"good\": 1,\n     \"not_good\": 0\n },\n \"grapes\": {\n     \"good\": 2,\n     \"not_good\": 0\n }\n}\n</code></pre>\n\n<p>I have found a way to store the outer object key value like this</p>\n\n<pre><code>for (var key in this.obj) {\n  fruitArray.push(key);\n}\n</code></pre>\n\n<p>Which returns the fruit array like this</p>\n\n<pre><code>['oranges', 'apples', 'grapes']\n</code></pre>\n\n<p>But I can't access the fruits objets properties and add inside this loop something like </p>\n\n<pre><code>for (var key in this.obj) {\n  goodArray.push(key.good);\n  notgoodArray.push(key.not_good);\n  fruitArray.push(keyname);\n}\n</code></pre>\n\n<p>It returns me an error saying </p>\n\n<pre><code>\"Property 'good' does not exist on type 'string'\"\n</code></pre>\n\n<p>I need an array for the 'good' to be like</p>\n\n<pre><code>[1,1,2]\n</code></pre>\n\n<p>and the 'not_good' to be like </p>\n\n<pre><code>[0,0,0]\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "interface", "react-component"], "answers": [{"comments": [{"owner": {"reputation": 372, "user_id": 4183412, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9d39ceaaceef2c32cecc277003883a76?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeAgainst", "link": "https://stackoverflow.com/users/4183412/strikeagainst"}, "edited": false, "score": 0, "creation_date": 1548954136, "post_id": 54446591, "comment_id": 95739293, "body": "Close one, it didn&#39;t quite work until I added the generic types like this: <code>component: React.ReactElement&lt;{}, any&gt;</code>. Thank you :)"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1548870526, "creation_date": 1548870526, "answer_id": 54446591, "question_id": 54446434, "link": "https://stackoverflow.com/questions/54446434/how-to-define-an-instantiated-react-component-in-a-typescript-interface/54446591#54446591", "title": "How to define an instantiated React component in a Typescript interface?", "body": "<p><code>ExampleModal</code> is React <em>component</em>, <code>&lt;ExampleModal ... /&gt;</code> is React <em>element</em>.</p>\n\n<p>Considering that <code>buildModal</code> should accept an element, it should be:</p>\n\n<pre><code>interface ModalContents {\n    component: React.ReactElement,\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 372, "user_id": 4183412, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9d39ceaaceef2c32cecc277003883a76?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeAgainst", "link": "https://stackoverflow.com/users/4183412/strikeagainst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 54446591, "answer_count": 1, "score": 1, "last_activity_date": 1548870526, "creation_date": 1548869964, "question_id": 54446434, "link": "https://stackoverflow.com/questions/54446434/how-to-define-an-instantiated-react-component-in-a-typescript-interface", "title": "How to define an instantiated React component in a Typescript interface?", "body": "<p>First of, I'm new to both React JS and Typescript. But basically I have a function which takes an object by interface:</p>\n\n<pre><code>interface ModalContents {\n    component: React.Component,\n    ...\n}\n\nexport default function buildModal(contents : ModalContents){\n    ...\n    render() {\n       return (\n           &lt;Modal&gt;\n               &lt;ModalHeader&gt;\n                   ...\n               &lt;/ModalHeader&gt;\n               &lt;ModalBody&gt;{contents.component}&lt;/ModalBody&gt;\n               &lt;ModalFooter&gt;\n                   ...\n               &lt;/ModalFooter&gt;\n           &lt;/Modal&gt;\n       );\n    }\n    ...\n}\n</code></pre>\n\n<p>The interface is among others expecting an instantiated component which is to be inserted inside the <code>render</code> method. Now I'm using the function like this:</p>\n\n<pre><code>class ExampleModal extends React.Component&lt;Props, State&gt; {\n    constructor(props) {\n        super(props);\n        ...\n    }\n  render() {\n    return (\n        &lt;Container id=\"example-modal\"&gt;\n            ...\n        &lt;/Container&gt;\n    );\n  }\n}\n\nexport default buildModal({component: &lt;ExampleModal ... /&gt;, ...});\n</code></pre>\n\n<p>But for the component part of the object I pass to <code>buildModal</code> I am getting this error by VSC:</p>\n\n<pre><code>Type 'Element' is not assignable to type 'Component&lt;{}, {}, any&gt;'.\n</code></pre>\n\n<p>My goal is to get a rendered result like this:</p>\n\n<p><code>&lt;Modal&gt;\n       &lt;ModalHeader&gt;\n           ...\n       &lt;/ModalHeader&gt;\n       &lt;ModalBody&gt;\n            &lt;Container id=\"example-modal\"&gt;\n                ...\n            &lt;/Container&gt;&lt;/ModalBody&gt;\n       &lt;ModalFooter&gt;\n           ...\n       &lt;/ModalFooter&gt;\n   &lt;/Modal&gt;</code></p>\n\n<p>I'm aware that I could just pass the <code>ComponentClass</code> for <code>ExampleModal</code> instead and instantiate it inside <code>buildModal</code>, but I think this would make it unnecessarily cumbersome to pass the Props and States to the component.</p>\n\n<p>So how can I do this? What is the right class to use inside of the interface? Is it even possible, or did I get something wrong about the concept here?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "edited": false, "score": 0, "creation_date": 1548870348, "post_id": 54446418, "comment_id": 95702080, "body": "you want to create custom validator for password?"}, {"owner": {"reputation": 173, "user_id": 10985103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b55a686f07ef2b18d07ba0213c4341?s=128&d=identicon&r=PG&f=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/10985103/prasanth"}, "reply_to_user": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "edited": false, "score": 0, "creation_date": 1548870557, "post_id": 54446418, "comment_id": 95702204, "body": "i have created a validator named matchingValidator and i want to append that validator to the list of  passwordStrengthValidator and blacklistedPasswordValidator , but in the ngOnInit method because i fetch some object and pass it to my matchingValidator ."}, {"owner": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "edited": false, "score": 0, "creation_date": 1548870835, "post_id": 54446418, "comment_id": 95702361, "body": "i can&#39;t getting your point can you add some code what you trying?"}, {"owner": {"reputation": 3741, "user_id": 1110291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e45efe2a63f712bb6f639dd193faf808?s=128&d=identicon&r=PG", "display_name": "rickz", "link": "https://stackoverflow.com/users/1110291/rickz"}, "edited": false, "score": 0, "creation_date": 1548871363, "post_id": 54446418, "comment_id": 95702608, "body": "I think you might be able to use the setValidators method. Something like  this.yourFormGroup.setValidators(matchingValidator);"}, {"owner": {"reputation": 173, "user_id": 10985103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b55a686f07ef2b18d07ba0213c4341?s=128&d=identicon&r=PG&f=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/10985103/prasanth"}, "edited": false, "score": 0, "creation_date": 1548874437, "post_id": 54446418, "comment_id": 95704139, "body": "what i was trying to achieve was adding new validators in the ngonit method with out loosing previous validators added to the form in the constructor method. thank you"}], "answers": [{"tags": [], "owner": {"reputation": 2231, "user_id": 10971586, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GeoaM3oMpV0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNhuZtXFdH67BduprAwgTvEvfTwEw/mo/photo.jpg?sz=128", "display_name": "Amir Arbabian", "link": "https://stackoverflow.com/users/10971586/amir-arbabian"}, "is_accepted": true, "score": 0, "last_activity_date": 1548870819, "creation_date": 1548870819, "answer_id": 54446671, "question_id": 54446418, "link": "https://stackoverflow.com/questions/54446418/how-to-add-additional-validators-in-ngoninit-method/54446671#54446671", "title": "How to add additional validators in ngOnInit method?", "body": "<p>So, you can append new validator like that:</p>\n\n<pre><code>ngOnInit() {\n  this.formGroup.setValidators(Validators.compose([this.formGroup.validator, matchingValidator('password', 'confirmPassword')]));\n}\n</code></pre>\n\n<p>You need to pass all existing validators here because <strong>setValidators</strong> clears all existing validators and then adds what you pass. Hope that helps.</p>\n"}], "owner": {"reputation": 173, "user_id": 10985103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b55a686f07ef2b18d07ba0213c4341?s=128&d=identicon&r=PG&f=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/10985103/prasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 1, "accepted_answer_id": 54446671, "answer_count": 1, "score": -1, "last_activity_date": 1548870819, "creation_date": 1548869875, "last_edit_date": 1548869937, "question_id": 54446418, "link": "https://stackoverflow.com/questions/54446418/how-to-add-additional-validators-in-ngoninit-method", "title": "How to add additional validators in ngOnInit method?", "body": "<p>I have an angular component i am adding some validators to the form in the constructor. However i want to add additional validators in my ngOnit method . how can i achieve this ?</p>\n\n<pre><code>   export class ResetPasswordComponent implements OnInit {\n      constructor(\n        private fb: FormBuilder,\n        private route: ActivatedRoute,\n        private forgotPasswordService: ForgotPasswordService,\n        private configService: ConfigService,\n        private usersService: UsersService\n      ) {\n        this.blacklistedPasswords = this.configService.config.blacklistedPasswords;\n\n        this.formGroup = this.fb.group(\n          {\n            password: ['', [Validators.required, Validators.minLength(8)]],\n            confirmPassword: ['', [Validators.required, Validators.minLength(8)]]\n          },\n          {\n            validator: Validators.compose([\n              passwordStrengthValidator('password', 'confirmPassword'),\n              blacklistedPasswordValidator(\n                'password',\n                'confirmPassword',\n                this.blacklistedPasswords\n              )\n            ])\n          }\n        );\n      }\n\n\nngOnInit() {\n\n}\n    }\n</code></pre>\n\n<p>how can i append another validator to the components ngOnInit method ?\nfor example i want to add a validator matchingValidator('password', 'confirmPassword') similar like that of passwordStrengthValidator &amp; blacklistedPasswordValidator. How can i achieve it ? </p>\n\n<p>I am a new bie to angular thank you so much</p>\n"}, {"tags": ["typescript", "commonjs", "es6-modules"], "answers": [{"comments": [{"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1548870578, "post_id": 54446583, "comment_id": 95702216, "body": "but aren&#39;t there issues with the option you recommend? (Option 1). For example, does the semantics match that of option 3 exactly? I&#39;m worried about things like making sure side effects run when the module is imported multiple times. Adding this to the question."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1548870768, "post_id": 54446583, "comment_id": 95702322, "body": "@MaxHeiber at runtime if you target <code>commonjs</code>,  <code>import * as foo from &quot;foo&quot;</code> will still be <code>const foo = require(&quot;.&#47;foo&quot;);</code> but the module might get elided if it is unused, I will add to the answer."}, {"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1548877674, "post_id": 54446583, "comment_id": 95705747, "body": "we&#39;re hoping to target ES"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1548870915, "last_edit_date": 1548870915, "creation_date": 1548870509, "answer_id": 54446583, "question_id": 54446403, "link": "https://stackoverflow.com/questions/54446403/what-is-the-most-forwards-compatible-way-of-importing-commonjs-from-typescript/54446583#54446583", "title": "What is the most forwards-compatible way of importing CommonJS from TypeScript?", "body": "<pre><code>const foo = require(\"foo\")\n</code></pre>\n\n<p>This one is the worst one, <code>foo</code> will be typed as any, I would avoid it at all cost</p>\n\n<pre><code>import foo = require(\"foo\")\n</code></pre>\n\n<p>This is typescript specific import syntax, and again should be avoided as much as possible. At runtime it is compiled to <code>var foo = require(\"foo\")</code>, but at compile time it offers type safety. It is the only way to import a module that uses export assignment.</p>\n\n<pre><code>import * as foo from \"foo\"\n</code></pre>\n\n<p>This is the official ES2015 syntax and should be favored whenever possible (except for the export assignment case I think it can be used in all other cases).</p>\n\n<p>If you compile to <code>commonjs</code> the above syntax will still be transpiled as  <code>const foo = require(\"./foo\");</code> at runtime so it should behave in the same way. </p>\n\n<p>There is one caveat to this, typescript will not emit imports that are unused and import that are only used for their types (read <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-imports-being-elided-in-my-emit\" rel=\"nofollow noreferrer\">here</a>) so if you want to import a module for side effects you can use this syntax:</p>\n\n<pre><code>import \"foo\"\n</code></pre>\n"}], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 54446583, "answer_count": 1, "score": 1, "last_activity_date": 1548878019, "creation_date": 1548869828, "last_edit_date": 1592644375, "question_id": 54446403, "link": "https://stackoverflow.com/questions/54446403/what-is-the-most-forwards-compatible-way-of-importing-commonjs-from-typescript", "title": "What is the most forwards-compatible way of importing CommonJS from TypeScript?", "body": "<p>Of these three ways of importing a CommonJS module from TypeScript:</p>\n<ol>\n<li><code>import * as foo from &quot;foo</code></li>\n<li><code>import foo = require(&quot;foo&quot;)</code></li>\n<li><code>const foo = require(&quot;foo&quot;)</code></li>\n</ol>\n<p>Which is most forwards-compatible with both TS and the ES module spec?</p>\n<p>That is, when/if the &quot;foo&quot; library switches to using ES modules, which of the above is least likely to break or or become weird?</p>\n<blockquote>\n<p>update: (1) looks best since it's real ES Module syntax, but I am concerned about preserving the intended semantics of the CommonJS module we're importing. For example, if a side effect is expected to run when the module is imported, we'd want to preserve that semantics when using <code>import * as</code> syntax.</p>\n<p>Another update: We're targeting ES modules. A separate tool does the ES Module -&gt;  transformation.</p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable", "es6-promise"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1548869482, "post_id": 54446223, "comment_id": 95701680, "body": "It has one return type, but that return type is a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">union</a> of 3 other types, e.g. the range of values described by type <code>string | number</code> includes values like <code>&quot;foo&quot;</code> and <code>123</code>."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1548869837, "post_id": 54446223, "comment_id": 95701845, "body": "This is a really bad idea. The function should always return a promise or always return an observable (depending on what you need)."}, {"owner": {"reputation": 486, "user_id": 4143245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7Woshqj7x5Y/AAAAAAAAAAI/AAAAAAAAAoQ/wr-ZlcH6B_4/photo.jpg?sz=128", "display_name": "BK-", "link": "https://stackoverflow.com/users/4143245/bk"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1548975079, "post_id": 54446223, "comment_id": 95748624, "body": "Thank you for the link @p.s.w.g!  I read through the union docs and I finally can see some of what&#39;s going on.  What I don&#39;t get is that in a signature like I show above, I can just return the <code>Type</code> type and somehow it magically will make it a Observable or a Promise when called within an <code>async</code> function or <code>subscribe</code>d to.  This leads me to believe that there is some magic going on within Typescript or Javascript to wrap that returned variable.  I&#39;ll update my question with another code sample."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1548975424, "post_id": 54446223, "comment_id": 95748719, "body": "@BK- No it won&#39;t magically make it observable. It means that whatever code calls this function must run type checks on its return value to ensure that it&#39;s actually an <code>Observable&lt;T&gt;</code>, etc. This is why Bergi pointed out that it&#39;s generally a bad idea (it means you can&#39;t actually trust the return type value that much). In this case, it means that whatever uses <code>CanActivate</code>/<code>CanActivateChild</code> <b>must</b> be coded in such a way to account for this variance."}, {"owner": {"reputation": 486, "user_id": 4143245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7Woshqj7x5Y/AAAAAAAAAAI/AAAAAAAAAoQ/wr-ZlcH6B_4/photo.jpg?sz=128", "display_name": "BK-", "link": "https://stackoverflow.com/users/4143245/bk"}, "edited": false, "score": 0, "creation_date": 1548975772, "post_id": 54446223, "comment_id": 95748826, "body": "Oh interesting!  Thanks for the follow-up!  Is there any way to determine how the function was called so that the appropriate return value can be returned?  For example, can I tell if the caller wants a promise versus just the value?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1548975965, "post_id": 54446223, "comment_id": 95748882, "body": "BTW one of the core design principles behind TypeScript is that it doesn&#39;t do any magic (at runtime, at least -- see <a href=\"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals\" rel=\"nofollow noreferrer\">point 6 under non-goals</a>). It&#39;s purely used to describe what <i>can</i> be returned from this function and still be a valid program. There is no way for the caller cannot tell this function what it wants. Instead it is forced to just deal with whatever the this function gives it."}, {"owner": {"reputation": 486, "user_id": 4143245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7Woshqj7x5Y/AAAAAAAAAAI/AAAAAAAAAoQ/wr-ZlcH6B_4/photo.jpg?sz=128", "display_name": "BK-", "link": "https://stackoverflow.com/users/4143245/bk"}, "edited": false, "score": 0, "creation_date": 1548991989, "post_id": 54446223, "comment_id": 95752739, "body": "Got it!  Thank you, this makes much more sense.  Now to track down the sample code&#39;s author..."}, {"owner": {"reputation": 486, "user_id": 4143245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7Woshqj7x5Y/AAAAAAAAAAI/AAAAAAAAAoQ/wr-ZlcH6B_4/photo.jpg?sz=128", "display_name": "BK-", "link": "https://stackoverflow.com/users/4143245/bk"}, "edited": false, "score": 0, "creation_date": 1549145190, "post_id": 54446223, "comment_id": 95801072, "body": "Here&#39;s a perfect real-world example of an interface that returns multiple types.  It seems to infer that either return type can be returned and the caller will know what to do with this?  <a href=\"https://angular.io/api/forms/AsyncValidator\" rel=\"nofollow noreferrer\">angular.io/api/forms/AsyncValidator</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "is_accepted": true, "score": 5, "last_activity_date": 1548869476, "creation_date": 1548869476, "answer_id": 54446298, "question_id": 54446223, "link": "https://stackoverflow.com/questions/54446223/typescript-function-returns-multiple-options/54446298#54446298", "title": "TypeScript function returns multiple options", "body": "<p>Inside your function body you will decide when to return which type of result. When you use the return value you do not know directly the type of the result. Therefor you can <code>cast</code> the result:</p>\n\n<pre><code>function a(foo: string): string | boolean {\n  if (foo) return true\n  return \"my string value\"\n}\nconst b = (a(\"\") as boolean)\nconst c = (a(\"hello\") as string)\n</code></pre>\n\n<p>In this case <code>b</code> would be <code>typeof boolean</code> while <code>c</code> is a <code>string</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 486, "user_id": 4143245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7Woshqj7x5Y/AAAAAAAAAAI/AAAAAAAAAoQ/wr-ZlcH6B_4/photo.jpg?sz=128", "display_name": "BK-", "link": "https://stackoverflow.com/users/4143245/bk"}, "edited": false, "score": 0, "creation_date": 1548992087, "post_id": 54471417, "comment_id": 95752763, "body": "Scary!  0, true, &quot;true&quot;, and &quot;0&quot; all being <code>true</code> is too much like PERL."}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 1, "last_activity_date": 1548982299, "creation_date": 1548982299, "answer_id": 54471417, "question_id": 54446223, "link": "https://stackoverflow.com/questions/54446223/typescript-function-returns-multiple-options/54471417#54471417", "title": "TypeScript function returns multiple options", "body": "<p><strong>Reason</strong> </p>\n\n<p>There is no way to tell which type is returned in which scenario. That's because the only thing that matters to TypeScript is that the type returned in your function body is assignable to the one used in its definition.</p>\n\n<p>Consider this silly example:</p>\n\n<pre><code>function foo(): string | number | boolean {\n    return 0;\n}\n</code></pre>\n\n<p>On the type level, there is nothing wrong with this function. There is no way in the world it's going to return <code>string | boolean</code>, but it doesn't matter. What matters is that <code>0</code> is assignable to <code>string | number | boolean</code>.</p>\n\n<p><strong>What you can do</strong></p>\n\n<p>You can delete the return type definition and see what is the inferred return type.</p>\n"}], "owner": {"reputation": 486, "user_id": 4143245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7Woshqj7x5Y/AAAAAAAAAAI/AAAAAAAAAoQ/wr-ZlcH6B_4/photo.jpg?sz=128", "display_name": "BK-", "link": "https://stackoverflow.com/users/4143245/bk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4165, "favorite_count": 0, "accepted_answer_id": 54446298, "answer_count": 2, "score": 0, "last_activity_date": 1548982299, "creation_date": 1548869246, "last_edit_date": 1548975214, "question_id": 54446223, "link": "https://stackoverflow.com/questions/54446223/typescript-function-returns-multiple-options", "title": "TypeScript function returns multiple options", "body": "<p>I have a function as below and I can't wrap my head around it.  How can a function return multiple types and how are each used?</p>\n\n<pre><code>function(): Observable&lt;Type&gt; | Promise&lt;Type&gt; | Type {\n...\n}\n</code></pre>\n\n<p>It looks like the pipe(|) is used to designate that multiple values can be returned.  What I don't understand is when is each used?  I suspect that the Observable is used when a <code>subscribe</code> is issued, the Promise is used by default, and the straight up Type is used when the function is called with <code>await</code>.</p>\n\n<p>If I'm right, great!  I can't seem to find documentation for this functionality so that I can learn more.  Can you help?  I suspect my issue is that I don't know what to Google search for.</p>\n\n<p><em>UPDATE: Additional Code Sample</em></p>\n\n<p>The following is a code sample where multiple return types are provided, but I only return the boolean type.</p>\n\n<pre><code>@Injectable()\nexport class AuthGuard implements CanActivate, CanActivateChild {\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) :\n      Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        return this.authService.isAuthenticated()\n          .then((authenticated: boolean) =&gt; {\n            if (authenticated) {\n              return true;\n            } else {\n              this.router.navigate(['/']);\n            }\n          });\n        }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) :\n      Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        return this.canActivate(route, state);\n      }\n\n\n}\n</code></pre>\n\n<p>What is determining whether to return the <code>Type</code> as is, versus wrapping this in a Promise or Observable (for subscription)?</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1548869768, "post_id": 54446171, "comment_id": 95701812, "body": "you mean sticky nav nar?"}, {"owner": {"reputation": 1464, "user_id": 6608257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2f57a75c3beb518f16aeb4ffd1f8de3?s=128&d=identicon&r=PG&f=1", "display_name": "dmx", "link": "https://stackoverflow.com/users/6608257/dmx"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1548870197, "post_id": 54446171, "comment_id": 95702008, "body": "@Chellappan  I want to activate current menu navbar  when scroll. For example when I scroll to contact I want navbar to activate contact."}], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 8693106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp_g8pVY6dA/AAAAAAAAAAI/AAAAAAAAKEQ/oSerYGDBZu4/photo.jpg?sz=128", "display_name": "Padmaraj Bhat", "link": "https://stackoverflow.com/users/8693106/padmaraj-bhat"}, "edited": false, "score": 0, "creation_date": 1582454547, "post_id": 54447174, "comment_id": 106776824, "body": "You can also try out <code>scrolledIndexChange</code> from <code>CdkVirtualScrollViewport </code>  for getting offset of the list index (instead of checkOffsetTop function above)"}, {"owner": {"reputation": 290, "user_id": 8452721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4CHK.jpg?s=128&g=1", "display_name": "Lukho Mdingi", "link": "https://stackoverflow.com/users/8452721/lukho-mdingi"}, "edited": false, "score": 0, "creation_date": 1595866486, "post_id": 54447174, "comment_id": 111616219, "body": "What if your navbar component is separate from the page content components?"}], "tags": [], "owner": {"reputation": 430, "user_id": 4860179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04739b6439012cb8e43a5244d34e9e5b?s=128&d=identicon&r=PG&f=1", "display_name": "lemek", "link": "https://stackoverflow.com/users/4860179/lemek"}, "is_accepted": true, "score": 7, "last_activity_date": 1548872762, "creation_date": 1548872762, "answer_id": 54447174, "question_id": 54446171, "link": "https://stackoverflow.com/questions/54446171/angular-6-how-to-highlight-element-on-navbar-depending-on-scroll/54447174#54447174", "title": "Angular 6: How to highlight element on navbar depending on scroll?", "body": "<p>Well it depends of how sophisticated your project is. In the very primitive way, you can do something like this:</p>\n\n<p>Using ngClass, you are binding \"active\" class to currentActive variable.</p>\n\n<pre><code>&lt;li&gt;&lt;a href=\"#\" [ngClass]=\"{'active': currentActive === 1}\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#news\" [ngClass]=\"{'active': currentActive === 2}\" (click)=\"scrollToElement(new)\"&gt;News&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#contact\" [ngClass]=\"{'active': currentActive === 3}\" (click)=\"scrollToElement(con)\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#about\" [ngClass]=\"{'active': currentActive === 4}\" (click)=\"scrollToElement(about)\"&gt;About&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Now, about how to check our current scroll position (current YOffset). To get our current scroll position, and bind it to scroll event we can simply do this:</p>\n\n<pre><code>@HostListener('window:scroll', ['$event'])\ncheckOffsetTop() {\n  console.log(window.pageYOffset); // this will console log our scroll position\n}\n</code></pre>\n\n<p>Now what we would like, is to know at what Y positions are our anchors. To get this, we can use @ViewChild decorator.</p>\n\n<pre><code>@ViewChild('home') homeElement: ElementRef;\n@ViewChild('con') conElement: ElementRef;\n@ViewChild('new') newElement: ElementRef;\n@ViewChild('about') aboutElement: ElementRef;\n</code></pre>\n\n<p>This only bind our references to our variables. To check their offsets, we would like to render our view first, so we will receive proper offsets. Because of that we will use ngAfterViewInit</p>\n\n<pre><code>ngAfterViewInit() {\n  this.homeOffset = this.homeElement.nativeElement.offsetTop;\n  this.conOffset = this.conElement.nativeElement.offsetTop;\n  this.newOffset = this.newElement.nativeElement.offsetTop;\n  this.aboutOffset = this.aboutElement.nativeElement.offsetTop;\n}\n</code></pre>\n\n<p>Full code looks like this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, AfterViewInit, ViewChild, ElementRef, HostListener } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements AfterViewInit {\r\n  @ViewChild('home') homeElement: ElementRef;\r\n  @ViewChild('con') conElement: ElementRef;\r\n  @ViewChild('new') newElement: ElementRef;\r\n  @ViewChild('about') aboutElement: ElementRef;\r\n\r\n  public currentActive = 0;\r\n  public homeOffset: Number = null;\r\n  public conOffset: Number = null;\r\n  public newOffset: Number = null;\r\n  public aboutOffset: Number = null;\r\n\r\n  ngAfterViewInit() {\r\n    this.homeOffset = this.homeElement.nativeElement.offsetTop;\r\n    this.conOffset = this.conElement.nativeElement.offsetTop;\r\n    this.newOffset = this.newElement.nativeElement.offsetTop;\r\n    this.aboutOffset = this.aboutElement.nativeElement.offsetTop;\r\n  }\r\n\r\n  scrollToElement() {\r\n    // scrollToElement Code :)\r\n  }\r\n\r\n  @HostListener('window:scroll', ['$event'])\r\n  checkOffsetTop() {\r\n    if (window.pageYOffset &gt;= this.homeOffset &amp;&amp; window.pageYOffset &lt; this.conOffset) {\r\n      this.currentActive = 1;\r\n    } else if (window.pageYOffset &gt;= this.conOffset &amp;&amp; window.pageYOffset &lt; this.newOffset) {\r\n      this.currentActive = 2;\r\n    } else if (window.pageYOffset &gt;= this.newOffset &amp;&amp; window.pageYOffset &lt; this.aboutOffset) {\r\n      this.currentActive = 3;\r\n    } else if (window.pageYOffset &gt;= this.aboutOffset) {\r\n      this.currentActive = 4;\r\n    } else {\r\n      this.currentActive = 0;\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.sticky {\r\n    position: sticky;\r\n    top: 0;\r\n  }\r\n\r\n  .active {\r\n      font-weight: bold !important;\r\n      color: red !important;\r\n      font-size: 1.2rem !important;\r\n  }\r\n\r\n  #i ul {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    background-color: blue;\r\n  }\r\n  \r\n  #i li {\r\n    float: left;\r\n  }\r\n  \r\n  #i li a {\r\n    display: block;\r\n    color: white;\r\n    text-align: center;\r\n    padding: 14px 16px;\r\n    text-decoration: none;\r\n  }\r\n  \r\n  #i li a:hover {\r\n    border-radius: 0px 0px 10px 10px;\r\n    background-color: rgb(43, 137, 226);\r\n  }\r\n  \r\n  /* #i {\r\n    margin: 0px 0px 40px 0px;\r\n  } */\r\n  \r\n  #footer-id {\r\n    background-color:blue;\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span id=\"i\"&gt;\r\n  &lt;ul class=\"sticky\"&gt;\r\n    &lt;li&gt;&lt;a href=\"#\" [ngClass]=\"{'active': currentActive === 1}\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#news\" [ngClass]=\"{'active': currentActive === 2}\" (click)=\"scrollToElement(new)\"&gt;News&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#contact\" [ngClass]=\"{'active': currentActive === 3}\" (click)=\"scrollToElement(con)\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#about\" [ngClass]=\"{'active': currentActive === 4}\" (click)=\"scrollToElement(about)\"&gt;About&lt;/a&gt;&lt;/li&gt;\r\n\r\n    &lt;ul class=\"nav navbar-nav pull-right\"&gt;\r\n      &lt;li class=\"nav\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    &lt;ul class=\"nav navbar-nav pull-right\"&gt;\r\n      &lt;li class=\"nav\"&gt;\r\n        &lt;a href=\"#ta\" (click)=\"scrollToElement(con)\"&gt;Target: {{ currentActive }}&lt;/a&gt;\r\n      &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/ul&gt;\r\n&lt;/span&gt;\r\n\r\n&lt;div class=\"container\" style=\"margin-bottom: 20px;\"&gt;\r\n  &lt;div #home&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;Home | offset: {{ homeOffset }}&lt;/h1&gt;\r\n    &lt;p&gt;You contact us here. Thank for your greatness&lt;/p&gt;\r\n    &lt;p&gt;\r\n      Welcome to the Random Phrase and Idiom Generator. There will be times when\r\n      you may need more than a random word for what you want to accomplish, and\r\n      this free online tool can help. The use of this tool is quite simple. All\r\n      you need to do is indicate the number of random phrases you'd like to be\r\n      displayed, and then hit the \"Generate Random Phrases\" button. Once done,\r\n      your chosen number of idioms will be displayed along with the meaning of\r\n      the idiom.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      Welcome to the Random Phrase and Idiom Generator. There will be times when\r\n      you may need more than a random word for what you want to accomplish, and\r\n      this free online tool can help. The use of this tool is quite simple. All\r\n      you need to do is indicate the number of random phrases you'd like to be\r\n      displayed, and then hit the \"Generate Random Phrases\" button. Once done,\r\n      your chosen number of idioms will be displayed along with the meaning of\r\n      the idiom.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div #con&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;Contact&lt;/h1&gt;\r\n    &lt;p&gt;You contact us here. Thank for your greatness&lt;/p&gt;\r\n    &lt;p&gt;\r\n      Idioms are a wonderful part of the English language that give it a lot of\r\n      flavor. They force people to know more than the literal meaning of words.\r\n      Idioms are commonly used phrases which have a meaning completely different\r\n      than their literal meaning. This can be quite confusing to those who\r\n      aren't familiar with the idiom and those who are studying English.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      Idioms are a wonderful part of the English language that give it a lot of\r\n      flavor. They force people to know more than the literal meaning of words.\r\n      Idioms are commonly used phrases which have a meaning completely different\r\n      than their literal meaning. This can be quite confusing to those who\r\n      aren't familiar with the idiom and those who are studying English.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div #new&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;News&lt;/h1&gt;\r\n    &lt;p&gt;This are new from us&lt;/p&gt;\r\n    &lt;p&gt;\r\n      Using this tool can be excellent practice for students studying English as\r\n      a second language because it gives the literal meaning of each phrase.\r\n      This allows them to see the phrase and its meaning at the same time. While\r\n      there are long idiom lists available online, trying to navigate through\r\n      them all on a single page can be daunting. Being able to create the exact\r\n      number of random idioms which best suits your learning needs is a\r\n      advantage this tool has over standard phrase list. In this way, this tool\r\n      provides an excellent way for those learning English to practice their\r\n      knowledge of English idioms and to learn new ones in the process.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      Using this tool can be excellent practice for students studying English as\r\n      a second language because it gives the literal meaning of each phrase.\r\n      This allows them to see the phrase and its meaning at the same time. While\r\n      there are long idiom lists available online, trying to navigate through\r\n      them all on a single page can be daunting. Being able to create the exact\r\n      number of random idioms which best suits your learning needs is a\r\n      advantage this tool has over standard phrase list. In this way, this tool\r\n      provides an excellent way for those learning English to practice their\r\n      knowledge of English idioms and to learn new ones in the process.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div #about&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;About&lt;/h1&gt;\r\n    &lt;p&gt;This are new from us&lt;/p&gt;\r\n    &lt;p&gt;\r\n      It can also be a wonderful way for writers to brainstorm and spur more\r\n      creativity in their writing. The tool can be used to get writing ideas\r\n      flowing forcing the writer to use more creativity than they would with a\r\n      single random word. For example, the writer can use the generated phrase\r\n      to create a new paragraph or story. Since the writer has no idea what will\r\n      appear, or even if they will be familiar with the idiom, it forces the\r\n      writer to use creativity to incorporate it into what they're writing.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      It can also be a wonderful way for writers to brainstorm and spur more\r\n      creativity in their writing. The tool can be used to get writing ideas\r\n      flowing forcing the writer to use more creativity than they would with a\r\n      single random word. For example, the writer can use the generated phrase\r\n      to create a new paragraph or story. Since the writer has no idea what will\r\n      appear, or even if they will be familiar with the idiom, it forces the\r\n      writer to use creativity to incorporate it into what they're writing.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Footer --&gt;\r\n&lt;footer class=\"page-footer font-small indigo\" id=\"footer-id\"&gt;\r\n  &lt;!-- Footer Links --&gt;\r\n  &lt;div class=\"container text-center text-md-left\"&gt;\r\n    &lt;!-- Grid row --&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n\r\n      &lt;hr class=\"clearfix w-100 d-md-none\" /&gt;\r\n\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n\r\n      &lt;hr class=\"clearfix w-100 d-md-none\" /&gt;\r\n\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n\r\n      &lt;hr class=\"clearfix w-100 d-md-none\" /&gt;\r\n\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- Grid row --&gt;\r\n  &lt;/div&gt;\r\n  &lt;!-- Footer Links --&gt;\r\n\r\n  &lt;!-- Copyright --&gt;\r\n  &lt;div class=\"footer-copyright text-center py-3\"&gt;\r\n    \u00a9 2018 Copyright:\r\n    &lt;a href=\"https://mdbootstrap.com/education/bootstrap/\"&gt; MDBootstrap.com&lt;/a&gt;\r\n  &lt;/div&gt;\r\n  &lt;!-- Copyright --&gt;\r\n&lt;/footer&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And remember. This is very RAW solution to your problem. It all depends on how sophisticated your app/component is. Anyway i hope this will clear some things out.</p>\n"}], "owner": {"reputation": 1464, "user_id": 6608257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2f57a75c3beb518f16aeb4ffd1f8de3?s=128&d=identicon&r=PG&f=1", "display_name": "dmx", "link": "https://stackoverflow.com/users/6608257/dmx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6101, "favorite_count": 1, "accepted_answer_id": 54447174, "answer_count": 1, "score": 3, "last_activity_date": 1599212348, "creation_date": 1548869042, "question_id": 54446171, "link": "https://stackoverflow.com/questions/54446171/angular-6-how-to-highlight-element-on-navbar-depending-on-scroll", "title": "Angular 6: How to highlight element on navbar depending on scroll?", "body": "<p>I am making a single page in Angular 6. It a simple page and I would like to highlight <code>navbar</code> depending on scroll.</p>\n\n<p>here is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.sticky {\r\n  position: sticky;\r\n  top: 0;\r\n}\r\n#i ul {\r\n  list-style-type: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  background-color: blue;\r\n}\r\n\r\n#i li {\r\n  float: left;\r\n}\r\n\r\n#i li a {\r\n  display: block;\r\n  color: white;\r\n  text-align: center;\r\n  padding: 14px 16px;\r\n  text-decoration: none;\r\n}\r\n\r\n#i li a:hover {\r\n  border-radius: 0px 0px 10px 10px;\r\n  background-color: rgb(43, 137, 226);\r\n}\r\n\r\n/* #i {\r\n  margin: 0px 0px 40px 0px;\r\n} */\r\n\r\n#footer-id {\r\n  background-color:blue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span id=\"i\"&gt;\r\n  &lt;ul class=\"sticky\"&gt;\r\n    &lt;li id=\"i\"&gt;&lt;a class=\"active\" href=\"#\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#news\" (click)=\"scrollToElement(new)\"&gt;News&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#contact\" (click)=\"scrollToElement(con)\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#about\" (click)=\"scrollToElement(about)\"&gt;About&lt;/a&gt;&lt;/li&gt;\r\n\r\n    &lt;ul class=\"nav navbar-nav pull-right\"&gt;\r\n      &lt;li class=\"nav\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    &lt;ul class=\"nav navbar-nav pull-right\"&gt;\r\n      &lt;li class=\"nav\"&gt;\r\n        &lt;a href=\"#ta\" (click)=\"scrollToElement(con)\"&gt;Target&lt;/a&gt;\r\n      &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/ul&gt;\r\n&lt;/span&gt;\r\n\r\n&lt;div class=\"container\" style=\"margin-bottom: 20px;\"&gt;\r\n  &lt;div #home&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;Home&lt;/h1&gt;\r\n    &lt;p&gt;You contact us here. Thank for your greatness&lt;/p&gt;\r\n    &lt;p&gt;\r\n      Welcome to the Random Phrase and Idiom Generator. There will be times when\r\n      you may need more than a random word for what you want to accomplish, and\r\n      this free online tool can help. The use of this tool is quite simple. All\r\n      you need to do is indicate the number of random phrases you'd like to be\r\n      displayed, and then hit the \"Generate Random Phrases\" button. Once done,\r\n      your chosen number of idioms will be displayed along with the meaning of\r\n      the idiom.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      Welcome to the Random Phrase and Idiom Generator. There will be times when\r\n      you may need more than a random word for what you want to accomplish, and\r\n      this free online tool can help. The use of this tool is quite simple. All\r\n      you need to do is indicate the number of random phrases you'd like to be\r\n      displayed, and then hit the \"Generate Random Phrases\" button. Once done,\r\n      your chosen number of idioms will be displayed along with the meaning of\r\n      the idiom.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div #con&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;Contact&lt;/h1&gt;\r\n    &lt;p&gt;You contact us here. Thank for your greatness&lt;/p&gt;\r\n    &lt;p&gt;\r\n      Idioms are a wonderful part of the English language that give it a lot of\r\n      flavor. They force people to know more than the literal meaning of words.\r\n      Idioms are commonly used phrases which have a meaning completely different\r\n      than their literal meaning. This can be quite confusing to those who\r\n      aren't familiar with the idiom and those who are studying English.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      Idioms are a wonderful part of the English language that give it a lot of\r\n      flavor. They force people to know more than the literal meaning of words.\r\n      Idioms are commonly used phrases which have a meaning completely different\r\n      than their literal meaning. This can be quite confusing to those who\r\n      aren't familiar with the idiom and those who are studying English.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div #new&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;News&lt;/h1&gt;\r\n    &lt;p&gt;This are new from us&lt;/p&gt;\r\n    &lt;p&gt;\r\n      Using this tool can be excellent practice for students studying English as\r\n      a second language because it gives the literal meaning of each phrase.\r\n      This allows them to see the phrase and its meaning at the same time. While\r\n      there are long idiom lists available online, trying to navigate through\r\n      them all on a single page can be daunting. Being able to create the exact\r\n      number of random idioms which best suits your learning needs is a\r\n      advantage this tool has over standard phrase list. In this way, this tool\r\n      provides an excellent way for those learning English to practice their\r\n      knowledge of English idioms and to learn new ones in the process.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      Using this tool can be excellent practice for students studying English as\r\n      a second language because it gives the literal meaning of each phrase.\r\n      This allows them to see the phrase and its meaning at the same time. While\r\n      there are long idiom lists available online, trying to navigate through\r\n      them all on a single page can be daunting. Being able to create the exact\r\n      number of random idioms which best suits your learning needs is a\r\n      advantage this tool has over standard phrase list. In this way, this tool\r\n      provides an excellent way for those learning English to practice their\r\n      knowledge of English idioms and to learn new ones in the process.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div #about&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;h1&gt;About&lt;/h1&gt;\r\n    &lt;p&gt;This are new from us&lt;/p&gt;\r\n    &lt;p&gt;\r\n      It can also be a wonderful way for writers to brainstorm and spur more\r\n      creativity in their writing. The tool can be used to get writing ideas\r\n      flowing forcing the writer to use more creativity than they would with a\r\n      single random word. For example, the writer can use the generated phrase\r\n      to create a new paragraph or story. Since the writer has no idea what will\r\n      appear, or even if they will be familiar with the idiom, it forces the\r\n      writer to use creativity to incorporate it into what they're writing.\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n      It can also be a wonderful way for writers to brainstorm and spur more\r\n      creativity in their writing. The tool can be used to get writing ideas\r\n      flowing forcing the writer to use more creativity than they would with a\r\n      single random word. For example, the writer can use the generated phrase\r\n      to create a new paragraph or story. Since the writer has no idea what will\r\n      appear, or even if they will be familiar with the idiom, it forces the\r\n      writer to use creativity to incorporate it into what they're writing.\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Footer --&gt;\r\n&lt;footer class=\"page-footer font-small indigo\" id=\"footer-id\"&gt;\r\n  &lt;!-- Footer Links --&gt;\r\n  &lt;div class=\"container text-center text-md-left\"&gt;\r\n    &lt;!-- Grid row --&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Very long link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n\r\n      &lt;hr class=\"clearfix w-100 d-md-none\" /&gt;\r\n\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n\r\n      &lt;hr class=\"clearfix w-100 d-md-none\" /&gt;\r\n\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n\r\n      &lt;hr class=\"clearfix w-100 d-md-none\" /&gt;\r\n\r\n      &lt;!-- Grid column --&gt;\r\n      &lt;div class=\"col-md-3 mx-auto\"&gt;\r\n        &lt;!-- Links --&gt;\r\n        &lt;h5 class=\"font-weight-bold text-uppercase mt-3 mb-4\"&gt;Links&lt;/h5&gt;\r\n\r\n        &lt;ul class=\"list-unstyled\"&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Grid column --&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- Grid row --&gt;\r\n  &lt;/div&gt;\r\n  &lt;!-- Footer Links --&gt;\r\n\r\n  &lt;!-- Copyright --&gt;\r\n  &lt;div class=\"footer-copyright text-center py-3\"&gt;\r\n    \u00a9 2018 Copyright:\r\n    &lt;a href=\"https://mdbootstrap.com/education/bootstrap/\"&gt; MDBootstrap.com&lt;/a&gt;\r\n  &lt;/div&gt;\r\n  &lt;!-- Copyright --&gt;\r\n&lt;/footer&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I highlight navbar element when I scroll ?</p>\n\n<p>I have done some research and  it seem that I can use HostListener like this:</p>\n\n<pre><code>    @HostListener('window:scroll', ['$event'])\n  scrollHandler(event) {\n    console.log('Scroll Event');\n    // console.log(event);\n    const verticalOffset =\n      window.pageYOffset ||\n      document.documentElement.scrollTop ||\n      document.body.scrollTop ||\n      0;\n\n    console.log(verticalOffset);\n  }\n</code></pre>\n\n<p>But I still unable to link scroll with div. Any idea ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1548869151, "post_id": 54446157, "comment_id": 95701497, "body": "And what&#39;s a question?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1548869281, "post_id": 54446157, "comment_id": 95701578, "body": "TypeScript doesn&#39;t really do a great job <a href=\"https://github.com/Microsoft/TypeScript/issues/13195\" rel=\"nofollow noreferrer\">distinguishing missing properties from <code>undefined</code> properties</a>.  How do you expect to use this?  Once you have a string index signature, it will allow you to get and set any key, which means the only safe property type is <code>T | undefined</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1548869389, "post_id": 54446157, "comment_id": 95701631, "body": "Also relevant issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/13778\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/13778</a>"}, {"owner": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1548870056, "post_id": 54446157, "comment_id": 95701946, "body": "@jcalz I&#39;m using <code>T | undefined</code> now and dealing with it when working with values in mapping functions or lodash. But seems like it&#39;s a language limitation. The issue you linked describes exactly the problem I&#39;m facing. I&#39;ll accept it if you post your comments as an answer!"}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "edited": false, "score": 0, "creation_date": 1548869634, "post_id": 54446246, "comment_id": 95701752, "body": "The problem with <code>unknown</code> is that I&#39;ll completely lose the type of those values. If I do <code>Object.values().map(value =&gt; ...)</code> for example, I&#39;d lose inference for the type of <code>value</code>.  Similarly, I want to be able to do <code>object[&#39;someKey&#39;].property</code> and get an error that says value of <code>someKey</code> might be <code>undefined</code>."}, {"owner": {"reputation": 1218, "user_id": 3822311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7660e57d33a001cf899159affa832fe?s=128&d=identicon&r=PG&f=1", "display_name": "Dor Shinar", "link": "https://stackoverflow.com/users/3822311/dor-shinar"}, "reply_to_user": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "edited": false, "score": 0, "creation_date": 1548869977, "post_id": 54446246, "comment_id": 95701904, "body": "It doesn&#39;t lose completely, you just have to use type assertions."}], "tags": [], "owner": {"reputation": 1218, "user_id": 3822311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7660e57d33a001cf899159affa832fe?s=128&d=identicon&r=PG&f=1", "display_name": "Dor Shinar", "link": "https://stackoverflow.com/users/3822311/dor-shinar"}, "is_accepted": false, "score": 1, "last_activity_date": 1548869312, "creation_date": 1548869312, "answer_id": 54446246, "question_id": 54446157, "link": "https://stackoverflow.com/questions/54446157/type-an-object-with-optional-keys-but-non-null-value-for-keys-that-exist/54446246#54446246", "title": "Type an object with optional keys, but non-null value for keys that exist", "body": "<p>You can use the unknown type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Object {\n    [key: string]: unknown;\n}\n</code></pre>\n\n<p>From the TypeScript docs:</p>\n\n<blockquote>\n  <p>[...] unknown is the type-safe counterpart of any. Anything is assignable to unknown, but unknown isn\u2019t assignable to anything but itself and any without a type assertion or a control flow based narrowing. Likewise, no operations are permitted on an unknown without first asserting or narrowing to a more specific type.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1602168073, "last_edit_date": 1602168073, "creation_date": 1548877389, "answer_id": 54448348, "question_id": 54446157, "link": "https://stackoverflow.com/questions/54446157/type-an-object-with-optional-keys-but-non-null-value-for-keys-that-exist/54448348#54448348", "title": "Type an object with optional keys, but non-null value for keys that exist", "body": "<p>As mentioned in the comments, TypeScript doesn't do a great job of <a href=\"https://github.com/Microsoft/TypeScript/issues/13195\" rel=\"nofollow noreferrer\">distinguishing missing properties from <code>undefined</code> properties</a>.  That's at least somewhat reasonable, since when you read a missing property from an object in JavaScript you will get <code>undefined</code> (and not an error).  And before the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#--strictnullchecks\" rel=\"nofollow noreferrer\"><code>--strictNullChecks</code> compiler option</a> was introduced in TypeScript 2.0, TypeScript did a very bad job of distinguishing missing/undefined properties from present/defined properties.  This was mostly addressed by <code>--strictNullChecks</code> but a few issues linger.</p>\n<p>One of the places that this issue still shows up is in <a href=\"https://github.com/Microsoft/TypeScript/issues/13778\" rel=\"nofollow noreferrer\">types with index signatures</a>.  Index signatures are just considered to be present.  There is no way to say some keys are present and some keys are absent with an index signature.  The <a href=\"https://github.com/Microsoft/TypeScript/issues/7118\" rel=\"nofollow noreferrer\">optional index signature</a> syntax you want is not part of the language. With <code>--strictNullChecks</code> turned on, the signature <code>{[k: string]: SomeType}</code> is saying that every single string-key property exists and is of type <code>SomeType</code>, but this is not actually enforced when you assign objects to it.  The only truly type safe way to use index signatures is to add <code>| undefined</code> to the value type, like <code>{[k: string]: SomeType | undefined}</code>, but this ends up becoming very annoying to use in many circumstances, leading to people overusing non-null assertions, which  <a href=\"https://github.com/Microsoft/TypeScript/issues/11238#issuecomment-250562397\" rel=\"nofollow noreferrer\">doesn't help anyone</a>.  So it is the way it is.</p>\n<hr />\n<h3>UPDATE for TS4.1</h3>\n<p>TS4.1 will introduce a <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-1-beta/#no-unchecked-indexed-access\" rel=\"nofollow noreferrer\"><code>--noUncheckedIndexedAccess</code> compiler option</a>, also known as &quot;pedantic index signatures&quot; which behaves mostly like <code>| undefined</code> has been added to the index signature.  This is still annoying to use in the way mentioned above, especially for string index signatures (arrays are less bad since you can make a <code>for..of</code> loop that doesn't worry about <code>undefined</code>), so the rest of this answer mostly stands.</p>\n<hr />\n<p>Right now your options are, as I see them:</p>\n<ul>\n<li><p>use an index signature without <code>| undefined</code> and deal with the fact that the compiler thinks all properties are present when some are not (do checks that the compiler doesn't think are necessary, like <code>if (unknownKey in foo) {... foo[unknownKey] ...}</code>)</p>\n</li>\n<li><p>use an index signature with <code>| undefined</code> (or use <code>--noUncheckedIndexedAccess</code> in TS4.1+) and deal with the fact that the compiler keeps warning you that a value might not be defined when you know it is (do extra checks you don't need, like <code>const prop = foo[knownKey]; if (typeof prop !== 'undefined') { ... prop ... }</code>; or non-null assertions like <code>const prop = foo[knownKey]!</code>)</p>\n</li>\n<li><p>don't use an index signature.  You might be able to get away with using a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> where the set of keys is some union of literals that you don't know when you're defining your types but you will know when you are using it.  That is, use the predefined <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.2.2/lib/lib.es5.d.ts#L1439-L1444\" rel=\"nofollow noreferrer\"><code>Record&lt;K, T&gt;</code></a> type:</p>\n<pre><code>  type Record&lt;K extends keyof any, T&gt; = {[P in K]: T};\n</code></pre>\n<p>But that gets more complicated when trying to manipulate, so I'm not going to dive too deeply in here.</p>\n</li>\n</ul>\n<p>Not sure what else to say.  It's a language limitation that persists because the alternatives seem to be more annoying.  If you have a compelling use case you might be able to comment on some of the linked GitHub issues or open a new one, but I don't expect much will change here.</p>\n<p>Oh well, hope that's of some help.  Good luck!</p>\n"}], "owner": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3078, "favorite_count": 0, "accepted_answer_id": 54448348, "answer_count": 2, "score": 3, "last_activity_date": 1602168073, "creation_date": 1548869001, "question_id": 54446157, "link": "https://stackoverflow.com/questions/54446157/type-an-object-with-optional-keys-but-non-null-value-for-keys-that-exist", "title": "Type an object with optional keys, but non-null value for keys that exist", "body": "<p>I'm on TypeScript 3.2.2 with <code>strict: true</code>.</p>\n\n<p>I've been unable to type a plain object that has a set of dynamically defined keys, but all those keys have a guaranteed non-null value type.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=declare%20function%20values%3CT%3E(something%3A%20%7B%20%5Bkey%3A%20string%5D%3A%20T%20%7D)%3A%20T%5B%5D%3B%0D%0A%0D%0Atype%20AnyObject%20%3D%20%7B%20%5Bkey%3A%20string%5D%3A%20any%20%7D%3B%0D%0A%0D%0Ainterface%20ObjectMap%3CT%3E%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20T%0D%0A%7D%0D%0A%0D%0Aconst%20object1%3A%20ObjectMap%3CAnyObject%3E%20%3D%20%7B%20key1%3A%20%7B%7D%2C%20key2%3A%20%7B%7D%20%7D%3B%20%0D%0Aconst%20valuesOfObject1%20%3D%20values(object1)%3B%20%20%20%20%20%20%20%20%2F%2F%20AnyObject%5B%5D%20%E2%9C%85%0D%0Aconst%20propertyAccess1%20%3D%20object1%5B&#39;lalala&#39;%5D.foo%3B%20%20%2F%2F%20Should&#39;ve%20errored%20%E2%9D%8C%0D%0A%0D%0A%0D%0A%2F%2F%20Trying%20to%20fix%20property%20access%0D%0Ainterface%20NullableObjectMap%3CT%3E%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20T%20%7C%20undefined%0D%0A%7D%0D%0A%0D%0Aconst%20object2%3A%20NullableObjectMap%3CAnyObject%3E%20%3D%20%7B%20key1%3A%20%7B%7D%2C%20key2%3A%20%7B%7D%20%7D%3B%20%0D%0Aconst%20valuesOfObject2%20%3D%20values(object2)%3B%20%20%20%20%20%20%20%20%20%2F%2F%20(AnyObject%20%7C%20undefined)%5B%5D%20%E2%9D%8C%20%0D%0Aconst%20propertyAccess2%20%3D%20object2%5B&#39;lalala&#39;%5D.foo%3B%20%20%20%2F%2F%20%E2%9C%85%0D%0A%0D%0A%0D%0A%2F%2F%20Ideal%20syntax%0D%0Ainterface%20ObjectMapWithNonNullTypeForDefinedKeys%3CT%3E%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3F%3A%20T%20%2F%2F%20doesn&#39;t%20compile%20%E2%9D%8C%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">[TypeScript playground example]</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Will assume any property access has type T\ninterface Object&lt;T&gt; {\n    [key: string]: T;\n}\n\n// Will assume Object.values() could be undefined\ninterface Object&lt;T&gt; {\n    [key: string]: T | undefined;\n}\n\n\n// Doesn't compile\ninterface Object&lt;T&gt; {\n    [key: string]?: T;\n}\n</code></pre>\n"}, {"tags": ["typescript", "commonjs", "es6-modules"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1548868949, "creation_date": 1548868949, "answer_id": 54446147, "question_id": 54446117, "link": "https://stackoverflow.com/questions/54446117/how-can-i-import-a-commonjs-module-that-exports-a-single-function-from-typescrip/54446147#54446147", "title": "How can I import a CommonJS module that exports a single function from TypeScript", "body": "<p>You can use export assignment, but you need to declare an intermediary <code>const</code> that will be typed as the function: </p>\n\n<pre><code>declare const def: () =&gt; void\nexport = def;\n</code></pre>\n"}], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548868949, "creation_date": 1548868828, "question_id": 54446117, "link": "https://stackoverflow.com/questions/54446117/how-can-i-import-a-commonjs-module-that-exports-a-single-function-from-typescrip", "title": "How can I import a CommonJS module that exports a single function from TypeScript", "body": "<p>Given this CommonJS module:</p>\n\n<pre><code>// cjs.js\nmodule.exports = () =&gt; console.log(\"hi\");\n</code></pre>\n\n<p>What can I put in my .d.ts</p>\n\n<pre><code>// cjs.d.ts\nexport ????\n</code></pre>\n\n<p>So that I can do a star import like this from a TypeScript file and pick up the correct types:</p>\n\n<pre><code>// main.ts\nimport * as log from \"./cjs\"\n\nlog()\n</code></pre>\n"}, {"tags": ["angular", "typescript", "getelementbyid"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1548868891, "post_id": 54445966, "comment_id": 95701370, "body": "You should probably avoid getting this value use DOM methods. Instead try using <a href=\"https://angular.io/api/forms/FormControl\" rel=\"nofollow noreferrer\">FormControl</a> to get/set the value of the respective control. Or even <a href=\"https://angular.io/api/core/Renderer2\" rel=\"nofollow noreferrer\">Renderer2</a> if you absolutely must use DOM methods."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548869621, "post_id": 54445966, "comment_id": 95701746, "body": "Do you get any error in the browser&#39;s console? (F12)"}, {"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1548870407, "post_id": 54445966, "comment_id": 95702117, "body": "@AlexanderStaroselsky I don&#39;t think this works with i18n... i18n for Angular is done in the HTML."}, {"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548870567, "post_id": 54445966, "comment_id": 95702208, "body": "@Lynx242 yes, I get the &quot;TypeError: Cannot read property &#39;value&#39; of null &lt;- it points directly to the getElementById&quot; error, pointing at that line for getElementById. I tried separating it into another method, checking its properly named, etc."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548874121, "post_id": 54445966, "comment_id": 95703987, "body": "Please, have a look at this page and the underlying stackblitz-link. Maybe this leads to a solution for you. <a href=\"https://github.com/angular/material2/issues/9350\" rel=\"nofollow noreferrer\">github.com/angular/material2/issues/9350</a>"}, {"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "edited": false, "score": 0, "creation_date": 1549048043, "post_id": 54445966, "comment_id": 95778295, "body": "I tried it in a barebones projcect and I got my code to work, but it won&#39;t work in my full project. I&#39;ve tried building it piece by piece to be similar but it always just says TypeError: Cannot read property &#39;value&#39; of null"}], "owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548872117, "creation_date": 1548868264, "last_edit_date": 1548870367, "question_id": 54445966, "link": "https://stackoverflow.com/questions/54445966/angular-page-wont-load-when-using-getelementbyid-value-to-obtain-value-of-i18n", "title": "Angular Page wont load when using getElementById().value to obtain value of i18n input", "body": "<p><strong>Details</strong>: I am using i18n to localize my Angular site for Spanish speakers.</p>\n\n<p>I can use controls[].value to get a value, but it is the one that was set in TypeScript, not the value that is in the actual DOM (translated by i18n). In other words, I can set \"English\" and in the PAGE itself, it will display \"Ingles\" but the console will still print \"English\"</p>\n\n<p><strong>Problem</strong>: When I use getElementById().value, the page just gets stuck on the Spinner.</p>\n\n<p><strong>Some things I've tried</strong>:</p>\n\n<ul>\n<li><p>I've tried testing with both hidden and non hidden elements</p></li>\n<li><p>I've tried it with div, i've tried it with input</p></li>\n<li><p>I've tried document.getElementById as well as document.getElementById</p></li>\n<li><p>As per <a href=\"https://stackoverflow.com/questions/40489919/why-am-i-getting-typeerror-cannot-read-property-value-of-null-when-using-ge\">Why am I getting &quot;TypeError: Cannot read property &#39;value&#39; of null&quot; when using getElementById?</a> , I tried those steps, including separating it out into another method but that didn't help. I still get this error in console: TypeError: Cannot read property 'value' of null  &lt;- it points directly to the getElementById</p></li>\n</ul>\n\n<p><strong>TS</strong>:</p>\n\n<pre><code>export class MyClass implements OnInit {\npublic unit: string;\n_pFrm: FormGroup;\n\nconstructor(private fb: FormBuilder) {}\n\nngOnInit() {\n   this.createForm();\n}\n\ncreateForm() {\n    //form builder stuff here\n    this._pFrm = this.fb.group({\n    firstName: [\"John\"]\n    english: [\"English\"]\n    });\n\n    console.log(this._pFrm.controls[\"firstName\"].value);\n    console.log(this._pFrm.controls[\"english\"].value);\n\n     const unit = (&lt;HTMLInputElement&gt;document.getElementById(\"testfield\")).value\n     console.log(unit); \n    }\n\n}\n</code></pre>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>&lt;mat-form-field class=\"input-width\"&gt;\n  &lt;input matInput i18n-placeholder=\"@@PH_J7_11\" placeholder=\"English\" id=\"testfield\" formControlName=\"english\" i18n-value=\"@@PH_H9_12\" value=\"English\"&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p><strong>Goal</strong>: I would like to be able to get the translated i18n value, which is in the DOM, to print to console. Instead it just gets stuck</p>\n"}, {"tags": ["javascript", "typescript", "debugging", "visual-studio-code"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 2, "creation_date": 1548868255, "post_id": 54445900, "comment_id": 95701039, "body": "Try adding <code>&quot;inlineSourceMap&quot;: true</code> to your <code>tsconfig.json</code> file. You might need to remove <code>&quot;sourceMap&quot;: true</code> for it to be inline."}, {"owner": {"reputation": 43, "user_id": 7480438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1fd22235a936c3aa948ddfc10ce3d9?s=128&d=identicon&r=PG&f=1", "display_name": "wolfinabox", "link": "https://stackoverflow.com/users/7480438/wolfinabox"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1548872212, "post_id": 54445900, "comment_id": 95703024, "body": "@GetOffMyLawn Thanks for the suggestion; doesn&#39;t appear to have changed the debug behavior, though."}, {"owner": {"reputation": 758, "user_id": 7943285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212581786924324/picture?type=large", "display_name": "Kaan Taha K&#246;ken", "link": "https://stackoverflow.com/users/7943285/kaan-taha-k%c3%b6ken"}, "edited": false, "score": 0, "creation_date": 1548897497, "post_id": 54445900, "comment_id": 95712412, "body": "I have never tried to compile the codes as you did in typescript, but as you now, typescript is a superset of javascript. As we expect, all the codes are compiled into javascript. I think it is normal"}], "owner": {"reputation": 43, "user_id": 7480438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1fd22235a936c3aa948ddfc10ce3d9?s=128&d=identicon&r=PG&f=1", "display_name": "wolfinabox", "link": "https://stackoverflow.com/users/7480438/wolfinabox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1548868069, "creation_date": 1548868069, "question_id": 54445900, "link": "https://stackoverflow.com/questions/54445900/debugging-typescript-in-vscode-steps-into-compiled-javascript-instead", "title": "Debugging TypeScript in VSCode steps into compiled JavaScript instead", "body": "<p>I'm trying to debug a TypeScript application (multiple files) in VSCode, however, when stepping into any other function, instead of taking me to its location in a .ts file, it takes me to the compiled .js file.\n<a href=\"https://giant.gfycat.com/VacantBewitchedHen.webm\" rel=\"nofollow noreferrer\">This is a video of what happens, exactly.</a> (Stepping from main.ts into a function in client.ts should take me to client.ts, not client.js)</p>\n\n<p>Versions:</p>\n\n<pre><code>VSCode: 1.30.2\nNode.js: 11.6.0\nTypeScript: 3.2.4\n</code></pre>\n\n<p>I've already tried using ts-node, and it had the same result.\nSource maps <em>are</em> enabled.</p>\n\n<ul>\n<li>launch.json: <a href=\"https://github.com/wolfinabox/Entropy-API/blob/master/.vscode/launch.json\" rel=\"nofollow noreferrer\">https://github.com/wolfinabox/Entropy-API/blob/master/.vscode/launch.json</a></li>\n<li>tasks.json:    <a href=\"https://github.com/wolfinabox/Entropy-API/blob/master/.vscode/tasks.json\" rel=\"nofollow noreferrer\">https://github.com/wolfinabox/Entropy-API/blob/master/.vscode/tasks.json</a></li>\n<li>tsconfig.json: <a href=\"https://github.com/wolfinabox/Entropy-API/blob/master/tsconfig.json\" rel=\"nofollow noreferrer\">https://github.com/wolfinabox/Entropy-API/blob/master/tsconfig.json</a></li>\n<li>Whole Project: <a href=\"https://github.com/wolfinabox/Entropy-API\" rel=\"nofollow noreferrer\">https://github.com/wolfinabox/Entropy-API</a></li>\n</ul>\n\n<p>I'd like to be able to debug TypeScript like most other languages in VSCode (Javascript, Python, etc). Step into functions and it takes me to the correct location, even if it's in another source file.</p>\n"}, {"tags": ["typescript", "google-cloud-firestore", "angular6", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 992, "user_id": 9577792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Ej9s.jpg?s=128&g=1", "display_name": "pepe", "link": "https://stackoverflow.com/users/9577792/pepe"}, "edited": false, "score": 0, "creation_date": 1548869926, "post_id": 54446010, "comment_id": 95701880, "body": "how can i write the function with onCall request?can you please explain it"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1548870457, "post_id": 54446010, "comment_id": 95702148, "body": "The second link Richard gave shows the documentation on creating Callable functions."}, {"owner": {"reputation": 992, "user_id": 9577792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Ej9s.jpg?s=128&g=1", "display_name": "pepe", "link": "https://stackoverflow.com/users/9577792/pepe"}, "edited": false, "score": 0, "creation_date": 1548871458, "post_id": 54446010, "comment_id": 95702650, "body": "i write a function using the example given in the link,it always giving an error of   error: {status: &quot;INVALID_ARGUMENT&quot;, message: &quot;Bad Request&quot;} ,   what&#39;s wrong with my code?"}, {"owner": {"reputation": 813, "user_id": 6262037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjFSr.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6262037/richard"}, "edited": false, "score": 0, "creation_date": 1548872471, "post_id": 54446010, "comment_id": 95703125, "body": "I&#39;m not familiar with the angular implementation, but with the firebase client SDK, you&#39;d execute a callable function as follows: <code>firebase.functions().httpsCallable(&#39;functionName&#39;)(requestDa&zwnj;&#8203;ta).then(...)</code>"}], "tags": [], "owner": {"reputation": 813, "user_id": 6262037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjFSr.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6262037/richard"}, "is_accepted": false, "score": 1, "last_activity_date": 1548870520, "last_edit_date": 1548870520, "creation_date": 1548868442, "answer_id": 54446010, "question_id": 54445826, "link": "https://stackoverflow.com/questions/54445826/firebase-firestore-http-function/54446010#54446010", "title": "firebase firestore http function", "body": "<p>It looks like you're attempting to use the <code>onRequest</code> function trigger, which requires a callback with a response and request parameters. You'll need to send something back to the client using <code>response.send()</code>.</p>\n\n<pre><code>functions.https.onRequest((request, response) =&gt; {\n  response.send('Success!');\n});\n</code></pre>\n\n<p>Alternatively, the structure you are using works with <code>https.onCall()</code></p>\n\n<p>Documentation for <code>onRequest</code>: <a href=\"https://firebase.google.com/docs/functions/http-events\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/http-events</a>\nDocumentation for <code>onCall</code>: <a href=\"https://firebase.google.com/docs/functions/callable\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/callable</a></p>\n"}], "owner": {"reputation": 992, "user_id": 9577792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Ej9s.jpg?s=128&g=1", "display_name": "pepe", "link": "https://stackoverflow.com/users/9577792/pepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548905763, "creation_date": 1548867842, "last_edit_date": 1548905763, "question_id": 54445826, "link": "https://stackoverflow.com/questions/54445826/firebase-firestore-http-function", "title": "firebase firestore http function", "body": "<p>I am calling a firebase firestore http function from my angular app, but it always returns an error.</p>\n\n<p>service.ts</p>\n\n<pre><code> constructor(private http: HttpClient, private afs: AngularFirestore,\n private fns: AngularFireFunctions, private afstorage: AngularFireStorage) { }\ncall(url: string) {\n\nthis.fns.httpsCallable(url)({ text: 'some-data' })\n  .pipe(first())\n  .subscribe(resp =&gt; {\n    console.log({ resp });\n  }, err =&gt; {\n    console.log({ error: err });\n  });\n\n}\n</code></pre>\n\n<p>index.ts</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\nadmin.initializeApp()\nconst cors = require('cors')({ origin: true });\n\nexport const hello = functions.region('asia- \nnortheast1').https.onRequest((data, context) =&gt; {\n    cors(data, context, () =&gt; { '' })\n    console.log('execution started');\n    console.log('data', data);\n    return;\n\n});\n</code></pre>\n"}, {"tags": ["typescript", "mixins"], "answers": [{"comments": [{"owner": {"reputation": 1508, "user_id": 2116361, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/nAyof.png?s=128&g=1", "display_name": "Hivaga", "link": "https://stackoverflow.com/users/2116361/hivaga"}, "edited": false, "score": 0, "creation_date": 1548869589, "post_id": 54445983, "comment_id": 95701732, "body": "Simply great :)! Now immediately the next question arrives is it possible to create sort of run-time multiple inheritance. Pseudo code will look like this:  classesMixin(class:A, class:B) // will return class C extends both A,B if we assume there is no collusion in method and property names and return types."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1508, "user_id": 2116361, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/nAyof.png?s=128&g=1", "display_name": "Hivaga", "link": "https://stackoverflow.com/users/2116361/hivaga"}, "edited": false, "score": 0, "creation_date": 1548870269, "post_id": 54445983, "comment_id": 95702038, "body": "@Hivaga  you can use multiple mixins ie <code>mixin1(mixin2(className))</code>. Multiple inheritance is not supported, but you can probably perform &#39;type surgery&#39; and get the effect you want that is <code>classesMixin(classA, classB)</code> to return a new class with the instance type <code>classA &amp; classB</code> but that is a whole other can of worms I can&#39;t answer in the comments (and I think I might have answered in the past something similar but with almost 2k answers its impossible to find anything)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1548868309, "creation_date": 1548868309, "answer_id": 54445983, "question_id": 54445817, "link": "https://stackoverflow.com/questions/54445817/typescript-arbitrary-class-mixins-function/54445983#54445983", "title": "Typescript arbitrary class mixins function", "body": "<p>Mixins as defined in the [PR] that introduces them are very particular about the constraint on the constructor. It should be <code>T extends new(...a: any[])=&gt;any</code>. The behavior will be that the constructor parameters will be preserved by the mixin which is probably what you want:</p>\n\n<pre><code>class A\n{\n    name: string;\n}\n\nfunction classMixin&lt;T extends new(...a: any[])=&gt;any&gt;(baseclass: T)\n{\n    return class extends baseclass\n    {\n        age: number;\n    }\n}\n\nlet c = classMixin(A);\nlet cc = new c();\n</code></pre>\n"}], "owner": {"reputation": 1508, "user_id": 2116361, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/nAyof.png?s=128&g=1", "display_name": "Hivaga", "link": "https://stackoverflow.com/users/2116361/hivaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 54445983, "answer_count": 1, "score": 1, "last_activity_date": 1548868309, "creation_date": 1548867804, "question_id": 54445817, "link": "https://stackoverflow.com/questions/54445817/typescript-arbitrary-class-mixins-function", "title": "Typescript arbitrary class mixins function", "body": "<p>In the example bellow I try to define function <strong><em>classMixin</em></strong> which will take arbitrary class and return a new class which extends this arbitrary class. But I get an error stating \"<em>type 'T' is not a constructor function type.</em>\"</p>\n\n<p>How to define a function in Typescript for creating at run-time class mixins?</p>\n\n<pre><code>class A\n{\n    name: string;\n}\n\nfunction classMixin&lt;T extends new()=&gt;any&gt;(baseclass: T)\n{\n    return class extends baseclass\n    {\n        age: number;\n    }\n}\n\nlet c = classMixin(A);\n</code></pre>\n"}, {"tags": ["asp.net", "angular", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1548867748, "post_id": 54445727, "comment_id": 95700770, "body": "...What&#39;s the error? Are you sure <code>result</code> isn&#39;t already a string array?"}, {"owner": {"reputation": 717, "user_id": 6273253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a06d758d977f5478f5b1ef6aa243ac?s=128&d=identicon&r=PG&f=1", "display_name": "AnaCS", "link": "https://stackoverflow.com/users/6273253/anacs"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1548868015, "post_id": 54445727, "comment_id": 95700908, "body": "@HereticMonkey if I make &quot; constructor(private http: HttpClient) {     this.http.get(&#39;/api/values&#39;).subscribe(result =&gt; {       this.values = result; &quot; the error is that type object is not assignable to type string[] which means result is type object and  I need it to be type string[]"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1548868075, "post_id": 54445727, "comment_id": 95700939, "body": "So, debugging JS 101: use <code>console.log(JSON.stringify(result))</code> and see what the result is."}, {"owner": {"reputation": 717, "user_id": 6273253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a06d758d977f5478f5b1ef6aa243ac?s=128&d=identicon&r=PG&f=1", "display_name": "AnaCS", "link": "https://stackoverflow.com/users/6273253/anacs"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1548868281, "post_id": 54445727, "comment_id": 95701055, "body": "it doesn&#39;t log anything because of the project not being solely in angular"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1548868370, "post_id": 54445727, "comment_id": 95701107, "body": "If it&#39;s a web page running in a browser, that should work if <code>console.error(error)</code> works..."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1548868451, "post_id": 54445727, "comment_id": 95701154, "body": "If you read the documentation, you will find a solution :) <a href=\"https://angular.io/guide/http#type-checking-the-response\" rel=\"nofollow noreferrer\">angular.io/guide/http#type-checking-the-response</a>"}], "owner": {"reputation": 717, "user_id": 6273253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a06d758d977f5478f5b1ef6aa243ac?s=128&d=identicon&r=PG&f=1", "display_name": "AnaCS", "link": "https://stackoverflow.com/users/6273253/anacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1548868773, "answer_count": 0, "score": 0, "last_activity_date": 1548933514, "creation_date": 1548867544, "last_edit_date": 1548933514, "question_id": 54445727, "link": "https://stackoverflow.com/questions/54445727/from-http-to-http-client-cant-get-my-object-to-become-a-string-array", "closed_reason": "Duplicate", "title": "from http to Http Client, cant get my object to become a string array", "body": "<p>I am new to angular, and this may be a dumb question but I am on this for some time now and can't find out how to fix it. \nI am following this tutorial </p>\n\n<p><a href=\"https://www.codeproject.com/Articles/1245243/How-to-Create-an-App-with-Angular-and-ASP-NET-C\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/1245243/How-to-Create-an-App-with-Angular-and-ASP-NET-C</a></p>\n\n<p>but now http has been deprecated and Angular now uses Http Client:</p>\n\n<p>I keep getting an error here</p>\n\n<pre><code>export class AppComponent {\n  title = 'BackEnd';\n  public values: string[];\n\n\n constructor(private http: Http) {\n    this.http.get('/api/values').subscribe(result =&gt; {\n      this.values = result.json() as string[];\n    }, error =&gt; console.error(error));\n  }\n</code></pre>\n\n<p>I understand you cant use json() on an object type , which is what subscribe returns but , this is a project integration with .net core 2.1 and I need to send data to my controller and in the tutorial the format of the data is string array so I tried the following: </p>\n\n<pre><code>   constructor(private http: HttpClient) {\n    this.http.get('/api/values').subscribe(result =&gt; {\n      this.values = this.values.push(JSON.stringify(result));\n    }, error =&gt; console.error(error));\n  }\n</code></pre>\n\n<p>since values is string array I thought I could just push, with a conversion to string, also tried String(result), but then gives me another error \"type number is not assignable to string[]\"\n... \nI am really confused on how to possible fix this, but I need to have this working in this particular way to fully integrate asp net core2 with angular6. </p>\n\n<p>(yes I know you can create the project from scratch on visual studio but I was asked to add an angular project to a particular .net core project already existing)</p>\n\n<p>By the way, this works for example : </p>\n\n<p>constructor(private http: HttpClient) {\n    this.values = [\"THIS IS A DUMB STATIC TEST\", \"ALSO THIS NEEDS TO BE AN ARRAY FOR THIS TEST SO HERE IT IS\"];</p>\n\n<p>Because here it is indeed a string array</p>\n"}, {"tags": ["arrays", "typescript", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1548867639, "post_id": 54445697, "comment_id": 95700717, "body": "The return type from the map is identified as <code>{ id: string; name: string; ceo: string; }[]</code> -- that much is fine. I think the question is why does tsc not complain when you try to return that value as a <code>input[]</code> but it fails when trying to directly return <code>[{ id: &#39;1&#39;, name: &#39;2&#39;, ceo: &#39;Eric&#39; }]</code>?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1548867781, "post_id": 54445697, "comment_id": 95700791, "body": "@p.s.w.g Because TS will only complain about excess property checks when an object literal is <b>directly</b> assigned to something that is expected to be of a specific type. In this case the <code>map</code> call gets typed independently , and the return type is types as an array of type <code>{ id: string , name: string , ceo: string  }[]</code>. Then this is assigned to an array of type <code>input[]</code> which is allowed and no excess property checks are performed"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1548867972, "post_id": 54445697, "comment_id": 95700890, "body": "@TitianCernicova-Dragomir Good explanation. I think that for the answer to be considered complete, it should include those details."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1548868171, "post_id": 54445697, "comment_id": 95700984, "body": "@p.s.w.g I would agree, apokryfos is free to include any part of that comment if he wants, his solution is the same code I would have posted so I&#39;m not going to add an answer myself"}, {"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1548868732, "post_id": 54445697, "comment_id": 95701297, "body": "Thank you for the comments. I&#39;ve updated my answer to hopefully cover the details."}], "tags": [], "owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "is_accepted": true, "score": 4, "last_activity_date": 1548868645, "last_edit_date": 1548868645, "creation_date": 1548867441, "answer_id": 54445697, "question_id": 54445577, "link": "https://stackoverflow.com/questions/54445577/does-typescript-not-check-types-on-the-result-of-an-array-map/54445697#54445697", "title": "Does typescript not check types on the result of an Array.map?", "body": "<p>Your map function does not specify a return type so it can return anything. If you want a stricter check you need to be explicit:</p>\n\n<pre><code>interface Company {\n  id: string;\n  name: string;\n}\n\ntype input = Company;\n\n// This fails as the types don't match\nconst ACME: input = { id: '123', name: 'ACME', ceo: 'Eric' };\n\nfunction mapIds(ids: string[]): input[] {\n  return ids.map((id):Company =&gt; ({ id: '1', name: '1', ceo: 'Eric' }));\n\n  // This fails as types don't match\n  return [{ id: '1', name: '2', ceo: 'Eric' }];\n}\n</code></pre>\n\n<p>The reason is that the <code>.map</code> function is a mapping operation intended to transform each element in the array to a new type. TypeScript does not know what that new type will be if you don't specify. </p>\n\n<p>To expand on the comments below. TSC objects to line <code>return [{ id: '1', name: '2', ceo: 'Eric' }];</code> because it expects a type of <code>input[]</code> which it is not. However <code>ids.map(id =&gt; ({ id: '1', name: '1', ceo: 'Eric' }));</code> by itself is fine (because .map can return any type) and that is then <em>assigned</em> to <code>input[]</code> which is allowed. </p>\n\n<p>Thanks to @TitianCernicova-Dragomir and @p.s.w.g for their comments on this.</p>\n"}], "owner": {"reputation": 1333, "user_id": 993663, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/63dda5a2c0e9492977092b0bea398173?s=128&d=identicon&r=PG", "display_name": "bag-man", "link": "https://stackoverflow.com/users/993663/bag-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 54445697, "answer_count": 1, "score": 5, "last_activity_date": 1548868645, "creation_date": 1548867033, "question_id": 54445577, "link": "https://stackoverflow.com/questions/54445577/does-typescript-not-check-types-on-the-result-of-an-array-map", "title": "Does typescript not check types on the result of an Array.map?", "body": "<pre><code>interface Company {\n  id: string;\n  name: string;\n}\n\ntype input = Company;\n\n// This fails as the types don't match\nconst ACME: input = { id: '123', name: 'ACME', ceo: 'Eric' };\n\nfunction mapIds(ids: string[]): input[] {\n  // This compiles, but it shouldn't, or is Array.map returning something different?\n  return ids.map(id =&gt; ({ id: '1', name: '1', ceo: 'Eric' }));\n\n  // This fails as types don't match\n  return [{ id: '1', name: '2', ceo: 'Eric' }];\n}\n\ufffc\n</code></pre>\n\n<p>Given the above code, the typescript compiler will not allow the function to return values that don't belong in the type, however if the return is from an Array.map, it does. You can see this with the above snippet on the Typescript Playground: <a href=\"https://www.typescriptlang.org/play/\" rel=\"noreferrer\">https://www.typescriptlang.org/play/</a></p>\n\n<p>Could anyone explain what's up with that?</p>\n"}, {"tags": ["typescript", "mongoose"], "comments": [{"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1548866940, "post_id": 54445462, "comment_id": 95700292, "body": "The reference of <code>this</code> cannot be bound in arrow functions and it always points to the global scope. Don&#39;t use an arrow function if you need <code>this</code> to reference something else."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 14, "last_activity_date": 1548867214, "creation_date": 1548867214, "answer_id": 54445635, "question_id": 54445462, "link": "https://stackoverflow.com/questions/54445462/mongoose-virtuals-with-typescript-error-the-containing-arrow-function-captures/54445635#54445635", "title": "mongoose virtuals with typescript error - The containing arrow function captures the global value of &#39;this&#39; which implicitly has type &#39;any&#39;", "body": "<p>Arrow functions by definition capture <code>this</code> from the declaration context. Since you are defining the function directly in the module this will be the global object. </p>\n\n<p>You want to a regular function. A regular function, when called on an object will have <code>this</code> passed into it as the actual object it was called on.</p>\n\n<p>You also need to add a type annotation for <code>this</code> (depeding on your strict settings but you mention you tried a regular function so this could be the issue), either <code>this: any</code> or something more specific to tell typescript you did not mistakenly access <code>this</code>  </p>\n\n<pre><code>UserSchema.virtual(\"username\").get(function(this: { firstName: string, lastName: string}) {\n  return this.firstName + \" \" + this.lastName ;\n}) ;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 12868761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0b226a2eeba846a4b2aa3e56e9b549d?s=128&d=identicon&r=PG&f=1", "display_name": "okirim", "link": "https://stackoverflow.com/users/12868761/okirim"}, "is_accepted": false, "score": 1, "last_activity_date": 1612280429, "creation_date": 1612280429, "answer_id": 66012890, "question_id": 54445462, "link": "https://stackoverflow.com/questions/54445462/mongoose-virtuals-with-typescript-error-the-containing-arrow-function-captures/66012890#66012890", "title": "mongoose virtuals with typescript error - The containing arrow function captures the global value of &#39;this&#39; which implicitly has type &#39;any&#39;", "body": "<p>we can also create a user  interface and make it like that :</p>\n<pre><code>IUser extends mongoose.Document{\nfirstname:string,\nlastname:string\n}\n\nUserSchema.virtual(&quot;username&quot;).get(function(this:IUser) {\n  return this.firstName + &quot; &quot; + this.lastName ;\n}) ;\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 10987869, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HvBsnxJ6ySw/AAAAAAAAAAI/AAAAAAAAEaU/3orJpQsNJpM/photo.jpg?sz=128", "display_name": "Dhaval Chokshi", "link": "https://stackoverflow.com/users/10987869/dhaval-chokshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3179, "favorite_count": 0, "accepted_answer_id": 54445635, "answer_count": 2, "score": 6, "last_activity_date": 1612280429, "creation_date": 1548866601, "last_edit_date": 1548868847, "question_id": 54445462, "link": "https://stackoverflow.com/questions/54445462/mongoose-virtuals-with-typescript-error-the-containing-arrow-function-captures", "title": "mongoose virtuals with typescript error - The containing arrow function captures the global value of &#39;this&#39; which implicitly has type &#39;any&#39;", "body": "<p>I am trying to use mongoose virtuals with typescript. And not able to make it work. I get error related to using this in the code. I checked many references but could not find a reference to make this work. </p>\n\n<p>\"[ts] The containing arrow function captures the global value of 'this' which implicitly has type 'any'. [7041]\"</p>\n\n<pre><code>export const UserSchema = new Schema({\n    firstName: {\n        type: String\n    },\n    lastName: {\n        type: String\n    },\n    roleId: {\n        alias: \"group\",\n        type: String\n    }\n}, {\n    toJSON: {\n        transform: (doc, ret, options) =&gt; {\n            delete ret.id ;\n            delete ret.roleId ;\n            return ret ;\n        },\n        virtuals: true,\n    }\n});\n\nUserSchema.virtual(\"username\").get(() =&gt; {\n    return this.firstName + \" \" + this.lastName ;\n}) ;\n</code></pre>\n\n<p>I am expecting a new property \"username\" which combines values of \"firstName lastName\"</p>\n\n<p>Alternative code but same error -</p>\n\n<pre><code>UserSchema.virtual(\"username\").get(function() {\n    return this.firstName + \" \" + this.lastName ;\n}) ;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1548870473, "post_id": 54445158, "comment_id": 95702156, "body": "Thanks Titian, but with if I just use      <code>function &lt;P extends Partial&lt;IFilter&gt;&gt;(o: P) {         return o      }</code>  The return will be typed as  all the fields of IFilter possibly undefined."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 1, "creation_date": 1548870596, "post_id": 54445158, "comment_id": 95702221, "body": "@BenCarp yes it will not, that is why I use a function that returns a function. If you don&#39;t need such a genera solution (ie just for <code>Filter</code> not any <code>T</code>) you can use <code>function &lt;P extends Partial&lt;Filter&gt;&gt;(o: P) { return o }</code>"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1548871714, "post_id": 54445158, "comment_id": 95702793, "body": "from what I read <a href=\"https://github.com/Microsoft/TypeScript/pull/26349\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/pull/26349</a> allows you to provide a symbol for a type parameter to be inferred from the actual  parameters which are provided to the function. Though I guess if you combine it with Pick you can get a sub/Partial object (without undefined) as discussed above."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 1, "creation_date": 1548871909, "post_id": 54445158, "comment_id": 95702875, "body": "@BenCarp The refenced issue is still not part of typescirpt, not even typescript@next, so I hesitate to speculate how it would work. My gues would be you could define the function as <code>function createPartial&lt;T, P extends Partial&lt;T&gt;&gt;(o: P) {     return o; }</code> and call it with <code>createPartial&lt;Filter, _&gt;({ max : 10 })</code> but that is mostly speculation based on reading the issue"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1548865695, "creation_date": 1548865695, "answer_id": 54445158, "question_id": 54445024, "link": "https://stackoverflow.com/questions/54445024/in-typescript-is-there-a-way-to-constrain-an-object-to-be-a-sub-of-another-objec/54445158#54445158", "title": "In Typescript is there a way to constrain an object to be a sub of another object without typing all fields as undefined?", "body": "<p>You can create a  function that takes in the filter type <code>T</code> and an object that is of a type that extends is a <code>Partial&lt;T&gt;</code>. This  is expressed as an extra type parameter that extends <code>Partial&lt;T&gt;</code>. This means that the actual type of the object passed in will be preserved, so after the object is created there are no extra fields that can be <code>undefined</code> on the object:</p>\n\n<pre><code>interface Filter {\n    searchText: string;\n    min: number;\n    max: number;\n}\n\nfunction createPartial&lt;T&gt;() {\n    return function &lt;P extends Partial&lt;T&gt;&gt;(o: P) {\n        return o\n    }\n}\n\nlet subFilter = createPartial&lt;Filter&gt;()({\n    min: 1,\n})\nsubFilter.min // ok\nsubFilter.max // err\n</code></pre>\n\n<p><strong>Note</strong>: We need to use a function taht returns a function because typescript does not support partial type inference. The function above will work for any <code>T</code>, but you could create a version specific to a certain type (ie <code>Filter</code>) and remove thus the necessity for this trick. Also <a href=\"https://github.com/Microsoft/TypeScript/pull/26349\" rel=\"nofollow noreferrer\">partial type inference</a> may hit Typescript soon enough.</p>\n"}], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 54445158, "answer_count": 1, "score": 1, "last_activity_date": 1549688284, "creation_date": 1548865249, "last_edit_date": 1549688284, "question_id": 54445024, "link": "https://stackoverflow.com/questions/54445024/in-typescript-is-there-a-way-to-constrain-an-object-to-be-a-sub-of-another-objec", "title": "In Typescript is there a way to constrain an object to be a sub of another object without typing all fields as undefined?", "body": "<p>More specifically, is there a way to constrain a parameter <code>someFilters</code> to be an object which is a sub/partial of another object <code>filters</code>, such that <code>typof someFilters[key] = typeof filters[key]</code> (But not necessarily the other way around)?</p>\n\n<p>Partial won't do since it defines all of the fields as possibly undefined. Pick requires you to know the keys in advance, while I'm trying to define a general function. I'm looking for either a function generic, or perhaps a type generic that just accepts one type parameter - the type of the big object we are referring to. </p>\n"}, {"tags": ["typescript", "mocha.js", "webstorm", "vue-cli", "vue-cli-3"], "answers": [{"comments": [{"owner": {"reputation": 903, "user_id": 1431656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a7a73e865fd51648231ad358926a4143?s=128&d=identicon&r=PG", "display_name": "Jeep87c", "link": "https://stackoverflow.com/users/1431656/jeep87c"}, "edited": false, "score": 0, "creation_date": 1548874340, "post_id": 54446178, "comment_id": 95704092, "body": "Thanks for pointing out this. Hopefully they will support it soon. Until then, any workaround so we can debug our mocha tests with WebStorm?"}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "reply_to_user": {"reputation": 903, "user_id": 1431656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a7a73e865fd51648231ad358926a4143?s=128&d=identicon&r=PG", "display_name": "Jeep87c", "link": "https://stackoverflow.com/users/1431656/jeep87c"}, "edited": false, "score": 0, "creation_date": 1548875279, "post_id": 54446178, "comment_id": 95704577, "body": "you can try running them using Node.js configuration"}], "tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": false, "score": 2, "last_activity_date": 1548869074, "creation_date": 1548869074, "answer_id": 54446178, "question_id": 54444933, "link": "https://stackoverflow.com/questions/54444933/how-to-configure-webstorm-to-run-spec-ts-using-mocha-for-brand-new-vue-project/54446178#54446178", "title": "How to configure Webstorm to run *.spec.ts using Mocha for brand new Vue project", "body": "<p>Running Mocha tests with vue cli is not currently supported, please vote for <a href=\"https://youtrack.jetbrains.com/issue/WEB-34938\" rel=\"nofollow noreferrer\">WEB-34938</a> to be notified on any progress with this feature.</p>\n"}], "owner": {"reputation": 903, "user_id": 1431656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a7a73e865fd51648231ad358926a4143?s=128&d=identicon&r=PG", "display_name": "Jeep87c", "link": "https://stackoverflow.com/users/1431656/jeep87c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548869074, "creation_date": 1548864980, "question_id": 54444933, "link": "https://stackoverflow.com/questions/54444933/how-to-configure-webstorm-to-run-spec-ts-using-mocha-for-brand-new-vue-project", "title": "How to configure Webstorm to run *.spec.ts using Mocha for brand new Vue project", "body": "<p>I can't figure out how to properly setup my WebStorm environment with a brand new created Vue project using the Vue CLI 3...</p>\n\n<p>Repro step:</p>\n\n<ol>\n<li><code>npm install -g @vue/cli</code> (my version is latest 3.3.0)</li>\n<li>New project in WebStorm</li>\n<li>Select Vue.js</li>\n<li>Specify the Vue/cli directory (For me it was /usr/local/lib/node_modules/@vue/cli)</li>\n<li>Select <em>Manually select features</em></li>\n<li>Select all except PWA (Babel, Typescript, Router, Vuex, CSS Pre-processors, Linter/Formatter Unit/E2E Testing)</li>\n<li>Default configs until for testing</li>\n<li>Select <em>Mocha + Chai</em> for unit tests</li>\n<li>Select <em>Nightwatch</em> for E2E tests</li>\n<li>Config files in dedicated files</li>\n</ol>\n\n<p>Once the project is created, if I right click on the generated unit test file it tries to run it using Jest...</p>\n\n<p>I tried to manually create a a config using Mocha, but can't figure it out... I tried adding <em>Compile TypeScript</em> as a before launch step, tried adding <code>--require ts-node/register</code> after doing <code>npm i -D ts-node</code> but without success...</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1548864295, "creation_date": 1548864295, "answer_id": 54444717, "question_id": 54444251, "link": "https://stackoverflow.com/questions/54444251/is-it-possible-to-get-the-resolved-type-of-a-promise/54444717#54444717", "title": "Is it possible to get the &quot;resolved&quot; type of a promise?", "body": "<p>You can use a conditional type:</p>\n\n<pre><code>export type UnBoxPromise&lt;T&gt; = T extends Promise&lt;infer U&gt; ? U : never;\nexport declare const getUser: (id: string) =&gt; Promise&lt;User&gt;;\nconst fetchUserSuccess = createAction(\n    'users/GET_ONE_SUCCESS',\n    (user: UnBoxPromise&lt;ReturnType&lt;typeof getUser&gt;&gt;) =&gt; user,\n);\n</code></pre>\n"}], "owner": {"reputation": 9195, "user_id": 1150599, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ndWQ0.jpg?s=128&g=1", "display_name": "corvid", "link": "https://stackoverflow.com/users/1150599/corvid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 54444717, "answer_count": 1, "score": 0, "last_activity_date": 1548864295, "creation_date": 1548862763, "question_id": 54444251, "link": "https://stackoverflow.com/questions/54444251/is-it-possible-to-get-the-resolved-type-of-a-promise", "title": "Is it possible to get the &quot;resolved&quot; type of a promise?", "body": "<p>I have a function that's defined like this from a library.</p>\n\n<pre><code>export declare const getUser: (id: string) =&gt; Promise&lt;User&gt;;\n</code></pre>\n\n<p>I am trying to get the type of what the promise resolves.</p>\n\n<p>I am able to do the following to get the promise:</p>\n\n<pre><code>const fetchUserSuccess = createAction(\n  'users/GET_ONE_SUCCESS',\n  (user: ReturnType&lt;typeof API.getUser&gt;) =&gt; user,\n);\n</code></pre>\n\n<p>However, this will simply give me <code>Promise&lt;User&gt;</code> for the <code>user</code> output, when I need to extract <code>User</code></p>\n\n<p>is this possible to do with typescript?</p>\n"}, {"tags": ["reactjs", "typescript", "d3.js"], "comments": [{"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 1, "creation_date": 1548862680, "post_id": 54444193, "comment_id": 95697658, "body": "gist is good, but demo would be better"}, {"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1548862721, "post_id": 54444193, "comment_id": 95697692, "body": "Are you sure you are using reactjs ?"}, {"owner": {"reputation": 127, "user_id": 10844411, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9g5nKtHv-BI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaAsL1QOjm8wnVY_E2sJg78q6bAZg/mo/photo.jpg?sz=128", "display_name": "Francis Chang", "link": "https://stackoverflow.com/users/10844411/francis-chang"}, "edited": false, "score": 0, "creation_date": 1548865667, "post_id": 54444193, "comment_id": 95699485, "body": "what i did was i selectAll(&quot;path&quot;) which probably selected the other paths as well, which i should&#39;ve does was select a class and attribute that classname to the appended path. this worked lol dumb mistake"}], "owner": {"reputation": 127, "user_id": 10844411, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9g5nKtHv-BI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaAsL1QOjm8wnVY_E2sJg78q6bAZg/mo/photo.jpg?sz=128", "display_name": "Francis Chang", "link": "https://stackoverflow.com/users/10844411/francis-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548862582, "creation_date": 1548862582, "question_id": 54444193, "link": "https://stackoverflow.com/questions/54444193/unable-to-render-a-path-on-a-map", "title": "unable to render a path on a map", "body": "<pre><code>const flightPath = {\n    type: \"FeatureCollection\",\n    features: [\n        {\n            type: \"Feature\",\n            geometry: {\n                type: \"LineString\",\n                coordinates: [\n                    [-87.6862308732, 41.8372950615],\n                    [-118.408500088, 34.1182277898]\n                ]\n            },\n            properties: {}\n        }\n    ]\n};\n</code></pre>\n\n<p>i have the above geojson that i'd like to render a path along a geomercator projection and it seems to be not rendering. </p>\n\n<p>here is more related code</p>\n\n<pre><code>const projection: GeoProjection = geoMercator();\nconst path = geoPath().projection(projection);\n\nmapSelection\n            .selectAll(\"path\")\n            .data(flightPath.features)\n            .enter()\n            .append(\"path\")\n            .attr(\"d\", path as any)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", \"5px\");\n</code></pre>\n\n<p>here is the related gist <a href=\"https://gist.github.com/fc373745/a88702de093f1306e6e02fef72fbf2e7\" rel=\"nofollow noreferrer\">https://gist.github.com/fc373745/a88702de093f1306e6e02fef72fbf2e7</a></p>\n"}, {"tags": ["reactjs", "typescript", "styled-components"], "comments": [{"owner": {"reputation": 7985, "user_id": 3918577, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cfZLg.jpg?s=128&g=1", "display_name": "Belmin Bedak", "link": "https://stackoverflow.com/users/3918577/belmin-bedak"}, "edited": false, "score": 0, "creation_date": 1548861710, "post_id": 54443692, "comment_id": 95697008, "body": "You are missing one <code>}</code> here <code>&lt;TextField icon={&lt;PersonOutline size=&quot;20&quot; color={colors.gray500}&#47;&gt;} type={&#39;text&#39;} placeholder={&#39;Name&#39;} &#47;&gt;</code>  So it should be like this <code>&lt;TextField icon={&lt;PersonOutline size=&quot;20&quot; color={colors.gray500}&#47;&gt;} type={&#39;text&#39;} placeholder={&#39;Name&#39;} &#47;&gt;}&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9419807, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T390s90mfmA/AAAAAAAAAAI/AAAAAAAAABg/wTAWkqk64C0/photo.jpg?sz=128", "display_name": "Dmitry Ko.", "link": "https://stackoverflow.com/users/9419807/dmitry-ko"}, "is_accepted": false, "score": 0, "last_activity_date": 1548865575, "creation_date": 1548865575, "answer_id": 54445124, "question_id": 54443692, "link": "https://stackoverflow.com/questions/54443692/react-typescript-styled-icon-as-prop/54445124#54445124", "title": "React + Typescript styled-icon as prop", "body": "<p>It was because</p>\n\n<blockquote>\n  <p>If you are using Next.js, you likely also want to install next-plugin-styled-icons to take advantage of tree shaking.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 9419807, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T390s90mfmA/AAAAAAAAAAI/AAAAAAAAABg/wTAWkqk64C0/photo.jpg?sz=128", "display_name": "Dmitry Ko.", "link": "https://stackoverflow.com/users/9419807/dmitry-ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548865575, "creation_date": 1548861053, "question_id": 54443692, "link": "https://stackoverflow.com/questions/54443692/react-typescript-styled-icon-as-prop", "title": "React + Typescript styled-icon as prop", "body": "<p>when I try to pass styled-icon as prop to component, i get an error: </p>\n\n<p>Unhandled Rejection (SyntaxError): Unexpected identifier.</p>\n\n<pre><code>import { PersonOutline } from 'styled-icons/material/PersonOutline'\n</code></pre>\n\n<p>here is props for my TextField component</p>\n\n<pre><code>import { StyledIcon } from 'styled-icons/types';\n\n\ninterface IProps {\n  type: string;\n  placeholder: string;\n  icon: StyledIcon;\n}\n\nconst TextField = (props: IProps) =&gt; {...\n</code></pre>\n\n<p>and my TextField looked like:</p>\n\n<pre><code>&lt;TextField icon={&lt;PersonOutline size=\"20\" color={colors.gray500}/&gt;} type={'text'} placeholder={'Name'} /&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "edited": false, "score": 0, "creation_date": 1548862913, "post_id": 54443711, "comment_id": 95697804, "body": "Hey, this is amazing. The strings example does make it a little more simplified. I&#39;m struggling something a little more complex, I added an example above."}, {"owner": {"reputation": 1619, "user_id": 2874705, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/406c6621f439dbbad8851314fd66fbd4?s=128&d=identicon&r=PG&f=1", "display_name": "apieceofbart", "link": "https://stackoverflow.com/users/2874705/apieceofbart"}, "edited": false, "score": 0, "creation_date": 1571925355, "post_id": 54443711, "comment_id": 103407380, "body": "@Grassator mapping example won&#39;t work if the interfaces are non-trivial, so I think in this case only function overloads work"}], "tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": false, "score": 4, "last_activity_date": 1548861117, "creation_date": 1548861117, "answer_id": 54443711, "question_id": 54443482, "link": "https://stackoverflow.com/questions/54443482/is-there-a-way-to-return-a-specific-type-from-a-function-that-can-return-multipl/54443711#54443711", "title": "Is there a way to return a specific type from a function that can return multiple?", "body": "<p>There are several ways to do it. My favorite one would be to use a \"mapping type\":</p>\n\n<pre><code>interface HelloMapping {\n  'Alpha': Alpha\n  'Beta': Beta\n  'Gamma': Gamma\n}\n\nconst hello = &lt;T extends keyof HelloMapping&gt;(arg: T)\n  : HelloMapping[T] =&gt; {\n  if (arg === 'Alpha') return {} as Alpha;\n  if (arg === 'Beta') return {} as Beta;\n  if (arg === 'Gamma') return {} as Gamma;\n  throw new Error('meow');\n};\n</code></pre>\n\n<p>You can also do via overloads:</p>\n\n<pre><code>function hello(arg: 'Alpha'): Alpha\nfunction hello(arg: 'Beta'): Beta\nfunction hello(arg: 'Gamma'): Gamma\nfunction hello(arg: 'Alpha' | 'Beta' | 'Gamma') {\n  if (arg === 'Alpha') return {} as Alpha;\n  if (arg === 'Beta') return {} as Beta;\n  if (arg === 'Gamma') return {} as Gamma;\n  throw new Error('meow');\n};\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1548863038, "creation_date": 1548860322, "last_edit_date": 1548863038, "question_id": 54443482, "link": "https://stackoverflow.com/questions/54443482/is-there-a-way-to-return-a-specific-type-from-a-function-that-can-return-multipl", "title": "Is there a way to return a specific type from a function that can return multiple?", "body": "<p>I'm looking for a way to have a function that can return multiple types and the return value is assigned to one of the types from the union.</p>\n\n<pre><code>interface Alpha {}\ninterface Beta {}\ninterface Gamma {}\n\nconst hello = (arg): Alpha | Beta | Gamma =&gt; {\n  if (arg === 'Alpha') return {} as Alpha;\n  if (arg === 'Beta') return {} as Beta;\n  if (arg === 'Gamma') return {} as Gamma;\n  throw new Error('meow');\n};\n\nconst x = hello('Beta');\n</code></pre>\n\n<p>Currently <code>x</code> can be <code>Alpha | Beta | Gamma</code> but the runtime knows it is <code>Beta</code>. Is it possible for <code>x</code> to know it is of type <code>Beta</code>?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here's an example with a <code>Recipe</code> interface with a date and it's nullable, and a <code>RecipeQuery</code> that allows you to query for non-nullable results.</p>\n\n<pre><code>interface Recipe {\n  date: Date | null\n}\n\ninterface RecipeQuery {\n  date: {\n    null: boolean\n  }\n}\n</code></pre>\n\n<p>I'm trying to do an overload that says if the query is <code>null</code> <code>false</code> that the date in <code>Recipe</code> will now always be a <code>string</code>, not a union.</p>\n\n<pre><code>function Query(q: Merge&lt;RecipeQuery, { date: { null: false } }&gt;): Merge&lt;Recipe, { date: Date }&gt;;\n</code></pre>\n\n<p>This doesn't work correctly.</p>\n\n<p>Essentially what I want is this:</p>\n\n<pre><code>function query(recipeQuery: RecipeQuery) {\n  if (recipeQuery.date.null === true) return { date: null } as Recipe;\n  if (recipeQuery.date.null === false) return { date: new Date } as Merge&lt;Recipe, { date: Date }&gt;;\n  throw new Error('');\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux", "typesafe-actions"], "comments": [{"owner": {"reputation": 3385, "user_id": 33682, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4680c3e4cd9ba3197f16833edf0fa7e0?s=128&d=identicon&r=PG", "display_name": "James Crowley", "link": "https://stackoverflow.com/users/33682/james-crowley"}, "edited": false, "score": 1, "creation_date": 1556877925, "post_id": 54443314, "comment_id": 98585927, "body": "Unfortunately you can&#39;t use &#39;dynamic&#39; strings to define the action constants, and have the TypeScript type resolution work in the switch statement - they can only be string literals. So your &#39;getAsyncActionConstants&#39; function is the problem. See the notes here: <a href=\"https://github.com/piotrwitek/typesafe-actions#constants\" rel=\"nofollow noreferrer\">github.com/piotrwitek/typesafe-actions#constants</a>"}], "owner": {"reputation": 13099, "user_id": 3723993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff1de7f1a325c8005379a310949f7f23?s=128&d=identicon&r=PG", "display_name": "Danziger", "link": "https://stackoverflow.com/users/3723993/danziger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1450, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1548859831, "creation_date": 1548859831, "question_id": 54443314, "link": "https://stackoverflow.com/questions/54443314/narrow-down-typescript-action-type-when-using-typesafe-actionss-createasyncacti", "title": "Narrow down TypeScript action type when using typesafe-actions&#39;s createAsyncAction", "body": "<p>When using <a href=\"https://github.com/piotrwitek/typesafe-actions\" rel=\"nofollow noreferrer\"><code>typesafe-actions</code></a> we can create an action without using constants in our application like so:</p>\n\n<pre><code>export const toggle = createStandardAction('todos/TOGGLE')&lt;string&gt;();\n</code></pre>\n\n<p>And then in the reducer we would do something like this to narrow down the type on each <code>case</code> block:</p>\n\n<pre><code>import { ActionType, getType } from 'typesafe-actions';\nimport * as todos from './actions';\n\ntype TodosAction = ActionType&lt;typeof todos&gt;;\n\nexport default (state: Todo[] = [], action: TodosAction) =&gt; {\n    switch (action.type) {\n        case getType(todos.add):\n            // Below action type is narrowed to: { type: \"todos/ADD\"; payload: Todo; }\n            return [...state, action.payload];\n\n        ...\n\n        default:\n            return state;\n}\n</code></pre>\n\n<p>However, in my case, I'm using the <a href=\"https://github.com/piotrwitek/typesafe-actions#--the-async-flow\" rel=\"nofollow noreferrer\"><code>async-flow</code></a>, so my actions look like this:</p>\n\n<pre><code>import { ActionType, createAsyncAction } from 'typesafe-actions';\n\nimport {\n    getAsyncFetchActionConstants,\n    getAsyncCreateActionConstants,\n    getAsyncDeleteActionConstants,\n} from '../utils/asyncActions.utils';\n\nconst BASE_ACTION = 'AUTH';\n\nexport const fetchAuth = createAsyncAction(\n    ...getAsyncFetchActionConstants(BASE_ACTION))&lt;void, AuthState, Error&gt;();\n\nexport const createAuth = createAsyncAction(\n    ...getAsyncCreateActionConstants(BASE_ACTION))&lt;void, AuthState, Error&gt;();\n\nexport const deleteAuth = createAsyncAction(\n    ...getAsyncDeleteActionConstants(BASE_ACTION))&lt;void, AuthState, Error&gt;();\n\nexport type AuthRequestActions\n    = ActionType&lt;typeof fetchAuth.request&gt; | ActionType&lt;typeof createAuth.request&gt; | ActionType&lt;typeof deleteAuth.request&gt;;\n\nexport type AuthSuccessActions\n    = ActionType&lt;typeof fetchAuth.success&gt; | ActionType&lt;typeof createAuth.success&gt; | ActionType&lt;typeof deleteAuth.success&gt;;\n\nexport type AuthErrorActions\n    = ActionType&lt;typeof fetchAuth.failure&gt; | ActionType&lt;typeof createAuth.failure&gt; | ActionType&lt;typeof deleteAuth.failure&gt;;\n\nexport type AuthActions = AuthRequestActions | AuthSuccessActions | AuthErrorActions;\n</code></pre>\n\n<p><code>getAsync[Fetch|Create|Delete]ActionConstants</code> are just helper functions that return an array of 3 strings:</p>\n\n<pre><code>export function getAsyncActionConstants(actionName, entityName): [string, string, string] {\n    return [\n        `${ actionName }_${ entityName }_${ ASYNC_REQUEST }`,\n        `${ actionName }_${ entityName }_${ ASYNC_SUCCESS }`,\n        `${ actionName }_${ entityName }_${ ASYNC_FAILURE }`,\n    ];\n}\n</code></pre>\n\n<p>And in my reducer I have:</p>\n\n<pre><code>import { getType } from 'typesafe-actions';\n\nimport { AUTH_INITIAL_STATE } from './auth.constants';\nimport { fetchAuth, createAuth, deleteAuth, AuthActions, AuthActions } from './auth.actions';\n\nexport function authReducer(state: AuthState = AUTH_INITIAL_STATE, action: AuthActions) {\n    switch (action.type) {\n\n        case getType(fetchAuth.success):\n            // TS ERROR: Property 'payload' does not exist on type 'AuthActions'. Property 'payload' does not exist on type 'EmptyAction&lt;string&gt;'.\n            return action.payload;\n\n        ...\n\n        default:\n            return state;\n    }\n}\n</code></pre>\n\n<p>I'd like to be able to get this working as in the first (non-async) example without casting.</p>\n\n<p>Also, it would be great if someone can suggest how to generate the <code>type AuthActions</code> without so much boilerplate.</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "google-maps"], "answers": [{"tags": [], "owner": {"reputation": 1041, "user_id": 4925564, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/c6QYN.jpg?s=128&g=1", "display_name": "Rinktacular", "link": "https://stackoverflow.com/users/4925564/rinktacular"}, "is_accepted": false, "score": -1, "last_activity_date": 1548863918, "creation_date": 1548863918, "answer_id": 54444599, "question_id": 54443170, "link": "https://stackoverflow.com/questions/54443170/google-maps-css-overrides-my-own-styles-how-can-i-prevent-that/54444599#54444599", "title": "Google map&#39;s css overrides my own styles, how can I prevent that?", "body": "<p>So the classes you are using in your angular app are named the same thing in the styles from the Google Maps API.</p>\n\n<p>Your styles are imported in the order that you have them in your <code>angular.json</code> file, then your index.html file loads its' scripts once it is initialized which happens after your style sheets from <code>angular.json</code> is read.</p>\n\n<p>So it seems your option is to change the name of the classes that are being overwritten so that Google does not overwrite them because I do not know of an NPM Package for Google Maps that is kept up to date with the current Google Maps, but if you find one, that might work too.</p>\n"}, {"tags": [], "owner": {"reputation": 284, "user_id": 6779633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db79afa32ddc64ede1183edef102355?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Holzapfel", "link": "https://stackoverflow.com/users/6779633/stefan-holzapfel"}, "is_accepted": false, "score": 1, "last_activity_date": 1548870714, "creation_date": 1548870714, "answer_id": 54446638, "question_id": 54443170, "link": "https://stackoverflow.com/questions/54443170/google-maps-css-overrides-my-own-styles-how-can-i-prevent-that/54446638#54446638", "title": "Google map&#39;s css overrides my own styles, how can I prevent that?", "body": "<p>Thanks guys, I think I have the answer to my question. </p>\n\n<p>In case anyone else stumbles over that stupid mistake:</p>\n\n<p>I use Angular Material which in turn uses Roboto Medium as a default font.</p>\n\n<p>Since I didn't install the correct webfont, my application used Arial as a fallback.</p>\n\n<p>Now when I load the Google Maps script, which also uses Roboto and loads that font correctly, my whole application switches from Arial to Roboto. </p>\n\n<p>That made me think that styles are overwritten.</p>\n\n<p>(And thanks Lorenz for handling my poor writing :))</p>\n"}], "owner": {"reputation": 284, "user_id": 6779633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db79afa32ddc64ede1183edef102355?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Holzapfel", "link": "https://stackoverflow.com/users/6779633/stefan-holzapfel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1548870714, "creation_date": 1548859410, "last_edit_date": 1548859673, "question_id": 54443170, "link": "https://stackoverflow.com/questions/54443170/google-maps-css-overrides-my-own-styles-how-can-i-prevent-that", "title": "Google map&#39;s css overrides my own styles, how can I prevent that?", "body": "<p>I'm using Angular 7.2.2 with Typescript.</p>\n\n<p>I'm importing Google Maps from \"<a href=\"https://maps.googleapis.com/maps/api/js?key=myAPIkey\" rel=\"nofollow noreferrer\">https://maps.googleapis.com/maps/api/js?key=myAPIkey</a>\" via <code>&lt;script&gt;</code>-tag in my index.html</p>\n\n<p>As soon as the script has finished loading, I can see some of my styles being overwritten application wide by Google Map's styles. </p>\n\n<p>How can I prevent this and ensure that Google Map's styles are only applied to the component in which I will render the map?</p>\n\n<p>I have tried to load the script dynamically from within the displaying component, but obviously the style encapsulation works only for styles provided by the \"styleUrls\" parameter.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["typescript", "react-native", "redux-thunk"], "comments": [{"owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "edited": false, "score": 1, "creation_date": 1548859036, "post_id": 54442870, "comment_id": 95695137, "body": "Can you provide the Repeating interface? I have an idea of what&#39;s wrong but need that code to confirm, thanks."}, {"owner": {"reputation": 737, "user_id": 105367, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bee024ad9234098c14cb1ab5b3ea72c8?s=128&d=identicon&r=PG", "display_name": "jyurek", "link": "https://stackoverflow.com/users/105367/jyurek"}, "reply_to_user": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "edited": false, "score": 0, "creation_date": 1548859442, "post_id": 54442870, "comment_id": 95695393, "body": "Yes, I added that in."}], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 105367, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bee024ad9234098c14cb1ab5b3ea72c8?s=128&d=identicon&r=PG", "display_name": "jyurek", "link": "https://stackoverflow.com/users/105367/jyurek"}, "edited": false, "score": 0, "creation_date": 1548872870, "post_id": 54444581, "comment_id": 95703303, "body": "Yes. redux-thunk adds a middleware so that action creators can return a function to do computations and then dispatch (or not) later. The problem is that <code>store.dispatch</code> doesn&#39;t seem to have a type signature that takes this change into consideration. My question is &quot;Is that my fault or redux-thunk&#39;s fault, and either way, what can I do?&quot;"}, {"owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "reply_to_user": {"reputation": 737, "user_id": 105367, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bee024ad9234098c14cb1ab5b3ea72c8?s=128&d=identicon&r=PG", "display_name": "jyurek", "link": "https://stackoverflow.com/users/105367/jyurek"}, "edited": false, "score": 0, "creation_date": 1548879423, "post_id": 54444581, "comment_id": 95706473, "body": "You&#39;ve typed Dispatch as type Action, but the dispatch instance that gets passed into your function <code>dispatcherInstance</code> is not of type Action. Thunk doesn&#39;t have that type here: <a href=\"https://github.com/reduxjs/redux-thunk/blob/master/src/index.js#L2\" rel=\"nofollow noreferrer\">github.com/reduxjs/redux-thunk/blob/master/src/index.js#L2</a> see this closed issue <a href=\"https://github.com/reduxjs/redux-thunk/issues/103\" rel=\"nofollow noreferrer\">github.com/reduxjs/redux-thunk/issues/103</a>"}], "tags": [], "owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "is_accepted": true, "score": 2, "last_activity_date": 1548879713, "last_edit_date": 1548879713, "creation_date": 1548863832, "answer_id": 54444581, "question_id": 54442870, "link": "https://stackoverflow.com/questions/54442870/dispatch-is-still-expecting-an-action-even-when-redux-thunk-installed/54444581#54444581", "title": "dispatch is still expecting an Action even when redux-thunk installed?", "body": "<p><a href=\"https://github.com/reduxjs/redux-thunk/issues/103\" rel=\"nofollow noreferrer\">This issue has been brought up on github</a></p>\n\n<p>To summarize, you need to add the types:</p>\n\n<pre><code>const store = createStore(\nrootReducer,\napplyMiddleware(\n    thunk as ThunkMiddleware&lt;IState, Actions&gt;, // this is crucial\n));\n</code></pre>\n\n<p><strong>ORIGINAL ANSWER BELOW</strong></p>\n\n<p>The problem here is that <code>dispatch</code> takes a type of <code>Action&lt;T&gt;</code> which has a property <code>type</code> but you are sending it a function, and functions don't have types. Notice that <code>setRepeat</code> is a function that returns another function.</p>\n\n<pre><code>store.dispatch(setRepeat('all' as Repeating)(dispatcherInstance,getStateFunction))\n</code></pre>\n\n<p>I would need to see more of your code but it seems you're going about this a little bit the wrong way.</p>\n"}], "owner": {"reputation": 737, "user_id": 105367, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bee024ad9234098c14cb1ab5b3ea72c8?s=128&d=identicon&r=PG", "display_name": "jyurek", "link": "https://stackoverflow.com/users/105367/jyurek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 54444581, "answer_count": 1, "score": 1, "last_activity_date": 1549011721, "creation_date": 1548858535, "last_edit_date": 1549011721, "question_id": 54442870, "link": "https://stackoverflow.com/questions/54442870/dispatch-is-still-expecting-an-action-even-when-redux-thunk-installed", "title": "dispatch is still expecting an Action even when redux-thunk installed?", "body": "<p>I'm trying to use redux-thunk in a TypeScript-based React Native project. My Actions are defined as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type Action&lt;T&gt; = {\n  type: T,\n  payload?: any\n}\n</code></pre>\n\n<p>My store is defined as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { applyMiddleware, createStore } from 'redux'\nimport { persistStore } from 'redux-persist'\nimport thunk from 'redux-thunk'\n\nimport logger from 'src/redux/middleware/logger'\nimport rootReducer from 'src/redux/reducers'\n\nexport const store = createStore(rootReducer, applyMiddleware(logger, thunk))\nexport const persistor = persistStore(store)\n</code></pre>\n\n<p>My action constructor is defined as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const setRepeat = (repeat: Repeating) =&gt; (\n  dispatch: Dispatch&lt;Action&gt;,\n  getState: () =&gt; AppState\n) =&gt;\n  dispatch&lt;Action&gt;({\n    payload: repeat,\n    type: actionTypes.SET_REPEAT,\n  })\n</code></pre>\n\n<p><code>Repeating</code> is a simple enum:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export enum Repeating {\n  All = 'all',\n  None = 'none',\n  Single = 'single',\n}\n</code></pre>\n\n<p>And when I attempt to dispatch this action with</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>store.dispatch(setRepeat('all' as Repeating))\n</code></pre>\n\n<p>I get this error</p>\n\n<pre><code>TS2345: Property 'type' is missing in type '(dispatch: Dispatch&lt;Action&lt;string&gt;&gt;, getState: () =&gt; AppState) =&gt; Action&lt;string&gt;' but required in type 'Action&lt;string&gt;'.\n</code></pre>\n\n<p>From what I can tell, this means that <code>setRepeat</code> is returning a function (which makes sense, that's what it's defined to do). But <code>store.dispatch</code> is not expecting a function like redux-thunk allows and is still expecting an <code>Action</code>.</p>\n\n<p>I can't seem to find any explanation of why thunk isn't providing correct types here, or what I need to do to correct this problem.</p>\n\n<ul>\n<li>react-native: 0.57.7</li>\n<li>redux: 4.0.1</li>\n<li>react-redux: 6.0.0</li>\n<li>redux-thunk: 2.3.0</li>\n</ul>\n"}, {"tags": ["laravel", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 1232, "user_id": 9348748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6JlnG.jpg?s=128&g=1", "display_name": "d3jn", "link": "https://stackoverflow.com/users/9348748/d3jn"}, "edited": false, "score": 0, "creation_date": 1548858087, "post_id": 54442600, "comment_id": 95694485, "body": "So what exactly have you tried?"}, {"owner": {"reputation": 627, "user_id": 7922179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1218094848303301/picture?type=large", "display_name": "Iura Varzari", "link": "https://stackoverflow.com/users/7922179/iura-varzari"}, "edited": false, "score": 0, "creation_date": 1548858279, "post_id": 54442600, "comment_id": 95694613, "body": "It looks like for your situation is pretty nice to have images in some Cloud DB. Other solution can be resizing images and return to user the lower quality/smaller image with library like that : <a href=\"http://image.intervention.io/\" rel=\"nofollow noreferrer\">image.intervention.io</a>"}, {"owner": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1548860351, "post_id": 54442600, "comment_id": 95696050, "body": "For now im using intervention . Im putting in the route::get(&#39;getpicture/{public}/{id}/{name_file}&#39;,function($&zwnj;&#8203;public, $id, $namefile){ $img = img::make(public_path(&#39;img/&#39;.$id.&#39;/&#39;.$namefile.&#39;))-&gt;resize(3&zwnj;&#8203;00,200)-&gt;response(&#39;d&zwnj;&#8203;ata-url&#39;))}) since the user user doesnt wanna save 2 picture at the same name. Im using this. And my img src=&quot;<a href=\"http://127.0.01:8000/getpicture/\" rel=\"nofollow noreferrer\">127.0.01:8000/getpicture</a>{{content.id}}/{content.namefil&zwnj;&#8203;e}}&quot;. And it takes so long to load the image."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1548866033, "post_id": 54445180, "comment_id": 95699721, "body": "So i have to make a function to call all the image in client side? Or make another function in laravel server side to compress all image?"}, {"owner": {"reputation": 182, "user_id": 7853279, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206623240299701/picture?type=large", "display_name": "Lucas Decrock", "link": "https://stackoverflow.com/users/7853279/lucas-decrock"}, "reply_to_user": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1548867257, "post_id": 54445180, "comment_id": 95700489, "body": "Create a function on laravel side to compress all images or keep your current setup but save the image after resizing it, and check if the resized image exists: if so serve the resized image, if not resize it and save it. That way it is resized only on the first request."}, {"owner": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1548944129, "post_id": 54445180, "comment_id": 95733040, "body": "Thx lucas for your advice. i actually save base64 image to the DB with intervention. And call it wherever i want."}, {"owner": {"reputation": 182, "user_id": 7853279, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206623240299701/picture?type=large", "display_name": "Lucas Decrock", "link": "https://stackoverflow.com/users/7853279/lucas-decrock"}, "reply_to_user": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1549062109, "post_id": 54445180, "comment_id": 95782997, "body": "Althought storing images in db might appear as a good solution (easier maintenance and backups) it is consired to be a bad practice. You should store images on disk and just store the path in the db, it&#39;s pretty easy with Laravel and packages are here to help (eg: spatie/laravel-medialibrary)."}, {"owner": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1549104385, "post_id": 54445180, "comment_id": 95790271, "body": "Ya it takes some times to request the APi. laravel medialibrary means that all images stores to the local of my laravel server?"}, {"owner": {"reputation": 182, "user_id": 7853279, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206623240299701/picture?type=large", "display_name": "Lucas Decrock", "link": "https://stackoverflow.com/users/7853279/lucas-decrock"}, "reply_to_user": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "edited": false, "score": 0, "creation_date": 1549127195, "post_id": 54445180, "comment_id": 95796146, "body": "Yes, laravel medialibrary will store imgs on your app local storage"}], "tags": [], "owner": {"reputation": 182, "user_id": 7853279, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206623240299701/picture?type=large", "display_name": "Lucas Decrock", "link": "https://stackoverflow.com/users/7853279/lucas-decrock"}, "is_accepted": true, "score": 2, "last_activity_date": 1548865770, "creation_date": 1548865770, "answer_id": 54445180, "question_id": 54442600, "link": "https://stackoverflow.com/questions/54442600/compress-an-image-with-rest-api/54445180#54445180", "title": "Compress an image with rest api", "body": "<p>You should not resize an image on the fly for each request as it resource consuming and may be the cause of that long delay.</p>\n\n<p>Resize the image on upload or at least store the resized one the first request so every subsequent request will be faster as the image won't have to be processed again.</p>\n"}], "owner": {"reputation": 37, "user_id": 10990690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5NFz-92QsD0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPy1RdGI1sZyU0pi0yxTPJ-43nzzg/mo/photo.jpg?sz=128", "display_name": "Herdi Noprizal", "link": "https://stackoverflow.com/users/10990690/herdi-noprizal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 54445180, "answer_count": 1, "score": 1, "last_activity_date": 1548865770, "creation_date": 1548857702, "last_edit_date": 1548865297, "question_id": 54442600, "link": "https://stackoverflow.com/questions/54442600/compress-an-image-with-rest-api", "title": "Compress an image with rest api", "body": "<p>Have a big problem here. I have 7000 data and image  to call from my laravel server side. And the image file is about 1mb and the image is in the local assets laravel. I have no problem to display the picture and the data. But it takes so long and laggy to perform. Ive tried a lot of suggestion and not giving me solution. Can you all please help me. And sorry for my bad english  </p>\n\n<p>Note : since the user doesnt wanna duplicate image with save intervention. And i put some code in routes. </p>\n\n<p>Route::get('getpicture/{id}/{namefile}, function($id, $namefile){\n$img = Image::make(public_path('img/'.$id.'/'.$namefile.''))->resize(80,80)->response('data-url');\nReturn $img;\n});</p>\n\n<p>But it still laggy. I think its because 1 function returning 1 image. </p>\n\n<p>Any solution again?</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "protractor", "webautomation"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "edited": false, "score": 0, "creation_date": 1548918907, "post_id": 54442992, "comment_id": 95718484, "body": "xpath won&#39;t work, i need to test it on multiple browser, chrome, edge, opera, etc. So xpath is not advisable, could you provide besides xpath solution"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "edited": false, "score": 0, "creation_date": 1548950862, "post_id": 54442992, "comment_id": 95737404, "body": "I updated my answer based on your xpath requirement. Let me know if you still have issues"}], "tags": [], "owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "is_accepted": false, "score": 0, "last_activity_date": 1548920560, "last_edit_date": 1548920560, "creation_date": 1548858892, "answer_id": 54442992, "question_id": 54442565, "link": "https://stackoverflow.com/questions/54442565/how-do-i-click-and-select-one-by-one-all-the-items-on-the-option-dropdown-using/54442992#54442992", "title": "how do i click and select one by one all the items on the option dropdown using Protractor typescript", "body": "<p>Updated using css and tagName instead of xpath.</p>\n\n<p>I have not tested this but you should be able to select each option by creating an array of all the option elements in that dropdown and then running a foreach on it.</p>\n\n<pre><code>element(by.css('.form-control mainpage1'))\n  .all(by.tagName('option'))\n  .forEach((option) =&gt; {\n    option.click();\n  });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 661, "user_id": 10308048, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SMC94f4C5G8/AAAAAAAAAAI/AAAAAAAAA1s/ik7JvnY5Lj8/photo.jpg?sz=128", "display_name": "Joaquin Casco", "link": "https://stackoverflow.com/users/10308048/joaquin-casco"}, "is_accepted": false, "score": 0, "last_activity_date": 1549398394, "creation_date": 1549398394, "answer_id": 54542505, "question_id": 54442565, "link": "https://stackoverflow.com/questions/54442565/how-do-i-click-and-select-one-by-one-all-the-items-on-the-option-dropdown-using/54542505#54542505", "title": "how do i click and select one by one all the items on the option dropdown using Protractor typescript", "body": "<p>Have toy tried this?:  </p>\n\n<p>First click the dropdown, so the options are displayed:</p>\n\n<pre><code>var dropdown = element(by.model('listVM.selectedInfo');\n\ndropdown.click();\nelement(by.cssContainingText('option', 'License Status')).click();\nelement(by.cssContainingText('option', 'License Category')).click();\n</code></pre>\n\n<p>Of course you will have to click the dropdown everytime so the list is displayed.</p>\n\n<p>Hope it helps.\nCheers.</p>\n"}], "owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549398394, "creation_date": 1548857623, "last_edit_date": 1548858356, "question_id": 54442565, "link": "https://stackoverflow.com/questions/54442565/how-do-i-click-and-select-one-by-one-all-the-items-on-the-option-dropdown-using", "title": "how do i click and select one by one all the items on the option dropdown using Protractor typescript", "body": "<p>I need help in creating a typescript/javascript protractor code for this? for web automation</p>\n\n<p>here is the website code:</p>\n\n<pre><code>&lt;select class=\"form-control mainpage1\" ng-options=\"infomation details opt1\" ng-model=\"listVM.selectedInfo\" ng-change=\"listVM.selectedInfoChanged()\" ng-disabled=\"!listVM.finishLoad\" style=\"\"&gt;\n&lt;option label=\"dLicense Status\" value=\"object:1002\" selected=\"selected\"&gt;License Status&lt;/option&gt;\n&lt;option label=\"dLicense Category\" value=\"object:1003\"&gt;License Category&lt;/option&gt;\n&lt;option label=\"ExpiryDate\" value=\"object:1004\"&gt;Expiry Date&lt;/option&gt;\n&lt;option label=\"DOB\" value=\"object:1005\"&gt;Birthday&lt;/option&gt;\n&lt;option label=\"License Number\" value=\"object:1006\"&gt;License Number&lt;/option&gt;\n&lt;option label=\"Nationality\" value=\"object:1007\"&gt;Nationality&lt;/option&gt;\n&lt;option label=\"Weight\" value=\"object:1008\"&gt;Weight&lt;/option&gt;\n&lt;option label=\"Height\" value=\"object:1009\"&gt;Height&lt;/option&gt;&lt;/select&gt;\n</code></pre>\n\n<p>i need to click one option1, then after selecting option1, select again and click option2 and so on..</p>\n\n<p>i tried the following code:</p>\n\n<pre><code>browser.actions().mouseMove(element(by.cssContainingText('[value=\"object:1003\"]','License Status'))).click().perform()\nbrowser.actions().mouseMove(element(by.cssContainingText('[value=\"object:1004\"]','License Category'))).click().perform()  \n</code></pre>\n\n<p>error occurs:</p>\n\n<pre><code>Failed: No element found using locator: by.cssContainingText(\"[value=\"object:1003\"]\", \"License Status\")\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9054563, "user_type": "registered", "profile_image": "https://graph.facebook.com/250429272116014/picture?type=large", "display_name": "Oleksandr", "link": "https://stackoverflow.com/users/9054563/oleksandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1548856886, "creation_date": 1548856886, "answer_id": 54442353, "question_id": 54442174, "link": "https://stackoverflow.com/questions/54442174/function-can-return-many-types-of-responses-how-do-i-declare-the-type-of-the-re/54442353#54442353", "title": "Function can return many types of responses. How do I declare the type of the response in the function that receives the response?", "body": "<p>you could try making <code>request</code> function generic:</p>\n\n<pre><code>function request&lt;T = any&gt;(): Promise&lt;T&gt; {\n    //...\n    return {} as Promise&lt;T&gt;;\n}\n\ninterface MyData {\n    prop: number;\n}\n\nasync () =&gt; {\n    const data = await request&lt;MyData&gt;();\n    //data.prop - awailable in autocomplete\n}\n</code></pre>\n\n<p><code>T = any</code> sets the default type</p>\n\n<p>you can find more info at <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/generics.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 7364687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0466d9482ef2a5fe87fa7c55c7c480fb?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Drouhin", "link": "https://stackoverflow.com/users/7364687/antoine-drouhin"}, "is_accepted": false, "score": 0, "last_activity_date": 1548858330, "creation_date": 1548858330, "answer_id": 54442795, "question_id": 54442174, "link": "https://stackoverflow.com/questions/54442174/function-can-return-many-types-of-responses-how-do-i-declare-the-type-of-the-re/54442795#54442795", "title": "Function can return many types of responses. How do I declare the type of the response in the function that receives the response?", "body": "<p>I think the proper solution would be to <strong>use user defined type guards</strong> for the different possible answer types. </p>\n\n<p>Example :</p>\n\n<pre><code>    interface Project: {\n     project_id: number\n    }\n\n    function isProject(data: any): data is TypeA {\n      return data.hasOwnProperty \n        &amp;&amp; data.hasOwnProperty(project_id)\n        &amp;&amp; typeof data.project_id === \"number\"\n    }\n\n</code></pre>\n\n<p>This will allow to let typescript compile know that the data you received is indeed of the Project type.</p>\n\n<pre><code>    async openProject(\n        fileName: string, \n        force: boolean, \n        progress: boolean\n    ): number {\n        const response = await this.request({\n            type: 'request',\n            cmd: 'open_project',\n            payload: { value: fileName, force: force, progress: progress }\n        });\n\n        const payload = response.payload\n\n        if (isProject(payload)) {\n          return payload.project_id\n        }\n    }\n</code></pre>\n\n<p>You can deal with various types of results and should probably throw an exception if you don't succeed to validate the payload against a known type.</p>\n\n<p><strong>Usefull links :</strong></p>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html</a></p>\n\n<p><a href=\"https://github.com/epoberezkin/ajv\" rel=\"nofollow noreferrer\">https://github.com/epoberezkin/ajv</a></p>\n\n<p><em>A good way to implement type guards is to use a json schema library like ajv.</em></p>\n\n<p><a href=\"https://spin.atomicobject.com/2018/03/26/typescript-data-validation/\" rel=\"nofollow noreferrer\">https://spin.atomicobject.com/2018/03/26/typescript-data-validation/</a></p>\n"}, {"comments": [{"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "edited": false, "score": 0, "creation_date": 1548922318, "post_id": 54443520, "comment_id": 95720020, "body": "This was awesome"}], "tags": [], "owner": {"reputation": 13760, "user_id": 2438165, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nBPzI.png?s=128&g=1", "display_name": "Mat\u011bj Pokorn&#253;", "link": "https://stackoverflow.com/users/2438165/mat%c4%9bj-pokorn%c3%bd"}, "is_accepted": true, "score": 2, "last_activity_date": 1548860438, "creation_date": 1548860438, "answer_id": 54443520, "question_id": 54442174, "link": "https://stackoverflow.com/questions/54442174/function-can-return-many-types-of-responses-how-do-i-declare-the-type-of-the-re/54443520#54443520", "title": "Function can return many types of responses. How do I declare the type of the response in the function that receives the response?", "body": "<p>This can be easily done with function overloading...</p>\n\n<pre><code>interface IRequest {\n    type: 'request';\n    cmd: 'create_project' | 'get_devices';\n}\n\ninterface IResponse {\n    id: string\n}\n\ninterface CreateProjectRequest extends IRequest { cmd: 'create_project'; }\ninterface GetDevicesRequest extends IRequest { cmd: 'get_devices'; }\n\ninterface CreateProjectResponse extends IResponse { }\ninterface GetDevicesResponce extends IResponse { name: string }\n\nfunction request(body: CreateProjectRequest) : CreateProjectResponse\nfunction request(body: GetDevicesRequest) : GetDevicesResponce\nfunction request&lt;T extends IRequest&gt;(body: T) : IResponse {\n    return {} as IResponse;\n}\n\nvar myCreateProjectResponse = request({ cmd: 'create_project', type: 'request' });\nvar myGetDevicesResponse = request({ cmd: 'get_devices', type: 'request' });\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20IRequest%20%7B%0D%0A%20%20%20%20type%3A%20&#39;request&#39;%3B%0D%0A%20%20%20%20cmd%3A%20&#39;create_project&#39;%20%7C%20&#39;get_devices&#39;%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20IResponse%20%7B%0D%0A%20%20%20%20id%3A%20string%0D%0A%7D%0D%0A%0D%0Ainterface%20CreateProjectRequest%20extends%20IRequest%20%7B%20cmd%3A%20&#39;create_project&#39;%3B%20%7D%0D%0Ainterface%20GetDevicesRequest%20extends%20IRequest%20%7B%20cmd%3A%20&#39;get_devices&#39;%3B%20%7D%0D%0A%0D%0Ainterface%20CreateProjectResponse%20extends%20IResponse%20%7B%20%7D%0D%0Ainterface%20GetDevicesResponce%20extends%20IResponse%20%7B%20name%3A%20string%20%7D%0D%0A%0D%0Afunction%20request(body%3A%20CreateProjectRequest)%20%3A%20CreateProjectResponse%0D%0Afunction%20request(body%3A%20GetDevicesRequest)%20%3A%20GetDevicesResponce%0D%0Afunction%20request%3CT%20extends%20IRequest%3E(body%3A%20T)%20%3A%20IResponse%20%7B%0D%0A%20%20%20%20return%20%7B%7D%20as%20IResponse%3B%0D%0A%7D%0D%0A%0D%0Avar%20myCreateProjectResponse%20%3D%20request(%7B%20cmd%3A%20&#39;create_project&#39;%2C%20type%3A%20&#39;request&#39;%20%7D)%3B%0D%0Avar%20myGetDevicesResponse%20%3D%20request(%7B%20cmd%3A%20&#39;get_devices&#39;%2C%20type%3A%20&#39;request&#39;%20%7D)%3B\" rel=\"nofollow noreferrer\">[DEMO]</a></p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 54443520, "answer_count": 3, "score": 0, "last_activity_date": 1548860438, "creation_date": 1548856358, "last_edit_date": 1548857514, "question_id": 54442174, "link": "https://stackoverflow.com/questions/54442174/function-can-return-many-types-of-responses-how-do-i-declare-the-type-of-the-re", "title": "Function can return many types of responses. How do I declare the type of the response in the function that receives the response?", "body": "<p>With this class method</p>\n\n<pre><code>async openProject(\n    fileName: string, \n    force: boolean, \n    progress: boolean\n) {\n    const response = await this.request({\n        type: 'request',\n        cmd: 'open_project',\n        payload: { value: fileName, force: force, progress: progress }\n    });\n\n    return {\n        id: response['payload']['project_id']\n    };\n}\n</code></pre>\n\n<p>I get the TypeScript warning when I try to access the payload property on response: </p>\n\n<blockquote>\n  <p>[ts] Element implicitly has an 'any' type because type '{}' has no\n  index signature.</p>\n</blockquote>\n\n<p>I am used to declaring types for parameters in function calls. But how should I declare the type for response in this case? <code>this.requests</code> returns a promise that can response in several different kinds of responses.</p>\n\n<p>Should I perhaps:</p>\n\n<ul>\n<li>create a response type for each type of request and</li>\n<li>have <code>this.request</code> return a union of all response types</li>\n</ul>\n\n<p><em>EDIT:</em></p>\n\n<p>Here is a failed attempt of mine at a solution</p>\n\n<pre><code>export type CreateProjectResponse = {\n    payload: {\n        project_id: string;\n    }\n}\n\nexport type GetDevicesResponse = {\n    payload: {\n        devices: [];\n    }\n}\n\nexport type GenericResponse = GetDevicesResponse | CreateProjectResponse;\n\nrequest(body: any) {\n    const transactionId = this.newTransactionId();\n\n    const requestMessage = JSON.stringify({\n        ...body,\n        trans_id: transactionId\n    });\n\n    if (this.logger) this.logger(requestMessage);\n\n    return new Promise&lt;GenericResponse&gt;((resolve, reject) =&gt; {\n        const timeoutTimer = setTimeout(() =&gt; {\n            const timeoutMessage = 'Request timed out';\n            if (this.logger) this.logger(timeoutMessage);\n            reject(Error(timeoutMessage));\n        }, this.maxTime);\n\n        this.requestCallbacks[transactionId] = {\n            resolver: resolve,\n            rejecter: reject,\n            timeoutTimer: timeoutTimer\n        };\n        this.socket.send(requestMessage);\n    });\n}\n\nasync createProject() {\n    const response = await this.request({\n        type: 'request',\n        cmd: 'create_project',\n    }) ;\n\n    return {\n        id: response['payload']['project_id']\n    };\n};\n\nasync getDevices() {\n    const response = await this.request({\n        type: 'request',\n        cmd: 'get_devices',\n    });\n\n    return response['payload']['devices'].filter((device: DeviceResponse) =&gt; {\n        return device['type'] === 'device';\n    }).map((device: DeviceResponse) =&gt; {\n        return {\n            id: device['device_id'],\n            name: device['name']\n        };\n    });\n};\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "express", "mocking", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1548857192, "post_id": 54442218, "comment_id": 95693928, "body": "Thank you, this is very helpful. You said &quot;auto-mocked express factory which won&#39;t produce proper application object.&quot; - how do I produce a mocked application object?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1548857410, "post_id": 54442218, "comment_id": 95694049, "body": "With <code>const expressMock = {   use: jest.fn(),   ... }</code>. If you need to mock a module, it&#39;s <code>jest.mock(&quot;express&quot;, () =&gt; () =&gt; expressMock)</code> then."}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1548857985, "post_id": 54442218, "comment_id": 95694419, "body": "So in Jest I never get a full/deep mocked object, I need to create it myself with all its members like you did for <code>use</code>? (I&#39;m new to this, I&#39;m used to .NET mocking which seems to be quite different.)"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 1, "creation_date": 1548859235, "post_id": 54442218, "comment_id": 95695257, "body": "<code>express.application</code> contains all methods that app instance contains. You can traverse over <i>original</i> <code>express.application</code> keys and create a mock object with these stubbed methods, they also need to return the obj because Express uses chaining. But the problem is that not every method chains.  E.g. <code>app.get(&#39;value&#39;)</code> is config getter and returns a value, while <code>app.get(&#39;path&#39;, ...)</code> is router and returns <code>app</code>. The mock inevitably becomes messy and potentially faulty."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 1, "creation_date": 1548859538, "post_id": 54442218, "comment_id": 95695451, "body": "There are auto-mocking libs in JS but they likely won&#39;t work for Express because it&#39;s old-school and doesn&#39;t use ES6 classes. Also they won&#39;t cover this thing with chaining. I&#39;d generally advise against auto-mocking, especially with Express. It results in looser tests that are harder to debug when they fail. It&#39;s a good practice to test what exactly your unit does, at least in JS. If you use 5 methods from <code>app</code>, mock only them. If you change an app in a way that makes a test invalid like the use of 6th method, a test fails. And this is much better then a test that doesn&#39;t fail when it should."}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1548862536, "post_id": 54442218, "comment_id": 95697551, "body": "Thank you for that deep insight my friend, I can tell it comes from years of experience. I&#39;m new to Node/Jest testing, and some of these concepts are weird because I&#39;m so used to .NET/Java testing which is VERY different in this case. I&#39;ll structure my tests the way you recommended, and forget about deep mocking, thanks!"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 1, "creation_date": 1548865176, "post_id": 54442218, "comment_id": 95699136, "body": "Glad it helped. I assume the difference is that due to JS dynamic nature a dev is on his/her own with maintaining type safety in tests and making mocks conform expected interfaces. The help from TS is very limited in such cases."}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1548865372, "post_id": 54442218, "comment_id": 95699274, "body": "Correct. With typed languages I can focus more on the &quot;problem domain&quot;, but in JS/TS I must always be thinking about the &quot;language domain&quot; in addition to the problem domain."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 2, "last_activity_date": 1548856887, "last_edit_date": 1548856887, "creation_date": 1548856517, "answer_id": 54442218, "question_id": 54441913, "link": "https://stackoverflow.com/questions/54441913/how-do-i-mock-express-application-with-jest/54442218#54442218", "title": "How do I mock express.Application with Jest?", "body": "<p>Technically, <code>express.Application</code> cannot be mocked, it's an interface. It's an object that it represents that should be mocked.</p>\n\n<p>As <code>jest.mock</code> <a href=\"https://jestjs.io/docs/en/jest-object#jestmockmodulename-factory-options\" rel=\"nofollow noreferrer\">documentation </a> states, it</p>\n\n<blockquote>\n  <p>Returns the jest object for chaining.</p>\n</blockquote>\n\n<p>So this is not a correct way to retrieve mocked object:</p>\n\n<pre><code>const expressMock = jest.mock(\"express\");\n</code></pre>\n\n<p>A correct one would be</p>\n\n<pre><code>jest.mock(\"express\");\n...\nconst expressMock = require(\"express\");\n</code></pre>\n\n<p>Moreover, <code>App</code> accepts not <code>express</code> factory function but application object, which is a result of <code>express()</code> call.</p>\n\n<p><code>jest.mock</code> without factory function results in auto-mocked <code>express</code> factory which won't produce proper application object.</p>\n\n<p>Since <code>expressMock</code> is passed to <code>App</code> directly in tests, there's no necessity to mock Express module. A mock that contains bare minimum implementation can be passed instead:</p>\n\n<pre><code>const expressMock = {\n  use: jest.fn(),\n  ...\n} as any as express.Application;\n\nlet app = new App(expressMock);\n</code></pre>\n"}], "owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2218, "favorite_count": 0, "accepted_answer_id": 54442218, "answer_count": 1, "score": 2, "last_activity_date": 1548856887, "creation_date": 1548855601, "last_edit_date": 1548856282, "question_id": 54441913, "link": "https://stackoverflow.com/questions/54441913/how-do-i-mock-express-application-with-jest", "title": "How do I mock express.Application with Jest?", "body": "<p>Some class that takes express as an argument (basic DI):</p>\n\n<pre><code>class App {\n  constructor(express: express.Application) { /* ... */ }\n}\n</code></pre>\n\n<p>My test:</p>\n\n<pre><code>// this doesn't work (\"argument not assignable\"):\n//const expressMock = jest.mock(\"express\");\n//let app = new App(expressMock);\n\n// so how do I mock it?\nconst expressMock = ???\nlet app = new App(expressMock);\n</code></pre>\n\n<p>How do I mock <code>express.Application</code> with Jest? The whole thing, not just a request, or route, etc.</p>\n"}, {"tags": ["typescript", "generics", "default"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1548857677, "post_id": 54441896, "comment_id": 95694225, "body": "Related: <a href=\"https://github.com/Microsoft/TypeScript/issues/5884\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/5884</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/5254\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/5254</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/5884\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/5884</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/27288\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/27288</a>"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1548866244, "last_edit_date": 1548866244, "creation_date": 1548865111, "answer_id": 54444972, "question_id": 54441896, "link": "https://stackoverflow.com/questions/54441896/typescript-why-is-an-omitted-generic-type-an-object/54444972#54444972", "title": "Typescript: Why is an omitted generic type an object?", "body": "<p>This is the default behavior typescript has with regard to generic type parameters. It tries to infer them, if it can't it defaults to the narrowest possible type, which if you don't have any constraints on <code>T</code> is <code>{}</code></p>\n\n<p>As @Paleo points out in the comments there is a <a href=\"https://github.com/Microsoft/TypeScript/issues/27288\" rel=\"nofollow noreferrer\">proposal</a> to create a <code>strict</code> option for this but this is not available at present:</p>\n\n<p>In the meantime, if we want to enforce the specifying of parameters we can play around with the constructor parameters, in order to get an error if not type parameter is specified:</p>\n\n<pre><code>class Foo&lt;T = void&gt; {\n    constructor(...a: T extends void ? [\"Supply A type arg\"] : []) {\n\n    }\n}\n\nconst foo1 = new Foo(); // err\nconst foo2 = new Foo&lt;number&gt;();\n</code></pre>\n\n<p><strong>Note</strong> I would use this trick sparingly, prefer having an argument to the constructor that would  let the compiler infer <code>T</code>. Even without this trick, eventually you would probably get an error that <code>{}</code> is not what you might expect it to be, although traking down the error may be an issue.</p>\n"}], "owner": {"reputation": 2051, "user_id": 9251185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7t1s.jpg?s=128&g=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/9251185/dominik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 54444972, "answer_count": 1, "score": 3, "last_activity_date": 1548866244, "creation_date": 1548855547, "last_edit_date": 1548855872, "question_id": 54441896, "link": "https://stackoverflow.com/questions/54441896/typescript-why-is-an-omitted-generic-type-an-object", "title": "Typescript: Why is an omitted generic type an object?", "body": "<p>I wondering why is the default generic type an object <code>{}</code> and not <code>any</code>?\nIt behaves like an any, but is a bit confusing.</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-generic-type-default?embed=1&amp;file=index.ts&amp;view=editor\" rel=\"nofollow noreferrer\">Example / Demo</a></p>\n\n<pre><code>class Foo&lt;T&gt; {}\n\n// The type of this:\nconst foo = new Foo();\n// is {} but expected any or error.\n</code></pre>\n\n<p>I could use:</p>\n\n<pre><code>class Foo&lt;T = any&gt; {}\n</code></pre>\n\n<p>But I want to know the background behind. I think it's because <code>T</code> is object-like.</p>\n\n<p>Another concern: How to force the developer to set an type for the generic class?</p>\n"}, {"tags": ["html", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 21215, "user_id": 79677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc1ca130deb434dfe5bcc19fbbebe48a?s=128&d=identicon&r=PG&f=1", "display_name": "CBarr", "link": "https://stackoverflow.com/users/79677/cbarr"}, "edited": false, "score": 0, "creation_date": 1548857992, "post_id": 54441787, "comment_id": 95694423, "body": "You might be able to use <code>GroupView</code> there instead of <code>this</code>, but I suspect that it will not work the way you are wanting."}], "answers": [{"tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1548868405, "creation_date": 1548868405, "answer_id": 54446002, "question_id": 54441787, "link": "https://stackoverflow.com/questions/54441787/how-to-pass-an-object-in-typescript-to-html-string-without-angular-compile/54446002#54446002", "title": "How to pass an object in typescript to HTML string without angular $compile", "body": "<p>I'd suggest another approach. Use the <code>ng-if</code>-directive in the HTML-template. For example:</p>\n\n<p>TS</p>\n\n<pre><code>constructor(parentView: GroupView, protected group: Group) {\n    super(parentView, group)\n        if(group){\n            this.name = group.name;\n    }\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;custom-directive ng-if=\"group\" name=\"name\"&gt;&lt;/custom-directive&gt;\n</code></pre>\n\n<p>This way the element will only be visible when <code>group</code> is valid.</p>\n"}], "owner": {"reputation": 1128, "user_id": 2550940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/188596724cddd5444ae629042981be73?s=128&d=identicon&r=PG", "display_name": "gunslingor", "link": "https://stackoverflow.com/users/2550940/gunslingor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 54446002, "answer_count": 1, "score": 0, "last_activity_date": 1548868405, "creation_date": 1548855171, "last_edit_date": 1548857502, "question_id": 54441787, "link": "https://stackoverflow.com/questions/54441787/how-to-pass-an-object-in-typescript-to-html-string-without-angular-compile", "title": "How to pass an object in typescript to HTML string without angular $compile", "body": "<p>This is an angular program, but a package we wrote is in typescript. Basically what I am trying to solve is how do I make 'this' go into the HTML string as a real angular bound object. I can't use $compile because this is a typescript file. Any help is appreciated. Currently I can only pass pieces of the object as strings, like this.name.</p>\n\n<pre><code>    export class GroupView extends ObjView {\n        name: string = \"GroupView\";\n\n        constructor(parentView: GroupView, protected group: Group) {\n            super(parentView, group)\n            if(group){\n                this.name = group.name\n                this.structureItem = '&lt;custom-directive this-model=\"' + this + '\" name=\"' + this.name + '\"&gt;&lt;/custom-directive&gt;';\n            }\n        }\n   }\n</code></pre>\n\n<p>Once the this.structureItem is added to the page, I need to be able to access this-model by reference... the actual object not a copy of it.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "is_accepted": true, "score": 2, "last_activity_date": 1548856325, "creation_date": 1548856325, "answer_id": 54442157, "question_id": 54441776, "link": "https://stackoverflow.com/questions/54441776/getting-a-global-value-from-a-provider-with-less-boilerplate-code/54442157#54442157", "title": "Getting a global value from a provider with less boilerplate code", "body": "<p>How about a class with static fields?</p>\n\n<pre><code>class Configuration {\n    public static readonly ServerContextPath = 'abc';\n}\n</code></pre>\n\n<p>and usage - <code>Configuration.ServerContextPath</code></p>\n"}], "owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 54442157, "answer_count": 1, "score": 0, "last_activity_date": 1548856325, "creation_date": 1548855140, "question_id": 54441776, "link": "https://stackoverflow.com/questions/54441776/getting-a-global-value-from-a-provider-with-less-boilerplate-code", "title": "Getting a global value from a provider with less boilerplate code", "body": "<p>If I have a configurationService provider that has a getServerContextPath() getter (not async), can I get the value without initializing the service in the constructor?</p>\n\n<p>My current implementation:</p>\n\n<pre><code>export class FilterCarDataService {\n    private urlFilteredData: string;\n    constructor(\n        private readonly configurationService: ConfigurationService\n    ) {\n        this.urlFilteredData = `/${this.configurationService.getServerContextPath}/utilities/filterdata`;\n    }\n}\n</code></pre>\n\n<p>Things I don't like about this implementation:</p>\n\n<p>1) In every file I need the server context path I have to initialize the service in the constructor</p>\n\n<p>2) I cannot declare <code>urlFilteredData</code> as <code>readonly</code>, because I have to reassign it with the server context path.</p>\n\n<p>Is there an implementation for a global variable (server context path) that doesn't require that much boilerplate code in every file I use it?</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1548854561, "post_id": 54441516, "comment_id": 95692250, "body": "I don&#39;t see imports but I assume you use original <code>HttpRequest</code> class with its implementation and <b>Testing module</b> have problems with that because it can not resolve parameters which are trying to inject."}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1548854728, "post_id": 54441516, "comment_id": 95692370, "body": "@Buczkowski, I looked at HttpRequest and it takes HttpHeaders and HttpParams, but the test I&#39;m coding from doesn&#39;t import these. I tried putting them in the imports section of the TestBed setup and it just confused it."}, {"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1548854846, "post_id": 54441516, "comment_id": 95692445, "body": "Remove it completely, you already provided Mocks for dependencies you are injecting in constructor."}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1548855588, "post_id": 54441516, "comment_id": 95692892, "body": "@Buczkowski That got me: \tError: StaticInjectorError(DynamicTestModule)[NoteService -&gt; HttpRequest]:  \t  StaticInjectorError(Platform: core)[NoteService -&gt; HttpRequest]:  \t    NullInjectorError: No provider for HttpRequest!"}, {"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1548856030, "post_id": 54441516, "comment_id": 95693151, "body": "It means that <code>NoteService</code> have <code>HttpRequest</code> as a dependency or at least it&#39;s my thought but then it has less sense since you provide Mock for it...Can you show that <code>MockNoteService</code>?"}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1548856483, "post_id": 54441516, "comment_id": 95693436, "body": "@Buczkowski done."}, {"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "reply_to_user": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "edited": false, "score": 0, "creation_date": 1548856525, "post_id": 54441516, "comment_id": 95693466, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/187575/discussion-between-buczkowski-and-thom\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "is_accepted": true, "score": 0, "last_activity_date": 1548949467, "last_edit_date": 1548949467, "creation_date": 1548857813, "answer_id": 54442636, "question_id": 54441516, "link": "https://stackoverflow.com/questions/54441516/error-cant-resolve-all-parameters-for-httprequest/54442636#54442636", "title": "Error: Can&#39;t resolve all parameters for HttpRequest", "body": "<p>So, in the end, I made MockNoteService not extend from NoteService so that I didn't have the inheritance chain and that seemed to fix the problem.</p>\n\n<p>Thanks, Buczkowski, for your help.</p>\n"}], "owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 54442636, "answer_count": 1, "score": 0, "last_activity_date": 1548949467, "creation_date": 1548854194, "last_edit_date": 1548856803, "question_id": 54441516, "link": "https://stackoverflow.com/questions/54441516/error-cant-resolve-all-parameters-for-httprequest", "title": "Error: Can&#39;t resolve all parameters for HttpRequest", "body": "<p>Found several of similar errors, but I don't think they apply. They talk about order of components, and I think I've tried everything.</p>\n\n<p>I'm writing a new unit test for an existing service. Here's the service constructor:</p>\n\n<pre><code>@Injectable()\nexport class CreateSpAuthorizationUtility {\n    constructor(\n        private dialogService: DialogService,\n        private router: Router,\n        private store: Store&lt;AppStore&gt;,\n        private noteService: NoteService,\n        private stepperService: StepperService\n    ) {\n    }\n}\n</code></pre>\n\n<p>And here's the unit test I wrote:</p>\n\n<pre><code>describe('Given a CreateSpAuthorizationUtility', () =&gt; {\n\n    beforeEach(async(() =&gt; {\n        TestBed.configureTestingModule({\n            declarations: [\n            ],\n            imports: [\n                HttpClientTestingModule\n            ],\n            providers: [\n                AppConfig,\n                HttpRequest,\n                CreateSpAuthorizationUtility,\n                {provide: DialogService, useClass: MockDialogService},\n                {provide: NoteService, useClass: MockNoteService},\n                {provide: Router, useClass: MockRouter},\n                {provide: StepperService, useClass: StepperServiceMock},\n                {provide: Store, useClass: TestStore}\n            ]\n        });\n    }));\n\n    it('should build query params',\n        inject([CreateSpAuthorizationUtility, HttpTestingController, AppConfig],\n            fakeAsync( (service: CreateSpAuthorizationUtility,\n                        mockBackend: HttpTestingController,\n                        appConfig: AppConfig,\n                        router: MockRouter,\n                        store: TestStore&lt;AppStore&gt;,\n                        dialogService: MockDialogService,\n                        noteService: MockNoteService,\n                        stepperService: StepperServiceMock)  =&gt; {\n\n                const prescreen: SpPrescreenSelectedValues = SP_PRESCREEN_SELECTED_VALUES_MOCK;\n                service.buildQueryParams(prescreen, false);\n            })));\n});\n</code></pre>\n\n<p>And here's MockNoteService:</p>\n\n<pre><code>@Injectable()\nexport class MockNoteService extends NoteService {\n    public static NON_EXISTING_ID = 'nonExistingId';\n\n    public getNoteDefinition(noteDefinitionVisibleId: string): Observable&lt;NoteDefinition&gt; {\n        if (noteDefinitionVisibleId === MockNoteService.NON_EXISTING_ID) {\n            return observableThrowError('Test');\n        }\n\n        return of({\n            id: '',\n            version: 0,\n            name: '',\n            description: '',\n            attributeDefs: [],\n            visibleId: '',\n            userCreatable: false,\n            instanceCopyable: false,\n            definitionEditable: false,\n            isSystem: false,\n            bodyRequired: true\n        });\n    }\n}\n</code></pre>\n\n<p>Which extends NoteService:</p>\n\n<pre><code>export class NoteService extends BaseService {\n    constructor(private http: HttpRequest, private appConfig: AppConfig, private store: Store&lt;AppStore&gt;) {\n        super();\n    }\n}\n</code></pre>\n\n<p>When I run it, I get the following error:</p>\n\n<pre><code>Error: Can't resolve all parameters for HttpRequest: (?, ?, ?, ?).\n    at syntaxError (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:1021:1)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getDependenciesMetadata (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:10922:1)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getTypeMetadata (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:10815:1)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getInjectableTypeMetadata (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:11037:1)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver.getProviderMetadata (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:11046:1)\n    at http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:10984:1\n    at Array.forEach (&lt;anonymous&gt;)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getProvidersMetadata (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:10944:1)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver.getNgModuleMetadata (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:10663:53)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._loadModules (http://localhost:9876/node_modules/@angular/compiler/fesm5/compiler.js?:23876:1)\n</code></pre>\n\n<p>As I said, I've tried ordering and comparing with other unit tests in my project. I'm not sure what to do next.</p>\n"}, {"tags": ["html", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 1, "creation_date": 1548854366, "post_id": 54441509, "comment_id": 95692134, "body": "When navigating component is destroyed and after navigating back it&#39;s freshly created. If you are interested in persisting data of component maybe this will help you - <a href=\"https://angular.io/api/router/RouteReuseStrategy\" rel=\"nofollow noreferrer\">angular.io/api/router/RouteReuseStrategy</a>"}, {"owner": {"reputation": 143, "user_id": 9905787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFO_SR2OlJ4/AAAAAAAAAAI/AAAAAAAAAHo/7gOqpR3Ad2w/photo.jpg?sz=128", "display_name": "Sonul", "link": "https://stackoverflow.com/users/9905787/sonul"}, "reply_to_user": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1549303234, "post_id": 54441509, "comment_id": 95846239, "body": "Thank you so much for the link!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10995255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gMauxHwIM3s/AAAAAAAAAAI/AAAAAAAAA8M/2zxFSBCd_vE/photo.jpg?sz=128", "display_name": "gaurav sonar", "link": "https://stackoverflow.com/users/10995255/gaurav-sonar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548936276, "creation_date": 1548936276, "answer_id": 54460209, "question_id": 54441509, "link": "https://stackoverflow.com/questions/54441509/component-re-initialized-when-navigated-through-routerlink/54460209#54460209", "title": "Component Re-initialized When Navigated Through routerLink", "body": "<p>This is exactly how angular works.</p>\n"}], "owner": {"reputation": 143, "user_id": 9905787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFO_SR2OlJ4/AAAAAAAAAAI/AAAAAAAAAHo/7gOqpR3Ad2w/photo.jpg?sz=128", "display_name": "Sonul", "link": "https://stackoverflow.com/users/9905787/sonul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548936276, "creation_date": 1548854175, "question_id": 54441509, "link": "https://stackoverflow.com/questions/54441509/component-re-initialized-when-navigated-through-routerlink", "title": "Component Re-initialized When Navigated Through routerLink", "body": "<p>I am navigating from Home Component to Result Component using routerLink, but the components re-initializes each time I navigate back to a component. </p>\n\n<p>How can I prevent components from re-initializing?</p>\n\n<p>Below are pieces of code</p>\n\n<p>AppComponent HTML</p>\n\n<pre><code>&lt;div class=\"collapse navbar-collapse\"&gt;\n  &lt;ul class=\"nav navbar-nav\"&gt;\n    &lt;li routerLinkActive=\"active\" class=\"nav-item\"&gt;\n      &lt;a class=\"nav-link\" routerLink=\"/home\"&gt;Home &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li routerLinkActive=\"active\"  class=\"nav-item\"&gt;\n      &lt;a class=\"nav-link\" routerLink=\"/results\"&gt;Results&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>AppRoutingModule</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ResultComponent } from './pages/result/result.component';\nimport { HomeComponent } from './pages/home/home.component';\n\nconst routes: Routes = [\n  {path: '', redirectTo: '/home', pathMatch: 'full'},\n  {path:\"results\", component: ResultComponent},\n  {path:\"home\", component: HomeComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n\n}\n</code></pre>\n\n<p>ResultComponent</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-result',\n  templateUrl: './result.component.html',\n  styleUrls: ['./result.component.css']\n})\nexport class ResultComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n    console.log(\"created\");\n  }\n\n}\n</code></pre>\n\n<p>When I navigate back from Home Component to Result Component, it always prints out \"created\".</p>\n\n<p>Is this an expected behavior?</p>\n\n<p>My actual code has a little more things added.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 1, "creation_date": 1548853646, "post_id": 54441279, "comment_id": 95691673, "body": "If you are using <code>get&#47;set</code> the <code>()</code> is redundant while executing."}], "answers": [{"tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 1, "last_activity_date": 1548853726, "creation_date": 1548853726, "answer_id": 54441378, "question_id": 54441279, "link": "https://stackoverflow.com/questions/54441279/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-when-using-get/54441378#54441378", "title": "&quot;Cannot invoke an expression whose type lacks a call signature.&quot; when using &quot;get&quot; keyword in TypeScript", "body": "<p>Try it this way:</p>\n\n<pre><code>const contextPath = this.configurationService.getServerContextPath;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "is_accepted": true, "score": 3, "last_activity_date": 1612475268, "last_edit_date": 1612475268, "creation_date": 1548853747, "answer_id": 54441384, "question_id": 54441279, "link": "https://stackoverflow.com/questions/54441279/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-when-using-get/54441384#54441384", "title": "&quot;Cannot invoke an expression whose type lacks a call signature.&quot; when using &quot;get&quot; keyword in TypeScript", "body": "<p>In the first case, your get a <code>property</code> so you have to call it as</p>\n<pre><code>const contextPath = this.configurationService.getServerContextPath\n</code></pre>\n<p>In the second case it's a <code>method</code> (function) of a class so you can call it as</p>\n<pre><code>const contextPath = this.configurationService.getServerContextPath()\n</code></pre>\n"}], "owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5832, "favorite_count": 0, "accepted_answer_id": 54441384, "answer_count": 2, "score": 1, "last_activity_date": 1612475268, "creation_date": 1548853438, "question_id": 54441279, "link": "https://stackoverflow.com/questions/54441279/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-when-using-get", "title": "&quot;Cannot invoke an expression whose type lacks a call signature.&quot; when using &quot;get&quot; keyword in TypeScript", "body": "<p>I have a provider configurationService that has this function with <code>get</code> keyword:</p>\n\n<pre><code>get getServerContextPath(): string {\n    return this.config.serverContextPath;\n}\n</code></pre>\n\n<p>When I'm using this function in a component like this:</p>\n\n<pre><code>const contextPath = this.configurationService.getServerContextPath();\n</code></pre>\n\n<p>I'm getting an error:</p>\n\n<blockquote>\n  <p>[ts] Cannot invoke an expression whose type lacks a call signature.\n  Type 'String' has no compatible call signatures.</p>\n</blockquote>\n\n<p>However if I remove the get keyword, I don't get any errors:</p>\n\n<pre><code>getServerContextPath(): string {\n    return this.config.serverContextPath;\n}\n</code></pre>\n\n<p>Why is that?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9054563, "user_type": "registered", "profile_image": "https://graph.facebook.com/250429272116014/picture?type=large", "display_name": "Oleksandr", "link": "https://stackoverflow.com/users/9054563/oleksandr"}, "edited": false, "score": 0, "creation_date": 1548854646, "post_id": 54441259, "comment_id": 95692317, "body": "unfortunately this is a generated code, i can not modify it"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 21, "user_id": 9054563, "user_type": "registered", "profile_image": "https://graph.facebook.com/250429272116014/picture?type=large", "display_name": "Oleksandr", "link": "https://stackoverflow.com/users/9054563/oleksandr"}, "edited": false, "score": 1, "creation_date": 1548860856, "post_id": 54441259, "comment_id": 95696405, "body": "in this case, I can only say there&#39;s no way to get it because type and value are different, you can&#39;t log it in a console or use it."}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 0, "last_activity_date": 1548853354, "creation_date": 1548853354, "answer_id": 54441259, "question_id": 54441014, "link": "https://stackoverflow.com/questions/54441014/typescript-access-property-value-from-type-interface-declaration/54441259#54441259", "title": "Typescript: Access property value from type/interface declaration", "body": "<p>When you export a type, the 'OfferTypeTypePagination' is not a value or default value that for __typename, it is basically another type.</p>\n\n<p>That means every variable which is OfferTypes will have a property named \"__typename\" and only have one value, that is always 'OfferTypeTypePagination'</p>\n\n<p>So your code should be like this:</p>\n\n<pre><code>const key = {\n    'OfferTypeTypePagination': null,\n};\n\nexport type OfferTypes = {\n    __typename: keyof typeof key;\n\n    items: any[];\n\n    total: number;\n};\n\nconsole.log(Object.keys(key)[0]);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9054563, "user_type": "registered", "profile_image": "https://graph.facebook.com/250429272116014/picture?type=large", "display_name": "Oleksandr", "link": "https://stackoverflow.com/users/9054563/oleksandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1548853354, "creation_date": 1548852526, "question_id": 54441014, "link": "https://stackoverflow.com/questions/54441014/typescript-access-property-value-from-type-interface-declaration", "title": "Typescript: Access property value from type/interface declaration", "body": "<p>I have a following type</p>\n\n<pre><code>export type OfferTypes = {\n__typename: 'OfferTypeTypePagination';\n\nitems: any[];\n\ntotal: number;\n};\n</code></pre>\n\n<p>is there a way to access <code>OfferTypeTypePagination</code> as a string from the code (eg <code>console.log(OfferTypes.__typename)</code>) ?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548852521, "post_id": 54440945, "comment_id": 95691013, "body": "I am still getting the same error and also that (u !== movie)will always return true since it has no overlap???"}], "tags": [], "owner": {"reputation": 547, "user_id": 9309209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iL4VfiBUa_Y/AAAAAAAAAAI/AAAAAAAAAXM/7soeNFXMvfg/photo.jpg?sz=128", "display_name": "Vishal Hasnani", "link": "https://stackoverflow.com/users/9309209/vishal-hasnani"}, "is_accepted": false, "score": 1, "last_activity_date": 1548852247, "creation_date": 1548852247, "answer_id": 54440945, "question_id": 54440856, "link": "https://stackoverflow.com/questions/54440856/delete-function-error-angular-6-return-undefined/54440945#54440945", "title": "Delete function error Angular 6 return undefined", "body": "<p>In the service file you have created method deleteMovie which accept a Movieobject</p>\n\n<pre><code>deleteMovie(movie:Movie){\n    return this.http.delete(this.baseUrl + movie.Id);\n  }\n</code></pre>\n\n<p>But in your Component movie-list.component.ts you are passing id in the delete method</p>\n\n<pre><code>import { DataService } from './../data.service';\nimport { Movie } from './../model/movie.model';\nimport { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-movie-list',\n  templateUrl: './movie-list.component.html',\n  styleUrls: ['./movie-list.component.css']\n})\nexport class MovieListComponent implements OnInit {\n\n  movies = [\n    {Id:1, Title: 'Avatar', Year: '2009'},\n    {Id:2, Title: 'Harry Potter', Year: '2001'},\n    {Id:3, Title: 'Spiderman 3', Year: '2007'}\n  ];\n\n  constructor(private dataService:DataService){}\n\n  ngOnInit() {\n    this.getMovie().then(dt =&gt; {\n      this.movies.push(dt);\n\n    })\n  }\n\n  getMovie() {\n    return fetch('https://www.omdbapi.com/?i=tt3896198&amp;apikey=9fa6058b').then(function (resp) {\n      return resp.json()\n    });\n  }\n\n  deleteMovie(movie: Movie): void { \n    // this.dataService.deleteMovie(movie.Id)    &lt;- Your code error\n    // Pass movie object \n       this.dataService.deleteMovie(movie)\n      .subscribe( data =&gt; {\n        this.movies = this.movies.filter(u =&gt; u !== movie);\n      })\n  };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548853462, "post_id": 54441183, "comment_id": 95691553, "body": "I am getting this ... Access to XMLHttpRequest at &#39;<a href=\"https://www.omdbapi.com/undefined\" rel=\"nofollow noreferrer\">omdbapi.com/undefined</a>&#39; from origin &#39;<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a>&#39; has been blocked by CORS policy: Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response."}, {"owner": {"reputation": 2060, "user_id": 2861794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3804ab367637871dba57e8fb15d6a06?s=128&d=identicon&r=PG&f=1", "display_name": "J. S.", "link": "https://stackoverflow.com/users/2861794/j-s"}, "reply_to_user": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548854520, "post_id": 54441183, "comment_id": 95692219, "body": "We don&#39;t know the rest api which you try to access. Do you have more information or a documentation about which endpoints are exposed by the api? Otherwise it is impossible to help you with that. The Access not allowed is because the rest api does not send any CORS header as response to the options request send by your browser, but this is a thing about how the rest api is designed it has nothing to do with your angular app."}, {"owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548855649, "post_id": 54441183, "comment_id": 95692928, "body": "My rest api is this i guess &#39;<a href=\"https://www.omdbapi.com/?i=tt3896198&amp;apikey=9fa6058b\" rel=\"nofollow noreferrer\">omdbapi.com/?i=tt3896198&amp;apikey=9fa6058b</a>&#39; and I am getting an object which I want to be able to delete or add a new one to it..."}, {"owner": {"reputation": 2060, "user_id": 2861794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3804ab367637871dba57e8fb15d6a06?s=128&d=identicon&r=PG&f=1", "display_name": "J. S.", "link": "https://stackoverflow.com/users/2861794/j-s"}, "reply_to_user": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548862691, "post_id": 54441183, "comment_id": 95697667, "body": "the omdbapi is an rest api to access information about movie data. I don&#39;t think that they allow you to delete entries from their database and why would you?. What exactly do you try to achieve? When you want to build an rest api which exposes CRUD Operations then you have to build your own backend with your own database."}, {"owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548862821, "post_id": 54441183, "comment_id": 95697755, "body": "What I am trying to do is after fetching the movie data on my website to be able to have a delete button and delete one of the movies from my website. I dont want to delete it from their api. Just delete the movie so it doesnt show on my website anymore. Do you know how to do that?"}, {"owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548865898, "post_id": 54441183, "comment_id": 95699626, "body": "Ok Great this is working perfectly thank you so much !!"}, {"owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "edited": false, "score": 0, "creation_date": 1548866216, "post_id": 54441183, "comment_id": 95699847, "body": "Another thing ... What can be working for adding a movie and editing a movie using my code? @J. S."}], "tags": [], "owner": {"reputation": 2060, "user_id": 2861794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3804ab367637871dba57e8fb15d6a06?s=128&d=identicon&r=PG&f=1", "display_name": "J. S.", "link": "https://stackoverflow.com/users/2861794/j-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1548865085, "last_edit_date": 1548865085, "creation_date": 1548853108, "answer_id": 54441183, "question_id": 54440856, "link": "https://stackoverflow.com/questions/54440856/delete-function-error-angular-6-return-undefined/54441183#54441183", "title": "Delete function error Angular 6 return undefined", "body": "<p>You try to acces an endpoint where actually your angular app is running: <code>baseUrl: string = 'http://localhost:4200/';</code> This is the default port of your angular application on your local computer, and you try to call an delete endpoint of an external rest api I guess. </p>\n\n<p>But the rest service does not run on your localhost on port 4200, thats why you get a 404 not found. I think you have to call delete on this endpoint <code>https://www.omdbapi.com</code>.</p>\n\n<p>EDIT:</p>\n\n<p>If you want delete a movie from your list, you have to delete the entry in your array. The easiest way would be if you change the <code>id</code> attribute to <code>imdbID</code> because the response type from omdbapi doesn't have an id attribute which means your id will always be undefined. Then when you want to delete an entry you could do it like this:</p>\n\n<pre><code> deleteMovie(imdbID: string): void {\n    this.movies = this.movies.filter(m =&gt; m.imdbID !== imdbID)\n  };\n</code></pre>\n\n<p>It's almost the same code that you have but without the delete call on the rest api. Because you don't want to delete the entry from the database but just on your angular app.</p>\n"}], "owner": {"reputation": 61, "user_id": 10191426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7q4lS33ZKY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qx2nlnas5ByhJzVp5T56eWwe4jSw/mo/photo.jpg?sz=128", "display_name": "Ava Sahal", "link": "https://stackoverflow.com/users/10191426/ava-sahal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 54441183, "answer_count": 2, "score": 0, "last_activity_date": 1548865085, "creation_date": 1548851912, "question_id": 54440856, "link": "https://stackoverflow.com/questions/54440856/delete-function-error-angular-6-return-undefined", "title": "Delete function error Angular 6 return undefined", "body": "<p>I am trying to write a delete function to delete a movie from my object.</p>\n\n<p>This is my code but when I click on a delete button I get DELETE: Error.</p>\n\n<p>What do you think is the error in my code?</p>\n\n<p>You can check out my code here ...</p>\n\n<p>movie-model.ts</p>\n\n<pre><code>export class Movie {\n  Id: number;\n  Title: string;\n  Year: number;\n  Runtime: string;\n  Genre: string;\n  Director: string;\n}\n</code></pre>\n\n<p>data.service.ts </p>\n\n<pre><code>import { Movie } from './model/movie.model';\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n\n  constructor(private http: HttpClient) { }\n  baseUrl: string = 'http://localhost:4200/';\n\n  getMovies() {\n    return fetch('https://www.omdbapi.com/?i=tt3896198&amp;apikey=9fa6058b').then(function (resp) {\n      return resp.json()\n    });\n  }\n\n  createMovie(movie:Movie) {\n    return this.http.post(this.baseUrl, movie);\n\n  }\n\n  deleteMovie(movie:Movie){\n    return this.http.delete(this.baseUrl + movie.Id);\n  }\n\n\n}\n</code></pre>\n\n<p>movie-list.component.ts</p>\n\n<pre><code>import { DataService } from './../data.service';\nimport { Movie } from './../model/movie.model';\nimport { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-movie-list',\n  templateUrl: './movie-list.component.html',\n  styleUrls: ['./movie-list.component.css']\n})\nexport class MovieListComponent implements OnInit {\n\n  movies = [\n    {Id:1, Title: 'Avatar', Year: '2009'},\n    {Id:2, Title: 'Harry Potter', Year: '2001'},\n    {Id:3, Title: 'Spiderman 3', Year: '2007'}\n  ];\n\n  constructor(private dataService:DataService){}\n\n  ngOnInit() {\n    this.getMovie().then(dt =&gt; {\n      this.movies.push(dt);\n\n    })\n  }\n\n  getMovie() {\n    return fetch('https://www.omdbapi.com/?i=tt3896198&amp;apikey=9fa6058b').then(function (resp) {\n      return resp.json()\n    });\n  }\n\n  deleteMovie(movie: Movie): void {\n    this.dataService.deleteMovie(movie.Id)\n      .subscribe( data =&gt; {\n        this.movies = this.movies.filter(u =&gt; u !== movie);\n      })\n  };\n}\n</code></pre>\n\n<p>This is the error I get ...</p>\n\n<p><a href=\"https://i.stack.imgur.com/wYsxm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wYsxm.png\" alt=\"enter image description here\"></a></p>\n\n<p>What can I do for the delete button to work and give me an alert and then delete itself from the object?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 1, "last_activity_date": 1548853692, "creation_date": 1548853692, "answer_id": 54441363, "question_id": 54440534, "link": "https://stackoverflow.com/questions/54440534/error-when-using-a-generic-type-with-a-constraint-in-typescript-2536/54441363#54441363", "title": "Error when using a generic type with a constraint in Typescript - 2536", "body": "<p>Because FiltersKeys is extended from IFilterFields, therefore it could contain different keys. You can use </p>\n\n<pre><code>export type IFiltersState&lt;FiltersKeys extends keyof IFilterFields&gt; = {\n    [K in keyof IFilterFields]: IFilterFields[K][\"defaultValue\"]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1548858994, "post_id": 54443008, "comment_id": 95695106, "body": "Should I delete this question altogether?"}], "tags": [], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "is_accepted": true, "score": 1, "last_activity_date": 1548858965, "creation_date": 1548858965, "answer_id": 54443008, "question_id": 54440534, "link": "https://stackoverflow.com/questions/54440534/error-when-using-a-generic-type-with-a-constraint-in-typescript-2536/54443008#54443008", "title": "Error when using a generic type with a constraint in Typescript - 2536", "body": "<p>I found my error. Since <code>FiltersKeys</code> is already a union of keys/strings, there is a reduntand keyof in <code>[K in keyof IfilterFields]</code>. </p>\n"}], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 54443008, "answer_count": 2, "score": 1, "last_activity_date": 1548858965, "creation_date": 1548850822, "question_id": 54440534, "link": "https://stackoverflow.com/questions/54440534/error-when-using-a-generic-type-with-a-constraint-in-typescript-2536", "title": "Error when using a generic type with a constraint in Typescript - 2536", "body": "<p>I have the following types: </p>\n\n<pre><code>interface IFilterField &lt;T extends FilterFieldValue &gt; {\n    defaultValue: T\n    displayStr?: string\n}\n\ninterface IFilterFields = {\n   costMax: IFilterField&lt;number&gt;\n   costMin: IFilterField&lt;number&gt;\n   .....\n}&gt;\n</code></pre>\n\n<p>When I try to type an object that will link between the filterField and the type of its` value, this works:</p>\n\n<pre><code>export type IFiltersState&lt;FiltersKeys extends keyof IFilterFields&gt; = {\n    [K in keyof FiltersKeys]: IFilterFields[\"costMin\"|\"costMax\"][\"defaultValue\"]\n</code></pre>\n\n<p>}</p>\n\n<p>But this fails:</p>\n\n<pre><code>export type IFiltersState&lt;FiltersKeys extends keyof IFilterFields&gt; = {\n   [K in keyof FiltersKeys]: IFilterFields[K][\"defaultValue\"]\n}\n</code></pre>\n\n<p>Even though the constraint is pretty much the same. </p>\n\n<p>Error: </p>\n\n<pre><code>[ts] Type 'K' cannot be used to index type 'IFilterFields'. [2536]\n[ts] Type '\"defaultValue\"' cannot be used to index type 'IFilterFields[K]'. [2536]\n</code></pre>\n\n<p>Why is this error occuring? </p>\n\n<p>How can I acheive the purpose of a mapped type, which follows this principles: A new type T2 has some of the keys of type T1, and for each such key typeof T1[key] equals typeof T2[key][SomeFieldName]? </p>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1549839839, "post_id": 54440318, "comment_id": 96036730, "body": "Still having problems? :-)"}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": false, "score": 0, "last_activity_date": 1548929831, "last_edit_date": 1548929831, "creation_date": 1548852676, "answer_id": 54441050, "question_id": 54440318, "link": "https://stackoverflow.com/questions/54440318/testing-typeorm-repo-find-function-with-where-option/54441050#54441050", "title": "Testing typeorm repo find function with where option", "body": "<p>I'd recommend using <code>jest.fn()</code> to mock the repository:</p>\n\n<pre><code>mockHistoricalMappingTypesRepo = new (jest.fn(() =&gt; ({\n  find: jest.fn(),\n})))();\n</code></pre>\n\n<p>In your test you can then control what the repository returns with <code>mockImplementation</code>:</p>\n\n<pre><code>mockHistoricalMappingTypesRepo.find.mockImplementation(() =&gt; throw new Error());\ntry {\n  await service.ContractHistoricalMapping()\n  fail('Should have thrown error!');\n} catch (e) {\n  expect(e).toBeInstanceOf(Error);\n}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 3182518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a45583e70473c9ea34c677c07ee1b10b?s=128&d=identicon&r=PG&f=1", "display_name": "user3182518", "link": "https://stackoverflow.com/users/3182518/user3182518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 867, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548929831, "creation_date": 1548850162, "last_edit_date": 1548852740, "question_id": 54440318, "link": "https://stackoverflow.com/questions/54440318/testing-typeorm-repo-find-function-with-where-option", "title": "Testing typeorm repo find function with where option", "body": "<p>I am trying to test a catch error if a result is not found, using typeorm <code>find</code> function against a entity, with additional option of where </p>\n\n<p>I have tried to mock the function however I cannot seem to mock the where bit of the function.</p>\n\n<p>service file</p>\n\n<pre><code>try {\n    historicalTypes = await this.historicalMappingDataTypesRepo.find({\n     where: {\n          HistoricalTypes: 'Contracts',\n        },\n    });\n}\ncatch (e) {\n  if (e instanceof Error) {\n    this.logger.error(`Historical mapping type contracts could not found: ${e.message}`, e.stack);\n  } else {\n    this.logger.error(`Historical mapping type contracts could not found: ${e}`);\n  }\n  return;\n}\n</code></pre>\n\n<p>test</p>\n\n<pre><code>const mockHistoricalTypes: HistoricalTypes[] = [\n    {\n      HistoricalTypeID: 1,\n      HistoricalType: 'Contracts',\n    },\n];\n\nconst mockHistoricalMappingTypesRepo = {\n    find: ({where}) =&gt; Promise.resolve(mockHistoricalMappingTypes),\n};\n\nbeforeAll(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        HistoricalMappingSchedulerService,\n        {\n          provide: HistoricalMappingSchedulerRepository,\n          useValue: mockHistoricalMappingSchedulerRepository,\n        },\n        {\n          provide: getRepositoryToken(HistoricalMappingTypes),\n          useValue: mockHistoricalMappingTypesRepo,\n        },\n      ],\n    }).compile();\n    service = module.get&lt;HistoricalMappingSchedulerService&gt;(HistoricalMappingSchedulerService);\n});\n\nit('should throw an error when historical type id is not found', async () =&gt; {\n    await mockHistoricalMappingTypesRepo.find({\n      where: {\n        HistoricalMappingType: 'Testing',\n      },\n    });\n    const mockFn = () =&gt; service.ContractHistoricalMapping();\n    expect(mockFn).toThrowError();\n});\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 1, "creation_date": 1548850382, "post_id": 54440167, "comment_id": 95689837, "body": "Welcome to Stack Overflow ! While screenshots can be useful to help understanding what&#39;s happening, image of codes are strongly discouraged <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557\">for various reasons</a>. Please edit your question and add the most relevant part of the codes and any messages in the question itself. Your question will be better received if you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "owner": {"reputation": 11, "user_id": 10989967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75536b3a7df4405053a75d7c19face8d?s=128&d=identicon&r=PG&f=1", "display_name": "Dunaan", "link": "https://stackoverflow.com/users/10989967/dunaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548880940, "creation_date": 1548849699, "last_edit_date": 1548880940, "question_id": 54440167, "link": "https://stackoverflow.com/questions/54440167/ionic-infinite-scroll-with-no-display", "title": "Ionic - Infinite Scroll with no display", "body": "<p>I'm a bit new with Ionic and I would like to use the infinite-scroll component with my own datas. </p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { InfiniteScroll } from 'ionic-angular';\n\n@Component({\n    selector: 'page-administrateur',\n    templateUrl: 'administrateur.html'\n})\nexport class Administrateur {\n    infiniteScroll: InfiniteScroll;\n    users = [\n        {firstName : \"Julie\", lastName : \"Aubret\", mail : \"julieaubret@outlook.fr\"},\n        {firstName : \"Thomas\", lastName : \"Perrot\", mail : \"thomasperrot@outlook.fr\"},\n        {firstName : \"Maxime\", lastName : \"Le Feuvre\", mail : \"maximelefeuvre@outlook.fr\"},\n        {firstName : \"Mewen\", lastName : \"Le Pogam\", mail : \"mewenlepogam@outlook.fr\"},\n        {firstName : \"Aziliz\", lastName : \"Abollivier\", mail : \"azilizabollivier@outlook.fr\"},\n        {firstName : \"Thibault\", lastName : \"Herledan\", mail : \"thibaultherledan@outlook.fr\"},\n        {firstName : \"Sophie\", lastName : \"Puybareau\", mail : \"sophiepuybareau@outlook.fr\"},\n        {firstName : \"K\u00e9vin\", lastName : \"Le Manach\", mail : \"kevinlemanach@outlook.fr\"}\n    ];\n    page = 0;\n    maximumPages = 3;\n\n    constructor(public navCtrl: NavController) {\n        this.loadUsers();\n    }\n\n    loadUsers(infiniteScroll?) {\n        if (infiniteScroll) {\n            infiniteScroll.complete();\n        }\n    }\n\n    loadMore(infiniteScroll) {\n        this.page++;\n        this.loadUsers(infiniteScroll);\n        if (this.page === this.maximumPages) {\n            infiniteScroll.enable(false);\n        }\n    }\n}\n</code></pre>\n\n<p>Problem : When I look at the result, it seems that the function which loads my datas only display the list without displaying the informations.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CooB2.png\" rel=\"nofollow noreferrer\">result</a></p>\n\n<p>What do I need do I need to do in order to fix this? </p>\n"}, {"tags": ["angular", "typescript", "chart.js"], "comments": [{"owner": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "edited": false, "score": 0, "creation_date": 1548850070, "post_id": 54440160, "comment_id": 95689674, "body": "put more code of your chart creation, this animation object is inside options?"}, {"owner": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "edited": false, "score": 0, "creation_date": 1548850348, "post_id": 54440160, "comment_id": 95689816, "body": "I strongly recommend that you use a library, personally i use <a href=\"https://github.com/TypeCtrl/ngx-chartjs\" rel=\"nofollow noreferrer\">ngx-chartjs</a>, because it have the <code>chartInstance</code> with only doing <code>this.chart.chartInstance</code> and you can use it for outside methods like printing.."}, {"owner": {"reputation": 11, "user_id": 9310552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0251cbe449ded1bc1b63a0cddbe022d1?s=128&d=identicon&r=PG&f=1", "display_name": "Miko\u0142aj", "link": "https://stackoverflow.com/users/9310552/miko%c5%82aj"}, "reply_to_user": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "edited": false, "score": 0, "creation_date": 1548851859, "post_id": 54440160, "comment_id": 95690667, "body": "I updated my post"}, {"owner": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "edited": false, "score": 0, "creation_date": 1548853056, "post_id": 54440160, "comment_id": 95691331, "body": "if you remove <code>easing: &#39;easeOutQuart&#39;</code>?"}, {"owner": {"reputation": 11, "user_id": 9310552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0251cbe449ded1bc1b63a0cddbe022d1?s=128&d=identicon&r=PG&f=1", "display_name": "Miko\u0142aj", "link": "https://stackoverflow.com/users/9310552/miko%c5%82aj"}, "reply_to_user": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "edited": false, "score": 0, "creation_date": 1548854054, "post_id": 54440160, "comment_id": 95691920, "body": "Of course there is no animation when i removed it. Problem is the animation is not done when the chart is inside of mat-tab. If i put the component outside of mat-tab everything is okay."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8307697, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X2SgywxX7M0/AAAAAAAAAAI/AAAAAAAAGfY/lVx3F4AtOM4/photo.jpg?sz=128", "display_name": "nadav wolff", "link": "https://stackoverflow.com/users/8307697/nadav-wolff"}, "is_accepted": false, "score": 2, "last_activity_date": 1573731153, "last_edit_date": 1573731153, "creation_date": 1573730844, "answer_id": 58855735, "question_id": 54440160, "link": "https://stackoverflow.com/questions/54440160/angular-chart-js-animation-inside-mat-tab/58855735#58855735", "title": "Angular, Chart.js animation inside mat-tab", "body": "<p>You need to use <code>&lt;ng-template matTabContent&gt;</code></p>\n\n<p>It wiil look something like that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;mat-tab label=\"example\"&gt;\r\n   &lt;ng-template matTabContent&gt;\r\n    &lt;div class=\"chart-area\"&gt;\r\n      &lt;canvas baseChart\r\n            [chartType]=\"'bar'\"\r\n            [datasets]=\"[chartConfig.chartData]\"\r\n            [labels]=\"chartConfig.chartHours\"\r\n            [options]=\"chartConfig.chartOptions\"\r\n            [colors]=\"[chartConfig.chartColors]\"&gt;\r\n      &lt;/canvas&gt;\r\n    &lt;/div&gt;\r\n   &lt;/ng-template&gt;\r\n&lt;/mat-tab&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can read more about Lazy loading <a href=\"https://material.angular.io/components/tabs/overview#lazy-loading\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9310552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0251cbe449ded1bc1b63a0cddbe022d1?s=128&d=identicon&r=PG&f=1", "display_name": "Miko\u0142aj", "link": "https://stackoverflow.com/users/9310552/miko%c5%82aj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1573731153, "creation_date": 1548849671, "last_edit_date": 1548851779, "question_id": 54440160, "link": "https://stackoverflow.com/questions/54440160/angular-chart-js-animation-inside-mat-tab", "title": "Angular, Chart.js animation inside mat-tab", "body": "<p>I am displaying few charts in mat-tab and I don't have an animation of showing data in the chart. </p>\n\n<pre><code>animation: {\n           duration: 1000,\n           easing: 'easeOutQuart'\n       }\n</code></pre>\n\n<p>Outside the mat-tab animation works, but inside is only final effect (animation time nothing changes). Try to use onComplete() and it's fire after time I set, but theres no animation. I am also using ngx-charts. Any solutions?</p>\n\n<p>chart.ts</p>\n\n<pre><code>public chartOptions = {\n        responsive: true,\n        title: {\n            display: false\n        },\n        legend: {\n            display: false\n        },\n        scales: {\n            xAxes:\n                [{\n                    display: true,\n                    ticks: {\n                        callback: function (dataLabel, index) {\n                            if ([0, 5, 11, 17, 23].indexOf(index) !== -1) {\n                                return dataLabel;\n                            } else {\n                                return null;\n                            }\n                            // return (index + 1) % 3 === 0 ? dataLabel : null;\n                        },\n                        autoSkip: false,\n                        maxRotation: 0,\n                        padding: 10,\n                        fontColor: 'rgba(0, 0, 0, 0.5)'\n                    },\n                    gridLines: {\n                        display: false\n                    }\n                }],\n            yAxes: [{\n                ticks: {\n                    fontColor: 'rgba(0,0,0,0.5)',\n                    beginAtZero: true,\n                    maxTicksLimit: 5,\n                    padding: 10,\n                    min: 0,\n                    suggestedMax: 100\n                },\n                gridLines: {\n                    drawTicks: false,\n                    drawBorder: false,\n                    color: 'rgba(0,0,0, 0.04)'\n                }\n            }]\n        },\n        animation: {\n            duration: 1000,\n            easing: 'easeOutQuart'\n        },\n        tooltips: {\n            callbacks: {\n                label: (item, data) =&gt; `${item.yLabel} ${data.datasets[item.datasetIndex].label}`,\n                title: function (tooltipItems, data) {\n                    return `Godzina: ${data.labels[tooltipItems[0].index]}`;\n                },\n            }\n        }\n    };\n</code></pre>\n\n<p>chart.html</p>\n\n<pre><code>&lt;div class=\"chart-area\"&gt;\n    &lt;canvas baseChart\n            [chartType]=\"'bar'\"\n            [datasets]=\"[chartConfig.chartData]\"\n            [labels]=\"chartConfig.chartHours\"\n            [options]=\"chartConfig.chartOptions\"\n            [colors]=\"[chartConfig.chartColors]\"&gt;\n    &lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "edited": false, "score": 0, "creation_date": 1548853607, "post_id": 54440427, "comment_id": 95691647, "body": "I am getting error Property data doesn&#39;t exist on type MetaData.component.ts"}, {"owner": {"reputation": 2825, "user_id": 3107196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/67d3dcdd4833a07ea20f725e678632ca?s=128&d=identicon&r=PG&f=1", "display_name": "UI_Dev", "link": "https://stackoverflow.com/users/3107196/ui-dev"}, "reply_to_user": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "edited": false, "score": 0, "creation_date": 1548853964, "post_id": 54440427, "comment_id": 95691862, "body": "are you getting the response inside subscribe? just put  console.log(this.data) after assigning the data and check you have received the response or not."}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1548854388, "post_id": 54440427, "comment_id": 95692146, "body": "Please consider using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\"><i>template literals</i></a> to simplify the concatenation of strings. (In this case, it should be <code>`Platform job completed - ${this.data.message} Info`</code>)"}], "tags": [], "owner": {"reputation": 2825, "user_id": 3107196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/67d3dcdd4833a07ea20f725e678632ca?s=128&d=identicon&r=PG&f=1", "display_name": "UI_Dev", "link": "https://stackoverflow.com/users/3107196/ui-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1548850462, "creation_date": 1548850462, "answer_id": 54440427, "question_id": 54440131, "link": "https://stackoverflow.com/questions/54440131/how-to-show-data-from-object-in-snakbar-in-angular/54440427#54440427", "title": "How to show data from object in snakbar in angular", "body": "<p>First Assign the subscribed value to some variable.</p>\n\n<pre><code>this.data = data;\n</code></pre>\n\n<p>Then, try to get the message value from data as shown below.</p>\n\n<pre><code>this.snakbar.statusBar(\"Platform job Completed - \" + this.data.message, \"Info\");\n</code></pre>\n\n<p>Complete Code</p>\n\n<pre><code>const project = JSON.parse(this.dataService.getObject(\"project\"));\n    if (project != null) {\n        this.globalAppSateService.onMessage(project);\n        this.project = project;\n    }\n    this.messageService.messageReceived$.subscribe(data =&gt; {\n        this.data = data; // assigning data to reuse\n        this.snakbar.statusBar(\"Platform job Completed - \" + this.data.message, \"Info\");\n        let webService: WebService = JSON.parse(data);\n        console.log(webService.message);\n        console.log(webService.executionId);\n        console.log(webService.code);\n        this.spinner.hide();\n        this.selectedIndex = 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548853887, "creation_date": 1548849591, "last_edit_date": 1548853887, "question_id": 54440131, "link": "https://stackoverflow.com/questions/54440131/how-to-show-data-from-object-in-snakbar-in-angular", "title": "How to show data from object in snakbar in angular", "body": "<p>I have a snakbar which gets notification from Web Service and displays information whether Job Execution was successful or failure.</p>\n\n<p>Code to parse Json:</p>\n\n<pre><code>    this.messageService.messageReceived$.subscribe(data =&gt; {\n\n        this.snakbar.statusBar(\"Platform job Completed - \" + data, \"Info\");\n        let webService: WebService = JSON.parse(data);\n        console.log(webService.message);\n        console.log(webService.executionId);\n        console.log(webService.code);\n        this.spinner.hide();\n        this.selectedIndex = 1;\n}\n</code></pre>\n\n<p>I have created an Interface to parse Json</p>\n\n<pre><code>interface WebService {\njobId: string,\nexecutionId: string,\ncode: number,\nmessage: string,\ndata: string\n}\n</code></pre>\n\n<p>Using console.log I am able to view data in console.However I want to show message in snakbar.\nRight now I am getting <code>'Platform job Completed - [Object][Object]'</code>\nI want something like this in snakbar <code>'Platform job Completed - Success/Failure Info\"'</code></p>\n\n<p>How do I achieve this?</p>\n"}, {"tags": ["arrays", "typescript", "lodash"], "comments": [{"owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1548849610, "post_id": 54440097, "comment_id": 95689381, "body": "Without lodash you can do this using <code>let condition : boolean = array1.some(e =&gt; array2.includes(e));</code>"}], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 7414449, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d6bd5906c58367cacdab2b7e09c4d174?s=128&d=identicon&r=PG&f=1", "display_name": "Bonzo", "link": "https://stackoverflow.com/users/7414449/bonzo"}, "edited": false, "score": 0, "creation_date": 1559826507, "post_id": 54440119, "comment_id": 99546832, "body": "what if we need to check all the items of array 2 present in array 1?"}], "tags": [], "owner": {"reputation": 136245, "user_id": 223386, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/tfslu.jpg?s=128&g=1", "display_name": "hsz", "link": "https://stackoverflow.com/users/223386/hsz"}, "is_accepted": true, "score": 2, "last_activity_date": 1548849539, "creation_date": 1548849539, "answer_id": 54440119, "question_id": 54440097, "link": "https://stackoverflow.com/questions/54440097/using-some-in-lodash/54440119#54440119", "title": "Using _.some in lodash", "body": "<p>You can use <a href=\"https://lodash.com/docs/4.17.11#intersection\" rel=\"nofollow noreferrer\"><code>intersection</code></a> function and check if it returns any items:</p>\n\n<pre><code>let condition : boolean = _.intersection(array1, array2).length &gt; 0;\n</code></pre>\n\n<p>With <code>some</code> you have to pass a test callback as a second argument:</p>\n\n<pre><code>let condition : boolean = _.some(array1, item =&gt; array2.includes(item))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 4667153, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1fa23984511afe0d5d07688c47e3e410?s=128&d=identicon&r=PG&f=1", "display_name": "m4tt", "link": "https://stackoverflow.com/users/4667153/m4tt"}, "edited": false, "score": 0, "creation_date": 1614204138, "post_id": 54440375, "comment_id": 117318077, "body": "_.some is for objects while javascript .some is for arrays"}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": false, "score": 0, "last_activity_date": 1548850304, "creation_date": 1548850304, "answer_id": 54440375, "question_id": 54440097, "link": "https://stackoverflow.com/questions/54440097/using-some-in-lodash/54440375#54440375", "title": "Using _.some in lodash", "body": "<p>lodash was cool before plain javascript had the same methods...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array1 = [\"test\", \"some\", \"lodash\"];\r\nlet array2 = [\"some\", \"includes\"];\r\n\r\nlet test = array1.some(e =&gt; array2.includes(e));\r\n\r\nconsole.log(test);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 115, "user_id": 8220660, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/bae9880fd74014fb57752b951a12e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "BrianM", "link": "https://stackoverflow.com/users/8220660/brianm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2635, "favorite_count": 0, "accepted_answer_id": 54440119, "answer_count": 2, "score": 0, "last_activity_date": 1548850304, "creation_date": 1548849432, "question_id": 54440097, "link": "https://stackoverflow.com/questions/54440097/using-some-in-lodash", "title": "Using _.some in lodash", "body": "<p>I have Typescript code where i want to return true if any items in 1 array are present in another array. I am new to lodash but i was looking to do this using _.some. I am not sure if this is the correct approach. The code below is returning false but i expected it to return true.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array1 = [\"test\", \"some\", \"lodash\"];\r\nlet array2 = [\"some\", \"includes\"];\r\n\r\nlet condition : boolean = _.some(array1, array2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1548850170, "post_id": 54440016, "comment_id": 95689730, "body": "Not clear with your question Can you little bit elaborate it ?"}, {"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 1, "creation_date": 1548850463, "post_id": 54440016, "comment_id": 95689891, "body": "@CodeChanger: Thanks for trying to help. Let me know if my elaboration still is not clear enough"}], "answers": [{"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 2, "last_activity_date": 1548850779, "creation_date": 1548850779, "answer_id": 54440524, "question_id": 54440016, "link": "https://stackoverflow.com/questions/54440016/how-to-use-this-in-a-constructor-with-typescript/54440524#54440524", "title": "How to use this in a constructor with TypeScript?", "body": "<p>The type of <code>this</code> can be defined <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\" rel=\"nofollow noreferrer\">as a fake parameter</a>, in first position:</p>\n\n<pre><code>function Client(this: any, options: ClientOptions) {\n    // ...\n}\n</code></pre>\n\n<p>Or, this kind of error can be disabled by setting the compiler option <code>--noImplicitThis</code> to <code>false</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 9966139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb11c36d5b1e4bb8b2ff6c603a5e1fac?s=128&d=identicon&r=PG&f=1", "display_name": "Suxino", "link": "https://stackoverflow.com/users/9966139/suxino"}, "is_accepted": false, "score": 0, "last_activity_date": 1548850838, "creation_date": 1548850838, "answer_id": 54440538, "question_id": 54440016, "link": "https://stackoverflow.com/questions/54440016/how-to-use-this-in-a-constructor-with-typescript/54440538#54440538", "title": "How to use this in a constructor with TypeScript?", "body": "<p>Since you are using typescript you could use Class instead of this approach.\nThere you wont have any errors with using this.xxx\nAnd as a bonus you will get type hinting when using the class</p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 54440524, "answer_count": 2, "score": 1, "last_activity_date": 1548850838, "creation_date": 1548849122, "last_edit_date": 1548850423, "question_id": 54440016, "link": "https://stackoverflow.com/questions/54440016/how-to-use-this-in-a-constructor-with-typescript", "title": "How to use this in a constructor with TypeScript?", "body": "<p>What is a good approach to giving <code>this</code> a type annotation in a constructor?</p>\n\n<pre><code>function Client(options: ClientOptions) {\n    const defaultOptions = { \n        host: 'ws://127.0.0.1',\n        port:  8080,\n        logger: function() {\n            const prefix = \"LOG:\";\n            console.log.call(null, prefix, ...Array.from(arguments))\n        },\n        maxTime: 30000, \n        startFromTransactionId: 1\n    };\n\n    Object.assign(this, { ...defaultOptions, ...options });\n\n    this.transactionsCounter = 0;\n    this.requestCallbacks  {};\n    this.socket = null;\n}\n</code></pre>\n\n<blockquote>\n  <p>[ts] 'this' implicitly has type 'any' because it does not have a type\n  annotation.</p>\n</blockquote>\n\n<p><strong>Elaboration</strong></p>\n\n<p>My editor shows me red squiggly lines beneath each use of the <code>this</code> keyword in this constructor. I get a <code>[ts]</code> warning that this does not have any type annotation.</p>\n\n<p>How should I go about adding type annotation to <code>this</code>?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "is_accepted": false, "score": 0, "last_activity_date": 1548849828, "creation_date": 1548849828, "answer_id": 54440223, "question_id": 54440008, "link": "https://stackoverflow.com/questions/54440008/angular-replace-double-iteration-with-lambda-expression/54440223#54440223", "title": "Angular replace double iteration with lambda expression", "body": "<p>You want to use the <code>Array.forEach</code> method.</p>\n\n<pre><code>this.markersDisplay = this.markersSource;\n\n// Filter Marker Type\nif (this.isValid(this.selectedMarkersType)) {\n  let markers: Array&lt;Marker&gt; = new Array&lt;Marker&gt;();\n  this.markersDisplay.forEach(md =&gt; {\n    this.selectedMarkersType.forEach(mt =&gt; {\n      if (md.MarkerType === mt) {\n        markers.push(md);\n      }\n    });\n  });\n  this.markersDisplay = markers;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2233, "user_id": 4120474, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a29d97551bb7f27c5a8c7371551ac651?s=128&d=identicon&r=PG&f=1", "display_name": "j4rey", "link": "https://stackoverflow.com/users/4120474/j4rey"}, "is_accepted": false, "score": 1, "last_activity_date": 1548850081, "creation_date": 1548850081, "answer_id": 54440298, "question_id": 54440008, "link": "https://stackoverflow.com/questions/54440008/angular-replace-double-iteration-with-lambda-expression/54440298#54440298", "title": "Angular replace double iteration with lambda expression", "body": "<p>Try this:</p>\n\n<pre><code>markers = markersDisplay.filter(x=&gt;{\n    return selectedMarkersType.find((curVal,i)=&gt;{\n        return x.MarkerType==curVal;\n    })\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 235, "user_id": 10155039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00ca3f908bb8c7f6a1eb67a14ac2cc?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanth Mohan", "link": "https://stackoverflow.com/users/10155039/prasanth-mohan"}, "is_accepted": false, "score": 1, "last_activity_date": 1548852599, "creation_date": 1548852599, "answer_id": 54441030, "question_id": 54440008, "link": "https://stackoverflow.com/questions/54440008/angular-replace-double-iteration-with-lambda-expression/54441030#54441030", "title": "Angular replace double iteration with lambda expression", "body": "<p>I made a couple of assumptions with regards to your data structure, but I hope the below code will work for you.</p>\n\n<pre><code>this.markersDisplay.forEach((p) =&gt; {\n        p.MarkerType.filter(p =&gt; p.MarkerType === this.selectedMarkersType).map(p =&gt; markers.push(marker));\n      });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "is_accepted": true, "score": 1, "last_activity_date": 1548852915, "creation_date": 1548852915, "answer_id": 54441123, "question_id": 54440008, "link": "https://stackoverflow.com/questions/54440008/angular-replace-double-iteration-with-lambda-expression/54441123#54441123", "title": "Angular replace double iteration with lambda expression", "body": "<p>If you don't need the <code>break</code> statement you can use this</p>\n\n<pre><code>markers = this.markersDisplay\n    .filter((marker: Marker) =&gt; (this.selectedMarkersType\n            .find((markerType: MarkerType) =&gt; markerType === marker.MarkerType)));\n</code></pre>\n\n<p>If you don't work with types:</p>\n\n<pre><code>markers = this.markersDisplay\n    .filter(marker =&gt; (this.selectedMarkersType\n            .find(markerType =&gt; markerType === marker.MarkerType)));\n</code></pre>\n\n<p>If you need to use the <code>break</code> statement for performance you can't use arrow functions. Instead, use <a href=\"https://stackoverflow.com/a/6260865/3681565\">some() or every() functions</a>:</p>\n\n<pre><code>markers = this.markersDisplay\n    .filter(marker =&gt; (this.selectedMarkersType\n            .some(markerType =&gt; markerType === marker.MarkerType)));\n</code></pre>\n\n<p>You can see this happening <a href=\"https://stackblitz.com/edit/angular-9vfjbm\" rel=\"nofollow noreferrer\">in this stackblitz</a></p>\n"}], "owner": {"reputation": 397, "user_id": 9815897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYbCS.jpg?s=128&g=1", "display_name": "Nemanja Andric", "link": "https://stackoverflow.com/users/9815897/nemanja-andric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 1, "accepted_answer_id": 54441123, "answer_count": 4, "score": 0, "last_activity_date": 1548852915, "creation_date": 1548849085, "question_id": 54440008, "link": "https://stackoverflow.com/questions/54440008/angular-replace-double-iteration-with-lambda-expression", "title": "Angular replace double iteration with lambda expression", "body": "<p>Is there some simple way to write this block of code:</p>\n\n<pre><code>  this.markersDisplay = this.markersSource;\n\n    // Filter Marker Type\n    if (this.isValid(this.selectedMarkersType)) {\n      let markers: Array&lt;Marker&gt; = new Array&lt;Marker&gt;();\n      for (let marker of this.markersDisplay) {\n        for (let markerType of this.selectedMarkersType) {\n          if (marker.MarkerType == markerType) {\n            markers.push(marker);\n            break;\n          }\n        }\n      }\n      this.markersDisplay = markers;\n    }\n</code></pre>\n\n<p>I would like to replace <strong>double for iteration</strong> with some lambda expression</p>\n"}, {"tags": ["typescript", "microsoft-graph-api", "microsoft-teams", "msal", "msal.js"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "edited": false, "score": 0, "creation_date": 1548861941, "post_id": 54443159, "comment_id": 95697155, "body": "Thanks for the response Marc. I&#39;m still unsure about what you mean. Do you mean manually redirect them to the hosted site &amp; back to teams with the token as opposed to using graph authentication?"}, {"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "reply_to_user": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "edited": false, "score": 0, "creation_date": 1548863289, "post_id": 54443159, "comment_id": 95698017, "body": "I think you may be combining bits from multiple stacks. What documentation are you following for this?"}, {"owner": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "edited": false, "score": 0, "creation_date": 1548863833, "post_id": 54443159, "comment_id": 95698314, "body": "I&#39;ve used &#39;@microsoft/microsoft-graph-client&#39; to retrieve data &amp; Microsoft Authentication Library (MSAL.js) for authentication - <a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-core/README.md\" rel=\"nofollow noreferrer\">github.com/AzureAD/microsoft-authentication-library-for-js/b&zwnj;&#8203;lob/&hellip;</a>."}, {"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "reply_to_user": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "edited": false, "score": 0, "creation_date": 1548865804, "post_id": 54443159, "comment_id": 95699555, "body": "Did you define a <code>tokenReceivedCallback</code> function when you set up your <code>userAgentApplication </code>?"}, {"owner": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "edited": false, "score": 0, "creation_date": 1548866245, "post_id": 54443159, "comment_id": 95699869, "body": "No I had left it null Marc -  this.userAgentApplication = new UserAgentApplication(config.appId, null, null); - You think that could be the cause? I see this in the Configuration options &quot;redirectUri(Optional): The redirect URI of your app, where authentication responses can be sent and received by your app. It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL encoded. Defaults to window.location.href.&quot; But then I&#39;m back to square one with the url in portal."}, {"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "reply_to_user": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "edited": false, "score": 0, "creation_date": 1548867078, "post_id": 54443159, "comment_id": 95700375, "body": "You need to proced a callback to process the result so MSAL knows how to wire it up properly. You may also want to look at how Teams handles authentication: <a href=\"https://docs.microsoft.com/en-us/microsoftteams/platform/concepts/authentication/authentication\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/microsoftteams/platform/concepts/&hellip;</a>"}], "tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": false, "score": 0, "last_activity_date": 1548859397, "creation_date": 1548859397, "answer_id": 54443159, "question_id": 54439975, "link": "https://stackoverflow.com/questions/54439975/how-to-configure-redirect-uri-for-microsoft-application-portal-for-microsoft-tea/54443159#54443159", "title": "How to configure Redirect URI for Microsoft Application portal for Microsoft teams app", "body": "<p>The redirect URI should be pointing to <em>your</em> site, not the client application. In other words, you should be redirecting them to a page <em>you</em> are hosting. Once that page is called, you process the authentication (convert the authorization code to an access token, store the refresh token, validate the <code>state</code> property, etc.) and then redirect them to the final destination. </p>\n\n<p>If you need to pass the final destination through to your page (i.e. retain the link to the channel), you should encode it and pass it using the <code>state</code> parameter. This <code>state</code> will be returned to the redirection page unaltered. Your app can then decode it to determine the final destination. </p>\n"}], "owner": {"reputation": 315, "user_id": 6140412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuIt6.jpg?s=128&g=1", "display_name": "Paddymac", "link": "https://stackoverflow.com/users/6140412/paddymac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548865836, "creation_date": 1548848989, "last_edit_date": 1548865836, "question_id": 54439975, "link": "https://stackoverflow.com/questions/54439975/how-to-configure-redirect-uri-for-microsoft-application-portal-for-microsoft-tea", "title": "How to configure Redirect URI for Microsoft Application portal for Microsoft teams app", "body": "<p>I have created a SharePoint Webpart and launched it to Microsoft Teams.</p>\n\n<p>The webpart needs to send a request to Microsoft Graph for authentication. During development, I added a redirect URL in <code>apps.dev.microsoft.com</code> that pointed to my local machine (<code>https://localhost:4321/temp/workbench.html</code>). The authentication worked fine.</p>\n\n<p>When the webpart is located in Teams the URL is channel/tab specific and I can't seem to reproduce the URL in order to finish the authentication.</p>\n\n<p>I have already tried a combination of URLs, hoping they would suffice in the authentication. Here you can see the development Url which does work fine.</p>\n\n<p><img src=\"https://i.stack.imgur.com/TSpwsm.png\" alt=\"App registration portal\"></p>\n\n<p>Here is the Webpart with its URL but I cannot find a reference to what each of these Ids mean in order to reproduce the link. Microsoft app registration also does not allow copy &amp; paste of this link as it contains queries.</p>\n\n<p><code>https://teams.microsoft.com/_#/tab::d7cdb44e-ed6e-4dwb-82db-b933adc8152d/General?threadId=15:512c0d9b1af125d68b5d310de6f76f@thread.skype&amp;ctx=channel</code></p>\n\n<p>Following this link manually takes me to my web-part located in teams but it has query strings which cannot be used in the app reg portal. I have also tried to minify that Url and paste the shortened link - but to no avail. </p>\n\n<p>If anyone can point me in the right direction of re-creating the link I have posted above in the right context or knows of a reason It doesn't work, let me know. Thanks. (Links for demonstration purposes).</p>\n\n<p>Expected results - Sign in window closes and the user is authenticated.</p>\n\n<p>Actual results - Correlation failure for authentication as redirect link does not match. </p>\n\n<p><img src=\"https://i.stack.imgur.com/M06N7m.png\" alt=\"Correlation failure\"></p>\n\n<p>My Webpart has a button - its first function is to authenticate the user with the code below:</p>\n\n<pre><code> public async login(){\n  var that = this;\n   await me.userAgentApplication.loginPopup(config.scopes).then(async function (idToken) {\n    await me.userAgentApplication.acquireTokenPopup(config.scopes).then(async function (accessToken) {\n       that.getWebUrl(accessToken);\n      }, function (error) {\n          console.log(error);\n      });\n    });\n}\n</code></pre>\n\n<p>So it uses Microsoft-graph to then do the authentication. I have added the hosted site to the Redirect-Urls list also. This authenticates fine from the sharepoint site - but how else do I send that access token to teams. </p>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 628, "user_id": 8939165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gchW.jpg?s=128&g=1", "display_name": "Fabio_MO", "link": "https://stackoverflow.com/users/8939165/fabio-mo"}, "edited": false, "score": 0, "creation_date": 1548848830, "post_id": 54439792, "comment_id": 95688929, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18068517/ie8-object-doesnt-support-this-property-or-method-date-function\">IE8: Object Doesn&#39;t Support This Property or Method (Date function)</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 0, "creation_date": 1548924856, "post_id": 54439792, "comment_id": 95721397, "body": "You need to add full code to reproduce the problem. As in we need to be able to run it and see the problem ourselves. You pasted some code in a comment on a answer, but it needs to be in the question, and you missed out important bits. Like whats in <code>Utils.formatDate</code>? <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}], "owner": {"reputation": 1, "user_id": 10989931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ec5c2dff18a7f6e6a39251cde549?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam Waje", "link": "https://stackoverflow.com/users/10989931/pritam-waje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548869741, "creation_date": 1548848410, "last_edit_date": 1548869741, "question_id": 54439792, "link": "https://stackoverflow.com/questions/54439792/getting-error-on-ie11-object-doesnt-support-property-and-method-gettime", "title": "Getting error on IE11 &quot;Object doesn&#39;t support property and method &#39;getTime&#39; &quot;", "body": "<p>I am getting error on IE11 <code>Object doesn't support property and method 'getTime'</code> in google annotation chart. It works fine on Edge, Firefox only IE11 show this error.</p>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "edited": false, "score": 0, "creation_date": 1548848799, "post_id": 54439691, "comment_id": 95688908, "body": "if you need to check if the data has changed, you might want to use the websocket. The web api can notify the client that the data has changed and you don&#39;t need to periodically send request."}], "answers": [{"comments": [{"owner": {"reputation": 1585, "user_id": 728617, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9f2edeea5e60e9c899048b7942950f5e?s=128&d=identicon&r=PG", "display_name": "Jeba Prince", "link": "https://stackoverflow.com/users/728617/jeba-prince"}, "edited": false, "score": 0, "creation_date": 1548849232, "post_id": 54439829, "comment_id": 95689185, "body": "this.isProcessing should be false in side &#39;subscribe&#39;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10917344"}, "edited": false, "score": 0, "creation_date": 1548850448, "post_id": 54439829, "comment_id": 95689883, "body": "Angular doesn&#39;t seem to know &#39;interval&#39;"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1548907221, "post_id": 54439829, "comment_id": 95714438, "body": "<code>import { interval } from &#39;rxjs&#39;</code>"}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": true, "score": 0, "last_activity_date": 1548849366, "last_edit_date": 1548849366, "creation_date": 1548848514, "answer_id": 54439829, "question_id": 54439691, "link": "https://stackoverflow.com/questions/54439691/angular-2-make-a-request-every-minute-running-a-service/54439829#54439829", "title": "Angular 2+ make a request every minute running a service", "body": "<p>Move your fetch code to some function and then use interval function something like</p>\n\n<pre><code> fetchResults(){\n    this.isProcessing=true;\n     this.dataService.get_result().subscribe((res: any[]) =&gt; {\n      console.log(res);\n      this.isProcessing=false;\n    });\n}\n</code></pre>\n\n<p>Then change ngoninit to</p>\n\n<pre><code>ngOnInit() {\n   this.fetchResults()\n    interval(60000).subscribe(val =&gt; {\n    if (!this.isProcessing) {\n    this.fetchResults();\n    }\n  })\n  }\n</code></pre>\n\n<p>Here <code>isProcessing</code> property is to avoid fetching if already in progress.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10917344"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54439829, "answer_count": 1, "score": 0, "last_activity_date": 1548849366, "creation_date": 1548848112, "question_id": 54439691, "link": "https://stackoverflow.com/questions/54439691/angular-2-make-a-request-every-minute-running-a-service", "title": "Angular 2+ make a request every minute running a service", "body": "<p>I am using angular 7 in a project and I was wondering how do I go by checking a result every (for example) minute but without having my application freeze.</p>\n\n<p>So I have a service which requests data from an api:</p>\n\n<p>Service</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class DataService {\n\n  baseUrl = 'some url here';\n\n\n  constructor(private http: HttpClient) {}\n\n  get_result() {\n    return this.http.get(this.baseUrl + '/result');\n  }\n\n}\n</code></pre>\n\n<p>Component</p>\n\n<pre><code> ngOnInit() {\n    this.dataService.get_result().subscribe((res: any[]) =&gt; {\n      console.log(res);\n    });\n  }\n</code></pre>\n\n<p>So the above is what I've got.</p>\n\n<p>I need the process to check the result every minute without slowing down my application (because I will be having multiple processes doing this).</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "angular4-forms"], "answers": [{"tags": [], "owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "is_accepted": false, "score": 1, "last_activity_date": 1548850033, "creation_date": 1548850033, "answer_id": 54440283, "question_id": 54439571, "link": "https://stackoverflow.com/questions/54439571/calling-the-css-style-from-typescript-append-it-to-html-file/54440283#54440283", "title": "Calling the CSS style from typescript append it to html file", "body": "<p>Use <a href=\"https://angular.io/api/common/NgClass\" rel=\"nofollow noreferrer\"><code>ngClass</code></a> to add a class conditionally:</p>\n\n<pre><code>&lt;div [ngClass]=\"{'overlay-loader': isLoading}\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10878460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AbpBYcuAzgE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbNJ3mtMZVjWQkIoOOqWefCsF0rTg/mo/photo.jpg?sz=128", "display_name": "poojari raj", "link": "https://stackoverflow.com/users/10878460/poojari-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548850033, "creation_date": 1548847745, "last_edit_date": 1548848992, "question_id": 54439571, "link": "https://stackoverflow.com/questions/54439571/calling-the-css-style-from-typescript-append-it-to-html-file", "title": "Calling the CSS style from typescript append it to html file", "body": "<p>On button click function CSS style to be called with in the TS file </p>\n\n<p>html code:</p>\n\n<pre><code>    &lt;div class=\"overlay-loader\"&gt;\n    &lt;div *ngIf=\"isLoading\" class=\"loader\"&gt;&lt;/div&gt;\n    &lt;p *ngIf=\"results\"&gt;{{ results | json }}&lt;/p&gt;\n    &lt;p *ngIf=\"error\"&gt;Error: {{ error | json }}&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;p&gt;\n    &lt;button (click)=\"getResult()\"&gt;Get result&lt;/button&gt;\n    &lt;/p&gt;\n</code></pre>\n\n<p>Link which i have tried:<a href=\"https://stackblitz.com/edit/angular-loader-kspfhg?ctl=1&amp;embed=1&amp;file=app/app.component.html&amp;view=editor\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-loader-kspfhg?ctl=1&amp;embed=1&amp;file=app/app.component.html&amp;view=editor</a>\nAfter clicking the button overlay-loader css class to be loaded and once data get fetched css overlay-loader to be dissaper</p>\n"}, {"tags": ["angular", "typescript", "internationalization"], "comments": [{"owner": {"reputation": 66, "user_id": 4721123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3Rtf.png?s=128&g=1", "display_name": "vzenix", "link": "https://stackoverflow.com/users/4721123/vzenix"}, "edited": false, "score": 0, "creation_date": 1554962441, "post_id": 54439393, "comment_id": 97943397, "body": "I have the same problem, did you find the solution?"}, {"owner": {"reputation": 229, "user_id": 4137333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aeb9D.jpg?s=128&g=1", "display_name": "Sebastian Wei&#223;", "link": "https://stackoverflow.com/users/4137333/sebastian-wei%c3%9f"}, "reply_to_user": {"reputation": 66, "user_id": 4721123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3Rtf.png?s=128&g=1", "display_name": "vzenix", "link": "https://stackoverflow.com/users/4721123/vzenix"}, "edited": false, "score": 0, "creation_date": 1554965108, "post_id": 54439393, "comment_id": 97944425, "body": "I didnt.. Maybe the only Solution is to merge them with a custom script"}], "owner": {"reputation": 229, "user_id": 4137333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aeb9D.jpg?s=128&g=1", "display_name": "Sebastian Wei&#223;", "link": "https://stackoverflow.com/users/4137333/sebastian-wei%c3%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548847194, "creation_date": 1548847194, "question_id": 54439393, "link": "https://stackoverflow.com/questions/54439393/multiple-language-files-for-same-language-in-angular", "title": "Multiple Language-Files for same language in Angular", "body": "<p>I am using Angular 5. i18n translation files are all stored in a single folder by default. </p>\n\n<p><a href=\"https://i.stack.imgur.com/er0wl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/er0wl.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is, that i need to use a \"basic\" translation file that is provided from another project and in addition to that i want to add a second translation file for all the additional translations that come up during development. Something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OGOhh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGOhh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a way to have multiple language files that can be used for the same language? </p>\n"}, {"tags": ["angular", "typescript", "this"], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 10542593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YNY4Ku_rO0o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDSzDmcl9CdvoFJY7XwOi5Gt7KiQw/mo/photo.jpg?sz=128", "display_name": "kontenurban", "link": "https://stackoverflow.com/users/10542593/kontenurban"}, "edited": false, "score": 0, "creation_date": 1548847383, "post_id": 54439380, "comment_id": 95688091, "body": "Thank you! But I thought if I just leave it like that it meant &quot;any&quot;! I didn&#39;t initialize map either, why is that working?"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 4, "last_activity_date": 1548847127, "creation_date": 1548847127, "answer_id": 54439380, "question_id": 54439361, "link": "https://stackoverflow.com/questions/54439361/why-is-this-markerarray-undefined-understanding-this/54439380#54439380", "title": "Why is this.markerArray undefined? understanding &quot;this&quot;", "body": "<p>You need to initialize it with empty array</p>\n\n<pre><code>  markerArray = [];\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 10542593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YNY4Ku_rO0o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDSzDmcl9CdvoFJY7XwOi5Gt7KiQw/mo/photo.jpg?sz=128", "display_name": "kontenurban", "link": "https://stackoverflow.com/users/10542593/kontenurban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 54439380, "answer_count": 1, "score": -1, "last_activity_date": 1572944482, "creation_date": 1548847067, "last_edit_date": 1572944482, "question_id": 54439361, "link": "https://stackoverflow.com/questions/54439361/why-is-this-markerarray-undefined-understanding-this", "title": "Why is this.markerArray undefined? understanding &quot;this&quot;", "body": "<p>I am still getting my understanding around 'this'. In the following context, i keep getting the error \"this.markerArray is undefined\". But I have declared markerArray as a variable globally so I am rather confused.   </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'app-open-street-map',\n  templateUrl: './open-street-map.component.html',\n  styleUrls: ['./open-street-map.component.css']\n})\nexport class OpenStreetMapComponent implements OnInit {\n  @Output() private add = new EventEmitter();\n  @Output() private edit = new EventEmitter&lt;number&gt;();\n  artworkList: Artwork[];\n  map;\n  //declared it here\n  markerArray = [];\n\n  constructor() { }\n\n  ngOnInit() {\n  });\n\n  buildMarkers(artworkList) {\n    for (let artwork of artworkList) {\n      const marker = this.buildPopup(artwork);\n      this.markers.push(marker);\n    }\n    console.log(\"marker\", marker);\n    console.log(\"markerArray\", this.markerArray);\n  }\n}\n</code></pre>\n\n<p>I have obviously removed a lot of the code from this ts page! the point is to fill up the <code>markerArray</code>, I got your earlier point of initializing it,which i did, but for some reason all array inputs are \"undefined\" still?</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 2, "creation_date": 1548849849, "post_id": 54439089, "comment_id": 95689528, "body": "You should return the promises returned by the asynchronous tasks. I would suggest you watch the Firebase video series (<a href=\"https://firebase.google.com/docs/functions/video-series/\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/video-series</a>) and in particular the three videos titled &quot;Learn JavaScript Promises&quot;."}, {"owner": {"reputation": 1, "user_id": 10989757, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hl1SYbt8PmQ/AAAAAAAAAAI/AAAAAAAABu8/hvGl5Ldjyrc/photo.jpg?sz=128", "display_name": "Joshua Abellanosa", "link": "https://stackoverflow.com/users/10989757/joshua-abellanosa"}, "reply_to_user": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1548869034, "post_id": 54439089, "comment_id": 95701445, "body": "Thank @RenaudTarnec for the tip"}], "owner": {"reputation": 1, "user_id": 10989757, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hl1SYbt8PmQ/AAAAAAAAAAI/AAAAAAAABu8/hvGl5Ldjyrc/photo.jpg?sz=128", "display_name": "Joshua Abellanosa", "link": "https://stackoverflow.com/users/10989757/joshua-abellanosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548846246, "creation_date": 1548846246, "question_id": 54439089, "link": "https://stackoverflow.com/questions/54439089/code-snippet-executes-after-function-is-finished-in-firebase-cloud-functions", "title": "Code snippet executes after function is finished in Firebase Cloud Functions", "body": "<p>I have a bit of a problem using firebase cloud functions. The code bellow is a function that writes to the Firestore DB an object that contains 2 arrays. After deploying the function, the idf_words array is populated, and the idf_weight is empty. </p>\n\n<p>I tried placing a few log messages in the for loop and found the the query.get() executes after the function ends. Is there a way to make firestore wait until the query.get() finishes?</p>\n\n<pre><code>export const updateCakeAndPastriesIDF = functions.firestore.document(\"TF/tf/Cake_and_Pastries/{itemCategory}\")\n    .onUpdate((change, context) =&gt; {\n        const itemBefore = change.before.data();\n        const itemAfter = change.after.data();\n\n        if (itemAfter['tf_tf_score'] === itemBefore['tf_tf_score']){\n            console.log('This TF score of the words in this item has not changed');\n            return null;\n        } else {\n            console.log('This TF score of the words in this item has changed');\n            const tfWords:string[] = itemAfter['tf_unique_words'];\n            const tfItemUid:string = itemAfter['tf_item_uid'];\n            const idfWords:string[] = [];\n            const idfWeight: number[] = [];\n            const db = admin.firestore().collection('TF').doc('tf').collection('Cake_and_Pastries');\n\n            tfWords.forEach(function (tfword) {\n                idfWords.push(tfword);\n                const query = db.where(\"tf_unique_words\", \"array-contains\", tfword);\n                query.get().then(function (itemDoc) {\n                    if (!itemDoc.empty){\n                        const numberOfDocs = itemDoc.size;\n                        console.log(\"For item: \"+tfItemUid+\", there are \"+numberOfDocs+\"Documents\");\n\n                        admin.firestore().collection('Number_of_Items')\n                            .doc('Cake_and_Pastries')\n                            .get()\n                            .then(function (numberDoc){\n                                const numberOfCakesAndPastries = numberDoc.data()['number_of_items_in_category'];\n                                const idfOfWord = (Math.log(numberOfDocs/numberOfCakesAndPastries)+1);\n                                idfWeight.push(idfOfWord);\n                                console.log(\"Word IDF: \"+idfOfWord);\n                                console.log(idfWeight);\n                            })\n                    }else {\n                        console.log(\"No such document!\");\n                    }\n                })\n            });\n\n            console.log(\"IDF weight array outside of loop: \"+idfWeight);\n\n            admin.firestore()\n                .collection('IDF')\n                .doc('idf')\n                .collection('Cake_and_Pastries')\n                .doc(tfItemUid).set({\n                idf_item_uid: tfItemUid,\n                idf_words: idfWords,\n                idf_weight: idfWeight\n            });\n        }\n    });\n</code></pre>\n"}, {"tags": ["typescript", "ecmascript-6", "promise", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 9325478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a263fc20fc627e4ce2ecdbc5771cdb0?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Chauhan", "link": "https://stackoverflow.com/users/9325478/amit-chauhan"}, "edited": false, "score": 0, "creation_date": 1548912225, "post_id": 54440615, "comment_id": 95715856, "body": "i did that too const functionName = async (params): Promise&lt;any&gt; =&gt; {} still error occurred."}, {"owner": {"reputation": 136, "user_id": 9966139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb11c36d5b1e4bb8b2ff6c603a5e1fac?s=128&d=identicon&r=PG&f=1", "display_name": "Suxino", "link": "https://stackoverflow.com/users/9966139/suxino"}, "reply_to_user": {"reputation": 343, "user_id": 9325478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a263fc20fc627e4ce2ecdbc5771cdb0?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Chauhan", "link": "https://stackoverflow.com/users/9325478/amit-chauhan"}, "edited": false, "score": 0, "creation_date": 1548928374, "post_id": 54440615, "comment_id": 95723543, "body": "@AmitChauhan well yes. if you define that function but keep body empty like <code>{}</code> you will get error because you defined that the function will return promise but you are not returning anything"}, {"owner": {"reputation": 343, "user_id": 9325478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a263fc20fc627e4ce2ecdbc5771cdb0?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Chauhan", "link": "https://stackoverflow.com/users/9325478/amit-chauhan"}, "edited": false, "score": 0, "creation_date": 1548939751, "post_id": 54440615, "comment_id": 95730388, "body": "that was just to make you understand we can take return true there."}], "tags": [], "owner": {"reputation": 136, "user_id": 9966139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb11c36d5b1e4bb8b2ff6c603a5e1fac?s=128&d=identicon&r=PG&f=1", "display_name": "Suxino", "link": "https://stackoverflow.com/users/9966139/suxino"}, "is_accepted": true, "score": 1, "last_activity_date": 1548851080, "creation_date": 1548851080, "answer_id": 54440615, "question_id": 54438862, "link": "https://stackoverflow.com/questions/54438862/the-return-type-of-an-async-function-or-method-must-be-the-global-promiset-typ/54440615#54440615", "title": "The return type of an async function or method must be the global Promise&lt;T&gt; type", "body": "<p>When defining return type of method you need to add <code>:</code>\nAnd also you need to specify the type of what will the promise return</p>\n\n<pre><code>const functionName = async (params): Promise&lt;any&gt; =&gt; {} \n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 9325478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a263fc20fc627e4ce2ecdbc5771cdb0?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Chauhan", "link": "https://stackoverflow.com/users/9325478/amit-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 0, "accepted_answer_id": 54440615, "answer_count": 1, "score": -1, "last_activity_date": 1548855935, "creation_date": 1548845591, "last_edit_date": 1548855935, "question_id": 54438862, "link": "https://stackoverflow.com/questions/54438862/the-return-type-of-an-async-function-or-method-must-be-the-global-promiset-typ", "title": "The return type of an async function or method must be the global Promise&lt;T&gt; type", "body": "<p>I am using an anonymous function with async and the error occurred while compilation. I am calling this function inside a parent function as await.</p>\n\n<p>I have two functions:</p>\n\n<ol>\n<li>parent function</li>\n<li>child function</li>\n</ol>\n\n<p>in parent function, I am using async-await. and called second function (which is arrow function). if i write that function as <code>async function functionName (parameters) {}</code> it works, but i am using it as <code>export const functionName = async (params) =&gt; {}</code> and it gave me this error.</p>\n\n<pre><code>const a = await b(data);\n\nconst b = async (data) =&gt; { return \"success\" }\n</code></pre>\n\n<p>i try to add <code>const functionName = async (params) Promise&lt;string&gt; =&gt; {}</code> but still same error.</p>\n\n<p>In parent function, I am calling child function as,</p>\n\n<p>how to avoid this error.</p>\n"}, {"tags": ["typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 2350, "user_id": 10033674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bbU6P.jpg?s=128&g=1", "display_name": "Karol Samborski", "link": "https://stackoverflow.com/users/10033674/karol-samborski"}, "edited": false, "score": 0, "creation_date": 1548853185, "post_id": 54440976, "comment_id": 95691394, "body": "OK, but this way I would need to compile it every time I make a change in the library. I would like to work on .ts files directly. That&#39;s why I wrote that I couldn&#39;t get it working with <code>npm link</code>"}], "tags": [], "owner": {"reputation": 7510, "user_id": 227332, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b1ae2268c7a69c4bb180a2665736a804?s=128&d=identicon&r=PG", "display_name": "Bruno Brant", "link": "https://stackoverflow.com/users/227332/bruno-brant"}, "is_accepted": false, "score": 0, "last_activity_date": 1548852367, "creation_date": 1548852367, "answer_id": 54440976, "question_id": 54438821, "link": "https://stackoverflow.com/questions/54438821/how-to-develop-project-with-your-local-library-in-typescript/54440976#54440976", "title": "How to develop project with your local library in TypeScript?", "body": "<p>You can <code>npm link</code> to your library but it needs to be compiled first. </p>\n\n<p>Lets say you have project P that depends on library L, which are all local to you:</p>\n\n<pre><code>./repos\n    ./P\n        project.json\n    ./L\n        ./src\n        ./dist\n        project.json\n</code></pre>\n\n<p>The file <code>/repos/L/project.json</code> should have a entry <code>main</code> pointing to the main file of the library <strong>in dist</strong>. You have to compile the library (using <code>tsc</code>) to generate dist.</p>\n\n<p>Then you do</p>\n\n<pre><code>$ cd repos/L\n$ tsc      # or maybe npm run build\n$ cd ../P\n$ npm link ../L\n</code></pre>\n\n<p>And that's it.</p>\n"}], "owner": {"reputation": 2350, "user_id": 10033674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bbU6P.jpg?s=128&g=1", "display_name": "Karol Samborski", "link": "https://stackoverflow.com/users/10033674/karol-samborski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548852367, "creation_date": 1548845455, "question_id": 54438821, "link": "https://stackoverflow.com/questions/54438821/how-to-develop-project-with-your-local-library-in-typescript", "title": "How to develop project with your local library in TypeScript?", "body": "<p>I have a library which is written in typescript and is normally installed via npm. Currently I'm developing some app that requires it and I often need to make some changes in it as well. The ideal situation for me would be if I just could edit my library directly and see the changes in my app. I've tried with <code>npm link</code> but without success. How can use it with typescript?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 0, "creation_date": 1548849222, "post_id": 54440023, "comment_id": 95689173, "body": "I have array of dates, is it is possible to highlight those dates?"}, {"owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "reply_to_user": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 1, "creation_date": 1548849266, "post_id": 54440023, "comment_id": 95689208, "body": "Sure, you could extend the function to check if the date is one that is in your array and then return the required CSS class. The function will be evaluated for each date that is currently show on your calendar."}, {"owner": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 0, "creation_date": 1548849518, "post_id": 54440023, "comment_id": 95689346, "body": "<code>[&quot;2019-01-22T18:30:00.000Z&quot;, &quot;2019-01-22T18:30:00.000Z&quot;, &quot;2019-01-24T18:30:00.000Z&quot;, &quot;2019-01-28T18:30:00.000Z&quot;, &quot;2019-01-24T18:30:00.000Z&quot;, &quot;2019-01-23T18:30:00.000Z&quot;, &quot;2019-01-22T18:30:00.000Z&quot;, &quot;2019-01-25T18:30:00.000Z&quot;]</code> I am getting those values from backend. Can you now explain clearly please"}, {"owner": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 0, "creation_date": 1548849949, "post_id": 54440023, "comment_id": 95689591, "body": "I couldn&#39;t import <code>MatCalendarCellCssClasses</code> throwing error"}, {"owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "reply_to_user": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 1, "creation_date": 1548850100, "post_id": 54440023, "comment_id": 95689698, "body": "I have updated the stackblitz to check against the array of dates. From here you should be able to adjust/troubleshoot yourself.If not, update your question with what you have tried to resolve it."}, {"owner": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 0, "creation_date": 1548850434, "post_id": 54440023, "comment_id": 95689870, "body": "your stackblitz is very clear brother thank you but I couldn&#39;t import <code>import { MatCalendarCellCssClasses } from &#39;@angular&#47;material&#39;;</code> throwing error"}, {"owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "reply_to_user": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 1, "creation_date": 1548850791, "post_id": 54440023, "comment_id": 95690079, "body": "Just saying <code>throwing error</code> doesn&#39;t really help. What does the error say? Which Angular Material version are you using? <code>MatCalendarCellCssClasses</code> is only available from version 7+ as far as I know."}, {"owner": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 0, "creation_date": 1548851928, "post_id": 54440023, "comment_id": 95690709, "body": "Error: <code>Module &#39;&quot;..&#47;..&#47;..&#47;..&#47;..&#47;node_modules&#47;@angular&#47;material&#47;material&quot;&#39; has no exported member &#39;MatCalendarCellCssClasses&#39;. [2305]</code> I am using Material 7.0.1"}, {"owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "reply_to_user": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "edited": false, "score": 1, "creation_date": 1548852616, "post_id": 54440023, "comment_id": 95691065, "body": "You need at least version 7.1.0 of Angular Material. See the <a href=\"https://github.com/angular/material2/blob/master/CHANGELOG.md#710-stone-silhouette-2018-11-20\" rel=\"nofollow noreferrer\">changelog</a>, it was added in 7.1.0"}], "tags": [], "owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "is_accepted": true, "score": 15, "last_activity_date": 1548852684, "last_edit_date": 1548852684, "creation_date": 1548849148, "answer_id": 54440023, "question_id": 54438752, "link": "https://stackoverflow.com/questions/54438752/highlighting-certain-dates-in-mat-calendar/54440023#54440023", "title": "Highlighting certain dates in mat-calendar", "body": "<blockquote>\n  <p>You can use the the input binding <code>dateClass</code> as describe in the\n  Angular Material documentation\n  <a href=\"https://material.angular.io/components/datepicker/api#MatDatepicker\" rel=\"noreferrer\">here</a>. <strong>Note:</strong> This requires an Angular Material version of at least 7.1.0</p>\n</blockquote>\n\n<p>Change your template to this:</p>\n\n<pre><code>&lt;mat-calendar [dateClass]=\"dateClass()\" [selected]=\"selectedDate\" (selectedChange)=\"onSelect($event)\"&gt;&lt;/mat-calendar&gt;\n</code></pre>\n\n<p>And in your component add the <code>dateClass</code> function which will generate a function that will return a type of <code>MatCalendarCellCssClasses</code>, which can be as simple as a string representing the CSS class to apply (or an array of class names):</p>\n\n<pre><code>dateClass() {\n  return (date: Date): MatCalendarCellCssClasses =&gt; {\n    if (date.getDate() === 1) {\n      return 'special-date';\n    } else {\n      return;\n    }\n  };\n}\n</code></pre>\n\n<p>And finally in your <code>styles.css</code> add the classes you want applied:</p>\n\n<pre><code>.special-date {\n  background-color: red;\n}\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/am-all-imports-7gm3wt?file=styles.scss\" rel=\"noreferrer\">Here</a>\n  is a stackblitz that colors the first of each month in red.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 567, "user_id": 9278493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymkcV.jpg?s=128&g=1", "display_name": "Alejandro Barone", "link": "https://stackoverflow.com/users/9278493/alejandro-barone"}, "is_accepted": false, "score": 8, "last_activity_date": 1563369671, "creation_date": 1563369671, "answer_id": 57076885, "question_id": 54438752, "link": "https://stackoverflow.com/questions/54438752/highlighting-certain-dates-in-mat-calendar/57076885#57076885", "title": "Highlighting certain dates in mat-calendar", "body": "<p>Complementing Fabian's answer, if you have problem seeing the highlighted color and you are using <code>lazy loading</code> components, remember to add the <code>::ng-deep</code> in front of the class. Like this:</p>\n\n<pre><code>::ng-deep.special-date {\n   background-color: red;\n}\n</code></pre>\n\n<p>Cheers!</p>\n"}, {"tags": [], "owner": {"reputation": 14717, "user_id": 2351696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MwlR3.jpg?s=128&g=1", "display_name": "suhailvs", "link": "https://stackoverflow.com/users/2351696/suhailvs"}, "is_accepted": false, "score": 0, "last_activity_date": 1591859360, "creation_date": 1591859360, "answer_id": 62318930, "question_id": 54438752, "link": "https://stackoverflow.com/questions/54438752/highlighting-certain-dates-in-mat-calendar/62318930#62318930", "title": "Highlighting certain dates in mat-calendar", "body": "<p>if datas are loaded through service then you have to use <code>*ngIf=\"datas\"</code> on the <code>mat-calendar</code>, so that <code>dateClass</code> will called after the data comes in. ie:</p>\n\n<p>html:</p>\n\n<pre><code>&lt;div *ngIf=\"datas\"&gt;\n  &lt;mat-calendar [dateClass]=\"dateClass()\" &gt;&lt;/mat-calendar&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>ts:</p>\n\n<pre><code>dateClass() {\n  return (date: Date): MatCalendarCellCssClasses =&gt; {\n    const highlightDate = this.datas.map(strDate =&gt; new Date(strDate))\n      .some(d =&gt; d.getDate() === date.getDate() &amp;&amp; d.getMonth() === date.getMonth() &amp;&amp; d.getFullYear() === date.getFullYear());\n    return highlightDate ? 'special-date' : '';\n  };\n}\n\n\nngOnInit() {\n  this.studentreportsService.getHeatMap(this.studentid)\n  .subscribe(data =&gt; {\n    this.datas = data; // [\"2019-01-22\", \"2019-01-24\"]\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11071305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tTsF1XrBBuU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNGQubNjtjMItqcmA7G1_1QEQmtqA/mo/photo.jpg?sz=128", "display_name": "Arinze Okorji", "link": "https://stackoverflow.com/users/11071305/arinze-okorji"}, "is_accepted": false, "score": 0, "last_activity_date": 1617100442, "last_edit_date": 1617100442, "creation_date": 1617098249, "answer_id": 66868690, "question_id": 54438752, "link": "https://stackoverflow.com/questions/54438752/highlighting-certain-dates-in-mat-calendar/66868690#66868690", "title": "Highlighting certain dates in mat-calendar", "body": "<p>@Fabian K\u00fcng's answer on stakblitz was giving me an error stating that <code>date.getDate()</code> was not a function.</p>\n<p>I solved it by assigning <code>date</code> to a <code>new Date()</code>. My code looks like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>return (date: Date): MatCalendarCellCssClasses =&gt; {\n      date = new Date(date); // &lt;&lt;&lt; My edit\n      const highlightDate = this.datesToHighlight\n        .map(strDate =&gt; new Date(strDate))\n        .some(d =&gt; {\n          return d.getDate() === date.getDate() &amp;&amp; d.getMonth() === date.getMonth() &amp;&amp; d.getFullYear() === date.getFullYear()\n        });\n\n      return highlightDate ? 'special-date' : '';\n    };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 211, "user_id": 10926033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mY4uqFH6OAc/AAAAAAAAAAI/AAAAAAAAAAU/bsl3vYDf9s4/photo.jpg?sz=128", "display_name": "Felix Christo", "link": "https://stackoverflow.com/users/10926033/felix-christo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10097, "favorite_count": 5, "protected_date": 1578806299, "accepted_answer_id": 54440023, "answer_count": 4, "score": 11, "last_activity_date": 1617100442, "creation_date": 1548845237, "last_edit_date": 1586344855, "question_id": 54438752, "link": "https://stackoverflow.com/questions/54438752/highlighting-certain-dates-in-mat-calendar", "title": "Highlighting certain dates in mat-calendar", "body": "<p>I am using <code>mat-calendar</code>. I am trying to highlight certain dates but I couldn't do it. There is no proper documentation for this.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-card&gt;\n  &lt;mat-calendar name=\"appointment_date\" [selected]=\"selectedDate (selectedChange)=\"onSelect($event)\"&gt;&lt;/mat-calendar&gt;\n&lt;/mat-card&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>onSelect(event){\n  this.selectedDate= event;\n}\n</code></pre>\n\n<p>What I need:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KQEly.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KQEly.jpg\" alt=\"Image\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3075, "user_id": 1790154, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/64e5ca55fc4105591eb9c1cf24a5d878?s=128&d=identicon&r=PG", "display_name": "zhm", "link": "https://stackoverflow.com/users/1790154/zhm"}, "edited": false, "score": 1, "creation_date": 1548866008, "post_id": 54438880, "comment_id": 95699703, "body": "Exactly what I need!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "is_accepted": true, "score": 2, "last_activity_date": 1548845659, "creation_date": 1548845659, "answer_id": 54438880, "question_id": 54438706, "link": "https://stackoverflow.com/questions/54438706/how-to-call-a-function-with-not-all-properties-of-a-parameter-which-has-default/54438880#54438880", "title": "How to call a function with not all properties of a parameter which has default value in TS?", "body": "<p>You're providing a default value for the whole of <code>opts</code>.\nSo if you provide your own <code>opts</code> arg then none of the defaults get used.</p>\n\n<p><code>opts = { canBeEmpty: false, canBeUndefined: false, maxLength: undefined }</code></p>\n\n<p>i.e. If you don't pass opts, then the default object is used. If you do pass opts then the whole opts object is replaced by the one you pass.</p>\n\n<p>Instead define the Options interface with the properties as optional.\nThen, inside the function merge the default props with the passed props.</p>\n\n<pre><code>interface Options {\n    canBeEmpty?: boolean;\n    canBeUndefined?: boolean;\n    maxLength?: number;\n}\n\nconst defaultOptions: Options = {\n    canBeEmpty: false,\n    canBeUndefined: false,\n    maxLength: undefined\n};\n\nconst checkString = (p, options: Options): boolean =&gt; {\n    const mergedOptions = {\n        ...defaultOptions,\n        ...options\n    }; \n\n    if (mergedOptions.canBeUndefined &amp;&amp; typeof p === 'undefined') return true;\n    if (typeof p !== 'string') return false;\n    if (!mergedOptions.canBeEmpty &amp;&amp; p.length === 0) return false;\n    if (typeof mergedOptions.maxLength !== 'undefined' &amp;&amp; p.length &gt; mergedOptions.maxLength) return false;\n\n    return true;\n}\n\ncheckString(\"\", { canBeUndefined: true })\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20Options%20%7B%0D%0A%20%20%20%20canBeEmpty%3F%3A%20boolean%3B%0D%0A%20%20%20%20canBeUndefined%3F%3A%20boolean%3B%0D%0A%20%20%20%20maxLength%3F%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20defaultOptions%3A%20Options%20%3D%20%7B%0D%0A%20%20%20%20canBeEmpty%3A%20false%2C%0D%0A%20%20%20%20canBeUndefined%3A%20false%2C%0D%0A%20%20%20%20maxLength%3A%20undefined%0D%0A%7D%3B%0D%0A%0D%0Aconst%20checkString%20%3D%20(p%2C%20options%3A%20Options)%3A%20boolean%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20mergedOptions%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20...defaultOptions%2C%0D%0A%20%20%20%20%20%20%20%20...options%0D%0A%20%20%20%20%7D%3B%20%0D%0A%0D%0A%20%20%20%20if%20(mergedOptions.canBeUndefined%20%26%26%20typeof%20p%20%3D%3D%3D%20&#39;undefined&#39;)%20return%20true%3B%0D%0A%20%20%20%20if%20(typeof%20p%20!%3D%3D%20&#39;string&#39;)%20return%20false%3B%0D%0A%20%20%20%20if%20(!mergedOptions.canBeEmpty%20%26%26%20p.length%20%3D%3D%3D%200)%20return%20false%3B%0D%0A%20%20%20%20if%20(typeof%20mergedOptions.maxLength%20!%3D%3D%20&#39;undefined&#39;%20%26%26%20p.length%20%3E%20mergedOptions.maxLength)%20return%20false%3B%0D%0A%0D%0A%20%20%20%20return%20true%3B%0D%0A%7D%0D%0A%0D%0AcheckString(%22%22%2C%20%7B%20canBeUndefined%3A%20true%20%7D)\" rel=\"nofollow noreferrer\">TypeScript Playground</a></p>\n"}], "owner": {"reputation": 3075, "user_id": 1790154, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/64e5ca55fc4105591eb9c1cf24a5d878?s=128&d=identicon&r=PG", "display_name": "zhm", "link": "https://stackoverflow.com/users/1790154/zhm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 54438880, "answer_count": 1, "score": 0, "last_activity_date": 1548845659, "creation_date": 1548845095, "question_id": 54438706, "link": "https://stackoverflow.com/questions/54438706/how-to-call-a-function-with-not-all-properties-of-a-parameter-which-has-default", "title": "How to call a function with not all properties of a parameter which has default value in TS?", "body": "<p>I'm writing a function like this:</p>\n\n<pre><code>static checkString(p, opts = {\n    canBeEmpty: false,\n    canBeUndefined: false,\n    maxLength: undefined\n}): boolean {\n    if (opts.canBeUndefined &amp;&amp; typeof p === 'undefined') return true;\n    if (typeof p !== 'string') return false;\n    if (!opts.canBeEmpty &amp;&amp; p.length === 0) return false;\n    if (typeof opts.maxLength !== 'undefined' &amp;&amp; p.length &gt; opts.maxLength) return false;\n    return true;\n}\n</code></pre>\n\n<p>The parameter <code>opts</code> has default value. When I want to use it like this:</p>\n\n<pre><code>ParamChecker.checkString(nick, {canBeUndefined: true})\n</code></pre>\n\n<p>The compiler throws error: </p>\n\n<blockquote>\n  <p>Argument of type '{ canBeUndefined: true; }' is not assignable to parameter of type '{ canBeEmpty: boolean; canBeUndefined: boolean; maxLength: any; }'.\n    Type '{ canBeUndefined: true; }' is missing the following properties from type '{ canBeEmpty: boolean; canBeUndefined: boolean; maxLength: any; }': canBeEmpty, maxLength [2345]</p>\n</blockquote>\n\n<p>How to make it possible, to call a function with not all properties of a parameter which has default value?</p>\n"}, {"tags": ["css", "angular", "typescript", "ionic-framework", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 10465712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRig4.jpg?s=128&g=1", "display_name": "BLACKRIGAN", "link": "https://stackoverflow.com/users/10465712/blackrigan"}, "edited": false, "score": 0, "creation_date": 1585691624, "post_id": 54509705, "comment_id": 107851037, "body": "If it doesn&#39;t work, add &quot;contain: none&quot; to ion-tab-bar in your css"}], "tags": [], "owner": {"reputation": 402, "user_id": 7267325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dfa4136e13b3cc4e6a153c0f155e8d36?s=128&d=identicon&r=PG&f=1", "display_name": "I.Bond", "link": "https://stackoverflow.com/users/7267325/i-bond"}, "is_accepted": true, "score": 3, "last_activity_date": 1549322677, "last_edit_date": 1549322677, "creation_date": 1549249454, "answer_id": 54509705, "question_id": 54438631, "link": "https://stackoverflow.com/questions/54438631/ionic-4-tab-bar-overflow/54509705#54509705", "title": "Ionic 4 tab bar overflow", "body": "<p>I fix that just adding \"contain: none\" to my ion-tabs.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 10465712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRig4.jpg?s=128&g=1", "display_name": "BLACKRIGAN", "link": "https://stackoverflow.com/users/10465712/blackrigan"}, "is_accepted": false, "score": 0, "last_activity_date": 1585691553, "creation_date": 1585691553, "answer_id": 60960507, "question_id": 54438631, "link": "https://stackoverflow.com/questions/54438631/ionic-4-tab-bar-overflow/60960507#60960507", "title": "Ionic 4 tab bar overflow", "body": "<p>If it doesnt work by adding \"contain: none\" to ion-iabs, then add \"contain: none\" to ion-tab-bar.</p>\n\n<pre><code>ion-tabs { contain: none; }\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>ion-tab-bar { contain: none }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 4320596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PZMc.jpg?s=128&g=1", "display_name": "Hern&#225;n Giraldo", "link": "https://stackoverflow.com/users/4320596/hern%c3%a1n-giraldo"}, "is_accepted": false, "score": 0, "last_activity_date": 1596802414, "creation_date": 1596802414, "answer_id": 63301631, "question_id": 54438631, "link": "https://stackoverflow.com/questions/54438631/ionic-4-tab-bar-overflow/63301631#63301631", "title": "Ionic 4 tab bar overflow", "body": "<p>This code worked for me (I know, maybe it is not the cleanest solution, but I didn't find other way)</p>\n<p>I created a recursive method and in this method tried to get all tab buttons, if it doesn't, I use a setTimeout to recall the method (the setTimeout is necessary to avoid to fill the stack) and after found all the buttons, I accessed to the shadow root of everyone, and I changed the overflow value:</p>\n<pre><code>  setStyle() {\n    const all = document.querySelectorAll('.tab-has-icon');\n\n    if(all.length === 0) {\n      setTimeout(() =&gt; {\n        this.setStyle();\n      }, 0);\n      return;\n    }\n\n    all.forEach(el =&gt; {\n      el.shadowRoot.querySelector('.button-native').setAttribute('style','overflow: inherit')\n    });\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1051, "user_id": 3990589, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9777f12305201a63f92df9ffd28f5b76?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Lauterbach", "link": "https://stackoverflow.com/users/3990589/florian-lauterbach"}, "is_accepted": false, "score": 0, "last_activity_date": 1613746743, "creation_date": 1613746743, "answer_id": 66279922, "question_id": 54438631, "link": "https://stackoverflow.com/questions/54438631/ionic-4-tab-bar-overflow/66279922#66279922", "title": "Ionic 4 tab bar overflow", "body": "<p>I've created a mix of all answers:</p>\n<pre><code>// as mentioned about\nion-tabs { contain: none; }\nion-tab-bar { contain: none }\n\n // a wrapper for the position\n.buttonWrapper {\n  position: absolute;\n  bottom: 20px;\n}\n\n// for the overflow\nion-tab-button::part(native){\n   overflow: visible;\n}\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 7267325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dfa4136e13b3cc4e6a153c0f155e8d36?s=128&d=identicon&r=PG&f=1", "display_name": "I.Bond", "link": "https://stackoverflow.com/users/7267325/i-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 0, "accepted_answer_id": 54509705, "answer_count": 4, "score": 4, "last_activity_date": 1613746743, "creation_date": 1548844836, "last_edit_date": 1548852722, "question_id": 54438631, "link": "https://stackoverflow.com/questions/54438631/ionic-4-tab-bar-overflow", "title": "Ionic 4 tab bar overflow", "body": "<p>I want made layout like this : <a href=\"https://i.stack.imgur.com/YpVWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YpVWg.png\" alt=\"enter image description here\"></a></p>\n\n<p>But got this: <a href=\"https://i.stack.imgur.com/Vvtto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vvtto.png\" alt=\"enter image description here\"></a></p>\n\n<p>My button is cutting by tab-bar. \nHow I can solve this?<br>\nI try to add \"overflow: visible\" for all of tags, but it's doesn't work.<br>\nMy template:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.place-button-wrapper{\r\n    position: absolute;\r\n    bottom: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-tabs&gt;\r\n...\r\n    &lt;ion-tab-button tab=\"places\"&gt;\r\n      &lt;div class=\"place-button-wrapper\" &gt;\r\n        &lt;img class=\"tabs-icon\" src=\"assets/icons/mapiconelepse.png\" alt=\"\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/ion-tab-button&gt;\r\n...\r\n&lt;/ion-tabs&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 3836, "user_id": 3275464, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g6Pnl.png?s=128&g=1", "display_name": "Learning is a mess", "link": "https://stackoverflow.com/users/3275464/learning-is-a-mess"}, "edited": false, "score": 0, "creation_date": 1548845969, "post_id": 54438409, "comment_id": 95687203, "body": "I understand it the same way, you are forcing an implicit conversion to <code>Movie[]</code> and this type will propagate into <code>this.movies</code> later. Explicit types can help the compiler in rising useful error/debug messages."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1548846067, "post_id": 54438409, "comment_id": 95687268, "body": "It&#39;s only to help you to write consistent code in &quot;typescript editor&quot;, really Angular don&#39;t check if your received object is of type movie or not"}], "answers": [{"comments": [{"owner": {"reputation": 4070, "user_id": 10046099, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wBQ5ABdKX3k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1ZViaxwzPRS3PugEwp_tH9OnarWw/mo/photo.jpg?sz=128", "display_name": "Nika Kurashvili", "link": "https://stackoverflow.com/users/10046099/nika-kurashvili"}, "edited": false, "score": 0, "creation_date": 1548846551, "post_id": 54439042, "comment_id": 95687592, "body": "Thanks so much. so writing types as any most of the time might not be the good idea. and I should be creating models (interfaces) for all kind of data I get from http back-end api."}, {"owner": {"reputation": 2060, "user_id": 2861794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3804ab367637871dba57e8fb15d6a06?s=128&d=identicon&r=PG&f=1", "display_name": "J. S.", "link": "https://stackoverflow.com/users/2861794/j-s"}, "reply_to_user": {"reputation": 4070, "user_id": 10046099, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wBQ5ABdKX3k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1ZViaxwzPRS3PugEwp_tH9OnarWw/mo/photo.jpg?sz=128", "display_name": "Nika Kurashvili", "link": "https://stackoverflow.com/users/10046099/nika-kurashvili"}, "edited": false, "score": 0, "creation_date": 1548852106, "post_id": 54439042, "comment_id": 95690802, "body": "It is good practice to write model classes or interfaces, especially for data you get from your backend api. But you should also use models for every kind of objects you share across your application, otherwise you have no autocomplete or error notifications from typescript. When to use interface or class is well explained in this articel: <a href=\"https://toddmotto.com/classes-vs-interfaces-in-typescript\" rel=\"nofollow noreferrer\">toddmotto.com/classes-vs-interfaces-in-typescript</a>"}], "tags": [], "owner": {"reputation": 2060, "user_id": 2861794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3804ab367637871dba57e8fb15d6a06?s=128&d=identicon&r=PG&f=1", "display_name": "J. S.", "link": "https://stackoverflow.com/users/2861794/j-s"}, "is_accepted": true, "score": 3, "last_activity_date": 1548852229, "last_edit_date": 1548852229, "creation_date": 1548846120, "answer_id": 54439042, "question_id": 54438409, "link": "https://stackoverflow.com/questions/54438409/how-angular-type-checking-works/54439042#54439042", "title": "How Angular type checking works", "body": "<p>All in all Typescript and using types is just to support you development with type checks and autocompletion. When you specify no return type on a function and use this function, your IDE won't tell you a thing about what type you can expect as a return value. Also the typescript compiler won't complain when you mess things up.</p>\n\n<p>Imagine the following scenario:</p>\n\n<pre><code>class Movies {\n  title: string;\n  length: number;\n  genre: string;\n}    \n\ngetAll(): Observable&lt;any&gt;\n</code></pre>\n\n<p>You can now do things like:</p>\n\n<pre><code>getAll().subscribe(m =&gt; {\n  // name is not a property of movie\n  console.log(m.name);\n});\n</code></pre>\n\n<p>Your code will compile and run, but you will see undefined on your console.</p>\n\n<p>If you had defined your function like this:</p>\n\n<pre><code>getAll(): Observable&lt;Movie&gt;\n</code></pre>\n\n<p>Your IDE would show you an error, complaing name is not a property of Movie, because the typescript compiler knows you used a wrong property. Also it would give you autocomplete and suggest all properties which are available.</p>\n\n<p>Using Typescript without type definitions is more or less like using plain Javascript. Using it with type definitions gives you support in autocompletion and errors when you do something wrong.</p>\n\n<p>Eventually typescript gets compiled to javascript and the browser doesn't care about types but during development inside an IDE it could be a great help.</p>\n"}], "owner": {"reputation": 4070, "user_id": 10046099, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wBQ5ABdKX3k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1ZViaxwzPRS3PugEwp_tH9OnarWw/mo/photo.jpg?sz=128", "display_name": "Nika Kurashvili", "link": "https://stackoverflow.com/users/10046099/nika-kurashvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 54439042, "answer_count": 1, "score": 1, "last_activity_date": 1611952819, "creation_date": 1548844174, "last_edit_date": 1611952819, "question_id": 54438409, "link": "https://stackoverflow.com/questions/54438409/how-angular-type-checking-works", "title": "How Angular type checking works", "body": "<p>I'm interested in several scenarios.</p>\n<ol>\n<li><p>Let's say I have a http call which fetches all movies from my php back-end api. As you know this is observable. and I have to subscribe.</p>\n<pre><code> // this is my service\n getAll() : Observable&lt;Movie[]&gt;{\n    this.http.get(&quot;/movies&quot;);\n }\n\n // in my component I subscribe this \n getMovies(){\n    this.movieService.getAll().subscribe(movies=&gt;{\n       this.movies = movies; //I probably have this.movies as any or Movie[] type\n    })\n  }\n</code></pre>\n</li>\n</ol>\n<p>The question is, why would I need to write <code>Observable&lt;Movie[]&gt;</code> as the return type for <code>getAll() function</code> in my service as I showed you? I could just write <code>getAll()</code> and didn't specify <code>return type</code> or specify <code>Observable&lt;any&gt;.</code> but I did the type as <code>Movie[]</code>. What advantages does it bring me? I understand in <code>getAll() function</code>, it just returns observable and cast it to <code>Observable&lt;Movie[]&gt;</code>.</p>\n"}, {"tags": ["typescript", "tsc", "ecmascript-next"], "comments": [{"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1548851992, "post_id": 54438316, "comment_id": 95690745, "body": "is it compile-time error or run-time error?"}, {"owner": {"reputation": 1859, "user_id": 2889642, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5d5195acc9f791ee59a1f9eeb2bad57?s=128&d=identicon&r=PG", "display_name": "uloco", "link": "https://stackoverflow.com/users/2889642/uloco"}, "reply_to_user": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1548853580, "post_id": 54438316, "comment_id": 95691630, "body": "Compile time error. I can run it perfectly on the browser console"}, {"owner": {"reputation": 584, "user_id": 7958392, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155452518097122/picture?type=large", "display_name": "webpreneur", "link": "https://stackoverflow.com/users/7958392/webpreneur"}, "edited": false, "score": 0, "creation_date": 1607090509, "post_id": 54438316, "comment_id": 115170348, "body": "Interesting, because when I got the &quot;Property &#39;trimRight&#39; does not exist on type &#39;string&#39;.&quot; error adding es2018 to the lib array was enough to solve my problem."}], "answers": [{"tags": [], "owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1548844365, "creation_date": 1548844365, "answer_id": 54438471, "question_id": 54438316, "link": "https://stackoverflow.com/questions/54438316/property-trimleft-does-not-exist-on-type-string-lib-dom-es2018/54438471#54438471", "title": "Property &#39;trimLeft&#39; does not exist on type &#39;string&#39;. Lib: [&quot;dom&quot;, &quot;es2018&quot;]", "body": "<p>I don't think es2018 is going to work. Try changing it to \"es2016\"</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \"./\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\"node_modules/@types\"],\n    \"lib\": [\"es2016\", \"dom\"],\n    \"plugins\": [\n      {\n        \"name\": \"tslint-language-service\",\n        \"configFile\": \"./tslint.json\"\n      }\n    ],\n    \"paths\": {\n      \"foo\": [\"projects/foo/src/public_api.ts\"],\n      \"bar\": [\"projects/bar/src/public_api.ts\"],\n      \"baz\": [\"dist/baz\"]\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 7974894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c51f5ff3ab788f953d27a3f5b5cedef?s=128&d=identicon&r=PG&f=1", "display_name": "Mushinako", "link": "https://stackoverflow.com/users/7974894/mushinako"}, "is_accepted": true, "score": 10, "last_activity_date": 1559598095, "creation_date": 1559598095, "answer_id": 56434866, "question_id": 54438316, "link": "https://stackoverflow.com/questions/54438316/property-trimleft-does-not-exist-on-type-string-lib-dom-es2018/56434866#56434866", "title": "Property &#39;trimLeft&#39; does not exist on type &#39;string&#39;. Lib: [&quot;dom&quot;, &quot;es2018&quot;]", "body": "<p>Include the library <a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.es2019.string.d.ts\" rel=\"noreferrer\"><code>\"es2019.string\"</code></a>. Update your copy of Typescript if there is no such library. It is rather new and did not exist when this question was asked.</p>\n"}, {"comments": [{"owner": {"reputation": 584, "user_id": 7958392, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155452518097122/picture?type=large", "display_name": "webpreneur", "link": "https://stackoverflow.com/users/7958392/webpreneur"}, "edited": false, "score": 0, "creation_date": 1607090356, "post_id": 57706937, "comment_id": 115170265, "body": "Interesting, because for me, adding es2018 to the lib array did the job."}], "tags": [], "owner": {"reputation": 89, "user_id": 1533528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAY0u.png?s=128&g=1", "display_name": "mshahin364", "link": "https://stackoverflow.com/users/1533528/mshahin364"}, "is_accepted": false, "score": 8, "last_activity_date": 1567070236, "creation_date": 1567070236, "answer_id": 57706937, "question_id": 54438316, "link": "https://stackoverflow.com/questions/54438316/property-trimleft-does-not-exist-on-type-string-lib-dom-es2018/57706937#57706937", "title": "Property &#39;trimLeft&#39; does not exist on type &#39;string&#39;. Lib: [&quot;dom&quot;, &quot;es2018&quot;]", "body": "<p>Update the typescript library to \"typescript\": \"~3.6.2\". Include \"es2019\" in the tsconfig.json lib's array. It will work.</p>\n\n<pre><code>\"target\": \"es2015\",\n\"typeRoots\": [\n  \"node_modules/@types\"\n],\n\"lib\": [\n  \"es2018\",\n  \"es2019\",\n  \"dom\"\n]\n</code></pre>\n"}], "owner": {"reputation": 1859, "user_id": 2889642, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5d5195acc9f791ee59a1f9eeb2bad57?s=128&d=identicon&r=PG", "display_name": "uloco", "link": "https://stackoverflow.com/users/2889642/uloco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3532, "favorite_count": 1, "accepted_answer_id": 56434866, "answer_count": 3, "score": 6, "last_activity_date": 1567070236, "creation_date": 1548843867, "question_id": 54438316, "link": "https://stackoverflow.com/questions/54438316/property-trimleft-does-not-exist-on-type-string-lib-dom-es2018", "title": "Property &#39;trimLeft&#39; does not exist on type &#39;string&#39;. Lib: [&quot;dom&quot;, &quot;es2018&quot;]", "body": "<p>I am getting this Error when running the following code</p>\n\n<pre><code>let foo = '  foo  '\nconsole.log(foo.trimLeft())\n//foo.trimStart() works neither\n</code></pre>\n\n<p>I know most of the solutions in the internet say, that I have to fix my <code>tsconfig.json</code> to include es20whatever.</p>\n\n<p>The funny thing is, I can use es2018 stuff like Promise.prototype.finally and rest spread etc. VSCode also auto completes <code>trimStart()</code> for me which is odd, because the project and the editor should use the same <code>tsconfig.json</code>.\nBut this particular piece of code does not compile.</p>\n\n<p>Here is my tsconfig.json</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \"./\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\"node_modules/@types\"],\n    \"lib\": [\"es2018\", \"dom\"],\n    \"plugins\": [\n      {\n        \"name\": \"tslint-language-service\",\n        \"configFile\": \"./tslint.json\"\n      }\n    ],\n    \"paths\": {\n      \"foo\": [\"projects/foo/src/public_api.ts\"],\n      \"bar\": [\"projects/bar/src/public_api.ts\"],\n      \"baz\": [\"dist/baz\"]\n    }\n  }\n}\n</code></pre>\n\n<p>I am running this in a monorepo angular folder (as you can see above).\nPerhaps there is an issue with that, I don't know.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 111, "user_id": 512811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3911bfb8882ca6dd368d71b9f7305d3?s=128&d=identicon&r=PG", "display_name": "Farhang darzi", "link": "https://stackoverflow.com/users/512811/farhang-darzi"}, "edited": false, "score": 0, "creation_date": 1548843765, "post_id": 54438230, "comment_id": 95685847, "body": "could you provide a demo on stackblitz?"}, {"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1548843925, "post_id": 54438230, "comment_id": 95685944, "body": "Check your <code>environments:dev</code> object values is correct  in <code>angular-cli.js</code> file"}], "answers": [{"tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 1, "last_activity_date": 1548844056, "creation_date": 1548844056, "answer_id": 54438374, "question_id": 54438230, "link": "https://stackoverflow.com/questions/54438230/angular-6-expression-has-changed-after-it-was-checked-build-modes/54438374#54438374", "title": "Angular 6 - Expression has changed after it was checked, build modes", "body": "<p>Yes, this error does not appear in <code>prod</code> mode but appears on <code>dev</code> build. That is the <code>warning/error</code> which says that your input variables are modified before the change detection has completed.</p>\n\n<p>In Dev mode, change detection triggers two times for every <code>@Input</code> change, so if any of the variable being updated in child components change in between, then you will get this error.</p>\n\n<p>In prod mode, change detection triggers only once, so it wont recognize that input was changed during change detection.</p>\n\n<p>Read more about this error <a href=\"https://blog.angularindepth.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4\" rel=\"nofollow noreferrer\">here</a> and how you can avoid it.</p>\n"}], "owner": {"reputation": 720, "user_id": 1849394, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YD8qL.jpg?s=128&g=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/1849394/ankur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 54438374, "answer_count": 1, "score": 0, "last_activity_date": 1548844056, "creation_date": 1548843635, "question_id": 54438230, "link": "https://stackoverflow.com/questions/54438230/angular-6-expression-has-changed-after-it-was-checked-build-modes", "title": "Angular 6 - Expression has changed after it was checked, build modes", "body": "<p>I am getting below error in some components when build is done for debug mode, which is <strong>ng build</strong>.\nBut as soon as I change build mode to prod using <strong>ng build --prod</strong>, these errors goes away.</p>\n\n<p>I am unclear why this is happening.</p>\n\n<p><strong>Error:</strong>\nExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked</p>\n\n<p>Thanks</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 935, "user_id": 8403694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f8a8bc05b6e5e71ad20f74bb726c9c57?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Bansal", "link": "https://stackoverflow.com/users/8403694/mayank-bansal"}, "edited": false, "score": 0, "creation_date": 1548843916, "post_id": 54438180, "comment_id": 95685937, "body": "Can you please explain what exactly you are trying to achieve?"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 3010691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3056c883285a3d7c35d8e1f0ef7b47a?s=128&d=identicon&r=PG&f=1", "display_name": "CoolTarka", "link": "https://stackoverflow.com/users/3010691/cooltarka"}, "edited": false, "score": 0, "creation_date": 1599225474, "post_id": 54438335, "comment_id": 112716600, "body": "This solution worked for me but I don&#39;t understand why. You mentioned <i>&quot;Since galerie is an array but has no elements the best and safest type typescript can infer is never[]&quot;</i>, I can understand that has no elements since state initialized with empty, but why typescript infer that since the state interface define galery as an Album that also has one interface with its types specified? Why he uses never instead the types specified in the interface? What means <i>&quot;annotate the state member&quot;</i> (besides the code modification)?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 3, "last_activity_date": 1548843946, "creation_date": 1548843946, "answer_id": 54438335, "question_id": 54438180, "link": "https://stackoverflow.com/questions/54438180/property-does-not-exist-on-type-never-what-is-wrong/54438335#54438335", "title": "Property does not exist on type &#39;never[], What is wrong?", "body": "<p>You define <code>state</code> but you don't specify it's type. Typescript will thus infer the type of <code>state</code> based on the initialization. Since <code>galerie</code> is an array but has no elements the best and safest type typescript can infer is <code>never[]</code></p>\n\n<p>The solution is to annotate the <code>state</code> member:</p>\n\n<pre><code>class App extends React.Component {\n\n  state:State  = {\n    isLoading: false,\n    errorMsg: '',\n    buttonClicked: false,\n    jsonFromServer: \"\",\n    gallery:[] \n  }\n  //...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1548843986, "creation_date": 1548843986, "answer_id": 54438351, "question_id": 54438180, "link": "https://stackoverflow.com/questions/54438180/property-does-not-exist-on-type-never-what-is-wrong/54438351#54438351", "title": "Property does not exist on type &#39;never[], What is wrong?", "body": "<p>Your gallery is an array &amp; you're trying to access it like an object. Try this render method instead:</p>\n\n<pre><code>  render() {\n    .....\n    if (this.state.buttonClicked) {\n      this.state.galerie.length &gt; 0 ? console.log('=&gt;', this.state.gallery!.album.id) : ''; //it should work now\n    }\n\n ......\n  }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9473636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946c1b70e82cb55f6918b055011d20fc?s=128&d=identicon&r=PG&f=1", "display_name": "jurilitvin", "link": "https://stackoverflow.com/users/9473636/jurilitvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1548887957, "creation_date": 1548843477, "question_id": 54438180, "link": "https://stackoverflow.com/questions/54438180/property-does-not-exist-on-type-never-what-is-wrong", "title": "Property does not exist on type &#39;never[], What is wrong?", "body": "<p>all,\nI'm new in the theme React+Typescript.\nIn my example code, I get json object and going to print one property onto the console. The data from the server came successfully. But by the attempt make the output I receive the message \"<strong>Property 'album' does not exist on type 'never[]'</strong>\", though all the types are defined. Where am I wrong? Should I some way initialize the 'gallery' in the state?</p>\n\n<pre><code>    import React, { Component, Props } from 'react';\nimport axios from 'axios';\n\n\nconst API = 'http://www.mydomain/testapi/';\nconst DEFAULT_QUERY = 'test.php';\n\n\ntype Image = {\n  id: number,\n  name: string,\n  title: string,\n  date: string,\n  size: number\n}\n\ntype Album = {\n  id: number,\n  name: string,\n  path: string,\n  images: Image[]\n}\n\n\ninterface State {\n jsonFromServer: string,\n isLoading: boolean,\n errorMsg: string,\n buttonClicked: boolean,\n gallery:Album[]\n}\n\n\nclass App extends React.Component {\n\n  state = {\n    isLoading: false,\n    errorMsg: '',\n    buttonClicked: false,\n    jsonFromServer: \"\",\n    gallery:[] \n    }\n\n  getInfo() {\n\n    this.setState({ isLoading: true, buttonClicked: true });\n    axios.get(API + DEFAULT_QUERY)\n      .then(result =&gt; this.setState({\n        gallery: result.data.gallery,\n        isLoading: false,\n        jsonFromServer: result.data\n\n      }))\n      .catch(error =&gt; this.setState({\n        errorMsg: error.message,\n        isLoading: false\n      }));\n  }\n\n  render() {\n    .....\n    if (this.state.buttonClicked) {\n      this.state.galerie.length &gt; 0 ? console.log('=&gt;', this.state.gallery.album.id) : '';\n    }\n\n ......\n  }\n}\n\nexport default App;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 1, "creation_date": 1548843511, "post_id": 54438012, "comment_id": 95685706, "body": "Type of <code>key</code> can only be string, number or symbol. enum is not."}], "answers": [{"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": false, "score": 93, "last_activity_date": 1548844395, "last_edit_date": 1548844395, "creation_date": 1548843985, "answer_id": 54438350, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe/54438350#54438350", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>The simplest solution is to use <code>Record</code></p>\n\n<pre><code>type OptionRequirements = Record&lt;Options, OptionRequirement&gt;\n</code></pre>\n\n<p>You can also implement it yourself as:</p>\n\n<pre><code>type OptionRequirements = {\n  [key in Options]: OptionRequirement;\n}\n</code></pre>\n\n<p>This construct is only available to <code>type</code>, but not <code>interface</code>.</p>\n\n<p>The problem in your definition is saying the key of your interface should be of type <code>Options</code>, where <code>Options</code> is an enum, not a string, number, or symbol.</p>\n\n<p>The <code>key in Options</code> means \"for those specific keys that's in the union type Options\".</p>\n\n<p><code>type</code> alias is more flexible and powerful than <code>interface</code>.</p>\n\n<p>If your type does not need to be used in class, choose <code>type</code> over <code>interface</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 61591, "user_id": 183406, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ca03242df77ec2d8f70f2cea0d6209be?s=128&d=identicon&r=PG", "display_name": "meriton", "link": "https://stackoverflow.com/users/183406/meriton"}, "edited": false, "score": 14, "creation_date": 1566493437, "post_id": 56628792, "comment_id": 101683197, "body": "Erm, this doesn&#39;t compile? The <a href=\"https://www.typescriptlang.org/play/index.html#code/KYOwrgtgBA8gDgFwJYHsQGcoG8BQVYByAolALxQDkawFANHlACoDqMZlCA7inQ4wBIAlIiXIUEACwBOwGvQC+OJCATApAMwCGAY2CxEqEIOABHMEhkRQCbA3QorAIRQoANgC4oAIxevgmkABuOwdgAGUEKWUAc090SJjgxWVVDR09eGQ0YzMLYCsVTFx8AG0Aa2AATyhlfSyMAF1PTMMc80trQKgAem6oAhRVKElNGwAiCurlMYA6HHkgA\" rel=\"nofollow noreferrer\">TypeScript playground says</a>: &quot;A computed property name in an interface must refer to an expression whose type is a literal type or a &#39;unique symbol&#39; type.&quot;"}, {"owner": {"reputation": 8357, "user_id": 47185, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/47f28e60db02c75ca0fae638bb3e8304?s=128&d=identicon&r=PG", "display_name": "Tyler Rick", "link": "https://stackoverflow.com/users/47185/tyler-rick"}, "edited": false, "score": 26, "creation_date": 1566594459, "post_id": 56628792, "comment_id": 101719356, "body": "Change <code>interface OptionRequirements</code> to <code>type OptionRequirements</code>"}, {"owner": {"reputation": 532, "user_id": 1253085, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3b2d38400aae0aa75cb75eae754c24a9?s=128&d=identicon&r=PG", "display_name": "Tyguy7", "link": "https://stackoverflow.com/users/1253085/tyguy7"}, "edited": false, "score": 7, "creation_date": 1573854107, "post_id": 56628792, "comment_id": 104037297, "body": "this actually doesn&#39;t work for me:  A computed property name in an interface must refer to an expression whose type is a literal type or a &#39;unique symbol&#39; type"}, {"owner": {"reputation": 3455, "user_id": 6322008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JzedZ.png?s=128&g=1", "display_name": "Nacho Justicia Ramos", "link": "https://stackoverflow.com/users/6322008/nacho-justicia-ramos"}, "edited": false, "score": 0, "creation_date": 1573895951, "post_id": 56628792, "comment_id": 104044500, "body": "Could you please tell us what version of Typescript are you using?"}, {"owner": {"reputation": 3455, "user_id": 6322008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JzedZ.png?s=128&g=1", "display_name": "Nacho Justicia Ramos", "link": "https://stackoverflow.com/users/6322008/nacho-justicia-ramos"}, "edited": false, "score": 0, "creation_date": 1574330990, "post_id": 56628792, "comment_id": 104198272, "body": "&quot;Change interface OptionRequirements to type OptionRequirements&quot;: it depends on the Typescript version you are using"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1598241112, "post_id": 56628792, "comment_id": 112383046, "body": "I have edited this answer to use a mapped type alias instead of an interface.  The original answer does not compile under any version of TypeScript that I&#39;ve seen, and certainly does not compile under the current version of TypeScript (4.0 as of Aug 2020).  @NachoJusticiaRamos, if you could demonstrate that your original version actually works somewhere, in some version of TypeScript, then I&#39;d be happy to revert the edit, along with a description of the environment you need to use to have it work.  Cheers!"}], "tags": [], "owner": {"reputation": 3455, "user_id": 6322008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JzedZ.png?s=128&g=1", "display_name": "Nacho Justicia Ramos", "link": "https://stackoverflow.com/users/6322008/nacho-justicia-ramos"}, "is_accepted": false, "score": 283, "last_activity_date": 1598240960, "last_edit_date": 1598240960, "creation_date": 1560764945, "answer_id": 56628792, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe/56628792#56628792", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>You can use TS &quot;in&quot; operator and do this:</p>\n<pre><code>enum Options {\n  ONE = 'one',\n  TWO = 'two',\n  THREE = 'three',\n}\ninterface OptionRequirement {\n  someBool: boolean;\n  someString: string;\n}\ntype OptionRequirements = {\n  [key in Options]: OptionRequirement; // Note that &quot;key in&quot;.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1344, "user_id": 9026103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mBXUBI7N6-c/AAAAAAAAAAI/AAAAAAAAAZc/RF_lKrPO5Tg/photo.jpg?sz=128", "display_name": "Kurkov Igor", "link": "https://stackoverflow.com/users/9026103/kurkov-igor"}, "is_accepted": false, "score": 10, "last_activity_date": 1582557826, "creation_date": 1582557826, "answer_id": 60378992, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe/60378992#60378992", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>I had some similar problem but my case was with another field property in interface so my solution as an example with <strong>optional</strong> field property with an enum for keys:</p>\n\n<pre><code>export enum ACTION_INSTANCE_KEY {\n  cat = 'cat',\n  dog = 'dog',\n  cow = 'cow',\n  book = 'book'\n}\n\ntype ActionInstances = {\n  [key in ACTION_INSTANCE_KEY]?: number; // cat id/dog id/cow id/ etc // &lt;== optional\n};\n\nexport interface EventAnalyticsAction extends ActionInstances { // &lt;== need to be extended\n  marker: EVENT_ANALYTIC_ACTION_TYPE; // &lt;== if you wanna add another field to interface\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 1944154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f12ff20469a5f989274b7f19bb4a80?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1944154/stefan"}, "is_accepted": false, "score": 6, "last_activity_date": 1594366839, "creation_date": 1594366839, "answer_id": 62829460, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe/62829460#62829460", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>Instead of using an interface, use a mapped object type</p>\n<pre><code>enum Option {\n  ONE = 'one',\n  TWO = 'two',\n  THREE = 'three'\n}\n\ntype OptionKeys = keyof typeof Option;\n\ninterface OptionRequirement {\n  someBool: boolean;\n  someString: string;\n}\n\ntype OptionRequirements = {                 // note type, not interface\n  [key in OptionKeys]: OptionRequirement;   // key in\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1480, "user_id": 1762267, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ef652f02912bda6e326ea3561f69ffe0?s=128&d=identicon&r=PG", "display_name": "Questioning", "link": "https://stackoverflow.com/users/1762267/questioning"}, "is_accepted": false, "score": 1, "last_activity_date": 1596651151, "creation_date": 1596651151, "answer_id": 63271169, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe/63271169#63271169", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>I had a similar issue. I was trying to use only specific keys when creating angular form validators.</p>\n<pre class=\"lang-js prettyprint-override\"><code>export enum FormErrorEnum {\n  unknown = 'unknown',\n  customError = 'customError',\n}\n\nexport type FormError = keyof typeof FormErrorEnum;\n</code></pre>\n<p>And the usage:</p>\n<pre class=\"lang-js prettyprint-override\"><code>static customFunction(param: number, param2: string): ValidatorFn {\n  return (control: AbstractControl): { [key: FormErrorEnum]?: any } =&gt; {\n    return { customError: {param, param2} };\n  };\n}\n</code></pre>\n<p>This will allow for 1 - X number of keys to be used.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 5077113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2Sl1.jpg?s=128&g=1", "display_name": "Alazzawi", "link": "https://stackoverflow.com/users/5077113/alazzawi"}, "is_accepted": false, "score": 8, "last_activity_date": 1604569102, "creation_date": 1604569102, "answer_id": 64694571, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe/64694571#64694571", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>In my case I needed the properties to be optional, so I created this generic type.</p>\n<pre><code>type PartialRecord&lt;K extends string | number | symbol, T&gt; = { [P in K]?: T; };\n</code></pre>\n<p>Then use it as such:</p>\n<pre><code>type MyTypes = 'TYPE_A' | 'TYPE_B' | 'TYPE_C';\n\ninterface IContent {\n    name: string;\n    age: number;\n}\n\ninterface IExample {\n    type: string;\n    partials: PartialRecord&lt;MyTypes, IContent&gt;;\n}\n</code></pre>\n<p>Example</p>\n<pre><code>const example : IExample = {\n    type: 'some-type',\n    partials: {\n        TYPE_A : {\n            name: 'name',\n            age: 30\n        },\n        TYPE_C : {\n            name: 'another name',\n            age: 50\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1953, "user_id": 9192577, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/30958dff5b4f182e3c334a7ac404541e?s=128&d=identicon&r=PG&f=1", "display_name": "john maccarthy", "link": "https://stackoverflow.com/users/9192577/john-maccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47553, "favorite_count": 8, "answer_count": 6, "score": 179, "last_activity_date": 1604569102, "creation_date": 1548843027, "last_edit_date": 1560806446, "question_id": 54438012, "link": "https://stackoverflow.com/questions/54438012/an-index-signature-parameter-type-cannot-be-a-union-type-consider-using-a-mappe", "title": "An index signature parameter type cannot be a union type. Consider using a mapped object type instead", "body": "<p>I'm trying to use the following pattern:</p>\n\n<pre><code>enum Option {\n  ONE = 'one',\n  TWO = 'two',\n  THREE = 'three'\n}\n\ninterface OptionRequirement {\n  someBool: boolean;\n  someString: string;\n}\n\ninterface OptionRequirements {\n  [key: Option]: OptionRequirement;\n}\n</code></pre>\n\n<p>This seems very straightforward to me, however I get the following error:</p>\n\n<blockquote>\n  <p>An index signature parameter type cannot be a union type. Consider using a mapped object type instead.</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["typescript", "inversifyjs"], "answers": [{"tags": [], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "is_accepted": true, "score": 5, "last_activity_date": 1604155509, "last_edit_date": 1604155509, "creation_date": 1548842830, "answer_id": 54437949, "question_id": 54437948, "link": "https://stackoverflow.com/questions/54437948/why-is-my-property-injection-attempt-not-injecting-anything-but-undefined/54437949#54437949", "title": "Why is my property injection attempt not injecting anything but undefined?", "body": "<p>The normal behavior of property injection is to let <code>inversify</code> create the instances for you. You are now describing a use-case, in which you create the instance of <code>ShouldHaveLogger</code> yourself (or another library is creating it for you).</p>\n<p>This is also pointed out by the <a href=\"https://github.com/inversify/InversifyJS/blob/master/wiki/property_injection.md#when-we-cannot-use-inversifyjs-to-create-an-instance-of-a-class\" rel=\"nofollow noreferrer\">docs</a></p>\n<p>In order to do that, you will need <a href=\"https://github.com/inversify/inversify-inject-decorators\" rel=\"nofollow noreferrer\">inversify-inject-decorators</a>, as then you can inject the logger e.g. via <code>@lazyInject</code>.</p>\n<p>You have to setup lazyInject using your container and your code should look like:</p>\n<pre><code>import {injectable} from &quot;inversify&quot;;\nimport getDecorators from &quot;inversify-inject-decorators&quot;;\nimport {ILogger} from &quot;./interfaces/ILogger&quot;;\nimport {TYPES} from &quot;./interfaces/TYPES&quot;;\nimport container from &quot;./kernel/inversify.config&quot;;   \n\nconst {lazyInject} = getDecorators(container);\n\n@injectable()\nclass ShouldHaveLogger {\n    @lazyInject(TYPES.ILogger) private logger: ILogger;\n\n    constructor() {\n        this.logger.info(&quot;I am working now&quot;);\n    }\n}\n\nnew ShouldHaveLogger();\n</code></pre>\n<p>Will print depending on you logger implementation:</p>\n<pre><code>2019-01-30T09:47:54.890Z - info: &quot;I am working now&quot;\n</code></pre>\n"}], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1805, "favorite_count": 0, "accepted_answer_id": 54437949, "answer_count": 1, "score": 5, "last_activity_date": 1604155509, "creation_date": 1548842830, "question_id": 54437948, "link": "https://stackoverflow.com/questions/54437948/why-is-my-property-injection-attempt-not-injecting-anything-but-undefined", "title": "Why is my property injection attempt not injecting anything but undefined?", "body": "<p>I have an existing typescript project using inversify. I have defined a logger in my TYPES at <code>TYPES.ILoggger</code> and when I access the logger directly from my container it works:</p>\n\n<pre><code>import {ILogger} from \"./interfaces/ILogger\";\nimport {TYPES} from \"./interfaces/TYPES\";\nimport container from \"./kernel/inversify.config\";\n\nconst loggerFromTheContainer: ILogger = container.get&lt;ILogger&gt;(TYPES.ILogger);\nloggerFromTheContainer.info(\"I WILL LOG\"); // this works\n</code></pre>\n\n<p>So my setup should be fine.</p>\n\n<p>I don't want to access the container directly but I want to use property injection. [InversifyJS' <a href=\"https://github.com/inversify/InversifyJS\" rel=\"noreferrer\">README</a> provides an example:</p>\n\n<blockquote>\n  <p>If you prefer it you can use property injection instead of constructor\n  injection so you don't have to declare the class constructor:</p>\n\n<pre><code>@injectable()\nclass Ninja implements Warrior {\n    @inject(TYPES.Weapon) private _katana: Weapon;\n    @inject(TYPES.ThrowableWeapon) private _shuriken: ThrowableWeapon;\n    public fight() { return this._katana.hit(); }\n    public sneak() { return this._shuriken.throw(); }\n}\n</code></pre>\n</blockquote>\n\n<p>and I try to follow that one.</p>\n\n<p>Yet when I try to inject the logger through property injection, I suddenly get <code>undefined</code> as a logger and I don't know why:</p>\n\n<pre><code>@injectable()\nclass ShouldHaveLogger {\n    @inject(TYPES.ILogger) private logger: ILogger;\n\n    constructor() {\n        this.logger.info(\"Hello World\"); // this.logger will remain undefined\n    }\n}\n\nnew ShouldHaveLogger();\n</code></pre>\n\n<p>It will throw a generic </p>\n\n<pre><code>TypeError: Cannot read property 'info' of undefined\n</code></pre>\n\n<p>as <code>this.logger</code> is not being injected. Yet why and how to fix it?</p>\n"}, {"tags": ["html", "css", "typescript", "angular7"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1548843016, "post_id": 54437907, "comment_id": 95685397, "body": "<a href=\"https://www.w3schools.com/css/css_rwd_intro.asp\" rel=\"nofollow noreferrer\">w3schools.com/css/css_rwd_intro.asp</a>"}, {"owner": {"reputation": 21, "user_id": 10419177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0684e20938a4a3c03f29355c187190f9?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/10419177/eddie"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1548843933, "post_id": 54437907, "comment_id": 95685950, "body": "I have already tried it, but it doesn&#39;t work: the third column is still less than 100%"}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1548847732, "post_id": 54437907, "comment_id": 95688300, "body": "We need to see more of your code to understand what&#39;s happening. You can check how to right a valid example here : <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "owner": {"reputation": 21, "user_id": 10419177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0684e20938a4a3c03f29355c187190f9?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/10419177/eddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548846457, "creation_date": 1548842697, "last_edit_date": 1548846457, "question_id": 54437907, "link": "https://stackoverflow.com/questions/54437907/angular-7-column-width", "title": "Angular 7: column width", "body": "<p>I have an issue in Angular 7.</p>\n\n<p>I have created 3 columns. It is possible to change the width of the first and the second columns and the last one is is calculated consequently. When the window width is portrait, the first 2 columns disappear.</p>\n\n<p>The issue is that the third column doesn't change its width in portrait status, but it is less than 100% (as written in the CSS file). How can I make it 100% for mobile view?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1117, "user_id": 5396697, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sWus8.jpg?s=128&g=1", "display_name": "MattjeS", "link": "https://stackoverflow.com/users/5396697/mattjes"}, "edited": false, "score": 0, "creation_date": 1548842763, "post_id": 54437860, "comment_id": 95685215, "body": "your array is the data property within the array object. did you try <code>array.data.sort(...</code> ?"}, {"owner": {"reputation": 367, "user_id": 10487896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FUWQZElVnEQ/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUijeyCdYA-iWcA4zQ-VS9C5-yGeQ/mo/photo.jpg?sz=128", "display_name": "vinuta", "link": "https://stackoverflow.com/users/10487896/vinuta"}, "reply_to_user": {"reputation": 1117, "user_id": 5396697, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sWus8.jpg?s=128&g=1", "display_name": "MattjeS", "link": "https://stackoverflow.com/users/5396697/mattjes"}, "edited": false, "score": 0, "creation_date": 1548843005, "post_id": 54437860, "comment_id": 95685385, "body": "yes I did with array.data.sort but dint get result"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1548844579, "post_id": 54437860, "comment_id": 95686355, "body": "Your data has property <code>grievance_reg_date</code> but not <code>date</code>. TypeScript should be able to mark your code as error."}, {"owner": {"reputation": 367, "user_id": 10487896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FUWQZElVnEQ/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUijeyCdYA-iWcA4zQ-VS9C5-yGeQ/mo/photo.jpg?sz=128", "display_name": "vinuta", "link": "https://stackoverflow.com/users/10487896/vinuta"}, "edited": false, "score": 0, "creation_date": 1548844932, "post_id": 54437860, "comment_id": 95686534, "body": "even if it is date it didn&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": false, "score": 0, "last_activity_date": 1548844925, "creation_date": 1548844925, "answer_id": 54438658, "question_id": 54437860, "link": "https://stackoverflow.com/questions/54437860/sort-an-array-of-objects-by-date/54438658#54438658", "title": "sort an array of objects by date", "body": "<p>Your code is incorrect:</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%0Aconst%20array%20%3D%20%7B%0A%20%20data%3A%20%5B%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%222019-01-19%2006%3A53%3A20%22%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%222019-01-30%2006%3A53%3A20%22%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%2222019-01-21%2019%3A30%3A32%22%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%222019-01-28%2006%3A53%3A20%22%0A%20%20%7D%0A%20%20%5D%0A%7D%0A%0A%0Aarray.data.sort(function(a%2C%20b)%20%7B%0A%20%20var%20c%20%3D%20new%20Date(a.date)%3B%0A%20%20var%20d%20%3D%20new%20Date(b.date)%3B%0A%20%20return%20c%20-%20d%3B%0A%7D)%3B%0A\" rel=\"nofollow noreferrer\">playground</a></p>\n\n<p>Use any editor with TypeScript support (such as VSCode) should guide you and fix your problem.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%0Aconst%20array%20%3D%20%7B%0A%20%20data%3A%20%5B%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%222019-01-19%2006%3A53%3A20%22%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%222019-01-30%2006%3A53%3A20%22%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%2222019-01-21%2019%3A30%3A32%22%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20grievance_nature%3A%20%22Nature%20Two%22%2C%0A%20%20%20%20grievance_nature_id%3A%2019%2C%0A%20%20%20%20grievance_reg_date%3A%20%222019-01-28%2006%3A53%3A20%22%0A%20%20%7D%0A%20%20%5D%0A%7D%0A%0A%0Aconsole.log(array.data.sort(function(a%2C%20b)%20%7B%0A%20%20var%20c%20%3D%20new%20Date(a.grievance_reg_date)%3B%0A%20%20var%20d%20%3D%20new%20Date(b.grievance_reg_date)%3B%0A%20%20return%20c.getTime()%20-%20d.getTime()%3B%0A%7D))%0A\" rel=\"nofollow noreferrer\">working playground</a></p>\n"}], "owner": {"reputation": 367, "user_id": 10487896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FUWQZElVnEQ/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUijeyCdYA-iWcA4zQ-VS9C5-yGeQ/mo/photo.jpg?sz=128", "display_name": "vinuta", "link": "https://stackoverflow.com/users/10487896/vinuta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548845036, "creation_date": 1548842553, "last_edit_date": 1548845036, "question_id": 54437860, "link": "https://stackoverflow.com/questions/54437860/sort-an-array-of-objects-by-date", "title": "sort an array of objects by date", "body": "<p>I am trying to sort an array of objects with each object containing a date</p>\n\n<p>Here is the array </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>array = {\r\n  data: [{\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"2019-01-19 06:53:20\"\r\n    },\r\n    {\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"2019-01-30 06:53:20\"\r\n    },\r\n    {\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"22019-01-21 19:30:32\"\r\n    },\r\n    {\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"2019-01-28 06:53:20\"\r\n    }\r\n  ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to sort the array in order of date with the most recent one. If a date is same it should be sorted on time.</p>\n\n<p>I tried out these functions which didn't give me results</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>array.data.sort(function(a, b) {\r\n  var c = new Date(a.date);\r\n  var d = new Date(b.date);\r\n  return c - d;\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The above solution didn't give me any result</p>\n\n<p>The required form of array is this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>array = {\r\n  data: [{\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"2019-01-30 06:53:20\"\r\n    },\r\n    {\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"2019-01-28 06:53:20\"\r\n    } {\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"22019-01-21 19:30:32\"\r\n    },\r\n    {\r\n      grievance_nature: \"Nature Two\"\r\n      grievance_nature_id: 19\r\n      date: \"2019-01-19 06:53:20\"\r\n    },\r\n  ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1548842820, "post_id": 54437834, "comment_id": 95685255, "body": "Do you have <code>@types&#47;node</code> installed? <code>https.get</code> takes a callback of <code>(res: http.IncomingMessage) =&gt; void</code>."}, {"owner": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1548842876, "post_id": 54437834, "comment_id": 95685292, "body": "@jonrsharpe is this correct?: <code>&quot;dependencies&quot;: {     &quot;@types&#47;node&quot;: &quot;^10.12.19&quot;}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 1, "last_activity_date": 1548854686, "creation_date": 1548854686, "answer_id": 54441653, "question_id": 54437834, "link": "https://stackoverflow.com/questions/54437834/typescript-and-node-https-get/54441653#54441653", "title": "TypeScript and Node https.get()", "body": "<p>It base on the https.get callback function parameter type. Usually it need to be define either on the resp type or on the function type, so let say you create a type T, which you expect to get from the request</p>\n\n<pre><code>type ResponseType = { data: any };\n</code></pre>\n\n<p>then you can add to the function call like</p>\n\n<pre><code>https.get&lt;ResponseType&gt;(...);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>https.get(`someUrl`, (resp: ResponseType) =&gt; {...}\n</code></pre>\n\n<p>Object type is quite flexible and it won't show if you use a property that is not existing in the response type. so I won't use that unless there're no other choices</p>\n"}], "owner": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3073, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1548854686, "creation_date": 1548842460, "last_edit_date": 1548842712, "question_id": 54437834, "link": "https://stackoverflow.com/questions/54437834/typescript-and-node-https-get", "title": "TypeScript and Node https.get()", "body": "<p>I'm starting to convert a project to TypeScript and I'm encountering an error I'm not sure how to solve.</p>\n\n<p>When I write:</p>\n\n<pre><code>https.get(`someUrl`, resp =&gt; {\n  // Define Buffer\n  let buffer = '';\n  // Fill buffer\n  resp.on('')\n});\n</code></pre>\n\n<p>It gives me</p>\n\n<pre><code>[ts] Parameter 'resp' implicitly has an 'any' type. [7006]\n</code></pre>\n\n<p>I know I can 'fix' it by changing</p>\n\n<pre><code>https.get(`someUrl`, resp =&gt; {\n</code></pre>\n\n<p>to</p>\n\n<pre><code>https.get(`someUrl`, (resp: Object) =&gt; {\n</code></pre>\n\n<p>Is this the correct solution? Also, TS has no idea what <code>resp</code> actually contains. When I write normal JS it just shows me what methods and props there are but with TS I get nothing. When I get to <code>resp.on('')</code> it tells me that <code>on</code> does not exist on <code>Object</code>. Is this expected or am I doing something wrong? Do I need to write an <code>interface</code> for the <code>https.get</code> function?</p>\n\n<p>I'm using Visual Studio Code </p>\n\n<p>Is it because I'm using a module that is not intended to be used with TS? I think it could be simply that.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 2014, "user_id": 9277453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kD83.jpg?s=128&g=1", "display_name": "Alexey Nikonov", "link": "https://stackoverflow.com/users/9277453/alexey-nikonov"}, "edited": false, "score": 0, "creation_date": 1548843170, "post_id": 54437665, "comment_id": 95685499, "body": "how typescript tag linked to the react subject? it makes no sense"}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "reply_to_user": {"reputation": 2014, "user_id": 9277453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kD83.jpg?s=128&g=1", "display_name": "Alexey Nikonov", "link": "https://stackoverflow.com/users/9277453/alexey-nikonov"}, "edited": false, "score": 0, "creation_date": 1548843236, "post_id": 54437665, "comment_id": 95685534, "body": "it is a typescript error coming from a typescript file, regarding type definitions?"}, {"owner": {"reputation": 2014, "user_id": 9277453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kD83.jpg?s=128&g=1", "display_name": "Alexey Nikonov", "link": "https://stackoverflow.com/users/9277453/alexey-nikonov"}, "edited": false, "score": 0, "creation_date": 1548843591, "post_id": 54437665, "comment_id": 95685749, "body": "&quot;TypeScript is a typed superset of JavaScript created by Microsoft&quot; - that tag is used  for typescript syntax, as i know, but in your case the error firied in a library or package you use. I think it&#39;s better to specify lib&#39;s/package&#39;s tag instead of typescript. is it?"}], "answers": [{"tags": [], "owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "is_accepted": false, "score": 0, "last_activity_date": 1548842486, "creation_date": 1548842486, "answer_id": 54437842, "question_id": 54437665, "link": "https://stackoverflow.com/questions/54437665/react-typescript-a-type-for-both-stateless-and-normal-components/54437842#54437842", "title": "react, typescript - a type for both stateless and normal components", "body": "<p>Probably found it, but will leave this open, since I do not know if this is the correct solution:</p>\n\n<pre><code>export interface Props {\n  isAuthenticated: boolean;\n  component: React.ComponentClass&lt;any&gt; | React.StatelessComponent&lt;any&gt;;\n  exact?: boolean;\n  path: string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1548843805, "creation_date": 1548843805, "answer_id": 54438294, "question_id": 54437665, "link": "https://stackoverflow.com/questions/54437665/react-typescript-a-type-for-both-stateless-and-normal-components/54438294#54438294", "title": "react, typescript - a type for both stateless and normal components", "body": "<p>A type for both functional and class components is <code>ComponentType</code>.</p>\n\n<p>It should be:</p>\n\n<pre><code>export interface Props {\n  isAuthenticated: boolean;\n  component: React.ComponentType;\n  exact?: boolean;\n  path: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 54438294, "answer_count": 2, "score": 1, "last_activity_date": 1548843805, "creation_date": 1548841912, "question_id": 54437665, "link": "https://stackoverflow.com/questions/54437665/react-typescript-a-type-for-both-stateless-and-normal-components", "title": "react, typescript - a type for both stateless and normal components", "body": "<p>I am trying to implement a <code>ProtectedRoute</code> component that has a <code>component</code> prop - which can be a stateless (pure) component or a normal react component.</p>\n\n<p>These are my types:</p>\n\n<pre><code>export interface Props {\n  isAuthenticated: boolean;\n  component: React.PureComponent | React.Component;\n  exact?: boolean;\n  path: string;\n}\n</code></pre>\n\n<p>This is my ProtectedRoute component:</p>\n\n<pre><code>import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nimport { ROUTES } from '../../constants/routes';\n\nimport { Props } from './ProtectedRoute.types';\n\nconst ProtectedRoute = (props: Props) =&gt; {\n  const { isAuthenticated, component: Component, ...rest } = props;\n  return (\n    &lt;Route\n      {...rest}\n      children={props =&gt;\n        !isAuthenticated ? (\n          &lt;Redirect to={{ pathname: ROUTES.login, state: { from: props.location } }} /&gt;\n        ) : (\n          &lt;Component {...props} /&gt;\n        )\n      }\n    /&gt;\n  );\n};\n\nexport default ProtectedRoute;\n</code></pre>\n\n<p>I am getting the following error here:</p>\n\n<blockquote>\n  <p>Type error: JSX element type 'Component' does not have any construct\n  or call signatures.  TS2604</p>\n</blockquote>\n\n<p>This is how I use it:</p>\n\n<pre><code>import React from 'react';\n\nimport { Route, Switch } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport { ROUTES } from '../../constants/routes';\n\nimport Login from '../Login/Login';\nconst PlaceholderComponent = () =&gt; &lt;div&gt;This is where we will put content.&lt;/div&gt;;\nconst NotFoundPlaceholder = () =&gt; &lt;div&gt;404 - Route not found.&lt;/div&gt;;\n\nconst Routes = () =&gt; {\n  return (\n    &lt;Switch&gt;\n      &lt;Route exact path={ROUTES.login} component={Login} /&gt;\n      {/* TODO protected route */}\n      &lt;ProtectedRoute exact path={ROUTES.list} component={PlaceholderComponent} /&gt;\n      &lt;ProtectedRoute exact path={ROUTES.procedure} component={PlaceholderComponent} /&gt;\n      {/* catchall route for 404 */}\n      &lt;Route component={NotFoundPlaceholder} /&gt;\n    &lt;/Switch&gt;\n  );\n};\n\nexport default Routes;\n</code></pre>\n\n<p>And getting the following error here:</p>\n\n<blockquote>\n  <p>Type '() => Element' is not assignable to type 'PureComponent&lt;{}, {},\n  any> | Component&lt;{}, {}, any>'.   Type '() => Element' is missing the\n  following properties from type 'Component&lt;{}, {}, any>': context,\n  setState, forceUpdate, render, and 3 more. [2322]</p>\n</blockquote>\n\n<p>This makes me think that I am using the incorrect type definition. What would be the 'correct' way to go about this? My purpose is to check that <code>ProtectedRoute</code> always gets a React component as the <code>component</code> prop.</p>\n"}, {"tags": ["angular", "typescript", "angular7", "ionic4", "ngx-translate"], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 1, "last_activity_date": 1548860202, "last_edit_date": 1548860202, "creation_date": 1548859789, "answer_id": 54443296, "question_id": 54437643, "link": "https://stackoverflow.com/questions/54437643/ionic4-angular7-ngx-translate-pipe-not-found/54443296#54443296", "title": "Ionic4 Angular7 ngx-translate pipe not found", "body": "<p>Since Ionic 4 is lazy loaded by default you must implement <code>TranslateModule</code> on each and every page module where you'll use the <code>TranslateService</code>.</p>\n\n<pre><code>    import { NgModule } from '@angular/core';\n    import { HomePage } from './home.page';\n    import { TranslateModule } from '@ngx-translate/core';\n\n    @NgModule({\n       imports: [\n         CommonModule,\n         FormsModule,\n         IonicModule,\n         TranslateModule.forChild(),\n         RouterModule.forChild([\n          {\n           path: '',\n           component: HomePage\n          }\n    ])\n  ],\n  declarations: [HomePage]\n })\n export class HomePageModule { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 10945312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p9uud.jpg?s=128&g=1", "display_name": "BenYsil", "link": "https://stackoverflow.com/users/10945312/benysil"}, "is_accepted": true, "score": 0, "last_activity_date": 1550073701, "creation_date": 1550073701, "answer_id": 54674469, "question_id": 54437643, "link": "https://stackoverflow.com/questions/54437643/ionic4-angular7-ngx-translate-pipe-not-found/54674469#54674469", "title": "Ionic4 Angular7 ngx-translate pipe not found", "body": "<p>The only error is :</p>\n\n<pre><code>**private** translate: TranslateService\n</code></pre>\n\n<p>delete private  and it works !</p>\n\n<p>translate: TranslateService :)</p>\n"}], "owner": {"reputation": 127, "user_id": 10945312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p9uud.jpg?s=128&g=1", "display_name": "BenYsil", "link": "https://stackoverflow.com/users/10945312/benysil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 54674469, "answer_count": 2, "score": 2, "last_activity_date": 1550073701, "creation_date": 1548841853, "last_edit_date": 1548859901, "question_id": 54437643, "link": "https://stackoverflow.com/questions/54437643/ionic4-angular7-ngx-translate-pipe-not-found", "title": "Ionic4 Angular7 ngx-translate pipe not found", "body": "<p>I'm noob with this module.</p>\n\n<p>I start New ionic project blank and I follow some tutorial.</p>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { NgModule} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\n\n// import ngx-translate and the http loader\nimport {TranslateLoader, TranslateModule, TranslatePipe} from '@ngx-translate/core';\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\nimport {HttpClient, HttpClientModule} from '@angular/common/http';\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [\n    BrowserModule, \n    IonicModule.forRoot(),\n    AppRoutingModule,\n       // configure the imports\n       HttpClientModule,\n       TranslateModule.forRoot({\n           loader: {\n               provide: TranslateLoader,\n               useFactory: HttpLoaderFactory,\n               deps: [HttpClient]\n           }\n          },)\n    ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  bootstrap: [AppComponent ]\n})\nexport class AppModule {}\n// required for AOT compilation\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http);\n}\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html'\n})\nexport class AppComponent {\n  constructor(\n    private platform: Platform,\n    private splashScreen: SplashScreen,\n    private statusBar: StatusBar,\n    private translate: TranslateService\n  ) {\n    translate.setDefaultLang('en');\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() =&gt; {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n}\n</code></pre>\n\n<p><strong>the en.json</strong></p>\n\n<pre><code>    {\n        \"welcometitle\": \"Welcome :)\",\n        \"welcomejbaya\": \"Just be as you are !\",\n        \"login\": \"Login\",\n        \"password\": \"Password\",\n        \"connect\": \"connect\"\n      }\n</code></pre>\n\n<p><strong>the home.page.html</strong></p>\n\n<pre><code>&lt;ion-header&gt;\n  &lt;ion-toolbar&gt;\n    &lt;ion-title&gt;\n      Ionic Blank\n    &lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content padding&gt;\n  The world is your oyster.\n  {{'welcometitle' | translate }}\n  &lt;p&gt;If you get lost, the &lt;a target=\"_blank\" rel=\"noopener\" href=\"https://ionicframework.com/docs/\"&gt;docs&lt;/a&gt; will be your guide.&lt;/p&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>I got the error pipe translate not found.</p>\n\n<p>Can you explain me slowly (I'm a beginner ^^) why it doesn't work ? ^^</p>\n\n<p>It's searching correctly the en.json but not translate, i tried </p>\n\n<pre><code>&lt;p translate&gt;id&lt;/p&gt;\n&lt;p [translate]=\"'id'\"&gt;&lt;/p&gt;\n {{ 'id' | translate }}\n</code></pre>\n\n<p>Thank you all ^^</p>\n"}, {"tags": ["typescript", "node-modules"], "answers": [{"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": false, "score": 0, "last_activity_date": 1548843076, "creation_date": 1548843076, "answer_id": 54438031, "question_id": 54437614, "link": "https://stackoverflow.com/questions/54437614/how-to-generate-submodules-in-a-typescript-library-project/54438031#54438031", "title": "How to generate submodules in a Typescript library project?", "body": "<p>I generally suggest avoiding deep linking.</p>\n\n<p>When user depends on your internal folder structure, any folder change would be a breaking change to the user. It makes your library unnecessarily rigid.</p>\n\n<p>If you manually manage the redirects:</p>\n\n<pre><code>// &lt;project-root&gt;/alarm/actions.js`\nexport * from '../dist/alarm/actions'\n</code></pre>\n\n<p>That might be ok because you still have reasonable control and freedom to do your things. But it is a manual step.</p>\n\n<p>If you really want to make <code>tsc</code> to do it automatically for you, you can set <code>outDir: \"..\"</code> and have it dump all your js files to the root of your project.</p>\n\n<p>But I think you won't be happy to see your project becomes a dumping ground.</p>\n"}], "owner": {"reputation": 2223, "user_id": 5892720, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fHIiK.jpg?s=128&g=1", "display_name": "raven", "link": "https://stackoverflow.com/users/5892720/raven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1548843076, "creation_date": 1548841775, "question_id": 54437614, "link": "https://stackoverflow.com/questions/54437614/how-to-generate-submodules-in-a-typescript-library-project", "title": "How to generate submodules in a Typescript library project?", "body": "<p>I'm building a library project named <strong><em>br-store</em></strong> that I use in other projects with imports declarations like this one: </p>\n\n<pre><code>import { getAlarms } from \"br-store\"\n</code></pre>\n\n<p>In this case <code>getAlarms</code> is a exported function which is inside <code>src/store/alarm/actions</code>.</p>\n\n<p>What I want to achieve now is to transpile my library so I'm able to use it anywhere else in such a way as this:</p>\n\n<pre><code>import { getAlarms } from \"br-store/alarm/actions\"\n</code></pre>\n\n<p>My project has the following folder structure:</p>\n\n<pre><code>./src/store/\n\u251c\u2500\u2500 alarm\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 alarm-actions.ts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 alarm-constants.ts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 alarm-reducer.ts\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.ts\n|__ index.ts\n...... \n</code></pre>\n\n<p><strong>tsconfig.json</strong>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    /* Basic Options */\n    \"moduleResolution\": \"node\",\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"sourceMap\": true,\n    \"outDir\": \"./bin\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"noImplicitAny\": false,\n    \"declaration\": true\n  },\n  \"include\": [\n    \"src/**/*\",\n  ],\n  \"exclude\": [\n    \"spec/*\",\n    \"tests/*\",\n    \"integration/\",\n    \"node_modules/\"\n  ]\n}\n</code></pre>\n\n<p><strong>./src/store/index.ts:</strong> </p>\n\n<pre><code>export * from './alarm'\n.....\n</code></pre>\n\n<p><strong>/src/store/alarm/index.ts</strong></p>\n\n<pre><code>export * from './alarm-actions'\nexport * from './alarm-reducer'\n</code></pre>\n"}, {"tags": ["angular", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1548843675, "post_id": 54437606, "comment_id": 95685796, "body": "you should only use a <code>page-router-outlet</code> in the app.component.html file as the top most level tag, everywhere else you need to use <code>router-outlet</code>&#39;s"}, {"owner": {"reputation": 81, "user_id": 7770462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a79628941ffadbdae6d2b8fa506e7fac?s=128&d=identicon&r=PG&f=1", "display_name": "Akrime", "link": "https://stackoverflow.com/users/7770462/akrime"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1548844800, "post_id": 54437606, "comment_id": 95686472, "body": "So I should replace the <code>page-router-outlet</code> with <code>router-outlet</code> in app.component.html inside one <code>page-router-outlet</code> tag?"}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1548844958, "post_id": 54437606, "comment_id": 95686548, "body": "no, your app.component.html file should just be <code>&lt;page-router-outlet&gt;&lt;&#47;page-router-outlet&gt;</code>, then you need a page with your current app.component.html code in"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 1, "creation_date": 1548851055, "post_id": 54437606, "comment_id": 95690244, "body": "@mast3rd3mon @Akrime You may use any number of page-router-outlet in your application, where ever you want, that was the whole purpose of introducing multi frame support in {N} v4. But when you have multiple <code>page-router-outlets</code> active at one level, you must pass url segments for all outlets. You must select an outlet for <code>addPost</code> / <code>AddPostComponent</code> as there are multiple, if you are planning to open it as a detail page within home tab then it should be a child route inside <code>home</code> route. Refer the <a href=\"https://github.com/NativeScript/login-tab-navigation-ng\" rel=\"nofollow noreferrer\">Github examples</a> for more details."}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1548851201, "post_id": 54437606, "comment_id": 95690333, "body": "@Manoj you can use as many as you want, but you shouldnt. you should only use 1, and it should be in your app.component.html file. having more within that (child routing etc) typically causes obscure and irritating errors"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1548851545, "post_id": 54437606, "comment_id": 95690505, "body": "@mast3rd3mon You could check the TabView hello world example yourself Or even visit the link in my comment above where they have even more complex nested router setup."}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1548851775, "post_id": 54437606, "comment_id": 95690625, "body": "@Manoj and you should try nesting (not siblings) <code>page-router-outlets</code> and see for yourself the issues it causes. its because its not designed to work like that"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1548852140, "post_id": 54437606, "comment_id": 95690815, "body": "I&#39;m already using nested <code>page-router-outlets</code>, at least I didn&#39;t find any issues in recent releases but I had issues in older versions ({N} Angular 6.x). Haven&#39;t had a chance to try siblings though for myself."}, {"owner": {"reputation": 93, "user_id": 5940387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0798c23d211241714cc198b775e397db?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil", "link": "https://stackoverflow.com/users/5940387/kamil"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1607464905, "post_id": 54437606, "comment_id": 115280415, "body": "@mast3rd3mon, do you have working exmple of router-outlets inside page-router-outlet? This is what I&#39;m currently looking for. In my project it causes issue with back navigation."}], "owner": {"reputation": 81, "user_id": 7770462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a79628941ffadbdae6d2b8fa506e7fac?s=128&d=identicon&r=PG&f=1", "display_name": "Akrime", "link": "https://stackoverflow.com/users/7770462/akrime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1541, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548841743, "creation_date": 1548841743, "question_id": 54437606, "link": "https://stackoverflow.com/questions/54437606/navigate-between-components-inside-page-router-outlet", "title": "Navigate between components inside &lt;page-router-outlet&gt;", "body": "<p>How do I navigate between components inside the <code>&lt;pager-router-outlet&gt;</code> tag? I'm new to Nativescript.</p>\n\n<p>I have a nativescript (with Angular 2) application. It contains a navbar (tabview) which uses <code>&lt;page-router-outlet&gt;</code> for every tab item (file: app.component.html).</p>\n\n<p>Inside the home tab, I have a feed of userposts. There is a flying action button which should navigate to another component, where you can add a userpost. I want to have a function in the ts file which navigates to the other component.</p>\n\n<p>app.component.html (Navbar)</p>\n\n<pre><code>&lt;TabView \n    androidTabsPosition=\"bottom\"\n    tabBackgroundColor=\"white\"\n    class=\"font-awesome icon\"&gt;\n\n    &lt;page-router-outlet\n        *tabItem=\"{title: '&amp;#xf015;'}\"\n        name=\"homeTab\"&gt;\n    &lt;/page-router-outlet&gt;\n\n    &lt;page-router-outlet\n        *tabItem=\"{title: '&amp;#xf002;'}\"\n        name=\"searchTab\"&gt;\n    &lt;/page-router-outlet&gt;\n\n    &lt;page-router-outlet\n        *tabItem=\"{title: '&amp;#xf19d;' }\"\n        name=\"educationTab\"&gt;\n    &lt;/page-router-outlet&gt;\n\n    &lt;page-router-outlet\n        *tabItem=\"{title: '&amp;#xf0f3;'}\"\n        name=\"notificationTab\"&gt;\n    &lt;/page-router-outlet&gt;\n\n    &lt;page-router-outlet\n        *tabItem=\"{title: '&amp;#xf007;'}\"\n        name=\"profileTab\"&gt;\n    &lt;/page-router-outlet&gt;\n\n&lt;/TabView&gt;\n</code></pre>\n\n<p>home.component.ts</p>\n\n<pre><code> import { Component, OnInit } from \"@angular/core\";\n import { ActivatedRoute } from \"@angular/router\";\n import { registerElement } from \"nativescript-angular/element-registry\";\n import { RouterExtensions } from \"nativescript-angular/router\";\n import { CardView } from \"nativescript-cardview\";\n import { isAndroid } from \"tns-core-modules/platform\";\n import { CourseService } from \"~/app/services/course/course.service\";\n import { EventService } from \"~/app/services/event/event.service\";\n import { PostService } from \"~/app/services/post/post.service\";\n\nregisterElement(\"CardView\", () =&gt; CardView);\nregisterElement(\"PullToRefresh\", () =&gt; require(\"nativescript-            pulltorefresh\").PullToRefresh);\n\n@Component({\n    selector: \"Home\",\n    moduleId: module.id,\n    providers: [PostService, CourseService, EventService],\n    templateUrl: \"./home.component.html\",\n    styleUrls: [ \"./home.css\", \"../../css/global.css\",     \"../../css/button.css\", \"../../css/card.css\" ]\n})\n\nexport class HomeComponent implements OnInit {\n    posts: Array&lt;any&gt;;\n\n    constructor(\n    private postService: PostService,\n    private courseService: CourseService,\n    private eventService: EventService,\n    private router: RouterExtensions,\n    private activeRoute: ActivatedRoute\n    ) {\n        // Code\n    }\n\n    ngOnInit(): void {\n        this.posts = this.postService.getPosts();\n    }\n\n    navigateToAddPost() {\n        this.router.navigate([\"addPost\"]); // this function doesnt work\n    }\n\n    refreshList(args) {\n        const pullRefresh = args.object;\n        // tslint:disable-next-line:only-arrow-functions\n        setTimeout(function() {\n           pullRefresh.refreshing = false;\n        }, 1000);\n    }\n}\n</code></pre>\n\n<p>addPost.component.ts</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { PostService } from \"~/app/services/post/post.service\";\n\n@Component({\n    selector: \"addPost\",\n    moduleId: module.id,\n    providers: [PostService],\n    templateUrl: \"./addPost.component.html\",\n    styleUrls: [\"../../../css/global.css\", \"../../../css/button.css\", \"../../../css/card.css\"]\n})\n\nexport class AddPostComponent implements OnInit {\n    constructor(\n        private postService: PostService\n    ) {\n        // Code\n    }\n    ngOnInit(): void {\n        // Code\n    }\n}\n</code></pre>\n\n<p>app-routing.module.ts</p>\n\n<pre><code>import { NgModule } from \"@angular/core\";\nimport { Routes } from \"@angular/router\";\nimport { NativeScriptRouterModule } from \"nativescript-angular/router\";\n\nimport { EducationComponent } from \"./pages/education/education.component\";\nimport { AddPostComponent } from \"./pages/home/addPost/addPost.component\";\nimport { HomeComponent } from \"./pages/home/home.component\";\nimport { ItemDetailComponent } from \"./pages/item-detail/item-detail.component\";\nimport { NotificationComponent } from \"./pages/notification/notification.component\";\nimport { ProfileComponent } from \"./pages/profile/profile.component\";\nimport { SearchComponent } from \"./pages/search/search.component\";\n\nexport const COMPONENTS = [\n    EducationComponent,\n    HomeComponent,\n    ItemDetailComponent,\n    SearchComponent,\n    NotificationComponent,\n    ProfileComponent,\n    AddPostComponent\n];\n\nconst routes: Routes = [\n    { path: \"\",\n    // tslint:disable-next-line:max-line-length\n      redirectTo:         \"/(homeTab:home//educationTab:education//searchTab:search//notificationTab:notification//profileTab:profile)\",\n  pathMatch: \"full\"\n    },\n\n    { path: \"home\", component: HomeComponent, outlet: \"homeTab\" },\n    { path: \"education\", component: EducationComponent, outlet: \"educationTab\" },\n    { path: \"search\", component: SearchComponent, outlet: \"searchTab\" },\n    { path: \"notification\", component: NotificationComponent, outlet: \"notificationTab\" },\n    { path: \"profile\", component: ProfileComponent, outlet: \"profileTab\" },\n\n    { path: \"addPost\", component: AddPostComponent},\n\n    { path: \"item/:id\", component: ItemDetailComponent, outlet: \"homeTab\" }\n];\n\n@NgModule({\n    imports: [NativeScriptRouterModule.forRoot(routes)],\n    exports: [NativeScriptRouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p>I want to have a function in home.component.ts that navigates to addPost.component</p>\n"}, {"tags": ["angular", "typescript", "angular-services", "angular7"], "comments": [{"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1548843223, "post_id": 54437586, "comment_id": 95685523, "body": "please check forked stackblitz solution <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-d23g6g\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 3733783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da9d5cf2fd6d76925a14b1ef6a95ff6?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh Makluri", "link": "https://stackoverflow.com/users/3733783/rakesh-makluri"}, "is_accepted": false, "score": 0, "last_activity_date": 1548842733, "last_edit_date": 1548842733, "creation_date": 1548841965, "answer_id": 54437683, "question_id": 54437586, "link": "https://stackoverflow.com/questions/54437586/how-to-route-to-another-component-with-the-particular-selected-data/54437683#54437683", "title": "How to route to another component with the particular selected data", "body": "<p>The only way is to share via a shared service using setters and getters or observables.</p>\n\n<ol>\n<li>Create a shared service</li>\n<li>On click of the card, set the data in the service</li>\n<li>On navigating to the router component, read it from shared service by getter or by subscribing to observable</li>\n</ol>\n\n<p>If it is only ID you can pass it using path param or query param. But you should restrict yourself from passing more params via URL.</p>\n\n<p>SharedService</p>\n\n<pre><code>export class SharedService {\n  public $cardDataSubject;\n\n  constructor() {\n    this.$cardDataSubject = new Subject();\n  }\n\n  setCardDetails(cardDetails) {\n    this.$cardDataSubject.next(cardDetails);\n  }\n}\n</code></pre>\n\n<p>And in child component you can subscribe </p>\n\n<pre><code>constructor(private sharedService: SharedServic) {\n    this.$cardDataSubject.subscribe(cardDetails =&gt; this.cardDetails = cardDetails);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 10980167, "user_type": "registered", "profile_image": "https://graph.facebook.com/2294321377290726/picture?type=large", "display_name": "Redjon Sulaj", "link": "https://stackoverflow.com/users/10980167/redjon-sulaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1548842904, "last_edit_date": 1548842904, "creation_date": 1548842193, "answer_id": 54437753, "question_id": 54437586, "link": "https://stackoverflow.com/questions/54437586/how-to-route-to-another-component-with-the-particular-selected-data/54437753#54437753", "title": "How to route to another component with the particular selected data", "body": "<p>This anwser has found a solution at this link: \n<a href=\"https://stackoverflow.com/questions/36835123/how-do-i-pass-data-to-angular-routed-components\">How do I pass data to Angular routed components?</a></p>\n\n<p>Top Solution: use 3rd approach by using a service.</p>\n"}, {"tags": [], "owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "is_accepted": true, "score": 1, "last_activity_date": 1548843185, "creation_date": 1548843185, "answer_id": 54438070, "question_id": 54437586, "link": "https://stackoverflow.com/questions/54437586/how-to-route-to-another-component-with-the-particular-selected-data/54438070#54438070", "title": "How to route to another component with the particular selected data", "body": "<p>You can achieve solution using shared service</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DataService {\n\n  selectedCard;\n  constructor() { }\n\n  public setSelectedCard(data) {\n    this.selectedCard = data;\n  }\n\n  public getSelectedCard() : any {\n    return this.selectedCard;\n  }\n\n}\n</code></pre>\n\n<p><strong>home.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService} from '../data.service'\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  contact\n  constructor(private dataService: DataService) { }\n\n  ngOnInit() {\n\n    this.contact = this.dataService.getSelectedCard();\n  }\n\n}\n</code></pre>\n\n<p><strong>list.component.ts</strong></p>\n\n<pre><code>export class ListComponent implements OnInit {\n  contacts = [];\n  constructor(private myService: ContactService, private router : Router, private dataService: DataService) {}\n\n   ngOnInit() {\n    this.myService.getContacts()\n      .subscribe((res :[]) =&gt; this.contacts = res);\n  }\n\n  onCardClick(index) {\n\n    this.dataService.setSelectedCard(this.contacts[index]);\n    this.router.navigate(['/home']);\n  }\n\n}\n</code></pre>\n\n<p><strong>list.component.html</strong> Call the onCardClick() with index </p>\n\n<pre><code>&lt;mat-card (click)=\"onCardClick(i)\" &gt;\n</code></pre>\n\n<p><strong>Here is <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-d23g6g?file=src%2Fapp%2Flist%2Flist.component.ts\" rel=\"nofollow noreferrer\">forked stackblitz solution</a></strong></p>\n"}], "owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "closed_date": 1553229144, "accepted_answer_id": 54438070, "answer_count": 3, "score": 0, "last_activity_date": 1548843185, "creation_date": 1548841681, "question_id": 54437586, "link": "https://stackoverflow.com/questions/54437586/how-to-route-to-another-component-with-the-particular-selected-data", "closed_reason": "Not suitable for this site", "title": "How to route to another component with the particular selected data", "body": "<p>When i click on a particular <strong>card</strong> it is <strong>routing</strong>  to another component but i want  along with the <strong>data</strong> of that particular card should also pass to the another component.\nHere is the stackblitz <strong><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-pbdutb?file=src/app/home/home.component.html\" rel=\"nofollow noreferrer\">DEMO</a></strong>.</p>\n"}, {"tags": ["html", "css", "typescript", "angular7"], "owner": {"reputation": 13, "user_id": 5903900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a3b07e1cf0b7fea32107a684c7314a?s=128&d=identicon&r=PG&f=1", "display_name": "tarek", "link": "https://stackoverflow.com/users/5903900/tarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548841506, "creation_date": 1548840913, "last_edit_date": 1548841196, "question_id": 54437335, "link": "https://stackoverflow.com/questions/54437335/how-to-fix-my-drop-down-to-make-it-disable-a-component-according-to-selection", "title": "How to fix my Drop Down to make it disable a component according to selection", "body": "<p>I am building an Angular application and using reactive forms. I am currently working with a form that handles multiple inputs and dropdowns, The problem is that i would like to disable the dropdown according to very specific requierments. </p>\n\n<p>I have tried using ngIf directives inside my template however, i couldn't make it work and it seems that the best approach is to do it programmatically.</p>\n\n<p>The problem is split into two:</p>\n\n<ul>\n<li><p>1- There are 2 dropdowns wrapped together and they represent \"hours\" and \"minutes\", the point is, if the user selects the maximum hour, the minutes should be disabled (which i have done already) by subcribing to value change.</p></li>\n<li><p>2- I am trying to find a way to do the same thing without repeating the same function i did for the hours.</p></li>\n</ul>\n\n<p>This is what i have so far (first working solution)</p>\n\n<p>this is in the add-edit-tank</p>\n\n<pre><code> onTimeChange() {\n    this.tankForm.get('hours').valueChanges.subscribe(selectedHour =&gt; {\n      if (selectedHour == '124') {\n        this.tankForm.get('minutesCounter').disable();\n      } else {\n        this.tankForm.get('minutesCounter').enable();\n      }\n    });\n  }\n</code></pre>\n\n<p>And the following is the code in my HTML.</p>\n\n<pre><code> &lt;div class=\"field\"&gt;\n            &lt;div class=\"control\"&gt;\n              &lt;label for=\"hours\" class=\"label\"\n                &gt;Select the hours and minutes&lt;/label\n              &gt;\n              &lt;div class=\"select is-test\"&gt;\n                &lt;select\n                  class=\"form-control\"\n                  id=\"hours\"\n                  formControlName=\"hours\"\n                  #hr\n                &gt;\n                  &lt;option value=\"\" disabled selected&gt;Select Hours&lt;/option&gt;\n                  &lt;option\n                    value\n                    *ngFor=\"let index of counter(32); let i = index\"\n                    [value]=\"i * 4\"\n                  &gt;\n                    {{ i }}\n                  &lt;/option&gt;\n                &lt;/select&gt;\n              &lt;/div&gt;\n              &lt;div class=\"dropdown is-hoverable\"&gt;\n                &lt;div class=\"select\"&gt;\n                  &lt;select formControlName=\"minutesCounter\" #min&gt;\n                    &lt;option value=\"\" disabled selected&gt;Select Minutes&lt;/option&gt;\n                    &lt;option\n                      *ngFor=\"let minute of minutesCounter\"\n                      [value]=\"minute.id\"\n                      &gt;{{ minute.minutes }}&lt;/option\n                    &gt;\n                  &lt;/select&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>The expected result is the following:</p>\n\n<ul>\n<li><strong>When the user selects 0 hours and 0 minutes, i would like to disable the hours drop down and remove (0) from the minute select drop down</strong>. </li>\n</ul>\n"}, {"tags": ["typescript", "firebase", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 10925501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636082eb57472d72a9175255edc6e3cb?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/10925501/mike"}, "edited": false, "score": 0, "creation_date": 1548844542, "post_id": 54437568, "comment_id": 95686338, "body": "thanks ashish, for the answer, I now figured out a way to filter the retrieved data (filtering at the time of snapshots) for my current situation it fits,but  your answer is very useful for a more complicated search involving, more parameters. Thanks once again :)"}], "tags": [], "owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "is_accepted": false, "score": 2, "last_activity_date": 1548842646, "last_edit_date": 1548842646, "creation_date": 1548841625, "answer_id": 54437568, "question_id": 54437271, "link": "https://stackoverflow.com/questions/54437271/how-to-filter-already-retrieved-data-from-firebase/54437568#54437568", "title": "how to filter already retrieved data from firebase?", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">Array.filter</a>. You can provide a function to filter which will evaluate and return only those elements which satisfy your condition.</p>\n\n<pre><code>var news_posts = this.all_posts.filter(post =&gt; post.type === 'news')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 10925501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636082eb57472d72a9175255edc6e3cb?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/10925501/mike"}, "edited": false, "score": 0, "creation_date": 1548844398, "post_id": 54437820, "comment_id": 95686265, "body": "thanks Mocas I figured out a way with array.filter method which I have answered below, but I think grouping the posts during the snapshot seems a better way, as you mentioned I don&#39;t have to filter again. thanks again :)"}], "tags": [], "owner": {"reputation": 972, "user_id": 2410199, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OgtO3.png?s=128&g=1", "display_name": "Mocas", "link": "https://stackoverflow.com/users/2410199/mocas"}, "is_accepted": true, "score": 2, "last_activity_date": 1548849704, "last_edit_date": 1548849704, "creation_date": 1548842444, "answer_id": 54437820, "question_id": 54437271, "link": "https://stackoverflow.com/questions/54437271/how-to-filter-already-retrieved-data-from-firebase/54437820#54437820", "title": "how to filter already retrieved data from firebase?", "body": "<p>Since you already looping through the snapshot, it might be better if you do the filtering in that loop rather than looping again through all_posts to get the news, and likely later to get blogs, which what the array.filter does in the background.</p>\n\n<pre><code>get_all_posts(){\n\nthis.news_posts = [];\nthis.blogs_posts = [];\nfirebase.database().ref('/posts/').once('value').then(snapshot =&gt; {\n\nforeach.snapshot{ \n let tmp_data = {\n        post_id: snapshot.key,\n        title: snapshot.val().title,\n        type: snapshot.val().type,\n         }  \n  if(tmp_data.type === 'news'\n  {\n    this.news_posts(tmp_data)\n  }\n  else\n  {\n    this.blogs_posts(tmp_data)\n  }\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 10925501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636082eb57472d72a9175255edc6e3cb?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/10925501/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1548844270, "creation_date": 1548844270, "answer_id": 54438438, "question_id": 54437271, "link": "https://stackoverflow.com/questions/54437271/how-to-filter-already-retrieved-data-from-firebase/54438438#54438438", "title": "how to filter already retrieved data from firebase?", "body": "<p>Thanks a lot @Ashish (for the Array.filter function, opened many ways of filtering data with this).\n@Mocas I will have more types of posts later,your method is also workable.</p>\n\n<p>I ended up doing this , one function that filters the post type  upon the button clicks, not sure if it's the best , but works as intended:</p>\n\n<p>I have assigned 3 arrays first:</p>\n\n<pre><code>rows = [];          //the row that contains displaying data on the view\nall_rows = [];      //the row that contains all the posts\nfiltered_rows = []; //the row that contains only filtered posts\n</code></pre>\n\n<p>The filter function:</p>\n\n<pre><code>filter_posts_by_type(type){\n\n    this.filtered_rows = this.all_rows; \n    //reset the filtered_rows with all data first\n\n    if(type == \"news\"){\n\n        this.rows = this.filtered_rows.filter((item) =&gt; {\n            return item.type.toLowerCase() == \"news\"; \n            //set this.rows to contain all posts of type : news\n        })\n\n    }else if(type == \"blog\"){ \n\n        this.rows = this.filtered_rows.filter((item) =&gt; {\n            return item.type.toLowerCase() == \"blog\"; \n           //set this.rows to contain all posts of type : blog\n\n        })\n    }else{\n        // all types\n        this.rows = this.filtered_rows.filter((item) =&gt; {\n            return item.type.toLowerCase() == \"news\" || item.type.toLowerCase() == \"blog\"; \n           //set this.rows to contain all posts types\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 10925501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636082eb57472d72a9175255edc6e3cb?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/10925501/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 54437820, "answer_count": 3, "score": 1, "last_activity_date": 1548849704, "creation_date": 1548840631, "question_id": 54437271, "link": "https://stackoverflow.com/questions/54437271/how-to-filter-already-retrieved-data-from-firebase", "title": "how to filter already retrieved data from firebase?", "body": "<p>I have a list of posts under the '/posts/' , I have retrieved all posts and store it in an array all_posts: </p>\n\n<pre><code>get_all_posts(){\n\n this.all_posts = [];\n firebase.database().ref('/posts/').once('value').then(snapshot =&gt; {\n\n foreach.snapshot{\n    let tmp_data = {\n        post_id: snapshot.key,\n        title: snapshot.val().title,\n        type: snapshot.val().type,\n        }   \n    this.all_posts.push(tmp_data);\n }\n\n}\n</code></pre>\n\n<p>Now I would like to filter the posts of type = \"news\" (there are 2 types: news and blogs)upon a button click</p>\n\n<pre><code>&lt;ion-button (click)=\"show_only_posts_type_news()\"&gt;show only news&lt;/ion-button&gt;\n\nshow_only_posts_types_news(){\n\n //this.posts\n // filter only type == \"news\"\n\n}\n</code></pre>\n\n<p>is there a easier way to filter all_posts ? without another firebase query to show only the news type?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3348385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c92c105974225362696446447cdad2?s=128&d=identicon&r=PG", "display_name": "psrebrny", "link": "https://stackoverflow.com/users/3348385/psrebrny"}, "edited": false, "score": 1, "creation_date": 1559723465, "post_id": 54450419, "comment_id": 99505638, "body": "its not exactly what I want, because i&#39;m during rewriting this application from thymelife (Java) framework so I have to wait to implent this when I will rewrite authentication, but this is correct answer"}], "tags": [], "owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "is_accepted": true, "score": 0, "last_activity_date": 1548886711, "creation_date": 1548886711, "answer_id": 54450419, "question_id": 54436973, "link": "https://stackoverflow.com/questions/54436973/how-to-prevent-multiple-calls-to-the-same-endpoint/54450419#54450419", "title": "How to prevent multiple calls to the same endpoint", "body": "<p>if I was in your shoes i would've tried to separate the <strong>fetching</strong> and <strong>visualizing</strong> logic in two, in other words a service with two methods:</p>\n\n<ul>\n<li><p>methodI For <strong>retrieving and saving</strong> the data on the client (in variable inside the service) from the back end </p></li>\n<li><p>methodII For getting the data (from the mentioned variable) in the components, that requires it</p></li>\n</ul>\n\n<p>After that i will subscribe to methodII wherever i need to visualize the desired data, will make a call to the server in the <strong>nearest common parent component</strong>.</p>\n\n<p>Take a look at this <strong>rxjs</strong> demo <a href=\"https://codesandbox.io/s/7o2zqq0701\" rel=\"nofollow noreferrer\">CodeSandbox</a>, i think it will help you to understand the thing that I'm talking about :)</p>\n\n<p>** Note: If you can afford it move to rxjs 5.5+ , because you will be able to use pipeable operators, which brings some benefits along , you can check this out on the topic: <a href=\"https://blog.hackages.io/rxjs-5-5-piping-all-the-things-9d469d1b3f44\" rel=\"nofollow noreferrer\">Pipeable operators article</a></p>\n\n<p>** Note2: If you are working on medium-sized or bigger project, check out ngrx, because with ngrx, all headaches related to server calls and UI state management, will disappear.</p>\n"}], "owner": {"reputation": 3, "user_id": 3348385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c92c105974225362696446447cdad2?s=128&d=identicon&r=PG", "display_name": "psrebrny", "link": "https://stackoverflow.com/users/3348385/psrebrny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 54450419, "answer_count": 1, "score": 0, "last_activity_date": 1548886711, "creation_date": 1548839597, "last_edit_date": 1548841031, "question_id": 54436973, "link": "https://stackoverflow.com/questions/54436973/how-to-prevent-multiple-calls-to-the-same-endpoint", "title": "How to prevent multiple calls to the same endpoint", "body": "<p>I'm calling method <code>loadParticipant</code> two times in two separated components, it's going almost in the same time, despite saving the Observable in the variable, api is called multiple times. This solution worked in AngularJs and Promises calls, but of course now I want use Observables :)</p>\n\n<p>I tried to add debouncetime and share parameters after map</p>\n\n<pre><code>return (this.loadParticipantObservable = this.sharedEndpoints.getParticipant().map((response) =&gt; {\n    this.loadParticipantObservable = null;\n    return (this.participant = response);\n})).share().debounceTime(1000);\n\n</code></pre>\n\n<p>actual code of loadParticipant method</p>\n\n<pre><code>public loadParticipant(): Observable&lt;DTO&lt;PersonModel&gt;&gt; {\n    if (this.participant) {\n        return new BehaviorSubject&lt;DTO&lt;PersonModel&gt;&gt;(this.participant);\n    }\n\n    if (this.loadParticipantObservable) {\n        return this.loadParticipantObservable;\n    }\n\n    return (this.loadParticipantObservable = \n        this.sharedEndpoints.getParticipant().map((response) =&gt; {\n            this.loadParticipantObservable = null;\n            return (this.participant = response);\n        }));\n    }\n</code></pre>\n\n<p>example How I call loadParticipant Method </p>\n\n<pre><code>this.sharedService.loadParticipant().subscribe((response: DTO&lt;PersonModel&gt;) =&gt; {\n            ...\n     });\n</code></pre>\n\n<p>In the meantime, the Observable isn't null, code is coming into this condition and executes </p>\n\n<pre><code> return this.loadParticipantObservable;\n</code></pre>\n\n<p>I checked it into debugger.</p>\n\n<p>This is return me only observable but unfortunately this code calls the code lower this return what calls real endpoint from backend</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "angular7"], "comments": [{"owner": {"reputation": 3535, "user_id": 3884264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDJFA.jpg?s=128&g=1", "display_name": "CornelC", "link": "https://stackoverflow.com/users/3884264/cornelc"}, "edited": false, "score": 0, "creation_date": 1548839011, "post_id": 54436752, "comment_id": 95682865, "body": "possibly because your price is a string and not a number"}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1548839092, "post_id": 54436752, "comment_id": 95682911, "body": "can you create the stackblitz?"}], "answers": [{"comments": [{"owner": {"reputation": 278, "user_id": 10940599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ec6923e5ee182c4c2ec43f0733b291?s=128&d=identicon&r=PG", "display_name": "N.Tasikj", "link": "https://stackoverflow.com/users/10940599/n-tasikj"}, "reply_to_user": {"reputation": 135, "user_id": 9274174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sREZb.jpg?s=128&g=1", "display_name": "bek", "link": "https://stackoverflow.com/users/9274174/bek"}, "edited": false, "score": 0, "creation_date": 1548840209, "post_id": 54436833, "comment_id": 95683658, "body": "create stackblitz please"}], "tags": [], "owner": {"reputation": 278, "user_id": 10940599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ec6923e5ee182c4c2ec43f0733b291?s=128&d=identicon&r=PG", "display_name": "N.Tasikj", "link": "https://stackoverflow.com/users/10940599/n-tasikj"}, "is_accepted": false, "score": 0, "last_activity_date": 1548840982, "last_edit_date": 1548840982, "creation_date": 1548839123, "answer_id": 54436833, "question_id": 54436752, "link": "https://stackoverflow.com/questions/54436752/is-valid-value-angular-7-form-field/54436833#54436833", "title": "Is valid value angular 7 form field", "body": "<p>You can use min validator to validate price, not to create whole function, use <code>Validators.min(1000)</code> and <code>Validators.max(99999...)</code> , to check for error just use <code>\n&lt;mat-error *ngIf=\"firstFormGroup.controls[price].valid\"&gt;{{ price_error }}&lt;/mat-error&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 0, "last_activity_date": 1548840962, "creation_date": 1548840962, "answer_id": 54437351, "question_id": 54436752, "link": "https://stackoverflow.com/questions/54436752/is-valid-value-angular-7-form-field/54437351#54437351", "title": "Is valid value angular 7 form field", "body": "<p>you need to state the minimum validator on your component by using <code>Validators.min()</code>. Also, it may be better to pass an initial value of null to your form controls. You may refer to the code below</p>\n\n<p>component.ts</p>\n\n<pre><code>this.firstFormGroup = this._formBuilder.group({\n    title: [\n      null,\n      [\n        Validators.required,\n        Validators.minLength(8),\n        Validators.maxLength(24),\n      ],\n    ],\n    person: [null, Validators.required],\n    money_type: [null, Validators.required],\n    price: [null, [Validators.required, Validators.min(1000)]],\n  });\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 9274174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sREZb.jpg?s=128&g=1", "display_name": "bek", "link": "https://stackoverflow.com/users/9274174/bek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 54437351, "answer_count": 2, "score": 0, "last_activity_date": 1548840982, "creation_date": 1548838841, "question_id": 54436752, "link": "https://stackoverflow.com/questions/54436752/is-valid-value-angular-7-form-field", "title": "Is valid value angular 7 form field", "body": "<p>I have created a function which checks if input value is valid or not.</p>\n\n<p>The function:</p>\n\n<pre><code>error_message = '';\n\nconstructor(private _formBuilder: FormBuilder) {}\n\nngOnInit() {\n  this.firstFormGroup = this._formBuilder.group({\n    title: [\n      '',\n      [\n        Validators.required,\n        Validators.minLength(8),\n        Validators.maxLength(24),\n      ],\n    ],\n    person: ['', Validators.required],\n    money_type: ['', Validators.required],\n    price: ['', Validators.required],\n  });\n  this.secondFormGroup = this._formBuilder.group({\n    secondCtrl: ['', Validators.required],\n  });\n}\n\nisValidPrice() {\n  if (!this.firstFormGroup.get('price').value) {\n    this.price_error = 'You must set a price';\n    return false;\n  } else if (this.firstFormGroup.get('price').value &lt; 1000) {\n    this.price_error = 'Minimum price is 1000';\n    return false;\n  }\n\n  return true;\n}\n</code></pre>\n\n<p>And the HTML code:</p>\n\n<pre><code>        &lt;mat-form-field\n          hintLabel=\"Set a price\"\n          class=\"information-form-field\"\n        &gt;\n          &lt;input\n            matInput\n            placeholder=\"Price\"\n            formControlName=\"price\"\n            type=\"number\"\n            required\n            max=\"9999999999\"\n            min=\"1000\"\n            #title\n          /&gt;\n          &lt;mat-error *ngIf=\"!isValidPrice()\"&gt;{{ price_error }}&lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>But there is a problem, whether I input any value, the function works and the error displays, but when I input a value less than 1000, the function doesn't work and I cannot understand why. Could you, please, help me to determine the problem and help to get a solution, or if you have more suitable decisions for this situation. Give some advises. Thank you!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1548840414, "post_id": 54436745, "comment_id": 95683782, "body": "Thanks for the answer. I like this approach much more, but I was doubt in it since I have heard many times that is not best practice."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1548846903, "post_id": 54436745, "comment_id": 95687813, "body": "I updated my answer. I added a generic method you can use to remove optional fields if needed, for example if you have to resend this objects to the backend."}, {"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1548848294, "post_id": 54436745, "comment_id": 95688605, "body": "Maybe we can also add one method for example &#39;getOriginalAPIObject&#39; to the every class extended with this kind of fields, which can return object without those optional parameter. In that case I do not need to send array of properties I want to escape, every class will take a care of its own optional parameters ?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1548851901, "post_id": 54436745, "comment_id": 95690690, "body": "Sounds reasonable, but then you have to map the already contained objects to the base object."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 3, "last_activity_date": 1548846817, "last_edit_date": 1548846817, "creation_date": 1548838820, "answer_id": 54436745, "question_id": 54436663, "link": "https://stackoverflow.com/questions/54436663/angular-extend-api-model-for-component-purpose/54436745#54436745", "title": "Angular extend API model for component purpose", "body": "<p>Just make those fields optional with the <code>?</code>-operator:</p>\n\n<pre><code>export class Person {\n  name: string;\n  surname: string;\n  address: string;\n\n  ui_active?: boolean;       \n  ui_fullName?: string; \n}\n</code></pre>\n\n<p>Thus, you can use them but you don't have to.</p>\n\n<p>EDIT:</p>\n\n<p>If you have to remove them somewhen use the following generic method:</p>\n\n<pre><code>private omitFields&lt;T&gt;(object: T, fields: Array&lt;string&gt;): T {\n    for (let field of fields) {\n        delete object[field];\n    }\n    return object;\n}\n</code></pre>\n\n<p>And use it, for example, like this:</p>\n\n<pre><code>this.omitFields(el, ['ui_active', 'ui_fullName']);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 8472001, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b0ddc1f3a6688819c975fbacb4247bc9?s=128&d=identicon&r=PG&f=1", "display_name": "Krist&#243;f Horv&#225;th", "link": "https://stackoverflow.com/users/8472001/krist%c3%b3f-horv%c3%a1th"}, "is_accepted": false, "score": 2, "last_activity_date": 1548838858, "creation_date": 1548838858, "answer_id": 54436757, "question_id": 54436663, "link": "https://stackoverflow.com/questions/54436663/angular-extend-api-model-for-component-purpose/54436757#54436757", "title": "Angular extend API model for component purpose", "body": "<p>I think codewise second option is right, but as far as I know there is nothing wrong with the first option, just make sure the new parameters can be null or ignored some way so you dont get errors if you dont set them where they are not needed.</p>\n"}], "owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 54436745, "answer_count": 2, "score": 1, "last_activity_date": 1548846817, "creation_date": 1548838542, "question_id": 54436663, "link": "https://stackoverflow.com/questions/54436663/angular-extend-api-model-for-component-purpose", "title": "Angular extend API model for component purpose", "body": "<p>I often have needs to extend my API model with parameters I use just in component view.</p>\n\n<p>For Example I have a model:</p>\n\n<pre><code>export class Person {\n  name: string;\n  surname: string;\n  address: string;\n}\n</code></pre>\n\n<p>It is something I get from API:</p>\n\n<pre><code>getPersons(): Observable&lt;Person[]&gt; {\n  return this.httpClient.get&lt;Person[]&gt;`${environment.API}/person`);\n}\n</code></pre>\n\n<p>When I get this in my component I often need to extend model with parameter/attribute I get in data processing after request or just simple 'active'/'select' parameter for UI visualization tracking.</p>\n\n<p>Which approach to use for this purpose. I know for 2 solutions:</p>\n\n<p>1) Add parameter to the class model even if that parameter do not participate in server response, just separate them from standard parameters:</p>\n\n<pre><code>export class Person {\n  name: string;\n  surname: string;\n  address: string;\n\n  ui_active: boolean;   // I know that those parameters are not from API        \n  ui_fullName: string;  // response but they are here to make my life easier\n}\n</code></pre>\n\n<p>2) Make another extend class with those parameters:</p>\n\n<pre><code>export class PersonExtended extends Person  {\n  ui_active: boolean;       \n  ui_fullName: string\n}\n</code></pre>\n\n<p>But this approach complicate thing since I have 2 models, and I need to switch between to them all the time.</p>\n\n<p>What is the best practice for this kind of situation ?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10988815, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X1OWgPO8Lps/AAAAAAAAAAI/AAAAAAAAERA/Pv0VADNAMvs/photo.jpg?sz=128", "display_name": "lcatania", "link": "https://stackoverflow.com/users/10988815/lcatania"}, "is_accepted": false, "score": 0, "last_activity_date": 1548843026, "creation_date": 1548843026, "answer_id": 54438011, "question_id": 54436538, "link": "https://stackoverflow.com/questions/54436538/compiling-angular2-project-in-production-changes-code-outcome/54438011#54438011", "title": "Compiling angular2 project in production changes code outcome", "body": "<p>Solved. I got an hint to change this line  <code>if (lastDate == '' || d.date != lastDate)</code> to this one <code>if (!lastDate || !lastDate.isSame(moment(d.date,'YYYY-MM-DD HH:mm:SS')))</code> and now it works. It doesnt explain why it worked without production flag but it works.</p>\n"}], "owner": {"reputation": 1, "user_id": 10988815, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X1OWgPO8Lps/AAAAAAAAAAI/AAAAAAAAERA/Pv0VADNAMvs/photo.jpg?sz=128", "display_name": "lcatania", "link": "https://stackoverflow.com/users/10988815/lcatania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548843026, "creation_date": 1548838145, "last_edit_date": 1548839893, "question_id": 54436538, "link": "https://stackoverflow.com/questions/54436538/compiling-angular2-project-in-production-changes-code-outcome", "title": "Compiling angular2 project in production changes code outcome", "body": "<p>I deployed an angular2 project yesterday and stumbled upon a weird behavior.</p>\n\n<p>When I compile the project in production mode the result of a function changes( compared to dev).</p>\n\n<p>I checked the data coming from the api and its the same.</p>\n\n<p>Is the uglyfier or something else messing up my code? Or could someone explain me what exactly happens when I add \"<code>--prod</code>\" to the \"<code>ng build</code>\" command? </p>\n\n<p>Function: </p>\n\n<pre><code>generateData(data: Call[]): void {\n    let result: CallHelper[] = [];\n    let counter: number = 0;\n\n    this.timeSeries = ['x'];\n    this.chartData = ['Calls'];\n\n    data.forEach((c) =&gt; {\n        result.push({ date: c.start_date, value: 1 } as CallHelper);\n        result.push({ date: c.end_date, value: -1 } as CallHelper);\n    });\n    result = result.sort((a, b) =&gt; {\n        return moment(a.date, 'YYYY-MM-DD HH:mm:ss').diff(moment(b.date, 'YYYY-MM-DD HH:mm:ss'));\n    });\n    let lastDate: string = \"\";\n    result.forEach((d) =&gt; {\n        counter = counter + d.value;\n        if (lastDate == '' || d.date != lastDate) {\n            this.chartData.push(counter);\n            this.timeSeries.push(moment(d.date, 'YYYY-MM-DD HH:mm:SS').format('YYYY-MM-DDTHH:mm:SS'))\n        }\n        else {\n            this.chartData[this.chartData.length - 1] = this.chartData[this.chartData.length - 1] + d.value;\n        }\n\n        lastDate = d.date;\n    })\n    console.log(this.timeSeries);\n    console.log(this.chartData);\n}\n</code></pre>\n\n<p>Output comparison: </p>\n\n<p><img src=\"https://i.stack.imgur.com/hBqjU.png\" alt=\"Result Array\"></p>\n\n<p>Sample input data from the api:</p>\n\n<pre><code>[\n {\n  \"id\":751000375,\n  \"start_date\":\"2019-01-19 08:05:42.0\",\n  \"end_date\":\"2019-01-19 08:08:54.0\",\n  \"wait_seconds\":28,\n  \"connect_seconds\":164,\n  \"afterwork_seconds\":56,\n  \"total_seconds\":220,\n  \"incoming_number\":\"*********\",\n  \"connected\":true,\n  \"in_advanced_time\":false\n },\n {\n  \"id\":751000391,\n  \"start_date\":\"2019-01-19 08:16:59.0\",\n  \"end_date\":\"2019-01-19 08:17:28.0\",\n  \"wait_seconds\":5,\n  \"connect_seconds\":24,\n  \"afterwork_seconds\":116,\n  \"total_seconds\":140,\n  \"incoming_number\":\"*******\",\n  \"connected\":true,\n  \"in_advanced_time\":false\n }\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-services"], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1548841315, "post_id": 54436870, "comment_id": 95684311, "body": "Getting this error: <b>&quot;message&quot;:&quot;Http failure response for https://............../api/branches//contacts: 400 OK&quot;,&quot;error&quot;:{&quot;id&quot;:[&quot;The value &#39;contacts&#39; is not valid.&quot;]}}</b>"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1548842837, "post_id": 54436870, "comment_id": 95685264, "body": "In the <code>debugger</code> i saw i am getting the clicked <code>branch id</code> upto <code>services</code> file but i  am unable to get that idt in <code>contacts</code> component."}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1548843627, "post_id": 54436870, "comment_id": 95685765, "body": "i think your BACK END ANEDPOINT URL is bad configured .. can you post it?"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1548844026, "post_id": 54436870, "comment_id": 95686005, "body": "URL is fine i can see the all values in <b>POSTMAN</b>, The clicked <code>branch id</code> from the list is coming upto <code>services</code> file but not to the <code>contacts</code> component, I am missing something."}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1548844312, "post_id": 54436870, "comment_id": 95686191, "body": "but sorry you contact compoent is in OTHER component where is located the mat-option ???"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1548844773, "post_id": 54436870, "comment_id": 95686460, "body": "<code>mat-option</code> is located in an component calle <code>navbar</code>. From clicking the dropdown from <code>navbar</code> i am injecting the branch id to the function <code>getContactList</code> in <code>services</code> file. Then i am calling  the function <code>getContactList</code>  in <code>contacts</code> component"}], "tags": [], "owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "is_accepted": false, "score": 2, "last_activity_date": 1548839255, "creation_date": 1548839255, "answer_id": 54436870, "question_id": 54436378, "link": "https://stackoverflow.com/questions/54436378/to-get-api-data-based-on-the-id/54436870#54436870", "title": "To get api data based on the id", "body": "<p>try somehting like this:</p>\n\n<p>put (onSelectionChange) event on your mat option</p>\n\n<pre><code>&lt;mat-form-field&gt;\n  &lt;mat-select placeholder=\"Select Branch\"&gt;\n    &lt;mat-option *ngFor=\"let branch of branches\" [value]=\"branch.id\"  (onSelectionChange)=\"selected($event, branch.id)\"&gt;\n      {{branch.name}}\n    &lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>then in your component ts:</p>\n\n<pre><code>async selected(event: MatOptionSelectionChange, id: string) {\n    if (event.source.selected &amp;&amp; id) {\n      console.log(id);\n      this.result= await this._productService.getContactList(id);\n    }\n  }\n</code></pre>\n\n<p>and in your service.ts</p>\n\n<pre><code>  public async getContactList(businessId : string): Promise&lt;IContact[]&gt;{\n       const apiUrl: string = `${this.baseUrl}branches/${businessId}/contacts`;&lt;=======\n            return this.http.get&lt;IContact[]&gt;(apiUrl).toPromise();\n     }\n</code></pre>\n\n<p>Hope this help you!!</p>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1548908134, "creation_date": 1548837569, "last_edit_date": 1548908134, "question_id": 54436378, "link": "https://stackoverflow.com/questions/54436378/to-get-api-data-based-on-the-id", "title": "To get api data based on the id", "body": "<p><strong>Scenario:</strong></p>\n\n<p>I have an api :</p>\n\n<p><code>https://................../api/branches</code></p>\n\n<p>As in the api <code>/branches</code> means the api as multiple <code>branches</code> with unique <code>ID</code> .Each <code>branch</code> will have it's own <code>contacts</code>.</p>\n\n<p>Now i am calling one particular branch <code>contacts</code> <strong>by mentioning the particular branch ID(i,e 8f00752-cdc6)</strong> like this:</p>\n\n<p><strong>customers.services.ts file</strong></p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { IBranch, IContact } from 'src/app/models/app.models';\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class CustomersService {\n private  baseUrl : string = 'https://................../api/';\n constructor(private http: HttpClient) {\n  }\n\n public getBranchesInfo(branchId : string): Promise&lt;IBranch&gt; {\n  const apiUrl: string = 'https://................../api/branches/';\n  return this.http.get&lt;IBranch&gt;(apiUrl + branchId).toPromise();\n }\n\n  public async getContactList(branchId: string): Promise&lt;IContact[]&gt; &lt;=======\n  {\n    const apiUrl: string = `${this.baseUrl}branches/${'8f00752-cdc6'}/contacts`;\n    return this.http.get&lt;IContact[]&gt;(apiUrl).toPromise();\n  }\n\n}\n</code></pre>\n\n<p>And to disaply the <strong>contacts</strong> i am calling <strong>getContactList</strong> method in another component called <code>contacts</code> like this:</p>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport {  IContact } from 'src/app/models/app.models';\nimport { CustomersService } from 'src/app/services/customers.service';\n@Component({\n  selector: 'asw-contacts',\n  templateUrl: './contacts.component.html',\n  styleUrls: ['./contacts.component.css'],\n})\nexport class ContactsComponent  {\n  public contacts: IContact[];\n\n  constructor(public customersService: CustomersService) {} \n\n  public async ngOnInit(): Promise&lt;void&gt; {\n    this.contacts = await this.customersService.getContactList('');\n    console.log(this.contacts);\n  }\n\n\n}\n</code></pre>\n\n<p>Here i can <strong>log</strong> and see the <strong>contacts</strong> of that mentioned <strong>branch(i,e 8f00752-cdc6)</strong></p>\n\n<blockquote>\n  <p><strong>Requirement:</strong> Instead of hard coding <strong>branch ID(i,e 8f00752-cdc6)</strong> in <strong>customers.services.ts file</strong> and getting only that mentioned branch(i,e 8f00752-cdc6) <strong>contacts</strong>, I want get <code>contacts</code> of <code>branch</code> based on <strong>which branch i selected from the dropdown</strong></p>\n</blockquote>\n\n<p>For this i have another component called <strong>branch</strong> where i am calling all the <code>branches</code> and displaying in the <strong>dropdown</strong> like this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/YnrSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YnrSC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>branch</strong> component code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-form-field&gt;\n  &lt;mat-select placeholder=\"Select Branch\"&gt;\n    &lt;mat-option *ngFor=\"let branch of branches\" [value]=\"branch.id\"&gt;\n      {{branch.name}}\n    &lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { CustomersService } from 'src/app/services/customers.service';\nimport { IBranch } from 'src/app/models/app.models';\n\n@Component({\n  selector: 'asw-branch',\n  templateUrl: './branch.component.html',\n  styleUrls: ['./branch.component.css']\n})\nexport class BranchComponent implements OnInit {\n public branches: IBranch[];\n\n  constructor(public customersService: CustomersService) {} \n\n public async ngOnInit(): Promise&lt;void&gt; {\n    this.branches = await this.customersService.getBranchesInfo('');\n  }\n\n}\n</code></pre>\n\n<p>How can i pass the <strong>branch id</strong> after selecting from the <code>dropdown</code> present in <strong>branch</strong> component to the method i,e:</p>\n\n<pre><code>public async getContactList(branchId: string): Promise&lt;IContact[]&gt;{\n   const apiUrl: string = `${this.baseUrl}branches/${'id'}/contacts`;&lt;=======\n        return this.http.get&lt;IContact[]&gt;(apiUrl).toPromise();\n }\n</code></pre>\n\n<p>in <code>customers-services.ts</code> file?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "routing"], "comments": [{"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1548839471, "post_id": 54436079, "comment_id": 95683152, "body": "if you are trying to reload  the page use <code>location.reload(true);</code> instead"}, {"owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "reply_to_user": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1548840015, "post_id": 54436079, "comment_id": 95683520, "body": "I prefer not to reload the entire app, thanks!"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 1, "creation_date": 1548841426, "post_id": 54436079, "comment_id": 95684383, "body": "may be this article will come handy : <a href=\"https://stackoverflow.com/questions/40983055/how-to-reload-the-current-route-with-the-angular-2-router\" title=\"how to reload the current route with the angular 2 router\">stackoverflow.com/questions/40983055/&hellip;</a>"}], "owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548837252, "creation_date": 1548836544, "last_edit_date": 1548837252, "question_id": 54436079, "link": "https://stackoverflow.com/questions/54436079/angular-routing-trying-to-refresh-the-same-route-does-not-work-when-it-is-the-d", "title": "Angular routing- trying to refresh the same route does not work when it is the default path of the app", "body": "<p>I need to reload the current route.\nI read many posts and the solution below works for me when I am reloading routes that are not defined as the default route of the app-</p>\n\n<pre><code>    this.router.navigateByUrl('/', {skipLocationChange: true}).then(() =&gt;\n        this.router.navigate([XXXX])\n    );\n</code></pre>\n\n<p>But for the default route this does not work for some reason, any ideas why?</p>\n\n<p>My app-routing.module (output is my default route, and it is by lazy loading).</p>\n\n<pre><code>const appRoutes: Routes = [\n    {\n        path: 'login',\n        component: LoginComponent\n    },\n    {\n        path: 'loginError',\n        component: LoginErrorComponent\n    },\n    { path: 'settings',\n        loadChildren: './settings/settings.module#SettingsModule',\n        canActivate: [AuthGuard],\n    },\n    { path: 'output',\n        loadChildren: './researcher-output-list-standalone/researcher-output-list-standalone.module#ResearcherOutputListStandaloneModule',\n        canActivate: [AuthGuard],\n    },\n    { path: '',\n        redirectTo: 'output',\n        pathMatch: 'full',\n        canActivate: [AuthGuard],\n    },\n    { path: '**',\n        redirectTo: 'output',\n        canActivate: [AuthGuard],\n    },\n];\n</code></pre>\n"}]