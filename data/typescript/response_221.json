[{"tags": ["typescript", "google-cloud-firestore", "ionic4"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 2, "creation_date": 1554336048, "post_id": 55505954, "comment_id": 97717723, "body": "<code>delete(alarm)</code> here is most likely confused with JS <code>delete</code> operator"}, {"owner": {"reputation": 108, "user_id": 4931332, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1020738877943831/picture?type=large", "display_name": "Fuyu KuKie", "link": "https://stackoverflow.com/users/4931332/fuyu-kukie"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1554348369, "post_id": 55505954, "comment_id": 97720261, "body": "I tried changing <code>delete(alarm)</code> to <code>deletes(alarm)</code> and <code>delThis(alarm)</code> still no luck ty anyway @zerkms"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1554389098, "post_id": 55505954, "comment_id": 97742274, "body": "This doesn&#39;t seem to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so it&#39;s hard for others to test easily.  Maybe your problem is that you are trying to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a> but you are using single quotes <code>&#39;</code> instead of the required backquotes <code>`</code>  ."}, {"owner": {"reputation": 108, "user_id": 4931332, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1020738877943831/picture?type=large", "display_name": "Fuyu KuKie", "link": "https://stackoverflow.com/users/4931332/fuyu-kukie"}, "edited": false, "score": 0, "creation_date": 1554391292, "post_id": 55505954, "comment_id": 97743789, "body": "concerning the backquote i already tried using it... sadly it wasn&#39;t the problem, are there other files you suggest i should include?"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 6075391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eff3a406f14a1ee6a7a20975b80651ff?s=128&d=identicon&r=PG&f=1", "display_name": "deanz", "link": "https://stackoverflow.com/users/6075391/deanz"}, "is_accepted": true, "score": 1, "last_activity_date": 1554393557, "creation_date": 1554393557, "answer_id": 55520383, "question_id": 55505954, "link": "https://stackoverflow.com/questions/55505954/delete-function-does-not-take-parameter-value/55520383#55520383", "title": "Delete function does not take parameter value", "body": "<p>Can you try this </p>\n\n<pre><code>&lt;ion-button (click)=\"delete(alarm.id)\" color=\"light\"&gt;Delete&lt;/ion-button&gt;\n\ndelete(alarm){\n  this.db.doc('alarms/'+alarm).delete();\n  console.log(alarm);\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 108, "user_id": 4931332, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1020738877943831/picture?type=large", "display_name": "Fuyu KuKie", "link": "https://stackoverflow.com/users/4931332/fuyu-kukie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 55520383, "answer_count": 1, "score": 0, "last_activity_date": 1554393557, "creation_date": 1554335880, "question_id": 55505954, "link": "https://stackoverflow.com/questions/55505954/delete-function-does-not-take-parameter-value", "title": "Delete function does not take parameter value", "body": "<p>code provided could be compiled but the delete function does not work</p>\n\n<p>Using console.log('{alarm.id}'); the alarm.id does not display its value but string.\nhowever if i add quotes to the code like 'alarms/${' &amp; 'alarm.id' &amp; '}' it could not compile</p>\n\n<p>alarm.page.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ModalController } from '@ionic/angular';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AlarmAddPage } from './alarm-add/alarm-add.page';\n\n\n@Component({\n  selector: 'app-alarm',\n  templateUrl: './alarm.page.html',\n  styleUrls: ['./alarm.page.scss'],\n})\nexport class AlarmPage implements OnInit {\n\n  alarms = [];\n\n  constructor(private db: AngularFirestore,\n              private modalCtrl: ModalController,\n              public afAuth: AngularFireAuth,) { }\n\n\n  ngOnInit() {\n    this.alarms=[];\n    this.db.collection('alarms').stateChanges().subscribe(serverAlarms =&gt;{\n      serverAlarms.forEach(a=&gt;{\n        let alarm:any = a.payload.doc.data();\n        alarm.id = a.payload.doc.id;\n        this.alarms.push(alarm);\n      });\n\n    });\n\n\n  };\n\n\n\n  async add() {\n    const modal = await this.modalCtrl.create({\n      component: AlarmAddPage,\n      backdropDismiss: false,\n    });\n    return await modal.present();\n  }\n\n  delete(alarm){\n      this.db.doc('alarms/${alarm.id}').delete();\n      console.log('{alarm.id}');\n  }\n\n}\n</code></pre>\n\n<p>alarm.page.html</p>\n\n<pre><code>&lt;ion-header&gt;\n&lt;ion-toolbar color=\"dark\"&gt;\n      &lt;ion-buttons slot=\"start\"&gt;\n      &lt;ion-menu-button&gt;&lt;/ion-menu-button&gt;\n    &lt;/ion-buttons&gt;\n    &lt;ion-title&gt;\n      Alarms \n    &lt;/ion-title&gt;    \n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content padding&gt;\n    &lt;ion-list&gt;\n        &lt;ion-item *ngFor=\"let alarm of alarms\"&gt;\n      &lt;table&gt;&lt;tr&gt;&lt;th&gt;&lt;h2&gt;{{alarms.time}} &amp;nbsp;&amp;nbsp;&lt;/h2&gt;&lt;/th&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;{{alarm.id}}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;{{alarms.days}}&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n      &lt;ion-button (click)=\"delete(alarm)\" color=\"light\"&gt;Delete&lt;/ion-button&gt;\n    &lt;/ion-item&gt;\n    &lt;/ion-list&gt;\n  &lt;ion-col&gt;\n      &lt;div class=\"ion-text-center\"&gt;\n        &lt;ion-button (click)=\"add()\" color=\"light\"&gt;Add Alarms&lt;/ion-button&gt;\n      &lt;/div&gt;\n  &lt;/ion-col&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>I expect with your help the delete function would work. without disrupting the other code. and i hope you dont just come here to correct my english.\nfull code at <a href=\"https://github.com/iceraft/LimitRemoval\" rel=\"nofollow noreferrer\">https://github.com/iceraft/LimitRemoval</a>.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ag-grid"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 3633710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NExNA.jpg?s=128&g=1", "display_name": "bradleykins", "link": "https://stackoverflow.com/users/3633710/bradleykins"}, "edited": false, "score": 0, "creation_date": 1554369336, "post_id": 55506827, "comment_id": 97729236, "body": "I added a container=&quot;body&quot; to the code so that it will be appended to the body and display there, which is normal for overflow situations and is not seeming to be the issue?"}, {"owner": {"reputation": 669, "user_id": 1783157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nw7Ph.jpg?s=128&g=1", "display_name": "Dilani Alwis", "link": "https://stackoverflow.com/users/1783157/dilani-alwis"}, "reply_to_user": {"reputation": 67, "user_id": 3633710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NExNA.jpg?s=128&g=1", "display_name": "bradleykins", "link": "https://stackoverflow.com/users/3633710/bradleykins"}, "edited": false, "score": 1, "creation_date": 1554394245, "post_id": 55506827, "comment_id": 97745561, "body": "I added a sample code using a cell renderer component, Check whether it aligns with the behavior you expect"}, {"owner": {"reputation": 67, "user_id": 3633710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NExNA.jpg?s=128&g=1", "display_name": "bradleykins", "link": "https://stackoverflow.com/users/3633710/bradleykins"}, "edited": false, "score": 0, "creation_date": 1554407671, "post_id": 55506827, "comment_id": 97752076, "body": "Thanks for the example Dilani, i appreciate you taking the time :)"}, {"owner": {"reputation": 669, "user_id": 1783157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nw7Ph.jpg?s=128&g=1", "display_name": "Dilani Alwis", "link": "https://stackoverflow.com/users/1783157/dilani-alwis"}, "reply_to_user": {"reputation": 67, "user_id": 3633710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NExNA.jpg?s=128&g=1", "display_name": "bradleykins", "link": "https://stackoverflow.com/users/3633710/bradleykins"}, "edited": false, "score": 0, "creation_date": 1554429029, "post_id": 55506827, "comment_id": 97758296, "body": "Is it the expected behavior?"}], "tags": [], "owner": {"reputation": 669, "user_id": 1783157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nw7Ph.jpg?s=128&g=1", "display_name": "Dilani Alwis", "link": "https://stackoverflow.com/users/1783157/dilani-alwis"}, "is_accepted": false, "score": 0, "last_activity_date": 1554394479, "last_edit_date": 1554394479, "creation_date": 1554343588, "answer_id": 55506827, "question_id": 55505439, "link": "https://stackoverflow.com/questions/55505439/how-to-use-angular-ngbpopover-in-a-cellrenderer-for-an-ag-grid-cell/55506827#55506827", "title": "How to use Angular ngbPopover in a CellRenderer for an ag-grid cell", "body": "<p>ag-grid cell-renderer is rendering the given custom renderer component within the cell itself. So you will not be able to visualize it as a popover since it is getting rendered within the cell.</p>\n\n<p>Therefore what you can do is write a custom cell editor component and bind it to your cell, which will then display the information outside of the cell.</p>\n\n<p>Sample Code</p>\n\n<p><strong>grid.component.html</strong></p>\n\n<pre><code>&lt;ag-grid-angular #agGrid style=\"width: 100%; height: 500px;\" class=\"ag-theme-balham\" [gridOptions]=\"gridOptions\"\n  (gridReady)=\"onGridReady($event)\"&gt;\n&lt;/ag-grid-angular&gt;\n</code></pre>\n\n<p><strong>grid.component.ts</strong></p>\n\n<p>GridOptions and dummy data is set throught this.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { GridOptions } from 'ag-grid-community';\nimport { OptionsCellRendererComponent } from './options-cell-renderer/options-cell-renderer.component';\n\n@Component({\n  selector: 'app-grid',\n  templateUrl: './grid.component.html'\n})\nexport class GridComponent implements OnInit {\n  gridOptions: GridOptions;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.gridOptions = {\n    } as GridOptions;\n  }\n\n  onGridReady(params) {\n    this.setData();\n  }\n\n  setData() {\n    this.gridOptions.api.setColumnDefs(this.getColumnDefinitions());\n    this.gridOptions.api.setRowData(this.getData());\n  }\n\n  getColumnDefinitions(): any {\n    return [\n      {\n        field: 'option',\n        headerName: 'Option',\n        cellRendererFramework: OptionsCellRendererComponent\n      },\n      {\n        field: 'year',\n        headerName: 'Year'\n      },\n    ]\n  }\n\n  getData(): any {\n    return [\n      {\n        option: '1',\n        year: 1990\n      },\n      {\n        option: null,\n        year: 1991\n      }\n    ];\n  }\n\n}\n</code></pre>\n\n<p><strong>options-cell-renderer.component.html</strong></p>\n\n<p>Showcase the reject or approve icon based on option value</p>\n\n<pre><code>&lt;ng-template #approvePopup&gt;\n    This is a simple popover\n&lt;/ng-template&gt;\n\n&lt;img style=\"height: 20px; width:20px;\" *ngIf=\"!isValid()\" src=\"../../../assets/images/1.png\" [ngbPopover]=\"approvePopup\"\n    placement=\"auto\" triggers=\"mouseenter:mouseleave\" /&gt;\n&lt;img style=\"height: 20px; width:20px;\" *ngIf=\"isValid()\" src=\"../../../assets/images/2.png\" [ngbPopover]=\"approvePopup\"\n    placement=\"auto\" triggers=\"mouseenter:mouseleave\" /&gt;\n</code></pre>\n\n<p><strong>options-cell-renderer.component.ts</strong></p>\n\n<p>Check the validity of the option value</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { ICellRendererAngularComp } from 'ag-grid-angular';\n\n@Component({\n  selector: 'app-options-cell-renderer',\n  templateUrl: './options-cell-renderer.component.html',\n  styleUrls: ['./options-cell-renderer.component.css']\n})\nexport class OptionsCellRendererComponent implements ICellRendererAngularComp {\n  public params: any;\n  option: string;\n\n  agInit(params: any): void {\n    this.params = params;\n  }\n\n  isValid(): boolean {\n    return this.params.value !== undefined &amp;&amp; this.params.value !== null;\n  }\n\n\n  refresh(): boolean {\n    return false;\n  }\n\n  constructor() { }\n\n}\n</code></pre>\n\n<p>This is how it will look like</p>\n\n<p><a href=\"https://i.stack.imgur.com/2WXZ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2WXZ6.png\" alt=\"This is how it will look like\"></a></p>\n"}], "owner": {"reputation": 67, "user_id": 3633710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NExNA.jpg?s=128&g=1", "display_name": "bradleykins", "link": "https://stackoverflow.com/users/3633710/bradleykins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 661, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1554394479, "creation_date": 1554331634, "question_id": 55505439, "link": "https://stackoverflow.com/questions/55505439/how-to-use-angular-ngbpopover-in-a-cellrenderer-for-an-ag-grid-cell", "title": "How to use Angular ngbPopover in a CellRenderer for an ag-grid cell", "body": "<p>I have setup and got working a Angular Application which i decided to use ag-grid community as a key base component (displaying data from a back end API in tables and using fontawesome icons to make the data easy to read).</p>\n\n<p>I have everything looking fine, and have my stuff going ok, but when i try to apply a ngbPopover tooltip to a cellrenderer rendered icon (ticks and x's for a approved boolean value) with the name of the user who approved an action the icon is rendered but my popover is not.</p>\n\n<p>I have tried to troubleshoot it but cannot find any specific angular / TS based solutions - I also had a feeling that the renderer is rendering outside of the angular lifecycle and that the generated popover is not there because i miss the point at which it should be present to be caught and correctly handled.</p>\n\n<p>I previously did this with the previous version of angular and had it working but we didn't use ngbpopover there - but i want to here.</p>\n\n<p>Additionally i also have switched the tooltip to be on the cell with tooltipField but i really dont like the hit box on this and its not clear enough, i specifically want it on my image.</p>\n\n<pre><code>approvalCellRenderer(cell: any) {\n    const popover = `\n                      ngbPopover=\"Popover Working!\"\n                      triggers=\"mouseenter:mouseleave\"\n                      popoverTitle=\"Pop titleimg\"\n                      container=\"body\"\n                    `;\n    const tick = '&lt;i class=\"fa fa-check-circle\" style=\"color:green\" ' + popover + '&gt;&lt;/i&gt;';\n    const cross = '&lt;i class=\"fa fa-times-circle align-center\" style=\"color:red\"' + popover + '&gt;&lt;/i&gt;';\n\n    const start = '&lt;div class=\"\"&gt;';\n    const end = '&lt;/div&gt;';\n\n    let result = start + tick + end;\n\n    if (cell.value === null) {\n      result = start + cross + end;\n    }\n    return result;\n  }\n</code></pre>\n\n<p>Any advice on what i am doing wrong would be great.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "csv"], "comments": [{"owner": {"reputation": 6746, "user_id": 630614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d839f4ae809107700e1895cadd3591f5?s=128&d=identicon&r=PG", "display_name": "Charlie Schliesser", "link": "https://stackoverflow.com/users/630614/charlie-schliesser"}, "edited": false, "score": 0, "creation_date": 1554332866, "post_id": 55505419, "comment_id": 97717012, "body": "Can you pad your objects to include empty cells up to n (max) number of columns? That seems the most sane, to normalize your data before passing it in."}], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "is_accepted": true, "score": 2, "last_activity_date": 1554333343, "last_edit_date": 1554333343, "creation_date": 1554333039, "answer_id": 55505592, "question_id": 55505419, "link": "https://stackoverflow.com/questions/55505419/how-to-export-array-of-dynamic-json-objects-to-csv-in-angular/55505592#55505592", "title": "How to export array of dynamic JSON objects to CSV in Angular?", "body": "<p>Based on this issue (<a href=\"https://github.com/javiertelioz/angular2-csv/issues/27\" rel=\"nofollow noreferrer\">https://github.com/javiertelioz/angular2-csv/issues/27</a>) you might find inspiration for a more dynamic solution:</p>\n\n<p>The isolution for the issue has something like: </p>\n\n<pre><code>new Angular2Csv(this.data, 'myCsv', { headers: Object.keys(this.data[0]) });\n</code></pre>\n\n<p>Based on this :</p>\n\n<p>Create a set to contain unique headers:</p>\n\n<pre><code>let headerSet = new Set();\n</code></pre>\n\n<p>For every row in the response, get the keys of that line and add them to the set (pseudo-code)</p>\n\n<pre><code>for (r of/in response) {\n    headerSet.add(Object.keys(r));\n}\n</code></pre>\n\n<p>For the data part, you have to re-run the process and check for every line whether or not it has a certain key and if not you need to put and empty value or something you like with that missing key (it's tricky since all the values need to be inserted in the correct order, so a Set solution alone, might not be enough).</p>\n\n<p>When all possible headers/data are/is added:</p>\n\n<pre><code>new Angular2Csv(response, csvFileName, {headers: Array.from(headerSet});\n</code></pre>\n\n<p>The exact code needs to be  composed. I didnt check nor do I know what the data format is.</p>\n"}], "owner": {"reputation": 117, "user_id": 9254628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a75cdd30ed07c88ac8069a8038978c8?s=128&d=identicon&r=PG&f=1", "display_name": "caricature", "link": "https://stackoverflow.com/users/9254628/caricature"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 55505592, "answer_count": 1, "score": 3, "last_activity_date": 1554333343, "creation_date": 1554331520, "last_edit_date": 1554332569, "question_id": 55505419, "link": "https://stackoverflow.com/questions/55505419/how-to-export-array-of-dynamic-json-objects-to-csv-in-angular", "title": "How to export array of dynamic JSON objects to CSV in Angular?", "body": "<p>I am trying to export an array of JSON objects to CSV than can vary in the amount of key-value pairs (meaning some can have additional columns than the rest). I am currently able to export using Angular2CSV package but it only supports given all the columns are included.</p>\n\n<p>The code below shows my current implementation where service returns the data to be downloaded.</p>\n\n<pre><code>private exportTable(){\n        this.service.exportDataForDownload().then(response =&gt; {\n            let csvFileName = \"Results\";\n            new Angular2Csv(response, csvFileName, {headers: this.tableheaders});\n\n        });\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "api", "ionic-framework", "ngfor"], "comments": [{"owner": {"reputation": 727, "user_id": 7163585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78609b45a6fc7a33706e1e9b8c6fae29?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy Sanap", "link": "https://stackoverflow.com/users/7163585/sandy-sanap"}, "edited": false, "score": 1, "creation_date": 1554349955, "post_id": 55505414, "comment_id": 97720597, "body": "Please Check this <code>*ngIf=&quot;properties.properties.property?.length &gt; 0&quot;</code> before the loop"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554332987, "post_id": 55505477, "comment_id": 97717039, "body": "Hi thanks for your quick response. I tried that and get an error &quot;property properties of ForSalePage Identifier &#39;property&#39; is not defined. &#39;Array&#39; does not contain such a memberAngular&quot;"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554333189, "post_id": 55505477, "comment_id": 97717083, "body": "what does <code>response</code> give you?"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554333291, "post_id": 55505477, "comment_id": 97717101, "body": "if <code>console.log(response)</code> gives you the json that you shared then do <code>let property of properties.properties.property&quot;</code>"}, {"owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 1, "creation_date": 1554334040, "post_id": 55505477, "comment_id": 97717263, "body": "Ahh success!  <code>console.log(response)</code> does respond with the json.  Using <code>*ngFor=&quot;let property of properties.properties.property&quot;</code>  <code>&lt;ion-card-header&gt;{{ property.addressNumber }} {{ property.addressStreet }}&lt;&#47;ion-card-header&gt;</code>  This is working, and is showing expected results, however there is still an error &quot; Cannot read property &#39;property&#39; of undefined&quot;"}, {"owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554334512, "post_id": 55505477, "comment_id": 97717368, "body": "Cannot read property &#39;property&#39; of undefined&quot; Is in the console log (multiple times)  And in visual studio code, the error &quot;Identifier &#39;properties&#39; is not defined. &#39;Array&#39; does not contain such a member&quot; in the NgFor"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554334684, "post_id": 55505477, "comment_id": 97717410, "body": "okay change your variable <code>this.properties</code> to <code>this.responses</code> and change the ngfor to this <code>&lt;ion-list *ngFor=&quot;let ds of responses.properties.property&quot;&gt; &lt;ion-card-header&gt;{{ ds .addressNumber }}&lt;&#47;ion-card-header&gt;</code> please mark the answer as correct if it helped you, by clicking on the check mark next to it  thank you!"}, {"owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554335188, "post_id": 55505477, "comment_id": 97717524, "body": "Wouldn&#39;t <code>this.respopnse</code> be the same as <code>this.properties</code>?"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554353354, "post_id": 55505477, "comment_id": 97721426, "body": "Did you try it?"}, {"owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554358372, "post_id": 55505477, "comment_id": 97723195, "body": "I have added an edit to my op as some more testing revealed some strange things"}], "tags": [], "owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1554331974, "creation_date": 1554331974, "answer_id": 55505477, "question_id": 55505414, "link": "https://stackoverflow.com/questions/55505414/error-trying-to-diff-object-object-only-arrays-and-iterables-are-allowed-ngfo/55505477#55505477", "title": "Error trying to diff &#39;object Object&#39;. Only arrays and iterables are allowed NgFor", "body": "<p>From the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators#Iterables\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>An <code>object</code> is iterable if it defines its iteration behavior, such as what values are looped over in a for...of construct. Some built-in types, such as <code>Array</code> or <code>Map</code>, have a default iteration behavior, while other types (such as <code>Object</code>) do not.</p>\n</blockquote>\n\n<p>Change the ngFor to the following:</p>\n\n<pre><code>&lt;ion-list *ngFor=\"let property of properties.property\"&gt;\n</code></pre>\n\n<p>Then you will be able to iterate since it is an array.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "edited": false, "score": 0, "creation_date": 1554335288, "post_id": 55505703, "comment_id": 97717554, "body": "Hi, some suggested this, and this is working as inteded? I say intended? As now using string interpolation, the data is looping but in the console log i am receiving the error <code>&quot; Cannot read property &#39;property&#39; of undefined</code> and in visual studio code <code>Identifier &#39;properties&#39; is not defined. &#39;Array&#39; does not contain such a member</code>  This is the first time i have done this, but i can&#39;t help but feel like the interface array isn&#39;t working as intended?"}], "tags": [], "owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "is_accepted": false, "score": 0, "last_activity_date": 1554334503, "last_edit_date": 1554334503, "creation_date": 1554333932, "answer_id": 55505703, "question_id": 55505414, "link": "https://stackoverflow.com/questions/55505414/error-trying-to-diff-object-object-only-arrays-and-iterables-are-allowed-ngfo/55505703#55505703", "title": "Error trying to diff &#39;object Object&#39;. Only arrays and iterables are allowed NgFor", "body": "<p>According to me, the get call cannot correctly map your data to your properties defined in your Interface.  As the mapping is not correct is won't be a correct array that can be looped over.</p>\n\n<p>based on what you provided with all the variables, you need to loop over it via:</p>\n\n<pre><code>&lt;ion-list *ngFor=\"let property of properties.properties.property\"&gt;\n</code></pre>\n\n<p>properties as your result array, then properties as a property of the json + property as an actually array with data...\ndon't even know if this two identical identifiers are going to work</p>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 7163585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78609b45a6fc7a33706e1e9b8c6fae29?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy Sanap", "link": "https://stackoverflow.com/users/7163585/sandy-sanap"}, "is_accepted": false, "score": 1, "last_activity_date": 1554350708, "creation_date": 1554350708, "answer_id": 55507671, "question_id": 55505414, "link": "https://stackoverflow.com/questions/55505414/error-trying-to-diff-object-object-only-arrays-and-iterables-are-allowed-ngfo/55507671#55507671", "title": "Error trying to diff &#39;object Object&#39;. Only arrays and iterables are allowed NgFor", "body": "<p>You can try this</p>\n\n<p>Check <code>*ngIf=\"properties.properties.property?.length &gt; 0\"</code> condition before the loop so it will check whether array or object is empty or not.</p>\n\n<pre><code> &lt;ion-content *ngIf=\"properties.properties.property?.length &gt; 0\"&gt;\n      &lt;ion-list *ngFor=\"let property of properties.properties.property\"&gt;\n       &lt;ion-card&gt;\n\n        &lt;ion-card-header&gt;{{ property.addressNumber }}&lt;/ion-card-header&gt;\n        &lt;ion-card-content&gt;\n          &lt;p&gt;\n           &lt;ion-icon name=\"person\" color=\"primary\"&gt;&lt;/ion-icon&gt;\n          &lt;/p&gt;\n        &lt;/ion-card-content&gt;\n      &lt;/ion-card&gt;\n   &lt;/ion-list&gt;\n  &lt;/ion-content&gt;\n</code></pre>\n\n<p>so you will not get any error in console like  <code>Cannot read property 'property' of undefined</code></p>\n\n<p>I hope this will be useful.</p>\n"}], "owner": {"reputation": 75, "user_id": 11254452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S5F4v2BEO-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdi4KQeLPM4oWMpBbYSXW5LUm7ZYg/mo/photo.jpg?sz=128", "display_name": "Jonjo Jefferson", "link": "https://stackoverflow.com/users/11254452/jonjo-jefferson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3530, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1554358344, "creation_date": 1554331506, "last_edit_date": 1554358344, "question_id": 55505414, "link": "https://stackoverflow.com/questions/55505414/error-trying-to-diff-object-object-only-arrays-and-iterables-are-allowed-ngfo", "title": "Error trying to diff &#39;object Object&#39;. Only arrays and iterables are allowed NgFor", "body": "<p>I have a JSON file, with a list of for sale properties. I am trying to use *NgFor to loop through the data to create a list.</p>\n\n<p>Firstly I am still an amateur with angular and app development so there is a possibility I may have misinterpreted documentation etc</p>\n\n<p>I have tried looping through different paths</p>\n\n<pre><code>*NgFor=\"let post of posts.properties\"\n*NgFor=\"let post of posts.properties.property\"\n</code></pre>\n\n<p>and still getting various errors.</p>\n\n<p>My understanding, is I have to cast the observable to an array of properties. And then bind it to the html. (Which I believe I have done as properties is of type array?</p>\n\n<p>json</p>\n\n<pre><code>{\n    \"properties\": {\n        \"property\": [\n            {\n                \"propertyID\": \"101552000007\",\n                \"branchID\": \"1\",\n                \"clientName\": \"A Demo\",\n                \"branchName\": \"Brackley\",\n                \"department\": \"Sales\",\n                \"referenceNumber\": \"10006\",\n                \"addressName\": \"\",\n                \"addressNumber\": \"87\",\n                \"addressStreet\": \"Hackney Road\",\n</code></pre>\n\n<p>properties.interface.ts</p>\n\n<pre><code>export interface IProperties {\n    addressStreet: string;\n    addressNumber: number;\n}\n</code></pre>\n\n<p>For-sale.service.ts</p>\n\n<pre><code>import { IProperties } from './../properties.interface';\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ForSaleService {\n\n  constructor(private http: HttpClient) {\n\n  }\n\n\n  getProperties(): Observable&lt;IProperties[]&gt; {\n    return this.http.get&lt;IProperties[]&gt;('/assets/data/jupix.json');\n\n  }\n\n}\n</code></pre>\n\n<p>for-sale.page.ts</p>\n\n<pre><code>import { ForSaleService } from './for-sale.service';\nimport { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-for-sale',\n  templateUrl: './for-sale.page.html',\n  styleUrls: ['./for-sale.page.scss'],\n  providers: [ForSaleService]\n})\nexport class ForSalePage implements OnInit {\n\n  public properties = [];\n\n  constructor(private saleService: ForSaleService) { }\n\n  ngOnInit() {\n\n    this.onGetProperties();\n\n  }\n\n\n\n  onGetProperties() {\n    this.saleService.getProperties()\n      .subscribe(response =&gt; {\n        console.log(response);\n        this.properties = response;\n      });\n  }\n}\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;ion-content&gt;\n  &lt;ion-list *ngFor=\"let property of properties\"&gt;\n    &lt;ion-card&gt;\n\n      &lt;ion-card-header&gt;{{ property.addressNumber }}&lt;/ion-card-header&gt;\n      &lt;ion-card-content&gt;\n        &lt;p&gt;\n          &lt;ion-icon name=\"person\" color=\"primary\"&gt;&lt;/ion-icon&gt;\n        &lt;/p&gt;\n      &lt;/ion-card-content&gt;\n    &lt;/ion-card&gt;\n  &lt;/ion-list&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>What I don't understand is, let property of properties is bound to the array of properties?</p>\n\n<p>EDIT: After trying a few suggestions, there appears to be a pattern emerging to the errors in the console log? It appears to see child elements as undefined as these are the ones throwing errors?</p>\n\n<p>So i changed the variable completely to propertiesList to make it easier to read.\nA really weird thing is occuring now.\nSo we have <code>*ngFor=\"let property of propertiesList.properties.property\"</code></p>\n\n<p>Then for the card image <code>&lt;img src=\"{{ property.images.image[0].__text }}\" alt=\"\"&gt;\n</code> \nThis works as intended, the image shows. However in the console log <code>Cannot read property '__text' of undefined</code> and the original <code>\" Cannot read property 'property' of undefined</code></p>\n\n<p>So i continued adding other elements in the html</p>\n\n<p><code>&lt;ion-card-header&gt;{{ property.addressNumber }} {{ property.addressStreet }} {{ property.addressPostcode }}&lt;/ion-card-header&gt;</code></p>\n\n<p>These work fine, no errors, data displays. Now this is where it gets weird.</p>\n\n<p><code>&lt;p&gt;{{ property.propertyFeature1 }} {{ property.floorplans.floorplan._modified }}&lt;/p&gt;</code></p>\n\n<p>I now add this, and <code>Cannot read property '__text' of undefined</code> vanishes! and is instead replaced with <code>Cannot read property '__modified' of undefined</code> along with the original <code>Cannot read property 'property' of undefined</code></p>\n\n<p>In visual studio code, the only error im getting is <code>Identifier 'properties' is not defined. 'Array' does not contain such a member</code></p>\n"}, {"tags": ["java", "reactjs", "typescript", "spring-boot"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1554331630, "creation_date": 1554331630, "answer_id": 55505438, "question_id": 55505384, "link": "https://stackoverflow.com/questions/55505384/how-can-i-show-error-message-from-api-to-the-end-user/55505438#55505438", "title": "How can I show error message from API to the end-user?", "body": "<p>Your <code>console.debug(this.state.errorMesage);</code>  shows the structure of the object: </p>\n\n<p><a href=\"https://i.stack.imgur.com/fWRcn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWRcn.png\" alt=\"enter image description here\"></a></p>\n\n<p>From the structure you can see that the <code>this.state.errorMesage.response.data</code> contains the structure you are looking for:</p>\n\n<pre><code>\"publicError\": \"Could not be uploaded, it is not an image!\",\n\"innerError\": \"WrongImageTypeException()\"\n</code></pre>\n\n<h1>Fix</h1>\n\n<p>So instead of <code>...err</code> you should be using <code>...err.response.data</code> \ud83d\udc4d\ud83c\udffb</p>\n"}], "owner": {"reputation": 53, "user_id": 11308261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62757a9efb5a528fee71468a5264a8c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aquaelia", "link": "https://stackoverflow.com/users/11308261/aquaelia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 55505438, "answer_count": 1, "score": 1, "last_activity_date": 1554340169, "creation_date": 1554331317, "last_edit_date": 1554340169, "question_id": 55505384, "link": "https://stackoverflow.com/questions/55505384/how-can-i-show-error-message-from-api-to-the-end-user", "title": "How can I show error message from API to the end-user?", "body": "<p>I'm trying to show error message from a REST API when the user attempts to upload a file that is not an image.</p>\n\n<p>The JSON returned from the API is similar to this:</p>\n\n<pre><code>{\n    \"publicError\": \"Could not be uploaded, it is not an image!\",\n    \"innerError\": \"WrongImageTypeException()\"\n}\n</code></pre>\n\n<p>But i don't know how it display to the user.</p>\n\n<p>I tried </p>\n\n<pre><code>this.setState({ errorMesage: { ...err } }) \n</code></pre>\n\n<p>And the console log looks like this <a href=\"https://i.stack.imgur.com/fWRcn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWRcn.png\" alt=\"Console log\"></a><a href=\"https://i.stack.imgur.com/fWRcn.png\" rel=\"nofollow noreferrer\">https://cdn1.imggmi.com/uploads/2019/4/4/f642ed4326147b3f2c6899e78d415771-full.png</a>. </p>\n\n<p>How can I show this response error message?</p>\n\n<h1>Backend code</h1>\n\n<pre><code>public ResponseEntity&lt;?&gt; uploadFile(\n    @RequestHeader(value = \"Authorization\") String authorizationHeader,\n    @RequestParam(\"file\") MultipartFile file) throws UserNotFoundException {\n\n        try {\n            if(!(fileStorageService.checkFileType(file))){\n                throw new WrongImageTypeException();\n\n            }\n        }catch (WrongImageTypeException error){\n            return ResponseEntity.status(403).body(new ErrorMessageManager(\n                \"Could not be uploaded, it is not an image!\",error.toString()));\n        }\n</code></pre>\n\n<h1>Frontend code</h1>\n\n<pre><code>this.state : {\n      errorMesage: {\n        publicError: \"\",\n      }, } \n\npublic uploadHandler() {\n    const formdata: FormData = new FormData();\n    formdata.set('file', this.state.avatar);\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'Authorization': `Bearer ${cookies.get('tk879n')}`\n      }\n    };\n    axios.post(\n      `${serverUrl}/uploadFile`,\n      formdata,\n      config\n    ).then(response =&gt; {\n      this.setState({\n        userProfile: {\n          ...this.state.userProfile,\n          avatarUrl: response.data,\n        }\n      });\n    }\n    ).catch((err) =&gt; {\n\n      // i want to set error message state and display in render function\n      this.setState({ errorMesage: { ...err } }); \n\n      console.debug(this.state.errorMesage);\n\n    });\n  }\n</code></pre>\n"}, {"tags": ["arrays", "angular", "typescript", "camelcasing", "pascalcasing"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 2, "creation_date": 1554330607, "post_id": 55505222, "comment_id": 97716376, "body": "typescript doesn&#39;t care either way. In the end it all gets converted to javascript. I think the problem might be with the data your server returns at runtime. Check your http requests to see how the server sends the data and name your properties accordingly."}, {"owner": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1554330907, "post_id": 55505222, "comment_id": 97716465, "body": "The arriving data uses camelCase, but I do not understand, why a local class, which stores the data, defined in TypeScript/JavaScript, should or must use the same naming as the JSON file. This makes no sense at all (other than auto mapping)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1554331141, "post_id": 55505222, "comment_id": 97716542, "body": "Are you creating instances of your class using new or are you using the server data directly but asserting the type to be the one you defined? If you are not creating instances you are getting the json objects. Typescript is only present at build time, it gets transpiled to javascript and that is what is running at runtime."}, {"owner": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1554331497, "post_id": 55505222, "comment_id": 97716664, "body": "No, I am not using new() and create new instances. I am using the server data directly. The code looks like this: this.Infos = await this.HttpClient.get&lt;Info[]&gt;(this.Url).toPromise&lt;Info[]&gt;();"}, {"owner": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1554332333, "post_id": 55505222, "comment_id": 97716888, "body": "@toskv Not tested yet, but this might already the answer. I have to iterate over the server data and create new instances without relying on automapping. I will try this. The very strange thing is, that the automapping works properly, no matter if I use PascalCase or camelCase. In my opinion, this should throw an error, saying that the data could not be mapped correctly. Coming from a C# background, it&#39;s just strange."}, {"owner": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1554332894, "post_id": 55505222, "comment_id": 97717018, "body": "I edited my question, to show how I load data from the webserver. See Point 1.)"}], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "edited": false, "score": 0, "creation_date": 1554334025, "post_id": 55505642, "comment_id": 97717259, "body": "Ok, thank you. I think that it would be great help/idea, if it would be possible, to throw a runtime error or a warning, if the developer doesn&#39;t want blind casting, because coming from C#, that would definetly throw an error.....but ok, it is how it is....Thanks to all comments and answers!"}, {"owner": {"reputation": 709, "user_id": 8113590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe0427f22b194e9e23db74f5e1a6f04?s=128&d=identicon&r=PG&f=1", "display_name": "J. Koutsoumpas", "link": "https://stackoverflow.com/users/8113590/j-koutsoumpas"}, "reply_to_user": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "edited": false, "score": 1, "creation_date": 1554334277, "post_id": 55505642, "comment_id": 97717312, "body": "thanks for the acceptance. I also updated my answer with specific answers to each of your questions. feel free to ask anything else for more clarification."}], "tags": [], "owner": {"reputation": 709, "user_id": 8113590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe0427f22b194e9e23db74f5e1a6f04?s=128&d=identicon&r=PG&f=1", "display_name": "J. Koutsoumpas", "link": "https://stackoverflow.com/users/8113590/j-koutsoumpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1554335818, "last_edit_date": 1554335818, "creation_date": 1554333449, "answer_id": 55505642, "question_id": 55505222, "link": "https://stackoverflow.com/questions/55505222/typescript-strange-behaviour-when-switching-between-pascalcase-and-camelcase/55505642#55505642", "title": "TypeScript: Strange behaviour when switching between PascalCase and camelCase", "body": "<blockquote>\n  <p>Why is that so? Is that a TypeScript issue or is this an Angular issue?</p>\n</blockquote>\n\n<p>Neither. The cause of the issue is that the json data that comes from your webserver is not in the exactly same structure/format that you have defined the class Info in typescript.</p>\n\n<blockquote>\n  <p>Is there an unwritten convention that I have to follow?</p>\n</blockquote>\n\n<p>Well, yes there is. You should manually test and make sure that you actually get the correct data structures before casting them to specific classes. To clarify, you should take the json (body of the HTTP response), parse it as JSON to a generic object, and then test it if it actually has exactly all the properties (with same name and types) as the class (Info) that you are about to cast them to. And then do it.</p>\n\n<p>UPDATE: actually there is a cool way to determine if an object is \na particular type and let typescript know about this providing a strong assurnace/type guarding. Typescript has this feature called <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">User-defined Typeguard functions</a>, where you define a function that returns true or false if\nan object is tested to be of a particular type.</p>\n\n<pre><code>// user-defined type-guard function\nfunction isInfo(obj: Object): obj is Info {\n    if ('ManagedType' in obj &amp;&amp; 'ApiTemplate' in obj) {\n        return true;\n    } else {\n    // object does not have the required structure for Info class\n        return false;\n    }\n}\n\n// lets assume that jsonString is a string that comes from an\n// http response body and contains json data. Parse it \"blindly\" to a generic object\nlet obj = JSON.parse(jsonString);\n\nif (isInfo(obj)) {\n    obj.ApiTemplate; // typescript in this scope knows that obj is of type Info\n} else {\n    // in this scope, typescript knows that obj is NOT of type Info\n}\n</code></pre>\n\n<blockquote>\n  <p>Why doesn't the TypeScript compiler throw an error or a warning, that using PascalCase may not work properly?</p>\n</blockquote>\n\n<p>Because you are using implicit cast when you are using the <code>this.HttpClient.get&lt;Info[]&gt;(this.Url).toPromise&lt;Info[]&gt;();</code> you telling typescript that 'hey I know that in runtime, the server will send a json string that will be parsed and will be absolutely exactly compatible with the <code>Info[]</code> (an array of Info Objects). But actually in runtime this doesn't happen because there is a small difference in the case sensitivity of the property names. Typescript will not error here because you implicitly told it that you know what you are doing.</p>\n\n<p>So to elabarate:</p>\n\n<p>It is obvious that you are converting at runtime a JSON object that is not completely compatible with the Info class definition that you implicitly cast it to. The json data actually has the property names with camelCase, but you have defined the Info class with PascalName. Take a look at this example:</p>\n\n<pre><code>//PascalCase\nclass Info \n{\n    public ManagedType:string;\n\n    public ApiTemplate:string;\n}\n\nlet jsonString = `{\n    \"managedType\": \"1234asdf\",\n    \"apiTemplate\": \"asdf1234\"\n}`;\n\n// And HERE IS THE ISSUE. This does an implicit cast to Info object\n// assuming that the JSON parsed object will strictly be the same as defined Info\n// class. But that is not guaranteed. Typescript just assumes that you know\n// what you are doing and what kind of data you will actually get in \n// runtime.\nlet obj: Info = JSON.parse(jsonString); \n\n</code></pre>\n\n<p>The last line of the above example does the same exact 'blind' casting/converting that this does:</p>\n\n<p><code>this.Infos = await this.HttpClient.get&lt;Info[]&gt;(this.Url).toPromise&lt;Info[]&gt;();</code></p>\n\n<p>Essentially you are telling typescript that the response will be an Array of Info classes defined exactly as the class definition, but in reality in the actual json data they are not, the differ therefore the JSON.parse() will return an object that has the property names exactly as they are in the json string, in camelCase instead of PascalCase that you let typescript to assume.</p>\n\n<pre><code>// typescript just assumes that the obj will have PascalCase properties \n// and doesn't complain. but in reality this at runtime will not work,\n// because the json properties in the json string are camelCase. Typescript\n// can not know what data you will actually cast to this type in runtime.\n// and cannot catch this error\nconsole.log(`accessing Info.ManagedType property: ${obj.ManagedType}`);\n\n// lets check at runtime all the actual properties names\n// they will be in camelCase, just like in the jsonString.\nObject.keys(obj).forEach(key =&gt; {\n    console.log(`found property name: ${key}`);\n});\n\n</code></pre>\n"}], "owner": {"reputation": 876, "user_id": 986451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af23a835ecc5aa8c2c149118680ea5a8?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/986451/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 55505642, "answer_count": 1, "score": 0, "last_activity_date": 1554335818, "creation_date": 1554330359, "last_edit_date": 1554332516, "question_id": 55505222, "link": "https://stackoverflow.com/questions/55505222/typescript-strange-behaviour-when-switching-between-pascalcase-and-camelcase", "title": "TypeScript: Strange behaviour when switching between PascalCase and camelCase", "body": "<p>I am refactoring a C# desktop application to an Angular/TypeScript web application.</p>\n\n<p>All class properties inside the C# application use PascalCase, so I thought, it would be a good idea to just keep that.</p>\n\n<p>Here are 2 examples of basically the same TypeScript class. Number 1 uses PascalCase, number 2 uses camelCase:</p>\n\n<pre><code>//PascalCase\nexport class Info \n{\n    public ManagedType:string;\n\n    public ApiTemplate:string;\n}\n\n//camelCase\nexport class Info \n{\n    public managedType:string;\n\n    public apiTemplate:string;\n}\n</code></pre>\n\n<p>Here is the strange behaviour:</p>\n\n<ol>\n<li><p>I load JSON data from the webserver and create an array of the above Info class. It doesn't seem to matter, if the TypeScript class uses PascalCase or camelCase. So far, so good.</p>\n\n<pre><code>this.Infos = await this.HttpClient.get&lt;Info[]&gt;(this.Url).toPromise&lt;Info[]&gt;();\n</code></pre></li>\n<li><p>When I log my array to the console, I can see, that the output uses camelCase for the properties, no matter if the Info class uses PascalCase or camelCase. A little strange, but so far so good.</p></li>\n<li><p><strong>Now here it became strange to me</strong>: When I use PascalCase and filter the array, to get one specific instance of the Info class, the result is always undefined/null.</p></li>\n<li><p>When I use camelCase and filter the array, to get one specific instance of the Info class, the result is found and correct.</p>\n\n<pre><code>//This doesn't work: Info is always undefinded, although the Array exists.\nlet Info = Infos.filter(i =&gt; i.ManagedType == \"Something\" &amp;&amp; i.ApiTemplate == \"Something else\")[0];\n\n//This works: Info is found \nlet Info = Infos.filter(i =&gt; i.managedType == \"Something\" &amp;&amp; i.apiTemplate == \"Something else\")[0];\n</code></pre></li>\n</ol>\n\n<p>My questions are:</p>\n\n<p>Why is that so? Is that a TypeScript issue or is this an Angular issue?</p>\n\n<p>Is there an unwritten convention that I have to follow? </p>\n\n<p>Why doesn't the TypeScript compiler throw an error or a warning, that using PascalCase may not work properly?</p>\n"}, {"tags": ["angular", "typescript", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 229, "user_id": 6843554, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b4a71983648597cff0668b3ac8e5c40b?s=128&d=identicon&r=PG&f=1", "display_name": "CK8", "link": "https://stackoverflow.com/users/6843554/ck8"}, "is_accepted": true, "score": 1, "last_activity_date": 1554338798, "last_edit_date": 1554338798, "creation_date": 1554337881, "answer_id": 55506157, "question_id": 55505121, "link": "https://stackoverflow.com/questions/55505121/ionic-4-using-setinterval-function-trying-to-call-a-function-every-second-but-th/55506157#55506157", "title": "Ionic 4 using setInterval function trying to call a function every second but the function never called", "body": "<p>I found a solution. By changing one line of code.\nHere is code change and now changeMark function fired every second as expected.</p>\n\n<pre><code> From : this.get_duration_interval = setInterval(this.changeMark(), 1000);\n\n\n    To:  this.get_duration_interval= setInterval(()=&gt; { this.changeMark() }, 1000);\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 6843554, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b4a71983648597cff0668b3ac8e5c40b?s=128&d=identicon&r=PG&f=1", "display_name": "CK8", "link": "https://stackoverflow.com/users/6843554/ck8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1685, "favorite_count": 0, "closed_date": 1554355483, "accepted_answer_id": 55506157, "answer_count": 1, "score": 0, "last_activity_date": 1554338798, "creation_date": 1554329766, "last_edit_date": 1554337430, "question_id": 55505121, "link": "https://stackoverflow.com/questions/55505121/ionic-4-using-setinterval-function-trying-to-call-a-function-every-second-but-th", "closed_reason": "Not suitable for this site", "title": "Ionic 4 using setInterval function trying to call a function every second but the function never called", "body": "<p>I am using Ionic 4.  In one of the page, I try to invoke a function to update a ion-range value every second. The code was compiled without issues, but the changeMark function never get called.</p>\n\n<p>Html code : </p>\n\n<pre><code> &lt;ion-range color=\"light\" pin=\"false\"  min=\"0\" max=\"100\" [(ngModel)]=\"sliderValue\"&gt;\n\n &lt;/ion-range&gt;  \n</code></pre>\n\n<p>Here is my TS code :</p>\n\n<pre><code>  export class UpdatePlayer implements OnInit {\n\n  get_duration_interval: any;\n  sliderValue : any  ;\n\n  constructor(public modalController: ModalController) { }\n\n ngOnInit() { }\n\n play() {\n   ....\n\n   this.get_duration_interval = setInterval(this.changeMark(), 1000);\n }\n\n changeMark() : any {\nthis.sliderValue = (this.audio.currentTime/this.maxDuration) * 100  ;\n    this.currentDuration = this.fmtMSS(parseInt(this.audio.currentTime));\n    console.log('playing time Value : '  + this.audio.currentTime );\n }\n\n }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1554328549, "post_id": 55504826, "comment_id": 97715723, "body": "Can you provide what the <code>events</code> object looks like when you <code>console.log</code> it in your <code>subscribe</code> handler?"}, {"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1554329051, "post_id": 55504826, "comment_id": 97715889, "body": "just updated post with console log"}], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554330645, "post_id": 55505192, "comment_id": 97716392, "body": "I&#39;l already tried that. I get the error &#39;Property &#39;forEach&#39; does not exist on type &#39;HttpEvent&lt;any[]&gt;&#39;.&#39; when I try and use a forEach array."}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554331191, "post_id": 55505192, "comment_id": 97716557, "body": "I have updated the answer. Looks like you are getting a raw <code>HttpResponse</code> object. Don&#39;t know what you send in the options since I think the default is that you get just the body parsed from JSON."}, {"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554332007, "post_id": 55505192, "comment_id": 97716790, "body": "Not working either. The body keyword generates error Property &#39;body&#39; does not exist on type &#39;HttpEvent&lt;any[]&gt;. I thought this would have been such a simple thing to do..."}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554332353, "post_id": 55505192, "comment_id": 97716893, "body": "You need to set in the options <code>{ observe: &#39;body&#39;}</code> to get just the array. Do you set something else? The result you are getting is for <code>{observe: &#39;events&#39;}</code> which gives you also progress events what I think you don&#39;t want. I will again update the answer. :)"}, {"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554333988, "post_id": 55505192, "comment_id": 97717249, "body": "the result of the array of 3 objects is the output for body. When I change the options to response or events I get a whole lot more as the response. Somehow I need to be able to cast or override the typing the compiler is forcing."}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554334189, "post_id": 55505192, "comment_id": 97717295, "body": "You need to set the options to <code>{observe: &#39;body&#39;, responseType: &#39;json&#39;}</code> as I put also in the answer or find the correct override which has this setting as default. Then you will get just the array."}, {"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554335915, "post_id": 55505192, "comment_id": 97717687, "body": "The body is the 3 returned objects. My original problem of not being able to iterate of the returned response remains. I can hardcode references to events[0], events[1] etc., but that doesn&#39;t do me any good since the number of responses is dynamic. Somehow I need to be able to iterate of the POST response, but I&#39;m beginning to think there is no way."}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554418336, "post_id": 55505192, "comment_id": 97756102, "body": "Then the problem is in what your service is returning. I think it does not return a JSON array. Can you add the JSON that he service returns? Please see this <a href=\"https://stackblitz.com/edit/angular-ngoninitloaddata?file=src%2Fapp%2Fnow-running.component.ts\" rel=\"nofollow noreferrer\">StackBlitz sample</a> I made for a different answer that does exactly what you want to do and it works."}, {"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554419336, "post_id": 55505192, "comment_id": 97756355, "body": "OMG! THANK YOU! All I was missing was :any attached to the events in my subscribe. Now it works exactly as I need. I thought I&#39;d tried every combination of adding a type to events, but didn&#39;t try the simplest one. Thank you so much!"}], "tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": false, "score": 0, "last_activity_date": 1554333085, "last_edit_date": 1554333085, "creation_date": 1554330138, "answer_id": 55505192, "question_id": 55504826, "link": "https://stackoverflow.com/questions/55504826/cant-iterate-over-http-post-return-array/55505192#55505192", "title": "Can&#39;t iterate over http post return array", "body": "<p>After the discussion in the comments what I think is happening is that you are calling the method with options that contain <code>{observe: 'events'}</code>. This means that you get all the event stream and you get events for every action and the progress of the call. Check the <a href=\"https://angular.io/api/common/http/HttpEvent\" rel=\"nofollow noreferrer\">documentation for HttpEvent</a>.</p>\n\n<p>The return type from the <a href=\"https://angular.io/api/common/http/HttpClient#post\" rel=\"nofollow noreferrer\">HttpClient post</a> method is determined by the options you specify in the post call. What you need to do is to specify in the options <code>{observe: 'body', responseType:</code>json<code>}</code> to get just the array in the body.</p>\n\n<pre><code>const options = {observe: 'body', responseType: 'json'};\nthis.apiService.getTracsStartEvents( data, options ).subscribe((events) =&gt; {\n  /**\n   * Now return a list of Mission Start geoJSON objects to plot\n   */\n  let startMissionObjects = [];\n  events.forEach((missionStart) =&gt; {\n    startMissionObjects.push( this.posUpdateRecToGeoJsonRec( missionStart ));\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1554333085, "creation_date": 1554328122, "last_edit_date": 1554329035, "question_id": 55504826, "link": "https://stackoverflow.com/questions/55504826/cant-iterate-over-http-post-return-array", "title": "Can&#39;t iterate over http post return array", "body": "<p>I'm trying to do a simple iteration over the objects returned from an Http request and can't. I've tried map, and now trying a simple for loop and am running into typing issues. Here's the code:</p>\n\n<pre><code>this.apiService.getTracsStartEvents( data, options ).subscribe((events) =&gt; {\n  /**\n   * Now return a list of Mission Start geoJSON objects to plot\n   */\n  let startMissionObjects = [];\n  for ( const missionStart of **events** ){\n    startMissionObjects.push( this.posUpdateRecToGeoJsonRec( missionStart ));\n\n  }\n});\n</code></pre>\n\n<p>events is the problem child it won't let me iterate over. Here's the http call:</p>\n\n<pre><code>  public getTracsStartEvents( data, options ) {\n    return this.httpClient.post&lt;any[]&gt;(url, data, options );\n</code></pre>\n\n<p>I know from logging that the http calls returns an array of objects, here is the log:</p>\n\n<pre><code>events= \n(3)[{\u2026}, {\u2026}, {\u2026}]\n0: {imei: \"300434030116030\", messagecode: 10, messagecodelabel: \"Start Track\", alt: 575, lat: 37.734695,\u00a0\u2026}\n1: {imei: \"300434030230110\", messagecode: 10, messagecodelabel: \"Start Track\", alt: 374.86835845248, lat: 33.82410407066345,\u00a0\u2026}\n2: {imei: \"300434063742260\", messagecode: 10, messagecodelabel: \"Start Track\", alt: 120.92451174360001, lat: 36.97652578353882,\u00a0\u2026}\nlength: 3\n__proto__: Array(0)\n</code></pre>\n\n<p>I've even tried typing the post to return an array of the objects it is actually returning. But nothing will let me iterate over the result. I know I must be doing something dumb....</p>\n"}, {"tags": ["typescript", "class", "interface"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1554327072, "post_id": 55504577, "comment_id": 97715207, "body": "Why do you want to make them private?"}, {"owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "reply_to_user": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1554327219, "post_id": 55504577, "comment_id": 97715254, "body": "So they can&#39;t be accessed..."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1554327237, "post_id": 55504577, "comment_id": 97715261, "body": "if they can&#39;t be accessed - then remove them from interface."}, {"owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "edited": false, "score": 0, "creation_date": 1554327309, "post_id": 55504577, "comment_id": 97715289, "body": "but its kinda strange, because the Interface should have that fields"}, {"owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "edited": false, "score": 0, "creation_date": 1554327329, "post_id": 55504577, "comment_id": 97715292, "body": "Should be possible to make them private"}, {"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 1, "creation_date": 1554327386, "post_id": 55504577, "comment_id": 97715316, "body": "What you&#39;re trying to do makes no sense. Your interface says <code>every class which implements me has this field which you can access</code> and then the class says <code>oh by the way you can&#39;t access this field</code>. You have to choose which one you actually want, provide the field publicly by declaring it in the interface or hide it, by not declaring it in the interface."}, {"owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "edited": false, "score": 0, "creation_date": 1554327519, "post_id": 55504577, "comment_id": 97715355, "body": "You&#39;re getting the wrong picture, I don&#39;t want to make the fields private directly on interface, but on the class, which implemented from iinterface. On Java its possible to do this, so that&#39;s why I&#39;m asking"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1554327880, "post_id": 55504577, "comment_id": 97715494, "body": "In TS not only classes implement interfaces, but POJOs as well. To summarise it: TS does not provide such a capability; for TS it would make no sense."}, {"owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1554328185, "post_id": 55504577, "comment_id": 97715598, "body": "Ok, thanks @zerkms :) If you want, go ahead and your aswner to this question"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "edited": false, "score": 0, "creation_date": 1554414685, "post_id": 55506028, "comment_id": 97755009, "body": "First of all, thanks for the deep and comphreensive answer. I have now the picture in my head of what you&#39;re saying, and It makes sense. I was suprised because on Java you can set a implemented member to private or public, so, I was wondering if I could still do this in TypeScript."}, {"owner": {"reputation": 709, "user_id": 8113590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe0427f22b194e9e23db74f5e1a6f04?s=128&d=identicon&r=PG&f=1", "display_name": "J. Koutsoumpas", "link": "https://stackoverflow.com/users/8113590/j-koutsoumpas"}, "reply_to_user": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "edited": false, "score": 1, "creation_date": 1554482158, "post_id": 55506028, "comment_id": 97783036, "body": "Oh, now I see why you thought that way, because interfaces in Java 9 have become much more complex than a usual interface. They  can also have implementations of methods inside of them too. This made them very complex beasts, and that is why Java 9 had to introduce the concept of private methods to them. Because of the mixed implementation AND interface concept. That&#39;s not the case with Interface in Typescript, those interfaces are just the usual prescription of how a class should implement stuff."}], "tags": [], "owner": {"reputation": 709, "user_id": 8113590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe0427f22b194e9e23db74f5e1a6f04?s=128&d=identicon&r=PG&f=1", "display_name": "J. Koutsoumpas", "link": "https://stackoverflow.com/users/8113590/j-koutsoumpas"}, "is_accepted": true, "score": 2, "last_activity_date": 1554336717, "creation_date": 1554336717, "answer_id": 55506028, "question_id": 55504577, "link": "https://stackoverflow.com/questions/55504577/i-cant-make-a-class-field-implemented-from-interface-private-nor-make-interfac/55506028#55506028", "title": "I can&#39;t make a class field implemented from interface private, nor make interface field private", "body": "<p>Interfaces are by their nature public, and therefore can only have public members, so they are not accepting private/protected etc. definitions. On the other hand, the implementation of an interface, such as a class, can have private members/methods for its implementation details.</p>\n\n<p>You probably either have misunderstood the concept of Interfaces, which are a kind of 'contract' between you and the public world, and therefore there is no logical use of 'hidden' elements in those contracts or you are trying to use them in an incorrect way. Let me know what is your use case and why you want some members to be private in order to further help you out.</p>\n"}, {"tags": [], "owner": {"reputation": 5563, "user_id": 11407695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e780ea997ca2280a7e2db311220a563?s=128&d=identicon&r=PG", "display_name": "Oleg Valter", "link": "https://stackoverflow.com/users/11407695/oleg-valter"}, "is_accepted": false, "score": 0, "last_activity_date": 1612236288, "creation_date": 1612236288, "answer_id": 66003226, "question_id": 55504577, "link": "https://stackoverflow.com/questions/55504577/i-cant-make-a-class-field-implemented-from-interface-private-nor-make-interfac/66003226#66003226", "title": "I can&#39;t make a class field implemented from interface private, nor make interface field private", "body": "<p>As a supplementary answer:</p>\n<p>It is true that TypeScript interfaces only describe a public contract. In TS terms they describe the <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\"><em>shape of values</em></a>. The asker's attempt (they are also not the only ones who sought this - see <a href=\"https://github.com/Microsoft/TypeScript/issues/25163\" rel=\"nofollow noreferrer\">this GitHub issue</a> for example) to make interface members private stems from the fact that two unrelated classes with the same <code>private</code> member are considered incompatible despite being identical structurally.</p>\n<p>Similar to the <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html#understanding-typescripts-private\" rel=\"nofollow noreferrer\">handbook example</a>, the following leads to a type error:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>class A { private a : string = &quot;&quot;; }\nclass B { private a : string = &quot;&quot;; }\n\nlet a = new A();\na = new B(); //Types have separate declarations of a private property 'a'.\n</code></pre>\n<p>So does this, meaning private members <em>do</em> contribute to the shape of a class:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>class C implements B { //Types have separate declarations of a private property 'a'.\n  private a : string = &quot;&quot;;\n}\n</code></pre>\n<p>However, these classes do not &quot;share the private side of their shape from the same declaration&quot; (ibid.). Only a subclass can share the private side of the shape with its superclass:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>class D extends B { //OK\n  constructor() {\n    super();\n  }\n}\n</code></pre>\n<p>So, only classes have <code>private</code> members. This is also unlikely to change as a proposal for allowing interfaces to implement <code>protected</code> members (which is very similar in nature) <a href=\"https://github.com/microsoft/TypeScript/issues/3854\" rel=\"nofollow noreferrer\">was declined as unsafe</a>.</p>\n<p>See also:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/53421741/11407695\">related Q&amp;A</a> on private members and interfaces.</li>\n<li>Discussion on why <code>private</code> members <a href=\"https://github.com/microsoft/TypeScript/issues/18499\" rel=\"nofollow noreferrer\">affect compatibility</a>.</li>\n</ol>\n"}], "owner": {"reputation": 162, "user_id": 11267225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7wYB.jpg?s=128&g=1", "display_name": "leandrojesus-programmer", "link": "https://stackoverflow.com/users/11267225/leandrojesus-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55506028, "answer_count": 2, "score": 1, "last_activity_date": 1612236382, "creation_date": 1554326945, "last_edit_date": 1612236382, "question_id": 55504577, "link": "https://stackoverflow.com/questions/55504577/i-cant-make-a-class-field-implemented-from-interface-private-nor-make-interfac", "title": "I can&#39;t make a class field implemented from interface private, nor make interface field private", "body": "<p>I have this fields on the interface:</p>\n<pre><code>// Stores the to views folder\nVIEW_PATH: string;\n// Stores BrowserWindows with respective view  \nbrowserWindows: [string, BrowserWindow | null][];\n</code></pre>\n<p>When I implement the fields in my class and try to set them private, I get this error:</p>\n<pre><code>Class 'WindowHandler' incorrectly implements interface 'IWindowHandler'.\n  Property 'VIEW_PATH' is private in type 'WindowHandler' but not in type 'IWindowHandler'.ts(2420)\n</code></pre>\n<p>When I try to set the interface fields to private:</p>\n<pre><code>'private' modifier cannot appear on a type member.ts(1070)\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1554325686, "post_id": 55504263, "comment_id": 97714715, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron\">Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 7763772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ysu_i0KvyG0/AAAAAAAAAAI/AAAAAAAAAC8/1-w6j3SHRJM/photo.jpg?sz=128", "display_name": "justme", "link": "https://stackoverflow.com/users/7763772/justme"}, "edited": false, "score": 0, "creation_date": 1554327369, "post_id": 55504303, "comment_id": 97715312, "body": "I can&#39;t agree that obj: MyClass is only labeled statement because when I write: this.obj = false; IDE complains that false is not assignable to type MyClass."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 146, "user_id": 7763772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ysu_i0KvyG0/AAAAAAAAAAI/AAAAAAAAAC8/1-w6j3SHRJM/photo.jpg?sz=128", "display_name": "justme", "link": "https://stackoverflow.com/users/7763772/justme"}, "edited": false, "score": 0, "creation_date": 1554327437, "post_id": 55504303, "comment_id": 97715335, "body": "@justme oh, thats inside a class? That wasn&#39;t clear from the question"}, {"owner": {"reputation": 146, "user_id": 7763772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ysu_i0KvyG0/AAAAAAAAAAI/AAAAAAAAAC8/1-w6j3SHRJM/photo.jpg?sz=128", "display_name": "justme", "link": "https://stackoverflow.com/users/7763772/justme"}, "edited": false, "score": 0, "creation_date": 1554327670, "post_id": 55504303, "comment_id": 97715407, "body": "Yes, it is inside"}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1554327697, "last_edit_date": 1554327697, "creation_date": 1554325718, "answer_id": 55504303, "question_id": 55504263, "link": "https://stackoverflow.com/questions/55504263/assigning-response-to-new-object-poins-to-the-same-referance/55504303#55504303", "title": "Assigning response to new object poins to the same referance", "body": "<p>What is the type of <code>a</code> ? If it isn't typed properly, Typescript can't detect the missmatch.</p>\n\n<blockquote>\n  <p>Shouldn't I be notified that assignment cannot be done, because there are missing properties on class MyClass?</p>\n</blockquote>\n\n<p>No, there are <em>additional properties</em> on <code>a</code>. They don't change the way how your code does interact with <code>obk</code>, so there is no problem with assigning an object with more properties to a type with less. Typescript has duck typing after all (if something has an <code>Id</code> it is a <code>MyClass</code>).</p>\n"}], "owner": {"reputation": 146, "user_id": 7763772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ysu_i0KvyG0/AAAAAAAAAAI/AAAAAAAAAC8/1-w6j3SHRJM/photo.jpg?sz=128", "display_name": "justme", "link": "https://stackoverflow.com/users/7763772/justme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554327697, "creation_date": 1554325555, "question_id": 55504263, "link": "https://stackoverflow.com/questions/55504263/assigning-response-to-new-object-poins-to-the-same-referance", "title": "Assigning response to new object poins to the same referance", "body": "<p>I am fairly new in Angular and have a problem connected with assigning a json response from server to new instantiated object.</p>\n\n<p>I have a class MyClass</p>\n\n<pre><code>export class MyClass {\nId: number\n}\n\nobj: MyClass;\nmyService.fetch().subscribe(a=&gt;obj=a);\n</code></pre>\n\n<p>The problem is, that response from server has five properties and when I assign this response to my object it got them all although this object has only one property \"Id\".</p>\n\n<p>I am printing both this objects to console by</p>\n\n<pre><code>myService.fetch().subscribe(a=&gt;{\nobj=a\nconsole.log(a);\nconsole.log(obj);\n}});\n</code></pre>\n\n<p>And I receive two the same objects. Why this happens? Shouldn't I be notified that assignment cannot be done, because there are missing properties on class MyClass?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "subscription"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 1, "creation_date": 1554326947, "post_id": 55504242, "comment_id": 97715162, "body": "You could use <code>map</code> before <code>flatMap</code> to make it maybe more obvious but if you don&#39;t want to return <code>res1</code> I think what you&#39;re doing now is fine."}, {"owner": {"reputation": 786, "user_id": 8384588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g5rIP.png?s=128&g=1", "display_name": "CAlex", "link": "https://stackoverflow.com/users/8384588/calex"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1554329791, "post_id": 55504242, "comment_id": 97716130, "body": "@martin The second block of code above is not possible how I currently have it. flatMap does not allow for the {}. It will throw a <b>Type &#39;void&#39; is not assignable to type &#39;ObservableInput&lt;any&gt;&#39;</b> error."}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 1, "last_activity_date": 1554339198, "last_edit_date": 1554339198, "creation_date": 1554338790, "answer_id": 55506274, "question_id": 55504242, "link": "https://stackoverflow.com/questions/55504242/angular-dependent-subscriptions-using-forkjoin-with-code-block-for-modifying-dat/55506274#55506274", "title": "Angular dependent subscriptions using forkJoin with code block for modifying data", "body": "<p>You were not returning an observable from your flatMap, return this.service.service2(res1); would do the same as below.</p>\n\n<pre><code>this.service.service1().pipe(\n    map(res1 =&gt; //modify resp1 here)\n    flatMap((modifiedRes1) =&gt; this.service.service2(modifiedRes1)) // note the lack of brackets, this means we are returning the observable, your function returns void.\n).subscribe((res2) =&gt; {\n    // Do something with res2.\n});\n</code></pre>\n\n<p>The difference between </p>\n\n<pre><code>(res1) =&gt; this.service.service2(res1)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>(res1) =&gt; {\n  this.service.service2(res1)\n}\n</code></pre>\n\n<p>Is that the first function returns an observable, the second one returns void.</p>\n\n<pre><code>(res1) =&gt; this.service.service2(res1)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>(res1) =&gt; {\n  return this.service.service2(res1)\n}\n</code></pre>\n\n<p>are equivalent. {} creates a block, that block needs a return statement if it is use in an arrow function.</p>\n"}], "owner": {"reputation": 786, "user_id": 8384588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g5rIP.png?s=128&g=1", "display_name": "CAlex", "link": "https://stackoverflow.com/users/8384588/calex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 1, "accepted_answer_id": 55506274, "answer_count": 1, "score": 0, "last_activity_date": 1554339198, "creation_date": 1554325473, "question_id": 55504242, "link": "https://stackoverflow.com/questions/55504242/angular-dependent-subscriptions-using-forkjoin-with-code-block-for-modifying-dat", "title": "Angular dependent subscriptions using forkJoin with code block for modifying data", "body": "<p>I have a subscription that depends on the result of a previous subscription.\nI am using forkJoin so I don't have to nest them:</p>\n\n<pre><code>this.service.service1().pipe(\n    flatMap((res1) =&gt; this.service.service2(res1))\n).subscribe((res2) =&gt; {\n    // Do something with res2.\n});\n</code></pre>\n\n<p>The issue is that I need to modify the data before I call subscription #2. I would like to be able to do something like this:</p>\n\n<pre><code>this.service.service1().pipe(\n    flatMap((res1) =&gt; {\n      // Modify res1 data here.\n      // Make 2nd Api Call\n      this.service.service2(res1)\n    })\n).subscribe((res2) =&gt; {\n    // Do something with res2.\n});\n</code></pre>\n\n<p>Do I need a different operator/syntax to achieve this or am I able to modify this approach?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 4, "creation_date": 1554325033, "post_id": 55504126, "comment_id": 97714489, "body": "should be <code>*ngIf</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "is_accepted": true, "score": 2, "last_activity_date": 1554325162, "creation_date": 1554325162, "answer_id": 55504174, "question_id": 55504126, "link": "https://stackoverflow.com/questions/55504126/cant-bind-to-ngif-since-it-isnt-a-known-property-of-ion-item/55504174#55504174", "title": "Can&#39;t bind to &#39;ngIF&#39; since it isn&#39;t a known property of &#39;ion-item&#39;", "body": "<p>it should be *ngIf and not *ngIF.   Please review the documentation on structural directives for an overview:  <a href=\"https://angular.io/guide/structural-directives\" rel=\"nofollow noreferrer\">https://angular.io/guide/structural-directives</a></p>\n\n<pre><code>&lt;ion-item routerLink='/login' *ngIf='authenticatedState()'&gt;\n</code></pre>\n"}], "owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "accepted_answer_id": 55504174, "answer_count": 1, "score": 1, "last_activity_date": 1554325162, "creation_date": 1554324978, "question_id": 55504126, "link": "https://stackoverflow.com/questions/55504126/cant-bind-to-ngif-since-it-isnt-a-known-property-of-ion-item", "title": "Can&#39;t bind to &#39;ngIF&#39; since it isn&#39;t a known property of &#39;ion-item&#39;", "body": "<p>I need to use *ngIF inside the code of my ionic4 project, found some answers but none works as none is targeting <code>ionic 4</code> and <code>angular 7</code>.</p>\n\n<p>and I tried to import the <code>imports: [CommonModule]</code> part but it didn't work at all.</p>\n\n<p>Here is the code am using in <code>.html</code> file :</p>\n\n<pre><code>&lt;ion-app&gt;\n    &lt;ion-split-pane&gt;\n        &lt;ion-menu&gt;\n            &lt;ion-header&gt;\n                &lt;ion-toolbar color=\"medium\"&gt;\n                    &lt;ion-title&gt;Menu&lt;/ion-title&gt;\n                &lt;/ion-toolbar&gt;\n            &lt;/ion-header&gt;\n            &lt;ion-content background=\"medium\"&gt;\n                &lt;ion-list&gt;\n                    &lt;ion-menu-toggle auto-hide=\"false\"&gt;\n                        &lt;ion-item routerLink='/home'&gt;\n                            &lt;ion-icon color=\"light\" slot=\"start\" name=\"home\"&gt;&lt;/ion-icon&gt;\n                            &lt;ion-label color=\"light\"&gt;\n                                Home\n                            &lt;/ion-label&gt;\n                        &lt;/ion-item&gt;\n                        &lt;ion-item routerLink='/list'&gt;\n                            &lt;ion-icon color=\"light\" slot=\"start\" name=\"woman\"&gt;&lt;/ion-icon&gt;\n                            &lt;ion-label color=\"light\"&gt;\n                                Buy / Rent a Dress\n                            &lt;/ion-label&gt;\n                        &lt;/ion-item&gt;\n                        &lt;ion-item routerLink='/add-dress'&gt;\n                            &lt;ion-icon color=\"light\" slot=\"start\" name=\"add\"&gt;&lt;/ion-icon&gt;\n                            &lt;ion-label color=\"light\"&gt;\n                                Add Dress for Sale/Rental\n                            &lt;/ion-label&gt;\n                        &lt;/ion-item&gt;\n                        &lt;ion-item routerLink='/create-account'&gt;\n                            &lt;ion-icon color=\"light\" slot=\"start\" name=\"person-add\"&gt;&lt;/ion-icon&gt;\n                            &lt;ion-label color=\"light\"&gt;\n                                Register New Account\n                            &lt;/ion-label&gt;\n                        &lt;/ion-item&gt;\n                        &lt;ion-item routerLink='/login' *ngIF='authenticatedState()'&gt;\n                            &lt;ion-icon color=\"light\" slot=\"start\" name=\"log-in\"&gt;&lt;/ion-icon&gt;\n                            &lt;ion-label color=\"light\"&gt;\n                                Login to your account\n                            &lt;/ion-label&gt;\n                        &lt;/ion-item&gt;\n                    &lt;/ion-menu-toggle&gt;\n                &lt;/ion-list&gt;\n            &lt;/ion-content&gt;\n        &lt;/ion-menu&gt;\n        &lt;ion-router-outlet main&gt;&lt;/ion-router-outlet&gt;\n    &lt;/ion-split-pane&gt;\n&lt;/ion-app&gt;\n</code></pre>\n\n<p>and I have this code in my <code>.ts</code> file:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {Platform} from '@ionic/angular';\nimport {SplashScreen} from '@ionic-native/splash-screen/ngx';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\nimport { AuthServiceService } from './auth-service.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n    styleUrls: ['main.scss'],\n})\nexport class AppComponent {\n\n    constructor(\n        private platform: Platform,\n        private splashScreen: SplashScreen,\n        private statusBar: StatusBar,\n        private storage: Storage,\n        private authService: AuthServiceService,\n    ) {\n        this.initializeApp();\n    }\n    public appPages = [\n        {\n            title: 'Home',\n            url: '/home',\n            icon: 'home'\n        },\n        {\n            title: 'Buy / Rent a Dress',\n            url: '/list',\n            icon: 'woman'\n        },\n        {\n            title: 'Add Dress for Sale/Rental',\n            url: '/add-dress',\n            icon: 'add'\n        },\n        {\n            title: 'Register New Account',\n            url: '/create-account',\n            icon: 'person-add'\n        },\n        {\n            title: 'Login to your account',\n            url: '/login',\n            icon: 'log-in'\n        },\n\n    ];\n\n    initializeApp() {\n        this.platform.ready().then(() =&gt; {\n            this.statusBar.styleDefault();\n            this.splashScreen.hide();\n        });\n    }\n    authenticatedState() {\n        return this.authService.authenticated();\n    }\n}\n\n</code></pre>\n\n<p>And as you see the *ngIf is calling a function that calls a service that returns a <code>True</code> or <code>False</code>.</p>\n\n<p>the error I get is like :</p>\n\n<p><code>Can't bind to 'ngIF' since it isn't a known property of 'ion-item'</code></p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1554323764, "post_id": 55503816, "comment_id": 97713929, "body": "You just have to <code>declare</code> the window once properly."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1554323788, "post_id": 55503816, "comment_id": 97713944, "body": "You are correct that Typescript will complain about <code>window.MyApp</code> if you never declare that <code>MyApp</code> exists. You can also do that in a <code>.d.ts</code> declaration file. By the way, declaring it as <code>any</code> defeats the whole purpose of using Typescript \ud83d\ude0e"}, {"owner": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "edited": false, "score": 0, "creation_date": 1554325369, "post_id": 55503816, "comment_id": 97714617, "body": "Okay, so given that I&#39;m really a Typescript newbie, and I&#39;m already defining <code>window.MyApp</code> in an existing JS file, literally where and how would I declare this? I tried creating a file called <code>index.d.ts</code>, then put a simple <code>declare global</code>, but it barked at me: &quot;augmentations for the global scope can only be directly nested yadda yadda yadda&quot;. Googling around doesn&#39;t reveal any really simple examples to copy. Sorry for being a pain--I&#39;m just hoping this is a quick fix, but maybe it&#39;s not."}, {"owner": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1554326245, "post_id": 55503816, "comment_id": 97714932, "body": "...and I think I just answered my own question. At the top of the <code>tsx</code> file where I want to refer to <code>window.MyApp</code>, I added: <code>declare global { interface Window { MyApp: any; } }</code>, and now it appears to work. I assume that once I really figure this out, I won&#39;t have to do that in every file, as you say @JonasWilms, but this is a good quick hack to get me moving."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1554326376, "post_id": 55503816, "comment_id": 97714985, "body": "To be honest Ive never done that (because I don&#39;t use the <code>window</code> object anymore, bot rather bundle my dependencies), but <code>declare</code>s should work globally"}, {"owner": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "edited": false, "score": 0, "creation_date": 1554387868, "post_id": 55503816, "comment_id": 97741372, "body": "I&#39;m going to catalog my progress here, just in case it&#39;s useful to others. I created a <code>config.d.ts</code> file, and put this in it: <code>declare global { interface Window { MyApp: any; } }</code>, but I got <code>TypeScript error: Property &#39;MyApp&#39; does not exist on type &#39;Window&#39;.</code> in the files that reference that scope. Digging around, I found that I had to add an <code>export {}</code> line to <code>config.d.ts</code>, which I <i>guess</i> makes sense (given that I included <code>config.d.ts</code> in my main <code>index.js</code> file. But clearly, there are things here I don&#39;t understand yet."}], "owner": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 887, "favorite_count": 0, "closed_date": 1554323744, "answer_count": 0, "score": 3, "last_activity_date": 1554323561, "creation_date": 1554323561, "question_id": 55503816, "link": "https://stackoverflow.com/questions/55503816/how-to-reference-window-variable-in-a-mixed-javascript-typescript-project", "closed_reason": "Duplicate", "title": "How to reference `window` variable in a mixed Javascript/Typescript project", "body": "<p>I've got a <code>create-react-app</code> React project that I'm (very slowly) starting to move over to Typescript. In my various init files (all of which are currently Javascript files), I've declared some global app variables on the <code>window</code> object--basically <code>window.MyApp</code>. I get that perhaps I should switch over to <code>Context</code> for these variables, but that's not an option right now.</p>\n\n<p>What I'd like to do is to be able to reference variables on the <code>window.MyApp</code> scope from within a Typescript file. So, something like:</p>\n\n<pre><code>const myVar = `${window.MyApp.appBasePath}path/to/something/`\n</code></pre>\n\n<p>However, Typescript throws up this error:</p>\n\n<pre><code>Property 'MyApp' does too exist on type 'Window'\n</code></pre>\n\n<p>So...is there an easy fix to this? Or does this mean I need to convert all my init files where <code>window.MyApp</code> is declared over to Typescript, and do something like:</p>\n\n<pre><code>interface Window {\n    MyApp: any\n}\n</code></pre>\n\n<p>I'm hoping to avoid that level of re-write at this point, as I'm still at the \"toe in the water\" phase of Typescript integration.</p>\n\n<p>Any guidance is appreciated!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1554327675, "creation_date": 1554327675, "answer_id": 55504730, "question_id": 55503508, "link": "https://stackoverflow.com/questions/55503508/how-to-enforce-types-within-object-while-letting-key-be-fixed-in-typescript/55504730#55504730", "title": "How to enforce types within object while letting key be &quot;fixed&quot; in typescript?", "body": "<p>If you know the keys you can just use <code>Record</code> to create a type that has those explicit keys of the type you want (<code>Record</code> is called a mapped type)</p>\n\n<pre><code>type dateFormatOptions = 'hourOnly'\n\nexport const dateFormat: Record&lt;dateFormatOptions, Intl.DateTimeFormatOptions&gt; = {\n  hourOnly: { hour: 'numeric' }\n}\n</code></pre>\n\n<p>This does require you to keep the names of the properties in two places. Another option is to use a function with a constrained generic type parameter. The type parameter constraint will keep all values of the specified type but the actual keys will be inferred based on the object you pass in. </p>\n\n<pre><code>function createDateFormatOptions&lt;K extends PropertyKey&gt;(o: Record&lt;K, Intl.DateTimeFormatOptions&gt;): Record&lt;K, Intl.DateTimeFormatOptions&gt; {\n    return o;\n}\nexport const dateFormat = createDateFormatOptions({\n  hourOnly: { hour: 'numeric' },\n})\n</code></pre>\n"}], "owner": {"reputation": 964, "user_id": 446556, "user_type": "registered", "profile_image": "https://graph.facebook.com/4801115/picture?type=large", "display_name": "Chris Drackett", "link": "https://stackoverflow.com/users/446556/chris-drackett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 55504730, "answer_count": 1, "score": 0, "last_activity_date": 1554339135, "creation_date": 1554322170, "last_edit_date": 1554339135, "question_id": 55503508, "link": "https://stackoverflow.com/questions/55503508/how-to-enforce-types-within-object-while-letting-key-be-fixed-in-typescript", "title": "How to enforce types within object while letting key be &quot;fixed&quot; in typescript?", "body": "<p>I have an object in a project that I'm trying to type:</p>\n\n<pre><code>export const dateFormat = {\n  hourOnly: { hour: 'numeric' }\n  \u2026\n}\n\n</code></pre>\n\n<p>I know that the values in this object should fit <code>Intl.DateTimeFormatOptions</code> so I tried:</p>\n\n<pre><code>export const dateFormat: {[key: string]: Intl.DateTimeFormatOptions} = {\n  hourOnly: { hour: 'numeric' }\n  \u2026\n}\n\n</code></pre>\n\n<p>This works but I lose the ability to get auto complete for this object elsewhere in the project. I tried adding <code>as const</code> at the end, but that didn't help.</p>\n\n<p>Is there a way to enforce an objects values while still getting auto-complete for the keys?</p>\n\n<p>I also tried:</p>\n\n<pre><code>type dateFormatOptions = 'hourOnly'\n\nexport const dateFormat: {[key: dateFormatOptions]: Intl.DateTimeFormatOptions} = {\n  hourOnly: { hour: 'numeric' }\n  \u2026\n}\n</code></pre>\n\n<p>but in this case typescript says the index signature should be a string or a number?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "html5-audio"], "comments": [{"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 2, "creation_date": 1554321496, "post_id": 55503285, "comment_id": 97712905, "body": "move <code>audioPlayer = &lt;HTMLMediaElement&gt;document.getElementById(&quot;myAudio&quot;);</code> into onInit otherwise the method will run before the DOM even exists"}, {"owner": {"reputation": 1476, "user_id": 7532917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mSeN.jpg?s=128&g=1", "display_name": "Jijo Cleetus", "link": "https://stackoverflow.com/users/7532917/jijo-cleetus"}, "edited": false, "score": 1, "creation_date": 1554321536, "post_id": 55503285, "comment_id": 97712926, "body": "try moving the <code>audioPlayer = &lt;HTMLMediaElement&gt;document.getElementById(&quot;myAudio&quot;);</code> inside <code>ngOnInit</code>"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "reply_to_user": {"reputation": 1476, "user_id": 7532917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mSeN.jpg?s=128&g=1", "display_name": "Jijo Cleetus", "link": "https://stackoverflow.com/users/7532917/jijo-cleetus"}, "edited": false, "score": 1, "creation_date": 1554321578, "post_id": 55503285, "comment_id": 97712942, "body": "@JijoCleetus #first :3  ^^"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1554321753, "post_id": 55503285, "comment_id": 97713035, "body": "Understanding the error is crucial here: it simply means that when <code>this.audioPlayer.play();</code> is called, <code>this.audioPlayer</code> is <code>null</code>. Also note the typo: <code>ngOnInIt</code> is supposed to be <code>ngOnInit</code>"}, {"owner": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554322146, "post_id": 55503285, "comment_id": 97713228, "body": "@jonathanHeindl thanks but didn&#39;t work because I can&#39;t use audioplayer inside of the start function now"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 1, "creation_date": 1554322247, "post_id": 55503285, "comment_id": 97713274, "body": "then keep the delcaration outSide and only assign in the onINit"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 1, "creation_date": 1554322357, "post_id": 55503285, "comment_id": 97713326, "body": "@jonathanHeindl inside <code>ngOnInit</code> the template is not reachable yet. You are looking for the <code>ngAfterViewInit</code> hook"}, {"owner": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554490666, "post_id": 55503285, "comment_id": 97786798, "body": "@jonathanHeindl your solution worked by the way, thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "edited": false, "score": 0, "creation_date": 1554322225, "post_id": 55503440, "comment_id": 97713263, "body": "thanks, so for ElementRef do I just assign document.getElementById(&#39;myAudio&#39;) to it?"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "edited": false, "score": 0, "creation_date": 1554322308, "post_id": 55503440, "comment_id": 97713303, "body": "No, <code>@ViewChild(&#39;myAudio&#39;)</code> will look for an element in your template with a <code>#myAudio</code> attribute. So you need to add this to your template (as shown in my answer)"}, {"owner": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "edited": false, "score": 0, "creation_date": 1554322630, "post_id": 55503440, "comment_id": 97713464, "body": "It&#39;s giving me an error &#39;cannot find name ElementRef&#39;"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "edited": false, "score": 0, "creation_date": 1554322895, "post_id": 55503440, "comment_id": 97713578, "body": "@DreJackson You need to import this from <code>&#39;@angular&#47;core&#39;</code>."}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 1, "last_activity_date": 1554321897, "creation_date": 1554321897, "answer_id": 55503440, "question_id": 55503285, "link": "https://stackoverflow.com/questions/55503285/can-not-read-property-play-of-null/55503440#55503440", "title": "Can not read property &#39;play&#39; of null", "body": "<p>The template is available in the <code>ngAfterViewInit</code> hook. Not in the constructor or ngOnInit.</p>\n\n<p>Better however would be to use <code>@ViewChild()</code>:</p>\n\n<pre><code>&lt;audio class=\"audio\" controls #myAudio&gt;\n  &lt;source src=\"../assets/darkqueen.mp3\" type=\"audio/mpeg\"&gt;\n&lt;/audio&gt;\n\nexport class AppComponent {\n  @ViewChild('myAudio')\n  audioPlayer?: ElementRef&lt;HTMLMediaElement&gt;;\n\n  start() {\n    if (this.audioPlayer) { // if statement needed for strict typescript\n      this.audioPlayer.nativeElement.play();\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 703, "user_id": 8364536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341ea92b7e545e0d527d55d13899f73e?s=128&d=identicon&r=PG&f=1", "display_name": "Dre Jackson", "link": "https://stackoverflow.com/users/8364536/dre-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554321897, "creation_date": 1554321243, "question_id": 55503285, "link": "https://stackoverflow.com/questions/55503285/can-not-read-property-play-of-null", "title": "Can not read property &#39;play&#39; of null", "body": "<p>So, what i'm trying to do is create a custom audio player. Simple enough right? That's what I thought, but then I'm getting this error \"can not read property 'play' of null\". I was reading about it, and I learned that one of the possibilities could be that the function is being called before the ID exist? but to me, that doesn't make sense since when a person clicks play, the property does exist. I've never created a custom audio player before so I could be way wrong here, but I would like to know how I can get this working. I'd like to play a song at the click of a button. Here is what I have so far</p>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component } from \"@angular/core\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"]\n})\nexport class AppComponent {\n  title = \"app\";\n  audioPlayer = &lt;HTMLMediaElement&gt;document.getElementById(\"myAudio\");\n\n  constructor() {}\n\n  ngOnInIt() {}\n\n  start() {\n    this.audioPlayer.play();\n  }\n}\n</code></pre>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n  &lt;div class=\"row row1\"&gt;\n    &lt;div class=\"col-sm-12 col-md-12 col-lg-12 text-center mb-3\"&gt;\n      &lt;img src=\"../assets/tour.jpg\" class=\"img-fluid\" /&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-sm-12 col-md-12 col-lg-12 text-center\"&gt;\n      &lt;p class=\"audio-title\"&gt;Dark Queen - Lil Uzi vert&lt;/p&gt;\n      &lt;button class=\"btn btn-success\" id=\"play\" (click)=\"start()\"&gt;play&lt;/button&gt;\n      &lt;button class=\"btn btn-primary\" id=\"pause\"&gt;pause&lt;/button&gt;\n      &lt;audio id=\"myAudio\" class=\"audio\" controls&gt;\n        &lt;source src=\"../assets/darkqueen.mp3\" type=\"audio/mpeg\" /&gt;\n      &lt;/audio&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/41411691/uncaught-typeerror-cannot-read-property-play-of-null\">Uncaught TypeError: Cannot read property &#39;play&#39; of null</a> this is the only other SO discussion I found but honestly it's different from what i'm facing.</p>\n\n<p>Thanks for reading.</p>\n"}, {"tags": ["angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1554322965, "post_id": 55503000, "comment_id": 97713599, "body": "Are you trying to render <code>SideMenuPage</code> in the router outlet or in the app.component.html template?  You have routing declared for <code>SideMenuPage</code> with path but you are also rending the element outside of the router outlet in <code>app.component.html</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2129, "user_id": 7857994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V4TAM.jpg?s=128&g=1", "display_name": "Azoulay Jason", "link": "https://stackoverflow.com/users/7857994/azoulay-jason"}, "is_accepted": false, "score": 1, "last_activity_date": 1554323768, "creation_date": 1554323768, "answer_id": 55503848, "question_id": 55503000, "link": "https://stackoverflow.com/questions/55503000/app-module-ts-error-with-custom-selector-tag-ionic-4/55503848#55503848", "title": "app.module.ts error with custom selector tag ionic 4", "body": "<p>I was actually displaying the side menu page outside the <code>router-outlet</code>\nas @Jason White mentioned</p>\n"}], "owner": {"reputation": 2129, "user_id": 7857994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V4TAM.jpg?s=128&g=1", "display_name": "Azoulay Jason", "link": "https://stackoverflow.com/users/7857994/azoulay-jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554323768, "creation_date": 1554320088, "last_edit_date": 1554321239, "question_id": 55503000, "link": "https://stackoverflow.com/questions/55503000/app-module-ts-error-with-custom-selector-tag-ionic-4", "title": "app.module.ts error with custom selector tag ionic 4", "body": "<p>I work with ionic 4 and Angular 7.</p>\n\n<p>I previously worked with Ionic3 and it seems that some things has chaanged too</p>\n\n<p>I'm trying to implement a page using a custom selector tag <code>&lt;app-side-menu&gt;&lt;/app-side-menu&gt;</code> in the file app.component.html</p>\n\n<p>I get the error </p>\n\n<blockquote>\n  <p>Uncaught Error: Template parse errors: 'app-side-menu' is not a known\n  element:\n  1. If 'app-side-menu' is an Angular component, then verify that it is part of this module.</p>\n</blockquote>\n\n<p>I've been trying on other pages and it works and it seems that it's not working only on the <code>app.component.ts</code></p>\n\n<p>app.component.html</p>\n\n<pre><code>    &lt;ion-app&gt;\n      &lt;ion-split-pane&gt;\n          &lt;ion-menu&gt;\n              &lt;ion-header&gt;\n                  &lt;ion-toolbar&gt;\n                    &lt;ion-title&gt;\n                      Menu\n                    &lt;/ion-title&gt;\n                  &lt;/ion-toolbar&gt;\n                &lt;/ion-header&gt;\n\n                &lt;ion-content&gt;\n                    &lt;app-side-menu&gt;&lt;/app-side-menu&gt;\n                &lt;/ion-content&gt;\n          &lt;/ion-menu&gt;\n          &lt;ion-router-outlet main&gt;&lt;/ion-router-outlet&gt;\n\n      &lt;/ion-split-pane&gt;\n    &lt;/ion-app&gt;\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>    import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { SideMenuPageModule } from './side-menu/side-menu.module';\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [BrowserModule, IonicModule.forRoot(), AppRoutingModule],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  exports : [\n    SideMenuPageModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>side-menu.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SideMenuPage } from './side-menu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SideMenuPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SideMenuPage]\n})\nexport class SideMenuPageModule {}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "generics", "tsx"], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 4804346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/179b7d8842f2b240869824320be23783?s=128&d=identicon&r=PG&f=1", "display_name": "Nabuska", "link": "https://stackoverflow.com/users/4804346/nabuska"}, "is_accepted": false, "score": 0, "last_activity_date": 1572596177, "last_edit_date": 1572596177, "creation_date": 1572595783, "answer_id": 58655984, "question_id": 55502971, "link": "https://stackoverflow.com/questions/55502971/how-to-create-generic-function-component/58655984#58655984", "title": "How to create generic function Component", "body": "<p>This is what I finally used: </p>\n\n<pre><code>type MyComponentProps&lt;T&gt; = T &amp; {\n    component: ComponentType&lt;T&gt;, \n    primary?: boolean, \n    size?: 'S' | 'M' | 'L'\n}\ntype MyGenericComponent = &lt;T&gt;(p: MyComponentProps&lt;T&gt;) =&gt; ReactElement | null;\n\nconst MyComponent: MyGenericComponent = (props) =&gt; { ... }\n</code></pre>\n\n<p>Not very elegant but works. Still React does not fully recognize the function is a Component, but intellisense related to correct props check seem to work.</p>\n\n<p>To my understanding, the reason it's so complicated to create generic function components with typescript seems to boil down to that typescript does not support 'higher kinded types'.</p>\n"}], "owner": {"reputation": 381, "user_id": 4804346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/179b7d8842f2b240869824320be23783?s=128&d=identicon&r=PG&f=1", "display_name": "Nabuska", "link": "https://stackoverflow.com/users/4804346/nabuska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1572596177, "creation_date": 1554320008, "question_id": 55502971, "link": "https://stackoverflow.com/questions/55502971/how-to-create-generic-function-component", "title": "How to create generic function Component", "body": "<p>Is is possible to create generic function Components?</p>\n\n<p>I assumed that something like next example would have done the trick:</p>\n\n<pre><code>type MyComponentProps&lt;T&gt; = T &amp; {\n    component: ComponentType&lt;T&gt;, \n    primary?: boolean, \n    size?: 'S' | 'M' | 'L'\n}\n\n\nconst MyComponent: ComponentType&lt;MyComponentProps&lt;T&gt;&gt; = ({ component, size, primary,...rest }) =&gt; {\n    /* ... */\n}\n</code></pre>\n\n<p>... but not</p>\n\n<p>When declaring the component as function and leaving out the React.ComponentType declaration the declaration seems to be fine:</p>\n\n<pre><code>function MyComponent&lt;T&gt;({ size, primary, component, ...rest }: MyComponentProps&lt;T&gt;) {\n    /* ... */\n}\n</code></pre>\n\n<p>But writing the Component like so, TSX (I'm using latest create-react-app) does not recognize the it as a Component anymore, because it is missing the React.ComponentType declaration I assume.</p>\n"}, {"tags": ["typescript", "dart"], "comments": [{"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554319769, "post_id": 55502873, "comment_id": 97712002, "body": "welcome to dart \\o/ ...sry"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554319891, "post_id": 55502873, "comment_id": 97712065, "body": "the only thign I know of to make it shorter is passing the BaseLocale constructor the values of the BaseLoginLocale and BaseLoginActionsLocale as well and passing them through"}, {"owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554320953, "post_id": 55502873, "comment_id": 97712625, "body": "@jonathanHeindl Could you post it as an answer? I&#39;m not sure how the syntax should be"}], "answers": [{"tags": [], "owner": {"reputation": 656, "user_id": 3353495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ac2a72ff5ca7a30d8c2fd328a7690a0?s=128&d=identicon&r=PG&f=1", "display_name": "FiringSquadWitness", "link": "https://stackoverflow.com/users/3353495/firingsquadwitness"}, "is_accepted": false, "score": 0, "last_activity_date": 1554440741, "creation_date": 1554440741, "answer_id": 55528549, "question_id": 55502873, "link": "https://stackoverflow.com/questions/55502873/dart-how-to-define-an-interface-like-in-typescript/55528549#55528549", "title": "Dart - How to define an interface like in TypeScript?", "body": "<p>To pass the BaseLocale all of your values you could implement it as follows:</p>\n\n<pre><code>class BaseLoginActionsLocale {\n  final String submit;\n  final String forgot;\n\n  BaseLoginActionsLocale(this.submit, this.forgot);\n}\n\nclass BaseLoginLocale {\n  final String title;\n  final BaseLoginActionsLocale actions;\n\n  BaseLoginLocale(this.title, submit, forgot) : actions = new BaseLoginActionsLocale(submit, forgot);\n}\n\nclass BaseLocale {\n  final BaseLoginLocale login;\n\n  BaseLocale(title, submit, forgot) : login = new BaseLoginLocale(title, submit, forgot);  \n}\n\nfinal BaseLocale enLocale = BaseLocale('Login', 'Login', 'Forgot Password?');\n</code></pre>\n\n<p>Note that this approach makes it the responsibility of <code>BaseLocale</code> to know the properties of its dependencies (and by extension the implementation) and may be considered as an anti-pattern by some...</p>\n"}], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554440741, "creation_date": 1554319592, "question_id": 55502873, "link": "https://stackoverflow.com/questions/55502873/dart-how-to-define-an-interface-like-in-typescript", "title": "Dart - How to define an interface like in TypeScript?", "body": "<p>I come from Typescript, and in TypeScript, I could define an interface of an object like so:</p>\n\n<pre><code>export interface Locale {\n  login: {\n    title: string;\n    actions: {\n      submit: string;\n      forgot: string;\n    }\n  }\n}\n</code></pre>\n\n<p>I understand that Dart has removed interfaces, and instead, all classes have <a href=\"https://www.dartlang.org/guides/language/language-tour#implicit-interfaces\" rel=\"nofollow noreferrer\">implicit interfaces</a></p>\n\n<p>So I tried to implement the interface I mentioned above by writing:</p>\n\n<pre><code>class BaseLoginActionsLocale {\n  final String submit;\n  final String forgot;\n\n  BaseLoginActionsLocale({this.submit, this.forgot});\n}\n\nclass BaseLoginLocale {\n  final String title;\n  final BaseLoginActionsLocale actions;\n\n  BaseLoginLocale({this.title, this.actions});\n}\n\nclass BaseLocale {\n  final BaseLoginLocale login;\n\n  BaseLocale({this.login});\n}\n\n...\n\nfinal BaseLocale enLocale = BaseLocale(\n  login: BaseLoginLocale(\n    title: 'Login',\n    actions: BaseLoginActionsLocale(\n      submit: 'Login',\n      forgot: 'Forgot Password?'\n    )\n  )\n);\n</code></pre>\n\n<p>But I feel like it's way too much boilerplate.</p>\n\n<p>So my question is, is there a better way of implementing an int</p>\n"}, {"tags": ["angular", "typescript", "constructor", "expression"], "comments": [{"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 1, "creation_date": 1554319802, "post_id": 55502864, "comment_id": 97712023, "body": "Any build errors during build? Any console errors at runtime?"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1554319858, "post_id": 55502864, "comment_id": 97712050, "body": "@mbojko There is no issue in the code you provided, there should be something else, take a look at your console logs"}, {"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "reply_to_user": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1554320358, "post_id": 55502864, "comment_id": 97712322, "body": "No errors reported, no problems with the build.  @mbojko"}, {"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1554320464, "post_id": 55502864, "comment_id": 97712381, "body": "Green and good to go :/  @RezaRahmati"}, {"owner": {"reputation": 2354, "user_id": 11115145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4b5c8007700458cebe44394810a4edc?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Falyoun", "link": "https://stackoverflow.com/users/11115145/abdulrahman-falyoun"}, "edited": false, "score": 0, "creation_date": 1554320845, "post_id": 55502864, "comment_id": 97712571, "body": "Try to provide a default value for query , so query: string = &#39;&#39;;"}, {"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "reply_to_user": {"reputation": 2354, "user_id": 11115145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4b5c8007700458cebe44394810a4edc?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Falyoun", "link": "https://stackoverflow.com/users/11115145/abdulrahman-falyoun"}, "edited": false, "score": 0, "creation_date": 1554321122, "post_id": 55502864, "comment_id": 97712718, "body": "@Abdulrahman Its defined here ```   constructor() {     this.query = &quot;Name&quot;; } ```"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1554321231, "post_id": 55502864, "comment_id": 97712762, "body": "@ConnorsFan why forms module is needed?"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1554321298, "post_id": 55502864, "comment_id": 97712808, "body": "@MayMammaz can you please create a stackblitz for your issue, then we can help you better and most of the time you will find what is wrong when creating stackblitz projetc"}, {"owner": {"reputation": 1708, "user_id": 3569921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/077N5.jpg?s=128&g=1", "display_name": "marcusshep", "link": "https://stackoverflow.com/users/3569921/marcusshep"}, "edited": false, "score": 0, "creation_date": 1554322873, "post_id": 55502864, "comment_id": 97713571, "body": "there&#39;s something you&#39;re not showing us. Check this <a href=\"https://stackblitz.com/edit/angular-d69vjq\" rel=\"nofollow noreferrer\">stack blitz</a> it contains the code you provided and works fine."}, {"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1554324418, "post_id": 55502864, "comment_id": 97714219, "body": "@RezaRahmati <a href=\"https://stackblitz.com/edit/angulartstry\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angulartstry</a>"}, {"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "reply_to_user": {"reputation": 1708, "user_id": 3569921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/077N5.jpg?s=128&g=1", "display_name": "marcusshep", "link": "https://stackoverflow.com/users/3569921/marcusshep"}, "edited": false, "score": 0, "creation_date": 1554324460, "post_id": 55502864, "comment_id": 97714240, "body": "@marcusshep I uploaded my code here, it works on the editor not on my browsers <a href=\"https://stackblitz.com/edit/angulartstry\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angulartstry</a>"}, {"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "edited": false, "score": 0, "creation_date": 1554325701, "post_id": 55502864, "comment_id": 97714720, "body": "My server wasnt running properly, after spending 4+ hrs on this i finally got it.  I cant thank you guys enough for your help."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "edited": false, "score": 0, "creation_date": 1554324612, "post_id": 55504014, "comment_id": 97714306, "body": "BrowserModule is imported see app.module.ts file <a href=\"https://stackblitz.com/edit/angulartstry\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angulartstry</a>"}, {"owner": {"reputation": 1258, "user_id": 2544348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3a480714276555ae45c09994c6427?s=128&d=identicon&r=PG", "display_name": "Marnix Harderwijk", "link": "https://stackoverflow.com/users/2544348/marnix-harderwijk"}, "reply_to_user": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "edited": false, "score": 0, "creation_date": 1554325108, "post_id": 55504014, "comment_id": 97714516, "body": "@MayMammaz your code on stackblitz works just fine for me. Maybe its your browser? Try incognito mode on your own stackblitz link..."}, {"owner": {"reputation": 76, "user_id": 10421905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75b3adf2f95ca67e291b2043f3dff40f?s=128&d=identicon&r=PG", "display_name": "Shay Levinzon", "link": "https://stackoverflow.com/users/10421905/shay-levinzon"}, "edited": false, "score": 0, "creation_date": 1554325726, "post_id": 55504014, "comment_id": 97714733, "body": "I can also see it works in stackblitz. maybe an ad blocker or browser issue. does it work with other browsers? which browser are you using?"}], "tags": [], "owner": {"reputation": 76, "user_id": 10421905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75b3adf2f95ca67e291b2043f3dff40f?s=128&d=identicon&r=PG", "display_name": "Shay Levinzon", "link": "https://stackoverflow.com/users/10421905/shay-levinzon"}, "is_accepted": false, "score": 0, "last_activity_date": 1554324451, "creation_date": 1554324451, "answer_id": 55504014, "question_id": 55502864, "link": "https://stackoverflow.com/questions/55502864/expressions-not-working-in-code-angular-ts/55504014#55504014", "title": "Expressions not working in code Angular/TS", "body": "<p>I think your missing <a href=\"https://angular.io/api/platform-browser/BrowserModule\" rel=\"nofollow noreferrer\">BrowserModule</a> in your <code>app.module.ts</code> imports array (this module should be only imported once in the root module).\nIf you have another nested modules you should use <a href=\"https://angular.io/api/common/CommonModule\" rel=\"nofollow noreferrer\">CommonModule</a>.\nTry sharing your app.module.ts if this doesn't work. \nThe code you added should work.</p>\n"}], "owner": {"reputation": 11, "user_id": 4917192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-RAgcq02us/AAAAAAAAAAI/AAAAAAAAAGY/4dx-wkKtvKc/photo.jpg?sz=128", "display_name": "May Mammaz", "link": "https://stackoverflow.com/users/4917192/may-mammaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554324451, "creation_date": 1554319568, "question_id": 55502864, "link": "https://stackoverflow.com/questions/55502864/expressions-not-working-in-code-angular-ts", "title": "Expressions not working in code Angular/TS", "body": "<p>Why is my {{ expression }} not working?</p>\n\n<p>Ive tried everything and the web browser doesnt recognize this {{ expression }} or ng-bind it simply displays the {{ expression }} like so or not at all when using ng-bind, can anyone help?</p>\n\n<p>Im using VS code and have disabled a few plugins due to unnecessary errors but problem is visible on the browser, tried on Chrome and Safari</p>\n\n<p>From HTML file</p>\n\n<pre><code>          &lt;div class=\"form-label\"&gt;&lt;strong&gt;For:&lt;/strong&gt;\n            {{ query }}\n          &lt;/div&gt;\n\n</code></pre>\n\n<p>From TS file</p>\n\n<pre><code>\nexport class AppComponent {\n  query: string;\n\n  constructor() {\n    this.query = \"Name\";\n }\n}\n\n</code></pre>\n\n<p>Expected Result:</p>\n\n<p>(On Browser)</p>\n\n<p>Name</p>\n\n<p>Actual Result </p>\n\n<p>(On Browser)</p>\n\n<p>{{ query }}</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 3, "creation_date": 1554319659, "post_id": 55502831, "comment_id": 97711950, "body": "You must initialize the array: <code>let values: number[] = [];</code>."}, {"owner": {"reputation": 2121, "user_id": 1009036, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/51f1a7380da7d24e6307f264ae460713?s=128&d=identicon&r=PG", "display_name": "Krishna Teja Veeramachaneni", "link": "https://stackoverflow.com/users/1009036/krishna-teja-veeramachaneni"}, "edited": false, "score": 1, "creation_date": 1554319665, "post_id": 55502831, "comment_id": 97711952, "body": "You need to initialize the values array, not just define. Try values: number[] = []; instead."}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 9339232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f670187b04211e129848c64c318e7aba?s=128&d=identicon&r=PG&f=1", "display_name": "nlopez", "link": "https://stackoverflow.com/users/9339232/nlopez"}, "edited": false, "score": 0, "creation_date": 1554319915, "post_id": 55502933, "comment_id": 97712085, "body": "I do need the var keyword If I create my array inside a function."}, {"owner": {"reputation": 8070, "user_id": 2078685, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/SD5yb.jpg?s=128&g=1", "display_name": "Saksham", "link": "https://stackoverflow.com/users/2078685/saksham"}, "reply_to_user": {"reputation": 351, "user_id": 9339232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f670187b04211e129848c64c318e7aba?s=128&d=identicon&r=PG&f=1", "display_name": "nlopez", "link": "https://stackoverflow.com/users/9339232/nlopez"}, "edited": false, "score": 2, "creation_date": 1554319956, "post_id": 55502933, "comment_id": 97712108, "body": "then use <code>let</code>, not <code>var</code> @nlopez"}, {"owner": {"reputation": 351, "user_id": 9339232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f670187b04211e129848c64c318e7aba?s=128&d=identicon&r=PG&f=1", "display_name": "nlopez", "link": "https://stackoverflow.com/users/9339232/nlopez"}, "edited": false, "score": 0, "creation_date": 1554320936, "post_id": 55502933, "comment_id": 97712614, "body": "I will use it now! Thank you so much for your quick response and the info provided @Saksham"}], "tags": [], "owner": {"reputation": 8070, "user_id": 2078685, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/SD5yb.jpg?s=128&g=1", "display_name": "Saksham", "link": "https://stackoverflow.com/users/2078685/saksham"}, "is_accepted": true, "score": 2, "last_activity_date": 1554320365, "last_edit_date": 1554320365, "creation_date": 1554319835, "answer_id": 55502933, "question_id": 55502831, "link": "https://stackoverflow.com/questions/55502831/typescript-variable-undefined-inside-array-foreach/55502933#55502933", "title": "TypeScript Variable Undefined inside array.forEach()", "body": "<p>Try to initialize your array rather than just declare it as</p>\n\n<pre><code>values: number[] = [];\n</code></pre>\n\n<p>You do not need the <code>var</code> keyword in angular if you are declaring a variable directly inside a component class. If you need to do it inside a function, use <code>let</code> keyword. more information <strong><a href=\"https://stackoverflow.com/questions/762011/whats-the-difference-between-using-let-and-var\">HERE</a></strong></p>\n"}], "owner": {"reputation": 351, "user_id": 9339232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f670187b04211e129848c64c318e7aba?s=128&d=identicon&r=PG&f=1", "display_name": "nlopez", "link": "https://stackoverflow.com/users/9339232/nlopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "accepted_answer_id": 55502933, "answer_count": 1, "score": 0, "last_activity_date": 1554320365, "creation_date": 1554319451, "last_edit_date": 1554319853, "question_id": 55502831, "link": "https://stackoverflow.com/questions/55502831/typescript-variable-undefined-inside-array-foreach", "title": "TypeScript Variable Undefined inside array.forEach()", "body": "<p>I will try to explain my problem. I have an array of a particular object and, from this array, I want to create a new one with the value of a particular field of each object. </p>\n\n<p>In order to achieve this, I tried to use array.forEach() method but I get a variable undefined error inside the forEach() function. This is my code:</p>\n\n<pre><code>var values: number[];\nmeasures.forEach((measure)=&gt;{\n    values.push(measure.value);\n});\n</code></pre>\n\n<p>I've tried to declare the array values as public (and access this.values) and also to declare it in the function where I make the forEach and neither way worked. </p>\n\n<p>Here is the error I get in the browser (angular CLI reports no problem):</p>\n\n<pre><code>ERROR TypeError: \"values is undefined\"\n</code></pre>\n"}, {"tags": ["typescript", "google-cloud-firestore", "google-cloud-functions", "callable"], "comments": [{"owner": {"reputation": 359, "user_id": 9675486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "aman", "link": "https://stackoverflow.com/users/9675486/aman"}, "reply_to_user": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1554320857, "post_id": 55502767, "comment_id": 97712574, "body": "hi, no. taking out the final else makes it possible to return nothing. I get: src/index.ts:83:63 - error TS7030: Not all code paths return a value.   I&#39;m noticing I can deploy by adding async into the function signature onCall, though I still see a warning"}, {"owner": {"reputation": 2534, "user_id": 10609635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e433b22da80480e4d7d811ceec10430?s=128&d=identicon&r=PG&f=1", "display_name": "SpencerPark", "link": "https://stackoverflow.com/users/10609635/spencerpark"}, "edited": false, "score": 2, "creation_date": 1554320948, "post_id": 55502767, "comment_id": 97712622, "body": "Your <code>else if</code> branch doesn&#39;t return anything. Those return statements return from the inner functions declared when calling <code>then</code> and <code>catch</code>."}, {"owner": {"reputation": 359, "user_id": 9675486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "aman", "link": "https://stackoverflow.com/users/9675486/aman"}, "edited": false, "score": 0, "creation_date": 1554322721, "post_id": 55502767, "comment_id": 97713509, "body": "ah, I got it, I think I need to use &#39;await&#39;, then, since it appears onCall does not give the possibility of using &#39;callbacks&#39;/completion blocks ? yes I think that does the trick. if you&#39;d like to post, I would accept that as the answer"}], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1554330607, "creation_date": 1554330607, "answer_id": 55505260, "question_id": 55502767, "link": "https://stackoverflow.com/questions/55502767/not-all-code-paths-return-a-value-for-google-cloud-function-callable/55505260#55505260", "title": "Not all code paths return a value (for google cloud function callable)", "body": "<p>With callables, you can either directly return the object to be serialized and sent to the client, or you can return a promise that resolves with the object to send.  All you have to do is return the promise in your <code>else if</code> block:</p>\n\n<pre><code>    // note the return added to the next line\n    return db.collection(`InHere/${my_uid}`).get().then(snapshot =&gt; \n    {\n        return {data:{}, success:true};\n    }).catch(e =&gt;\n    {\n        return {data:{message:\"No last message yet...\", success:false}};\n    });\n</code></pre>\n\n<p>This will return the promise that resolves to either value you returned from the <code>then</code> or <code>catch</code> callback.</p>\n\n<p>You have no obligation to use async/await, but if you do, you should completely replace your then and catch blocks with proper async/await syntax.  It will look very different.</p>\n"}], "owner": {"reputation": 359, "user_id": 9675486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "aman", "link": "https://stackoverflow.com/users/9675486/aman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1121, "favorite_count": 1, "accepted_answer_id": 55505260, "answer_count": 1, "score": 0, "last_activity_date": 1554330607, "creation_date": 1554319157, "last_edit_date": 1554320784, "question_id": 55502767, "link": "https://stackoverflow.com/questions/55502767/not-all-code-paths-return-a-value-for-google-cloud-function-callable", "title": "Not all code paths return a value (for google cloud function callable)", "body": "<p>I have a cloud function and when I use some async functions and put a 'return' in each possible output, I still get <em>Not all code paths return a value</em></p>\n\n<p>I've tried deleting my database calls and just having the 'return {data:{...}};' which makes the error go away.</p>\n\n<p>I have also tried wrapping everything inside a 'try' 'catch' block. </p>\n\n<p>I current have what I would expect to work which is two blocks get().then()...catch()..</p>\n\n<pre><code>export const getUsersInHere = functions.https.onCall((data, context) =&gt; \n{\n    if(!context || !context.auth || !context.auth.uid)\n    {\n        return {data:{message:\"Please login again...\", success:false}};\n    }\n    else if(data)\n    {\n        const my_uid = context.auth.uid;\n        db.collection(`InHere/${my_uid}`).get().then(snapshot =&gt; \n        {\n           return {data:{}, success:true};\n        }).catch(e =&gt;\n        {\n            return {data:{message:\"No last message yet...\", success:false}};\n        });\n    }\n    else \n    {\n        return {data:{message:\"no body sent\", success:false}};\n    }\n});\n\n</code></pre>\n\n<p>I would expect to be able to deploy my cloud function with <em>firebase deploy</em>, instead I am getting deploy errors: </p>\n\n<pre><code>\nsrc/index.ts:83:62 - error TS7030: Not all code paths return a value.\n\n83 export const getUsersInHere = functions.https.onCall((data, context) =&gt;\n\n</code></pre>\n\n<p><strong>Note</strong> \nI think I've found that 'firestore deploy' works when I added 'async' into the signature of the callable, however the 'warning/error' still remains in Microsoft Studio Code (Not all code paths return a value.ts(7030))</p>\n\n<p>export const getUsersInThisChatRoom = functions.https.onCall(<strong>async</strong> (data, context) => </p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 5818495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e66a56d72b67d3ef2e2dfcb5027b6f32?s=128&d=identicon&r=PG&f=1", "display_name": "g0np", "link": "https://stackoverflow.com/users/5818495/g0np"}, "is_accepted": false, "score": 0, "last_activity_date": 1554817885, "creation_date": 1554817885, "answer_id": 55594496, "question_id": 55502658, "link": "https://stackoverflow.com/questions/55502658/can-a-component-access-the-viewmodel-of-another-not-related-component/55594496#55594496", "title": "Can a component access the viewmodel of another not-related component?", "body": "<p>I've ended up using Mobx observables.</p>\n\n<p>I have a parent component whose childs are <strong>ResultsComponent</strong> and <strong>ReportComponent</strong>.\nIn this parent I've created an @observable variable <em>selectedTabId</em> to hold the TabId of the tab I want to show as selected, and an @observable function to change that <em>selectedTabId</em>.</p>\n\n<p>So I pass the function (or callback) to the <strong>ResultsComponent</strong> and execute it during the onClick event. This sets the value of <em>selectedTabId</em>.\nI also pass the variable <em>selectedTabId</em> to the <strong>ReportComponent</strong> and then to the <strong>TabsComponent</strong> and use it to set the selected tab. Since it is and @observable, every time the callback is executed in <strong>ButtonComponent</strong> the tabs are changed in <strong>TabsComponent</strong></p>\n"}], "owner": {"reputation": 101, "user_id": 5818495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e66a56d72b67d3ef2e2dfcb5027b6f32?s=128&d=identicon&r=PG&f=1", "display_name": "g0np", "link": "https://stackoverflow.com/users/5818495/g0np"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554817885, "creation_date": 1554318760, "last_edit_date": 1554319475, "question_id": 55502658, "link": "https://stackoverflow.com/questions/55502658/can-a-component-access-the-viewmodel-of-another-not-related-component", "title": "Can a component access the viewmodel of another not-related component?", "body": "<p>I'm using Typescript, React and Material-UI. Plain React, no Redux, Flux, etc.</p>\n\n<p>When I click a button in <strong>ButtonComponent</strong>, I need to scroll to <strong>TabsComponent</strong> and select a specific tab. These components don't have a parent-child relation.</p>\n\n<pre><code>&lt;ResultsComponent&gt;\n  ...\n  &lt;ButtonComponent/&gt;\n  ...\n&lt;/ResultsComponent&gt;\n&lt;ReportComponent&gt;\n  &lt;TabsComponent/&gt;\n  ...\n&lt;ReportComponent&gt;\n</code></pre>\n\n<p>In <strong>TabsComponent</strong> I have a viewModel to manage some logic and to store the <em>selectedTabId</em></p>\n\n<p>In <strong>ButtonComponent</strong> I have an <em>onClick</em> event which gets the position of <strong>TabsComponent</strong> and uses <em>window.scrollTo(...)</em> to perform the scrolling. It also gets the <em>tabId</em> to which I need to switch, but I'm not sure if there is a way to access the viewModel in <strong>TabsComponent</strong> and set the property <em>selectedTabId</em>.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["typescript", "react-redux", "redux-form"], "comments": [{"owner": {"reputation": 414, "user_id": 9428235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff4ae8f67ef6797e9491862a2bfd5392?s=128&d=identicon&r=PG&f=1", "display_name": "Danish", "link": "https://stackoverflow.com/users/9428235/danish"}, "edited": false, "score": 0, "creation_date": 1584707184, "post_id": 55502649, "comment_id": 107525530, "body": "<a href=\"https://stackoverflow.com/questions/49749060/how-do-i-use-types-defined-by-types-redux-form-in-react-component-with-field-an\">Stack overflow answer</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1534, "user_id": 2439580, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YTXZ5.jpg?s=128&g=1", "display_name": "stilllife", "link": "https://stackoverflow.com/users/2439580/stilllife"}, "is_accepted": false, "score": 0, "last_activity_date": 1554360573, "creation_date": 1554360573, "answer_id": 55509485, "question_id": 55502649, "link": "https://stackoverflow.com/questions/55502649/how-can-i-use-fieldarrays-with-typescript/55509485#55509485", "title": "How can I use FieldArrays with typescript?", "body": "<p>While lambda inside <code>onClick</code> are discouraged due to the performance impact you can go for them by disabling the tslint rule <code>\"jsx-no-lambda\": false</code>.</p>\n\n<p>If you prefer to disable the rule only for this file see <a href=\"https://palantir.github.io/tslint/usage/rule-flags/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/usage/rule-flags/</a></p>\n\n<p>The other way is to declare your function inside the map like:</p>\n\n<pre><code>{fields.map((hobby, index) =&gt; {\n    const doSomething = () =&gt; fields.remove(index)\n    return &lt;li....&gt;\n})}\n</code></pre>\n\n<p>(Not sure this will solve the performance though)</p>\n"}], "owner": {"reputation": 54, "user_id": 11307635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b763609355be440adde25a2fc340e1?s=128&d=identicon&r=PG&f=1", "display_name": "GingerbreadGirl", "link": "https://stackoverflow.com/users/11307635/gingerbreadgirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 542, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554360573, "creation_date": 1554318738, "question_id": 55502649, "link": "https://stackoverflow.com/questions/55502649/how-can-i-use-fieldarrays-with-typescript", "title": "How can I use FieldArrays with typescript?", "body": "<p>I have a form that has 4 fields. I want to use FieldArray to be able to add/remove forms. I am looking at this example but finding it hard to apply to typescript. For example, I am getting an error for having the lambda function being inside the onClick as this is now forbidden in ts. Do I need to use interfaces?</p>\n\n<p>Many thanks in advance. </p>\n\n<pre><code>import { Field, FieldArray, reduxForm } from 'redux-form'\nimport validate from './validate'\n\nconst renderField = ({ input, label, type, meta: { touched, error } }) =&gt; (\n  &lt;div&gt;\n    &lt;label&gt;{label}&lt;/label&gt;\n    &lt;div&gt;\n      &lt;input {...input} type={type} placeholder={label} /&gt;\n      {touched &amp;&amp; error &amp;&amp; &lt;span&gt;{error}&lt;/span&gt;}\n    &lt;/div&gt;\n  &lt;/div&gt;\n)\n\nconst renderHobbies = ({ fields, meta: { error } }) =&gt; (\n  &lt;ul&gt;\n    &lt;li&gt;\n      &lt;button type=\"button\" onClick={() =&gt; fields.push()}&gt;\n        Add Hobby\n      &lt;/button&gt;\n    &lt;/li&gt;\n    {fields.map((hobby, index) =&gt; (\n      &lt;li key={index}&gt;\n        &lt;button\n          type=\"button\"\n          title=\"Remove Hobby\"\n          onClick={() =&gt; fields.remove(index)}\n        /&gt;\n        &lt;Field\n          name={hobby}\n          type=\"text\"\n          component={renderField}\n          label={`Hobby #${index + 1}`}\n        /&gt;\n      &lt;/li&gt;\n    ))}\n    {error &amp;&amp; &lt;li className=\"error\"&gt;{error}&lt;/li&gt;}\n  &lt;/ul&gt;\n)```\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1126, "user_id": 5500101, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e7840b73b25b730f2c71acbc054148e?s=128&d=identicon&r=PG", "display_name": "Greg Veres", "link": "https://stackoverflow.com/users/5500101/greg-veres"}, "edited": false, "score": 0, "creation_date": 1554324499, "post_id": 55502824, "comment_id": 97714257, "body": "unfortunately that didn&#39;t change anything. It did add a var _importDefault to the beginning of the output file but it didn&#39;t change the calling site at all, which is where the problem is."}, {"owner": {"reputation": 1126, "user_id": 5500101, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e7840b73b25b730f2c71acbc054148e?s=128&d=identicon&r=PG", "display_name": "Greg Veres", "link": "https://stackoverflow.com/users/5500101/greg-veres"}, "edited": false, "score": 0, "creation_date": 1554325668, "post_id": 55502824, "comment_id": 97714704, "body": "Also, enabling this setting completely broke all my existing imports"}], "tags": [], "owner": {"reputation": 2437, "user_id": 2887022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf621e48f20f06ecf5fe0562d8713647?s=128&d=identicon&r=PG", "display_name": "Bsalex", "link": "https://stackoverflow.com/users/2887022/bsalex"}, "is_accepted": false, "score": 0, "last_activity_date": 1554319411, "creation_date": 1554319411, "answer_id": 55502824, "question_id": 55502057, "link": "https://stackoverflow.com/questions/55502057/problem-import-resizesensor-into-typescript/55502824#55502824", "title": "Problem import ResizeSensor into typescript", "body": "<p>Try to use <code>esModuleInterop</code> compiler option<br>\n<a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n"}], "owner": {"reputation": 1126, "user_id": 5500101, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e7840b73b25b730f2c71acbc054148e?s=128&d=identicon&r=PG", "display_name": "Greg Veres", "link": "https://stackoverflow.com/users/5500101/greg-veres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554319411, "creation_date": 1554316478, "last_edit_date": 1554319180, "question_id": 55502057, "link": "https://stackoverflow.com/questions/55502057/problem-import-resizesensor-into-typescript", "title": "Problem import ResizeSensor into typescript", "body": "<p>I am trying to use css-element-queries/ResizeSensor in my typescript app with webpack. </p>\n\n<p>I have added the npm and the npm includes a .d.ts file. \nThe problem is that when I type this:</p>\n\n<pre><code>new ResizeSensor(element, cb);\n</code></pre>\n\n<p>the typescript compiler generates:</p>\n\n<pre><code>new ResizeSensor_1.default(element, cb);\n</code></pre>\n\n<p>and of course that is incorrect. ResizeSensor returns a single class and the correct code that TS should create is:</p>\n\n<pre><code>new ResizeSensor_1(element, cb);\n</code></pre>\n\n<p>The ResizeSensor.d.ts file contains:</p>\n\n<pre><code>export declare type ResizeSensorCallback = (size: { width: number; height: number; }) =&gt; void;\n\ndeclare class ResizeSensor {\n    constructor(element: Element | Element[], callback: ResizeSensorCallback);\n    detach(callback?: ResizeSensorCallback): void;\n    reset(): void;\n\n    static detach(element: Element | Element[], callback?: ResizeSensorCallback): void;\n    static reset(element: Element | Element[]): void;\n}\n\nexport default ResizeSensor;\n</code></pre>\n\n<p>and I am importing it like this:</p>\n\n<pre><code>import ResizeSensor from 'css-element-queries/src/ResizeSensor';\n</code></pre>\n\n<p>TS complains if I put ResizeSensor in {} and I have tried all the other forms of the import statement that I know of. </p>\n\n<p>My tsconfig.json file includes the following options:</p>\n\n<pre><code>\"target\": \"es5\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>\"module\": \"amd\"\n</code></pre>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["angular", "typescript", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1554317161, "creation_date": 1554317161, "answer_id": 55502246, "question_id": 55501842, "link": "https://stackoverflow.com/questions/55501842/angular-fire-store-error-no-properties-in-common-with-type-getoptions/55502246#55502246", "title": "Angular Fire Store - Error &quot;No Properties in common with type &#39;GetOptions&#39;.&quot;", "body": "<p>Based on these docs -> <a href=\"https://github.com/angular/angularfire2/blob/master/docs/firestore/documents.md\" rel=\"nofollow noreferrer\">https://github.com/angular/angularfire2/blob/master/docs/firestore/documents.md</a></p>\n\n<p>You are going to need to call something like</p>\n\n<pre><code>const test = this.afs.doc('Authors/Test').valueChanges();\n</code></pre>\n\n<p>Then in your html you need to use the async pipe like</p>\n\n<pre><code>{{ (item | async)?.name }}\n</code></pre>\n\n<p>If you don't want to use pipe you can .subscribe to the valueChanges observable. Like..</p>\n\n<pre><code>this.afs.doc('Authors/Test').valueChanges().subscribe(doc =&gt; {\n    this.name = doc.name;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 13246228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s_QpWNeOo5E/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJP34QK4DDTVKD4VdrLVilDFozRfnA/photo.jpg?sz=128", "display_name": "&#193;lvaro Fern&#225;ndez", "link": "https://stackoverflow.com/users/13246228/%c3%81lvaro-fern%c3%a1ndez"}, "is_accepted": false, "score": 0, "last_activity_date": 1609665909, "creation_date": 1609665909, "answer_id": 65548269, "question_id": 55501842, "link": "https://stackoverflow.com/questions/55501842/angular-fire-store-error-no-properties-in-common-with-type-getoptions/65548269#65548269", "title": "Angular Fire Store - Error &quot;No Properties in common with type &#39;GetOptions&#39;.&quot;", "body": "<p>You are not giving getOptions to the get method:\nyou have to give a getOptions object as it is explained here <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.GetOptions\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/js/firebase.firestore.GetOptions</a>.</p>\n<pre><code>var getOptions = {\nsource: 'cache'\n};\n</code></pre>\n<p>But I don't think that will solve your problem, I imagine you want to get the value of name from a document. Then you should try something like:</p>\n<pre><code>this.afs.doc('Authors/'Test').get().then(object =&gt;{\n  test = object.get(&quot;name&quot;);\n});\n</code></pre>\n<p>You can checkout the documentation here! <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/get-data</a></p>\n"}], "owner": {"reputation": 91, "user_id": 10935375, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w_TF7SXff6w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbEl65DR4vAlf0d9OeJtXYGYsp2QQ/mo/photo.jpg?sz=128", "display_name": "Markus Gerlach", "link": "https://stackoverflow.com/users/10935375/markus-gerlach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1609665909, "creation_date": 1554315800, "last_edit_date": 1554329022, "question_id": 55501842, "link": "https://stackoverflow.com/questions/55501842/angular-fire-store-error-no-properties-in-common-with-type-getoptions", "title": "Angular Fire Store - Error &quot;No Properties in common with type &#39;GetOptions&#39;.&quot;", "body": "<p>i'm trying to get one value from a document. I tried the following:</p>\n\n<pre><code>getAuthorData(){\nconst test = this.afs.collection('Authors').doc('Test').get('name');\nconsole.log(test);\n}\n</code></pre>\n\n<p>Unfortunately i'm receiving the following error:</p>\n\n<blockquote>\n  <p>ERROR in src/app/blogdetail/blogdetail.component.ts(55,65): error TS2559: Type '\"name\"' has no properties in common with type 'GetOptions'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "edited": false, "score": 0, "creation_date": 1554314519, "post_id": 55501467, "comment_id": 97709411, "body": "You have defined a variable named <code>items</code> as a <code>Object[]</code> which means an array of objects. You then initialize this variable to the value <code>[&quot;jay&quot;,&quot;roy&quot;,&quot;gini&quot;,&quot;rock&quot;,&quot;joy&quot;,&quot;kiya&quot;];</code> which is an array of strings (<code>string[]</code>). That doesn&#39;t make sense"}, {"owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "edited": false, "score": 0, "creation_date": 1554314623, "post_id": 55501467, "comment_id": 97709456, "body": "&quot;I have tried this thing&quot; ... what have you tried? I don&#39;t see the logic where you map the json from your webservice to a string[]."}, {"owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "reply_to_user": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "edited": false, "score": 0, "creation_date": 1554314831, "post_id": 55501467, "comment_id": 97709572, "body": "@RyanE. the users that I am getting from the server, I stored that in a variable using service call and then I mapped the items with that variable but with this approach I was not able to get the suggestion while typing. that is what I tried."}, {"owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "edited": false, "score": 0, "creation_date": 1554315079, "post_id": 55501467, "comment_id": 97709692, "body": "I left an answer.  If that doesn&#39;t help can you respond with what you have tried? It&#39;s possible angular isn&#39;t detecting a change in the object array since Angular will look at the reference and if the reference doesn&#39;t change then it won&#39;t send the updated array down to the directive."}, {"owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "edited": false, "score": 0, "creation_date": 1554316408, "post_id": 55501467, "comment_id": 97710402, "body": "@JayeshVyas Try using the <i>mentionConfig</i> like I had said in my answer."}, {"owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1554381195, "post_id": 55501467, "comment_id": 97736781, "body": "I also tried that but it is only working in my older JSON format. it is not working with the updated JSON format."}], "answers": [{"comments": [{"owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "edited": false, "score": 0, "creation_date": 1554315599, "post_id": 55501616, "comment_id": 97709957, "body": "If the array is large, looping through the data set is not recommended as it will lead to performance issues. Especially when &#39;mention&#39; will work on object arrays."}, {"owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "reply_to_user": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "edited": false, "score": 0, "creation_date": 1554315934, "post_id": 55501616, "comment_id": 97710131, "body": "@abd995 For sure. But if the library didn&#39;t support that type of configuration then you would have no choice but to convert to a string array. Or update your back end to return a string array."}], "tags": [], "owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "is_accepted": false, "score": 2, "last_activity_date": 1554394859, "last_edit_date": 1554394859, "creation_date": 1554314945, "answer_id": 55501616, "question_id": 55501467, "link": "https://stackoverflow.com/questions/55501467/store-json-data-into-array-in-angular-typescript/55501616#55501616", "title": "store json data into array in Angular TypeScript", "body": "<p>If you need help mapping your web service result to the string array something like this should do the trick.</p>\n\n<p><em>Updated answer for latest json.</em></p>\n\n<pre><code>this.myWebService.myWebServiceMethod.subscribe(result =&gt; {\n    this.items = result.map(item =&gt; {\n        return item.attributes.User;\n    }\n}\n</code></pre>\n\n<p>As @abd995 points out, there could be performance concerns with this method since you are looping over the array.  Be mindful how often you are executing the above code.  If your array is relatively small then there isn't much to worry about, but if you have 5k+ records you may want to think about updating your API to return the data in a better format - one you don't have to manipulate.</p>\n"}, {"comments": [{"owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "edited": false, "score": 0, "creation_date": 1554315316, "post_id": 55501659, "comment_id": 97709813, "body": "This would also require the author to set the response from the webserver directly to the items[]. Which may be what they are doing even though the question doesn&#39;t lead you to that conclusion."}, {"owner": {"reputation": 699, "user_id": 7998137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLYqW.png?s=128&g=1", "display_name": "Ryan E.", "link": "https://stackoverflow.com/users/7998137/ryan-e"}, "edited": false, "score": 0, "creation_date": 1554315597, "post_id": 55501659, "comment_id": 97709954, "body": "Ah nevermind, I see where they say &quot;So I want to store this into that above array named items&quot;. I think I was confused because the initial values were strings.  I also didn&#39;t expect the library to have a config type variable which allows you to specify a key on an object to look at.  +1 for that library author"}, {"owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1554378377, "post_id": 55501659, "comment_id": 97734966, "body": "Hii, your solution is working properly, I need one suggestion from you because I don&#39;t know how to use properly mention the library in angular. if my JSON format changes. Please see an edit on my post I have updated the JSON format.  I tried with [mention]=&quot;items.attributes&quot; and also tried with [mentionConfig]=&quot;{ labelKey: &#39;User&#39;}&quot;. Can you please suggest how can I achieve this?"}, {"owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "reply_to_user": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1554381102, "post_id": 55501659, "comment_id": 97736730, "body": "@JayeshVyas Have you tried [mentionConfig]=&quot;{ labelKey: &#39;attributes.User&#39;}&quot;"}, {"owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1554381390, "post_id": 55501659, "comment_id": 97736897, "body": "@abd995 Yes I tried with [mentionConfig]=&quot;{ labelKey: &#39;attributes.User&#39;}&quot;  and also tried with  [mention]=&quot;items.attributes&quot;.  but it is not working."}, {"owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "reply_to_user": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 1, "creation_date": 1554389827, "post_id": 55501659, "comment_id": 97742786, "body": "@JayeshVyas Looks like mention does not support nested object properties as labelKey. This is the <a href=\"https://github.com/dmacfarlane/angular-mentions/blob/master/src/mention/mention.directive.ts#L119\" rel=\"nofollow noreferrer\">sourcecode</a> of mention which sets labelKey without considering the possibility of nested object properties. If this is the case you will have to use the same method mentioned in @Ryans answer. Create an array using map like this <code>items = items.map((x) =&gt; x.attributes.User)</code>"}], "tags": [], "owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "is_accepted": false, "score": 2, "last_activity_date": 1554402032, "last_edit_date": 1554402032, "creation_date": 1554315155, "answer_id": 55501659, "question_id": 55501467, "link": "https://stackoverflow.com/questions/55501467/store-json-data-into-array-in-angular-typescript/55501659#55501659", "title": "store json data into array in Angular TypeScript", "body": "<p>Please add <em><strong>mentionConfig</strong></em> when the items is an array of objects. The field of the object which is to be used as the <em>label</em> should be given as the labelKey in the mention config like this. </p>\n\n<pre><code>&lt;input type=\"text\" [mention]=\"items\" [mentionConfig]=\"{ labelKey:'User'}\"&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Since the question was updated with an object array with two nested properties, <em><strong>mentionConfig</strong></em> cannot be used since <em><strong>mention</strong></em> only supports maximum of one level of nested property. Check the <strong>mention's</strong> source code <a href=\"https://github.com/dmacfarlane/angular-mentions/blob/master/src/mention/mention.directive.ts#L119\" rel=\"nofollow noreferrer\">here</a>. I have also raised an issue in <a href=\"https://github.com/dmacfarlane/angular-mentions/issues/90\" rel=\"nofollow noreferrer\">github</a> regarding this. So in this case we would have to create an array of labels from object array like so. </p>\n\n<pre><code>items = items.map((item) =&gt; item.attributes.User);\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4584, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554402032, "creation_date": 1554314336, "last_edit_date": 1554378497, "question_id": 55501467, "link": "https://stackoverflow.com/questions/55501467/store-json-data-into-array-in-angular-typescript", "title": "store json data into array in Angular TypeScript", "body": "<p>I am facing a problem while I am using Angular mention library.</p>\n\n<p>Here is my typescript code.</p>\n\n<pre><code>items: Object[] = [\"jay\",\"roy\",\"gini\",\"rock\",\"joy\",\"kiya\"];\n</code></pre>\n\n<p>I am using this defined named <code>items</code> array in my <code>component.html file</code></p>\n\n<pre><code>&lt;input  type=\"text\" id=\"cname\" name=\"cname\" placeholder=\"Type  Here..\" [mention]=\"items\"&gt;\n</code></pre>\n\n<p>so it is creating a text box and it is giving suggestion when I am typing any user name. </p>\n\n<p>Suppose I type <code>@j</code> then it will suggest all the names starting with the name <code>j</code> and after entering it will be entered into the text box with the sign <code>@</code>. So basically it is giving the functionality of the auto search from the array and for this, I have imported the <strong>mention</strong> library into my Angular7 application.</p>\n\n<p>I am designing a project in which all the users are coming from the web service. So I need to store those users into that <code>items</code> named array.</p>\n\n<p>The JSON format is as follows.</p>\n\n<pre><code> [\n   {\n      \"attributes\":  {\n        \"User\": \"jay\"\n    }\n},\n   {\n      \"attributes\": {\n        \"User\": \"roy\"\n    }\n},\n    {\n      \"attributes\":{\n        \"User\": \"kiya\"\n    }\n},\n    {\n      \"attributes\":{\n        \"User\": \"gini\"\n    }\n},\n   {\n      \"attributes\": {\n        \"User\": \"rock\"\n    }\n},\n   {\n      \"attributes\": {\n        \"User\": \"joy\"\n    }\n}\n\n]\n</code></pre>\n\n<p>The above JSON data is coming from a web server and I am storing it into a variable. So I want to store this into that above array named <code>items</code> so that in my text box while typing it can give autosuggest with the real data.</p>\n\n<p>I have tried this thing but at the time of typing in the text box, it is not giving any suggestions.</p>\n"}, {"tags": ["reactjs", "typescript", "d3.js", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 2515280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1d9b8f5d101dd099dde426f96605a3?s=128&d=identicon&r=PG", "display_name": "Phani", "link": "https://stackoverflow.com/users/2515280/phani"}, "edited": false, "score": 0, "creation_date": 1554315640, "post_id": 55501550, "comment_id": 97709982, "body": "Still I am seeing the type errors.  I even tried to declare the type as <code>HTMLCollectionOf&lt;SVGPathElement&gt;</code> and got <code>TS2322: Type &#39;HTMLCollectionOf&lt;Element&gt;&#39; is not assignable to type &#39;HTMLCollectionOf&lt;SVGPathElement&gt;&#39;</code> type error"}, {"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "reply_to_user": {"reputation": 139, "user_id": 2515280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1d9b8f5d101dd099dde426f96605a3?s=128&d=identicon&r=PG", "display_name": "Phani", "link": "https://stackoverflow.com/users/2515280/phani"}, "edited": false, "score": 0, "creation_date": 1554315963, "post_id": 55501550, "comment_id": 97710146, "body": "You cannot declare it as a Type as <code>document.getElementsByClassName</code> returns <code>HTMLCollectionOf&lt;Element&gt;</code>, this is already defined. you would have to instance check it like in the answer or cast it"}, {"owner": {"reputation": 139, "user_id": 2515280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1d9b8f5d101dd099dde426f96605a3?s=128&d=identicon&r=PG", "display_name": "Phani", "link": "https://stackoverflow.com/users/2515280/phani"}, "edited": false, "score": 0, "creation_date": 1554316220, "post_id": 55501550, "comment_id": 97710293, "body": "I tried to instance check just like in the answer but still i am seeing the type errors <code>TS2339: Property &#39;getTotalLength&#39; does not exist on type &#39;Element&#39;. TS2339: Property &#39;getPointAtLength&#39; does not exist on type &#39;Element</code>"}, {"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "reply_to_user": {"reputation": 139, "user_id": 2515280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1d9b8f5d101dd099dde426f96605a3?s=128&d=identicon&r=PG", "display_name": "Phani", "link": "https://stackoverflow.com/users/2515280/phani"}, "edited": false, "score": 1, "creation_date": 1554316472, "post_id": 55501550, "comment_id": 97710437, "body": "I don&#39;t know what you are going wrong unless you edit the code in question, but <a href=\"https://stackblitz.com/edit/so-svg-element?file=index.ts\" rel=\"nofollow noreferrer\">here is a stackblitz reproduction</a> of how you should be."}], "tags": [], "owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "is_accepted": false, "score": 1, "last_activity_date": 1554314677, "creation_date": 1554314677, "answer_id": 55501550, "question_id": 55501422, "link": "https://stackoverflow.com/questions/55501422/how-to-safely-define-htmlcollectionof-elements-in-typescript-with-react/55501550#55501550", "title": "How to safely define HTMLCollectionOf Elements in typescript with react?", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement/getTotalLength\" rel=\"nofollow noreferrer\"><code>getTotalLength</code></a> function is defined only on SVG and is absent on normal <code>Element</code> interfaces. This is why this type error is happening. </p>\n\n<p>What you can do here is to check if the element is an instance of <code>SVGPathElement</code>:</p>\n\n<pre><code>if(linesElement[i] instanceof SVGPathElement) {\n  end = linesElement[i].getTotalLength();\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 2515280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1d9b8f5d101dd099dde426f96605a3?s=128&d=identicon&r=PG", "display_name": "Phani", "link": "https://stackoverflow.com/users/2515280/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554314677, "creation_date": 1554314187, "question_id": 55501422, "link": "https://stackoverflow.com/questions/55501422/how-to-safely-define-htmlcollectionof-elements-in-typescript-with-react", "title": "How to safely define HTMLCollectionOf Elements in typescript with react?", "body": "<p>I am working on to create a d3 line chart with react and typescript and referring to <a href=\"https://bl.ocks.org/larsenmtl/e3b8b7c2ca4787f77d78f58d41c3da91\" rel=\"nofollow noreferrer\">https://bl.ocks.org/larsenmtl/e3b8b7c2ca4787f77d78f58d41c3da91</a> to achieve the mouse over functionality.</p>\n\n<p>At one point we have to get the line element  and check the total path length of line.</p>\n\n<pre><code>const linesElement: any =  document.getElementsByClassName(\"line\");\n\nlet beginning = 0,\n        end = linesElement[i].getTotalLength(),\n        target = null;\n\n    while (true){\n      target = Math.floor((beginning + end) / 2);\n      pos = linesElement[i].getPointAtLength(target);\n      if ((target === end || target === beginning) &amp;&amp; pos.x !== mouse[0]) {\n          break;\n      }\n      if (pos.x &gt; mouse[0])      end = target;\n      else if (pos.x &lt; mouse[0]) beginning = target;\n      else break; //position found\n    }\n</code></pre>\n\n<p>When I declare type as <code>any</code> I am getting <code>Type declaration of 'any' loses type-safety. Consider replacing it with a more precise type.tslint(no-any).</code></p>\n\n<p>When I declare type as <code>HTMLCollectionOf&lt;Element&gt;</code> I am getting the below error.</p>\n\n<pre><code>TS2339: Property 'getTotalLength' does not exist on type 'Element'.\nTS2339: Property 'getPointAtLength' does not exist on type 'Element'\n</code></pre>\n\n<p>We do have a type restriction of using \"any\". So would like to know what is the better way to define lines</p>\n"}, {"tags": ["typescript", "redux", "router", "redux-persist"], "owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554314131, "creation_date": 1554314063, "last_edit_date": 1554314131, "question_id": 55501383, "link": "https://stackoverflow.com/questions/55501383/createstore-throws-unknown-error-due-to-connectrouter-and-persistreducer-being-p", "title": "createStore throws unknown error due to connectRouter and persistReducer being present", "body": "<p>I have a working store and I am at the point where I need to implement redux state persistence.</p>\n\n<p>However, following the tutorials I ended up and the point below and the persistedReducer inside the createStore function throws this error:</p>\n\n<blockquote>\n  <p>TS2560: Value of type 'Reducer&lt;{ auth: Readonly&lt;{ access_token: string | null; Authorization: string; isAuthenticated: boolean; isLoggingIn: boolean; user: { permissions: { approvals: boolean; breaches: boolean; }; role: \"admin\" | null; }; }>; dialog: Readonly&lt;...>; notifications: State; user: State; } &amp; PersistPartial, AnyAction>' has no properties in common with type 'DeepPartial&lt;{ auth: Readonly&lt;{ access_token: string | null; Authorization: string; isAuthenticated: boolean; isLoggingIn: boolean; user: { permissions: { approvals: boolean; breaches: boolean; }; role: \"admin\" | null; }; }>; dialog: Readonly&lt;...>; notifications: State; user: State; }>'. Did you mean to call it?</p>\n</blockquote>\n\n<p>I think it's trying to communicate. Can someone tell me why this is happening because I don't understand that statement at all.</p>\n\n<pre><code>import { createBrowserHistory } from 'history'\nimport { applyMiddleware, createStore } from 'redux'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './rootReducer'\nimport storage from 'redux-persist/lib/storage';\nimport { persistStore, persistReducer } from 'redux-persist';\n\nconst persistConfig = {\n  key: 'root',\n  storage: storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport const history = createBrowserHistory()\n\nexport const store = createStore(\n  connectRouter(history)(rootReducer),\n  persistedReducer,   &lt;----error occurs here\n  composeWithDevTools(\n    applyMiddleware(\n      routerMiddleware(history)\n    )\n  )\n)\n\nexport const persistor = persistStore(store)\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 843, "user_id": 1026428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7160d77da26935926b25d2bd68002d1?s=128&d=identicon&r=PG", "display_name": "Notre", "link": "https://stackoverflow.com/users/1026428/notre"}, "edited": false, "score": 0, "creation_date": 1554321376, "post_id": 55501269, "comment_id": 97712847, "body": "Nice, thank you.  It seems I should&#39;ve scrolled further down in the documentation :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1554313657, "creation_date": 1554313657, "answer_id": 55501269, "question_id": 55501242, "link": "https://stackoverflow.com/questions/55501242/use-union-type-with-wrapped-object-check/55501269#55501269", "title": "Use union type with wrapped object check", "body": "<p>You are looking for custom type guards. This will work:</p>\n\n<pre><code>type PaddingLeft = {\n    aNumber: string,\n}\n\nfunction isObjectCheck(args: any): args is object {\n    return (typeof args === 'object');\n}\n\nfunction padLeft(value: string, padding: string | number | PaddingLeft) {\n    if (isObjectCheck(padding)) {\n        return padding.aNumber + value;\n    }\n    if (typeof padding === \"number\") {\n        return Array(padding + 1).join(\" \") + value;\n    }\n    if (typeof padding === \"string\") {\n        return padding + value;\n    }\n    throw new Error(`Expected string or number, got '${padding}'.`);\n}\n</code></pre>\n"}], "owner": {"reputation": 843, "user_id": 1026428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7160d77da26935926b25d2bd68002d1?s=128&d=identicon&r=PG", "display_name": "Notre", "link": "https://stackoverflow.com/users/1026428/notre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55501269, "answer_count": 1, "score": 0, "last_activity_date": 1554313657, "creation_date": 1554313529, "question_id": 55501242, "link": "https://stackoverflow.com/questions/55501242/use-union-type-with-wrapped-object-check", "title": "Use union type with wrapped object check", "body": "<p>I'm trying to use union types with simple primitives and some custom objects.  As an example, I took the sample union type demonstrated in the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">docs</a> in the Union Types section and added a contrived PaddingLeft type like so:</p>\n\n<pre><code>type PaddingLeft = {\n  aNumber: string,\n}\n\nfunction padLeft(value: string, padding: string | number | PaddingLeft) {\n  if (typeof padding === \"object\") {\n    return padding.aNumber + value;\n  }\n  if (typeof padding === \"number\") {\n    return Array(padding + 1).join(\" \") + value;\n  }\n  if (typeof padding === \"string\") {\n      return padding + value;\n  }\n  throw new Error(`Expected string or number, got '${padding}'.`);\n}\n</code></pre>\n\n<p>and call it like this:</p>\n\n<pre><code>padLeft('1', 1);\npadLeft('1', '2');\npadLeft('1', {aNumber: '34'});\n</code></pre>\n\n<p>based on the implementation of padLeft above, Typescript is happy.  However, I'd really like to not write:</p>\n\n<pre><code>if (typeof padding === \"object\") {\n</code></pre>\n\n<p>but instead wrap the check of whether the supplied argument is an object inside a function so I can do additional checks beyond the simple typeof check.  As a start, I tried to write a function that just does the same thing as the typeof check, but inside a function:</p>\n\n<pre><code>function isObjectCheck (args: any) {\n  return (typeof args === 'object');\n}\n</code></pre>\n\n<p>and then I tried to replace the typeof check with the call to isObjectCheck (replacing the first line of the padLeft function):</p>\n\n<pre><code>if (isObjectCheck(padding)) {\n</code></pre>\n\n<p>Doing so causes Typescript to say:</p>\n\n<blockquote>\n  <p>Property 'aNumber' does not exist on type 'string | number | PaddingLeft'.\n    Property 'aNumber' does not exist on type 'string'.</p>\n</blockquote>\n\n<p>on the second line of the padLeft function.</p>\n\n<p>How can I wrap the object check in a function, and also satisfy Typescript's checking?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2055, "user_id": 4362829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJxtb.png?s=128&g=1", "display_name": "Tim Klein", "link": "https://stackoverflow.com/users/4362829/tim-klein"}, "edited": false, "score": 0, "creation_date": 1554313690, "post_id": 55501240, "comment_id": 97709009, "body": "What is your overall goal here? To do some action when the route params change? Why not simply pipe the <code>this.route.params</code> and subscribe to that?"}], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 11307195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvDPt.jpg?s=128&g=1", "display_name": "GmoRubio", "link": "https://stackoverflow.com/users/11307195/gmorubio"}, "edited": false, "score": 0, "creation_date": 1554314876, "post_id": 55501394, "comment_id": 97709596, "body": "Skipping the first one was exactly what I was looking for. Thank you so much!"}, {"owner": {"reputation": 2447, "user_id": 4786273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d430245706eaa71e471c7b72eba6b78f?s=128&d=identicon&r=PG", "display_name": "Random", "link": "https://stackoverflow.com/users/4786273/random"}, "edited": false, "score": 0, "creation_date": 1568885146, "post_id": 55501394, "comment_id": 102420074, "body": "Be careful, skipping the first one will break if no parameters are given to the route. If route has 1+ parameter: the subscribe triggers twice. If route has no parameter it only triggers once."}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 0, "last_activity_date": 1554314104, "creation_date": 1554314104, "answer_id": 55501394, "question_id": 55501240, "link": "https://stackoverflow.com/questions/55501240/angular-6-rxjs-how-to-unsubcribe-using-takeuntil-and-route-params/55501394#55501394", "title": "Angular 6/RxJS How to unsubcribe using takeUntil() and route params", "body": "<p>You can <code>skip</code> the first one.</p>\n\n<pre><code>interval(5000).pipe(\n   takeUntil(\n      this.route.params\n         .pipe(skip(1))\n)).subscribe(() =&gt; //... \n</code></pre>\n\n<p>Or you can <code>filter</code> the <code>route.params</code> changes to specify <em>what</em> kind of route changes will force unsubscribing.</p>\n\n<p>Or you can use the most common pattern, unsubscribe on destroy.</p>\n\n<p>What exactly is your goal?</p>\n"}], "owner": {"reputation": 38, "user_id": 11307195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvDPt.jpg?s=128&g=1", "display_name": "GmoRubio", "link": "https://stackoverflow.com/users/11307195/gmorubio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 55501394, "answer_count": 1, "score": 0, "last_activity_date": 1554314104, "creation_date": 1554313526, "question_id": 55501240, "link": "https://stackoverflow.com/questions/55501240/angular-6-rxjs-how-to-unsubcribe-using-takeuntil-and-route-params", "title": "Angular 6/RxJS How to unsubcribe using takeUntil() and route params", "body": "<p>I need to do something that I find too tricky. I'm trying to unsubscribe from a <code>Subscription</code> using <code>takeUntil</code> and waiting for the route params to emit a change.</p>\n\n<p>Here is the tricky part: I need to set the <code>takeUntil</code> inside the route params <code>subscribe</code>. It should be something like this:</p>\n\n<pre><code>ngOnInit(): void {\n    this.route.params.subscribe(params =&gt; {\n        this.autoMethodSubscription = interval(5000).pipe(takeUntil(this.route.params)).subscribe(() =&gt; { this.autoMethod(); });\n    });\n}\n</code></pre>\n\n<p>The <code>autoMethodSubscription</code> does not work because it insta unsubscribes I think.\nAny ideas?</p>\n"}, {"tags": ["reactjs", "typescript", "types", "antd"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 10595494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cbaca66c934be1681b98f80e7535e7e?s=128&d=identicon&r=PG", "display_name": "JeromeDL30", "link": "https://stackoverflow.com/users/10595494/jeromedl30"}, "edited": false, "score": 0, "creation_date": 1554338451, "post_id": 55502664, "comment_id": 97718271, "body": "Thanks, I thougt it was just a interface to model the value of the form"}], "tags": [], "owner": {"reputation": 2437, "user_id": 2887022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf621e48f20f06ecf5fe0562d8713647?s=128&d=identicon&r=PG", "display_name": "Bsalex", "link": "https://stackoverflow.com/users/2887022/bsalex"}, "is_accepted": true, "score": 10, "last_activity_date": 1554318781, "creation_date": 1554318781, "answer_id": 55502664, "question_id": 55501099, "link": "https://stackoverflow.com/questions/55501099/how-to-fix-type-is-missing-in-the-following-properties-error-in-typesc/55502664#55502664", "title": "How to fix &quot;Type &#39;{}&#39; is missing in the following properties...&quot; error in Typescript?", "body": "<p>All the props in your props interface are required (they can't be undefined)</p>\n\n<pre><code>interface SetupFormProps extends FormComponentProps {\n  username: string;\n  email: string;\n  password: string;\n  confirm_password: string;\n  first_name: string;\n  last_name: string;\n}\n</code></pre>\n\n<p>But you are using your component without specifying the props from the interface </p>\n\n<pre><code>&lt;SetupForm /&gt;\n</code></pre>\n\n<p>So you should either specify the props from the interface (SetupFormProps)</p>\n\n<pre><code>&lt;SetupForm username=\"myUserName\" ...etc /&gt;\n</code></pre>\n\n<p>or make the props optional</p>\n\n<pre><code>interface SetupFormProps extends FormComponentProps {\n  username?: string;\n  email?: string;\n  password?: string;\n  confirm_password?: string;\n  first_name?: string;\n  last_name?: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 10595494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cbaca66c934be1681b98f80e7535e7e?s=128&d=identicon&r=PG", "display_name": "JeromeDL30", "link": "https://stackoverflow.com/users/10595494/jeromedl30"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13678, "favorite_count": 0, "accepted_answer_id": 55502664, "answer_count": 1, "score": 8, "last_activity_date": 1587584051, "creation_date": 1554312974, "last_edit_date": 1554318209, "question_id": 55501099, "link": "https://stackoverflow.com/questions/55501099/how-to-fix-type-is-missing-in-the-following-properties-error-in-typesc", "title": "How to fix &quot;Type &#39;{}&#39; is missing in the following properties...&quot; error in Typescript?", "body": "<p>I'm new to Typescript and therefore having a problem about it.\nI'm using Ant Design and followed how to use Form in Typescript but with <code>FunctionComponent</code>; however, I'm getting an error thrown by Typescript:</p>\n\n<blockquote>\n  <p><code>TypeScript error: Type '{}' is missing the following properties from type 'Readonly&lt;RcBaseFormProps &amp; Pick&lt;SetupFormProps, \"username\" | \"email\" | \"password\" | \"confirm_password\" | \"first_name\" | \"last_name\"&gt;&gt;': username, email, password, confirm_password, and 2 more.  TS2740</code></p>\n</blockquote>\n\n<p>Here's the code:</p>\n\n<pre><code>import React, { useState } from 'react';\nimport { Form, Input, Row, Col } from 'antd';\nimport { FormComponentProps } from 'antd/lib/form';\n\n\ninterface SetupFormProps extends FormComponentProps {\n  username: string;\n  email: string;\n  password: string;\n  confirm_password: string;\n  first_name: string;\n  last_name: string;\n}\n\nconst SetupForm: React.FC&lt;SetupFormProps&gt; = ({ form }) =&gt; {\n  ...\n  return (\n    &lt;Form id=\"setup-form\" layout=\"vertical\" onSubmit={handleSubmit}&gt;...&lt;/Form&gt;\n  )\n}\n\nexport default Form.create&lt;SetupFormProps&gt;({ name: 'register' })(SetupForm);\n</code></pre>\n\n<p>and in my other component, I'm accessing it this way:</p>\n\n<pre><code>import SetupForm from './form';\n\n&lt;SetupForm /&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 21582, "user_id": 526518, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6d1a74b05c371163b43398b61ec3f85f?s=128&d=identicon&r=PG", "display_name": "tomermes", "link": "https://stackoverflow.com/users/526518/tomermes"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554313227, "post_id": 55501033, "comment_id": 97708791, "body": "You are correct, what I tried to do is call foo(typeof B), and then the signature of foo is just foo(b: typeof A) and it works. Thanks!"}, {"owner": {"reputation": 786, "user_id": 5923666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pfpru.jpg?s=128&g=1", "display_name": "Raz Luvaton", "link": "https://stackoverflow.com/users/5923666/raz-luvaton"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554313611, "post_id": 55501033, "comment_id": 97708972, "body": "@jcalz I think you should to post your comment as an answer..."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1554314099, "creation_date": 1554314099, "answer_id": 55501392, "question_id": 55501033, "link": "https://stackoverflow.com/questions/55501033/typescript-expect-type-which-extends-class/55501392#55501392", "title": "Typescript - expect type which extends class", "body": "<p>I think you might be confused about what types are.  In <code>foo(B)</code>, the <code>B</code> is not a type; it is a constructor value.  This confusion is pretty common, probably because <a href=\"https://stackoverflow.com/a/50396312/2887218\">sometimes types and values can have the same name</a>, such as when you declare a <code>class</code>.</p>\n\n<p>Anyway, if your requirement is that <code>foo()</code> should accept anything which is a constructor of <code>A</code> instances, the following should work:</p>\n\n<pre><code>class A { a: string = \"A\" }\n\ndeclare function foo(ctor: new (...args: any[]) =&gt; A): void;\n\nclass B extends A { b: string = \"B\" }\n\nclass C { c: string = \"C\" }\n\nfoo(A); // okay\nfoo(B); // okay\nfoo(C); // error\n</code></pre>\n\n<p>The type <code>new (...args: any[]) =&gt; A</code> means \"any constructor which produces instances of type <code>A</code>\".  Thus <code>foo(B)</code> works because <code>B</code> is a constructor that produces instances of type <code>B</code>, a <a href=\"https://en.wikipedia.org/wiki/Subtyping\" rel=\"nofollow noreferrer\">subtype</a> of <code>A</code>.  Thus <code>B</code> does produce <code>A</code> instances, and <code>foo(B)</code> works.  But since the type <code>C</code> is not a subtype of <code>A</code>, <code>foo(C)</code> yields an error.</p>\n\n<hr>\n\n<p>I don't know what you want to do inside the implementation of <code>foo()</code>.  If you want to actually use the passed-in constructor, then you probably should think about what the constructor arguments need to be, and limit <code>foo()</code> to only accept constructors supporting those arguments.  For example, if you expect <code>foo()</code> to call its constructor with no arguments, you probably should limit it:</p>\n\n<pre><code>class A { a: string = \"A\" }\n\nclass B extends A { b: string = \"B\" }\n\nclass C { c: string = \"C\" }\n\n// D's constructor requires a string argument\nclass D extends A { constructor(private d: string) { super(); } }\n\n// ctor must be a no-arg constructor\ndeclare function foo(ctor: new () =&gt; A): void;\n\nfoo(A); // still okay\nfoo(B); // still okay\nfoo(C); // still error\nfoo(D); // error\n</code></pre>\n\n<hr>\n\n<p>Also note that having empty classes like <code>class E {}</code> is <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-do-these-empty-classes-behave-strangely\" rel=\"nofollow noreferrer\">not recommended</a>, even for example code, because the TypeScript type system based on <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#what-is-structural-typing\" rel=\"nofollow noreferrer\">structures</a> and not <a href=\"https://en.wikipedia.org/wiki/Nominal_type_system\" rel=\"nofollow noreferrer\">names</a>.  Since <code>class A {}</code> and <code>class C {}</code> have the same (empty) structure, if I had kept those types the call <code>foo(C)</code> would not give an error.  When in doubt, add differing properties to types you intend to be treated differently by the compiler.</p>\n\n<p>Okay, hope that helps; good luck!</p>\n"}], "owner": {"reputation": 21582, "user_id": 526518, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6d1a74b05c371163b43398b61ec3f85f?s=128&d=identicon&r=PG", "display_name": "tomermes", "link": "https://stackoverflow.com/users/526518/tomermes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "accepted_answer_id": 55501392, "answer_count": 1, "score": 0, "last_activity_date": 1554314099, "creation_date": 1554312785, "question_id": 55501033, "link": "https://stackoverflow.com/questions/55501033/typescript-expect-type-which-extends-class", "title": "Typescript - expect type which extends class", "body": "<p>I need to create a function which would expect any type of class which extends another specific class (type, not an instance)</p>\n\n<pre><code>Class A{}\n\nfoo(b: typeof 'extends A')\n\nClass B extends A{}\n\nClass C {}\n\n\nfoo(B) =&gt; working\n\nfoo(C) =&gt; not working\n</code></pre>\n\n<p>How can it be done?</p>\n"}, {"tags": ["node.js", "typescript", "promise"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1554313032, "post_id": 55500946, "comment_id": 97708710, "body": "<code>routes_data</code> is not an array of <code>Route</code>. You don&#39;t have instances of Route class."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6332809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a40adf3f3ecf12cd0bc7eba570dc9?s=128&d=identicon&r=PG", "display_name": "Rems19", "link": "https://stackoverflow.com/users/6332809/rems19"}, "is_accepted": false, "score": 0, "last_activity_date": 1554314886, "creation_date": 1554314886, "answer_id": 55501601, "question_id": 55500946, "link": "https://stackoverflow.com/questions/55500946/getting-typeerror-x-is-not-a-function-when-calling-async-method-in-promises-c/55501601#55501601", "title": "Getting &quot;TypeError: X is not a function&quot; when calling async method in promises chain", "body": "<p>It turns out I just confused JSON objects and class instances. Thanks estus for pointing this out!</p>\n\n<p>I fixed my mistake by modifying the <code>Route</code> class:</p>\n\n<pre><code>class Route {\n    ...\n    patterns: Pattern[];\n    stops: Stop[];\n\n    constructor(id: string, shortName: string, longName: string, mode: string, color: string, agencyName: string) {\n        ...\n        this.patterns = [];\n        this.stops = [];\n    }\n\n    async loadPatterns() {\n        for (let pattern of JSON.parse(await requestPromise(\"https://data.metromobilite.fr/otp/routers/default/index/routes/\" + this.id + \"/patterns\"))) {\n            this.patterns.push(new Pattern(pattern.id, pattern.desc));\n        }\n        return this;\n    }\n\n    async loadStops() {\n        for (let stop of JSON.parse(await requestPromise(\"https://data.metromobilite.fr/otp/routers/default/index/routes/\" + this.id + \"/stops\"))) {\n            this.stops.push(new Stop(stop.bind, stop.code, stop.name, stop.lat, stop.lon, stop.cluster));\n        }\n        return this;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6332809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028a40adf3f3ecf12cd0bc7eba570dc9?s=128&d=identicon&r=PG", "display_name": "Rems19", "link": "https://stackoverflow.com/users/6332809/rems19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 607, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554314886, "creation_date": 1554312437, "last_edit_date": 1554312908, "question_id": 55500946, "link": "https://stackoverflow.com/questions/55500946/getting-typeerror-x-is-not-a-function-when-calling-async-method-in-promises-c", "title": "Getting &quot;TypeError: X is not a function&quot; when calling async method in promises chain", "body": "<p>I'm currently trying to create a small app getting info from a public transport API. I created some classes to represent the object and some of them (here, <code>Route</code>) contain async methods.\nI can't figure out how to call them properly and keep getting TypeError on them.</p>\n\n<p>Here is my test script:</p>\n\n<pre><code>import { TagHelper } from './modules/TagHelper';\n\nfunction testMod() {\n    TagHelper.getRouteInfo(\"C1\")\n        .then(C1 =&gt; C1.loadPatterns())\n        .then(C1 =&gt; C1.loadStops())\n        .then(C1 =&gt; console.log(C1))\n    ;\n}\n\ntestMod();\n</code></pre>\n\n<p>and here is my helper module:</p>\n\n<pre><code>import requestPromise = require('request-promise');\n\nclass Route {\n    readonly id: string;\n    readonly shortName: string;\n    readonly longName: string;\n    readonly mode: string;\n    readonly color: number;\n    readonly agencyName: string;\n    patterns: Pattern[];\n    stops: Stop[];\n\n    constructor(id: string, shortName: string, longName: string, mode: string, color: string, agencyName: string) {\n        this.id = id;\n        this.shortName = shortName;\n        this.longName = longName;\n        this.mode = mode;\n        this.color = parseInt(color, 16);\n        this.agencyName = agencyName;\n    }\n\n    async loadPatterns() {\n        console.log(\"TEST\");\n        this.patterns = JSON.parse(await requestPromise(\"https://data.metromobilite.fr/otp/routers/default/index/routes/\" + this.id + \"/patterns\"));\n        return this;\n    }\n\n    async loadStops() {\n        this.stops = JSON.parse(await requestPromise(\"https://data.metromobilite.fr/otp/routers/default/index/routes/\" + this.id + \"/stops\"));\n        return this;\n    }\n}\n\nclass Pattern {\n    ...\n}\n\nclass Stop {\n    ...\n}\n\nconst TagHelper = {\n\n    getRouteInfo: async function(route_short_name: string, route_mode: string = null): Promise&lt;Route&gt; {\n        const routes_data: Route[] = JSON.parse(await requestPromise(\"https://data.metromobilite.fr/otp/routers/default/index/routes\"));\n        for(let route of routes_data) {\n            if (route.shortName.toUpperCase() === route_short_name.toUpperCase() &amp;&amp; (route_mode === null || route_mode.toUpperCase() === route.mode.toLocaleUpperCase()))\n                return route;\n        }\n        return null;\n    }\n};\n\nexport { TagHelper, Route, Pattern, Stop };\n</code></pre>\n\n<p>Edit: I just realize I didn't include the error so here it is:</p>\n\n<pre><code>(node:868) UnhandledPromiseRejectionWarning: TypeError: C1.loadPatterns is not a function\n    at temp.ts:5:24\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "electron"], "comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1554331130, "post_id": 55499988, "comment_id": 97716535, "body": "Can you describe how you&#39;re trying to debug the renderer? For me, after launching the program (&quot;Electron: Main&quot;), I switch to &quot;Electron: Renderer&quot;, launch that, then select the renderer file from the dropdown and then refresh the main page (Ctrl+R with devtools open)"}, {"owner": {"reputation": 6181, "user_id": 516126, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/08d3131183d6c3ebc2ed5214a42e67dc?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/516126/brian"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1554332568, "post_id": 55499988, "comment_id": 97716942, "body": "I was just attaching after Main completed launching.  I&#39;ll try refreshing the browser and seeing what happens."}], "owner": {"reputation": 6181, "user_id": 516126, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/08d3131183d6c3ebc2ed5214a42e67dc?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/516126/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554308795, "creation_date": 1554308795, "question_id": 55499988, "link": "https://stackoverflow.com/questions/55499988/making-debbuing-electron-apps-with-vs-code-work-well", "title": "Making Debbuing Electron Apps with VS Code Work Well", "body": "<p>I have a TypeScript based Electron app that I am developing in VS Code.  Presently my debugging set-up is as follows:</p>\n\n<ol>\n<li>A launch configuration entry for the Electron Launcher</li>\n<li>A launch configuration entry for the electron Renderer</li>\n</ol>\n\n<p>The launcher debugs within VS code just fine, however the render never attaches.  I can use the Chrome debugger in the browser, but none of the sourcemaps for the TypeScript work properly, the wrong lines are mapped.  For example, the actual break point might be on line 50, but the debugger stops at line 65.</p>\n\n<p>In an ideal world, I would be able to debug TypeScript from within VS code.  Is there a way to achieve this?  Is there a way to get Chrome to handle the source maps properly so I can actually use the developer tools for debugging?</p>\n\n<pre><code>\"configurations\": [\n        {\n            \"type\": \"node\",\n            \"request\": \"launch\",\n            \"name\": \"Electron: Main\",\n            \"protocol\": \"inspector\",\n            \"cwd\": \"${workspaceRoot}/myapp-electron/\",\n            \"program\":  \"${workspaceRoot}/myapp-electron/dist/main/main.js\",\n            \"runtimeExecutable\": \"${workspaceRoot}/myapp-electron/node_modules/.bin/electron.cmd\",\n            \"runtimeArgs\": [\n                \"--remote-debugging-port=9223\",\n                \".\"\n            ],\n            \"windows\": {\n                \"runtimeExecutable\": \"${workspaceRoot}/myapp-electron/node_modules/.bin/electron.cmd\",\n            }\n        },\n        {\n            \"name\": \"Electron: Renderer\",\n            \"type\": \"chrome\",\n            \"request\": \"attach\",\n            \"port\": 9223,\n            \"webRoot\": \"${workspaceFolder}/myapp-electron\",\n            \"timeout\": 30000\n        }\n    ],\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-components"], "comments": [{"owner": {"reputation": 702, "user_id": 3220274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14756a4d4bcf46433e104e72064aae7f?s=128&d=identicon&r=PG&f=1", "display_name": "Capellan", "link": "https://stackoverflow.com/users/3220274/capellan"}, "edited": false, "score": 0, "creation_date": 1554311616, "post_id": 55499953, "comment_id": 97708062, "body": "It works just fine for me in ngAfterViewInit.  When that code was uncommented you also had &quot;export class ChildComponent implements AfterViewInit&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 627, "user_id": 10422906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdc46240d4746dc19dfb03f4cca8ce0?s=128&d=identicon&r=PG&f=1", "display_name": "nktshn", "link": "https://stackoverflow.com/users/10422906/nktshn"}, "is_accepted": true, "score": 0, "last_activity_date": 1554312251, "creation_date": 1554312251, "answer_id": 55500892, "question_id": 55499953, "link": "https://stackoverflow.com/questions/55499953/pass-value-from-child-component-to-parent-component-after-child-is-initialized/55500892#55500892", "title": "Pass value from Child component to Parent component , after child is initialized", "body": "<p>ngOnInit() is should be enough for your case, because data you pass does not depended on \"view\".\ncheck here : <a href=\"https://stackblitz.com/edit/angular-nmjvwh?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz example</a></p>\n"}], "owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 55500892, "answer_count": 1, "score": 0, "last_activity_date": 1584387680, "creation_date": 1554308715, "question_id": 55499953, "link": "https://stackoverflow.com/questions/55499953/pass-value-from-child-component-to-parent-component-after-child-is-initialized", "title": "Pass value from Child component to Parent component , after child is initialized", "body": "<p>Now I am passing value from child to parent while click on send button, how to pass the same array child is initialized , I tried with 'ngAfterViewInit' but didn't work, Any recommendation here.</p>\n\n<pre><code>      child\n    @Component({\n        selector: 'app-child',\n        templateUrl: './child.component.html'\n    })\n    export class ChildComponent {\n\n        cars = [\"Saab\", \"Volvo\", \"BMW\", \"BMW\", 'Saab'];\n\n        @Output() msEvent = new EventEmitter();\n\n        constructor() {}\n\n        send() {\n\n            this.msEvent.emit(this.cars);\n        }\n\n        // ngAfterViewInit() {\n\n        //   this.msEvent.emit(this.cars);\n        // }\n    }\n\n    }\n        child.component.html : &lt;button (click) = 'send()' class=\"button\"&gt;send&lt;/button&gt;\n    ----------------------------------------\n\n    parent\n  @Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n\n  cars:any[];\n\n  constructor() {\n\n  }\n  rece($event) {\n    this.cars = $event;\n  }\n}\n    app.component.html : &lt;app-child (msEvent) = 'rece($event)' [employees] = 'employees'&gt;&lt;/app-child&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "edited": false, "score": 0, "creation_date": 1554313220, "post_id": 55500996, "comment_id": 97708786, "body": "ok... thanks. so sounds like the solution is to convert them. the .js files to .ts or the .ts files to .js?"}], "tags": [], "owner": {"reputation": 627, "user_id": 10422906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdc46240d4746dc19dfb03f4cca8ce0?s=128&d=identicon&r=PG&f=1", "display_name": "nktshn", "link": "https://stackoverflow.com/users/10422906/nktshn"}, "is_accepted": false, "score": 0, "last_activity_date": 1554312666, "creation_date": 1554312666, "answer_id": 55500996, "question_id": 55499839, "link": "https://stackoverflow.com/questions/55499839/error-when-importing-a-ts-file-into-a-js-file/55500996#55500996", "title": "Error when importing a .ts file into a .js file", "body": "<p>It's absolutely normal, Javascript does not know what Typescript is. Your error occurs cuz of decorators which aren't implemented in JS yet.</p>\n"}], "owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554312666, "creation_date": 1554308316, "question_id": 55499839, "link": "https://stackoverflow.com/questions/55499839/error-when-importing-a-ts-file-into-a-js-file", "title": "Error when importing a .ts file into a .js file", "body": "<p>I have .js files and would like to integrate some .ts files we have. When I try to import them I get some odd errors.</p>\n\n<p>Here is the import in my .js file:</p>\n\n<pre><code>import {AuthComponent} from './auth/auth.component';\n</code></pre>\n\n<p>Here is that .ts file (<code>auth.component.ts</code>):</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {UserService} from '../user/user.service'; //also a .ts file\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\n\nexport class AuthComponent implements OnInit {\n  loadingConfig: any = {\n    fullScreenBackdrop: true,\n    backdropBackgroundColour: 'rgba(0,0,0,0.9)',\n    primaryColour: '#b8860b'\n  };\n};\n</code></pre>\n\n<p>When I try to compile the app I get the following</p>\n\n<p><code>Error in ./app/auth/auth.component.ts\n Module parse failed: /data/1/projects/myapp/src/app/auth/auth.component.ts Unexpected character '@' (7:0)\n You may need an appropriate loader to handle this file type.</code></p>\n\n<p>Line 7 is the <code>@Component</code></p>\n\n<p>In my <code>webpack.config.js</code> I added:</p>\n\n<pre><code>resolve: {\n   extensions: ['.ts', '.js','.json']\n}\n</code></pre>\n\n<p>I also create a <code>tsconfig.json</code> in the root of <code>app</code>...that has:</p>\n\n<pre><code>\"compilerOptions\": {\n  \"target\": \"es6\",\n  \"module\": \"commonjs\",\n  \"allowJs\": true,\n  \"checkJs\": true\n}\n</code></pre>\n\n<p>Im guessing I can import a .ts file into a .js file... but maybe Im missing something?\nthanks all!</p>\n"}, {"tags": ["javascript", "typescript", "javascript-decorators"], "comments": [{"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 1, "creation_date": 1554308701, "post_id": 55499805, "comment_id": 97706597, "body": "works fine here. Are you sure it&#39;s picking the correct tsconfig?"}, {"owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1554308797, "post_id": 55499805, "comment_id": 97706652, "body": "@georg The tsconfig.json resides in the same folder as the greet.ts - which is my only source file. My VSCode suppressed the same warning after I created the tsconfig.json"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1554309100, "post_id": 55499805, "comment_id": 97706809, "body": "If you invoke it like <code>tsc greet.ts</code> it doesn&#39;t use tsconfig..."}, {"owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1554309163, "post_id": 55499805, "comment_id": 97706838, "body": "Please tell me how to make tsc use the tsconfig.json"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1554309266, "post_id": 55499805, "comment_id": 97706882, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/tsconfig-json.html</a> . Basically, add &quot;greet.ts&quot; to <code>files</code> in tsconfig."}], "answers": [{"tags": [], "owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "is_accepted": true, "score": 1, "last_activity_date": 1554711498, "last_edit_date": 1554711498, "creation_date": 1554710173, "answer_id": 55568652, "question_id": 55499805, "link": "https://stackoverflow.com/questions/55499805/how-to-enable-experimentaldecorators-in-typescript/55568652#55568652", "title": "How to enable experimentalDecorators in Typescript", "body": "<p>The <code>tsc</code> compiler ignores the tsconfig.js when the input files are specified in the command line:</p>\n\n<p>The `tsc greet.ts1 will simply ignore the tsconfig.json file - thus no compiler options specified in the file will be effective.</p>\n\n<p>The tsconfig.json file should be included with the source file paths and the <code>tsc</code> compiler should be called without specifying the source files in order to include the tsconfig.js file in the compilation.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"experimentalDecorators\": true,\n        \"target\": \"ES5\"\n    },\n\n    \"files\": [\n        \"greet.ts\"\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1407, "favorite_count": 0, "accepted_answer_id": 55568652, "answer_count": 1, "score": -2, "last_activity_date": 1554711498, "creation_date": 1554308220, "last_edit_date": 1554710169, "question_id": 55499805, "link": "https://stackoverflow.com/questions/55499805/how-to-enable-experimentaldecorators-in-typescript", "title": "How to enable experimentalDecorators in Typescript", "body": "<p>This question is not a duplicate of those questions which ask how to suppress a similar warning issued by the code editors such as VSCode.</p>\n\n<p>My problem is for the Tsc command line compiler warning: </p>\n\n<blockquote>\n  <p>greet.ts:7:7 - error TS1219: Experimental support for decorators is a\n  feature th at is subject to change in a future release. Set the\n  'experimentalDecorators' option to remove this warning.</p>\n</blockquote>\n\n<p>Here is my code: </p>\n\n<pre><code>function doMore(target) {\n    target.doMore = true;\n}\n\n@doMore\nclass Test {\n    do() {\n        console.log('done');\n    }\n}  \n\n\nvar t = new Test();\nt.do();\nconsole.log(t.doMore);\n</code></pre>\n\n<p>I created the following tsconfig.json in the root directory:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"experimentalDecorators\": true,\n        \"allowJs\": true\n    }\n}\n</code></pre>\n\n<p>But <code>tsc</code> still complains.</p>\n"}, {"tags": ["html", "css", "typescript", "angular5"], "comments": [{"owner": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "edited": false, "score": 0, "creation_date": 1554308184, "post_id": 55499744, "comment_id": 97706329, "body": "I&#39;d say the first easy choice is to change the <code>:focus</code> pseudo-class to an <code>:active</code> one; but that might also give you a different result"}, {"owner": {"reputation": 11, "user_id": 10812526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9Nt6Lp9g5QY/AAAAAAAAAAI/AAAAAAAAgxE/HMwpH17jw3s/photo.jpg?sz=128", "display_name": "Gon&#231;alo Reis", "link": "https://stackoverflow.com/users/10812526/gon%c3%a7alo-reis"}, "reply_to_user": {"reputation": 4335, "user_id": 8437694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQnef.jpg?s=128&g=1", "display_name": "IvanS95", "link": "https://stackoverflow.com/users/8437694/ivans95"}, "edited": false, "score": 0, "creation_date": 1554316950, "post_id": 55499744, "comment_id": 97710676, "body": "I had the same result. Thanks anyway."}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1554328035, "post_id": 55499744, "comment_id": 97715546, "body": "@Gon&#231;aloReis add your javascript for refreshTableFkeys. Also you have an end tag (mat-header-cell?) without a matching start tag in your code"}, {"owner": {"reputation": 11, "user_id": 10812526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9Nt6Lp9g5QY/AAAAAAAAAAI/AAAAAAAAgxE/HMwpH17jw3s/photo.jpg?sz=128", "display_name": "Gon&#231;alo Reis", "link": "https://stackoverflow.com/users/10812526/gon%c3%a7alo-reis"}, "reply_to_user": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1554329139, "post_id": 55499744, "comment_id": 97715923, "body": "@RachelGallen the end tag was not supposed to be copied. I just added Type script, but it&#39;s not related to this issue. Maybe I can add something related to the animation to make it work, in that method. Any suggestion?"}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1554329461, "post_id": 55499744, "comment_id": 97716023, "body": "@Gon&#231;aloReis there&#39;s not  a lot in the question to go on. Have you tried removing the :focus / replacing it with :active? A running example would help (jsfiddle.net/codepen) By the way the code you added is not named the same as the function named previously in your code"}], "owner": {"reputation": 11, "user_id": 10812526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9Nt6Lp9g5QY/AAAAAAAAAAI/AAAAAAAAgxE/HMwpH17jw3s/photo.jpg?sz=128", "display_name": "Gon&#231;alo Reis", "link": "https://stackoverflow.com/users/10812526/gon%c3%a7alo-reis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554331121, "creation_date": 1554308020, "last_edit_date": 1554331121, "question_id": 55499744, "link": "https://stackoverflow.com/questions/55499744/css3-transition-only-works-once", "title": "CSS3 transition only works once", "body": "<p>I need to animate a refresh icon to rotate it when clicking it. I found a way to do it through CSS. </p>\n\n<p>css file</p>\n\n<pre><code>.refresh:focus .mat-icon {\n  animation: rotate 2s ease-in-out;\n}\n\n@keyframes rotate {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n}\n</code></pre>\n\n<p>html file</p>\n\n<pre><code>              &lt;button mat-icon-button class=\"refresh\" color=\"primary\" (click)=\"refreshTableFkeys()\"&gt;\n                &lt;mat-icon aria-label=\"Example icon-button with a heart icon\"&gt;refresh&lt;/mat-icon&gt;\n              &lt;/button&gt;\n              &lt;button mat-icon-button color=\"primary\" (click)=\"addNewFkey()\"&gt;\n                &lt;mat-icon aria-label=\"Example icon-button with a heart icon\"&gt;add&lt;/mat-icon&gt;\n              &lt;/button&gt;\n</code></pre>\n\n<p>When I click the button, the icon rotates once. When I click it again to refresh again, the animation stops working. How do I make the animation trigger in every click?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Edit:\ntypescript</p>\n\n<pre><code>  refreshTableFkeys() {\n    this.dataSource_Fkeys.paginator._changePageSize(this.dataSource_Fkeys.paginator.pageSize);\n  }\n</code></pre>\n"}, {"tags": ["typescript", "automation", "protractor", "google-chrome-headless"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11069269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f342ade9aa559a8a1311f9cb6dd1e075?s=128&d=identicon&r=PG&f=1", "display_name": "user11069269", "link": "https://stackoverflow.com/users/11069269/user11069269"}, "edited": false, "score": 0, "creation_date": 1554400336, "post_id": 55515606, "comment_id": 97748646, "body": "I am able to get the windowhandle count. Not able to get the pdf url that is opened in the new tab"}], "tags": [], "owner": {"reputation": 123, "user_id": 9305609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCvvN.jpg?s=128&g=1", "display_name": "technodeath", "link": "https://stackoverflow.com/users/9305609/technodeath"}, "is_accepted": false, "score": 0, "last_activity_date": 1554379511, "creation_date": 1554379511, "answer_id": 55515606, "question_id": 55499612, "link": "https://stackoverflow.com/questions/55499612/pdf-url-validation-in-chrome-headless-browser-fails-protractor-typescript-f-w/55515606#55515606", "title": "PDF url validation in chrome headless browser fails - protractor typescript f\\w", "body": "<ol>\n<li><p>Try to use it:</p>\n\n<p><code>export async function countTabs () {\n  const allTabs = await browser.getAllWindowHandles();\n  const allTabsLength = allTabs.length;\n  console.log('===my tabs count is ---&gt;&gt; ' + await allTabsLength);\n  return allTabsLength;\n}</code></p></li>\n<li><p>Use await/async to resolve the promises</p></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 11069269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f342ade9aa559a8a1311f9cb6dd1e075?s=128&d=identicon&r=PG&f=1", "display_name": "user11069269", "link": "https://stackoverflow.com/users/11069269/user11069269"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554379511, "creation_date": 1554307595, "last_edit_date": 1554314418, "question_id": 55499612, "link": "https://stackoverflow.com/questions/55499612/pdf-url-validation-in-chrome-headless-browser-fails-protractor-typescript-f-w", "title": "PDF url validation in chrome headless browser fails - protractor typescript f\\w", "body": "<p>I am trying to automate validation of a pdf url that is opened in a new tab is as the expected(url). It is an angular application and we use protractor-typescript framework.</p>\n\n<p>Steps followed in this is as below:\n<br>1.Click on a pdf link\n<br>2.Pdf opens in a new tab in the same browser window\n<br>3.Get all the window handles \n<br>4.Check if the window handles count >1 \n<br>5.Switch to the new tab using the last window handle\n<br>6.Get the current browser url\n<br>7.Check if it is the expected url</p>\n\n<p>it is an angular application, pdf is non-angular</p>\n\n<pre><code>public async waitForWindowHandle() {\n\n    browser.driver.wait(function () {\n        return browser.getAllWindowHandles().then(function (handles) {\n            if (handles.length &gt; 1) {\n                return true;\n            }\n        });\n    }, 20000, 'Waited for window count to be greater than 1');\n}\n\n\nawait browser.sleep(1000);\nbrowser.ignoreSynchronization = true\nwrapmeth.waitForWindowHandle();\nbrowser.getAllWindowHandles().then(async function (handles) {\n    expect(2, \"pdf did not open in new Tab\").to.equal(handles.length);\n    browser.switchTo().window(handles[1]).then(async function () {\n        currentUrl = await browser.getCurrentUrl();\n    });\n});\n</code></pre>\n\n<p>Automation works fine in chrome browser, but promise is timed out in chrome headless mode. It doesn\u2019t proceed after step4. We are not able to get the pdf url from the new tab. Any non-pdf url works fine. Please let me know if has anyone faced such an issue before and resolved it. Any inputs on this would be helpful. Thank you for your time.</p>\n"}, {"tags": ["typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 3099423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62c5c5f1fe831a4d8bf48613ced8b492?s=128&d=identicon&r=PG&f=1", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/3099423/yousuf"}, "edited": false, "score": 0, "creation_date": 1554308559, "post_id": 55499640, "comment_id": 97706534, "body": "so how this code works here <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 613, "user_id": 3099423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62c5c5f1fe831a4d8bf48613ced8b492?s=128&d=identicon&r=PG&f=1", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/3099423/yousuf"}, "edited": false, "score": 0, "creation_date": 1554314833, "post_id": 55499640, "comment_id": 97709573, "body": "thnks @SergioEscudero i checked your first suggestion and its working great as expected but strangely its working on chrome browser but on Firefox it through error &quot;str.matchAll is not a function&quot;. i will check your second suggestion."}, {"owner": {"reputation": 1697, "user_id": 7332346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4JrPd.png?s=128&g=1", "display_name": "Sergio Escudero", "link": "https://stackoverflow.com/users/7332346/sergio-escudero"}, "reply_to_user": {"reputation": 613, "user_id": 3099423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62c5c5f1fe831a4d8bf48613ced8b492?s=128&d=identicon&r=PG&f=1", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/3099423/yousuf"}, "edited": false, "score": 0, "creation_date": 1554315814, "post_id": 55499640, "comment_id": 97710059, "body": "Check the browser compatibility <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/@@matchAll#Browser_compatibility\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 2409, "user_id": 1023110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0364c60023a65450d5e83f1fa0d09909?s=128&d=identicon&r=PG", "display_name": "GGizmos", "link": "https://stackoverflow.com/users/1023110/ggizmos"}, "edited": false, "score": 0, "creation_date": 1579074040, "post_id": 55499640, "comment_id": 105640805, "body": "The work around str[&#39;matchAll&#39;](regexp) gives error &#39;...because index expression is not of type &#39;number&#39;.  if Str is a string doesn&#39;t str[x] expect a numeric index?"}], "tags": [], "owner": {"reputation": 1697, "user_id": 7332346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4JrPd.png?s=128&g=1", "display_name": "Sergio Escudero", "link": "https://stackoverflow.com/users/7332346/sergio-escudero"}, "is_accepted": false, "score": 2, "last_activity_date": 1565123817, "last_edit_date": 1565123817, "creation_date": 1554307667, "answer_id": 55499640, "question_id": 55499555, "link": "https://stackoverflow.com/questions/55499555/property-matchall-does-not-exist-on-type-string/55499640#55499640", "title": "Property &#39;matchAll&#39; does not exist on type &#39;string&#39;", "body": "<p>Checking the ts signature for the <code>String</code> and <code>RegExp</code> classes I realized there is no signature for <code>matchAll</code>. One manner to solve it could be:</p>\n\n<pre><code>let matches = str['matchAll'](regexp);\n</code></pre>\n\n<p>Another way would be adding the method to <code>lib.es5.d.ts</code> file\n<a href=\"https://i.stack.imgur.com/EVWs9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EVWs9.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 516, "user_id": 652318, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/01f9ad4feda143e7cff5d10111be63c9?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/652318/andy"}, "edited": false, "score": 1, "creation_date": 1572353362, "post_id": 57298833, "comment_id": 103526295, "body": "i have just added this as i was having the same issues as OP. But i now get the following error in my cli console. .matchAll is not a function. Any idea on what might be wrong?"}, {"owner": {"reputation": 2249, "user_id": 5766143, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ztzpE.jpg?s=128&g=1", "display_name": "relief.melone", "link": "https://stackoverflow.com/users/5766143/relief-melone"}, "edited": false, "score": 0, "creation_date": 1576420185, "post_id": 57298833, "comment_id": 104886238, "body": "This should be the excepted answer I&#39;d say."}, {"owner": {"reputation": 8304, "user_id": 80428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iYuEX.png?s=128&g=1", "display_name": "Jay Wick", "link": "https://stackoverflow.com/users/80428/jay-wick"}, "edited": false, "score": 2, "creation_date": 1581632679, "post_id": 57298833, "comment_id": 106512342, "body": "If you&#39;re getting <code>matchAll is not a function</code> as a runtime error this might be because your using typescript as a typechecker and using something else (eg webpack + babel) as a transpiler. You&#39;ll therefore still need to find a way to polyfil matchAll function"}, {"owner": {"reputation": 1505, "user_id": 1704733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf423695f1d5008a3fa18f8aaecefc27?s=128&d=identicon&r=PG", "display_name": "Tamir Daniely", "link": "https://stackoverflow.com/users/1704733/tamir-daniely"}, "edited": false, "score": 0, "creation_date": 1619210182, "post_id": 57298833, "comment_id": 118845856, "body": "I got some very weird behaviour with <code>&quot;lib&quot;: [&quot;es2020.string&quot;]</code> in jsconfig.json. Using <code>&quot;target&quot;: &quot;es2020&quot;</code> worked much better. Also had to change node version in launch.json, for some reason node didn&#39;t have matchAll even though vsc claimed it was running v15, no idea how that happened."}], "tags": [], "owner": {"reputation": 1072, "user_id": 4297908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e6d8091d34c5472dc82f10edbb5aef?s=128&d=identicon&r=PG&f=1", "display_name": "mvr", "link": "https://stackoverflow.com/users/4297908/mvr"}, "is_accepted": true, "score": 56, "last_activity_date": 1564607163, "creation_date": 1564607163, "answer_id": 57298833, "question_id": 55499555, "link": "https://stackoverflow.com/questions/55499555/property-matchall-does-not-exist-on-type-string/57298833#57298833", "title": "Property &#39;matchAll&#39; does not exist on type &#39;string&#39;", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" rel=\"noreferrer\">String.prototype.matchAll()</a> is part of the ECMAScript 2020 specification (draft).\nIn TypeScript you can include these library features by adding <code>es2020</code> or <code>es2020.string</code>, in the compiler options: </p>\n\n<pre><code>\"compilerOptions\": {\n    \"lib\": [\"es2020.string\"]\n}\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 3099423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62c5c5f1fe831a4d8bf48613ced8b492?s=128&d=identicon&r=PG&f=1", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/3099423/yousuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19323, "favorite_count": 3, "accepted_answer_id": 57298833, "answer_count": 2, "score": 42, "last_activity_date": 1565123817, "creation_date": 1554307399, "question_id": 55499555, "link": "https://stackoverflow.com/questions/55499555/property-matchall-does-not-exist-on-type-string", "title": "Property &#39;matchAll&#39; does not exist on type &#39;string&#39;", "body": "<p>I want to apply Reg Expression on string. In order to get all groups result i am using matchAll method. Here is my code</p>\n\n<pre><code>const regexp = RegExp('foo*','g'); \nconst str = \"table football, foosball\";\nlet matches = str.matchAll(regexp);\n\nfor (const match of matches) {\n   console.log(match);\n}\n</code></pre>\n\n<p>during compiling on above code i got error</p>\n\n<blockquote>\n  <p>Property 'matchAll' does not exist on type '\"table football, foosball\"'</p>\n</blockquote>\n\n<p>during searching about this error i found similar issue on stackoverflow </p>\n\n<p><a href=\"https://stackoverflow.com/questions/51811239/ts2339-property-includes-does-not-exist-on-type-string\">TS2339: Property &#39;includes&#39; does not exist on type &#39;string&#39;</a></p>\n\n<p>I changed tsconfig configuration as mention in above link but my issue did not solved</p>\n\n<p>Here is my tsconfig code;</p>\n\n<pre><code>{\n \"compileOnSave\": false,\n \"compilerOptions\": {\n \"baseUrl\": \"./\",\n \"importHelpers\": true,\n \"outDir\": \"./dist/out-tsc\",\n \"sourceMap\": true,\n \"declaration\": false,\n \"module\": \"es2015\",\n \"moduleResolution\": \"node\",\n \"emitDecoratorMetadata\": true,\n \"experimentalDecorators\": true,\n \"target\": \"es2016\",\n \"typeRoots\": [\n  \"node_modules/@types\"\n ],\n\"lib\": [\n  \"es2018\",\n  \"dom\"\n]\n}\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "rxjs"], "owner": {"reputation": 145, "user_id": 4010187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KbSJT.jpg?s=128&g=1", "display_name": "Yuriy Sountsov", "link": "https://stackoverflow.com/users/4010187/yuriy-sountsov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554307471, "creation_date": 1554307397, "last_edit_date": 1554307471, "question_id": 55499554, "link": "https://stackoverflow.com/questions/55499554/how-to-combine-html-input-value-stream-with-up-or-down-key-stream-and-also-an-i", "title": "How to combine HTML input value stream with UP or DOWN key stream, and also an input type stream?", "body": "<p>I have a complex React component that functions similarly to the HTML5 <code>input</code>. It should allow the following:</p>\n\n<ul>\n<li>Allow typing a partial number, such as <code>5.</code>, <code>5.0</code>, or <code>0.</code>. <code>5.0</code> is partial because I want to allow two decimal places.</li>\n<li>When the number is validated, send it up to a parent through <code>this.props</code>.</li>\n<li>Support multiple types, such as <code>int</code>, <code>percent</code>, <code>float</code>, toggled through some action. Each type has its own validation.</li>\n<li>Allow special keyboard actions, such as <code>UP</code> incrementing the value or <code>DOWN</code> decrementing it.</li>\n</ul>\n\n<p>I can set up an observable stream that combines the type stream and the input stream:</p>\n\n<pre><code>const rawInput = fromEvent&lt;React.FormEvent&lt;HTMLInputElement&gt;&gt;(this.input, \"input\").pipe(\n    map(v =&gt; v.currentTarget.value)\n);\n\nthis.typeSubject.pipe(\n    switchMap(t =&gt; this.parseRawValue(rawInput, t))\n).subscribe(\n    v =&gt; {\n        this.props.setValue(v);\n        this.setState({ isValid: true });\n    });\n</code></pre>\n\n<p>I do not know how to also combine the keyboard stream:</p>\n\n<pre><code>const pressedKey = fromEvent&lt;React.KeyboardEvent&lt;HTMLInputElement&gt;&gt;(this.input, \"keydown\").pipe(\n    map(k =&gt; k.keyCode),\n    filter(k =&gt; this.inputKeyCodes.indexOf(k) &gt; -1)\n);\n</code></pre>\n\n<p>Given the larger code sample below, how do I combine these three streams so that the typing and validation functionality is preserved?</p>\n\n<p>I have tried combinations of <code>combineAll</code>, <code>combineLatest</code>, <code>merge</code>, <code>mergeAll</code>, and <code>withLatestFrom</code>, but could not create the right stream without adding dramatically more code in <code>parseRawValue</code>, below.</p>\n\n<p>The current component is defined here: <a href=\"https://github.com/yuriys-kentico/TransformedImagesElement/blob/master/src/components/editor/inputs/NumberInput.tsx\" rel=\"nofollow noreferrer\">TransformedImagesElement/src/components/editor/inputs/NumberInput.tsx</a></p>\n\n<p>Here is the larger code sample with comments to help. The main question is within <code>componentDidMount</code>:</p>\n\n<pre><code>import * as React from 'react';\nimport { fromEvent, Observable, Subject, BehaviorSubject } from \"rxjs\";\nimport { map, filter, switchMap } from 'rxjs/operators';\n\nenum NumberInputExampleType {\n    int = \"###\",\n    percent = \"%\"\n}\n\ninterface INumberInputExampleProps {\n    type: NumberInputExampleType;\n    value: number | null;\n    setValue(value: number): void;\n    max: number;\n    min: number;\n}\n\ninterface INumberInputExampleState {\n    type?: NumberInputExampleType | null;\n    rawValue: string;\n    isValid: boolean;\n}\n\nexport class NumberInputExample extends React.PureComponent&lt;INumberInputExampleProps, INumberInputExampleState&gt; {\n    state: INumberInputExampleState = {\n        type: null,\n        rawValue: \"\",\n        isValid: true,\n    }\n\n    private inputKeyCodes = [\n        38, // UP key\n        40 // DOWN key\n    ];\n\n    // Reference to the input\n    private input: HTMLInputElement | null;\n\n    // Get type from the props, if the state is not yet set, or from state\n    private get type() {\n        return this.state.type || this.props.type;\n    }\n\n    // Subject for the type\n    private typeSubject: Subject&lt;NumberInputExampleType&gt; = new BehaviorSubject(this.type);\n\n    // This is called upon some action in the rendered elements\n    private switchType(newType: NumberInputExampleType): void {\n        this.typeSubject.next(newType);\n\n        this.setState({\n            type: newType,\n            rawValue: \"\"\n        });\n    }\n\n    private parseValue(): string {\n        // Return the raw value if it is not valid\n        if (this.state.rawValue !== \"\") {\n            return this.state.rawValue;\n        }\n        else if (this.props.value !== null) {\n            return this.getValue(this.props.value);\n        }\n\n        return \"\";\n    }\n\n    private getValue(value: number): string {\n        switch (this.type) {\n            case NumberInputExampleType.int:\n            //return(value * this.props.max).toString() // Return the internal value, a float, converted to the presentation value, a string, using this.props.max\n            case NumberInputExampleType.percent:\n            // Similar logic to the above, except converting to a valid percentage\n        }\n    }\n\n    componentDidMount() {\n        if (this.input) {\n            const rawInput = fromEvent&lt;React.FormEvent&lt;HTMLInputElement&gt;&gt;(this.input, \"input\").pipe(\n                map(v =&gt; v.currentTarget.value)\n            );\n\n            const pressedKey = fromEvent&lt;React.KeyboardEvent&lt;HTMLInputElement&gt;&gt;(this.input, \"keydown\").pipe(\n                map(k =&gt; k.keyCode),\n                filter(k =&gt; this.inputKeyCodes.indexOf(k) &gt; -1)\n            );\n\n            // If pressedKey is UP, increment the value. If it is DOWN, decrement the value.\n            // How to combine rawInput and pressedKey while keeping the functionality of this.parseRawValue?\n            //\n\n            this.typeSubject.pipe(\n                switchMap(t =&gt; this.parseRawValue(rawInput, t))\n            ).subscribe(\n                v =&gt; {\n                    this.props.setValue(v);\n                    this.setState({ isValid: true });\n                });\n        }\n    }\n\n    private parseRawValue(rawInput: Observable&lt;string&gt;, type: NumberInputExampleType): Observable&lt;number&gt; {\n        switch (type) {\n            case NumberInputExampleType.int:\n                return rawInput.pipe(\n                    //filter(v =&gt; ... ), // Filter invalid input, allowing only numbers or numbers-while-typing, such as '5.'\n                    //map(v =&gt; ... ), // Ensure the \"number\" is between this.props.max and this.props.min\n                    map(this.storeValueInState),\n                    //map(v / this.props.max) // Finally, convert the represented value to the internal value, a float\n                )\n            case NumberInputExampleType.percent:\n            // Similar logic to the above, except converting to a valid percentage. Filter out partial numbers\n        }\n    }\n\n    private storeValueInState(value: string): string {\n        this.setState({\n            rawValue: value,\n            isValid: false\n        });\n\n        return value;\n    };\n\n    render() {\n        return &lt;input ref={e =&gt; this.input = e} value={this.parseValue()} /&gt;;\n    }\n}\n</code></pre>\n\n<p>I expect that as I type, the following should occur, for example for <code>NumberInputExampleType.percent</code>:</p>\n\n<pre><code>action | rawValue | state.isValid | this.props.value\n-------+----------+---------------+-----------------\ninit   |          | true          | null\ntype 1 | 1        | true          | 1\ntype . | 1.       | false         | 1\ntype 0 | 1.0      | false         | 1\ntype w | 1.0      | false         | 1\ntype 1 | 1.01     | true          | 1.01\nkey UP | 1.02     | true          | 1.02\nerase  |          | true          | null\ntype 9 | 9        | true          | 9\ntype 9 | 99       | true          | 99\ntype . | 99.      | false         | 99\ntype 9 | 99.9     | false         | 99\ntype 9 | 99.99    | true          | 99.99\nkey UP | 100      | true          | 100\nkey UP | 100      | true          | 100\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "mongoose"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9205033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d0cae37847fb6b41f68b90309c8eecb?s=128&d=identicon&r=PG&f=1", "display_name": "Jaume Sastre", "link": "https://stackoverflow.com/users/9205033/jaume-sastre"}, "edited": false, "score": 0, "creation_date": 1554309590, "post_id": 55500073, "comment_id": 97707031, "body": "Getting same error, I don&#39;t know If I explained myself wrong. I want that when I import Post model in my route can do Post.paginate(). Now is throwing an error saying &#39;paginate&#39; no exists in the type &#39;Model&lt;Ipost, {}&gt;."}, {"owner": {"reputation": 55, "user_id": 9205033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d0cae37847fb6b41f68b90309c8eecb?s=128&d=identicon&r=PG&f=1", "display_name": "Jaume Sastre", "link": "https://stackoverflow.com/users/9205033/jaume-sastre"}, "edited": false, "score": 0, "creation_date": 1554310316, "post_id": 55500073, "comment_id": 97707417, "body": "Same error. I think I have to create a static method not instance method but I don&#39;t how cause the plugin already creates that method but not working when having my custom interface."}], "tags": [], "owner": {"reputation": 4141, "user_id": 3151567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2uaa.jpg?s=128&g=1", "display_name": "Abderrahim Soubai-Elidrisi", "link": "https://stackoverflow.com/users/3151567/abderrahim-soubai-elidrisi"}, "is_accepted": false, "score": 0, "last_activity_date": 1554310093, "last_edit_date": 1554310093, "creation_date": 1554309093, "answer_id": 55500073, "question_id": 55499490, "link": "https://stackoverflow.com/questions/55499490/extend-interface-in-mongoose-schema-to-add-plugin-method/55500073#55500073", "title": "Extend interface in mongoose schema to add plugin method", "body": "<p>You can extend it for your self</p>\n\n<pre><code>interface IPpaginator {\n        paginate(): void;\n\n}\n\ninterface IPost extends Document, IPpaginator {\n    created: Date;\n    mensaje: string;\n    img: string[];\n    coords: string;\n    usuario: string;\n    test: string;\n}\n</code></pre>\n\n<p><strong>Updates</strong></p>\n\n<pre><code>// import dependencies \nimport { Document, Schema, Model, model} from \"mongoose\";\n\n//export like a boss\nexport const Post: Model&lt;IPost&gt; = model&lt;IPost&gt;('Post', postSchema);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10851604, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WnKma_RO5Dw/AAAAAAAAAAI/AAAAAAAACnU/xwKkspnGOTo/photo.jpg?sz=128", "display_name": "Bhupen Pal", "link": "https://stackoverflow.com/users/10851604/bhupen-pal"}, "is_accepted": false, "score": 0, "last_activity_date": 1611999272, "last_edit_date": 1611999272, "creation_date": 1611998397, "answer_id": 65966384, "question_id": 55499490, "link": "https://stackoverflow.com/questions/55499490/extend-interface-in-mongoose-schema-to-add-plugin-method/65966384#65966384", "title": "Extend interface in mongoose schema to add plugin method", "body": "<p>I too am very new to typescript, thus won't be able to explain the whole code but here's the solution.</p>\n<p>/* postModel.ts */</p>\n<pre><code>import { Schema, model, PaginateModel } from 'mongoose';\n\ninterface IPost extends Document {\n    created: Date;\n    mensaje: string;\n    img: string[];\n    coords: string;\n    usuario: string;\n    test: string;\n}\n\nconst postSchema = new Schema({\n    created: Date.now(),\n    mensaje: String,\n    img: [String],\n    coords: String,\n    test: String,\n})\n\nexport default model&lt;IPost, MongooseModel&lt;IPost&gt;&gt;('Post', postSchema);\n</code></pre>\n<p>importing above file as:</p>\n<pre><code>import postModel from './postModel.ts'\n\npostModel.paginate(filters, options)\n</code></pre>\n<p>You'll be able to use paginate function now.</p>\n<p>Edit:\nDo not forget to add mongoose-paginate-v2.\nI personally like to add it while establishing a connection with the database. So that I don't have to import it in every schema that I create.</p>\n<p>Here's how you can do the same:</p>\n<pre><code>// DEPENDENCIES\nimport * as mongoose from 'mongoose';\nimport * as mongoosePaginate from 'mongoose-paginate-v2';\n\nconst connection = mongoose.connect(process.env.MONGODB_URI, {\n  dbName: process.env.DB_NAME,\n  authSource: 'admin',\n  user: process.env.DB_USER,\n  pass: process.env.DB_PASSWORD,\n  useNewUrlParser: !0,\n  useUnifiedTopology: !0,\n  useCreateIndex: !0,\n  useFindAndModify: !1,\n  autoIndex: !0,\n})\n  .then(() =&gt; {\n    console.log('Mongoose connected to db');\n  })\n  .catch((err: Error) =&gt; {\n    console.log(err.message);\n  });\n\nmongoose.connection.on('connected', () =&gt; {\n  console.log('Mongodb bridge connected');\n});\n\nmongoose.connection.on('error', (err: Error) =&gt; {\n  console.log(`Mongoose connection ERROR: ${err}`);\n});\n\nmongoose.connection.on('disconnected', () =&gt; {\n  console.log('Mongoose connection disconnected');\n});\n\nprocess.on('SIGINT', async () =&gt; {\n  await mongoose.connection.close();\n  process.exit(0);\n});\n\nmongoose.plugin(mongoosePaginate);\n\nexport default connection;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9205033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d0cae37847fb6b41f68b90309c8eecb?s=128&d=identicon&r=PG&f=1", "display_name": "Jaume Sastre", "link": "https://stackoverflow.com/users/9205033/jaume-sastre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 726, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1611999272, "creation_date": 1554307221, "question_id": 55499490, "link": "https://stackoverflow.com/questions/55499490/extend-interface-in-mongoose-schema-to-add-plugin-method", "title": "Extend interface in mongoose schema to add plugin method", "body": "<p>I have a Schema Model with a custom Interface:</p>\n\n<pre><code>interface IPost extends Document {\n    created: Date;\n    mensaje: string;\n    img: string[];\n    coords: string;\n    usuario: string;\n    test: string;\n}\n</code></pre>\n\n<p>I use this interface when exporting model:</p>\n\n<pre><code>export const Post = model&lt;IPost&gt;('Post', postSchema);\n</code></pre>\n\n<p>I would like to use mongoose-paginate-v2 plugin, I initialized:</p>\n\n<pre><code>postSchema.plugin(mongoosePaginate);\n</code></pre>\n\n<p>And if I export <strong>Post Model</strong> without my <strong>IPost interface</strong> I can <code>.paginate()</code> in my route, but not with my IPost interface.\nI tried adding the method to my interface, trying to extend from mongoose-paginate-v2 types but i haven`t got it.</p>\n\n<p>How can I add <code>.paginate()</code> method from mongoose-paginate-v2 to my interface? Thanks.</p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 52, "user_id": 8304284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a7555cfcfd874792b1fcc45e8533232?s=128&d=identicon&r=PG&f=1", "display_name": "loveJS", "link": "https://stackoverflow.com/users/8304284/lovejs"}, "is_accepted": false, "score": 0, "last_activity_date": 1554308165, "creation_date": 1554308165, "answer_id": 55499785, "question_id": 55499292, "link": "https://stackoverflow.com/questions/55499292/state-is-undefined-when-using-combinereducers/55499785#55499785", "title": "State is undefined when using CombineReducers", "body": "<p>The matter is in this piece of code:</p>\n\n<pre><code>import imageResults from './imageResults';\nimport client from './imageResults';\n</code></pre>\n\n<p>I believe the path to the client should be different</p>\n\n<pre><code>import client from './client';\n</code></pre>\n\n<p>Try to pass the valid filename, please</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4259327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d99a6fe4a627845873cf2620ff10e0b?s=128&d=identicon&r=PG&f=1", "display_name": "ygmedia", "link": "https://stackoverflow.com/users/4259327/ygmedia"}, "edited": false, "score": 0, "creation_date": 1554323276, "post_id": 55499915, "comment_id": 97713737, "body": "Thanks so much! Can&#39;t believe I&#39;ve been going around in circles all day over something so silly!!!"}], "tags": [], "owner": {"reputation": 723, "user_id": 11293993, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jOcdFlXHZ74/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRKWfNNeDq3qQJHv4OvlQ_UyC_Wg/mo/photo.jpg?sz=128", "display_name": "Roman Unt", "link": "https://stackoverflow.com/users/11293993/roman-unt"}, "is_accepted": true, "score": 2, "last_activity_date": 1554308569, "creation_date": 1554308569, "answer_id": 55499915, "question_id": 55499292, "link": "https://stackoverflow.com/questions/55499292/state-is-undefined-when-using-combinereducers/55499915#55499915", "title": "State is undefined when using CombineReducers", "body": "<p>Maybe you got wrong import?   </p>\n\n<pre><code>import client from './client';\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4259327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d99a6fe4a627845873cf2620ff10e0b?s=128&d=identicon&r=PG&f=1", "display_name": "ygmedia", "link": "https://stackoverflow.com/users/4259327/ygmedia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 55499915, "answer_count": 2, "score": 0, "last_activity_date": 1554308569, "creation_date": 1554306594, "question_id": 55499292, "link": "https://stackoverflow.com/questions/55499292/state-is-undefined-when-using-combinereducers", "title": "State is undefined when using CombineReducers", "body": "<p>I'm working on a React typescript project and trying to set up redux.</p>\n\n<p>I have split my reducers in two at the moment and combining them using <code>combineReducers</code>.</p>\n\n<p>Strangely when my application is run, <code>state</code> is undefined (I am logging <code>this.props</code> but nothing has a value.</p>\n\n<p>I can see that the actions are being dispatched using redux-devtools, but it just doesn't work.</p>\n\n<p>If I move my reducers the index file, all seems to work.</p>\n\n<p>I can't get my head around it...</p>\n\n<p>Please help!</p>\n\n<p>I've literally tried everything! Been at this all day. As mentioned, not using combinedReducers makes this problem go away.</p>\n\n<p>Reducer 1</p>\n\n<pre><code>const initState = []\n\nconst imageResults = (state = initState, action) =&gt; {\n    switch (action.type) {\n        case 'SEARCH_IMAGES' :\n            return [...state, action.payload]\n        default:\n            return state;\n    }\n}\n\nexport default imageResults;\n</code></pre>\n\n<p>Reducer 2</p>\n\n<pre><code>const initState = {\n    term: \"initial term\"\n}\n\nconst client = (state = initState, action) =&gt; {\n    console.log(action.payload)\n    switch (action.type) {\n        case 'UPDATE_TERM' :\n        return {\n            ...state,\n            term: action.payload\n        }\n        default:\n        return state;\n    }\n}\n\nexport default client;\n</code></pre>\n\n<p>combined reducer file</p>\n\n<pre><code>import {combineReducers} from 'redux';\n\nimport imageResults from './imageResults';\nimport client from './imageResults';\n\nconst reducer = combineReducers({\n    imageResults: imageResults,\n    client: client\n})\n\nexport default reducer;\n</code></pre>\n\n<p>When the application loads, I expect \n{term: \"initial term\", searchImages: \u0192, updateTerm: \u0192}</p>\n\n<p>instead, I get: {term: undefined, searchImages: \u0192, updateTerm: \u0192}</p>\n\n<p>Also my state should look like this:</p>\n\n<pre><code>imageResults:{term: \"initial term\"}\nclient(pin): []\n</code></pre>\n\n<p>But instead it looks like this:\nimageResults:[]\nclient:[]</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1554306792, "post_id": 55498991, "comment_id": 97705587, "body": "What about <code>*ngIf=&quot;value == other_value&quot;</code>?"}, {"owner": {"reputation": 157, "user_id": 3963082, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/0e18683c39ce3fb3d9c12b1430440e60?s=128&d=identicon&r=PG&f=1", "display_name": "de albuquerque frank", "link": "https://stackoverflow.com/users/3963082/de-albuquerque-frank"}, "reply_to_user": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1554309236, "post_id": 55498991, "comment_id": 97706871, "body": "It seems the same thing, it produces multiple errors"}], "answers": [{"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1554313502, "creation_date": 1554313502, "answer_id": 55501234, "question_id": 55498991, "link": "https://stackoverflow.com/questions/55498991/logical-comparison-in-ionic-view/55501234#55501234", "title": "Logical comparison in ionic view", "body": "<p>You are making some attempt to <code>if .. else</code> here it seems. So let's just correct that, and for example you could show it like:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"protocole.item === other_value; else other\"&gt;\n   &lt;ion-label&gt;\n      &lt;h2&gt;{{ protocole.item}} {{ modal_data_prot_detail_code }}&lt;/h2&gt;\n   &lt;/ion-label&gt; \n&lt;/div&gt;\n\n&lt;ng-template #other&gt;\n   &lt;ion-label\"&gt;\n     &lt;h2&gt;{{ protocole.item}}}&lt;/h2&gt; \n   &lt;/ion-label&gt;\n&lt;/ng-template&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 790, "user_id": 11299754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e979b65d27fe4b5423cd5dee5ec436?s=128&d=identicon&r=PG&f=1", "display_name": "Indragith", "link": "https://stackoverflow.com/users/11299754/indragith"}, "is_accepted": false, "score": 0, "last_activity_date": 1554314614, "creation_date": 1554314614, "answer_id": 55501533, "question_id": 55498991, "link": "https://stackoverflow.com/questions/55498991/logical-comparison-in-ionic-view/55501533#55501533", "title": "Logical comparison in ionic view", "body": "<p>Try this:   </p>\n\n<pre><code>&lt;ion-list&gt;\n        &lt;ion-item *ngFor=\"let protocole of protocoles\"&gt;\n            &lt;ng-container \n                 [ngTemplateOutlet]=\"value == other_value\" ? firstTemplate: secondTemplate\" \n                 [ngTemplateOutletContext]=\"{protocole:protocole}\"&gt;\n            &lt;/ng-container&gt;\n        &lt;/ion-item&gt;\n    &lt;/ion-list&gt;\n\n    &lt;ng-template #firstTemplate let-protocole='protocole'&gt;\n        &lt;div&gt;\n            &lt;ion-label&gt;\n                &lt;h2&gt;{{ protocole.item}} {{ modal_data_prot_detail_code }}&lt;/h2&gt;\n            &lt;/ion-label&gt; \n        &lt;/div&gt;\n    &lt;/ng-template&gt;\n\n    &lt;ng-template #secondTemplate let-protocole='protocole'&gt;\n        &lt;ion-label\"&gt;&lt;h2&gt;{{ protocole.item}}}&lt;/h2&gt; &lt;/ion-label&gt;\n    &lt;/ng-template&gt;\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 3963082, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/0e18683c39ce3fb3d9c12b1430440e60?s=128&d=identicon&r=PG&f=1", "display_name": "de albuquerque frank", "link": "https://stackoverflow.com/users/3963082/de-albuquerque-frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554314614, "creation_date": 1554305657, "last_edit_date": 1554310280, "question_id": 55498991, "link": "https://stackoverflow.com/questions/55498991/logical-comparison-in-ionic-view", "title": "Logical comparison in ionic view", "body": "<p>I try to compare two dynamic values in a ionic view template with angular.</p>\n\n<p>If the value equals to the other value then display the value else keep on looping</p>\n\n<pre><code>&lt;ion-list&gt;\n// Loop the results \n&lt;ion-item *ngFor=\"let protocole of protocoles\"&gt;\n\n    &lt;ng-template[ngIf]=\"{{value}}=={{other_value}}\"&gt;\n    &lt;div&gt;\n        &lt;ion-label&gt;\n            &lt;h2&gt;{{ protocole.item}} {{ modal_data_prot_detail_code }}&lt;/h2&gt;\n        &lt;/ion-label&gt; \n    &lt;/div&gt;\n\n    // ELSE\n    &lt;/ng-template&gt;\n        &lt;ion-label\"&gt;&lt;h2&gt;{{ protocole.item}}}&lt;/h2&gt; &lt;/ion-label&gt;\n    &lt;/ion-list&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "compare"], "comments": [{"owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "reply_to_user": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1554305278, "post_id": 55498664, "comment_id": 97704632, "body": "No sorry, this was a typo during copy of the code to stackoverflow"}, {"owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "edited": false, "score": 0, "creation_date": 1554305645, "post_id": 55498664, "comment_id": 97704852, "body": "I found this: <a href=\"https://angular.io/api/forms/SelectControlValueAccessor\" rel=\"nofollow noreferrer\">angular.io/api/forms/SelectControlValueAccessor</a>  and there they reference to: Note: We listen to the &#39;change&#39; event because &#39;input&#39; events aren&#39;t fired for selects in Firefox and IE. <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1024350\" rel=\"nofollow noreferrer\">bugzilla.mozilla.org/show_bug.cgi?id=1024350</a>  I&#39;m using firefox. Is this maybe the root cause of the issue?"}], "owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554305251, "creation_date": 1554304696, "last_edit_date": 1554305251, "question_id": 55498664, "link": "https://stackoverflow.com/questions/55498664/comparewith-does-not-select", "title": "compareWith does not select", "body": "<p>I have a select option with compareWith but it is not selecting the record in the dropdown list. </p>\n\n<pre><code>&lt;select class=\"form-control\"  name=\"selectAnswer\" [(ngModel)]=\"Result.answers[i]\" [compareWith]=\"compareFn\"&gt;\n&lt;option [ngValue]=\"answer\" *ngFor=\"let answer of QuestionOption.Answers\"&gt;{{answer.description}}&lt;/option&gt;\n</code></pre>\n\n<p>So I have one object Result.answers[i] where i have within an array my selected and saved values (previously saved when creating the record.</p>\n\n<p>In the QuestionOption.Answers I have for all potential Answers for the related question.</p>\n\n<p>Now in the compareFn I compare QuestionOption.Answers with Result.answers[i].</p>\n\n<pre><code>compareFn(c1: any, c2: any): boolean {\n      console.log(c1 &amp;&amp; c2 ? c1.id === c2.id : c1 === c2);\n         return c1 &amp;&amp; c2 ? c1.id === c2.id : c1 === c2;\n    }\n\n</code></pre>\n\n<p>in the console.log I receive true, false, false ...\nSo it seems the function returns perfectly fine if c1.id === c2.id</p>\n\n<p>BUT\nin the dropdownlist the record is not selected. It just stays empty.</p>\n\n<p>What do I miss?</p>\n\n<p>Everything seems fine except the selection is not working. What could be the root cause?</p>\n"}, {"tags": ["javascript", "typescript", "class", "object"], "comments": [{"owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "edited": false, "score": 0, "creation_date": 1554304689, "post_id": 55498534, "comment_id": 97704254, "body": "looks like you&#39;d prefer to use a list instead of defining parametrs one by one"}, {"owner": {"reputation": 2856, "user_id": 7935051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRDlL.jpg?s=128&g=1", "display_name": "unclexo", "link": "https://stackoverflow.com/users/7935051/unclexo"}, "edited": false, "score": 1, "creation_date": 1554304908, "post_id": 55498534, "comment_id": 97704401, "body": "Try <code>key = value;</code> instead."}], "answers": [{"tags": [], "owner": {"reputation": 3854, "user_id": 1382409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa333da22902fa8f675be41a47d97ee9?s=128&d=identicon&r=PG", "display_name": "Mateusz Kocz", "link": "https://stackoverflow.com/users/1382409/mateusz-kocz"}, "is_accepted": true, "score": 2, "last_activity_date": 1554305069, "creation_date": 1554305069, "answer_id": 55498797, "question_id": 55498534, "link": "https://stackoverflow.com/questions/55498534/loop-through-class-keys-inside-constructor/55498797#55498797", "title": "Loop through class keys inside constructor?", "body": "<p>TypeScript doesn't compile properties that are not initialised. For example this:</p>\n\n<pre><code>class SomeClass {\n    a: string\n    b: number\n}\n</code></pre>\n\n<p>\u2026 will compile to that JavaScript code:</p>\n\n<pre><code>var SomeClass = /** @class */ (function () {\n    function SomeClass() {\n    }\n    return SomeClass;\n}());\n</code></pre>\n\n<p>You can try it using <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">TypeScript's Playground</a>.</p>\n\n<p>If you want to loop on those keys, you'll have to initialise all of their values. For example, this will work as you want.</p>\n\n<pre><code>class SomeClass {\n    a: string = '' // Initialise to an empty string.\n    b: number = 0 // Initialise to 0.\n\n    constructor() {\n      console.log(Object.keys(this)) // =&gt; ['a', 'b']\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1996, "user_id": 8634147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-36eQ4qJ6F9o/AAAAAAAAAAI/AAAAAAAADZg/coKQfu-5HzM/photo.jpg?sz=128", "display_name": "Romain Deneau", "link": "https://stackoverflow.com/users/8634147/romain-deneau"}, "is_accepted": false, "score": 0, "last_activity_date": 1554463945, "creation_date": 1554463945, "answer_id": 55534449, "question_id": 55498534, "link": "https://stackoverflow.com/questions/55498534/loop-through-class-keys-inside-constructor/55534449#55534449", "title": "Loop through class keys inside constructor?", "body": "<p>To complement <a href=\"https://stackoverflow.com/users/1382409/mateusz-kocz\">Mateusz Kocz</a>'s answer, you can initialize the properties with <code>undefined</code> and even put the properties definitions after the constructor. The keys will be there too.</p>\n\n<pre><code>class NotInitialized {\n    a: string;\n    b: number;\n\n    constructor() {\n        logObjectKeys(this); // \"NotInitialized\" []\n    }\n}\n\nclass InitializedWithUndefined {\n    a: string = undefined;\n    b: number = undefined;\n\n    constructor() {\n        logObjectKeys(this); // \"InitializedWithUndefined\" [\"a\", \"b\"]\n    }\n}\n\nclass WithPropertyAfterConstructor {\n    constructor() {\n        logObjectKeys(this); // \"WithPropertyAfterConstructor\" [\"a\", \"b\"]\n    }\n\n    a: string = undefined;\n    b: number = undefined;\n}\n\nnew NotInitialized();\nnew InitializedWithUndefined();\nnew WithPropertyAfterConstructor();\n\nfunction logObjectKeys&lt;T&gt;(source: T) {\n    console.log(\n        Object.getPrototypeOf(source).constructor.name,\n        Object.keys(source));\n}\n</code></pre>\n"}], "owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 55498797, "answer_count": 2, "score": 1, "last_activity_date": 1554463945, "creation_date": 1554304303, "question_id": 55498534, "link": "https://stackoverflow.com/questions/55498534/loop-through-class-keys-inside-constructor", "title": "Loop through class keys inside constructor?", "body": "<p>Let's say I have a gigantic class and I want to set the default values of its keys by performing some sort of logic</p>\n\n<pre><code>export class SomeClass {\n    foo: number;\n    bar: number;\n    // gigantic list of key value pairs\n\n    constructor(multiply) {\n        const keys = Object.keys(this);\n        keys.forEach((k, i) =&gt; keys[k] = i * multiply);\n    }\n</code></pre>\n\n<p>How come <code>Object.keys(this)</code> returns an empty array? \nHow come <code>new SomeClass()</code> returns an empty object?</p>\n"}, {"tags": ["angular", "typescript", "routing", "angular-guards"], "comments": [{"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "edited": false, "score": 0, "creation_date": 1554305556, "post_id": 55498457, "comment_id": 97704808, "body": "Why not create a default &quot;Home Page&quot; that the user is always routed to, then in the <code>onInit</code> method of that check local storage and see if you need to navigate?"}, {"owner": {"reputation": 747, "user_id": 2975069, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1e6291d993662883b04eea5b4b7e0025?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Martinez", "link": "https://stackoverflow.com/users/2975069/rodrigo-martinez"}, "reply_to_user": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "edited": false, "score": 0, "creation_date": 1554308216, "post_id": 55498457, "comment_id": 97706351, "body": "That could be an approach, but the thing is that doing it that way you are rendering the home component while you are redirected. It&#39;s too late. I was hoping for a solution that would resolve this earlier"}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "edited": false, "score": 0, "creation_date": 1554308824, "post_id": 55498457, "comment_id": 97706665, "body": "You always have to render some component before processing the router, IE some component contains the <code>router-outlet</code>. Maybe do this logic in that <code>onInit</code>?"}], "owner": {"reputation": 747, "user_id": 2975069, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1e6291d993662883b04eea5b4b7e0025?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Martinez", "link": "https://stackoverflow.com/users/2975069/rodrigo-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554304069, "creation_date": 1554304069, "question_id": 55498457, "link": "https://stackoverflow.com/questions/55498457/angular-7-redirecting-to-last-visited-page", "title": "Angular 7 Redirecting to last visited page", "body": "<p>I'm building an Angular app in which I'd like to redirect the user to the last visited page he was at after logging in. The idea would be that if you are logged in, I will fetch from a local storage the last visited page (which will get updated on each navigation) and it will redirect there. If you are not logged in then you go to the login page.</p>\n\n<p>For this I have been trying to find the best way to accomplish this since I believe there are a couple of options.</p>\n\n<p>1- Using an App initializer. Idea would be to define a function I can set to be executed when the app is being initialized to detect where to redirect to. Problem with this is that I'm getting an error since I can inject the Router at this point since it hasn't been created yet. An alternative is to use the Injector class to generate a Router instance and from there redirect. This seems rather dirty.</p>\n\n<p>2- Using a Route Resolver. Despite this seems more as to prepare data that then will be showed, here I could define the functionality when navigating to the base path ''. This works fine at first, but if I hit a back button to a main dashboard page (suppose we were redirected to '/dash/msgs' when accessing the site, and then we want to go back to path '/dash/main') then the resolver is executed again, the stored navigation hasn't yet been updated (which happens on a service at navigation end event) so the old value is being retrieved and the state.url from RouterStateSnapshot shows me the main path '/' rather than the end path '/dash/main'. So I end up always on the same page - this is not the case when I access without being logged in and then I log in and start navigating with the same browser window</p>\n\n<p>3- Using a Guard with a can activate. This also doesn't seem the right place to me. I defined a guard to my main dashboard module (for path '/dash') which will always be executed when accessing from a new browser window and the user is logged in. This would happen after a first guard to detect that you are indeed logged in, but this guard will return false if there was some navigation url on the local storage and redirect there which will be in most cases. This approach works just fine, but it has some delay and doesn't seem the right approach to me since I would expect to detect where to navigate on an earlier stage</p>\n\n<p>Does someone could point me out the proper strategy to handle this? Thanks in advance!</p>\n"}, {"tags": ["typescript", "azure", "azure-functions"], "comments": [{"owner": {"reputation": 17678, "user_id": 79891, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/l3JE3.jpg?s=128&g=1", "display_name": "meds", "link": "https://stackoverflow.com/users/79891/meds"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1554303723, "post_id": 55498153, "comment_id": 97703630, "body": "unfortuantely none of the reasons you&#39;ve given explains the complete lack of output - it looks like azure functions with typescript ignores the .done function"}, {"owner": {"reputation": 17678, "user_id": 79891, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/l3JE3.jpg?s=128&g=1", "display_name": "meds", "link": "https://stackoverflow.com/users/79891/meds"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1554304427, "post_id": 55498153, "comment_id": 97704075, "body": "I&#39;m aware of what typescript is :) I updated the example with typescript code instead to put you at ease, rest assured context.done still doesn&#39;t work so if you have any useful information on that point I&#39;d appreciate it. The reason I had it in javascript was to highlight strongly that the issue appears to be in the azure functions typescript http trigger and not an inherent issue with typescript, because as you correctly pointed out typescript is a superset of javascript it shouldn&#39;t matter if the code is javascript or typescript ;)"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 5754692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409ffad0dc330529d5d039791ea1d7e2?s=128&d=identicon&r=PG", "display_name": "nelak", "link": "https://stackoverflow.com/users/5754692/nelak"}, "is_accepted": true, "score": 2, "last_activity_date": 1554312666, "creation_date": 1554312666, "answer_id": 55500997, "question_id": 55498153, "link": "https://stackoverflow.com/questions/55498153/azure-functions-with-ts-produces-no-output/55500997#55500997", "title": "Azure functions with TS produces no output?", "body": "<p>The second argument of your <code>context.done</code> callback is incorrect.\nYou forgot to add to wrap the output object within a property named <code>res</code> or the name you gave to your output binding in the <code>function.json</code> file.</p>\n\n<pre><code>  {\n    \"authLevel\": null,\n    \"type\": \"http\",\n    \"direction\": \"out\",\n    \"name\": \"res\",\n    \"methods\": null\n  }\n</code></pre>\n\n<p>If instead you do:</p>\n\n<pre><code>context.done(null, {\n      res: {body: \"Now it does work\"}\n    })\n</code></pre>\n\n<p>You should see <code>Now it does work</code> in the response</p>\n"}], "owner": {"reputation": 17678, "user_id": 79891, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/l3JE3.jpg?s=128&g=1", "display_name": "meds", "link": "https://stackoverflow.com/users/79891/meds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 55500997, "answer_count": 1, "score": 1, "last_activity_date": 1554312666, "creation_date": 1554303222, "last_edit_date": 1554304459, "question_id": 55498153, "link": "https://stackoverflow.com/questions/55498153/azure-functions-with-ts-produces-no-output", "title": "Azure functions with TS produces no output?", "body": "<p>I have the following in a typescript file:</p>\n\n<pre><code>import { AzureFunction, Context, HttpRequest } from \"@azure/functions\"\n\nconst httpTrigger: AzureFunction = function (context: Context, req: HttpRequest) {\n    context.done(null, {\n        body: \"Still does not work\"\n    })\n};\n\nexport default httpTrigger;\n</code></pre>\n\n<p>when I visit the function url I get a blank page instead of the body.</p>\n\n<p>seems fairly straightforward this should work unless I'm missing something super obvious?</p>\n"}, {"tags": ["node.js", "postgresql", "typescript", "nestjs", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "is_accepted": true, "score": 5, "last_activity_date": 1554317010, "creation_date": 1554317010, "answer_id": 55502207, "question_id": 55498140, "link": "https://stackoverflow.com/questions/55498140/saving-buffer-on-postgres-bytea-with-typeorm-only-store-10-bytes/55502207#55502207", "title": "Saving Buffer on Postgres bytea with TypeORM only store 10 bytes", "body": "<p>Based on that comment <a href=\"https://github.com/typeorm/typeorm/issues/2878#issuecomment-432725569\" rel=\"noreferrer\">https://github.com/typeorm/typeorm/issues/2878#issuecomment-432725569</a> and the idea of bytea hex format from there <a href=\"https://www.postgresql.org/docs/9.0/datatype-binary.html\" rel=\"noreferrer\">https://www.postgresql.org/docs/9.0/datatype-binary.html</a> I did the following:</p>\n\n<p>Decoded the Buffer to a hex string, escaped it with \\x and then loaded it to a Buffer again.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>entity.entima_imagem = Buffer.from(\"\\\\x\" + Buffer.from(base64String, \"base64\").toString(\"hex\"));\n</code></pre>\n\n<p>Now the data is saved without problems and i can retrieve them just as it's supposed to be.</p>\n\n<p>It didn't look so elegant, but solved the problem for now.</p>\n"}, {"tags": [], "owner": {"reputation": 5098, "user_id": 1347157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f8a3e3f6e964ca6ef23503c7457755c?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1347157/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1554881753, "creation_date": 1554881753, "answer_id": 55607124, "question_id": 55498140, "link": "https://stackoverflow.com/questions/55498140/saving-buffer-on-postgres-bytea-with-typeorm-only-store-10-bytes/55607124#55607124", "title": "Saving Buffer on Postgres bytea with TypeORM only store 10 bytes", "body": "<p>I had similar issue. It looks like typeorm has problems with 0x00 byte. It slices everything starting from first 0 byte.</p>\n\n<p>A similar workaround worked for me:</p>\n\n<pre><code>@Column({ type: \"bytea\", nullable: false })\npublic file: Buffer;\n</code></pre>\n\n<p>while saving:</p>\n\n<pre><code>log.file = (\"\\\\x\" + file.toString( \"hex\" )) as any;\n</code></pre>\n\n<p>Creating a buffer from \"\\\\x\"+content string as @JDuwe suggested didn't work for me.\nI had to provide a string to typeorm, not Buffer.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 2396514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7cddf818d6efe7d0c76f5f7c79a81e?s=128&d=identicon&r=PG&f=1", "display_name": "Kov&#225;cs Ede", "link": "https://stackoverflow.com/users/2396514/kov%c3%a1cs-ede"}, "is_accepted": false, "score": 0, "last_activity_date": 1604840445, "creation_date": 1604840445, "answer_id": 64738352, "question_id": 55498140, "link": "https://stackoverflow.com/questions/55498140/saving-buffer-on-postgres-bytea-with-typeorm-only-store-10-bytes/64738352#64738352", "title": "Saving Buffer on Postgres bytea with TypeORM only store 10 bytes", "body": "<p>Maybe since the last answer postgres or typeorm solved it, but on the latest version of both i managed to make this work without any &quot;hack&quot;\nhere is the code for entity column</p>\n<pre><code>@Column({\n    name: 'imageData',\n    type: 'bytea',\n    nullable: false,\n})\nimageData: Buffer;\n</code></pre>\n<p>and only thing i did that converted base64 string to Buffer, but this is unrelated to typeorm</p>\n<pre><code> constructor(imageDataBase64: string) {\n    if (imageDataBase64) {\n        this.imageData = Buffer.from(imageDataBase64, 'base64');\n    }\n}\n</code></pre>\n<p>Even I use sync feature of typeorm</p>\n<p>During retrival:</p>\n<pre><code>imageData.toString('base64')\n</code></pre>\n<p>and i got back the original base64 string which can be inserted into webpage as image</p>\n"}], "owner": {"reputation": 468, "user_id": 11306247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23649f4d06de5bba97c11e8afa9ba2ea?s=128&d=identicon&r=PG&f=1", "display_name": "JDuwe", "link": "https://stackoverflow.com/users/11306247/jduwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3396, "favorite_count": 1, "accepted_answer_id": 55502207, "answer_count": 3, "score": 1, "last_activity_date": 1604840445, "creation_date": 1554303188, "question_id": 55498140, "link": "https://stackoverflow.com/questions/55498140/saving-buffer-on-postgres-bytea-with-typeorm-only-store-10-bytes", "title": "Saving Buffer on Postgres bytea with TypeORM only store 10 bytes", "body": "<p>I'm trying to save some images on a postgres db, but only 10 bytes of data are being saved.</p>\n\n<p>The flow is something like this:</p>\n\n<p>I receive a base64 encoded string on my server, then i load that to a Buffer, set it to my entity and save it. \nBut then a try to restore that information from db and i'm getting  only 10 bytes of data, verified with octet_length() on a query.</p>\n\n<p>My entity attribute definition:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Column({ \"name\": \"entima_imagem\", \"type\": \"bytea\", \"nullable\": false })\nentima_imagem: Buffer;\n</code></pre>\n\n<p>The code where i receive the data and save it:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>entity.entima_imagem = Buffer.from(base64String, \"base64\");\nconst repository = this.getRepositoryTarget(Entity);\nconst saved = await repository.save&lt;any&gt;(entity);\n</code></pre>\n\n<p>On the server, before saving, i'm writing the file on disc and i can visualize it without problem.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2421, "user_id": 11025582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a45b1fd0442131ea4522f1d291e21a4?s=128&d=identicon&r=PG&f=1", "display_name": "HTN", "link": "https://stackoverflow.com/users/11025582/htn"}, "is_accepted": false, "score": 0, "last_activity_date": 1554311211, "last_edit_date": 1554311211, "creation_date": 1554303496, "answer_id": 55498247, "question_id": 55498002, "link": "https://stackoverflow.com/questions/55498002/express-typescript-why-is-my-controller-method-throwing-error-message/55498247#55498247", "title": "Express TypeScript: Why is my controller method throwing error message?", "body": "<p>Property 'equals' does not exist on type 'string': if it works in JS, it mean voter is not a 'string' as you declared.</p>\n\n<p>Check the signature of your method <code>Poll.findById(pollId)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 14181, "user_id": 557360, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7TZFZ.jpg?s=128&g=1", "display_name": "VtoCorleone", "link": "https://stackoverflow.com/users/557360/vtocorleone"}, "is_accepted": false, "score": 0, "last_activity_date": 1554310417, "creation_date": 1554310417, "answer_id": 55500409, "question_id": 55498002, "link": "https://stackoverflow.com/questions/55498002/express-typescript-why-is-my-controller-method-throwing-error-message/55500409#55500409", "title": "Express TypeScript: Why is my controller method throwing error message?", "body": "<p>For the first error, your interface defines <code>votedBy</code> as an array of strings.  You can call <code>.some</code> on an array but then you are calling <code>.equals</code> on a string which is not a method on type <code>string</code>.  You can change</p>\n\n<pre><code>const hasVoted = poll.votedBy.some((voter): boolean =&gt; voter.equals(voterId));\n</code></pre>\n\n<p>to</p>\n\n<pre><code>const hasVoted = poll.votedBy.some((voter): boolean =&gt; voter === voterId);\n</code></pre>\n\n<p>And the second one, you do not define <code>choices</code> on your <code>Poll</code> interface.  So the following line fails the typescript compiler because of it.</p>\n\n<pre><code>const choice = await poll.choices.id(choiceId);\n</code></pre>\n\n<p>You need to add <code>choices</code> as property on your <code>Poll</code> interface.  I don't know exactly what your implementation is but you would want to add something like the following to your <code>Poll</code> interface. </p>\n\n<pre><code>choices: {\n  id:() =&gt; string;\n}\n</code></pre>\n\n<p>From your code, it looks like you are trying to find a matching <code>choice</code> from a given <code>choiceId</code>.  </p>\n"}], "owner": {"reputation": 991, "user_id": 6538046, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-crKzZIc5G70/AAAAAAAAAAI/AAAAAAAAAMU/-GiwwIPELSU/photo.jpg?sz=128", "display_name": "Collins Orlando", "link": "https://stackoverflow.com/users/6538046/collins-orlando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554311211, "creation_date": 1554302819, "last_edit_date": 1554307528, "question_id": 55498002, "link": "https://stackoverflow.com/questions/55498002/express-typescript-why-is-my-controller-method-throwing-error-message", "title": "Express TypeScript: Why is my controller method throwing error message?", "body": "<p>folks. I'm just getting started with TypeScript and, thus, part of getting my feet wet includes converting a Express backend I built to TS. All has been well to this point, but now I got some rather unusual issues. Specifically, the lines <code>const hasVoted = poll.votedBy.some((voter): boolean =&gt; voter.equals(voterId));</code> and <code>const choice = await poll.choices.id(choiceId);</code> in the code snippet below, which result in <code>Property 'equals' does not exist on type 'string'</code> and <code>Property 'choices' does not exist on type 'Poll &amp; Document'</code> error messages respectively. For reference, I has the JS version working just fine, so what is it that I may be missing here?</p>\n\n<p><strong>Post Controller</strong></p>\n\n<pre><code>import * as mongoose from 'mongoose';\nimport { Request, Response } from 'express';\n\nimport { Poll } from '../models/index';\n\nclass PollsController {\n  public async addNewPoll(req: Request, res: Response) {\n    // ...\n  }\n\n  public async voteInPoll(req: Request, res: Response) {\n    const { category, pollId } = req.params;\n    const { name, choiceId, voterId } = req.body;\n\n    try {\n      const poll = await Poll.findById(pollId);\n\n      // Check if user has already voted in poll\n      const hasVoted = poll.votedBy.some((voter): boolean =&gt; voter.equals(voterId));\n\n      if (!voterId) {\n        res\n          .status(401)\n          .json({ message: 'Sorry, you must be logged in to vote' });\n      } else if (voterId &amp;&amp; hasVoted) {\n        res\n          .status(401)\n          .json({ message: 'Sorry, you have already participated in poll' });\n      } else {\n        const choice = await poll.choices.id(choiceId);\n        const votedChoice = { name, votes: choice.votes + 1 };\n\n        await choice.set(votedChoice);\n        await poll.votedBy.push(voterId);\n\n        poll.save();\n\n        res\n          .status(200)\n          .json({\n            message: 'Thank you for voting.',\n            poll,\n          });\n      }\n    } catch (error) {\n      res.status(404).json({ error });\n    }\n  }\n\n  // ...\n}\n\nexport default PollsController\n</code></pre>\n\n<p><strong>Poll Interface</strong></p>\n\n<pre><code>interface Poll {\n  title: string;\n  category: string;\n  addedBy: string;\n  votedBy?: [string];\n}\n\nexport default Poll;\n</code></pre>\n\n<p><strong>Poll Schema</strong></p>\n\n<pre><code>import * as mongoose from 'mongoose';\n\nimport PollInterface from './poll.interface';\n\nconst Schema = mongoose.Schema;\n\nconst ChoiceSchema = new Schema({\n  name: { type: String },\n  votes: { type: Number }\n});\n\nconst PollSchema = new Schema({\n  title: { type: String },\n  category: { type: String },\n  choices: [ChoiceSchema],\n  addedBy: { type: Schema.Types.ObjectId, ref: 'User' },\n  votedBy: [{ type: Schema.Types.ObjectId, ref: 'User' }]\n},{\n    timestamps: true,\n});\n\nconst Poll = mongoose.model&lt;PollInterface &amp; mongoose.Document&gt;('Poll', PollSchema);\n\nexport default Poll;\n</code></pre>\n\n<p><strong>Edit</strong>: Included both Poll interface and schema code snippets</p>\n"}, {"tags": ["json", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 8905729, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-JA_H5h9wfmM/AAAAAAAAAAI/AAAAAAAAAd4/_8vHnTcSjjI/photo.jpg?sz=128", "display_name": "Narendar ", "link": "https://stackoverflow.com/users/8905729/narendar"}, "edited": false, "score": 0, "creation_date": 1554369045, "post_id": 55497975, "comment_id": 97729054, "body": "the array is coming as string like [&quot;{&quot;uname&quot;: &quot;test&quot;, &quot;age&quot;: &quot;24&quot;}&quot;,&quot;{&quot;uname&quot;: &quot;test1&quot;, &quot;age&quot;: &quot;25&quot;}&quot;] so i am unable perform iteration"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1554374483, "last_edit_date": 1554374483, "creation_date": 1554302741, "answer_id": 55497975, "question_id": 55497821, "link": "https://stackoverflow.com/questions/55497821/how-stringfy-list-of-values/55497975#55497975", "title": "How stringfy list of values", "body": "<p>You can use <code>map function</code> to get Values field</p>\n\n<p>And this regex to correct JSON format </p>\n\n<pre><code>correctJson = badJson.replace(/(['\"])?([a-z0-9A-Z_]+)(['\"])?:/g, '\"$2\": ');\n</code></pre>\n\n<p>Updated:\nI update regex for add quote for both key and value object string.</p>\n\n<pre><code>correctedJson = badJson.replace(/([a-zA-Z0-9-]+): ([a-zA-Z0-9-]+)/g, \"\\\"$1\\\":\\\"$2\\\"\")\n</code></pre>\n\n<p>It show your expected value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = [{ID: 1, Name: 'test', Values: \"{uname: test, age: 24}\"},{ID: 2, Name: 'test1', Values: \"{uname: test1, age: 25}\"}];\r\n\r\nvar testobj = obj.map(c=&gt;c.Values.replace(/([a-zA-Z0-9-]+): ([a-zA-Z0-9-]+)/g, \"\\\"$1\\\":\\\"$2\\\"\"));\r\n\r\nconsole.log(JSON.stringify(testobj));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 300, "user_id": 8905729, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-JA_H5h9wfmM/AAAAAAAAAAI/AAAAAAAAAd4/_8vHnTcSjjI/photo.jpg?sz=128", "display_name": "Narendar ", "link": "https://stackoverflow.com/users/8905729/narendar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 55497975, "answer_count": 1, "score": 0, "last_activity_date": 1554374483, "creation_date": 1554302340, "last_edit_date": 1554361269, "question_id": 55497821, "link": "https://stackoverflow.com/questions/55497821/how-stringfy-list-of-values", "title": "How stringfy list of values", "body": "<p>I am trying to stringfy the response from Rest API.\nThe response which is getting from API is</p>\n\n<pre><code>[{ID: 1, Name: test, Values: \"{uname: test, age: 24}\"},{ID: 2, Name: test1, Values: \"{uname: test1, age: 25}\"}] \n\n value: string[] = [];\n this.http.get('/api/test/' + id).subscribe(result =&gt; {        \n      const res = result.json();\n });\n</code></pre>\n\n<p><strong>storing values in a string array</strong></p>\n\n<pre><code> for (let result of res) {\n    this.value.push(result.Values);\n }\n\n const string = JSON.stringify(this.value);\n</code></pre>\n\n<p>Expecting Result </p>\n\n<pre><code>[{\"uname\": \"test\", \"age\": \"24\"},{\"uname\": \"test1\", \"age\": \"25\"}]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 0, "creation_date": 1554302611, "post_id": 55497882, "comment_id": 97702755, "body": "I&#39;ve tried, but then I&#39;m getting other error : &#39;autoplay&#39; does not exist on  type &#39;IonSlides&#39;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "reply_to_user": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 0, "creation_date": 1554302794, "post_id": 55497882, "comment_id": 97702894, "body": "Did this solve the import issue you were asking about?  --  As for the next question, you can ask a new question about the <code>autoplay</code> property change, but it&#39;s likely enough that the IonSlides documentation will answer this for you. Here is the link: <a href=\"https://ionicframework.com/docs/api/slides\" rel=\"nofollow noreferrer\">ionicframework.com/docs/api/slides</a>"}, {"owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 1, "creation_date": 1554308031, "post_id": 55497882, "comment_id": 97706247, "body": "Yes, It did; I&#39;ll ask a new question about autoplay. Thanks for the response."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "is_accepted": true, "score": 12, "last_activity_date": 1560773086, "last_edit_date": 1592644375, "creation_date": 1554302483, "answer_id": 55497882, "question_id": 55497805, "link": "https://stackoverflow.com/questions/55497805/import-slides-doesnt-working-on-ionic-4/55497882#55497882", "title": "Import Slides doesn&#39;t working on Ionic 4?", "body": "<p><a href=\"https://github.com/ionic-team/ionic/issues/16737#issuecomment-447267665\" rel=\"noreferrer\">This answer on a GitHub issue</a> says there is a rename in the documentation for Ionic 4. Renaming <code>Slides</code> to <code>IonSlides</code> should do the trick.</p>\n<blockquote>\n<p>Please take a look at the breaking changes for beta.18: <a href=\"https://github.com/ionic-team/ionic/blob/master/CHANGELOG.md#angular-prefixed-ion--components\" rel=\"noreferrer\">https://github.com/ionic-team/ionic/blob/master/CHANGELOG.md#angular-prefixed-ion--components</a></p>\n<p>Everything is prefixed with Ion, so instead of Slides it's IonSlides:</p>\n<pre><code>import {IonSlides} from '@ionic/angular';\n</code></pre>\n<p>...</p>\n<pre><code>@ViewChild(IonSlides) slides: IonSlides;\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 954, "user_id": 11232319, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1CeN15JymQ/AAAAAAAAAAI/AAAAAAAAFfk/1gfU2QmfuiM/photo.jpg?sz=128", "display_name": "bunny", "link": "https://stackoverflow.com/users/11232319/bunny"}, "is_accepted": false, "score": 2, "last_activity_date": 1560774361, "last_edit_date": 1560774361, "creation_date": 1560772332, "answer_id": 56630753, "question_id": 55497805, "link": "https://stackoverflow.com/questions/55497805/import-slides-doesnt-working-on-ionic-4/56630753#56630753", "title": "Import Slides doesn&#39;t working on Ionic 4?", "body": "<pre><code>import {IonSlides} from '@ionic/angular';\n\nexport class HomePage {\n@ViewChild(IonSlides) slides: IonSlides;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 6624846, "user_type": "registered", "profile_image": "https://graph.facebook.com/674465582706742/picture?type=large", "display_name": "Dinesh Gurjar", "link": "https://stackoverflow.com/users/6624846/dinesh-gurjar"}, "is_accepted": false, "score": 1, "last_activity_date": 1572765034, "creation_date": 1572765034, "answer_id": 58678130, "question_id": 55497805, "link": "https://stackoverflow.com/questions/55497805/import-slides-doesnt-working-on-ionic-4/58678130#58678130", "title": "Import Slides doesn&#39;t working on Ionic 4?", "body": "<p>this one solved my problem in ionic 4</p>\n\n<pre><code>import { IonSlides } from '@ionic/angular';\nexport class IntroScreenPage implements OnInit {\n@ViewChild('slides', { read: true, static: false }) ionSlides: IonSlides;\n</code></pre>\n\n<p>i passed second parameter  { read: true, static: false }</p>\n"}], "owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3094, "favorite_count": 1, "accepted_answer_id": 55497882, "answer_count": 3, "score": 3, "last_activity_date": 1572765034, "creation_date": 1554302298, "question_id": 55497805, "link": "https://stackoverflow.com/questions/55497805/import-slides-doesnt-working-on-ionic-4", "title": "Import Slides doesn&#39;t working on Ionic 4?", "body": "<p>So, I'm trying to Import Ionic Slides to my project, but I'm getting this message: <em>\"... has no exported member 'Slides'\"</em></p>\n\n<p>I'm importing like this:</p>\n\n<pre><code>import { Slides } from '@ionic/angular';\n</code></pre>\n\n<p>then the rest of the code:</p>\n\n<pre><code>@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  @ViewChild(\"audio\") audio;\n  @ViewChild(Slides) slides: Slides;\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n  ngAfterViewInit() {\n\n    let self = this;\n\n    this.audio.nativeElement.oncanplaythrough = () =&gt; {\n\n      this.audio.nativeElement.onplay = function () {\n\n        self.slides.autoplay = 1000;\n        self.slides.startAutoplay();\n\n      };\n\n      this.audio.nativeElement.onpause = function () {\n\n        self.slides.autoplay = undefined;\n        self.slides.stopAutoplay();\n\n      };\n\n    };\n  }\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "jodit"], "answers": [{"tags": [], "owner": {"reputation": 553, "user_id": 760816, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/be627448afc24047e4ccefe3d00207b5?s=128&d=identicon&r=PG", "display_name": "RHH", "link": "https://stackoverflow.com/users/760816/rhh"}, "is_accepted": true, "score": 3, "last_activity_date": 1579595122, "last_edit_date": 1579595122, "creation_date": 1554302337, "answer_id": 55497819, "question_id": 55497772, "link": "https://stackoverflow.com/questions/55497772/how-can-i-maintain-styles-upon-pressing-enter-in-jodit-text-editor/55497819#55497819", "title": "How can I maintain styles upon pressing Enter in Jodit text editor?", "body": "<p>You have to set the <code>enter</code> key to <code>br</code> in the Jodit config.</p>\n\n<pre><code>const editor = new Jodit('#element', { enter: 'br' })\n</code></pre>\n\n<p>Hope that helps!</p>\n\n<p><strong>Reference:</strong><br>\n<a href=\"https://xdsoft.net/jodit/doc/options/enter/\" rel=\"nofollow noreferrer\">https://xdsoft.net/jodit/doc/options/enter/</a></p>\n"}], "owner": {"reputation": 43, "user_id": 2765896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62601cf4c0fc01c77fff8a36e128baf?s=128&d=identicon&r=PG&f=1", "display_name": "jimbonk", "link": "https://stackoverflow.com/users/2765896/jimbonk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 1, "accepted_answer_id": 55497819, "answer_count": 1, "score": 2, "last_activity_date": 1579595122, "creation_date": 1554302180, "question_id": 55497772, "link": "https://stackoverflow.com/questions/55497772/how-can-i-maintain-styles-upon-pressing-enter-in-jodit-text-editor", "title": "How can I maintain styles upon pressing Enter in Jodit text editor?", "body": "<p>After applying styles (Bold, Italic, etc..), pressing enter creates a new line and the styles have been removed. How can I prevent this and carry over the styles to the new line?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack", "babeljs"], "comments": [{"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 1, "creation_date": 1554302173, "post_id": 55497745, "comment_id": 97702454, "body": "Please edit your question so you use text of the code, not the images"}, {"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1554302923, "post_id": 55497745, "comment_id": 97702983, "body": "Please create minimal example, I can&#39;t reproduce error with <a href=\"https://github.com/akoidan/55497745\" rel=\"nofollow noreferrer\">your configuration</a>"}, {"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1554303017, "post_id": 55497745, "comment_id": 97703055, "body": "The only issue I see that you didn&#39;t close <code>&lt;Fragment&gt;</code> tag"}, {"owner": {"reputation": 169, "user_id": 10036460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDdq1.jpg?s=128&g=1", "display_name": "Miluna", "link": "https://stackoverflow.com/users/10036460/miluna"}, "reply_to_user": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1554305263, "post_id": 55497745, "comment_id": 97704621, "body": "@deathangel908 It is closed down below. Code was working before updating"}], "answers": [{"comments": [{"owner": {"reputation": 2739, "user_id": 3815432, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3523270d3d2bdb908089a05957ccc711?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Vlasenko", "link": "https://stackoverflow.com/users/3815432/nikita-vlasenko"}, "edited": false, "score": 1, "creation_date": 1581028499, "post_id": 55514022, "comment_id": 106303251, "body": "It would really help if you could describe steps more in detail and how the babel configs differ from &#39;3&#39; to &#39;4&#39;."}, {"owner": {"reputation": 2739, "user_id": 3815432, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3523270d3d2bdb908089a05957ccc711?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Vlasenko", "link": "https://stackoverflow.com/users/3815432/nikita-vlasenko"}, "edited": false, "score": 0, "creation_date": 1581032096, "post_id": 55514022, "comment_id": 106304174, "body": "I asked a similar question: <a href=\"https://stackoverflow.com/questions/60104995/switching-to-babel-7-causes-jest-to-show-unexpected-token\" title=\"switching to babel 7 causes jest to show unexpected token\">stackoverflow.com/questions/60104995/&hellip;</a>"}], "tags": [], "owner": {"reputation": 169, "user_id": 10036460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDdq1.jpg?s=128&g=1", "display_name": "Miluna", "link": "https://stackoverflow.com/users/10036460/miluna"}, "is_accepted": false, "score": 2, "last_activity_date": 1554374923, "creation_date": 1554374923, "answer_id": 55514022, "question_id": 55497745, "link": "https://stackoverflow.com/questions/55497745/babel-7-unexpected-token-for-react-component/55514022#55514022", "title": "Babel 7 Unexpected token for React component", "body": "<p>Finally got it to work by updating webpack, its plugins and adding the presets and plugins inside the webpack configuration</p>\n\n<pre><code>// Process JS with Babel.\n{\n  test: /\\.(js|jsx|mjs|ts|tsx)$/,\n  exclude: /node_modules/,\n  include: paths.appSrc,\n  use: [{\n    loader: 'babel-loader',\n    options: {\n      presets: [\n        [\"@babel/preset-env\", { modules: \"commonjs\" }],\n        \"@babel/preset-typescript\",\n        \"@babel/preset-react\"\n      ],\n      plugins: [\n        \"@babel/plugin-proposal-class-properties\",\n        \"@babel/plugin-proposal-object-rest-spread\",\n        \"@babel/plugin-syntax-dynamic-import\",\n        \"@babel/plugin-transform-runtime\"\n      ]\n    }\n  }],\n},\n</code></pre>\n\n<p>Thanks for your answers, hopefully this is useful for someone else</p>\n"}], "owner": {"reputation": 169, "user_id": 10036460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDdq1.jpg?s=128&g=1", "display_name": "Miluna", "link": "https://stackoverflow.com/users/10036460/miluna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3603, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1554374923, "creation_date": 1554302092, "last_edit_date": 1554305707, "question_id": 55497745, "link": "https://stackoverflow.com/questions/55497745/babel-7-unexpected-token-for-react-component", "title": "Babel 7 Unexpected token for React component", "body": "<p>I'm upgrading to Babel v7 from v6 and when I build the project I get the following error: </p>\n\n<p>Syntax error: src\\app\\layout\\components\\FooterToolbar.js: Unexpected token</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nb5jR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nb5jR.png\" alt=\"Unexpected token &lt;\"></a></p>\n\n<p>I'm using the following .babelrc configuration</p>\n\n<pre><code>{\n  \"presets\": [\n    [\"@babel/preset-env\", { \"useBuiltIns\": \"usage\", \"debug\": true }],\n    \"@babel/preset-typescript\",\n    \"@babel/preset-react\"\n  ],\n  \"plugins\": [\n    \"@babel/plugin-proposal-class-properties\",\n    \"@babel/plugin-proposal-object-rest-spread\",\n    \"@babel/plugin-syntax-dynamic-import\",\n    \"@babel/plugin-transform-runtime\"\n  ]\n}\n</code></pre>\n\n<p>And finally this is my webpack config. I put the pollyfills first and then the index.js file in the entry and the babel-loader as transpiler</p>\n\n<pre><code>entry: [\"@babel/polyfill\", paths.appIndexJs],\n</code></pre>\n\n<pre><code>// Process JS with Babel.\n{\n  test: /\\.(js|jsx|mjs|ts|tsx)$/,\n  exclude: /node_modules/,\n  include: paths.appSrc,\n  use: [{ loader: 'babel-loader' }],\n},\n</code></pre>\n\n<p>Any advice to solve this issue? Thanks a lot</p>\n\n<p>EDIT: I'm using typescript in this project. This is the tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n      \"target\": \"esnext\",\n      \"moduleResolution\": \"node\",\n      \"esModuleInterop\": true,\n      \"isolatedModules\": true,\n      \"strict\": true,\n      \"noEmit\": true,\n      \"allowJs\": true,\n      \"resolveJsonModule\": true,\n      \"jsx\": \"react\"\n    },\n    \"include\": [\n      \"src\"\n    ]\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "pipe", "refactoring"], "comments": [{"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 1, "creation_date": 1554302127, "post_id": 55497542, "comment_id": 97702415, "body": "You should be able to pass any object. <a href=\"https://stackblitz.com/edit/angular-dbar77?file=src%2Fapp%2Fmy-pipe.pipe.ts\" rel=\"nofollow noreferrer\">See here</a>. I can&#39;t see why it&#39;s not working for you. Can you confirm if you are getting the object within the pipe by logging it?"}, {"owner": {"reputation": 3553, "user_id": 1404206, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NwiYe.jpg?s=128&g=1", "display_name": "Andrew Gray", "link": "https://stackoverflow.com/users/1404206/andrew-gray"}, "reply_to_user": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1554302381, "post_id": 55497542, "comment_id": 97702596, "body": "I updated my code to show what I&#39;m doing more accurately; I didn&#39;t add the fact that I&#39;m passing values from the controller as part of the pipe parameters.  In fact, the more I think about it, the more I&#39;m sure that passing the value of an input as part of the pipe parameters is where the problem is.  By way of patiently commenting, you may have just helped me figure out what&#39;s up this particular case.  I probably need to put the spec object in a <code>BehaviorSubject&lt;&gt;</code> or something and rig up a <code>(change)</code> event if I wanted to refactor it as I&#39;m trying to do..."}, {"owner": {"reputation": 3553, "user_id": 1404206, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NwiYe.jpg?s=128&g=1", "display_name": "Andrew Gray", "link": "https://stackoverflow.com/users/1404206/andrew-gray"}, "reply_to_user": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1554302417, "post_id": 55497542, "comment_id": 97702618, "body": "...which now that you make me think of it, I&#39;m not so sure I do.  The cosmetic simplicity probably isn&#39;t worth the increased maintenance cost that such a refactor would create."}], "answers": [{"tags": [], "owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1554303436, "creation_date": 1554303436, "answer_id": 55498212, "question_id": 55497542, "link": "https://stackoverflow.com/questions/55497542/how-to-pass-component-data-object-to-a-pipe/55498212#55498212", "title": "How to pass component data object to a pipe", "body": "<p>The problem is that you are only changing a property on the <code>filteringCondition</code> object and not the object itself. When binding to variables in the template, Angular's change detection will only detect the change if the reference of that variable changes. In other words, if you create a new <code>filteringCondition</code> object every time <code>this.someValue</code> changes, then your code should work again. Take a look at <a href=\"https://stackblitz.com/edit/angular-dbar77?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">this StackBlitz example</a>.</p>\n"}], "owner": {"reputation": 3553, "user_id": 1404206, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NwiYe.jpg?s=128&g=1", "display_name": "Andrew Gray", "link": "https://stackoverflow.com/users/1404206/andrew-gray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 55498212, "answer_count": 1, "score": 1, "last_activity_date": 1554303436, "creation_date": 1554301577, "last_edit_date": 1554302009, "question_id": 55497542, "link": "https://stackoverflow.com/questions/55497542/how-to-pass-component-data-object-to-a-pipe", "title": "How to pass component data object to a pipe", "body": "<p><strong>Background</strong><br>\nOn a project I am working on, I have a generic collection-filtering pipe, that...well...filters collections.  It's used most prominently in Material Design Autocomplete controls.</p>\n\n<pre><code>&lt;input name=\"someValue\"\n       #someValueField=\"ngModel\"\n       [(ngModel)]=\"someValue\"\n       [matAutocomplete]=\"someValueAutocomplete\" /&gt;\n&lt;mat-autocomplete #someValueAutocomplete=\"matAutocomplete\"&gt;\n   &lt;mat-option *ngFor=\"let item of collection | filterCollection:{mode: 'contains', property: 'name', value: someValue}\"\n               [value]=\"item.id\"&gt;\n     {{ item.name }}\n   &lt;/mat-option&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n\n<p><strong>The Problem</strong><br>\nI'm wanting to refactor the object that appears on line 5 of my above example into an object that hangs off of the component, like so:</p>\n\n<pre><code>// import statements\n\n@Component(\n  selector: 'app-my-awesome-component',\n  templateUrl: './my-awesome.component.html',\n  styleUrls: ['./my-awesome.component.scss']\n)\nexport class MyAwesomeComponent implements OnInit {\n  public someValue: string = '';\n  public collection: {id: number, name: string}[] = [];\n  // This is what I'd like to send to the pipe...\n  public filteringCondition = {\n    mode: 'contains',\n    property: 'name',\n    value: this.someValue\n  };\n\n  public constructor() {}\n  public onInit(): void {\n    // Pull collection items from the database; irrelevant implementation to question.\n  }\n\n  // Methods and stuff are similarly irrelevant.\n}\n</code></pre>\n\n<p>...Which would make my markup look like this:</p>\n\n<pre><code>&lt;input name=\"someValue\"\n       #someValueField=\"ngModel\"\n       [(ngModel)]=\"someValue\"\n       [matAutocomplete]=\"someValueAutocomplete\" /&gt;\n&lt;mat-autocomplete #someValueAutocomplete=\"matAutocomplete\"&gt;\n   &lt;!-- Refactor is below!  \"filterCollection\"'s parameter should now be the filteringCondition object from the component... --&gt;\n   &lt;mat-option *ngFor=\"let item of collection | filterCollection:filteringCondition\"\n               [value]=\"item.id\"&gt;\n     {{ item.name }}\n   &lt;/mat-option&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n\n<p>If I set my autocompletes up as I show in the background example, where I'm hard-coding the object into the <code>*ngFor</code> attribute value, then the filter works correctly.  However, when I refactor the code to look like it does immediately above this paragraph, the filter stops working.</p>\n\n<p><strong>Question</strong><br>\nIs it possible to pass a complex object to a filter, as I would like to do for my refactor, or am I restricted to hard-coding a filter condition object directly in the <code>*ngFor</code> attribute?  </p>\n\n<p>If it is possible, the follow-up question is: what's the right way to do it?</p>\n"}, {"tags": ["typescript", "dictionary", "set", "angular6"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1554301707, "post_id": 55497502, "comment_id": 97702131, "body": "Why not just use <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/Arrays\" rel=\"nofollow noreferrer\">arrays</a>?  I must be missing something here."}, {"owner": {"reputation": 11, "user_id": 10064779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487166cc1c3403165aa553b7dd244a5f?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/10064779/ttt"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554467673, "post_id": 55497502, "comment_id": 97774260, "body": "Thanks. I thought the arrays would end with {}, But I was assigning the value incorrectly."}], "owner": {"reputation": 11, "user_id": 10064779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487166cc1c3403165aa553b7dd244a5f?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/10064779/ttt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554301483, "creation_date": 1554301483, "question_id": 55497502, "link": "https://stackoverflow.com/questions/55497502/how-to-acheive-100-350-150-70-200-200-250-250-data-structure-in", "title": "How to acheive [[100, 350], [150, 70], [200, 200], [250, 250]] data structure in typescript", "body": "<p>I am trying to use npm natural-spline-interpolator package\n<a href=\"https://www.npmjs.com/package/natural-spline-interpolator\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/natural-spline-interpolator</a>\nInside this package, I need to pass points as [[100, 350], [150, 70], [200, 200], [250, 250]]. Which data structure should I use to achieve this? </p>\n\n<p>I have already tried to use Set(), Map() data structures.</p>\n\n<pre><code>var point = new Set();\nvar pt;\nthis.points.forEach(element =&gt;\n{\n  pt = new Set([element.xAxis, element.yAxis]);\n  point.add(pt);\n}\n</code></pre>\n\n<pre><code>Set() resulted as \n\n   Set(3) {Set(2), Set(2), Set(2)}\n      size: (...)\n      __proto__: Set\n      [[Entries]]: Array(3)\n         0: Set(2)\n            value: Set(2)\n               size: (...)\n               __proto__: Set\n               [[Entries]]: Array(2)\n                  0: 332.5565912117177\n                  1: 407.18204184363304\n                  length: 2\n         1: Set(2)\n         2: Set(2)\n         length: 3\n</code></pre>\n\n<p>Should result as:\n[[100, 350], [150, 70], [200, 200], [250, 250]]</p>\n"}, {"tags": ["angular", "typescript", "http"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10488802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4235fb2b1e2e9090fbbba681cfebcfc?s=128&d=identicon&r=PG&f=1", "display_name": "Zako", "link": "https://stackoverflow.com/users/10488802/zako"}, "edited": false, "score": 0, "creation_date": 1554303348, "post_id": 55497677, "comment_id": 97703333, "body": "Thank you for your help. Your answer was helpful for my code, but I still can&#39;t get my request to work properly. I need to pass my &#39;username&#39; and &#39;password&#39; as params somewhere."}, {"owner": {"reputation": 2531, "user_id": 6407858, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-u3sR4b4UZWY/AAAAAAAAAAI/AAAAAAAAABQ/A635K1ESMs8/photo.jpg?sz=128", "display_name": "Yug Singh", "link": "https://stackoverflow.com/users/6407858/yug-singh"}, "reply_to_user": {"reputation": 101, "user_id": 10488802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4235fb2b1e2e9090fbbba681cfebcfc?s=128&d=identicon&r=PG&f=1", "display_name": "Zako", "link": "https://stackoverflow.com/users/10488802/zako"}, "edited": false, "score": 0, "creation_date": 1554303390, "post_id": 55497677, "comment_id": 97703357, "body": "@Zako do you mean as query params or path params?"}, {"owner": {"reputation": 2531, "user_id": 6407858, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-u3sR4b4UZWY/AAAAAAAAAAI/AAAAAAAAABQ/A635K1ESMs8/photo.jpg?sz=128", "display_name": "Yug Singh", "link": "https://stackoverflow.com/users/6407858/yug-singh"}, "reply_to_user": {"reputation": 101, "user_id": 10488802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4235fb2b1e2e9090fbbba681cfebcfc?s=128&d=identicon&r=PG&f=1", "display_name": "Zako", "link": "https://stackoverflow.com/users/10488802/zako"}, "edited": false, "score": 0, "creation_date": 1554303642, "post_id": 55497677, "comment_id": 97703563, "body": "if it is query param you can use ?username=&#39;user&#39;&amp;password=&#39;pass&#39;. For path params as the name suggest you can directly pass them in the path. But for security reasons you should avoid sending username and password as path params"}, {"owner": {"reputation": 101, "user_id": 10488802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4235fb2b1e2e9090fbbba681cfebcfc?s=128&d=identicon&r=PG&f=1", "display_name": "Zako", "link": "https://stackoverflow.com/users/10488802/zako"}, "edited": false, "score": 1, "creation_date": 1554304971, "post_id": 55497677, "comment_id": 97704439, "body": "Yeah I think what&#39;s wrong is the way I&#39;m trying to do it. I&#39;ve read that it might be easier to pass a token instead of credentials. Gonna try this way :    new httpHeaders({&#39;Authorization&#39; : &#39;zfkgn4432qyxnrsmdl3xdbrsf2lnsrmba4deu6vyri3mwlhbpyju&#39;, &#39;Content-Type&#39;:  &#39;application/json&#39;});    Thank you!"}], "tags": [], "owner": {"reputation": 2531, "user_id": 6407858, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-u3sR4b4UZWY/AAAAAAAAAAI/AAAAAAAAABQ/A635K1ESMs8/photo.jpg?sz=128", "display_name": "Yug Singh", "link": "https://stackoverflow.com/users/6407858/yug-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1554302241, "last_edit_date": 1554302241, "creation_date": 1554301925, "answer_id": 55497677, "question_id": 55497476, "link": "https://stackoverflow.com/questions/55497476/http-get-request-with-httpauth-params/55497677#55497677", "title": "HTTP GET request with HttpAuth Params", "body": "<p>You can create a <code>httpOptions object</code> which is passed from httpclient as shown below. It is essentially a map in which you can define various request header.</p>\n\n<pre><code>import { HttpHeaders } from '@angular/common/http';\n\nconst httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type':  'application/json',\n    'Authorization': 'my-auth-token'\n  })\n};\n</code></pre>\n\n<p>Now you can do </p>\n\n<pre><code>return this.http.get('https://api.github.com/user', httpOptions );\n</code></pre>\n\n<p>You can refer to <a href=\"https://angular.io/guide/http#adding-headers\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://stackoverflow.com/a/44739873/6407858\">this</a> for more details.</p>\n"}], "owner": {"reputation": 101, "user_id": 10488802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4235fb2b1e2e9090fbbba681cfebcfc?s=128&d=identicon&r=PG&f=1", "display_name": "Zako", "link": "https://stackoverflow.com/users/10488802/zako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 55497677, "answer_count": 1, "score": 0, "last_activity_date": 1554303153, "creation_date": 1554301413, "last_edit_date": 1554303153, "question_id": 55497476, "link": "https://stackoverflow.com/questions/55497476/http-get-request-with-httpauth-params", "title": "HTTP GET request with HttpAuth Params", "body": "<p>I need to make a HTTP request in my angular solution.\nI have created a service with a HTTP client.</p>\n\n<p>However, I can't seem to add the right headers.</p>\n\n<p>Here is what the working request looks like in python : </p>\n\n<pre><code>requests.get('https://api.github.com/user', auth=HTTPBasicAuth('user', 'password'))\n</code></pre>\n\n<p>How can I 'translate' this into the right request for my example ? : </p>\n\n<pre><code>public getFile() {\n  return this.http.get('https://api.github.com/user', {headers :myGetHeaders});\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1139, "user_id": 2641777, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/K7Zuk.jpg?s=128&g=1", "display_name": "IMujagic", "link": "https://stackoverflow.com/users/2641777/imujagic"}, "edited": false, "score": 0, "creation_date": 1554301789, "post_id": 55497426, "comment_id": 97702189, "body": "You mean your item is never editable?"}], "answers": [{"tags": [], "owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "is_accepted": true, "score": 2, "last_activity_date": 1554301895, "creation_date": 1554301895, "answer_id": 55497664, "question_id": 55497426, "link": "https://stackoverflow.com/questions/55497426/compare-two-variables/55497664#55497664", "title": "Compare two variables", "body": "<p>I think the logic in comparison is a bit confusing here.</p>\n\n<p>What you compare here is:</p>\n\n<blockquote>\n  <p>if <strong>NOT EDITABLE</strong> and <strong>ITEM IS WHAT I WANT</strong> then <strong>disabled</strong></p>\n</blockquote>\n\n<p>But you want</p>\n\n<blockquote>\n  <p>if <strong>NOT</strong>( <strong>IS EDITABLE</strong>  and <strong>ITEM IS WHAT I WANT</strong>) then <strong>disabled</strong></p>\n</blockquote>\n\n<p>So you can wrap with parenthesis like:</p>\n\n<pre><code>[disabled]=\"!(isEditable &amp;&amp; item.id == id)\"\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 2000189, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e985c93657d1d66b114ef4529a93d2d6?s=128&d=identicon&r=PG", "display_name": "user2000189", "link": "https://stackoverflow.com/users/2000189/user2000189"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 55497664, "answer_count": 1, "score": 0, "last_activity_date": 1554302207, "creation_date": 1554301282, "last_edit_date": 1554302207, "question_id": 55497426, "link": "https://stackoverflow.com/questions/55497426/compare-two-variables", "title": "Compare two variables", "body": "<p>I have a scenario to compare two variables in component html file. for example</p>\n\n<p>html:</p>\n\n<pre><code>&lt;tr *ngFor=\"let item of mf.data\"&gt;\n    &lt;td style=\"width: 20%\"&gt;\n        &lt;input type=\"text\" name=\"FirstName\" value={{item.id}} [disabled]=\"!isEditable &amp;&amp; item.id == id\"&gt;\n    &lt;/td&gt;\n     &lt;td&gt;&lt;i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\" style=\"cursor: pointer;\" (click)=\"showAsEditable(item);\"&gt;&lt;/i&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>ts:</p>\n\n<pre><code>filterData;\nid : string;\nisEditable = false;\n\nshowAsEditable(temp){           \n    this.isEditable = true;\n    this.id = temp.id;\n}\n</code></pre>\n\n<p>In the above example, i want compare two variables as</p>\n\n<pre><code>[disabled]=\"!isEditable &amp;&amp; item.id == id\"\n</code></pre>\n\n<p>but this is not actually comparing properly, how to compare this two different vartiabls.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 2374, "user_id": 10105321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X354S.gif?s=128&g=1", "display_name": "jess", "link": "https://stackoverflow.com/users/10105321/jess"}, "edited": false, "score": 0, "creation_date": 1554301351, "post_id": 55497389, "comment_id": 97701907, "body": "Add a null checker for the condition if <code>this.books</code> has no response. Try to use ngIf condition that sets if this is empty."}], "answers": [{"tags": [], "owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "is_accepted": true, "score": 2, "last_activity_date": 1554301344, "creation_date": 1554301344, "answer_id": 55497452, "question_id": 55497389, "link": "https://stackoverflow.com/questions/55497389/what-is-the-best-practice-way-to-get-rid-of-these-errors-in-my-html-code/55497452#55497452", "title": "What is the best practice way to get rid of these errors in my html code", "body": "<p>The error is most likely coming from the initial page load before you retrieve the data from the api. There are a few ways you could fix this, but one that Angular has built in is through the <code>?</code> operator as seen below.</p>\n\n<pre><code>&lt;div *ngFor=\"let name of book?.books; let i = index\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 11166227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A4mjFzMDUJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4O4VruWNYNaZT06O9Kimm9Y06EA/mo/photo.jpg?sz=128", "display_name": "Conor Donohoe", "link": "https://stackoverflow.com/users/11166227/conor-donohoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55497452, "answer_count": 1, "score": 0, "last_activity_date": 1554301344, "creation_date": 1554301183, "question_id": 55497389, "link": "https://stackoverflow.com/questions/55497389/what-is-the-best-practice-way-to-get-rid-of-these-errors-in-my-html-code", "title": "What is the best practice way to get rid of these errors in my html code", "body": "<p>OKay so I know its a really generic title but I am accessing the new york times api and it has nested objects in it for example one object is results and inside results is books in my typescript I am using a for loop to access the nested array but I get an error in the html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { BooksService } from './books.service';\r\nimport { Listmodel } from '../models/list';\r\n\r\nimport {LocalStorageService} from 'ngx-localstorage';\r\n\r\n\r\n@Component({\r\n  selector: 'app-books',\r\n  templateUrl: './books.component.html',\r\n  styleUrls: ['./books.component.less']\r\n})\r\nexport class BooksComponent implements OnInit {\r\n\r\n  constructor(private api: BooksService,\r\n              private http: HttpClient,\r\n              private localStorage: LocalStorageService) { }\r\n  book;\r\n  names: Listmodel[];\r\n  section: string;\r\n  fav: string;\r\n  favourites = [];\r\n  modal: any;\r\n  modal1 = [];\r\n  fave: any;\r\n  clientid: number;\r\n  user;\r\n  ngOnInit() {\r\n    this.loadBooks();\r\n    this.loadNames();\r\n  }\r\n  loadBooks() {\r\n    this.api.getBooks().subscribe(\r\n    data =&gt; {\r\n         this.book = data.results;\r\n     }\r\n  );\r\n }\r\n loadNames() {\r\n   this.api.getNames().subscribe(\r\n     data =&gt; {\r\n       return this.names = data.results;\r\n     }\r\n   );\r\n }\r\n sectionlink(text: any) {\r\n    this.section = text;\r\n    this.api.getcategory(text).subscribe(\r\n    data =&gt; {\r\n        return this.book = data.results;\r\n     }\r\n  );\r\n  }\r\n  addFav(text: any) {\r\n      this.fav = text;\r\n      this.user = JSON.parse(localStorage.getItem('user'));\r\n      this.clientid = this.user.data.id;\r\n      this.api.addfav(this.fav, this.clientid).subscribe(\r\n        data =&gt; {\r\n          this.fave = data;\r\n        }\r\n      );\r\n  }\r\n  readMore(text: string) {\r\n    this.modal = text;\r\n    Object.keys(this.modal).map((keyName) =&gt; {\r\n      return {id: keyName, product: this.modal[keyName]};\r\n  });\r\n }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1 class=\"uk-flex uk-flex-center uk-width-1-1\"&gt;{{book.list_name}}&lt;/h1&gt;\r\n&lt;hr class=\"uk-divider-icon uk-width-1-1\"&gt;\r\n&lt;div class=\"uk-grid uk-grid-divider textali\"&gt;\r\n  &lt;div class=\"uk-width-1-3\"&gt;List Updated {{book.updated | lowercase }}\r\n  &lt;/div&gt;\r\n  &lt;div class=\"uk-width-1-3\"&gt;\r\n    &lt;a href=\"#offcanvas-usage\" class=\"uk-button uk-button-primary btn1\" uk-toggle&gt;Categorys&lt;/a&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"uk-width-1-3\"&gt;List Published On {{book.published_date | lowercase |date: 'fullDate'}}\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"uk-grid uk-grid-medium\" style=\"padding:15px;\"&gt;\r\n  &lt;div class=\"uk-child-width-1-5@s uk-grid-match\" uk-grid&gt;\r\n    &lt;div *ngFor=\"let name of book.books; let i = index\"&gt;\r\n      &lt;div class=\"uk-card uk-card-hover uk-card-body\"&gt;\r\n        &lt;img src=\"{{name.book_image}}\"&gt;\r\n        &lt;hr class=\"uk-divider-icon\"&gt;\r\n        Best Sellers Rank {{name.rank}}\r\n        &lt;br /&gt;\r\n        &lt;span&gt;Weeks on List {{name.weeks_on_list}}&lt;/span&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;div class=\"uk-card-footer\" style=\"padding: 2px\"&gt;\r\n          &lt;a href=\"{{name.amazon_product_url}}\" class=\" button uk-icon-link uk-margin-small-right\"\r\n            uk-icon=\"icon: cart; ratio: 1.5\"&gt;&lt;/a&gt;\r\n          &lt;a class=\"uk-icon-link uk-margin-small-right\"\r\n              (click)=\"addFav({title: name.title, image:name.book_image, amazon:name.amazon_product_url})\"\r\n              uk-icon=\"icon: heart; ratio: 1.5\"&gt;&lt;/a&gt;\r\n          &lt;a (click)=\"readMore({ Summary: name.description, Author: name.author })\"\r\n            uk-toggle=\"target: #read-more\" class=\"uk-icon-link uk-margin-small-right\"\r\n            uk-icon=\"icon: info; ratio: 1.5\"&gt;&lt;/a&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div id=\"offcanvas-usage\" uk-offcanvas&gt;\r\n  &lt;div class=\"uk-offcanvas-bar\"&gt;\r\n    &lt;button class=\"uk-offcanvas-close\" (click)=\"this.isButtonVisible = true\" type=\"button\" uk-close&gt;&lt;/button&gt;\r\n    &lt;h3&gt;Categorys&lt;/h3&gt;\r\n    &lt;div *ngFor=\"let section of names\"&gt;\r\n      &lt;div class=\" uk-flex uk-flex-column\"&gt;\r\n        &lt;ul class=\"uk-nav uk-nav-primary uk-nav-center uk-margin-auto-vertical\"&gt;\r\n          &lt;li class=\"uk-active\"&gt;&lt;a (click)=\"sectionlink(section.list_name)\"&gt;{{section.list_name}}&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div id=\"read-more\" uk-modal&gt;\r\n  &lt;div class=\"uk-modal-dialog uk-modal-body\"&gt;\r\n      &lt;h2 class=\"uk-modal-title uk-heading\"&gt;Book Info &lt;/h2&gt;\r\n      &lt;div class=\"uk-divider-icon\"&gt;&lt;/div&gt;\r\n      &lt;div *ngFor=\"let item of modal | keyvalue\"&gt;\r\n        &lt;br/&gt;\r\n      &lt;h6 class=\"uk-heading\"&gt;{{item.key}}&lt;/h6&gt;\r\n      &lt;span&gt;{{item.value}}&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"uk-divider-icon\"&gt;&lt;/div&gt;\r\n    &lt;button class=\"uk-modal-close uk-button uk-button-danger\" type=\"button\"&gt;Close&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you can see from the type script I have the data binded to this.books and this is the html error I am getting</p>\n\n<p><a href=\"https://i.stack.imgur.com/qReAs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qReAs.png\" alt=\"enter image description here\"></a>\nDoes anyone know where I have to define this the loop works fine I just wanna get rid of the error thank you for your help</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4725, "user_id": 9931092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dDivw.jpg?s=128&g=1", "display_name": "Amit Baranes", "link": "https://stackoverflow.com/users/9931092/amit-baranes"}, "is_accepted": false, "score": 1, "last_activity_date": 1554304612, "last_edit_date": 1554304612, "creation_date": 1554300317, "answer_id": 55497098, "question_id": 55497004, "link": "https://stackoverflow.com/questions/55497004/for-in-object-typescript-how-i-can-get-the-name-of-the-object/55497098#55497098", "title": "For in object typescript, how I can get the name of the object?", "body": "<p>You can use for...of statement instead of for...in .\nSo your code should look like that:</p>\n\n<pre><code>for(var campoObrigatorio of formulario.controls){\n\n  if(campoObrigatorio.status == \"INVALID\"){\n    console.log(campoObrigatorio);\n    return \n  }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>The for...of statement creates a loop iterating over iterable objects,\n  including: built-in String, Array, Array-like objects (e.g., arguments\n  or NodeList), TypedArray, Map, Set, and user-defined iterables. It\n  invokes a custom iteration hook with statements to be executed for the\n  <strong>value of each distinct property of the object</strong>.</p>\n</blockquote>\n\n<p>More about for..of <a href=\"https://developer.mozilla.org/he/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">Here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1554314875, "creation_date": 1554314875, "answer_id": 55501595, "question_id": 55497004, "link": "https://stackoverflow.com/questions/55497004/for-in-object-typescript-how-i-can-get-the-name-of-the-object/55501595#55501595", "title": "For in object typescript, how I can get the name of the object?", "body": "<p>You in fact <strong>have</strong> the property name in your loop out of the box, it actually corresponds to <code>var campoObrigatorio</code>, so this should do what you want:</p>\n\n<pre><code>for(var campoObrigatorio in formulario.controls){\n  if (formulario.get(campoObrigatorio).status === \"INVALID\") { // I like to use get\n    console.log(campoObrigatorio) // here is the name of the form control!\n    return;\n  }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10916807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554314875, "creation_date": 1554300025, "last_edit_date": 1554300390, "question_id": 55497004, "link": "https://stackoverflow.com/questions/55497004/for-in-object-typescript-how-i-can-get-the-name-of-the-object", "title": "For in object typescript, how I can get the name of the object?", "body": "<p>I'm trying to make a <code>for()</code> to verify the first field in my template that have the status <strong>INVALID</strong> and I need the name of this object.</p>\n\n<p>I try something like: </p>\n\n<pre><code>for(var campoObrigatorio in formulario.controls){\n\n  if(formulario.controls[campoObrigatorio].status == \"INVALID\"){\n    var displayCampoObrigatorio = formulario.controls[campoObrigatorio];\n    console.log(displayCampoObrigatorio)\n    return ;\n  }\n\n}\n</code></pre>\n\n<p>Apparently my logic is right, but i'm not getting the name of my object in this line:</p>\n\n<pre><code>var displayCampoObrigatorio = formulario.controls[campoObrigatorio];\n</code></pre>\n\n<p>Here are catch the dom three for the object that have the status <strong>INVALID</strong>, I need only the name of the object. Example: altura, comprimento, etc...</p>\n\n<p><a href=\"https://i.stack.imgur.com/abz2V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/abz2V.png\" alt=\"enter image description here\"></a></p>\n\n<p>How I can do this?</p>\n"}, {"tags": ["node.js", "typescript", "promise", "async-await", "request-promise"], "comments": [{"owner": {"reputation": 1005, "user_id": 1579289, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/fHT5j.jpg?s=128&g=1", "display_name": "brent", "link": "https://stackoverflow.com/users/1579289/brent"}, "edited": false, "score": 0, "creation_date": 1554456149, "post_id": 55496746, "comment_id": 97767542, "body": "Thanks for the answers! I had gotten myself confused with what I was typing out there; and will update to just async with a catch block.  However; I&#39;m still unclear as to why the future catch didn&#39;t capture the error; and why my node process exited?"}], "answers": [{"tags": [], "owner": {"reputation": 3770, "user_id": 3673073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5be0.jpg?s=128&g=1", "display_name": "divine", "link": "https://stackoverflow.com/users/3673073/divine"}, "is_accepted": false, "score": -1, "last_activity_date": 1554307115, "last_edit_date": 1554307115, "creation_date": 1554304564, "answer_id": 55498620, "question_id": 55496746, "link": "https://stackoverflow.com/questions/55496746/node-js-catch-block-not-firing-as-expected-on-await/55498620#55498620", "title": "node.js catch block not firing as expected on await", "body": "<p>You aren't using <code>async await</code> as it should be used</p>\n\n<p><code>async await</code> enables the code to wait for promise response and then move on to the next step. Any error returned by the rest endpoint, is caught by the catch block. </p>\n\n<p>i've posted a sample code below, to show how <code>async await</code> would work with <code>promise</code></p>\n\n<pre><code>var rp = require('request-promise');\n\nvar myfun = async ()=&gt;{\n    let returnValue = null;\n    try{\n        let response = await rp(\"http://localhost:3000/getdata\");\n        console.log(\"ajax success\");\n        returnValue = response;\n    }\n    catch(err){\n        console.log(\"ajax error \",err.message)\n        returnValue = err.message;\n    }\n    return returnValue;\n}\n</code></pre>\n\n<p><strong>Note</strong> if you want to return any data from <code>async</code> function, then the calling function should also be <code>async</code> and <code>await</code> has to be used while invoking.</p>\n\n<p><a href=\"https://javascript.info/async-await\" rel=\"nofollow noreferrer\">Read more</a> about <code>async await</code></p>\n"}, {"tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1554307965, "creation_date": 1554307965, "answer_id": 55499732, "question_id": 55496746, "link": "https://stackoverflow.com/questions/55496746/node-js-catch-block-not-firing-as-expected-on-await/55499732#55499732", "title": "node.js catch block not firing as expected on await", "body": "<p>You're mixing standard promise handling with <code>async/await</code> style promise handling. You should try to use one or the other, but not both. Using both methods simultaneously is not restricted, but it certainly adds confusion.</p>\n\n<p>This is what <code>async/await</code> style promise handling should look like:</p>\n\n<pre><code>async function verifyJWT(jwt: string): Promise&lt;any&gt; {\n    try {\n        return await rp({\n            uri: ...,\n            method: 'POST',\n            json: {\n                ...\n            }\n        });\n    } catch (err) {\n        console.error(`verifyJWT: err`, err);\n        return {\n            authInfo: {}\n        };\n    }\n}\n</code></pre>\n\n<p>This is what standard promise handling should look like:</p>\n\n<pre><code>function verifyJWT(jwt: string): Promise&lt;any&gt; {\n    return rp({\n        uri: ...,\n        method: 'POST',\n        json: {\n            ...\n        }\n    }).catch((err: any) =&gt; {\n        console.error(`verifyJWT: err`, err);\n        return {\n            authInfo: {}\n        };\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1005, "user_id": 1579289, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/fHT5j.jpg?s=128&g=1", "display_name": "brent", "link": "https://stackoverflow.com/users/1579289/brent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1554307965, "creation_date": 1554299251, "question_id": 55496746, "link": "https://stackoverflow.com/questions/55496746/node-js-catch-block-not-firing-as-expected-on-await", "title": "node.js catch block not firing as expected on await", "body": "<p>My node process exited after logging</p>\n\n<pre><code>E    callback: [Function: RP$callback],\nE    { serviceName: '....',\nE    errno: 'EAI_AGAIN',\nE    name: 'RequestError',\n</code></pre>\n\n<p>But I thought the below code would catch exceptions and return the defaulted value</p>\n\n<pre><code>var rp = require('request-promise');\n\nasync function verifyJWT(jwt: string): Promise&lt;any&gt; {\n\n    const userDataPromise = rp({\n        uri: ...,\n        method: 'POST',\n        json: {\n            ...\n        }\n    });\n    const userData = await userDataPromise.catch((err: any) =&gt; {\n        console.error(`verifyJWT: err`, err)\n        return {\n            authInfo: {}\n        };\n    });\n    return userData;\n}\n\nexport default verifyJWT\n</code></pre>\n\n<p>Are there certain types of failures that would not get caught here?\nWould it be better to provide a rejection handler in catch on the promise?</p>\n\n<p>Thanks,\nBrent</p>\n"}, {"tags": ["javascript", "matlab", "typescript", "com"], "comments": [{"owner": {"reputation": 792, "user_id": 3007075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75a197e963f9bee28b4b692a594ee54f?s=128&d=identicon&r=PG&f=1", "display_name": "Mefitico", "link": "https://stackoverflow.com/users/3007075/mefitico"}, "edited": false, "score": 0, "creation_date": 1554299993, "post_id": 55496623, "comment_id": 97701019, "body": "If possible, consider adding the working example you have for MacOS/Linux. This is really helpful to make questions such as this useful for future users. Also provide the link to the Mathworks documentation you&#39;ve mentioned."}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554890826, "post_id": 55496623, "comment_id": 97914282, "body": "What if you give up the COM path, and go with python? Is that acceptable?"}, {"owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554891743, "post_id": 55496623, "comment_id": 97914794, "body": "@hackape I have to work with Javascript to create a VS Code plugin. The problem is that I can not use an ActiveXObject because, at least to my understanding, it is only used for Internet Explorer"}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554891952, "post_id": 55496623, "comment_id": 97914905, "body": "Sorry, but I have zero knowledge about this COM/ActiveXObject thing. I see that you&#39;re the author of Matlab Code Run, checked the source code. The way I see it, you&#39;re really looking for a consistent cross-platform interface to interop between js and matlab. That&#39;s why I bring up python as an option."}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554892147, "post_id": 55496623, "comment_id": 97915022, "body": "And I don&#39;t think many people know about this COM thing. So my thought is, don&#39;t limit your options down to COM so early in your question. Also, I&#39;m not sure what exactly is the difference btw linux/window CLI interface that&#39;s impossible to overcome even with some adapter/wrapper?"}, {"owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554892532, "post_id": 55496623, "comment_id": 97915235, "body": "@hackape So the problem is that on Windows, Matlab can by itself not output to the terminal (cmd, Powershell). It uses a shell created in Java I believe from which I can not get the output. But apparently, Windows has this old feature for cross application communication which is what Matlab suggests to use for these kind of use cases. Unfortunately, it is not well documented... I am looking into using websockets though, but that would mean that the user has to start Matlab first to open the socket, which kinda defeats the purpose of the extension :/"}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554892939, "post_id": 55496623, "comment_id": 97915457, "body": "Poor windows. Anyway, I&#39;m pretty sure the COM path is a dead end. If I understand you right, the question title is not reflecting your real problem. Suggest rephrase to get valid answers."}], "answers": [{"tags": [], "owner": {"reputation": 2955, "user_id": 3819007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hvpZ.png?s=128&g=1", "display_name": "visibleman", "link": "https://stackoverflow.com/users/3819007/visibleman"}, "is_accepted": false, "score": 1, "last_activity_date": 1555376391, "creation_date": 1555376391, "answer_id": 55699136, "question_id": 55496623, "link": "https://stackoverflow.com/questions/55496623/matlab-as-com-automation-server-with-javascript/55699136#55699136", "title": "MATLAB as COM Automation Server with Javascript", "body": "<p>I haven't used TypeScript very much, and what little I did, it was a long time ago when it was completely new. </p>\n\n<p>However, the NPM  package win32ole can be used in NodeJS, so I would assume you would be able to use it in Typescript as well (perhaps with some minor modifications to the example, or a small wrapper).</p>\n\n<p><a href=\"https://www.npmjs.com/package/win32ole\" rel=\"nofollow noreferrer\">win32ole npm page</a></p>\n\n<p>This is an example from that page, showing how to interact with Excel to create and save a worksheet.</p>\n\n<pre><code>try{\n  var win32ole = require('win32ole');\n  // var xl = new ActiveXObject('Excel.Application'); // You may write it as:\n  var xl = win32ole.client.Dispatch('Excel.Application');\n  xl.Visible = true;\n  var book = xl.Workbooks.Add();\n  var sheet = book.Worksheets(1);\n  try{\n    sheet.Name = 'sheetnameA utf8';\n    sheet.Cells(1, 2).Value = 'test utf8';\n    var rg = sheet.Range(sheet.Cells(2, 2), sheet.Cells(4, 4));\n    rg.RowHeight = 5.18;\n    rg.ColumnWidth = 0.58;\n    rg.Interior.ColorIndex = 6; // Yellow\n    var result = book.SaveAs('testfileutf8.xls');\n    console.log(result);\n  }catch(e){\n    console.log('(exception cached)\\n' + e);\n  }\n  xl.ScreenUpdating = true;\n  xl.Workbooks.Close();\n  xl.Quit();\n}catch(e){\n  console.log('*** exception cached ***\\n' + e);\n}\n</code></pre>\n"}], "owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1555376391, "creation_date": 1554298807, "question_id": 55496623, "link": "https://stackoverflow.com/questions/55496623/matlab-as-com-automation-server-with-javascript", "title": "MATLAB as COM Automation Server with Javascript", "body": "<p>I am trying to make a connection between Matlab and a Javascript (typescript in my case) program with a COM automation server as suggested on the MathWorks website. The docs on the website have examples for some languages created by MS, not for javascript.  </p>\n\n<p>I can't seem to find a lot of information on how to establish such a COM connection with JS. From what I've read, it's an old Microsoft feature that was only used with Internet Explorer.  </p>\n\n<p><strong>Problem</strong><br>\nThe program I am writing is a VS Code extension, thus I am not using Internet Explorer at all. As a result, I do not believe I can use ActiveXObjects.  </p>\n\n<p><strong>Question</strong><br>\nIs there another way to establish a connection between my typescript code and the Matlab instance?  </p>\n\n<p><strong>Goal</strong><br>\nI am trying to run Matlab files from the VS Code terminal without opening a custom Matlab terminal or the complete Matlab GUI. The output should be displayed in the VS Code terminal as well. On MacOS and Linux, I can simply use the CLI tools, but due to the differences between the Windows version and MacOS/Linux versions, this is not possible on Windows.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 657, "user_id": 2193107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07b91440dbda86c16155935e26615c8?s=128&d=identicon&r=PG", "display_name": "JBC", "link": "https://stackoverflow.com/users/2193107/jbc"}, "edited": false, "score": 2, "creation_date": 1554298835, "post_id": 55496548, "comment_id": 97700274, "body": "FYI you can put access modifiers on your constructor arguments.  <code>skuNumber: number</code> becomes <code>private skuNumber: number</code> and then <code>this.skuNumber = skuNumber</code> is generated by the transpiler so you don&#39;t have to manually do it for each variable."}, {"owner": {"reputation": 103, "user_id": 10932963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ca82d88fa3c312d969e43a26d89a85?s=128&d=identicon&r=PG&f=1", "display_name": "andreasteich", "link": "https://stackoverflow.com/users/10932963/andreasteich"}, "reply_to_user": {"reputation": 657, "user_id": 2193107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07b91440dbda86c16155935e26615c8?s=128&d=identicon&r=PG", "display_name": "JBC", "link": "https://stackoverflow.com/users/2193107/jbc"}, "edited": false, "score": 0, "creation_date": 1554365425, "post_id": 55496548, "comment_id": 97726893, "body": "Ah that&#39;s great to know! Thank you very much!!!"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 10932963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ca82d88fa3c312d969e43a26d89a85?s=128&d=identicon&r=PG&f=1", "display_name": "andreasteich", "link": "https://stackoverflow.com/users/10932963/andreasteich"}, "edited": false, "score": 0, "creation_date": 1554301841, "post_id": 55496593, "comment_id": 97702226, "body": "Thank you very much, that helped."}], "tags": [], "owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "is_accepted": true, "score": 2, "last_activity_date": 1554298712, "creation_date": 1554298712, "answer_id": 55496593, "question_id": 55496548, "link": "https://stackoverflow.com/questions/55496548/cant-acces-object-within-array/55496593#55496593", "title": "Can&#39;t acces object within array", "body": "<p><code>filter</code> returns an array according to the condition. If you want only one result, you can use <code>find</code> instead of <code>filter</code>:</p>\n\n<pre><code>let article: Article = this.articles.find(article =&gt; article.eanCode === eanCodeOfNeededArticle);\n</code></pre>\n\n<hr>\n\n<p>array.filter: \n<a href=\"https://developer.mozilla.org/tr/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/tr/docs/Web/JavaScript/Reference/Global_Objects/Array/filter</a></p>\n\n<p>array.find: <a href=\"https://developer.mozilla.org/tr/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/tr/docs/Web/JavaScript/Reference/Global_Objects/Array/find</a></p>\n"}], "owner": {"reputation": 103, "user_id": 10932963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ca82d88fa3c312d969e43a26d89a85?s=128&d=identicon&r=PG&f=1", "display_name": "andreasteich", "link": "https://stackoverflow.com/users/10932963/andreasteich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55496593, "answer_count": 1, "score": 0, "last_activity_date": 1554302077, "creation_date": 1554298584, "question_id": 55496548, "link": "https://stackoverflow.com/questions/55496548/cant-acces-object-within-array", "title": "Can&#39;t acces object within array", "body": "<p>I can't assign a specific object to a variable, although the type is the Right. I have a class called Article.</p>\n\n<pre><code>export class Article {\n\n    skuNumber: number;\n    condition: string;\n    eanCode: number;\n    manufacturer: string;\n    manufacturerIdentifier: string;\n    title: string;\n    description: string;\n    quantity: number;\n    weight: number;\n    width: number;\n    height: number;\n    depth: number \n\n    constructor(\n        skuNumber: number, \n        condition: string,\n        eanCode: number,\n        manufacturer: string,\n        manufacturerIdentifier: string,\n        title: string,\n        description: string,\n        quantity: number,\n        weight: number,\n        width: number,\n        height: number,\n        depth: number\n    ) {\n        this.skuNumber = skuNumber;\n        this.condition = condition;\n        this.eanCode = eanCode;\n        this.manufacturer = manufacturer;\n        this.manufacturerIdentifier = manufacturerIdentifier;\n        this.title = title;\n        this.description = description;\n        this.quantity = quantity;\n        this.weight = weight;\n        this.width = width\n        this.height = height;\n        this.depth = depth\n    }\n}\n</code></pre>\n\n<p>In another file I populated an Array with some sample data:</p>\n\n<pre><code>import { Article } from \"./article\";\n\nexport const ARTICLES: Array&lt;Article&gt; = [\n    new Article(\n        1, \n        'used', \n        5060639120949, \n        'Monster Energy', \n        'NLZ0930EG', \n        'Espresso Monster Vanilla + Espresso',\n        'Ein Espressomischgetr\u00e4nk mit Taurin, Milch und Vanilla-Flavour.',\n        12,\n        0.2,\n        8,\n        15,\n        8\n    ),\n    new Article(\n        2, \n        'used', \n        4018931180179, \n        'G Data', \n        'NLZ0930EG', \n        'G Data Inernet Secuirty Lizenzurkunde',\n        'Lizenzurkunde der Vollversion von G Data Internet Security.',\n        2,\n        0.2,\n        8,\n        15,\n        0\n    ),\n    new Article(\n        3, \n        'used', \n        4101090000638, \n        'Staatl. Fachingen', \n        'NLZ0930EG', \n        'Mineralwasser Medium',\n        'Mineralwasser Medium feinperlend und erfrischend.',\n        57,\n        1,\n        10,\n        25,\n        10\n    )\n];\n</code></pre>\n\n<p>Now I want to search a specific object within this Array by </p>\n\n<pre><code>let article: Article = this.articles.filter(article =&gt; article.eanCode === eanCodeOfNeededArticle);\n</code></pre>\n\n<p>But I Always get these error: Type 'Article[]' is missing the following properties from type 'Article': skuNumber, condition, eanCode, manufacturer, and 8 more</p>\n\n<p>Can anyone help me? Thank you very much!</p>\n"}, {"tags": ["typescript", "vuejs2", "jestjs"], "comments": [{"owner": {"reputation": 2665, "user_id": 290326, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2dRyk.png?s=128&g=1", "display_name": "Fribu - Smart Solutions", "link": "https://stackoverflow.com/users/290326/fribu-smart-solutions"}, "edited": false, "score": 0, "creation_date": 1554301494, "post_id": 55496506, "comment_id": 97701990, "body": "what about wrapper.testMethod()? looks for me like you are accessing a property, not a method."}, {"owner": {"reputation": 81, "user_id": 11305599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1318c1971f9da81fb73076860b96df4?s=128&d=identicon&r=PG", "display_name": "Passionate Engineer", "link": "https://stackoverflow.com/users/11305599/passionate-engineer"}, "reply_to_user": {"reputation": 2665, "user_id": 290326, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2dRyk.png?s=128&g=1", "display_name": "Fribu - Smart Solutions", "link": "https://stackoverflow.com/users/290326/fribu-smart-solutions"}, "edited": false, "score": 0, "creation_date": 1554370610, "post_id": 55496506, "comment_id": 97730063, "body": "Thanks for your indicate. That was my mistake in writing. I added (), but this error occurred."}], "answers": [{"comments": [{"owner": {"reputation": 1291, "user_id": 7092722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VPMmO.png?s=128&g=1", "display_name": "Safiyya", "link": "https://stackoverflow.com/users/7092722/safiyya"}, "reply_to_user": {"reputation": 81, "user_id": 11305599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1318c1971f9da81fb73076860b96df4?s=128&d=identicon&r=PG", "display_name": "Passionate Engineer", "link": "https://stackoverflow.com/users/11305599/passionate-engineer"}, "edited": false, "score": 0, "creation_date": 1554373200, "post_id": 55497437, "comment_id": 97731675, "body": "I&#39;m sorry I forgot <code>vm</code> part of this. Edited my answer."}], "tags": [], "owner": {"reputation": 1291, "user_id": 7092722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VPMmO.png?s=128&g=1", "display_name": "Safiyya", "link": "https://stackoverflow.com/users/7092722/safiyya"}, "is_accepted": false, "score": 0, "last_activity_date": 1554373181, "last_edit_date": 1554373181, "creation_date": 1554301320, "answer_id": 55497437, "question_id": 55496506, "link": "https://stackoverflow.com/questions/55496506/how-can-i-call-vuejs-method-in-jest-of-typescript/55497437#55497437", "title": "How can I call VueJS method in jest of typescript?", "body": "<p>Try </p>\n\n<pre><code>expect(wrapper.vm.testMethod).toBeTruthy()\n</code></pre>\n\n<p>to access the instance inside the wrapper. \nSee <a href=\"https://vue-test-utils.vuejs.org/api/wrapper/\" rel=\"nofollow noreferrer\">https://vue-test-utils.vuejs.org/api/wrapper/</a> </p>\n\n<blockquote>\n  <h1>vm</h1>\n  \n  <p>Component (read-only): This is the Vue instance. You can access all the instance methods and properties of a vm with wrapper.vm. This\n  only exists on Vue component wrapper or HTMLElement binding Vue\n  component wrapper.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 996, "user_id": 7627963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/713Dv.jpg?s=128&g=1", "display_name": "Tony Tom", "link": "https://stackoverflow.com/users/7627963/tony-tom"}, "is_accepted": false, "score": 3, "last_activity_date": 1554438348, "creation_date": 1554438348, "answer_id": 55528264, "question_id": 55496506, "link": "https://stackoverflow.com/questions/55496506/how-can-i-call-vuejs-method-in-jest-of-typescript/55528264#55528264", "title": "How can I call VueJS method in jest of typescript?", "body": "<p>try this way</p>\n\n<pre><code> expect(wrapper.vm.testMethod).toBe(true);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 10577234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aTqPL.jpg?s=128&g=1", "display_name": "Mike Wright", "link": "https://stackoverflow.com/users/10577234/mike-wright"}, "is_accepted": false, "score": 0, "last_activity_date": 1576180020, "creation_date": 1576180020, "answer_id": 59311751, "question_id": 55496506, "link": "https://stackoverflow.com/questions/55496506/how-can-i-call-vuejs-method-in-jest-of-typescript/59311751#59311751", "title": "How can I call VueJS method in jest of typescript?", "body": "<p>The issue has to do with the type being associated with your <code>const wrapper</code>. I had the same problem and solved for this by saying:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let wrapper: any\n...\nwrapper = shallowMount(HelloWorld, {\n            propsData: { 'test' },\n        });\n</code></pre>\n\n<p>This allowed me to then make references to defined data/variables and methods of the component like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>wrapper.vm.data\nwrapper.vm.method()\n</code></pre>\n\n<p>Even better would be to define an interface for your component to extend which would allow TypeScript to understand the methods available to the instance, rather than taking the easy way out of typing as <code>any</code>. There's an <a href=\"https://stackoverflow.com/a/56462630/10577234\">answer to another question</a> here on Stack Overflow that dives into that approach.</p>\n"}], "owner": {"reputation": 81, "user_id": 11305599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1318c1971f9da81fb73076860b96df4?s=128&d=identicon&r=PG", "display_name": "Passionate Engineer", "link": "https://stackoverflow.com/users/11305599/passionate-engineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1675, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1595804524, "creation_date": 1554298460, "last_edit_date": 1554437408, "question_id": 55496506, "link": "https://stackoverflow.com/questions/55496506/how-can-i-call-vuejs-method-in-jest-of-typescript", "title": "How can I call VueJS method in jest of typescript?", "body": "<p>I'm writing test code in VueCLI with TypeScript and Jest.</p>\n\n<p>I called Vue file's method to test the method.</p>\n\n<p>However, an error has occurred as follows.</p>\n\n<p>HelloWorld.vue:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div class=\"hello\"&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class HelloWorld extends Vue {\n    public testMethod() {\n        return true;\n    }\n}\n&lt;/script&gt;\n\n&lt;style scoped lang=\"scss\"&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>example.spec.ts:</p>\n\n<pre><code>import { shallowMount } from '@vue/test-utils';\nimport HelloWorld from '@/components/HelloWorld.vue';\n\ndescribe('HelloWorld.vue', () =&gt; {\n    it('testMethod', () =&gt; {\n        const wrapper = shallowMount(HelloWorld, {\n            propsData: { 'test' },\n        });\n        expect(wrapper.testMethod()).toBeTruthy();\n    });\n});\n</code></pre>\n\n<p>An error occurred after unit test command execution.</p>\n\n<pre><code>tests/unit/example.spec.ts:9:20 - error TS2551: Property 'testMethod' does not exist on type 'Wrapper&lt;CombinedVueInstance&lt;Vue, object, object, object, Record&lt;never, any&gt;&gt;&gt;'. Did you mean 'setMethods'?\n9 expect(wrapper.testMethod()).toBeTruthy();\n</code></pre>\n\n<p>Why can't the test call the methods in Vue JS?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs6"], "comments": [{"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554298894, "post_id": 55496498, "comment_id": 97700325, "body": "try putting &lt;any&gt; after .request"}, {"owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554298992, "post_id": 55496498, "comment_id": 97700386, "body": "thanks, but nope, didn&#39;t help"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554299275, "post_id": 55496498, "comment_id": 97700548, "body": "maybe your method declaration is off oO"}, {"owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554299317, "post_id": 55496498, "comment_id": 97700568, "body": "<code>Observable&lt;any&gt;</code> ?"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1554299542, "post_id": 55496498, "comment_id": 97700722, "body": "hm seems alright possible alternatives : you forgot to save (the compile is still compiling &#39;return this&#39;) there might also be another return (I dont know) but the code example you prvided seems alright"}, {"owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 2, "creation_date": 1554299636, "post_id": 55496498, "comment_id": 97700771, "body": "argghh! it was a falsy import. need to import from `rxjs/operators not from rxjs-compat/operator/map"}], "owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554298445, "creation_date": 1554298445, "question_id": 55496498, "link": "https://stackoverflow.com/questions/55496498/ts2684-with-httpclient-response-in-angular", "title": "TS2684 with HttpClient response in Angular", "body": "<p>Just updated from Angular5 to Angular7 and while converting old RxJS syntax to new I am stuck with this error. Here is the code:</p>\n\n<pre><code>     return this.http.request( reqOptions )\n        .pipe( \n            map( (resp: HttpResponse&lt;any&gt;) =&gt; resp.body )\n        );\n</code></pre>\n\n<p>I get the map(...) line underlined with TS Error which says</p>\n\n<pre><code>The 'this' context of type 'void' is not assignable to method's 'this' of type 'Observable&lt;HttpResponse&lt;any&gt;&gt;'.ts(2684)\n</code></pre>\n\n<ul>\n<li>Angular CLI V 7.3.7 </li>\n<li>Angular Core V 7.2.11 </li>\n<li>RxJS V 6.4.0 </li>\n<li>RxJsCompat V 6.4.0 </li>\n<li>TypeScript V 3.2.4</li>\n<li>IDE: VS Code</li>\n</ul>\n\n<p>What's the deal?</p>\n\n<p>PS. Just checked a different project running same major versions of those libraries with WebStorm and while having the same syntax AND virtually the same <code>tsconfig</code> files, I don't get any type errors there?...</p>\n"}, {"tags": ["angular", "typescript", "openlayers", "openlayers-3", "openlayers-5"], "answers": [{"tags": [], "owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "is_accepted": true, "score": 2, "last_activity_date": 1554296674, "creation_date": 1554296674, "answer_id": 55495926, "question_id": 55495741, "link": "https://stackoverflow.com/questions/55495741/openlayers-5-add-conditional-style-to-text/55495926#55495926", "title": "OpenLayers 5 add conditional style to Text", "body": "<p>You will need to make it a style function, for example:</p>\n\n<pre><code>let myStyle = function(feature, resolution) {\n  if (resolution &lt; myCondition) {\n    return new Style(\n      {\n        fill: new Fill({color: Shade}),\n        stroke: new Stroke({color: 'black',width:1}),\n        text: new Text({text:Label})\n\n      });\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 549, "user_id": 3557112, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ucprv.jpg?s=128&g=1", "display_name": "Funn_Bobby", "link": "https://stackoverflow.com/users/3557112/funn-bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 55495926, "answer_count": 1, "score": 0, "last_activity_date": 1554296674, "creation_date": 1554296129, "question_id": 55495741, "link": "https://stackoverflow.com/questions/55495741/openlayers-5-add-conditional-style-to-text", "title": "OpenLayers 5 add conditional style to Text", "body": "<p>I am trying to add conditionally styled text to vector object that I am placing on the map.</p>\n\n<p>I have a service that creates the \"Style\" that looks like this</p>\n\n<pre><code>let myStyle = new Style(\n    {\n        fill: new Fill({color: Shade}),\n        stroke: new Stroke({color: 'black',width:1}),\n        text: new Text({text:Label})\n\n    }) \n</code></pre>\n\n<p>This works but I can't seem to figure out how to conditionally style and show/hide based on resolution.</p>\n\n<p>Any help is greatly appreciated!</p>\n"}, {"tags": ["typescript", "lodash"], "comments": [{"owner": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 0, "creation_date": 1554295402, "post_id": 55495386, "comment_id": 97698026, "body": "Can you please post the code which you have tried until now in stackblitz"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1554295863, "post_id": 55495386, "comment_id": 97698338, "body": "Why should &quot;8,565217...&quot; display an error?  Because of the comma separator?  Because of the dots?  Because the fraction isn&#39;t close enough to some particular set of allowed denominators?  And if so, what is the set of allowed denominators, and how close is close enough?"}, {"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1554296620, "post_id": 55495386, "comment_id": 97698831, "body": "If you use TypeScript, you should also use ES6+, which also means you probably do not need Lodash at all. Native ES6 is more than enough for your needs. Though, if an existing library exists, it&#39;d be preferable to use it."}, {"owner": {"reputation": 126, "user_id": 5832620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd9382c5a58376f5128aa44f5537ccaf?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy Genedy", "link": "https://stackoverflow.com/users/5832620/sandy-genedy"}, "edited": false, "score": 0, "creation_date": 1554297782, "post_id": 55495386, "comment_id": 97699619, "body": "Please have a look on <a href=\"https://stackoverflow.com/questions/23575218/convert-decimal-number-to-fraction-in-javascript-or-closest-fraction\" title=\"convert decimal number to fraction in javascript or closest fraction\">stackoverflow.com/questions/23575218/&hellip;</a>"}, {"owner": {"reputation": 67, "user_id": 5138332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9df766c59ec0dd28a6d1540e9e9129?s=128&d=identicon&r=PG&f=1", "display_name": "FloCAD", "link": "https://stackoverflow.com/users/5138332/flocad"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554298076, "post_id": 55495386, "comment_id": 97699764, "body": "@jcalz , it send an error because it has to be a simple fraction with only one digit and no numbers !"}, {"owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "edited": false, "score": 1, "creation_date": 1554298239, "post_id": 55495386, "comment_id": 97699874, "body": "Welcome to Stackoverflow. Please refer <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> . And add more details of the issue that you are facing.Share the relevant code snippets you have tried so far."}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1554300963, "post_id": 55495386, "comment_id": 97701641, "body": "Is it for the display or the input?"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1554300852, "last_edit_date": 1554300852, "creation_date": 1554300390, "answer_id": 55497131, "question_id": 55495386, "link": "https://stackoverflow.com/questions/55495386/how-to-convert-decimals-to-the-nearest-fraction/55497131#55497131", "title": "How to convert decimals to the nearest fraction", "body": "<p>Well, I'm not really sure if this is exactly what you want, but it should hopefully give you some ideas on how to proceed:</p>\n\n<pre><code>const acceptableDenominators = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nconst maxDistanceToNumerator = 0.0001;\n\nfunction numberToFractionString(n: number): string | undefined {\n    const negative = (n &lt; 0);\n    if (negative) n = -n;\n\n    const wholePart = Math.floor(n);\n    n -= wholePart;\n\n    const denom = acceptableDenominators.find(d =&gt;\n        Math.abs(d * n - Math.round(d * n)) &lt;= maxDistanceToNumerator\n    );\n    if (typeof denom === 'undefined') {\n        return;\n    }\n    const numer = Math.round(denom * n);\n\n    if (denom === 1) {\n        return \"\" + (wholePart + numer) * (negative ? -1 : 1);\n    }\n\n    return (negative ? \"-\" : \"\") +\n        (wholePart ? wholePart + \" \" : \"\") +\n        numer + \"/\" + denom;\n\n}\n</code></pre>\n\n<p>The idea is that you need to figure out what the acceptable denominators are for the fractions; in your case, you seem to want only one-digit numbers, so that's why I've specified just <code>1</code>-<code>9</code>.  Also you need to figure out how close the floating point number must be to the fraction to accept it.  In this case, I've specified that for something to be recognized as, say, <code>3/5</code>, it must be between <code>2.9999/5</code> and <code>3.0001/5</code>.</p>\n\n<p>Then there's a lot of edge cases to deal with (negative numbers and numbers very close to a whole number are interesting) but the main procedure is to just check each possible denominator from lowest to highest (automatically giving you a reduced fraction since it will find 1/2 before 4/8) and pick the first one where the numerator would be close enough to a whole number... or return <code>undefined</code> (instead of throwing an error, but you could do that if you want) if not.</p>\n\n<p>Let's see if it works:</p>\n\n<pre><code>const tests = [8.75, 1.875, 8.565217, 9.99999999, -1, -0.888889,\n    0, 1e140, -1e-140, -0.111111, 0.5,\n    -7.66667, -7.6667, -7.667, -7.67, -7.7,\n    NaN, Infinity, -Infinity];\n\ntests.forEach(n =&gt;\n    console.log(\"\" + n + \": \" + String(numberToFractionString(n)))\n);\n\n// 8.75: 8 3/4\n// 1.875: 1 7/8\n// 8.565217: undefined\n// 9.99999999: 10\n// -1: -1\n// -0.888889: -8/9\n// 0: 0\n// 1e+140: 1e+140\n// -1e-140: 0\n// -0.111111: -1/9\n// 0.5: 1/2\n// -7.66667: -7 2/3\n// -7.6667: -7 2/3\n// -7.667: undefined\n// -7.67: undefined\n// -7.7: undefined\n// NaN: undefined\n// Infinity: undefined\n// -Infinity: undefined\n</code></pre>\n\n<p>That looks reasonable to me, although I don't know what exactly you want to see for some of those edge cases.  Anyway, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 67, "user_id": 5138332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9df766c59ec0dd28a6d1540e9e9129?s=128&d=identicon&r=PG&f=1", "display_name": "FloCAD", "link": "https://stackoverflow.com/users/5138332/flocad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 55497131, "answer_count": 1, "score": 1, "last_activity_date": 1554306186, "creation_date": 1554295012, "last_edit_date": 1554306186, "question_id": 55495386, "link": "https://stackoverflow.com/questions/55495386/how-to-convert-decimals-to-the-nearest-fraction", "title": "How to convert decimals to the nearest fraction", "body": "<p>I would like to convert decimal of numbers to the nearest fraction with one number!\nFor example, \"8.75\" should be \"8 3/4\", \"1.875\" should be \"1 7/8\" but \"8,565217...\" shouldn't display \"8 13/23\" but an error.\nThere is a similar feature in Excel explained <a href=\"https://support.office.com/fr-fr/article/afficher-des-nombres-sous-forme-de-fractions-0121ecac-1773-4f2d-8cd3-7db51fd83b77\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I also would like to avoid using third lib like fraction.js, and prefer using native JS/TS or Lodash! Does someone have an idea? =)</p>\n\n<p>Thank you for your help!</p>\n\n<p>EDIT: \nThere is a part of the code i tried but doesn't work as expected cs 8.75 send me 35/4 and no 8 3/4...</p>\n\n<pre><code>  private checkNumberToCompute(numberToCompute: any) {\n    let numberToReturn = numberToCompute;\n    if (\n      (!isNaN(Number(numberToCompute)) &amp;&amp; numberToCompute.includes('.')) ||\n      (numberToCompute.includes(',') &amp;&amp; !numberToCompute.includes('/'))\n    ) {\n      console.log('Nombre \u00e0 d\u00e9cimal sans fraction');\n      numberToReturn = this.computeFractions(numberToCompute);\n    }\n    return numberToReturn;\n  }\n  private computeFractions(numberToCompute: any): string {\n    console.log('numberToCompute', numberToCompute);\n\n    const lenghtOfDecimals = numberToCompute.substring(numberToCompute.indexOf('.') + 1).length;\n    let denominator = Math.pow(10, lenghtOfDecimals),\n      numerator = numberToCompute * denominator;\n    const divisor = this.gcd(numerator, denominator);\n\n    numerator /= divisor;\n    denominator /= divisor;\n    return Math.floor(numerator) + '/' + Math.floor(denominator);\n  }\n\n  private gcd(numerator: number, denominator: number): any {\n    if (denominator &lt; 0.0000001) {\n      return numerator;\n    }\n    return this.gcd(denominator, Math.floor(numerator % denominator));\n  }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "express", "promise", "async-await"], "comments": [{"owner": {"reputation": 14499, "user_id": 3589092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7ROkk.jpg?s=128&g=1", "display_name": "kemicofa ghost", "link": "https://stackoverflow.com/users/3589092/kemicofa-ghost"}, "edited": false, "score": 0, "creation_date": 1554293277, "post_id": 55494772, "comment_id": 97696640, "body": "Last I checked there are no &quot;abstract&quot; methods. Are you talking about <code>protected</code> ?"}, {"owner": {"reputation": 63, "user_id": 11073363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0b3dcd13d2147eae7877290a99d838?s=128&d=identicon&r=PG&f=1", "display_name": "d.Foo", "link": "https://stackoverflow.com/users/11073363/d-foo"}, "reply_to_user": {"reputation": 14499, "user_id": 3589092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7ROkk.jpg?s=128&g=1", "display_name": "kemicofa ghost", "link": "https://stackoverflow.com/users/3589092/kemicofa-ghost"}, "edited": false, "score": 0, "creation_date": 1554293417, "post_id": 55494772, "comment_id": 97696727, "body": "I am sorry , I raided the post I didn&#39;t mean it as abstract literally , I meant its very basic , can then be implemented using any database ."}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1554294339, "post_id": 55494772, "comment_id": 97697358, "body": "How to build API for any kind of database is simply far too broad a question as outlined in the <a href=\"https://stackoverflow.com/help\">help center</a>"}], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 8113590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe0427f22b194e9e23db74f5e1a6f04?s=128&d=identicon&r=PG&f=1", "display_name": "J. Koutsoumpas", "link": "https://stackoverflow.com/users/8113590/j-koutsoumpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1554295075, "creation_date": 1554295075, "answer_id": 55495406, "question_id": 55494772, "link": "https://stackoverflow.com/questions/55494772/restful-api-typescript-and-promises/55495406#55495406", "title": "Restful API typescript and promises", "body": "<p>Here's some boilerplate code to help you get started creating your DB layer for tasks. Using async/await which use Promises always and makes your code more procedural and easier to reason with. Is that what you wanted?</p>\n\n<pre><code>interface ITask {\n    id: number;\n    a: string;\n    b: number;\n}\n\nclass TasksManager {\n\n    private _dbConnection; // a DB Connection object\n    private _connected: boolean;\n    private _dbUsername: string;\n    private _dbPasssword: string;\n\n    constructor() {\n        // do init stuff here for the DB\n    }\n\n    private async connect() {\n        // actual code that connects to the DB\n    }\n\n    private async diconnect() {\n        // actual code that disconnects from the DB\n    }\n\n    private async doQuery(querystring: string) {\n\n        // use the dbconnection object to do the query and get the results\n        let a: Array&lt;string&gt; = [];\n\n        return a; // this actually returns a Promise as the function is 'async'\n    }\n\n\n/*********************\n *      PUBLIC API\n *********************/\n\n    set username(v: string) {\n        this._dbUsername = v;\n    }\n\n    set password(v: string) {\n        this._dbPasssword = v;\n    }\n\n    public async deleteTask(t: ITask) {\n        if (!this._connected) {\n            await this.connect();\n        }\n\n        // create the querystring and execute the query\n        let qstring = \"DELETE * FROM TASKS WHERE ID = \" + t.id;\n\n\n        let result = await this.doQuery(qstring); \n\n        // do stuff with the results\n\n        if (result[0] == \"OK\") {\n            return true; // this actually returns a Promise as the function is 'async'\n        } else {\n            return false; // this actually returns a Promise as the function is 'async'\n        }\n\n    }\n\n    public async updateTask(t: ITask) {\n        if (!this._connected) {\n            await this.connect();\n        }\n\n        // code to update task.....\n\n        let result = await this.doQuery(\"UPDATE TASKS ....\"); // this blocks until the query returns\n\n        if (result[0] == \"OK\") {\n            return true; // this actually returns a Promise as the function is 'async'\n        } else {\n            return false; // this actually returns a Promise as the function is 'async'\n        }\n    }\n\n    public async createTask(a: string, b: number) {\n        if (!this._connected) {\n            await this.connect();\n        }\n\n        // code to create querystring and do the query to create the task.....\n        let result = await this.doQuery(\"INSERT INTO ....\"); // this blocks until the query returns\n\n        if (result[0] == \"OK\") {\n            return true; // this actually returns a Promise as the function is 'async'\n        } else {\n            return false; // this actually returns a Promise as the function is 'async'\n        }\n    }\n}\n\n\n// create the manager\nlet taskManager = new TasksManager();\n\n// create new task\ntaskManager.createTask(\"one\", 2).then((result) =&gt; {\n        if (result == true) {\n        console.log(\"task created!!\");\n        }\n    })\n    .catch((err) =&gt; {\n        throw `Failed to create task. reason: ${err}`;\n    });\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 11073363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0b3dcd13d2147eae7877290a99d838?s=128&d=identicon&r=PG&f=1", "display_name": "d.Foo", "link": "https://stackoverflow.com/users/11073363/d-foo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554295075, "creation_date": 1554293210, "last_edit_date": 1554293300, "question_id": 55494772, "link": "https://stackoverflow.com/questions/55494772/restful-api-typescript-and-promises", "title": "Restful API typescript and promises", "body": "<p>how do I create a class with CRUD methods, API definition with that:\nit creates , gets , updates and deletes task.\nDon't receive Request and Response . You have to recieve data that is converted and validated.\n Don't response json directly to the client. You have to Promise.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public updateTask (_task: itask) {\r\n      return new Promise &lt; ITask &gt; ((resolve, reject) =&gt; {\r\n        // save\r\n      });\r\n    }\r\n\r\n    public deleteTask (_task: itask) {\r\n      return new Promise &lt; ITask &gt; ((resolve, reject) =&gt; {\r\n        // delete\r\n      });\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>can any one give me an example on how to build such restful api  methods , that can be then implemented using any db sql or noSQL ?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "lottie"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12216151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/953c56b02f523cf095a05294cfa53b4b?s=128&d=identicon&r=PG&f=1", "display_name": "darkclawisreal", "link": "https://stackoverflow.com/users/12216151/darkclawisreal"}, "is_accepted": false, "score": 0, "last_activity_date": 1572023074, "creation_date": 1572023074, "answer_id": 58562845, "question_id": 55494737, "link": "https://stackoverflow.com/questions/55494737/loading-a-lottie-animation-with-images-in-react/58562845#58562845", "title": "Loading a Lottie animation with images in React", "body": "<p>Just export it like you did above, and then create a component (I assume you are in React) like so:</p>\n\n<pre><code>import React from 'react';\nimport Lottie from 'react-lottie';\n\nimport animation from './animation';\n\nconst Animation = ({ animePaused }) =&gt; {\n  return (\n    &lt;Lottie\n      options={{\n        animationData: animation,\n        autoplay: true\n      }}\n      height={200}\n      isStopped={animePaused}\n    /&gt;\n  );\n};\n\nexport default Animation;\n</code></pre>\n"}], "owner": {"reputation": 549, "user_id": 5530975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iS8A3.jpg?s=128&g=1", "display_name": "S. Van den Wyngaert", "link": "https://stackoverflow.com/users/5530975/s-van-den-wyngaert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1144, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572023074, "creation_date": 1554293111, "question_id": 55494737, "link": "https://stackoverflow.com/questions/55494737/loading-a-lottie-animation-with-images-in-react", "title": "Loading a Lottie animation with images in React", "body": "<p>I'm trying to include a Lottie animation in my React project. It successfully loads the Lottie component, but without images. It can't resolve the assets. However, it is delivered to me as a json (animation data) and an image directory containing the images.</p>\n\n<p>The way I'm trying to solve this is by placing the json data in a javascript file, this js file imports all images and uses these imports in the json data. This way React will resolve the correct path for these images. The issue I'm facing now is that I can't seem to correctly import/serve this javascript file to the animationData property of the Lottie component.  </p>\n\n<p>Here's what I've got so far. And it results in <code>Uncaught Error: Cannot find module '../../assets/animations/background-animation/animation.js'</code></p>\n\n<p><strong>BackgroundAnimation.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\nimport Lottie from 'react-lottie';\nimport animationData from '../../assets/animations/background-animation/animation.js';\n\nexport default class BackgroundAnimation extends React.Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {isStopped: false, isPaused: false};\n    }\n\n    render() {  \n      const defaultOptions = {\n        loop: true,\n        autoplay: true, \n        animationData: animationData,\n        rendererSettings: {\n          preserveAspectRatio: 'xMidYMid slice'\n        }\n      };\n\n      return &lt;Lottie options={defaultOptions}/&gt;\n    }\n  }\n</code></pre>\n\n<p><strong>animation.js</strong></p>\n\n<pre><code>import img_0 from './images/img_0.png'\nimport img_1 from './images/img_1.png'\n...\n\nexport default {\n    \"v\": \"5.4.4\",\n    \"fr\": 30,\n    \"ip\": 0,\n    \"op\": 930,\n    \"w\": 1920,\n    \"h\": 1080,\n    \"nm\": \"TV - landscape\",\n    \"ddd\": 0,\n    \"assets\": [\n        {\n            \"id\": \"image_0\",\n            \"w\": 2349,\n            \"h\": 1134,\n            \"u\": \"\",\n            \"p\": img_0,\n            \"e\": 0\n        },\n        {\n            \"id\": \"image_1\",\n            \"w\": 1138,\n            \"h\": 1139,\n            \"u\": \"\",\n            \"p\": img_1,\n            \"e\": 0\n        },\n        ...\n     ]\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1554293201, "post_id": 55494708, "comment_id": 97696575, "body": "You can just instantiate it in one line <code>msgLogs: { id: string, detail: string }[] = [];</code>"}, {"owner": {"reputation": 147, "user_id": 5704530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10156241924515004/picture?type=large", "display_name": "Mark O&#39;Hare", "link": "https://stackoverflow.com/users/5704530/mark-ohare"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1554293367, "post_id": 55494708, "comment_id": 97696693, "body": "Thank you for the help!"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 5704530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10156241924515004/picture?type=large", "display_name": "Mark O&#39;Hare", "link": "https://stackoverflow.com/users/5704530/mark-ohare"}, "edited": false, "score": 0, "creation_date": 1554293341, "post_id": 55494759, "comment_id": 97696676, "body": "Thank you, that&#39;s helped!"}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": true, "score": 1, "last_activity_date": 1554293169, "creation_date": 1554293169, "answer_id": 55494759, "question_id": 55494708, "link": "https://stackoverflow.com/questions/55494708/make-a-typescript-object-property-a-generic-array-of-objects/55494759#55494759", "title": "Make a Typescript object property a generic array of objects?", "body": "<p>You have to instantiate an array before you can push anything to it. e.g.</p>\n\n<pre><code>const userMessageLog: UserMessageLog = {};\nuserMessageLog.msgLogs = [];\nuserMessageLog.msLogs.push(...);\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 5704530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10156241924515004/picture?type=large", "display_name": "Mark O&#39;Hare", "link": "https://stackoverflow.com/users/5704530/mark-ohare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 1, "accepted_answer_id": 55494759, "answer_count": 1, "score": 0, "last_activity_date": 1554293169, "creation_date": 1554292988, "question_id": 55494708, "link": "https://stackoverflow.com/questions/55494708/make-a-typescript-object-property-a-generic-array-of-objects", "title": "Make a Typescript object property a generic array of objects?", "body": "<p>I'm quite new to using typescript and I'm wanting to make a simple object that holds data relating to a specific users message logs. Here is the basic structure I have at the minute:</p>\n\n<pre><code>export class UserMessageLog {\n    date: string;\n    askedBy: string;\n    msgLogs: { id: string, detail: string }[];\n\n}\n</code></pre>\n\n<p>When I try to push an object in the format of <code>{ id, detail}</code> to the <code>msgLogs</code> property, I get an error in the console stating the <code>msgLogs</code> is undefined. I'm assuming I need to initialize this property in a constructor perhaps? What's the best way to do that?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "panel", "ng-bootstrap"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1554290826, "post_id": 55494010, "comment_id": 97695095, "body": "Add a <code>click</code> event to the parent element (<code>span</code> I believe), this way you will be delegating the event from the child too"}, {"owner": {"reputation": 2556, "user_id": 3386777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c7017228111ea5e416776aab75f469d?s=128&d=identicon&r=PG", "display_name": "mulla.azzi", "link": "https://stackoverflow.com/users/3386777/mulla-azzi"}, "edited": false, "score": 0, "creation_date": 1554290898, "post_id": 55494010, "comment_id": 97695131, "body": "try adding click on span.... &lt;span (click)=&quot;functionName()&quot;&gt;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 2556, "user_id": 3386777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c7017228111ea5e416776aab75f469d?s=128&d=identicon&r=PG", "display_name": "mulla.azzi", "link": "https://stackoverflow.com/users/3386777/mulla-azzi"}, "edited": false, "score": 0, "creation_date": 1554291243, "post_id": 55494010, "comment_id": 97695363, "body": "@mulla.azzi functionName() ? what is this?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1554291327, "post_id": 55494010, "comment_id": 97695418, "body": "@xyz this is not working can you explain please?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1554294096, "post_id": 55494851, "comment_id": 97697210, "body": "what is btn-link class?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1554294394, "post_id": 55494851, "comment_id": 97697394, "body": "it is not solving my problem  there is parent child component i think thats why click problem has occurred. and i wrote panel title in span because i wanted some of title part to be bold and i could not do it like this  &lt;span class=&quot;panel-title&quot;&gt;{{panel.Name}}&lt;strong&gt;{{&#39; -&#39; + &#39;(&#39; + panel.Tests.length + &#39;)&#39;}} &lt;/strong&gt;&lt;/span&gt;  if i can figure out how to make bold test in [title] that would solve my problem"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1554296131, "post_id": 55494851, "comment_id": 97698517, "body": "lets take your example <a href=\"https://stackblitz.com/edit/angular-fhcn5a\" rel=\"nofollow noreferrer\">demo</a>  i want title first panel name like this first <b>panel</b>  how can i do this?"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1554355022, "post_id": 55494851, "comment_id": 97721924, "body": "Hi @UsmanSaleem, check the updated answer with your requirement... the key was to use <code>&lt;ng-template ngbPanelTitle&gt; you &lt;span style=&quot;color:red&quot;&gt;can &lt;&#47;span&gt; &lt;i&gt;fetch this&lt;&#47;i&gt; like &lt;u&gt;you&lt;&#47;u&gt; &lt;strong&gt; want &lt;&#47;strong&gt; &lt;&#47;ng-template&gt;</code>... hope this is what you&#39;re looking for"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1554356691, "post_id": 55494851, "comment_id": 97722453, "body": "that answered half of my question but now my row is not opening when i click on this title"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1554357195, "post_id": 55494851, "comment_id": 97722677, "body": "you&#39;re not able to open the row in my stackblitz ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1554357290, "post_id": 55494851, "comment_id": 97722727, "body": "that is opening but when i applied you work on mine my row is not opening i think thats because child component app custom accordion isn&#39;t it?"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1554357385, "post_id": 55494851, "comment_id": 97722771, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191205/discussion-between-akber-iqbal-and-usman-saleem\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 0, "last_activity_date": 1554354962, "last_edit_date": 1554354962, "creation_date": 1554293429, "answer_id": 55494851, "question_id": 55494010, "link": "https://stackoverflow.com/questions/55494010/how-to-make-whole-row-clickable-angular-4/55494851#55494851", "title": "how to make whole row clickable angular 4", "body": "<p>the following <a href=\"https://stackblitz.com/edit/angular-fhcn5a?file=app%2Faccordion-toggle.html\" rel=\"nofollow noreferrer\">demo stackblitz</a> can help solve the following things from your question:</p>\n\n<ol>\n<li>an array which is mapped in the components </li>\n<li>whole row is clickable and opens the content underneath it</li>\n<li>(<strong>from your comments</strong>) Have the ngbPanel stylable: check the <code>&lt;ng-template ngbPanelTitle&gt;</code> in the HTML code below</li>\n</ol>\n\n<p><strong>on reading the array from the component</strong>... underneath the 2 fixed panels, i have 5 panels which are picked from an array inside the component's ts file:</p>\n\n<pre><code>&lt;ngb-panel id=\"toggle-2\" &gt;\n    &lt;ng-template ngbPanelTitle&gt;\n      you &lt;span style=\"color:red\"&gt;can &lt;/span&gt; &lt;i&gt;fetch this&lt;/i&gt; like &lt;u&gt;you&lt;/u&gt; &lt;strong&gt; want &lt;/strong&gt; \n    &lt;/ng-template&gt;\n    &lt;ng-template ngbPanelContent&gt;\n      Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia\n      aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor,\n      sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica,\n      craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings\n      occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus\n      labore sustainable VHS.\n    &lt;/ng-template&gt;\n  &lt;/ngb-panel&gt;\n&lt;ngb-panel [title]=\"num\" *ngFor=\"let num of numbers\"&gt;\n    &lt;ng-template ngbPanelContent&gt;\n        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute,\n        non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua\n        put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore\n        wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings\n        occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore\n        sustainable VHS.\n    &lt;/ng-template&gt;\n&lt;/ngb-panel&gt;\n</code></pre>\n\n<p><strong>to make the whole row clickable</strong>, added this css:</p>\n\n<pre><code>  ::ng-deep .btn-link { \n    width: 100%;\n    padding: .75rem 1.25rem;\n    text-align: left;\n  }\n\n  ::ng-deep .card-header {\n    padding: 0\n  }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554355147, "creation_date": 1554290681, "last_edit_date": 1554355147, "question_id": 55494010, "link": "https://stackoverflow.com/questions/55494010/how-to-make-whole-row-clickable-angular-4", "title": "how to make whole row clickable angular 4", "body": "<p>I have this array which I mapped in my components.\nI want whole row to be clickable and open the row \nright now when I click on row name it does not open it.</p>\n\n<p><strong>my parent html code</strong></p>\n\n<pre><code>  &lt;app-custom-accordion [closeOthers]=\"true\"&gt;\n  &lt;ngb-panel *ngFor=\"let panel of panels\" id=\"{{panel.Id}}\"&gt;\n  &lt;ng-template ngbPanelTitle&gt;\n  &lt;span class=\"panel-title\"&gt;{{panel.Name}}&lt;strong&gt;{{' -' + '(' + panel.Tests.length + ')'}} &lt;/strong&gt;&lt;/span&gt;\n    &lt;div class=\"action-items\"&gt;\n      &lt;span class=\"material-icons fav\" [class.favorited]=\"panel.Favorite\" (click)=\"onFavoriteClick(panel)\"&gt;&lt;/span&gt;\n      &lt;span class=\"icon-set\" [ngClass]=\"{'same-day-2x': isSameDay(panel.Code), 'next-day-2x': isNextDay(panel.Code)}\"&gt;&lt;/span&gt;\n      &lt;label class=\"custom-control custom-checkbox\"&gt;\n        &lt;input type=\"checkbox\" class=\"custom-control-input\" [name]=\"panel.Id + '-' + panel.Moniker\" [ngModel]=\"checkAllTestsSelected(panel)\"\n          (ngModelChange)=\"onPanelCheckboxUpdate($event, panel)\" [id]=\"panel.Id + '-' + panel.Moniker\"&gt;\n        &lt;span class=\"custom-control-indicator\"&gt;&lt;/span&gt;\n      &lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/ng-template&gt;\n&lt;/ngb-panel&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><strong>my app-custom-accordion code</strong></p>\n\n<pre><code>&lt;div class=\"card\"&gt;\n&lt;ng-template ngFor let-panel [ngForOf]=\"panels\"&gt;\n&lt;div role=\"tab\" id=\"{{panel.id}}-header\" [class]=\"'card-header ' + (panel.type ? 'card-' + panel.type: type ? 'card-' + type : '')\"\n  [class.active]=\"isOpen(panel.id)\"&gt;\n  &lt;a href (click)=\"!!toggle(panel.id)\" [attr.tabindex]=\"(panel.disabled ? '-1' : null)\" [attr.aria-expanded]=\"isOpen(panel.id)\"\n    [attr.aria-controls]=\"(isOpen(panel.id) ? panel.id : null)\" [attr.aria-disabled]=\"panel.disabled\"&gt;{{panel.title}}&lt;/a&gt;\n  &lt;ng-template [ngTemplateOutlet]=\"panel.titleTpl?.templateRef\"&gt;&lt;/ng-template&gt;\n  &lt;!-- expansion arrows --&gt;\n  &lt;div *ngIf=\"arrowExpand\" (click)=\"toggle(panel.id)\" [attr.aria-expanded]=\"isOpen(panel.id)\"&gt;\n    &lt;span class=\"material-icons expand\"&gt;&lt;/span&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;div id=\"{{panel.id}}\" role=\"tabpanel\" [attr.aria-labelledby]=\"panel.id + '-header'\" class=\"card-block\" *ngIf=\"isOpen(panel.id) &amp;&amp; panel.contentTpl\"&gt;\n  &lt;ng-template [ngTemplateOutlet]=\"panel.contentTpl?.templateRef\"&gt;&lt;/ng-template&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>I want when I click on</p>\n\n<pre><code>&lt;span class=\"panel-title\"&gt;{{panel.Name}}&lt;strong&gt;{{' -' + '(' + panel.Tests.length + ')'}} &lt;/strong&gt;&lt;/span&gt;\n</code></pre>\n\n<p>row should be open</p>\n\n<p>this is my panel\n<a href=\"https://i.stack.imgur.com/nvdiV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nvdiV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also want to make some part of the panel title as bold... How can I do that? Any help thanks.</p>\n"}, {"tags": ["typescript", "configuration"], "comments": [{"owner": {"reputation": 1472, "user_id": 31304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeba9533d71b0f8363af6d8738874dbb?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/31304/aaron"}, "edited": false, "score": 1, "creation_date": 1581619955, "post_id": 55493984, "comment_id": 106507128, "body": "Did you ever figure this out? This behavior is driving me crazy - I can&#39;t figure out why it occurs/how to reason about it."}, {"owner": {"reputation": 168, "user_id": 1823868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wa6jj.jpg?s=128&g=1", "display_name": "Ilja Denisovs", "link": "https://stackoverflow.com/users/1823868/ilja-denisovs"}, "reply_to_user": {"reputation": 1472, "user_id": 31304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeba9533d71b0f8363af6d8738874dbb?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/31304/aaron"}, "edited": false, "score": 0, "creation_date": 1581788430, "post_id": 55493984, "comment_id": 106556025, "body": "Yes, finally I got the solution by myself! I&#39;ll publish it here in couple of hours, if you want."}], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 1823868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wa6jj.jpg?s=128&g=1", "display_name": "Ilja Denisovs", "link": "https://stackoverflow.com/users/1823868/ilja-denisovs"}, "is_accepted": false, "score": 1, "last_activity_date": 1581794762, "creation_date": 1581794762, "answer_id": 60242347, "question_id": 55493984, "link": "https://stackoverflow.com/questions/55493984/typescript-compiler-is-not-emitting-imported-modules/60242347#60242347", "title": "TypeScript compiler is not emitting imported modules", "body": "<p>Finally, I got the solution by myself!</p>\n\n<p><code>tscconfig.json</code> files of <strong>subprojects</strong> should point output to the <code>target/</code> directory of main project!</p>\n\n<p>So, let say, you have general project with <code>source/</code> directory defined as <code>rootDir</code> and <code>target/</code> directory as <code>outDir</code>.</p>\n\n<p>In the <code>source</code> directory you have two subprojects: <code>core</code> and <code>geometry</code> (as it shown <a href=\"https://github.com/idenisovs/ts-projects-example/tree/master/source\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>So, both of them should have <code>outDir</code> set to the main <code>target/</code> directory, like that: <code>../../target/core</code>, <code>../../target/geometry</code>.</p>\n\n<p><strong>Or</strong>, use <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#configuration-inheritance-with-extends\" rel=\"nofollow noreferrer\">configuration inheritance with \"extends\" property</a>. In this case the config files of subprojects may be rewritten like that (<a href=\"https://github.com/idenisovs/ts-projects-example/blob/master/source/geometry/tsconfig.json\" rel=\"nofollow noreferrer\">example</a>):</p>\n\n<pre><code>{\n  \"extends\": \"../../tsconfig.json\",\n  \"compilerOptions\": {\n    \"composite\": true\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 168, "user_id": 1823868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wa6jj.jpg?s=128&g=1", "display_name": "Ilja Denisovs", "link": "https://stackoverflow.com/users/1823868/ilja-denisovs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581794762, "creation_date": 1554290595, "last_edit_date": 1581793860, "question_id": 55493984, "link": "https://stackoverflow.com/questions/55493984/typescript-compiler-is-not-emitting-imported-modules", "title": "TypeScript compiler is not emitting imported modules", "body": "<p>I have the project (<a href=\"https://github.com/idenisovs/ts-projects-example\" rel=\"nofollow noreferrer\">on GitHub</a>), which uses the <a href=\"https://www.typescriptlang.org/docs/handbook/project-references.html\" rel=\"nofollow noreferrer\">Project References</a> functionality of TypeScript compiler, so it have the root <code>tsconfig.json</code> file and the <code>tsconfig.json</code> file of subfolder named <code>shared</code>.</p>\n\n<p><code>Shared</code> subfolder have 2 files:</p>\n\n<ul>\n<li><code>User.ts</code></li>\n<li><code>Point.ts</code></li>\n</ul>\n\n<p>The main <code>index.ts</code> file imports the <code>User</code> module, like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import User from './shared/User';\n</code></pre>\n\n<p>Transpiled files is placed under the <code>target</code> folder. The issue I met is that as result of <code>tsc</code> the <code>target</code> folder has <code>Point</code> .d.ts and .js files (<strong>not imported</strong> by <code>index.ts</code>) and <strong>doesn't</strong> contains the <code>User</code> files (imported by <code>index.ts</code>).</p>\n\n<p>The output of <code>tsc -b --listEmittedFiles</code>:</p>\n\n<pre><code>TSFILE: /home/user/Projects/test/target/index.js\nTSFILE: /home/user/Projects/test/target/index.d.ts\nTSFILE: /home/user/Projects/test/target/shared/Point.js\nTSFILE: /home/user/Projects/test/target/shared/Point.d.ts\nTSFILE: /home/user/Projects/test/target/shared/User.js\nTSFILE: /home/user/Projects/test/target/shared/User.d.ts\n</code></pre>\n\n<p>If I remove the <code>import</code> expression from <code>index.ts</code>, the target folder will have both <code>User</code> and <code>Point</code> scripts, as expected.</p>\n\n<p>My question is: Is it bug of <code>tsc</code> or I'm doing something wrong?</p>\n\n<p>Tested on both <code>3.3</code> and <code>3.4</code> versions of <code>tsc</code>, with same result.</p>\n\n<p>The root <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"declaration\": true,\n    \"outDir\": \"./target\",\n    \"rootDir\": \"./source\",\n    \"strict\": true,\n    \"esModuleInterop\": true\n  },\n  \"references\": [\n    {\n      \"path\": \"./source/shared\"\n    }\n  ]\n}\n</code></pre>\n\n<p>The <code>tsconfig.json</code> of <code>shared</code> folder:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"declaration\": true,\n    \"composite\": true,\n    \"strict\": true,\n    \"esModuleInterop\": true\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "nativescript", "nativescript-angular"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1554291275, "post_id": 55493901, "comment_id": 97695387, "body": "you dont have a constructor with the http class injected, it should be <code>constructor(private http: HttpClient){}</code> and <code>import { HttpClient } from &quot;@angular&#47;common&#47;http&quot;;</code>"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1554293589, "post_id": 55493901, "comment_id": 97696838, "body": "Did you import the <a href=\"https://docs.nativescript.org/angular/ng-framework-modules/http#http-get\" rel=\"nofollow noreferrer\">NativeScriptHttpClientModule</a>?"}, {"owner": {"reputation": 23, "user_id": 10071300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc53939143bdc2cdc3bbdb58fbd289f?s=128&d=identicon&r=PG&f=1", "display_name": "Jander Friebe", "link": "https://stackoverflow.com/users/10071300/jander-friebe"}, "edited": false, "score": 0, "creation_date": 1554295369, "post_id": 55493901, "comment_id": 97698005, "body": "NativeScriptHttpClientModule was the one to go, I found the whole solution in the end of the tutorial, but these changes were never mentioned:/"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 11134855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UDLPa.jpg?s=128&g=1", "display_name": "Ian Preglo", "link": "https://stackoverflow.com/users/11134855/ian-preglo"}, "is_accepted": false, "score": 0, "last_activity_date": 1554291350, "creation_date": 1554291350, "answer_id": 55494214, "question_id": 55493901, "link": "https://stackoverflow.com/questions/55493901/how-to-get-through-the-nativescript-angular-lesson-2-step-10/55494214#55494214", "title": "How to get through the NativeScript-Angular Lesson 2 Step 10?", "body": "<p><a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">Check your setup</a></p>\n\n<ul>\n<li>Confirm that the import for HttpClient is added in your module</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>    import { HttpClientModule } from '@angular/common/http';\n\n    @NgModule({\n      imports: [\n        BrowserModule,\n        // import HttpClientModule after BrowserModule.\n        HttpClientModule,\n      ],\n      declarations: [\n        AppComponent,\n      ],\n      bootstrap: [ AppComponent ]\n    })\n\n</code></pre>\n\n<ul>\n<li>Check that you add the <code>http</code> object to your class constructor</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(private http: HttpClient) { }\n</code></pre>\n\n<p>then you can refer to the <code>http</code> from any function in your class</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>doSomePosting() {\n    // this.http.post(postUrl, postData, postOptions);\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10071300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc53939143bdc2cdc3bbdb58fbd289f?s=128&d=identicon&r=PG&f=1", "display_name": "Jander Friebe", "link": "https://stackoverflow.com/users/10071300/jander-friebe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554291350, "creation_date": 1554290281, "question_id": 55493901, "link": "https://stackoverflow.com/questions/55493901/how-to-get-through-the-nativescript-angular-lesson-2-step-10", "title": "How to get through the NativeScript-Angular Lesson 2 Step 10?", "body": "<p>I want to do the Playground tutorial for NativeScript and Angular. I\u00b4m stuck in lesson 2 step 10, due to a compiling error stating, that the http-related segments of the login function are not known to the class.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\n\nimport { User } from \"./user.model\";\n\n@Injectable()\nexport class UserService {\nregister(user: User) {\nalert(\"About to register: \" + user.email);\n}\n\nlogin(user: User) {\n    return this.http.post(\n        Config.apiUrl + \"user/\" + Config.appKey + \"/login\",\n        JSON.stringify({\n            username: user.email,\n            password: user.password\n        }),\n        { headers: this.getCommonHeaders() }\n    ).pipe(\n        map(response =&gt; response.json()),\n        tap(data =&gt; {\n            Config.token = data._kmd.authtoken\n        }),\n        catchError(this.handleErrors)\n    );\n}\n}\n</code></pre>\n\n<p>What I think is, something is not importet yet, that\u00b4s why the http-related functions don\u00b4t work.\nI searched in the tutorials code, if I\u00b4ve missed something, but I can\u00b4t find anything.</p>\n\n<p>I would be nice, if someone could tell me, how to continue the tutorial, or tell me were to find the needed snippet.:)</p>\n"}, {"tags": ["javascript", "node.js", "sql-server", "typescript", "sequelize.js"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8599112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y21Xi.png?s=128&g=1", "display_name": "Shoham Ben Shitrit", "link": "https://stackoverflow.com/users/8599112/shoham-ben-shitrit"}, "edited": false, "score": 0, "creation_date": 1554298827, "post_id": 55495067, "comment_id": 97700267, "body": "While valid and a great solution, my problem lies in the fact that the tables already exists, that allows me to create that design by modeling a view, and not model an existing table"}, {"owner": {"reputation": 188, "user_id": 9445823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADW3u.jpg?s=128&g=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/9445823/mahesh"}, "reply_to_user": {"reputation": 73, "user_id": 8599112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y21Xi.png?s=128&g=1", "display_name": "Shoham Ben Shitrit", "link": "https://stackoverflow.com/users/8599112/shoham-ben-shitrit"}, "edited": false, "score": 0, "creation_date": 1554352674, "post_id": 55495067, "comment_id": 97721244, "body": "Check out my other solution in answer section."}], "tags": [], "owner": {"reputation": 188, "user_id": 9445823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADW3u.jpg?s=128&g=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/9445823/mahesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1554352600, "last_edit_date": 1554352600, "creation_date": 1554294053, "answer_id": 55495067, "question_id": 55493566, "link": "https://stackoverflow.com/questions/55493566/create-many-to-many-relationship-between-multiple-tables-with-sequelize/55495067#55495067", "title": "Create &quot;Many to Many&quot; relationship between multiple tables with Sequelize", "body": "<p><a href=\"https://i.stack.imgur.com/JuSAp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JuSAp.png\" alt=\"enter image description here\"></a></p>\n\n<p>May be you could use above design with two table one is searches and other is filter which refer searches, with adding cases in your filters based on filter type.</p>\n\n<p>Example:-</p>\n\n<p>case when type is exact then pick only key_exactvalue column.</p>\n\n<p>case when type is range(int/date) then pick respective cast/convert(min_range &amp; Max_range) with range_datatype</p>\n\n<p><strong>Solution 2:-</strong></p>\n\n<pre><code>create view VW_Filters as \n\nselect filter_id,'Range' as filter_type,....[other columns]\nfrom ranges_filters\n\nunion\n\nselect filter_id,'Exact' as filter_type,....[other columns]\nfrom ranges_filters\n\n\nunion\n\nselect filter_id,'Datetime' as filter_type,....[other columns]\nfrom ranges_filters\n</code></pre>\n\n<p>Then you need to create a view on top of filter tables and then join with your main filter table on filter_id and filter_type to fetch required filters for search criteria.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 8599112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y21Xi.png?s=128&g=1", "display_name": "Shoham Ben Shitrit", "link": "https://stackoverflow.com/users/8599112/shoham-ben-shitrit"}, "edited": false, "score": 1, "creation_date": 1555508321, "post_id": 55495165, "comment_id": 98136668, "body": "Worked, almost perfectly! required some changes to fit (mostly methods signatures adjustments), but worked really good, and made the joins correctly"}], "tags": [], "owner": {"reputation": 362, "user_id": 6014717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe44c09baf8f1a02fb983f1c3348c23b?s=128&d=identicon&r=PG&f=1", "display_name": "Mukarram Ishaq", "link": "https://stackoverflow.com/users/6014717/mukarram-ishaq"}, "is_accepted": true, "score": 3, "last_activity_date": 1554294340, "creation_date": 1554294340, "answer_id": 55495165, "question_id": 55493566, "link": "https://stackoverflow.com/questions/55493566/create-many-to-many-relationship-between-multiple-tables-with-sequelize/55495165#55495165", "title": "Create &quot;Many to Many&quot; relationship between multiple tables with Sequelize", "body": "<p>In Sequelize when you have other attributes other than foreign keys in the middle table, you'll have to define its model too.<br>\nAccording to above schema, you'll have to have model of all the tables including the middle one (filters).\n<strong>Assign associations in this way:</strong></p>\n\n<pre><code>//associations from search model\nSearchesModel.belongsToMany(RangesFiltersModel, {through: FiltersModel, foriegnKey: 'filter_search_id', otherKey: 'filter_id'});\nSearchesModel.belongsToMany(ExactFiltersModel, {through: FiltersModel, foriegnKey: 'filter_search_id', otherKey: 'filter_id'});\nSearchesModel.belongsToMany(DatetimeFiltersModel, {through: FiltersModel, foriegnKey: 'filter_search_id', otherKey: 'filter_id'});\n\n//associations from filters\nRangesFilterModel.belongsToMany(SearchesModel, {through: FiltersModel, foreignKey: 'filter_id', otherKey: 'filter_search_id'});\nExactFilterModel.belongsToMany(SearchesModel, {through: FiltersModel, foreignKey: 'filter_id', otherKey: 'filter_search_id'});\nDatetimeFilterModel.belongsToMany(SearchesModel, {through: FiltersModel, foreignKey: 'filter_id', otherKey: 'filter_search_id'});\n</code></pre>\n\n<p>Now, suppose I have a search object:  </p>\n\n<pre><code>search.getRangesFilterModels({through: {filterType: 'range'}});\nsearch.getDatetimeFilterModels({through: {filterType: 'datetime'}});\nsearch.getExactFilterModels({through: {filterType: 'exact'}});\n</code></pre>\n\n<p>When you want to retrieve all search objects where each object contains all associated filters, you can query this way:    </p>\n\n<pre><code>SearchesModel.findAll({\n    include: [{\n        ExactFilterModel,\n        through: {filterType: 'exact'}\n    }, {\n        DatetimeFilterModel,\n        through: {filterType: 'datetime'}\n    }, {\n        RangesFilterModel,\n        through: {filterType: 'range'}\n    }]\n});\n</code></pre>\n\n<p>P.S. The exact code might not work, but the concept is same. Hope this would help you. For more information, follow the link in the reference\nReference: <a href=\"http://docs.sequelizejs.com/manual/associations.html\" rel=\"nofollow noreferrer\">Sequelize Associations</a></p>\n"}], "owner": {"reputation": 73, "user_id": 8599112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y21Xi.png?s=128&g=1", "display_name": "Shoham Ben Shitrit", "link": "https://stackoverflow.com/users/8599112/shoham-ben-shitrit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 1, "accepted_answer_id": 55495165, "answer_count": 2, "score": 1, "last_activity_date": 1554352600, "creation_date": 1554289216, "question_id": 55493566, "link": "https://stackoverflow.com/questions/55493566/create-many-to-many-relationship-between-multiple-tables-with-sequelize", "title": "Create &quot;Many to Many&quot; relationship between multiple tables with Sequelize", "body": "<p>I have an already existing schema in MSSQL (image below),<br>\nI have a searches table, each search is made up of some metadata and 3 types of filters (can be multiple of each for each search), and I have a \"Many to Many\" table to connect all types of filters to the search.<br>\nI'd like to use Sequelize to query my searches and get the filters for each, but I couldn't find any way to connect the multiple filters to my search table to model using the connecting table (filters)</p>\n\n<p><img src=\"https://imgur.com/VgqmC0S.png\" alt=\"DB Design\"></p>\n\n<p>Searches: contains metadata of the search and the search id.<br>\nFilters: contains search id and matches it to filter using filter id and filter type (enum: \"range\",\"datetime\",\"exact\").<br>\nRange filter, datetime filters, exact filters: the filter itself and it's info.  </p>\n\n<p>In case it's not possible to query them all together, I thought it might be a possible (but less efficient maybe) to create a view over these tables and create a model for it in Sequelize, but I'm not sure I could do that as well.</p>\n\n<p>Is it possible to model the way I want? And if it is, how can i create this connections?<br>\nThanks!</p>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11204114"}, "edited": false, "score": 0, "creation_date": 1554290968, "post_id": 55493662, "comment_id": 97695177, "body": "Thank you! Works so far. Do you know how to get an effect like this: [link] (<a href=\"http://momotaro.design/detail/kazuki.html\" rel=\"nofollow noreferrer\">momotaro.design/detail/kazuki.html</a>)? When a link is being hovered the <code>expand</code> is being called and the cursor in the first place is different as well."}, {"owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 0, "creation_date": 1554291397, "post_id": 55493662, "comment_id": 97695456, "body": "see here:<a href=\"https://stackblitz.com/edit/angular-7-creating-custom-cursors-378liv?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11204114"}, "edited": false, "score": 0, "creation_date": 1554291764, "post_id": 55493662, "comment_id": 97695678, "body": "Thank you, that works. One more thing - do know who to change the normal cursor (just like in the link I mentioned above)."}, {"owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 0, "creation_date": 1554291885, "post_id": 55493662, "comment_id": 97695769, "body": "use <code>body,html{cursor:none}</code> in <code>style.css</code> file :<a href=\"https://stackblitz.com/edit/angular-7-creating-custom-cursors-9l8knb?file=src/styles.css\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "is_accepted": true, "score": 0, "last_activity_date": 1554289876, "last_edit_date": 1592644375, "creation_date": 1554289535, "answer_id": 55493662, "question_id": 55493020, "link": "https://stackoverflow.com/questions/55493020/custom-cursor-with-typecsript/55493662#55493662", "title": "Custom Cursor with Typecsript", "body": "<p>First for listener to events use <a href=\"https://angular.io/api/core/HostListener\" rel=\"nofollow noreferrer\"><code>@HostListener</code></a></p>\n<ol>\n<li><p><strong>click event</strong></p>\n<p>use <a href=\"https://codecraft.tv/courses/angular/built-in-directives/ngstyle-and-ngclass/\" rel=\"nofollow noreferrer\"><code>[ngClass]</code></a> and bind the <code>expand</code> class as:<code>[ngClass]=&quot;{'expand':expand}&quot;</code></p>\n</li>\n<li><p><strong>Mouse move event</strong></p>\n<p>use <a href=\"https://angular.io/api/common/NgStyle\" rel=\"nofollow noreferrer\"><code>[style.top]</code></a> and <code>[style.left]</code> and bind the value by <code>$event</code> of <code>mousemove</code></p>\n</li>\n</ol>\n<p><a href=\"https://stackblitz.com/edit/angular-7-creating-custom-cursors?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">See working code</a></p>\n<p><em><strong>TS:</strong></em></p>\n<pre class=\"lang-js prettyprint-override\"><code>    export class AppComponent  {\n    \n      top:any;\n      left:any;\n      expand=false;\n    \n      constructor() {}\n    \n    \n      @HostListener('document:click', ['$event'])\n      onClick($event) {\n         this.expand=true;\n         setTimeout(() =&gt; {\n          this.expand=false;\n         }, 500)\n     }\n    \n    @HostListener('document:mousemove', ['$event'])\n      onMousemove($event) {\n        this.top=($event.pageY - 10)+ &quot;px&quot;;\n        this.left= ($event.pageX - 10)+ &quot;px&quot;;\n     }\n    \n    \n    }\n</code></pre>\n\n<p><strong>HTML</strong></p>\n<pre><code>&lt;div class=&quot;cursor&quot; [style.top]=&quot;top&quot; [style.left]=&quot;left&quot; [ngClass]=&quot;{'expand':expand}&quot;&gt;&lt;/div&gt;\n</code></pre>\n<p><strong>Use the same css as you post</strong></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11204114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 55493662, "answer_count": 1, "score": 1, "last_activity_date": 1554289876, "creation_date": 1554287561, "question_id": 55493020, "link": "https://stackoverflow.com/questions/55493020/custom-cursor-with-typecsript", "title": "Custom Cursor with Typecsript", "body": "<p>My intention is to implement a custom cursor, which I got from here:</p>\n\n<blockquote>\n  <p><a href=\"https://codepen.io/designcourse/pen/GzJKOE\" rel=\"nofollow noreferrer\">https://codepen.io/designcourse/pen/GzJKOE</a></p>\n</blockquote>\n\n<p>I've currently got it working on another project, which uses Javascript. My problem is that I've started working with Angular which uses Typescript and I don't know how to implement this cursor with Typescript. Any suggestions?</p>\n\n<pre><code>&lt;div class=\"cursor\"&gt;&lt;/div&gt;\n</code></pre>\n\n<pre><code>.cursor {\n  width: 20px;\n  height: 20px;\n  border: 1px solid white;\n  border-radius: 50%;\n  position: absolute;\n  transition-duration: 200ms;\n  transition-timing-function: ease-out;\n  animation: cursorAnim .5s infinite alternate;\n  pointer-events: none;\n}\n\n.cursor::after {\n  content: \"\";\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  border: 8px solid gray;\n  border-radius: 50%;\n  opacity: .5;\n  top: -8px;\n  left: -8px;\n  animation: cursorAnim2 .5s infinite alternate;\n}\n\n@keyframes cursorAnim {\n  from {\n    transform: scale(1);\n  }\n  to {\n    transform: scale(.7);\n  }\n}\n\n@keyframes cursorAnim2 {\n  from {\n    transform: scale(1);\n  }\n  to {\n    transform: scale(.4);\n  }\n}\n\n@keyframes cursorAnim3 {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(3);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 0;\n  }\n}\n\n.expand {\n  animation: cursorAnim3 .5s forwards;\n  border: 1px solid red;\n}\n</code></pre>\n\n<pre><code>        const cursor = document.querySelector('.cursor');\n\n        document.addEventListener('mousemove', e =&gt; {\n            cursor.setAttribute(\"style\", \"top: \"+(e.pageY - 10)+\"px; left: \"+(e.pageX - 10)+\"px;\")\n        })\n\n        document.addEventListener('click', () =&gt; {\n            cursor.classList.add(\"expand\");\n\n            setTimeout(() =&gt; {\n                cursor.classList.remove(\"expand\");\n            }, 500)\n        })\n</code></pre>\n"}, {"tags": ["typescript", "graphql", "application-design"], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 190296, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/467893969a8740d363c40413bb48c133?s=128&d=identicon&r=PG", "display_name": "Schroedinger", "link": "https://stackoverflow.com/users/190296/schroedinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1554288080, "creation_date": 1554288080, "answer_id": 55493200, "question_id": 55492971, "link": "https://stackoverflow.com/questions/55492971/what-is-general-workflow-with-client-side-typescript-app-and-graphql-backend/55493200#55493200", "title": "What is general workflow with client side Typescript app and GraphQL backend", "body": "<p>This is a great question, given the GraphQL interface can potentially return partial versions of the interface, you're better off using Typescript HOC types like Partial</p>\n\n<pre><code>const getResult : Partial&lt;MyModel&gt; = await yourNetworkRequest()\n</code></pre>\n\n<p>Partial in this instance will make each attribute optional, which means you can do existence checking at the actual call site for the response. This is particularly useful if you have Typescript set to strict mode.</p>\n\n<p>Alternately you could have your call</p>\n\n<pre><code>function myNetworkCall() : Partial&lt;MyModel&gt;\n</code></pre>\n\n<p>Which again applies the same thing, you then have to do the heavy lifting to make sure the fields you're looking for exist (by existence checking)</p>\n\n<pre><code>// assume the following\ninterface MyModel {\n field1: string;\n field2: string;\n}\n\n\n\n\nconst item = myNetworkCall()\nif(item.field1){\n // etc\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3360, "user_id": 3708153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afmDn.jpg?s=128&g=1", "display_name": "Marco Daniel", "link": "https://stackoverflow.com/users/3708153/marco-daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1554292559, "creation_date": 1554292559, "answer_id": 55494572, "question_id": 55492971, "link": "https://stackoverflow.com/questions/55492971/what-is-general-workflow-with-client-side-typescript-app-and-graphql-backend/55494572#55494572", "title": "What is general workflow with client side Typescript app and GraphQL backend", "body": "<p>If you are okay with having generated code, on your client application you can use a tool called <a href=\"https://github.com/apollographql/apollo-tooling#apollo-clientcodegen-output\" rel=\"nofollow noreferrer\">apollo codegen</a>.</p>\n\n<p>Basically it checks for every place where you defined your queries <code>gql</code> and together with the server <code>schema</code> definition it generates the necessary <code>Interfaces</code> for the defined queries. So, if you define nested queries or queries with fragments it will just generate the interfaces you need to execute them.</p>\n\n<p>Here is also a good article about <a href=\"https://medium.com/open-graphql/automatically-generate-typescript-definitions-for-graphql-queries-with-apollo-codegen-e73eae72b561\" rel=\"nofollow noreferrer\">Generate TypeScript Definitions for GraphQL Queries</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "is_accepted": false, "score": 0, "last_activity_date": 1561662864, "last_edit_date": 1561662864, "creation_date": 1554292677, "answer_id": 55494608, "question_id": 55492971, "link": "https://stackoverflow.com/questions/55492971/what-is-general-workflow-with-client-side-typescript-app-and-graphql-backend/55494608#55494608", "title": "What is general workflow with client side Typescript app and GraphQL backend", "body": "<p>One approach is to simply create interfaces specific to each query you actually use in your code. For example, given two queries:</p>\n\n<pre><code>query QueryA {\n  allAuthors {\n    id\n    firstName\n    lastName\n    posts {\n      ...PostFields\n    }\n  }\n}\n\nquery QueryB {\n  id\n  firstName\n  lastName\n}\n</code></pre>\n\n<p>We can just make two separate interfaces, one for each query:</p>\n\n<pre><code>interface QueryAAuthor {\n  id: number;\n  firstName: string;\n  lastName: string;\n  posts: QueryAPost[];\n}\n\ninterface QueryBAuthor {\n  id: number;\n  firstName: string;\n  lastName: string;\n}\n</code></pre>\n\n<p>While this does create more interfaces and generates additional complexity in your code, it also means there's no ambiguity when you're working with the result of a query. For example, if we were to use a single interface with <code>Partial</code> instead, I could still reference <code>posts</code> even when dealing with QueryB's result and the compiler would not catch it.</p>\n\n<p>This is actually the approach used by <a href=\"https://github.com/apollographql/apollo-tooling\" rel=\"nofollow noreferrer\">Apollo CLI</a>'s codegen feature, which lets you generate types based on a schema and your client-side queries.</p>\n\n<p>I don't think this is the only way to handle it -- it's just a question of how much type safety you want in your code.</p>\n"}], "owner": {"reputation": 17208, "user_id": 921193, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/95dbc69a762b157403de68ead7f80ce2?s=128&d=identicon&r=PG", "display_name": "MyTitle", "link": "https://stackoverflow.com/users/921193/mytitle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1561662864, "creation_date": 1554287439, "last_edit_date": 1554294443, "question_id": 55492971, "link": "https://stackoverflow.com/questions/55492971/what-is-general-workflow-with-client-side-typescript-app-and-graphql-backend", "title": "What is general workflow with client side Typescript app and GraphQL backend", "body": "<p>I have a client side React Typescript application. And I read that it's good practice to create Interfaces for responses coming from endpoints. </p>\n\n<p>For example GraphQL schema declared this type: </p>\n\n<pre><code>type Author {\n  id: Int!\n  firstName: String!\n  lastName: String!\n  ... {more fields}\n  posts(findTitle: String): [Post]\n}\n</code></pre>\n\n<p>So on client side I also need to create similar interface: </p>\n\n<pre><code>interface Post: {...}\n\ninterface IAuthor {\n  id: number;\n  firstName: string;\n  lastName: string;\n  posts: Post[]\n}\n</code></pre>\n\n<p>And when client application receive response, it just will cast response to this interface, like this: </p>\n\n<pre><code>const data = await getWholeAuthorFromGraphQL();\nconst user = data as IUser;\n</code></pre>\n\n<p>But one thing not clear to me is that GraphQL allows to fetch specific fields instead of whole object. </p>\n\n<p>For example in some other place of application I also need <code>IUser</code> object, but only with 2 fields: <code>firstName</code> and <code>secondName</code>. Should I create another interface in this case?  Like: </p>\n\n<pre><code>interface AuthorFullname {\n  firstName: string;\n  lastName: string;\n}\n</code></pre>\n\n<p>Or can I just cast to <code>IUser</code> anything that belongs to <code>Author</code> GQL type? And then in code I will be careful because I will know that <code>user</code> object contains only <code>firstName</code> and <code>lastName</code>. So I will not use other fields than <code>firstName</code> and <code>lastName</code>. </p>\n"}, {"tags": ["html", "arrays", "angular", "typescript", "angular-ngmodel"], "comments": [{"owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "edited": false, "score": 0, "creation_date": 1554287013, "post_id": 55492825, "comment_id": 97692781, "body": "As an additional information it is important to say that the display works fine. It is just the saving of the information which does not work."}, {"owner": {"reputation": 1184, "user_id": 5750787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h0UEZ.jpg?s=128&g=1", "display_name": "ArunKumar M N", "link": "https://stackoverflow.com/users/5750787/arunkumar-m-n"}, "edited": false, "score": 0, "creation_date": 1554287862, "post_id": 55492825, "comment_id": 97693288, "body": "why u made answer as array?"}, {"owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "reply_to_user": {"reputation": 1184, "user_id": 5750787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h0UEZ.jpg?s=128&g=1", "display_name": "ArunKumar M N", "link": "https://stackoverflow.com/users/5750787/arunkumar-m-n"}, "edited": false, "score": 0, "creation_date": 1554291130, "post_id": 55492825, "comment_id": 97695290, "body": "@ArunKumarMN as I have 51 questions and next to it I have the related answers. Each question has a potential individual set of answers."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "edited": false, "score": 0, "creation_date": 1554291227, "post_id": 55492981, "comment_id": 97695351, "body": "I changed it to this: this.caaAnswers[index] = { id : this.selectedAnswerId[index] };  and in the component:  [(ngModel)]=&quot;selectedAnswer[i]  As I have a set of questions and potential answers. But your code works fine!!! Thank you"}], "tags": [], "owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "is_accepted": false, "score": 0, "last_activity_date": 1554287477, "creation_date": 1554287477, "answer_id": 55492981, "question_id": 55492825, "link": "https://stackoverflow.com/questions/55492825/array-with-select-option-in-angular-and-typescript/55492981#55492981", "title": "Array with select option in Angular and Typescript", "body": "<p>You have to push into answer on select change like this</p>\n\n<pre><code>&lt;select  class=\"form-control\"  name=\"selectAnswer\" [(ngModel)]=\"selectedAnswerId\" (change)=\"setAnswer(i)\"&gt;\n &lt;option *ngFor=\"let answers of QuestionOption.Answers\" [ngValue]=\"answers.id\"&gt;{{answers.description}}&lt;/option&gt;\n&lt;select&gt;\n</code></pre>\n\n<p>in component.ts</p>\n\n<pre><code>selectedAnswerId : number;\nsetAnswer(index){\n  this.answer[index].push({id : this.selectedAnswerId})\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "is_accepted": true, "score": 1, "last_activity_date": 1554662212, "creation_date": 1554662212, "answer_id": 55562396, "question_id": 55492825, "link": "https://stackoverflow.com/questions/55492825/array-with-select-option-in-angular-and-typescript/55562396#55562396", "title": "Array with select option in Angular and Typescript", "body": "<p>I found the solution. The problem was that the compareWith function did not work properly because of the Array. It only works in case you name the html select based upon the array index:</p>\n\n<p>Working version:</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"field_answer{{i}}\" name=\"field_answer{{i}}\" [(ngModel)]=\"resultAnswer[i].answer\" [compareWith]=\"compareFn\"&gt;\n&lt;option [ngValue]=\"answer\" *ngFor=\"let answer of Question.answers; trackBy: trackAnswerById\"&gt;{{answer.id}} {{answer.description}}&lt;/option&gt;\n&lt;/select&gt; \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11276830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ac9b9487348b0424a3607fc05a98f?s=128&d=identicon&r=PG&f=1", "display_name": "augeres", "link": "https://stackoverflow.com/users/11276830/augeres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5874, "favorite_count": 1, "accepted_answer_id": 55562396, "answer_count": 2, "score": 0, "last_activity_date": 1554662212, "creation_date": 1554286946, "question_id": 55492825, "link": "https://stackoverflow.com/questions/55492825/array-with-select-option-in-angular-and-typescript", "title": "Array with select option in Angular and Typescript", "body": "<p>I display 51 questions with their related answers on a page. \nBoth information come from one web-service call. </p>\n\n<pre><code>&lt;tbody&gt;\n   &lt;tr *ngFor=\"let QuestionOption of questions; trackBy: trackQuestionById; let i = index;\"&gt;\n   &lt;th scope=\"row\"&gt;{{QuestionOption.id}}&lt;/th&gt;\n   &lt;td&gt;{{QuestionOption.name}} {{QuestionOption.description}}\n    &lt;/p&gt;\n     &lt;select  class=\"form-control\"  name=\"selectAnswer\" [(ngModel)]=\"answer[i]\"&gt;\n     &lt;option *ngFor=\"let answers of QuestionOption.Answers\" [ngValue]=\"answers.id\"&gt;{{answers.description}}&lt;/option&gt;\n    &lt;/p&gt;\n   &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>on the typescript code I try the following:</p>\n\n<pre><code>answer: Answer[];\nthis.answer = new Array&lt;Answer&gt;();\n</code></pre>\n\n<p>The type Answer has multiple fields like: Id, Name, Score, Description</p>\n\n<p>What is not working is that I always have get the Id into the answer[i]\nbut I want to have the id in the field answer[i].id</p>\n\n<p>If i change the </p>\n\n<pre><code>[(ngModel)]=\"answer[i]\"\n</code></pre>\n\n<p>into </p>\n\n<pre><code>[(ngModel)]=\"answer[i].id\"\n</code></pre>\n\n<p>I get the following exception:\nERROR TypeError: \"_co.caaAnswer[_v.context.index] is undefined\"</p>\n\n<p>I also tried: </p>\n\n<pre><code>[(ngModel)]=\"answer[i]?.id\"\n</code></pre>\n\n<p>So is it correct to use answer[i] ? and then in the option I should somehow assign to answer[i].id the selected value. If so somebody can help how to do it.</p>\n\n<p>Any help is appreciated! Thanks a lot.\naugeres</p>\n"}, {"tags": ["node.js", "typescript", "mocha.js", "loopback"], "answers": [{"tags": [], "owner": {"reputation": 565, "user_id": 3710514, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Bg896.jpg?s=128&g=1", "display_name": "J&#233;r&#233;my", "link": "https://stackoverflow.com/users/3710514/j%c3%a9r%c3%a9my"}, "is_accepted": false, "score": 1, "last_activity_date": 1554387136, "creation_date": 1554387136, "answer_id": 55518120, "question_id": 55492822, "link": "https://stackoverflow.com/questions/55492822/mocha-error-invalide-usage-of-console-logs-detected/55518120#55518120", "title": "mocha error : invalide usage of console logs detected", "body": "<p>I found my mistake.</p>\n\n<p><code>--allow-console-logs</code> is NOT a mocha cli options. This is a \"lb-mocha\" cli option, meaning that is only dependent to loopback. That's why it was not interpreted by mocha in the <code>mocha.opts</code> file. The solution is to extract this argument from mocha option file to the test commande line in the <code>package.json</code>, see below:</p>\n\n<pre><code>//package.json//\n{\n  ...\n  \"script\": {\n    ...\n    \"test\": \"lb-mocha --allow-console-logs --opts tests/mocha.opts\"\n    ...\n  }\n  ...\n}\n</code></pre>\n\n<p>Don't forget to remove the argument from <code>mocha.opts</code> file:</p>\n\n<pre><code>//mocha.opts//\n--recursive\n--require ts-node/register\ntests/**/*.ts\n--exit\n</code></pre>\n\n<p>I hope it will save your day.</p>\n"}], "owner": {"reputation": 565, "user_id": 3710514, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Bg896.jpg?s=128&g=1", "display_name": "J&#233;r&#233;my", "link": "https://stackoverflow.com/users/3710514/j%c3%a9r%c3%a9my"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554387136, "creation_date": 1554286933, "last_edit_date": 1554296462, "question_id": 55492822, "link": "https://stackoverflow.com/questions/55492822/mocha-error-invalide-usage-of-console-logs-detected", "title": "mocha error : invalide usage of console logs detected", "body": "<p>All my test passed successfully.\nBut at the end I have this message :</p>\n\n<pre><code>  32 passing (7s)\n=== ATTENTION - INVALID USAGE OF CONSOLE LOGS DETECTED ===\n[------------all logs here------------]\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 10\nnpm ERR! MyProject@1.0.0 test: 'lb-mocha --opts tests/mocha.opts'\nnpm ERR! Exit status 10\nnpm ERR!\nnpm ERR! Failed at the MyProject@1.0.0 test script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXX\\AppData\\Roaming\\npm-cache\\_logs\\2019-04-03T09_57_58_382Z-debug.log\n</code></pre>\n\n<p>Here are my mocha.opts :</p>\n\n<pre><code>--allow-console-logs\n--recursive\n--require ts-node/register\ntests/**/*.ts\n--exit\n</code></pre>\n\n<p>Do you know why it's not working ?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "decorator", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 3, "last_activity_date": 1554287836, "creation_date": 1554287836, "answer_id": 55493120, "question_id": 55492788, "link": "https://stackoverflow.com/questions/55492788/how-can-i-ignore-typescript-decorators-use-nestjs-entities-like-usual-types/55493120#55493120", "title": "How can I ignore TypeScript decorators (use NestJS entities like usual types)?", "body": "<p>You can just use your entity as a type, you could even add other annoations, e.g. <code>class-validator</code> assertions to it. As long as <code>typeorm</code> (resp. <code>class-validator</code>) is not involved, the decorators will just be ignored.</p>\n\n<p>Note though that reusing your database schema throughout your whole application creates dependencies and makes it harder to change your database schema (for example for performance optimization). Especially in larger applications, it makes sense to separate the API schema (easy to consume, closer to real world entities) and the database schema (more technical, e.g. relations, technical details) with an adapter layer. It's basically a trade-off between DRY and encapsulation, see this <a href=\"https://softwareengineering.stackexchange.com/a/303480/316673\">thread</a> for an extended discussion.</p>\n"}], "owner": {"reputation": 4725, "user_id": 8808496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSryZ.jpg?s=128&g=1", "display_name": "Felix Lemke", "link": "https://stackoverflow.com/users/8808496/felix-lemke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 55493120, "answer_count": 1, "score": 3, "last_activity_date": 1554287903, "creation_date": 1554286830, "last_edit_date": 1554287903, "question_id": 55492788, "link": "https://stackoverflow.com/questions/55492788/how-can-i-ignore-typescript-decorators-use-nestjs-entities-like-usual-types", "title": "How can I ignore TypeScript decorators (use NestJS entities like usual types)?", "body": "<p>I wanted to know if there is a way to ignore the TypeScript decorators and reuse the same file without them. In NestJS I'm defining an entity like this.</p>\n\n<pre><code>import { PrimaryGeneratedColumn, Column, Entity } from 'typeorm';\n\n@Entity()\nexport class User {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ length: 100 })\n  name: string;\n\n  @Column({ length: 320 })\n  email: string;\n}\n</code></pre>\n\n<p>But everywhere except for database <code>typeorm</code> configuration I need exactly the same type just without the decorators.</p>\n\n<pre><code>export class User {\n  id: number;\n  name: string;\n  email: string;\n}\n</code></pre>\n\n<p>Redefining types makes the code vulnerable to errors and disregards the <em>don't repeat yourself</em> principle. This might be self explanatory but I do not see it yet. Can I use the first one like usual (e.g. <code>let user: User;</code>? Thanks for your help.</p>\n"}, {"tags": ["typescript", "momentjs"], "comments": [{"owner": {"reputation": 23, "user_id": 9093447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f6b0e08540b26a039dc282c9fe25a62?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/9093447/lokesh"}, "edited": false, "score": 0, "creation_date": 1554287038, "post_id": 55492655, "comment_id": 97692801, "body": "Was this a invalid question ?? I dont understand here."}, {"owner": {"reputation": 1203, "user_id": 190296, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/467893969a8740d363c40413bb48c133?s=128&d=identicon&r=PG", "display_name": "Schroedinger", "link": "https://stackoverflow.com/users/190296/schroedinger"}, "edited": false, "score": 0, "creation_date": 1554288293, "post_id": 55492655, "comment_id": 97693534, "body": "You need to at least have a go at proposing an API and some logic!. What&#39;s your duration in, how do you handle date logic. How would you handle adding a date with a duration in seconds, minutes, hours, etc? We&#39;re here to help if you get stuck, not to help you do your homework."}], "answers": [{"tags": [], "owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "is_accepted": true, "score": 0, "last_activity_date": 1554296693, "last_edit_date": 1554296693, "creation_date": 1554296315, "answer_id": 55495800, "question_id": 55492655, "link": "https://stackoverflow.com/questions/55492655/get-the-end-time-using-start-time-and-duration-values/55495800#55495800", "title": "Get the end time using start time and duration values", "body": "<pre><code>const data = {\n   'startTime': 1100,    // (this will be 24hrs format i.e 11:00 AM)\n   'duration' : 60      // (in mins)\n}\nconst result = moment(data.startTime, 'HHmm').add(data.duration, 'minute').format('HH:mm A');\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9093447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f6b0e08540b26a039dc282c9fe25a62?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/9093447/lokesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 55495800, "answer_count": 1, "score": -3, "last_activity_date": 1554296693, "creation_date": 1554286458, "last_edit_date": 1554287780, "question_id": 55492655, "link": "https://stackoverflow.com/questions/55492655/get-the-end-time-using-start-time-and-duration-values", "title": "Get the end time using start time and duration values", "body": "<p>How to calculate end time using start time and duration?</p>\n\n<p>I have an API that will send me the values as below</p>\n\n<pre><code>data : {\n'startTime': 1100,    // (this will be 24hrs format i.e 11:00 AM)\n'duration' : 60      // (in mins)\n}\n</code></pre>\n\n<p>Now, using these above attributes, I should calculate the end time like 11:00 AM + 60 = 12:00 PM</p>\n"}, {"tags": ["angular", "typescript", "http-headers", "httpclient"], "answers": [{"comments": [{"owner": {"reputation": 214, "user_id": 9740071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vfqw6.png?s=128&g=1", "display_name": "Vasco", "link": "https://stackoverflow.com/users/9740071/vasco"}, "edited": false, "score": 0, "creation_date": 1554290850, "post_id": 55492943, "comment_id": 97695108, "body": "Thanks for your reply. But it still just added an identical one (so still two same values)."}], "tags": [], "owner": {"reputation": 65, "user_id": 11189979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c86fbf9176989af94aeb24a829a2c1c2?s=128&d=identicon&r=PG&f=1", "display_name": "Syam Prasad", "link": "https://stackoverflow.com/users/11189979/syam-prasad"}, "is_accepted": false, "score": 1, "last_activity_date": 1554287369, "creation_date": 1554287369, "answer_id": 55492943, "question_id": 55492581, "link": "https://stackoverflow.com/questions/55492581/how-to-delete-a-header-for-a-given-name-in-angular/55492943#55492943", "title": "How to delete a header for a given name in angular?", "body": "<p>Try this</p>\n\n<pre><code>let headers: HttpHeaders = new HttpHeaders();\nheaders = headers.set('Accept', 'application/json');\nheaders = headers.set('Accept', 'application/json');\nheaders = headers.set('Authorization', `Bearer ${access_token}`);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 214, "user_id": 9740071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vfqw6.png?s=128&g=1", "display_name": "Vasco", "link": "https://stackoverflow.com/users/9740071/vasco"}, "is_accepted": true, "score": 2, "last_activity_date": 1554291155, "creation_date": 1554291155, "answer_id": 55494150, "question_id": 55492581, "link": "https://stackoverflow.com/questions/55492581/how-to-delete-a-header-for-a-given-name-in-angular/55494150#55494150", "title": "How to delete a header for a given name in angular?", "body": "<p>I managed to find an easy workaround to fit my case:  </p>\n\n<ol>\n<li>I'm defining the header:</li>\n</ol>\n\n<pre><code>headers = new HttpHeaders()\n  .set('Content-Type', 'application/json')\n  .set('Accept', 'application/json');\n</code></pre>\n\n<ol start=\"2\">\n<li>Every time I need to refresh the token I do this:</li>\n</ol>\n\n<pre><code>this.headers = new HttpHeaders()\n  .set('Content-Type', 'application/json')\n  .set('Accept', 'application/json')\n  .set('Authorization', 'Bearer ' + access_token');\n</code></pre>\n\n<p><br/>\nBut If anybody has an idea how to do it with set(), append(), delet(), etc. I would love to hear it.</p>\n"}], "owner": {"reputation": 214, "user_id": 9740071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vfqw6.png?s=128&g=1", "display_name": "Vasco", "link": "https://stackoverflow.com/users/9740071/vasco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4820, "favorite_count": 0, "accepted_answer_id": 55494150, "answer_count": 2, "score": 1, "last_activity_date": 1554291155, "creation_date": 1554286250, "question_id": 55492581, "link": "https://stackoverflow.com/questions/55492581/how-to-delete-a-header-for-a-given-name-in-angular", "title": "How to delete a header for a given name in angular?", "body": "<p>In my app, I'm doing multiple HTTP requests. All of them need an authentication header with an access token (and some other header values). I defined in a header variable of type <code>HttpHeaders</code> (see code#1) to use it like <code>this.http.get(this.myUrl, { headers: this.headers})</code>.<br>\nIn my case, the token has to be refreshed over time and I want to change the header to contain the newest token.</p>\n\n<p>In my code, I have a refresh function which should refresh the token and replace the old token in the HTTP header with the new one.<br>\nMy first approach was to use the provided <a href=\"https://angular.io/api/common/http/HttpHeaders#set\" rel=\"nofollow noreferrer\">set() method</a>(see code#2). This added a new value to the header and did not replace it (I now had two vales of Authorization).<br>\nMy second approach was to use the <a href=\"https://angular.io/api/common/http/HttpHeaders#delete\" rel=\"nofollow noreferrer\">delete() method</a>(see code#3) and delete Authorization and then use the <a href=\"https://angular.io/api/common/http/HttpHeaders#append\" rel=\"nofollow noreferrer\">append() method</a> and a new one. This caused a similar result.<br>\nMy last approach was to just use the delete() method(see code#4).</p>\n\n<p><br/></p>\n\n<h3>code samples</h3>\n\n<p>code#1:</p>\n\n<pre><code>headers = new HttpHeaders()\n  .set('Content-Type', 'application/json')\n  .set('Accept', 'application/json');\n</code></pre>\n\n<p>code#2:</p>\n\n<pre><code>this.headers = this.headers\n  .set('Authorization', 'Bearer ' + access_token);\n</code></pre>\n\n<p>code#3:</p>\n\n<pre><code>this.headers = this.headers.delete('Authorization');\nthis.headers = this.headers.append('Authorization','Bearer ' + access_token);\n</code></pre>\n\n<p>code#4:</p>\n\n<pre><code>this.headers = this.headers.delete('Authorization','Bearer ' + access_token);\n</code></pre>\n\n<p><br/></p>\n\n<h3>results</h3>\n\n<p>I expected that either the value of the header <code>({'Authorization', 'Bearer ' + access_token})</code> gets replaced (1st approach). The actual result was that it just got appended:</p>\n\n<pre><code>{\"Authorization\", \"Bearer access_token-old\"}\n{\"Authorization\", \"Bearer access_token-new\"}\n</code></pre>\n\n<p>And for the second approach, I expected to delete and appending a new value which caused to still adding two values:</p>\n\n<pre><code>{\"Authorization\", undefined}\n{\"Authorization\", \"Bearer access_token-new\"}\n</code></pre>\n\n<p>My last approach caused the same output as in my first approach, instead of just replacing the value.<br>\n<br/>\nDo you know any method to just replace the access_token/value in <code>{'Authorization','Bearer ' + access_token}</code>?</p>\n"}, {"tags": ["typescript", "module"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1554286402, "post_id": 55492565, "comment_id": 97692388, "body": "Module specifiers are largely environment-dependent. Do you use a bundler of some kind? (And does vscode know that?)"}], "answers": [{"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1554286432, "post_id": 55492625, "comment_id": 97692412, "body": "Do you have a documentation link for that? It&#39;s not in <a href=\"http://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">the modules documentation</a>. I mean, it&#39;s kind of what I&#39;d assume if someone told me it was a valid module specifier, but..."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1554286522, "post_id": 55492625, "comment_id": 97692473, "body": "No. I searched several times to confirm that. I never found anything official. :( But it works like that. I&#39;m not sure if it is a good practice to use this feature."}, {"owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "edited": false, "score": 0, "creation_date": 1554286669, "post_id": 55492625, "comment_id": 97692555, "body": "Ah, you&#39;re right!  I forgot that I had imported and re-exported this interface in my app&#39;s main <code>index.ts</code> file, so VSCode chose to import the interface from this file instead of the original source."}, {"owner": {"reputation": 546, "user_id": 1741338, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzJ0G.jpg?s=128&g=1", "display_name": "Kieran Ryan", "link": "https://stackoverflow.com/users/1741338/kieran-ryan"}, "edited": false, "score": 0, "creation_date": 1589982396, "post_id": 55492625, "comment_id": 109508630, "body": "This is the default for the intellij IDE 2020.1 when automatically detecting imports."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 4, "last_activity_date": 1554289024, "last_edit_date": 1554289024, "creation_date": 1554286394, "answer_id": 55492625, "question_id": 55492565, "link": "https://stackoverflow.com/questions/55492565/what-does-an-import-from-mean-in-typescript/55492625#55492625", "title": "What does an import from &quot;..&quot; mean in TypeScript?", "body": "<p>When a directory is imported, TypeScript imports by default the file <code>index.ts</code>.</p>\n\n<p>Your import is equivalent to: <code>../index</code>.</p>\n\n<p><em>Warning: I have never found anything official to confirm this behavior (in particular, there is nothing in the <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#1131-module-names\" rel=\"nofollow noreferrer\">TS specification</a>). It works like that. But I'm unsure if it is a good practice to use this feature.</em></p>\n"}], "owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554289024, "creation_date": 1554286205, "last_edit_date": 1554286728, "question_id": 55492565, "link": "https://stackoverflow.com/questions/55492565/what-does-an-import-from-mean-in-typescript", "title": "What does an import from &quot;..&quot; mean in TypeScript?", "body": "<p>While working on a TypeScript project in VSCode, I imported an interface from another file, and allowed VSCode to insert the <code>import</code> statement for me.  However, I was surprised to find the import statement looked like this:</p>\n\n<pre><code>import { IOAdapter } from '..';\n</code></pre>\n\n<p>I was expecting something like this:</p>\n\n<pre><code>import { IOAdapter } from '../adapters/IOAdapter.ts';\n</code></pre>\n\n<p>Is this <code>..</code> syntax new?  How does it work?</p>\n\n<p>I'm using TypeScript 3.4.1.</p>\n\n<hr>\n\n<p>Update: @Paleo's solution is correct, see my comment on his answer for the source of my confusion.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 812, "user_id": 9333224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575f5439ba86c14eb385efc744f5124f?s=128&d=identicon&r=PG", "display_name": "Arfeo", "link": "https://stackoverflow.com/users/9333224/arfeo"}, "edited": false, "score": 0, "creation_date": 1554285675, "post_id": 55492337, "comment_id": 97691921, "body": "Obviously, the response data is not JSON. Could you please show what the server response is? Your localhost is not accessible over the Internet."}, {"owner": {"reputation": 11, "user_id": 9987823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4f77192528d8c7ed087499b17abf31?s=128&d=identicon&r=PG&f=1", "display_name": "Nazeer", "link": "https://stackoverflow.com/users/9987823/nazeer"}, "reply_to_user": {"reputation": 812, "user_id": 9333224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575f5439ba86c14eb385efc744f5124f?s=128&d=identicon&r=PG", "display_name": "Arfeo", "link": "https://stackoverflow.com/users/9333224/arfeo"}, "edited": false, "score": 0, "creation_date": 1554285923, "post_id": 55492337, "comment_id": 97692089, "body": "my response data is excel : application/vnd.ms-excel"}, {"owner": {"reputation": 812, "user_id": 9333224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575f5439ba86c14eb385efc744f5124f?s=128&d=identicon&r=PG", "display_name": "Arfeo", "link": "https://stackoverflow.com/users/9333224/arfeo"}, "edited": false, "score": 0, "creation_date": 1554287659, "post_id": 55492337, "comment_id": 97693171, "body": "And what is the code of your <code>http.post</code> method?"}], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "edited": false, "score": 0, "creation_date": 1570111291, "post_id": 55493043, "comment_id": 102817370, "body": "For the visual studio code users: this solution might give you an error, ignore it and update your TSLint. This solution works fine but somehow older versions of TSLint will give you an error whilst applying this solution."}], "tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1554288936, "last_edit_date": 1554288936, "creation_date": 1554287635, "answer_id": 55493043, "question_id": 55492337, "link": "https://stackoverflow.com/questions/55492337/httpclient-how-to-request-non-json-data/55493043#55493043", "title": "HttpClient - How to request non-JSON data", "body": "<p>Remove the CORS headers and make <code>responseType</code> an option, not a header:</p>\n\n<pre><code>getSalesARExcel(attach: string): Observable&lt;any&gt;{\n    const obj={\n        \"AttachmentId\":attach\n    }\n    return this.http.post(url, obj ,{\n        headers: new HttpHeaders({\n            'Content-Type': 'application/json',\n            \"Authorization\":'Bearer ' + localStorage.getItem('token'),\n            \u0336'\u0336A\u0336c\u0336c\u0336e\u0336s\u0336s\u0336-\u0336C\u0336o\u0336n\u0336t\u0336r\u0336o\u0336l\u0336-\u0336A\u0336l\u0336l\u0336o\u0336w\u0336-\u0336O\u0336r\u0336i\u0336g\u0336i\u0336n\u0336'\u0336:\u0336'\u0336*\u0336'\u0336,\u0336\n            \u0336'\u0336A\u0336c\u0336c\u0336e\u0336s\u0336s\u0336-\u0336C\u0336o\u0336n\u0336t\u0336r\u0336o\u0336l\u0336-\u0336A\u0336l\u0336l\u0336o\u0336w\u0336-\u0336H\u0336e\u0336a\u0336d\u0336e\u0336r\u0336s\u0336'\u0336:\u0336'\u0336O\u0336r\u0336i\u0336g\u0336i\u0336n\u0336,\u0336 \u0336M\u0336e\u0336t\u0336h\u0336o\u0336d\u0336s\u0336,\u0336 \u0336C\u0336o\u0336n\u0336t\u0336e\u0336n\u0336t\u0336-\u0336T\u0336y\u0336p\u0336e\u0336'\u0336,\u0336\n            \u0336'\u0336r\u0336e\u0336s\u0336p\u0336o\u0336n\u0336s\u0336e\u0336T\u0336y\u0336p\u0336e\u0336'\u0336:\u0336 \u0336'\u0336R\u0336e\u0336s\u0336p\u0336o\u0336n\u0336s\u0336e\u0336C\u0336o\u0336n\u0336t\u0336e\u0336n\u0336t\u0336T\u0336y\u0336p\u0336e\u0336.\u0336B\u0336l\u0336o\u0336b\u0336'\u0336\n        }),\n        'responseType': 'blob'\n    })\n}\n</code></pre>\n\n<p>CORS headers are response headers, not request headers.</p>\n\n<p>The <code>responseType</code> is an XHR option, not a header.</p>\n\n<p>For more information, see</p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">Angular Developer Guide - httpClient</a></li>\n<li><a href=\"https://angular.io/api/common/http/HttpClient\" rel=\"nofollow noreferrer\">Angular API Reference - httpClient</a></li>\n<li><a href=\"https://angular.io/guide/http#requesting-non-json-data\" rel=\"nofollow noreferrer\">Angular Developer Guide - Requesting non-JSON data</a></li>\n<li><a href=\"https://angular.io/api/common/http/HttpClient#post\" rel=\"nofollow noreferrer\">Angular API Reference - http.post</a></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 9987823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4f77192528d8c7ed087499b17abf31?s=128&d=identicon&r=PG&f=1", "display_name": "Nazeer", "link": "https://stackoverflow.com/users/9987823/nazeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554290413, "creation_date": 1554285564, "last_edit_date": 1554290413, "question_id": 55492337, "link": "https://stackoverflow.com/questions/55492337/httpclient-how-to-request-non-json-data", "title": "HttpClient - How to request non-JSON data", "body": "<h2>SyntaxError: Unexpected token P in JSON at position 0 at JSON.parse</h2>\n\n<p>I want to download excel through api ..i tried this method but unfortunately im getting this error</p>\n\n<blockquote>\n  <p>SyntaxError: Unexpected token P in JSON at position 0 at JSON.parse () at XMLHttpRequest.onLoad (<a href=\"http://localhost:5002/vendor.js:28768:51\" rel=\"nofollow noreferrer\">http://localhost:5002/vendor.js:28768:51</a>)</p>\n</blockquote>\n\n<p>my Code here    </p>\n\n<pre><code>getSalesARExcel(attach: string): Observable&lt;any&gt;{\n    const obj={\n        \"AttachmentId\":attach\n    }\n    return this.http.post(baseUrl + 'api/report/aging/receivables/summary/download/xlsx', obj ,{\n        headers: new HttpHeaders({\n            'Content-Type': 'application/json',\n            \"Authorization\":'Bearer ' + localStorage.getItem('token'),\n            'Access-Control-Allow-Origin':'*',\n            'Access-Control-Allow-Headers':'Origin, Methods, Content-Type',\n            'responseType': 'ResponseContentType.Blob'\n        })\n    })\n}\n\nthis.excel.getSalesARExcel(value.attach).subscribe(res =&gt; {\n    console.log(\"excel\", res)\n    this.downloadExcelFile(res);\n})\n\ndownloadExcelFile(data: any){\n    var blob = new Blob([data], { type: 'application/vnd.ms-excel' });\n    var url= window.URL.createObjectURL(blob);\n    window.open(url);\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1554285194, "post_id": 55492163, "comment_id": 97691596, "body": "<code>async</code> works with <code>Promise</code>. The keyword <code>async</code> makes it implicit that such method returns a <code>Promise</code> and allows you to use <code>await</code> on methods returning a <code>Promise</code>. Unluckily, it doesn&#39;t have much to do with <code>Observables</code>. Is there any reason for using an observable here? You may just want to do: <code>return this.myService.subscribe(data =&gt; {     this.consumeData(data);     this.flag = 1; }).toPromise();</code>."}, {"owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1554285216, "post_id": 55492163, "comment_id": 97691612, "body": "@JaromandaX I&#39;m aware of that. I&#39;m just talking about syntax"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1554285242, "post_id": 55492163, "comment_id": 97691625, "body": "no probs, it seemed like you thought they were two distinct things - comment removed"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 0, "creation_date": 1554285535, "post_id": 55492163, "comment_id": 97691824, "body": "What is init() ? Are you talking about ngOnInit(), which is not implemented in your snippet ?"}, {"owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "reply_to_user": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 0, "creation_date": 1554285581, "post_id": 55492163, "comment_id": 97691864, "body": "@jo_va I edited the post. It&#39;s not an <code>ngOnInit()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 0, "last_activity_date": 1554285358, "creation_date": 1554285358, "answer_id": 55492265, "question_id": 55492163, "link": "https://stackoverflow.com/questions/55492163/await-for-a-variable-to-change/55492265#55492265", "title": "Await for a variable to change", "body": "<p>If you want to treat an observable like a promise, then the simplest thing would be <code>await this.myService.toPromise()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "edited": false, "score": 0, "creation_date": 1554285885, "post_id": 55492332, "comment_id": 97692059, "body": "In my case, the service is a bluetooth low energy (BLE). I need to connect to the service and then start notifications. So It&#39;s not a single value. to connect to a peripheral, the device takes like 3 seconds. The start notification is an observable too. It&#39;s nested inside the connect observable. What I need to do is to make sure that the device is connected and subscribe notifications then let the application run normally."}], "tags": [], "owner": {"reputation": 1, "user_id": 2117592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3327729c48edd4a88959fa5f8fa05f52?s=128&d=identicon&r=PG", "display_name": "CCosta", "link": "https://stackoverflow.com/users/2117592/ccosta"}, "is_accepted": false, "score": 0, "last_activity_date": 1554285549, "creation_date": 1554285549, "answer_id": 55492332, "question_id": 55492163, "link": "https://stackoverflow.com/questions/55492163/await-for-a-variable-to-change/55492332#55492332", "title": "Await for a variable to change", "body": "<p>An Observable is kind of a stream of data... If you only have one value coming out of the observable, consider using </p>\n\n<pre><code>return this.myService.\n  .pipe(take(1))\n  .subscribe(...)\n</code></pre>\n\n<p>this way the observable will also be unsubscribed automatically.</p>\n\n<p>you can also call <code>toPromise()</code> instead of <code>subscribe(...)</code> and use the result as a promise</p>\n\n<pre><code>return this.myService.\n  .pipe(take(1))\n  .toPromise().then(...)\n</code></pre>\n\n<p>you can then use <code>await</code> together with it</p>\n"}, {"tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": false, "score": 0, "last_activity_date": 1554300975, "creation_date": 1554300975, "answer_id": 55497328, "question_id": 55492163, "link": "https://stackoverflow.com/questions/55492163/await-for-a-variable-to-change/55497328#55497328", "title": "Await for a variable to change", "body": "<p>Observable can be easily converted to promises by using the <code>toPromise()</code> operator.</p>\n\n<pre><code>async myFunc() {\n    return this.myService.doSomething().pipe(\n         tap(data =&gt; this.consumeData(data)) \n    ).toPromise();\n}\n</code></pre>\n"}], "owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 55492265, "answer_count": 3, "score": 0, "last_activity_date": 1554300975, "creation_date": 1554285063, "last_edit_date": 1554285437, "question_id": 55492163, "link": "https://stackoverflow.com/questions/55492163/await-for-a-variable-to-change", "title": "Await for a variable to change", "body": "<p>I have an observable that needs to be executed before the next instruction</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>export class MyExample implements OnInit {\n    flag;\n\n    constructor(private myService: MyService) { }\n\n    myFunc() {\n        flag = 0;\n        this.myService.subscribe(data =&gt; {\n            this.consumeData(data);\n            this.flag = 1;\n        });\n    }\n}\n</code></pre>\n\n<p>Instructions inside the <code>subscribe()</code> may take few seconds to be ready. I need to transform <code>init()</code> function to <code>async init()</code>. I added a <code>flag</code> that works as an indicator of success but I couldn't find a way to combine an Observable with an async function (or maybe just a promise).</p>\n\n<p>In my Component I want to call <code>init()</code> this way:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>this.myFunc().then(() =&gt; console.log('ok'));\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "s4sdk", "sap-cloud-sdk"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8578869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hQMDPw8EzCc/AAAAAAAAAAI/AAAAAAAADPY/wGh87xcPvBE/photo.jpg?sz=128", "display_name": "HSSE", "link": "https://stackoverflow.com/users/8578869/hsse"}, "edited": false, "score": 0, "creation_date": 1554468473, "post_id": 55493077, "comment_id": 97774757, "body": "at the use of the &quot;.withCustomHeaders({ key: &quot;If-Match&quot;, value: &quot;*&quot; })&quot; their was given the error message:  &quot;The Data Service Request is required to be conditional. Try using the &quot;If-Match&quot; header.&quot;  Is their any false usage of me or does it not work with 1.0.0?"}, {"owner": {"reputation": 166, "user_id": 433926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0664959de05bb04947e50343f5b11fbd?s=128&d=identicon&r=PG&f=1", "display_name": "marikaner", "link": "https://stackoverflow.com/users/433926/marikaner"}, "edited": false, "score": 1, "creation_date": 1555424212, "post_id": 55493077, "comment_id": 98101395, "body": "Can you try `.withCustomHeaders({&#39;If-Match&#39;:  &#39;*&#39;})?"}], "tags": [], "owner": {"reputation": 669, "user_id": 4792009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5753d9cbdfc07f99a8e052c35a8e945d?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis H", "link": "https://stackoverflow.com/users/4792009/dennis-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1558105238, "last_edit_date": 1558105238, "creation_date": 1554287726, "answer_id": 55493077, "question_id": 55492054, "link": "https://stackoverflow.com/questions/55492054/how-to-get-the-etagmetadata-from-a-documentinforecord-get-call-in-sap-cloud/55493077#55493077", "title": "How to get the eTag(MetaData) from a DocumentInfoRecord get() call in SAP Cloud SDK for javascript?", "body": "<p><strong>UPDATE:</strong> Please see the answer of Henning Heitk\u00f6tter.</p>\n\n<hr>\n\n<p>Currently we do not support eTag handling. We are aware of this shortcoming and already have it in our backlog. We will update this answer as soon as the feature is available.</p>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 8913403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/439dbe4fa8d8bf55fbdd843807b6f20d?s=128&d=identicon&r=PG&f=1", "display_name": "Henning Heitk&#246;tter", "link": "https://stackoverflow.com/users/8913403/henning-heitk%c3%b6tter"}, "is_accepted": true, "score": 1, "last_activity_date": 1558104914, "creation_date": 1558104914, "answer_id": 56188946, "question_id": 55492054, "link": "https://stackoverflow.com/questions/55492054/how-to-get-the-etagmetadata-from-a-documentinforecord-get-call-in-sap-cloud/56188946#56188946", "title": "How to get the eTag(MetaData) from a DocumentInfoRecord get() call in SAP Cloud SDK for javascript?", "body": "<p>Since version 1.1.0, the SAP Cloud SDK for JavaScript (fka SAP S/4HANA Cloud SDK) transparently handles ETag in the background. For more information, take a look at the section on optimistic concurrency control in the <a href=\"https://blogs.sap.com/2019/04/25/new-versions-of-sap-s4hana-cloud-sdk-2.15.0-for-java-and-1.1.0-for-javascript/#javascript\" rel=\"nofollow noreferrer\">release blog</a>.</p>\n\n<p>If you update to the latest version (1.2.1 at the time of writing), you can simply retrieve the document info record, change the fields you want to change, and then update it by sending the same object to the service.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var dir = await DocumentInfoRecord.requestBuilder()\n    .getByKey(dir.documentInfoRecordDocType, dir.documentInfoRecordDocVersion, dir.documentInfoRecordDocNumber, dir.documentInfoRecordDocPart)\n    .execute({destinationName: \"MyServer\"});\ndir.responsiblePersonName = \"John Doe\";\nDocumentInfoRecord.requestBuilder()\n    .update(dir)\n    .execute({destinationName: \"MyServer\"})\n    .then(...);\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8578869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hQMDPw8EzCc/AAAAAAAAAAI/AAAAAAAADPY/wGh87xcPvBE/photo.jpg?sz=128", "display_name": "HSSE", "link": "https://stackoverflow.com/users/8578869/hsse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 1, "accepted_answer_id": 56188946, "answer_count": 2, "score": 1, "last_activity_date": 1560507281, "creation_date": 1554284738, "last_edit_date": 1560507281, "question_id": 55492054, "link": "https://stackoverflow.com/questions/55492054/how-to-get-the-etagmetadata-from-a-documentinforecord-get-call-in-sap-cloud", "title": "How to get the eTag(MetaData) from a DocumentInfoRecord get() call in SAP Cloud SDK for javascript?", "body": "<p>I use the SAP Cloud SDK for javascript to handle DocumentInfoRecords.\nAn update of a DIR caused the error 428.\nSo I need the etag of the request like in the SAP Cloud API.</p>\n\n<p>How can I get the etag from the GET request or generally header response information of each sdk request?</p>\n\n<p>GET:</p>\n\n<pre><code>DocumentInfoRecord.requestBuilder()\n.getByKey(dir.documentInfoRecordDocType, dir.documentInfoRecordDocVersion, dir.documentInfoRecordDocNumber, dir.documentInfoRecordDocPart)\n.execute({});\n</code></pre>\n\n<p>UPDATE with etag</p>\n\n<pre><code>DocumentInfoRecord.requestBuilder().update(dir).withCustomHeaders({ key: \"If-Match\", value: \"etag\" }).execute({});\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-router", "react-hooks"], "comments": [{"owner": {"reputation": 952, "user_id": 10902252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be7300e1c546eb728f78430d7e953f7?s=128&d=identicon&r=PG&f=1", "display_name": "randal", "link": "https://stackoverflow.com/users/10902252/randal"}, "edited": false, "score": 0, "creation_date": 1554284668, "post_id": 55491926, "comment_id": 97691299, "body": "i was reading something today like this. check this <a href=\"https://kevgathuku.me/2018/06/07/a-practical-use-case-for-reacts-componentdidupdate/\" rel=\"nofollow noreferrer\">kevgathuku.me/2018/06/07/&hellip;</a>"}, {"owner": {"reputation": 952, "user_id": 10902252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be7300e1c546eb728f78430d7e953f7?s=128&d=identicon&r=PG&f=1", "display_name": "randal", "link": "https://stackoverflow.com/users/10902252/randal"}, "edited": false, "score": 0, "creation_date": 1554284727, "post_id": 55491926, "comment_id": 97691324, "body": "componentDidUpdate when changing the state, sorry for not providing answer im new to react myself."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1554285575, "post_id": 55491926, "comment_id": 97691857, "body": "Do you really need a state here?"}], "answers": [{"tags": [], "owner": {"reputation": 2999, "user_id": 11067608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W843t.jpg?s=128&g=1", "display_name": "ApplePearPerson", "link": "https://stackoverflow.com/users/11067608/applepearperson"}, "is_accepted": true, "score": 4, "last_activity_date": 1554285474, "last_edit_date": 1554285474, "creation_date": 1554285003, "answer_id": 55492140, "question_id": 55491926, "link": "https://stackoverflow.com/questions/55491926/usestate-does-not-set-state-when-initalized-by-routeprops/55492140#55492140", "title": "useState does not set state when initalized by RouteProps", "body": "<p>The value you pass to <code>useState</code> will only be set once as its initial value, afterwards the parameters you give to it will be ignored. If you wish to update the text on a prop change, I recommend using <code>useEffect</code> instead. It would look like this:</p>\n\n<pre><code>useEffect(() =&gt; {\n    setText(props.match.params.text || '')\n}, [ props.match.params.text ]);\n</code></pre>\n\n<p>The function you pass as first argument to <code>useEffect</code> will execute depending on whether the values in the array you pass as second argument change. So if the text from the prop changes, it will execute the function and set the state with the new value.</p>\n"}], "owner": {"reputation": 4110, "user_id": 162003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ccc1c78844ad026990d79203c3097fa?s=128&d=identicon&r=PG", "display_name": "Erik Z", "link": "https://stackoverflow.com/users/162003/erik-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 55492140, "answer_count": 1, "score": 1, "last_activity_date": 1554285474, "creation_date": 1554284381, "question_id": 55491926, "link": "https://stackoverflow.com/questions/55491926/usestate-does-not-set-state-when-initalized-by-routeprops", "title": "useState does not set state when initalized by RouteProps", "body": "<p>I have a component that uses useState. The state is initialized with a property from RouteComponentProps. It works when I type the url in the browsers addressbar, but not when URL is changed by a Link-tag. What's the difference? How can I set the state when url is changed by the Link-tag?</p>\n\n<p>Using the code below and navigating to /test1 shows test1/test1 from the line</p>\n\n<pre><code>{text}/{props.match.params.text}\n</code></pre>\n\n<p>Pressing the link \"go\" changes the URL to /erik but shows test1/erik. Why?</p>\n\n<pre><code>interface RouteProps {\n    text: string | undefined\n}\n\nconst Test: React.FunctionComponent&lt;RouteComponentProps&lt;RouteProps&gt;&gt; = (props) =&gt; {\n    const [text, setText] = useState(props.match.params.text || '');\n\n    return (\n    &lt;div&gt;\n        &lt;h3&gt;{text}/{props.match.params.text}&lt;/h3&gt;\n        &lt;Link to=\"/erik\"&gt;Go&lt;/Link&gt;\n    &lt;/div&gt;\n    );\n}\n\nconst routes = &lt;div&gt;\n    &lt;Route path='/:text?' component={ Test } /&gt;\n&lt;/div&gt;;\n\nrender(&lt;BrowserRouter basename={process.env.PUBLIC_URL} children={ routes } /&gt;, document.getElementById('root'));\n</code></pre>\n\n<p>Here is the code in Stackblitz. <a href=\"https://stackblitz.com/edit/react-ts-c7pvsp\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-ts-c7pvsp</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2698, "user_id": 2935802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LxOY9.jpg?s=128&g=1", "display_name": "Sudhakar", "link": "https://stackoverflow.com/users/2935802/sudhakar"}, "edited": false, "score": 0, "creation_date": 1554285536, "post_id": 55491904, "comment_id": 97691825, "body": "Where u have added key and value to your fav Object?"}, {"owner": {"reputation": 18803, "user_id": 4939915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NVz1D.jpg?s=128&g=1", "display_name": "AddWeb Solution Pvt Ltd", "link": "https://stackoverflow.com/users/4939915/addweb-solution-pvt-ltd"}, "edited": false, "score": 0, "creation_date": 1554285554, "post_id": 55491904, "comment_id": 97691845, "body": "Hi,  title key and value means the title&#39;s value at the place of {{fav.value}} and key means &quot;title&quot; at the place of {{fav.key}} ?? or anything else? please explain so, that I can help you"}, {"owner": {"reputation": 1059, "user_id": 7149835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vxhwe.png?s=128&g=1", "display_name": "ZINE Mahmoud", "link": "https://stackoverflow.com/users/7149835/zine-mahmoud"}, "edited": false, "score": 0, "creation_date": 1554286519, "post_id": 55491904, "comment_id": 97692472, "body": "<code>fav.value</code> is an object  !  you still have to precise which key you want to be returned maybe : <code>fav.value.id</code> or <code>fav.value.title</code>"}, {"owner": {"reputation": 163, "user_id": 11166227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A4mjFzMDUJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4O4VruWNYNaZT06O9Kimm9Y06EA/mo/photo.jpg?sz=128", "display_name": "Conor Donohoe", "link": "https://stackoverflow.com/users/11166227/conor-donohoe"}, "edited": false, "score": 0, "creation_date": 1554286846, "post_id": 55491904, "comment_id": 97692671, "body": "Okay so fav.key Shows the number of arrays that you see in the second picture 0,1,2,3,4 etc and the value shows the object in the curley braces and what I want to do is access the keyvalue inside that object so the key is title~: and the value is &quot;RUM AWAY&quot;"}, {"owner": {"reputation": 163, "user_id": 11166227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A4mjFzMDUJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4O4VruWNYNaZT06O9Kimm9Y06EA/mo/photo.jpg?sz=128", "display_name": "Conor Donohoe", "link": "https://stackoverflow.com/users/11166227/conor-donohoe"}, "edited": false, "score": 1, "creation_date": 1554286953, "post_id": 55491904, "comment_id": 97692737, "body": "Yeah that worked thank you post it as your answer and Ill check it"}, {"owner": {"reputation": 1059, "user_id": 7149835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vxhwe.png?s=128&g=1", "display_name": "ZINE Mahmoud", "link": "https://stackoverflow.com/users/7149835/zine-mahmoud"}, "edited": false, "score": 0, "creation_date": 1554287030, "post_id": 55491904, "comment_id": 97692792, "body": "no @ConorDonohoe the value isn&#39;t RUN AWAY the value is an object that contains &quot;RUN AWAY&quot; as a title so <code>fav.value.title</code> would solve ur problem"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 11260787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afcc7dcde2f19bf3e59a70734e955ca3?s=128&d=identicon&r=PG&f=1", "display_name": "user11260787", "link": "https://stackoverflow.com/users/11260787/user11260787"}, "is_accepted": false, "score": 0, "last_activity_date": 1554285908, "creation_date": 1554285908, "answer_id": 55492452, "question_id": 55491904, "link": "https://stackoverflow.com/questions/55491904/html-displaying-objectobject/55492452#55492452", "title": "Html Displaying [Object][Object]", "body": "<p>The problem is that you are using the <code>Object.keys()</code> on the whole array, which doesn't have any keys, so it just gives you back the indexes and the object. You need to do that for each object in the array for it to work like you want it to.</p>\n"}, {"tags": [], "owner": {"reputation": 380, "user_id": 9462484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IX5dU.jpg?s=128&g=1", "display_name": "Nirali", "link": "https://stackoverflow.com/users/9462484/nirali"}, "is_accepted": false, "score": 0, "last_activity_date": 1554286539, "creation_date": 1554286539, "answer_id": 55492679, "question_id": 55491904, "link": "https://stackoverflow.com/questions/55491904/html-displaying-objectobject/55492679#55492679", "title": "Html Displaying [Object][Object]", "body": "<p>may be you need to change this function <code>getFav</code></p>\n\n<pre><code>let newFaves=[]; //declare global var like this on the top of ts file\n\ngetFav(): void {\n  this.Shared.getFav().subscribe(\n    data =&gt; {\n      this.fave = data.message;\n      this.newFaves =this.fave.map((item) =&gt; {\n        return {id: item.id, product: item.title};\n      });\n    }\n  );\n }\n</code></pre>\n\n<p>then in your html</p>\n\n<pre><code>&lt;div class=\"uk-width-small\" uk-dropdown&gt;\n          &lt;div class=\"uk-dropdown-grid uk-child-width-1-1@m\" uk-grid&gt;\n          &lt;div *ngFor=\"let fav of newFaves | keyvalue\" &gt;\n            &lt;span&gt;{{fav.value}}&lt;/span&gt;\n            &lt;span&gt;{{fav.key}}&lt;/span&gt;\n      &lt;a href=\"{{fav.key}}\"&gt;&lt;li&gt;Buy On amazon&lt;br/&gt;\n      &lt;/li&gt;&lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1059, "user_id": 7149835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vxhwe.png?s=128&g=1", "display_name": "ZINE Mahmoud", "link": "https://stackoverflow.com/users/7149835/zine-mahmoud"}, "is_accepted": true, "score": 0, "last_activity_date": 1554286642, "creation_date": 1554286642, "answer_id": 55492722, "question_id": 55491904, "link": "https://stackoverflow.com/questions/55491904/html-displaying-objectobject/55492722#55492722", "title": "Html Displaying [Object][Object]", "body": "<p>fav.value is an object ! you still have to precise which key you want to be returned \nmaybe : fav.value.id or fav.value.title</p>\n\n<pre><code>&lt;div class=\"uk-width-small\" uk-dropdown&gt;\n    &lt;div class=\"uk-dropdown-grid uk-child-width-1-1@m\" uk-grid&gt;\n        &lt;div *ngFor=\"let fav of fave | keyvalue\" &gt;\n            &lt;span&gt;{{fav.value.title}}&lt;/span&gt;\n            &lt;span&gt;{{fav.key}}&lt;/span&gt;\n            &lt;a href=\"{{fav.key}}\"&gt;\n                &lt;li&gt;Buy On amazon&lt;br/&gt;&lt;/li&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1299, "user_id": 1538285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aqFLT.jpg?s=128&g=1", "display_name": "miladfm", "link": "https://stackoverflow.com/users/1538285/miladfm"}, "is_accepted": false, "score": 0, "last_activity_date": 1554286677, "creation_date": 1554286677, "answer_id": 55492734, "question_id": 55491904, "link": "https://stackoverflow.com/questions/55491904/html-displaying-objectobject/55492734#55492734", "title": "Html Displaying [Object][Object]", "body": "<p>With <code>keyvalue</code> pipe you dont need to change <code>getFav</code>.</p>\n\n<p>value from <code>keyvalue</code> is all object <code>(e.g {id: 20, title: '...', image: '...'})</code></p>\n\n<p>so you have to tell angular witch property do you want to use.</p>\n\n<pre><code> &lt;span&gt;{{fav.value.id}}&lt;/span&gt;\n &lt;span&gt;{{fav.value.title}}&lt;/span&gt;\n &lt;img [src]=\"fav.value.image\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 11166227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A4mjFzMDUJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4O4VruWNYNaZT06O9Kimm9Y06EA/mo/photo.jpg?sz=128", "display_name": "Conor Donohoe", "link": "https://stackoverflow.com/users/11166227/conor-donohoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 55492722, "answer_count": 4, "score": 0, "last_activity_date": 1554286677, "creation_date": 1554284327, "question_id": 55491904, "link": "https://stackoverflow.com/questions/55491904/html-displaying-objectobject", "title": "Html Displaying [Object][Object]", "body": "<p>Okay so I have a an object array that gets sent from an API it shows the index position but I want the object key and value not the index position I think Im mapping the object key wrong can anyone help please</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>getFav(): void {\r\n  this.Shared.getFav().subscribe(\r\n\r\n    data =&gt; {\r\n      this.fave = data.message;\r\n      Object.keys(this.fave).map((keyName) =&gt; {\r\n        return {id: keyName, product: this.fave[keyName]};\r\n      });\r\n    }\r\n  );\r\n }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"uk-width-small\" uk-dropdown&gt;\r\n          &lt;div class=\"uk-dropdown-grid uk-child-width-1-1@m\" uk-grid&gt;\r\n          &lt;div *ngFor=\"let fav of fave | keyvalue\" &gt;\r\n            &lt;span&gt;{{fav.value}}&lt;/span&gt;\r\n            &lt;span&gt;{{fav.key}}&lt;/span&gt;\r\n      &lt;a href=\"{{fav.key}}\"&gt;&lt;li&gt;Buy On amazon&lt;br/&gt;\r\n      &lt;/li&gt;&lt;/a&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/SDDOd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDDOd.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what the Response from My API is so do I have to chnage something on the backend or can I do it on the frontend so it will just show title key and value\n<a href=\"https://i.stack.imgur.com/wxDLD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxDLD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs", "class-validator"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1554283254, "post_id": 55491137, "comment_id": 97690412, "body": "Can you add your <code>package.json</code>? It seems that you have multiple version of <code>class-validator</code> in your <code>node_modules</code>."}, {"owner": {"reputation": 998, "user_id": 8993709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f79d970224ae145b6b546107f6b572?s=128&d=identicon&r=PG&f=1", "display_name": "papillon", "link": "https://stackoverflow.com/users/8993709/papillon"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1554283665, "post_id": 55491137, "comment_id": 97690642, "body": "@KimKern I updated my answer with relevant informations concerning my <code>package.json</code>"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1554283752, "post_id": 55491137, "comment_id": 97690701, "body": "Please post your complete <code>package.json</code>. It can be a sub-dependency of another library you used."}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1554283776, "post_id": 55491137, "comment_id": 97690716, "body": "You can also try <code>npm ls class-validator</code>"}, {"owner": {"reputation": 998, "user_id": 8993709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f79d970224ae145b6b546107f6b572?s=128&d=identicon&r=PG&f=1", "display_name": "papillon", "link": "https://stackoverflow.com/users/8993709/papillon"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1554283959, "post_id": 55491137, "comment_id": 97690842, "body": "@KimKern I added the whole file + npm ls"}], "answers": [{"comments": [{"owner": {"reputation": 998, "user_id": 8993709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f79d970224ae145b6b546107f6b572?s=128&d=identicon&r=PG&f=1", "display_name": "papillon", "link": "https://stackoverflow.com/users/8993709/papillon"}, "edited": false, "score": 0, "creation_date": 1554286428, "post_id": 55491966, "comment_id": 97692409, "body": "What is <code>buildSchema</code>? Where do I find/declare it?"}, {"owner": {"reputation": 998, "user_id": 8993709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f79d970224ae145b6b546107f6b572?s=128&d=identicon&r=PG&f=1", "display_name": "papillon", "link": "https://stackoverflow.com/users/8993709/papillon"}, "edited": false, "score": 0, "creation_date": 1554286534, "post_id": 55491966, "comment_id": 97692481, "body": "(somehow, after trying what you suggested, I <b>cannot</b> manage to get <code>undefined</code> again. I reverted my code back to the version where I got <code>undefined</code> as default value, but I don&#39;t get <code>undefined</code> anymore, I get the default value, even without class-validator, and without a ValidationPipe. Wtf? That&#39;s black magic. But that&#39;s just a detail, my problem is pretty much solved it seems)"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 998, "user_id": 8993709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f79d970224ae145b6b546107f6b572?s=128&d=identicon&r=PG&f=1", "display_name": "papillon", "link": "https://stackoverflow.com/users/8993709/papillon"}, "edited": false, "score": 1, "creation_date": 1554287060, "post_id": 55491966, "comment_id": 97692810, "body": "Glad it&#39;s working for you now. :-) I&#39;ve just tried it without the <code>ValidationPipe</code> and it doesn&#39;t set default values for me. Important for setting the default value is that your dto class is actually instantiated. Otherwise it will be a plain javascript object."}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 14, "last_activity_date": 1554284488, "creation_date": 1554284488, "answer_id": 55491966, "question_id": 55491137, "link": "https://stackoverflow.com/questions/55491137/no-metadata-found-for-class-validator/55491966#55491966", "title": "No metadata found for class-validator", "body": "<p>This is because you are using <code>class-validator</code> but without any validations, see this <a href=\"https://github.com/19majkel94/type-graphql/issues/150#issuecomment-420181526\" rel=\"noreferrer\">issue</a>:</p>\n\n<blockquote>\n  <p>Basically, it warns that you don't have any metadatas in the storage,\n  which means you haven't used any decorator from class-validator. That\n  means you don't perform any validation, so you should just pass\n  <code>validate: false</code> option to <code>buildSchema</code> to disable automatic validation.</p>\n</blockquote>\n\n<p>I'm not sure if you can turn of validation for nest's <code>ValidationPipe</code>, but alternatively you can just add an assertion to your dto (if it makes sense), e.g.:</p>\n\n<pre><code>import { Min } from 'class-validator';\nexport class QueryDto {\n    @Min(1)\n    readonly limit: number = 50;\n}\n</code></pre>\n\n<hr>\n\n<p>By the way: Since your <code>@Query</code> will only have string properties, you'll probably want to transform your <code>limit</code> from <code>string</code> to <code>number</code>. Have a look at this <a href=\"https://stackoverflow.com/a/55480830/4694994\">answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1489, "user_id": 3954447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AVq0Y.jpg?s=128&g=1", "display_name": "Mathiasfc", "link": "https://stackoverflow.com/users/3954447/mathiasfc"}, "is_accepted": false, "score": 0, "last_activity_date": 1566849297, "creation_date": 1566849297, "answer_id": 57664185, "question_id": 55491137, "link": "https://stackoverflow.com/questions/55491137/no-metadata-found-for-class-validator/57664185#57664185", "title": "No metadata found for class-validator", "body": "<p>The question has already been answered, but for future reference of people with the same problem...</p>\n\n<p>The <a href=\"https://github.com/typestack/class-validator\" rel=\"nofollow noreferrer\">class-validator</a> allows you to bypass the validation of certain property (<a href=\"https://github.com/typestack/class-validator#whitelisting\" rel=\"nofollow noreferrer\"><strong>whitelisting</strong></a>) special flags to validate any property.</p>\n\n<p>As the <a href=\"https://github.com/typestack/class-validator#whitelisting\" rel=\"nofollow noreferrer\">docs</a>: </p>\n\n<blockquote>\n  <p>This will strip all properties that don't have any decorators. If no\n  other decorator is suitable for your property, you can use <strong>@Allow</strong>\n  decorator</p>\n</blockquote>\n\n<p>e.g:</p>\n\n<pre><code>import {validate, Allow, Min} from \"class-validator\";\n\nexport class Post {\n\n    @Allow()\n    title: string;\n\n    @Min(0)\n    views: number;\n\n    nonWhitelistedProperty: number;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 556, "user_id": 3687902, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FgRy0.jpg?s=128&g=1", "display_name": "matt", "link": "https://stackoverflow.com/users/3687902/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1613130584, "creation_date": 1613130584, "answer_id": 66171357, "question_id": 55491137, "link": "https://stackoverflow.com/questions/55491137/no-metadata-found-for-class-validator/66171357#66171357", "title": "No metadata found for class-validator", "body": "<p>This is my <strong>bootstrap</strong>, it works with <em>class-validator</em>:</p>\n<pre><code>async function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalPipes(new ValidationPipe());\n  await app.listen(3000);\n}\nbootstrap();\n</code></pre>\n"}], "owner": {"reputation": 998, "user_id": 8993709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f79d970224ae145b6b546107f6b572?s=128&d=identicon&r=PG&f=1", "display_name": "papillon", "link": "https://stackoverflow.com/users/8993709/papillon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6798, "favorite_count": 1, "accepted_answer_id": 55491966, "answer_count": 3, "score": 9, "last_activity_date": 1613130584, "creation_date": 1554282084, "last_edit_date": 1554286804, "question_id": 55491137, "link": "https://stackoverflow.com/questions/55491137/no-metadata-found-for-class-validator", "title": "No metadata found for class-validator", "body": "<p>I am trying to use a <code>ValidationPipe</code> but no matter how I write my code I get the following warning when sending a request: <code>No metadata found. There is more than once class-validator version installed probably. You need to flatten your dependencies</code>.</p>\n\n<p>My route looks something like this:</p>\n\n<pre><code>@Get()\n@UsePipes(new ValidationPipe({ transform: true }))\nasync findAll(@Query() queryDto: QueryDto) {\n    return await this.myService.findAll(queryDto);\n}\n</code></pre>\n\n<p>And my DTO looks something like this:</p>\n\n<pre><code>export class queryDto\n{\n    @ApiModelProperty({\n        description: 'Maximum number of results',\n        type: Number,\n        example: 50,\n        default: 50,\n        required: false\n    })\n    readonly limit: number = 50;\n}\n</code></pre>\n\n<p>I tried using the <code>ValidationPipe</code> several ways, following <a href=\"https://docs.nestjs.com/pipes\" rel=\"noreferrer\">the doc</a>, but nothing works for me. I know it does not work because although the request gets a response, the default value that I wrote in my DTO for the property <code>limit</code>, which is <code>50</code>, is not used when the query is empty. Therefore, when no <code>limit</code> is provided in the query, <code>limit</code>'s value is undefined, whereas it should be <code>50</code> (which means the <code>ValidationPipe</code> is not used).</p>\n\n<p>My <code>package.json</code> seems correct:</p>\n\n<pre><code>npm ls class-validator\napi-sport@0.0.1 /home/pierre_t/Bureau/dev/ApiSport\n\u2514\u2500\u2500 class-validator@0.9.1\n</code></pre>\n\n<p>Full <code>package.json</code>:</p>\n\n<pre><code>{\n  \"name\": \"api-sport\",\n  \"version\": \"0.0.1\",\n  \"description\": \"\",\n  \"author\": \"\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"build\": \"tsc -p tsconfig.build.json\",\n    \"format\": \"prettier --write \\\"src/**/*.ts\\\"\",\n    \"start\": \"ts-node -r tsconfig-paths/register src/main.ts\",\n    \"start:dev\": \"nodemon\",\n    \"start:debug\": \"nodemon --config nodemon-debug.json\",\n    \"start:prod\": \"pm2 start ./src/main.js --no-daemon\",\n    \"lint\": \"tslint -p tsconfig.json -c tslint.json\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:cov\": \"jest --coverage\",\n    \"test:debug\": \"node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand\",\n    \"test:e2e\": \"jest --config ./test/jest-e2e.json\"\n  },\n  \"dependencies\": {\n    \"@nestjs/common\": \"^6.0.5\",\n    \"@nestjs/core\": \"^6.0.5\",\n    \"@nestjs/platform-express\": \"^6.0.5\",\n    \"@nestjs/swagger\": \"^3.0.1\",\n    \"@nestjs/typeorm\": \"^6.0.0\",\n    \"@types/lodash\": \"^4.14.123\",\n    \"class-transformer\": \"^0.2.0\",\n    \"class-validator\": \"^0.9.1\",\n    \"dotenv\": \"^7.0.0\",\n    \"hbs\": \"^4.0.3\",\n    \"mysql\": \"^2.16.0\",\n    \"pm2\": \"^3.4.1\",\n    \"reflect-metadata\": \"^0.1.12\",\n    \"rimraf\": \"^2.6.2\",\n    \"rxjs\": \"^6.3.3\",\n    \"swagger-ui-express\": \"^4.0.2\",\n    \"typeorm\": \"^0.2.16\"\n  },\n  \"devDependencies\": {\n    \"@nestjs/testing\": \"^6.0.5\",\n    \"@types/express\": \"^4.16.0\",\n    \"@types/jest\": \"^23.3.13\",\n    \"@types/node\": \"^10.14.4\",\n    \"@types/supertest\": \"^2.0.7\",\n    \"jest\": \"^23.6.0\",\n    \"nodemon\": \"^1.18.9\",\n    \"prettier\": \"^1.15.3\",\n    \"supertest\": \"^3.4.1\",\n    \"ts-jest\": \"^23.10.5\",\n    \"ts-node\": \"^7.0.1\",\n    \"tsconfig-paths\": \"^3.7.0\",\n    \"tslint\": \"5.12.1\",\n    \"typescript\": \"^3.4.1\"\n  },\n  \"jest\": {\n    \"moduleFileExtensions\": [\n      \"js\",\n      \"json\",\n      \"ts\"\n    ],\n    \"rootDir\": \"src\",\n    \"testRegex\": \".spec.ts$\",\n    \"transform\": {\n      \"^.+\\\\.(t|j)s$\": \"ts-jest\"\n    },\n    \"coverageDirectory\": \"../coverage\",\n    \"testEnvironment\": \"node\"\n  }\n}\n</code></pre>\n\n<p>Why do I get this message and how can I use <code>ValidationPipe</code>?</p>\n"}, {"tags": ["javascript", "typescript", "random"], "comments": [{"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1554281623, "post_id": 55490884, "comment_id": 97689419, "body": "This is not C where you have to use time as seed. You can use <code>Math.random()</code> (which is probably time-seeded too, but it&#39;s way better than your approach)"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1554281704, "post_id": 55490884, "comment_id": 97689473, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/196017/unique-non-repeating-random-numbers-in-o1\">Unique (non-repeating) random numbers in O(1)?</a>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1554281765, "post_id": 55490884, "comment_id": 97689519, "body": "Also relevant: <a href=\"https://stackoverflow.com/questions/2380019/generate-unique-random-numbers-between-1-and-100\" title=\"generate unique random numbers between 1 and 100\">stackoverflow.com/questions/2380019/&hellip;</a> althought the accepted answer is not the best."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1554281834, "post_id": 55490884, "comment_id": 97689559, "body": "@CristianTra&#236;na <code>Math.random()</code> is not guaranteed to give you unique numbers. I really don&#39;t know why this needs to be repeated so many times..."}, {"owner": {"reputation": 5154, "user_id": 5860648, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BTilf.jpg?s=128&g=1", "display_name": "sjahan", "link": "https://stackoverflow.com/users/5860648/sjahan"}, "edited": false, "score": 0, "creation_date": 1554282170, "post_id": 55490884, "comment_id": 97689773, "body": "This will deal with uniqueness <a href=\"https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\">Create GUID / UUID in JavaScript?</a>, then you can transform it to a number if you need another format, but I think the uniqueness spirit should come from overthere ;)"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1554282191, "post_id": 55490884, "comment_id": 97689788, "body": "Another option is to generate a <a href=\"https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\">globally unique identifier (GUID)</a>. Technically, they <i>could</i> clash but chances are astronomically low."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1554282532, "post_id": 55490884, "comment_id": 97689998, "body": "Yet another consideration - do you really need <i>random</i> values or <i>distinct</i> values? Because you could use a timestamp - then the value would not overlap with another. But it&#39;s not &quot;random&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 11085316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd6fac50e8fe614cfa5dacb02c4d5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Shumar", "link": "https://stackoverflow.com/users/11085316/mr-shumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1554281594, "creation_date": 1554281594, "answer_id": 55490966, "question_id": 55490884, "link": "https://stackoverflow.com/questions/55490884/generate-unique-random-numbers-in-javascript-or-typescript/55490966#55490966", "title": "Generate unique random numbers in javascript or typescript", "body": "<p>There are many examples around internet. You can start with using <code>Math.random()</code>\n. For example: generate random number between 1 and 100</p>\n\n<pre><code>Math.floor((Math.random() * 100) + 1);\n</code></pre>\n\n<p>Just keep in mind that it is not truly random; <strong>it is not cryptographically secure</strong>. You should probably look into libraries if you need that</p>\n"}, {"comments": [{"owner": {"reputation": 112, "user_id": 5509328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2_QnhRJXw-M/AAAAAAAAAAI/AAAAAAAAAFo/RAJ6qGYqRQ4/photo.jpg?sz=128", "display_name": "Kuldeep singh", "link": "https://stackoverflow.com/users/5509328/kuldeep-singh"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1554282245, "post_id": 55490979, "comment_id": 97689828, "body": "var datetimestamp = Date.now() + Math.random().toString(36).substr(2, 9);"}], "tags": [], "owner": {"reputation": 112, "user_id": 5509328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2_QnhRJXw-M/AAAAAAAAAAI/AAAAAAAAAFo/RAJ6qGYqRQ4/photo.jpg?sz=128", "display_name": "Kuldeep singh", "link": "https://stackoverflow.com/users/5509328/kuldeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1554282295, "last_edit_date": 1554282295, "creation_date": 1554281624, "answer_id": 55490979, "question_id": 55490884, "link": "https://stackoverflow.com/questions/55490884/generate-unique-random-numbers-in-javascript-or-typescript/55490979#55490979", "title": "Generate unique random numbers in javascript or typescript", "body": "<p>var datetimestamp = Date.now() + Math.random().toString(36).substr(2, 9);</p>\n"}, {"tags": [], "owner": {"reputation": 463, "user_id": 7666454, "user_type": "registered", "profile_image": "https://graph.facebook.com/1115196405274813/picture?type=large", "display_name": "Dennis Spierenburg", "link": "https://stackoverflow.com/users/7666454/dennis-spierenburg"}, "is_accepted": false, "score": 0, "last_activity_date": 1554282412, "creation_date": 1554282412, "answer_id": 55491252, "question_id": 55490884, "link": "https://stackoverflow.com/questions/55490884/generate-unique-random-numbers-in-javascript-or-typescript/55491252#55491252", "title": "Generate unique random numbers in javascript or typescript", "body": "<p>Create a function that returns a unique number:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let numbers = [];\n\nconst uniqueNumber = (maxVal) =&gt; {\n   const number = Math.floor((Math.random() * maxVal) + 1);\n   if (!numbers.includes(number)) {\n      numbers.push(number);\n      return number;\n   } else if (numbers.length - 1 !== maxVal) {\n      uniqueNumber(maxVal);\n   }\n}\n\nconst randomNumber = uniqueNumber(100);\nconsole.log(numbers) // returns all unique numbers\n</code></pre>\n\n<p>This will return a unqiue number between 1 and 100. It also stops at the max length.</p>\n"}, {"tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": false, "score": 0, "last_activity_date": 1554282482, "creation_date": 1554282482, "answer_id": 55491277, "question_id": 55490884, "link": "https://stackoverflow.com/questions/55490884/generate-unique-random-numbers-in-javascript-or-typescript/55491277#55491277", "title": "Generate unique random numbers in javascript or typescript", "body": "<ol>\n<li><p>Math.random() in itself should be safe enough, what with 64-bit numbers. Even with imperfect generator, the chances of hitting the same number twice are minuscule.</p></li>\n<li><p>If you're after specifically integers, then multiply Math.random() by something BIG, like <code>Number.MAX_SAFE_INTEGER</code>.</p></li>\n<li><p>To be perfectly safe, you can always store an array of already used ids, and write a function that draws as long as gets a new unique number, pushes it into array, and returns the value. Enclose all that functionality inside a single object/function/class, to keep it neat.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 0, "last_activity_date": 1554299616, "last_edit_date": 1554299616, "creation_date": 1554298569, "answer_id": 55496544, "question_id": 55490884, "link": "https://stackoverflow.com/questions/55490884/generate-unique-random-numbers-in-javascript-or-typescript/55496544#55496544", "title": "Generate unique random numbers in javascript or typescript", "body": "<p>You can use the package <a href=\"https://www.npmjs.com/package/uuid\" rel=\"nofollow noreferrer\">uuid</a>:</p>\n\n<pre><code>const uuidv4 = require('uuid/v4');\nuuidv4(); // \u21e8 '10ba038e-48da-487b-96e8-8d3b99b6d18a'\n</code></pre>\n\n<p>Notice: It is a number (a 128-bit number) but it is too big to be used as a JavaScript number. You have to keep it as a string.</p>\n\n<p>If you need it on the browser, I suggest to generate the identifier from an API exposed on your back-end. Implementations of UUID exist in most of languages. The npm package will work on browsers but then it uses <a href=\"https://github.com/kelektiv/node-uuid/issues/173\" rel=\"nofollow noreferrer\">a fallback to Math.random</a>, which is not secure.</p>\n\n<p>See also: <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">Universally unique identifier</a>.</p>\n"}], "owner": {"reputation": 9130, "user_id": 693560, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e71609811ad09d2eba439b051790fbc7?s=128&d=identicon&r=PG", "display_name": "Bronzato", "link": "https://stackoverflow.com/users/693560/bronzato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3319, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1561821993, "creation_date": 1554281349, "last_edit_date": 1561821993, "question_id": 55490884, "link": "https://stackoverflow.com/questions/55490884/generate-unique-random-numbers-in-javascript-or-typescript", "title": "Generate unique random numbers in javascript or typescript", "body": "<p>I need to get unique random number in javascript (or Typescript).</p>\n\n<p>At this moment I use this code:</p>\n\n<pre><code>var id = -((new Date()).getTime() &amp; 0xffff);\n</code></pre>\n\n<p>It returns me numbers like <code>-13915</code> or <code>-28806</code> ...</p>\n\n<p>It works most of the time but I am having problems when this code is executed in promises (so nearly multiple times at the same time). Then sometimes I got two identical id.</p>\n\n<p>Is there any solution to get unique random numbers in any case ?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10968065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GEFwmn3sCbg/AAAAAAAAAAI/AAAAAAAAAA4/S2hCgr7dNhA/photo.jpg?sz=128", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10968065/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1554283872, "post_id": 55491412, "comment_id": 97690785, "body": "Please look at comment below which I wrote. It is some different situation in my case. I tried also Date.parse it does not work."}, {"owner": {"reputation": 45, "user_id": 10968065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GEFwmn3sCbg/AAAAAAAAAAI/AAAAAAAAAA4/S2hCgr7dNhA/photo.jpg?sz=128", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10968065/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1554287672, "post_id": 55491412, "comment_id": 97693176, "body": "I don&#39;t want to check if Date is valid or not. I just want if is date then show my custom date format otherwise other properties, This values are dynamic which I grab from json using JSON.parse so it converts to string old values and new values. I just need conversion not validity."}, {"owner": {"reputation": 295, "user_id": 6713321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dSYXJ.jpg?s=128&g=1", "display_name": "Tilak Dewangan", "link": "https://stackoverflow.com/users/6713321/tilak-dewangan"}, "reply_to_user": {"reputation": 45, "user_id": 10968065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GEFwmn3sCbg/AAAAAAAAAAI/AAAAAAAAAA4/S2hCgr7dNhA/photo.jpg?sz=128", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10968065/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1554288230, "post_id": 55491412, "comment_id": 97693504, "body": "Could you please create your scenario in stackblitz?"}, {"owner": {"reputation": 45, "user_id": 10968065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GEFwmn3sCbg/AAAAAAAAAAI/AAAAAAAAAA4/S2hCgr7dNhA/photo.jpg?sz=128", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10968065/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1554289113, "post_id": 55491412, "comment_id": 97694065, "body": "please look at this image [link]<a href=\"https://imgur.com/uAS8hoO\" rel=\"nofollow noreferrer\">imgur.com/uAS8hoO</a>   I want to show my data like Modified Date column but as you see in old and new value date field returns dummy string. I need somehow change it inside my function why not in html cause of this values are dynamic and I get data using anonomyous properties."}], "tags": [], "owner": {"reputation": 295, "user_id": 6713321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dSYXJ.jpg?s=128&g=1", "display_name": "Tilak Dewangan", "link": "https://stackoverflow.com/users/6713321/tilak-dewangan"}, "is_accepted": false, "score": 0, "last_activity_date": 1554286499, "last_edit_date": 1554286499, "creation_date": 1554282892, "answer_id": 55491412, "question_id": 55490622, "link": "https://stackoverflow.com/questions/55490622/how-to-define-custom-property-on-typescript-and-use-it-with-anonymous-object/55491412#55491412", "title": "How to define custom property on typescript and use it with anonymous object?", "body": "<p>Use <code>Date.parse()</code>. Pass your date string into <code>Date.parse()</code> and if it returns a number then date string is a valid date. Something like this: -</p>\n\n<pre><code>if(isNaN(Date.parse(\"Tue Mar 26 00:00:00 GMT 2019\"))){\n     console.log(\"Invalid Date\");\n}\nelse {\n    console.log(\"Valid Date\")\n}\n</code></pre>\n\n<p><strong>or</strong>  </p>\n\n<pre><code>var isDateValue =  (new Date(date) !== \"Invalid Date\") &amp;&amp; !isNaN(new Date(date));\n</code></pre>\n\n<p>Let me know if it works for you or otherwise.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 10968065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GEFwmn3sCbg/AAAAAAAAAAI/AAAAAAAAAA4/S2hCgr7dNhA/photo.jpg?sz=128", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10968065/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1554283611, "post_id": 55491484, "comment_id": 97690613, "body": "So in my case jsonChanges just simple string in side of back end. My getAuditTrail() method returns PaginatedReponse class which is helper class for all services. lstRecords: Array&lt;T&gt;, totalItems: number. I just send http get request and fetch data from database. For showing data there is no problem. I just need to check if oldValue &amp; newValue are Date and show appropriate custom format. For timstamp I use just simple date pipe in my html. But jsonchanges property is dynamic not static.More detail We have 2 tables if user changes something it automatically saving to new table which I get data"}], "tags": [], "owner": {"reputation": 256, "user_id": 674722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1c4b3eb18f9331695fa94843e7fdfc?s=128&d=identicon&r=PG", "display_name": "paztek", "link": "https://stackoverflow.com/users/674722/paztek"}, "is_accepted": false, "score": 0, "last_activity_date": 1554283070, "creation_date": 1554283070, "answer_id": 55491484, "question_id": 55490622, "link": "https://stackoverflow.com/questions/55490622/how-to-define-custom-property-on-typescript-and-use-it-with-anonymous-object/55491484#55491484", "title": "How to define custom property on typescript and use it with anonymous object?", "body": "<p>If your AuditTrailService is using the HttpClient of Angular, then you can provide an interface for your JSON HTTP response.\nProbably something like:</p>\n\n<pre><code>interface AuditTrailResponse {\n    recordsCount: number;\n    lstRecords: AuditTrailRecord[];\n}\n</code></pre>\n\n<p>And in your AuditTrailService use the following notation:\n<code>this.httpClient.get&lt;AuditTrailResponse&gt;('the/url/of/your/endpoint', { your: params })</code></p>\n\n<p>This way, <code>result</code> will be a <code>AuditTrailResponse</code> instead of <code>any</code>.</p>\n\n<p>I don't fully understand the line which parses your interpolated string to JSON and AFAIK <code>JSON.parse()</code> does not produce Date objects so your <code>oldValue instanceof Date</code> check a few lines below should never be true.</p>\n\n<p>But you can provide the interface:</p>\n\n<pre><code>interface JSChange {\n    userName: string;\n    timestamp: number;\n    entityName: string;\n    oldValue: string | Date;\n    newValue: string | Date;\n}\n</code></pre>\n\n<p>and if you're really sure your <code>z</code> argument complies with the interface, perform a cast to this interface.</p>\n"}], "owner": {"reputation": 45, "user_id": 10968065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GEFwmn3sCbg/AAAAAAAAAAI/AAAAAAAAAA4/S2hCgr7dNhA/photo.jpg?sz=128", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10968065/arzu-suleymanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554286499, "creation_date": 1554280535, "last_edit_date": 1554282301, "question_id": 55490622, "link": "https://stackoverflow.com/questions/55490622/how-to-define-custom-property-on-typescript-and-use-it-with-anonymous-object", "title": "How to define custom property on typescript and use it with anonymous object?", "body": "<p>I created my own custom getDate() method in my Angular component</p>\n\n<pre><code>getDate(date: Date){\n    return date.format(\"dd-MMMM-yyyy HH:mm\").toString();\n}\n</code></pre>\n\n<p>I getting string JSON data from the database. This JSON is something like this</p>\n\n<p>`</p>\n\n<pre><code> \"{\"field\":\"date\",\"oldValue\":\"Mon Mar 25 00:00:00 GMT 2019\",\"newValue\":\"Tue Mar 26 00:00:00 GMT 2019\"},  {\"field\":\"techniqueType\",\"oldValue\":\"Intra\",\"newValue\":\"Intralesional\"}\n</code></pre>\n\n<p>`</p>\n\n<p>My getList method looks like</p>\n\n<pre><code>    getList(patientId?: number, pageNo?: number) {\n       const auditTrailSubscription = \n         this._auditTrailService.getAuditTrailUrl(patientId, pageNo, \n         GridConfig.ITEMS_PER_PAGE)\n          .subscribe(\n            result =&gt; {\n            try {\n              this.results = [];\n              this.totalItems = result.recordsCount;\n              this.auditTrailList = result.lstRecords;\n              this.auditTrailList.forEach(x =&gt; {\n              let jschanges = JSON.parse(`[${x.jsonChanges}]`);\n              jschanges.forEach(z =&gt; {\n                this.results.push({\n                  userName: x.userName,\n                  timestamp: x.timestamp,\n                  entityName: x.entityName,\n                  field: z.field,\n                  oldValue: z.oldValue instanceof Date ? \n                        this.getDate(z.oldValue) : z.oldValue,\n                  newValue: z.newValue instanceof Date ? \n                     this.getDate(z.newValue) : z.newValue\n                });\n              });\n            });\n          } catch (e) {\n            console.log(e);\n          }\n        },\n        err =&gt; {\n          this.handleError(err);\n        }\n      );\n\n    this.addSubscription(\"auditTrail\", auditTrailSubscription);\n  }\n</code></pre>\n\n<p>Html file</p>\n\n<pre><code>    &lt;tr *ngFor=\"let at of results | paginate: { itemsPerPage: \n         _ITEMS_PER_PAGE, currentPage: crtPage, totalItems: totalItems }\"\n        [attr.data-row-id]=\"at.userId\"&gt;\n        &lt;td&gt;{{ at.userName }}&lt;/td&gt;\n        &lt;td&gt;{{ at.timestamp ? (at.timestamp | date: \n        AUDIT_TRAIL_DATE_TIME_FORMAT  ) :  'Unknown' }}&lt;/td&gt;\n        &lt;td&gt;{{ at.entityName }}&lt;/td&gt;\n        &lt;td&gt;{{ at.field | titlecase  }}&lt;/td&gt;\n        &lt;td&gt;{{ at.oldValue }}&lt;/td&gt;\n        &lt;td&gt;{{ at.newValue }}&lt;/td&gt;\n      &lt;/tr&gt;\n</code></pre>\n\n<p>So I need to use my custom getDate() method and check if oldValue and newValue is the type of Date then use getDate() custom method otherwise just return other value.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1616, "user_id": 2144391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LIiyg.jpg?s=128&g=1", "display_name": "Moddaman", "link": "https://stackoverflow.com/users/2144391/moddaman"}, "edited": false, "score": 0, "creation_date": 1554708704, "post_id": 55493360, "comment_id": 97835549, "body": "Do you know why it is not recommended? I think it nicer/easier to read e.g. date.addDay() and date.isToday() than addDay(date) and isToday(date)."}], "tags": [], "owner": {"reputation": 1203, "user_id": 190296, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/467893969a8740d363c40413bb48c133?s=128&d=identicon&r=PG", "display_name": "Schroedinger", "link": "https://stackoverflow.com/users/190296/schroedinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1554288588, "creation_date": 1554288588, "answer_id": 55493360, "question_id": 55490618, "link": "https://stackoverflow.com/questions/55490618/extended-date-type-says-function-not-found/55493360#55493360", "title": "Extended Date type says function not found", "body": "<p>Method extension really isn't recommended in Typescript and Javascript, my recommendation is to make an exported function that takes a date and returns a boolean, something like this:</p>\n\n<pre><code>const isToday = (date: Date): boolean =&gt; {\n  const now = new Date();\n  const inputDay = date.getDay();\n  const inputMonth = date.getMonth();\n  const inputYear = date.getFullYear();\n\n  const nowDay = now.getDay();\n  const nowMonth = now.getMonth();\n  const nowYear = now.getFullYear();\n  return (\n    nowDay === inputDay &amp;&amp; nowMonth === inputMonth &amp;&amp; nowYear === inputYear\n  );\n};\n</code></pre>\n"}], "owner": {"reputation": 1616, "user_id": 2144391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LIiyg.jpg?s=128&g=1", "display_name": "Moddaman", "link": "https://stackoverflow.com/users/2144391/moddaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554288588, "creation_date": 1554280520, "question_id": 55490618, "link": "https://stackoverflow.com/questions/55490618/extended-date-type-says-function-not-found", "title": "Extended Date type says function not found", "body": "<p>I found this gist on useful date extensions: <a href=\"https://gist.github.com/weslleih/b6e7628416a052963349494747aed659\" rel=\"nofollow noreferrer\">https://gist.github.com/weslleih/b6e7628416a052963349494747aed659</a></p>\n\n<p>When I try to use the functions I get a runtime error saying:</p>\n\n<blockquote>\n  <p>TypeError: x.isToday is not a function</p>\n</blockquote>\n\n<p>It works if I import the extensions in the file were i use them like this:</p>\n\n<blockquote>\n  <p>import 'src/date.extensions';</p>\n</blockquote>\n\n<p>The is seems to hacky. Because how does the next person know that this needs to be imported in order to make the date extension method work.</p>\n\n<p>Does anyone have a better solution? </p>\n\n<p>(or maybe this is the wrong approach. I'am used to C# were extending methods is done frequently)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1554279985, "post_id": 55490094, "comment_id": 97688475, "body": "Could you try to expand your example a little? Maybe a full component that demonstrates the problem. A few details are missing here that make it hard to see what&#39;s causing it."}, {"owner": {"reputation": 4335, "user_id": 2131598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c1db47dcbdcf9281a5a348d54d223b9e?s=128&d=identicon&r=PG", "display_name": "artooras", "link": "https://stackoverflow.com/users/2131598/artooras"}, "reply_to_user": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1554280826, "post_id": 55490094, "comment_id": 97688940, "body": "Hi @MadaraUchiha. The component is quite big and complex, so I wanted to avoid pasting all the irrelevant bits. However, I have added also the interface for <code>props</code> as well as how I&#39;m asserting the types on the component."}, {"owner": {"reputation": 4335, "user_id": 2131598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c1db47dcbdcf9281a5a348d54d223b9e?s=128&d=identicon&r=PG", "display_name": "artooras", "link": "https://stackoverflow.com/users/2131598/artooras"}, "reply_to_user": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1554280994, "post_id": 55490094, "comment_id": 97689053, "body": "I just noticed that if I assert <code>State</code> type on state additionally like so - <code>state: State = { completed: false, selectedTask: undefined }</code> - then the warning goes away. Any idea why the <code>React.Component&lt;Props, State&gt;</code> assertion wasn&#39;t sufficient?"}, {"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1554281155, "post_id": 55490094, "comment_id": 97689160, "body": "You don&#39;t need to paste the entire component here, try to reproduce the problem with a simpler component (say, just a simple state and a simple render function). If it doesn&#39;t reproduce, it will give you a clue that something else is wrong :)"}], "answers": [{"comments": [{"owner": {"reputation": 4335, "user_id": 2131598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c1db47dcbdcf9281a5a348d54d223b9e?s=128&d=identicon&r=PG", "display_name": "artooras", "link": "https://stackoverflow.com/users/2131598/artooras"}, "edited": false, "score": 0, "creation_date": 1554282031, "post_id": 55490987, "comment_id": 97689686, "body": "Aaah, I see, so <code>selectedTask?: TaskType</code> was after all NOT equivalent to <code>selectedTask: TaskType | undefined</code>. Thanks for your help!"}], "tags": [], "owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "is_accepted": true, "score": 0, "last_activity_date": 1554281661, "creation_date": 1554281661, "answer_id": 55490987, "question_id": 55490094, "link": "https://stackoverflow.com/questions/55490094/does-typescript-take-into-account-condition-checking/55490987#55490987", "title": "Does Typescript take into account condition checking?", "body": "<p><code>undefined</code> is not a valid value to assign to <code>selectedTask</code>. Your <code>State</code> interface is as follows</p>\n\n<pre><code>interface State {\n  completed: boolean\n  selectedTask?: TaskType\n}\n</code></pre>\n\n<p>This means that a <code>TaskType</code> may be assigned to <code>selectedTask</code>, or <code>selectedTask</code> may be missing altogether. But assinging <code>undefined</code> to it is an error (Unless <code>TaskType</code> itself is <code>Something | undefined</code>).</p>\n\n<p>Change your interface to <code>selectedTask: TaskType | undefined</code>, this makes it so the <code>selectedTask</code> key must exist on the state object, but the value might also be <code>undefined</code>.</p>\n"}], "owner": {"reputation": 4335, "user_id": 2131598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c1db47dcbdcf9281a5a348d54d223b9e?s=128&d=identicon&r=PG", "display_name": "artooras", "link": "https://stackoverflow.com/users/2131598/artooras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55490987, "answer_count": 1, "score": 0, "last_activity_date": 1554281661, "creation_date": 1554278938, "last_edit_date": 1554280607, "question_id": 55490094, "link": "https://stackoverflow.com/questions/55490094/does-typescript-take-into-account-condition-checking", "title": "Does Typescript take into account condition checking?", "body": "<p>I have this weird TypeScript compile warning that I cannot get rid of, although I think it shouldn't even be there...</p>\n\n<p>These are the interfaces:</p>\n\n<pre><code>interface Props {\n  tasks: TaskType[]\n}\n\ninterface State {\n  completed: boolean\n  selectedTask?: TaskType\n}\n</code></pre>\n\n<p>This is the initiation of state - I start with <code>undefined</code>, but in other places in my code an actual value of type <code>TaskType</code> can be assigned:</p>\n\n<pre><code>class TaskBlock extends React.Component&lt;Props, State&gt; {\n\n  state = {\n    completed: false,\n    selectedTask: undefined\n  }\n</code></pre>\n\n<p>This is where I get the warning in my <code>render</code> method:</p>\n\n<pre><code>const {selectedTask} = this.state\n...\nconst isSelected = selectedTask &amp;&amp; selectedTask.id === task.id\n</code></pre>\n\n<p>The warning message is here:\n<a href=\"https://i.stack.imgur.com/nfNID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfNID.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, just before the <code>selectedTask.id</code> statement I am checking that <code>selectedTask</code> is NOT undefined. But TypeScript says the object is possibly 'undefined'. Doesn't make sense...</p>\n\n<p>Am I missing something obvious?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1554277971, "post_id": 55489782, "comment_id": 97687294, "body": "what version of angular are you using?  Do you use angular/cli?"}, {"owner": {"reputation": 180, "user_id": 7539158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TtvtI.jpg?s=128&g=1", "display_name": "Naieem Mahmud Supto", "link": "https://stackoverflow.com/users/7539158/naieem-mahmud-supto"}, "edited": false, "score": 1, "creation_date": 1554277983, "post_id": 55489782, "comment_id": 97687304, "body": "Did you install it using &quot;npm install @syncfusion/ej2-angular-calendars&quot; ? The error says that module not found int he node_modules folder of  your project."}, {"owner": {"reputation": 827, "user_id": 2343313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2fef79fe1fe25b5421cd132a3bb8cf0f?s=128&d=identicon&r=PG", "display_name": "marco burrometo", "link": "https://stackoverflow.com/users/2343313/marco-burrometo"}, "edited": false, "score": 0, "creation_date": 1554278073, "post_id": 55489782, "comment_id": 97687353, "body": "I installed it in my library... i&#39;m using angular 7 and cli only in the lib"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1554278526, "post_id": 55489782, "comment_id": 97687618, "body": "I had a similar problem with <i>moment.js</i>  Did you add it to <code>ng-package.json</code>&#39;s <code>umdModuleIds</code> array?  I additionally hat to tweak my imports to <code>import * as momentNs from &#39;moment&#39;; export const moment = momentNs;</code>  Maybe that helps"}, {"owner": {"reputation": 827, "user_id": 2343313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2fef79fe1fe25b5421cd132a3bb8cf0f?s=128&d=identicon&r=PG", "display_name": "marco burrometo", "link": "https://stackoverflow.com/users/2343313/marco-burrometo"}, "reply_to_user": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1554279355, "post_id": 55489782, "comment_id": 97688107, "body": "@Arikael so you added &quot;lib&quot;: {     &quot;umdModuleIds&quot;: {       &quot;moment&quot;: &quot;momentNS&quot;,  ?"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1554279537, "post_id": 55489782, "comment_id": 97688212, "body": "no, &quot;moment&quot;: &quot;moment&quot;, see <a href=\"https://github.com/ng-packagr/ng-packagr/blob/master/docs/dependencies.md\" rel=\"nofollow noreferrer\">github.com/ng-packagr/ng-packagr/blob/master/docs/&hellip;</a>   But I think the real culprit was the import in my case.  <code>momentNs</code> is just the the temporary imported <code>momentjs</code> namespace"}, {"owner": {"reputation": 827, "user_id": 2343313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2fef79fe1fe25b5421cd132a3bb8cf0f?s=128&d=identicon&r=PG", "display_name": "marco burrometo", "link": "https://stackoverflow.com/users/2343313/marco-burrometo"}, "edited": false, "score": 0, "creation_date": 1554286849, "post_id": 55489782, "comment_id": 97692673, "body": "Nope... i tryed but with no luck"}], "owner": {"reputation": 827, "user_id": 2343313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2fef79fe1fe25b5421cd132a3bb8cf0f?s=128&d=identicon&r=PG", "display_name": "marco burrometo", "link": "https://stackoverflow.com/users/2343313/marco-burrometo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 780, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554277839, "creation_date": 1554277839, "question_id": 55489782, "link": "https://stackoverflow.com/questions/55489782/include-external-package-in-angular-components-library", "title": "Include external package in angular components library", "body": "<p>I need to use an external library in my angular components library project.</p>\n\n<p>So, after importing the module in a component module i'll use it in the component:</p>\n\n<pre><code>import { CalendarModule } from '@syncfusion/ej2-angular-calendars';\n....\n@NgModule({\ndeclarations: [ MyInputComponent ],\n  imports: [\n    CommonModule, CalendarModule\n  ],\n  exports: [ MyInputComponent ]\n})\nexport class MyInputModule {}\n</code></pre>\n\n<p>It builds perfectly but when i include the library in a project i got this error:</p>\n\n<pre><code>ERROR in ../my-components/dist/my-components/fesm5/my-components.js\nModule not found: Error: Can't resolve '@syncfusion/ej2-angular-calendars' in '/Users/.../Dev/ui-components/dist/ui-components/fesm5'\n</code></pre>\n\n<p>I can't understand what i am doing wrong...</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "module"], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 190296, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/467893969a8740d363c40413bb48c133?s=128&d=identicon&r=PG", "display_name": "Schroedinger", "link": "https://stackoverflow.com/users/190296/schroedinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1554288743, "creation_date": 1554288743, "answer_id": 55493418, "question_id": 55489557, "link": "https://stackoverflow.com/questions/55489557/typescript-compileroptions-outdir-and-non-ts-modules/55493418#55493418", "title": "Typescript: compilerOptions.outDir and non-ts modules", "body": "<p>This unfortunately isn't supported inside the typescript compiler <a href=\"https://github.com/Microsoft/TypeScript/issues/10939\" rel=\"nofollow noreferrer\">Typescript Github Issue here</a></p>\n\n<p>What I'd recommend you do, if you're using yarn or NPM, is have a script that moves those files to the right place <em>after</em> a successful compilation. Say you have a file in src <code>src/foo/bar.biz</code>. after you run <code>tsc</code> and output to the <code>./build</code> directory then run a manual <code>cp src/foo/bar.biz build/foo/bar.biz</code></p>\n"}], "owner": {"reputation": 1662, "user_id": 505984, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/13ae6dd5bc79ca4eb1b7c2954cac33d4?s=128&d=identicon&r=PG", "display_name": "Anton Duzenko", "link": "https://stackoverflow.com/users/505984/anton-duzenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1554288743, "creation_date": 1554277085, "question_id": 55489557, "link": "https://stackoverflow.com/questions/55489557/typescript-compileroptions-outdir-and-non-ts-modules", "title": "Typescript: compilerOptions.outDir and non-ts modules", "body": "<p>I have a problem with non-ts modules (text assets) that they don't get carried over to the outDir as configured in tsconfig.json (or I'm not doing it right). </p>\n\n<p>Here's the simplest repro case</p>\n\n<pre><code>// /src/main.ts\nimport text from 'text.dat'\nconsole.log( text )\n\n// /src/a.d.ts\ndeclare module 'text.dat' {\n    const value: string;\n    export default value\n}\n\n// /tsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",                      \n    \"module\": \"system\",                   \n...\n    \"outFile\": \"./public/bundle.js\",      \n    \"outDir\": \"./public\",                  \n...\n\n// /public/a.html\n...\n    &lt;script type=\"text/javascript\" src=\"bundle.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        SystemJS.import('main');\n    &lt;/script&gt;\n...\n</code></pre>\n\n<p>This results in a HTTP 404 when the transpiled javascript tries to load my text module as <a href=\"http://localhost:8082/text.dat\" rel=\"nofollow noreferrer\">http://localhost:8082/text.dat</a> but the original file is in the /src folder and does not get copied over to /public.</p>\n\n<p>What am I missing?</p>\n\n<p>FWIW the full repro case source is at <a href=\"https://github.com/duzenko/typescript-non-ts-module-bundle\" rel=\"nofollow noreferrer\">https://github.com/duzenko/typescript-non-ts-module-bundle</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554277327, "post_id": 55489545, "comment_id": 97686935, "body": "My question is : When i change the inputs , how can i update all the object with the new information given in the form..not how to store my object in the LocalStorage...it is all ready done and I managed to save the data but that field by field but it makes the code too long.."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554279603, "post_id": 55489545, "comment_id": 97688245, "body": "Alright, I was confused by your very first sentence on the question."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554279650, "post_id": 55489545, "comment_id": 97688275, "body": "I am still confused. Are you trying to update your localStorage? The <code>this.student</code> object? Or the values on your <code>registerForm</code>?"}, {"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554280164, "post_id": 55489545, "comment_id": 97688572, "body": "i am trying to update my this.student object with the values of my registerForm.."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554280597, "post_id": 55489545, "comment_id": 97688803, "body": "Do your FormControls of <code>registerForm</code> and the properties in <code>student</code> object have the same name?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554281214, "post_id": 55489545, "comment_id": 97689184, "body": "<code>console.log(this.registerForm.value)</code>. And show me the printed values."}, {"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554281520, "post_id": 55489545, "comment_id": 97689360, "body": "i don&#39;t know how to put an image here..  address: &quot;&quot; custAddress: &quot;&quot; custName: &quot;&quot; custTown: &quot;&quot; custZipCode: &quot;&quot; email: &quot;&quot; firstName: &quot;Munir&quot; lastName: &quot;Nahman&quot; phone: &quot;&quot; town: &quot;&quot; tva: &quot;&quot; zipCode: &quot;&quot;"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554281812, "post_id": 55489545, "comment_id": 97689546, "body": "Ok, why not we start with giving both the object and your formControlNames the same property names? If you can do that, it will be very easy to update the values accordingly"}, {"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554282017, "post_id": 55489545, "comment_id": 97689675, "body": "can you give me an example for how to do it for one field plz ?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554282109, "post_id": 55489545, "comment_id": 97689728, "body": "Ok. Give me a moment. You are using reactive forms, right?"}, {"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554282228, "post_id": 55489545, "comment_id": 97689816, "body": "Yes, i use reactive forms."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554282880, "post_id": 55489545, "comment_id": 97690188, "body": "Ok, I have updated my code. You can see if it makes sense and suits your project&#39;s requirements?"}, {"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554283155, "post_id": 55489545, "comment_id": 97690351, "body": "Ok, i will try it. Thank you very much"}, {"owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "edited": false, "score": 0, "creation_date": 1554285269, "post_id": 55489545, "comment_id": 97691646, "body": "ERROR Error: Cannot find control with name: &#39;contact.us_firstname&#39;"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 0, "last_activity_date": 1554282852, "last_edit_date": 1554282852, "creation_date": 1554277030, "answer_id": 55489545, "question_id": 55489412, "link": "https://stackoverflow.com/questions/55489412/how-can-i-get-all-the-values-of-the-inputs-and-put-them-in-the-right-place-in-m/55489545#55489545", "title": "How can I get all the values \u200bof the inputs and put them in the right place in my object (localStorage)?", "body": "<p>Since they are all key-value pairs, The shortest way to do it will be to stringify and store the entire object inside your localStorage.</p>\n\n<pre><code>localStorage.setItem('contactObject', JSON.stringify(yourObject));\n</code></pre>\n\n<p>And when you want to retrieve the object from localStorage, you can simply retrieve and parse it back as an object.</p>\n\n<pre><code>const retreivedContactObject = JSON.parse(localStorage.getItem('contactObject'));\nconsole.log(retreivedContactObject);\n</code></pre>\n\n<hr>\n\n<p>EDIT: I recommend you to set your <code>registerForm</code> FormControl names to be the same as your <code>student</code> object.</p>\n\n<pre><code>import { FormBuilder, FormGroup, Validators } from '@angular/forms';\n  .\n  .\n\nstudent = {\n  contact: {\n    custName: undefined,\n    custAddress: undefined,\n    custTown: undefined,\n    .\n    .\n  }\n};\n\nconstructor(private formBuilder: FormBuilder) { }\n\nregisterForm: FormGroup = this.formBuilder.group({\n  custName: [null, Validators.required],\n  custAddress: [null, Validators.required],\n  custTown: [null, Validators.required],\n    .\n    .\n},\n</code></pre>\n\n<p>Once you have set your formControls to have the same name as your student object,</p>\n\n<p>you can simply update your <code>student</code> this way:</p>\n\n<pre><code>this.student.contact = {...this.registerForm.value};\n//console.log(this.student);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 9283251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2a8c7e070967cab42ca0ce722e6ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.Samad Salaat", "link": "https://stackoverflow.com/users/9283251/a-samad-salaat"}, "is_accepted": false, "score": 0, "last_activity_date": 1554281253, "creation_date": 1554281253, "answer_id": 55490844, "question_id": 55489412, "link": "https://stackoverflow.com/questions/55489412/how-can-i-get-all-the-values-of-the-inputs-and-put-them-in-the-right-place-in-m/55490844#55490844", "title": "How can I get all the values \u200bof the inputs and put them in the right place in my object (localStorage)?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var student = {\r\n   contact: {\r\n    name: \"hello\",\r\n    class: \"hello\",\r\n    age: \"hello\",\r\n    gender: \"hello\",\r\n    number: \"hello\",\r\n    username: \"hello\",\r\n    email: \"hello\",\r\n    home: \"hello\",\r\n    mobile: \"hello\"\r\n   }\r\n};\r\n\r\nfor ( var property in student.contact ) {\r\n  console.log(property , student.contact[property])\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will allow you to get property name and its value. then you can do something like this. if i understand properly</p>\n\n<pre><code>for ( var property in this.student.contact ) { \n    this.student['contact'][property] = this.registerForm.get(property).value;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11208846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17449b4419a1631460f74c19cf1dfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Nahman Pks", "link": "https://stackoverflow.com/users/11208846/nahman-pks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554282852, "creation_date": 1554276582, "question_id": 55489412, "link": "https://stackoverflow.com/questions/55489412/how-can-i-get-all-the-values-of-the-inputs-and-put-them-in-the-right-place-in-m", "title": "How can I get all the values \u200bof the inputs and put them in the right place in my object (localStorage)?", "body": "<p>How can I get all the values \u200b\u200bof the inputs and put them in the right place in my object (localStorage) without having to retrieve them one by one as in the code below?</p>\n\n<p>This is my function for update informations:</p>\n\n<pre><code>updateContact() {\n\n\n    if (this.onSubmit()) {\n\n      this.eleveService.apiUpdateEleve(this.token, this.registerForm.get(\"firstName\").value, this.registerForm.get(\"lastName\").value\n      ).subscribe((data: any) =&gt; {\n\n        // r\u00e9cup\u00e9ration des informations du formulaire\n        this.student['contact']['us_firstname'] = this.registerForm.get(\"firstName\").value;\n        this.student['contact']['us_lastname'] = this.registerForm.get(\"lastName\").value;\n        //  this.language = this.student['us_lang'] \n        this.student['us_lang'] = this.lang\n        this.translate.use(this.student['us_lang']);\n\n        // MAJ de l'objet\n        localStorage.setItem(\"student\", JSON.stringify(this.student));\n        console.log('maj', this.student)\n        this.navCtrl.navigateRoot('/e-tabs/explorer');\n\n      })\n\n    }\n\n  }\n\n</code></pre>\n\n<p>This is my Object :</p>\n\n<pre><code>OBJECT :\n\ncontact:\ncountry: {id: \"BE\", name: \"Belgique\"}\nlogin: \"last@last.be\"\nnewsletter: \"1\"\nprest_feedback: \"1\"\nus_address: \"Rue des polders 13\"\nus_city: \"Uccle\"\nus_email: \"test@test.be\"\nus_firstname: \"Munir\"\nus_gsm: \"0485001128\"\nus_id: \"5c9b35d8b4dd1\"\nus_lang: \"fr\"\nus_lastname: \"Nahman\"\nus_zip: \"1180\"\n[Object][1]\n[Front-end of the page][2]\n\n\n  [1]: https://i.stack.imgur.com/SmxSZ.jpg\n  [2]: https://i.stack.imgur.com/oknZd.jpg\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554275723, "post_id": 55489122, "comment_id": 97686115, "body": "Hi and welcome to SO Usman, please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. What&#39;s your HTML &amp; CSS for this particular section of your site ? Update your post with a code snippet or at least a jsfiddle."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554275816, "post_id": 55489122, "comment_id": 97686160, "body": "ok sure i will update this"}, {"owner": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 1, "creation_date": 1554276346, "post_id": 55489122, "comment_id": 97686405, "body": "What&#39;s your CSS ? Create a <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz</a> if it&#39;s easier for you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554276539, "post_id": 55489122, "comment_id": 97686507, "body": "@Jake have not applied any css yet. dont know what to add"}, {"owner": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554276786, "post_id": 55489122, "comment_id": 97686637, "body": "Have you tried to move the <code>.test-length</code> span before the title of your content ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554276860, "post_id": 55489122, "comment_id": 97686680, "body": "it does not show anything. code is complex i cannot be able to solve it. there is another component in this code app-custom-accordion"}, {"owner": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554276982, "post_id": 55489122, "comment_id": 97686749, "body": "Then we&#39;re back to square one, please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554277715, "post_id": 55489122, "comment_id": 97687150, "body": "the only way i am doing this because i have to highlight tests.length to bold  otherwise i can write it like this as well  [title] = &quot;panel.Name + &#39;(&#39; + panel.Tests.length + &#39;)&#39;&quot;  if there is any way to bold half of title that would be great @Jake"}, {"owner": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554278259, "post_id": 55489122, "comment_id": 97687473, "body": "Set this particular item to <code>font-weight: bold</code> using CSS or use <code>&lt;strong&gt;content&lt;&#47;strong&gt;</code> to set your content to bold."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554278409, "post_id": 55489122, "comment_id": 97687545, "body": "how in title i cannot add any css or tag"}, {"owner": {"reputation": 1190, "user_id": 8434562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPOA4.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/8434562/jake"}, "edited": false, "score": 0, "creation_date": 1554300895, "post_id": 55489122, "comment_id": 97701592, "body": "Like so : <code>&lt;span class=&quot;test-length&quot; style=&quot;&quot;&gt;&lt;strong&gt;{{ &#39;(&#39; + panel.Tests.length + &#39;)&#39;}}&lt;&#47;strong&gt;&lt;&#47;span&gt;</code> ..."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1554277223, "post_id": 55489561, "comment_id": 97686885, "body": "i tried that but i have to apply bold property too in this test.length that is why i cannot write it in title. if there is any property to just add bold to half title that will be great. @mbojko"}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": false, "score": 0, "last_activity_date": 1554277093, "creation_date": 1554277093, "answer_id": 55489561, "question_id": 55489122, "link": "https://stackoverflow.com/questions/55489122/how-to-move-span-to-left-with-margin-auto-css-angular-4/55489561#55489561", "title": "How to move span to left with margin auto Css angular 4", "body": "<p>The simplest solution will be including</p>\n\n<pre><code>'(' + panel.Tests.length + ')'\n</code></pre>\n\n<p>in the panel title:</p>\n\n<pre><code>  &lt;ngb-panel [disabled]=\"panel.Tests.length === 0\" *ngFor=\"let panel of testSelectionSession.FavoritesByCategory[category]\"\n             id=\"{{panel.Id}}\" [title] = \"panel.Name + '(' + panel.Tests.length + ')'\"&gt;\n</code></pre>\n\n<p>The component seriously resembles a table, making contents of a separate column float left seems hard to achieve. Although I'm not familiar with <code>ngb-panel</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554277093, "creation_date": 1554275557, "last_edit_date": 1554276217, "question_id": 55489122, "link": "https://stackoverflow.com/questions/55489122/how-to-move-span-to-left-with-margin-auto-css-angular-4", "title": "How to move span to left with margin auto Css angular 4", "body": "<p>Hi I have some issue regarding Css and I have not been able to do it.\n<a href=\"https://i.stack.imgur.com/kRJOb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRJOb.png\" alt=\"enter image description here\"></a></p>\n\n<p>how to move those numbers which are highlighted to left with names.\nI have tried flex direction margin auto etc but I cannot get desired result.</p>\n\n<p><strong>here is my html code</strong></p>\n\n<pre><code>&lt;section class=\"favorites\"&gt;\n&lt;div class=\"category\" *ngFor=\"let category of categoryKeys\"&gt;\n&lt;div class=\"sub-header\"&gt;{{category}}&lt;/div&gt;\n&lt;app-custom-accordion [closeOthers]=\"true\"&gt;\n  &lt;ngb-panel [disabled]=\"panel.Tests.length === 0\" *ngFor=\"let panel of testSelectionSession.FavoritesByCategory[category]\"\n             id=\"{{panel.Id}}\" [title] = \"panel.Name\"&gt;\n    &lt;ng-template ngbPanelTitle&gt;\n      &lt;span class=\"test-length\" style=\"\"&gt; {{ '(' + panel.Tests.length + ')'}}&lt;/span&gt;\n      &lt;div class=\"action-items\"&gt;\n        &lt;span class=\"icon-set\" [ngClass]=\"{'same-day-2x': isSameDay(panel.Code), 'next-day-2x': isNextDay(panel.Code)}\"&gt;&lt;/span&gt;\n        &lt;label class=\"custom-control custom-checkbox\"&gt;\n          &lt;input type=\"checkbox\" class=\"custom-control-input\" [name]=\"panel.Id + '-' + panel.Moniker\" [ngModel]=\"checkAllTestsSelected(panel)\"\n            (ngModelChange)=\"onPanelCheckboxUpdate($event, panel)\" [id]=\"panel.Id + '-' + panel.Moniker\"&gt;\n          &lt;span class=\"custom-control-indicator\"&gt;&lt;/span&gt;\n        &lt;/label&gt;\n      &lt;/div&gt;\n    &lt;/ng-template&gt;\n  &lt;/ngb-panel&gt;\n&lt;/app-custom-accordion&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><strong>I am trying to move this tag to left</strong></p>\n\n<pre><code>&lt;span class=\"test-length\" style=\"\"&gt; {{ '(' + panel.Tests.length + ')'}}&lt;/span&gt;\n</code></pre>\n\n<p>can someone help me regarding this issue?</p>\n"}, {"tags": ["angular", "typescript", "d3.js"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1554275201, "post_id": 55488987, "comment_id": 97685868, "body": "May I know which D3.js version did you npm install?"}, {"owner": {"reputation": 45, "user_id": 9887401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f4018a59670f85b6fdb82b9962e782?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/9887401/virat"}, "reply_to_user": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1554275488, "post_id": 55488987, "comment_id": 97686000, "body": "I have version &quot;^5.7.0&quot;"}], "owner": {"reputation": 45, "user_id": 9887401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f4018a59670f85b6fdb82b9962e782?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/9887401/virat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 561, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554275881, "creation_date": 1554274976, "last_edit_date": 1554275349, "question_id": 55488987, "link": "https://stackoverflow.com/questions/55488987/how-to-create-stacked-bar-chart-using-d3-charts", "title": "How to create stacked bar chart using d3 charts?", "body": "<p>I am creating a stacked bar chart using d3. I have button in the front-end. On clicking the button chart should display. But chart is not getting displayed and gives the following warnings.</p>\n\n<p><strong>\"export 'scale' (imported as 'd3') was not found in 'd3' \"</strong></p>\n\n<p><strong>\"export 'scale' (imported as 'd3') was not found in 'd3' \"</strong></p>\n\n<p><strong>\"export 'time' (imported as 'd3') was not found in 'd3' \"</strong></p>\n\n<pre><code>import * as d3 from 'd3';\n\nexport class stackedbarchart {\n\n    sbar(box_id){\n      const data=[{\"country\":\"India\",\"sales\":100,\"profit\":100}, \n                  {\"country\":\"US\",\"sales\":70,\"profit\":100}, \n                  {\"country\":\"USA\",\"sales\":65,\"profit\":100}];\n    const svgWidth = 500, svgHeight = 200;\n    const margin = { top: 10, right: 20, bottom: 70, left: 40 };\n    const width = svgWidth - margin.left - margin.right;\n    const height = svgHeight - margin.top - margin.bottom;\n    const contentWidth = 400;\n    const contentHeight = 120;\n    const headers=[\"sales\", \"profit\"]\n\n    const svg = d3\n      .select(box_id)\n      .append('svg')\n      .attr(\"width\", svgWidth)\n      .attr(\"height\", svgHeight);\n\n      const dataset = d3.layout.stack()(headers.map(function(values) \n           { \n        return data.map(function(d)\n                          { return {x: d.country, y: +d[values]};\n        });\n      }));\n\n      var x = d3.scaleOrdinal()   \n                .domain(dataset[0].map(function(d) { return d.x; }))   \n                .rangeRoundBands([10, width-10], 0.02);\n\n      var y = d3.scaleLinear()   \n                .domain([0, d3.max(dataset, function(d) {   \n                 return d3.max(d, function(d) { return d.y0 + d.y; \n                 });  })])     \n                .range([height, 0]);\n\n     var colors = [\"b33040\", \"#d25c4d\", \"#f2b447\", \"#d9d574\"];\n\n     var yAxis = d3.svg.axis()   \n                   .scale(y)  \n                   .orient(\"left\")   \n\n         var xAxis = d3.svg.axis()  \n                       .scale(x)  \n                       .orient(\"bottom\")\n\n         svg.append(\"g\") \n            .attr(\"class\", \"y axis\")   \n            .call(yAxis);\n\n        svg.append(\"g\")  \n           .attr(\"class\", \"x axis\")  \n           .attr(\"transform\", \"translate(0,\" + height + \")\") \n           .call(xAxis);\n\n        var groups = svg.selectAll(\"g.cost\")  \n                        .data(dataset)  \n                        .enter()\n                        .append(\"g\") \n                        .attr(\"class\", \"cost\")  \n                        .style(\"fill\", function(d, i)  \n                                           { return colors[i]; });\n\n        var rect = groups.selectAll(\"rect\")   \n                         .data(function(d)\n                                 { return d; }) \n                         .enter()   \n                         .append(\"rect\")  \n                         .attr(\"x\", function(d)\n                                      { return x(d.x); })   \n                         .attr(\"y\", function(d) \n                                      { return y(d.y0 + d.y); })   \n                         .attr(\"height\", function(d)\n                                           { return y(d.y0) - y(d.y0 + d.y); })   \n                          .attr(\"width\", x.rangeBand())   \n                          .on(\"mouseover\", function()\n                                            { tooltip.style(\"display\", null); })  \n                          .on(\"mouseout\", function() \n                                            { tooltip.style(\"display\", \"none\"); })  \n                          .on(\"mousemove\", function(d) {\n       var xPosition = d3.mouse(this)[0] - 15;\n       var yPosition = d3.mouse(this)[1] - 25;\n           tooltip.attr(\"transform\", \"translate(\" + xPosition + \",\" + yPosition + \")\");\n           tooltip.select(\"text\").text(d.y);   });\n\n      var legend = svg.selectAll(\".legend\")  \n                      .data(colors)  \n                      .enter().append(\"g\")   \n                      .attr(\"class\", \"legend\") \n                      .attr(\"transform\", function(d, i)\n                                           { return \"translate(30,\" + i * 19 + \")\"; });  \n                legend.append(\"rect\") \n                      .attr(\"x\", width - 18)   \n                      .attr(\"width\", 18)  \n                      .attr(\"height\", 18)  \n                      .style(\"fill\", function(d, i)\n                                       {return colors.slice().reverse()[i];});  \n                legend.append(\"text\") \n                      .attr(\"x\", width + 5)  \n                      .attr(\"y\", 9) \n                      .attr(\"dy\", \".35em\")  \n                      .style(\"text-anchor\", \"start\")   \n                      .text(function(d, i) { \n                              switch (i) {\n                                 case 0: return \"sales\";\n                                 case 1: return \"profit\";\n                               }   });\n\n       var tooltip = svg.append(\"g\") \n                        .attr(\"class\", \"tooltip\") \n                        .style(\"display\", \"none\");\n                     tooltip.append(\"rect\") \n                            .attr(\"width\", 30)  \n                            .attr(\"height\", 20) \n                            .attr(\"fill\", \"white\")   \n                            .style(\"opacity\", 0.5);\n\n                     tooltip.append(\"text\") \n                            .attr(\"x\", 15) \n                            .attr(\"dy\", \"1.2em\") \n                            .style(\"text-anchor\", \"middle\")   \n                            .attr(\"font-size\", \"12px\")  \n                            .attr(\"font-weight\", \"bold\");\n    }\n}\n</code></pre>\n\n<p>Any help or hint in to the right direction would be much appreciated.</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "angular-animations"], "answers": [{"tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 6, "last_activity_date": 1555063905, "last_edit_date": 1555063905, "creation_date": 1554281036, "answer_id": 55490779, "question_id": 55488941, "link": "https://stackoverflow.com/questions/55488941/how-to-iterate-an-animation-infinitely-in-angular/55490779#55490779", "title": "How to iterate an animation infinitely in Angular", "body": "<p>Angular animations have a purpose to be used when the component is added via router or *ngIf or say programatically, when the regular/plain CSS won't work. For the case you described in your post, you don't need an Angular animation, plain css animation is enough:</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>@keyframes myAnimation {\n  0%   {transform: translateX(0) rotateY(0)}\n  33%  {transform: translateX(10%) rotateY(70deg)}\n  66%  {transform: translateX(20%) rotateY(30deg)}\n  100% {transform: translateX(0%)}\n}\n\nimg {\n  animation: myAnimation 5s infinite;\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-sg1gkp\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 2829, "user_id": 1482207, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/qWIek.jpg?s=128&g=1", "display_name": "Abhijit Chakra", "link": "https://stackoverflow.com/users/1482207/abhijit-chakra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 55490779, "answer_count": 1, "score": 1, "last_activity_date": 1618829782, "creation_date": 1554274777, "last_edit_date": 1618829782, "question_id": 55488941, "link": "https://stackoverflow.com/questions/55488941/how-to-iterate-an-animation-infinitely-in-angular", "title": "How to iterate an animation infinitely in Angular", "body": "<p>Here is my below code i want to iterate the Animation infinitely &amp; stop and start  in my component i have written below code</p>\n\n<pre><code>@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n  animations: [\n    // Each unique animation requires its own trigger. The first argument of the trigger function is the name\n    trigger('run', [transition('void =&gt; *',[animate(1000, keyframes([\n      style({transform: 'translateX(0)    rotateY(0)',        offset: 0}),\n      style({transform: 'translateX(10%)  rotateY(70deg)',    offset: 0.33}),\n      style({transform: 'translateX(20%) rotateY(30deg)',   offset: 0.66}),\n      style({transform: 'translateX(0%)',                  offset: 1.0})\n    ]))\n    ])  \n  ])  \n]\n}) \n</code></pre>\n\n<p>In the HTML file i have written below code </p>\n\n<pre><code>&lt;img  @run id=\"animicon\" src=\"assets/.../logo_1.png\" style=\"background:black\"  \n                                                                   class=\"image--background\"&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jestjs", "circleci"], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 4141006, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e3Rc-xwAEGE/AAAAAAAAAAI/AAAAAAAAAB0/W9fX89yQn7w/photo.jpg?sz=128", "display_name": "Saiid Al-halawi", "link": "https://stackoverflow.com/users/4141006/saiid-al-halawi"}, "is_accepted": false, "score": 3, "last_activity_date": 1554359354, "creation_date": 1554359354, "answer_id": 55509218, "question_id": 55488882, "link": "https://stackoverflow.com/questions/55488882/modulenamemapper-settings-in-jest-config-js-doesnt-work-on-circleci/55509218#55509218", "title": "`moduleNameMapper` settings in jest.config.js doesn&#39;t work on CircleCI", "body": "<p>I've finally found out its solution.</p>\n\n<p>According to <a href=\"https://github.com/TypeStrong/ts-node/issues/138\" rel=\"nofollow noreferrer\">this issue</a>, I use <code>tsconfig-paths</code> and <code>tsconfig-paths-jest</code>.</p>\n\n<p>So my setting-files have changed like below.</p>\n\n<h3>tsconfig.json</h3>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"outDir\": \"dist/\",\n    \"allowJs\": true,\n    \"checkJs\": true,\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": true,\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"es5\", \"es6\", \"dom\"],\n    \"jsx\": \"react\",\n    \"strict\": false,\n    \"removeComments\": true,\n    \"types\": [\"node\", \"jest\"],\n    \"paths\": {\n      \"Components/*\": [\"src/components/*\"]\n    }\n  },\n  \"typeRoots\": [\"node_modules/@types\"],\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"__tests__\"]\n}\n</code></pre>\n\n<h3>jest.config.js</h3>\n\n<pre><code>/* eslint-disable import/order */\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst tsconfig = require(\"./tsconfig.json\");\nconst moduleNameMapper = require(\"tsconfig-paths-jest\")(tsconfig);\n\nmodule.exports = {\n  globals: {\n    \"ts-jest\": {\n      tsConfig: \"tsconfig.json\",\n      diagnostics: true\n    },\n    NODE_ENV: \"test\"\n  },\n  setupFilesAfterEnv: [`${__dirname}/src/setupTests.ts`],\n  moduleDirectories: [\"node_modules\", 'src'],\n  moduleFileExtensions: [\"ts\", \"tsx\", \"js\", \"jsx\", \"json\"],\n  transform: {\n    \"^.+\\\\.tsx?$\": \"ts-jest\"\n  },\n  verbose: true,\n  moduleNameMapper\n};\n</code></pre>\n\n<p>And my tests worked well in CircleCI, but I still have no idea why these tests \nhad worked in my local before this solution.</p>\n"}, {"comments": [{"owner": {"reputation": 902, "user_id": 6676781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wi5D.jpg?s=128&g=1", "display_name": "Carlo Corradini", "link": "https://stackoverflow.com/users/6676781/carlo-corradini"}, "edited": false, "score": 0, "creation_date": 1615725457, "post_id": 64487528, "comment_id": 117774851, "body": "Thanks! This should be the correct answer!"}], "tags": [], "owner": {"reputation": 6839, "user_id": 4180797, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/727a435b2d2ef77feabab175060d00ae?s=128&d=identicon&r=PG", "display_name": "James L.", "link": "https://stackoverflow.com/users/4180797/james-l"}, "is_accepted": true, "score": 8, "last_activity_date": 1603387807, "creation_date": 1603387807, "answer_id": 64487528, "question_id": 55488882, "link": "https://stackoverflow.com/questions/55488882/modulenamemapper-settings-in-jest-config-js-doesnt-work-on-circleci/64487528#64487528", "title": "`moduleNameMapper` settings in jest.config.js doesn&#39;t work on CircleCI", "body": "<p><code>tsconfig-paths-jest</code> is not usable in Jest &gt;23. For current Jest 26 I got it working via: <a href=\"https://kulshekhar.github.io/ts-jest/user/config/#paths-mapping\" rel=\"noreferrer\">https://kulshekhar.github.io/ts-jest/user/config/#paths-mapping</a></p>\n<p><code>jest.config.js</code></p>\n<pre><code>const { pathsToModuleNameMapper } = require('ts-jest/utils');\nconst { compilerOptions } = require('./tsconfig');\n\nmodule.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  moduleNameMapper: pathsToModuleNameMapper(compilerOptions.paths, { prefix: '&lt;rootDir&gt;/src/' } )\n};\n</code></pre>\n<p><code>tsconfig.json</code> &quot;compilerOptions&quot;</p>\n<pre><code> &quot;baseUrl&quot;: &quot;./src&quot;,\n &quot;paths&quot;: {            \n  &quot;@models/*&quot;: [ &quot;./models/*&quot; ],\n  &quot;@inputs/*&quot;: [ &quot;./inputs/*&quot; ],\n  &quot;@tests/*&quot;: [ &quot;./__tests__/*&quot; ],\n  &quot;@resolvers/*&quot;: [ &quot;./resolvers/*&quot; ],\n  &quot;@seeds/*&quot;: [ &quot;./seeds/*&quot; ],\n  &quot;@index&quot;: [ &quot;./index.ts&quot; ],\n  &quot;@ormconfig&quot;:[ &quot;../ormconfig.ts&quot; ]\n  },\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4141006, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e3Rc-xwAEGE/AAAAAAAAAAI/AAAAAAAAAB0/W9fX89yQn7w/photo.jpg?sz=128", "display_name": "Saiid Al-halawi", "link": "https://stackoverflow.com/users/4141006/saiid-al-halawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13310, "favorite_count": 1, "accepted_answer_id": 64487528, "answer_count": 2, "score": 10, "last_activity_date": 1603387807, "creation_date": 1554274564, "last_edit_date": 1554451071, "question_id": 55488882, "link": "https://stackoverflow.com/questions/55488882/modulenamemapper-settings-in-jest-config-js-doesnt-work-on-circleci", "title": "`moduleNameMapper` settings in jest.config.js doesn&#39;t work on CircleCI", "body": "<p>I have tested with my React-app in typescript, using ts-jest like below.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from \"react\";\nimport * as renderer from \"react-test-renderer\";\n\nimport { ChartTitle } from \"Components/chart_title\";\n\ndescribe(\"Component: ChartTitle\", () =&gt; {\n  it(\"will be rendered with no error\", () =&gt; {\n    const chartTitle = \"My Chart 1\";\n    renderer.create(&lt;ChartTitle title={chartTitle} /&gt;);\n  });\n});\n</code></pre>\n\n<p>and it has passed in my local environment but failed in CircleCI.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> FAIL  __tests__/components/chart_title.tsx\n  \u25cf Test suite failed to run\n\n    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):\n    __tests__/components/chart_title.tsx:4:28 - error TS2307: Cannot find module 'Components/chart_title'.\n\n    4 import { ChartTitle } from \"Components/chart_title\";                              \n                                 ~~~~~~~~~~~~~~~~~~~~~~~~\n</code></pre>\n\n<p>This <code>Components/</code> is an alias expression by <code>moduleNameMapper</code>, and I think it doesn't work in only CircleCI.</p>\n\n<p><code>jest --showConfig</code> option tells me there is no difference between local and CI environment.</p>\n\n<p>Is there any fault in my settings?</p>\n\n<h2>app/frontend/jest.config.js</h2>\n\n<pre><code>module.exports = {\n  globals: {\n    \"ts-jest\": {\n      tsConfig: \"tsconfig.json\",\n      diagnostics: true\n    },\n    NODE_ENV: \"test\"\n  },\n  moduleNameMapper: {\n    \"^Components/(.+)$\": \"&lt;rootDir&gt;/src/components/$1\"\n  },\n  moduleDirectories: [\"node_modules\", 'src'],\n  moduleFileExtensions: [\"ts\", \"tsx\", \"js\", \"jsx\", \"json\"],\n  transform: {\n    \"^.+\\\\.tsx?$\": \"ts-jest\"\n  },\n  verbose: true\n};\n</code></pre>\n\n<h2>app/frontend/tsconfig.json</h2>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"src\",\n    \"outDir\": \"dist\",\n    \"allowJs\": true,\n    \"checkJs\": true,\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": true,\n    \"target\": \"esnext\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"jsx\": \"react\",\n    \"strict\": false,\n    \"removeComments\": true,\n    \"types\": [\"jest\"]\n  },\n  \"typeRoots\": [\"node_modules/@types\"],\n  \"paths\": {\n    \"Components/*\": [\"src/components/*\"]\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"__tests__\"]\n}\n</code></pre>\n\n<h2>app/frontend/package.json</h2>\n\n<pre><code>{\n  \"scripts\": {\n    \"build\": \"webpack --mode development --watch\",\n    \"build-production\": \"node_modules/.bin/webpack --mode production\",\n    \"test\": \"jest\",\n    \"lint\": \"npx eslint src/**/* __tests__/**/* --ext \\\".ts, .tsx\\\"\",\n  },\n}\n</code></pre>\n\n<h2>app/.circleci/.config.yml</h2>\n\n<pre><code>version: 2\njobs:\n  build:\n    ...\n    steps:\n      - run:\n        name: run tests for frontend\n        command: npm test -- -u\n        working_directory: frontend\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "is_accepted": true, "score": 0, "last_activity_date": 1554275832, "creation_date": 1554275832, "answer_id": 55489193, "question_id": 55488807, "link": "https://stackoverflow.com/questions/55488807/class-implements-interface-but-the-arguments-to-a-method-of-a-member-variable-h/55489193#55489193", "title": "Class implements interface, but the arguments to a method of a member variable have no type?", "body": "<p>Unfortunately you can't do this. Check <a href=\"https://github.com/Microsoft/TypeScript/issues/1373\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/1373</a> for updates.</p>\n"}], "owner": {"reputation": 13, "user_id": 11303736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2weSx.png?s=128&g=1", "display_name": "fanzkday", "link": "https://stackoverflow.com/users/11303736/fanzkday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13, "favorite_count": 0, "accepted_answer_id": 55489193, "answer_count": 1, "score": 1, "last_activity_date": 1554275832, "creation_date": 1554274285, "question_id": 55488807, "link": "https://stackoverflow.com/questions/55488807/class-implements-interface-but-the-arguments-to-a-method-of-a-member-variable-h", "title": "Class implements interface, but the arguments to a method of a member variable have no type?", "body": "<p>So let's just look at my code. It's not very well described.</p>\n\n<p>This is interface:</p>\n\n<pre><code>interface IModel&lt;T = any&gt; {\n  effects: {\n    [key: string]: (getState: () =&gt; T) =&gt; void;\n  };\n}\n\ninterface IState {\n  name: string;\n  age: number;\n}\n\n</code></pre>\n\n<p>This is wrong, but I don't know why:</p>\n\n<pre><code>\nclass Model implements IModel&lt;IState&gt; {\n  effects = {\n    getName: (getState) =&gt; {\n      const { /** Here, Ts has no smart tips */ } = getState();\n    }\n  };\n}\n\n</code></pre>\n\n<p>Need me to add type, just can have tips:</p>\n\n<pre><code>\nclass Model implements IModel&lt;IState&gt; {\n  effects = {\n    getName: (getState: () =&gt; IState) =&gt; { // add type\n      const { /** Yes, have 'name' and 'age' */ } = getState();\n    }\n  };\n}\n</code></pre>\n\n<p>But, I think the latter approach is a bit verbose.</p>\n"}]