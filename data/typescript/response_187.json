[{"tags": ["angular", "typescript", "angular6", "angular-reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 522, "user_id": 3283323, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa61fcb6b5a48523e48bd2dbfece120c?s=128&d=identicon&r=PG", "display_name": "Terence", "link": "https://stackoverflow.com/users/3283323/terence"}, "is_accepted": true, "score": 0, "last_activity_date": 1533853851, "creation_date": 1533853851, "answer_id": 51776588, "question_id": 51756995, "link": "https://stackoverflow.com/questions/51756995/angular-6-how-to-add-validation-to-dynamic-reactive-form-with-index-interpolati/51776588#51776588", "title": "Angular 6: How to add validation to dynamic reactive form with index interpolation?", "body": "<p>I come up with another solution with the template-driven form. I think it's the best for our dynamic case. It allows forms to be dynamically created with proper validation. </p>\n\n<p>component HTML</p>\n\n<pre><code>&lt;p-accordion #accordion [hidden]=\"!cuList\" [multiple]=\"true\"&gt;\n    &lt;p-accordionTab *ngFor='let cu of cuList; let counter = index'&gt;\n        &lt;form #form=\"ngForm\" (ngSubmit)=\"form.form.valid\" role=\"form\" novalidate&gt;  &lt;!-- create sub-form --&gt;\n            &lt;div class=\"row form-group col-md-12 pr-0\"&gt;\n                &lt;div class=\"col-md-4 pl-0 ml-0 mt-3 pr-0\" [ngClass]=\"{ 'has-error': wages.invalid &amp;&amp; (wages.dirty || wages.touched || form.submitted) }\"&gt;\n                    &lt;div class=\"input-group\"&gt;\n                        &lt;input class=\"form-control\"\n                               name=\"wages\"\n                               placeholder=\"\"\n                               #wages=\"ngModel\"        &lt;!-- assign template variable --&gt;\n                               ngControl=\"wages\"\n                               currencyMask\n                               [(ngModel)]=\"cu.wage\"\n                               [options]=\"{ prefix: '$ ', thousands: ',', allowNegative: false, precision: 0}\"\n                               maxlength=\"15\"\n                               required /&gt;\n                        &lt;div class=\"input-group-append\"&gt;\n                            &lt;span class=\"input-group-text\"&gt;.00&lt;/span&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;span *ngIf=\"wages.invalid &amp;&amp; (wages.dirty || wages.touched || form.submitted)\"&gt;Field cannot be blank. Please enter an amount.&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;button *ngIf=\"counter !== cuList.length-1\" type=\"submit\" class=\"btn btn-primary btn-normal float-right\" (click)=\"openNext(cu)\"&gt;Next&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/p-accordionTab&gt;\n&lt;/p-accordion&gt;\n</code></pre>\n\n<p>component ts</p>\n\n<pre><code>export class EmployerCuListComponent implements OnInit {\n    @ViewChild('accordion') accordion: Accordion;\n    @ViewChildren('form') cuForms: QueryList&lt;NgForm&gt;;\n\n    constructor(private _employercuService: EmployerCuService) {}\n\n    ngOnInit() {\n        this._employercuService.getEmployerCu().subscribe(data =&gt; {\n            this.cuList = data;\n        });\n    }\n\n    formHasError() {\n        this.cuForms.some((cuForm, index) =&gt; {\n            if (cuForm.form.invalid) {\n                cuForm.form.controls['wages'].markAsTouched();\n                cuForm.form.controls['payments'].markAsTouched();\n                cuForm.form.controls['excessPayroll'].markAsTouched();\n                return true;\n            }\n        });\n        return false;\n    }\n}\n</code></pre>\n\n<p>Not sure if this is the best practice. But it solved my problem. I push the form creation in the HTML template and grab the form array with @ViewChidren and centralize the control and fully leverage the properties and method provided by NgForm in the component.ts.</p>\n\n<p>Please let me know if you have a better idea. Thanks!</p>\n"}], "owner": {"reputation": 522, "user_id": 3283323, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa61fcb6b5a48523e48bd2dbfece120c?s=128&d=identicon&r=PG", "display_name": "Terence", "link": "https://stackoverflow.com/users/3283323/terence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4762, "favorite_count": 0, "accepted_answer_id": 51776588, "answer_count": 1, "score": 1, "last_activity_date": 1533853851, "creation_date": 1533771005, "question_id": 51756995, "link": "https://stackoverflow.com/questions/51756995/angular-6-how-to-add-validation-to-dynamic-reactive-form-with-index-interpolati", "title": "Angular 6: How to add validation to dynamic reactive form with index interpolation?", "body": "<p>I am trying to create a dynamic reactive form with proper validation. </p>\n\n<p>Based on the business logic, we need to populate input fields according to the data. I created a variable call <code>formErrors</code> and dynamically add error messages if field is invalid. I was trying to add the <code>*NgIf</code> or <code>[hidden]</code> directive for the error. However, it is not allowed. (the below span syntax is invalid)</p>\n\n<p>I may have a list of FormControl (e.g. wage_0, wage_1, wage_2, ...) with associated errors. How can I push the error message to the html template? What will be the best practice?</p>\n\n<p>component html</p>\n\n<pre><code>&lt;form *ngIf=\"cuList\" [formGroup]=\"reportForm\" role=\"form\"&gt;\n    &lt;p-accordionTab *ngFor='let cu of cuList; let counter = index'&gt;\n        &lt;div&gt;\n            &lt;div class=\"input-group\"&gt;\n                &lt;input class=\"form-control\"\n                    name=\"wages\"\n                    placeholder=\"\"\n                    formControlName=\"wages_{{ counter }}\"  &lt;!-- dynamically name the formControl --&gt;\n                    currencyMask\n                    [(ngModel)]=\"cu.wage\"\n                    [options]=\"{ prefix: '$ ', thousands: ',', allowNegative: false, precision: 0}\"\n                    maxlength=\"15\"\n                    required /&gt;\n                &lt;div class=\"input-group-append\"&gt;\n                    &lt;span class=\"input-group-text\"&gt;.00&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;span [hidden]=\"formErrors.wages_{{counter}}\"&gt;&lt;/span&gt;   &lt;!-- show error message --&gt;\n            &lt;!-- or --&gt;\n            &lt;span *ngIf=\"formErrors.wages_{{counter}}\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/p-accordionTab&gt;\n&lt;/form&gt;       \n</code></pre>\n\n<p>component ts:</p>\n\n<pre><code>export class EmployerCuListComponent implements OnInit {\n    private _accordion: Accordion;\n\n    @ViewChild('accordion') set content(content: Accordion) {\n        this._accordion = content;\n    }\n\n    reportForm: FormGroup;\n    formErrors = {};\n    cuList: EmployerCu[];\n\n    constructor(private _fb: FormBuilder) {}\n\n    ngOnInit() {\n        this._employercuService.getEmployerCu().subscribe(data =&gt; {\n            this.cuList = data;\n            if (this.cuList) {\n                this.createForm(this.cuList);\n            }\n        });\n    }\n\n    createForm(cuList: EmployerCu[]) {\n        const group = {};\n\n        cuList.forEach((cu, index) =&gt; {\n            group['wages_' + index] = ['', [Validators.required]];\n            this.formErrors['wages_' + index] = '';\n        });\n        this.reportForm = this._fb.group(group);\n    }\n}\n</code></pre>\n\n<p>Please help! Thanks in advance!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2769, "user_id": 5791656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e5b2a55992e7c45ae1b24731296089?s=128&d=identicon&r=PG&f=1", "display_name": "NSTuttle", "link": "https://stackoverflow.com/users/5791656/nstuttle"}, "edited": false, "score": 1, "creation_date": 1533770612, "post_id": 51756928, "comment_id": 90473292, "body": "A quick fix may be adding a class to the html container that sets :before/:after with content of ()"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 9997288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dppou59KNjI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1MXXvWi3BQjlxiCRIil1vF_slasg/mo/photo.jpg?sz=128", "display_name": "Meg", "link": "https://stackoverflow.com/users/9997288/meg"}, "edited": false, "score": 0, "creation_date": 1533853784, "post_id": 51757009, "comment_id": 90511581, "body": "That gets very close and works essentially... but it leaves the minus sign. I need for it to be ONLY parentheses WITHOUT the minus like this (5.6)."}, {"owner": {"reputation": 2769, "user_id": 5791656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e5b2a55992e7c45ae1b24731296089?s=128&d=identicon&r=PG&f=1", "display_name": "NSTuttle", "link": "https://stackoverflow.com/users/5791656/nstuttle"}, "reply_to_user": {"reputation": 39, "user_id": 9997288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dppou59KNjI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1MXXvWi3BQjlxiCRIil1vF_slasg/mo/photo.jpg?sz=128", "display_name": "Meg", "link": "https://stackoverflow.com/users/9997288/meg"}, "edited": false, "score": 0, "creation_date": 1533854750, "post_id": 51757009, "comment_id": 90511821, "body": "@Meg, take a look at the update. A simple pipe transform on the UI value could get you there."}], "tags": [], "owner": {"reputation": 2769, "user_id": 5791656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e5b2a55992e7c45ae1b24731296089?s=128&d=identicon&r=PG&f=1", "display_name": "NSTuttle", "link": "https://stackoverflow.com/users/5791656/nstuttle"}, "is_accepted": true, "score": 0, "last_activity_date": 1533854633, "last_edit_date": 1533854633, "creation_date": 1533771157, "answer_id": 51757009, "question_id": 51756928, "link": "https://stackoverflow.com/questions/51756928/angular-display-negative-value-in-parentheses-and-maintain-type-number/51757009#51757009", "title": "Angular - Display negative value in parentheses and maintain &#39;type: number&#39;", "body": "<p>If a Pipe is not necessary, try something like:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;p [ngClass]=\"{'setPerens' : isNegitive(YourNumericalValue)}\"&gt;{{YourNumericalValue | negToPos }}&lt;/p&gt;\n</code></pre>\n\n<p>SASS</p>\n\n<pre><code>.setPerens {\n :before {\n  content: '(';\n :after {\n  content: ')';\n }\n}\n</code></pre>\n\n<p>.TS</p>\n\n<pre><code>isNegitive(val: number): boolean {\n if (val &lt; 0) {\n  return true;\n } else {\n  return false\n }\n}\n</code></pre>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>To get rid of the minus, you could now use a Pipe like so:</p>\n\n<pre><code>@Pipe({\n  name: 'negToPos'\n})\nexport class NegToPosPipe implements PipeTransform {\n  transform(val: number): number {\n    return Math.abs(val);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 9997288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dppou59KNjI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1MXXvWi3BQjlxiCRIil1vF_slasg/mo/photo.jpg?sz=128", "display_name": "Meg", "link": "https://stackoverflow.com/users/9997288/meg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3010, "favorite_count": 0, "accepted_answer_id": 51757009, "answer_count": 1, "score": 1, "last_activity_date": 1533867197, "creation_date": 1533770389, "last_edit_date": 1533867197, "question_id": 51756928, "link": "https://stackoverflow.com/questions/51756928/angular-display-negative-value-in-parentheses-and-maintain-type-number", "title": "Angular - Display negative value in parentheses and maintain &#39;type: number&#39;", "body": "<p>I am working with a chart of percentages, and I want to format the negative numbers to be in parentheses instead of with a negative sign. I can find how to do this with a pipe... but ONLY if I have the currency pipe that then transforms the number type to a string. Is there a way to keep the type a number AND substitute parentheses for the negative sign? Here is the pipe:</p>\n\n<pre><code>export class MinusToParensPipe implements PipeTransform {\n    transform(value: any, args?: any): any {\n        return value.charAt(0) === '-' ?\n            '(' + value.substring(1, value.length) + ')' :\n            value;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-directives"], "owner": {"reputation": 63, "user_id": 3646294, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uaf07.jpg?s=128&g=1", "display_name": "Shakedav", "link": "https://stackoverflow.com/users/3646294/shakedav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533773604, "creation_date": 1533765991, "last_edit_date": 1533773604, "question_id": 51756311, "link": "https://stackoverflow.com/questions/51756311/multiple-instances-of-angular-2-directive-on-the-same-page", "title": "Multiple instances of angular 2 directive on the same page", "body": "<p>I have a click-outside directive on a component which is created multiple times on the page. The component has a drop down I created which on click-outside of it closes the drop down. The problem is that when I have ~100 components with this drop down the click-outside directive gets called ~100 times for each component and this causes the simple action of opening a drop down to take too long.</p>\n\n<p>This is the directive:</p>\n\n<pre><code>import {Component, NgModule, VERSION, Directive, ElementRef, Output, EventEmitter, HostListener} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\n\n@Directive({ \n  selector: '[appClickOutside]'\n})\nexport class ClickOutsideDirective {\n  @Output() clickOutside: EventEmitter&lt;any&gt; = new EventEmitter();\n\n  constructor(private _elementRef: ElementRef) {\n  }\n\n  @HostListener('document:click', ['$event.target'])\n  public onClick(targetElement) {\n    const isClickedInside = this._elementRef.nativeElement.contains(targetElement);\n    if (!isClickedInside) {\n      this.clickOutside.emit(true);\n    }\n  }\n}\n</code></pre>\n\n<p>Is there a way to stop the directive from running for all the drop downs?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "viewchild", "elementref"], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 2320620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJKfm.jpg?s=128&g=1", "display_name": "configbug", "link": "https://stackoverflow.com/users/2320620/configbug"}, "edited": false, "score": 0, "creation_date": 1533932305, "post_id": 51787575, "comment_id": 90544692, "body": "I have updated the question. I already did it that way, but I always get an error: &quot;... nativeElement undefined&quot; and if correctly instance &quot;this.btnSaveGeneralData&quot;."}, {"owner": {"reputation": 551, "user_id": 10207459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5WJd1.jpg?s=128&g=1", "display_name": "mahalde", "link": "https://stackoverflow.com/users/10207459/mahalde"}, "reply_to_user": {"reputation": 219, "user_id": 2320620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJKfm.jpg?s=128&g=1", "display_name": "configbug", "link": "https://stackoverflow.com/users/2320620/configbug"}, "edited": false, "score": 0, "creation_date": 1534009426, "post_id": 51787575, "comment_id": 90560765, "body": "When exactly do you call <code>this.btnSaveGeneralData.nativeElement.click()</code> in your component?"}, {"owner": {"reputation": 1750, "user_id": 503133, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/eYSjT.jpg?s=128&g=1", "display_name": "Rupam Datta", "link": "https://stackoverflow.com/users/503133/rupam-datta"}, "edited": false, "score": 0, "creation_date": 1570099450, "post_id": 51787575, "comment_id": 102810948, "body": "@Flix Broken link. Please update if there is one which is correct."}, {"owner": {"reputation": 551, "user_id": 10207459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5WJd1.jpg?s=128&g=1", "display_name": "mahalde", "link": "https://stackoverflow.com/users/10207459/mahalde"}, "reply_to_user": {"reputation": 1750, "user_id": 503133, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/eYSjT.jpg?s=128&g=1", "display_name": "Rupam Datta", "link": "https://stackoverflow.com/users/503133/rupam-datta"}, "edited": false, "score": 1, "creation_date": 1570438757, "post_id": 51787575, "comment_id": 102900109, "body": "@RupamDatta whoops, I edited the link to a functioning Stackblitz."}], "tags": [], "owner": {"reputation": 551, "user_id": 10207459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5WJd1.jpg?s=128&g=1", "display_name": "mahalde", "link": "https://stackoverflow.com/users/10207459/mahalde"}, "is_accepted": false, "score": 1, "last_activity_date": 1570438618, "last_edit_date": 1570438618, "creation_date": 1533907460, "answer_id": 51787575, "question_id": 51756144, "link": "https://stackoverflow.com/questions/51756144/viewchild-angular-5-6-elementref/51787575#51787575", "title": "@Viewchild Angular 5, 6 - ElementRef", "body": "<p>It works just fine.</p>\n\n<p>Maybe your HTML isn't initialized yet, so the <code>ElementRef</code> would be <code>undefined.</code><br>\nOr you have a spelling error.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-t6yh1r\" rel=\"nofollow noreferrer\">Functioning Stackblitz</a></p>\n"}], "owner": {"reputation": 219, "user_id": 2320620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJKfm.jpg?s=128&g=1", "display_name": "configbug", "link": "https://stackoverflow.com/users/2320620/configbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2069, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1570438618, "creation_date": 1533765030, "last_edit_date": 1533932094, "question_id": 51756144, "link": "https://stackoverflow.com/questions/51756144/viewchild-angular-5-6-elementref", "title": "@Viewchild Angular 5, 6 - ElementRef", "body": "<p>I have referenced a control with ElementRef of Angular and for this I use this code:</p>\n\n<p>HTML :</p>\n\n<pre><code>&lt;button #btnSaveGeneralData...\n</code></pre>\n\n<p>Typescript :</p>\n\n<pre><code>@ViewChild ('btnSaveGeneralData') btnSaveGeneralData: ElementRef;\n</code></pre>\n\n<p>I need to reference to be able to reach the click () event, with javascript I have solved it:</p>\n\n<pre><code>let buttonDG: any = document.getElementsByName ('btnGaveDG') [0];\nbuttonDG.click ();\n</code></pre>\n\n<p>but doing so with ElementRef does not work, I get the error \"... nativeElement undefined\":</p>\n\n<pre><code>this.btnSaveGeneralData.nativeElement.click ();\n</code></pre>\n\n<p>I could do it with javascript but it's not the idea. Any suggestions, in which I can be wrong?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["typescript", "npm"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1533766547, "post_id": 51756030, "comment_id": 90472294, "body": "TypeScript compiler does not recognize &quot;dependencies&quot; property in <code>package.json</code>, you have to configure path mapping also in <code>tsconfig.json</code> as explained in <a href=\"https://stackoverflow.com/a/38677886/43848\">this answer</a>"}, {"owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1533767141, "post_id": 51756030, "comment_id": 90472479, "body": "tried path mapping and it doesn&#39;t work either"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1093, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1533764470, "creation_date": 1533764470, "question_id": 51756030, "link": "https://stackoverflow.com/questions/51756030/cant-use-local-npm-package-with-typescript", "title": "can&#39;t use local npm package with typescript", "body": "<p>I created a local npm package called \"common\" consisting of minimal package.json and a file foo.ts</p>\n\n<p>I have it referenced the package.json of my project like follows :</p>\n\n<pre><code>\"dependencies\": {\n   \"common\": \"file:common\",\n}\n</code></pre>\n\n<p>When I reference my common module in my code it won't compile.</p>\n\n<p>this code :</p>\n\n<pre><code>import 'common/models/foo'\n</code></pre>\n\n<p>crashes :</p>\n\n<pre><code>Error: Cannot find module 'common/foo'\n</code></pre>\n\n<p>What am I missing out on ?</p>\n"}, {"tags": ["typescript", "protractor", "e2e-testing"], "comments": [{"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1533766903, "post_id": 51755674, "comment_id": 90472407, "body": "Are their parent elements different? You can reference them as a child of a parent"}, {"owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "reply_to_user": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1533767840, "post_id": 51755674, "comment_id": 90472674, "body": "No, their parents are the same"}, {"owner": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "edited": false, "score": 0, "creation_date": 1533790691, "post_id": 51755674, "comment_id": 90477344, "body": "I think $(&#39;button[class=&quot;btn btn-block&quot;]&#39;) should work. But I do not have time to test it."}, {"owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "edited": false, "score": 0, "creation_date": 1533827702, "post_id": 51755674, "comment_id": 90499803, "body": "It did! Thanks."}, {"owner": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "edited": false, "score": 0, "creation_date": 1533865956, "post_id": 51755674, "comment_id": 90513887, "body": "great! I am glad for you."}], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": false, "score": 0, "last_activity_date": 1533769470, "creation_date": 1533769470, "answer_id": 51756813, "question_id": 51755674, "link": "https://stackoverflow.com/questions/51755674/how-to-click-at-button-with-almost-same-class-using-protractor/51756813#51756813", "title": "How to click at button with almost same class using Protractor?", "body": "<p>The cleanest way I could come up with is doing regex checks.</p>\n\n<pre><code>element(by.all('.btn-block')).each(function(element)\n{\n  let tmp = element.getAttribute('class');\n  if(/^btn btn-block$/.test(tmp)) element.click();\n}\n</code></pre>\n\n<p>Basically this will loop through every element that has the <code>.btn-block</code> class, and then check to make sure that it has EXACTLY <code>btn btn-block</code> and if it does, it clicks that element.</p>\n"}, {"comments": [{"owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "edited": false, "score": 0, "creation_date": 1533827120, "post_id": 51759914, "comment_id": 90499376, "body": "For some reason, protractor returns  element no visible for this solution"}, {"owner": {"reputation": 1122, "user_id": 6331748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ddb727cbcd3c432f7328720321ae93?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper", "link": "https://stackoverflow.com/users/6331748/kacper"}, "reply_to_user": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "edited": false, "score": 0, "creation_date": 1533828046, "post_id": 51759914, "comment_id": 90500059, "body": "How does the app work? Does the element disappear after clicking on it?"}, {"owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "edited": false, "score": 0, "creation_date": 1533836085, "post_id": 51759914, "comment_id": 90504568, "body": "No, it&#39;s just change its class. I already found the solution: element.all(&#39;button[class=&quot;btn btn-block&quot;]&#39;).each(function(element){ element.click(); });"}], "tags": [], "owner": {"reputation": 1122, "user_id": 6331748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ddb727cbcd3c432f7328720321ae93?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper", "link": "https://stackoverflow.com/users/6331748/kacper"}, "is_accepted": false, "score": 0, "last_activity_date": 1533794986, "creation_date": 1533794986, "answer_id": 51759914, "question_id": 51755674, "link": "https://stackoverflow.com/questions/51755674/how-to-click-at-button-with-almost-same-class-using-protractor/51759914#51759914", "title": "How to click at button with almost same class using Protractor?", "body": "<p>Just use <code>each()</code> method and click each button that does not contain <code>btn-primary</code> class.</p>\n\n<pre><code>var allButtons = element.all(by.css('.btn.btn-block'));\nallButtons.each((button) =&gt; {\n    button.getAttribute('class').then((buttonClass) =&gt; {\n        if (!buttonClass.includes('btn-primary')) {\n            button.click();\n        }\n    });\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "is_accepted": true, "score": 0, "last_activity_date": 1533827801, "creation_date": 1533827801, "answer_id": 51770609, "question_id": 51755674, "link": "https://stackoverflow.com/questions/51755674/how-to-click-at-button-with-almost-same-class-using-protractor/51770609#51770609", "title": "How to click at button with almost same class using Protractor?", "body": "<p>I used:</p>\n\n<pre><code>element.all('button[class=\"btn btn-block\"]').each(function(element){\nelement.click();\n});\n</code></pre>\n\n<p>and worked.</p>\n"}], "owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 51770609, "answer_count": 3, "score": 0, "last_activity_date": 1533830471, "creation_date": 1533762501, "last_edit_date": 1533825605, "question_id": 51755674, "link": "https://stackoverflow.com/questions/51755674/how-to-click-at-button-with-almost-same-class-using-protractor", "title": "How to click at button with almost same class using Protractor?", "body": "<p>I have several buttons with two classes: </p>\n\n<pre><code>&lt;button _ngcontent-c39=\"\" class=\"btn btn-block\"&gt;&lt;/button&gt;\n&lt;button _ngcontent-c39=\"\" class=\"btn btn-block btn-primary\"&gt;&lt;/button&gt;\n</code></pre>\n\n<p>I need to click at all buttons with class <strong>\"btn btn-block\"</strong> and don't want to click at the button with the class  <strong>\"btn btn-block btn-primary\"</strong>. \nI already tried:</p>\n\n<pre><code>element.all(by.css('.btn.btn-block')).click();\n</code></pre>\n\n<p>but Protractor click at these two button.\nI already tried using className locator, but protractor doesn't find the element.</p>\n\n<pre><code>element.all(by.className('.btn.btn-block)).click();\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 1505, "user_id": 3660991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvuPk.jpg?s=128&g=1", "display_name": "HasilT", "link": "https://stackoverflow.com/users/3660991/hasilt"}, "edited": false, "score": 0, "creation_date": 1533761864, "post_id": 51755498, "comment_id": 90470747, "body": "Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and share some code that you already tried."}], "answers": [{"tags": [], "owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1533777382, "creation_date": 1533777382, "answer_id": 51757592, "question_id": 51755498, "link": "https://stackoverflow.com/questions/51755498/nested-views-with-ngfor-in-ionic/51757592#51757592", "title": "Nested views with *ngFor in ionic", "body": "<p>Hey you should definitely describe in details what you are trying to accomplish as it leaves a lot of space for interpretation.</p>\n\n<p>My naive understanding based on what you want is below:</p>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-boxpjy\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-boxpjy</a></p>\n\n<p>for the following array:</p>\n\n<pre><code>array = [\n    [\"section 1 item 1\", \"section 1 item 2\", \"section 1 item 3\"],\n    [\"section 2 item 1\", \"section 2 item 2\", \"section 2 item 3\", \"section 2 item 4\"],\n  ]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/W9TlG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W9TlG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 51, "user_id": 9292902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57694e9b4f3c7667a7846ec519fa4cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Mobi", "link": "https://stackoverflow.com/users/9292902/mobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533777382, "creation_date": 1533761652, "last_edit_date": 1533768320, "question_id": 51755498, "link": "https://stackoverflow.com/questions/51755498/nested-views-with-ngfor-in-ionic", "title": "Nested views with *ngFor in ionic", "body": "<p>I would like to create a screen that contains nested views with *ngFor loop. There is an 2 dimensional array data that needs to be iterated to repeat the same view for each of the row for every section. It may appear as follows:</p>\n\n<pre><code>(SectionName 1)\n      Row1\n      Row2\n(SectionName 2)\n      Row1\n      Row2\n</code></pre>\n\n<p>Each row can be created using ion-item with buttons and input boxes.</p>\n\n<p>Please let me know how to create 2 dimensional repeated UI.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["angular", "typescript", "testing", "jasmine", "karma-runner"], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 8459521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HSjR.jpg?s=128&g=1", "display_name": "M Mansour", "link": "https://stackoverflow.com/users/8459521/m-mansour"}, "is_accepted": true, "score": 0, "last_activity_date": 1533813873, "creation_date": 1533813873, "answer_id": 51765714, "question_id": 51755451, "link": "https://stackoverflow.com/questions/51755451/what-if-i-remove-default-test-cases-from-a-very-big-angular-project/51765714#51765714", "title": "What if I remove default test cases from a very big Angular Project?", "body": "<p>No, these tests simply check that the component/service is <strong>defined</strong> (truthy).</p>\n"}], "owner": {"reputation": 78, "user_id": 4669861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdf743adc8392a65b5041009388e16c?s=128&d=identicon&r=PG&f=1", "display_name": "Arshpreet Singh Bhatti", "link": "https://stackoverflow.com/users/4669861/arshpreet-singh-bhatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 51765714, "answer_count": 1, "score": -2, "last_activity_date": 1533813873, "creation_date": 1533761417, "last_edit_date": 1533768467, "question_id": 51755451, "link": "https://stackoverflow.com/questions/51755451/what-if-i-remove-default-test-cases-from-a-very-big-angular-project", "title": "What if I remove default test cases from a very big Angular Project?", "body": "<p>I have an enterprise level Angular 5 application. I have created most of the components and services using the Angular CLI. So all of them have spec files and the default test case 'Component/Service should be created'. </p>\n\n<p>I am planning to remove all the default test cases since I think they do not test/check anything special that my custom tests do not. </p>\n\n<p>Is there any problems that I cannot foresee right now with the removal of those default test cases?</p>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1533761869, "post_id": 51755430, "comment_id": 90470751, "body": "Anywy where this error is comming from? From <code>ReflectiveInjector</code> or missing dependency upon TestService creation."}, {"owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1533762015, "post_id": 51755430, "comment_id": 90470805, "body": "I did just to be certain, but according to the documentation I shouldn&#39;t need to (It&#39;s registering as an unused import for that reason)."}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1533762089, "post_id": 51755430, "comment_id": 90470833, "body": "Unused import is when you import something and you don&#39;t use it <b>directly</b> in the code, so your reasoning is wrong here I think."}, {"owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1533762174, "post_id": 51755430, "comment_id": 90470849, "body": "The error is coming from the &#39;ReflectiveInjector&#39;. And good point regarding the import, but the statement is there regardless."}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1533762276, "post_id": 51755430, "comment_id": 90470889, "body": "it just dont know how to/from where aquire http client since httpclientmodule is unknown to it. What is the reasoning behind all of this? Can;t you follow angular&#39;s testing convention using <code>TestBed</code> ??"}, {"owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1533824822, "post_id": 51755430, "comment_id": 90497761, "body": "Looking more closely I assume my problem is that I am trying to use angular outside of the context of an angular app which means I am probably missing some of the start up work that is automatically done when you generate a new angular app. Would there be any way to use angular as a dependency manager/framwork outside of an angular application?"}], "answers": [{"comments": [{"owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "edited": false, "score": 0, "creation_date": 1533820756, "post_id": 51759884, "comment_id": 90494903, "body": "Not sure what changes you are suggesting. Look at my api.module.ts file. It has all of those imports already and I am using that as my root."}], "tags": [], "owner": {"reputation": 31, "user_id": 10195176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1JMUO4bZlc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qpQ4njG4VyNPbU_qA6hCAVTJhabw/mo/photo.jpg?sz=128", "display_name": "Riven Li", "link": "https://stackoverflow.com/users/10195176/riven-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1533794850, "creation_date": 1533794850, "answer_id": 51759884, "question_id": 51755430, "link": "https://stackoverflow.com/questions/51755430/error-no-provider-for-httpclient-angular-error-message/51759884#51759884", "title": "Error: No provider for HttpClient! Angular error message", "body": "<p>To resolve this problem HttpClient is Angular's mechanism for communicating with a remote server over HTTP.</p>\n\n<p>To make HttpClient available everywhere in the app,</p>\n\n<p>open the root AppModule,\nimport the HttpClientModule symbol from @angular/common/http,\nadd it to the @NgModule.imports array.\nAdd the following to app.module.ts:</p>\n\n<p>import { HttpClientModule } from '@angular/common/http'; \nAfter that add in the import section like import:[HttpClientModule,  ]</p>\n\n<p>This procedure is explained in the documentation</p>\n"}], "owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533794850, "creation_date": 1533761342, "question_id": 51755430, "link": "https://stackoverflow.com/questions/51755430/error-no-provider-for-httpclient-angular-error-message", "title": "Error: No provider for HttpClient! Angular error message", "body": "<p>I have some test code (Testing.ts) that in it has the following code segment: </p>\n\n<pre><code>let injector = ReflectiveInjector.resolveAndCreate([\n    TestService\n])\nvar myInstance = new myTest(injector.get(TestService));\n</code></pre>\n\n<p>TestService.ts has the following code: </p>\n\n<pre><code>@Injectable()\nexport class TestService {\n\nprotected basePath = '/test/ ';\npublic defaultHeaders = new HttpHeaders();\npublic configuration = new Configuration();\n\n    constructor(protected httpClient: HttpClient, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n</code></pre>\n\n<p>I used <code>tsc</code> to compile Testing.ts into testing.js and ran <code>node testing.js</code>\nRunning the code I received the error message: <code>Error: No provider for HttpClient! (TestService -&gt; HttpClient)</code>. In TestService I have: </p>\n\n<pre><code>import {\nHttpClient, HttpHeaders, HttpParams,\nHttpResponse, HttpEvent\n} from '@angular/common/http';\n</code></pre>\n\n<p>In api.module.ts I have: </p>\n\n<pre><code>import { HttpClientModule } from '@angular/common/http';\nimport { NgModule, ModuleWithProviders, SkipSelf, Optional } from \n'@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Configuration } from './configuration';\nimport { TestService } from './api/test.service';\n\n@NgModule({\n  imports:      [ BrowserModule, CommonModule,\n      HttpClientModule ],\n  declarations: [],\n  exports:      [],\n  providers: [\n    TestService ]\n    })\n</code></pre>\n\n<p>And in Testing.ts I have: <code>import { TestService } from '../api/api';</code></p>\n\n<p>From what I understand with this project structure using the import statements the injector should have no problem creating an instance of HttpClient for the constructor of TestService. Running angular ^4.3.0 on windows. Am I missing something? All help would be appreciated! </p>\n"}, {"tags": ["typescript", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 45843, "user_id": 2349407, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/GLI4g.png?s=128&g=1", "display_name": "Vivek Doshi", "link": "https://stackoverflow.com/users/2349407/vivek-doshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1533789173, "creation_date": 1533789173, "answer_id": 51758901, "question_id": 51755110, "link": "https://stackoverflow.com/questions/51755110/sequelize-typescript-on-delete-cascade-throwing-errors/51758901#51758901", "title": "Sequelize Typescript on delete cascade throwing errors", "body": "<p>I think you should put cascade on <code>Group</code> Model , instead of <code>GroupAttendee</code> , like this :</p>\n\n<pre><code>@HasMany(() =&gt; GroupAttendee , {\n    onUpdate: \"CASCADE\",\n    onDelete: \"CASCADE\",\n    hooks: true\n})\nattendees: GroupAttendee[];\n</code></pre>\n"}], "owner": {"reputation": 843, "user_id": 468279, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5WdTY.jpg?s=128&g=1", "display_name": "circuitBurn", "link": "https://stackoverflow.com/users/468279/circuitburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1524, "favorite_count": 0, "accepted_answer_id": 51758901, "answer_count": 1, "score": 1, "last_activity_date": 1533789173, "creation_date": 1533759956, "question_id": 51755110, "link": "https://stackoverflow.com/questions/51755110/sequelize-typescript-on-delete-cascade-throwing-errors", "title": "Sequelize Typescript on delete cascade throwing errors", "body": "<p>I've got a very straightforward FK relationship between Group and GroupAttendee. Whenever I call <code>Group.destroy()</code> I'm greeted with a foreign key constraint failure exception on the GroupAttendee entries. I understand how those constraints are supposed to work at the database level but I can't seem to get sequelize-typescript to create?/enforce? them.</p>\n\n<p>I'm including a simplified version of my models to demonstrate my setup:</p>\n\n<pre><code>import { Model, Column, AllowNull, HasMany, ForeignKey, DataType, BelongsTo } from \"sequelize-typescript\";\nimport { User } from \"./User\";\n\nclass Group extends Model&lt;Group&gt; {\n\n  @AllowNull(false)\n  @Column\n  title: string;\n\n  @AllowNull(false)\n  @Column\n  startDate: Date;\n\n  @AllowNull(false)\n  @Column\n  endDate: Date;\n\n  @HasMany(() =&gt; GroupAttendee)\n  attendees: GroupAttendee[];\n}\n\nclass GroupAttendee extends Model&lt;GroupAttendee&gt; {\n\n  @ForeignKey(() =&gt; User)\n  @Column(DataType.INTEGER)\n  userId: number;\n\n  @ForeignKey(() =&gt; Group)\n  @Column(DataType.INTEGER)\n  groupId: number;\n\n  @BelongsTo(() =&gt; Group, {\n    onUpdate: \"CASCADE\",\n    onDelete: \"CASCADE\",\n    hooks: true\n  })\n  group: Group;\n}\n</code></pre>\n\n<p>Has anyone gotten this to work?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5", "ng-build"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533758417, "post_id": 51754694, "comment_id": 90469045, "body": "Add the values into your environment.ts files"}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 5551731, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6bc4dfeb01fd4f4da799cf14377d591c?s=128&d=identicon&r=PG&f=1", "display_name": "Taranjit Kang", "link": "https://stackoverflow.com/users/5551731/taranjit-kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1533759241, "creation_date": 1533759241, "answer_id": 51754917, "question_id": 51754694, "link": "https://stackoverflow.com/questions/51754694/ngbuild-changing-placeholder-according-to-environment/51754917#51754917", "title": "ngbuild changing placeholder according to environment", "body": "<p>Put your variables in your environment.ts files, so if you have:</p>\n\n<p><b>Dev</b>\nenvironment.dev.ts</p>\n\n<p>etc.. for other environments, wherever you require your variables import environment and use via environment.yourVariable.</p>\n\n<p>Then based on your build command such as; <code>ng build --prod</code> it'll use the environment.prod.ts file and it's configs.</p>\n\n<p>Environment file ex:</p>\n\n<pre><code>export const environment = {\n  production: false,\n  animal: '\ud83d\udc14'\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 4198085, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eUi8PQXmisc/AAAAAAAAAAI/AAAAAAAADpQ/nNfMdVxWAeY/photo.jpg?sz=128", "display_name": "Fczanardo", "link": "https://stackoverflow.com/users/4198085/fczanardo"}, "edited": false, "score": 0, "creation_date": 1533848453, "post_id": 51766408, "comment_id": 90509889, "body": "It&#39;s nice but, how Can I use this same on HTML files as well?"}], "tags": [], "owner": {"reputation": 121, "user_id": 7264455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb7a0a31549d35925e0fd1a8cccd5a?s=128&d=identicon&r=PG", "display_name": "jilvanx", "link": "https://stackoverflow.com/users/7264455/jilvanx"}, "is_accepted": false, "score": 1, "last_activity_date": 1533815811, "creation_date": 1533815811, "answer_id": 51766408, "question_id": 51754694, "link": "https://stackoverflow.com/questions/51754694/ngbuild-changing-placeholder-according-to-environment/51766408#51766408", "title": "ngbuild changing placeholder according to environment", "body": "<p>In your project Angular 5 you have a directory \"environments\" like image bellow with 2 files:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gmU0T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gmU0T.png\" alt=\"Enviroments\"></a></p>\n\n<p><strong>environment.ts</strong>: This file exports a constant JSON object environment. If you refer environment object properties in your Angular project, during development mode i.e. ng serve or ng build all values shall be read from this file.</p>\n\n<p><strong>environment.prod.ts</strong>: This file exports same JSON object and should have same properties as of environment.ts file. When you build your application for production mode using ng build --prod in that case, all values of environment.ts file shall get overridden by environment.prod.ts files.</p>\n\n<p>Put development HTTP Url inside environment.ts file</p>\n\n<pre><code>export const environment = {\n  production: false,\n  baseUrl: 'https://fakerestapi.com/api'  \n};\n</code></pre>\n\n<p>Put production HTTP Url inside environment.prod.ts file:</p>\n\n<pre><code>export const environment = {\n  production: true,\n  baseUrl: 'https://production.com/api'\n};\n</code></pre>\n\n<p>In rest of Angular application, refer environment.baseUrl</p>\n\n<pre><code>import { environment } from '../environments/environment';\n\n\n@Injectable()\nexport class ClientService {  \n\n  baseUrl = environment.baseUrl;\n\n  constructor(private httpClient: HttpClient) { }\n\n  getClients(): Observable&lt;Client[]&gt; {\n    return this.httpClient.get&lt;Client[]&gt;(`${this.baseUrl}/clients`);\n  }\n}\n</code></pre>\n\n<p>I hope I helped you.</p>\n"}], "owner": {"reputation": 69, "user_id": 4198085, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eUi8PQXmisc/AAAAAAAAAAI/AAAAAAAADpQ/nNfMdVxWAeY/photo.jpg?sz=128", "display_name": "Fczanardo", "link": "https://stackoverflow.com/users/4198085/fczanardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533815811, "creation_date": 1533758285, "question_id": 51754694, "link": "https://stackoverflow.com/questions/51754694/ngbuild-changing-placeholder-according-to-environment", "title": "ngbuild changing placeholder according to environment", "body": "<p>I have an Angular 5 project. To get the package to deploy, I'm using NG BUILD command. But, I have some placeholders that I need to change accordingly with the environment. For example, I have one configuration file  placeholder. To PROD I need to change the value to <a href=\"http://blablabla.com\" rel=\"nofollow noreferrer\">http://blablabla.com</a>, and for TEST environment change to <a href=\"http://localhost\" rel=\"nofollow noreferrer\">http://localhost</a>. I'm sure if using NG BUILD I can do it.</p>\n"}, {"tags": ["typescript", "react-native", "yarnpkg"], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 6382792, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c985762a3e5e2fed1be6f4725a466ee4?s=128&d=identicon&r=PG&f=1", "display_name": "the-jackalope", "link": "https://stackoverflow.com/users/6382792/the-jackalope"}, "is_accepted": false, "score": 1, "last_activity_date": 1548449825, "creation_date": 1548449825, "answer_id": 54372655, "question_id": 51754684, "link": "https://stackoverflow.com/questions/51754684/managing-typescript-project-monorepo-with-yarn-and-ts-3-0/54372655#54372655", "title": "Managing typescript project monorepo with yarn and ts 3.0", "body": "<blockquote>\n  <p>At the moment I have 2 tsconfig files, I believe I can somehow merge them into one?</p>\n</blockquote>\n\n<p>You can't specify separate compilation targets from a single <code>tsconfig</code> file I believe, but if you want to lower the amount of repetition across files you can define a master <code>tsconfig.json</code> containing common configurations at the root of your project and have your project-specific <code>tsconfig.json</code>s <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#configuration-inheritance-with-extends\" rel=\"nofollow noreferrer\">extend from the master</a>.</p>\n\n<blockquote>\n  <p>is there a way for me to define multiple .d.ts files instead of my types filder and make my model and store interfaces available globally across projects somehow?</p>\n</blockquote>\n\n<p>Yes you can certainly define as many <code>.d.ts</code> files as you like anywhere you like and include them either in a <code>tsconfig.json</code> or ad hoc per file using a triple-slash directive:</p>\n\n<ul>\n<li>If you want to include them ad-hoc in each file, you'll need to use the <a href=\"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html\" rel=\"nofollow noreferrer\">triple-slash reference directive</a> and pass the <code>.d.ts</code> filepath as the argument.</li>\n<li>The easier way is to make them available to the compiler via <code>tsconfig</code>. If you use the <code>\"files\"</code> or <code>\"include\"</code> arrays to specify compiler inputs, simply add the relevant <code>.d.ts</code> files to the list. If you use only the <code>\"exclude\"</code> array, then make sure you don't exclude your <code>.d.ts</code> files.</li>\n</ul>\n\n<p>You'll likely want to keep yarn workspaces around as TS 3.0 has no tooling that can replace workspaces.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 35300, "user_id": 911930, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/HtpZB.jpg?s=128&g=1", "display_name": "Ilja", "link": "https://stackoverflow.com/users/911930/ilja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1548449825, "creation_date": 1533758255, "last_edit_date": 1533800009, "question_id": 51754684, "link": "https://stackoverflow.com/questions/51754684/managing-typescript-project-monorepo-with-yarn-and-ts-3-0", "title": "Managing typescript project monorepo with yarn and ts 3.0", "body": "<p>I've had following react native monorepo structure for a while now</p>\n\n<pre><code>/app\n  package.json\n/firebase\n  /functions\n    tsconfig.json\n    package.json\n/types\n  package.json\n/ios\n/android\ntsconfig.json\n</code></pre>\n\n<p><code>ios</code> and <code>android</code> folders are respective native code, so we don't really care about them, just included here for nore complete example.</p>\n\n<p>Actual projects are:</p>\n\n<p><code>app</code> - app logic</p>\n\n<p><code>firebase/functions</code> - backend logic</p>\n\n<p><code>types</code> - interfaces of models and stores</p>\n\n<p>each has <code>package.json</code> file with name attribute like <code>@MyCompany/app</code>. This is done for <a href=\"https://yarnpkg.com/lang/en/docs/cli/workspace/\" rel=\"noreferrer\">yarn workspaces</a> and allows me to easily import things between projects.</p>\n\n<p>Thus far it was good and now typescript 3 came out and I want to see if there is a way to clean this up?</p>\n\n<p>At the moment I have 2 <code>tsconfig</code> files, I believe I can somehow merge them into one?</p>\n\n<p>Also, is there a way for me to define multiple <code>.d.ts</code> files instead of my <code>types</code> filder and make my model and store interfaces avaliable globally across projects somehow?</p>\n\n<p>If I use typescript 3, do I need to keep yarn workspaces? These projects are not published anywhere, but deployed to different targets</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "phpstorm", "phpstorm-2018.2"], "comments": [{"owner": {"reputation": 136418, "user_id": 783119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbfd3e5e9f8b698abf7cd1c7aae7a10?s=128&d=identicon&r=PG", "display_name": "LazyOne", "link": "https://stackoverflow.com/users/783119/lazyone"}, "edited": false, "score": 2, "creation_date": 1533806722, "post_id": 51754555, "comment_id": 90485411, "body": "For reference purposes: <a href=\"https://youtrack.jetbrains.com/issue/WI-43146\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/WI-43146</a>"}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1533808094, "post_id": 51754555, "comment_id": 90486321, "body": "this should just work; I&#39;ve replied in youtrack ticket"}], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 2, "last_activity_date": 1533812501, "creation_date": 1533812501, "answer_id": 51765241, "question_id": 51754555, "link": "https://stackoverflow.com/questions/51754555/phpstorm-not-recognizing-webpack-alias/51765241#51765241", "title": "PhpStorm not recognizing webpack alias", "body": "<p>Webpack aliases resolving is not supported when editing TypeScript files, current TypeScript support implementation uses only the TypeScript resolution logic because we need to keep integration with the TypeScript language service (that is not aware of webpack aliases).\nYou can configure similar mappings in your <code>tsconfig.json</code> file, like:</p>\n\n<pre><code>\"baseUrl\": \"\",\n    \"paths\": {\n      \"Design/*\": [\"src/Theme/Default/*\"]\n    }\n</code></pre>\n\n<p>If you miss support for webpack resolving in TypeScript, please vote for <a href=\"https://youtrack.jetbrains.com/issue/WEB-29207\" rel=\"nofollow noreferrer\">WEB-29207</a></p>\n"}], "owner": {"reputation": 2443, "user_id": 3676373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HF3ws.jpg?s=128&g=1", "display_name": "Marvin Fischer", "link": "https://stackoverflow.com/users/3676373/marvin-fischer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 51765241, "answer_count": 1, "score": 0, "last_activity_date": 1533813109, "creation_date": 1533757673, "last_edit_date": 1533813109, "question_id": 51754555, "link": "https://stackoverflow.com/questions/51754555/phpstorm-not-recognizing-webpack-alias", "title": "PhpStorm not recognizing webpack alias", "body": "<p>My <code>webpack.config.js</code> contains the following part:</p>\n\n<pre><code>resolve: {\n    extensions: ['*', '.js', '.ts', '.tsx'],\n    modules: [\n        path.resolve(__dirname, \"src\"),\n        path.resolve(__dirname, \"node_modules\"),\n    ],\n    alias: {\n        Design: path.resolve(__dirname, \"src/Theme/Default\")\n    }\n},\n</code></pre>\n\n<p>There are 2 folders in this <code>src/Theme</code> folder: <code>Default</code> &amp; <code>Dark</code>. I want to switch it in the alias setting when needed, it's not user controlled.</p>\n\n<p>The import I use:</p>\n\n<pre><code>import Page from 'Design/Components/Page';\n</code></pre>\n\n<p>Webpack is working correctly with this but PhpStorm 2018.2 does not recognize this path as correct.</p>\n\n<p>My PhpStorm settings for webpack are set to the path of my webpack.config.js.</p>\n\n<p>More details and examples / logs can be found here: <a href=\"https://youtrack.jetbrains.com/issue/WI-43146\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/WI-43146</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1533756549, "post_id": 51754287, "comment_id": 90468217, "body": "Types don&#39;t exist at runtime."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1533756595, "post_id": 51754287, "comment_id": 90468239, "body": "Yeah I&#39;m thinking I probably need a @Query() annotation on the query methods as well ... But figured I&#39;d check to see if anyone knew of a reflective way to avoid it ..."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1533756627, "post_id": 51754287, "comment_id": 90468253, "body": "Why not just do that manually? <code>query() { super.query(state); }</code> is not that much. Or just add the state property to <code>TodoStore</code> ?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1533756742, "post_id": 51754287, "comment_id": 90468302, "body": "I&#39;d like to have a @Store annotation at the class level that detects all the methods that take a state parameters so that I can wrap that ... which I think is the leanest / most minimal way to have store functionality similar to Ngxs / Ngrx, but without all the boilerplate ..."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1533756882, "post_id": 51754287, "comment_id": 90468355, "body": "Hmmm ... True Dat ... All the implementations of @Store could just have constructor that takes State as an injection argument ... which eliminates the need for the wrapper ... Good thought ..."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1533757243, "post_id": 51754287, "comment_id": 90468514, "body": "&quot;<i>find all the methods that have a State argument as the first argument, so that these can be wrapped by a function that passes in the state argument</i>&quot; - this is what decorators are for (which also are explicit instead of relying on brittle typing information), not signature detection at runtime."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1533760094, "post_id": 51754287, "comment_id": 90469884, "body": "@Bergi true ... but we have to annotate the methods .. just seeing if I can get away with not doing that ... But I agree that it&#39;s probably a more robust approach to just use the annotation ..."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1533758339, "creation_date": 1533758339, "answer_id": 51754712, "question_id": 51754287, "link": "https://stackoverflow.com/questions/51754287/detecting-method-signature-in-typescript/51754712#51754712", "title": "Detecting method signature in Typescript?", "body": "<p>While at runtime we don't have the type information to find out which functions have a state parameter, we can at compile time create a type that by its structure requires us to specify in an object literal all methods that have a first argument of type state. While this approach does require us to specify the method it is safe, as the compiler will throw an error if we forget a method and will also throw an error if we specify a name that is not such a method. </p>\n\n<p>We can also combine this with a type that removes the state parameter from all methods that have it :</p>\n\n<pre><code>class TodoStore {\n    query(state: State): Array&lt;Observable&lt;any&gt;&gt; {\n        return state.getAll(); //Custom implementation\n    }\n    queryWithParam(state: State, p:string): Array&lt;Observable&lt;any&gt;&gt; {\n        return state.getAll(); //Custom implementation\n    }\n}\n\ntype StateMethods&lt;T&gt; = Record&lt;{\n    [P in keyof T]: T[P] extends ((s:State, ...a:any[])=&gt; any) ? P : never\n}[keyof T], true&gt;\n\ntype Wrapped&lt;T&gt; = {\n    [P in keyof T]:\n    T[P] extends ((s: State, ...a: infer A) =&gt; infer R) ?\n        (...a: A) =&gt; R :\n        T[P]\n}\n\nfunction createWrapper&lt;T&gt;(toWrap:T, methods: StateMethods&lt;T&gt;): Wrapped&lt;T&gt;{\n    return null as any;\n}\n\nlet w = createWrapper(new TodoStore(), { // This object will be checked by the compiler to contain the keys of all relevant methods \n    query: true,\n    queryWithParam: true \n});\n\nw.query()\nw.queryWithParam(\"\")\n</code></pre>\n\n<p>A decorator approach is also possible and you should see which fits better for your use case, but this approach can work as well. </p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=class%20State%20%7B%0D%0A%20%20%20%20private%20x%3A%20string%3B%0D%0A%20%20%20%20getAll()%3A%20Observable%3Cany%3E%5B%5D%7B%0D%0A%20%20%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Observable%3CT%3E%7B%20v%3A%20T%20%7D%0D%0Aclass%20TodoStore%20%7B%0D%0A%20%20%20%20query(state%3A%20State)%3A%20Array%3CObservable%3Cany%3E%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.getAll()%3B%20%2F%2FCustom%20implementation%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20queryWithParam(state%3A%20State%2C%20p%3Astring)%3A%20Array%3CObservable%3Cany%3E%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.getAll()%3B%20%2F%2FCustom%20implementation%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Atype%20StateMethods%3CT%3E%20%3D%20Record%3C%7B%0D%0A%20%20%20%20%5BP%20in%20keyof%20T%5D%3A%20T%5BP%5D%20extends%20((s%3AState%2C%20...a%3Aany%5B%5D)%3D%3E%20any)%20%3F%20P%20%3A%20never%0D%0A%7D%5Bkeyof%20T%5D%2C%20true%3E%0D%0A%0D%0Atype%20Wrapped%3CT%3E%20%3D%20%7B%0D%0A%20%20%20%20%5BP%20in%20keyof%20T%5D%3A%0D%0A%20%20%20%20T%5BP%5D%20extends%20((s%3A%20State%2C%20...a%3A%20infer%20A)%20%3D%3E%20infer%20R)%20%3F%0D%0A%20%20%20%20%20%20%20%20(...a%3A%20A)%20%3D%3E%20R%20%3A%0D%0A%20%20%20%20%20%20%20%20T%5BP%5D%0D%0A%7D%0D%0A%0D%0Afunction%20createWrapper%3CT%3E(toWrap%3AT%2C%20methods%3A%20StateMethods%3CT%3E)%3A%20Wrapped%3CT%3E%7B%0D%0A%20%20%20%20return%20null%20as%20any%3B%0D%0A%7D%0D%0A%0D%0Alet%20w%20%3D%20createWrapper(new%20TodoStore()%2C%20%7B%0D%0A%20%20%20%20query%3A%20true%2C%0D%0A%20%20%20%20queryWithParam%3A%20true%0D%0A%7D)%3B%0D%0A%0D%0Aw.query()%0D%0Aw.queryWithParam(%22%22)\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 51754712, "answer_count": 1, "score": 1, "last_activity_date": 1533758339, "creation_date": 1533756445, "question_id": 51754287, "link": "https://stackoverflow.com/questions/51754287/detecting-method-signature-in-typescript", "title": "Detecting method signature in Typescript?", "body": "<p>Suppose we have something like this:</p>\n\n<pre><code>    class TodoStore {\n      query(state:State):Array&lt;Observable&lt;any&gt;&gt; {\n        return state.getAll(); //Custom implementation\n      }\n    }\n</code></pre>\n\n<p>At runtime I'd like to find all the methods that have a <code>State</code> argument as the first argument, so that these can be wrapped by a function that passes in the state argument.  Is this possible with Typescript? </p>\n\n<p>The wrapper class would work approximately like this:</p>\n\n<pre><code>class TodoStoreWrapper {\n    constructor(private state:State);\n    todoStore: TodoStore = new TodoStore();\n    query() {\n        todoStore.query(state);\n    } \n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1533753792, "last_edit_date": 1533753792, "creation_date": 1533752263, "answer_id": 51753252, "question_id": 51753015, "link": "https://stackoverflow.com/questions/51753015/what-does-the-syntax-mean-in-typescript-mapped-types/51753252#51753252", "title": "What does the &quot;-?&quot; syntax mean in TypeScript mapped types?", "body": "<p>It's not a wildcard.  The <code>-?</code> notation was added in TypeScript 2.8 as a way of <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#improved-control-over-mapped-type-modifiers\" rel=\"noreferrer\">removing the optional modifier</a> from mapped types.</p>\n\n<p>Basically, it means that <code>ValidationMap&lt;T&gt;</code> has the same keys as <code>T</code>, but none of the properties of <code>ValidationMap&lt;T&gt;</code> is optional, even if the corresponding property of <code>T</code> is.  For example:</p>\n\n<pre><code>type Example = ValidationMap&lt;{a: string, b?: number | undefined}&gt;;\n// type Example = {a: Validator&lt;string&gt;, b: Validator&lt;number | undefined&gt;}\n</code></pre>\n\n<p>Here, <code>Example</code> has a required <code>b</code> property even though the type it's mapped from has an optional <code>b</code> property.  </p>\n\n<p>(Note that if you change <code>-?</code> to just <code>?</code> or to <code>+?</code>, it becomes the opposite... you would be <em>adding</em> the optional modifier.  The <code>?</code> notation was added in TypeScript 2.1 as part of the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#mapped-types\" rel=\"noreferrer\">mapped types</a> feature, while the <code>+?</code> notation was introduced in TypeScript 2.8 along with <code>-?</code>.)</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 261, "user_id": 10199290, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sVcuBiNqwlw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7peTwGjfxuD2_NsuOBeIH4REZlYYQ/mo/photo.jpg?sz=128", "display_name": "Natasha", "link": "https://stackoverflow.com/users/10199290/natasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 51753252, "answer_count": 1, "score": 4, "last_activity_date": 1533753792, "creation_date": 1533751388, "last_edit_date": 1533753611, "question_id": 51753015, "link": "https://stackoverflow.com/questions/51753015/what-does-the-syntax-mean-in-typescript-mapped-types", "title": "What does the &quot;-?&quot; syntax mean in TypeScript mapped types?", "body": "<p>Can anybody please explain what that \"-?\" in the following TypeScript type declarations\nmeans, compared to just using a \"?\" there?</p>\n\n<pre><code>type ValidationMap&lt;T&gt; = { [K in keyof T]-?: Validator&lt;T[K]&gt; }\n</code></pre>\n"}, {"tags": ["jquery", "asp.net", "angular", "typescript"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533749641, "post_id": 51752476, "comment_id": 90464887, "body": "You will need a <code>showText</code> property per <code>fruit</code>, either as a property on the <code>fruit</code> object, or in a separate array"}, {"owner": {"reputation": 2085, "user_id": 1920827, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d4d1b740f57139b7bfd1eef2c993b4e0?s=128&d=identicon&r=PG", "display_name": "Pearl", "link": "https://stackoverflow.com/users/1920827/pearl"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533749720, "post_id": 51752476, "comment_id": 90464937, "body": "@user184994 Any demo would be appreciated."}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 1, "creation_date": 1533749879, "post_id": 51752476, "comment_id": 90465019, "body": "<a href=\"https://stackblitz.com/edit/angular-thcrnk\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-thcrnk</a>"}, {"owner": {"reputation": 792, "user_id": 4035232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kYD7U.jpg?s=128&g=1", "display_name": "Anto Antony", "link": "https://stackoverflow.com/users/4035232/anto-antony"}, "edited": false, "score": 0, "creation_date": 1533751559, "post_id": 51752476, "comment_id": 90465886, "body": "@Pearl Demo using a directive. might be helpful to you. <a href=\"https://stackblitz.com/edit/angular-append-and-remove-element-using-directive\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": false, "score": 1, "last_activity_date": 1533749677, "creation_date": 1533749677, "answer_id": 51752550, "question_id": 51752476, "link": "https://stackoverflow.com/questions/51752476/angular-ngfor-individual-item-events/51752550#51752550", "title": "Angular ngFor individual item events", "body": "<p>You need to use index for showText</p>\n\n<pre><code> showText: any = [];\n\n  hoverStateIn(index){\n    this.showText[index] = true;\n  }\n\n  hoverStateOut(index){\n    this.showText[index] = false;\n  }\n\n&lt;ul&gt; \n&lt;li class=\"txt-block\"\n    *ngFor='let fruit of fruitsToDisplay;let i = index'&gt;\n  &lt;div class=\"form-control\"&gt;\n      &lt;input type='text' (mouseenter)=\"hoverStateIn(i)\" (mouseleave)=\"hoverStateOut(i)\" id = 'frt'+i name='fruit'/&gt;\n      &lt;span *ngIf = 'showText[i]'&gt; {{fruit}} &lt;/span&gt;\n    &lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n\n<p>Here is the stackblitz code <a href=\"https://stackblitz.com/edit/angular-yh1cd4\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-yh1cd4</a></p>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 2110759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zjfPt.png?s=128&g=1", "display_name": "alexc", "link": "https://stackoverflow.com/users/2110759/alexc"}, "is_accepted": false, "score": 1, "last_activity_date": 1533749881, "creation_date": 1533749881, "answer_id": 51752592, "question_id": 51752476, "link": "https://stackoverflow.com/questions/51752476/angular-ngfor-individual-item-events/51752592#51752592", "title": "Angular ngFor individual item events", "body": "<p>The problem is that you have no binding between your mouseenter handler and the span that you need to show, this needs to be a one to one relationship, whereas in your case, it is a one to many relationship. Changing your code to fix this issue would look like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>showText: Array&lt;boolean&gt; = this.fruitsToDisplay.map(value =&gt; false);\r\n\r\n  hoverStateIn(index){\r\n    this.showText[index] = true\r\n  }\r\n\r\n  hoverStateOut(index){\r\n    this.showText[index] = false;\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt; \r\n&lt;li class=\"txt-block\"\r\n    *ngFor='let fruit of fruitsToDisplay;let i = index'&gt;\r\n  &lt;div class=\"form-control\"&gt;\r\n      &lt;input type='text' (mouseenter)=\"hoverStateIn(i)\" (mouseleave)=\"hoverStateOut(i)\" id = 'frt'+i name='fruit'/&gt;\r\n      &lt;span *ngIf = 'showText[i]'&gt; {{fruit}} &lt;/span&gt;\r\n    &lt;/li&gt;\r\n &lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "is_accepted": false, "score": 2, "last_activity_date": 1533750325, "last_edit_date": 1533750325, "creation_date": 1533749959, "answer_id": 51752611, "question_id": 51752476, "link": "https://stackoverflow.com/questions/51752476/angular-ngfor-individual-item-events/51752611#51752611", "title": "Angular ngFor individual item events", "body": "<p>You can actually do this using CSS, which may be simpler. It also reduces the need to maintain the <code>hover</code> state in your TS code, so you can remove the <code>(mouseenter)</code> and <code>(mouseleave)</code> bindings.</p>\n\n<p>By default, set it to <code>display: none</code>:</p>\n\n<pre><code>input + span {\n  display: none;\n}\n</code></pre>\n\n<p>When the <code>input</code> is in a <code>hover</code> state, then display the span</p>\n\n<pre><code>input:hover + span {\n  display: inline-block;\n}\n</code></pre>\n\n<p>You may want to give the <code>span</code> a useful class name to use instead of just using <code>span</code> in the CSS rule, but that's up to you</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-s9t7qq?file=src%2Fapp%2Fapp.component.css\" rel=\"nofollow noreferrer\">Here is a demo on StackBlitz</a></strong></p>\n"}], "owner": {"reputation": 2085, "user_id": 1920827, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d4d1b740f57139b7bfd1eef2c993b4e0?s=128&d=identicon&r=PG", "display_name": "Pearl", "link": "https://stackoverflow.com/users/1920827/pearl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533750325, "creation_date": 1533749417, "question_id": 51752476, "link": "https://stackoverflow.com/questions/51752476/angular-ngfor-individual-item-events", "title": "Angular ngFor individual item events", "body": "<p>TypeScript:</p>\n\n<pre><code>showText: boolean = false;\n\n  hoverStateIn(){\n    this.showText = true\n  }\n\n  hoverStateOut(){\n    this.showText = false;\n  }\n</code></pre>\n\n<p>Html</p>\n\n<pre><code>&lt;ul&gt; \n&lt;li class=\"txt-block\"\n    *ngFor='let fruit of fruitsToDisplay;let i = index'&gt;\n  &lt;div class=\"form-control\"&gt;\n      &lt;input type='text' (mouseenter)=\"hoverStateIn()\" (mouseleave)=\"hoverStateOut()\" id = 'frt'+i name='fruit'/&gt;\n      &lt;span *ngIf = 'showText'&gt; {{fruit}} &lt;/span&gt;\n    &lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n\n<p>Here we are getting the textboxes dynamically using the ngFor. When ever mouseenter happens in the textbox, I want to show corresponding Span element.</p>\n\n<p>But whenever, I am entering mouse in to a specific text box, all the span elements are showing. Please help to resolve the issue.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533748281, "post_id": 51752067, "comment_id": 90464140, "body": "What version of <code>rxjs</code> are you using? Also, what is <code>userData</code>, because the <code>get</code> function is expecting a URL"}, {"owner": {"reputation": 530, "user_id": 1683904, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/2c1607d952513f9b4fd1b012d8b32eb6?s=128&d=identicon&r=PG", "display_name": "roymckrank", "link": "https://stackoverflow.com/users/1683904/roymckrank"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533748474, "post_id": 51752067, "comment_id": 90464232, "body": "This: rxjs@^6.0.0"}], "answers": [{"tags": [], "owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "is_accepted": true, "score": 2, "last_activity_date": 1533748571, "creation_date": 1533748571, "answer_id": 51752242, "question_id": 51752067, "link": "https://stackoverflow.com/questions/51752067/pass-returned-value-from-a-method-in-a-service-to-another-method/51752242#51752242", "title": "Pass returned value from a method in a service to another method", "body": "<p>You can use the <code>switchMap</code> function, like so:</p>\n\n<pre><code>return this.http.get&lt;User[]&gt;(`${this.appLogin}` + id + '?token=' + token)\n    .pipe(switchMap(userData) =&gt; this.http.get&lt;User[]&gt;(`${userData}`))\n</code></pre>\n\n<p>You may need to add the following import statement for <code>switchMap</code>:</p>\n\n<pre><code>import { switchMap } from 'rxjs/operators';\n</code></pre>\n\n<p>By piping the original request through <code>switchMap</code>, we can create a new <code>Observable</code></p>\n"}], "owner": {"reputation": 530, "user_id": 1683904, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/2c1607d952513f9b4fd1b012d8b32eb6?s=128&d=identicon&r=PG", "display_name": "roymckrank", "link": "https://stackoverflow.com/users/1683904/roymckrank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 51752242, "answer_count": 1, "score": 0, "last_activity_date": 1533748571, "creation_date": 1533747916, "question_id": 51752067, "link": "https://stackoverflow.com/questions/51752067/pass-returned-value-from-a-method-in-a-service-to-another-method", "title": "Pass returned value from a method in a service to another method", "body": "<p>I have a service that connects to 2 different API endpoints, this one gets the user's id and a JWT token:</p>\n\n<pre><code>@Injectable()\n export class UserService {\n\n  appLogin = 'http://url.for.the.login.api';\n  //returns id and token\n  userData = 'http://url.for.the.user_info.api';\n  //returns user info\n\n  constructor(private http: HttpClient) { }\n\n  getAll() {\n    return this.http.get&lt;User[]&gt;(`${this.appLogin}`);\n    //gets id and token, can display values in the template like this {{currentUser.id}}\n  }\n\n }\n</code></pre>\n\n<p>Then I need that another method uses the id and the token returned to use those values to make another <code>GET</code>request, like this:\n<code>http://url.for.the.user_info.api/userID?token=token_string</code></p>\n\n<p>I have this:</p>\n\n<pre><code> getInfo(id: number, token: string) {\n\n    let userData = this.http.get&lt;User[]&gt;(`${this.appLogin}` + id + '?token=' + token);\n    return this.http.get&lt;User[]&gt;(`${userData}`);\n}\n</code></pre>\n\n<p>But I'm lost with this, thank you for your help.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "angularfire2", "basic-authentication"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533748035, "post_id": 51752002, "comment_id": 90464022, "body": "You need to add the <code>AngularFireAuth</code> into your modules <code>providers</code> array"}, {"owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533748314, "post_id": 51752002, "comment_id": 90464159, "body": "Thanks for the reply, as per your suggestion i have added this dependency still it&#39;s not working."}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533748360, "post_id": 51752002, "comment_id": 90464183, "body": "Can you edit your question and add the code for your module then please?"}, {"owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533748762, "post_id": 51752002, "comment_id": 90464389, "body": "i have edited can you please check."}, {"owner": {"reputation": 208, "user_id": 2110759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zjfPt.png?s=128&g=1", "display_name": "alexc", "link": "https://stackoverflow.com/users/2110759/alexc"}, "edited": false, "score": 0, "creation_date": 1533749015, "post_id": 51752002, "comment_id": 90464536, "body": "What exactly is AngularFireAuth? Is it a class? Is it an instance? Depending on this, you will need to change your provider statement to reflect the type of provider that you are adding. For example, if AngularFireAuth is a class that requires instancing, you would provide it like this <code>{ provide: &#39;AngularFireAuth&#39;, useClass: AngularFireAuth }</code>. If you are dealing with an instance or an import that does not require instancing, your do <code>{ provide: &#39;AngularFireAuth&#39;, useValue: AngularFireAuth }</code>. In your component, both cases, injecting would look like <code>@Inject(&#39;AngularFireAuth&#39;) private afAuth</code>"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533750812, "post_id": 51752002, "comment_id": 90465465, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43772474/no-provider-for-angularfiredatabase-angularfireauth\">No provider for AngularFireDatabase, AngularFireAuth</a>"}, {"owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "edited": false, "score": 0, "creation_date": 1533793647, "post_id": 51752002, "comment_id": 90478322, "body": "Probably possible,thank you i will check it."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "edited": false, "score": 0, "creation_date": 1533828035, "post_id": 51759640, "comment_id": 90500050, "body": "Hi Tim, i am getting compilation error with import { AngularFirestoreModule } from &#39;angularfire2/firestore&#39;;"}, {"owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "reply_to_user": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "edited": false, "score": 0, "creation_date": 1533877338, "post_id": 51759640, "comment_id": 90516276, "body": "@UmeshC can you add version numbers of angularfire2, firebase and also the error you&#39;re getting"}, {"owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "edited": false, "score": 0, "creation_date": 1533918689, "post_id": 51759640, "comment_id": 90538721, "body": "Please check the version numbers ,     &quot;angularfire2&quot;: &quot;^4.0.0-rc.1&quot;,     &quot;firebase&quot;: &quot;^4.2.0&quot;, and the error : [ts] Cannot find module &#39;angularfire2/firestore&#39;."}], "tags": [], "owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "is_accepted": false, "score": 0, "last_activity_date": 1533793773, "creation_date": 1533793773, "answer_id": 51759640, "question_id": 51752002, "link": "https://stackoverflow.com/questions/51752002/how-to-implement-the-google-auth-login-in-angular-4/51759640#51759640", "title": "How to implement the google auth login in angular 4", "body": "<p>The module setup is wrong. Your providing for AngularFireAuth (<code>providers: [AngularFireAuth]</code>). Remove this and add <code>AngularFireAuthModule</code> to your imports:</p>\n\n<pre><code>...\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n...\n\n@NgModule({\n    imports: [\n        ...\n        // Firebase\n        AngularFireModule.initializeApp(environment.firebase, 'my-app-name'), // imports firebase/app needed for everything\n        AngularFirestoreModule, // imports firebase/firestore, only needed for database features\n        AngularFireAuthModule, // imports firebase/auth, only needed for auth features,\n        ...\n    ],\n    providers: [\n        // remove AngularFireAuth\n    ],\n    ...\n})\n</code></pre>\n\n<p>Check the <a href=\"https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md\" rel=\"nofollow noreferrer\">Setup Guide</a> for more information.</p>\n"}], "owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1533793773, "creation_date": 1533747658, "last_edit_date": 1533748726, "question_id": 51752002, "link": "https://stackoverflow.com/questions/51752002/how-to-implement-the-google-auth-login-in-angular-4", "title": "How to implement the google auth login in angular 4", "body": "<p>I am new to angular, i am stuck with implementing the google login. I have created a button which on click it is not redirecting me to google login page i am getting error. I don't know what is causing this error. So I'm sharing my code:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { AngularFireAuth} from 'angularfire2/auth';\nimport * as firebase from 'firebase';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent  {\n  constructor(private afAuth: AngularFireAuth ){}\n\n  loginbtn() {\n    return this.afAuth.auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider());\n  }\n\n}\n</code></pre>\n\n<p>module:</p>\n\n<pre><code>import { AngularFireAuth} from 'angularfire2/auth';\nproviders: [AngularFireAuth]\n</code></pre>\n\n<p>error :</p>\n\n<pre><code>core.js:1449 ERROR Error: Uncaught (in promise): Error: StaticInjectorError(AppModule)[LoginComponent -&gt; AngularFireAuth]: \n  StaticInjectorError(Platform: core)[LoginComponent -&gt; AngularFireAuth]: \n    NullInjectorError: No provider for AngularFireAuth!\nError: StaticInjectorError(AppModule)[LoginComponent -&gt; AngularFireAuth]: \n  StaticInjectorError(Platform: core)[LoginComponent -&gt; AngularFireAuth]: \n    NullInjectorError: No provider for AngularFireAuth!\n    at _NullInjector.get (core.js:1003)\n    at resolveToken (core.js:1301)\n    at tryResolveToken (core.js:1243)\n    at StaticInjector.get (core.js:1111)\n    at resolveToken (core.js:1301)\n    at tryResolveToken (core.js:1243)\n    at StaticInjector.get (core.js:1111)\n    at resolveNgModuleDep (core.js:10896)\n    at NgModuleRef_.get (core.js:12129)\n    at resolveDep (core.js:12619)\n    at _NullInjector.get (core.js:1003)\n    at resolveToken (core.js:1301)\n    at tryResolveToken (core.js:1243)\n    at StaticInjector.get (core.js:1111)\n    at resolveToken (core.js:1301)\n    at tryResolveToken (core.js:1243)\n    at StaticInjector.get (core.js:1111)\n    at resolveNgModuleDep (core.js:10896)\n    at NgModuleRef_.get (core.js:12129)\n    at resolveDep (core.js:12619)\n    at resolvePromise (zone.js:814)\n    at resolvePromise (zone.js:771)\n    at eval (zone.js:873)\n    at ZoneDelegate.invokeTask (zone.js:421)\n    at Object.onInvokeTask (core.js:4751)\n    at ZoneDelegate.invokeTask (zone.js:420)\n    at Zone.runTask (zone.js:188)\n    at drainMicroTaskQueue (zone.js:595)\n    at ZoneTask.invokeTask [as invoke] (zone.js:500)\n    at invokeTask (zone.js:1540)\n</code></pre>\n"}, {"tags": ["typescript", "google-visualization"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9793440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wdAcExO52OQ/AAAAAAAAAAI/AAAAAAAAAPk/Bpr9W0hoJL0/photo.jpg?sz=128", "display_name": "Anurag Mishra", "link": "https://stackoverflow.com/users/9793440/anurag-mishra"}, "edited": false, "score": 0, "creation_date": 1533746270, "post_id": 51751521, "comment_id": 90463073, "body": "I get the same error can  you show it in the stackblitz snippet?"}, {"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "reply_to_user": {"reputation": 31, "user_id": 9793440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wdAcExO52OQ/AAAAAAAAAAI/AAAAAAAAAPk/Bpr9W0hoJL0/photo.jpg?sz=128", "display_name": "Anurag Mishra", "link": "https://stackoverflow.com/users/9793440/anurag-mishra"}, "edited": false, "score": 0, "creation_date": 1533747072, "post_id": 51751521, "comment_id": 90463514, "body": "the only error i see is <i>incompatible data table: Error: Unknown address type.&#215;</i> -- not sure where this is coming from..."}, {"owner": {"reputation": 31, "user_id": 9793440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wdAcExO52OQ/AAAAAAAAAAI/AAAAAAAAAPk/Bpr9W0hoJL0/photo.jpg?sz=128", "display_name": "Anurag Mishra", "link": "https://stackoverflow.com/users/9793440/anurag-mishra"}, "edited": false, "score": 0, "creation_date": 1533971298, "post_id": 51751521, "comment_id": 90551679, "body": "I tried the same using angular-google-charts and get the same error <a href=\"https://stackblitz.com/edit/angular-advanced?embed=1&amp;file=src/app/single-country/single-country.component.ts&amp;hideExplorer=1&amp;hideNavigation=1\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-advanced?embed=1&amp;file=src/app/&hellip;</a>"}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": false, "score": 0, "last_activity_date": 1533745720, "creation_date": 1533745720, "answer_id": 51751521, "question_id": 51751390, "link": "https://stackoverflow.com/questions/51751390/geochart-addlistener-error-error-invalid-column-index-null-should-be-an-int/51751521#51751521", "title": "GeoChart : addListener :ERROR Error: Invalid column index null. Should be an integer in the range [0-1]", "body": "<p>GeoChart only returns the row index, and null for the column  </p>\n\n<p>use column 0 (zero), it will always be the column for country name   </p>\n\n<p>see following working snippet...  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load('current', {\r\n  'packages':['geochart'],\r\n  // Note: you will need to get a mapsApiKey for your project.\r\n  // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings\r\n  'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'\r\n});\r\ngoogle.charts.setOnLoadCallback(drawRegionsMap);\r\n\r\nfunction drawRegionsMap() {\r\n  var data = google.visualization.arrayToDataTable([\r\n    ['Country', 'Popularity'],\r\n    ['Germany', 200],\r\n    ['United States', 300],\r\n    ['Brazil', 400],\r\n    ['Canada', 500],\r\n    ['France', 600],\r\n    ['RU', 700]\r\n  ]);\r\n\r\n  var options = {};\r\n\r\n  var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));\r\n\r\n  google.visualization.events.addListener(chart, 'select', selectHandler);\r\n\r\n  function selectHandler() {\r\n    var selectedItem = chart.getSelection();\r\n    if (selectedItem.length &gt; 0) {\r\n      console.log(data.getValue(selectedItem[0].row, 0));\r\n    }\r\n  }\r\n\r\n  chart.draw(data, options);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"chart_div\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 31, "user_id": 9793440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wdAcExO52OQ/AAAAAAAAAAI/AAAAAAAAAPk/Bpr9W0hoJL0/photo.jpg?sz=128", "display_name": "Anurag Mishra", "link": "https://stackoverflow.com/users/9793440/anurag-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533745720, "creation_date": 1533745241, "question_id": 51751390, "link": "https://stackoverflow.com/questions/51751390/geochart-addlistener-error-error-invalid-column-index-null-should-be-an-int", "title": "GeoChart : addListener :ERROR Error: Invalid column index null. Should be an integer in the range [0-1]", "body": "<p>I am trying to get country name of the clicked country from Google GeoChart but I am getting the mentioned error by using addListner.</p>\n\n<p>stack Blitz link: <a href=\"https://stackblitz.com/edit/angular-advanced?embed=1&amp;file=src/app/home/home.component.ts&amp;hideExplorer=1&amp;hideNavigation=1\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-advanced?embed=1&amp;file=src/app/home/home.component.ts&amp;hideExplorer=1&amp;hideNavigation=1</a></p>\n\n<p>Also, is it possible to display the color axis bar with region name as for the selected color?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 228, "user_id": 2054612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a79aa09e2b54b4b40c787b132125698?s=128&d=identicon&r=PG&f=1", "display_name": "byj", "link": "https://stackoverflow.com/users/2054612/byj"}, "edited": false, "score": 0, "creation_date": 1533745759, "post_id": 51751171, "comment_id": 90462805, "body": "Have you checked whether <code>this.needService.delete</code> call is working fine? If flow is going to error part then it means that call is failing."}, {"owner": {"reputation": 17, "user_id": 10132886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6287364a6263b6ea0af2c6d76872d2?s=128&d=identicon&r=PG&f=1", "display_name": "GregorSind", "link": "https://stackoverflow.com/users/10132886/gregorsind"}, "reply_to_user": {"reputation": 228, "user_id": 2054612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a79aa09e2b54b4b40c787b132125698?s=128&d=identicon&r=PG&f=1", "display_name": "byj", "link": "https://stackoverflow.com/users/2054612/byj"}, "edited": false, "score": 0, "creation_date": 1533745981, "post_id": 51751171, "comment_id": 90462928, "body": "The respective record is indeed deleted from data base - that allows me for making asumption that this line works, however I am very new to JS(TS) and there may be something I am not aware of."}, {"owner": {"reputation": 228, "user_id": 2054612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a79aa09e2b54b4b40c787b132125698?s=128&d=identicon&r=PG&f=1", "display_name": "byj", "link": "https://stackoverflow.com/users/2054612/byj"}, "edited": false, "score": 0, "creation_date": 1533746176, "post_id": 51751171, "comment_id": 90463027, "body": "Can you please edit the question to add details of <code>this.needService.delete</code>?"}, {"owner": {"reputation": 17, "user_id": 10132886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6287364a6263b6ea0af2c6d76872d2?s=128&d=identicon&r=PG&f=1", "display_name": "GregorSind", "link": "https://stackoverflow.com/users/10132886/gregorsind"}, "reply_to_user": {"reputation": 228, "user_id": 2054612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a79aa09e2b54b4b40c787b132125698?s=128&d=identicon&r=PG&f=1", "display_name": "byj", "link": "https://stackoverflow.com/users/2054612/byj"}, "edited": false, "score": 0, "creation_date": 1533798919, "post_id": 51751171, "comment_id": 90480796, "body": "Thank you for additional question, I have provided further details at the end of question post."}], "owner": {"reputation": 17, "user_id": 10132886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6287364a6263b6ea0af2c6d76872d2?s=128&d=identicon&r=PG&f=1", "display_name": "GregorSind", "link": "https://stackoverflow.com/users/10132886/gregorsind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533798871, "creation_date": 1533744395, "last_edit_date": 1533798871, "question_id": 51751171, "link": "https://stackoverflow.com/questions/51751171/angular-observables-dialogwindow-syncfusion", "title": "Angular Observables DialogWindow SyncFusion", "body": "<p>I'm trying to add frontend (Angular) to backend application and I have very little experience in this regard, so I got stuck. </p>\n\n<p>The following code prints Error. <br> The code is related to the pop-up window with two options: OK and QUIT. <br> This happens when OK is choosen. <br> The code is supposed to remove data from DB (what happens) and hide pop-up window (what does not happen). </p>\n\n<pre><code>private deleteNeed: EmitType&lt;object&gt; = () =&gt; {\n  console.log(this.needToDelete);\n  this.needService.delete(this.needToDelete).subscribe( r =&gt; {\n    this.toastService.success('Need deleted!');\n    this.ejDialog.hide();\n    this.loadNeeds();\n  },e =&gt; {\n    this.toastService.error('Error');\n    console.log(e);\n    }\n   );\n}\n</code></pre>\n\n<p>For some reason the lines: </p>\n\n<pre><code>this.toastService.success('Need deleted!');\n  this.ejDialog.hide();\n  this.loadNeeds();\n</code></pre>\n\n<p>seem to be ignored and execution goes to the error part. <br> Method 'hide' is working properly, what I can know because if on the above said pop-up window the QUIT button is choosen all works properly and the window is hidden. <br> When button OK is clicked the data (Need) is deleted from the DB, however the pop up window stays and to delete this \"QUIT\" button must be clicked. <br> I have no idea why. <br> <br> Does anyone have similar experience? <br></p>\n\n<p><br>Details of this.needService.delete : <br></p>\n\n<pre><code>  constructor(private needService : NeedService,\n          private toastService: ToastService) {\n          this.dataManager = new DataManager({\n          json: this.needsList, adaptor: new \n          NeedsDataAdaptor(this.needService)\n         });\n         }\n\n delete(need: Need) : Observable&lt;Need&gt; {\n        console.log('Need deleted!');\n        console.log(need);\n        return this.http.patch(urlDel, need).pipe(\n        map(res =&gt; res.json())\n        );\n        }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1533745063, "creation_date": 1533745063, "answer_id": 51751332, "question_id": 51751059, "link": "https://stackoverflow.com/questions/51751059/relect-metadata-shim-is-required-when-using-class-decorators-node/51751332#51751332", "title": "relect-metadata shim is required when using class decorators (node)", "body": "<p>So seems like I found a workable solution. I added</p>\n\n<pre><code>import \"reflect-metadata\" \n</code></pre>\n\n<p>to the first line of the typescript file (It had to be the first line as otherwise it was using decorators before the import had been done).  </p>\n"}], "owner": {"reputation": 150, "user_id": 7128724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e789921723146078dc0784124014ee9?s=128&d=identicon&r=PG&f=1", "display_name": "A. K.", "link": "https://stackoverflow.com/users/7128724/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 51751332, "answer_count": 1, "score": 0, "last_activity_date": 1533745063, "creation_date": 1533743998, "question_id": 51751059, "link": "https://stackoverflow.com/questions/51751059/relect-metadata-shim-is-required-when-using-class-decorators-node", "title": "relect-metadata shim is required when using class decorators (node)", "body": "<p>Using swagger codegen I generated a typescript-angular project and then built it by running npm install. I then wrote a test class and ran tsc to compile it to javascript so that I could run the test class using node. When I tried running the node testing.js command I received the error message \"reflect-metadata shim is required when using class decorators.\" As the is not meant to be a full app I do not have an index.ts or main.ts files and as such other solutions that I came across (such as imports) are not working. When I run npm list I see that I do have reflect metadata in my node modules. Here is my tsconfig file:</p>\n\n<pre><code>{\n\"compilerOptions\": {\n    \"types\": [\"reflect-metadata\"],\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"noImplicitAny\": false,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"target\": \"es2015\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"removeComments\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"./dist\",\n    \"noLib\": false,\n    \"declaration\": true,\n    \"lib\": [ \"es6\", \"dom\" ]\n},\n\"exclude\": [\n    \"node_modules\",\n    \"dist\"\n],\n\"filesGlob\": [\n    \"./model/*.ts\",\n    \"./api/*.ts\"\n]\n}\n</code></pre>\n\n<p>Is there a way to run a js file from node when it has decorators? </p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "immutable.js"], "comments": [{"owner": {"reputation": 1526, "user_id": 4726346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp9ac.png?s=128&g=1", "display_name": "Mohit Tilwani", "link": "https://stackoverflow.com/users/4726346/mohit-tilwani"}, "edited": false, "score": 0, "creation_date": 1533743169, "post_id": 51750674, "comment_id": 90461373, "body": "Below is the link mentioning same issue as yours. maybe it will help :) <a href=\"https://github.com/facebook/immutable-js/issues/1540\" rel=\"nofollow noreferrer\">github.com/facebook/immutable-js/issues/1540</a>"}, {"owner": {"reputation": 28249, "user_id": 1347281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Frfi1.png?s=128&g=1", "display_name": "Vidya", "link": "https://stackoverflow.com/users/1347281/vidya"}, "reply_to_user": {"reputation": 1526, "user_id": 4726346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp9ac.png?s=128&g=1", "display_name": "Mohit Tilwani", "link": "https://stackoverflow.com/users/4726346/mohit-tilwani"}, "edited": false, "score": 1, "creation_date": 1533743276, "post_id": 51750674, "comment_id": 90461441, "body": "That&#39;s TS 2.9, which may or may not make a difference. Thanks for the pointer."}], "answers": [{"comments": [{"owner": {"reputation": 220, "user_id": 2748080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3XO6.jpg?s=128&g=1", "display_name": "Defesa Esquerdo", "link": "https://stackoverflow.com/users/2748080/defesa-esquerdo"}, "edited": false, "score": 0, "creation_date": 1555329958, "post_id": 51755397, "comment_id": 98060565, "body": "I&#39;m not sure how this is supposed to fix the problem, if you disable the checks for the type libraries you installed, you might as well remove them as (dev) dependencies. It&#39;s probably better to use <code>&#47;&#47; @ts-ignore</code> to ignore that line alone and keep the checks in the rest of the project."}], "tags": [], "owner": {"reputation": 28249, "user_id": 1347281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Frfi1.png?s=128&g=1", "display_name": "Vidya", "link": "https://stackoverflow.com/users/1347281/vidya"}, "is_accepted": true, "score": 0, "last_activity_date": 1533761212, "creation_date": 1533761212, "answer_id": 51755397, "question_id": 51750674, "link": "https://stackoverflow.com/questions/51750674/build-error-with-typescript-3-and-immutable-js-4/51755397#51755397", "title": "Build Error with TypeScript 3 and Immutable.js 4", "body": "<p>Setting this config in <code>tsconfig.json</code> solves the build issue:</p>\n\n<p><code>\"skipLibCheck\": true</code></p>\n"}], "owner": {"reputation": 28249, "user_id": 1347281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Frfi1.png?s=128&g=1", "display_name": "Vidya", "link": "https://stackoverflow.com/users/1347281/vidya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 51755397, "answer_count": 1, "score": 0, "last_activity_date": 1533761212, "creation_date": 1533742843, "question_id": 51750674, "link": "https://stackoverflow.com/questions/51750674/build-error-with-typescript-3-and-immutable-js-4", "title": "Build Error with TypeScript 3 and Immutable.js 4", "body": "<p>Given these versions in <code>package.json</code>:</p>\n\n<pre><code>\"typescript\": \"^3.0.1\",\n\"immutable\": \"^4.0.0-rc.9\"\n</code></pre>\n\n<p>I simply import <code>setIn</code> in a file (without even using it):</p>\n\n<pre><code>import { setIn } from \"immutable\"\n</code></pre>\n\n<p>I get this error from Typescript when I build:</p>\n\n<pre><code>[at-loader] ./node_modules/immutable/dist/immutable-nonambient.d.ts:2381:30 \n  0:0  error  TS2677: A type predicate's type must be assignable to its parameter's type.\n</code></pre>\n\n<p>It seems like there is a library conflict, but I can't figure out what that is. Any insight is appreciated. </p>\n"}, {"tags": ["typescript", "firebase", "firebase-storage", "angularfire2", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 122, "user_id": 5388573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153468124219300/picture?type=large", "display_name": "Kav Khalsa", "link": "https://stackoverflow.com/users/5388573/kav-khalsa"}, "edited": false, "score": 0, "creation_date": 1534421120, "post_id": 51846818, "comment_id": 90704447, "body": "The file path for security."}, {"owner": {"reputation": 1, "user_id": 2459869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a268cc533f59e746be14124fcf4be67a?s=128&d=identicon&r=PG", "display_name": "Juan Ignacio Sanz Fuentes", "link": "https://stackoverflow.com/users/2459869/juan-ignacio-sanz-fuentes"}, "reply_to_user": {"reputation": 122, "user_id": 5388573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153468124219300/picture?type=large", "display_name": "Kav Khalsa", "link": "https://stackoverflow.com/users/5388573/kav-khalsa"}, "edited": false, "score": 0, "creation_date": 1534536387, "post_id": 51846818, "comment_id": 90755511, "body": "Not sure if you can call a function there ... have you tried using a pipe? something like: &lt;img class=&quot;card-img-top&quot; [src]=&quot;user.photoUrl | getImage&quot; alt=&quot;Card image cap&quot;&gt; and create a pipe that transform the user.photoUrl into this.storage.ref(<code>${photoUrl}</code>).getDownloadURL();"}], "tags": [], "owner": {"reputation": 1, "user_id": 2459869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a268cc533f59e746be14124fcf4be67a?s=128&d=identicon&r=PG", "display_name": "Juan Ignacio Sanz Fuentes", "link": "https://stackoverflow.com/users/2459869/juan-ignacio-sanz-fuentes"}, "is_accepted": false, "score": 0, "last_activity_date": 1534267559, "creation_date": 1534267559, "answer_id": 51846818, "question_id": 51750575, "link": "https://stackoverflow.com/questions/51750575/image-download-stuck-in-a-loop-in-angular-firestorage/51846818#51846818", "title": "Image download stuck in a loop in Angular Firestorage", "body": "<p>What data do you store in photoUrl? I simply set the download url provided by Firebase Storage and get it plain:\nimg src=\u201c{{user.photoUrl}}\u201d </p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6480778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c401e09362b26912a71cf6462b6d7536?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Gonzalez", "link": "https://stackoverflow.com/users/6480778/manuel-gonzalez"}, "is_accepted": false, "score": 0, "last_activity_date": 1536073263, "creation_date": 1536073263, "answer_id": 52169155, "question_id": 51750575, "link": "https://stackoverflow.com/questions/51750575/image-download-stuck-in-a-loop-in-angular-firestorage/52169155#52169155", "title": "Image download stuck in a loop in Angular Firestorage", "body": "<p>Well, this works for me: a pipe that return an observable:</p>\n\n<p>....\nconst ref = this.storage.ref(value);\n    return ref.getDownloadURL();</p>\n\n<p>and in the template:  img [src]=\"img | picturePipe | async\"</p>\n"}], "owner": {"reputation": 122, "user_id": 5388573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153468124219300/picture?type=large", "display_name": "Kav Khalsa", "link": "https://stackoverflow.com/users/5388573/kav-khalsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536073263, "creation_date": 1533742544, "last_edit_date": 1533746993, "question_id": 51750575, "link": "https://stackoverflow.com/questions/51750575/image-download-stuck-in-a-loop-in-angular-firestorage", "title": "Image download stuck in a loop in Angular Firestorage", "body": "<p>I am trying to load the user images from their file path that is stored as the photo URL in user.photoUrl.</p>\n\n<p>This is my admin.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { User } from '../interfaces/user';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminService {\n  private userCollection: AngularFirestoreCollection&lt;User&gt;;\n  public users: Observable&lt;User[]&gt;;\n\n  constructor(\n    private db: AngularFirestore,\n\n  ) { }\n  getUsers() {\n    this.userCollection = this.db.collection&lt;User&gt;('users');\n    this.users = this.userCollection.snapshotChanges().pipe(\n      map((actions) =&gt; actions.map(a =&gt; {\n        const data = a.payload.doc.data() as User;\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      }))\n    );\n    return this.users;\n  }\n\n}\n</code></pre>\n\n<p>This is my admin-page.component.ts</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription, Observable } from 'rxjs';\nimport { User } from '../../interfaces/user';\nimport { AdminService } from '../../services/admin.service';\nimport { AngularFireStorage } from 'angularfire2/storage';\n\n@Component({\n  selector: 'app-admin-page',\n  templateUrl: './admin-page.component.html',\n  styleUrls: ['./admin-page.component.scss']\n})\nexport class AdminPageComponent implements OnInit {\n  public roles: string[] = [\n    'user',\n    'supervisor',\n    'admin'\n  ];\n  checkModel: any = { user: false, supervisor: true, admin: false };\n  private subscriptions: Subscription[] = [];\n  public users: Observable&lt;User[]&gt;;\n  profileImage: any;\n  constructor(\n    private adminService: AdminService,\n    private storage: AngularFireStorage\n  ) {\n\n  }\n\n  ngOnInit() {\n\n\n    this.users = this.adminService.getUsers();\n\n  }\n\n  getImage(photoUrl) {\n\n    console.log(photoUrl);\n    return this.storage.ref(`${photoUrl}`).getDownloadURL();\n  }\n\n\n}\n</code></pre>\n\n<p>This is the admin HTML component:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;h1&gt;Admin Page&lt;/h1&gt;\n    &lt;div *ngFor=\"let user of users | async; index as i \" class=\"col-lg-3 col-md-4 col-sm-6 col-xs-12\"&gt;\n      &lt;form (ngSubmit)=\"submit()\"&gt;\n        &lt;div class=\"card\" style=\"width: 18rem;\"&gt;\n          &lt;img class=\"card-img-top\" [src]=\"getImage(user.photoUrl)\" alt=\"Card image cap\"&gt;\n          &lt;div class=\"card-body\"&gt;\n            &lt;h6&gt;{{user.firstName}} {{user.lastName}}&lt;/h6&gt;\n            &lt;h6&gt;{{user.email}}&lt;/h6&gt;\n            &lt;h5 class=\"card-title\"&gt;User Roles&lt;/h5&gt;\n            &lt;button type=\"submit\" class=\"btn btn-success\"&gt;Save&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am able to get the user.firstName for each card and all the other data properties but not the image. It simple get's stuck in a loop and crashes out.</p>\n"}, {"tags": ["angular", "typescript", "charts", "c3.js"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1533751528, "post_id": 51750314, "comment_id": 90465869, "body": "Are you trying to add it to just the background of the chart? Or are you trying to do the actual SVG elements the chart consists of?"}, {"owner": {"reputation": 49, "user_id": 2598764, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb9e63ade762000d099147b844d1256?s=128&d=identicon&r=PG", "display_name": "Naveen Billure", "link": "https://stackoverflow.com/users/2598764/naveen-billure"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1534074128, "post_id": 51750314, "comment_id": 90571923, "body": "trying to svg elements for the chart"}], "owner": {"reputation": 49, "user_id": 2598764, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb9e63ade762000d099147b844d1256?s=128&d=identicon&r=PG", "display_name": "Naveen Billure", "link": "https://stackoverflow.com/users/2598764/naveen-billure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533741751, "creation_date": 1533741751, "question_id": 51750314, "link": "https://stackoverflow.com/questions/51750314/unable-to-add-the-gradient-to-c3-area-spline-chart-in-angular6", "title": "Unable to add the gradient to C3 area-spline chart in Angular6", "body": "<p>i am trying to add the Gradient to my C3 area-spline chart in angular 6.  But i am not able to do so. Is there anyway i can do this in typescript. I tried many solutions which were mentioned in javascript but no luck. \nAlso please let me know is there any way possible illustrations of d3 area chart.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1533741629, "creation_date": 1533741629, "answer_id": 51750289, "question_id": 51750171, "link": "https://stackoverflow.com/questions/51750171/how-can-i-infer-an-object-propertys-value-in-typescript-when-using-mapped-types/51750289#51750289", "title": "How can I infer an object property&#39;s value in TypeScript when using mapped types?", "body": "<p>If you explicitly type a variable, that will be its type no inference will occur. You can get the behavior you want, but you need to use the inference behavior of functions. </p>\n\n<pre><code>type FactoryTypes = 'foo' | 'bar' | 'baz';\n\n\nfunction createTypedFactoryLookup&lt;T extends { [key in FactoryTypes]: any }&gt;(factory: T) {\n    return factory;\n}\nconst typedFactoryLookup = createTypedFactoryLookup({\n    foo: (message: string, count: number) =&gt; {},\n    bar: () =&gt; {},\n    baz: (obj: any) =&gt; {},\n})\n\ntypedFactoryLookup.foo; // (message: string, count: number) =&gt; void\ntypedFactoryLookup.bar; // () =&gt; void\ntypedFactoryLookup.baz; // (obj: any) =&gt; void\n</code></pre>\n\n<p>You can also create a version that takes in the type for the keys, but you will need to use a function that returns a function as typescript does not support specifying only some type parameters (it might be supported in 3.1)</p>\n\n<pre><code>function createTypedFactoryLookup&lt;TKeys extends string&gt;(){\n    return function &lt;T extends { [key in TKeys]: any }&gt;(factory: T) {\n        return factory;\n    }\n}\nconst typedFactoryLookup = createTypedFactoryLookup&lt;FactoryTypes&gt;()({\n    foo: (message: string, count: number) =&gt; {},\n    bar: () =&gt; {},\n    baz: (obj: any) =&gt; {},\n})\n</code></pre>\n"}], "owner": {"reputation": 2225, "user_id": 114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f9d3623d91c3802e62da82011ca036f6?s=128&d=identicon&r=PG", "display_name": "Craig Smitham", "link": "https://stackoverflow.com/users/114/craig-smitham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1310, "favorite_count": 0, "accepted_answer_id": 51750289, "answer_count": 1, "score": 4, "last_activity_date": 1533741629, "creation_date": 1533741260, "question_id": 51750171, "link": "https://stackoverflow.com/questions/51750171/how-can-i-infer-an-object-propertys-value-in-typescript-when-using-mapped-types", "title": "How can I infer an object property&#39;s value in TypeScript when using mapped types?", "body": "<p>I'm trying to create a singleton <code>factoryLookup</code> in typescript that enforces that I have a factory defined for every value in a union type (i.e. a mapped lookup type), however I also want to be able to infer the signature (could be a value or function of arbitrary arguments) for any value that is looked up. Here is a code sample:</p>\n\n<pre><code>// Using a simple object, I can create a map between a key and an arbitrary function or value\nconst factoryLookup = {\n  foo: (message: string, count: number): string =&gt; message + count,\n  bar: (): number =&gt; 1,\n};\n\n// TypeScript can infer function signature of the foo and bar values\nfactoryLookup.foo('hello world', 3); // foo's signature: (message: string, count: number) =&gt; string\nfactoryLookup.bar(); // bar's signature: () =&gt; number\n\ntype FactoryTypes = 'foo' | 'bar' | 'baz';\n\n// With a mapped type, TypeScript can enforce I have *something* defined for every member I am mapping\nconst typedFactoryLookup: { [key in FactoryTypes]: any } = {\n  foo: (message: string, count: number) =&gt; {},\n  bar: () =&gt; {},\n  baz: (obj: any) =&gt; {},\n};\n\n// However, I don't know how to infer the mapped values\ntypedFactoryLookup.foo; // any type\ntypedFactoryLookup.bar; // any type\ntypedFactoryLookup.baz; // any type\n</code></pre>\n\n<p><strong><em>I want the type safety of ensuring I have a function defined for every value in my union/enum type, but also the type inference to know what the signature of that value is.</em></strong></p>\n\n<p>Any ideas on how to solve this, or alternative approaches that achieve the same goals would be appreciated.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533747436, "creation_date": 1533747436, "answer_id": 51751940, "question_id": 51749934, "link": "https://stackoverflow.com/questions/51749934/typescript-import-from-modules-subfolder/51751940#51751940", "title": "Typescript import from module&#39;s subfolder", "body": "<p>Setting <code>\"declaration\": true</code> in the <code>tsconfig.json</code> file of <code>myModule</code> will cause <code>tsc</code> to generate <code>.d.ts</code> files alongside the <code>.js</code> files in the <code>lib</code> folder, and it should be able to find these files from the main project.</p>\n"}], "owner": {"reputation": 6209, "user_id": 1935318, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ftlsb.jpg?s=128&g=1", "display_name": "amaurym", "link": "https://stackoverflow.com/users/1935318/amaurym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2402, "favorite_count": 0, "accepted_answer_id": 51751940, "answer_count": 1, "score": 1, "last_activity_date": 1533747436, "creation_date": 1533740567, "question_id": 51749934, "link": "https://stackoverflow.com/questions/51749934/typescript-import-from-modules-subfolder", "title": "Typescript import from module&#39;s subfolder", "body": "<p>I created myself a npm modules in Typescript, which has the following structure:</p>\n\n<pre><code>.\n| - src/\n|   | - index.ts\n|   | - types.d.ts\n|   | - utils/\n|   |   | - util1.ts\n</code></pre>\n\n<p>And here are the contents:</p>\n\n<pre><code>// types.d.ts\nexport type MyType = string;\n\n---\n\n// index.ts\nimport { MyType } from './types';\n\nexport default (): MyType =&gt; 'a string';\n\n---\n\n// utils/util1.ts\nexport const myFunction = () =&gt; 'util string';\n</code></pre>\n\n<p>And tsc compiles these .ts files into the <code>lib/</code> folder, which then only contains .js files. It keeps the same inner folder structure.</p>\n\n<p>In my main project, I do:</p>\n\n<pre><code>import { myFunction } from 'myModule/lib/utils/util1'\n</code></pre>\n\n<p>However I get an error</p>\n\n<pre><code>Could not find a declaration file for module 'myModule/lib/util/util1'.\n</code></pre>\n\n<p>How can I add types to the compiled JS in the <code>lib/</code> folder?</p>\n"}, {"tags": ["typescript", "assertion", "browser-automation", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "edited": false, "score": 0, "creation_date": 1533800549, "post_id": 51754918, "comment_id": 90481621, "body": "Everything is all right, just for example code must be like this:   <code>cy.get(&#39;#idOfItem&#39;).then(($numberBefore) =&gt;{      const txt = $numberBefore.text()      var _numberBefore = +txt      &#47;&#47;Some code 1      cy.get(&#39;#idOfItem&#39;).should(($numberAfter) =&gt; { \t\t\t\tconst txt2 = $numberAfter.text() \t\t\t\tvar _numberAfter = +txt2 \t\t\t\texpect(_numberBefore-1).to.equal(_numberAfter) \t\t\t}) })</code>  Variable need to be in &quot;()&quot; brackets.  P.s. thanks for the help."}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "edited": false, "score": 1, "creation_date": 1533821470, "post_id": 51754918, "comment_id": 90495438, "body": "If you&#39;re talking about the <code>() =&gt; {}</code> anonymous function style, <code>someVar =&gt; {}</code> is actually valid. You need parenthesis if there are no arguments, or if there is more than one argument, but if there&#39;s just one argument you can leave out the <code>()</code>. See <a href=\"https://jsfiddle.net/89L6bcw7/4/\" rel=\"nofollow noreferrer\">this fiddle</a> for a working example."}], "tags": [], "owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "is_accepted": true, "score": 2, "last_activity_date": 1533759563, "last_edit_date": 1533759563, "creation_date": 1533759246, "answer_id": 51754918, "question_id": 51749907, "link": "https://stackoverflow.com/questions/51749907/cypress-io-typescript-assertion-call-in-beginning-of-test/51754918#51754918", "title": "Cypress.io + TypeScript. Assertion call in beginning of test", "body": "<p>Cypress asynchronously queues your commands all at once. This means that</p>\n\n<pre><code>let elem = cy.get(\"#elem\");\n// attempt to do something with returned element...\n</code></pre>\n\n<p>will not work. <code>cy.get()</code> just tells Cypress to add the <code>get()</code> command to the list of commands to eventually be run. It does not run the command right away.</p>\n\n<p><code>.then()</code> provides a nice alternative - you can use it to queue up some Javascript to be run when the command is run, like so:</p>\n\n<pre><code>cy.get(\"#elem1\").then(elem1 =&gt; {\n    // elem1 is the underlying DOM object.\n\n    // You can put regular javascript code here:\n    console.log(\"This will happen when the queued .then() command is run\");\n\n    // You can also put more Cypress commands here, like so:\n    cy.get(\"#elem2\").should(elem2 =&gt; {\n        expect(elem1.someProperty).to.equal(elem2.someProperty);\n    });\n});\n</code></pre>\n\n<p>Note that <code>.should(() =&gt; {})</code> acts like a <code>.then()</code>, except it will retry if any contained assertions fail.</p>\n\n<p>See <a href=\"https://docs.cypress.io/guides/core-concepts/variables-and-aliases.html#Closures\" rel=\"nofollow noreferrer\">here</a> for more info on comparing values of two elements to each other, and see <a href=\"https://docs.cypress.io/guides/core-concepts/variables-and-aliases.html\" rel=\"nofollow noreferrer\">this doc page</a> for more info on the general concepts of asynchronous command queuing in Cypress.</p>\n"}], "owner": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 51754918, "answer_count": 1, "score": 2, "last_activity_date": 1533759563, "creation_date": 1533740486, "question_id": 51749907, "link": "https://stackoverflow.com/questions/51749907/cypress-io-typescript-assertion-call-in-beginning-of-test", "title": "Cypress.io + TypeScript. Assertion call in beginning of test", "body": "<p>I am new to Cypress.io and TypeScript. So I do not understood some stuff here.</p>\n\n<p>My code:</p>\n\n<pre><code>//Test\ndescribe('TEST description', function () {\nit('newJobCreation', function () {\n    //Some code 1\n    var numberBefore = cy.get('#idOfItem')\n    var _numberBefore = +numberBefore\n    //Some code 2\n\n    var numberAfter = cy.get('#idOfItem')\n    var _numberAfter = +numberAfter\n    //Assertion\n    expect(_numberBefore-1).equals(_numberAfter) //Same result if I use: assert.equal(_numberBefore-1, _numberAfter)\n   }) \n})\n</code></pre>\n\n<p>Lets say _numberBefore after //Some code2 was changed and become _numberAfter. I want to assert that number decreased by 1. </p>\n\n<p>After I running test in Cypress.io, I am getting error message:</p>\n\n<blockquote>\n  <p>expected NaN to equal NaN</p>\n</blockquote>\n\n<p>and it fails.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Why my assertion does not call after all code was executed? Why it was called in a beginning of test?</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 3, "last_activity_date": 1533742488, "creation_date": 1533742488, "answer_id": 51750565, "question_id": 51749620, "link": "https://stackoverflow.com/questions/51749620/error-shadowed-name-request-in-firebase-cloud-function/51750565#51750565", "title": "Error : Shadowed name: &#39;request&#39; in Firebase cloud function", "body": "<p>You are defining something called <code>request</code> with this import:</p>\n\n<pre><code>import { request } from \"https\";\n</code></pre>\n\n<p>Then you are defining another identifier called request in your function:</p>\n\n<pre><code>export const helloWorld = functions.https.onRequest((request, response) =&gt; {\n</code></pre>\n\n<p>As it stands now, you won't be able to use the <code>request</code> import inside your function because the function can only see the <code>request</code> parameter.</p>\n\n<p>You should change the name of one of them so that the <code>request</code> in the function doesn't shadow (hide) the <code>request</code> from your import.  </p>\n"}], "owner": {"reputation": 990, "user_id": 321128, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/db545a74a1ba463b2dfeb7f82c5c55e4?s=128&d=identicon&r=PG", "display_name": "roconmachine", "link": "https://stackoverflow.com/users/321128/roconmachine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1533742505, "creation_date": 1533739647, "last_edit_date": 1533742505, "question_id": 51749620, "link": "https://stackoverflow.com/questions/51749620/error-shadowed-name-request-in-firebase-cloud-function", "title": "Error : Shadowed name: &#39;request&#39; in Firebase cloud function", "body": "<p>Here is a Firebase Cloud Function REST Api code.     </p>\n\n<pre><code>import { request } from \"https\";\n\nconst functions = require(\"firebase-functions\");\nconst admin = require('firebase-admin');\nadmin.initializeApp();\nconst firestore = admin.firestore();\n\nexport const helloWorld = functions.https.onRequest((request, response) =&gt; {\n\n   response.send(\"Hello from rocon!\");\n});\n</code></pre>\n\n<p>Error is : </p>\n\n<pre><code>ERROR: /Users/hello/Computer/Development/server/ts_test/functions/src/index.ts[13, 54]: Shadowed name: 'request'\nERROR: /Users/hello/Computer/Development/server/ts_test/functions/src/index.ts[19, 50]: Shadowed name: 'request'\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 488, "user_id": 8951386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a00635810b75a65eb8b2511e69529a?s=128&d=identicon&r=PG&f=1", "display_name": "sk555", "link": "https://stackoverflow.com/users/8951386/sk555"}, "edited": false, "score": 0, "creation_date": 1533739404, "post_id": 51749438, "comment_id": 90458816, "body": "Thanks for answering my issue, but this not what I mean roles contains label and id. An i want string separated comma of label attribute @Suren Srapyan"}, {"owner": {"reputation": 488, "user_id": 8951386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a00635810b75a65eb8b2511e69529a?s=128&d=identicon&r=PG&f=1", "display_name": "sk555", "link": "https://stackoverflow.com/users/8951386/sk555"}, "edited": false, "score": 0, "creation_date": 1533741197, "post_id": 51749438, "comment_id": 90460041, "body": "@Suren_Srapyan  I mean roles contains label and id. An i want string separated comma of label attribute"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 2, "last_activity_date": 1533790506, "last_edit_date": 1533790506, "creation_date": 1533739180, "answer_id": 51749438, "question_id": 51749378, "link": "https://stackoverflow.com/questions/51749378/typescript-angular-how-to-convert-attribute-of-an-object-in-list-to-string-sepa/51749438#51749438", "title": "TypeScript, Angular how to convert attribute of an object in list to string separeted comma", "body": "<p>You can just use <code>join</code> on the roles in the markup</p>\n\n<pre><code>&lt;div *ngFor='let person of persons'&gt;\n   &lt;p&gt; {{ person.roles.join(',') }} &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "edited": false, "score": 0, "creation_date": 1533742258, "post_id": 51750435, "comment_id": 90460789, "body": "Hmm, I am not entirely sure this will work, as this is using arrow function (the <code>role =&gt; role.label</code> part) and I am not sure if this is supported in angular template expression syntax. If this does not work you might have to transform your data in your component or create a custom pipe in order to do the transformation."}], "tags": [], "owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "is_accepted": false, "score": 0, "last_activity_date": 1533742098, "creation_date": 1533742098, "answer_id": 51750435, "question_id": 51749378, "link": "https://stackoverflow.com/questions/51749378/typescript-angular-how-to-convert-attribute-of-an-object-in-list-to-string-sepa/51750435#51750435", "title": "TypeScript, Angular how to convert attribute of an object in list to string separeted comma", "body": "<p>You can map your roles to role names first and then join them together.</p>\n\n<pre><code>&lt;div *ngFor='let person of persons'&gt;\n    &lt;p&gt; {{ person.roles.map(role =&gt; role.label).join(',') }} &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>If roles can be undefined or null you should also guard against that case.</p>\n\n<pre><code>&lt;div *ngFor='let person of persons'&gt;\n    &lt;p&gt; {{ (person.roles || []).map(role =&gt; role.label).join(',') }} &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 8951386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a00635810b75a65eb8b2511e69529a?s=128&d=identicon&r=PG&f=1", "display_name": "sk555", "link": "https://stackoverflow.com/users/8951386/sk555"}, "is_accepted": false, "score": 0, "last_activity_date": 1533834216, "creation_date": 1533834216, "answer_id": 51772475, "question_id": 51749378, "link": "https://stackoverflow.com/questions/51749378/typescript-angular-how-to-convert-attribute-of-an-object-in-list-to-string-sepa/51772475#51772475", "title": "TypeScript, Angular how to convert attribute of an object in list to string separeted comma", "body": "<p>This code relves my probelm:</p>\n\n<pre><code> &lt;div&gt;\n    &lt;ng-container *ngFor=\"let role of person.roles\"&gt; \n        {{role.label}} + \",\"\n    &lt;/ng-container&gt;\n &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 8951386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a00635810b75a65eb8b2511e69529a?s=128&d=identicon&r=PG&f=1", "display_name": "sk555", "link": "https://stackoverflow.com/users/8951386/sk555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1533834216, "creation_date": 1533738998, "last_edit_date": 1533739902, "question_id": 51749378, "link": "https://stackoverflow.com/questions/51749378/typescript-angular-how-to-convert-attribute-of-an-object-in-list-to-string-sepa", "title": "TypeScript, Angular how to convert attribute of an object in list to string separeted comma", "body": "<p>I have an array of person objects that I displayed in HTML using ngFor Angular 5.</p>\n\n<pre><code>persons:Array&lt;Person&gt;=[];\n</code></pre>\n\n<p>the Person objects contains an Array of Role object described as below:</p>\n\n<pre><code>export class Role{\n    id:string\n    label:string;   \n}\n\nexport class Person{\n   // many attributes\n   roles:Array&lt;Person&gt;;\n\n}\n</code></pre>\n\n<p>In the HTML i am using ngFor to fetch the persons Array in div tag. and I want to get string separated comma of the roles's label for each person and display it in div.</p>\n\n<p>I want something like that:</p>\n\n<pre><code>&lt;div *ngFor='let person of persons'&gt;\n   &lt;p&gt; {{ person.roles.label.join(',') }} &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Thanks for help</p>\n"}, {"tags": ["reactjs", "typescript", "antd"], "comments": [{"owner": {"reputation": 774, "user_id": 1565492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f6fd8fc08e2e4b8fb67572443d71e6b?s=128&d=identicon&r=PG", "display_name": "Sai Datta", "link": "https://stackoverflow.com/users/1565492/sai-datta"}, "edited": false, "score": 0, "creation_date": 1533902414, "post_id": 51749223, "comment_id": 90529061, "body": "I&#39;m having this error too... Any update on this?"}, {"owner": {"reputation": 31, "user_id": 10198271, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jp5rvwVXv8I/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oqNmIL1XPoNHygx4Ozaq30C_Hr8A/mo/photo.jpg?sz=128", "display_name": "Anton Kob", "link": "https://stackoverflow.com/users/10198271/anton-kob"}, "reply_to_user": {"reputation": 774, "user_id": 1565492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f6fd8fc08e2e4b8fb67572443d71e6b?s=128&d=identicon&r=PG", "display_name": "Sai Datta", "link": "https://stackoverflow.com/users/1565492/sai-datta"}, "edited": false, "score": 0, "creation_date": 1534010976, "post_id": 51749223, "comment_id": 90561196, "body": "look at next issue <a href=\"https://github.com/ant-design/ant-design/issues/11677\" rel=\"nofollow noreferrer\">github.com/ant-design/ant-design/issues/11677</a>"}], "owner": {"reputation": 31, "user_id": 10198271, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jp5rvwVXv8I/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oqNmIL1XPoNHygx4Ozaq30C_Hr8A/mo/photo.jpg?sz=128", "display_name": "Anton Kob", "link": "https://stackoverflow.com/users/10198271/anton-kob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1533739411, "creation_date": 1533738537, "last_edit_date": 1533739411, "question_id": 51749223, "link": "https://stackoverflow.com/questions/51749223/typescript-error-property-htmltype-is-missing-in-type", "title": "Typescript error: Property &#39;htmlType&#39; is missing in type", "body": "<p>After upgrade to typescript 3.0.1 and antd 3.8.0 I have next compilation error:\nProperty 'htmlType' is missing in type '{ children: Element; id: string; className: string; shape: \"circle\"; }'.</p>\n\n<pre><code>&lt;Button id=\"goToTopButton\" className=\"scroll-to-top-button\" shape=\"circle\"&gt;\n                        &lt;i className=\"material-icons\"&gt;arrow_upward&lt;i/&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>And similar errors for another components like Modal and so on. \nDoes any one may help to fix it?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "tabs", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 9555410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52ae21aad1eba09bb43b2c82edaa0242?s=128&d=identicon&r=PG&f=1", "display_name": "jraspante", "link": "https://stackoverflow.com/users/9555410/jraspante"}, "is_accepted": false, "score": 0, "last_activity_date": 1533741763, "creation_date": 1533741763, "answer_id": 51750318, "question_id": 51748874, "link": "https://stackoverflow.com/questions/51748874/selected-tab-in-ionic-framework/51750318#51750318", "title": "Selected Tab in Ionic framework", "body": "<p>Use (ionChange) to catch when the user change the Tab. You can create a provider to get and set the active tab.</p>\n\n<p>Tab.ts</p>\n\n<pre><code>import { Tabs, Tab } from 'ionic-angular';\nimport { Component, ViewChild} from '@angular/core';\n\n@Component({\ntemplateUrl: 'tabs.html'\n})\n\nexport class TabsPage {\n  @ViewChild('myTabs') tabRef: Tabs\n\n  tab1: any = DataPage;\n  tab2: any = DataPage;\n\n  constructor(private tabService: TabsService) {\n    this.configService.startConfigApp();\n\n  }\n  ionViewDidEnter(){\n    let tab: Tab = this.tabRef.getSelected();\n    this.tabService.setActiveTab(tab);\n  }\n  changeTab(){\n    let tab: Tab = this.tabRef.getSelected().root.name; //or this.tabRef.getSelected().index;\n    this.tabService.setActiveTab(tab);\n  }\n}\n</code></pre>\n\n<p>Tabs.html</p>\n\n<pre><code>&lt;ion-tabs color=\"prime-grey\" #myTabs (ionChange)=\"changeTab()\"&gt;\n  &lt;ion-tab [root]=\"tab1Root\" tab1=\"DataPage\" tabIcon=\"home\"&gt;&lt;/ion-tab&gt;\n  &lt;ion-tab [root]=\"tab2Root\" tab2=\"DataPage\" tabIcon=\"pie\"&gt;&lt;/ion-tab&gt;      \n&lt;/ion-tabs&gt;\n</code></pre>\n\n<p>TabProvider.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core'\n\n@Injectable()\nexport class TabsProvider{\n    private tabName: any;\n    constructor(){}\n\n    setActiveTab(tab: any){\n        this.tabName = tab;\n    }\n    getActiveTab(){\n        return this.tabName;\n    }\n}\n</code></pre>\n\n<p>Import the provider on your <code>datapage.ts</code> and use the IonViewWillEnter lifecycle to catch when the page is active.</p>\n\n<p>DataPage.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { TabsProvider } from '../path/to/your/provider'\n@Component({\n\n})\nclass DataPage {\n\n   constructor(public navCtrl: NavController, private tabProvider: tabsProvider) {\n     //********************\n     //Here I want to know which tab was selected\n     //********************\n\n   }\n   IonViewWillEnter(){\n     console.log(this.tabProvider.getActiveTab())\n   }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2382, "user_id": 351688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4287ab180a9b6483865a60e4b68ca9d8?s=128&d=identicon&r=PG", "display_name": "August", "link": "https://stackoverflow.com/users/351688/august"}, "edited": false, "score": 0, "creation_date": 1599317281, "post_id": 56272731, "comment_id": 112740634, "body": "What is the import module in Ionic 5 <code>import { Tabs,Events,Tab} from &#39;ionic-angular&#39;;</code>  gives an error in Ionic 5. <code>...has no exported member Tabs...</code> <code>I tried </code>@ionic/core<code>, </code>&#39;@ionic/angular`"}, {"owner": {"reputation": 2382, "user_id": 351688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4287ab180a9b6483865a60e4b68ca9d8?s=128&d=identicon&r=PG", "display_name": "August", "link": "https://stackoverflow.com/users/351688/august"}, "edited": false, "score": 0, "creation_date": 1599318158, "post_id": 56272731, "comment_id": 112740853, "body": "It does work, I needed to create a new app with <code>ionic start myapp tabs --type=ionic-angular</code>"}], "tags": [], "owner": {"reputation": 67, "user_id": 6579339, "user_type": "registered", "profile_image": "https://graph.facebook.com/891930947619127/picture?type=large", "display_name": "Sathish Battula", "link": "https://stackoverflow.com/users/6579339/sathish-battula"}, "is_accepted": false, "score": 0, "last_activity_date": 1558605622, "creation_date": 1558605622, "answer_id": 56272731, "question_id": 51748874, "link": "https://stackoverflow.com/questions/51748874/selected-tab-in-ionic-framework/56272731#56272731", "title": "Selected Tab in Ionic framework", "body": "<p>Finally I am able to get index.</p>\n\n<p>tabs.html</p>\n\n<pre><code>&lt;ion-tabs  (ionChange)=\"tabChange($event)\"&gt; \n    &lt;ion-tab [root]=\"tab1Root\" tabTitle=\"Offers\"  tabIcon=\"Offers\" &gt;&lt;/ion-tab&gt;\n    &lt;ion-tab [root]=\"tab2Root\" tabTitle=\"Favourites\"  tabIcon=\"Favorites\"&gt;&lt;/ion-tab&gt;\n    &lt;ion-tab [root]=\"tab3Root\" tabTitle=\"Rewards\"  tabIcon=\"Rewards\"&gt;&lt;/ion-tab&gt;\n    &lt;ion-tab [root]=\"tab4Root\" tabTitle=\"Settings\"  tabIcon=\"Settings\"&gt;&lt;/ion-tab&gt;\n&lt;/ion-tabs&gt;\n</code></pre>\n\n<p>tabs.ts</p>\n\n<pre><code>import { Tabs,Events,Tab} from 'ionic-angular';\n  tabChange(tab:Tab){\n        console.log(tab.index);\n  }\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 3969859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99506b3dba37cfb4756ea08436c979ca?s=128&d=identicon&r=PG&f=1", "display_name": "Castro Zwelithini", "link": "https://stackoverflow.com/users/3969859/castro-zwelithini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4868, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558605622, "creation_date": 1533737569, "last_edit_date": 1533801853, "question_id": 51748874, "link": "https://stackoverflow.com/questions/51748874/selected-tab-in-ionic-framework", "title": "Selected Tab in Ionic framework", "body": "<p>I want to display two tabs that will be used to display similar data, but the tabs will be used to filter the information.</p>\n\n<p>My Tabs:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { DataPage } from './DataPage';\n\n@Component({\n    template: `\n      &lt;ion-tabs&gt;\n        &lt;ion-tab tabIcon=\"heart\" [root]=\"tab1\"&gt;&lt;/ion-tab&gt;\n        &lt;ion-tab tabIcon=\"star\" [root]=\"tab2\"&gt;&lt;/ion-tab&gt;\n      &lt;/ion-tabs&gt;`\n})\nclass MyApp {\n\n    tab1: any;\n    tab2: any;\n\n    constructor() {\n      this.tab1 = DataPage;\n      this.tab2 = DataPage;\n    }\n}\n</code></pre>\n\n<p>The page:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n\n})\nclass DataPage {\n\n   constructor(public navCtrl: NavController) {\n     //********************\n     //Here I want to know which tab was selected\n     //********************\n     console.log(\"SELECTED TAB\")\n   }\n}\n</code></pre>\n\n<p>When the DataPage is called I need to know from which tab was it initiated. Is there a way to find out which tab was selected or should I just duplicate the DataPage(it feels redundant)?. </p>\n\n<p>Thank You!</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1533735467, "post_id": 51748098, "comment_id": 90456042, "body": "<code>&lt;pre&gt;{{value}}&lt;&#47;pre&gt;</code>"}, {"owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1533735718, "post_id": 51748098, "comment_id": 90456217, "body": "But &lt;pre&gt; limits me in case of styling"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1533735586, "creation_date": 1533735586, "answer_id": 51748199, "question_id": 51748098, "link": "https://stackoverflow.com/questions/51748098/textarea-store-and-show-linebreaks/51748199#51748199", "title": "Textarea Store and Show Linebreaks", "body": "<p>This is more of a HTML question. Play on the <code>white-space</code> property (<code>pre</code> tags have it by default) : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const tags = [...document.querySelectorAll('#pre, #formatted, #unformatted')];\r\ntags.forEach(tag =&gt; tag.innerHTML = \"Content\\nWith a line break &amp; return\");</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#formatted {\r\n  white-space: pre-wrap;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;in a pre tag : &lt;/p&gt;\r\n&lt;pre id=\"pre\"&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;in a formatted tag : &lt;/p&gt;\r\n&lt;div id=\"formatted\"&gt;&lt;/div&gt;\r\n\r\n&lt;p&gt;in a unformatted tag : &lt;/p&gt;\r\n&lt;div id=\"unformatted\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 3323100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dee127f36db0291a3bb35d2efd96c15?s=128&d=identicon&r=PG&f=1", "display_name": "Long Field", "link": "https://stackoverflow.com/users/3323100/long-field"}, "is_accepted": false, "score": 0, "last_activity_date": 1584925010, "creation_date": 1584925010, "answer_id": 60806700, "question_id": 51748098, "link": "https://stackoverflow.com/questions/51748098/textarea-store-and-show-linebreaks/60806700#60806700", "title": "Textarea Store and Show Linebreaks", "body": "<pre><code>&lt;textarea  style=\"white-space: pre;\" [(ngModel)]=\"value\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>your value might be like this:</p>\n\n<pre><code>value = \"1234\\n5678\"\n</code></pre>\n\n<p>\"\\n\" as linebreaks</p>\n"}], "owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1584925010, "creation_date": 1533735288, "question_id": 51748098, "link": "https://stackoverflow.com/questions/51748098/textarea-store-and-show-linebreaks", "title": "Textarea Store and Show Linebreaks", "body": "<p>I have an Angular 2 App and I use a textarea:</p>\n\n<pre><code>&lt;textarea [(ngModel)]=\"value\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>The value gets sent via a REST Api to the server. However already in the application when I want to show:</p>\n\n<pre><code>{{value}}\n</code></pre>\n\n<p>It won't show line breaks. How can I accomplish this? It should show the line breaks and ensure that these are also saved in the model.</p>\n"}, {"tags": ["angular", "typescript", "mean-stack", "angular-reactive-forms", "angular-forms"], "comments": [{"owner": {"reputation": 3294, "user_id": 5316255, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BYJ8v.jpg?s=128&g=1", "display_name": "Saurabh Tiwari", "link": "https://stackoverflow.com/users/5316255/saurabh-tiwari"}, "edited": false, "score": 0, "creation_date": 1533735464, "post_id": 51747982, "comment_id": 90456040, "body": "For this to work your <code>yesNoarray</code> should be like <code>[&#39;Yes&#39;, &#39;No&#39;]</code>. Are you sure it is exactly like this ?"}, {"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "reply_to_user": {"reputation": 3294, "user_id": 5316255, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BYJ8v.jpg?s=128&g=1", "display_name": "Saurabh Tiwari", "link": "https://stackoverflow.com/users/5316255/saurabh-tiwari"}, "edited": false, "score": 0, "creation_date": 1533735920, "post_id": 51747982, "comment_id": 90456354, "body": "yes, that part works fine. so i show/hide the div accordingly"}], "answers": [{"tags": [], "owner": {"reputation": 202, "user_id": 3917767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c2b30d0c35cfc1a39f07628ff56cdd?s=128&d=identicon&r=PG&f=1", "display_name": "raffaeleambrosio", "link": "https://stackoverflow.com/users/3917767/raffaeleambrosio"}, "is_accepted": true, "score": 1, "last_activity_date": 1533889054, "last_edit_date": 1533889054, "creation_date": 1533888402, "answer_id": 51781866, "question_id": 51747982, "link": "https://stackoverflow.com/questions/51747982/angular-form-controls-validating-based-on-radio-button-selection/51781866#51781866", "title": "Angular form controls validating based on radio button selection", "body": "<p>if you want to validate field based on the value of other field you can subscribe on ValueChanges Observable of field and then set or unset validators.</p>\n\n<pre><code> this.primaryForm.get('DSYesNo')\n            .valueChanges\n            .subscribe(value =&gt; {\n\n             const otherFiled = this.primaryForm .get('otherField');\n             if(value==='YES'){\n                    otherFiled.enable();\n                    otherFiled.setValidators([Validators.required]);\n             }  else {\n                    otherFiled.disable()\n                    otherFiled.clearValidators();\n              }\n\n\n});\n</code></pre>\n\n<p>for disable button just check if form is valid</p>\n\n<pre><code>&lt;button type=\"submit\" [disabled]=\"!primaryForm.valid\" class=\"btn btn-primary \"&gt;Submit&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2639, "favorite_count": 0, "accepted_answer_id": 51781866, "answer_count": 1, "score": 2, "last_activity_date": 1533889054, "creation_date": 1533734946, "last_edit_date": 1533887357, "question_id": 51747982, "link": "https://stackoverflow.com/questions/51747982/angular-form-controls-validating-based-on-radio-button-selection", "title": "Angular form controls validating based on radio button selection", "body": "<p>I have a form where some field will be shown in case that a question is answered YES.Thus, those form controls has to be validated if the answer is YES.\nbut what happen in my form is that, the form become Invalid if I do not have those field filled. here is my code: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;label for=\"DSYesNo\"&gt;&lt;h3&gt; Does you need to access other Data? &lt;/h3&gt; &lt;/label&gt;\r\n      &lt;div *ngFor=\"let obj of yesNoArray\"&gt;\r\n        &lt;input type=\"radio\"  class=\"form-control\" name=\"DSYesNo\"  value=\"{{obj}}\"  formControlName=\"DSYesNo\"  (change)=\"DSYesNO(obj)\"&gt;\r\n        {{obj}}\r\n      &lt;/div&gt;\r\n\r\n      &lt;div *ngIf='allDSflag'&gt; // allDSflag by default is false.\r\n       \r\n        &lt;div form=\"form-group\"&gt;\r\n          &lt;label for=\"allDS\"&gt;&lt;h3&gt; Data Subject Category: &lt;/h3&gt; &lt;/label&gt;\r\n          &lt;div [ngClass]=\"{\r\n            'has-errors': ((primaryForm.controls.allDS.errors (primaryForm.controls.allDS.dirty || primaryForm.controls.allDS.touched)) ),\r\n            'has-success': (!primaryForm.controls.allDS.errors)  }\"&gt;\r\n\r\n            &lt;div *ngFor=\"let DScategory of allDataSubjects\"&gt;\r\n              &lt;input type=\"checkbox\"\r\n                     formControlName=\"allDS\"\r\n                     name=\"allDS\"\r\n                     (click)=\"onOtherDataSubjectClick(DScategory)\"\r\n              &gt;\r\n              {{DScategory.category}}\r\n            &lt;/div&gt;\r\n  \r\n            &lt;!--Validations--&gt;\r\n            &lt;ul class=\"help-block\"&gt;\r\n              &lt;li *ngIf=\"primaryForm.controls.allDS.errors?.requiredTrue &amp;&amp;\r\n                  (primaryForm.controls.allDS.dirty || primaryForm.controls.allDS.touched)\"&gt;This field is required&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is where I check the selcted value of the radio to set the flag.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  DSYesNO(value) {\r\n    console.log(value);\r\n    if (value==\"Yes\") {\r\n      this.allDSflag = true\r\n    } else\r\n      this.allDSflag = false;\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>here is where I create the form : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>createForm() {\r\n    this.primaryForm = this.formBuilder.group({\r\n\r\n        DSYesNo: [],\r\n    \r\n        allDS:['', Validators.compose([\r\n          Validators.requiredTrue\r\n        ])],\r\n        justifyOtherDS: ['', Validators.compose([\r\n          Validators.required\r\n        ])]\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>here is the submit bottn which has to be disable as far as the form is invalid: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;input  type=\"submit\"  class=\"btn btn-primary\" [disabled]=\"((!primaryForm.valid) &amp;&amp; !allDSflag)\" value=\"Submit\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>could you please help me understand what makes the button always DISABLE. Anyone?</p>\n"}, {"tags": ["typescript", "assertions", "browser-automation", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "edited": false, "score": 0, "creation_date": 1533799066, "post_id": 51749206, "comment_id": 90480874, "body": "Hmm... so what is the point to have same assertion just with different names of it. They only duplicate each other then."}, {"owner": {"reputation": 1756, "user_id": 8492116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22358b8a44a83a98115de7b8c6092529?s=128&d=identicon&r=PG&f=1", "display_name": "Aankhen", "link": "https://stackoverflow.com/users/8492116/aankhen"}, "reply_to_user": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "edited": false, "score": 2, "creation_date": 1533809176, "post_id": 51749206, "comment_id": 90487053, "body": "I\u2019d guess that they felt it was more ergonomic\u2014you can use whatever feels more natural on a case-to-case basis, just like you can choose between BDD and TDD, between <code>expect</code> and <code>should</code>\u2014but that\u2019s just speculation."}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "edited": false, "score": 0, "creation_date": 1533821794, "post_id": 51749206, "comment_id": 90495666, "body": "I can confirm, these three assertion methods have no functional difference."}], "tags": [], "owner": {"reputation": 1756, "user_id": 8492116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22358b8a44a83a98115de7b8c6092529?s=128&d=identicon&r=PG&f=1", "display_name": "Aankhen", "link": "https://stackoverflow.com/users/8492116/aankhen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533738477, "creation_date": 1533738477, "answer_id": 51749206, "question_id": 51747911, "link": "https://stackoverflow.com/questions/51747911/cypress-io-typescript-difference-beetween-expect-to-equal-vs-expect-equ/51749206#51749206", "title": "Cypress.io + TypeScript difference beetween: expect().to.equal() vs expect().equals() vs expect().to.eq()", "body": "<p>Based on <a href=\"https://github.com/chaijs/chai/blob/297c71a9924166ee38eef5fae85a587a813aed5d/lib/chai/core/assertions.js#L1016-L1038\" rel=\"nofollow noreferrer\">the source</a>, the effects of all of these are identical under the hood.</p>\n"}], "owner": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 51749206, "answer_count": 1, "score": 1, "last_activity_date": 1533738477, "creation_date": 1533734760, "question_id": 51747911, "link": "https://stackoverflow.com/questions/51747911/cypress-io-typescript-difference-beetween-expect-to-equal-vs-expect-equ", "title": "Cypress.io + TypeScript difference beetween: expect().to.equal() vs expect().equals() vs expect().to.eq()", "body": "<p>What is the difference if we compare these 3 assertion methods:</p>\n\n<pre><code>expect().to.equal() vs expect().equals() vs expect().to.eq()\n</code></pre>\n\n<p>I found these assertions in Cypress.io documentation: <a href=\"https://docs.cypress.io/guides/references/assertions.html#BDD-Assertions\" rel=\"nofollow noreferrer\">https://docs.cypress.io/guides/references/assertions.html#BDD-Assertions</a></p>\n"}, {"tags": ["angular", "typescript", "ckeditor"], "answers": [{"comments": [{"owner": {"reputation": 507, "user_id": 6466116, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nkd24.jpg?s=128&g=1", "display_name": "Amit Anand", "link": "https://stackoverflow.com/users/6466116/amit-anand"}, "edited": false, "score": 0, "creation_date": 1533735872, "post_id": 51748000, "comment_id": 90456325, "body": "Thanks dear, this really worked. Thank you so much :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1533734979, "creation_date": 1533734979, "answer_id": 51748000, "question_id": 51747891, "link": "https://stackoverflow.com/questions/51747891/custom-function-in-ng2-ckeditor/51748000#51748000", "title": "Custom function in ng2-ckeditor", "body": "<p>You're losing the context of your class with your syntax. Consider switching to fat arrows, which prevent that : </p>\n\n<pre><code>public OnReady() {\n    this.CkEditor.instance.addCommand(\"source\", {\n      exec: () =&gt; {\n          alert(\"Custom handler for source button \");\n      }\n    });\n    this.CkEditor.instance.addCommand(\"preview\", {\n      exec: () =&gt; {\n           this.PreviewOfferLetter()\n      }\n    });\n  }\n</code></pre>\n\n<p>You can also use closures, which is uglier but also works : </p>\n\n<pre><code>public OnReady() {\n    const self = this;\n    this.CkEditor.instance.addCommand(\"source\", {\n      exec: function() {\n          alert(\"Custom handler for source button \");\n      }\n    });\n    this.CkEditor.instance.addCommand(\"preview\", {\n      exec: function() {\n           self.PreviewOfferLetter()\n      }\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 6466116, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nkd24.jpg?s=128&g=1", "display_name": "Amit Anand", "link": "https://stackoverflow.com/users/6466116/amit-anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 51748000, "answer_count": 1, "score": 1, "last_activity_date": 1533734979, "creation_date": 1533734697, "question_id": 51747891, "link": "https://stackoverflow.com/questions/51747891/custom-function-in-ng2-ckeditor", "title": "Custom function in ng2-ckeditor", "body": "<p>I am working on Angular 4 project and using ng2-CkEditor in it. I have overridden the basic functionality of some buttons of the CkEditor like Save and Preview to execute my own function. Below is my code</p>\n\n<pre><code>&lt;ckeditor  (ready)=\"OnReady()\" [config]=\"editorConfig\"  formControlName=\"EditorNote\" #CkEditor&gt;\n                          &lt;ckbutton\n                            [name]=\"'customButton'\"\n                            [command]=\"'customCmd'\"\n                            [label]=\"'Click Me'\"\n                            [toolbar]=\"'CustomToolBar'\"\n                            [icon]=\"'https://avatars1.githubusercontent.com/u/5500999?v=2&amp;s=16'\"&gt;\n                          &lt;/ckbutton&gt;\n                        &lt;/ckeditor&gt;\n</code></pre>\n\n<p>I am overriding the buttons in the OnReady() method as follows --</p>\n\n<pre><code>public OnReady() {\n    this.CkEditor.instance.addCommand(\"source\", {\n      exec: function() {\n          alert(\"Custom handler for source button \");\n      }\n    });\n    this.CkEditor.instance.addCommand(\"preview\", {\n      exec: function() {\n           this.PreviewOfferLetter()\n      }\n    });\n  }\n</code></pre>\n\n<p>The PreviewOfferLetter() method is as follows --</p>\n\n<pre><code>public PreviewOfferLetter() {\n    const editorContentHtml = this.frmReviewOfferLetter.controls[\"EditorNote\"].value;\n    this._humanResourceService.PreviewCandidateOfferLetter(editorContentHtml).subscribe(\n      data =&gt; {\n        console.log(data);\n      },\n      error =&gt; {\n        console.log(error);\n      },\n      () =&gt; {\n\n      });\n  }\n</code></pre>\n\n<p>Now when I am clicking the \"Preview\" button it throws an error in console which says --</p>\n\n<pre><code>this.PreviewOfferLetter is not a function\n</code></pre>\n\n<p>Please suggest if I am doing something wrong. Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "npm", "ffmpeg"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1533734246, "post_id": 51747411, "comment_id": 90455208, "body": "have you tried: <code>import * as ffmpeg from &#39;fluent-ffmpeg&#39;;</code>?"}, {"owner": {"reputation": 279, "user_id": 8937599, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/71295e7f8885ac74e44f36cc00a09cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esco", "link": "https://stackoverflow.com/users/8937599/esco"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1533734666, "post_id": 51747411, "comment_id": 90455475, "body": "yes I tried that way. Still same issue"}, {"owner": {"reputation": 634, "user_id": 7813028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hlU.jpg?s=128&g=1", "display_name": "Umesh Patadiya", "link": "https://stackoverflow.com/users/7813028/umesh-patadiya"}, "edited": false, "score": 0, "creation_date": 1548244926, "post_id": 51747411, "comment_id": 95471765, "body": "did you try to import the js file under the scripts array in angular.json?"}], "owner": {"reputation": 279, "user_id": 8937599, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/71295e7f8885ac74e44f36cc00a09cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esco", "link": "https://stackoverflow.com/users/8937599/esco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 814, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533733571, "creation_date": 1533733152, "last_edit_date": 1533733571, "question_id": 51747411, "link": "https://stackoverflow.com/questions/51747411/issues-with-fluent-ffmpeg-plugin-in-angular-cli-project", "title": "Issues with fluent-ffmpeg plugin in angular-cli project", "body": "<p>I'have installed 'fluent-ffmpeg' plugin in my project and I'm including it in the following way in my component.ts file</p>\n\n<pre><code>declare var require;\nvar ffmpeg = require('fluent-ffmpeg');\n</code></pre>\n\n<p>I'm getting the following issues while building using ng serve</p>\n\n<pre><code>ERROR in ./node_modules/fluent-ffmpeg/index.js\nModule not found: Error: Can't resolve './lib-cov/fluent-ffmpeg' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg'\nERROR in ./node_modules/fluent-ffmpeg/lib/ffprobe.js\nModule not found: Error: Can't resolve 'child_process' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/utils.js\nModule not found: Error: Can't resolve 'child_process' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/processor.js\nModule not found: Error: Can't resolve 'child_process' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/recipes.js\nModule not found: Error: Can't resolve 'fs' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/capabilities.js\nModule not found: Error: Can't resolve 'fs' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/processor.js\nModule not found: Error: Can't resolve 'fs' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/isexe/windows.js\nModule not found: Error: Can't resolve 'fs' in '/home/projects/angular/demo/node_modules/isexe'\nERROR in ./node_modules/isexe/mode.js\nModule not found: Error: Can't resolve 'fs' in '/home/projects/angular/demo/node_modules/isexe'\nERROR in ./node_modules/isexe/index.js\nModule not found: Error: Can't resolve 'fs' in '/home/projects/angular/demo/node_modules/isexe'\nERROR in ./node_modules/fluent-ffmpeg/lib/utils.js\nModule not found: Error: Can't resolve 'os' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/fluent-ffmpeg.js\nModule not found: Error: Can't resolve 'path' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/processor.js\nModule not found: Error: Can't resolve 'path' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/recipes.js\nModule not found: Error: Can't resolve 'path' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/capabilities.js\nModule not found: Error: Can't resolve 'path' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\nERROR in ./node_modules/fluent-ffmpeg/lib/options/misc.js\nModule not found: Error: Can't resolve 'path' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib/options'\nERROR in ./node_modules/which/which.js\nModule not found: Error: Can't resolve 'path' in '/home/projects/angular/demo/node_modules/which'\nERROR in ./node_modules/fluent-ffmpeg/lib/recipes.js\nModule not found: Error: Can't resolve 'stream' in '/home/projects/angular/demo/node_modules/fluent-ffmpeg/lib'\n\u2139 \uff62wdm\uff63: Failed to compile.\n</code></pre>\n\n<p>Can somebody help me in resolving this?</p>\n"}, {"tags": ["angular", "typescript", "foreach", "break"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 3, "creation_date": 1533734422, "post_id": 51747397, "comment_id": 90455321, "body": "The MDN is a great resource on JavaScript and the types/methods available. Here&#39;s the page on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.ForEach</a>. And it has a section specifically about alternatives you can use if you need to break. &quot;Early termination may be accomplished with:&quot;"}, {"owner": {"reputation": 470, "user_id": 846727, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/57bd3e136d86851353667f6ae3fa7fc1?s=128&d=identicon&r=PG", "display_name": "Kunal", "link": "https://stackoverflow.com/users/846727/kunal"}, "edited": false, "score": 0, "creation_date": 1598989866, "post_id": 51747397, "comment_id": 112633086, "body": "Please update the best answer to that provided by @Roberc"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 5, "creation_date": 1533734244, "post_id": 51747467, "comment_id": 90455204, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> &quot;There is no way to stop or break a forEach() loop other than by throwing an exception. If you need such behavior, the forEach() method is the wrong tool.&quot;"}], "tags": [], "owner": {"reputation": 213, "user_id": 6417765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tK2F1.jpg?s=128&g=1", "display_name": "Riddhi", "link": "https://stackoverflow.com/users/6417765/riddhi"}, "is_accepted": false, "score": -10, "last_activity_date": 1533733316, "creation_date": 1533733316, "answer_id": 51747467, "question_id": 51747397, "link": "https://stackoverflow.com/questions/51747397/how-to-break-foreach-loop-in-typescript/51747467#51747467", "title": "How to break ForEach Loop in TypeScript", "body": "<p>simply do <code>return false;</code>. It will break.</p>\n"}, {"comments": [{"owner": {"reputation": 507, "user_id": 9434165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179d4b3a65a820d7791fe075845de997?s=128&d=identicon&r=PG&f=1", "display_name": "Arka", "link": "https://stackoverflow.com/users/9434165/arka"}, "edited": false, "score": 0, "creation_date": 1533735369, "post_id": 51747545, "comment_id": 90455975, "body": "Thanks @Amit. It ishelpful"}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 30, "last_activity_date": 1533734953, "last_edit_date": 1533734953, "creation_date": 1533733550, "answer_id": 51747545, "question_id": 51747397, "link": "https://stackoverflow.com/questions/51747397/how-to-break-foreach-loop-in-typescript/51747545#51747545", "title": "How to break ForEach Loop in TypeScript", "body": "<p>It is not possible to break from <code>forEach()</code> normally.</p>\n\n<p>Alternatively you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"noreferrer\">Array.every()</a> because you wish to return <code>false</code> while breaking the loop. </p>\n\n<p>If you want to return true, then you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"noreferrer\">Array.some()</a></p>\n\n<pre><code>this.tab.committee.ratings.every(element =&gt; {\n\n  const _fo = this.isEmptyOrNull(element.ratings.finalOutcome.finaloutlook);\n  const _foreign = this.isEmptyOrNull(element.ratings.finalOutcome.foreign);\n  const _local = this.isEmptyOrNull(element.ratings.finalOutcome.local);\n  const _tally = element.ratings.finalOutcome.voteTally.maj + element.ratings.finalOutcome.voteTally.dis;\n\n  if (_fo == false &amp;&amp; _foreign == false &amp;&amp; _local == false) {\n    if (_tally &gt; 0) {\n      **return count = false;**\n    }\n  } else {\n    if (_tally &lt; 0) {\n      **return count = false;**\n    }\n  }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4333, "user_id": 3273962, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/KyZ9B.png?s=128&g=1", "display_name": "Mangesh", "link": "https://stackoverflow.com/users/3273962/mangesh"}, "edited": false, "score": 0, "creation_date": 1589980972, "post_id": 51748036, "comment_id": 109507737, "body": "I am not able to find documentation for <code>of</code>."}, {"owner": {"reputation": 986, "user_id": 7375155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26844ea283f2e23ae65ff490e7b1d29?s=128&d=identicon&r=PG", "display_name": "Roberc", "link": "https://stackoverflow.com/users/7375155/roberc"}, "reply_to_user": {"reputation": 4333, "user_id": 3273962, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/KyZ9B.png?s=128&g=1", "display_name": "Mangesh", "link": "https://stackoverflow.com/users/3273962/mangesh"}, "edited": false, "score": 0, "creation_date": 1590071799, "post_id": 51748036, "comment_id": 109546239, "body": "@Mangesh this syntax is not Angular-specific. It&#39;s new ECMAScript standard. You can read about it here <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 6362, "user_id": 1274852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/702e211a3f6ac5d27005df147685d8df?s=128&d=identicon&r=PG", "display_name": "hkong", "link": "https://stackoverflow.com/users/1274852/hkong"}, "edited": false, "score": 2, "creation_date": 1593274473, "post_id": 51748036, "comment_id": 110724768, "body": "For large arrays, this is more performant since it breaks upon first match, and does not need to go through every element."}, {"owner": {"reputation": 470, "user_id": 846727, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/57bd3e136d86851353667f6ae3fa7fc1?s=128&d=identicon&r=PG", "display_name": "Kunal", "link": "https://stackoverflow.com/users/846727/kunal"}, "reply_to_user": {"reputation": 4333, "user_id": 3273962, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/KyZ9B.png?s=128&g=1", "display_name": "Mangesh", "link": "https://stackoverflow.com/users/3273962/mangesh"}, "edited": false, "score": 0, "creation_date": 1598989950, "post_id": 51748036, "comment_id": 112633120, "body": "@Mangesh: <a href=\"https://www.typescriptlang.org/docs/handbook/iterators-and-generators.html#forof-vs-forin-statements\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 1997, "user_id": 6796524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uLDOI.png?s=128&g=1", "display_name": "Camille", "link": "https://stackoverflow.com/users/6796524/camille"}, "edited": false, "score": 1, "creation_date": 1612525980, "post_id": 51748036, "comment_id": 116800545, "body": "Nice! Better that <code>.forEach</code> for my taste. Even if that&#39;s not directly answering question."}], "tags": [], "owner": {"reputation": 986, "user_id": 7375155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26844ea283f2e23ae65ff490e7b1d29?s=128&d=identicon&r=PG", "display_name": "Roberc", "link": "https://stackoverflow.com/users/7375155/roberc"}, "is_accepted": false, "score": 73, "last_activity_date": 1533735760, "last_edit_date": 1533735760, "creation_date": 1533735110, "answer_id": 51748036, "question_id": 51747397, "link": "https://stackoverflow.com/questions/51747397/how-to-break-foreach-loop-in-typescript/51748036#51748036", "title": "How to break ForEach Loop in TypeScript", "body": "<p>this.tab.committee.ratings.forEach is not operator.\nTypescript allows much more readable code.</p>\n\n<p>Use <strong>for</strong> loop in style as follows:</p>\n\n<pre><code>for(let a of this.tab.committee.ratings) {\n   if(something_wrong) break;\n}\n</code></pre>\n\n<p>p.s. forget \"coding as with jQuery\" in Angular. It just don't work.</p>\n"}, {"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1565227844, "creation_date": 1565227844, "answer_id": 57404102, "question_id": 51747397, "link": "https://stackoverflow.com/questions/51747397/how-to-break-foreach-loop-in-typescript/57404102#57404102", "title": "How to break ForEach Loop in TypeScript", "body": "<p>This is for <a href=\"https://lodash.com/docs/4.17.11#forEach\" rel=\"nofollow noreferrer\">Lodash</a></p>\n\n<pre><code>forEach(this.diningService.menus, (m: any) =&gt; {\n      this.category = find(m.categories, (c: any) =&gt; {\n        return c.id === Number(categoryId);\n      });\n      if (this.category) { return false; }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 2604865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47861ed0451bfc9f628fa4988c866954?s=128&d=identicon&r=PG", "display_name": "Skraloupak", "link": "https://stackoverflow.com/users/2604865/skraloupak"}, "is_accepted": false, "score": 2, "last_activity_date": 1603092789, "creation_date": 1603092789, "answer_id": 64422929, "question_id": 51747397, "link": "https://stackoverflow.com/questions/51747397/how-to-break-foreach-loop-in-typescript/64422929#64422929", "title": "How to break ForEach Loop in TypeScript", "body": "<p>You cannot \u2018break\u2019, it won\u2019t even run because the break instruction is not technically in a loop.\nSolution?\nJust use a normal for loop. Nobody would laugh at you.</p>\n"}], "owner": {"reputation": 507, "user_id": 9434165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179d4b3a65a820d7791fe075845de997?s=128&d=identicon&r=PG&f=1", "display_name": "Arka", "link": "https://stackoverflow.com/users/9434165/arka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92543, "favorite_count": 4, "accepted_answer_id": 51747545, "answer_count": 5, "score": 46, "last_activity_date": 1603092789, "creation_date": 1533733114, "question_id": 51747397, "link": "https://stackoverflow.com/questions/51747397/how-to-break-foreach-loop-in-typescript", "title": "How to break ForEach Loop in TypeScript", "body": "<p>I have a the below code, on which i am unable to break the loop on certain conditions.</p>\n\n<pre><code> isVoteTally(): boolean {\nlet count = false;\nthis.tab.committee.ratings.forEach(element =&gt; {\n\n  const _fo = this.isEmptyOrNull(element.ratings.finalOutcome.finaloutlook);\n  const _foreign = this.isEmptyOrNull(element.ratings.finalOutcome.foreign);\n  const _local = this.isEmptyOrNull(element.ratings.finalOutcome.local);\n  const _tally = element.ratings.finalOutcome.voteTally.maj + element.ratings.finalOutcome.voteTally.dis;\n\n  if (_fo == false &amp;&amp; _foreign == false &amp;&amp; _local == false) {\n    if (_tally &gt; 0) {\n      **return count = false;**\n    }\n  } else {\n    if (_tally &lt; 0) {\n      **return count = false;**\n    }\n  }\n});\nreturn count;\n</code></pre>\n\n<p>}</p>\n\n<p>On the star-marked area, i want to <em>break</em> the code and return the boolean value, but i am unable to do it right now. Can anybody help me.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript", "observable", "angular6", "rxjs6"], "answers": [{"tags": [], "owner": {"reputation": 197, "user_id": 6427809, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FD-jXI7nzOc/AAAAAAAAAAI/AAAAAAAAAcs/V4nPR3kCKx4/photo.jpg?sz=128", "display_name": "Killan", "link": "https://stackoverflow.com/users/6427809/killan"}, "is_accepted": true, "score": 0, "last_activity_date": 1536562287, "creation_date": 1536562287, "answer_id": 52252469, "question_id": 51747372, "link": "https://stackoverflow.com/questions/51747372/angular-6-rxjs-observable-not-alert-when-next/52252469#52252469", "title": "Angular 6 rxjs observable not alert when next()", "body": "<p>Solution is to use eventEmitter instead of observable. More advised for broadcast problem.</p>\n"}], "owner": {"reputation": 197, "user_id": 6427809, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FD-jXI7nzOc/AAAAAAAAAAI/AAAAAAAAAcs/V4nPR3kCKx4/photo.jpg?sz=128", "display_name": "Killan", "link": "https://stackoverflow.com/users/6427809/killan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 52252469, "answer_count": 1, "score": 0, "last_activity_date": 1536562287, "creation_date": 1533733035, "question_id": 51747372, "link": "https://stackoverflow.com/questions/51747372/angular-6-rxjs-observable-not-alert-when-next", "title": "Angular 6 rxjs observable not alert when next()", "body": "<p>I build a loading system for my game in typescript. I have some layer : Game > Scenes > Elements > Sprites > html image with load event. All waiting via observable.</p>\n\n<p>First i have a sprite with multiple html image so i have a load function</p>\n\n<pre><code>  public load(): Observable&lt;boolean&gt; {\n    this.loadingObs = new Observable((observer) =&gt; {\n      const layerNames = Object.keys(this.conf.layers);\n      let nLayer: number = 0;\n      layerNames.forEach((k) =&gt; {\n        this.loadImage(k).subscribe((loadResult) =&gt; {\n          if (loadResult) {\n            nLayer++;\n          }\n\n          if (nLayer === layerNames.length) {\n            this.loaded = true;\n            observer.next(true);\n            observer.complete();\n          }\n        });\n      });\n    });\n\n    return this.loadingObs;\n  }\n</code></pre>\n\n<p>And a method to retreive the observable</p>\n\n<pre><code>  public getLoadingObs(): Observable&lt;boolean&gt; {\n    return this.loadingObs;\n  }\n</code></pre>\n\n<p>The idea is : if a have N Element that want to load the same Sprite, i create an observable for my image load event, store the observable and give the observable for the next Element Wanting it. So when image loading is done, all Element receive the 'notification' via the observable subscribe. It work.</p>\n\n<p>About Game > Scenes > Elements > Sprites, all is about the mechanic like</p>\n\n<pre><code>  public load(): Observable&lt;boolean&gt; {\n    return new Observable((observer) =&gt; {\n      let nRefs = 0;\n      const spriteRefs = this.getSpritesRefs();\n\n      // Load all needed sprites\n      spriteRefs.forEach((ref) =&gt; {\n        this.resources.loadSprite(ref).subscribe((loadFinished) =&gt; {\n          if (loadFinished) {\n            nRefs++;\n          }\n\n          if (nRefs === spriteRefs.length) {\n            this.afterLoadInit();\n\n            observer.next(true);\n            observer.complete();\n          }\n        });\n      });\n    });\n  }\n</code></pre>\n\n<p>My loadSprite service function get the new observable from sprite or retreive it like explain before. But i'm notified only when created and subscribed and never when retreive and subscribed. (It works just berfore)</p>\n\n<p>So image loading is ok, some observable through all layer comunicate well, but not all. So if i wait 26 loading status, i receive 5 (5 real load), so why sudently observable not spread the next() function to all subscriber like before ?</p>\n\n<p>I'm lost and i don't know tools or technics to debug observable more easily. I tried tap/do method without success. And console.log are mixed cause of async.</p>\n\n<p>Thanks in advance for any help or advice</p>\n"}, {"tags": ["angular", "typescript", "angular-services"], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 9282473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXRhH.jpg?s=128&g=1", "display_name": "codemt", "link": "https://stackoverflow.com/users/9282473/codemt"}, "edited": false, "score": 0, "creation_date": 1533809814, "post_id": 51746789, "comment_id": 90487468, "body": "thanks for the help!! this is working but i still get the 404 bad request error."}, {"owner": {"reputation": 289, "user_id": 9282473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXRhH.jpg?s=128&g=1", "display_name": "codemt", "link": "https://stackoverflow.com/users/9282473/codemt"}, "edited": false, "score": 0, "creation_date": 1533810003, "post_id": 51746789, "comment_id": 90487585, "body": "it is working perfectly in POSTMAN , so that&#39;s what confuses me if , it is working in POSTMAN , how come it is wrong here."}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1533731334, "creation_date": 1533731334, "answer_id": 51746789, "question_id": 51746739, "link": "https://stackoverflow.com/questions/51746739/property-map-does-not-exist-on-type-observableobject/51746789#51746789", "title": "Property &#39;map&#39; does not exist on type &#39;Observable&lt;Object&gt;&#39;", "body": "<p>move it inside the <code>pipe</code> function along with the <code>do</code> operator. Also rename the <code>do</code> operator to <code>tap</code> because in new rxjs version they renamed it.</p>\n\n<pre><code>return this.http.get(CONTEXTROOT+'dashboard')  \n                .pipe(\n                   map((res: Response) =&gt; res.json()),\n                   tap(data =&gt; console.log('server data:', data)),\n                   catchError(this.handleError)\n                 );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1533731471, "post_id": 51746798, "comment_id": 90453282, "body": "<code>do</code> is <code>tap</code> in rxjs 6"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1533731509, "post_id": 51746798, "comment_id": 90453308, "body": "@TimMartens In higher than <code>RxJS 5.5</code>, which is added"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 4, "last_activity_date": 1533731486, "last_edit_date": 1533731486, "creation_date": 1533731352, "answer_id": 51746798, "question_id": 51746739, "link": "https://stackoverflow.com/questions/51746739/property-map-does-not-exist-on-type-observableobject/51746798#51746798", "title": "Property &#39;map&#39; does not exist on type &#39;Observable&lt;Object&gt;&#39;", "body": "<p>You need to use <code>map</code> and <code>do</code> ( <strong><em>RxJS 5.5 higher</em></strong> <code>do</code> -> <code>tap</code>) operators inside the <code>pipe</code> function. </p>\n\n<p>If you are using <code>HttpClient</code> you also don't need to use <code>.json()</code> function.</p>\n\n<pre><code>return this.http.get(CONTEXTROOT+'dashboard')\n                .pipe(\n                      map((res: Response) =&gt; res.json()), // senseless if you are using `HttpClient`\n                      tap(data =&gt; console.log('server data:', data)),\n                      catchError(this.handleError)\n                );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 289, "user_id": 9282473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXRhH.jpg?s=128&g=1", "display_name": "codemt", "link": "https://stackoverflow.com/users/9282473/codemt"}, "edited": false, "score": 0, "creation_date": 1533809783, "post_id": 51746800, "comment_id": 90487445, "body": "with Angular4+, there is no need to do res.json(), which is what my colleagues have said. so I am looking for a solution where I don&#39;t want to use res.json()."}], "tags": [], "owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "is_accepted": false, "score": 0, "last_activity_date": 1533731359, "creation_date": 1533731359, "answer_id": 51746800, "question_id": 51746739, "link": "https://stackoverflow.com/questions/51746739/property-map-does-not-exist-on-type-observableobject/51746800#51746800", "title": "Property &#39;map&#39; does not exist on type &#39;Observable&lt;Object&gt;&#39;", "body": "<p>Try this map inside pipe</p>\n\n<pre><code>getDashBoardData(): Observable&lt;string[]&gt; {\n    return this.http.get(CONTEXTROOT+'dashboard')    \n        .pipe(\n            .map((res: Response) =&gt; res.json()),\n             catchError(this.handleError)\n         );\n}\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 9282473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXRhH.jpg?s=128&g=1", "display_name": "codemt", "link": "https://stackoverflow.com/users/9282473/codemt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1545, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1533790839, "creation_date": 1533731220, "last_edit_date": 1533790839, "question_id": 51746739, "link": "https://stackoverflow.com/questions/51746739/property-map-does-not-exist-on-type-observableobject", "title": "Property &#39;map&#39; does not exist on type &#39;Observable&lt;Object&gt;&#39;", "body": "<p>Why I am getting this error.\nI am trying to map the response I get from the API <em>Get Request</em>.</p>\n\n<p>This is my API Call : </p>\n\n<pre><code>export let CONTEXTROOT=\"http://localhost:8080/core/api/\";\n</code></pre>\n\n<p>And this is my <code>getDashBoardData</code> Function : </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getDashBoardData(): Observable&lt;string[]&gt; {\n     return this.http.get(CONTEXTROOT+'dashboard')\n                     .map((res: Response) =&gt; res.json())\n//                   .do(data =&gt; console.log('server data:', data))  // debug\n                     .pipe(catchError(this.handleError));\n}\n</code></pre>\n\n<p>This is my error function , which will be called if error is there.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> private handleError (error: any) {\n    // In a real world app, we might use a remote logging infrastructure\n    // We'd also dig deeper into the error to get a better message\n     let errMsg = (error.message) ? error.message :\n                   error.status ? `${error.status} - ${error.statusText}` : 'Server error';\n     console.error(errMsg); // log to console instead\n     return Observable.throw(errMsg);\n  }\n}\n</code></pre>\n\n<p>The functions were working correctly in Angular 2 , but in Angular 6 now we are facing many issues.</p>\n"}, {"tags": ["angular", "typescript", "treeview"], "comments": [{"owner": {"reputation": 1794, "user_id": 3304663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0616eca3c03a19eb672d55849febe79e?s=128&d=identicon&r=PG", "display_name": "Aamer Shahzad", "link": "https://stackoverflow.com/users/3304663/aamer-shahzad"}, "edited": false, "score": 0, "creation_date": 1598354357, "post_id": 51746663, "comment_id": 112425437, "body": "How are you disabling the checkbox? are you disabling the node or only checkbox?"}], "owner": {"reputation": 43, "user_id": 10104708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75a5fc6d151cfd7bd5616adb66be3446?s=128&d=identicon&r=PG&f=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/10104708/ankita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 559, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1533734840, "creation_date": 1533731018, "last_edit_date": 1533734840, "question_id": 51746663, "link": "https://stackoverflow.com/questions/51746663/angular-4-angular-tree-component-checkbox-is-disabled-but-still-clickable-on-l", "title": "Angular 4 - angular-tree-component Checkbox is disabled but still clickable on label", "body": "<p>I am using <a href=\"https://github.com/500tech/angular-tree-component\" rel=\"nofollow noreferrer\">https://github.com/500tech/angular-tree-component</a> for my <strong>Angular 4 (v4.3.1)</strong> application. I have disabled checkbox but when i click on label it make checkbox enable/disable Operation.<a href=\"https://i.stack.imgur.com/KUmk8.png\" rel=\"nofollow noreferrer\">Hierarchy View</a></p>\n\n<p><strong>here is html of tree view</strong></p>\n\n<pre><code>&lt;tree-node-content ng-reflect-node=\"[object Object]\" ng-reflect-index=\"0\" ng-reflect-template=\"[object Object]\"&gt;\n      &lt;!--bindings={\n      \"ng-reflect-ng-if\": \"false\"\n    }--&gt;\n      &lt;!--bindings={\n      \"ng-reflect-ng-template-outlet\": \"[object Object]\",\n      \"ng-reflect-ng-outlet-context\": \"[object Object]\"\n    }--&gt;\n      &lt;div _ngcontent-c11=\"\" class=\"datatable-checkbox-wrapper\"&gt;\n        &lt;input _ngcontent-c11=\"\" class=\"input-checkbox change-input-checkbox\" type=\"checkbox\" ng-reflect-klass=\"input-checkbox\" ng-reflect-ng-class=\"[object Object]\" disabled=\"\"&gt;\n    &lt;span _ngcontent-c11=\"\" class=\"input-checkbox-before\"&gt;&lt;/span&gt;\n    &lt;span _ngcontent-c11=\"\" class=\"input-checkbox-after\"&gt;&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;label _ngcontent-c11=\"\" class=\"form-check-label\"&gt;some text&lt;/label&gt;\n&lt;/tree-node-content&gt;\n</code></pre>\n\n<p>Can anyone please help me with this?</p>\n"}, {"tags": ["angular", "typescript", "azure-active-directory"], "answers": [{"tags": [], "owner": {"reputation": 5749, "user_id": 9541448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3xscN.jpg?s=128&g=1", "display_name": "Marilee Turscak - MSFT", "link": "https://stackoverflow.com/users/9541448/marilee-turscak-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1534373845, "creation_date": 1534373845, "answer_id": 51867542, "question_id": 51746288, "link": "https://stackoverflow.com/questions/51746288/redirecting-my-site-to-https-www-msn-com-en-in-while-logout/51867542#51867542", "title": "Redirecting my site to https://www.msn.com/en-in/ while logout", "body": "<p>Have you ensured that your Logout URL matches what you have in your Account controller? Your Account controller needs to have a Signout and EndSession method. The code in my controller looks like this:</p>\n\n<p>public void SignOut()</p>\n\n<pre><code>{\n\n    // Send an OpenID Connect sign-out request.\n\n    HttpContext.GetOwinContext().Authentication.SignOut(\n\n        OpenIdConnectAuthenticationDefaults.AuthenticationType, CookieAuthenticationDefaults.AuthenticationType);\n\n}\n\n\n\npublic void EndSession()\n\n{\n\n    // If AAD sends a single sign-out message to the app, end the user's session, but don't redirect to AAD for sign out.\n\n    HttpContext.GetOwinContext().Authentication.SignOut(CookieAuthenticationDefaults.AuthenticationType);\n\n}\n</code></pre>\n\n<p>Then your logout URL in the app registration needs to match whats in your Account controller. In the example here it would be: <a href=\"https://myapp.azurewebsites.net/Account/EndSession\" rel=\"nofollow noreferrer\">https://myapp.azurewebsites.net/Account/EndSession</a></p>\n"}], "owner": {"reputation": 1104, "user_id": 5291499, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c327cbbfa044ed1c261ec4511af14f38?s=128&d=identicon&r=PG&f=1", "display_name": "pushp", "link": "https://stackoverflow.com/users/5291499/pushp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534373845, "creation_date": 1533729885, "last_edit_date": 1534360790, "question_id": 51746288, "link": "https://stackoverflow.com/questions/51746288/redirecting-my-site-to-https-www-msn-com-en-in-while-logout", "title": "Redirecting my site to https://www.msn.com/en-in/ while logout", "body": "<p>I am using Azure Active Directory authentication. The Login is successful for authenticated users but the logout does not return to the original site/login page but instead redirects to <strong><a href=\"https://www.msn.com/en-in\" rel=\"nofollow noreferrer\">https://www.msn.com/en-in</a></strong>.</p>\n\n<p>On Azure Active Directory I have set reply url, logout url etc.</p>\n"}, {"tags": ["typescript", "import", "module"], "answers": [{"tags": [], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "is_accepted": false, "score": 0, "last_activity_date": 1533734363, "last_edit_date": 1533734363, "creation_date": 1533732455, "answer_id": 51747163, "question_id": 51746138, "link": "https://stackoverflow.com/questions/51746138/how-to-use-typescript-triple-slash-reference-comments-to-import-another-module-a/51747163#51747163", "title": "How to use typescript triple-slash reference comments to import another module and use the functions?", "body": "<p>Seems like I have a lot of misunderstanding about modules.</p>\n\n<p>In order to make all things work, I have to do following changes:</p>\n\n<h3>Modify <code>modules/a.d.ts</code></h3>\n\n<pre><code>declare module 'a' {\n    export function hello(name: string) : void;\n}\n</code></pre>\n\n<p>It should have declared <code>module 'a'</code> in order to work with <code>/// &lt;reference ...</code></p>\n\n<h3>make <code>modules/a.js</code> a local npm package</h3>\n\n<p>provide a <code>package.json</code> in <code>modules</code> dir, with content:</p>\n\n<pre><code>{\n  \"name\": \"a\",\n  \"version\": \"1.0.0\",\n  \"main\": \"a.js\"\n}\n</code></pre>\n\n<p>And install it <code>npm install --save ./modules</code>.</p>\n\n<p>At last, the following code can work</p>\n\n<pre><code>/// &lt;reference path=\"./modules/a.d.ts\" /&gt;\nimport {hello} from 'a';\n\nhello(\"typescript\");\n</code></pre>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533734363, "creation_date": 1533729457, "question_id": 51746138, "link": "https://stackoverflow.com/questions/51746138/how-to-use-typescript-triple-slash-reference-comments-to-import-another-module-a", "title": "How to use typescript triple-slash reference comments to import another module and use the functions?", "body": "<p>Typescript's triple-slash reference may not be needed now, but I still want to know how to use it.</p>\n\n<p>Say I have two files:</p>\n\n<h3>-- modules/a.d.ts</h3>\n\n<pre><code>export declare function hello(name: any): void;\n</code></pre>\n\n<h3>-- modules/a.js</h3>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nfunction hello(name) {\n    console.log(\"Hello, \" + name + \" (from a)\");\n}\nexports.hello = hello;\n</code></pre>\n\n<p>Now I want to use it in another typescript file:</p>\n\n<h2>hello.ts</h2>\n\n<pre><code>/// &lt;reference path=\"./modules/a.d.ts\" /&gt;\n\nhello(\"module a\");\n</code></pre>\n\n<p>I write like this, but when I compile <code>hello.ts</code>, it reports errors:</p>\n\n<pre><code>hello.ts(3,1): error TS2304: Cannot find name 'hello'.\n</code></pre>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["function", "typescript", "http", "ionic-framework", "subscribe"], "comments": [{"owner": {"reputation": 1691, "user_id": 4639894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d679ebb85af0e2733799ec568337c47?s=128&d=identicon&r=PG", "display_name": "suzan", "link": "https://stackoverflow.com/users/4639894/suzan"}, "edited": false, "score": 0, "creation_date": 1533729752, "post_id": 51746038, "comment_id": 90452078, "body": "from where are you passing the sql data to query()?"}, {"owner": {"reputation": 1, "user_id": 10197286, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bmD-GmE5bNI/AAAAAAAAAAI/AAAAAAAAAzI/q0I0Susk0BU/photo.jpg?sz=128", "display_name": "LqmKim 2003", "link": "https://stackoverflow.com/users/10197286/lqmkim-2003"}, "reply_to_user": {"reputation": 1691, "user_id": 4639894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d679ebb85af0e2733799ec568337c47?s=128&d=identicon&r=PG", "display_name": "suzan", "link": "https://stackoverflow.com/users/4639894/suzan"}, "edited": false, "score": 0, "creation_date": 1533802640, "post_id": 51746038, "comment_id": 90482943, "body": "when i set the text variable in <code>ionViewDidLoad();</code> after <code>JSON.stringify(</code>..."}], "owner": {"reputation": 1, "user_id": 10197286, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bmD-GmE5bNI/AAAAAAAAAAI/AAAAAAAAAzI/q0I0Susk0BU/photo.jpg?sz=128", "display_name": "LqmKim 2003", "link": "https://stackoverflow.com/users/10197286/lqmkim-2003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533802754, "creation_date": 1533729114, "last_edit_date": 1533802754, "question_id": 51746038, "link": "https://stackoverflow.com/questions/51746038/ionic-4-http-in-function-gives-undefined-data", "title": "Ionic 4 | Http in function gives undefined data", "body": "<p>I'm trying to get data from MySQL server.</p>\n\n<p>But I'm having a problem where I'm trying to fetch a return value from the function. It works when just changing the value of a variable.</p>\n\n<pre>\ntext;\n\n    ionViewDidLoad()\n  {\n      this.http.post(\"http://192.XXX.XXX.XXX/magento/query.php\", JSON.stringify({\n          sql: \"SELECT * FROM `catalog_product_entity_varchar` WHERE entity_id = 1 AND attribute_id = 73\"\n      })).subscribe(outp => {\n          this.text = JSON.stringify(outp);\n      }, error => {\n          return error;\n      });\n  }\n</pre>\n\n<p>However, when I put it in a function, it outputs \"Undefined\".</p>\n\n<pre>\ntext;\n\n    ionViewDidLoad()\n  {\n      this.text = JSON.stringify(this.query(\"SELECT * FROM catalog_product_entity_varchar WHERE entity_id = 1 AND attribute_id = 73\"));\n  }\n\nquery(sql: string)\n  {\n      this.http.post(\"http://192.XXX.XXX.XXX/magento/query.php\", JSON.stringify({\n          sql: sql\n      })).subscribe(outp => {\n          return outp;\n      }, error => {\n          return error;\n      });\n  }\n</pre>\n\n<p>Please help...</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 6914363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903e8bb9c0c03c533bf299c8d02f569f?s=128&d=identicon&r=PG&f=1", "display_name": "Sadhu Harivandandas", "link": "https://stackoverflow.com/users/6914363/sadhu-harivandandas"}, "edited": false, "score": 0, "creation_date": 1533729354, "post_id": 51746069, "comment_id": 90451829, "body": "\ud83d\udc4c \ud83d\udc4d Thanks a lot This Code Worked for me as I Expected \ud83d\ude03"}], "tags": [], "owner": {"reputation": 26, "user_id": 10197352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/092973d169328c57a3d9adf5f5acd893?s=128&d=identicon&r=PG&f=1", "display_name": "Saraljivandas Swami", "link": "https://stackoverflow.com/users/10197352/saraljivandas-swami"}, "is_accepted": true, "score": 1, "last_activity_date": 1533729217, "creation_date": 1533729217, "answer_id": 51746069, "question_id": 51745983, "link": "https://stackoverflow.com/questions/51745983/convert-an-array-in-to-an-modified-object/51746069#51746069", "title": "Convert an array in to an modified object", "body": "<blockquote>\n  <p>According to the angular's material tree component, this below code will work.\n  What I have done is modified your code and added a check for the existing object.</p>\n</blockquote>\n\n<pre><code>let a = [\"CBSE/sdfsf/X-White\", \"HOS/A/AA/A1\", \"FoodHOS/S1\", \"CBSE/X-Green\", \"HOS/A/A2\",\n    \"FoodHOS/S1\", \"CBSE/IX-White\", \"HOS/A/B1\", \"FoodHOS/S1\", \"TRP/T1\"]\n\n// const isEmpty = (obj) =&gt; {\n// return Object.keys(obj).length === 0 &amp;&amp; obj.constructor === Object;\n// }\n\n\nconst munge = a =&gt;\n    a.reduce((res, e) =&gt; {\n        e = e.split(\"/\");\n        let a = {};\n        let previousKey = e.shift();\n        if (res[previousKey]) {\n            a = res[previousKey];\n        } else {\n            res[previousKey] = a;\n        }\n        let root = res;\n        while (e.length) {\n            const newKey = e.shift();\n\n            if (e.length == 0) {\n                let b = [];\n                if (root[previousKey] instanceof Array) {\n                    b = root[previousKey];\n                } else if (Object.keys(root[previousKey]).length) {\n                    b = root[previousKey];\n                }\n                if (b instanceof Array) {\n                    if (!b.includes(newKey))\n                        b.push(newKey);\n                    root[previousKey] = b;\n                } else {\n                    root[previousKey][newKey] = null;\n                }\n            }\n            else {\n                if (!a[newKey]) {\n                    a[newKey] = {};\n                }\n            }\n\n            if (e.length) {\n                root = a;\n                a = a[newKey];\n            }\n            previousKey = newKey;\n        }\n\n        return res;\n    }, {});\n\nconsole.log(JSON.stringify(munge(a)));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 549, "user_id": 3484173, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4SBEz.jpg?s=128&g=1", "display_name": "Nishant Dongare", "link": "https://stackoverflow.com/users/3484173/nishant-dongare"}, "edited": false, "score": 0, "creation_date": 1533744667, "post_id": 51746178, "comment_id": 90462220, "body": "Please explain this statement <code>return o[k] = o[k] || (i + 1 === a.length ? [] : {})</code>"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 549, "user_id": 3484173, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4SBEz.jpg?s=128&g=1", "display_name": "Nishant Dongare", "link": "https://stackoverflow.com/users/3484173/nishant-dongare"}, "edited": false, "score": 1, "creation_date": 1533745869, "post_id": 51746178, "comment_id": 90462863, "body": "it checks if <code>o[k]</code> exists and if not it takes either an array (if it is the last item) or an object as default value for assignment."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1533729559, "creation_date": 1533729559, "answer_id": 51746178, "question_id": 51745983, "link": "https://stackoverflow.com/questions/51745983/convert-an-array-in-to-an-modified-object/51746178#51746178", "title": "Convert an array in to an modified object", "body": "<p>You could split the string and take it as path to the array for the value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [\"CBSE/X-White\",\"HOS/A/A1\",\"FoodHOS/S1\", \"CBSE/X-Green\",\"HOS/A/A2\",\"FoodHOS/S1\", \"CBSE/IX-White\",\"HOS/B/B1\",\"FoodHOS/S1\",\"TRP/T1\"],\r\n    result = array.reduce((r, s) =&gt; {\r\n        var p = s.split('/'),\r\n            v = p.pop();\r\n\r\n        p\r\n            .reduce((o, k, i, a) =&gt; o[k] = o[k] || (i + 1 === a.length ? [] : {}), r)\r\n            .push(v);\r\n\r\n        return r;\r\n    }, {});\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 61, "user_id": 6914363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903e8bb9c0c03c533bf299c8d02f569f?s=128&d=identicon&r=PG&f=1", "display_name": "Sadhu Harivandandas", "link": "https://stackoverflow.com/users/6914363/sadhu-harivandandas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 2, "accepted_answer_id": 51746069, "answer_count": 2, "score": 1, "last_activity_date": 1533729559, "creation_date": 1533728929, "question_id": 51745983, "link": "https://stackoverflow.com/questions/51745983/convert-an-array-in-to-an-modified-object", "title": "Convert an array in to an modified object", "body": "<pre><code>let a = [\"CBSE/X-White\",\"HOS/A/A1\",\"FoodHOS/S1\",\n          \"CBSE/X-Green\",\"HOS/A/A2\",\"FoodHOS/S1\",\n              \"CBSE/IX-White\",\"HOS/B/B1\",\"FoodHOS/S1\",\"TRP/T1\"]\n</code></pre>\n\n<p>I am trying to convert above value of \"a\" to below OBJECT we can observe that it was Unique values also.</p>\n\n<blockquote>\n  <p>The  output Should be like below After Converting</p>\n</blockquote>\n\n<pre><code> {\n    \"CBSE\":[\n    \"X-WHITE\",\n    \"X-Green\",\n    \"IX-White\"\n    ],\n    \"HOS\":{\n     \"A\":[\n       \"A1\",\n       \"A2\"\n       ],\n     \"B\":[\n      \"B1\"\n     ]\n    },\n   \"FoodHOS\":[\n     \"S1\",\n     \"S2\"\n    ],\n  \"TRP\":[\n    \"T1\"\n    ]\n }\n</code></pre>\n\n<p><strong>What I have tried:</strong></p>\n\n<p>I am Converted the \"a\" in to the Below Form with this CODE</p>\n\n<pre><code> const munge = a =&gt;\n                    a.reduce((res, e) =&gt; {\n                        e = e.split(\"/\");\n                        let a = {};\n                        let previousKey = e.shift();\n                        res[previousKey] = a;\n                        let root = res;\n                        while (e.length) {\n                            const newKey = e.shift();\n\n                            if(e.length == 0){\n                                let b = [];\n                                b.push(newKey);\n                                root[previousKey] = b;\n                            }\n                            else\n                                a[newKey] = {};\n\n                            if (e.length) {\n                                root = a;\n                                a= a[newKey];\n                            } \n                            previousKey = newKey;\n                        }\n\n                        return res;\n                    }, {});\nconsole.log(JSON.stringify(munge(a)));\n</code></pre>\n\n<hr>\n\n<pre><code>{\n   \"CBSE\":[\n      \"IX-White\"\n   ],\n   \"HOS\":{\n      \"B\":[\n         \"B1\"\n      ]\n   },\n   \"FoodHOS\":[\n      \"S1\"\n   ],\n   \"TRP\":[\n      \"T1\"\n   ]\n}\n</code></pre>\n\n<p>Acctually i am trying to make an Object which is supported to angular Tree Component \nWith my DataStructure i want to comvert in to angular's Tree Comp data input,</p>\n\n<p><a href=\"https://material.angular.io/components/tree/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/components/tree/overview</a></p>\n\n<p><a href=\"https://stackblitz.com/angular/jamlvojaqjeg?file=app%2Ftree-checklist-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/angular/jamlvojaqjeg?file=app%2Ftree-checklist-example.ts</a></p>\n"}, {"tags": ["angular", "typescript", "routing"], "answers": [{"tags": [], "owner": {"reputation": 1899, "user_id": 7678093, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pmOoYwmTf74/AAAAAAAAAAI/AAAAAAAAAL8/Y_o2wrESTgc/photo.jpg?sz=128", "display_name": "Mohammad Ali", "link": "https://stackoverflow.com/users/7678093/mohammad-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1533728756, "creation_date": 1533728756, "answer_id": 51745922, "question_id": 51745659, "link": "https://stackoverflow.com/questions/51745659/passing-data-between-routes-with-angular/51745922#51745922", "title": "Passing data between routes with Angular", "body": "<p>You can use services, for store some variable</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class MyService{\n    public myVar = '';\n\n    constructor(){}\n}\n</code></pre>\n\n<p>then add this service in <strong>provider</strong> of <strong>app.module.ts</strong></p>\n\n<p>Now you can use this service in your components.</p>\n\n<pre><code>import { MyService } from '...';\n\nexport class AComponent implements OnInit {\n\n    constructor(private myService: MyService){}\n    ngOnInit(){\n        this.myService.myVar = 'something';\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 6737758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ErcoI.jpg?s=128&g=1", "display_name": "Wannes Van Dorpe", "link": "https://stackoverflow.com/users/6737758/wannes-van-dorpe"}, "is_accepted": false, "score": 0, "last_activity_date": 1533729072, "creation_date": 1533729072, "answer_id": 51746024, "question_id": 51745659, "link": "https://stackoverflow.com/questions/51745659/passing-data-between-routes-with-angular/51746024#51746024", "title": "Passing data between routes with Angular", "body": "<p>You could store it in a service. There is no other way because when you navigate away your component instance is destroyed. If you navigate back a new instance of that component is created.</p>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 6463323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-EsUijOkg5SU/AAAAAAAAAAI/AAAAAAAAASo/YYROqltHtrc/photo.jpg?sz=128", "display_name": "Bhimashankar Mantur", "link": "https://stackoverflow.com/users/6463323/bhimashankar-mantur"}, "is_accepted": false, "score": 0, "last_activity_date": 1533785443, "creation_date": 1533785443, "answer_id": 51758402, "question_id": 51745659, "link": "https://stackoverflow.com/questions/51745659/passing-data-between-routes-with-angular/51758402#51758402", "title": "Passing data between routes with Angular", "body": "<p>You can use ngrx/store of you have extensive number of these kinda cases, following is the link\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md\" rel=\"nofollow noreferrer\">https://github.com/ngrx/platform/blob/master/docs/store/README.md</a></p>\n"}], "owner": {"reputation": 3, "user_id": 8432838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1e9284fe10ab00368b00022090260a2?s=128&d=identicon&r=PG&f=1", "display_name": "WeSt", "link": "https://stackoverflow.com/users/8432838/west"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533785443, "creation_date": 1533727918, "question_id": 51745659, "link": "https://stackoverflow.com/questions/51745659/passing-data-between-routes-with-angular", "title": "Passing data between routes with Angular", "body": "<p>Suppose I am currently on the page 'A' with a inputfield.\nI enter \"123\" in the inputfield and navigate to page 'B'.\n(I don't need the value '123' on Page B). But when I navigate from 'B' back to page 'A' I want the previusly entered value '123' is still in the inputfield.\nIs there a build in options in Anuglar to do this without passing the value through the route:id like 'pageb/123' and without storing it in the localstorage?</p>\n"}, {"tags": ["node.js", "typescript", "oop", "dependency-injection", "tdd"], "answers": [{"tags": [], "owner": {"reputation": 1703, "user_id": 3002805, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/450ebfdb88189f81cdf5e6d7eb47867a?s=128&d=identicon&r=PG", "display_name": "arvymetal", "link": "https://stackoverflow.com/users/3002805/arvymetal"}, "is_accepted": true, "score": 2, "last_activity_date": 1533764404, "last_edit_date": 1533764404, "creation_date": 1533738311, "answer_id": 51749145, "question_id": 51745654, "link": "https://stackoverflow.com/questions/51745654/typescript-override-static-factory-method-of-parent-class-in-child-method/51749145#51749145", "title": "Typescript: Override static factory method of parent Class in Child method", "body": "<p>First, there's a pre-defined <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html\" rel=\"nofollow noreferrer\">conditional type</a> called <strong>InstanceType</strong> which could help you to infer the class type from the static member:</p>\n\n<pre><code>public static factory&lt;T extends typeof Parent&gt;(this: T) {\n    return new this({ a: 'This is a nice Dependency' }) as InstanceType&lt;T&gt;\n}\n</code></pre>\n\n<p>Second, if you override a method, static or not, in a child class, it should have a compatible signature, including the generic stuff.</p>\n\n<p>Consequently, your code block could look like this (see in <a href=\"https://www.typescriptlang.org/play/#src=interface%20DepsA%20%7B%0D%0Aa%3A%20string%0D%0A%7D%0D%0A%0D%0Ainterface%20DepsB%20extends%20DepsA%20%7B%0D%0Ab%3A%20Child1%0D%0A%7D%0D%0A%0D%0Aclass%20Parent%20%7B%0D%0Aconstructor(public%20deps%3A%20DepsA%20%7C%20DepsB)%20%7B%7D%0D%0A%0D%0A%20%20%20%20public%20static%20factory%3CT%20extends%20typeof%20Parent%3E(this%3A%20T)%3A%20InstanceType%3CT%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20new%20this(%7B%20a%3A%20&#39;This%20is%20a%20nice%20Dependency&#39;%20%7D)%20as%20InstanceType%3CT%3E%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Child1%20extends%20Parent%20%7B%7D%0D%0A%0D%0Aclass%20Child2%20extends%20Parent%20%7B%0D%0Apublic%20static%20factory%3CT%20extends%20typeof%20Parent%3E(this%3A%20T)%3A%20InstanceType%3CT%3E%20%7B%0D%0A%20%20%20%20return%20new%20this(%7Ba%3A%20&#39;This%20is%20a%20nice%20Dependency&#39;%2C%20b%3A%20Child1.factory()%7D)%20as%20InstanceType%3CT%3E%0D%0A%7D%0D%0A%7D%0D%0A%0D%0Aconst%20child1%20%3D%20Child1.factory()%0D%0Aconst%20child2%20%3D%20Child2.factory()%0D%0Alet%20test2%20%3D%20child2.deps\" rel=\"nofollow noreferrer\">Typescript Playground</a>):</p>\n\n<pre><code>interface DepsA {\n    a: string\n}\n\ninterface DepsB extends DepsA {\n    b: Child1\n}\n\nclass Parent {\n    constructor(public deps: DepsA | DepsB) {}\n\n    public static factory&lt;T extends typeof Parent&gt;(this: T) {\n        return new this({ a: 'This is a nice Dependency' }) as InstanceType&lt;T&gt;\n    }\n}\n\nclass Child1 extends Parent {}\n\nclass Child2 extends Parent {\n    public static factory&lt;T extends typeof Parent&gt;(this: T) {\n        return new this({a: 'This is a nice Dependency', b: Child1.factory()}) as InstanceType&lt;T&gt;\n    }\n}\n\nconst child1 = Child1.factory()  // Type: Child1\nconst child2 = Child2.factory()  // Type: Child2\n</code></pre>\n\n<p>From there, returning the proper <code>deps</code> type, rather than an union, would also be possible in non static members, using <code>as this[\"deps\"]</code>. But you'd have to revamp a bit your code.</p>\n\n<p>Hope it helps ;-)</p>\n"}], "owner": {"reputation": 65, "user_id": 5268706, "user_type": "registered", "profile_image": "https://graph.facebook.com/1041035289270100/picture?type=large", "display_name": "Michel Bitter", "link": "https://stackoverflow.com/users/5268706/michel-bitter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1418, "favorite_count": 0, "accepted_answer_id": 51749145, "answer_count": 1, "score": 1, "last_activity_date": 1533764404, "creation_date": 1533727898, "last_edit_date": 1533732693, "question_id": 51745654, "link": "https://stackoverflow.com/questions/51745654/typescript-override-static-factory-method-of-parent-class-in-child-method", "title": "Typescript: Override static factory method of parent Class in Child method", "body": "<p>I'm running into some problems with dependency injection with Typescript. On every Class that I add a factory static method where all dependencies are set. I do this for testing purposes so that I'm still able to use the TDD approach. </p>\n\n<p>Now I'm running into some problems with overriding the factory method of the parent class in a child class. Example:</p>\n\n<pre><code>interface DepsA {\n  a: string\n}\n\ninterface DepsB extends DepsA {\n  b: Child1\n}\n\nclass Parent {\n  constructor(protected deps: DepsA | DepsB) {}\n\n  public static factory&lt;T extends Parent&gt;() {\n    return new this({a: 'This is a nice Dependency'}) as T\n  }\n}\n\nclass Child1 extends Parent {}\n\nclass Child2 extends Parent {\n  public static factory() {\n    return new this({a: 'This is a nice Dependency', b: Child1.factory()})\n  }\n}\n\nconst child1 = Child1.factory&lt;Child1&gt;()\nconst child2 = Child2.factory()\n</code></pre>\n\n<p>The error what I receive is: </p>\n\n<pre><code>[ts]\nClass static side 'typeof Child2' incorrectly extends base class static side 'typeof Parent'.\n  Types of property 'factory' are incompatible.\n    Type '() =&gt; Child2' is not assignable to type '&lt;T extends Parent&gt;() =&gt; T'.\n      Type 'Child2' is not assignable to type 'T'.\n</code></pre>\n\n<p>I know why I get the error, but have at this point no idea anymore how to fix it, otherwise than renaming the factory static method in Child2.</p>\n\n<p><strong>UPDATE:</strong> A Related bug report to this problem, that explains automatically why I use a Generic on the factory method is: <a href=\"https://github.com/Microsoft/TypeScript/issues/26298\" rel=\"nofollow noreferrer\">#26298</a></p>\n"}, {"tags": ["html", "angular", "typescript", "drag-and-drop", "draggable"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1533728106, "post_id": 51745527, "comment_id": 90451005, "body": "can you add your code in stackblitz.com and use event binding to bind event use () for all event (ondragover)=&quot;someFun&quot;"}, {"owner": {"reputation": 322, "user_id": 10197129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l7pW9.jpg?s=128&g=1", "display_name": "Syed H", "link": "https://stackoverflow.com/users/10197129/syed-h"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1533729353, "post_id": 51745527, "comment_id": 90451828, "body": "I&#39;ve added my code on stackblitz and yet it does&#39;nt do what i want. Nothing happens when i drag on the button"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1533729389, "post_id": 51745527, "comment_id": 90451859, "body": "share stackblitz link"}, {"owner": {"reputation": 322, "user_id": 10197129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l7pW9.jpg?s=128&g=1", "display_name": "Syed H", "link": "https://stackoverflow.com/users/10197129/syed-h"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1534315762, "post_id": 51745527, "comment_id": 90660623, "body": "Sorry for not reaching back earlier. I solved my issue by using a draggable template/module for angular CLI. It did resolve much of my problem."}], "owner": {"reputation": 322, "user_id": 10197129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l7pW9.jpg?s=128&g=1", "display_name": "Syed H", "link": "https://stackoverflow.com/users/10197129/syed-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2421, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1533727798, "creation_date": 1533727554, "question_id": 51745527, "link": "https://stackoverflow.com/questions/51745527/angular-6-drag-event-bind-not-working", "title": "Angular 6 (drag) Event Bind not Working", "body": "<p>I am building a schedule view, which is currently in a preliminary stage, where I add events and then I can rearrange them, either by dragging the event vertically upwards or downwards, or by resizing it vertically. For resizing, I'll click a button contained within the event and drag it up or down to resize the event. For a better view, please have a look at <a href=\"https://fullcalendar.io/releases/fullcalendar-scheduler/1.9.4/demos/vertical-resource-view.html/\" rel=\"nofollow noreferrer\">this opensource calendar</a>.\nI am currently facing an issue, in making my elements draggable. None of the drag events fire, although other (click, mouseover) do work. The following are snippets from what I've done till now. Please excuse me for my work, I'm still  a little rusty at Angular.</p>\n\n<p>*.component.html:</p>\n\n<pre><code>&lt;table&gt;\n &lt;tbody *ngFor=\"let item of FullHours; let i = index\" &gt;\n  &lt;tr [ngSwitch]=\"returnItem(Doc)\" [ngStyle]=\"{'background-color':returnItem(Doc) === ',' ? 'white' : 'yellow' }\"&gt;\n   &lt;td [style.height.px]=\"unitHeight\" &gt;\n    &lt;div ondrop=\"drop($event)\" ondragover=\"allowDrop($event)\" *ngIf=\"hasEvent(i)\" class=\"event-container\" style=\"background-color: white;\"&gt;\n     &lt;div class=\"event\" draggable=\"true\" ondragstart=\"drag($event)\"&gt;\n      &lt;div style=\"width:100%; float:left\" class=\"content\"&gt;04:30PM -- 05:30PM&lt;/div&gt;\n       &lt;div style=\"width:100%; float:left\" class=\"content\"&gt;event {{i}}&lt;/div&gt;\n        &lt;button draggable=\"true\" (dragover)=\"onDragOver($event)\" (dragleave)=\"onDragLeave($event)\" (drop)=\"onDrop($event)\" class=\"eventbtn\" style=\"position: absolute; left:0; right:0; bottom:0\" &gt;\n        =\n        &lt;/button&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;div *ngIf=\"!hasEvent(i)\" (click)=\"createEvent(i)\" class=\"event-container\"&gt;&lt;/div&gt;\n    &lt;/td&gt;\n   &lt;/tr&gt;\n  &lt;/tbody&gt;\n &lt;/table&gt;\n</code></pre>\n\n<p>*.component.ts:</p>\n\n<pre><code>onDrop(event: any) {\n alert('on-drop');\n event.preventDefault();\n event.stopPropagation();\n // your code goes here after droping files or any\n //try to change height\n}\n\nonDragOver(evt) {\n alert('on-drag-over');\n evt.preventDefault();\n evt.stopPropagation();\n}\n\nonDragLeave(evt) {\n alert('on-drag-leave');\n evt.preventDefault();\n evt.stopPropagation();\n}\n</code></pre>\n\n<p>I've put in alerts on all binded functions, but none of them work. I did try this earlier with the whole event too but it still didn't work. I've created simple drag and drop divs wit JavaScript code but even those don't work in here. Do let me know if I need to provide anything else.</p>\n\n<p>I'd be grateful for any guidance that can make my drag and drops work. Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ngfor"], "answers": [{"tags": [], "owner": {"reputation": 1306, "user_id": 5695833, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-nTvuC7ovkJU/AAAAAAAAAAI/AAAAAAAAH-c/CgkOzqPXdkY/photo.jpg?sz=128", "display_name": "Hypenate", "link": "https://stackoverflow.com/users/5695833/hypenate"}, "is_accepted": false, "score": 1, "last_activity_date": 1533803795, "last_edit_date": 1533803795, "creation_date": 1533726742, "answer_id": 51745255, "question_id": 51745091, "link": "https://stackoverflow.com/questions/51745091/unable-to-check-checkbox-inside-second-loop/51745255#51745255", "title": "Unable to check checkbox inside second loop", "body": "<p>I added the <code>[trackByIdx][1]</code> on each loop (in my case the years)... this made it work.</p>\n\n<pre><code>&lt;form *ngIf=\"years\"&gt;\n  &lt;section *ngFor=\"let year of years; let y = indexOfYears; trackBy: trackByIdx\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;strong&gt;{{year.year}}&lt;/strong&gt;\n    &lt;/div&gt;\n    &lt;!--&lt;div *ngFor=\"let month of year.months; let i = index; trackBy: trackByIdx\" class=\"form-check row\"&gt;\n      &lt;input type=\"checkbox\" class=\"form-check-input\" [checked]=\"month.checked\" (change)=\"onMonthChanged(month)\" name='ym{{y}}{{i}}'&gt;\n      &lt;label class=\"form-check-label\"&gt;{{month.name}}&lt;/label&gt;\n    &lt;/div&gt;--&gt;\n\n    &lt;mat-checkbox *ngFor=\"let month of year.months; let i = indexOfMonths; trackBy: trackByIdx\"\n                  class=\"row\" name='ym{{y}}{{i}}' [checked]=\"month.checked\" (change)=\"onMonthChanged(month)\"&gt;\n      {{month.name}}    \n    &lt;/mat-checkbox&gt;\n\n  &lt;/section&gt;\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 1306, "user_id": 5695833, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-nTvuC7ovkJU/AAAAAAAAAAI/AAAAAAAAH-c/CgkOzqPXdkY/photo.jpg?sz=128", "display_name": "Hypenate", "link": "https://stackoverflow.com/users/5695833/hypenate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533803795, "creation_date": 1533726276, "question_id": 51745091, "link": "https://stackoverflow.com/questions/51745091/unable-to-check-checkbox-inside-second-loop", "title": "Unable to check checkbox inside second loop", "body": "<p>I want to list years with some months you can check.<br>\nThe problem I'm facing is that I'm unable to actually check a checkbox.<br>\nIn another variant I tried setting <code>checked</code> in the code behind but the UI would stay unchecked.</p>\n\n<p>My guess is, it has something to do with the 2 loops inside each other but I'm not how to resolve this.</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>export class YearsAndMonths {\n  public year: number;\n  public months: Month[] = [\n    { name: \"January\", numeric: 1, checked: false },\n...\n  ]\n}\n\nexport class Month {\n  public name: string;\n  public checked: boolean;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;form *ngIf=\"years\"&gt;\n  &lt;section *ngFor=\"let year of years; let y = index\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;strong&gt;{{year.year}}&lt;/strong&gt;\n    &lt;/div&gt;\n\n    &lt;mat-checkbox name='ym{{y}}{{i}}' *ngFor=\"let month of year.months; let i = index; trackBy: trackByIdx\"&gt;\n      {{month.name}}\n    &lt;/mat-checkbox&gt;\n  &lt;/section&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>HTML</strong> <em>variant</em></p>\n\n<pre><code>&lt;mat-checkbox *ngFor=\"let month of year.months; let i = index; trackBy: trackByIdx\"\n              class=\"row\" name='ym{{y}}{{i}}' [checked]=\"month.checked\" (change)=\"onMonthChanged(month)\"&gt;\n  {{month.name}}    \n&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>  @Input() years: YearsAndMonths[];\n  trackByIdx(index: number, obj: any): any {\n    return index;\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1533726112, "post_id": 51744927, "comment_id": 90449705, "body": "\u201cisn&#39;t Function a general type to represent closures?\u201d \u2014 right, it\u2019s a <i>general</i> type, but your function <code>on1</code> requires a more specific type. Just like <code>Any</code> is a general type, and can\u2019t be bound to a more specific type (but can itself bind anything)."}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533728444, "post_id": 51745041, "comment_id": 90451224, "body": "@xcaptain added a sample with what I would do for you use case, you can write the function type explicitly in the return type of <code>createCallback</code> or you can let the compiler infer it."}, {"owner": {"reputation": 581, "user_id": 3122424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uIM9Q.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/3122424/joey"}, "edited": false, "score": 0, "creation_date": 1533728728, "post_id": 51745041, "comment_id": 90451421, "body": "Thanks I got it, I created a more complicated example here <a href=\"https://gist.github.com/xcaptain/2ccfc878dbc0bed4813924614a057494#file-typescript_function_type_error_test-ts-L27\" rel=\"nofollow noreferrer\">gist.github.com/xcaptain/&hellip;</a>, do you think it&#39;s a good idea not to specific return type if return a closure since <code>(...args: any[]) =&gt; void</code> is like saying nothing."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 581, "user_id": 3122424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uIM9Q.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/3122424/joey"}, "edited": false, "score": 0, "creation_date": 1533729056, "post_id": 51745041, "comment_id": 90451625, "body": "@xcaptain with or without the explicit return type at call-site you will get the same errors and code completion. The only thing the explicit return type will add is a validation that you return the corect value from inside the <code>create*</code> functions. It&#39;s you decision whether this is worth the length type you have to type in for complex return types."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 6, "last_activity_date": 1533728388, "last_edit_date": 1533728388, "creation_date": 1533726108, "answer_id": 51745041, "question_id": 51744927, "link": "https://stackoverflow.com/questions/51744927/argument-of-type-function-is-not-assignable-to-parameter-of-type-args-an/51745041#51745041", "title": "Argument of type &#39;Function&#39; is not assignable to parameter of type &#39;(...args: any[]) =&gt; void&#39;", "body": "<p>There is a <a href=\"https://github.com/Microsoft/TypeScript/issues/20007\" rel=\"noreferrer\">suggestion</a> to allow something like this, for <code>Function</code> to be assignable to <code>(...args: any[]) =&gt; any</code>. The reason that this is not the current behavior is: </p>\n\n<blockquote>\n  <p>The original intention of Function is to not be callable. in other words, Function to function types should be like unknown to other types, but not callable. we have since relaxed this restriction giving Function a callable behavior in the compiler through special casing. We have talked about making this a --noImplicitAny error since, it is really unsafe to call Functions.</p>\n</blockquote>\n\n<p>I suggest you up-vote the suggestion if this is important to you.</p>\n\n<p>I would generally stay way from <code>Function</code> it's not a type-safe away to express function signatures. For your case I would use the following:</p>\n\n<pre><code>function on(event: string, listener: (...args: any[]) =&gt; void) {\n    console.log('on event: ', event, 'typeof listener:', typeof (listener));\n    listener();\n}\n\nfunction createCallback(a: number)  { // we can omit the return type or be explicit and type it as (a: number) =&gt; number\n    let f = (a: number) =&gt; {\n        console.log('return a:', a);\n        return (a: number) =&gt; { return a + 1 };\n    };\n    return f(a);\n}\n\nlet f = createCallback(1); // (a: number) =&gt; number \non(\"start\", f);\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 3122424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uIM9Q.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/3122424/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8753, "favorite_count": 1, "accepted_answer_id": 51745041, "answer_count": 1, "score": 5, "last_activity_date": 1533728388, "creation_date": 1533725723, "question_id": 51744927, "link": "https://stackoverflow.com/questions/51744927/argument-of-type-function-is-not-assignable-to-parameter-of-type-args-an", "title": "Argument of type &#39;Function&#39; is not assignable to parameter of type &#39;(...args: any[]) =&gt; void&#39;", "body": "<pre><code>function on(event: string, listener: Function) {\n    console.log('on event: ', event, 'typeof listener:', typeof (listener));\n    listener();\n}\n\nfunction on1(event: string, listener: (...args: any[]) =&gt; void) {\n    console.log('on event: ', event, 'typeof listener:', typeof (listener));\n    listener();\n}\n\nfunction createCallback(a: number): Function {\n    let f = (a: number) =&gt; {\n        console.log('return a:', a);\n        return (a: number) =&gt; { return a + 1 };\n    };\n    return f(a);\n}\n\nlet f = createCallback(1);\nconsole.log('type of f', typeof (f));\n// on(\"start\", f);\non1(\"start\", f);\n</code></pre>\n\n<p>In the above code, <code>on(\"start\", f)</code> works fine but <code>on1(\"start\", f);</code> returns error</p>\n\n<pre>\nmain.ts:22:14 - error TS2345: Argument of type 'Function' is not assignable to parameter of type '(...args: any[]) => void'.\n  Type 'Function' provides no match for the signature '(...args: any[]): void'.\n\n22 on1(\"start\", f);\n                ~\n</pre>\n\n<p>If I remove the <code>Function</code> type assertion of <code>createCallback</code>, <code>on1(\"start\", f)</code> works, isn't <code>Function</code> a general type to represent closures?</p>\n\n<p>The original question comes from this commit, <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/commit/96545154cc6488643a7064a6dc4ec9726c7af12a#diff-7d84e08967cded0b99ed4328aab0a1a8L291\" rel=\"noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/commit/96545154cc6488643a7064a6dc4ec9726c7af12a#diff-7d84e08967cded0b99ed4328aab0a1a8L291</a></p>\n\n<p>I don't understand why he changes <code>Function</code> to <code>(...args: any[]) =&gt; void</code> which makes my code break.</p>\n"}, {"tags": ["angular", "typescript", "angular6", "ngfor"], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 2, "last_activity_date": 1533724735, "creation_date": 1533724735, "answer_id": 51744602, "question_id": 51744573, "link": "https://stackoverflow.com/questions/51744573/run-ngfor-directive-without-prefix-with-star/51744602#51744602", "title": "Run NgFor directive without prefix with star", "body": "<p>with <code>ng-template</code> you can. but then have to use <code>[ngForOf]</code> along side.</p>\n\n<pre><code>&lt;ng-template ngFor let-item [ngForOf]=\"items\" let-i=\"index\" [ngForTrackBy]=\"trackByFn\"&gt;\n  &lt;li&gt;...&lt;/li&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><a href=\"https://angular.io/api/common/NgForOf\" rel=\"nofollow noreferrer\">DOC</a></p>\n"}], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 51744602, "answer_count": 1, "score": 0, "last_activity_date": 1533725168, "creation_date": 1533724634, "last_edit_date": 1533725168, "question_id": 51744573, "link": "https://stackoverflow.com/questions/51744573/run-ngfor-directive-without-prefix-with-star", "title": "Run NgFor directive without prefix with star", "body": "<p>For education purpose only can we run <code>NgFor</code> without prefix with star and how we can do it so I can understand how things work ? </p>\n\n<p>and extra information will be very helpful ,thanks.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 660, "user_id": 6690391, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ed143aa94f8785cdd9f84fc0fa49cffa?s=128&d=identicon&r=PG&f=1", "display_name": "Hossam El-Deen", "link": "https://stackoverflow.com/users/6690391/hossam-el-deen"}, "edited": false, "score": 0, "creation_date": 1533782357, "post_id": 51744918, "comment_id": 90475530, "body": "Thanks! Thought of a third one, you may be interested in it here: <a href=\"https://stackoverflow.com/a/51758043/6690391\">stackoverflow.com/a/51758043/6690391</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1533725699, "creation_date": 1533725699, "answer_id": 51744918, "question_id": 51744218, "link": "https://stackoverflow.com/questions/51744218/typescript-nested-tagged-discriminated-union-types/51744918#51744918", "title": "Typescript Nested Tagged/Discriminated Union Types", "body": "<p>Since <code>LoginReply</code> is just a union of <code>LoginSucceeded | AlreadyLoggedIn</code>, from the type system perspective there is no difference between <code>type Reply = LoginReply | LogoutReply</code> and <code>type Reply = LoginSucceeded | AlreadyLoggedIn | LogoutReply</code>. The <code>type</code> keyword introduces a type alias which as the name suggests is just a convenient name for the type not a new type in itself.</p>\n\n<p>You have two options, neither of them 100% what you want. </p>\n\n<p>You can check all possible values <code>kind</code> of <code>LoginReply</code> as you mentioned you considered:</p>\n\n<pre><code>function doStuff(o: Reply) {\n    switch(o.kind)\n    {\n        case 'alreadyLoggedIn' : \n        case 'loginSucceeded' : \n            o; /* is LoginReply */ break;\n        case 'logoutReply': o // o is  LogoutReply\n    }\n} \n</code></pre>\n\n<p>Or you can add an extra <code>subKind</code> field for the <code>LoginReply</code> subtypes:</p>\n\n<pre><code>export type Reply = LoginReply | LogoutReply\n\ntype LoginReply = LoginSucceeded | AlreadyLoggedIn\n\ninterface LoginSucceeded {\n    subKind: \"loginSucceeded\";\n    kind: \"loginReply\";\n}\n\ninterface AlreadyLoggedIn {\n    kind: \"loginReply\";\n    subKind: \"alreadyLoggedIn\";\n    loggedInUsername: string;\n}\n\ninterface LogoutReply {\n    kind: \"logoutReply\";\n    logout: boolean\n}\n\nfunction doStuff(o: Reply) {\n    switch(o.kind)\n    {\n        case 'loginReply' : o // is LoginReply\n            switch(o.subKind) {\n                case 'alreadyLoggedIn' : o; /* is AlreadyLoggedIn */ break;\n                case 'loginSucceeded' : o; /* is LoginSucceeded */ break;\n            }\n            break;\n        case 'logoutReply': o // LogoutReply\n    }\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 660, "user_id": 6690391, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ed143aa94f8785cdd9f84fc0fa49cffa?s=128&d=identicon&r=PG&f=1", "display_name": "Hossam El-Deen", "link": "https://stackoverflow.com/users/6690391/hossam-el-deen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533782172, "creation_date": 1533782172, "answer_id": 51758043, "question_id": 51744218, "link": "https://stackoverflow.com/questions/51744218/typescript-nested-tagged-discriminated-union-types/51758043#51758043", "title": "Typescript Nested Tagged/Discriminated Union Types", "body": "<p>Will keep this answer for all solutions. Please, update if you have another solution.</p>\n\n<hr/>\n\n<p><strong>Solution#1</strong>: As described in the question, see if <code>kind</code> is one of <code>\"loginSucceeded\"</code> and <code>\"alreadyLoggedIn\"</code>.</p>\n\n<hr/>\n\n<p><strong>Solution#2</strong>: As described by <a href=\"https://stackoverflow.com/users/125734/titian-cernicova-dragomir\">Titian Cernicova-Dragomir</a> in <a href=\"https://stackoverflow.com/a/51744918/6690391\">his answer</a>, use <code>kind</code> and <code>subKind</code>.</p>\n\n<hr/>\n\n<p><strong>Solution#3</strong>:</p>\n\n<p>If one argues that <strong>Solution#2</strong> makes <code>LoginSucceeded</code> and <code>AlreadyLoggedIn</code> know too much about them being discriminated types of discriminated types, one could also argue that, even under one level of discrimination, they shouldn't have had knowledge of <code>kind</code>. If one follows that argument, one could implement a solution like this:</p>\n\n<pre><code>type Reply = { kind: \"loginReply\", t: LoginReply } | { kind: \"logoutReply\", t: LogoutReply }\n\ntype LoginReply = { kind: \"loginSucceeded\", t: LoginSucceeded } | { kind: \"alreadyLoggedIn\", t: AlreadyLoggedIn }\n\ninterface LoginSucceeded {\n}\n\ninterface AlreadyLoggedIn {\n    loggedInUsername: string;\n}\n\ninterface LogoutReply {\n    logout: boolean\n}\n\nfunction doStuff(o: Reply) {\n    switch(o.kind)\n    {\n        case 'loginReply' : o.t; // is LoginReply\n            const loginReply = o.t;\n            switch(loginReply.kind) {\n                case 'alreadyLoggedIn' : loginReply.t; /* is AlreadyLoggedIn */ break;\n                case 'loginSucceeded' : loginReply.t; /* is LoginSucceeded */ break;\n            }\n            break;\n        case 'logoutReply': o.t; // LogoutReply\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 660, "user_id": 6690391, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ed143aa94f8785cdd9f84fc0fa49cffa?s=128&d=identicon&r=PG&f=1", "display_name": "Hossam El-Deen", "link": "https://stackoverflow.com/users/6690391/hossam-el-deen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 51758043, "answer_count": 2, "score": 2, "last_activity_date": 1533782172, "creation_date": 1533723515, "question_id": 51744218, "link": "https://stackoverflow.com/questions/51744218/typescript-nested-tagged-discriminated-union-types", "title": "Typescript Nested Tagged/Discriminated Union Types", "body": "<p>Let's say I have the following types (syntax is Elm-ish/Haskell-ish):</p>\n\n<pre><code>type Reply = LoginReply | LogoutReply\ntype LoginReply = LoginSucceeded | AlreadyLoggedIn String\n</code></pre>\n\n<p>If I try to model it using Typescript's discriminated unions, I'll face the problem that <code>LoginReply</code> needs to have a property <code>kind</code> with value \"loginReply\" but it can't because it's declared using <code>type</code> keyword, not <code>class</code>.</p>\n\n<p>That's my best shot at the problem till now:</p>\n\n<pre><code>type Reply = LoginReply | LogoutReply\n\ntype LoginReply = LoginSucceeded | AlreadyLoggedIn\n\ninterface LoginSucceeded {\n  kind: \"loginSucceeded\";\n}\n\ninterface AlreadyLoggedIn {\n  kind: \"alreadyLoggedIn\";\n  loggedInUsername: string;\n}\n\ninterface LogoutReply {\n  kind: \"logoutReply\";\n}\n</code></pre>\n\n<p>As you can see, one can't even use <code>\"loginReply\"</code> anywhere and thus can't be used in discrimination.</p>\n\n<p>The only workaround I have for knowing a <code>Reply</code> variable is a <code>LoginReply</code> is to see if its <code>kind</code> is one of <code>\"loginSucceeded\"</code> and <code>\"alreadyLoggedIn\"</code>.</p>\n\n<p>So, how do I achieve what I want in Typescript? <strong>How to create a discriminated union type whose child types are discriminated-union types themselves?</strong></p>\n"}, {"tags": ["angular", "file", "typescript", "unit-testing", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 295, "user_id": 2072063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2IgS.png?s=128&g=1", "display_name": "Toms Tumshais", "link": "https://stackoverflow.com/users/2072063/toms-tumshais"}, "edited": false, "score": 0, "creation_date": 1533731104, "post_id": 51744905, "comment_id": 90453038, "body": "Thanks for tip! It&#39;s one of ways how to remove TS error. My colleague give one more idea, where I move current File object to MockFile class and use this class for test purposes."}], "tags": [], "owner": {"reputation": 4628, "user_id": 744534, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/iWWdZ.jpg?s=128&g=1", "display_name": "Thaadikkaaran", "link": "https://stackoverflow.com/users/744534/thaadikkaaran"}, "is_accepted": false, "score": 3, "last_activity_date": 1533725649, "creation_date": 1533725649, "answer_id": 51744905, "question_id": 51744005, "link": "https://stackoverflow.com/questions/51744005/jasmine-unit-test-for-file-size-with-typescript-in-angular/51744905#51744905", "title": "Jasmine unit test for file size with TypeScript in Angular", "body": "<p>If you wanted to resolve the <code>TS error</code>, here is the ways,</p>\n\n<pre><code>interface IFile extends File {\n    size: number;\n}\n\nconst file: IFile = new File([''], 'filename', { type: 'image/png' });\nfile.size = 8242880; // Works..\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1021, "user_id": 3693060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c68cef20a7f01fb1ae55601f9810da?s=128&d=identicon&r=PG&f=1", "display_name": "user989988", "link": "https://stackoverflow.com/users/3693060/user989988"}, "edited": false, "score": 0, "creation_date": 1544495060, "post_id": 52116073, "comment_id": 94287079, "body": "I get TypeScript error Type &#39;null&#39; is not assignable to type &#39;Blob&#39;."}, {"owner": {"reputation": 295, "user_id": 2072063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2IgS.png?s=128&g=1", "display_name": "Toms Tumshais", "link": "https://stackoverflow.com/users/2072063/toms-tumshais"}, "reply_to_user": {"reputation": 1021, "user_id": 3693060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c68cef20a7f01fb1ae55601f9810da?s=128&d=identicon&r=PG&f=1", "display_name": "user989988", "link": "https://stackoverflow.com/users/3693060/user989988"}, "edited": false, "score": 0, "creation_date": 1547377973, "post_id": 52116073, "comment_id": 95165586, "body": "Hmm, it&#39;s still showing error? Looked in my code and it works without any error."}, {"owner": {"reputation": 177, "user_id": 8534426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffa0133da0e0c6f26784d6189fc9f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Asolace", "link": "https://stackoverflow.com/users/8534426/asolace"}, "edited": false, "score": 0, "creation_date": 1615243275, "post_id": 52116073, "comment_id": 117626483, "body": "For the null I used  <code>slice: (): Blob =&gt; new Blob,</code>"}], "tags": [], "owner": {"reputation": 295, "user_id": 2072063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2IgS.png?s=128&g=1", "display_name": "Toms Tumshais", "link": "https://stackoverflow.com/users/2072063/toms-tumshais"}, "is_accepted": false, "score": 1, "last_activity_date": 1535720545, "creation_date": 1535720545, "answer_id": 52116073, "question_id": 51744005, "link": "https://stackoverflow.com/questions/51744005/jasmine-unit-test-for-file-size-with-typescript-in-angular/52116073#52116073", "title": "Jasmine unit test for file size with TypeScript in Angular", "body": "<p>How I solved it:</p>\n\n<pre><code>export const createFile = (params?: any): File  =&gt; {\n  const file = {\n    name: 'filename',\n    type: 'image/png',\n    size: 123,\n    lastModified: 1,\n    lastModifiedDate: new Date(),\n    webkitRelativePath: '',\n    msClose: () =&gt; {},\n    msDetachStream: () =&gt; {},\n    slice: (): Blob =&gt; null,\n  };\n\n  return {\n    ...file,\n    ...params,\n  };\n};\n</code></pre>\n\n<p>And use <code>createFile()</code> where is needed to mock file object.</p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 6519348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O0LOC.jpg?s=128&g=1", "display_name": "E. Sun", "link": "https://stackoverflow.com/users/6519348/e-sun"}, "is_accepted": true, "score": 5, "last_activity_date": 1555007836, "last_edit_date": 1555007836, "creation_date": 1555007005, "answer_id": 55638956, "question_id": 51744005, "link": "https://stackoverflow.com/questions/51744005/jasmine-unit-test-for-file-size-with-typescript-in-angular/55638956#55638956", "title": "Jasmine unit test for file size with TypeScript in Angular", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"noreferrer\">Object.defineProperty</a> to overwrite the size property.</p>\n\n<pre><code>/** Creates a \"1TB\" file given the file name. */\nfunction getHugeFile(name: string) : File {\n  const file = new File([''], name);\n  Object.defineProperty(\n      file, 'size', {value: Math.pow(1024, 4), writable: false});\n  return file;\n}\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 2072063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2IgS.png?s=128&g=1", "display_name": "Toms Tumshais", "link": "https://stackoverflow.com/users/2072063/toms-tumshais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3228, "favorite_count": 0, "accepted_answer_id": 55638956, "answer_count": 3, "score": 8, "last_activity_date": 1555007836, "creation_date": 1533722878, "question_id": 51744005, "link": "https://stackoverflow.com/questions/51744005/jasmine-unit-test-for-file-size-with-typescript-in-angular", "title": "Jasmine unit test for file size with TypeScript in Angular", "body": "<p>Searching for best practice how to test File size on input type=\"file\" change event.</p>\n\n<p>Right now my test spec looks like this:</p>\n\n<pre><code>it('attach file with too large size', () =&gt; {\n  const file: File = {\n    name: 'filename',\n    type: 'image/png',\n    size: 8242880,\n    lastModified: 1,\n    lastModifiedDate: new Date(),\n    webkitRelativePath: '',\n    msClose: () =&gt; {},\n    msDetachStream: () =&gt; {},\n    slice: (): Blob =&gt; null,\n  };\n  const event = { target: { files: [file] } };\n\n  component.onFileChange(event); // file validation happens into it too\n\n  const error = control.getError('file_size');\n  expect(error).toBeTruthy();\n});\n</code></pre>\n\n<p>Is there better way how to set File size property with TypeScript?\nWhen I am trying to setting <code>size</code> property directly to File object, it's not allowed because <code>size</code> property is <code>read-only</code>.</p>\n\n<pre><code>const file = new File([''], 'filename', { type: 'image/png' });\nfile.size = 8242880; // TS error\n</code></pre>\n\n<p>Current way how I am mocking File object where I need to define all File object properties for me isn't looking very beautiful, but can't find any better way.\nAny ideas?</p>\n"}, {"tags": ["typescript", "tuples", "typescript-generics", "typescript3.0"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1533720654, "creation_date": 1533720654, "answer_id": 51743207, "question_id": 51742913, "link": "https://stackoverflow.com/questions/51742913/return-instance-tuple-from-classes-tuple-via-typescript-3-0-generic-rest-tuples/51743207#51743207", "title": "return instance tuple from classes tuple via typescript 3.0 generic rest tuples type", "body": "<p>We can get this to mostly work on 3.0, but for full tuple mapping support we will need to wait for 3.1.</p>\n\n<p>To extract the result tuple type we can use a mapped and a conditional type to extract the result type from the <code>Constructor[]</code>. This almost works in 3.0. In 3.0 the mapped type will mangle the array type so that only indexing operations will still be OK on the resulting type, all methods will be of type never. 3.1 will make mapped types on tuples and arrays work more as expected (read <a href=\"https://github.com/Microsoft/TypeScript/pull/26063\" rel=\"nofollow noreferrer\">PR</a> for details) . </p>\n\n<pre><code>type Constructor&lt;T = {}&gt; = new (...args: any[]) =&gt; T\n\nclass Foo {}\nclass Test {}\n\ntype InstanceTypes&lt;T&gt; = {\n    [P in keyof T] :T[P] extends Constructor&lt;infer U&gt; ? U : never\n}\n\nfunction getInstancesFromClasses&lt;T extends Constructor[]&gt;(...klasses: T): InstanceTypes&lt;T&gt; { \nreturn klasses.map(klass =&gt; new klass()) as any\n}\n\nconst instances = getInstancesFromClasses(Foo,Test)\nlet foo = instances[0] // is Foo\nlet bar = instances[1] // is Test\n\nlet [foo1, bar2] = instances // error in 3.0 since the mapped type is not really a tuple will work in 3.1\n</code></pre>\n\n<p><strong>Note</strong> You can already test that this works fully in 3.1 by installing from npm (<code>npm install typescript@next</code>). 3.1 is due for release sometime before the end of august 2018</p>\n"}], "owner": {"reputation": 288, "user_id": 3819491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3d5ccc782ff1ecc42eeeb4d8b8ec02?s=128&d=identicon&r=PG", "display_name": "hotell", "link": "https://stackoverflow.com/users/3819491/hotell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 51743207, "answer_count": 1, "score": 1, "last_activity_date": 1533720654, "creation_date": 1533719802, "question_id": 51742913, "link": "https://stackoverflow.com/questions/51742913/return-instance-tuple-from-classes-tuple-via-typescript-3-0-generic-rest-tuples", "title": "return instance tuple from classes tuple via typescript 3.0 generic rest tuples type", "body": "<p>While getting proper instance type from class type works like following:</p>\n\n<pre><code>type Constructor&lt;T = {}&gt; = new (...args: any[]) =&gt; T\n\nclass Foo {}\n\nfunction getInstanceFromClass&lt;T&gt;(Klass: Constructor&lt;T&gt;): T {\n  return new Klass()\n}\n\n// $ExpectType Foo\nconst fooInst = getInstanceFromClass(Foo)\n</code></pre>\n\n<p>I didn't figure out how to get proper instance type with new TS 3.0 feature ( Generic rest parameters )</p>\n\n<pre><code>class Foo {}\nclass Test {}\n\nfunction getInstancesFromClasses&lt;T extends Constructor[]&gt;(...klasses: T): T { \n  return klasses.map(klass =&gt; new klass()) as any\n}\n\n// $ExpectType [typeof Foo, typeof Test]\nconst instances = getInstancesFromClasses(Foo,Test)\n\nbut what I need is \n// $ExpectType [Foo, Test]\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "callback", "async-await", "wait"], "comments": [{"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 2, "creation_date": 1533719101, "post_id": 51742647, "comment_id": 90445332, "body": "You&#39;re probably barking up the wrong tree. Please describe the situation why you need to wait for <code>x</code> to become defined, and we can tell you how to do that idiomatically in Javascript. This pattern seems\u2026 odd, to say the least."}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 2, "creation_date": 1533719104, "post_id": 51742647, "comment_id": 90445333, "body": "Either <code>some_lib_function</code> is synchronous then <code>wait</code> isn&#39;t useful at all. Or <code>some_lib_function</code> is asynchronous then there will be a way to &quot;wait&quot; for the response, either by passing a callback function or an event or it returns a Promise or ..."}, {"owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1533719289, "post_id": 51742647, "comment_id": 90445483, "body": "@deceze, Coming from OOP background (C++/Java). I don&#39;t want to deal with the callbacks, which makes the code overly complex. Hence, I want to wait, until certain task is finished. There are some external libraries such as <a href=\"https://github.com/kriskowal/q\" rel=\"nofollow noreferrer\">Q</a> and <a href=\"https://github.com/luciotato/waitfor-ES6\" rel=\"nofollow noreferrer\">wait-for</a>. But I am too novice to decide, whether it&#39;s a right choice."}, {"owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1533719420, "post_id": 51742647, "comment_id": 90445572, "body": "@Andreas, <code>some_lib_function</code> is probably not synchronous. For example, I am using <code>FileSystem</code>&#39;s <code>getFile()</code> right now. Which has a callback to get a <code>FileEntry</code>. Then there is another set of callbacks within that to get <code>Metadata</code> and <code>FileWriter</code>. BTW, I am in TS environment with Google protobuf in place, so I am not sure, how far my project can support the ES6. However, ideas are welcome."}, {"owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1533719547, "post_id": 51742647, "comment_id": 90445629, "body": "@deceze, Yes to avoid &quot;C&quot; style coding which is full of callbacks, I am trying to get a C++/Java style &quot;wait()&quot; mechanism. A person from those background, will find &quot;callback&quot; way difficult to understand. In case, &quot;learning JS&quot; is all that you want to say, then I will take it as an advice. But that doesn&#39;t answer the question. If you think, it&#39;s not possible, then post it as an answer. Thanks. :-)"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 1, "creation_date": 1533719748, "post_id": 51742647, "comment_id": 90445741, "body": "In a nutshell, you cannot synchronously await an asynchronous result, because the asynchronous result will never arrive if you hog the single thread with a blocking synchronous function. You <i>must</i> yield the thread in order for the asynchronous task to ever finish, and you <i>must</i> continue execution of your code later, and the only way to create this interruption is using callbacks or <code>await</code>."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533722267, "post_id": 51742647, "comment_id": 90447433, "body": "@iammilind actually JS is based on the concept of &quot;green threads&quot;, and all heavy stuff (network / IO / etc.) is done by the engine in seperate threads (out of your control). That means <code>makeNetworkRequest(function callback() { &#47;*..*&#47; })</code> actually runs the heavy stuff in a new thread, and when thats done it shedules the callback to the main thread. Blocking the only thread you can control is somewhat senseless."}, {"owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533727713, "post_id": 51742647, "comment_id": 90450754, "body": "@JonasW., deceze -- Can you check the updated code. There might some tit-bits here, but I am looking for a non-critical performing browser based JS implementation for the <code>wait()</code>. I have gone through the duplicate link, but for the sake of completeness, want to know if such implementation is accepteable."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533727805, "post_id": 51742647, "comment_id": 90450802, "body": "That doesnt make sense at all. Just put the following code <i>inside</i> the callback?"}, {"owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533728746, "post_id": 51742647, "comment_id": 90451432, "body": "@JonasW., yes I realize that this will also not work. Apparently there is no viable solution, otherwise it would have been found by now already."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533728818, "post_id": 51742647, "comment_id": 90451479, "body": "<i>no viable solution</i> ?! Callbacks! Promises! <code>async</code> / <code>await</code> ! You are just not willing to accept how Javascript works."}, {"owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533729200, "post_id": 51742647, "comment_id": 90451722, "body": "@JonasW., I am using a &quot;FileSystem&quot;&#39;s <code>getFile()</code>, which is not <code>async</code>, hence I can&#39;t use <code>await</code>; otherwise it&#39;s my first choice. I want to avoid &quot;Callbacks&quot; for the obvious reasons as stated in the question. In general, I wanted to simulate the <code>await()</code> like functionality. If you have any helpful post, which explains how to implement our <code>Promise</code> wrappers then it will be useful. Thanks."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1533731053, "post_id": 51742647, "comment_id": 90452999, "body": "To easy, just <code>const {promisify} = require(&quot;util&quot;);</code> then <code>await promisify(readFile)(&quot;that&quot;);</code>"}], "owner": {"reputation": 62009, "user_id": 514235, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=128&d=identicon&r=PG", "display_name": "iammilind", "link": "https://stackoverflow.com/users/514235/iammilind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1533719392, "answer_count": 0, "score": 0, "last_activity_date": 1533728001, "creation_date": 1533718946, "last_edit_date": 1533728001, "question_id": 51742647, "link": "https://stackoverflow.com/questions/51742647/how-to-implement-wait-functionality-in-javascript", "closed_reason": "Duplicate", "title": "How to implement &quot;wait()&quot; functionality in Javascript?", "body": "<p>I want my code to wait until some variable x is defined properly as demo below:</p>\n\n<pre><code>var x;\ncall_some_async_function(arg, success_callback);\nwait(function () { return x == null || x == undefined; });  // until the `success_callback()` is called\n</code></pre>\n\n<p>Apparently there is no <code>wait()</code> function in Javascript/Typescript. However there are <code>await</code> and <code>async</code> keywords for the objects which deal with promise.<br>\nComing from C++/Java background, I was wondering if we can implement the <code>wait()</code> functionality in a <strong>reasonable</strong> way for non-critical performance.</p>\n\n<pre><code>wait (Continue: () =&gt; boolean)\n{\n  setTimeout(function() \n             {\n               if(Continue())\n                 wait(Continue);\n             }, \n             10 /* milliseconds */);\n}\n</code></pre>\n\n<p><strong>Questions</strong>:</p>\n\n<ul>\n<li>Is the above code, correct way to implement <code>wait()</code>? (also is it a bad recursion) Assume it for the non-critical browser based systems.</li>\n<li>Is there any elegant way or library for the same?</li>\n</ul>\n"}, {"tags": ["typescript", "electron", "this"], "comments": [{"owner": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "edited": false, "score": 0, "creation_date": 1533720154, "post_id": 51742608, "comment_id": 90446034, "body": "Could you not create a local variable &quot;this&quot; and assign it whatever context you want?"}, {"owner": {"reputation": 73, "user_id": 4655373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxD2BQKywIo/AAAAAAAAAAI/AAAAAAAANlc/WFiABgXc71c/photo.jpg?sz=128", "display_name": "Mani Klein", "link": "https://stackoverflow.com/users/4655373/mani-klein"}, "reply_to_user": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "edited": false, "score": 1, "creation_date": 1533730000, "post_id": 51742608, "comment_id": 90452241, "body": "tnx. Actually that what I did - the problem was in the express callback losing &#39;this&#39;, so I &#39;saved&#39; this in the beginning of initHttpServer and used it for triggering the callbck."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 4655373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxD2BQKywIo/AAAAAAAAAAI/AAAAAAAANlc/WFiABgXc71c/photo.jpg?sz=128", "display_name": "Mani Klein", "link": "https://stackoverflow.com/users/4655373/mani-klein"}, "is_accepted": false, "score": 1, "last_activity_date": 1533730132, "creation_date": 1533730132, "answer_id": 51746361, "question_id": 51742608, "link": "https://stackoverflow.com/questions/51742608/typescript-set-function-members-using-this/51746361#51746361", "title": "typescript set function members &amp; using this", "body": "<p>'this' was lost in the express callback, so I assigned it to a local variable for use in express callbacks:</p>\n\n<pre><code>public initHttpServer(port: number): void {\n\n    this._express = express();\n    this._httpServer = this._express.listen(port);\n    const provider=this;\n\n    this._express.get('/show', function(req, res) {\n        console.log('SHOW from ' + req.ip);\n        if (provider.show) provider.show();    \n    });\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4655373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxD2BQKywIo/AAAAAAAAAAI/AAAAAAAANlc/WFiABgXc71c/photo.jpg?sz=128", "display_name": "Mani Klein", "link": "https://stackoverflow.com/users/4655373/mani-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533730132, "creation_date": 1533718838, "question_id": 51742608, "link": "https://stackoverflow.com/questions/51742608/typescript-set-function-members-using-this", "title": "typescript set function members &amp; using this", "body": "<p>I'm working on an Electron app using typescript. My main.ts creates an object of my own CommunicationProvider class. I would like to have this class declare several methods (defined in an interface it's implementing) but have the actual implementation of these methods set in my main.ts.\nSo I declared my class as:</p>\n\n<pre><code>export class SocketIOInterceptionProvider implements IInterceptionProvider {\n\n// IInterfaceProvider methods\nshow: (x?: number, y?: number) =&gt; void;\nhide: () =&gt; void;\nmove: (x: number, y: number) =&gt; void;\n\nconstructor(port: number = 3000) {\n\n    this.initHttpServer(port);\n\n}\n\npublic initHttpServer(port: number): void {\n\n    this._express.get('/show', function(req, res) {\n        console.log('SHOW from ' + req.ip);\n        if (this.show) this.show();    \n    });\n}   \n\n}\n</code></pre>\n\n<p>and in main.ts I set the implementations:</p>\n\n<pre><code>const provider: SocketIOInterceptionProvider = new \nSocketIOInterceptionProvider();\n\nprovider.show = (x?: number, y?: number) =&gt; { //show electron win}\n</code></pre>\n\n<p>At runtime - my function isn't triggered since 'this' is undefined, when I hit:</p>\n\n<pre><code>if (this.show) this.show(); \n</code></pre>\n\n<p>How can I have 'this' maintained? Is there any other recommended way for handling events from a TS class?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "prototypal-inheritance"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1533717872, "post_id": 51742249, "comment_id": 90444532, "body": "My personal opinion on the matter : if you use functions from your objects, create an instance of a class. If you only work on the properties, type your answer as an interface."}, {"owner": {"reputation": 2657, "user_id": 395879, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/109a08c9f04024418a1b65ddd88a0e00?s=128&d=identicon&r=PG", "display_name": "fishbone", "link": "https://stackoverflow.com/users/395879/fishbone"}, "edited": false, "score": 0, "creation_date": 1533718756, "post_id": 51742249, "comment_id": 90445099, "body": "I also see a problem with model objects containing arrays of nested objects. With a constructor you can provide an empty array. A plain object&#39;s property will be <code>undefined</code> and chances for a runtime exception are higher"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1533718904, "post_id": 51742249, "comment_id": 90445194, "body": "That&#39;s not an issue with plain objects, that&#39;s an issue with your own code. That would be like saying that there&#39;s an issue with classes because it doesn&#39;t create empty arrays if you don&#39;t write it in the constructor."}, {"owner": {"reputation": 2657, "user_id": 395879, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/109a08c9f04024418a1b65ddd88a0e00?s=128&d=identicon&r=PG", "display_name": "fishbone", "link": "https://stackoverflow.com/users/395879/fishbone"}, "edited": false, "score": 0, "creation_date": 1533719060, "post_id": 51742249, "comment_id": 90445304, "body": "My comment was an addition to your&#39;s. array properties are another case where true instances have an advantage over plain objects."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533719144, "post_id": 51742249, "comment_id": 90445362, "body": "I know, I&#39;m correcting what you said because I find it untrue. And again, class instances don&#39;t &quot;have advantage&quot; over plain objects : both handle arrays the same way."}], "answers": [{"comments": [{"owner": {"reputation": 2657, "user_id": 395879, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/109a08c9f04024418a1b65ddd88a0e00?s=128&d=identicon&r=PG", "display_name": "fishbone", "link": "https://stackoverflow.com/users/395879/fishbone"}, "edited": false, "score": 0, "creation_date": 1533720273, "post_id": 51742574, "comment_id": 90446114, "body": "I appreciate your opinion, however I&#39;m looking for either an official best practice or want to know if there is a typical way of handling this, because it turned out as best practice over time and nearly everyone is doing it this way. Like, &quot;goto is evil&quot; is an established recommendation. I didn&#39;t want to start a discussion here as SO is the wrong place for that. If there is no established best practice I will start a discussion in a forum / newsgroup."}, {"owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "reply_to_user": {"reputation": 2657, "user_id": 395879, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/109a08c9f04024418a1b65ddd88a0e00?s=128&d=identicon&r=PG", "display_name": "fishbone", "link": "https://stackoverflow.com/users/395879/fishbone"}, "edited": false, "score": 2, "creation_date": 1533720848, "post_id": 51742574, "comment_id": 90446502, "body": "There is no official doc stating the best practice for creating objects. However, it is totally dependent on the developer and the background he comes from. Using <code>classes</code> and the <code>new</code> operator simply makes the application more understandable for instance a Java developer. In fact using the <code>new</code> operator, you have got wide range of possibilities that you can leverage, probably while enhancing your application, when you might have to write functions for that object / model."}, {"owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "reply_to_user": {"reputation": 2657, "user_id": 395879, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/109a08c9f04024418a1b65ddd88a0e00?s=128&d=identicon&r=PG", "display_name": "fishbone", "link": "https://stackoverflow.com/users/395879/fishbone"}, "edited": false, "score": 0, "creation_date": 1533720851, "post_id": 51742574, "comment_id": 90446504, "body": "You may look into the following posts <a href=\"https://www.sitepoint.com/javascript-object-creation-patterns-best-practises/\" rel=\"nofollow noreferrer\">sitepoint.com/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/6843951/which-way-is-best-for-creating-an-object-in-javascript-is-var-necessary-befor\" title=\"which way is best for creating an object in javascript is var necessary befor\">stackoverflow.com/questions/6843951/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "is_accepted": false, "score": 3, "last_activity_date": 1533719593, "last_edit_date": 1533719593, "creation_date": 1533718713, "answer_id": 51742574, "question_id": 51742249, "link": "https://stackoverflow.com/questions/51742249/plain-objects-vs-class-instances-for-model-objects/51742574#51742574", "title": "plain objects VS class instances for model objects", "body": "<p>In my opinion, you should use the <code>new</code> operator to create new objects of your class if you need to perform complex operations on the object itself.</p>\n\n<p>If in case you just need to access the properties only, you may use the object literal to create a new object.</p>\n\n<p>This has got advantages like encapsulation, inheritance, etc. which a developer coming from the Java background could better relate to.</p>\n\n<p>If you directly assign an object like below, then you have to explicitly set functions in it, for example, <code>getName</code> function.</p>\n\n<pre><code>hero: Hero = {\n  id: 1,\n  name: 'Windstorm',\n  getName: function(){ // returns name }\n};\n</code></pre>\n\n<p>However, by defining a class <code>Hero</code> with a function <code>getName</code> and then creating an instance of that class, you would automatically get that <code>function</code>, no matter how many times you create instances.</p>\n\n<p>For a better understanding of Object Oriented Javascript, you may follow the link below:-</p>\n\n<blockquote>\n  <p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS</a></p>\n</blockquote>\n\n<hr>\n\n<p>Regarding the below issue,</p>\n\n<blockquote>\n  <p>\"People (who don't understand TypeScript's type concept) complain\n  about the HttpClient not converting the returned plain object to their\n  model class type.\"</p>\n</blockquote>\n\n<p>HttpClient simply returns an object which the server sends, it is on JS to convert it into the required form. You can always map the response into the required model instance by using its constructor which could be defined as below:-</p>\n\n<pre><code>constructor(hero){\n  this.id = hero.id;\n  this.name = hero.name;\n}\n</code></pre>\n\n<p>and you may map the array returned from the server like below:-</p>\n\n<pre><code>map(hero =&gt; new Hero(hero))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1533721089, "creation_date": 1533721089, "answer_id": 51743359, "question_id": 51742249, "link": "https://stackoverflow.com/questions/51742249/plain-objects-vs-class-instances-for-model-objects/51743359#51743359", "title": "plain objects VS class instances for model objects", "body": "<blockquote>\n  <p>In fact there ARE runtime types in JavaScript.</p>\n</blockquote>\n\n<p>Kind of. A value can have a certain type, however variables and properties don't have types bound to them. That said if you type network requests etc. </p>\n\n<pre><code>  fetch(\"someurl\").then(res =&gt; res.json()) as Promise&lt;IUser&gt;\n</code></pre>\n\n<p>and that network request suddenly returns something else than a User, nothing will fail as Typescript types do not exist at runtime. However this behaviour can be added easily with typeguards:</p>\n\n<pre><code>  function isUser(user: any) : user is IUser {\n     return Number.isInteger(user.id) &amp;&amp; typeof user.name === \"string\";\n  }\n</code></pre>\n\n<p>which allows you to do typechecks at runtime:</p>\n\n<pre><code> const result = await fetch(\"someurl\");\n if(!isUser(result)) throw new Error();\n // result is definetly a IUser here\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Should I use inheritance or not?</p>\n</blockquote>\n\n<p>That is a question of preference. I once wrote an application that works with the db heavily, so I had to do a lot of serialization / deserialization, and it really annoyed me to always wrap the response from the db into a class instance. So for my db models I started using the following pattern:</p>\n\n<pre><code>  type User = {\n   name: string;\n   id: number;\n };\n\n const User = {\n   get(id: number): User { /*...*/ }\n   changeName(user: User, name: string) { /*..*/ }\n};\n</code></pre>\n\n<p>That allowed me to write:</p>\n\n<pre><code> const admin: User = User.get(123);\n</code></pre>\n\n<p>And I could simply do typecasts on the db and I both had typesafety and nice APIs.</p>\n\n<p>Wether that is a good pattern for your usecase or not really depends on how much serialization / deserialization you do.</p>\n"}], "owner": {"reputation": 2657, "user_id": 395879, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/109a08c9f04024418a1b65ddd88a0e00?s=128&d=identicon&r=PG", "display_name": "fishbone", "link": "https://stackoverflow.com/users/395879/fishbone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1581, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1533721089, "creation_date": 1533717654, "last_edit_date": 1533719944, "question_id": 51742249, "link": "https://stackoverflow.com/questions/51742249/plain-objects-vs-class-instances-for-model-objects", "title": "plain objects VS class instances for model objects", "body": "<p>What is the best practice for creating model objects in Angular / TypeScript:</p>\n\n<ol>\n<li><p>Should I use type annotation with object notation (objects are plain instances of <code>Object</code>)? E.g. <code>let m: MyModel = { name: 'foo' }</code></p></li>\n<li><p>Should I use the <code>new</code> operator (objects are instances of the respective prototype)? </p></li>\n<li><p>Should these two approaches be mixed up and used situationally? (E.g plain objects, when receiving a response from the <code>HttpClient</code>, but <code>new MyModel('foobar')</code> for convenience to create instances by passing properties as constructor arguments)</p></li>\n</ol>\n\n<h2>Background of this question</h2>\n\n<p>I'm new to TypeScript and like many other developers I come from popular object oriented languages like Java.</p>\n\n<p>A core concept I understood is that type annotations in TypeScript don't play a role at runtime. They are important for the compiler and for your editor's auto completion. Basically it's ECMAScript with the addition of compile time type checks.</p>\n\n<p>At the time I didn't know this and expected TypeScript to be some kind of \"client side Java\", I found this Angular bug report:\n<a href=\"https://github.com/angular/angular/issues/20770\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/20770</a></p>\n\n<p>People (who don't understand TypeScript's type concept) complain about the <code>HttpClient</code> not converting the returned plain object to their model class type. Other people are defending this behavior and point out that there are no runtime types in JavaScript.</p>\n\n<p>And here arises my problem: In fact there ARE runtime types in JavaScript. You can create instances of prototypes with the <code>new</code> operator and even check their constructor with the <code>instanceof</code> operator.</p>\n\n<p>In TypeScript you have two ways for creating an instance:</p>\n\n<p>1) Use the object notation (as they show in the <a href=\"https://angular.io/tutorial/toh-pt1#create-a-hero-class\" rel=\"nofollow noreferrer\">Angular tutorial</a>):</p>\n\n<pre><code>hero: Hero = {\n  id: 1,\n  name: 'Windstorm'\n};\n</code></pre>\n\n<p>2) Use the <code>new</code>-operator:</p>\n\n<pre><code>hero: Hero = new Hero();\n</code></pre>\n\n<p>At the moment I'm working on a project where these two options are mixed up. I.e. model objects of the same type are instances of <code>Object</code> in some cases and instances of <code>Hero</code> in other cases.</p>\n\n<p>I expect this leading to problems later, because the constructor is only called in the latter case.</p>\n\n<p>My idea for a rule / best practice was to define all model instances as plain objects and to use the constructor for services, components etc. that are created by dependency injection. As a result I wouldn't use the <code>new</code> operator at all.</p>\n\n<p>However I'm not sure if this is a good idea and I couldn't find a <em>best practice</em> recommendation about it.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Important note for close voters: I'm not looking for your personal opionion here. I'm rather looking for some kind of officially documented Angular best practice, as I think it's a core design decision that has to be made right from the project start and these approaches should not be mixed up randomly without a specific reason. Maybe the answer is just a simple \"There is no official recommendation which decision to make\".</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "edited": false, "score": 0, "creation_date": 1533728527, "post_id": 51742168, "comment_id": 90451287, "body": "This comment is not directly related to your question. It is discouraged to use pipes for filtering. See: <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"nofollow noreferrer\">angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe</a> . It would probably be best if you filter your data in your component."}], "answers": [{"comments": [{"owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "edited": false, "score": 1, "creation_date": 1533718062, "post_id": 51742209, "comment_id": 90444652, "body": "add <code>0</code> as well in your example :)"}, {"owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "edited": false, "score": 1, "creation_date": 1533718160, "post_id": 51742209, "comment_id": 90444715, "body": "other possibilities are <code>NaN</code> and <code>false</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "edited": false, "score": 2, "creation_date": 1533718257, "post_id": 51742209, "comment_id": 90444782, "body": "I&#39;ve put links to avoid explaining everything in one post"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1533718227, "last_edit_date": 1533718227, "creation_date": 1533717528, "answer_id": 51742209, "question_id": 51742168, "link": "https://stackoverflow.com/questions/51742168/how-to-filter-out-null-values-using-an-angular-pipe/51742209#51742209", "title": "How to filter out null values using an Angular pipe?", "body": "<p>Take advantage of the conditions in Javascript to reduce your code : </p>\n\n<pre><code>transform(value: QueuedTemplateDto[], filterBy: string): QueuedTemplateDto[] {\n  return filterBy &amp;&amp; \n    value.filter(item =&gt; item &amp;&amp; \n      item.user &amp;&amp; \n      item.user.toLocaleLowerCase().indexOf(filterBy) !== -1) \n    || value;\n}\n</code></pre>\n\n<p>This is because of <a href=\"https://www.sitepoint.com/javascript-truthy-falsy/\" rel=\"nofollow noreferrer\"><strong>truthy/falsy</strong></a> values, also called the <a href=\"https://www.google.fr/search?q=js%20holy%20trinity&amp;tbm=isch&amp;tbo=u&amp;source=univ&amp;sa=X&amp;ved=2ahUKEwjaiPTIid3cAhVKURoKHRWnDSMQsAR6BAgEEAE&amp;biw=1920&amp;bih=947\" rel=\"nofollow noreferrer\"><em>holy trinity of Javascript</em></a>.</p>\n\n<p>See how it behaves : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const empty = '';\r\nconst undef = undefined;\r\nconst nul = null;\r\nconst defined = 'This is defined';\r\nconst zero = 0;\r\n\r\nconst data = ['This is data'];\r\n\r\nconsole.log(empty &amp;&amp; data || 'it is empty');\r\nconsole.log(undef &amp;&amp; data || 'it is undefined');\r\nconsole.log(nul &amp;&amp; data || 'it is null');\r\nconsole.log(nul &amp;&amp; data || 'it is equal to zero');\r\nconsole.log(defined &amp;&amp; data || 'You will not see this message');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "is_accepted": true, "score": 2, "last_activity_date": 1533718225, "last_edit_date": 1533718225, "creation_date": 1533717556, "answer_id": 51742222, "question_id": 51742168, "link": "https://stackoverflow.com/questions/51742168/how-to-filter-out-null-values-using-an-angular-pipe/51742222#51742222", "title": "How to filter out null values using an Angular pipe?", "body": "<p>You just need to check user property is defined or not(<code>null</code>), so add <code>check.user !== null</code> before your filter statement(for ignoring all falsy values simply use <code>check.user</code>).</p>\n\n<pre><code>transform(value: QueuedTemplateDto[], filterBy: string): QueuedTemplateDto[] {\nfilterBy = filterBy ? filterBy.toLocaleLowerCase() : null;\nreturn filterBy ? value.filter((check: QueuedTemplateDto) =&gt;\n  check.user !== null &amp;&amp; check.user.toLocaleLowerCase().indexOf(filterBy) !== -1) : value;}\n  //^^^^^^^^^^^^^^^^^^^^^ ----- here\n</code></pre>\n\n<p><strong>FYI :</strong> You can change the condition as per your requirement.</p>\n"}], "owner": {"reputation": 171, "user_id": 8171766, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-gcmaoDtC-MI/AAAAAAAAAAI/AAAAAAAAACk/_cBCG77ia3A/photo.jpg?sz=128", "display_name": "Edward Muldrew", "link": "https://stackoverflow.com/users/8171766/edward-muldrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3309, "favorite_count": 0, "accepted_answer_id": 51742222, "answer_count": 2, "score": 1, "last_activity_date": 1533719012, "creation_date": 1533717356, "last_edit_date": 1533719012, "question_id": 51742168, "link": "https://stackoverflow.com/questions/51742168/how-to-filter-out-null-values-using-an-angular-pipe", "title": "How to filter out null values using an Angular pipe?", "body": "<p>I currently have an angular pipe which filters results based on the user's input. The only issue I am having is that some of the results do not have a value, therefore, I receive the following error: </p>\n\n<blockquote>\n  <p>Cannot read property 'toLocaleLowerCase' of null </p>\n</blockquote>\n\n<p>My pipe looks like this. </p>\n\n<pre><code>transform(value: QueuedTemplateDto[], filterBy: string): QueuedTemplateDto[] {\n    filterBy = filterBy ? filterBy.toLocaleLowerCase() : null;\n    return filterBy \n        ? value.filter((check: QueuedTemplateDto) =&gt; check.user.toLocaleLowerCase().indexOf(filterBy) !== -1) \n        : value;\n}\n</code></pre>\n\n<p>So I have tried to add an if statement which only allows the code to be executed is the check.user user attribute is not null however I receive an error every time I try to input this</p>\n\n<p>My JavaScript knowledge is limited when it comes to this. Any help would much be appreciated! </p>\n"}, {"tags": ["javascript", "angular", "typescript", "unit-testing"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533715999, "post_id": 51741701, "comment_id": 90443325, "body": "You&#39;re going to need to post the test in error and the related code too"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533716119, "post_id": 51741701, "comment_id": 90443395, "body": "Updated now @trichetriche"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533716341, "post_id": 51741701, "comment_id": 90443538, "body": "You don&#39;t get into your if statement and you implemented the mock correctly ... Are you sure your error is coming from there ?"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533716477, "post_id": 51741701, "comment_id": 90443634, "body": "Hmm. I see what you mean... I&#39;ve added the console log from the Karma test screen."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533716716, "post_id": 51741701, "comment_id": 90443780, "body": "I don&#39;t have access to pictures, could you post it as text ?"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533716769, "post_id": 51741701, "comment_id": 90443812, "body": "Updated now @trichetriche"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533716834, "post_id": 51741701, "comment_id": 90443850, "body": "Thank you ! I think your <code>onSubmit</code> function is triggered somewhere else in your component, such as <code>ngOnInit</code>, and it goes through your if statement. Could you check where <code>onSubmit</code> is called in your component ?"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533716937, "post_id": 51741701, "comment_id": 90443918, "body": "I have found the issue! Silly Karma was pointing to the wrong error. I have since moved <code>resetForm: () =&gt; null</code> to the mock form that <b>does</b> actually get to the reset function, and all is well. Apologies for the confusion!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533716984, "post_id": 51741701, "comment_id": 90443956, "body": "... Sure, glad you resolved it :)"}], "answers": [{"tags": [], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1533716999, "creation_date": 1533716999, "answer_id": 51742071, "question_id": 51741701, "link": "https://stackoverflow.com/questions/51741701/angular2-typeerror-form-reset-is-not-a-function/51742071#51742071", "title": "Angular2+ - TypeError: form.reset is not a function", "body": "<p>It appears that Karma was sending the error from the wrong test, or at least misdirecting me from the actual cause of the error.</p>\n\n<p>After I placed <code>resetForm: () =&gt; null</code> into the correct mock-form then all is well.</p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 0, "accepted_answer_id": 51742071, "answer_count": 1, "score": 0, "last_activity_date": 1540316271, "creation_date": 1533715928, "last_edit_date": 1540316271, "question_id": 51741701, "link": "https://stackoverflow.com/questions/51741701/angular2-typeerror-form-reset-is-not-a-function", "title": "Angular2+ - TypeError: form.reset is not a function", "body": "<p>This is a question carried over from <a href=\"https://stackoverflow.com/questions/51740922/finding-where-and-why-object-errorevent-is-being-thrown/51741146#51741146\">Finding where and why [object ErrorEvent] is being thrown</a> as a result of troubleshooting a different problem.</p>\n\n<p>I am mocking an NgForm to pass into my test for a login screen, however upon passing in incorrect details I am using <code>form.reset()</code> to reset the whole thing.</p>\n\n<p>I get the error <code>TypeError: form.reset is not a function</code> in my Jasmine</p>\n\n<p>I have been advised that my mock doesn't include any sort of reset function which does make a certain amount of sense, however amending the const to the following still does not help the test pass...</p>\n\n<pre><code>const emptyForm = &lt;NgForm&gt;{\n    reset: () =&gt; null,\n    resetForm: () =&gt; null,\n    valid: false,\n    value: {\n      username: undefined,\n      password: undefined,\n    }\n  };\n</code></pre>\n\n<p>Error log:</p>\n\n<pre><code>zone.js:191 Uncaught TypeError: form.resetForm is not a function\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vue-component"], "answers": [{"tags": [], "owner": {"reputation": 1904, "user_id": 75577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zGPuh.png?s=128&g=1", "display_name": "KingOfCoders", "link": "https://stackoverflow.com/users/75577/kingofcoders"}, "is_accepted": false, "score": 1, "last_activity_date": 1533716669, "creation_date": 1533716669, "answer_id": 51741956, "question_id": 51741698, "link": "https://stackoverflow.com/questions/51741698/when-to-subscribe-to-events-in-vue-lifecycle/51741956#51741956", "title": "When to subscribe to events in Vue lifecycle", "body": "<p>Now works with</p>\n\n<pre><code>beforeDestroy() {\n  if (this.bus != null) {\n    this.bus.$off('store', this.store);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1904, "user_id": 75577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zGPuh.png?s=128&g=1", "display_name": "KingOfCoders", "link": "https://stackoverflow.com/users/75577/kingofcoders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533716669, "creation_date": 1533715926, "question_id": 51741698, "link": "https://stackoverflow.com/questions/51741698/when-to-subscribe-to-events-in-vue-lifecycle", "title": "When to subscribe to events in Vue lifecycle", "body": "<p>I'm creating a component in Vue2 with vue-component with a subcomponent</p>\n\n<pre><code>  &lt;note :bus=\"bus\" :itemId=\"selectedId\"&gt;&lt;/note&gt;\n</code></pre>\n\n<p>which looks like this</p>\n\n<pre><code>  &lt;textarea v-model=\"text\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>The subcomponent registers to events</p>\n\n<pre><code>created() {\n  if (this.bus != null) {\n    this.bus.$on('store', () =&gt; {\n      this.store()\n    });\n  }\n}\n</code></pre>\n\n<p>and the component does</p>\n\n<pre><code>  this.bus.$emit('store')\n</code></pre>\n\n<p>to trigger store in all subcomponents.</p>\n\n<p>Now the first time store is called once. On the second edit it's called twice, etc. So I guess there are more subcomponents created each time. Or I have to deregister from the bus? Or I'm registering with the bus in the wrong lifecycle hook?</p>\n"}, {"tags": ["typescript", "javascript-objects", "key-value"], "comments": [{"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1533717898, "post_id": 51741695, "comment_id": 90444548, "body": "Your Object is not valid first of all. Please correct it (key value pair should be separated by comma). And looping through Object properties does print the values properly. <a href=\"https://stackblitz.com/edit/angular-z6bmct?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4004, "user_id": 2094106, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zoSJq.jpg?s=128&g=1", "display_name": "It worked yesterday.", "link": "https://stackoverflow.com/users/2094106/it-worked-yesterday"}, "is_accepted": false, "score": 1, "last_activity_date": 1533719146, "last_edit_date": 1533719146, "creation_date": 1533717665, "answer_id": 51742252, "question_id": 51741695, "link": "https://stackoverflow.com/questions/51741695/object-key-values-prints-randomly/51742252#51742252", "title": "Object key values prints randomly", "body": "<p>You can use following methods </p>\n\n<p><strong><code>Object.keys</code></strong>:  which will return an array of a given object's property names</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var days = {\r\n  '2018-08-06': 1,\r\n  '2018-08-07': 2, \r\n  '2018-08-08': 3,\r\n  '2018-08-09': 4,\r\n  '2018-08-10': 5   \r\n};\r\n\r\nObject.keys(days).forEach(function (day) {\r\n   console.log(days[day])\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong><code>Object.values</code></strong>:  which will return an array of a given object's property values</p>\n\n<pre><code>Object.values(days).forEach(function (day) {\n  console.log(day)\n})\n</code></pre>\n\n<p><strong><code>Object.entries</code></strong>: Which will return an array of arrays containing key value pairs</p>\n\n<pre><code>Object.entries(days).forEach(function (entry) {\n  console.log(entry[1])\n})\n</code></pre>\n\n<p>And <code>for</code>  <code>in</code> should also work</p>\n\n<pre><code>for (let day in days) {\n if (days.hasOwnProperty(day)) {\n   console.log(days[day])\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6829803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1e3bc07828eed93705c037e46bf6b34?s=128&d=identicon&r=PG&f=1", "display_name": "Ramakanth Reddy", "link": "https://stackoverflow.com/users/6829803/ramakanth-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533719146, "creation_date": 1533715924, "last_edit_date": 1533718228, "question_id": 51741695, "link": "https://stackoverflow.com/questions/51741695/object-key-values-prints-randomly", "title": "Object key values prints randomly", "body": "<p>everyone, I have an object like this </p>\n\n<pre><code>var days = {\n  '2018-08-06': 1,\n  '2018-08-07': 2, \n  '2018-08-08': 3,\n  '2018-08-09': 4,\n  '2018-08-10': 5   \n};\n</code></pre>\n\n<p>I want to print the values of the keys so i tried</p>\n\n<pre><code>for( const day in days ) {\n  console.log(days[day]);\n}\n</code></pre>\n\n<p>It prints but sometimes it prints randomly. Thank you for suggestions.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "babeljs"], "comments": [{"owner": {"reputation": 843, "user_id": 5735864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e65ac84f3d4ffdb30d54e0e411faa7b?s=128&d=identicon&r=PG&f=1", "display_name": "negative_zero", "link": "https://stackoverflow.com/users/5735864/negative-zero"}, "edited": false, "score": 2, "creation_date": 1538988925, "post_id": 51741333, "comment_id": 92323813, "body": "<a href=\"https://stackoverflow.com/a/36327097/5735864\">This answer</a> and <a href=\"https://medium.com/the-react-native-log/getting-eslint-right-in-react-native-bd27524cc77b\" rel=\"nofollow noreferrer\">this tutorial</a> helped me to solve this problem. I think the key here is disabling js/ts validation since the error comes from specifically &#39;[ts]&#39;."}, {"owner": {"reputation": 1015, "user_id": 462210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb7a63203f764eb00a5953137298390?s=128&d=identicon&r=PG", "display_name": "Isochronous", "link": "https://stackoverflow.com/users/462210/isochronous"}, "edited": false, "score": 0, "creation_date": 1573232848, "post_id": 51741333, "comment_id": 103827919, "body": "It&#39;s considered bad form to ask a question on SO and then fail to accept any of the valid answers. Please pick the most useful answer and mark it as the solution."}], "answers": [{"comments": [{"owner": {"reputation": 7295, "user_id": 2782583, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100004476392758/picture?type=large", "display_name": "Alex Cory", "link": "https://stackoverflow.com/users/2782583/alex-cory"}, "edited": false, "score": 0, "creation_date": 1561077674, "post_id": 56505263, "comment_id": 99956045, "body": "Do you have a link to your github repo for this? Be nice to see some boilerplate that&#39;s actually working"}, {"owner": {"reputation": 1175, "user_id": 1377626, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/X3SoC.png?s=128&g=1", "display_name": "Safal Pillai", "link": "https://stackoverflow.com/users/1377626/safal-pillai"}, "edited": false, "score": 0, "creation_date": 1591911158, "post_id": 56505263, "comment_id": 110243484, "body": "Just leaving this here for others. <a href=\"https://github.com/malienist/default-config-files/blob/master/.eslintrc.json\" rel=\"nofollow noreferrer\">github.com/malienist/default-config-files/blob/master/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1005, "user_id": 4426149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1N8G1.png?s=128&g=1", "display_name": "yotke", "link": "https://stackoverflow.com/users/4426149/yotke"}, "is_accepted": false, "score": 1, "last_activity_date": 1559987525, "creation_date": 1559987525, "answer_id": 56505263, "question_id": 51741333, "link": "https://stackoverflow.com/questions/51741333/optional-chaining-operator-support-in-vscode/56505263#56505263", "title": "Optional chaining operator support in VSCode", "body": "<p>I just resolved the issue with disabling js/ts validation in vscode json settings:</p>\n\n<p><code>\"javascript.validate.enable\": false</code></p>\n\n<p>You my need to install <code>eslint-plugin-babel</code> for eslint rules.</p>\n\n<pre><code>{\n  \"plugins\": [\n    \"babel\"\n  ],\n  \"rules\": {\n    \"babel/new-cap\": 1,\n    \"babel/camelcase\": 1,\n    \"babel/no-invalid-this\": 1,\n    \"babel/object-curly-spacing\": 1,\n    \"babel/quotes\": 1,\n    \"babel/semi\": 1,\n    \"babel/no-unused-expressions\": 1,\n    \"babel/valid-typeof\": 1\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 1309164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4rES5.jpg?s=128&g=1", "display_name": "Eugene Tiutiunnyk", "link": "https://stackoverflow.com/users/1309164/eugene-tiutiunnyk"}, "edited": false, "score": 1, "creation_date": 1571953958, "post_id": 58525647, "comment_id": 103420070, "body": "Thank you! By far this is the godsend suggestion. Turning off TS validation was a lame option since you&#39;d lose all the benefits of VSCode."}], "tags": [], "owner": {"reputation": 141, "user_id": 5832452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kbHfu.png?s=128&g=1", "display_name": "icbbetter", "link": "https://stackoverflow.com/users/5832452/icbbetter"}, "is_accepted": false, "score": 14, "last_activity_date": 1571879686, "last_edit_date": 1571879686, "creation_date": 1571842402, "answer_id": 58525647, "question_id": 51741333, "link": "https://stackoverflow.com/questions/51741333/optional-chaining-operator-support-in-vscode/58525647#58525647", "title": "Optional chaining operator support in VSCode", "body": "<p>You can install <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-typescript-next\" rel=\"noreferrer\">JavaScript and TypeScript Nightly</a>, then reopen VSCode.</p>\n"}, {"comments": [{"owner": {"reputation": 797, "user_id": 401055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c3ed61085ffab8ba9813f04e2c1a0d6?s=128&d=identicon&r=PG", "display_name": "Ries Vriend", "link": "https://stackoverflow.com/users/401055/ries-vriend"}, "edited": false, "score": 2, "creation_date": 1573824753, "post_id": 58530234, "comment_id": 104023513, "body": "No need to use the nightly build, you can also force VS Code to use the version in node_modules. See <a href=\"https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-newer-typescript-versions\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/typescript/&hellip;</a>"}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1613580148, "post_id": 58530234, "comment_id": 117120260, "body": "In my case, I had typescript working but there was no info when hovering on the <code>?.prop</code>, and the debug console threw an error when trying to enter in a value with optional chaining. Some research showed that this is a <a href=\"https://node.green/#ES2020-features-optional-chaining-operator------optional-property-access\" rel=\"nofollow noreferrer\">Node 14.5+ feature</a>, so I switched to using that version of node and now hovering works and the debug console now lets me use <code>?.</code> in expressions."}], "tags": [], "owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "is_accepted": true, "score": 39, "last_activity_date": 1576485281, "last_edit_date": 1576485281, "creation_date": 1571861007, "answer_id": 58530234, "question_id": 51741333, "link": "https://stackoverflow.com/questions/51741333/optional-chaining-operator-support-in-vscode/58530234#58530234", "title": "Optional chaining operator support in VSCode", "body": "<p>VS Code 1.41 <a href=\"https://code.visualstudio.com/updates/v1_41#_optional-chaining-support-for-javascript-and-typescript\" rel=\"noreferrer\">supports optional chaining</a> in both JavaScript and TypeScript files. This support includes syntax highlighting and IntelliSense.</p>\n\n<p>If you are using VS Code 1.41+ and optional chaining is not working as expected, try:</p>\n\n<ul>\n<li><p>Check your installed extensions. Some of them may not yet understand optional chaining, which could cause errors or bad syntax highlighting</p></li>\n<li><p>If you are <a href=\"https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-newer-typescript-versions\" rel=\"noreferrer\">using a workspace typescript version</a>, make sure it is TypeScript 3.7+</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 334, "user_id": 4346655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zd34.png?s=128&g=1", "display_name": "DarkCrazy", "link": "https://stackoverflow.com/users/4346655/darkcrazy"}, "reply_to_user": {"reputation": 137, "user_id": 7182497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10209504134234599/picture?type=large", "display_name": "Davide Valiante", "link": "https://stackoverflow.com/users/7182497/davide-valiante"}, "edited": false, "score": 0, "creation_date": 1588914152, "post_id": 60383790, "comment_id": 109088825, "body": "i&#39;m glad i could help! thank you for letting me know!"}], "tags": [], "owner": {"reputation": 334, "user_id": 4346655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zd34.png?s=128&g=1", "display_name": "DarkCrazy", "link": "https://stackoverflow.com/users/4346655/darkcrazy"}, "is_accepted": false, "score": 1, "last_activity_date": 1582577685, "creation_date": 1582577685, "answer_id": 60383790, "question_id": 51741333, "link": "https://stackoverflow.com/questions/51741333/optional-chaining-operator-support-in-vscode/60383790#60383790", "title": "Optional chaining operator support in VSCode", "body": "<p>This was still happening to me until I uninstalled the extension <a href=\"https://marketplace.visualstudio.com/items?itemName=sourcegraph.javascript-typescript\" rel=\"nofollow noreferrer\">JavaScript and TypeScript IntelliSense</a></p>\n\n<p>So yes, check uninstalling old plugins if you are still having this issue. Also you can try the <a href=\"https://code.visualstudio.com/insiders/\" rel=\"nofollow noreferrer\">vscode insiders</a> version and check if this works in that one. It worked for me without doing any change.</p>\n"}, {"tags": [], "owner": {"reputation": 1190, "user_id": 9585130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZaOTw_iAjhA/AAAAAAAAAAI/AAAAAAAAAXs/k3f_-RgmijA/photo.jpg?sz=128", "display_name": "Binh Ho", "link": "https://stackoverflow.com/users/9585130/binh-ho"}, "is_accepted": false, "score": 1, "last_activity_date": 1614327217, "creation_date": 1614327217, "answer_id": 66382260, "question_id": 51741333, "link": "https://stackoverflow.com/questions/51741333/optional-chaining-operator-support-in-vscode/66382260#66382260", "title": "Optional chaining operator support in VSCode", "body": "<p>My case, i need add <code>&quot;tslint-config-prettier&quot;</code> to <code>tslint.json</code> file</p>\n<p>This is my <code>tslint.json</code> file</p>\n<pre><code>{\n  &quot;defaultSeverity&quot;: &quot;error&quot;,\n  &quot;extends&quot;: [\n    &quot;tslint:recommended&quot;,\n    &quot;tslint-config-prettier&quot;  # ----&gt; This line\n  ],\n  &quot;jsRules&quot;: {},\n  &quot;rules&quot;: {\n    &quot;semicolon&quot;: false,\n    &quot;quotemark&quot;: [true, &quot;single&quot;],\n    &quot;prefer-for-of&quot;: false,\n    &quot;object-literal-sort-keys&quot;: false,\n    &quot;ordered-imports&quot;: false,\n    &quot;interface-name&quot;: false,\n    &quot;callable-types&quot;: false,\n    &quot;no-console&quot;: false,\n    &quot;no-bitwise&quot;: false,\n    &quot;variable-name&quot;: [\n      true,\n      &quot;allow-leading-underscore&quot;,\n      &quot;allow-snake-case&quot;\n    ]\n  },\n  &quot;rulesDirectory&quot;: []\n}\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 10195959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMM3V.jpg?s=128&g=1", "display_name": "kirkcola", "link": "https://stackoverflow.com/users/10195959/kirkcola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17222, "favorite_count": 8, "accepted_answer_id": 58530234, "answer_count": 5, "score": 42, "last_activity_date": 1618791367, "creation_date": 1533714747, "last_edit_date": 1576048314, "question_id": 51741333, "link": "https://stackoverflow.com/questions/51741333/optional-chaining-operator-support-in-vscode", "title": "Optional chaining operator support in VSCode", "body": "<p>React Native 0.56 provides native support of <code>Optional Chaining Operator</code> i.e <code>?.</code></p>\n\n<p>However the latest stable release of VS Code can not recognize this syntax and throw a TypeScript validation error:</p>\n\n<p><code>[ts] Expression expected.</code></p>\n\n<p>while no complie-time or eslint error was thrown.</p>\n\n<p>How can I do to fix it?</p>\n\n<hr>\n\n<p>Update on 2019/12/11:</p>\n\n<p>Optional chaining is offically supported by TypeScript since 3.7! \ud83d\ude0d</p>\n\n<p>If you still meet this error, probably the TypeScript lib shipped with your VSCode is &lt; 3.7.</p>\n\n<p>You can fix it simply by installing the latest version of typescript (>= 3.7) to your workspace. (by npm or yarn as dev deps)</p>\n\n<p>Then open the command palette, type <code>tstv</code>, and switch the <em>TypeScript version used for JS and TS features</em> from <strong>VS Code's Version</strong> to <strong>Workspace's Version</strong> (make sure it's >= 3.7) and voila!</p>\n\n<p>This is definitely an awesome feature, thanks your all and happy hacking!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 571, "user_id": 7556782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4FukG.jpg?s=128&g=1", "display_name": "Erch", "link": "https://stackoverflow.com/users/7556782/erch"}, "edited": false, "score": 0, "creation_date": 1533713585, "post_id": 51740922, "comment_id": 90441944, "body": "did you try to get the two thrown error objects and looked into them? usually they should be of some help"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "reply_to_user": {"reputation": 571, "user_id": 7556782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4FukG.jpg?s=128&g=1", "display_name": "Erch", "link": "https://stackoverflow.com/users/7556782/erch"}, "edited": false, "score": 0, "creation_date": 1533713708, "post_id": 51740922, "comment_id": 90442026, "body": "That has been my trouble. Just getting [object ErrorEvent] in the IntelliJ console is literally useless to me! However after digging in the Karma console after applying <code>--watch</code> I do think that I have found a possible cause. It looks like the <code>this.returnUrl</code> is undefined and causing an issue for some reason."}], "answers": [{"comments": [{"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533714511, "post_id": 51741040, "comment_id": 90442504, "body": "Yeah that still just gave me the same output. I had trouble with keeping the Karma window open, so I had to use --watch. Could you have a look at the answer I just submitted and see if it makes sense?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533714578, "post_id": 51741040, "comment_id": 90442542, "body": "in <code>karma.conf.js</code> you can set <code>autowatch: true</code> to automatically watch for changes. In fact, this is the default configuration ... I&#39;m taking a look at your answer."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1533713833, "creation_date": 1533713833, "answer_id": 51741040, "question_id": 51740922, "link": "https://stackoverflow.com/questions/51740922/finding-where-and-why-object-errorevent-is-being-thrown/51741040#51741040", "title": "Finding where and why [object ErrorEvent] is being thrown", "body": "<p>Two solutions : </p>\n\n<ul>\n<li><p>disable source mapping in your tests with the command <code>ng test --source-mapping=false</code></p></li>\n<li><p>Open your browser's console, which will show you the real error. </p></li>\n</ul>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1533714671, "post_id": 51741146, "comment_id": 90442600, "body": "Given your code and test, it is strange it works ... But good for you if it did ! (and it&#39;s not a workaround, it&#39;s a totally valid way of resolving the issue)"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533714765, "post_id": 51741146, "comment_id": 90442667, "body": "Now I just have to figure out why it doesn&#39;t think form.reset() or form.resetForm() are valid functions &gt;:("}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1533714799, "post_id": 51741146, "comment_id": 90442685, "body": "<code>emptyForm</code> doesn&#39;t implement them"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533715403, "post_id": 51741146, "comment_id": 90443002, "body": "Could you please clarify @trichetriche? I checked the log from the actual form against the &#39;fake&#39; I send in, in the test and they are not of equal structure so I somewhat understand what you mean. But is there a way around this?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533715535, "post_id": 51741146, "comment_id": 90443068, "body": "<code>const emptyForm = &lt;NgForm&gt;{ reset: () =&gt; null, resetForm: () =&gt; null, ... }</code>. Mock the functions inside your mock."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533715581, "post_id": 51741146, "comment_id": 90443095, "body": "(if I recall correctly, I already explained to you you have to implement every object member you use in your component in your mock)"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533715935, "post_id": 51741146, "comment_id": 90443294, "body": "This hasn&#39;t worked for some reason :-/ I have opened a new question for this so we don&#39;t spam this one. <a href=\"https://stackoverflow.com/questions/51741701/angular2-typeerror-form-reset-is-not-a-function\" title=\"angular2 typeerror form reset is not a function\">stackoverflow.com/questions/51741701/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1533714152, "creation_date": 1533714152, "answer_id": 51741146, "question_id": 51740922, "link": "https://stackoverflow.com/questions/51740922/finding-where-and-why-object-errorevent-is-being-thrown/51741146#51741146", "title": "Finding where and why [object ErrorEvent] is being thrown", "body": "<p>It appears that the Karma console did indeed print out a useful error: <code>Uncaught Error: The requested path contains undefined segment at index 0</code>.</p>\n\n<p>I traced this back and it seems that the issue was with my routing to <code>this.returnUrl</code> and it being <code>undefined</code>. So I instantiated it in my declaration: <code>returnUrl: string = '';</code> and <strong>BOOM</strong>, no more error and the routing still works as intended.</p>\n\n<p>I am not sure whether this is the correct fix, but it is a workaround for the time being.</p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 51741146, "answer_count": 2, "score": 0, "last_activity_date": 1541515805, "creation_date": 1533713470, "last_edit_date": 1541515805, "question_id": 51740922, "link": "https://stackoverflow.com/questions/51740922/finding-where-and-why-object-errorevent-is-being-thrown", "title": "Finding where and why [object ErrorEvent] is being thrown", "body": "<p>I have 1 test failing and the log is no help whatsoever, other than telling me which test it is that fails...</p>\n\n<pre><code>LoginComponent should display username &amp; password error message and not call login when passed nothing FAILED\n    [object ErrorEvent] thrown\n    [object ErrorEvent] thrown\n</code></pre>\n\n<p>Is there any way I can trace the source of the error?</p>\n\n<p>I have attempted to test with <code>ng test --source-map=false/true</code> but nothing seems to have changed.</p>\n\n<p>I ran again with --watch to check if I could open the console on my Chrome window to get more information, to which it stated that <code>form.reset is not a function</code> so I commented this line out but I am still getting the same error in my log of <code>[object ErrorEvent] thrown</code> from the same test, however now the Chrome Karma window does not display the <code>form.reset</code> error, but just: <code>Uncaught Error: The requested path contains undefined segment at index 0</code></p>\n"}, {"tags": ["javascript", "android", "reactjs", "typescript", "react-native"], "comments": [{"owner": {"reputation": 84, "user_id": 4234349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Dq0a5.jpg?s=128&g=1", "display_name": "Tejas Khutale", "link": "https://stackoverflow.com/users/4234349/tejas-khutale"}, "edited": false, "score": 0, "creation_date": 1594647955, "post_id": 51740589, "comment_id": 111190130, "body": "is there any solution to above problem?"}], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 10165635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5838c8c3fad913847eca9d9a6b3724fe?s=128&d=identicon&r=PG", "display_name": "Fromwood", "link": "https://stackoverflow.com/users/10165635/fromwood"}, "is_accepted": false, "score": 1, "last_activity_date": 1533741892, "last_edit_date": 1533741892, "creation_date": 1533718453, "answer_id": 51742494, "question_id": 51740589, "link": "https://stackoverflow.com/questions/51740589/calling-function-in-scrollview-onscroll-property/51742494#51742494", "title": "calling function in ScrollView onscroll property", "body": "<p>When you use</p>\n\n<pre><code>onScroll={\n    Animated.event(\n    [{ nativeEvent: { contentOffset: { y: this.scroll } } }],\n    { useNativeDriver: true },\n)}\n</code></pre>\n\n<p>it is similar than </p>\n\n<pre><code>onScroll={(scrollEvent) =&gt; {\n    Animated.event(\n    [{ nativeEvent: { contentOffset: { y: this.scroll } } }],\n    { useNativeDriver: true },\n))(scrollEvent)\n}}\n</code></pre>\n\n<p>so if you want to get your code out of this try</p>\n\n<pre><code>animatedEv = (event) =&gt; {\n    Animated.event(\n    [{ nativeEvent: { contentOffset: { y: this.scroll } } }],\n    { useNativeDriver: true },\n    ))(event)\n    //other stuff\n};\n...\nonScroll={this.animatedEv}\n</code></pre>\n\n<p>EDIT: error on first answer</p>\n"}], "owner": {"reputation": 841, "user_id": 3062753, "user_type": "registered", "accept_rate": 32, "profile_image": "https://graph.facebook.com/100001585384561/picture?type=large", "display_name": "Iman Salehi", "link": "https://stackoverflow.com/users/3062753/iman-salehi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533741892, "creation_date": 1533712337, "last_edit_date": 1533737057, "question_id": 51740589, "link": "https://stackoverflow.com/questions/51740589/calling-function-in-scrollview-onscroll-property", "title": "calling function in ScrollView onscroll property", "body": "<p>I have an animated view which I want to execute more than one event in that <code>onScroll</code> property. now the the <code>onScroll</code> is this:</p>\n\n<pre><code>onScroll={\n                    Animated.event(\n                    [{ nativeEvent: { contentOffset: { y: this.scroll } } }],\n                    { useNativeDriver: true },\n                )\n</code></pre>\n\n<p>and I want to do some thing more than <code>Animeted.event()</code> in that. so I took it inside a function like this:</p>\n\n<pre><code>animatedEv(){\n    Animated.event(\n        [{ nativeEvent: { contentOffset: { y: this.scroll } } }],\n        { useNativeDriver: true },\n    )\n        //----and maybe some thing more here \n} \n</code></pre>\n\n<p>and I called what you see above in the <code>onScroll</code>:</p>\n\n<pre><code>onScroll={()=&gt;\n                  this.animatedEv\n                }\n</code></pre>\n\n<p>but despite the success function call, the animated doesn't work properly in these new style....even I tried this:</p>\n\n<pre><code>onScroll={\n            ()=&gt;{this.animatedEv() } \n  } \n</code></pre>\n\n<p>in both style there is no error but the animated is not working properly ):</p>\n\n<p><strong>Edit:</strong>\nthis is my scroll which is a variable in top of my component: </p>\n\n<pre><code> scroll = new Animated.Value(0);\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "types"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1533748066, "creation_date": 1533748066, "answer_id": 51752118, "question_id": 51740472, "link": "https://stackoverflow.com/questions/51740472/typescript-returntype-of-a-generic-function-not-working/51752118#51752118", "title": "TypeScript - ReturnType of a generic function not working", "body": "<p>Given the type arguments to the function, not currently, if you follow the chain of links to <a href=\"https://stackoverflow.com/questions/50005595/getting-the-return-type-of-a-function-which-uses-generics\">Getting the return type of a function which uses generics</a>.  Given the argument types, you can write a non-generic dummy function that passes arguments of those types and then check its return type:</p>\n\n<pre><code>function dummy(n: number) { return arrayOf(n); }\ntype N = ReturnType&lt;typeof dummy&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 182, "user_id": 4918541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XFWFS.png?s=128&g=1", "display_name": "MaxiJonson", "link": "https://stackoverflow.com/users/4918541/maxijonson"}, "is_accepted": true, "score": 2, "last_activity_date": 1577430948, "creation_date": 1577430948, "answer_id": 59497325, "question_id": 51740472, "link": "https://stackoverflow.com/questions/51740472/typescript-returntype-of-a-generic-function-not-working/59497325#59497325", "title": "TypeScript - ReturnType of a generic function not working", "body": "<p>I have the same problem as you and after countless workarounds not working, I found a somewhat \"hack\". However, this might not be convenient for all cases:</p>\n\n<p>Similar to the answer given by Matt, the point is to have a dummy function, but without rewriting it. Instead of writing a dummy rewrite of your function, write a dummy function that returns a dummy usage of your function. Then, get the resulting type with <code>ReturnType</code>:</p>\n\n<pre><code>function arrayOf&lt;T&gt;(item: T): T[] {\n    return [item];\n}\n\nconst arrayOfNumber = () =&gt; arrayOf&lt;number&gt;(1);\ntype N = ReturnType&lt;typeof arrayOfNumber&gt;;\n</code></pre>\n\n<p>As of <strong>TS 3.7</strong>, unless I haven't done my research right, it still isn't possible to achieve the desired results without finding a workaround. Hopefully, we can get something that looks like this:</p>\n\n<pre><code>function arrayOf&lt;T&gt;(item: T): T[] {\n    return [item];\n}\n\ntype N = GenericReturnType&lt;typeof arrayOf&gt;; // N&lt;T&gt;\n</code></pre>\n"}], "owner": {"reputation": 918, "user_id": 8730750, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbc8d281412ed200f9b7014359ee178b?s=128&d=identicon&r=PG&f=1", "display_name": "notrota", "link": "https://stackoverflow.com/users/8730750/notrota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2082, "favorite_count": 0, "accepted_answer_id": 59497325, "answer_count": 2, "score": 3, "last_activity_date": 1615482268, "creation_date": 1533711931, "question_id": 51740472, "link": "https://stackoverflow.com/questions/51740472/typescript-returntype-of-a-generic-function-not-working", "title": "TypeScript - ReturnType of a generic function not working", "body": "<p>There is a feature in typescript called <code>ReturnType&lt;TFunction&gt;</code> which allows you to infer the return type of a particular function, like so</p>\n\n<pre><code>function arrayOf(item: string): string[] {\n  return [item]\n}\n</code></pre>\n\n<p>However, I am having trouble using it with generic functions:</p>\n\n<pre><code>function arrayOf&lt;T&gt;(item: T): T[] {\n  return [item]\n}\n\ntype R = ReturnType&lt;typeof arrayOf&gt; // R = {}[]\ntype R = ReturnType&lt;typeof arrayOf&lt;number&gt;&gt; // syntax error\n// etc.\n</code></pre>\n\n<p>Using the top answer from <a href=\"https://stackoverflow.com/questions/50321419/typescript-returntype-of-generic-function\">Typescript ReturnType of generic function</a>, I have tried this: (by the way this is not a duplicate, it is different as the solution and question do apply to this case)</p>\n\n<pre><code>function arrayOf&lt;T&gt;(x: T): T[] {\n  return [x];\n}\n\ntype GenericReturnType&lt;R, X&gt; = X extends (...args: any[]) =&gt; R ? R : never;\n\ntype N = GenericReturnType&lt;number, &lt;T&gt;(item: T) =&gt; T[]&gt;; // N = never\n</code></pre>\n\n<p>I have also tried the following:</p>\n\n<pre><code>type GenericReturnType&lt;TGenericParameter, TFunction&gt; = TFunction extends (...args: any[]) =&gt; infer R ? R : never;\n\ntype N = GenericReturnType&lt;number, &lt;T&gt;(item: T) =&gt; T[]&gt;; // N = {}[]\n</code></pre>\n\n<p>as well as</p>\n\n<pre><code>type GenericReturnType&lt;TGenericParameter, TFunction&gt; = TFunction extends &lt;T&gt;(...args: any[]) =&gt; infer R ? R : never;\n\ntype N = GenericReturnType&lt;number, &lt;T&gt;(item: T) =&gt; T[]&gt;; // N = {}[]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>type GenericReturnType&lt;TGenericParameter, TFunction&gt; = TFunction extends &lt;T extends TGenericParameter&gt;(...args: any[]) =&gt; infer R ? R : never;\n\ntype N = GenericReturnType&lt;number, &lt;T&gt;(item: T) =&gt; T[]&gt;; // N = {}[]\n</code></pre>\n\n<p>and also this</p>\n\n<pre><code>type GenericReturnType&lt;TGenericParameter, TFunction&gt; = TFunction extends (arg: TGenericParameter) =&gt; infer R ? R : never;\n\ntype N = GenericReturnType&lt;number, &lt;T&gt;(item: T) =&gt; T[]&gt;; // N = {}[]\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>type GenericReturnType&lt;TGenericParameter, TFunction&gt; = TFunction extends &lt;U extends TGenericParameter&gt;(arg: U) =&gt; infer R ? R : never;\n\ntype N = GenericReturnType&lt;number, &lt;T&gt;(item: T) =&gt; T[]&gt;; // N = {}[]\n</code></pre>\n\n<p>as well as</p>\n\n<pre><code>type x = (&lt;T&gt;(item: T) =&gt; T[]) extends &lt;T&gt;(arg: T) =&gt; infer R ? R : never // x = {}[]\n</code></pre>\n\n<p>and finally</p>\n\n<pre><code>type x = (&lt;T&gt;(item: T) =&gt; T[]) extends (arg: number) =&gt; infer R ? R : never // x = {}[]\n</code></pre>\n\n<p>But none of them yield the much wanted type of <code>number[]</code></p>\n\n<p>So, my question is, is there any way to create something similar to the builtin <code>ReturnType</code> which works for functions with generic parameters, given the types of the generic parameters? (aka a solution to the above problem)</p>\n"}, {"tags": ["typescript", "events", "ionic-framework", "maps", "storage"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 6369856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xXdgs.jpg?s=128&g=1", "display_name": "Akhil J", "link": "https://stackoverflow.com/users/6369856/akhil-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1533711848, "creation_date": 1533711848, "answer_id": 51740455, "question_id": 51740454, "link": "https://stackoverflow.com/questions/51740454/how-to-use-storage-set-inside-google-maps-events-addlistenermarker-dragend/51740455#51740455", "title": "How to use storage.set() inside google.maps.events.addListener(marker, &#39;dragend&#39;, function() { }); in Ionic 3", "body": "<p>For those who are having this error, solve like the below. I found it from here <a href=\"https://forum.ionicframework.com/t/how-to-get-new-position-of-dragged-marker/76303/9?u=akhilj\" rel=\"nofollow noreferrer\">Ionic Framework dragend solution</a></p>\n\n<pre><code>google.maps.event.addListener(marker, 'dragend', () =&gt;{ \n  this.LastLat= marker.position.lat();\n  this.LastLng= marker.position.lng();\n\n  this.storage.set('mylocation', this.LastLat);    \n});\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9168386"}, "is_accepted": false, "score": 1, "last_activity_date": 1533724911, "creation_date": 1533724911, "answer_id": 51744655, "question_id": 51740454, "link": "https://stackoverflow.com/questions/51740454/how-to-use-storage-set-inside-google-maps-events-addlistenermarker-dragend/51744655#51744655", "title": "How to use storage.set() inside google.maps.events.addListener(marker, &#39;dragend&#39;, function() { }); in Ionic 3", "body": "<blockquote>\n  <p>Cannot read property 'set' of undefined</p>\n</blockquote>\n\n<p>This would mean that \"storage\" is undefined. \nIf storage is undefined be sure to declare it in the constructor and import it correctly like here: <a href=\"https://ionicframework.com/docs/storage/\" rel=\"nofollow noreferrer\">Ionic Storage Docs</a></p>\n\n<pre><code>import { Storage } from '@ionic/storage';\n\nexport class MyApp {\n  constructor(private storage: Storage) { }\n\n  ...\n\n  // set a key/value\n  this.storage.set('name', 'Max');\n\n  // Or to get a key/value pair\n  this.storage.get('age').then((val) =&gt; {\n    console.log('Your age is', val);\n  });\n}\n</code></pre>\n\n<p>If the Error gets thrown because <code>this.Marker.getPosition()</code> is null you could try the solution from Ahkil J:</p>\n\n<pre><code>google.maps.event.addListener(Marker, 'click', (function(Marker) {\n  return function() {\n    this.LastLat = Marker.position.lat();\n    this.LastLng = Marker.position.lng();\n\n    this.storage.set('mylocation', this.LastLat + this.LastLng);    \n  }\n})(Marker));\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6369856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xXdgs.jpg?s=128&g=1", "display_name": "Akhil J", "link": "https://stackoverflow.com/users/6369856/akhil-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533724911, "creation_date": 1533711848, "question_id": 51740454, "link": "https://stackoverflow.com/questions/51740454/how-to-use-storage-set-inside-google-maps-events-addlistenermarker-dragend", "title": "How to use storage.set() inside google.maps.events.addListener(marker, &#39;dragend&#39;, function() { }); in Ionic 3", "body": "<pre><code>google.maps.event.addListener(Marker, 'click', (function(Marker) {\n  return function() {\n    this.storage.set('mylocation', this.Marker.getPosition()); \n  }\n})(Marker));\n</code></pre>\n\n<p><strong><em>polyfills.js:3 Uncaught TypeError: Cannot read property 'set' of undefined</em></strong></p>\n\n<p>I'm getting this error when I try to set storage in Ionic 3 with the response from google maps marker dragend event.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533711993, "post_id": 51740367, "comment_id": 90440988, "body": "Bootstrap modals aren&#39;t really made for Angular. I would suggest that you use subjects to control your modal (init and reset), which will be easy to achieve, and to display it, you should reference the child as a view child and call its methods."}, {"owner": {"reputation": 382, "user_id": 8597762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0SZD.jpg?s=128&g=1", "display_name": "Dzak", "link": "https://stackoverflow.com/users/8597762/dzak"}, "edited": false, "score": 0, "creation_date": 1533713958, "post_id": 51740367, "comment_id": 90442163, "body": "similar to A case? or did I missed something from your comment?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533714112, "post_id": 51740367, "comment_id": 90442251, "body": "The use of subjects to control your modal status, but yes, similar to A"}, {"owner": {"reputation": 382, "user_id": 8597762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0SZD.jpg?s=128&g=1", "display_name": "Dzak", "link": "https://stackoverflow.com/users/8597762/dzak"}, "edited": false, "score": 0, "creation_date": 1533734446, "post_id": 51740367, "comment_id": 90455340, "body": "can you direct me to an example? I&#39;m not sure I understand the &quot;use of subjects&quot; term..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533734482, "post_id": 51740367, "comment_id": 90455363, "body": "RxJS <code>Subject</code>s to proagate events, similar to <code>BehaviorSubject</code>s ?"}, {"owner": {"reputation": 382, "user_id": 8597762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0SZD.jpg?s=128&g=1", "display_name": "Dzak", "link": "https://stackoverflow.com/users/8597762/dzak"}, "edited": false, "score": 0, "creation_date": 1533737478, "post_id": 51740367, "comment_id": 90457411, "body": "oh I didn&#39;t know about the <code>subjects </code> and <code>BehaviorSubjects</code>, after some reading I understands that this is what I did in my <b>C</b> case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1533737521, "post_id": 51740367, "comment_id": 90457445, "body": "(Again, that&#39;s my personal opinion, not the best practice, so keep that in mind)"}], "owner": {"reputation": 382, "user_id": 8597762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0SZD.jpg?s=128&g=1", "display_name": "Dzak", "link": "https://stackoverflow.com/users/8597762/dzak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533711562, "creation_date": 1533711562, "question_id": 51740367, "link": "https://stackoverflow.com/questions/51740367/angular-2-child-component-managment", "title": "angular 2 child component managment", "body": "<p>I have a parent component that contains a table, and a child component that contains a bootstrap modal.</p>\n\n<p>When a row in the table is clicked the modal should pop up with many functions and filtered select-drop-boxes that matches the clicked row.</p>\n\n<p>From my understanding, these three are my options:</p>\n\n<p><strong>A.</strong> Opening the modal with a function inside the child component (the modal) via <code>@Viewchild</code>. When closed, another function in the child component should clear the properties and fields in the modal.</p>\n\n<p>pros: The DOM will not have to recreate the child component each time a row is clicked.</p>\n\n<p>cons: If the modal is not needed it will be created unnecessarily. + I have to reset the fields on close.</p>\n\n<hr>\n\n<p><strong>B.</strong> Use <code>*ngIf</code> on the child component (the modal). When a row is clicked, the <code>if</code> statement becomes <code>true</code> and in the <code>ngOnInit</code> the modal will call a method to pop up the modal.</p>\n\n<p>pros: No need to reset the fields, everything will be set in the <code>ngOnInit</code>.</p>\n\n<p>cons: will be created each time a row is clicked.</p>\n\n<hr>\n\n<p><strong>C.</strong> use a message service between the parent and the child that will trigger show/hide on the modal.</p>\n\n<p>cons: a service needs to be built for this.</p>\n\n<hr>\n\n<p>I would like to understand what is considered a good practice and what's a bad practice in these approaches. Or alternative ways to achieve this. I'm working on a big project and need to do this a lot.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533711674, "post_id": 51740278, "comment_id": 90440810, "body": "Or a more direct version <code>type Diff&lt;A, B&gt; = Pick&lt;A, Exclude&lt;keyof A, keyof B&gt;&gt;;</code> :)"}], "tags": [], "owner": {"reputation": 11191, "user_id": 5862315, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/PviZk.png?s=128&g=1", "display_name": "Eran Shabi", "link": "https://stackoverflow.com/users/5862315/eran-shabi"}, "is_accepted": false, "score": 0, "last_activity_date": 1533711239, "creation_date": 1533711239, "answer_id": 51740278, "question_id": 51740277, "link": "https://stackoverflow.com/questions/51740277/how-to-exclude-all-properties-of-one-interface-from-another/51740278#51740278", "title": "how to exclude all properties of one interface from another?", "body": "<p>You can use the <code>Omit</code> type suggested in the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html\" rel=\"nofollow noreferrer\">TypeScript documentation</a>, combined with <code>keyof</code>:</p>\n\n<pre><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;; \n\ntype C = Omit&lt;A, keyof B&gt;;\n</code></pre>\n\n<p>Now anything of type <code>C</code> can't have the property <code>b</code> from your example, or anything else that both <code>A</code> and <code>B</code> have.</p>\n"}], "owner": {"reputation": 11191, "user_id": 5862315, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/PviZk.png?s=128&g=1", "display_name": "Eran Shabi", "link": "https://stackoverflow.com/users/5862315/eran-shabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533711239, "creation_date": 1533711239, "question_id": 51740277, "link": "https://stackoverflow.com/questions/51740277/how-to-exclude-all-properties-of-one-interface-from-another", "title": "how to exclude all properties of one interface from another?", "body": "<p>I have two interfaces, for example:</p>\n\n<pre><code>interface A {\n  a: number;\n  b: string;\n}\n\n\ninterface B {\n  b: string;\n}\n</code></pre>\n\n<p>I want to create a type that has all the keys of A while excluding all the keys of B that A has too.</p>\n"}, {"tags": ["typescript", "compiler-errors", "visual-studio-code"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533711184, "post_id": 51740138, "comment_id": 90440536, "body": "Try <code>&quot;noErrorTruncation&quot;: true</code> in your <code>tsconifg.json</code>"}, {"owner": {"reputation": 11669, "user_id": 1466267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c47d1f7544a8c4a1bb7a41d511f53604?s=128&d=identicon&r=PG", "display_name": "SpaceTrucker", "link": "https://stackoverflow.com/users/1466267/spacetrucker"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533713029, "post_id": 51740138, "comment_id": 90441601, "body": "@TitianCernicova-Dragomir your suggestion works. Thanks. You may add this as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1533713212, "creation_date": 1533713212, "answer_id": 51740854, "question_id": 51740138, "link": "https://stackoverflow.com/questions/51740138/how-to-get-compiler-error-messages-with-complete-imports-in-visual-studio-code-f/51740854#51740854", "title": "How to get compiler error messages with complete imports in visual studio code for typescript?", "body": "<p>You can add the option to not truncate in your <code>tsconfig.json</code>:</p>\n\n<pre><code>\"noErrorTruncation\": true\n</code></pre>\n\n<p>The compiler options <a href=\"http://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">page</a> does not offer a lot of information about what gets truncated but if you disable truncation you should get all the information the compiler has about the error at the cost of longer errors.</p>\n"}], "owner": {"reputation": 11669, "user_id": 1466267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c47d1f7544a8c4a1bb7a41d511f53604?s=128&d=identicon&r=PG", "display_name": "SpaceTrucker", "link": "https://stackoverflow.com/users/1466267/spacetrucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 51740854, "answer_count": 1, "score": 2, "last_activity_date": 1533713212, "creation_date": 1533710672, "question_id": 51740138, "link": "https://stackoverflow.com/questions/51740138/how-to-get-compiler-error-messages-with-complete-imports-in-visual-studio-code-f", "title": "How to get compiler error messages with complete imports in visual studio code for typescript?", "body": "<p>I'm editing a piece of typescript code in visual studio code. For this I receive a compiler error message that reads like:</p>\n\n<pre><code>Type 'import(\\\"c:/path/to/project/node_modules/@com.m...' is not assignable to type \n'import(\\\"c:/path/to/project/node_modules/@com.m...'. Two different types with this name \nexist, but they are unrelated.\n</code></pre>\n\n<p>What do I need to configure in order to read the full paths for the imports in the compiler error message?</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 641, "user_id": 5819664, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/skP9W.jpg?s=128&g=1", "display_name": "Onkar", "link": "https://stackoverflow.com/users/5819664/onkar"}, "edited": false, "score": 0, "creation_date": 1533710720, "post_id": 51739989, "comment_id": 90440305, "body": "Clicking on second menu and third menu shows the submenu...then what you want?"}, {"owner": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "reply_to_user": {"reputation": 641, "user_id": 5819664, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/skP9W.jpg?s=128&g=1", "display_name": "Onkar", "link": "https://stackoverflow.com/users/5819664/onkar"}, "edited": false, "score": 0, "creation_date": 1533711162, "post_id": 51739989, "comment_id": 90440523, "body": "On click of submenu clicked submenu should be active. what should I do for that"}], "answers": [{"comments": [{"owner": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "edited": false, "score": 0, "creation_date": 1533712506, "post_id": 51740564, "comment_id": 90441279, "body": "Thank u so much @Ankit :)"}, {"owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "reply_to_user": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "edited": false, "score": 0, "creation_date": 1533712543, "post_id": 51740564, "comment_id": 90441308, "body": "Glad that it helped. :)"}, {"owner": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "edited": false, "score": 0, "creation_date": 1533712673, "post_id": 51740564, "comment_id": 90441394, "body": "There is one problem. Please check in this condition. click on one sub menu the open second main menu."}, {"owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "reply_to_user": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "edited": false, "score": 0, "creation_date": 1533712866, "post_id": 51740564, "comment_id": 90441508, "body": "That is because both sub menus have the same value as <code>Sub Menu 1</code>. Kindly try changing the values for the sub menus. I have changed it in the example for you. Please check now. You need to pass something else to identify it easily and correctly."}, {"owner": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "edited": false, "score": 0, "creation_date": 1533724779, "post_id": 51740564, "comment_id": 90448912, "body": "Hi @Ankit can you  please help me, I don&#39;t want router link if menu have sub menu and on 1st time page load one menu should be active. can u please help"}, {"owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "reply_to_user": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "edited": false, "score": 0, "creation_date": 1533742604, "post_id": 51740564, "comment_id": 90461020, "body": "@vedankitakumbhar You may use <code>router.navigate</code> function to decide if you need to navigate. For more info on how to use, pls visit <a href=\"https://angular.io/guide/router#navigating-back-to-the-list-component\" rel=\"nofollow noreferrer\">angular.io/guide/router#navigating-back-to-the-list-componen&zwnj;&#8203;t</a>. You may also choose to use <code>*ngIf</code> to either render an anchor tag or span tag. To choose one menu on page load, you may pass a value to your component or set it in <code>ngOnInit</code> function."}], "tags": [], "owner": {"reputation": 1542, "user_id": 7370765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768681455f0e666956778902b7355de2?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Sharma", "link": "https://stackoverflow.com/users/7370765/ankit-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1533712256, "creation_date": 1533712256, "answer_id": 51740564, "question_id": 51739989, "link": "https://stackoverflow.com/questions/51739989/add-active-class-to-submenu-on-click-in-angular-4/51740564#51740564", "title": "Add active class to submenu on click in angular 4", "body": "<p>You can make an object to store what is selected for <code>main</code> link and <code>sub</code> link and then apply the class accordingly.</p>\n\n<p>For example, you may pass <code>main</code> as an argument to tell that it is a main link and check <code>isActive</code> accordingly for <code>main</code> itself.</p>\n\n<pre><code>(click)=\"select('main', n.name);\" [ngClass]=\"{active: isActive('main', n.name)}\"\n</code></pre>\n\n<p>Similarly, it can be done for the <code>sub</code> link.</p>\n\n<p>Your functions could be as follows:-</p>\n\n<pre><code>  select(type, item, $event) {\n    this.selected[type] = (this.selected[type] === item ? null : item);\n    $event ? $event.stopPropagation() : null;\n  }\n  isActive(type, item) {\n    return this.selected[type] === item;\n  }\n</code></pre>\n\n<p>You may stop propagation when selecting the sub link which is optional, I suppose (Kindly test for your use case).</p>\n\n<p>Please check the code below:-</p>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/angular-7b7cwd?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-7b7cwd?file=src/app/app.component.html</a></p>\n</blockquote>\n"}], "owner": {"reputation": 1304, "user_id": 1306170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/943feedf7e5668120d3f17c57ab24730?s=128&d=identicon&r=PG", "display_name": "vedankita kumbhar", "link": "https://stackoverflow.com/users/1306170/vedankita-kumbhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 2, "accepted_answer_id": 51740564, "answer_count": 1, "score": 0, "last_activity_date": 1618238885, "creation_date": 1533710033, "question_id": 51739989, "link": "https://stackoverflow.com/questions/51739989/add-active-class-to-submenu-on-click-in-angular-4", "title": "Add active class to submenu on click in angular 4", "body": "<p>I have created a nested menu in Angular 4. I am facing problem with active class. Here is my code.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-sccux2\" rel=\"nofollow noreferrer\">My code</a></p>\n\n<p>I am able to add active class to main link but what should I do to add active class to submenu based on click. Please help</p>\n"}, {"tags": ["javascript", "angular", "html", "typescript"], "comments": [{"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 2, "creation_date": 1533709806, "post_id": 51739909, "comment_id": 90439887, "body": "Please provide some code? Or try to create a stackblitz for this"}, {"owner": {"reputation": 80, "user_id": 7814935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55b1dff700a95c558f3f579659ad386?s=128&d=identicon&r=PG&f=1", "display_name": "epresas", "link": "https://stackoverflow.com/users/7814935/epresas"}, "reply_to_user": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1533710359, "post_id": 51739909, "comment_id": 90440143, "body": "@AnuradhaGunasekara i will in a few minutes, just getting some clearance from my boss to put code hehe. Sorry!"}], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 7814935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55b1dff700a95c558f3f579659ad386?s=128&d=identicon&r=PG&f=1", "display_name": "epresas", "link": "https://stackoverflow.com/users/7814935/epresas"}, "is_accepted": true, "score": 1, "last_activity_date": 1533711818, "creation_date": 1533711818, "answer_id": 51740444, "question_id": 51739909, "link": "https://stackoverflow.com/questions/51739909/why-does-an-image-render-badly-in-angular-2/51740444#51740444", "title": "Why does an image render badly in angular 2", "body": "<p>Solved it! not much of a mistery, actually a rookie mistake, i removed the span and put the image via CSS into the container itself (and added padding to the text) and it worked. I can't exactly explain why it didn't work when adding an empty span with the icon. The result was this:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"aviso\"&gt;Text content of the warning&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.aviso{\n    background-image: path/to/image.jpg;\n    background-position-x: 2%;\n    background-position-y: 30%;\n    padding: 8px 15px 8px 35px;\n}\n</code></pre>\n\n<p>that did the trick! Thanks!</p>\n"}], "owner": {"reputation": 80, "user_id": 7814935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55b1dff700a95c558f3f579659ad386?s=128&d=identicon&r=PG&f=1", "display_name": "epresas", "link": "https://stackoverflow.com/users/7814935/epresas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51740444, "answer_count": 1, "score": 0, "last_activity_date": 1533711818, "creation_date": 1533709702, "question_id": 51739909, "link": "https://stackoverflow.com/questions/51739909/why-does-an-image-render-badly-in-angular-2", "title": "Why does an image render badly in angular 2", "body": "<p>First of all i'm sorry if my english doesn't make much sense, is not my first language. Ok, so my buddy and i are making a template in angular 2/6 for the data disclosure consents for a loan simulator, we have a couple of notifications when the user says \"No\" to each consent. Those notifications are made of an icon (image stored in \"assets\" folder) and some text, and they appear when the user checks the radio marked NO. The problem is that when the page loads, the first time a user clicks no the image of the notification appears with the wrong width, then if the user checks YES and goes back to NO, the image appears fine; is just the first image shown, it doesn't matter which radio is checked. Any ideas? \nPS: the image is put as a background in CSS on a span preceding the text of the notification.</p>\n"}, {"tags": ["typescript", "plotly", "vendor", "plotly.js"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 6710651, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OFveewSfGaY/AAAAAAAAAAI/AAAAAAAAANM/-Bf8ZovcuPw/photo.jpg?sz=128", "display_name": "Bharat Banavalikar", "link": "https://stackoverflow.com/users/6710651/bharat-banavalikar"}, "edited": false, "score": 0, "creation_date": 1556185764, "post_id": 52552029, "comment_id": 98354896, "body": "In which file did you add that code snippet <a href=\"https://stackoverflow.com/users/29906/jmw\">stackoverflow.com/users/29906/jmw</a>"}, {"owner": {"reputation": 2804, "user_id": 29906, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93432993d570854449c45ff2024ad780?s=128&d=identicon&r=PG", "display_name": "jmw", "link": "https://stackoverflow.com/users/29906/jmw"}, "reply_to_user": {"reputation": 123, "user_id": 6710651, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OFveewSfGaY/AAAAAAAAAAI/AAAAAAAAANM/-Bf8ZovcuPw/photo.jpg?sz=128", "display_name": "Bharat Banavalikar", "link": "https://stackoverflow.com/users/6710651/bharat-banavalikar"}, "edited": false, "score": 0, "creation_date": 1556197596, "post_id": 52552029, "comment_id": 98361811, "body": "The custom-webpack:broswer builder allows a file that is merged with the internal webpack config and it was in that file. Since then we have moved away from this solution and are now using angular-plotly (npm) that made this workaround unnecessary for us."}], "tags": [], "owner": {"reputation": 2804, "user_id": 29906, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93432993d570854449c45ff2024ad780?s=128&d=identicon&r=PG", "display_name": "jmw", "link": "https://stackoverflow.com/users/29906/jmw"}, "is_accepted": false, "score": 0, "last_activity_date": 1538126050, "creation_date": 1538126050, "answer_id": 52552029, "question_id": 51739573, "link": "https://stackoverflow.com/questions/51739573/plotly-js-not-working-ie-error-in-vendor-js/52552029#52552029", "title": "Plotly.Js not working IE. Error in vendor.js", "body": "<p>When using Plotly with webpack (which Angular CLI do internally) the ify-loader (Webpack loader to handle browserify transforms as intended.) plugin is required. I changed to using the @angular-builders/custom-webpack:browser builder and added this to the webpack config which solved it.</p>\n\n<pre><code>module.exports = {\n  module: {\n    rules: [{\n      test: /\\.js$/,\n      loader: 'ify-loader'\n    }]\n  },\n};\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3786662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b25b740bbf7b37351885820fdf464fa?s=128&d=identicon&r=PG&f=1", "display_name": "user3786662", "link": "https://stackoverflow.com/users/3786662/user3786662"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1538126050, "creation_date": 1533708133, "last_edit_date": 1533709792, "question_id": 51739573, "link": "https://stackoverflow.com/questions/51739573/plotly-js-not-working-ie-error-in-vendor-js", "title": "Plotly.Js not working IE. Error in vendor.js", "body": "<p>Js in angular 6 application. Its working fine in <code>Chrome</code>, <code>Edge</code>, and <code>Firefox</code>. Its giving error in IE. </p>\n\n<blockquote>\n  <p>SCRIPT1010: Expected identifier\n  vendor.js (290527,19)</p>\n</blockquote>\n\n<p>On further debugging, it shows\nerror in vendor.js at </p>\n\n<pre><code>// get all points within the passed range\nfunction range ( ...args ) {\n    let options\n\n    if (isObj(args[args.length - 1])) {\n        let arg = args.pop()\n\n        // detect if that was a rect object\n        if (!args.length &amp;&amp; (arg.x != null || arg.l != null || arg.left != null)) {\n            args = [arg]\n            options = {}\n        }\n\n        options = pick(arg, {\n            level: 'level maxLevel',\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "generics"], "comments": [{"owner": {"reputation": 1515, "user_id": 5640730, "user_type": "registered", "profile_image": "https://graph.facebook.com/1252702464755126/picture?type=large", "display_name": "Ivan Mladenov", "link": "https://stackoverflow.com/users/5640730/ivan-mladenov"}, "edited": false, "score": 1, "creation_date": 1533708419, "post_id": 51739529, "comment_id": 90439274, "body": "<a href=\"https://stackoverflow.com/questions/17382143/how-to-create-a-new-object-from-type-parameter-in-generic-class-in-typescript\" title=\"how to create a new object from type parameter in generic class in typescript\">stackoverflow.com/questions/17382143/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 10053819, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0nn3b4CGGKQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qMsIC6kHckLlH_bnWfyogrXrrzKA/mo/photo.jpg?sz=128", "display_name": "Shikha Ahuja", "link": "https://stackoverflow.com/users/10053819/shikha-ahuja"}, "is_accepted": false, "score": -4, "last_activity_date": 1533708603, "creation_date": 1533708603, "answer_id": 51739656, "question_id": 51739529, "link": "https://stackoverflow.com/questions/51739529/how-create-instance-of-generic-type-parameter-in-type-script/51739656#51739656", "title": "How create instance of generic type parameter in type script", "body": "<p>Try this </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function f&lt;T&gt;(arg: T): T {\n    return arg;\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 1221, "user_id": 4650625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJIGb.jpg?s=128&g=1", "display_name": "Mohammad Ranjbar Z", "link": "https://stackoverflow.com/users/4650625/mohammad-ranjbar-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 446, "favorite_count": 0, "closed_date": 1533708680, "answer_count": 1, "score": 1, "last_activity_date": 1533708603, "creation_date": 1533707981, "question_id": 51739529, "link": "https://stackoverflow.com/questions/51739529/how-create-instance-of-generic-type-parameter-in-type-script", "closed_reason": "Duplicate", "title": "How create instance of generic type parameter in type script", "body": "<p>I have a generic function like this :</p>\n\n<pre><code>export function f&lt;T &gt;(json: Object): T {\nreturn new T()\n</code></pre>\n\n<p>}</p>\n\n<p>but I got this error when com<code>'T' only refers to a type, but is being used as a value here.\n</code></p>\n\n<p>how should i handle this ?</p>\n"}, {"tags": ["node.js", "typescript", "mongoose"], "owner": {"reputation": 45, "user_id": 9887401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f4018a59670f85b6fdb82b9962e782?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/9887401/virat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533707879, "creation_date": 1533707879, "question_id": 51739512, "link": "https://stackoverflow.com/questions/51739512/how-can-we-set-required-equals-false-using-schema-path", "title": "How can we set required equals false using schema.path?", "body": "<p>I have schema/document having name and id as a field.</p>\n\n<pre><code>const newSchema: Schema = new Schema({\nname:{\ntype:String,\nrequired:true\n},\nid:{\ntype:String,\nrequired:true\n}\n});\n</code></pre>\n\n<p>How can we define a method which sets required equals false for id field using schema.path?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "edited": false, "score": 0, "creation_date": 1533707270, "post_id": 51739323, "comment_id": 90438814, "body": "Thanks. Doing that causes the displayed products to be static. It doesn&#39;t add the new product to state.listItems so new ones do not get displayed."}, {"owner": {"reputation": 6152, "user_id": 821720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/63dd7aa72ef41e3f211cd81ab573b541?s=128&d=identicon&r=PG", "display_name": "Mukesh Soni", "link": "https://stackoverflow.com/users/821720/mukesh-soni"}, "reply_to_user": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "edited": false, "score": 0, "creation_date": 1533707377, "post_id": 51739323, "comment_id": 90438873, "body": "You can either move the listItems completely out of state and calculate it on the fly in the render method, or change the listItems state in addProduct method"}, {"owner": {"reputation": 5862, "user_id": 1982631, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/uAEaU.jpg?s=128&g=1", "display_name": "Manoz", "link": "https://stackoverflow.com/users/1982631/manoz"}, "edited": false, "score": 0, "creation_date": 1533708499, "post_id": 51739323, "comment_id": 90439303, "body": "@MukeshSoni, you are directly mutating state of <code>products</code> with push. Which is not considered as a good practice. Either concat the product or create a deep copy of products and then push."}, {"owner": {"reputation": 6152, "user_id": 821720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/63dd7aa72ef41e3f211cd81ab573b541?s=128&d=identicon&r=PG", "display_name": "Mukesh Soni", "link": "https://stackoverflow.com/users/821720/mukesh-soni"}, "edited": false, "score": 0, "creation_date": 1533710235, "post_id": 51739323, "comment_id": 90440069, "body": "Why is not a good thing to do in this particular case? Don&#39;t tell me &#39;immutable data&#39; or &#39;functional programming&#39;. Please be specific."}], "tags": [], "owner": {"reputation": 6152, "user_id": 821720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/63dd7aa72ef41e3f211cd81ab573b541?s=128&d=identicon&r=PG", "display_name": "Mukesh Soni", "link": "https://stackoverflow.com/users/821720/mukesh-soni"}, "is_accepted": true, "score": 1, "last_activity_date": 1533710424, "last_edit_date": 1533710424, "creation_date": 1533706986, "answer_id": 51739323, "question_id": 51739285, "link": "https://stackoverflow.com/questions/51739285/react-js-state-that-references-other-state-property/51739323#51739323", "title": "React JS state that references other state property", "body": "<p>I think you wanted to map over <code>productsData</code> and not <code>this.state</code> while initializing the state </p>\n\n<pre><code>listItems: productsData.map(product =&gt; (\n  &lt;Product key={product.name.toString()} product={product} /&gt;\n))\n</code></pre>\n\n<p>You can probably move the listItems out from state and just recreate it in the render method</p>\n\n<pre><code>render() {\n  const listItems = this.state.products.map(product =&gt; (\n    &lt;Product key={product.name.toString()} product={product} /&gt;\n  ))\n\n  return (\n    &lt;div&gt;\n      &lt;ul&gt;{listItems}&lt;/ul&gt;\n      &lt;button onClick={e =&gt; this.addProduct({name: \"some product\", price: 54})}&gt;Add Product&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>or recalculate the listItems state in addProduct method - </p>\n\n<pre><code>addProduct = (product) =&gt; {\n  const newProducts = this.state.products.concat(product)\n  this.setState({\n    products: newProducts,\n    listItems: newProducts.map(product =&gt; (\n      &lt;Product key={product.name.toString()} product={product} /&gt;\n    ))\n  });\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 4421503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa14f6465fd071fd541ea0537ea2cde6?s=128&d=identicon&r=PG", "display_name": "Jeremy Yip", "link": "https://stackoverflow.com/users/4421503/jeremy-yip"}, "is_accepted": false, "score": 0, "last_activity_date": 1533708154, "creation_date": 1533708154, "answer_id": 51739576, "question_id": 51739285, "link": "https://stackoverflow.com/questions/51739285/react-js-state-that-references-other-state-property/51739576#51739576", "title": "React JS state that references other state property", "body": "<p>In the first snippet of code, you have:</p>\n\n<pre><code>this.state = {\n  products: productData,\n  listItems: this.state.products.map(product =&gt; (\n    &lt;Product key={product.name.toString()} product={product} /&gt;\n  ))\n};\n</code></pre>\n\n<p>At that point, <code>this.state</code> is <code>undefined</code> and is in the process of being assigned a value. The subsequent self-referential call <code>this.state.products</code> is trying to find a products attribute on <code>this.state</code>, which is <code>undefined</code>.</p>\n\n<p>In the second snippet of code, you have:</p>\n\n<pre><code>this.state = {\n  products: productData,\n  listItems: this.products.map(product =&gt; (\n    &lt;Product key={product.name.toString()} product={product} /&gt;\n  ))\n};\n</code></pre>\n\n<p>For <code>this.products</code>, is a reference to the products attribute on an instance ProductList, which also does not exist.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport productData from \"./model\";\nimport Product from \"./Product\";\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: productData\n    };\n  }\n\n  addProduct = product =&gt; {\n    const { products } = this.state;\n\n    this.setState({\n      products: [...products, product]\n    });\n  };\n\n  render() {\n    const { products } = this.state;\n\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          {products.map(product =&gt; (\n            &lt;Product key={product.name.toString()} product={product} /&gt;\n          ))}\n        &lt;/ul&gt;\n        &lt;button\n          onClick={e =&gt; this.addProduct({ name: \"some product\", price: 54 })}\n        &gt;\n          Add Product\n        &lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default ProductList;\n</code></pre>\n\n<p>As a general rule of thumb, state should hold the data model for your view. The html we generate, like <code>&lt;Product /&gt;</code>, should be a result of state and props, and should live in the render function.</p>\n"}], "owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 51739323, "answer_count": 2, "score": 0, "last_activity_date": 1533710424, "creation_date": 1533706725, "question_id": 51739285, "link": "https://stackoverflow.com/questions/51739285/react-js-state-that-references-other-state-property", "title": "React JS state that references other state property", "body": "<p>I want to have a component with a list of products and a list of listItems which renders each product, but it is giving me the error:</p>\n\n<pre><code>TypeError: Cannot read property 'products' of undefined\nnew ProductList\nsrc/components/products/ProductList.js:11\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport productData from \"./model\";\nimport Product from \"./Product\"\n\nclass ProductList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: productData,\n      listItems: this.state.products.map(product =&gt; (\n        &lt;Product key={product.name.toString()} product={product} /&gt;\n      ))\n    };\n  }\n\n  addProduct = (product) =&gt; {\n    this.state.products.push(product);\n    this.setState({\n      products: this.state.products\n    });\n  };\n\n  render() {\n    return (\n        &lt;div&gt;\n        &lt;ul&gt;{this.state.listItems}&lt;/ul&gt;\n        &lt;button onClick={e =&gt; this.addProduct({name: \"some product\", price: 54})}&gt;Add Product&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default ProductList;\n</code></pre>\n\n<p>model.js:</p>\n\n<pre><code>interface Product {\n  name: string;\n  price: number;\n}\n\nlet productData: Array&lt;Product&gt; = [\n  { name: \"Sledgehammer\", price: 125.75 },\n  { name: \"Axe\", price: 190.5 },\n  { name: \"Bandsaw\", price: 562.13 },\n  { name: \"Chisel\", price: 12.9 },\n  { name: \"Hacksaw\", price: 18.45 }\n];\n\nexport default productData\n</code></pre>\n\n<p>When I change to:</p>\n\n<pre><code>  listItems: this.products.map(product =&gt; (\n    &lt;Product key={product.name.toString()} product={product} /&gt;\n  ))\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>TypeError: Cannot read property 'map' of undefined\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["json", "angular", "typescript", "firebase", "firebase-realtime-database"], "answers": [{"comments": [{"owner": {"reputation": 3849, "user_id": 4650969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/--S24vwJjcPU/AAAAAAAAAAI/AAAAAAAAAdA/ZMh1tx27y1A/photo.jpg?sz=128", "display_name": "Midhilaj", "link": "https://stackoverflow.com/users/4650969/midhilaj"}, "edited": false, "score": 0, "creation_date": 1533706814, "post_id": 51739210, "comment_id": 90438661, "body": "How to get -LJ2PhylTGjo1Li6QxP4 ?  I tried values[i].value1[j].key but it is undefined"}, {"owner": {"reputation": 3096, "user_id": 2470364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m9uIu.jpg?s=128&g=1", "display_name": "Sujata Chanda", "link": "https://stackoverflow.com/users/2470364/sujata-chanda"}, "reply_to_user": {"reputation": 3849, "user_id": 4650969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/--S24vwJjcPU/AAAAAAAAAAI/AAAAAAAAAdA/ZMh1tx27y1A/photo.jpg?sz=128", "display_name": "Midhilaj", "link": "https://stackoverflow.com/users/4650969/midhilaj"}, "edited": false, "score": 1, "creation_date": 1533707003, "post_id": 51739210, "comment_id": 90438730, "body": "Here <code>j</code> is  <code>-LJ2PhylTGjo1Li6QxP4</code>"}], "tags": [], "owner": {"reputation": 3096, "user_id": 2470364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m9uIu.jpg?s=128&g=1", "display_name": "Sujata Chanda", "link": "https://stackoverflow.com/users/2470364/sujata-chanda"}, "is_accepted": true, "score": 2, "last_activity_date": 1533706330, "creation_date": 1533706330, "answer_id": 51739210, "question_id": 51739123, "link": "https://stackoverflow.com/questions/51739123/unable-to-process-date-from-firebase-in-angular-6/51739210#51739210", "title": "Unable to process date from firebase in angular 6", "body": "<p>Use <code>for in loop</code> as it is a Object:</p>\n\n<pre><code>for (var j in values[i].value1) {\n    console.log(values[i].value1[j].dtime.fullDetails)\n} \n</code></pre>\n"}], "owner": {"reputation": 3849, "user_id": 4650969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/--S24vwJjcPU/AAAAAAAAAAI/AAAAAAAAAdA/ZMh1tx27y1A/photo.jpg?sz=128", "display_name": "Midhilaj", "link": "https://stackoverflow.com/users/4650969/midhilaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 51739210, "answer_count": 1, "score": -1, "last_activity_date": 1533732703, "creation_date": 1533705827, "last_edit_date": 1533732703, "question_id": 51739123, "link": "https://stackoverflow.com/questions/51739123/unable-to-process-date-from-firebase-in-angular-6", "title": "Unable to process date from firebase in angular 6", "body": "<pre><code> this.qS = this.afDatabase.list('path', ref =&gt; {\n    return ref.limitToLast(1000);\n  }).snapshotChanges().map(changes =&gt; {\n    return changes.map(c =&gt; ({ key1: c.payload.key,value1:c.payload.val() }));\n  });\n  this.qS.subscribe(values =&gt; {\n    let count: number = Object.keys((values)).length;\n    for(let i=0;i&lt;count;i++){\n           let const2:number=Object.keys(values[i].value1).length;  // is 3\n           for(let j=0;j&lt;const2;j++){\n              console.log( values[i].value1[j]);//this line gives undefined why and How to get value from this?\n            }\n    }\n  });\n</code></pre>\n\n<p>values[i].value1 =>[object Object]</p>\n\n<pre><code>JSON.stringify(values[i].value1)=&gt;\n    {\"-LJ2PhylTGjo1Li6QxP4\":{\"dtime\":{\"befor_\":0,\"dates\":\"04-Aug-2018\",\"from_t\":14,\"fullDetails\":\"Between 2 PM to 6 PM on 7-08-2018\",\"id\":1,\"mDay\":\"7\",\"mMonth\":\"08\",\"mYear\":\"2018\",\"to_t\":18,\"weak\":2},\"lan\":0,\"lon\":0},\"-LJ2PtF3X9OaH-5Lv982\":{\"dtime\":{\"befor_\":0,\"dates\":\"04-Aug-2018\",\"from_t\":14,\"fullDetails\":\"Between 2 PM to 6 PM on 7-08-2018\",\"id\":1,\"mDay\":\"7\",\"mMonth\":\"08\",\"mYear\":\"2018\",\"to_t\":18,\"weak\":2},\"lan\":0,\"lon\":0},\"-LJIQjbtU7Ryz-gUcxRF\":{\"dtime\":{\"befor_\":0,\"dates\":\"07-Aug-2018\",\"from_t\":14,\"fullDetails\":\"Between 2 PM to 6 PM on 8-08-2018\",\"id\":1,\"mDay\":\"8\",\"mMonth\":\"08\",\"mYear\":\"2018\",\"timestampCreated\":{\"timestamp\":1533629365655},\"to_t\":18,\"weak\":3},\"lan\":0,\"lon\":0}}\n</code></pre>\n\n<p>Now we need to read fullDetails date from above string . How to do it in typescript ?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 495, "user_id": 8849056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a5d65c5b5cf91eea9914f3baf4a1901?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavya Sanchaniya", "link": "https://stackoverflow.com/users/8849056/bhavya-sanchaniya"}, "edited": false, "score": 0, "creation_date": 1533705871, "post_id": 51739097, "comment_id": 90438355, "body": "you can define the base url in index.html and other thing is you can provide full path in index.html eg. C/xampp/folder/dist/"}], "answers": [{"tags": [], "owner": {"reputation": 1801, "user_id": 3358570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3cd52d2f7255b75e59e16a61edf9c986?s=128&d=identicon&r=PG", "display_name": "Talha Junaid", "link": "https://stackoverflow.com/users/3358570/talha-junaid"}, "is_accepted": true, "score": 3, "last_activity_date": 1533706578, "creation_date": 1533706578, "answer_id": 51739261, "question_id": 51739097, "link": "https://stackoverflow.com/questions/51739097/angular-6-production-build-throwing-syntax-errors/51739261#51739261", "title": "Angular 6 production build throwing Syntax Errors", "body": "<p>By default <code>baseUrl</code> is <code>/</code> hence it starts looking for resources in the root folder. \nYou have two possible solutions.</p>\n\n<ol>\n<li>Deploy angular application in the root folder.</li>\n<li><p>Specify the base URL. you can specify base URL in <code>index.html</code> manually as \nin <code>head</code> tag\n<code>&lt;base href=\"dist/\"&gt;</code>\nOr you can specify it on the time of building angular-cli has a builtin switch <code>--base-href</code></p>\n\n<p>E.g: \n<code>ng build --prod --base-href /dist/</code></p>\n\n<p>For more information refer to angular-cli <a href=\"https://github.com/angular/angular-cli/wiki/build\" rel=\"nofollow noreferrer\">documentation</a></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1801, "user_id": 3358570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3cd52d2f7255b75e59e16a61edf9c986?s=128&d=identicon&r=PG", "display_name": "Talha Junaid", "link": "https://stackoverflow.com/users/3358570/talha-junaid"}, "edited": false, "score": 1, "creation_date": 1533718172, "post_id": 51739830, "comment_id": 90444727, "body": "In this way, dev build will also be running with <code>&quot;baseHref&quot;: &quot;&#47;dist&#47;&quot;</code> is there a way to specify it in only for production configurations?"}, {"owner": {"reputation": 91, "user_id": 3431443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTlO.jpg?s=128&g=1", "display_name": "Charles Zhao", "link": "https://stackoverflow.com/users/3431443/charles-zhao"}, "reply_to_user": {"reputation": 1801, "user_id": 3358570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3cd52d2f7255b75e59e16a61edf9c986?s=128&d=identicon&r=PG", "display_name": "Talha Junaid", "link": "https://stackoverflow.com/users/3358570/talha-junaid"}, "edited": false, "score": 1, "creation_date": 1533722894, "post_id": 51739830, "comment_id": 90447830, "body": "Isn&#39;t it a good practice to keep dev and prod environment consistent, so that you don&#39;t need to worry about something works in dev but not in prod?"}], "tags": [], "owner": {"reputation": 91, "user_id": 3431443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTlO.jpg?s=128&g=1", "display_name": "Charles Zhao", "link": "https://stackoverflow.com/users/3431443/charles-zhao"}, "is_accepted": false, "score": 2, "last_activity_date": 1533709358, "creation_date": 1533709358, "answer_id": 51739830, "question_id": 51739097, "link": "https://stackoverflow.com/questions/51739097/angular-6-production-build-throwing-syntax-errors/51739830#51739830", "title": "Angular 6 production build throwing Syntax Errors", "body": "<p>In Angular 6, you can specify the baseHref and deployUrl in \"angular.json\" config.</p>\n\n<pre><code>\n\n    {\n      ...\n      \"projects\": {\n        \"project-name\": {\n          ...\n          \"architect\": {\n            \"build\": {\n              \"options\": {\n                \"baseHref\": \"/dist/\",\n                \"deployUrl\": \"/dist\",\n                ...\n              }\n            }\n          }\n        }\n      }\n    }\n\n</code></pre>\n\n<p>In this way, you don't have to modify your index.html and also don't need to input extra params in command line to build your app.</p>\n"}, {"tags": [], "owner": {"reputation": 792, "user_id": 1976450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63682ea4ecf8dba98e02b584360dcb1f?s=128&d=identicon&r=PG", "display_name": "Kyaw Zin Htun", "link": "https://stackoverflow.com/users/1976450/kyaw-zin-htun"}, "is_accepted": false, "score": 0, "last_activity_date": 1546944689, "creation_date": 1546944689, "answer_id": 54090233, "question_id": 51739097, "link": "https://stackoverflow.com/questions/51739097/angular-6-production-build-throwing-syntax-errors/54090233#54090233", "title": "Angular 6 production build throwing Syntax Errors", "body": "<p>1) ng build --prod</p>\n\n<p>2) index.html should be like that.</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;App&lt;/title&gt;\n  &lt;base href=\"\"&gt;\n\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>3) Copy from dist folder and you can put any server and run.</p>\n\n<p>4) To view result call like eg. <a href=\"http://localhost:80/app\" rel=\"nofollow noreferrer\">http://localhost:80/app</a></p>\n"}], "owner": {"reputation": 1742, "user_id": 9810480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/82mm4.jpg?s=128&g=1", "display_name": "Jignesh Mistry", "link": "https://stackoverflow.com/users/9810480/jignesh-mistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "accepted_answer_id": 51739261, "answer_count": 3, "score": 1, "last_activity_date": 1546944689, "creation_date": 1533705681, "last_edit_date": 1533715410, "question_id": 51739097, "link": "https://stackoverflow.com/questions/51739097/angular-6-production-build-throwing-syntax-errors", "title": "Angular 6 production build throwing Syntax Errors", "body": "<p>I have a project that runs fine &amp; also when I ran the command <code>ng build--prod</code> it complies successfully &amp; I get the dist folder in my project. Now I have xammp installed on my machine so I copied that folder &amp; pasted in the <code>htdocs</code> folder. So now I can access that folder as localhost/dist but the app throws the below errors &amp; app is not running. Can any one tell me whats the problem exactly.</p>\n\n<pre><code>   GET http://localhost/styles.34c57ab7888ec1573f9c.css 404 (Not Found)\n   GET http://localhost/main.d3384476e7e827a9f05c.js 404 (Not Found)\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 953, "user_id": 5917663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qsJWZ8qlT9w/AAAAAAAAAAI/AAAAAAAAABg/BY6rbVqjAV4/photo.jpg?sz=128", "display_name": "Sujatha Girijala", "link": "https://stackoverflow.com/users/5917663/sujatha-girijala"}, "edited": false, "score": 0, "creation_date": 1533726214, "post_id": 51738454, "comment_id": 90449775, "body": "Instead of .js file why cant  you use that file as a service component? then that .js function will invoke"}, {"owner": {"reputation": 724, "user_id": 412490, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ce8eae43547afd17d1c70d079fe520d?s=128&d=identicon&r=PG", "display_name": "Renari", "link": "https://stackoverflow.com/users/412490/renari"}, "reply_to_user": {"reputation": 953, "user_id": 5917663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qsJWZ8qlT9w/AAAAAAAAAAI/AAAAAAAAABg/BY6rbVqjAV4/photo.jpg?sz=128", "display_name": "Sujatha Girijala", "link": "https://stackoverflow.com/users/5917663/sujatha-girijala"}, "edited": false, "score": 0, "creation_date": 1533758268, "post_id": 51738454, "comment_id": 90468983, "body": "I&#39;m not sure what you mean by that, for now I&#39;ve used <code>require(&#39;..&#47;..&#47;..&#47;common&#47;test.js&#39;)</code> to avoid the issue. But this makes it ignore typescript bindings, so I don&#39;t think it&#39;s a solution."}], "owner": {"reputation": 724, "user_id": 412490, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ce8eae43547afd17d1c70d079fe520d?s=128&d=identicon&r=PG", "display_name": "Renari", "link": "https://stackoverflow.com/users/412490/renari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533701050, "creation_date": 1533701050, "question_id": 51738454, "link": "https://stackoverflow.com/questions/51738454/how-to-import-a-relative-component-with-custom-type-bindings", "title": "How to import a relative component with custom type bindings", "body": "<p>So I have a project file path set like so:</p>\n\n<pre><code>app\n  - src\n    - views\n      - mypage.vue\n  - tsconfig.json\ncommon\n  - types\n      - test.d.ts\n  - test.js\n</code></pre>\n\n<p>However when I try to do an import of my test.js file like the following (in mypage.vue) I get the following errors based on how I implement the import.</p>\n\n<p><strong>Attempt 1:</strong></p>\n\n<p>import:</p>\n\n<pre><code>import * as test from '../../../common/test'\n</code></pre>\n\n<p>test.d.ts</p>\n\n<pre><code>declare module 'test' { ... }\n</code></pre>\n\n<p>Result:\n<code>cannot find declaration file for ../../../common/test</code></p>\n\n<p><strong>Attempt 2:</strong></p>\n\n<p>import:</p>\n\n<pre><code>import * as test from '../../../common/test'\n</code></pre>\n\n<p>test.d.ts</p>\n\n<pre><code>declare module '../../../common/test' { ... }\n</code></pre>\n\n<p>Result:\n<code>module declaration cannot specify relative module name</code></p>\n\n<p><strong>Attempt 3:</strong></p>\n\n<p>tsconfig.json</p>\n\n<pre><code>\"paths\": {\n    \"@common/*\": [\n        \"../common/*\"\n    ]\n}\n</code></pre>\n\n<p>import:</p>\n\n<pre><code>import * as test from '@common/test'\n</code></pre>\n\n<p>test.d.ts</p>\n\n<pre><code>declare module '@common/test' { ... }\n</code></pre>\n\n<p>Result:</p>\n\n<p><code>Failed to compile with 1 error\nThis dependency was not found:\n@common/test\nTo install it, you can run: npm install --save @common/test</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 671, "user_id": 4826172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90b81a03ef13305290e221b81af9c60d?s=128&d=identicon&r=PG", "display_name": "Immad Hamid", "link": "https://stackoverflow.com/users/4826172/immad-hamid"}, "edited": false, "score": 0, "creation_date": 1533700807, "post_id": 51738353, "comment_id": 90437112, "body": "You can store the data from each response even if they are asyn calls... Let me show you that in a while, give me 15 mins."}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 0, "creation_date": 1533701193, "post_id": 51738353, "comment_id": 90437183, "body": ".you can use redux"}, {"owner": {"reputation": 21, "user_id": 8762053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4fead9cb9e5682d1c7f10cffc721fcb?s=128&d=identicon&r=PG&f=1", "display_name": "brosej", "link": "https://stackoverflow.com/users/8762053/brosej"}, "edited": false, "score": 0, "creation_date": 1533701673, "post_id": 51738353, "comment_id": 90437270, "body": "I would very much apppreciate it"}], "answers": [{"tags": [], "owner": {"reputation": 872, "user_id": 3093598, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100001717193542/picture?type=large", "display_name": "ZearaeZ", "link": "https://stackoverflow.com/users/3093598/zearaez"}, "is_accepted": false, "score": 6, "last_activity_date": 1533701687, "creation_date": 1533701687, "answer_id": 51738508, "question_id": 51738353, "link": "https://stackoverflow.com/questions/51738353/how-to-handle-multiple-htttp-requests-on-angular-6/51738508#51738508", "title": "How to handle multiple htttp requests on Angular 6", "body": "<p>you can use forkjoin for handling multiple http request like this way using RxJs:</p>\n\n<pre><code>import { Observable } from 'rxjs/Rx';\nimport 'rxjs/add/observable/forkJoin';\n\ngetVehicles(): Observable&lt;any&gt; {\n  const user = this.http.get(USER_ENDPOINT).map(res =&gt; res.json());\n  const account = this.http.get(ACCOUNT_ENDPOINT).map(res =&gt; res.json());\n  const payment = this.http.get(PAYMENT_ENDPOINT).map(res =&gt; res.json());\n\n  return Observable.forkJoin([user, account, payment])\n     .map(responses =&gt; {\n        // responses[0] =&gt; user\n        // responses[1] =&gt; account\n        // responses[2] =&gt; payment\n     });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 671, "user_id": 4826172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90b81a03ef13305290e221b81af9c60d?s=128&d=identicon&r=PG", "display_name": "Immad Hamid", "link": "https://stackoverflow.com/users/4826172/immad-hamid"}, "is_accepted": false, "score": 1, "last_activity_date": 1535773476, "last_edit_date": 1592644375, "creation_date": 1533703270, "answer_id": 51738744, "question_id": 51738353, "link": "https://stackoverflow.com/questions/51738353/how-to-handle-multiple-htttp-requests-on-angular-6/51738744#51738744", "title": "How to handle multiple htttp requests on Angular 6", "body": "<p>Made this StackBlitz check this out:</p>\n<blockquote>\n<p><a href=\"https://stackblitz.com/edit/angular-async-calls-httpclient\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-async-calls-httpclient</a></p>\n<p><a href=\"https://angular-async-calls-httpclient.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-async-calls-httpclient.stackblitz.io</a> {Full Page View}</p>\n</blockquote>\n<p>Files you need to check:</p>\n<ul>\n<li>services &gt; http.service.ts {this contains the method for using GET\nrequest}</li>\n<li>services &gt; users.service.ts {this contains the methods}</li>\n<li>app.component.ts</li>\n</ul>\n<p>In app.component.ts file in ngOnInit you can see that I have async calls which I have made equivalent to some variable which I can now console or use in my template.</p>\n"}], "owner": {"reputation": 21, "user_id": 8762053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4fead9cb9e5682d1c7f10cffc721fcb?s=128&d=identicon&r=PG&f=1", "display_name": "brosej", "link": "https://stackoverflow.com/users/8762053/brosej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1535773476, "creation_date": 1533700085, "last_edit_date": 1533700607, "question_id": 51738353, "link": "https://stackoverflow.com/questions/51738353/how-to-handle-multiple-htttp-requests-on-angular-6", "title": "How to handle multiple htttp requests on Angular 6", "body": "<p>I have a function that attempts to make 3 requests chained together like this:</p>\n\n<pre><code>showProfileDetails() {\n  this.getUserInfo(this.currentUser.id).pipe(\n    mergeMap(e =&gt;\n      this.getAccounts(this.currentUser.id)\n    ),\n    mergeMap(e =&gt;\n      this.getPayments(this.currentUser.id)\n    )\n  ).subscribe(data =&gt;\n    console.log('first attempt on observables: ', data)\n  )\n}\n</code></pre>\n\n<p>What  I want to do is retreive the data from every call synchronously and store it in a variable so I can then render the data in the DOM.</p>\n\n<p>But all I'm getting is the data from the last call, which btw returns an error, how could I handle this error without stopping this process? thanks in advance, I'm new to Angular.</p>\n"}, {"tags": ["typescript", "npm", "publishing", "commonjs", "typescript-declarations"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10194742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MECRoVLakHQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pxtGN24Ho7S4MDxXpWWZRIBGqulQ/mo/photo.jpg?sz=128", "display_name": "Sinclair", "link": "https://stackoverflow.com/users/10194742/sinclair"}, "edited": false, "score": 0, "creation_date": 1533706332, "post_id": 51739114, "comment_id": 90438493, "body": "great thanks. Will take a look at typestyle as a basis. We seemed to have difficulty having TypeScript resolve the &quot;@scope/module&quot; scheme (at least seemed to be trying to resolve only at a &quot;node_modules/module&quot; level. The scoped modules seemed to have difficulty resolving into the scope.  Will take a look and report back."}, {"owner": {"reputation": 3, "user_id": 10194742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MECRoVLakHQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pxtGN24Ho7S4MDxXpWWZRIBGqulQ/mo/photo.jpg?sz=128", "display_name": "Sinclair", "link": "https://stackoverflow.com/users/10194742/sinclair"}, "edited": false, "score": 0, "creation_date": 1533723821, "post_id": 51739114, "comment_id": 90448354, "body": "Thanks again basarat. Yes, I was not aware TypeScript was able to resolve ambient module declarations without the explicit need to have them quoted as such. Seems scoped modules work fine now. I appreciate your help !"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1533705774, "creation_date": 1533705774, "answer_id": 51739114, "question_id": 51737957, "link": "https://stackoverflow.com/questions/51737957/typescript-compile-ambient-module-declarations-for-publishing-to-npm/51739114#51739114", "title": "Typescript: Compile ambient module declarations for publishing to NPM", "body": "<blockquote>\n  <p>The following is the idealized output we would like to generate from the typescript compiler.</p>\n</blockquote>\n\n<p>You don't need to do that (or at least you haven't provided a use case for it). </p>\n\n<p>Your output folder e.g. <code>/module/bar</code> should look like: </p>\n\n<ul>\n<li><code>index.js</code> &lt; generated <code>.js</code> for <code>/module/bar.ts</code></li>\n<li><code>index.d.ts</code> &lt; generated <code>.d.ts</code> for <code>/module/bar.ts</code></li>\n</ul>\n\n<p>And when users require <code>@company/module/bar</code> <em>runtime</em> resolves to <code>.js</code> and TypeScript type system resolves to <code>.d.ts</code> automatically. </p>\n\n<h1>Examples</h1>\n\n<ul>\n<li>Vast number of TypeScript npm modules out there. Here is <a href=\"https://github.com/typestyle/typestyle\" rel=\"nofollow noreferrer\">one of mine</a>.</li>\n<li><a href=\"https://basarat.gitbooks.io/typescript/docs/quick/nodejs.html\" rel=\"nofollow noreferrer\">NodeJS quickstart</a></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 10194742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MECRoVLakHQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pxtGN24Ho7S4MDxXpWWZRIBGqulQ/mo/photo.jpg?sz=128", "display_name": "Sinclair", "link": "https://stackoverflow.com/users/10194742/sinclair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 51739114, "answer_count": 1, "score": 0, "last_activity_date": 1533705774, "creation_date": 1533696661, "question_id": 51737957, "link": "https://stackoverflow.com/questions/51737957/typescript-compile-ambient-module-declarations-for-publishing-to-npm", "title": "Typescript: Compile ambient module declarations for publishing to NPM", "body": "<p>I am looking for suggestions to automatically have TypeScript compile node (commonjs) ambient module declarations for a npm package I am currently writing in TypeScript. I seem to be running into some problems with respect to understanding the appropriate way to have TypeScript generate ambient module declarations for node / commonjs.</p>\n\n<p>For some backstory, our module is currently published using scoped npm modules, so something like \"@company/module\". So one thing we note is that in order to have typescript be able to resolve the \"scoped\" module, it needs a fully qualified ambient module name \"@company/module\" declaration, and it is on the generation of named ambient modules, and indeed, the appropriate way to generate ambient modules declarations from the compiler that we are unsure about.</p>\n\n<p>Our module is setup not too disimilar to the following example.</p>\n\n<p><strong>TypeScript</strong></p>\n\n<p>The following code is compiled as index.js and bar.js respectively. </p>\n\n<pre><code>// ./bar.ts\nexport class Bar {} \n\n// ./index.ts\nimport { Bar } from \"./bar\"\n\nexport class Foo {\n   constructor(private bar: Bar) {}\n}\n</code></pre>\n\n<p><strong>TypeScript Declaration</strong></p>\n\n<p>The following is the idealized output we would like to generate from the typescript compiler.</p>\n\n<pre><code>// ./index.d.ts\n\ndeclare module \"@company/module/bar\" {\n  export class Bar {}\n}\n\ndeclare module \"@company/foo\" {\n  import { Bar } from \"@company/module/bar\"\n  export class Foo {\n    constructor(private bar: Bar)\n  }\n}\n</code></pre>\n\n<p>There doesn't appear to be a concise / clear cut way to generate a the above declaration directly from TypeScript. However we have found a approach to work around this which is to.</p>\n\n<ol>\n<li>compile the declaration seperately using module: AMD - outFile (emits declaration bundle and \"ambient\" declarations) </li>\n<li>rewrite the compiled AMD declaration and prefix declare module with \"@company/module\" (inclusive of the import)</li>\n</ol>\n\n<p>There seem to be a couple of github issues on the TS repository around generating bundled declarations in this fashion, but they seem to be long standing issues, these are referenced below.</p>\n\n<p>Package declaration file for commonjs packages - (seems perfect)\n<a href=\"https://github.com/Microsoft/TypeScript/pull/3159\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/pull/3159</a></p>\n\n<p>Proposal: Bundling TS module type definitions\n<a href=\"https://github.com/Microsoft/TypeScript/issues/4434\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/4434</a></p>\n\n<p>Am looking for others experiences with npm declaration publishing of TypeScript libraries to NPM. Open to all suggestions!</p>\n\n<p>Many Thanks</p>\n"}, {"tags": ["typescript", "highcharts"], "comments": [{"owner": {"reputation": 1069, "user_id": 2557919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e30654c86a8784810f0ef72834a283d?s=128&d=identicon&r=PG", "display_name": "Oswald", "link": "https://stackoverflow.com/users/2557919/oswald"}, "edited": false, "score": 0, "creation_date": 1571303609, "post_id": 51737868, "comment_id": 103198894, "body": "are any news? solutions?"}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533696969, "creation_date": 1533696969, "answer_id": 51738005, "question_id": 51737868, "link": "https://stackoverflow.com/questions/51737868/in-typescript-how-do-i-work-out-the-proper-type-for-this/51738005#51738005", "title": "In TypeScript, how do I work out the proper type for &#39;this&#39;?", "body": "<p>Fortunately, <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/2025fc00e63ca97fed52107237fd4d56bca0e392/types/highcharts/index.d.ts#L5849\" rel=\"nofollow noreferrer\">this documentation comment</a> has a list of all the members that are guaranteed to exist on <code>this</code>.  (If there were no documentation, you could always <code>console.log(this)</code> from your function and look at what's there.)  In essence, you'd have to write a TypeScript interface that declares all of the members with the proper types:</p>\n\n<pre><code>interface TooltipFormatterContext {\n    percentage: number;  // Is this correct?\n    // ...\n}\n</code></pre>\n\n<p>and then use this interface as your <code>this</code> type.  If you want to properly represent shared vs. non-shared tooltips, you'd need two different interfaces similar to the current <code>TooltipOptions</code> that fix <code>shared</code> to <code>false</code> and <code>true</code> respectively and have the corresponding <code>this</code> types for the formatter, and then you'd define <code>TooltipOptions</code> as a union type of the two interfaces.</p>\n"}, {"tags": [], "owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1533697529, "creation_date": 1533697529, "answer_id": 51738072, "question_id": 51737868, "link": "https://stackoverflow.com/questions/51737868/in-typescript-how-do-i-work-out-the-proper-type-for-this/51738072#51738072", "title": "In TypeScript, how do I work out the proper type for &#39;this&#39;?", "body": "<p>The problem with working out the type of this with these function calls is that the third-party api can bind whatever object it wants to it.</p>\n\n<pre><code>tooltip.formatter.bind(someHighChartsObject);\ntooltip.formatter(); // this refers to someHighChartsObject\ntooltip.formatter.bind(someOtherHighChartsObject);\ntooltip.formatter(); // this refers to someOtherHighChartsObject\n</code></pre>\n\n<p>Inside of the function, it's a bit difficult to specify the type of this as it could be anything including one not defined by their documentation. In your specific case, it should be of type <code>Highcharts.PointObject</code> or <code>Highcharts.ChartObject</code> which you could technically specify with the following:</p>\n\n<pre><code>const that: Highcharts.PointObject = this;\nthat.series.name;\n</code></pre>\n\n<p>Issues:</p>\n\n<ul>\n<li>It's not possible to redefine the type of <code>this</code> so you're cloning the object just to get stronger typing.</li>\n<li>If there's no documentation, or they use an undocumented type, you have to inspect <code>this</code> and write your own interface.</li>\n</ul>\n\n<p><strong>TL;DR</strong></p>\n\n<p>It's not possible to simply add in stronger typing to the <code>this</code> object in an function that is called by third-party code.</p>\n"}], "owner": {"reputation": 17824, "user_id": 1011816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5138b8dca30c0665f7f3140c79ea90bf?s=128&d=identicon&r=PG", "display_name": "Hoa", "link": "https://stackoverflow.com/users/1011816/hoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1533724455, "creation_date": 1533695851, "question_id": 51737868, "link": "https://stackoverflow.com/questions/51737868/in-typescript-how-do-i-work-out-the-proper-type-for-this", "title": "In TypeScript, how do I work out the proper type for &#39;this&#39;?", "body": "<p>At the moment, my example is from the Highcharts library, but I'm asking the general question because I'd like to know how to solve this for any library.</p>\n\n<p>My code snippet is as follows:</p>\n\n<pre><code>tooltip: {\n            formatter: function () {\n                return this.series.name + \",\" + this.point.y;\n            }\n        },\n</code></pre>\n\n<p>I'd like to work out the proper type for 'this'.</p>\n\n<p>I've started by looking at the definition file:</p>\n\n<p><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/highcharts/index.d.ts\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/highcharts/index.d.ts</a></p>\n\n<p>The relevant code seems to be as follows:</p>\n\n<pre><code>interface TooltipOptions extends SeriesTooltipOptions {\n\n...\n\nformatter?(): boolean | string;\n...\n}\n</code></pre>\n\n<p>Here, I get a little stuck. I've tried modifying the code to:</p>\n\n<pre><code>tooltip: {\n            formatter: function (this: Highcharts.TooltipOptions) {\n                return this.series.name + \",\" + this.point.y;\n            }\n        },\n</code></pre>\n\n<p>but that doesn't work.</p>\n\n<p>What am I doing wrong and how do I work out the correct type?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 10008988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hcy7cutg5Pw/AAAAAAAAAAI/AAAAAAAAAYE/lXzLo8PuPyI/photo.jpg?sz=128", "display_name": "Rona Cecilia Abayata", "link": "https://stackoverflow.com/users/10008988/rona-cecilia-abayata"}, "edited": false, "score": 0, "creation_date": 1533696218, "post_id": 51737876, "comment_id": 90436224, "body": "i deleted it the next error is the promise string in this line \tthis.sqlitePorter.importSqlToDb(this.database, sql) it highlighted sql."}, {"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "reply_to_user": {"reputation": 85, "user_id": 10008988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hcy7cutg5Pw/AAAAAAAAAAI/AAAAAAAAAYE/lXzLo8PuPyI/photo.jpg?sz=128", "display_name": "Rona Cecilia Abayata", "link": "https://stackoverflow.com/users/10008988/rona-cecilia-abayata"}, "edited": false, "score": 0, "creation_date": 1533696786, "post_id": 51737876, "comment_id": 90436334, "body": "@RonaCeciliaAbayata, I updated my answer. Your <code>get</code> call should specify the return type of the object, which in this case is <code>string</code>, otherwise it gets defaulted to be <code>object</code>."}, {"owner": {"reputation": 85, "user_id": 10008988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hcy7cutg5Pw/AAAAAAAAAAI/AAAAAAAAAYE/lXzLo8PuPyI/photo.jpg?sz=128", "display_name": "Rona Cecilia Abayata", "link": "https://stackoverflow.com/users/10008988/rona-cecilia-abayata"}, "edited": false, "score": 0, "creation_date": 1533697153, "post_id": 51737876, "comment_id": 90436415, "body": "thank you. the first error was solved. now my problem is with this line, this.sqlitePorter.importSqlToDb(this.database, sql) it returns this error (Typescript Error Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;string&#39;.)"}, {"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "reply_to_user": {"reputation": 85, "user_id": 10008988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hcy7cutg5Pw/AAAAAAAAAAI/AAAAAAAAAYE/lXzLo8PuPyI/photo.jpg?sz=128", "display_name": "Rona Cecilia Abayata", "link": "https://stackoverflow.com/users/10008988/rona-cecilia-abayata"}, "edited": false, "score": 0, "creation_date": 1533697728, "post_id": 51737876, "comment_id": 90436512, "body": "Did you update your call to be <code>this.http.get&lt;string&gt;</code>? If this didn&#39;t work, which it should have, update your subscribe line to be <code>.subscribe((sql: string) =&gt; {</code>"}, {"owner": {"reputation": 85, "user_id": 10008988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hcy7cutg5Pw/AAAAAAAAAAI/AAAAAAAAAYE/lXzLo8PuPyI/photo.jpg?sz=128", "display_name": "Rona Cecilia Abayata", "link": "https://stackoverflow.com/users/10008988/rona-cecilia-abayata"}, "edited": false, "score": 0, "creation_date": 1533697991, "post_id": 51737876, "comment_id": 90436564, "body": "thank you so much. it did not return an error anymore."}], "tags": [], "owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1533696719, "last_edit_date": 1533696719, "creation_date": 1533695929, "answer_id": 51737876, "question_id": 51737811, "link": "https://stackoverflow.com/questions/51737811/typescript-error-property-text-does-not-exist-on-type-object/51737876#51737876", "title": "Typescript Error Property &#39;text&#39; does not exist on type &#39;Object&#39;", "body": "<p>With <code>HttpClient</code>, you no longer need to map the result of a <code>Http</code> call as it returns the result by default rather than the response object. If the result of your http call is already a string then just remove the <code>.map</code> line. i.e.</p>\n\n<pre><code>fillDatabase(){\n    this.http.get&lt;string&gt;('assets/test.sql')\n    .subscribe(sql =&gt; { \n        this.sqlitePorter.importSqlToDb(this.database, sql)\n        .then(data =&gt; {\n            this.dbReady.next(true);\n            this.storage.set('database_filled', true);\n        })\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 10008988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hcy7cutg5Pw/AAAAAAAAAAI/AAAAAAAAAYE/lXzLo8PuPyI/photo.jpg?sz=128", "display_name": "Rona Cecilia Abayata", "link": "https://stackoverflow.com/users/10008988/rona-cecilia-abayata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533709343, "creation_date": 1533695365, "last_edit_date": 1533709343, "question_id": 51737811, "link": "https://stackoverflow.com/questions/51737811/typescript-error-property-text-does-not-exist-on-type-object", "title": "Typescript Error Property &#39;text&#39; does not exist on type &#39;Object&#39;", "body": "<p>I am editing in the database and there was a typescript error 2339\nHere is the code</p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Platform } from 'ionic-angular';\nimport { SQLite, SQLiteObject} from '@ionic-native/sqlite'; \nimport { SQLitePorter } from '@ionic-native/sqlite-porter'\nimport { BehaviorSubject } from 'rxjs/Rx';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the DatabaseProvider provider.\n\n      See https://angular.io/guide/dependency-injection for more info on                     \nproviders\n  and Angular DI.\n*/\n@Injectable()\nexport class DatabaseProvider {\n    database: SQLiteObject;\n    private dbReady: BehaviorSubject&lt;boolean&gt;;\n\n  constructor(public http: HttpClient, private sqlitePorter: SQLitePorter,             private storage: Storage, private sqlite: SQLite, private platform: Platform)     \n{\n    this.dbReady = new BehaviorSubject(false);\n    this.platform.ready().then(() =&gt; {\n        this.sqlite.create({\n            name: 'assessment.db',\n            location: 'default'\n        })\n        .then((db:SQLiteObject) =&gt; {\n            this.database = db;\n            this.storage.get('database_filled').then(val =&gt; {\n                if(val){\n                    this.dbReady.next(true);\n                }\n                else{\n                    this.fillDatabase();\n                }\n            })\n        });\n    });  \n}\n\nfillDatabase(){\n    this.http.get('assets/test.sql')\n    .map (res =&gt; res.text())\n    .subscribe(sql =&gt; { \n        this.sqlitePorter.importSqlToDb(this.database, sql)\n        .then(data =&gt; {\n            this.dbReady.next(true);\n            this.storage.set('database_filled', true);\n        })\n    });\n}\n\n  getDatabaseState(){\n    return this.dbReady.asObservable();\n  }\n\n}\n</code></pre>\n\n<p>.map (res => res.text()) this part returns an error. I have tried to alter this and made it .map ((res: Response) => res.text()) then another error would prompt and that is in the line this.sqlitePorter.importSqlToDb(this.database, sql) the error is \" Argument of type Promise is not assignable to parameter of type .</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533698025, "post_id": 51737749, "comment_id": 90436569, "body": "This could happen if your <code>.d.ts</code> file has a <code>.ts</code> file alongside it with the same name (causing it to be ignored) or if it contains an import or export (causing it to be treated as an external module).  If that isn&#39;t it, I don&#39;t know what the problem is and you may have to minimize the example yourself by deleting files until either the problem goes away or you are left with nothing confidential and can publish the source tree."}, {"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533700766, "post_id": 51737749, "comment_id": 90437101, "body": "Turns out all i needed to do was close and reopen VS Code. FML."}], "owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533696399, "creation_date": 1533694788, "last_edit_date": 1533696399, "question_id": 51737749, "link": "https://stackoverflow.com/questions/51737749/cannot-find-namespace-when-declaring-a-module", "title": "Cannot find namespace when declaring a module", "body": "<p>In my React/TS project I have declared a module to hold some definitions in a <code>d.ts</code> File</p>\n\n<pre><code>declare module myapp.booksdirectory {\n    interface IData {\n        BookName: string;\n    }\n}\n</code></pre>\n\n<p>But everytime I reference it in a tsx file like <code>myapp.booksdirectory.IData</code> I get an error saying <code>[ts] Cannot find namespace 'myapp'</code>.</p>\n\n<p>Here's my tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./dist/\",\n        \"sourceMap\": false,\n        \"noImplicitAny\": true,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": true,\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"jsx\": \"react\",\n        \"moduleResolution\": \"node\", \n        \"declaration\": false,\n        \"lib\": [\n            \"es5\", \n            \"dom\"\n        ]\n    },\n    \"include\": [\n        \"./src/**/*\",\n        \"./Typings/**/*\"\n    ]\n}\n</code></pre>\n\n<p>Note that my <code>d.ts</code> file sits inside the <code>Typings</code> folder.</p>\n"}, {"tags": ["reactjs", "typescript", "antd"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8283920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVqVh.jpg?s=128&g=1", "display_name": "\u5468\u661f\u661f", "link": "https://stackoverflow.com/users/8283920/%e5%91%a8%e6%98%9f%e6%98%9f"}, "is_accepted": false, "score": -2, "last_activity_date": 1533725407, "last_edit_date": 1533725407, "creation_date": 1533720545, "answer_id": 51743162, "question_id": 51737426, "link": "https://stackoverflow.com/questions/51737426/error-ts2430-interface-rcfile-incorrectly-extends-interface-file-in-antd/51743162#51743162", "title": "Error TS2430: Interface &#39;RcFile&#39; incorrectly extends interface &#39;File&#39; in antd", "body": "<p>open <code>C:\\Users\\SCC\\Desktop\\xxx\\web-shop\\node_modules\\antd\\lib\\upload\\interface.d.ts</code>, then delete the <strong>?</strong> behind <code>lastModifiedDate</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 10191403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6tUXM6Z2i-E/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qe2WVZBI6m-0BdXea4vlGooKlrZw/mo/photo.jpg?sz=128", "display_name": "cc shen", "link": "https://stackoverflow.com/users/10191403/cc-shen"}, "edited": false, "score": 0, "creation_date": 1534492247, "post_id": 51791826, "comment_id": 90732366, "body": "Sorry, this method is not allowed."}], "tags": [], "owner": {"reputation": 41, "user_id": 1266858, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MEoW9.jpg?s=128&g=1", "display_name": "Jiaye", "link": "https://stackoverflow.com/users/1266858/jiaye"}, "is_accepted": false, "score": 0, "last_activity_date": 1533924029, "creation_date": 1533924029, "answer_id": 51791826, "question_id": 51737426, "link": "https://stackoverflow.com/questions/51737426/error-ts2430-interface-rcfile-incorrectly-extends-interface-file-in-antd/51791826#51791826", "title": "Error TS2430: Interface &#39;RcFile&#39; incorrectly extends interface &#39;File&#39; in antd", "body": "<p>The antd library recently made a breaking change to its typings, and your version constraint auto updates to the latest version in the same major version, introducing the error. If you fix the antd version (remove the \"^\") and run <code>npm install</code> again you should be fine.</p>\n"}], "owner": {"reputation": 145, "user_id": 10191403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6tUXM6Z2i-E/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qe2WVZBI6m-0BdXea4vlGooKlrZw/mo/photo.jpg?sz=128", "display_name": "cc shen", "link": "https://stackoverflow.com/users/10191403/cc-shen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1533924029, "creation_date": 1533691771, "last_edit_date": 1533691883, "question_id": 51737426, "link": "https://stackoverflow.com/questions/51737426/error-ts2430-interface-rcfile-incorrectly-extends-interface-file-in-antd", "title": "Error TS2430: Interface &#39;RcFile&#39; incorrectly extends interface &#39;File&#39; in antd", "body": "<pre><code>C:\\Users\\SCC\\Desktop\\xxx\\web-shop\\node_modules\\antd\\lib\\upload\\interface.d.ts\n(6,18): error TS2430: Interface 'RcFile' incorrectly extends interface \n'File'.\n  Types of property 'lastModifiedDate' are incompatible.\n  Type 'Date | undefined' is not assignable to type 'Date'.\n  Type 'undefined' is not assignable to type 'Date'.\n</code></pre>\n\n<p>I pulled it down from git at home, and then ran, and I made a mistake.I don't know what the problem is,Can anyone help me\uff1fThanks\uff0cThe following is mine package.json file  </p>\n\n<pre><code>\"dependencies\": {\n\"antd\": \"^3.7.3\",\n\"less\": \"^3.8.0\",\n\"react\": \"^16.4.1\",\n\"react-dom\": \"^16.4.1\",\n\"react-router-dom\": \"^4.3.1\",\n\"react-scripts-ts\": \"2.16.0\"\n},\n\"devDependencies\": {\n\"@types/history\": \"^4.7.0\",\n\"@types/jest\": \"^23.3.0\",\n\"@types/react\": \"^16.4.7\",\n\"@types/react-dom\": \"^16.0.6\",\n\"@types/react-router-dom\": \"^4.3.0\",\n\"babel-preset-es2015\": \"^6.24.1\",\n\"babel-preset-react\": \"^6.24.1\",\n\"less-loader\": \"^4.1.0\",\n\"react-app-rewire-less\": \"^2.1.2\",\n\"react-app-rewired\": \"^1.5.2\",\n\"ts-import-plugin\": \"^1.5.4\",\n\"typescript\": \"^2.9.2\"\n},\n</code></pre>\n"}, {"tags": ["angular", "typescript", "animation", "scroll"], "comments": [{"owner": {"reputation": 3096, "user_id": 2470364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m9uIu.jpg?s=128&g=1", "display_name": "Sujata Chanda", "link": "https://stackoverflow.com/users/2470364/sujata-chanda"}, "edited": false, "score": 0, "creation_date": 1533708237, "post_id": 51737405, "comment_id": 90439209, "body": "Check: <a href=\"https://stackoverflow.com/questions/270612/scroll-to-bottom-of-div?noredirect=1&amp;lq=1\" title=\"scroll to bottom of div\">stackoverflow.com/questions/270612/&hellip;</a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user9410919"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1533691605, "creation_date": 1533691605, "question_id": 51737405, "link": "https://stackoverflow.com/questions/51737405/angular-scroll-div-to-bottom-on-load", "title": "Angular - Scroll div to bottom on load", "body": "<p>I have a div element in my View which has <code>overflow: scroll</code>. Basically sometimes the contents of that div might be too long. And since I want to contain it inside its' parent, I have added <code>overflow: scroll</code> to it.</p>\n\n<p>How can I trigger an animation which will scroll to the bottom of that div if there is overflow. I want to add an animation which would scroll from the top to the bottom of that div slowly, presenting to the user that this is scrollable and there is more info on it.</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1533691351, "post_id": 51737263, "comment_id": 90435321, "body": "why dont you call this inside constructor instead of ngOnInit"}, {"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "reply_to_user": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1533692837, "post_id": 51737263, "comment_id": 90435598, "body": "@VithuBati, it is bad Angular practice to do such things inside a constructor. A component constructor should handle nothing more than creating the class while things like retrieving data should be handled once the component has been initialised i.e. <code>OnInit</code>"}], "answers": [{"comments": [{"owner": {"reputation": 522, "user_id": 3283323, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa61fcb6b5a48523e48bd2dbfece120c?s=128&d=identicon&r=PG", "display_name": "Terence", "link": "https://stackoverflow.com/users/3283323/terence"}, "edited": false, "score": 1, "creation_date": 1533710650, "post_id": 51737471, "comment_id": 90440268, "body": "Very nice. This solved my problem. And yes, it is the asynchronous nature of the subscribe method. Thank you for bringing this."}], "tags": [], "owner": {"reputation": 2429, "user_id": 8946627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5N2d.jpg?s=128&g=1", "display_name": "JBoothUA", "link": "https://stackoverflow.com/users/8946627/jboothua"}, "is_accepted": true, "score": 1, "last_activity_date": 1533692209, "creation_date": 1533692209, "answer_id": 51737471, "question_id": 51737263, "link": "https://stackoverflow.com/questions/51737263/angular-6-create-dynamic-reactive-form-but-got-an-error-formgroup-expects-a-f/51737471#51737471", "title": "Angular 6: Create dynamic reactive form but got an Error: &quot;formGroup expects a FormGroup instance. Please pass one in&quot;", "body": "<p>I think it is a timing issue, and I think I know the fix..\nChange:</p>\n\n<pre><code>ngOnInit() {\n    this._employercuService.getEmployerCu().subscribe(data =&gt; {\n        this.cuList = data;\n    });\n    if (this.cuList) {\n        this.createForm(this.cuList);\n    }\n}\n</code></pre>\n\n<p>to this: </p>\n\n<pre><code> ngOnInit() {\n    this._employercuService.getEmployerCu().subscribe(data =&gt; {\n        this.cuList = data;\n        if (this.cuList) {\n            this.createForm(this.cuList);\n        }\n    });\n}\n</code></pre>\n\n<p>I believe that without that change the if statement is always hit before this.cuList is set and therefore this.createForm is never called.</p>\n\n<p>this is due to the async nature of the .subscribe() method.</p>\n\n<p>also fyi:\nyou can verify this but putting a </p>\n\n<p>debugger;</p>\n\n<p>statement at the top of your ngOnInit(), if you do that you should be able to step thru your code in the browser's dev console.</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 10154061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d36b000f7784a4ef50b2c70816b50f?s=128&d=identicon&r=PG&f=1", "display_name": "Vladislav Guleaev", "link": "https://stackoverflow.com/users/10154061/vladislav-guleaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1533710502, "creation_date": 1533710502, "answer_id": 51740100, "question_id": 51737263, "link": "https://stackoverflow.com/questions/51737263/angular-6-create-dynamic-reactive-form-but-got-an-error-formgroup-expects-a-f/51740100#51740100", "title": "Angular 6: Create dynamic reactive form but got an Error: &quot;formGroup expects a FormGroup instance. Please pass one in&quot;", "body": "<p>Answer above is pretty nice and should fix the problem.</p>\n"}], "owner": {"reputation": 522, "user_id": 3283323, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa61fcb6b5a48523e48bd2dbfece120c?s=128&d=identicon&r=PG", "display_name": "Terence", "link": "https://stackoverflow.com/users/3283323/terence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1991, "favorite_count": 0, "accepted_answer_id": 51737471, "answer_count": 2, "score": 2, "last_activity_date": 1533710502, "creation_date": 1533689952, "last_edit_date": 1533708564, "question_id": 51737263, "link": "https://stackoverflow.com/questions/51737263/angular-6-create-dynamic-reactive-form-but-got-an-error-formgroup-expects-a-f", "title": "Angular 6: Create dynamic reactive form but got an Error: &quot;formGroup expects a FormGroup instance. Please pass one in&quot;", "body": "<p>I am currently creating an Accordion with Reactive Form with Angular 6. I am also using the Accordion module from primeNG.</p>\n\n<p>Based on the object(cuList), The FormControl(input boxes) will be dynamically created. I created a FormGroup and dynamically added group with FormBuilder. However, I got this error in run time:\n<a href=\"https://i.stack.imgur.com/O6WVY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6WVY.jpg\" alt=\"error message from console\"></a> (Please see the error message below, if the link doesn't work)</p>\n\n<pre><code>ERROR Error: \"formGroup expects a FormGroup instance. Please pass one in.\n   Example:\n\n\n&lt;div [formGroup]=\"myGroup\"&gt;\n  &lt;input formControlName=\"firstName\"&gt;\n&lt;/div&gt;\n\nIn your class:\n\nthis.myGroup = new FormGroup({\n   firstName: new FormControl()\n});\"\n</code></pre>\n\n<p>and <code>ERROR TypeError: \"this.form is undefined\"</code> 3 times.</p>\n\n<p>I tried some methods according to some of the stackoverflow answers. It didn't solve my problem. </p>\n\n<p>I simplified my code just for readability.</p>\n\n<p>Component HTML</p>\n\n<pre><code>&lt;p-accordion #accordion [hidden]=\"!cuList\" [multiple]=\"true\"&gt;\n    &lt;form *ngIf=\"cuList\" [formGroup]=\"reportForm\" role=\"form\"&gt;\n        &lt;p-accordionTab header=\"{{ cu.code }} - {{ cu.name }}\" *ngFor='let cu of cuList; let counter = index' [selected]=\"counter===0\"&gt;               \n            &lt;div class=\"input-group\"&gt;\n                &lt;input class=\"form-control\"\n                    name=\"wages\"\n                    placeholder=\"\"\n                    formControlName=\"wages_{{ counter }}\"\n                    currencyMask\n                    [(ngModel)]=\"cu.wage\"\n                    [options]=\"{ prefix: '$ ', thousands: ',', allowNegative: false, precision: 0}\"\n                    maxlength=\"15\"\n                    required /&gt;\n                &lt;div class=\"input-group-append\"&gt;\n                    &lt;span class=\"input-group-text\"&gt;.00&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;                      \n            &lt;div class=\"input-group\"&gt;\n                &lt;input class=\"form-control\"\n                    name=\"payments\"\n                    placeholder=\"\"\n                    formControlName=\"subkPay_{{ counter }}\"\n                    currencyMask\n                    [(ngModel)]=\"cu.subcontractorPayment\"\n                    [options]=\"{ prefix: '$ ', thousands: ',', allowNegative: false, precision: 0}\"\n                    maxlength=\"15\"\n                    required /&gt;\n                &lt;div class=\"input-group-append\"&gt;\n                    &lt;span class=\"input-group-text\"&gt;.00&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"input-group\"&gt;\n                &lt;input class=\"form-control\"\n                    name=\"excessPayroll\"\n                    currencyMask\n                    formControlName=\"exsPay_{{ counter }}\"\n                    [(ngModel)]=\"cu.excessPayroll\"\n                    [options]=\"{ prefix: '$ ', thousands: ',', allowNegative: false, precision: 0}\"\n                    maxlength=\"15\"\n                    required /&gt;\n                &lt;div class=\"input-group-append\"&gt;\n                    &lt;span class=\"input-group-text\"&gt;.00&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/p-accordionTab&gt;\n    &lt;/form&gt;\n&lt;/p-accordion&gt;\n</code></pre>\n\n<p>Component ts</p>\n\n<pre><code>export class EmployerCuListComponent implements OnInit {\n    @ViewChild('accordion') accordion: Accordion;\n    reportForm: FormGroup;   // form\n    cuList: EmployerCu[];\n\n    constructor(private _fb: FormBuilder) {\n    }\n\n    ngOnInit() {\n        this._employercuService.getEmployerCu().subscribe(data =&gt; {\n            this.cuList = data;\n        });\n        if (this.cuList) {\n            this.createForm(this.cuList);\n        }\n    }\n\n    createForm(cuList: EmployerCu[]) {\n        const group = {};\n\n        cuList.forEach((cu, index) =&gt; {\n            group['wages_' + index] = ['', [Validators.required]];\n            group['subkPay_' + index] = ['', [Validators.required]];\n            group['exsPay_' + index] = ['', [Validators.required]];\n        });\n        this.reportForm = this._fb.group(group); // create form with FormBuilder\n    }\n}\n</code></pre>\n\n<p>I am assuming it is a timing issue? and the page loaded before the object is initialize?</p>\n\n<p>Please help! Thanks in advance!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1348, "user_id": 4265225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mxSL.jpg?s=128&g=1", "display_name": "Senal", "link": "https://stackoverflow.com/users/4265225/senal"}, "is_accepted": false, "score": 0, "last_activity_date": 1533695906, "last_edit_date": 1533695906, "creation_date": 1533695534, "answer_id": 51737833, "question_id": 51737251, "link": "https://stackoverflow.com/questions/51737251/why-callback-function-in-repeated-component-always-points-to-the-last-componen/51737833#51737833", "title": "Why callback function in &quot;repeated component&quot; always points to the last component that is repeated in angular?", "body": "<p>For the component you are repeating the <code>componentThatIsRepeated</code> you have to change the <code>ngFor</code> like below,</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li *ngFor=\"#someData of someDataThatGoesForFiveTimes; #ind=index\"&gt;\n       &lt;componentThatIsRepeated [somecount]=\"ind\"&gt;\n       &lt;/componentThatIsRepeated&gt;\n   &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;!-- For newer angular versions use below--&gt;\n&lt;ul&gt;\n   &lt;li *ngFor=\"let someData of someDataThatGoesForFiveTimes; let ind=index\"&gt;\n       &lt;componentThatIsRepeated [somecount]=\"ind\"&gt;\n       &lt;/componentThatIsRepeated&gt;\n   &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Then the <code>someCount</code> will be respectively 0, 1, 2, 3, 4. You might need to add 1 for the <code>someCount</code> if you need to get 1,2,3,4,5 as the output.</p>\n"}], "owner": {"reputation": 4301, "user_id": 2727444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e8aacb3114bd4ff071f97a9be8b18b?s=128&d=identicon&r=PG&f=1", "display_name": "ANewGuyInTown", "link": "https://stackoverflow.com/users/2727444/anewguyintown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533696065, "creation_date": 1533689849, "last_edit_date": 1533696065, "question_id": 51737251, "link": "https://stackoverflow.com/questions/51737251/why-callback-function-in-repeated-component-always-points-to-the-last-componen", "title": "Why callback function in &quot;repeated component&quot; always points to the last component that is repeated in angular?", "body": "<p>I have an angular app that repeats a component five times (e.g.)</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"#someData of someDataThatGoesForFiveTimes; #ind=index\"&gt;\n   &lt;componentThatIsRepeated [somecount]=\"ind\"&gt;\n   &lt;/componentThatIsRepeated&gt;\n</code></pre>\n\n<p></li>\n    </p>\n\n<p>This is the component that is repeated.</p>\n\n<pre><code>    @Component({\n      selector: 'componentThatIsRepeated',\n      template: `\n        &lt;componentThatOutputs  (outputEvent) = \"callbackFn()\"&gt;\n        &lt;p&gt;Just some random template&lt;/p&gt;\n      `\n    })\n\n    export class ComponentThatIsRepeated {\n\n        @Input() somecount: number;\n\n        public callbackFn():void{\n\n        console.log(\"For some reason, any click any of the 5 components, I receive this.somecount as 5\")  //THIS IS THE PROBLEM\n    }\n</code></pre>\n\n<p>This is the component that emits the event/callback. </p>\n\n<pre><code>@Component({\n      selector: 'componentThatOutputs',\n      template: `&lt;button type=\"button\"  (click) =\"YouClickedMe()\" &gt;Click Me!&lt;/button&gt;  `\n    })\n\n    export class ComponentThatOutputs {\n\n\n        @Output()   outputEvent = new EventEmmmiter&lt;any&gt;();\n\n            public YouClickedMe():void{\n            this.outputEvent.emit(\"abc\");\n\n\n\n    }\n</code></pre>\n\n<p>However, as mention in the comment in <code>ComponentThatIsRepeated</code>, why do I always receive this.somecount as 5 upon clicking say e.g. 1st component. I expect each component click respectively to log 1, 2, 3, 4, 5. </p>\n\n<p>Why is this happening and any solution is highly appreciated. Many thanks.</p>\n"}, {"tags": ["typescript", "casting"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1533689082, "post_id": 51737048, "comment_id": 90434960, "body": "<code>&lt;IPerson&gt;(json)</code> &lt;-- what&#39;s this?"}, {"owner": {"reputation": 33, "user_id": 5705491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7km6.png?s=128&g=1", "display_name": "Miuid", "link": "https://stackoverflow.com/users/5705491/miuid"}, "edited": false, "score": 0, "creation_date": 1533689187, "post_id": 51737048, "comment_id": 90434973, "body": "Ow, it is just a ES6 style I believe. You can see it as function getPersonFromJSON&lt;IPerson&gt;(json) : IPerson {...}"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1533689233, "post_id": 51737048, "comment_id": 90434982, "body": "@Miuid I understand what arrow functions are, I&#39;m asking why that anonymous function is generic?"}, {"owner": {"reputation": 10647, "user_id": 1226744, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/VEcWG.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/1226744/leon"}, "edited": false, "score": 3, "creation_date": 1533689371, "post_id": 51737048, "comment_id": 90435003, "body": "TypeScript does not provide run time type checking, only compile time. Since the return type of <code>JSON.parse</code> is <code>any</code> and the input is a string that can contain anything (including) invalid JSON there is no why to infer this during compile time."}, {"owner": {"reputation": 33, "user_id": 5705491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7km6.png?s=128&g=1", "display_name": "Miuid", "link": "https://stackoverflow.com/users/5705491/miuid"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1533689485, "post_id": 51737048, "comment_id": 90435020, "body": "@zerkms That maybe the part that I am missing. I am not too sure either. I guess what I want to achieve is a function that return an IPerson type."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1533689495, "post_id": 51737048, "comment_id": 90435022, "body": "@Miuid then see my answer, but as Leon mentioned - there is still no runtime check and you can pass any &lt;del&gt;valid JSON&lt;/del&gt; garbage. (PS: I&#39;m giving up, comments here don&#39;t support striking through)"}, {"owner": {"reputation": 33, "user_id": 5705491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7km6.png?s=128&g=1", "display_name": "Miuid", "link": "https://stackoverflow.com/users/5705491/miuid"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1533689687, "post_id": 51737048, "comment_id": 90435061, "body": "I see, thanks @zerkms"}, {"owner": {"reputation": 33, "user_id": 5705491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7km6.png?s=128&g=1", "display_name": "Miuid", "link": "https://stackoverflow.com/users/5705491/miuid"}, "reply_to_user": {"reputation": 10647, "user_id": 1226744, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/VEcWG.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/1226744/leon"}, "edited": false, "score": 0, "creation_date": 1533689722, "post_id": 51737048, "comment_id": 90435068, "body": "And also many thanks @Leon"}], "answers": [{"tags": [], "owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "is_accepted": true, "score": 6, "last_activity_date": 1616775097, "last_edit_date": 1616775097, "creation_date": 1533689308, "answer_id": 51737198, "question_id": 51737048, "link": "https://stackoverflow.com/questions/51737048/typescript-interface-as-function-return-type/51737198#51737198", "title": "Typescript interface as function return type", "body": "<pre><code>const getPersonFromJSON = &lt;IPerson&gt;(json) : IPerson =&gt; {\n    return JSON.parse(json);\n}\n</code></pre>\n<p>this is identical to</p>\n<pre><code>const getPersonFromJSON = &lt;T&gt;(json) : T =&gt; {\n    return JSON.parse(json);\n}\n</code></pre>\n<p>and defines a generic function. So effectively it's <code>&lt;any&gt;(json: any): any</code></p>\n<p>You should declare it as</p>\n<pre><code>const getPersonFromJSON = (json) : IPerson =&gt; {\n    return JSON.parse(json);\n}\n</code></pre>\n<p>instead.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/2/generics.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/2/generics.html</a></li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 5705491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7km6.png?s=128&g=1", "display_name": "Miuid", "link": "https://stackoverflow.com/users/5705491/miuid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11240, "favorite_count": 0, "accepted_answer_id": 51737198, "answer_count": 1, "score": 3, "last_activity_date": 1616775097, "creation_date": 1533687710, "question_id": 51737048, "link": "https://stackoverflow.com/questions/51737048/typescript-interface-as-function-return-type", "title": "Typescript interface as function return type", "body": "<p>new to Typescript here. I got a question about Typescript using interface as a function return type. I got this interface</p>\n\n<pre><code>interface IPerson { \n    name: string,\n    age: number\n}\n</code></pre>\n\n<p>If I assign an object to it, it will check the type and reject if type not match. Like</p>\n\n<pre><code>const person: IPerson = { name: 'Tom', age: '26' };\n</code></pre>\n\n<p>But if I use it as a return type of a function, it seems like it will not check the type</p>\n\n<pre><code>const personJSON = '{ \"name\": \"Jack\", \"age\": \"30\"}';\n\nconst getPersonFromJSON = &lt;IPerson&gt;(json) : IPerson =&gt; {\n    return JSON.parse(json);\n}\n\nconsole.log(getPersonFromJSON(personJSON));\n</code></pre>\n\n<p>Looks like the return value willing to accept String to age.</p>\n\n<pre><code>{ name: 'Jack', age: '30' }\n</code></pre>\n\n<p>Wondering what I did wrong. Many thanks</p>\n"}, {"tags": ["typescript", "generic-collections"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1533688329, "post_id": 51737041, "comment_id": 90434832, "body": "I think you will have to wait for TypeScript 3.1 for <a href=\"https://github.com/Microsoft/TypeScript/pull/26063\" rel=\"nofollow noreferrer\">mapped tuples</a>, and there&#39;s an outstanding <a href=\"https://github.com/Microsoft/TypeScript/issues/26163\" rel=\"nofollow noreferrer\">bug</a> preventing mapped arrays/tuples from being viewed as an array type which prevent this from working in <code>typescript@next</code> for now."}, {"owner": {"reputation": 1651, "user_id": 5327429, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf89b9ce092ad8537fdf52acaefc363f?s=128&d=identicon&r=PG", "display_name": "Nathan Bierema", "link": "https://stackoverflow.com/users/5327429/nathan-bierema"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1533689205, "post_id": 51737041, "comment_id": 90434979, "body": "What would be the correct type of the arguments to the constructor in TypeScript 3.1?"}, {"owner": {"reputation": 1651, "user_id": 5327429, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf89b9ce092ad8537fdf52acaefc363f?s=128&d=identicon&r=PG", "display_name": "Nathan Bierema", "link": "https://stackoverflow.com/users/5327429/nathan-bierema"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1533690675, "post_id": 51737041, "comment_id": 90435208, "body": "Is it like this: <code>...{ [P in keyof TArgs]: { value: T[P] } }</code>? I&#39;m not sure if I&#39;m understanding mapped types correctly."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 8, "last_activity_date": 1533690757, "creation_date": 1533690757, "answer_id": 51737337, "question_id": 51737041, "link": "https://stackoverflow.com/questions/51737041/mapping-generic-spreaded-argument-types-in-typescript/51737337#51737337", "title": "Mapping generic spreaded argument types in TypeScript", "body": "<p>I stripped out a lot of code for the following example, but it should be in the same spirit.</p>\n\n<p>The feature you are missing is called <a href=\"https://github.com/Microsoft/TypeScript/pull/26063\" rel=\"noreferrer\">mapped arrays/tuples</a> which is planned to be released in <a href=\"https://github.com/Microsoft/TypeScript/wiki/Roadmap#31-august-2018\" rel=\"noreferrer\">TypeScript 3.1</a> sometime in August 2018.  You will be able to map arrays and tuples just like you map other types, like this:</p>\n\n<pre><code>type Mapped&lt;T&gt; = {[K in keyof T]: Array&lt;T[K]&gt;};\ntype Example = Mapped&lt;[string, number, boolean]&gt;; \n// type Example = [string[], number[], boolean[]];\n</code></pre>\n\n<p>And if you use <code>typescript@next</code> right now you can try that out.</p>\n\n<hr>\n\n<p>In your case what you'd <em>want</em> to do is something like</p>\n\n<pre><code>type MappedArgs = {[K in keyof TArgs]: TProps[TArgs[K]]};\ntype ConstructorType = new (...args: MappedArgs) =&gt; any;\n</code></pre>\n\n<p>But there are a few outstanding issues preventing you from doing that.  One is that for some reason the compiler doesn't yet understand that <code>TArgs[K]</code> is a valid index to <code>TProps</code>.  So you can introduce a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"noreferrer\">conditional type</a> that allows you to work around that:</p>\n\n<pre><code>type Prop&lt;T, K&gt; = K extends keyof T ? T[K] : never;\ntype MappedArgs = {[K in keyof TArgs]: Prop&lt;TProps,TArgs[K]&gt;};\n</code></pre>\n\n<p>But the following still doesn't work:</p>\n\n<pre><code>type ConstructorType = new (...args: MappedArgs) =&gt; any;\n// error, a rest parameter must be of an array type\n</code></pre>\n\n<p>Hmm, <code>MappedArgs</code> sure is an array type, but TypeScript doesn't realize it.  Can't do this to convince it either:</p>\n\n<pre><code>type MappedArgs = {[K in keyof TArgs]: Prop&lt;TProps,TArgs[K]&gt;} \n  &amp; unknown[]; // definitely an array!\n\ntype ConstructorType = new (...args: MappedArgs) =&gt; any;\n// error, a rest parameter must be of an array type \n</code></pre>\n\n<p>This appears to be an <a href=\"https://github.com/Microsoft/TypeScript/issues/26163\" rel=\"noreferrer\">outstanding bug</a> in mapped arrays/tuples in which the mapped type is not seen as an array everywhere.  This is likely to get fixed by the release of TypeScript 3.1.  For now, you can do a workaround by adding a new dummy type parameter, as in</p>\n\n<pre><code>type Prop&lt;T, K&gt; = K extends keyof T ? T[K] : never;\ntype MappedArgs = {[K in keyof TArgs]: Prop&lt;TProps,TArgs[K]&gt;}\n  &amp; unknown[]; // definitely an array!\ntype ConstructorType&lt;A extends MappedArgs = MappedArgs&gt; = new (...args: A) =&gt; any;\n</code></pre>\n\n<p>and that works.  Let's see if we can test this thing.  How about:</p>\n\n<pre><code>type Prop&lt;T, K&gt; = K extends keyof T ? T[K] : never;\ninterface NewMethod&lt;TProps&gt; {\n  create&lt;TArgs extends Array&lt;Extract&lt;keyof TProps, string&gt;&gt;,\n    MTArgs extends unknown[] &amp; { [K in keyof TArgs]: Prop&lt;TProps, TArgs[K]&gt; }&gt;(\n      geometryClass: new (...args: MTArgs) =&gt; any,\n      ...args: Array&lt;Extract&lt;keyof TProps, string&gt;&gt;): void;\n}\n\ndeclare const z: NewMethod&lt;{ a: string, b: number }&gt;;\nz.create(null! as new (x: string, y: number) =&gt; any, \"a\", \"b\"); // okay\nz.create(null! as new (x: string, y: number) =&gt; any, \"a\", \"c\"); // error, \"c\" is bad\nz.create(null! as new (x: string, y: boolean) =&gt; any, \"a\", \"b\"); // error, constructor is bad\n</code></pre>\n\n<p>Those seem to act the way you want... although the error in the last case is really obscure and doesn't seem to point out that the problem is that the type of the <code>y</code> parameter is <code>boolean</code> and doesn't match <code>string</code> or <code>number</code> from <code>TProps[keyof TProps]</code>.  </p>\n\n<hr>\n\n<p>Anyway, this is still bleeding-edge stuff as of Aug 2018, so I think you might have to wait a little while before it settles down to see exactly how it will work.  Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 1651, "user_id": 5327429, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf89b9ce092ad8537fdf52acaefc363f?s=128&d=identicon&r=PG", "display_name": "Nathan Bierema", "link": "https://stackoverflow.com/users/5327429/nathan-bierema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "accepted_answer_id": 51737337, "answer_count": 1, "score": 8, "last_activity_date": 1533734572, "creation_date": 1533687653, "last_edit_date": 1533734572, "question_id": 51737041, "link": "https://stackoverflow.com/questions/51737041/mapping-generic-spreaded-argument-types-in-typescript", "title": "Mapping generic spreaded argument types in TypeScript", "body": "<p>I'm trying to write a generic method that takes any number of arguments that are keys to an object and use the values of their keys as arguments to a constructor. This is my original implementation:</p>\n\n<pre><code>// Typescript 2.x\nexport function oldMethod&lt;TProps&gt;() {\n  function create&lt;\n    TInstance extends Geometry | BufferGeometry,\n  &gt;(\n    geometryClass: new () =&gt; TInstance,\n  ): any;\n  function create&lt;\n    TInstance extends Geometry | BufferGeometry,\n    TKey1 extends Extract&lt;keyof TProps, string&gt;,\n  &gt;(\n    geometryClass: new (param1: TProps[TKey1]) =&gt; TInstance,\n    key1: TKey1,\n  ): any;\n  function create&lt;\n    TInstance extends Geometry | BufferGeometry,\n    TKey1 extends Extract&lt;keyof TProps, string&gt;,\n    TKey2 extends Extract&lt;keyof TProps, string&gt;,\n  &gt;(\n    geometryClass: new (param1: TProps[TKey1], param2: TProps[TKey2]) =&gt; TInstance,\n    key1: TKey1,\n    key2: TKey2,\n  ): any;\n  function create&lt;\n    TInstance extends Geometry | BufferGeometry,\n    TKey1 extends Extract&lt;keyof TProps, string&gt;,\n    TKey2 extends Extract&lt;keyof TProps, string&gt;,\n    TKey3 extends Extract&lt;keyof TProps, string&gt;,\n  &gt;(\n    geometryClass: new (param1: TProps[TKey1], param2: TProps[TKey2], param3: TProps[TKey3]) =&gt; TInstance,\n    key1: TKey1,\n    key2: TKey2,\n    key3: TKey3,\n  ): any;\n  // ...all the way up to 8 possible keys\n  function create&lt;TInstance extends Geometry | BufferGeometry&gt;(\n    geometryClass: new (...args: Array&lt;TProps[Extract&lt;keyof TProps, string&gt;]&gt;) =&gt; TInstance,\n    ...args: Array&lt;Extract&lt;keyof TProps, string&gt;&gt;) {\n    class GeneratedGeometryWrapper extends GeometryWrapperBase&lt;TProps, TInstance&gt; {\n      protected constructGeometry(props: TProps): TInstance {\n        return new geometryClass(...args.map((arg) =&gt; props[arg]));\n      }\n    }\n\n    return class GeneratedGeometryDescriptor extends WrappedEntityDescriptor&lt;GeneratedGeometryWrapper,\n      TProps,\n      TInstance,\n      GeometryContainerType&gt; {\n      constructor() {\n        super(GeneratedGeometryWrapper, geometryClass);\n\n        this.hasRemountProps(...args);\n      }\n    };\n  }\n  return create;\n}\n</code></pre>\n\n<p>With the announcement of extracting and spreading parameter lists with tuples in TypeScript 3.0, I was hoping I would be able to remove the overloads to make it a lot simpler as such:</p>\n\n<pre><code>// Typescript 3.x\nexport function newMethod&lt;TProps&gt;() {\n  function create&lt;TInstance extends Geometry | BufferGeometry, TArgs extends Array&lt;Extract&lt;keyof TProps, string&gt;&gt;&gt;(\n    geometryClass: new (...args: /* what goes here? */) =&gt; TInstance,\n    ...args: Array&lt;Extract&lt;keyof TProps, string&gt;&gt;) {\n    class GeneratedGeometryWrapper extends GeometryWrapperBase&lt;TProps, TInstance&gt; {\n      protected constructGeometry(props: TProps): TInstance {\n        return new geometryClass(...args.map((arg) =&gt; props[arg]));\n      }\n    }\n\n    return class GeneratedGeometryDescriptor extends WrappedEntityDescriptor&lt;GeneratedGeometryWrapper,\n      TProps,\n      TInstance,\n      GeometryContainerType&gt; {\n      constructor() {\n        super(GeneratedGeometryWrapper, geometryClass);\n\n        this.hasRemountProps(...args);\n      }\n    };\n  }\n  return create;\n}\n</code></pre>\n\n<p>However, I don't know what to put as the type for the <code>args</code> that define the type of the constructor. If I was able to manipulate types like I can objects in JavaScript, I would write it as such: <code>...[...TArgs].map(TArg =&gt; TProps[TArg]</code>, but obviously that's not valid TypeScript syntax and I can't think of any way to do it. Am I missing a way to express this type? Is there some way of making this completely type-safe without having to have the function overloads and a finite number of arguments? Is there some TypeScript feature that's missing that would allow me to express this type?</p>\n"}, {"tags": ["angular", "html", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1343, "user_id": 2280074, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5e1ea282dce9dd0e965e3d773f57987?s=128&d=identicon&r=PG&f=1", "display_name": "Abbe", "link": "https://stackoverflow.com/users/2280074/abbe"}, "edited": false, "score": 0, "creation_date": 1533688596, "post_id": 51737066, "comment_id": 90434880, "body": "Adding an alt text  to the img tag or text inside the label tag would make it accessible."}], "tags": [], "owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "is_accepted": true, "score": 5, "last_activity_date": 1533687899, "creation_date": 1533687899, "answer_id": 51737066, "question_id": 51737022, "link": "https://stackoverflow.com/questions/51737022/how-to-put-input-tag-inside-img-tag/51737066#51737066", "title": "How to put &lt;Input&gt; tag inside &lt;img&gt; tag", "body": "<p>Q: How do I put an img tag inside of an input tag?</p>\n\n<p>A: You <em>DON'T</em>.  That's not legal HTML!</p>\n\n<p>You MAY, however, put both in a <code>&lt;div&gt;</code> tag such that the image is visually associated with your input tag.</p>\n\n<p>For example:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2855589/replace-input-type-file-by-an-image\">Replace input type=file by an image</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"image-upload\"&gt;\n    &lt;label for=\"file-input\"&gt;\n        &lt;img src=\"placeholder.jpg\"/&gt;\n    &lt;/label&gt;\n\n    &lt;input id=\"file-input\" type=\"file\"/&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.image-upload &gt; input\n{\n    display: none;\n}\n</code></pre>\n"}], "owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 0, "accepted_answer_id": 51737066, "answer_count": 1, "score": 2, "last_activity_date": 1533687923, "creation_date": 1533687432, "last_edit_date": 1533687923, "question_id": 51737022, "link": "https://stackoverflow.com/questions/51737022/how-to-put-input-tag-inside-img-tag", "title": "How to put &lt;Input&gt; tag inside &lt;img&gt; tag", "body": "<p>I just want to know how I can put the  tag inside an  so that when I click on the image the  tag is activated. I'm using angular 4 and bootstrap 4. this is my code:</p>\n\n<pre><code>&lt;input type=\"file\" class=\"css-1u2oed9 eehmg7h4\" (change)=\"onFileChange($event)\" #fileInput&gt;\n                &lt;img \n                data-src=\"holder.js/200x200\" \n                class=\"rounded mx-auto d-block\" \n                src=\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22200%22%20height%3D%22200%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20200%20200%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_164e3f66702%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_164e3f66702%22%3E%3Crect%20width%3D%22200%22%20height%3D%22200%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2274.4296875%22%20y%3D%22104.5%22%3E200x200%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\" \n                data-holder-rendered=\"true\" \n                style=\"width: 150px; height: 150px; margin:5px;\"&gt;\n</code></pre>\n\n<p>TypeScript Method Component:</p>\n\n<pre><code>onFileChange(event) {\n      this.loading=true;\n      let reader = new FileReader();\n      if(event.target.files &amp;&amp; event.target.files.length &gt; 0) {\n        this.photo = event.target.files[0];\n        reader.readAsDataURL(this.photo);\n        reader.onload = (event: any) =&gt; {\n          this.image=event.target.result;\n          console.log(this.image);\n        }\n      }\n    }\n</code></pre>\n\n<p>I remind you that what I want is to click on the image and that I can select another one in the file system to change it.</p>\n\n<p>Many Thanks!</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1533690771, "creation_date": 1533690771, "answer_id": 51737339, "question_id": 51736959, "link": "https://stackoverflow.com/questions/51736959/ionic-3-search-not-refreshing-list-on-cancel/51737339#51737339", "title": "Ionic 3 Search not refreshing list on cancel", "body": "<p>So in you case you simply \"mutate\" your original list and not keeping original list intact for a resetting its state.</p>\n\n<p>Try using an approach with a \"snapshot\" and also when you reset your searchable list prevent just assigning another array as it will be just passed by reference.</p>\n\n<pre><code>@IonicPage()\n@Component({\n    selector: 'page-section1',\n    templateUrl: 'section1.html',\n})\nexport class Section1Page {\n\n    ID: number;\n    // searchable list holder array:\n    lessons: Lessons[];\n    // snapshot of original list array:\n    lessonsSnapshot: Lessons[];\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, private cdata: ChorusdataProvider) {\n        this.cdata.getData().subscribe(lists =&gt; {\n            console.log(\"lessons are here\", lists['section1']);\n            // create snapshot:\n            this.lessonsSnapshot = lists['section1'];\n            // populate view:\n            this.lessons = lists['section1'];\n        });\n\n    }\n\n\n    initializeItems() {\n        // use spread to create brand new array off snapshot\n        this.lessons = [...this.lessonsSnapshot];\n    }\n\n    getItems(ev) {\n        // Reset items back to all of the items\n        this.initializeItems();\n\n        // set val to the value of the ev target\n        var val = ev.target.value;\n\n        // if the value is an empty string don't filter the items\n        if (val &amp;&amp; val.trim() != '') {\n            this.lessons = this.lessons.filter((lesson) =&gt; {\n                return (lesson.title.toString().toLowerCase().indexOf(val.toLowerCase()) &gt; -1);\n            })\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2867917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SHT3E.jpg?s=128&g=1", "display_name": "Vin Nwaikwu", "link": "https://stackoverflow.com/users/2867917/vin-nwaikwu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 51737339, "answer_count": 1, "score": 1, "last_activity_date": 1533690771, "creation_date": 1533686672, "question_id": 51736959, "link": "https://stackoverflow.com/questions/51736959/ionic-3-search-not-refreshing-list-on-cancel", "title": "Ionic 3 Search not refreshing list on cancel", "body": "<p>I don't know a better way to ask this. I have added a search bar in ionic it's seems to be working. The problem is if I clicked the cancel icon on the search bar, the lists/contents doesn't return.</p>\n\n<p><strong>Here is my.html</strong></p>\n\n<pre><code>    &lt;ion-header&gt;\n\n    &lt;ion-navbar &gt;\n    &lt;ion-title&gt;Worship and Fellowship&lt;/ion-title&gt;\n    &lt;/ion-navbar&gt;\n        &lt;ion-searchbar \n        (ionInput)=\"getItems($event)\"&gt;\n        &lt;/ion-searchbar&gt;\n&lt;/ion-header&gt;\n\n\n&lt;ion-content padding&gt;\n\n  &lt;ion-list inset&gt;\n\n    &lt;ion-item *ngFor=\"let lesson of lessons; index as i;\" slice:0:10&gt;\n\n&lt;h4 (click)=\"loadLesson(lesson)\" tapable&gt;{{ lesson.title | uppercase }}&lt;/h4&gt;\n\n    &lt;/ion-item&gt;\n&lt;/ion-list&gt;\n\n&lt;/ion-content&gt;\n</code></pre>\n\n<p><strong>Here is my .ts</strong></p>\n\n<pre><code>@IonicPage()\n@Component({\n  selector: 'page-section1',\n  templateUrl: 'section1.html',\n})\nexport class Section1Page {\n\n\n  //public lessons = new Array();\n\n  ID:number;\n  lessons:Lessons[];\n // section1: any[];\n\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private cdata: ChorusdataProvider) {\n\n\n    this.cdata.getData().subscribe(lists =&gt; {\n    console.log(\"lessons are here\", lists['section1']);\n    this.lessons = lists['section1'];\n  });\n\n  }  \n\n\n  initializeItems() {\n    this.lessons = this.lessons;\n  }\n\n  getItems(ev) {\n    // Reset items back to all of the items\n    this.initializeItems();\n\n    // set val to the value of the ev target\n    var val = ev.target.value;\n\n    // if the value is an empty string don't filter the items\n    if (val &amp;&amp; val.trim() != '') {\n      this.lessons = this.lessons.filter((lesson) =&gt; {\n        return (lesson.title.toString().toLowerCase().indexOf(val.toLowerCase()) &gt; -1);\n      })\n    }\n  }\n  }\n</code></pre>\n\n<p>I don't what it is that I am doing wrong. I want if someone use the search bar, and tap that little cancel icon, the content list should refresh to it original state just like any other search bar would do. What am I getting wrong?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 2, "creation_date": 1533684135, "post_id": 51736590, "comment_id": 90433986, "body": "Wow...any library that sets body.innerHTML would break a lot of pages....not just react. Would nullify all addEventListener except for window, document or body ones"}, {"owner": {"reputation": 7649, "user_id": 356218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dc0ec712fb6804d6131e6552e0a14e0a?s=128&d=identicon&r=PG", "display_name": "Thymine", "link": "https://stackoverflow.com/users/356218/thymine"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1533731266, "post_id": 51736590, "comment_id": 90453139, "body": "The library is appending to the <code>body.innerHTML</code> would that still nullify all event listeners?  Oh because it is basically converting the body.innerHTML to a string, appending a new string to it, then parsing that back into DOM?  If so that probably is the answer, React is using event listeners to update all the DOM structure in some fashion"}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1533731441, "post_id": 51736590, "comment_id": 90453262, "body": "Right ... if it does <code>body.innerHTML += &#39;widget html&#39;</code> the whole body will get stringified like you said and all original dom node references are broken. They should have used an append approach"}], "owner": {"reputation": 7649, "user_id": 356218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dc0ec712fb6804d6131e6552e0a14e0a?s=128&d=identicon&r=PG", "display_name": "Thymine", "link": "https://stackoverflow.com/users/356218/thymine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533683162, "creation_date": 1533683162, "question_id": 51736590, "link": "https://stackoverflow.com/questions/51736590/rendering-variables-from-state-stops-working-if-innerhtml-is-modified", "title": "Rendering variables from state stops working if innerHTML is modified", "body": "<p>Having an issue where a 3rd party library is setting <code>document.body.innerHTML</code>, and that causes <code>setState</code> to stop seeming to work fully.  In React tools in chrome and when debugging it updates the state object correctly, but the rendered output does not update.  </p>\n\n<p>Cannot figure out what is going on here, no error occurs, stepping through the debugger nothing stands out to me.  At first I was also using <code>dangerouslySetInnerHTML</code>, but the issue seems to be occurring on normal jsx value injection too.</p>\n\n<p>Example here, if you modify the value of <code>const ModifyBody = true;</code> to false and it works as expected, but with the <code>document.body.innerHTML =</code> it doesn't update.</p>\n\n<p><a href=\"https://codepen.io/eibwen/pen/gjBxrZ\" rel=\"nofollow noreferrer\">https://codepen.io/eibwen/pen/gjBxrZ</a></p>\n\n<hr>\n\n<p>Just to restate it, its a third party library doing the <code>body.innerHTML</code>.  Specifically its a library to <a href=\"https://www.npmjs.com/package/selection-popup\" rel=\"nofollow noreferrer\">create a medium.com-like popup when selecting text</a>, if you happened to know a library that could do this with better compatibility with TypeScript/React I'd be all ears on that too</p>\n"}, {"tags": ["angular", "typescript", "data-binding"], "comments": [{"owner": {"reputation": 1361, "user_id": 8883385, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6263883831ff9f0f5632098295739207?s=128&d=identicon&r=PG&f=1", "display_name": "tilly", "link": "https://stackoverflow.com/users/8883385/tilly"}, "edited": false, "score": 0, "creation_date": 1533686943, "post_id": 51736447, "comment_id": 90434592, "body": "add a &quot;?&quot; behind insurer in the template?"}], "answers": [{"comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533689367, "post_id": 51737063, "comment_id": 90435002, "body": "As far as I know, the safe navigation operator cannot be used with <code>[(ngModel)]</code>. See <a href=\"https://github.com/angular/angular/issues/7697\" rel=\"nofollow noreferrer\">this feature request</a>."}, {"owner": {"reputation": 1964, "user_id": 970057, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f0adf1f332bc4ae1f424bff712548995?s=128&d=identicon&r=PG", "display_name": "Bankzilla", "link": "https://stackoverflow.com/users/970057/bankzilla"}, "edited": false, "score": 0, "creation_date": 1533749195, "post_id": 51737063, "comment_id": 90464639, "body": "I have <code>ngIf</code> further up the page, since it contains more form elements that aren&#39;t represented here. It&#39;s checking if insurer is set and shows the form. If I were to check if <code>insurer.group</code> were set on save the entire form would hide."}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1533694704, "last_edit_date": 1533694704, "creation_date": 1533687865, "answer_id": 51737063, "question_id": 51736447, "link": "https://stackoverflow.com/questions/51736447/angular-2-ngmodel-submitting-with-ngfor/51737063#51737063", "title": "Angular 2 ngModel submitting with ngFor", "body": "<p>one way is you to initialize <code>insurer</code> peoperty with Insurer instant like this </p>\n\n<pre><code> insurer: Insurer = new Insurer() ; // this related to your implimentation\n</code></pre>\n\n<p>or </p>\n\n<pre><code> insurer: Insurer = {group:{id:1}}; \n</code></pre>\n\n<p>*ngIf</p>\n\n<blockquote>\n  <p>use *ngIf and show form element if the <code>insurer</code> is initialize</p>\n</blockquote>\n\n<pre><code>&lt;form #insurerForm=\"ngForm\" (ngSubmit)=\"save(insurerForm)\" *ngIf=\"insurer &amp;&amp; insurer.group\"&gt;\n    {{insurer|json}}\n\n    &lt;select [(ngModel)]=\"insurer.group.id\" name=\"group\" id=\"group\"&gt;\n        &lt;option *ngFor=\"let group of groups\" \n                [value]=\"group.id\"&gt;\n            {{group.name}}\n        &lt;/option&gt;\n    &lt;/select&gt;\n    &lt;button type=\"submit\" class=\"dd_button\"&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<blockquote>\n  <p>you don't need to handle mark the selected option ngModel will do this for you <code>[selected]=\"insurer.group ? insurer.group.id === group.id : null\"&gt;</code></p>\n</blockquote>\n\n<p><a href=\"https://stackblitz.com/edit/angular-qmuear\" rel=\"nofollow noreferrer\"><strong>stackblitz demo</strong></a></p>\n"}], "owner": {"reputation": 1964, "user_id": 970057, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f0adf1f332bc4ae1f424bff712548995?s=128&d=identicon&r=PG", "display_name": "Bankzilla", "link": "https://stackoverflow.com/users/970057/bankzilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533694704, "creation_date": 1533682232, "question_id": 51736447, "link": "https://stackoverflow.com/questions/51736447/angular-2-ngmodel-submitting-with-ngfor", "title": "Angular 2 ngModel submitting with ngFor", "body": "<p>On form submit the data being repopulated back to the form is erring with <code>ERROR TypeError: Cannot read property 'id' of undefined</code></p>\n\n<p>In renference to <code>&lt;select [(ngModel)]=\"insurer.group.id\" name=\"group\" id=\"group\"&gt;</code></p>\n\n<p>Template\n</p>\n\n<pre><code>&lt;form #insurerForm=\"ngForm\" (ngSubmit)=\"save(insurerForm)\"&gt;\n    {{insurer|json}}\n\n    &lt;select [(ngModel)]=\"insurer.group.id\" name=\"group\" id=\"group\"&gt;\n        &lt;option *ngFor=\"let group of groups\" \n                [value]=\"group.id\"\n                [selected]=\"insurer.group ? insurer.group.id === group.id : null\"&gt;\n            {{group.name}}\n        &lt;/option&gt;\n    &lt;/select&gt;\n    &lt;button type=\"submit\" class=\"dd_button\"&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Insurer object</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"is_admin\": null,\n  \"type\": \"insurer\",\n  \"group\": {\n    \"id\": 13,\n    \"email\": null,\n    \"name\": \"Generic\"\n  }\n  ...\n}\n</code></pre>\n\n<p>Component\n</p>\n\n<pre><code>export class InsurerDetailsComponent implements OnInit {\n\n    constructor(\n        private route: ActivatedRoute,\n        private apiService: ApiService,\n        private location: Location\n    ) { }\n\n    ngOnInit(): void {\n        this.getInsurer();\n    }\n\n    groups: Group[];\n    insurer: Insurer;\n\n    getInsurer(): void {\n        const id = +this.route.snapshot.paramMap.get('id');\n        this.apiService.getOne(id, 'insurer', 'group').subscribe(insurer =&gt; {\n            this.insurer = insurer;\n        });\n        this.apiService.getMany('group').subscribe(groups =&gt; \n        {\n            this.groups = groups\n        });\n    }\n\n    save(form: NgForm): void {\n        console.log('trying to save data: ', this.insurer);\n        console.log('form save data: ', form.value);\n\n        // this.apiService.update('insurer', this.insurer.id, form.value).subscribe(insurer =&gt; this.insurer = insurer);\n    }\n\n}\n</code></pre>\n\n<p>I'm having issues with what I assume is the form trying to repopulate using the form data that it's sending on submit. Issue being is that the ngModel is trying to listen for <code>insurer.group.id</code> which doesn't exist. I tried changing ngModel to <code>[(ngModel)]=\"group.id\"</code> and <code>[(ngModel)]=\"group\"</code>but the issue is that it's not being populated on initial page load.</p>\n\n<p>I've tried dumping the insurer object to see where the issue would be coming from with <code>{{insurer|json}}</code> but it doesn't appear to change after saving. So not sure how to go about debugging with the correct data.</p>\n\n<p>Also tried overwriting the insurer object values in hopes that it would reflect with the code below.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>save(form: NgForm): void {\n    this.insurer.group.id = form.value.group;\n}\n</code></pre>\n\n<p>I'm lost on what I could do to resolve the error and keep the data populating on load. Changing <code>[(ngModel)]=\"insurer.group.id\"</code> to <code>[(ngModel)]=\"group\"</code> fixes the error but then data is not set on load even if I change the <code>value</code> attribute to reflect it.</p>\n"}, {"tags": ["angular", "typescript", "eslint"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 3, "creation_date": 1533682277, "post_id": 51736051, "comment_id": 90433556, "body": "Wild guess from someone who doesn&#39;t use Angular: try lowercase <code>string</code> in the declaration of <code>activeModal</code>."}, {"owner": {"reputation": 6465, "user_id": 1864190, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/435af02114568dbaf00005b28c3ef592?s=128&d=identicon&r=PG", "display_name": "yodalr", "link": "https://stackoverflow.com/users/1864190/yodalr"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533756974, "post_id": 51736051, "comment_id": 90468390, "body": "Thanks, this fixed the problem. If you answer it in the main thread I&#39;ll accept it as the answer."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 19, "last_activity_date": 1533759529, "creation_date": 1533759529, "answer_id": 51754997, "question_id": 51736051, "link": "https://stackoverflow.com/questions/51736051/angular-2-expected-the-operants-to-be-of-similar-type-or-any-linting-error/51754997#51754997", "title": "Angular 2: &quot;Expected the operants to be of similar type or any&quot; linting error", "body": "<p>Try lowercase <code>string</code> (the primitive, rather than the wrapper object type <code>String</code>) in the declaration of <code>activeModal</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11046563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38b78f1e43667d226f5b3dccc33981f?s=128&d=identicon&r=PG&f=1", "display_name": "Prafulla Agarwal", "link": "https://stackoverflow.com/users/11046563/prafulla-agarwal"}, "is_accepted": false, "score": -8, "last_activity_date": 1549907398, "last_edit_date": 1549907398, "creation_date": 1549905503, "answer_id": 54635816, "question_id": 51736051, "link": "https://stackoverflow.com/questions/51736051/angular-2-expected-the-operants-to-be-of-similar-type-or-any-linting-error/54635816#54635816", "title": "Angular 2: &quot;Expected the operants to be of similar type or any&quot; linting error", "body": "<p>You can set to remove any future errors if you want to add extra type</p>\n\n<pre><code>activeModal: any \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 1408954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcM5C.jpg?s=128&g=1", "display_name": "Bitzu", "link": "https://stackoverflow.com/users/1408954/bitzu"}, "is_accepted": false, "score": 1, "last_activity_date": 1567592451, "creation_date": 1567592451, "answer_id": 57786395, "question_id": 51736051, "link": "https://stackoverflow.com/questions/51736051/angular-2-expected-the-operants-to-be-of-similar-type-or-any-linting-error/57786395#57786395", "title": "Angular 2: &quot;Expected the operants to be of similar type or any&quot; linting error", "body": "<p>For those that have the same error but the solution doesn't apply to you, make sure you are not comparing enums with strings, if so, make a member to your class and assign the enum to it, so you would have:</p>\n\n<pre><code>class LalaComponent {\n  someEnum = SomeEnum;\n  randomValue: SomeEnum;\n}\n</code></pre>\n\n<p>and in html</p>\n\n<pre><code>&lt;ng-container *ngIf=\"randomValue === someEnum.option1\" &gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}], "owner": {"reputation": 6465, "user_id": 1864190, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/435af02114568dbaf00005b28c3ef592?s=128&d=identicon&r=PG", "display_name": "yodalr", "link": "https://stackoverflow.com/users/1864190/yodalr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10197, "favorite_count": 0, "accepted_answer_id": 51754997, "answer_count": 3, "score": 9, "last_activity_date": 1567592451, "creation_date": 1533679428, "question_id": 51736051, "link": "https://stackoverflow.com/questions/51736051/angular-2-expected-the-operants-to-be-of-similar-type-or-any-linting-error", "title": "Angular 2: &quot;Expected the operants to be of similar type or any&quot; linting error", "body": "<p>I have a shared service file which defines a variable liks this:</p>\n\n<pre><code>export class SharedService {\n    activeModal: String;\n}\n</code></pre>\n\n<p>Then I have a component file that imports the service and defines it:</p>\n\n<pre><code>constructor(public sharedService: SharedService) {\n}\n</code></pre>\n\n<p>In that component's template file I check the value of the modal:</p>\n\n<pre><code>&lt;div *ngIf=\"sharedService.activeModal === 'login'\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Everything works fine, but in the editor, the sharedService.activeModal === 'login' part get's a red squiggly line under it and hover over it shows this linting error:</p>\n\n<pre><code>[Angular] Expected the operants to be of similar type or any\nproperty sharedService of ModalComponent\n</code></pre>\n\n<p>Any ideas what I'm doing wrong?</p>\n"}, {"tags": ["angularjs", "typescript", "dependency-resolver"], "comments": [{"owner": {"reputation": 473, "user_id": 3155294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/babf94ecef3163bbd66eb0f3c02896c0?s=128&d=identicon&r=PG&f=1", "display_name": "tcrite", "link": "https://stackoverflow.com/users/3155294/tcrite"}, "edited": false, "score": 1, "creation_date": 1533689819, "post_id": 51735895, "comment_id": 90435082, "body": "I believe you need to add awesomeDefaults to your component bindings."}, {"owner": {"reputation": 3553, "user_id": 1404206, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NwiYe.jpg?s=128&g=1", "display_name": "Andrew Gray", "link": "https://stackoverflow.com/users/1404206/andrew-gray"}, "reply_to_user": {"reputation": 473, "user_id": 3155294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/babf94ecef3163bbd66eb0f3c02896c0?s=128&d=identicon&r=PG&f=1", "display_name": "tcrite", "link": "https://stackoverflow.com/users/3155294/tcrite"}, "edited": false, "score": 0, "creation_date": 1533749564, "post_id": 51735895, "comment_id": 90464843, "body": "Good suggestion, but it had no effect - this just continues generating the Unknown Provider error."}], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 3155294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/babf94ecef3163bbd66eb0f3c02896c0?s=128&d=identicon&r=PG&f=1", "display_name": "tcrite", "link": "https://stackoverflow.com/users/3155294/tcrite"}, "is_accepted": false, "score": 1, "last_activity_date": 1533776337, "creation_date": 1533776337, "answer_id": 51757482, "question_id": 51735895, "link": "https://stackoverflow.com/questions/51735895/ui-router-resolve-not-working-with-component-based-states/51757482#51757482", "title": "UI Router resolve not working with component-based states", "body": "<p>After looking at your error more closely, I\u2019ve run into this issue before. Try changing this</p>\n\n<pre><code>resolve: {\n                awesomeDefaults: () =&gt; new Controllers.AwesomeDefaults(1, 2, 3)\n            }\n</code></pre>\n\n<p>To this </p>\n\n<pre><code>resolve: {\n                awesomeDefaults: /** ngInject */ () =&gt; new Controllers.AwesomeDefaults(1, 2, 3)\n            }\n</code></pre>\n\n<p>To properly inject awesomeDefaults.</p>\n"}], "owner": {"reputation": 3553, "user_id": 1404206, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NwiYe.jpg?s=128&g=1", "display_name": "Andrew Gray", "link": "https://stackoverflow.com/users/1404206/andrew-gray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533776337, "creation_date": 1533678447, "last_edit_date": 1533747378, "question_id": 51735895, "link": "https://stackoverflow.com/questions/51735895/ui-router-resolve-not-working-with-component-based-states", "title": "UI Router resolve not working with component-based states", "body": "<p><strong>Background:</strong><br>\nOn an app I am working on, we have a component that is being used in two places.  In one place it's being called from the Material Design <code>bottomSheet</code> system.  In another, we are using the component directly via the ui-router state system.</p>\n\n<p>Here's the setup that's causing trouble.  I've already got an <code>angular.module</code> statement that has all the proper package dependencies set up - I've been working on this app for months with my team, the problem is specifically the code below, which is what I've just added.</p>\n\n<p><em>routes.ts</em></p>\n\n<pre><code>namespace Main {\n    RouteConfig.$inject = ['$stateProvider'];\n\n    function RouteConfig($stateProvider) {\n        $stateProvider\n            .state('main.myAwesomeFeature', {\n                url: '^/myawesomefeature',\n                component: 'awesomefeature',\n                resolve: {\n                    awesomeDefaults: () =&gt; new Controllers.AwesomeDefaults(1, 2, 3)\n                }\n            });\n\n        // Other routing minutiae, unimportant to the question\n    }\n\n    angular.module('app').config(RouteConfig)\n}\n</code></pre>\n\n<p><em>awesomefeature.ts</em></p>\n\n<pre><code>namespace Controllers {\n    export class AwesomeDefaults {\n        public constructor(\n            number1: number,\n            number2: number,\n            number3: number\n        ) {\n        }\n    }\n\n    export class AwesomeFeatureCtrl {\n        public static $inject: string[] = [\n            'awesomeDefaults'\n        ];\n        public controller(\n            public awesomeDefaults: AwesomeDefaults\n        ) {               \n        }\n\n        // ...Other methods and irrelevant stuff...\n    }\n\n    angular\n        .module('app')\n        .controller('awesomeFeatureCtrl', AwesomeFeatureCtrl);\n}\n\nnamespace Components {\n    export var awesomeFeatureCmpt: ng.IComponentOptions = {\n        bindings: {},\n        controller: 'awesomeFeatureCtrl',\n        controllerAs: '$ctrl',\n        templateUrl: '(Irrelevant, as is the HTML)'\n    };\n\n    angular\n        .module('app')\n        .component('awesomefeature', awesomeFeatureCmpt);\n}\n</code></pre>\n\n<p><strong>Problem:</strong>\nWhenever I try to navigate directly to the 'Awesome Feature', not only does my HTML not render, I receive the following console error:</p>\n\n<pre><code>angular.js:14525 Error: [$injector:unpr] Unknown provider: awesomeDefaultsProvider &lt;- awesomeDefaults &lt;- awesomeFeatureCtrl  \nhttp://errors.angularjs.org/1.6.4/$injector/unpr?p0=awesomeDefaultsProvider%20%3C-%20awesomeDefaults%20%3C-%20awesomeFeatureCtrl  \n    at angular.js:66  \n    at angular.js:4789  \n    at Object.getService [as get] (angular.js:4944)  \n    at angular.js:4794  \n    at getService (angular.js:4944)  \n    at injectionArgs (angular.js:4969)  \n    at Object.invoke (angular.js:4995)  \n    at $controllerInit (angular.js:10866)  \n    at nodeLinkFn (angular.js:9746)  \n    at angular.js:10154  \n</code></pre>\n\n<p>It appears that for whatever reason, <code>$stateProvider.state({resolve})</code> isn't properly resolving my <code>awesomeDefaults</code> and injecting the value into the <code>awesomeFeatureCtrl</code>.</p>\n\n<p><strong>Question:</strong><br>\nWhy isn't <code>resolve</code> working as I recall that it should?</p>\n\n<p>To my understanding, the <code>resolve</code> object takes each named index on it, runs whatever function is on it, and then resolves it into the controller of the thing in the route, as per the <a href=\"https://github.com/angular-ui/ui-router/wiki\" rel=\"nofollow noreferrer\">UI Router Documentation</a>.  It's obvious I'm mis-remembering or mis-understanding something.</p>\n"}, {"tags": ["angular", "typescript", "routing"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 2, "creation_date": 1533677223, "post_id": 51735650, "comment_id": 90432087, "body": "Your route is defined as <code>previewStep</code> but you&#39;re trying to access <code>PreviewStep</code>"}, {"owner": {"reputation": 6470, "user_id": 6230863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008565f2c61035b443406297643f68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine V", "link": "https://stackoverflow.com/users/6230863/antoine-v"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533715748, "post_id": 51735650, "comment_id": 90443178, "body": "ah, I don&#39;t know that route name is case sensitive. I will check it. Thanks so much"}], "answers": [{"tags": [], "owner": {"reputation": 6470, "user_id": 6230863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008565f2c61035b443406297643f68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine V", "link": "https://stackoverflow.com/users/6230863/antoine-v"}, "is_accepted": true, "score": 0, "last_activity_date": 1533800463, "creation_date": 1533800463, "answer_id": 51761375, "question_id": 51735650, "link": "https://stackoverflow.com/questions/51735650/uncaught-in-promise-cannot-match-any-routes-url-segment/51761375#51761375", "title": "Uncaught (in promise) Cannot match any routes. URL Segment:", "body": "<p>In fact, angular routing name is case sensitive.</p>\n\n<p>That means we must change <code>PreviewStep</code> to <code>previewStep</code> to match the route name.</p>\n\n<p>To override this situation, either changer the route name or create a <code>UrlSerializer</code>.</p>\n\n<pre><code>import { DefaultUrlSerializer, UrlSerializer, UrlTree } from '@angular/router';\n\nexport class TitleCaseUrlSerializer extends DefaultUrlSerializer {  \n    public parse(url: string): UrlTree {\n        function toTitleCase(url) {\n            return url.split('/')\n                       .map(segment =&gt; segment ? \n                                       segment[0].toUpperCase() + segment.substr(1) : \n                                       segment)\n                       .join('/');\n        }\n        return super.parse(toTitleCase(url));\n    }\n}\n\n@NgModule({\n   imports: [ ... ],\n   declarations: [ ... ],\n   providers: [\n        {\n            provide: UrlSerializer,\n            useClass: TitleCaseUrlSerializer\n        }\n   ]\n})\n</code></pre>\n"}], "owner": {"reputation": 6470, "user_id": 6230863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008565f2c61035b443406297643f68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine V", "link": "https://stackoverflow.com/users/6230863/antoine-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 0, "accepted_answer_id": 51761375, "answer_count": 1, "score": 1, "last_activity_date": 1533800463, "creation_date": 1533677124, "last_edit_date": 1533760212, "question_id": 51735650, "link": "https://stackoverflow.com/questions/51735650/uncaught-in-promise-cannot-match-any-routes-url-segment", "title": "Uncaught (in promise) Cannot match any routes. URL Segment:", "body": "<p>My application doesn't recognize my route even that I already defined it and imported in <code>app.module</code>. </p>\n\n<p>When receiving the data, I redirect to this but I have always this exception:</p>\n\n<pre><code>onSubmit(){\n    this.transactionService.createTransactionIfNotExist(this.video).subscribe(\n      transaction =&gt; this.router.navigate([transaction.currentStep.action, this.video.id, transaction.token ]));\n  }\n\ntransaction.currentStep.action = PreviewStep\nthis.video.id = 1\ntransaction.token = f54db125-ca01-4afc-b714-76c127abb261\n</code></pre>\n\n<p>and the exception</p>\n\n<blockquote>\n<pre><code>Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'PreviewStep/1/f54db125-ca01-4afc-b714-76c127abb261'\nError: Cannot match any routes. URL Segment: 'PreviewStep/1/f54db125-ca01-4afc-b714-76c127abb261'\n</code></pre>\n</blockquote>\n\n<p><strong>transaction.routing</strong></p>\n\n<pre><code>export const routing: ModuleWithProviders = RouterModule.forChild([\n   { path: 'previewStep/:videoId/:transactionId', component: PreviewStepComponent }\n]);\n</code></pre>\n\n<p><strong>transaction.module</strong></p>\n\n<pre><code>import { PreviewStepComponent } from \"./components/preview-step/preview-step.component\";\nimport { routing } from './transaction.routing';\n\n@NgModule({\n  imports: [\n    CommonModule, routing, FormsModule, SharedModule, RouterModule\n  ],\n  declarations: [PreviewStepComponent],\n  providers: []\n})\nexport class TransactionModule { }\n</code></pre>\n\n<p><strong>app.module</strong></p>\n\n<pre><code>import { AppRoutingModule } from './app-routing.module';\nimport { TransactionModule } from './transaction/transaction.module';\n\n@NgModule({\n  declarations: [\n  ],\n  imports: [\n    AppRoutingModule,\n    TransactionModule,\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\n    HttpModule,\n    HttpClientModule,\n    FormsModule\n  ],\n  providers: [ ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7944901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YXJEJ2R-ZO4/AAAAAAAAAAI/AAAAAAAAAJU/TfKlQrKl5B8/photo.jpg?sz=128", "display_name": "Chester mi ni&#241;o", "link": "https://stackoverflow.com/users/7944901/chester-mi-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1533717314, "post_id": 51735228, "comment_id": 90444171, "body": "I want to show each element from list in CrisisDetailComponent then I should set CrisisDetailComponent with :id. I think the problem is the way to access to that route. I have tried your post but I didn&#39;t get it."}, {"owner": {"reputation": 41, "user_id": 7944901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YXJEJ2R-ZO4/AAAAAAAAAAI/AAAAAAAAAJU/TfKlQrKl5B8/photo.jpg?sz=128", "display_name": "Chester mi ni&#241;o", "link": "https://stackoverflow.com/users/7944901/chester-mi-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1533717754, "post_id": 51735228, "comment_id": 90444457, "body": "Excuse my english, I am not native"}], "tags": [], "owner": {"reputation": 2100, "user_id": 1402073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25cf567b6d9152fce06227b7746e40d3?s=128&d=identicon&r=PG", "display_name": "Andrew Junior Howard", "link": "https://stackoverflow.com/users/1402073/andrew-junior-howard"}, "is_accepted": false, "score": 0, "last_activity_date": 1533675038, "creation_date": 1533675038, "answer_id": 51735228, "question_id": 51735062, "link": "https://stackoverflow.com/questions/51735062/relative-routes-angular-isnt-working/51735228#51735228", "title": "Relative routes angular isn&#39;t working", "body": "<p>I've found that Angular has a preferred way of structuring params which have children pages. I would declare the routes like this:</p>\n\n<pre><code>children: [\n      {\n        path: ':id',\n        component: CrisisListComponent,\n        children: [\n          {\n            path: 'crisis-home',\n            component: CrisisCenterHomeComponent\n          }\n        ]\n      }\n    ]\n</code></pre>\n\n<p>You can then access the route(s) using this:</p>\n\n<pre><code>[routerLink]=\"['./crisis-center/..', crisis.id, 'crisis-home']\"\n</code></pre>\n\n<p>Which would give you:</p>\n\n<pre><code>localhost/crisis-center/1/crisis-home\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7944901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YXJEJ2R-ZO4/AAAAAAAAAAI/AAAAAAAAAJU/TfKlQrKl5B8/photo.jpg?sz=128", "display_name": "Chester mi ni&#241;o", "link": "https://stackoverflow.com/users/7944901/chester-mi-ni%c3%b1o"}, "is_accepted": false, "score": 0, "last_activity_date": 1533725477, "creation_date": 1533725477, "answer_id": 51744850, "question_id": 51735062, "link": "https://stackoverflow.com/questions/51735062/relative-routes-angular-isnt-working/51744850#51744850", "title": "Relative routes angular isn&#39;t working", "body": "<p>I have got that it work, but I don't get to work with nested children.</p>\n\n<p>My new routes is now:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CrisisCenterComponent } from './crisis-center.component';\nimport { CrisisListComponent } from './crisis-list/crisis-list.component';\nimport { CrisisDetailComponent } from './crisis-detail/crisis-detail.component';\nimport { CrisisCenterHomeComponent } from './crisis-center-home/crisis-center-home.component';\nimport { CrisisDetailedComponent } from './crisis-detailed/crisis-detailed.component';\n\nconst crisisRoutes: Routes = [\n  {\n    path: 'crisis-center',\n    component: CrisisCenterComponent,\n    children: [\n      {\n        path: '',\n        component: CrisisListComponent,\n        // children: [\n        //   { path: '', component: CrisisCenterHomeComponent },\n        //   { path: 'crisis/:id', component: CrisisDetailedComponent },\n        // ]\n      },\n      { path: ':id', component: CrisisDetailedComponent },\n      { path: 'home', component: CrisisCenterHomeComponent },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(crisisRoutes)],\n  exports: [RouterModule]\n})\nexport class CrisisCenterRoutingModule { }\n</code></pre>\n\n<p>I don't know why it's only accept one nested routes, perhaps I don't know to access to routes.</p>\n"}], "owner": {"reputation": 41, "user_id": 7944901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YXJEJ2R-ZO4/AAAAAAAAAAI/AAAAAAAAAJU/TfKlQrKl5B8/photo.jpg?sz=128", "display_name": "Chester mi ni&#241;o", "link": "https://stackoverflow.com/users/7944901/chester-mi-ni%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533725477, "creation_date": 1533674325, "last_edit_date": 1533709537, "question_id": 51735062, "link": "https://stackoverflow.com/questions/51735062/relative-routes-angular-isnt-working", "title": "Relative routes angular isn&#39;t working", "body": "<p>I have a feature module, I am following the docs.</p>\n\n<p>My crisis-routing.module seem like this.</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CrisisCenterComponent } from './crisis-center.component';\nimport { CrisisListComponent } from './crisis-list/crisis-list.component';\nimport { CrisisDetailComponent } from './crisis-detail/crisis-detail.component';\nimport { CrisisCenterHomeComponent } from './crisis-center-home/crisis-center-home.component';\n\nconst routes: Routes = [\n  {\n    path: 'crisis-center',\n    component: CrisisCenterComponent,\n    children: [\n      {\n        path: '',\n        component: CrisisListComponent,\n        children: [\n          {\n            path: ':id',\n            component: CrisisDetailComponent\n          },\n          {\n            path: '',\n            component: CrisisCenterHomeComponent\n          }\n        ]\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CrisisCenterRoutingModule { }\n</code></pre>\n\n<p>I supposed that I would access to id with this:</p>\n\n<pre><code> [routerLink]=\"['./crisis-center/..', crisis.id]\"\n</code></pre>\n\n<p>anybody can help me?</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1533672425, "post_id": 51734588, "comment_id": 90430020, "body": "Thanks for the idea, but still it gives me that I  cannot convert Object to date. Any more solutions?"}, {"owner": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1533672759, "post_id": 51734588, "comment_id": 90430190, "body": "AddingEmployeeComponent.html:57 ERROR Error: InvalidPipeArgument: &#39;Unable to convert &quot;[object Object]&quot; into a date&#39; for pipe &#39;DatePipe&#39;"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1533672836, "post_id": 51734588, "comment_id": 90430227, "body": "Please show the object data that you get by printing <code>{{datePicker.date | json}}</code>. I am not asking the error."}, {"owner": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1533672984, "post_id": 51734588, "comment_id": 90430292, "body": "If I use what you are saying i am getting this: { &quot;year&quot;: 2018, &quot;month&quot;: 8, &quot;day&quot;: 7 } But i want to have the date in a proper date format."}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "reply_to_user": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1533673297, "post_id": 51734588, "comment_id": 90430420, "body": "@BillUser88 check the second answer that I just posted"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1533673853, "post_id": 51734588, "comment_id": 90430694, "body": "@BillUser88 Ok, no problem you can still do the transformation by your own within the setter method of <code>datePicker.date</code> property. Please check the updated solution."}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "reply_to_user": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "edited": false, "score": 0, "creation_date": 1534363504, "post_id": 51734588, "comment_id": 90683492, "body": "@BillUser88 I think this line <code>let date = new Date(value.year, value.month, value.year);</code> needs to be updated to subtract 1 from <code>value.month</code> because JavaScript counts months from 0 to 11. January is 0. December is 11"}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 6, "last_activity_date": 1533674359, "last_edit_date": 1533674359, "creation_date": 1533672230, "answer_id": 51734588, "question_id": 51734456, "link": "https://stackoverflow.com/questions/51734456/how-to-display-date-in-html-using-angular/51734588#51734588", "title": "How to display Date in Html using angular?", "body": "<p>You can use Angular <code>DatePipe</code> to convert the date into the format that you wish to display.</p>\n\n<pre><code>&lt;div&gt; {{datePicker.date | date : 'yyyy-MM-dd'}} &lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-date-pipe-amit?file=src/app/app.component.html\" rel=\"noreferrer\">DEMO</a></p>\n\n<p>EDIT : To convert the date object <code>({ \"year\": 2018, \"month\": 8, \"day\": 7 })</code> returned by ngBootstrap to <code>yyyy-MM-dd</code> format, you can do the transformation inside the <code>setter</code> method of <code>datePicker.date</code> property as follows :</p>\n\n<p>module.ts</p>\n\n<p><code>providers : [DatePipe]</code> </p>\n\n<p>service.ts</p>\n\n<pre><code>export class Datepicker {\n  _date: string;\n  constructor(private datePipe: DatePipe) {}\n\n  set date(value) {\n    let date = new Date(value.year, value.month, value.year);\n    this._date= this.datePipe.transform(date, 'yyyy-MM-dd');\n  }\n\n  get date() { \n      return this._date\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "is_accepted": false, "score": 1, "last_activity_date": 1533672605, "creation_date": 1533672605, "answer_id": 51734673, "question_id": 51734456, "link": "https://stackoverflow.com/questions/51734456/how-to-display-date-in-html-using-angular/51734673#51734673", "title": "How to display Date in Html using angular?", "body": "<p>ng-bootstrap datepicker selection gives you an object like this</p>\n\n<pre><code>Model: {\n  \"year\": 2018,\n  \"month\": 8,\n  \"day\": 9\n}\n</code></pre>\n\n<p>You can write initialize a date object from selected model like this:</p>\n\n<pre><code>&lt;div&gt; {{ new Date(datePicker.date.year, (datePicker.date.month - 1), datePicker.date.day) | date : 'yyyy-MM-dd'}} &lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://ng-bootstrap.github.io/#/components/datepicker/examples#popup\" rel=\"nofollow noreferrer\">https://ng-bootstrap.github.io/#/components/datepicker/examples#popup</a></p>\n"}], "owner": {"reputation": 91, "user_id": 5910979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40581a3a074c6529947847e933d7e0d2?s=128&d=identicon&r=PG&f=1", "display_name": "BillUser88", "link": "https://stackoverflow.com/users/5910979/billuser88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10012, "favorite_count": 0, "accepted_answer_id": 51734588, "answer_count": 2, "score": 1, "last_activity_date": 1533674359, "creation_date": 1533671503, "question_id": 51734456, "link": "https://stackoverflow.com/questions/51734456/how-to-display-date-in-html-using-angular", "title": "How to display Date in Html using angular?", "body": "<p>I have two datepickeres in my HTML file using bootstrap and I am trying to display a simple message from this (first selected date) to this (second selected date).</p>\n\n<p>The typescript class is:</p>\n\n<pre><code> export class Datepicker {\n    date: any;\n    } \n</code></pre>\n\n<p>And the HTML is:</p>\n\n<pre><code> &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"hireDate\"&gt;Hire Date:&lt;/label&gt;\n      &lt;form class=\"form-inline\"&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;div class=\"input-group\"&gt;\n            &lt;input class=\"form-control\" name=\"hireDate\" id=\"hireDate\" placeholder=\"yyyy-mm-dd\"\n                   [(ngModel)]=\"datePicker.date\" ngbDatepicker #d=\"ngbDatepicker\"&gt;\n            &lt;div class=\"input-group-append\"&gt;\n              &lt;button class=\"btn btn-outline-secondary\" (click)=\"d.toggle()\" type=\"button\"&gt;\n                &lt;img src=\"/assets/calendar-icon.svg\" style=\"width: 1.2rem; height: 1rem; cursor: pointer;\"/&gt;\n              &lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n&lt;div&gt;{{datePicker.date}} &lt;/div&gt;\n</code></pre>\n\n<p>But it gives me Object as a result and not the selected date.\nAny help?</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 4, "last_activity_date": 1533671857, "creation_date": 1533671857, "answer_id": 51734525, "question_id": 51734440, "link": "https://stackoverflow.com/questions/51734440/import-not-working-with-typescript/51734525#51734525", "title": "Import not working with typescript", "body": "<p>The first example is importing the entire module, while the second one is trying to import a member of the module named <code>jwt2</code>, but <a href=\"https://github.com/auth0/node-jsonwebtoken/blob/master/index.js\" rel=\"nofollow noreferrer\">there is no such member</a>.  To import the entire module using <code>import</code>, try:</p>\n\n<pre><code>import * as jwt2 from 'jsonwebtoken';\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 5450916, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/399a99f54dc892bd78614b6c88743af4?s=128&d=identicon&r=PG&f=1", "display_name": "filemonczyk", "link": "https://stackoverflow.com/users/5450916/filemonczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2904, "favorite_count": 0, "accepted_answer_id": 51734525, "answer_count": 1, "score": 1, "last_activity_date": 1533672522, "creation_date": 1533671442, "last_edit_date": 1533672522, "question_id": 51734440, "link": "https://stackoverflow.com/questions/51734440/import-not-working-with-typescript", "title": "Import not working with typescript", "body": "<p>I'm importing object to a <code>.ts</code> file but it is <code>undefined</code>, when I do the same with <code>require</code> keyword , then it is working. But I'd like to understand whats happening</p>\n\n<pre><code>const jwt = require('jsonwebtoken'); // working\nimport {jwt2} from 'jsonwebtoken'; // not working\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "angularjs-ng-repeat"], "comments": [{"owner": {"reputation": 2088, "user_id": 5648253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/CXpep.jpg?s=128&g=1", "display_name": "Helping hand", "link": "https://stackoverflow.com/users/5648253/helping-hand"}, "edited": false, "score": 1, "creation_date": 1533673332, "post_id": 51734296, "comment_id": 90430435, "body": "Is it angular 1 that you are using?"}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 203939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b6fa5a96418845cd40a81a8e0c39d4?s=128&d=identicon&r=PG", "display_name": "sublimegeek", "link": "https://stackoverflow.com/users/203939/sublimegeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1535741370, "last_edit_date": 1535741370, "creation_date": 1533672598, "answer_id": 51734670, "question_id": 51734296, "link": "https://stackoverflow.com/questions/51734296/angularjs-ng-repeat-multidimensional-array/51734670#51734670", "title": "AngularJS - ng-repeat multidimensional array", "body": "<p>First, if you're using TypeScript, you're using Angular 2+ and not AngularJS.\nTherefore, *ngFor is the right use for this and not ng-repeat.</p>\n\n<p>It works like an iterator in a for loop:</p>\n\n<pre><code>//pseudocode\n\nfor( item in array )\n   //using interpolation\n   {{ item.value }}\n</code></pre>\n\n<p>So, if you're getting Object object, you might want to try going a step further and trying to output a value in your array, like </p>\n\n<pre><code>&lt;p&gt;\n    {{gasStation.stations.name}}\n&lt;/p&gt;\n</code></pre>\n\n<p>Another tip is to console.log your object so you can see how it's coming through.</p>\n"}, {"tags": [], "owner": {"reputation": 2088, "user_id": 5648253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/CXpep.jpg?s=128&g=1", "display_name": "Helping hand", "link": "https://stackoverflow.com/users/5648253/helping-hand"}, "is_accepted": true, "score": 2, "last_activity_date": 1533673141, "last_edit_date": 1533673141, "creation_date": 1533672826, "answer_id": 51734712, "question_id": 51734296, "link": "https://stackoverflow.com/questions/51734296/angularjs-ng-repeat-multidimensional-array/51734712#51734712", "title": "AngularJS - ng-repeat multidimensional array", "body": "<p>You can use <code>ng-repeat</code> to iterate through <code>array of objects</code> and also to iterate <code>each field of the object</code>.</p>\n\n<pre><code>/*First loop will iterate over all objects of gasStation*/\n\n&lt;p ng-repeat=\"station in gasStation\"&gt;//iterating the stations array\n\n  //this 2nd loop will iterate over the objects field: {id: \"XXX\", name: \"XXX\",..}\n\n  &lt;li ng-repeat=\"(key, value) in station\"&gt;//iterating over each field in the object.\n    {{key}} : {{value}}\n  &lt;/li&gt;\n\n&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 8080413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d7e1d6180a96c345a5a4b1ecc4719d0?s=128&d=identicon&r=PG&f=1", "display_name": "morizvonlanga", "link": "https://stackoverflow.com/users/8080413/morizvonlanga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 51734712, "answer_count": 2, "score": 1, "last_activity_date": 1535741370, "creation_date": 1533670828, "last_edit_date": 1533672105, "question_id": 51734296, "link": "https://stackoverflow.com/questions/51734296/angularjs-ng-repeat-multidimensional-array", "title": "AngularJS - ng-repeat multidimensional array", "body": "<p>I know there are already a lot questions about this topic which got answered.</p>\n\n<p>Im new to Angular and haven't understood how the <code>{{variable}}</code> thing exactly works.</p>\n\n<p>Im using an API and the respond is something like that:</p>\n\n<pre><code>data : \"MTS-K\"\nlicense : \"CC BY 4.0 -  https://creativecommons.de\"\nok : true\nstations : Array(3)\n0 : {id: \"XXX\", name: \"XXX\", brand: \"XXX\", street: \"XXX\", place: \"YYY\"}\n1 : {id: \"XXX\", name: \"XXX\", brand: \"XXX\", street: \"XXX\", place: \"YYY\"}\n2 : {id: \"XXX\", name: \"XXX\", brand: \"XXX\", street: \"XXX\", place: \"YYY\"}\n__proto__ : Object\n</code></pre>\n\n<p>My ts to get this data looks like this:     </p>\n\n<pre><code>this.GasStationProvider.getStations(this.location.lat, this.location.lng).subscribe(\ngasStation =&gt; {\n    this.gasStation = gasStation.stations;\n});\n</code></pre>\n\n<p>and my HTML like this:</p>\n\n<pre><code>&lt;p&gt;{{gasStation.stations}}&lt;/p&gt;\n</code></pre>\n\n<p>the rendered HTML like this:</p>\n\n<pre><code>[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]\n</code></pre>\n\n<p>Could you help me how I can display every \"line\" in the station array? Or just send me a link to a good tutorial if you know one.</p>\n\n<p>Thank you very much</p>\n"}, {"tags": ["typescript", "npm", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 1286220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0edd6e7f5da2cdcfa90cd79ae8e03235?s=128&d=identicon&r=PG", "display_name": "xanld", "link": "https://stackoverflow.com/users/1286220/xanld"}, "edited": false, "score": 0, "creation_date": 1533672716, "post_id": 51734458, "comment_id": 90430168, "body": "Hmm. No, but I may be doing it wrong. I&#39;ve added your code to logger.d.ts. My function using TransportInstance is in logger.ts. I&#39;ve not explicitly imported anything into logger.ts. Should I? I&#39;ve also tried adding your code directly into logger.ts, but this doesn&#39;t work either."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 917, "user_id": 1286220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0edd6e7f5da2cdcfa90cd79ae8e03235?s=128&d=identicon&r=PG", "display_name": "xanld", "link": "https://stackoverflow.com/users/1286220/xanld"}, "edited": false, "score": 0, "creation_date": 1533673540, "post_id": 51734458, "comment_id": 90430528, "body": "I tested and it is working for me without the namespace, though I don&#39;t really understand what is going on here.  Edited the answer."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533673516, "last_edit_date": 1533673516, "creation_date": 1533671509, "answer_id": 51734458, "question_id": 51734248, "link": "https://stackoverflow.com/questions/51734248/redeclare-incorrect-typsescript-type-in-3rd-party-library/51734458#51734458", "title": "redeclare incorrect typsescript type in 3rd party library", "body": "<p>Try using <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\" rel=\"nofollow noreferrer\">module augmentation</a>.  This works for me:</p>\n\n<pre><code>declare module \"winston\" {\n    interface TransportInstance extends NodeJS.WriteStream {}\n}\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 1286220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0edd6e7f5da2cdcfa90cd79ae8e03235?s=128&d=identicon&r=PG", "display_name": "xanld", "link": "https://stackoverflow.com/users/1286220/xanld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533673516, "creation_date": 1533670629, "question_id": 51734248, "link": "https://stackoverflow.com/questions/51734248/redeclare-incorrect-typsescript-type-in-3rd-party-library", "title": "redeclare incorrect typsescript type in 3rd party library", "body": "<p>I'm using winston 3.0 with the @types/winston types. These types are not yet fully compatible, and I've come across an error in the types which I don't know how to correct. </p>\n\n<p>Here's my code.</p>\n\n<p><strong>logger.ts</strong></p>\n\n<pre><code>export function middleware(): express.Handler {\n    const transport = new winston.transports.Console({\n        json: true,\n        colorize: true,\n        stringify: getStringify()\n    });\n    const loggerOptions: expressWinston.LoggerOptionsWithTransports = {\n        transports: [transport],\n        meta: true,\n        msg: \"HTTP {{req.method}} {{req.url}}\", \n        expressFormat: true, \n        colorize: false \n    };\n\n    return expressWinston.logger(loggerOptions);\n}\n</code></pre>\n\n<p>The ts error on loggerOptions is </p>\n\n<blockquote>\n  <p>Property 'writable' is missing in type 'TransportInstance'</p>\n</blockquote>\n\n<p>The problem is fixed if I extend the TransportInstance interface in @types/winston with NodeJS.WriteStream. i.e. change this:</p>\n\n<pre><code>interface TransportInstance extends TransportStatic, NodeJS.EventEmitter {\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>interface TransportInstance extends TransportStatic, NodeJS.EventEmitter, NodeJS.WriteStream {\n</code></pre>\n\n<p>But of course, I can't change that because it's a 3rd party dependancy and the declaration is in node_modules. So how do I redeclare an interface which I've imported as an npm dependency?</p>\n\n<p>I've started looking into <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">Declaration Merging</a>:</p>\n\n<p><strong>logger.d.ts</strong></p>\n\n<pre><code>import * as winston from \"winston\";\n\nexport namespace winston {\n    export interface TransportInstance\n        extends winston.TransportInstance,\n            NodeJS.WriteStream {}\n}\n</code></pre>\n\n<p>But this doesn't have any impact. I'm not sure how to import this interface into logger.js instead of the one that comes in when I import the winston library.</p>\n\n<p>Thanks</p>\n"}]