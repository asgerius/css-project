[{"tags": ["javascript", "reactjs", "typescript", "google-chrome-extension", "redux"], "answers": [{"tags": [], "owner": {"reputation": 465, "user_id": 2120138, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0689536c7b50ee27c59921c3ecad1b26?s=128&d=identicon&r=PG", "display_name": "Mike Melusky", "link": "https://stackoverflow.com/users/2120138/mike-melusky"}, "is_accepted": false, "score": -1, "last_activity_date": 1561596960, "creation_date": 1561596960, "answer_id": 56782625, "question_id": 56782033, "link": "https://stackoverflow.com/questions/56782033/dispatch-redux-action-inside-chrome-extension-background-page-with-typescript/56782625#56782625", "title": "Dispatch Redux action inside Chrome Extension Background Page with TypeScript", "body": "<p>A solution/kludge to make this work, define the store like the following:</p>\n\n<pre><code>let store: Store&lt;RootState, any&gt;;\n</code></pre>\n\n<p>which resolves to the following:</p>\n\n<pre><code>export interface Store&lt;S = any, A extends Action = AnyAction&gt; {\n</code></pre>\n\n<p>instead of this:</p>\n\n<pre><code>let store: Store&lt;RootState&gt;;\n</code></pre>\n\n<p>Ideally would pass ThunkAction instead of any type, but ran into generic argument issue.</p>\n"}], "owner": {"reputation": 465, "user_id": 2120138, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0689536c7b50ee27c59921c3ecad1b26?s=128&d=identicon&r=PG", "display_name": "Mike Melusky", "link": "https://stackoverflow.com/users/2120138/mike-melusky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561596960, "creation_date": 1561590830, "question_id": 56782033, "link": "https://stackoverflow.com/questions/56782033/dispatch-redux-action-inside-chrome-extension-background-page-with-typescript", "title": "Dispatch Redux action inside Chrome Extension Background Page with TypeScript", "body": "<p>I'm working on a background page in a Chrome extension that dispatches a Redux action asynchronously with Thunk.  The action creator is defined like the following:</p>\n\n<pre><code>export const executeProcess = (data: Data[]): ThunkAction&lt;Promise&lt;void&gt;, {}, {}, AnyAction&gt; =&gt; async (dispatch: ThunkDispatch&lt;{}, {}, AnyAction&gt;): Promise&lt;void&gt; =&gt; {\n</code></pre>\n\n<p>I'm able to dispatch this perfectly fine from a screen using the component's map dispatch to props, that is:</p>\n\n<pre><code>const mapDispatchToProps = {\n    executeProcess: executeProcess,\n};\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>eventTest = async () =&gt; {\n\n        //\n        //  Kickoff process\n        await this.props.executeProcess(this.props.data);\n    };\n</code></pre>\n\n<p>And the JSX itself:</p>\n\n<pre><code>&lt;button onClick={this.eventTest}&gt;EVENT TESTER&lt;/button&gt;\n</code></pre>\n\n<p>I'm trying to do something similar in the background page, notably:</p>\n\n<pre><code>chrome.alarms.onAlarm.addListener(async () =&gt; {\nawait store.dispatch(executeProcess(store.getState().data))\n});\n</code></pre>\n\n<p>And doing so invokes the following TS error:</p>\n\n<pre><code>Property 'type' is missing in type 'ThunkAction&lt;Promise&lt;void&gt;, {}, {}, AnyAction&gt;' but required in type 'AnyAction'.\n</code></pre>\n\n<p>I'm using the webext-redux NPM package so that I'm able to work with the store in both the screens and background pages and am able to read from the store in the background page, however can't dispatch actions.  The dispatch definition requires an instance of type AnyAction, that is:</p>\n\n<pre><code>export interface AnyAction extends Action\n</code></pre>\n\n<p>However the ThunkAction naturally extends from Action:</p>\n\n<pre><code>export type ThunkAction&lt;R, S, E, A extends Action&gt; = (\n</code></pre>\n\n<p>Is there any way I can change the signature of the action creator so that the dispatch works without issues in both the screens and also the background page?</p>\n\n<p>How I'm declaring my store.ts using the (aforementioned NPM) is the following:</p>\n\n<pre><code>const createStoreWithMiddleware = applyMiddleware(reduxThunk)(createStore);\nlet store: Store&lt;RootState&gt;;\n\nstore = createStoreWithMiddleware(reducers, loadState());\nstore.subscribe(throttle(() =&gt; {\n    saveState(store.getState())\n}, 1000));\n\nwrapStore(store, {\n    portName: constants.ApplicationName,\n});\n\nexport {store};\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "mobx"], "answers": [{"tags": [], "owner": {"reputation": 2646, "user_id": 11321180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ry1X9.jpg?s=128&g=1", "display_name": "Diamond", "link": "https://stackoverflow.com/users/11321180/diamond"}, "is_accepted": false, "score": 0, "last_activity_date": 1561739816, "last_edit_date": 1561739816, "creation_date": 1561668644, "answer_id": 56798305, "question_id": 56781782, "link": "https://stackoverflow.com/questions/56781782/mobx-observable-and-componentdidupdate-not-behaving-as-expected-when-passing-p/56798305#56798305", "title": "Mobx observable and componentDidUpdate() not behaving as expected when passing props [Typescript React]", "body": "<p>Please try to insert one line in <code>render</code> function.</p>\n\n<pre><code>    render() {\n        const { deadletterQueues } = this.props;\n        return (\n            &lt;div&gt;\n                {this.oneDeadletter}\n            &lt;/div&gt;\n        );\n    }\n</code></pre>\n\n<p>In fact, I don't know the reason.</p>\n\n<p>It is much similar to my case <a href=\"https://stackoverflow.com/questions/56797827/update-chart-with-mobx-store\">here</a>.</p>\n\n<p>I will update my answer when I find the reason. :)</p>\n\n<p><strong>EDIT</strong>: I found the reason:</p>\n\n<blockquote>\n  <p><code>MobX</code> only tracks data accessed for observer components if they are directly accessed by <code>render</code></p>\n</blockquote>\n\n<p>For more details: check these below</p>\n\n<p><a href=\"https://mobx.js.org/best/react.html#mobx-only-tracks-data-accessed-for-observer-components-if-they-are-directly-accessed-by-render\" rel=\"nofollow noreferrer\">here</a>   and          <a href=\"https://mobx.js.org/best/react.html#avoid-caching-observables-in-local-fields\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 154, "user_id": 4560561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-NPpR9gfLNoQ/AAAAAAAAAAI/AAAAAAAAAC8/IW9EiNJmyfg/photo.jpg?sz=128", "display_name": "Rial Johnson", "link": "https://stackoverflow.com/users/4560561/rial-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561739816, "creation_date": 1561588864, "question_id": 56781782, "link": "https://stackoverflow.com/questions/56781782/mobx-observable-and-componentdidupdate-not-behaving-as-expected-when-passing-p", "title": "Mobx observable and componentDidUpdate() not behaving as expected when passing props [Typescript React]", "body": "<p>I'm using react + mobx + typescript and want to send a json array from my logic layer to a UI component. The json comes from an async api call. I\"m saving it in a mobx @observable variable and sending it as props to my UI component. I'm relying on <code>componentDidUpdate()</code> in my UI to detect when changes happen, since it's coming from an api call. Things aren't working as expected.</p>\n\n<p>Here's a trimmed version of my logic component:</p>\n\n<pre><code>@observer\nclass DeadletterLogic extends Component&lt;Props, State&gt; {\n\n    @observable queues: any[];\n    @observable deadletterQueues: any[];\n    @observable temp: any;\n\n    private service: DeadletterService;\n\n    constructor(props: any) {\n        super(props);\n\n        // create new service object\n        this.service = new DeadletterService();\n        this.returnDeadletterInfo(this.service);\n\n    }\n\n    async returnDeadletterInfo(service: DeadletterService) {  \n        await this.getQueues(this.service); // get all queues from the service layer\n        await this.getDeadletters(this.service);\n    }\n\n     async getQueues(service: DeadletterService) {\n        // in order to gets a list of queues here, a fetch call must be made in the service layer to the MessageQueueAPI\n\n        let queues = await service.getQueues(); // gets a json array of all the queues\n\n        this.queues = queues.map(data =&gt;\n                 data.id\n        );\n\n    }\n\n    async getDeadletters(service: DeadletterService) {\n\n        this.deadletterQueues = []; // initialize the array\n        let queues = this.queues;\n\n        for (var i = 0; i &lt; queues.length; i++) {\n            let queueToGet = queues[i]; // gets current queue name\n            let deadletters = await service.getByQueue(queueToGet); // gets the json object with this name from service layer\n            this.deadletterQueues.push(deadletters); // pushes that object onto the array\n        }\n    }\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;Deadletters deadletterQueues={this.deadletterQueues}/&gt;         \n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>And here's a trimmed version of my UI:</p>\n\n<pre><code>    deadletterQueues: any[];\n}\n\ninterface State {\n    loading: boolean\n}\n\n@observer\nclass Deadletters extends Component&lt;Props, State&gt; {\n\n    @observable oneDeadletter: any;\n\n    constructor(props: any) {\n        super(props);\n        this.state = { loading: true };\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.deadletterQueues !== prevProps.deadletterQueues) {\n            // here is where I would map the information I need, but this is only hit once\n        }\n    }\n\n    render() {\n        return (\n            &lt;div&gt;\n                {this.oneDeadletter}\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>The issue is that componentDidUpdate is only triggering once, so the intial prop value (of nothing) is all I can get from <code>props.deadletterQueues</code> in the child component. I'd like componentDidUpdate to hit whenever the @observable array is pushed to (or modified) in the parent component so that I can extract data from it in the UI.</p>\n\n<p>Even more confusing, I do get my desired functionality of the prop updating in the child component if I change my logic layer to something like:</p>\n\n<pre><code>    this.temp = deadletters.map(data =&gt;\n        data.messageId);\n    this.deadletterQueues.push(this.temp); // pushes that object onto the array\n</code></pre>\n\n<p>and push <code>this.temp</code> as props instead. However, I need to be able to map from the UI, so this doesn't work for me. I'm struggling to see why one of these actions causes <code>componentDidUpdate</code> to trigger when the @observable in the parent changes and the other does not.</p>\n\n<p>Any enlightment on this would be very much appreciated. I believe it's a mobx thing and has to do with pushing values to an array not being recognized as a change, but I'm not sure about that.</p>\n"}, {"tags": ["angular", "typescript", "rest", "http"], "comments": [{"owner": {"reputation": 874, "user_id": 6245711, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cc01ca23bfdf3ed2edbf00c35c46afa3?s=128&d=identicon&r=PG&f=1", "display_name": "caden311", "link": "https://stackoverflow.com/users/6245711/caden311"}, "edited": false, "score": 1, "creation_date": 1561589051, "post_id": 56781351, "comment_id": 100118475, "body": "This is probably something you will want to fix on the backend, which it looks like you haven&#39;t provided that code.. If it were me, I would have a POST add a new record and a PUT update the record that already exists."}, {"owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "reply_to_user": {"reputation": 874, "user_id": 6245711, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cc01ca23bfdf3ed2edbf00c35c46afa3?s=128&d=identicon&r=PG&f=1", "display_name": "caden311", "link": "https://stackoverflow.com/users/6245711/caden311"}, "edited": false, "score": 0, "creation_date": 1561595272, "post_id": 56781351, "comment_id": 100119685, "body": "I added some backend code to show you what I got."}, {"owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "edited": false, "score": 0, "creation_date": 1561620506, "post_id": 56781351, "comment_id": 100126166, "body": "@Kryoke Check my answer is working for you"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561625479, "post_id": 56783530, "comment_id": 100128833, "body": "It gives a 204 response when I use put, but it doesnt show up in my rest server or database."}], "tags": [], "owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "is_accepted": false, "score": 0, "last_activity_date": 1561606505, "creation_date": 1561606505, "answer_id": 56783530, "question_id": 56781351, "link": "https://stackoverflow.com/questions/56781351/how-to-post-data-to-the-latest-added-resource-record-in-database/56783530#56783530", "title": "How to post data to the latest added resource/record in database?", "body": "<p>The reason is you are using <strong><code>HTTP POST</code></strong> request to updating an existing record. That causes to create a new record instead updating an existing record. As I can see url is same for creating and updating. To Differentiate create or update you should use <strong><code>HTTP PUT</code></strong>. Change your code as below.</p>\n\n<pre><code>this.http.put('http://localhost:8080/aquadine-jee/resources/restaurant', JSON.parse(myJsonString.valueOf()), httpOptions)\n  .subscribe(res =&gt; {\n      console.log('response' + ' ' + res); // log results otherwise log error\n    },\n    err =&gt; {\n      console.log('Error occured');\n    });\n</code></pre>\n\n<ul>\n<li><strong>It is better If you can move your API calls for Service Class.</strong></li>\n<li><strong>Learn Rest API.</strong> </li>\n</ul>\n"}], "owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561606505, "creation_date": 1561585676, "last_edit_date": 1561595244, "question_id": 56781351, "link": "https://stackoverflow.com/questions/56781351/how-to-post-data-to-the-latest-added-resource-record-in-database", "title": "How to post data to the latest added resource/record in database?", "body": "<p>I want to post specific data to a existing record in the database using a POST method. The row where I am inserting it is empty. Everytime I POST something it makes an new record. What is the easiest way to achieve this?</p>\n\n<p>I use Angular for the frontend and Glassfish RESTful server as my backend.</p>\n\n<p>Typescript file:</p>\n\n<pre><code>export class MenuComponent implements OnInit {\n\n  public codeValue: string;\n  baseurl =  'http://localhost:8080/aquadine-jee/resources/restaurant';\n\n// Empty array of menu list\n  codeList = [];\n\n  // List of Mcdonalds menu\n  codeListMcd = [\n    {menu: 'Hamburger menu'},\n    {menu: 'Big mac menu'},\n    {menu: 'Quarter Pounder menu'},\n    {menu: 'Maestro burger menu'},\n    {menu: 'Big Tasty menu'}\n  ];\n\n  // List of Kentucky Fried chicken menu\n  codeListKfc = [\n    {menu: 'Chicken burger menu'},\n    {menu: 'Chicken bucket menu'},\n    {menu: 'Spicy chicken menu'},\n    {menu: 'Tender chicken menu'},\n    {menu: 'Chicken nuggets menu'}\n  ];\n\n  // List of Burger King menu\n  codeListBk = [\n    {menuid: 1, menu: 'Whopper burger menu', price: 3.50},\n    {menuid: 2, menu: 'Texas Bacon king menu', price: 5.50},\n    {menuid: 3, menu: 'Double Steakhouse menu', price: 5.50},\n    {menuid: 4, menu: 'Chili Cheese burger menu', price: 6.50},\n    {menuid: 5, menu: 'Chicken Tendercrisp menu', price: 6.50}\n  ];\n\n  // List of Dominos pizza menu\n  codeListDp = [\n    {menuid: 1, menu: 'Pizza Shoarma menu', price: 3.50},\n    {menuid: 2, menu: 'Pizza Roasted veggie menu', price: 5.50},\n    {menuid: 3, menu: 'Pizza Bbq mixed grill menu', price: 5.50},\n    {menuid: 4, menu: 'Pizza Hawaii menu', price: 6.50},\n    {menuid: 5, menu: 'Pizza Americana menu', price: 6.50}\n  ];\n\n  // List of New York pizza menu\n  codeListNyp = [\n    {menu: 'Pizza Double Tasty menu'},\n    {menu: 'Pizza Mixed Grill menu'},\n    {menu: 'Pizza Margherita menu'},\n    {menu: 'Pizza BBQ Meatlovers'},\n    {menu: 'Pizza Downtown Doner menu'}\n  ];\n\n\n  @ViewChild('f', {static: true}) form: NgForm;\n\n  menu = {\n    menuid: ' ',\n    menu: ' ',\n    price: ' '\n  };\n\n\n\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json',\n      Authorization: 'my-auth-token'\n    })\n  };\n\n\n\n  constructor(private http: HttpClient) {\n  }\n\n  // Get the selected restaurant and fill the datalist with data\n  ngOnInit() {\n    this.http.get('http://localhost:8080/aquadine-jee/resources/restaurant')\n      .subscribe(\n        val =&gt; {\n          const restStr = val;\n          console.log(restStr);\n          console.log(restStr[0].menu);\n          // @ts-ignore\n          const restNaam = JSON.stringify(restStr[restStr.length - 1].name);\n          console.log(restNaam);\n          if (restNaam.toString() === '\"Mcdonalds\"') {\n\n            this.codeList = this.codeListMcd;\n\n          } else if (restNaam.toString() === '\"Kentucky Fried Chicken\"') {\n            this.codeList = this.codeListKfc;\n          } else if (restNaam.toString() === '\"Burger King\"') {\n            this.codeList = this.codeListBk;\n          } else if (restNaam.toString() === '\"Dominos pizza\"') {\n            this.codeList = this.codeListDp;\n          } else if (restNaam.toString() === '\"New York Pizza\"') {\n            this.codeList = this.codeListNyp;\n          }\n        }\n      );\n\n\n  }\n\n// Method to POST the menu data to the backend\n  public saveMenu(e): void {\n\n    const menu = e.target.value;\n    const list = this.codeList.filter(x =&gt; x.menu === menu)[0];\n\n\n    this.menu.menu = list.menu;\n\n\n\n    // HttpHeader to give the content type\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json'\n      })\n    };\n\n// Array with data assigned to a const\n    const data = {\n      menu: list.menu\n    };\n\n\n\n    console.log(data)\n    const myJsonString = JSON.stringify(data);\n    console.log(myJsonString.valueOf());\n    console.log(JSON.stringify(data) + 'test1234568910');\n\n\n\n\n    this.http.post('http://localhost:8080/aquadine-jee/resources/restaurant', JSON.parse(myJsonString.valueOf()), httpOptions)\n      .subscribe( // subscribe to observable http.post\n        res =&gt; {\n          console.log('response' + ' ' + res); // log results otherwise log error\n        },\n        err =&gt; {\n          console.log('Error occured');\n        }\n      );\n</code></pre>\n\n<p>I am trying to post data to the latest/newest added record in this link:</p>\n\n<pre><code>'http://localhost:8080/aquadine-jee/resources/restaurant'\n</code></pre>\n\n<p>Backend code:</p>\n\n<pre><code>package nl.aquadine.model;\n\nimport javax.persistence.*;\n\n\n\n//@NamedQueries({\n//  @NamedQuery(name = \"Restaurant.findOne\", query = \"select m from Restaurant m where m.id = :id\"),\n//  @NamedQuery(name = \"Restaurant.getAll\", query = \"select m from Restaurant m\")\n//})\n/**\n * @author Fethi\n */\n@Entity\n@Table(name = \"restaurant\")\npublic class Restaurant {\n\n  @Id\n  @GeneratedValue\n  private Long restaurantId;\n\n  private String name;\n  private String address;\n  private String menu;\n\n  public Restaurant(){\n\n  }\n\n  public Restaurant(String name, String address) {\n    this.name = name;\n    this.address = address;\n    this.menu = menu;\n  }\n\n  public Long getRestaurantId() {\n    return restaurantId;\n  }\n\n  public void setRestaurantId(Long restaurantId) {\n    this.restaurantId = restaurantId;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getAddress() {\n    return address;\n  }\n\n  public void setAddress(String address) {\n    this.address = address;\n  }\n\n  public String getMenu() {\n    return menu;\n  }\n\n  public void setMenu(String menu) {\n    this.menu = menu;\n  }\n}\n\n</code></pre>\n\n<pre><code>package nl.aquadine.rest;\n\n\nimport nl.aquadine.model.Restaurant;\n\nimport nl.aquadine.service.Impl.RepositoryServiceImpl;\nimport nl.aquadine.service.RepositoryService;\n\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.util.List;\n\n/**\n * @author Fethi\n */\n\n\n@Path(\"restaurant\")\npublic class RestaurantResource {\n\n\n  private RepositoryService repositoryService;\n\n  public RestaurantResource() {\n    repositoryService = RepositoryServiceImpl.getInstance();\n  }\n\n  @GET\n  @Produces(\"application/json\")\n  public Response all(){\n    List&lt;Restaurant&gt; all = repositoryService.getAllRestaurants();\n    return  Response\n      .status(200)\n      .header(\"Access-Control-Allow-Origin\", \"*\")\n      .entity(all)\n      .build();\n  }\n\n\n  @GET\n  @Path(\"/{id}\")\n  @Consumes(\"application/json\")\n  public Response getRestaurant(@PathParam(\"id\") Integer id){\n    Restaurant restaurant = repositoryService.find(id);\n    return Response\n      .status(200)\n      .entity(restaurant)\n      .build();\n  }\n\n\n  @GET\n  @Path(\"/name{restaurantName}\")\n  @Consumes(\"application/json\")\n  public Response getAllRestaurantNames(@PathParam(\"restaurantName\") String restaurantName){\n    Restaurant restaurantNames = repositoryService.getAllRestaurantNames(restaurantName);\n    return Response\n      .status(200)\n      .entity(restaurantNames)\n      .build();\n  }\n\n\n  @Produces(MediaType.APPLICATION_JSON)\n  public List&lt;Restaurant&gt; getAllRestaurants(){\n    return repositoryService.getAllRestaurants();\n  }\n\n\n  /**\n   * Saves restaurant JSON\n   * @param restaurant\n   * @return response\n   */\n  @POST\n  @Consumes(\"application/json\")\n  public Response save(Restaurant restaurant){\n    System.out.println(\"TESTING\");\n    repositoryService.save(restaurant);\n    return Response\n            .status(201)\n            .build();\n  }\n\n  @PUT\n  @Consumes(\"application/json\")\n  public void update(Restaurant restaurant) {\n    repositoryService.update(restaurant);\n  }\n\n  @DELETE\n  @Path(\"/{id}\")\n  @Consumes(\"application/json\")\n  public void delete(@PathParam(\"id\") Integer id) {\n    Restaurant restaurant = repositoryService.find(id);\n    repositoryService.delete(restaurant);\n  }\n\n\n}\n\n</code></pre>\n"}, {"tags": ["node.js", "mongodb", "typescript", "express", "mongoose"], "comments": [{"owner": {"reputation": 11165, "user_id": 5619724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxwzV.jpg?s=128&g=1", "display_name": "kevinadi", "link": "https://stackoverflow.com/users/5619724/kevinadi"}, "edited": false, "score": 0, "creation_date": 1561612396, "post_id": 56781121, "comment_id": 100122767, "body": "I got your code working exactly like you wanted without any modifications at all. Are you using a localhost database? If not, it might be network latency. How long you waited for the <code>Created</code> message?"}, {"owner": {"reputation": 145, "user_id": 10221518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFkRa.gif?s=128&g=1", "display_name": "Mauricio Contreras", "link": "https://stackoverflow.com/users/10221518/mauricio-contreras"}, "edited": false, "score": 0, "creation_date": 1561627440, "post_id": 56781121, "comment_id": 100129973, "body": "For what I see in your log, your connection is not ready when attempting to save a document. Maybe setting a higher number in the connections pool or establishing a longer reconnect tries do the trick."}, {"owner": {"reputation": 23, "user_id": 11336946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mKis1XorrkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerbic9_unjQzluvuFZHMggijqisw/mo/photo.jpg?sz=128", "display_name": "Lucas Szavara", "link": "https://stackoverflow.com/users/11336946/lucas-szavara"}, "reply_to_user": {"reputation": 11165, "user_id": 5619724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxwzV.jpg?s=128&g=1", "display_name": "kevinadi", "link": "https://stackoverflow.com/users/5619724/kevinadi"}, "edited": false, "score": 0, "creation_date": 1561645589, "post_id": 56781121, "comment_id": 100141007, "body": "@kevinadi I&#39;m using a localhost database and waited around 2 minutes"}, {"owner": {"reputation": 23, "user_id": 11336946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mKis1XorrkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerbic9_unjQzluvuFZHMggijqisw/mo/photo.jpg?sz=128", "display_name": "Lucas Szavara", "link": "https://stackoverflow.com/users/11336946/lucas-szavara"}, "reply_to_user": {"reputation": 145, "user_id": 10221518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFkRa.gif?s=128&g=1", "display_name": "Mauricio Contreras", "link": "https://stackoverflow.com/users/10221518/mauricio-contreras"}, "edited": false, "score": 0, "creation_date": 1561645640, "post_id": 56781121, "comment_id": 100141037, "body": "@MauricioContreras I updated the question with your suggestion, but that didn&#39;t workout"}], "owner": {"reputation": 23, "user_id": 11336946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mKis1XorrkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerbic9_unjQzluvuFZHMggijqisw/mo/photo.jpg?sz=128", "display_name": "Lucas Szavara", "link": "https://stackoverflow.com/users/11336946/lucas-szavara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565185610, "creation_date": 1561584483, "last_edit_date": 1565185610, "question_id": 56781121, "link": "https://stackoverflow.com/questions/56781121/mongoose-closing-connection-on-request", "title": "Mongoose closing connection on request", "body": "<p>I have a node application using express and mongoose. It connects fine, but when I try to read or write in the database, the function does not end, does not throw any error and does not modify the database   </p>\n\n<p>My environment is:</p>\n\n<p>Xubuntu 19.04,</p>\n\n<p>Node v11.15.0,</p>\n\n<p>Mongod 3.6.8,</p>\n\n<p>Yarn 1.16.0,</p>\n\n<p>Mongoose ^5.6.1,</p>\n\n<p>@types/mongoose ^5.5.6,</p>\n\n<p>typescript ^3.5.2.</p>\n\n<p>I already tried connecting right before accessing the database, but the same happens</p>\n\n<p>Here is where I connect the server with the mongo</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const MONGO_HOSTNAME = 'localhost';\nconst MONGO_PORT = '27017';\nconst MONGO_DB = 'database';\nconst url = `mongodb://${MONGO_HOSTNAME}:${MONGO_PORT}/${MONGO_DB}`;\n\nconst db = mongoose.connection;\n\ndb.on('error', () =&gt; { console.log('connection error') });\ndb.on('connected', () =&gt; {\n    console.log('mongodb connected');\n    console.log(`${db.readyState}`);\n});\ndb.on('disconnected', () =&gt; { console.log('mongodb disconnected') });\ndb.on('close', () =&gt; { console.log('mongodb closed') });\n\nmongoose.connect(url, { useNewUrlParser: true, useFindAndModify: false });\n\n</code></pre>\n\n<p>My query:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>server.post('/signup',(req: any, res: any, done: any) {\n    const username: string = req.body['username'];\n    const email: string = req.body['email'];\n    const password: string = req.body['password'];\n    console.log(db.readyState);\n    bcrypt.hash(password, 10, (err, hash) =&gt; {\n        if (err) {\n            console.log(err);\n            res.status(501).send('Error');\n        } else {\n            const admin = new adminSchema({\n                'username': username,\n                'email': email,\n                'password': hash,\n            });\n            console.log('Calling save');\n            admin.save(function (err) {\n                if (err) {\n                    console.log(err);\n                    res.status(501).send('Error');\n                }\n                else {\n                    console.log('Created!');\n                    res.send(admin);\n                }\n            });\n            console.log('After saving');\n        }\n    });\n});\n</code></pre>\n\n<p>And here is my Scheme</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Schema, Document, Mongoose } from 'mongoose';\n\nexport interface IAdmin extends Document {\n    email: string,\n    username: string,\n    password: string,\n    linkedUserID: string\n};\n\nvar AdminSchema: Schema = new Schema({\n    username: String,\n    email: String,\n    password: String,\n    linkedUserID: String\n});\n\nexport default new Mongoose().model&lt;IAdmin&gt;('Admin', AdminSchema);\n</code></pre>\n\n<p>I expected the user to be created, the response to be a instance of a admin and the logs to be:</p>\n\n<pre><code>mongodb connected\n1\n1\nCalling save\nAfter saving\nCreated!\n</code></pre>\n\n<p>but neither the user nor the collection is created, the client doesn't get any response and the logs are:</p>\n\n<pre><code>mongodb connected\n1\n0\nCalling save\nAfter saving\n</code></pre>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>I tried set a higher number in the poolSize property and establish a  reconnectTries to a higher number, but that didn't workout. Here is the code that I used to try that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>mongoose.connect(url, {\n    useNewUrlParser: true,\n    poolSize: 40,\n    reconnectTries: 1000,\n    reconnectInterval: 100,\n}, (err) =&gt; {\n    console.log(`Error:\\n${err}`);\n});\n</code></pre>\n\n<p>The output of that code is:</p>\n\n<pre><code>mongodb connected\n1\nError:\nnull\n0\nCalling save\nAfter saving\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>I'm able to create a document using the mongo shell and the mongo compass</p>\n\n<p><strong>EDIT 3:</strong></p>\n\n<p>The same happens in a Atlas Cluster using mongo 4.0.10 </p>\n\n<p><strong>EDIT 4:</strong></p>\n\n<p>Using the mongodb instead of mongoose works</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561594359, "post_id": 56781010, "comment_id": 100119544, "body": "Looks like another question to add to the pile... TypeScript lacks good support for <a href=\"https://github.com/Microsoft/TypeScript/issues/30581\" rel=\"nofollow noreferrer\">correlated record types</a>, so you&#39;ll probably need to use type assertions."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10798610, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ueV5bwaDAY8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hK9xKJVpkTy9npR_LMNcB1_9699Q/mo/photo.jpg?sz=128", "display_name": "nret", "link": "https://stackoverflow.com/users/10798610/nret"}, "edited": false, "score": 0, "creation_date": 1561641989, "post_id": 56782563, "comment_id": 100138605, "body": "Thanks for the great explanation. I wish TS had better support for this!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1561596194, "creation_date": 1561596194, "answer_id": 56782563, "question_id": 56781010, "link": "https://stackoverflow.com/questions/56781010/typescript-how-to-map-objects-in-a-discriminated-union-to-functions-they-can-be/56782563#56782563", "title": "TypeScript: How to map objects in a discriminated union to functions they can be called with?", "body": "<p>I'm afraid that you're going to have to use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to avoid code duplication here.  TypeScript's type system just doesn't have good support for these <a href=\"https://github.com/Microsoft/TypeScript/issues/30581\" rel=\"nofollow noreferrer\">\"correlated record types\"</a> or any manipulation that relies on the interaction of two union-typed values where the unions are not independent.  </p>\n\n<p>You've already arrived at the redundant-code-in-<code>switch</code>-statement workaround; here's the unsafe-assertion workaround:</p>\n\n<pre><code>function assertNarrowFunction&lt;F extends (arg: any) =&gt; any&gt;(f: F) {\n  return f as (arg: Parameters&lt;F&gt;[0]) =&gt; ReturnType&lt;F&gt;; // assert\n}\n</code></pre>\n\n<p>That takes a function of a union type like <code>((a: string)=&gt;number) | ((a: number)=&gt;boolean)</code> and unsafely <em>narrows</em> it to a function which takes the union of its parameter types and returns the union of its return type, like <code>((a: string | number) =&gt; string | number)</code>.  This is unsafe because a function of the former union type could be something like <code>const f = Math.random()&lt;0.5 ? ((a: string)=&gt;a.length) : ((a: number)=&gt;number.toFixed())</code>, which definitely <em>does not</em> match <code>((a: string | number) =&gt; string | number)</code>.  I can't safely call <code>f(5)</code> because maybe <code>f</code> is the string-length function.</p>\n\n<p>Anyway, you can use this unsafe narrowing on <code>renderFn</code> to silence the error:</p>\n\n<pre><code>function renderFnAssertion(field: FormField) {\n  const renderFn = assertNarrowFunction(fieldMapping[field.type]);\n  renderFn(field.data); // okay\n}\n</code></pre>\n\n<p>You've lied to the compiler a bit about the type of <code>renderFn</code>... not so much that it will accept any old argument (e.g., <code>renderFn(123)</code> will fail as desired), but enough that it would allow this:</p>\n\n<pre><code>function badRenderFn(field1: FormField, field2: FormField) {\n  const renderFn1 = assertNarrowFunction(fieldMapping[field1.type]);\n  renderFn1(field2.data); // no error!!! ooops\n}\n</code></pre>\n\n<p>So you have to be careful. </p>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAKhAewBiBLCAbAJgEQIbFygF4oBvKAN13QFcIAuKAZ2ACcUA7AcygF8BuAFChIsBMjRZiZKCIZQARMHEL+UTPlyM4iVBhya+QuVADKGCAGMJ+vAWnkA9mGApHHJoxbtuAbQC6akwW1hCYAGrUdF5snDwCwuDQ5uhWNlIk5HKMCsGp1qrqmowpaXpYdoQJJkiOrAC25ZjSOunNAD5mIW1CggBmNBzWbhxQrBAcmBCsrU0AFGCszp5iupIGBACUZLz9g8PuYxNTrKXW84vLJd1Nlduku4KW7ixQfesAsrhgYHEOglBZOJGONJtNZusADQA5jdEHHaZnNqCBKCAD0aKguCYwVYwFkAAt8Fi3vtXIc+rJcABrCBMQnQABUgxGjKgjkp1HQUBQwHpYFwrFw9QgylYTGhGKgAHcCShLASefTBkxcH0IHshuTRtjccAAHKCpbSpBkkYAHiQUHEx3pc0FXEYuA4IG2RAAfFiXe65n1GEh7jDxsAaKxRpy7Q7GAAFQXC0XTJiW92+AAM-jdnoASqLQxwYElk0JHgMtSMjmDWEgOABBHHTbW+9b+uqNdaBwHPDz40EnavSXUNw2sY2msvuJv6L4-OK+d76AB0cgzQkBvem1cnWAXGi2ailjmpuBAKMEmoOowARrhMDnK5v51gAIwthpNSFvdYAJlfbf0HagLtXnXKsOCfAd6zxYdRzNCdH0wadfj8eCnyXJIVyDBFQKfLdMC-HdNE2fdMQ4RxrRHOoAEJqPZRxllPIA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 10798610, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ueV5bwaDAY8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hK9xKJVpkTy9npR_LMNcB1_9699Q/mo/photo.jpg?sz=128", "display_name": "nret", "link": "https://stackoverflow.com/users/10798610/nret"}, "edited": false, "score": 1, "creation_date": 1561641941, "post_id": 56782570, "comment_id": 100138575, "body": "Thanks -- some useful tidbits in here, I like that <code>FindByType</code>!"}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 3, "last_activity_date": 1561599927, "last_edit_date": 1561599927, "creation_date": 1561596281, "answer_id": 56782570, "question_id": 56781010, "link": "https://stackoverflow.com/questions/56781010/typescript-how-to-map-objects-in-a-discriminated-union-to-functions-they-can-be/56782570#56782570", "title": "TypeScript: How to map objects in a discriminated union to functions they can be called with?", "body": "<h2>Possible Approach</h2>\n\n<p>Here it is <a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAKhAewBiBLCAbAJgEQIbFygF4oBvKAN13QFcIAuKAZ2ACcUA7AcygF8AoUJFgJkaLMTJQhDKAHJgouQBoomfLkZxEqDDg19B4aAGUMEAMZi9eApPIB7MMBQOOTRi3bcA2gF1VJnMrCEwANWo6TzZOHgEZKDN0S2sJEnIZRjkg5KsVNQ1GJJTdLFtCeOMoJAdWAFtSzEltVKaAH0Tg1v5+ADMaDitXDihWCA5MCFYWxoAKMFYnDxEdcX0CAEopAX7BlzdR8cnWYqs5haWirsbyrfIBfgs3FihetYBZXDAwWMZGz++sXs-CgoOkokYYwmUxma2UILBORSkKOU1OrXhDwA9FjYAALFBMKCE6R46AcCAAdygACN0A4LABrKAOXpQJ6TAB0RmEqAmACEQDBjAAeACqHGGqmFkAAfJIJcMoKIjkSMsYtFVeFAAPxQRUHRgUihTADcPOgMAACrhWLg6iKZRB5SQ+ZhBU6RTV6o1pcZZT45OoCHI-OaEjAkAMhm5Hf7JPNFmBltbbfa43KtkR5RQHChMOa+tH9iMoccbg4IEwAHIOYAAdVqjNmbz0f1qDTWdwRoJx+JJJOAZPZuBeQ-wzAgEDqRIGuFz+dwdOglJQQ4cNGA7NqY3Q+FChyerCaMiY3LB2-cW7LUyQIxIrawAJ+vkfmE5Mj8UFHsCje2GIoyKyrxrB+-rmheN6sHeLagcGuAbPwDwJP8Xwvjw6Q9lAPgANIQCAxIjN6nZ6IGMihn4Wh-jGHAinhICyuavBAA\" rel=\"nofollow noreferrer\">in the playground</a>.</p>\n\n<p>A benefit of this approach is that if we delete all the type information, we are left with the original vanilla JavaScript from your question. The only downside that I see is the <code>as</code> to workaround the lack of correlated record types that <code>jcalz</code> noted. In this case it seems fine, because we do know more than the compiler knows, and we are not losing any type safety.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type TextFieldData = { value: string }\ntype TextField = { type: 'text', data: TextFieldData }\ntype SelectFieldData = { options: string[], selectedValue: string }\ntype SelectField = { type: 'select', data: SelectFieldData }\ntype FormField = TextField | SelectField\n\nfunction renderTextField(props: TextFieldData) { }\nfunction renderSelectField(props: SelectFieldData) { }\n\nconst fieldMapping = {\n    text: renderTextField,\n    select: renderSelectField,\n}\n\n// This is the new block of code.\ntype FindByType&lt;Union, Type&gt; = Union extends { type: Type } ? Union : never;\ntype TParam&lt;Type&gt; = FindByType&lt;FormField, Type&gt;['data'];\ntype TFunction&lt;Type&gt; = (props: TParam&lt;Type&gt;) =&gt; void;\n\nfunction renderFieldDoesNotWork(field: FormField) {\n    // This is the cast that seems unavoidable without correlated record types.\n    const renderFn = fieldMapping[field.type] as TFunction&lt;typeof field.type&gt;;\n    renderFn(field.data)\n}\n</code></pre>\n\n<h2>Additional Type Safety</h2>\n\n<p>In the code from your question, the compiler would not complain if a developer made a mistake in the mapping like this: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fieldMappingOops = {\n    select: renderTextField, // no compiler error\n    text: renderTextField,\n}\n</code></pre>\n\n<p>We can add a new type that would tell the compiler to complain in that situation: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type FieldMapping = {\n    [Key in FormField['type']]: TFunction&lt;Key&gt;;\n}\n\nconst fieldMappingOops: FieldMapping = {\n    select: renderTextField, // compiler error\n    text: renderTextField,\n}\n</code></pre>\n\n<h2>Additional Details</h2>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/17915#issuecomment-413347828\" rel=\"nofollow noreferrer\">This GitHub comment</a> by Ryan Cavanaugh inspired this approach. The <code>FindByType</code> gives us some of the type-narrowing power that we get from <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#tagged-union-types\" rel=\"nofollow noreferrer\">tagged union</a> / <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">discriminated union</a> types when we use them with <code>switch</code> and <code>if</code> statement. </p>\n\n<p>Here are how the types that are related to that comment expand when given relevant inputs:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// type f1 = {\n//     type: \"text\";\n//     data: TextFieldData;\n// }\ntype f1 = FindByType&lt;FormField, 'text'&gt;;\n\n// type f2 = {\n//     value: string;\n// }\ntype f2 = TParam&lt;'text'&gt;;\n\n// type f3 = (props: TextFieldData) =&gt; void\ntype f3 = TFunction&lt;'text'&gt;;\n\n// type f4 = TextField | SelectField\ntype f4 = FindByType&lt;FormField, 'text' | 'select'&gt;;\n\n// type f5 = TextFieldData | SelectFieldData\ntype f5 = TParam&lt;'text' | 'select'&gt;;\n\n// type f6 = (props: TextFieldData | SelectFieldData) =&gt; void\ntype f6 = TFunction&lt;'text' | 'select'&gt;;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10798610, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ueV5bwaDAY8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hK9xKJVpkTy9npR_LMNcB1_9699Q/mo/photo.jpg?sz=128", "display_name": "nret", "link": "https://stackoverflow.com/users/10798610/nret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 1, "accepted_answer_id": 56782563, "answer_count": 2, "score": 5, "last_activity_date": 1561599927, "creation_date": 1561583866, "question_id": 56781010, "link": "https://stackoverflow.com/questions/56781010/typescript-how-to-map-objects-in-a-discriminated-union-to-functions-they-can-be", "title": "TypeScript: How to map objects in a discriminated union to functions they can be called with?", "body": "<p>In vanilla JS, I'm able to write some code that looks something like the following:</p>\n\n<pre><code>function renderTextField(props) { }\nfunction renderSelectField(props) { }\n\nconst fieldMapping = {\n    text: renderTextField,\n    select: renderSelectField,\n};\n\nfunction renderField(field) {\n    const renderFn = fieldMapping[field.type];\n    renderFn(field.data);\n}\n</code></pre>\n\n<p>Using 2 types of fields just to keep the example small, but the nice thing about this code is that the generic method doesn't need to know about the type of field, and it delegates the decision to the mapping provided by <code>fieldMapping</code>.</p>\n\n<p>I'm trying to write something similar in <code>TypeScript</code>. But I can't figure out how to get the types to work and still use an object to provide a mapping between <code>type</code> and the function to delegate to.</p>\n\n<p>I realise that I could use a switch statement or conditionals instead of an object to map things, but I would prefer to do it this way if at all possible.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type TextFieldData = { value: string }\ntype TextField = { type: 'text', data: TextFieldData }\ntype SelectFieldData = { options: string[], selectedValue: string }\ntype SelectField = { type: 'select', data: SelectFieldData }\ntype FormField = TextField | SelectField\n\nfunction renderTextField(props: TextFieldData) {}\nfunction renderSelectField(props: SelectFieldData) {}\n\nconst fieldMapping = {\n  text: renderTextField,\n  select: renderSelectField,\n}\n\n// This won't work!\nfunction renderFieldDoesNotWork(field: FormField) {\n  const renderFn = fieldMapping[field.type]\n\n  // Type 'TextFieldData' is missing the following properties from type 'SelectFieldData': options, selectedValue\n  renderFn(field.data)\n}\n\n// This works\nfunction renderFieldWorks(field: FormField) {\n  if (field.type === 'text') {\n    const renderFn = fieldMapping[field.type]\n    renderFn(field.data)\n  } else if (field.type === 'select') {\n    const renderFn = fieldMapping[field.type]\n    renderFn(field.data)\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "class", "dynamic", "textbox"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5582020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ae580359b0d21132fd54c0fce6fc36?s=128&d=identicon&r=PG&f=1", "display_name": "toupin", "link": "https://stackoverflow.com/users/5582020/toupin"}, "edited": false, "score": 0, "creation_date": 1561650642, "post_id": 56781748, "comment_id": 100144013, "body": "The whole thing is going on a keydown event binding, which doesn&#39;t let me use any non-default functions or whatever they&#39;re called. I can&#39;t use ElementRef because the document itself doesn&#39;t understand what it is"}], "tags": [], "owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "is_accepted": false, "score": 0, "last_activity_date": 1561588581, "creation_date": 1561588581, "answer_id": 56781748, "question_id": 56780757, "link": "https://stackoverflow.com/questions/56780757/getting-dynamically-added-textbox-value-in-angular/56781748#56781748", "title": "Getting dynamically added textbox value in Angular", "body": "<p><strong>You can do this in Angular Way as follows.</strong></p>\n\n<pre><code>import { ElementRef } from '@angular/core';\n\nexport class YourComponent {\n\n  constructor(private el: ElementRef) {}\n\n  countFilledInputs(): void {\n    let arr = this.el.nativeElement.querySelectorAll('input');\n    let filledCount = 0\n    for (let i = 0; i &lt; arr.length; i++) { \n        if (arr[i].value !== \"\") { \n          filledCount++; \n        }\n    }\n    console.log(\"Filled Input Count =&gt; \" + filledCount);\n  }\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/stackoverflow-56780757?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">StackBlitz Demo</a></strong></p>\n"}], "owner": {"reputation": 1, "user_id": 5582020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ae580359b0d21132fd54c0fce6fc36?s=128&d=identicon&r=PG&f=1", "display_name": "toupin", "link": "https://stackoverflow.com/users/5582020/toupin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561616939, "creation_date": 1561582466, "last_edit_date": 1561616939, "question_id": 56780757, "link": "https://stackoverflow.com/questions/56780757/getting-dynamically-added-textbox-value-in-angular", "title": "Getting dynamically added textbox value in Angular", "body": "<p>When I creating input elements in Angular, it did not give a value property. Or any other property unless I do it manually. And after that, it won't update it. Getting elements by ClassName and saying <code>.getAttribute(\"value\")</code> will only return its initial value.</p>\n\n<p>I've set the value property manually with <code>node.setAttribute(\"value\",\"\")</code>. Typing in the <code>textbox</code> will show what you type, but console logging that elements value only shows it's initial value. It works with <code>getElementsByTagName</code> but I can't use that</p>\n\n<p><strong>Creating text boxes</strong></p>\n\n<pre><code>var node;\nfor (let index = 0; index &lt; 5; index++) {\n  node = document.createElement(\"input\")\n  node.setAttribute(\"class\", \"input\");\n  node.setAttribute(\"value\", \"\");\n  document.getElementById(\"boxesDiv\").appendChild(node);\n} \n</code></pre>\n\n<p>Inside a keydown event to check values of boxes after typing in them</p>\n\n<pre><code>var arr = document.getElementsByClassName('input');\nfor (let index = 0; index &lt; arr.length; index++) {\n  if (arr[index].getAttribute(\"value\") != \"\") {\n    filledCount++;\n    console.log(\"count++\")\n  }\n} \n</code></pre>\n\n<p>Expected it to console log \"count++\" when it sees a <code>textbox</code> has a value/something in it.</p>\n"}, {"tags": ["typescript", "mobx-state-tree"], "answers": [{"comments": [{"owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "edited": false, "score": 0, "creation_date": 1561656168, "post_id": 56781615, "comment_id": 100146423, "body": "Thank you very much, that definitely helped in the right way. Unfortunately, it seems there is something wonky happening. I&#39;ve expanded the example slightly to be closer a real implementation and getting a similar error in different places now.  It does work if I explicitly set the return type, but that&#39;s hardly a solution considering it was all typed correctly with TS 3.4. So I wonder if some change needs to be done in mobx-state-tree code or why is this happening."}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": false, "score": 1, "last_activity_date": 1561587468, "creation_date": 1561587468, "answer_id": 56781615, "question_id": 56780729, "link": "https://stackoverflow.com/questions/56780729/direct-or-indirect-reference-in-typescript-3-5/56781615#56781615", "title": "Direct or indirect reference in TypeScript 3.5", "body": "<p>I cannot be certain what is the deep cause of your problem just by a quick look of your code, but in your minimal example, TS is complaining about <code>get root()</code> method in BaseModel.ts referring itself in its return value (as for where, it might take a while to find, as <code>mobx-state-tree</code> is quite big), so you need to add a type to it by writing <code>get root(): TRootModel</code> and then your project will compile just fine.</p>\n"}], "owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1561656335, "creation_date": 1561582341, "last_edit_date": 1561656335, "question_id": 56780729, "link": "https://stackoverflow.com/questions/56780729/direct-or-indirect-reference-in-typescript-3-5", "title": "Direct or indirect reference in TypeScript 3.5", "body": "<p>We are using a library mobx-state-tree which include fairly complex TypeScript declarations that are hard to decipher for me.</p>\n\n<p>Either way, it seems that some change happened between TS 3.4 and 3.5 that caused a strange issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mKkfC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mKkfC.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have prepared a minimal reproduction in a repository: <a href=\"https://github.com/FredyC/mobx-state-tree-ts3.5\" rel=\"nofollow noreferrer\">https://github.com/FredyC/mobx-state-tree-ts3.5</a></p>\n\n<p>I am aware this is probably a very specific problem that needs a deep dive. Would appreciate at least the right direction what change in TS 3.5 could be causing an issue like that.</p>\n\n<h2>Update</h2>\n\n<p>Based on the answer <a href=\"https://stackoverflow.com/a/56781615/902813\">https://stackoverflow.com/a/56781615/902813</a> I tweaked the example in a repo and got a similar error. It seems like that mobx-state-tree could be abusing some bug in TS which got fixed in 3.5 and now it breaks stuff.</p>\n\n<p><a href=\"https://i.stack.imgur.com/B6X7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B6X7m.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "mathjs"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1561583285, "post_id": 56780593, "comment_id": 100116794, "body": "It doesn&#39;t look like the type definition support this. You could make one using <code>declare module &quot;mathjs&#47;number&quot; {  }</code> but I don&#39;t know what that should export."}], "owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1586837821, "creation_date": 1561581767, "question_id": 56780593, "link": "https://stackoverflow.com/questions/56780593/mathjs-number-only-with-typescript", "title": "mathjs number-only with typescript?", "body": "<p>I'm trying to use mathjs in a typescript project. I'd like to use the \"number-only\" part (avoiding BigNumbers and Fractions).\nI've done <code>yarn add mathjs</code> and <code>yarn add @types/mathjs</code>.</p>\n\n<p>In my code, I tried to import it like this:</p>\n\n<pre><code>import * as math from 'mathjs/number'\n</code></pre>\n\n<p>but I get a typescript error: <code>Could not find a declaration file for module 'mathjs/number'</code></p>\n\n<p>I can do <code>import * as math from 'mathjs'</code> but then I get <code>BigNumber</code>s popping up all over when I use it.\nAnyone know how to use it like this?</p>\n"}, {"tags": ["node.js", "typescript", "express", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 1521, "user_id": 586182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eb6d387a6f7ede32044c7fa9d65aaeba?s=128&d=identicon&r=PG", "display_name": "kierans", "link": "https://stackoverflow.com/users/586182/kierans"}, "is_accepted": false, "score": 0, "last_activity_date": 1581981871, "last_edit_date": 1581981871, "creation_date": 1581981562, "answer_id": 60271694, "question_id": 56780388, "link": "https://stackoverflow.com/questions/56780388/how-can-i-add-entity-to-relation-only-with-id-without-fetching-it/60271694#60271694", "title": "How can I add entity to relation only with ID without fetching it?", "body": "<p>I had this question too and it took some digging but I found <a href=\"https://typeorm.io/#/relational-query-builder\" rel=\"nofollow noreferrer\">Working with Relations</a> in the TypeORM docs</p>\n\n<p>For your situation you want</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await getConnection()\n    .createQueryBuilder()\n    .relation(Product, \"tags\")\n    .of(product)\n    /**\n     * Adds (binds) given value to entity relation.\n     * Value can be entity, entity id or entity id map (if entity has composite ids).\n     * Value also can be array of entities, array of entity ids or array of entity id maps (if entity has composite ids).\n     * Works only for many-to-many and one-to-many relations.\n     * For many-to-one and one-to-one use #set method instead.\n     */\n    .add([1, 2]);\n</code></pre>\n"}], "owner": {"reputation": 372, "user_id": 3561776, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9661ec0d00632b6c3164ec8aef334aba?s=128&d=identicon&r=PG", "display_name": "MaxySpark", "link": "https://stackoverflow.com/users/3561776/maxyspark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1581981871, "creation_date": 1561580789, "question_id": 56780388, "link": "https://stackoverflow.com/questions/56780388/how-can-i-add-entity-to-relation-only-with-id-without-fetching-it", "title": "How can I add entity to relation only with ID without fetching it?", "body": "<p>I am creating a Many-To-Many relation</p>\n\n<pre><code>@Entity({\n    name: 'product'\n})\nexport class Product {\n    @PrimaryGeneratedColumn()\n    id: number;\n\n    @Column()\n    name: string;\n\n    @Column({type: 'decimal', precision: 13, scale: 2})\n    price: number;\n\n    @ManyToMany(() =&gt; Tag, (tag: Tag) =&gt; tag.products)\n    @JoinTable({\n        name: 'product_tag'\n    })\n    tags: Tag[];\n\n    @CreateDateColumn()\n    createdAt: Timestamp;\n\n    @UpdateDateColumn()\n    updatedAt: Timestamp;\n}\n</code></pre>\n\n<pre><code>@Entity({\n    name: 'tag'\n})\nexport class Tag {\n    @PrimaryGeneratedColumn()\n    id: number;\n\n    @Column()\n    name: string;\n\n    @ManyToMany(() =&gt; Product, (product: Product) =&gt; product.tags)\n    products: Product[];\n\n    @CreateDateColumn()\n    createdAt: Timestamp;\n\n    @UpdateDateColumn()\n    updatedAt: Timestamp;\n}\n</code></pre>\n\n<p>let say there is some tag in db . eg: <code>Tag = [{id: 1, name: 'pc'}, {id: 2, name: 'laptop'}]</code></p>\n\n<p>And I have product <code>Product = [{id: 1, name: 'Zenbook', price: 10000 }]</code></p>\n\n<p>Now  I need to add those tags to the product. </p>\n\n<p>I wanted do something  like this</p>\n\n<pre><code>const product = await this.repository.findOne({id: 1});\n\nproduct.tags = [{id: 1}, {id:2}];\n\nawait this.repository.save(product);\n</code></pre>\n\n<p>I know this is wrong.</p>\n\n<p>How can I do this? </p>\n\n<p>Thank You</p>\n"}, {"tags": ["node.js", "angular", "typescript", "ts-node"], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 1224303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468dcd54ecc64b71921c1627db7d09d8?s=128&d=identicon&r=PG", "display_name": "mjschranz", "link": "https://stackoverflow.com/users/1224303/mjschranz"}, "edited": false, "score": 0, "creation_date": 1561635375, "post_id": 56780486, "comment_id": 100134532, "body": "While I appreciate the comment, NX isn&#39;t appropriate for our projects as we aren&#39;t interesting in monolithic repos at this point in our organization. Plus our node app isn&#39;t for production it is simply a dev server to use rather than our Java BE for local development.  That being said, the following solution isn&#39;t working unfortunately."}], "tags": [], "owner": {"reputation": 1575, "user_id": 885259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea1d85cf531a8970912cf2e844c77b4?s=128&d=identicon&r=PG", "display_name": "Mateo Tibaquira", "link": "https://stackoverflow.com/users/885259/mateo-tibaquira"}, "is_accepted": false, "score": 0, "last_activity_date": 1561581214, "creation_date": 1561581214, "answer_id": 56780486, "question_id": 56780216, "link": "https://stackoverflow.com/questions/56780216/importing-typescript-files-for-angular-project-in-node-server/56780486#56780486", "title": "Importing typescript files for Angular project in node server", "body": "<p>You definitely need to use better tooling for your project.<br>\nPlease check <a href=\"https://nx.dev/\" rel=\"nofollow noreferrer\">https://nx.dev/</a> and create your Angular app and Node app, move your code there, and then you will be able to create a library with your shared stuff, to be imported from both projects.</p>\n\n<p>Nx will take care of the configuration and the tsconfig paths required to make it work. And talking about <code>tsconfig.paths</code>, you may try to setup one in your current project, perhaps this structure is not clean:</p>\n\n<pre><code>\"compilerOptions\": {\n  \"paths\": {\n    \"@shared/*\": [\"src/app/shared/*\"]\n  }\n}\n</code></pre>\n\n<p>and import your stuff from your server like</p>\n\n<pre><code>import { MyModel } from '@shared/models';\n</code></pre>\n\n<p>Anyways, consider the migration of your code to Nx and you will be able to enjoy a clean architecture and workflow. Happy coding!</p>\n"}], "owner": {"reputation": 56, "user_id": 1224303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468dcd54ecc64b71921c1627db7d09d8?s=128&d=identicon&r=PG", "display_name": "mjschranz", "link": "https://stackoverflow.com/users/1224303/mjschranz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561581214, "creation_date": 1561580018, "question_id": 56780216, "link": "https://stackoverflow.com/questions/56780216/importing-typescript-files-for-angular-project-in-node-server", "title": "Importing typescript files for Angular project in node server", "body": "<p>I am unable to import TS files that exist in my Angular project directories inside my Node server.</p>\n\n<p>I've looked into various settings for a <code>tsconfig.json</code> file for the Node server specifically but have had no luck.</p>\n\n<p>I run my node server via <code>npm start</code> like so <code>\"start\": \"nodemon --exec ts-node -- ./start.ts\"</code></p>\n\n<p>My project structure looks something like this...</p>\n\n<pre><code>....\nnode_modules/\nsrc/\n  app/\n    shared/\n      models/\n        entity.model.ts\nstub-server/\n  start.ts\n  src/\n    data/\n      entity-data.ts\nangular.json\ntsconfig.json\n...\n</code></pre>\n\n<p>I expect to be able to import the relevent Typescript classes/interfaces/enums etc from <code>entity.model.ts</code> inside <code>entity-data.ts</code> so that I can enforce type safety within my mocked data.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1561621031, "post_id": 56779815, "comment_id": 100126424, "body": "Could you add definition of component to question?"}, {"owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1561661351, "post_id": 56779815, "comment_id": 100148634, "body": "I have updated the question"}], "answers": [{"comments": [{"owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1561674005, "post_id": 56797503, "comment_id": 100152745, "body": "I get the error &quot;Property &#39;map&#39; does not exist on type &#39;Observable&lt;Class[]&gt;&#39;&quot;"}, {"owner": {"reputation": 2077, "user_id": 1032655, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8d3e47cb7b09b87068e569c240fac17?s=128&d=identicon&r=PG", "display_name": "Obaid", "link": "https://stackoverflow.com/users/1032655/obaid"}, "reply_to_user": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1561694126, "post_id": 56797503, "comment_id": 100155968, "body": "Wrap the map operator inside pipe operator. I updated the code example, please check it. pipe is a composing function and preferred way of using operators in RxJS library."}, {"owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1561761199, "post_id": 56797503, "comment_id": 100181618, "body": "Right, I have made the change. However this.classList ends up as a array of classes with empty properties. If I put a console.log(obj) in the class constructor it outputs a correctly populated class but if I then put console.log(obj.ClassId) it is an empty string... I do notice that for the console.log(obj) all the properties start with lowercase letters rather than uppercase..."}], "tags": [], "owner": {"reputation": 2077, "user_id": 1032655, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8d3e47cb7b09b87068e569c240fac17?s=128&d=identicon&r=PG", "display_name": "Obaid", "link": "https://stackoverflow.com/users/1032655/obaid"}, "is_accepted": false, "score": 0, "last_activity_date": 1561693510, "last_edit_date": 1561693510, "creation_date": 1561663586, "answer_id": 56797503, "question_id": 56779815, "link": "https://stackoverflow.com/questions/56779815/context-implicit-not-function-typescript-error/56797503#56797503", "title": "context.$implicit. not function typescript error", "body": "<p>Because you are <strong>casting</strong> the response received from server into your <strong>Class</strong> object. And most probably its an object that has data but not functions. This is the reason <strong>GetAssetsString</strong> function is not available in your code. </p>\n\n<p>Having said that, you can create a constructor in your <strong>Class</strong> object like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class Class {\r\n    ClassId:string;\r\n    ClassName:string;\r\n    Assets:ClassAsset[];\r\n\r\n    constructor(obj?:any){\r\n      this.ClassId= obj &amp;&amp; obj.ClassId || '';\r\n      this.ClassName= obj &amp;&amp; obj.ClassName || '';\r\n      this.Assets = obj &amp;&amp; obj.Assets || [];\r\n    }\r\n\r\n    GetAssetsString():string{\r\n        var str:string;\r\n        this.Assets.forEach(a=&gt;{\r\n            str+=a.AssetName;\r\n        });\r\n\r\n        return str;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And your getClasses method would get modified like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>          getClasses()\r\n          {\r\n            this.datasource.getClassList().pipe(map(response =&gt;\r\n            response.json())).subscribe(x=&gt;{\r\n              this.classList= x.map(x1=&gt;new Class(x1));\r\n              });\r\n          }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561693510, "creation_date": 1561577285, "last_edit_date": 1561661335, "question_id": 56779815, "link": "https://stackoverflow.com/questions/56779815/context-implicit-not-function-typescript-error", "title": "context.$implicit. not function typescript error", "body": "<p>I have the following class</p>\n\n<pre><code>import { ClassAsset } from './class-asset';\n\nexport class Class {\n    ClassId:string;\n    ClassName:string;\n    Assets:ClassAsset[];\n\n    GetAssetsString():string{\n        var str:string;\n        this.Assets.forEach(a=&gt;{\n            str+=a.AssetName;\n        });\n\n        return str;\n    }\n</code></pre>\n\n<p>with the following angular view code</p>\n\n<pre><code>&lt;tr *ngFor=\"let cls of classList\"&gt;\n        &lt;td&gt;{{cls.className}}&lt;/td&gt;\n        &lt;td&gt;{{cls.GetAssetsString()}}&lt;/td&gt;\n      &lt;/tr&gt;\n</code></pre>\n\n<p>My Component looks like this</p>\n\n<pre><code>export class ClassesComponent implements OnInit {\n  private _client:HttpClient;\n  public classList:Class[]=[];\n\n  constructor(client:HttpClient,private route:Router,private datasource:DataService) {\n    this._client=client;\n   }\n\n  ngOnInit() {\n    this.getClasses();\n  }\n\n  getClasses()\n  {\n    this.datasource.getClassList().subscribe((resp:Class[])=&gt;{\n      console.log(resp);\n      this.classList=resp;}\n      );\n  }\n}\n</code></pre>\n\n<p>However I get the error </p>\n\n<blockquote>\n  <p>TypeError: _v.context.$implicit.GetAssetsString is not a function</p>\n</blockquote>\n\n<p>What am I doing wrong? (I am still getting used to Typescript...)</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561574742, "post_id": 56779178, "comment_id": 100113623, "body": "Can you make your code a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Without that it&#39;s hard to be sure the answer will be relevant.  I&#39;d say don&#39;t use <code>any</code>; use the right type like <code>ClassA &amp; {isValid: boolean}</code> or whatever you want."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561576774, "post_id": 56779178, "comment_id": 100114445, "body": "@jcalz this is it, btw <a href=\"https://stackblitz.com/edit/typescript-extend-type-adhoc\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-extend-type-adhoc</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1561577465, "post_id": 56779178, "comment_id": 100114723, "body": "I&#39;d say <code>Partial&lt;ClassA&gt; &amp; {isValid: boolean}</code> instead of <code>any</code>, since you initialize it to something with none of the properties of <code>ClassA</code>.  If you have a use case I can help more, otherwise that&#39;s my suggestion"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561577636, "post_id": 56779178, "comment_id": 100114792, "body": "@jcalz yes, I figured it out from your first comment, you can post the answer so that I can mark it as answer"}], "answers": [{"tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": false, "score": 1, "last_activity_date": 1561640227, "creation_date": 1561640227, "answer_id": 56791556, "question_id": 56779178, "link": "https://stackoverflow.com/questions/56779178/how-to-extend-a-type-in-typescript-ad-hoc/56791556#56791556", "title": "How to extend a type in Typescript Ad-hoc", "body": "<blockquote>\n  <p>Credits to @jcalz</p>\n</blockquote>\n\n<p>I wrote the answer here in case some one else looking for same thing. </p>\n\n<p>As @jcalz mentioned in comments the below code makes it typed</p>\n\n<pre><code>myInstance: Partial&lt;ClassA&gt; &amp; {isValid: boolean} = { isValid : true }\n</code></pre>\n"}], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561640227, "creation_date": 1561574329, "question_id": 56779178, "link": "https://stackoverflow.com/questions/56779178/how-to-extend-a-type-in-typescript-ad-hoc", "title": "How to extend a type in Typescript Ad-hoc", "body": "<p>I have a class called <code>ClassA</code> which has 10 props. Now in my class I want to have an instance of <code>ClassA</code> and adding a prop called <code>isValid</code> but I don't want to create a new class and extend it</p>\n\n<pre><code>export class ClassA {\n  constructor(\n    public active: boolean,\n    public createdBy: string,\n    public createdTimestamp: Date,\n    public entityState: string,\n    public scopeType: string,\n    public scopeValue: string,\n    public tableDescription: string,\n    public tableId: number,\n    public tableName: string,\n    public changeHistoryPreserveDays = 0,\n    public createdString: string\n  ) { }\n}\n</code></pre>\n\n<p>in my component:</p>\n\n<pre><code>myInstance : any  = {\n    isValid : true\n }\n\nfoo(classA: ClassA) {\n   this.myInstance = {...myInstance, ...classA};\n} \n</code></pre>\n\n<p>Then by using <code>any</code> I will loose the type checking. </p>\n\n<p>My question is, is there any quick way of expanding a class ad-hoc, without defining a new class </p>\n"}, {"tags": ["typescript", "firebase", "npm"], "answers": [{"comments": [{"owner": {"reputation": 3791, "user_id": 9547658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jonas", "link": "https://stackoverflow.com/users/9547658/jonas"}, "edited": false, "score": 0, "creation_date": 1561576030, "post_id": 56779197, "comment_id": 100114180, "body": "Thanks but that didn&#39;t work. As far as I know the types are under <code>@firebase</code> which I installed."}], "tags": [], "owner": {"reputation": 47535, "user_id": 6920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YW7bk.jpg?s=128&g=1", "display_name": "x0n", "link": "https://stackoverflow.com/users/6920/x0n"}, "is_accepted": false, "score": 0, "last_activity_date": 1561574427, "creation_date": 1561574427, "answer_id": 56779197, "question_id": 56779158, "link": "https://stackoverflow.com/questions/56779158/typescript-cant-find-installed-package-firebase/56779197#56779197", "title": "Typescript can&#39;t find installed package firebase", "body": "<p>Perhaps the type definition files are not embedded in the primary npm package. Try running <code>npm install @types/firebase --save-dev</code> from the project root and try compiling again.</p>\n"}], "owner": {"reputation": 3791, "user_id": 9547658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jonas", "link": "https://stackoverflow.com/users/9547658/jonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561574427, "creation_date": 1561574254, "question_id": 56779158, "link": "https://stackoverflow.com/questions/56779158/typescript-cant-find-installed-package-firebase", "title": "Typescript can&#39;t find installed package firebase", "body": "<p>I have a simple typescript project with a bunch of <code>.ts</code> files that I wan't compile to <code>.js</code> files to use in other projects.</p>\n\n<p>In one file I need the package firebase but it doesn't seem to find the package. It is installed and inside the <code>node_modules</code> folder. When I do:</p>\n\n<p><code>import firebase from 'firebase';</code> and run <code>tsc</code> I get</p>\n\n<pre><code>lib/api.ts:2:22 - error TS2307: Cannot find module 'firebase'.\n\n2 import firebase from 'firebase';\n                       ~~~~~~~~~~\n\n\nFound 1 error.\n</code></pre>\n\n<p>I tried deleting <code>node_modules</code> folder and <code>package-lock.json</code> and <code>npm uninstall firebase</code> but nothing seems to work.</p>\n\n<p>My package.json:</p>\n\n<pre><code>{\n  \"name\": \"project-models\",\n  \"version\": \"1.0.1\",\n  \"main\": \"dist/index.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"private\": true,\n  \"scripts\": {\n    \"build\": \"tsc\",\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"Jonas Wallmann\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"firebase\": \"^6.2.3\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^3.5.2\"\n  }\n}\n</code></pre>\n\n<p>My tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"esnext\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019' or 'ESNEXT'. */\n    \"declaration\": true,                   /* Generates corresponding '.d.ts' file. */\n    \"outDir\": \"./dist\",                        /* Redirect output structure to the directory. */\n    \"strict\": false,                           /* Enable all strict type-checking options. */\n    \"strictPropertyInitialization\": false,  /* Enable strict checking of property initialization in classes. */\n    \"esModuleInterop\": true                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n  }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561574503, "post_id": 56779149, "comment_id": 100113508, "body": "<code>Example[&quot;nested&quot;]</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1561574540, "post_id": 56779149, "comment_id": 100113521, "body": "It&#39;s called a &quot;<a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a>&quot; or &quot;indexed access type&quot;"}, {"owner": {"reputation": 859, "user_id": 4453739, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eMrE_YxXyE/AAAAAAAAAAI/AAAAAAAAABc/fpjOmPzZGLA/photo.jpg?sz=128", "display_name": "Michael Wilson", "link": "https://stackoverflow.com/users/4453739/michael-wilson"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561575228, "post_id": 56779149, "comment_id": 100113833, "body": "Oh, that&#39;s it, thanks @jcalz. If you submit this as an answer, I&#39;ll mark it as such."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 8, "last_activity_date": 1561575488, "creation_date": 1561575488, "answer_id": 56779425, "question_id": 56779149, "link": "https://stackoverflow.com/questions/56779149/typescript-how-to-extract-nested-type/56779425#56779425", "title": "Typescript how to extract nested type", "body": "<p>You want to use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"noreferrer\">lookup type</a> (also called an \"indexed access type\") which uses the square bracket syntax.</p>\n\n<p>That is,  </p>\n\n<pre><code>type myType = Example[\"nested\"] // string\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//#code/C4TwDgpgBAogHgQwLZgDbQLxQN4CgpQB2EAzsBACYBcUZATgJaEDmA3PlAPbAAWEdNekza4Avu1yhIUJCAAq4TLEQp0AbQBExMpQ0BdVlAD0R2sEYtcQA\" rel=\"noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 859, "user_id": 4453739, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eMrE_YxXyE/AAAAAAAAAAI/AAAAAAAAABc/fpjOmPzZGLA/photo.jpg?sz=128", "display_name": "Michael Wilson", "link": "https://stackoverflow.com/users/4453739/michael-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1231, "favorite_count": 0, "accepted_answer_id": 56779425, "answer_count": 1, "score": 4, "last_activity_date": 1561575488, "creation_date": 1561574187, "question_id": 56779149, "link": "https://stackoverflow.com/questions/56779149/typescript-how-to-extract-nested-type", "title": "Typescript how to extract nested type", "body": "<p>How do I extract the type of a nested property? For example say I have this type:</p>\n\n<pre><code>type Example = {\n   nested: string,  // how do I infer string here\n   other: string\n}\n</code></pre>\n\n<p>Such that I can extract out 'string' from Example.nested?</p>\n\n<p>I have <code>type myType = Pick&lt;Example, \"nested\"&gt;</code> and that provides <code>{ nested: string }</code>, but I want to infer the type of the property 'nested' (string, in this example) on that object. </p>\n"}, {"tags": ["html", "angular", "typescript", "http"], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 7081471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jjnX.jpg?s=128&g=1", "display_name": "maury844", "link": "https://stackoverflow.com/users/7081471/maury844"}, "is_accepted": false, "score": 0, "last_activity_date": 1561573654, "creation_date": 1561573654, "answer_id": 56779027, "question_id": 56778776, "link": "https://stackoverflow.com/questions/56778776/why-doesnt-click-sends-my-data-inside-button-but-change-inside-input-do/56779027#56779027", "title": "Why doesnt (click) sends my data inside &lt;button&gt;, but (change) inside &lt;input&gt; does in Angular, HTML", "body": "<p>The <code>(change)</code> event inside the button is going to do nothing, the <code>(click)</code> is more appropiate, but the <code>$event</code> passed inside the click event is going to return the information about the click itself (mouse position, etc). </p>\n\n<p>What you should do is, whenever click is called, get the value of the form and send that to the <code>saveData</code> function. (Maybe by doing something like <code>saveData(this.f.value)</code>, but I can't tell with certainty)</p>\n\n<p>I don't have experience with template driven forms, maybe it's worth for you to take a look at <a href=\"https://angular.io/guide/reactive-forms#introduction-to-reactive-forms\" rel=\"nofollow noreferrer\">Reactive Forms</a>, it is going to make your life easier IMHO</p>\n"}, {"comments": [{"owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "reply_to_user": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561623153, "post_id": 56779386, "comment_id": 100127467, "body": "Are you trying to get the button value in this line <code>const name = e.target.value;</code>?"}, {"owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561625621, "post_id": 56779386, "comment_id": 100128937, "body": "when I print out that value to the console, it prints out the selected restaurant name in the datalist"}, {"owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "reply_to_user": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561626777, "post_id": 56779386, "comment_id": 100129592, "body": "Your question is still not very clear. You are calling the API when you select a value from the dropdown. Do you want to continue doing that or send the value only on the click of the button? If you are trying to the latter, you will not be able to get the value of the dropdown using <code>e.target.value</code>."}, {"owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561627981, "post_id": 56779386, "comment_id": 100130303, "body": "I am trying the latter, I want to send data when the button is clicked. How do I get the selected value from the dropdown?"}], "tags": [], "owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "is_accepted": false, "score": 0, "last_activity_date": 1561629904, "last_edit_date": 1561629904, "creation_date": 1561575250, "answer_id": 56779386, "question_id": 56778776, "link": "https://stackoverflow.com/questions/56778776/why-doesnt-click-sends-my-data-inside-button-but-change-inside-input-do/56779386#56779386", "title": "Why doesnt (click) sends my data inside &lt;button&gt;, but (change) inside &lt;input&gt; does in Angular, HTML", "body": "<p>The <code>(change)</code> event will not be triggered on the click of a button as there is no \"change\" as such. You should use <code>(click)</code> instead. The reason why your <code>saveCode()</code> is not being invoked when you set both <code>routerLink</code> and <code>(click)</code> is because of the <code>routerLink</code>. When you click the button, Angular is navigating to <code>/menu</code> before it triggers your click event. You can navigate from your component in your <code>saveCode()</code> instead.</p>\n\n<p>Since you also have an API call in your <code>saveCode()</code>, it would probably be better if you navigate on success as it might not make sense to re-route the user if the API call fails (especially if the new route depends on the saved data)</p>\n\n<p>Try this in your code.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;button type=\"submit\"\n  class=\"btn btn-primary btn-lg float-none m-2\"\n  id=\"btnAanmaken\"\n  (click)=\"saveCode($event)\"&gt;\n  Aanmaken\n&lt;/button&gt;\n</code></pre>\n\n<p><strong>component</strong></p>\n\n<pre><code>.subscribe( // subscribe to observable http.post\n  res =&gt; {\n    console.log(\"response\" + \" \" + res); // log results otherwise log error\n    this.router.navigateByUrl('/menu');\n  },\n  err =&gt; {\n    console.log('Error occured');\n  });\n</code></pre>\n\n<p><strong>Edit</strong>: Rather than using <code>$event</code> to pass your values to the component, you can make use of the <code>ngForm</code> you have used in your code along with ngModel.</p>\n\n<p><strong>component</strong></p>\n\n<pre><code>&lt;input type=\"text\"\n  list=\"codes\"\n  class=\"m-2\"\n  name=\"restaurantName\"\n  ngModel\n&gt;\n</code></pre>\n\n<p><strong>component</strong></p>\n\n<pre><code>  @ViewChild('f', { static: true }) form: NgForm;\n\n  ...\n\n  public saveCode (): void {\n    const name = this.form.value.restaurantName;\n    ...\n  }\n</code></pre>\n\n<p>Here is another example from the <a href=\"https://angular.io/api/forms/NgForm#listening-for-form-submission\" rel=\"nofollow noreferrer\">documentation</a> on how to bind values to the form using ngForm and ngModel</p>\n"}], "owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561629904, "creation_date": 1561572618, "last_edit_date": 1561573073, "question_id": 56778776, "link": "https://stackoverflow.com/questions/56778776/why-doesnt-click-sends-my-data-inside-button-but-change-inside-input-do", "title": "Why doesnt (click) sends my data inside &lt;button&gt;, but (change) inside &lt;input&gt; does in Angular, HTML", "body": "<p>I want to send some data to my Glassfish RESTful server. When I use (change) inside the input tag it activates the method and succesfully sends the data, but when I use (click) or (change) to activate the method, it doesn't do anything. I tried to seperate the Sending data method and the router method, but to no avail.\n How can I solve this?</p>\n\n<p>html file:</p>\n\n<pre><code>&lt;div class=\"container py-5\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-6 mx-auto\"&gt;\n          &lt;div class=\"card rounded-0\"&gt;\n            &lt;div class=\"card-header\"&gt;\n              &lt;h3 class=\"mb-0\"&gt;Organize&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n              &lt;label for=\"codes\" class=\"m-2\"&gt;Choose a restaurant:&lt;/label&gt;\n              &lt;form #f=\"ngForm\"&gt;\n                &lt;input\n                  type=\"text\"\n                  list=\"codes\"\n                  class=\"m-2\"\n                  (change)=\"saveCode($event)\"\n                  &gt;\n                &lt;datalist id=\"codes\"&gt;\n                  &lt;option *ngFor=\"let c of codeList\" [value]=\"c.name\"&gt;{{c.name}}&lt;/option&gt;\n                &lt;/datalist&gt;\n              &lt;button\n                type=\"button\"\n                class=\"btn btn-primary btn-lg float-none m-2\"\n                id=\"btnAanmaken\"\n                (click)=\"routerRed()\"\n              &gt;Aanmaken&lt;/button&gt;\n              &lt;/form&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>typescript file:</p>\n\n<pre><code>\nimport {Component, OnInit, ViewChild} from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {NgForm} from \"@angular/forms\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\n@Component({\n  selector: 'app-organize',\n  templateUrl: './sendinvite.component.html',\n  styleUrls: ['./sendinvite.component.css']\n})\nexport class SendinviteComponent implements OnInit {\n\n  // public codeValue: string;\n\n  // List of restaurants\n  codeList = [\n    { name: 'Mcdonalds', address: 'Kalverstraat 5' },\n    { name: 'Kentucky Fried Chicken', address: 'Kalverstraat 4' },\n    { name: 'Burger King', address: 'Kalverstraat 3' },\n    { name: 'Dominos pizza', address: 'Kalverstraat 2' },\n    { name: 'New York Pizza', address: 'Kalverstraat 1' }\n  ];\n\n// Assign empty value to id, name and address\n  @ViewChild('f', { static: true }) form: NgForm;\n\n\n  restaurant = {\n    name: ' ',\n    address: ' '\n  };\n\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type':  'application/json',\n      Authorization: 'my-auth-token'\n    })\n  };\n\n\n  constructor(private http: HttpClient, private router: Router) {\n  }\n\n  ngOnInit() {\n  }\n\n// Method to post data to backend\n  public saveCode (e): void {\n    const name = e.target.value;\n    const list = this.codeList.filter(x =&gt; x.name === name)[0];\n\n\n    this.restaurant.name = list.name;\n    this.restaurant.address = list.address;\n\n    console.log(list.name);\n    console.log(list.address);\n\n\n// Additional information to the server content type\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json'\n      })\n    };\n// Making an array with the values of the restaurant\n    const data = {\n      name: list.name,\n      address: list.address\n    };\n\n    console.log(data);\n\n// POST method\n    this.http.post('http://localhost:8080/aquadine-jee/resources/restaurant',\n      JSON.parse(JSON.stringify(data)) , httpOptions)\n\n    // wait till it gets posted to the backend\n      .subscribe( // subscribe to observable http.post\n        res =&gt; {\n          console.log(\"response\" + \" \" + res); // log results otherwise log error\n        },\n        err =&gt; {\n          console.log('Error occured');\n        }\n\n      );\n\n\n  }\n\n  routerRed(){\n    this.router.navigateByUrl('/menu');\n  }\n\n\n\n</code></pre>\n\n<p>I tried to use:</p>\n\n<pre><code>&lt;button \n                type=\"submit\" \n                class=\"btn btn-primary btn-lg float-none m-2\" \n                id=\"btnAanmaken\"\n                routerLink=\"/menu\"\n                (change)=\"saveCode($event)\"\n                &gt;Aanmaken&lt;/button&gt;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>&lt;button \n                type=\"submit\" \n                class=\"btn btn-primary btn-lg float-none m-2\" \n                id=\"btnAanmaken\"\n                routerLink=\"/menu\"\n                (click)=\"saveCode($event)\"\n                &gt;Aanmaken&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "function", "methods"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11336688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc29df22ba1628a5f94083f89166288?s=128&d=identicon&r=PG&f=1", "display_name": "koko91kon", "link": "https://stackoverflow.com/users/11336688/koko91kon"}, "edited": false, "score": 0, "creation_date": 1561620570, "post_id": 56781705, "comment_id": 100126197, "body": "This is how my class looks like without addAttribute method:  protected Type: string;   protected V: number;   protected U: string;   protected Title: string;   protected WF: number;      public AdditionalAttributes: Map&lt;string, string&gt;= new Map&lt;string, string&gt;();    constructor(Type: string, V: number, U: string, Title: string, WF: number) {     this.Type = Type;     this.V = V;     this.U = U;     this.Title = Title;     this.WF = WF;     this.AdditionalAttributes = this.AdditionalAttributes;   }"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 3, "user_id": 11336688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc29df22ba1628a5f94083f89166288?s=128&d=identicon&r=PG&f=1", "display_name": "koko91kon", "link": "https://stackoverflow.com/users/11336688/koko91kon"}, "edited": false, "score": 0, "creation_date": 1561902853, "post_id": 56781705, "comment_id": 100203084, "body": "@koko91kon In that case you don&#39;t need to call <code>addAttribute</code> method, you just write <code>const tag2 = new ClassName(&quot;Test&quot;, 1, &quot;1&quot;, [some title string], [whatever number WF is supposed to be]);</code>."}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": false, "score": 2, "last_activity_date": 1561588148, "creation_date": 1561588148, "answer_id": 56781705, "question_id": 56778719, "link": "https://stackoverflow.com/questions/56778719/how-can-i-call-correctly-addattribute-method/56781705#56781705", "title": "How Can I call correctly addAttribute method?", "body": "<p>I'm assuming that <code>addAttribute</code> is a method of <code>ClassName</code>. In that case, the correct way of writing things will be to create an instance first, and then call it. For example:</p>\n\n<pre><code>const tag2 = new ClassName();\ntag2.addAttribute(\"Type\", \"Test\");\ntag2.addAttribute(\"V\", \"1\");\ntag2.addAttribute(\"U\", \"1\");\n</code></pre>\n\n<p>I'm not sure what's the definition of the constructor of your <code>ClassName</code>, but since <code>addAttribute</code> returns <code>void</code>, you cannot possibly use the result as parameters to construct <code>ClassName</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 11336688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc29df22ba1628a5f94083f89166288?s=128&d=identicon&r=PG&f=1", "display_name": "koko91kon", "link": "https://stackoverflow.com/users/11336688/koko91kon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561590171, "creation_date": 1561572340, "last_edit_date": 1561590171, "question_id": 56778719, "link": "https://stackoverflow.com/questions/56778719/how-can-i-call-correctly-addattribute-method", "title": "How Can I call correctly addAttribute method?", "body": "<p>I have made a method what I call addAttribute with 2 arguments what are strings.I want to create a new element with this method.I want to use this method to add attributes to the new class.\nI have created another method with other arguments.</p>\n\n<pre><code>public addAttribute(key: string, value: string): void {\n    this.AdditionalAttributes.set(key, value);\n};\n</code></pre>\n\n<pre><code>const tag2 = new ClassName(\n\n    this.addAttribute(\"Type\", \"Test\"),\n\n    this.addAttribute(\"V\", \"1\"),\n\n    this.addAttribute(\"U\", \"1\"),\n\n);\n</code></pre>\n\n<p>I got this error log:\n    TypeError: this.addAttribute is not a function</p>\n"}, {"tags": ["typescript", "jasmine", "protractor", "angular-test"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1561598030, "post_id": 56778650, "comment_id": 100120094, "body": "How about add sleep in jasmine&#39;s <code>beforeEach()</code> hook?"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 10224161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lgWcMHAsItI/AAAAAAAAAAI/AAAAAAAABbQ/E2QqwXaAOIg/photo.jpg?sz=128", "display_name": "Ajitesh", "link": "https://stackoverflow.com/users/10224161/ajitesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561671299, "creation_date": 1561671299, "answer_id": 56798727, "question_id": 56778650, "link": "https://stackoverflow.com/questions/56778650/is-there-a-way-to-run-the-same-test-on-multiple-browsers-using-protractor-with/56798727#56798727", "title": "Is there a way to run the same test on multiple browsers using Protractor, with a few seconds delay in between?", "body": "<p>Why would you want to wait when the test are running parallely and independently in different browsers?\nHowever if your requirement is still to wait for some time before starting the other browser tests you can add different sleep for different browsers in before() or beforeAll() hook depending upon which test runner you are using, jasmine or mocha.\nAnd when you add these sleeps add those in if conditions</p>\n\n<p>If browsername is chrome then wait for 2 sec \nIf browsername is firefox then wait for 4 sec\nIf browsername is safari then wait for 6 sec</p>\n\n<p>PS: Cant write the indentated code here as I am typing from mobile browser but if you need these if conditions I can do it.</p>\n\n<p>Also, If you dont know how you can read browserName on which tests are running here please let me know.</p>\n"}], "owner": {"reputation": 1, "user_id": 11704774, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216883052501216/picture?type=large", "display_name": "Amber Skutelsky", "link": "https://stackoverflow.com/users/11704774/amber-skutelsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561671299, "creation_date": 1561572048, "question_id": 56778650, "link": "https://stackoverflow.com/questions/56778650/is-there-a-way-to-run-the-same-test-on-multiple-browsers-using-protractor-with", "title": "Is there a way to run the same test on multiple browsers using Protractor, with a few seconds delay in between?", "body": "<p>I am trying to run my test on multiple browser instances, which I do using multiCapabilities, but I would like to do this with a few seconds delay between, so one starts a little after the other. How can I do this without duplicating the test and adding browser.sleep?</p>\n"}, {"tags": ["angular", "typescript", "angular-components"], "comments": [{"owner": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1561572368, "post_id": 56778636, "comment_id": 100112539, "body": "<code>ngIf</code>. <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries\" rel=\"nofollow noreferrer\">Media Queries</a>. But, why are you using Bootstrap then? It&#39;s made for responsive layouts."}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "reply_to_user": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1561572607, "post_id": 56778636, "comment_id": 100112636, "body": "It just seems like there are better ways to determine device other than screen size, I just don&#39;t know how. Ex. determining device then rendering specific component for that device, instead of rendering two components and displaying/hiding with media queries"}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "reply_to_user": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1561573590, "post_id": 56778636, "comment_id": 100113091, "body": "It looks like <a href=\"https://www.npmjs.com/package/ngx-responsive\" rel=\"nofollow noreferrer\">npmjs.com/package/ngx-responsive</a> shows/hides items based on device, but it still has to render everything. I thought there would be a more efficient way to determine device then only select that component to render"}, {"owner": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1561580078, "post_id": 56778636, "comment_id": 100115495, "body": "Well. In Angular, you define nested components in the component markup. You still have to render your entire markup for all possible devices. Then, you need to hide unnecessary components using <code>ngIf</code>. Otherwise, you need to create components in code. Alternatively, you can put your business logic in a library and create several UI applications for each device."}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 11522330, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Otn1C_KrAME/AAAAAAAAAAI/AAAAAAAACUY/HI7f5brj1Rw/photo.jpg?sz=128", "display_name": "Roliver Javier", "link": "https://stackoverflow.com/users/11522330/roliver-javier"}, "is_accepted": false, "score": 1, "last_activity_date": 1561576148, "creation_date": 1561576148, "answer_id": 56779589, "question_id": 56778636, "link": "https://stackoverflow.com/questions/56778636/how-do-i-show-different-components-depending-on-device-web-or-mobile/56779589#56779589", "title": "How do I show different components depending on device (web or mobile)?", "body": "<p>You can install <strong>ngx-device-detector</strong> and detect the device you're using:</p>\n\n<pre><code>import { DeviceDetectorService } from 'ngx-device-detector';\n\nthis.deviceInfo = this.deviceService.getDeviceInfo();\nconst isMobile = this.deviceService.isMobile();\nconst isTablet = this.deviceService.isTablet();\nconst isDesktopDevice = this.deviceService.isDesktop();\n</code></pre>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561576148, "creation_date": 1561571990, "question_id": 56778636, "link": "https://stackoverflow.com/questions/56778636/how-do-i-show-different-components-depending-on-device-web-or-mobile", "title": "How do I show different components depending on device (web or mobile)?", "body": "<p>With my Angular 7 web app, using TypeScript, bootstrap, ngx-bootstrap, etc, how do I switch between components depending on what device the user is on (desktop vs mobile)?</p>\n\n<p>I see lots of sites that show different components when I resize!\nI'm not sure if these are the same responsive components just with lots of fancy css, but it some cases it seems like they are entirely different components.</p>\n\n<p>Ex. YouTube desktop vs mobile (non native) </p>\n"}, {"tags": ["typescript", "class", "interface"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1561601801, "post_id": 56778589, "comment_id": 100120680, "body": "Related: <a href=\"https://stackoverflow.com/questions/36407154/is-there-code-generation-api-for-typescript\" title=\"is there code generation api for typescript\">stackoverflow.com/questions/36407154/&hellip;</a>"}], "owner": {"reputation": 3533, "user_id": 3928045, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/CLOlW.jpg?s=128&g=1", "display_name": "Donnie D&#39;Amato", "link": "https://stackoverflow.com/users/3928045/donnie-damato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561571784, "creation_date": 1561571784, "question_id": 56778589, "link": "https://stackoverflow.com/questions/56778589/create-shape-from-typescript-interface", "title": "Create shape from typescript interface", "body": "<p><strong>Warning</strong>: I've never used Typescript before.</p>\n\n<p>I'm working with web components and I'm interested in creating a file that defines the properties (and potentially events) that will affect the component. I've done research on Typescript and I like the concise way it seems to be able to describe the shape of an object. This is what I have so far:</p>\n\n<pre><code>/* defining the keys (and which are optional) */\ninterface IX {\n    hidden?: boolean;\n    selected?: boolean;\n    disabled?: boolean;\n    size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n    onChange?: (event: any): void;\n}\n\n/* setting defaults */\nexport const ix: IX = {\n    hidden: false,\n    selected: false,\n    disabled: false,\n}\n</code></pre>\n\n<p>While I'm not currently using Typescript in my project (nor am I entirely convinced that I need to in order for this to work) I'm looking for a solution that would take a file that looks like the above and output some schema that defines the component's shape. Perhaps something like this:</p>\n\n<pre><code>export const ixShape = {\n    hidden: {\n          type: 'boolean',\n          optional: true,\n          'default': false,\n    },\n    /* and so on */\n}\n</code></pre>\n\n<p>This can happen at build time, doesn't need to be run time. If I need a bundler like Rollup, I can leverage that also. What solutions are out there currently (if any)?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 0, "last_activity_date": 1561576613, "creation_date": 1561576613, "answer_id": 56779683, "question_id": 56778515, "link": "https://stackoverflow.com/questions/56778515/root-segment-cannot-have-matrix-parameters-ionic-4/56779683#56779683", "title": "Root segment cannot have matrix parameters Ionic 4", "body": "<p>This works for me. i.e. <code>NavigationExtras</code></p>\n\n<p><em>.ts</em></p>\n\n<pre><code>import { NavigationExtras } from \"@angular/router\";\n\n const navigationExtras: NavigationExtras = {\n          queryParams: { \"hotelId\": data.h },\n        };    \n\nthis.navCtrl.navigateRoot([\"\"], navigationExtras); \n</code></pre>\n\n<p><strong>Ref:</strong> <a href=\"https://angular.io/guide/router#query-parameters-and-fragments\" rel=\"nofollow noreferrer\">Route Doc</a></p>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 56779683, "answer_count": 1, "score": -1, "last_activity_date": 1561612951, "creation_date": 1561571411, "last_edit_date": 1561612951, "question_id": 56778515, "link": "https://stackoverflow.com/questions/56778515/root-segment-cannot-have-matrix-parameters-ionic-4", "title": "Root segment cannot have matrix parameters Ionic 4", "body": "<p>Any clue how to solve this?</p>\n\n<p><em>.ts</em></p>\n\n<pre><code>this.navCtrl.navigateRoot([\"\", { hotelId: data.h }])\n</code></pre>\n\n<p><em>route</em></p>\n\n<pre><code>           {\n                path: \"\",\n                component: HomePage,\n            },\n</code></pre>\n\n<blockquote>\n  <p>Unhandled Promise rejection: Root segment cannot have matrix\n  parameters ; Zone:  ; Task: Promise.then ; Value: Error: Root\n  segment cannot have matrix parameters</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "angular8", "angular-library"], "answers": [{"tags": [], "owner": {"reputation": 1575, "user_id": 885259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea1d85cf531a8970912cf2e844c77b4?s=128&d=identicon&r=PG", "display_name": "Mateo Tibaquira", "link": "https://stackoverflow.com/users/885259/mateo-tibaquira"}, "is_accepted": false, "score": 0, "last_activity_date": 1561582098, "creation_date": 1561582098, "answer_id": 56780667, "question_id": 56778155, "link": "https://stackoverflow.com/questions/56778155/use-angular-library-locally-in-new-separate-application/56780667#56780667", "title": "Use Angular Library Locally In New/Separate Application", "body": "<p>Careful with this kind of hacks, as this is not the way node-dependencies work.</p>\n\n<p>A library can be \"emulated\" locally, by <code>linking</code> it with your dependency manager (npm or yarn).<br>\nRun <code>npm link</code> inside the folder with your local library with its <code>package.json</code> (.../dist/devicewise-angular), and you will be able to run <code>npm link devicewise-angular</code> in your angular project, and it will use your local copy instead the official one.</p>\n\n<p>Please refer to the <a href=\"https://docs.npmjs.com/cli/link\" rel=\"nofollow noreferrer\">official documentation</a> to study its details.<br>\nHappy coding!</p>\n"}], "owner": {"reputation": 421, "user_id": 5092005, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10206147533318859/picture?type=large", "display_name": "Austen Stone", "link": "https://stackoverflow.com/users/5092005/austen-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 474, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561582098, "creation_date": 1561569852, "question_id": 56778155, "link": "https://stackoverflow.com/questions/56778155/use-angular-library-locally-in-new-separate-application", "title": "Use Angular Library Locally In New/Separate Application", "body": "<p>I am trying to include a library I built in a new application. It builds successfully but I get an error on runtime <code>main.ts:13 Error: inject() must be called from an injection context</code>.</p>\n\n<p>When I grab the library from npm using <code>npm i devicewise-angular</code> there is no problem. Everything runs fine.</p>\n\n<p>The test application that is generated with the library also can use the local library just fine.</p>\n\n<p>I've added the paths to my <code>tsconfig.json</code> file.</p>\n\n<pre><code>{\n  ...\n  \"compilerOptions\": {\n  ...\n    \"paths\": {\n      \"devicewise-angular\": [\n        \"../devicewise-angular/dist/devicewise-angular\"\n      ]\n    }\n  }\n  ...\n}\n\n</code></pre>\n\n<p>The library is most definitely found and it builds fine. VSCode intellisense is auto completing everything.</p>\n\n<p>Here is the error</p>\n\n<pre><code>main.ts:13 Error: inject() must be called from an injection context\n    at injectInjectorOnly (core.js:520)\n    at \u0275\u0275inject (core.js:536)\n    at DevicewiseAngularService_Factory (devicewise-angular.js:984)\n    at _callFactory (core.js:23211)\n    at _createProviderInstance (core.js:23154)\n    at resolveNgModuleDep (core.js:23113)\n    at NgModuleRef_.get (core.js:24206)\n    at resolveDep (core.js:24736)\n    at createClass (core.js:24584)\n    at createDirectiveInstance (core.js:24400)\n</code></pre>\n\n<p>Looking at <code>devicewise-angular.js:984</code> I see:</p>\n\n<pre><code>/** @nocollapse */ DevicewiseAngularService.ngInjectableDef = \u0275\u0275defineInjectable({ factory: function DevicewiseAngularService_Factory() { return new DevicewiseAngularService(\u0275\u0275inject(CookieService), \u0275\u0275inject(DevicewiseApiService), \u0275\u0275inject(DevicewiseSubscribeService), \u0275\u0275inject(DevicewiseMultisubscribeService)); }, token: DevicewiseAngularService, providedIn: \"root\" });\n</code></pre>\n\n<p>I expect the same result using a local version of the library as if I installed it using npm. Why do I get this static injection error when trying to use it like this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 583, "user_id": 8712609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gvPRC.png?s=128&g=1", "display_name": "riorudo", "link": "https://stackoverflow.com/users/8712609/riorudo"}, "edited": false, "score": 0, "creation_date": 1561569733, "post_id": 56777966, "comment_id": 100111387, "body": "You can take a look <a href=\"https://stackoverflow.com/questions/5117127/use-dynamic-variable-names-in-javascript\">here</a>. Create an object and then use the square brackets to add dynamic properties to the object. Something like <code>var yourObject[&#39;yourString&#39;] = yourData</code>. If you want to access the keys of your object, you can use the following <code>Object.keys(yourObject)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7988212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a02a00348482fa4f6c318ba0377960?s=128&d=identicon&r=PG&f=1", "display_name": "John Lodge", "link": "https://stackoverflow.com/users/7988212/john-lodge"}, "edited": false, "score": 0, "creation_date": 1561571276, "post_id": 56778212, "comment_id": 100112086, "body": "Thabj yiu Jules, this seems to have fixed my problem perfectly."}, {"owner": {"reputation": 38, "user_id": 10791924, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CnHlGZP9Qjc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJn-Gva-jKmfUYSyPy8l-0o-EybA/mo/photo.jpg?sz=128", "display_name": "Jules Pollender", "link": "https://stackoverflow.com/users/10791924/jules-pollender"}, "reply_to_user": {"reputation": 1, "user_id": 7988212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a02a00348482fa4f6c318ba0377960?s=128&d=identicon&r=PG&f=1", "display_name": "John Lodge", "link": "https://stackoverflow.com/users/7988212/john-lodge"}, "edited": false, "score": 1, "creation_date": 1561571768, "post_id": 56778212, "comment_id": 100112292, "body": "Great, I&#39;m happy to hear it! Please mark this answer as the accepted one. Have a great one."}], "tags": [], "owner": {"reputation": 38, "user_id": 10791924, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CnHlGZP9Qjc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJn-Gva-jKmfUYSyPy8l-0o-EybA/mo/photo.jpg?sz=128", "display_name": "Jules Pollender", "link": "https://stackoverflow.com/users/10791924/jules-pollender"}, "is_accepted": false, "score": 0, "last_activity_date": 1561570464, "last_edit_date": 1561570464, "creation_date": 1561570071, "answer_id": 56778212, "question_id": 56777966, "link": "https://stackoverflow.com/questions/56777966/angular-6-use-string-as-variable/56778212#56778212", "title": "Angular 6 use string as variable", "body": "<p>Not sure if I understand the question correctly, but you can access an object attribute using a string.</p>\n\n<pre><code>const data = {fieldA: \"data1\", fieldb: \"data2\"};\nconsole.log(data[\"fieldA\"]); //will print data1\n</code></pre>\n\n<p>so you can do this</p>\n\n<pre><code>const keys = Object.keys(this.schFields); // to get [\"FieldA\", \"FieldB\", ...]\nkeys.map(fieldKey =&gt; {\n  console.log(this.response[fieldKey]);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 8277159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ic3fM.jpg?s=128&g=1", "display_name": "Mazedul Islam", "link": "https://stackoverflow.com/users/8277159/mazedul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1561570843, "creation_date": 1561570843, "answer_id": 56778394, "question_id": 56777966, "link": "https://stackoverflow.com/questions/56777966/angular-6-use-string-as-variable/56778394#56778394", "title": "Angular 6 use string as variable", "body": "<p>Whatever you are trying to do in your last for loop, I think this below code will do that.</p>\n\n<pre><code>for (let key in this.response) {\n    for(let item of this.response[key]) {\n        let itemelem = { \"entity_id\" : item.id, \"entity_name\" : item.displayValue };\n        this.items.push(itemelem);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7988212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a02a00348482fa4f6c318ba0377960?s=128&d=identicon&r=PG&f=1", "display_name": "John Lodge", "link": "https://stackoverflow.com/users/7988212/john-lodge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561571243, "creation_date": 1561569045, "last_edit_date": 1561571243, "question_id": 56777966, "link": "https://stackoverflow.com/questions/56777966/angular-6-use-string-as-variable", "title": "Angular 6 use string as variable", "body": "<p>I am not sure how to phrase this question but I hope it is understandable</p>\n\n<p>In Angular 6 I have a GET request that returns a JSON object like this</p>\n\n<pre><code>\n\"fieldA\": [\n {\n   \"displayValue\": \"value1\", \n   \"id\": \"A\"\n }, \n {\n   \"displayValue\": \"value2\", \n   \"id\": \"B\"\n } \n  ], \n\"fieldB\": [\n {\n   \"displayValue\": \"value1\", \n   \"id\": \"0\"\n }, \n {\n   \"displayValue\": \"value2\", \n   \"id\": \"1\"\n }, \n ], \n\"FieldC\": [\n {\n   \"displayValue\": \"value1\", \n   \"id\": \"47\"\n }, \n {\n   \"displayValue\": \"valuen\", \n    \"id\": \"94\"\n }, \n ] \n}\"fieldA\": [\n {\n   \"displayValue\": \"value1\", \n   \"id\": \"A\"\n }, \n {\n   \"displayValue\": \"value2\", \n   \"id\": \"B\"\n } \n  ], \n\"fieldB\": [\n {\n   \"displayValue\": \"value1\", \n   \"id\": \"0\"\n }, \n {\n   \"displayValue\": \"value2\", \n   \"id\": \"1\"\n }, \n ], \n\"FieldC\": [\n {\n   \"displayValue\": \"value1\", \n   \"id\": \"47\"\n }, \n {\n   \"displayValue\": \"valuen\", \n    \"id\": \"94\"\n }, \n ] \n}\n\n</code></pre>\n\n<p>if I iterate over this with this code</p>\n\n<pre><code>for(let item in this.response) {\n    console.log(item);\n    this.schFields.push(item);\n}\n</code></pre>\n\n<p>I correctly get each of the field names. There could be a variable number of field names each with variable numbers of values</p>\n\n<p>Now I need to list the values for each of the fields stored in the schFields array</p>\n\n<p>I cannot see how to use the value read from the array as a variable</p>\n\n<p>if I know the field name then it works fine, like</p>\n\n<pre><code>for(let item of this.response.fieldA) {\n    let itemelem = { \"entity_id\" : item.id, \"entity_name\" : item.displayValue };\n    this.items.push(itemelem);\n}\n</code></pre>\n\n<p>but when the fieldA part needs to be a variable I have not been able to find a solution.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "asynchronous", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 10355644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3mqaA.jpg?s=128&g=1", "display_name": "casvl", "link": "https://stackoverflow.com/users/10355644/casvl"}, "edited": false, "score": 0, "creation_date": 1561634047, "post_id": 56777969, "comment_id": 100133791, "body": "alright, but the resize() observable returns an array of files, and then for each file Individually I&#39;m uploading them to Firebase storage and then that returns another observable with the download url. so, is it best to split this up into separate functions and do your method twice, or is there a better way?"}, {"owner": {"reputation": 387, "user_id": 1743936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/giAPc.jpg?s=128&g=1", "display_name": "dockleryxk", "link": "https://stackoverflow.com/users/1743936/dockleryxk"}, "reply_to_user": {"reputation": 169, "user_id": 10355644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3mqaA.jpg?s=128&g=1", "display_name": "casvl", "link": "https://stackoverflow.com/users/10355644/casvl"}, "edited": false, "score": 0, "creation_date": 1561640890, "post_id": 56777969, "comment_id": 100137859, "body": "Personally, I would split it into functions for readability purposes. Another option would be to use a Subject. Basically, you could leave what you have, and after urls.push(url), you could call behaviorSubjectVariableName.next(urls). Somewhere else you can subscribe to the subject and carry on from there."}, {"owner": {"reputation": 169, "user_id": 10355644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3mqaA.jpg?s=128&g=1", "display_name": "casvl", "link": "https://stackoverflow.com/users/10355644/casvl"}, "edited": false, "score": 0, "creation_date": 1561718039, "post_id": 56777969, "comment_id": 100164705, "body": "simple but very clever solution thanks for this. I realized my mistake must  be something else, It&#39;s indeed cropping and uploading the file correctly. It&#39;s just that  &quot;const url = await ref.getDownloadURL().toPromise();&quot; never returns an URL. so the promise never resolves."}, {"owner": {"reputation": 387, "user_id": 1743936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/giAPc.jpg?s=128&g=1", "display_name": "dockleryxk", "link": "https://stackoverflow.com/users/1743936/dockleryxk"}, "reply_to_user": {"reputation": 169, "user_id": 10355644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3mqaA.jpg?s=128&g=1", "display_name": "casvl", "link": "https://stackoverflow.com/users/10355644/casvl"}, "edited": false, "score": 0, "creation_date": 1561985587, "post_id": 56777969, "comment_id": 100224411, "body": "toPromise was deprecated, so that may be why. You could just use this solution for that part as well. Good luck!"}], "tags": [], "owner": {"reputation": 387, "user_id": 1743936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/giAPc.jpg?s=128&g=1", "display_name": "dockleryxk", "link": "https://stackoverflow.com/users/1743936/dockleryxk"}, "is_accepted": false, "score": 0, "last_activity_date": 1561672617, "last_edit_date": 1561672617, "creation_date": 1561569056, "answer_id": 56777969, "question_id": 56777682, "link": "https://stackoverflow.com/questions/56777682/uploading-asynchronous-incoming-images-to-firebase-storage-and-awaiting-for-all/56777969#56777969", "title": "uploading asynchronous incoming images to Firebase storage and awaiting for all the URLs to be returned", "body": "<p>Since you are more comfortable with promises, you could do something like make an array of your observables and then combine them.</p>\n\n<pre><code>const observables = [\n  ...\n];\n\nreturn new Promise((resolve, reject) =&gt; {\n  Observable.combineLatest(observables).subscribe(\n    responses =&gt; {\n      // responses array will be in the same order as requests\n      console.log('responses:', responses);\n      resolve(responses);\n    },\n    error =&gt; {\n      console.log('error:', error);\n      reject(error);\n    }\n  );\n});\n</code></pre>\n\n<p>EDIT: I didn't realize how the package worked exactly, try something like this:</p>\n\n<pre><code>uploadImages(images, title) {\n  const urls: string[] = [];\n  return new Promise((resolve, reject) =&gt; {\n    this.ng2ImgToolsService.resize(images, 700, 400).subscribe(result =&gt; {\n      const uploadImage = new File([result], result.name);\n\n      const path = `${ title }/${ Date.now() }_${ uploadImage.name }`;\n      const ref = this.storage.ref(path);\n      const task = this.storage.upload(path, uploadImage);\n\n      task.snapshotChanges().pipe(tap(), finalize(async () =&gt; {\n        const url = await ref.getDownloadURL().toPromise();\n        urls.push(url);\n        // in this case, all images should be done\n        if (urls.length === images.length) {\n          resolve(urls);\n        }\n      }));\n\n    }, error =&gt; {\n      console.log('resize failed, returning original images: ' + error);\n      reject(error);\n    });\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 10355644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3mqaA.jpg?s=128&g=1", "display_name": "casvl", "link": "https://stackoverflow.com/users/10355644/casvl"}, "is_accepted": true, "score": 0, "last_activity_date": 1563096216, "last_edit_date": 1563096216, "creation_date": 1561817625, "answer_id": 56818219, "question_id": 56777682, "link": "https://stackoverflow.com/questions/56777682/uploading-asynchronous-incoming-images-to-firebase-storage-and-awaiting-for-all/56818219#56818219", "title": "uploading asynchronous incoming images to Firebase storage and awaiting for all the URLs to be returned", "body": "<p>Alright, I figured it all out. Huge thanks to dockleryxk for a generally working solution. Splitting up my function and basically doing dockleryxk' tactic twice ended up working:</p>\n\n<p>The function to resize incoming images:</p>\n\n<pre><code>resizeImages(images: File[], width: number, height: number) {\n\n    /*\n    this function takes in an array of images, a width and a height.\n    if the array contains 'png' or 'jpg' files. it will scale down the images to either the width or the height given.\n    if the array contains other image files it will just return them.\n    */\n\n    const toResize: File[] = [];\n    const resized: File[] = [];\n\n    for (const file of images) {\n      if (this.getFileExtension(file) === 'png' || this.getFileExtension(file) === 'jpg') {\n        toResize.push(file);\n      } else {\n        resized.push(file);\n      }\n    }\n\n    return new Promise((resolve, reject) =&gt; {\n      if (toResize.length &gt; 0) {\n        this.ng2ImgToolsService.resize(toResize, width, height).subscribe(response =&gt; {\n          resized.push(this.blobToFile(response, response.name));\n\n          if (resized.length === images.length) {\n            resolve(resized);\n          }\n        }, error =&gt; {\n          console.log('error:', error);\n          reject(error);\n        });\n      } else {\n        resolve(resized);\n      }\n    });\n  }\n</code></pre>\n\n<p>the function to upload those images:</p>\n\n<pre><code>  uploadImages(images: File[], title: string) {\n    return new Promise((resolve, reject) =&gt; {\n      const urls: string[] = [];\n      for (const file of images) {\n        const path = `${title}/${Date.now()}_${file.name}`;\n        const ref = this.storage.ref(path);\n        const task = this.storage.upload(path, file);\n\n        task.snapshotChanges().pipe(\n          finalize(() =&gt; {\n            ref.getDownloadURL().subscribe(url =&gt; {\n              urls.push(url);\n\n              if (images.length === urls.length) {\n                resolve(urls);\n              }\n            });\n          })\n        ).subscribe();\n      }\n    });\n  }\n</code></pre>\n\n<p>and then using them in your code:</p>\n\n<pre><code>const imgs: any = await this.resizeImages(data.images, 700, 400);\nconsole.log(imgs);\nconst urls: any = await this.uploadImages(imgs, data.title);\nconsole.log(urls);\n</code></pre>\n\n<p>I can tell that it's not the best solution, I'm waiting unnecessarily long and this could be sped up. So if anyone has a better solution I'd love to hear it. but this works!</p>\n"}], "owner": {"reputation": 169, "user_id": 10355644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3mqaA.jpg?s=128&g=1", "display_name": "casvl", "link": "https://stackoverflow.com/users/10355644/casvl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 56818219, "answer_count": 2, "score": 0, "last_activity_date": 1563096216, "creation_date": 1561567965, "last_edit_date": 1561669471, "question_id": 56777682, "link": "https://stackoverflow.com/questions/56777682/uploading-asynchronous-incoming-images-to-firebase-storage-and-awaiting-for-all", "title": "uploading asynchronous incoming images to Firebase storage and awaiting for all the URLs to be returned", "body": "<p>so I'm an angular app that allows you to upload some stuff to Cloud Storage. say, a title, a description and some images. I am storing the images in firebase storage and then adding the download URLs to firebase aswell. I'm constructing a method that takes in an array of files, crops the images to a more usable size and then uploads those files to firebase storage:</p>\n\n<pre><code>  uploadImages(images, title) {\n    const urls: string[] = [];\n    this.ng2ImgToolsService.resize(images, 700, 400).subscribe(result =&gt; {\n      const uploadImage = new File([result], result.name);\n\n      const path = `${title}/${Date.now()}_${uploadImage.name}`;\n      const ref = this.storage.ref(path);\n      const task = this.storage.upload(path, uploadImage);\n\n      task.snapshotChanges().pipe(tap(), finalize(async () =&gt; {\n        const url = await ref.getDownloadURL().toPromise;\n        urls.push(url);\n      }));  \n\n    }, error =&gt; {\n      console.log('resize failed, returning original images: ' + error)\n    });\n\n    return urls;\n  }\n\n</code></pre>\n\n<p>this obviously doesn't work. I've also tried wrapping everything in a promise so i could do;</p>\n\n<pre><code>const urls = await this.uploadImages(...);\n</code></pre>\n\n<p>but at this point I have observables in observables in a promise, and I must admit that I'm in over my head. the times I've worked with async tasks they've been more straight forward. </p>\n\n<p>I spend a couple more days reading up on RxJs but I'm afraid I can't figure it out on my own.</p>\n\n<p>to summarize, this function needs to return an array of urls, I need to be able to await for this array, so basically wait with uploading everything to firestore until I have the download urls.</p>\n\n<p><strong>edit</strong>\nAlright after playing around with dockleryxk answer, I'm still running into some issues. First of all, the \"ng2ImgToolsService.resize(images, 700, 400)\" function takes in an array of images, and returns a promise that will pas through each cropped image, once it is done, in staid of all of them at once.  So if I try to wrap this in a promise and resolve the output of this observable it will only return one image (whichever gets cropped first). So I'd have to wait for the observable to be done emitting data? Is this possible? </p>\n\n<p>Secondly, if I indeed split everything up so that once I have an array of cropped images i'd put those images into a new function. In that function I'd have to loop over that array and upload them one by one. </p>\n\n<pre><code> uploadImages2(images, title) {\n    const observables = [];\n\n    for (let image of images) {\n      const path = `${title}/${Date.now()}_${image.name}`;\n      const ref = this.storage.ref(path);\n      const task = this.storage.upload(path, image);\n\n      task.snapshotChanges().pipe(tap(), finalize(async () =&gt; {\n        const url =  ref.getDownloadURL();\n        observables.push(url);\n      }));\n    }\n\n    return new Promise((resolve, reject) =&gt; {\n      Observable.combineLatest(observables).subscribe(\n        responses =&gt; {\n          resolve(responses);\n        },\n        error =&gt; {\n          console.log('error:', error);\n          reject(error);\n        }\n      );\n    });\n  }\n</code></pre>\n\n<p>this does upload the images correctly but doesn't return the download url array. it basically freezes somewhere in the promise.</p>\n"}, {"tags": ["typescript", "slider", "angular6", "swiper"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 8778168, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OxekBUtyJY/AAAAAAAAAAI/AAAAAAAAEi4/RpSwjPaHeRE/photo.jpg?sz=128", "display_name": "Wafflo", "link": "https://stackoverflow.com/users/8778168/wafflo"}, "is_accepted": false, "score": 0, "last_activity_date": 1561582007, "creation_date": 1561582007, "answer_id": 56780647, "question_id": 56777664, "link": "https://stackoverflow.com/questions/56777664/is-there-a-way-of-disable-navigation-on-ngx-swiper-wrapper-when-theres-only-1-s/56780647#56780647", "title": "Is there a way of disable navigation on ngx-swiper-wrapper when there&#39;s only 1 slide?", "body": "<p>So I was stuck with this for 2 days and finally found the answer, it was as simple as adding \"watchOverflow: true\" on the swiper config:</p>\n\n<pre><code> public config: SwiperConfigInterface = {\n    slidesPerView: 1.16,\n    spaceBetween: 4,\n    centeredSlides: true,\n    mousewheel: true,\n    scrollbar: false,\n    navigation: false,\n    pagination: true,\n    watchOverflow: true\n  };\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8778168, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OxekBUtyJY/AAAAAAAAAAI/AAAAAAAAEi4/RpSwjPaHeRE/photo.jpg?sz=128", "display_name": "Wafflo", "link": "https://stackoverflow.com/users/8778168/wafflo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1205, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1561582007, "creation_date": 1561567879, "question_id": 56777664, "link": "https://stackoverflow.com/questions/56777664/is-there-a-way-of-disable-navigation-on-ngx-swiper-wrapper-when-theres-only-1-s", "title": "Is there a way of disable navigation on ngx-swiper-wrapper when there&#39;s only 1 slide?", "body": "<p>I have an app with multiple swipers, slides are generated dynamically by different servers.\nI need to disable navigation and pagination (no bullets or swiper effect) if there's only 1 slide on the swiper.</p>\n\n<p>I've done some google research and until now I've only found Jquery answers. I'm not allowed to use Jquery, only typescript.\n I've tried creating a condition with \"document.querySelectorAll('.slider').length == 1\" but it's not finding \"slider\" on DOM so always returning 0.</p>\n"}, {"tags": ["javascript", "html", "typescript", "web"], "comments": [{"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1561566192, "post_id": 56777217, "comment_id": 100109819, "body": "can you explain more what  you want"}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 3, "creation_date": 1561566275, "post_id": 56777217, "comment_id": 100109869, "body": "<i>&quot;So &quot;A&quot; and &quot;B&quot; belong together&quot;</i> - Why/how?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1561566584, "post_id": 56777217, "comment_id": 100110012, "body": "Please help us understand the part about the pairs. Are they pairs because they are next to each other in the list? Or because they are paired in some other data structure?"}, {"owner": {"reputation": 362, "user_id": 768423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b6ba58729e5996f275fab2bc0357fbc?s=128&d=identicon&r=PG", "display_name": "undrline - Reinstate Monica", "link": "https://stackoverflow.com/users/768423/undrline-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1561566787, "post_id": 56777217, "comment_id": 100110125, "body": "It sounds like you want to sort by type, then by name, but you don&#39;t have a break column to tell the sort when to start counting again.  The mapping thing you found may not help if knowing the original order doesn&#39;t help.  Perhaps look at multidimensional arrays."}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "reply_to_user": {"reputation": 362, "user_id": 768423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b6ba58729e5996f275fab2bc0357fbc?s=128&d=identicon&r=PG", "display_name": "undrline - Reinstate Monica", "link": "https://stackoverflow.com/users/768423/undrline-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1561567344, "post_id": 56777217, "comment_id": 100110350, "body": "@undrline <i>&quot;It sounds like you want to sort by type, then by name&quot;</i> - No. The order of the result is <code>1&#47;B, 2&#47;A, 1&#47;D, 2&#47;C</code> and not <code>1B, 1D, 2A, 2C</code>"}], "answers": [{"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1561567491, "last_edit_date": 1561567491, "creation_date": 1561567152, "answer_id": 56777496, "question_id": 56777217, "link": "https://stackoverflow.com/questions/56777217/only-sort-pairs-in-array/56777496#56777496", "title": "Only sort pairs in array", "body": "<p>I assume that <code>arePair(a,b)</code> is function which contains information about object pairs and return true if arguments are pair (we don't know that information as you write in question - but in snipped I give some example). I also assume that you want to sort pairs by <code>type</code></p>\n\n<pre><code>arr.sort((a,b) =&gt; arePair(a,b) ? a.type-b.type : 0 );\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  {\r\n    type: 2,\r\n    name: 'A',\r\n  },\r\n  {\r\n    type: 1, \r\n    name: 'B'},\r\n  {\r\n    type: 2, \r\n    name: 'C'},\r\n  {\r\n    type: 1,\r\n    name: 'D',\r\n  },\r\n];\r\n\r\nconst arePair = (a,b) =&gt; [ {'A':1,'B':1}, {'C':1,'D':1} ].some(x=&gt; x[a.name]&amp;&amp;x[b.name]);\r\n\r\narr.sort((a,b) =&gt; arePair(a,b) ? a.type-b.type : 0 );\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 0, "last_activity_date": 1561571847, "creation_date": 1561571847, "answer_id": 56778602, "question_id": 56777217, "link": "https://stackoverflow.com/questions/56777217/only-sort-pairs-in-array/56778602#56778602", "title": "Only sort pairs in array", "body": "<p>My interpretation of your question is that your array is a flattened list of pairs of elements, and you want each pair to be sorted by <code>type</code>.  To do that, I'd introduce a <code>chunk()</code> operation and a <code>flatten()</code> operation.</p>\n\n<p>The <code>chunk(arr, chunksise)</code> function takes an array <code>arr</code> and splits it into chunks of length <code>chunkSize</code>, so <code>chunk([1,2,3,4,5,6], 3)</code> is <code>[[1,2,3],[4,5,6]]</code>.  It could be written any number of ways; here's one:</p>\n\n<pre><code>const chunk = &lt;T&gt;(arr: T[], chunksize: number) =&gt;\n  arr.reduce&lt;T[][]&gt;(\n    (acc, cur) =&gt; (\n      acc[acc.length - 1].length &lt; chunksize || acc.push([]),\n      acc[acc.length - 1].push(cur),\n      acc\n    ),\n    [[]]\n  );\n</code></pre>\n\n<p>And <code>flatten(arr)</code> takes an array of arrays <code>arr</code> and concatenates all the arrays together.  So <code>flatten([[1,2,3],[4,5,6]])</code> is <code>[1,2,3,4,5,6]</code>.  This functionality exists in ESNext as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat\" rel=\"nofollow noreferrer\"><code>Array.prorotype.flat()</code></a>, but I'm not going to assume you have that method in your runtime.  This can be written in any number of ways; here's one:</p>\n\n<pre><code>const flatten = &lt;T&gt;(arr: T[][]) =&gt;\n  arr.reduce&lt;T[]&gt;((acc, cur) =&gt; (acc.push(...cur), acc), []);\n</code></pre>\n\n<p>Finally, for what you want to do we are going to take <code>arr</code>, chunk it into pairs, sort each pair by the element's <code>type</code> property, and flatten the result:</p>\n\n<pre><code>const result = flatten(chunk(arr, 2).map(e =&gt; e.sort((a, b) =&gt; a.type - b.type)));\n</code></pre>\n\n<p>And let's make sure it's what you want:</p>\n\n<pre><code>console.log(JSON.stringify(result));\n// [{\"type\":1,\"name\":\"B\"},{\"type\":2,\"name\":\"A\"},\n//  {\"type\":1,\"name\":\"D\"},{\"type\":2,\"name\":\"C\"}]\n</code></pre>\n\n<p>Looks good.  Hope that helps; good luck!</p>\n\n<p><a href=\"https://typescript-play.js.org/#code/MYewdgzgLgBAhgJwTAvDA2gKBjA3tnGKATwAcBTALhgCYAaAnMOAWypgCIBBDggXwY58hImXYBGQYWZtqHAEK8cAgsMIkK1eoxgz2HAMJKYKoTo0SpTVvoAixvpgC6AbkyYA9B5gAVOAGtyeDB4JDhiUOQ4MAATGAhSABsAS1hUmGSwKBAYYAALAFcwfwgYEAAzGETyMABzKDzcwuKAZWSAL3JPbwgc-KL-AAp0SXoAZjoAFjoAVjoANic6GDGASgzS9BG6caX0abnFp0xQSFh+4tQYAB4fAD5BxARqH3QlpoGIDvYwApYAI3ICHWKDuBCeADoEOQYgVgORbm83g8dI9gMBlsACsDUHcYIMdDg4Oj0MTgBDqnUGjAALQwcROCk1eqNa4fYpfTowAA+3Pg6IhpAKEDywycqyshDJpIFlJZtPpjKFIsGWOBkqJ6J0Ep0Wycxxwqzc3RgADFEnAoFAasFIuEypUnuFSplsvB4platU7cQTb0YOULVaasNtrs6PtZgt9etkptRnQJgdoydwNAA0HrSE0LcHk8XkjxbjwUgoTC4QjXk4HmiMblsSC8bXBcLRRD22qJfzgF23kb3F5fAEgk9lgkUmk0lk+s0Sg6qszqdpB70ELByMTGqQ4MlkP8IhYTdE4oHLVmiHkgtCIAVElBU2cYNfb7A0Kfg2BVbPHkhljRVhCLBwKQgxBKCMDkBCq5QIMjzLP8jbwBCFgKv8yFiKsmHGqcvTVBSIC1IMABSLQAPIAHJQVACCesk5TEIMz53lhJroLgHAWBwlCSBwehcQoHACOxnGUPQvE2PxPAqIOeAcWIXE8XxlAcPYQlyRQXFiUphiCccmBAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1561573036, "creation_date": 1561573036, "answer_id": 56778868, "question_id": 56777217, "link": "https://stackoverflow.com/questions/56777217/only-sort-pairs-in-array/56778868#56778868", "title": "Only sort pairs in array", "body": "<p>By having pairs, you could splice the connected items, sort and splice them back to the array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [{ type: 2, name: 'A' }, { type: 1, name: 'B' }, { type: 2, name: 'C' }, { type: 1, name: 'D' }],\r\n    size = 2,\r\n    i = 0;\r\n\r\nwhile (i &lt; array.length) {\r\n    array.splice(i, 0, array.splice(i, size).sort((a, b) =&gt; a.type - b.type));\r\n    i += size;\r\n}\r\n\r\nconsole.log(array);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "closed_date": 1561618723, "answer_count": 3, "score": -1, "last_activity_date": 1561573036, "creation_date": 1561565992, "last_edit_date": 1561567354, "question_id": 56777217, "link": "https://stackoverflow.com/questions/56777217/only-sort-pairs-in-array", "closed_reason": "Needs details or clarity", "title": "Only sort pairs in array", "body": "<p>I have an array of objects, like this for example: </p>\n\n<pre><code>  const arr = [\n  {\n    type: 2,\n    name: 'A',\n  },\n  {\n    type: 1, \n    name: 'B'},\n  {\n    type: 2, \n    name: 'C'},\n  {\n    type: 1,\n    name: 'D',\n  },\n];\n</code></pre>\n\n<p>Now what you don't see is, there are pairs of objects. So \"A\" and \"B\" belong together. Now I want to sort this array, so in the end it becomes this: </p>\n\n<pre><code>const result = [\n  {\n    type: 1,\n    name: 'B',\n  },\n  {\n    type: 2, \n    name: 'A'},\n  {\n    type: 1, \n    name: 'D'},\n  {\n    type: 2,\n    name: 'C',\n  },\n];\n</code></pre>\n\n<p>So basically I only want to sort the pairs.</p>\n\n<p>I tried using the indexes like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Sorting_with_map\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>And basically just use the modulo operator for the index of the current value, but I fear the sort mechanism works a bit differently.</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 1875, "user_id": 2427237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6IXfO.jpg?s=128&g=1", "display_name": "Nimsrules", "link": "https://stackoverflow.com/users/2427237/nimsrules"}, "edited": false, "score": 0, "creation_date": 1561566454, "post_id": 56777194, "comment_id": 100109965, "body": "You can delay the closing of the dropdown by wrapping the trigger inside of a <code>setTimeout</code>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 9642848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7sGb.jpg?s=128&g=1", "display_name": "Lucifer Morningstar", "link": "https://stackoverflow.com/users/9642848/lucifer-morningstar"}, "edited": false, "score": 0, "creation_date": 1561567211, "post_id": 56777321, "comment_id": 100110296, "body": "But this won&#39;t hide box  if user clicks outside the suggestion box"}], "tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": true, "score": 1, "last_activity_date": 1561568429, "last_edit_date": 1561568429, "creation_date": 1561566482, "answer_id": 56777321, "question_id": 56777194, "link": "https://stackoverflow.com/questions/56777194/wait-for-click-before-losing-focus/56777321#56777321", "title": "wait for click before losing focus", "body": "<p>Create a variable <code>isVisible</code> in your TS:</p>\n\n<pre><code>isVisible = false;\n\nlogger(id) {\n  console.log(id);\n  isVisible = false;\n}\n\nhide() {\n  isVisible = false;\n}\n\ninputClicked() {\n  isVisible = true;\n}\n</code></pre>\n\n<p>And your HTML:</p>\n\n<pre><code>&lt;div id=\"demo-2\"&gt;\n &lt;input\n   type=\"search\"\n   placeholder=\"Search By Title, Author\" (focusout)=\"hide()\"\n /&gt;\n &lt;div class=\"autocomplete\" [ngStyle]=\"{'visibility':isVisible ? 'visible' : 'hidden'}\"&gt;\n   &lt;mdb-card *ngFor=\"let book of books\" (click)=\"logger(book.id)\"&gt;\n     &lt;!--some code--&gt;\n   &lt;/mdb-card&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Remove <code>visibility</code> property from your CSS.</p>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 8284444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUi4V.jpg?s=128&g=1", "display_name": "Harsh Mandalgi", "link": "https://stackoverflow.com/users/8284444/harsh-mandalgi"}, "is_accepted": false, "score": 0, "last_activity_date": 1561567377, "creation_date": 1561567377, "answer_id": 56777556, "question_id": 56777194, "link": "https://stackoverflow.com/questions/56777194/wait-for-click-before-losing-focus/56777556#56777556", "title": "wait for click before losing focus", "body": "<p>~.autocomplete will apply properties on element's siblings. So rather than applying it on div, try to apply it on mdb-card</p>\n"}], "owner": {"reputation": 115, "user_id": 9642848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7sGb.jpg?s=128&g=1", "display_name": "Lucifer Morningstar", "link": "https://stackoverflow.com/users/9642848/lucifer-morningstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 56777321, "answer_count": 2, "score": 0, "last_activity_date": 1561568429, "creation_date": 1561565899, "question_id": 56777194, "link": "https://stackoverflow.com/questions/56777194/wait-for-click-before-losing-focus", "title": "wait for click before losing focus", "body": "<p>I have a search dropdown which shows suggestions when a search input gets focus.\nThe problem is I have code such that the dropdown closes when this input loses focus. This is how I want it but the problem is that as soon as I click on any suggestion, the box closes before the click is registered for that suggestion.</p>\n\n<p>My code:-\nhtml:-</p>\n\n<pre><code>&lt;div id=\"demo-2\"&gt;\n &lt;input\n   type=\"search\"\n   placeholder=\"Search By Title, Author\"\n /&gt;\n &lt;div class=\"autocomplete\"&gt;\n   &lt;mdb-card *ngFor=\"let book of books\" (click)=\"logger(book.id)\"&gt;\n     &lt;!--some code--&gt;\n   &lt;/mdb-card&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>css:-</p>\n\n<pre><code>#demo-2 input[type=\"search\"]:focus {\n  width: 275px;\n  color: #000;\n  background-color: #fff;\n  cursor: auto;\n\n  ~ .autocomplete {\n    visibility: visible;\n  }\n}\n\n.autocomplete {\n  height: 350px;\n  width: 275px;\n  position: absolute;\n  visibility: hidden;\n  overflow: auto;\n}\n</code></pre>\n\n<p>ts (excerpt):-</p>\n\n<pre><code>  logger(id) {\n    console.log(id); \n  }\n</code></pre>\n\n<p>Been at it for more than a day. Any help is much appreciated.</p>\n"}, {"tags": ["typescript", "union-types"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1561565078, "post_id": 56776843, "comment_id": 100109270, "body": "It matches both sides of the union, but you are likely expecting excess property checking to happen.  If so, <a href=\"https://github.com/microsoft/TypeScript/issues/20863\" rel=\"nofollow noreferrer\">that&#39;s a known bug</a>.  For now you should manually craft your union so as to be more prohibitive, if you care: <code>type TestUnion = {a: true, b?: never} | {a?:never, b: true}</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561565291, "post_id": 56776843, "comment_id": 100109382, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52771362/typescript-react-union-type-for-props-does-not-display-error-when-providing-exc\">Typescript React: Union type for props does not display error when providing excess properties</a>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1561565307, "post_id": 56776843, "comment_id": 100109389, "body": "<a href=\"https://github.com/microsoft/TypeScript/issues/31055#issuecomment-485479365\" rel=\"nofollow noreferrer\">Union types are not intended to be automatically mutually exclusive</a>. See also <a href=\"https://stackoverflow.com/questions/42123407/does-typescript-support-mutually-exclusive-types?noredirect=1&amp;lq=1\" title=\"does typescript support mutually exclusive types\">stackoverflow.com/questions/42123407/&hellip;</a>"}, {"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 0, "creation_date": 1561603961, "post_id": 56776843, "comment_id": 100121030, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52771362/typescript-react-union-type-for-props-does-not-display-error-when-providing-exc\">Typescript React: Union type for props does not display error when providing excess properties</a>"}], "owner": {"reputation": 101, "user_id": 600392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b486aeb448e517868dd5e7b0ce5f40d0?s=128&d=identicon&r=PG", "display_name": "Chris Erickson", "link": "https://stackoverflow.com/users/600392/chris-erickson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561564621, "creation_date": 1561564621, "question_id": 56776843, "link": "https://stackoverflow.com/questions/56776843/typescript-non-discriminating-union-allows-properties-from-both-sides-of-union", "title": "Typescript non-discriminating union allows properties from both sides of union", "body": "<p>Given the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ntype TestUnion = { a: true } | { b: true };\nconst shouldFail: TestUnion = { a: true, b: true };\n\n</code></pre>\n\n<p>I'd expect that <code>shouldFail</code> would have a compilation error since it doesn't match either side of the union. However, this is compiling just fine. (Typescript 3.5.1)</p>\n\n<p>Am I misunderstanding something about how union types work?</p>\n"}, {"tags": ["node.js", "typescript", "mongoose", "node-modules"], "comments": [{"owner": {"reputation": 111, "user_id": 2282905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4527c596303405beb79e64417535e6?s=128&d=identicon&r=PG", "display_name": "Yiorgos", "link": "https://stackoverflow.com/users/2282905/yiorgos"}, "edited": false, "score": 0, "creation_date": 1561626667, "post_id": 56776560, "comment_id": 100129522, "body": "By default typescript includes all types under node_modules/@types <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\">@types</a>  Documentation also mentions that    <b>Specify &quot;types&quot;: [] to disable automatic inclusion of @types packages.</b>   Based on <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">module resolution</a> have you tried to remove &quot;types:[]&quot; from your tsconfig and let the compiler do it&#39;s default module resolution?"}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "reply_to_user": {"reputation": 111, "user_id": 2282905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4527c596303405beb79e64417535e6?s=128&d=identicon&r=PG", "display_name": "Yiorgos", "link": "https://stackoverflow.com/users/2282905/yiorgos"}, "edited": false, "score": 0, "creation_date": 1561634406, "post_id": 56776560, "comment_id": 100134008, "body": "In the end I moved quite a lot of ways from the initial problem, I think I just need to do an npm package from scratch that uses a direct dependency as currently nothing is really happening with my files when I try to import them, it&#39;s all a big mess..."}, {"owner": {"reputation": 111, "user_id": 2282905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4527c596303405beb79e64417535e6?s=128&d=identicon&r=PG", "display_name": "Yiorgos", "link": "https://stackoverflow.com/users/2282905/yiorgos"}, "edited": false, "score": 0, "creation_date": 1561643074, "post_id": 56776560, "comment_id": 100139384, "body": "That&#39;s probably a good idea. If you still having the same issue, it might also help if you share you package.json file."}], "answers": [{"tags": [], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "is_accepted": true, "score": 0, "last_activity_date": 1571844603, "creation_date": 1571844603, "answer_id": 58526363, "question_id": 56776560, "link": "https://stackoverflow.com/questions/56776560/correct-way-of-using-typescript-files-from-modules-in-typescript-nodeexpress-pr/58526363#58526363", "title": "Correct way of using typescript files from modules in typescript node+express project? currently throwing Error: Cannot find module", "body": "<p>My final TS config:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"declaration\": true,\n        \"declarationMap\": true,\n        \"sourceMap\": true,\n        \"outDir\": \"lib\",\n        \"strict\": true,\n        \"esModuleInterop\": true\n    },\n    \"include\": [\"src\"]\n}\n\n</code></pre>\n\n<p>and relevant package.json configuration:</p>\n\n<pre><code>{\n    \"main\": \"lib/index.js\",\n    \"types\": \"lib\",\n    \"scripts\": {\n        \"tsc\": \"tsc\",\n        \"build\": \"tsc -p .\"\n    },\n    \"files\": [\n        \"lib\"\n    ],\n}\n</code></pre>\n"}], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58526363, "answer_count": 1, "score": 2, "last_activity_date": 1571844603, "creation_date": 1561563748, "question_id": 56776560, "link": "https://stackoverflow.com/questions/56776560/correct-way-of-using-typescript-files-from-modules-in-typescript-nodeexpress-pr", "title": "Correct way of using typescript files from modules in typescript node+express project? currently throwing Error: Cannot find module", "body": "<p>I have a typescript module <a href=\"https://www.npmjs.com/package/@tlabs/models\" rel=\"nofollow noreferrer\">@tlabs/models</a> where I'm simply exporting in index.ts: </p>\n\n<pre><code>export * from '../models......'\n</code></pre>\n\n<p>where in each file I have something like: </p>\n\n<pre><code>export const Project = typedModel('projects', ProjectSchema);\n</code></pre>\n\n<p>and my only dependency is <code>ts-mongoose</code> imported in each file simply as: </p>\n\n<pre><code>import { createSchema, Type, typedModel, ExtractProps } from 'ts-mongoose';\n</code></pre>\n\n<p>ts-mongoose being a dependency that itself required mongoose + mongoose types. </p>\n\n<p>In my typescript node project I have <code>ts-mongoose</code>, <code>mongoose</code> and @tlabs/models as dependencies and <code>@types/mongoose</code> as dev dependency.</p>\n\n<p>Running tsc is fine, the files get compiled and there's no error being thrown out but then trying to run the actual files throws out: </p>\n\n<pre><code>Error: Cannot find module '@tlabs/models'\n</code></pre>\n\n<p>I have reinstalled all modules several times and checked package.json as well as the actual files on the disk + through vscode and they're right there. </p>\n\n<p>What am I missing out?</p>\n\n<p>My tsconfig is:</p>\n\n<pre><code>{\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"./node_modules\", \"./node_modules/*\"],\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"esModuleInterop\": true,\n    \"target\": \"es6\",\n    \"allowJs\": true,\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"outDir\": \"dist\",\n    \"noImplicitAny\": false,\n    \"alwaysStrict\": true,\n    \"strictNullChecks\": true,\n    \"types\": [],\n    \"lib\": [],\n    \"experimentalDecorators\": true\n  }\n}\n\n</code></pre>\n\n<p>What is the correct way of using/importing this in my node project?</p>\n"}, {"tags": ["reactjs", "typescript", "atom-editor"], "answers": [{"tags": [], "owner": {"reputation": 677, "user_id": 1222498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a25e36c6437c005ace3e0ff7d61a0b6?s=128&d=identicon&r=PG", "display_name": "patdugan", "link": "https://stackoverflow.com/users/1222498/patdugan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561628661, "last_edit_date": 1561628661, "creation_date": 1561563185, "answer_id": 56776405, "question_id": 56776309, "link": "https://stackoverflow.com/questions/56776309/how-do-i-default-atom-to-open-a-specific-file-extension-with-syntax-highlighting/56776405#56776405", "title": "How do I default Atom to open a specific file extension with syntax highlighting for a specific language?", "body": "<p>This is pretty straightforward. In Atom:</p>\n\n<ul>\n<li>Type cmd-shift-p to open the search dialog</li>\n<li>Type \"Open your config\" and hit enter</li>\n<li>Add a customFilesType section as a child to core</li>\n</ul>\n\n<p>In the example below, I'm adding the .ts file extension to map into the syntax highlight for TypeScriptReact's .tsx default highlighting.</p>\n\n<pre><code>core:\n   customFileTypes:\n     \"source.tsx\": [\n       \"ts\"\n   ]\n</code></pre>\n"}], "owner": {"reputation": 677, "user_id": 1222498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a25e36c6437c005ace3e0ff7d61a0b6?s=128&d=identicon&r=PG", "display_name": "patdugan", "link": "https://stackoverflow.com/users/1222498/patdugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561628661, "creation_date": 1561562873, "last_edit_date": 1561563229, "question_id": 56776309, "link": "https://stackoverflow.com/questions/56776309/how-do-i-default-atom-to-open-a-specific-file-extension-with-syntax-highlighting", "title": "How do I default Atom to open a specific file extension with syntax highlighting for a specific language?", "body": "<p>I would like to set Atom to open typescript files ending in .ts with the TypeScriptReact language syntax highlighting by default. Whats the best way to do this other than changing the extension to .tsx?</p>\n"}, {"tags": ["angular", "typescript", "testing", "jasmine"], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 2059677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a38d41a36757b4cbf43c145392ec41f?s=128&d=identicon&r=PG", "display_name": "observingstream", "link": "https://stackoverflow.com/users/2059677/observingstream"}, "is_accepted": false, "score": 7, "last_activity_date": 1570742109, "last_edit_date": 1570742109, "creation_date": 1570741730, "answer_id": 58331123, "question_id": 56776234, "link": "https://stackoverflow.com/questions/56776234/whats-the-difference-between-testbed-get-and-new-service-dependencies/58331123#58331123", "title": "What&#39;s the difference between TestBed.get and new Service(...dependencies)", "body": "<p>When you call <code>TestBed.configureTestingModule({ providers: [SomeService] });</code>, this sets up an NgModule that can be used in subsequent tests. If you call <code>TestBed.get(SomeService)</code>, this retrieves <code>SomeService</code> from the injector and instantiates it if needed. If it is instantiated, then the injector injects references to it's dependencies and returns a new instance of the service.</p>\n\n<p>If <code>SomeService</code> has already been instantiated, as in your case, then the TestBed does not need to create it. This means that it won't call the constructor a subsequent time.</p>\n\n<p>To answer your question about the difference, basically they are the same if you are mocking all of your dependencies and if you don't need to access the DOM. Instantiating classes without the TestBed is significantly faster because there isn't the overhead of loading the dependency injector for every test.</p>\n\n<p>As for the TestBed.get() being deprecated, in Angular 8.0.0, only the specific overload that allows any time was deprecated (see <a href=\"https://github.com/angular/angular/blob/master/packages/core/testing/src/test_bed.ts#L67\" rel=\"noreferrer\">https://github.com/angular/angular/blob/master/packages/core/testing/src/test_bed.ts#L67</a>). Instead of <code>get(token: any, notFoundValue?: any): any;</code> the signature was changed to <code>get&lt;T&gt;(token: Type&lt;T&gt; | InjectionToken&lt;T&gt;, notFoundValue?: T, flags?: InjectFlags): any;</code> which means that you had to use a class reference or injection token. No strings or other things to reference something in the injector.</p>\n\n<p>In Angular 9.0.0, the TestBed.get() method will be fully deprecated and you will need to use <code>TestBed.inject</code> instead. See <a href=\"https://github.com/angular/angular/blob/master/packages/core/testing/src/test_bed.ts#L65\" rel=\"noreferrer\">https://github.com/angular/angular/blob/master/packages/core/testing/src/test_bed.ts#L65</a></p>\n"}, {"tags": [], "owner": {"reputation": 18201, "user_id": 586227, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bb85f92a56d4431cb1c74357a755d68f?s=128&d=identicon&r=PG", "display_name": "Ali Adravi", "link": "https://stackoverflow.com/users/586227/ali-adravi"}, "is_accepted": false, "score": 4, "last_activity_date": 1596910846, "creation_date": 1596910846, "answer_id": 63318843, "question_id": 56776234, "link": "https://stackoverflow.com/questions/56776234/whats-the-difference-between-testbed-get-and-new-service-dependencies/63318843#63318843", "title": "What&#39;s the difference between TestBed.get and new Service(...dependencies)", "body": "<p><a href=\"https://angular.io/api/core/testing/TestBed#get\" rel=\"nofollow noreferrer\">Deprecated from v9.0.0 use TestBed.inject</a></p>\n<pre><code>get(token: any, notFoundValue?: any): any\n</code></pre>\n<p>See how can we inject now:</p>\n<pre><code>describe('MyAmountComponent', () =&gt; {\n  let component: MyAmountComponent;\n  let fixture: ComponentFixture&lt;MyAmountComponent&gt;;\n  let productService: ProductService;\n  let orderService: OrderService;\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n       .....\n    })\n    .compileComponents();\n    productService = TestBed.inject(ProductService);\n    orderService = TestBed.inject(OrderService);\n  });\n</code></pre>\n<p>Just adding so might can help someone.</p>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 11707170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGmOI.jpg?s=128&g=1", "display_name": "Bhavin", "link": "https://stackoverflow.com/users/11707170/bhavin"}, "is_accepted": false, "score": 1, "last_activity_date": 1609408616, "creation_date": 1609408616, "answer_id": 65519291, "question_id": 56776234, "link": "https://stackoverflow.com/questions/56776234/whats-the-difference-between-testbed-get-and-new-service-dependencies/65519291#65519291", "title": "What&#39;s the difference between TestBed.get and new Service(...dependencies)", "body": "<p>get is deprecated: from v9.0.0 use TestBed.inject (deprecation)</p>\n<pre><code>let valueServiceSpy: jasmine.SpyObj&lt;ValueService&gt;;\n\nbeforeEach(() =&gt; {\n  const spy = jasmine.createSpyObj('ValueService', ['getValue']);\n\n  TestBed.configureTestingModule({\n    providers: [\n      { provide: ValueService, useValue: spy }\n    ]\n  });\n  // This is new way to inject Spied Service\n  valueServiceSpy = TestBed.inject(ValueService) as jasmine.SpyObj&lt;ValueService&gt;; \n});\n</code></pre>\n<p>and then in tests</p>\n<pre><code>it('#getValue should return stubbed value from a spy', () =&gt; {\n  valueServiceSpy.getValue.and.returnValue(yourValue);\n  ...\n});\n</code></pre>\n<p>Official Doc: <a href=\"https://v9.angular.io/guide/testing#angular-testbed\" rel=\"nofollow noreferrer\">https://v9.angular.io/guide/testing#angular-testbed</a></p>\n"}], "owner": {"reputation": 265, "user_id": 10522684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eab01b734589d5783ce96572f54f43?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Kavalan", "link": "https://stackoverflow.com/users/10522684/justin-kavalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8309, "favorite_count": 1, "answer_count": 3, "score": 8, "last_activity_date": 1609408616, "creation_date": 1561562635, "question_id": 56776234, "link": "https://stackoverflow.com/questions/56776234/whats-the-difference-between-testbed-get-and-new-service-dependencies", "title": "What&#39;s the difference between TestBed.get and new Service(...dependencies)", "body": "<p>The <a href=\"https://angular.io/guide/testing#service-tests\" rel=\"noreferrer\">angular guide</a> demonstrates two different ways of testing, one by calling new Service() and providing the dependencies to the constructor directly, and the second using dependency injection by calling TestBed.get(Service).</p>\n\n<p>Both of these seem functionally identical to me, except when I call TestBed.get() consecutively it does not call the constructor after the first call. </p>\n\n<p>The <a href=\"https://angular.io/api/core/testing/TestBed#get\" rel=\"noreferrer\">angular documentation</a> also mentions that TestBed.get() is deprecated (even though the guide still references it!) and that I should use <a href=\"https://angular.io/api/core/Type\" rel=\"noreferrer\">Type</a> or <a href=\"https://angular.io/api/core/InjectionToken\" rel=\"noreferrer\">InjectionToken</a> instead, but I do not see how either of these classes could replace TestBed.get().</p>\n"}, {"tags": ["css", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11643772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786cb5dafdc07cc4f319df5ce2692537?s=128&d=identicon&r=PG&f=1", "display_name": "DoraTheDestroyer", "link": "https://stackoverflow.com/users/11643772/dorathedestroyer"}, "edited": false, "score": 1, "creation_date": 1561727646, "post_id": 56804799, "comment_id": 100169254, "body": "Thank you for the clarifications Akber! now I understand what was going on. I have moved on to use css grid, I was able to achieve the same goal."}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": true, "score": 7, "last_activity_date": 1574262027, "last_edit_date": 1574262027, "creation_date": 1561715866, "answer_id": 56804799, "question_id": 56776216, "link": "https://stackoverflow.com/questions/56776216/how-can-i-have-nested-grid-lists-in-angular-material/56804799#56804799", "title": "How can I have nested grid-lists in angular material?", "body": "<p>The grid does show up when nested, only the size the zero... so we add a div and style it... i deliberately put <code>min-width:80%</code>... to achieve your objective, you might want to put <code>min-width:100%</code>:</p>\n\n<p>add the following relevant <strong>CSS</strong>:</p>\n\n<pre><code>.internalMatGrid{  border:1px solid red; min-width:80%;}\n</code></pre>\n\n<p>relevant <strong>HTML</strong>:</p>\n\n<pre><code>&lt;mat-grid-list cols=\"2\" rowHeight=\"2:1\"&gt;\n  &lt;mat-grid-tile&gt;\n    &lt;div class='internalMatGrid' &gt;\n      &lt;mat-grid-list cols=\"2\" rowHeight=\"2:1\"&gt;\n        &lt;mat-grid-tile&gt;1&lt;/mat-grid-tile&gt;\n        &lt;mat-grid-tile&gt;2&lt;/mat-grid-tile&gt;\n        &lt;mat-grid-tile&gt;3&lt;/mat-grid-tile&gt;\n        &lt;mat-grid-tile&gt;4&lt;/mat-grid-tile&gt;\n      &lt;/mat-grid-list&gt;\n    &lt;/div&gt;\n  &lt;/mat-grid-tile&gt;\n  &lt;mat-grid-tile&gt;2&lt;/mat-grid-tile&gt;\n  &lt;mat-grid-tile&gt;3&lt;/mat-grid-tile&gt;\n  &lt;mat-grid-tile&gt;4&lt;/mat-grid-tile&gt;\n&lt;/mat-grid-list&gt;\n</code></pre>\n\n<p>you can check a <a href=\"https://stackblitz.com/edit/angular-eib7wz-b8kpzt?file=app/grid-list-overview-example.css\" rel=\"noreferrer\">working stackblitz here</a></p>\n"}, {"tags": [], "owner": {"reputation": 2534, "user_id": 1356980, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yofKv.jpg?s=128&g=1", "display_name": "Tony Brasunas", "link": "https://stackoverflow.com/users/1356980/tony-brasunas"}, "is_accepted": false, "score": 0, "last_activity_date": 1615532524, "creation_date": 1615532524, "answer_id": 66595597, "question_id": 56776216, "link": "https://stackoverflow.com/questions/56776216/how-can-i-have-nested-grid-lists-in-angular-material/66595597#66595597", "title": "How can I have nested grid-lists in angular material?", "body": "<p>In some instances with nested Material components, such as <code>mat-grid-list</code>, you need to use both <code>/deep/</code> and <code>!important</code>.</p>\n<p>For instance, with this HTML code:</p>\n<pre><code>      &lt;mat-grid-list *ngFor=&quot;let diet of diets&quot;\n          cols=&quot;8&quot; \n          rowHeight=&quot;210px&quot; \n          gutterSize=&quot;1px&quot;&gt;\n        &lt;mat-grid-tile class=&quot;diet-name&quot;&gt;\n            {{ diet.name }} \n        &lt;/mat-grid-tile&gt;\n        &lt;mat-grid-tile *ngFor=&quot;let day of diet.days&quot;\n            class=&quot;outer-tile&quot;&gt;\n          ...\n        &lt;/mat-grid-tile&gt;\n      &lt;/mat-grid-list&gt;\n</code></pre>\n<p>If you want to add a style around the text, which ends up wrapped in a <code>&lt;figure&gt;</code> tag, you'll need to go with something like this in your CSS:</p>\n<pre><code>/deep/ .mat-grid-tile.diet-name figure.mat-figure {\n  margin: 0 5px !important;\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11643772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786cb5dafdc07cc4f319df5ce2692537?s=128&d=identicon&r=PG&f=1", "display_name": "DoraTheDestroyer", "link": "https://stackoverflow.com/users/11643772/dorathedestroyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3350, "favorite_count": 0, "accepted_answer_id": 56804799, "answer_count": 2, "score": 3, "last_activity_date": 1615532524, "creation_date": 1561562580, "last_edit_date": 1561723333, "question_id": 56776216, "link": "https://stackoverflow.com/questions/56776216/how-can-i-have-nested-grid-lists-in-angular-material", "title": "How can I have nested grid-lists in angular material?", "body": "<p>When I try to nest grids in angular, the internal grid disappear.\nHere is an example :\n<a href=\"https://stackblitz.com/edit/angular-eib7wz\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-eib7wz</a></p>\n\n<p>I tried playing around with the column property but I still get a similar result, the nested grid does not show up at all.</p>\n\n<p>I am using the grid list to separate my page into small sections and in each section I want to place a different component and one of these components is another smaller grid. </p>\n\n<p>I am open to suggestions. Thank you for the help.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1561561664, "post_id": 56775812, "comment_id": 100107338, "body": "<code>instanceof</code> checks the constructor property of object&#39;s prototype. Here, you&#39;re not creating a Customer object. Is <code>Customer</code> a <i>class</i> or an <i>interface</i> in your typescript code ?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1561561702, "post_id": 56775812, "comment_id": 100107357, "body": "<code>as Customer</code> is a type assertion, not casting. <code>this.cus2</code> is not instance of <code>Customer </code>. There&#39;s no casting in javascript/typescript"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561562077, "post_id": 56775812, "comment_id": 100107583, "body": "<code>this.cus2 = Object.assign(new Customer(), JSON.parse(customerJson))</code> ... you need to use the constructor"}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 7997905, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ecw6ozCTLPY/AAAAAAAAAAI/AAAAAAAAAFA/ThopmIvbmJI/photo.jpg?sz=128", "display_name": "German Meza", "link": "https://stackoverflow.com/users/7997905/german-meza"}, "is_accepted": true, "score": 3, "last_activity_date": 1561562150, "creation_date": 1561562150, "answer_id": 56776084, "question_id": 56775812, "link": "https://stackoverflow.com/questions/56775812/typescript-not-casting-properly/56776084#56776084", "title": "Typescript not casting properly", "body": "<p>Well the 'instanceof' operator is not working because it compares the prototype of the object that are passing through so...</p>\n\n<p>When you do:</p>\n\n<pre><code>var customerJson: string = JSON.stringify(this.cus);\nthis.cus2 = JSON.parse(customerJson) as Customer;\n\nif(this.cus2 instanceof Customer)\n</code></pre>\n\n<p>Youre just casting the value returned from the JSON.parse as a Customer but that object is not an instance of the Customer class.</p>\n\n<p>To solve this you have to create an instance of the Customer class and compare that instance with the 'instanceof' operator.</p>\n\n<pre><code>var customerJson: string = JSON.stringify(this.cus);\nthis.cus2 = Object.assing(new Customer(), JSON.parse(customerJson));  \n\nif(this.cus2 instanceof Customer) // This will be true\n</code></pre>\n\n<p>This example will create an instance of Customer and assign all properties from the parsed object.</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 3365016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KEYPu.jpg?s=128&g=1", "display_name": "Miguel Cabrera", "link": "https://stackoverflow.com/users/3365016/miguel-cabrera"}, "is_accepted": false, "score": 2, "last_activity_date": 1561562311, "creation_date": 1561562311, "answer_id": 56776139, "question_id": 56775812, "link": "https://stackoverflow.com/questions/56775812/typescript-not-casting-properly/56776139#56776139", "title": "Typescript not casting properly", "body": "<p>You're just inferring the type, so you need to instantiate the class, I recommend you using the constructor, but if you need something more dynamic you can assing the parsed string to a object, like this:</p>\n\n<pre><code>var customerJson: string = JSON.stringify(this.cus);\nthis.cus2 = Object.assign(new Customer(), JSON.parse(customerJson));\n\nif(this.cus2 instanceof Customer)\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 1925253, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8cff0f669f85850fcc8d5b287fe7c4c3?s=128&d=identicon&r=PG", "display_name": "Marko", "link": "https://stackoverflow.com/users/1925253/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56776084, "answer_count": 2, "score": 0, "last_activity_date": 1561562311, "creation_date": 1561561284, "question_id": 56775812, "link": "https://stackoverflow.com/questions/56775812/typescript-not-casting-properly", "title": "Typescript not casting properly", "body": "<p>I have a problem when casting the object. I need this object I cast to be recognized by instanceof, but for some reason this does not work. Is there some king of workaround how to exactly do that?</p>\n\n<p>I made the summary of the problem here: <a href=\"https://stackblitz.com/edit/angular-qkdvk2\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-qkdvk2</a></p>\n\n<pre><code>var customerJson: string = JSON.stringify(this.cus);\nthis.cus2 = JSON.parse(customerJson) as Customer;\n\nif(this.cus2 instanceof Customer) // this is where this fails me, and I expect it to enter this if clause\n</code></pre>\n"}, {"tags": ["angular", "typescript", "canvas", "jspdf"], "comments": [{"owner": {"reputation": 334, "user_id": 10756142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/210f65e5b4b062d1d09166d794a67ee0?s=128&d=identicon&r=PG&f=1", "display_name": "dhiraj", "link": "https://stackoverflow.com/users/10756142/dhiraj"}, "edited": false, "score": 0, "creation_date": 1587043159, "post_id": 56775809, "comment_id": 108357568, "body": "Hello, did you got the solution? I am still searching for this"}, {"owner": {"reputation": 100, "user_id": 9865080, "user_type": "registered", "profile_image": "https://graph.facebook.com/2133519259995895/picture?type=large", "display_name": "AmYne Ga&#239;eb", "link": "https://stackoverflow.com/users/9865080/amyne-ga%c3%afeb"}, "reply_to_user": {"reputation": 334, "user_id": 10756142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/210f65e5b4b062d1d09166d794a67ee0?s=128&d=identicon&r=PG&f=1", "display_name": "dhiraj", "link": "https://stackoverflow.com/users/10756142/dhiraj"}, "edited": false, "score": 0, "creation_date": 1587650375, "post_id": 56775809, "comment_id": 108599337, "body": "im no longer using jspdf, i use iText and thats a way better :)"}], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 9865080, "user_type": "registered", "profile_image": "https://graph.facebook.com/2133519259995895/picture?type=large", "display_name": "AmYne Ga&#239;eb", "link": "https://stackoverflow.com/users/9865080/amyne-ga%c3%afeb"}, "edited": false, "score": 0, "creation_date": 1561563155, "post_id": 56776303, "comment_id": 100108186, "body": "okay i get it, but what if my canvas is spiltted right in one of my tables ? in this case your solution won&#39;t work because i have a dynamic table @Adrita"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 100, "user_id": 9865080, "user_type": "registered", "profile_image": "https://graph.facebook.com/2133519259995895/picture?type=large", "display_name": "AmYne Ga&#239;eb", "link": "https://stackoverflow.com/users/9865080/amyne-ga%c3%afeb"}, "edited": false, "score": 0, "creation_date": 1561563589, "post_id": 56776303, "comment_id": 100108443, "body": "use <code>page-break-inside: avoid;</code>"}, {"owner": {"reputation": 100, "user_id": 9865080, "user_type": "registered", "profile_image": "https://graph.facebook.com/2133519259995895/picture?type=large", "display_name": "AmYne Ga&#239;eb", "link": "https://stackoverflow.com/users/9865080/amyne-ga%c3%afeb"}, "edited": false, "score": 1, "creation_date": 1561564950, "post_id": 56776303, "comment_id": 100109194, "body": "I tested it but for some reason this is not working and i need a jsPDF solution , thanks anyway !"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1561563575, "last_edit_date": 1561563575, "creation_date": 1561562854, "answer_id": 56776303, "question_id": 56775809, "link": "https://stackoverflow.com/questions/56775809/how-to-make-canvas-splitted-into-2-pages-or-more-without-getting-cut-off/56776303#56776303", "title": "How to make canvas splitted into 2 pages or more without getting cut off?", "body": "<p>You can use css properties (<code>page-break-after</code>,<code>page-break-before</code>,<code>page-break-inside</code>) to break the content on the page .</p>\n\n<p>In your case, after the tables, you can use </p>\n\n<pre><code>  .second-table-class {page-break-after: always;}\n</code></pre>\n\n<p>This would force the last div content on the next page.</p>\n\n<p>To avoid page break inside table,</p>\n\n<pre><code>table {      \n    page-break-inside: avoid;\n}\n</code></pre>\n\n<p>For more info, read <a href=\"http://www.w3schools.com/cssref/pr_print_pageba.asp\" rel=\"nofollow noreferrer\">this</a></p>\n"}], "owner": {"reputation": 100, "user_id": 9865080, "user_type": "registered", "profile_image": "https://graph.facebook.com/2133519259995895/picture?type=large", "display_name": "AmYne Ga&#239;eb", "link": "https://stackoverflow.com/users/9865080/amyne-ga%c3%afeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 771, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1561563575, "creation_date": 1561561273, "question_id": 56775809, "link": "https://stackoverflow.com/questions/56775809/how-to-make-canvas-splitted-into-2-pages-or-more-without-getting-cut-off", "title": "How to make canvas splitted into 2 pages or more without getting cut off?", "body": "<p>I have an invoice pdf containing a table rows which can increase, i know exactly how to add pages with jsPDF but the issue is im getting my image cut off and this is really annoying when you have dynamic content to print.\nHow to split my canvas image without getting it cut ? is there a solution ?\nPS : i dont want my canvas to fit entirely in one PDF page because i can loose the quality of my image and it become crowded specially when the user has many invoice lines  </p>\n\n<p>Here is a screen of my resulted pdf :</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZikJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZikJF.png\" alt=\"enter image description here\"></a></p>\n\n<p>TypeScript :</p>\n\n<pre><code>public convertToPDF() {\n    const data = document.getElementById('contentToConvert');\n    html2canvas(data).then(canvas =&gt; {\n        this.imgWidth = 200;\n        this.imgHeight = (canvas.height * this.imgWidth / canvas.width);\n        this.pageHeight = 295;\n        this.heightLeft = this.imgHeight;\n        const contentDataURL = canvas.toDataURL('image/png');\n        const pdf = new jspdf('p', 'mm', 'a4', true);\n        this.position = 5;\n        pdf.addImage(contentDataURL, 'PNG', 5, this.position, this.imgWidth, this.imgHeight, '', 'FAST');\n        this.heightLeft -= this.pageHeight;\n\n        while (this.heightLeft &gt;= 0) {\n            this.position = this.heightLeft - this.imgHeight;\n            pdf.addPage();\n            pdf.addImage(contentDataURL, 'PNG', 5, this.position, this.imgWidth, this.imgHeight);\n            this.heightLeft -= this.pageHeight;\n        }\n        pdf.save('Facture' + '-' + this.client.nomRepresentant + this.facture.dateFacturation.format('YYYYMM') + '.pdf');\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "create-react-app"], "comments": [{"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1561561161, "post_id": 56775734, "comment_id": 100107034, "body": "This is not an editor thing. The error shows when running <code>npm run tsc</code>"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1561604008, "post_id": 56775734, "comment_id": 100121040, "body": "Environment: Create-React-App --typescript mode. VSCode"}], "answers": [{"comments": [{"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 1, "creation_date": 1561602404, "post_id": 56783090, "comment_id": 100120771, "body": "Also covered in <a href=\"https://stackoverflow.com/questions/31088947/inheritance-method-call-triggers-typescript-compiler-error\" title=\"inheritance method call triggers typescript compiler error\">stackoverflow.com/questions/31088947/&hellip;</a> but it doesn&#39;t explain why this is an error  under <code>target: es5</code> but allowed under <code>es6</code>"}], "tags": [], "owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "is_accepted": false, "score": 0, "last_activity_date": 1561602251, "creation_date": 1561602251, "answer_id": 56783090, "question_id": 56775734, "link": "https://stackoverflow.com/questions/56775734/error-when-calling-super-method-on-a-method-that-is-defined-as-an-arrow-functi/56783090#56783090", "title": "Error when calling super.method() on a method that is defined as an arrow function in Typescript", "body": "<p>You can fix this by changing the <code>target</code> in your <code>tsconfig.json</code> to from <code>es5</code> to <code>es6</code> or newer: </p>\n\n<pre><code>\"target\": \"es6\"\n</code></pre>\n\n<p>I'm not sure if this is by-design or not but have opened <a href=\"https://github.com/microsoft/TypeScript/issues/32121\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/issues/32121</a> to get clarification from the TS team</p>\n\n<p>Alternatively, just use normal methods instead of arrow functions</p>\n"}], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561603967, "creation_date": 1561561040, "last_edit_date": 1561603967, "question_id": 56775734, "link": "https://stackoverflow.com/questions/56775734/error-when-calling-super-method-on-a-method-that-is-defined-as-an-arrow-functi", "title": "Error when calling super.method() on a method that is defined as an arrow function in Typescript", "body": "<p>When a method is defined in a base class as an arrow function, when calling that method in a derived class via super.method(), I get an error \"Only public and protected methods of the base class are accessible via the 'super' keyword.ts(2340)\", Even though the method was defined as public. </p>\n\n<p><a href=\"https://i.stack.imgur.com/phxaB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/phxaB.png\" alt=\"Screenshot\"></a></p>\n\n<p>I understand that in an arrow function the context is lexical. This would affect the value of <code>this</code> and <code>super</code> in an arrow function, but in the image above Sun.met1 is not defined as an arrow function, so I don't see why it can't access Father.met. </p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-cli", "server-side-rendering"], "comments": [{"owner": {"reputation": 711, "user_id": 3227332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb07bbd9b5ee87da05d0ff3b682eda10?s=128&d=identicon&r=PG", "display_name": "Gabriel G.", "link": "https://stackoverflow.com/users/3227332/gabriel-g"}, "edited": false, "score": 0, "creation_date": 1561563710, "post_id": 56775449, "comment_id": 100108519, "body": "Could you also show how your <code>app.module.ts</code> file looks like? You have to replace the bootstrap there."}, {"owner": {"reputation": 55, "user_id": 9208764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87f09348b2e4bfbcb351ec33aca3ed?s=128&d=identicon&r=PG&f=1", "display_name": "Wiwern95", "link": "https://stackoverflow.com/users/9208764/wiwern95"}, "reply_to_user": {"reputation": 711, "user_id": 3227332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb07bbd9b5ee87da05d0ff3b682eda10?s=128&d=identicon&r=PG", "display_name": "Gabriel G.", "link": "https://stackoverflow.com/users/3227332/gabriel-g"}, "edited": false, "score": 0, "creation_date": 1561714806, "post_id": 56775449, "comment_id": 100163183, "body": "I added it on answer below"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 9208764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87f09348b2e4bfbcb351ec33aca3ed?s=128&d=identicon&r=PG&f=1", "display_name": "Wiwern95", "link": "https://stackoverflow.com/users/9208764/wiwern95"}, "is_accepted": false, "score": 0, "last_activity_date": 1561623918, "creation_date": 1561623918, "answer_id": 56786926, "question_id": 56775449, "link": "https://stackoverflow.com/questions/56775449/problem-with-server-side-rendering-in-angular-can-not-generate-main-bundle-js/56786926#56786926", "title": "Problem with server-side rendering in angular: can not generate main.bundle.js", "body": "<pre><code> imports: [\n      ScrollToModule.forRoot(),\n      BrowserAnimationsModule,\n      BrowserModule.withServerTransition({appId: 'ng-angular-portal'}),\n      TreeModule,\n      ButtonModule,\n      MyDatePickerModule,\n      BsDropdownModule,\n      ButtonsModule,\n      TypeaheadModule.forRoot(),\n      PaginationModule.forRoot(),\n      AlertModule,\n      DatepickerModule,\n      CollapseModule,\n      AccordionModule,\n      ReactiveFormsModule,\n      BrowserTransferStateModule,\n      FormsModule,\n    ModuleMapLoaderModule,\n      //ServerTransferStateModule,\n      HttpClientModule,\n      //ServerModule,\n      RouterModule.forRoot(ROUTES),\n    AgmCoreModule.forRoot({\n      apiKey: \"AIzaSyCiNA4333VvLGmOtKvbg7y7gZ9ohe81hNI\",\n    }),\n  ],\n.....\n\nexport class AppModule {\n  constructor(private injector: Injector) {}\n\n    public ngDoBootstrap() {\n    if (isPlatformBrowser('my-app')) {\n      const {createCustomElement} = require('@angular/elements');\n\n        const AppElement = createCustomElement(AppComponent, {injector: this.injector });\n        customElements.define('my-app', AppElement);\n      }\n\n    }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9208764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87f09348b2e4bfbcb351ec33aca3ed?s=128&d=identicon&r=PG&f=1", "display_name": "Wiwern95", "link": "https://stackoverflow.com/users/9208764/wiwern95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2933, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561623918, "creation_date": 1561560151, "last_edit_date": 1561623499, "question_id": 56775449, "link": "https://stackoverflow.com/questions/56775449/problem-with-server-side-rendering-in-angular-can-not-generate-main-bundle-js", "title": "Problem with server-side rendering in angular: can not generate main.bundle.js", "body": "<p>I started my application by client-side rendering and everything was ok. But now, when I try to compile and serve my application by server side rendering, I encountered some problems. </p>\n\n<p>First thing: When I run command \n<code>npm run build:ssr &amp;&amp; npm run serve:ssr</code>\nthe whole application can compile and run, And I see on the terminal communicate about serving this app on localhost:3000. I am going to localhost:3000 and see this:</p>\n\n<pre><code>    Error: You must pass in a NgModule or NgModuleFactory to be \n   bootstrapped\n    at View.engine (/home/ewelina/rohub-portal/portal- \n   angular/dist/server.js:196864:23)\n    at View.render (/home/ewelina/rohub-portal/portal- \n   angular/dist/server.js:46196:8)\n    at tryRender (/home/ewelina/rohub-portal/portal - \n   angular/dist/server.js:43892:10)\n    at Function.render (/home/ewelina/rohub-portal/portal- \n   angular/dist/server.js:43844:3)\n    at ServerResponse.render (/home/ewelina/rohub-portal/portal- \n   angular/dist/server.js:52737:7)\n    at /home/ewelina/rohub-portal/portal-angular/dist/server.js:149:9\n    at Layer.handle [as handle_request] (/home/ewelina/rohub- \n   portal/portal-angular/dist/server.js:45618:5)\n    at next (/home/ewelina/rohub-portal/portal- \n   angular/dist/server.js:45366:13)\n    at Route.dispatch (/home/ewelina/rohub-portal/portal- \n   angular/dist/server.js:45341:3)\n    at Layer.handle [as handle_request] (/home/ewelina/rohub- \n   portal/portal-angular/dist/server.js:45618:5)\n</code></pre>\n\n<p>I tried to learn about this problem and my conclusion is, my angular universal can not generate main.bundle.js on dist/server folder. I can not see any bundle files, and I think, this communicate appears, when angular can not generate html template because can not find AppServerModuleNgFactory on generated main.js from dist server. This is the only file I can add to my server.ts file.</p>\n\n<p>My question is how can I generate proper main.bundle.js file on dist/server and start this app by server side rendering?</p>\n\n<pre><code>angular.json\n\n{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"ng-universal-demo\": {\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"projectType\": \"application\",\n      \"prefix\": \"app\",\n      \"schematics\": {},\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/browser\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.server.json\",\n            \"assets\": [\n              \"src/assets\",\n              \"src/assets/favicon.ico\"\n            ],\n            \"styles\": [\n              \"src/bootstrap.min.css\",\n              \"src/styles.css\",\n              \"src/assets/custom.css\",\n              \"src/animate.min.css\"\n            ],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            }\n          }\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"options\": {\n            \"browserTarget\": \"ng-universal-demo:build\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"ng-universal-demo:build:production\"\n            }\n          }\n        },\n        \"server\": {\n          \"builder\": \"@angular-devkit/build-angular:server\",\n          \"options\": {\n            \"outputPath\": \"dist-server\",\n            \"main\": \"src/main.server.ts\",\n            \"tsConfig\": \"src/tsconfig.server.json\"\n          }\n        },\n          \"test\": {\n            \"builder\": \"@angular-devkit/build-angular:karma\",\n            \"options\": {\n              \"main\": \"src/test.ts\",\n              \"polyfills\": \"src/polyfills.ts\",\n              \"tsConfig\": \"src/tsconfig.spec.json\",\n              \"karmaConfig\": \"src/karma.conf.js\",\n              \"styles\": [\n                \"src/styles.scss\",\n                \"src/theme.scss\"\n              ],\n              \"scripts\": [\n                \"node_modules/marked/lib/marked.js\"\n              ],\n              \"assets\": [\n                \"src/favicon.ico\",\n                \"src/assets\"\n              ]\n            }\n          },\n          \"lint\": {\n            \"builder\": \"@angular-devkit/build-angular:tslint\",\n            \"options\": {\n              \"tsConfig\": [\n                \"src/tsconfig.app.json\",\n                \"src/tsconfig.spec.json\"\n              ],\n              \"exclude\": [\n                \"**/node_modules/**\"\n              ]\n            }\n          }\n        }\n      }\n    }\n\n  }\n</code></pre>\n\n<pre><code>package.json\n{\n  \"name\": \"ng-universal-demo\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/angular/universal-starter.git\"\n  },\n  \"contributors\": [\n    \"AngularClass &lt;hello@angularclass.com&gt;\",\n    \"PatrickJS &lt;patrick@angularclass.com&gt;\",\n    \"Jeff Whelpley &lt;jeff@gethuman.com&gt;\",\n    \"Jeff Cross &lt;crossj@google.com&gt;\",\n    \"Mark Pieszak &lt;mpieszak84@gmail.com&gt;\",\n    \"Jason Jean &lt;jasonjean1993@gmail.com&gt;\",\n    \"Fabian Wiles &lt;fabian.wiles@gmail.com&gt;\"\n  ],\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"build:client-and-server-bundles\": \"ng build --prod &amp;&amp; ng build --prod  --output-hashing=none\",\n    \"build:static\": \"npm run build:client-and-server-bundles &amp;&amp; npm run webpack:server &amp;&amp; npm run generate:static\",\n    \"build:dynamic\": \"npm run build:client-and-server-bundles &amp;&amp; npm run webpack:server\",\n    \"generate:static\": \"cd dist &amp;&amp; node prerender\",\n    \"build:ssr\": \"npm run build:client-and-server-bundles &amp;&amp; npm run webpack:server\",\n    \"serve:ssr\": \"node dist/server\",\n    \"webpack:server\": \"webpack --config webpack.server.config.js --progress --colors\",\n    \"serve:static\": \"cd dist/browser &amp;&amp; http-server\",\n    \"serve:dynamic\": \"node dist/server\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@agm/core\": \"^1.0.0-beta.5\",\n    \"@angular-devkit/build-angular\": \"^0.10.7\",\n    \"@angular/animations\": \"^6.1.10\",\n    \"@angular/cdk\": \"^7.3.7\",\n    \"@angular/common\": \"^6.1.10\",\n    \"@angular/compiler\": \"^6.1.10\",\n    \"@angular/core\": \"^6.1.10\",\n    \"@angular/flex-layout\": \"^7.0.0-beta.24\",\n    \"@angular/forms\": \"^6.1.10\",\n    \"@angular/http\": \"^6.1.10\",\n    \"@angular/platform-browser\": \"^6.1.10\",\n    \"@angular/platform-browser-dynamic\": \"^6.1.10\",\n    \"@angular/platform-server\": \"^6.1.10\",\n    \"@angular/router\": \"^6.1.10\",\n    \"@nguniversal/express-engine\": \"^6.1.0\",\n    \"@nguniversal/module-map-ngfactory-loader\": \"^6.1.0\",\n    \"@types/lodash\": \"^4.14.123\",\n    \"angular-in-memory-web-api\": \"^0.8.0\",\n    \"angular-tree-component\": \"8.0.0\",\n    \"animate.css\": \"^3.7.0\",\n    \"body-parser\": \"^1.18.3\",\n    \"bootstrap\": \"^4.3.1\",\n    \"cookie-parser\": \"^1.4.4\",\n    \"core-js\": \"^2.6.5\",\n    \"css-loader\": \"^1.0.1\",\n    \"express\": \"^4.15.2\",\n    \"font-awesome\": \"^4.7.0\",\n    \"jquery\": \"^3.3.1\",\n    \"mock-browser\": \"^0.92.14\",\n    \"moment\": \"^2.24.0\",\n    \"morgan\": \"^1.9.1\",\n    \"mydatepicker\": \"^1.10.2\",\n    \"ng2-cache\": \"^0.2.1\",\n    \"ng2-date-picker\": \"0.0.0\",\n    \"ng2-datetime-picker\": \"^0.9.10\",\n    \"ng2-nouislider\": \"^1.7.13\",\n    \"ngx-bootstrap\": \"^2.0.0-beta.9-1\",\n    \"ngx-cookie-service\": \"^1.0.10\",\n    \"nouislider\": \"^9.2.0\",\n    \"popper.js\": \"^1.14.7\",\n    \"postcss-loader\": \"^3.0.0\",\n    \"primeng\": \"^5.2.5\",\n    \"rxjs\": \"6.4.0\",\n    \"rxjs-compat\": \"^6.4.0\",\n    \"webpack-cli\": \"^3.3.5\",\n    \"xml2js\": \"^0.4.19\",\n    \"zone.js\": \"^0.8.29\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^6.2.9\",\n    \"@angular/compiler-cli\": \"^6.1.10\",\n    \"@angular/language-service\": \"^6.1.10\",\n    \"@nicky-lenaers/ngx-scroll-to\": \"^1.1.1\",\n    \"@types/file-saver\": \"0.0.1\",\n    \"@types/node\": \"^8.10.44\",\n    \"codelyzer\": \"0.0.28\",\n    \"cpy-cli\": \"^1.0.1\",\n    \"file-saver\": \"^1.3.8\",\n    \"http-server\": \"^0.10.0\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.2.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.1.2\",\n    \"karma-remap-istanbul\": \"^0.2.2\",\n    \"lodash\": \"^4.17.11\",\n    \"ng2-datepicker\": \"^2.3.1\",\n    \"ng2-slideable-directive\": \"1.0.13\",\n    \"ng2-slider-component\": \"1.0.9\",\n    \"ng2-styled-directive\": \"1.0.5\",\n    \"protractor\": \"4.0.9\",\n    \"reflect-metadata\": \"^0.1.10\",\n    \"rserv\": \"^1.1.3\",\n    \"ts-loader\": \"^4.0.0\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"^2.9.2\",\n    \"webpack\": \"^4.29.6\",\n    \"webpack-dev-server\": \"^3.2.1\"\n  }\n}\n</code></pre>\n\n<pre><code>server.ts (piece of code)\nconst app = express();\n\nconst PORT = process.env.PORT || 3000;\nconst DIST_FOLDER = join(process.cwd(), 'dist');\n\nconst domino = require('domino');\nconst fs = require('fs');\nconst path = require('path');\n\nconst template = readFileSync(join(DIST_FOLDER, 'browser', 'index.html'))\n    .toString();\n\n\nconst MockBrowser = require('mock-browser').mocks.MockBrowser;\nconst mock = new MockBrowser();\nconst win = domino.createWindow(template);\nObject.assign(global, domino.impl);\n\nglobal['Event'] = null;\nglobal['KeyboardEvent'] = null;\nglobal['Element'] = {};\nglobal['Element'].prototype = {};\nglobal['Element'].prototype.remove = undefined;\n\nglobal['navigator'] = mock.getNavigator();\nglobal['window'] = mock.getWindow();\nglobal['document'] = mock.getDocument();\nglobal['localStorage'] = global['window'].localStorage;\n\n//here I add dist/server/mian because I hav an error that file doesn't exist during building\nconst { AppServerModuleNgFactory, LAZY_MODULE_MAP } = require('./dist/server/main');\n\n\nimport { ngExpressEngine } from '@nguniversal/express-engine';\n\nimport { provideModuleMap } from '@nguniversal/module-map-ngfactory-loader';\n\n\napp.engine('html', ngExpressEngine({\n  bootstrap: AppServerModuleNgFactory,\n  providers: [\n    provideModuleMap(LAZY_MODULE_MAP)\n  ]\n}));\n\napp.set('view engine', 'html');\napp.set('views', join(DIST_FOLDER, 'browser'));\n</code></pre>\n\n<pre><code>prerender.ts (piece of code)\nimport { provideModuleMap } from '@nguniversal/module-map-ngfactory-loader';\n\n//the same situation as on server.ts\nconst { AppServerModuleNgFactory, LAZY_MODULE_MAP } = require('./dist/server/main');\nconst PATHS = require('./static.paths');\n\nconst BROWSER_FOLDER = join(process.cwd(), 'browser');\nconst index = readFileSync(join('browser', 'index.html'), 'utf8');\n\n\nPATHS.forEach(function (route) {\n  chdir(BROWSER_FOLDER);\n\n  route.split('/').filter(val =&gt; val !== '')\n    .forEach(function (dir) {\n      if (!existsSync(dir)) {\n        mkdirSync(dir);\n      }\n      chdir(dir);\n    });\n\n  renderModuleFactory(AppServerModuleNgFactory, {\n    document: index,\n    url: route,\n    extraProviders: [\n      provideModuleMap(LAZY_MODULE_MAP)\n    ]\n  }).then(html =&gt; writeFileSync(join(BROWSER_FOLDER, route, 'index.html'), html));\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 3338, "user_id": 484025, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/jYu8Q.jpg?s=128&g=1", "display_name": "DS_web_developer", "link": "https://stackoverflow.com/users/484025/ds-web-developer"}, "edited": false, "score": 0, "creation_date": 1616152721, "post_id": 56775804, "comment_id": 117919267, "body": "That is a great solution @ConnorsFan, would you happen to know how to do checkbox&#39;s ripple to not be clipped by panel&#39;s overflow hidden?"}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 7, "last_activity_date": 1561561265, "creation_date": 1561561265, "answer_id": 56775804, "question_id": 56775393, "link": "https://stackoverflow.com/questions/56775393/angular-material-checkbox-inside-expansion-panel-header-how-to-allow-the-checkb/56775804#56775804", "title": "Angular Material Checkbox inside expansion panel header: how to allow the checkbox to be activated with the keyboard?", "body": "<p>To prevent the keyboard and mouse events from reaching the expansion panel, you can call <code>$event.stopPropagation()</code> in the <code>keydown</code> and <code>click</code> event handlers of the checkbox:</p>\n\n<pre><code>&lt;mat-expansion-panel&gt;\n  &lt;mat-expansion-panel-header&gt;\n    &lt;mat-checkbox color=\"primary\" \n      (click)=\"$event.stopPropagation()\" \n      (keydown)=\"$event.stopPropagation()\" &gt;\n        Label\n    &lt;/mat-checkbox&gt;\n  &lt;/mat-expansion-panel-header&gt;\n  Content\n&lt;/mat-expansion-panel&gt;\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-wla3ei?file=src/app/app.component.html\" rel=\"noreferrer\">this stackblitz</a> for a demo.</p>\n"}], "owner": {"reputation": 509, "user_id": 9973409, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ICtaS6yxjvc/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0ZjBsQvZivMyn9STyM-4_N3qR6NQ/mo/photo.jpg?sz=128", "display_name": "phelhe", "link": "https://stackoverflow.com/users/9973409/phelhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2220, "favorite_count": 1, "accepted_answer_id": 56775804, "answer_count": 1, "score": 3, "last_activity_date": 1561561265, "creation_date": 1561559983, "question_id": 56775393, "link": "https://stackoverflow.com/questions/56775393/angular-material-checkbox-inside-expansion-panel-header-how-to-allow-the-checkb", "title": "Angular Material Checkbox inside expansion panel header: how to allow the checkbox to be activated with the keyboard?", "body": "<p>I have a checkbox inside the expansion panel header and for accessibility reasons the checkbox needs to be functional for keyboard-only users. However, if you tab to focus on the checkbox, pressing space or enter doesn't check/uncheck the checkbox, but expands the panel instead. I am struggling to fix this issue since these are angular material components and I am not sure how they work under the hood. </p>\n\n<p>How can I allow the checkbox to be checked/unchecked with the keyboard?</p>\n\n<p>Here is some html that demonstrates the problem when rendered:</p>\n\n<pre><code>&lt;mat-expansion-panel&gt;\n  &lt;mat-expansion-panel-header&gt;\n    &lt;mat-checkbox color=\"primary\"&gt;Label&lt;/mat-checkbox&gt;\n  &lt;/mat-expansion-panel-header&gt;\n  Content\n&lt;/mat-expansion-panel&gt;\n</code></pre>\n\n<p>And here is a demo, if you tab to the checkbox pressing space or enter does not check/uncheck it.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-4rmq9v\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-4rmq9v</a></p>\n"}, {"tags": ["node.js", "typescript", "mongoose", "node-modules"], "answers": [{"tags": [], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "is_accepted": true, "score": 0, "last_activity_date": 1571844702, "creation_date": 1571844702, "answer_id": 58526384, "question_id": 56775069, "link": "https://stackoverflow.com/questions/56775069/node-error-cannot-find-module-typescript-api-for-custom-module-where-i-export/58526384#58526384", "title": "Node Error: Cannot find module - typescript api for custom module where I export mongoose schemas and interfaces", "body": "<p>My final TS config for my exported models:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"declaration\": true,\n        \"declarationMap\": true,\n        \"sourceMap\": true,\n        \"outDir\": \"lib\",\n        \"strict\": true,\n        \"esModuleInterop\": true\n    },\n    \"include\": [\"src\"]\n}\n\n</code></pre>\n\n<p>and relevant package.json configuration:</p>\n\n<pre><code>{\n    \"main\": \"lib/index.js\",\n    \"types\": \"lib\",\n    \"scripts\": {\n        \"tsc\": \"tsc\",\n        \"build\": \"tsc -p .\"\n    },\n    \"files\": [\n        \"lib\"\n    ],\n}\n</code></pre>\n"}], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58526384, "answer_count": 1, "score": 2, "last_activity_date": 1571844702, "creation_date": 1561558961, "question_id": 56775069, "link": "https://stackoverflow.com/questions/56775069/node-error-cannot-find-module-typescript-api-for-custom-module-where-i-export", "title": "Node Error: Cannot find module - typescript api for custom module where I export mongoose schemas and interfaces", "body": "<p>I have a typescript module <a href=\"https://www.npmjs.com/package/@tlabs/models\" rel=\"nofollow noreferrer\">@tlabs/models</a> where I'm simply exporting in index.ts: </p>\n\n<pre><code>export * from '../models......'\n</code></pre>\n\n<p>where in each file I have something like: </p>\n\n<pre><code>export const Project = typedModel('projects', ProjectSchema);\n</code></pre>\n\n<p>and my only dependency is <code>ts-mongoose</code> imported in each file simply as: </p>\n\n<pre><code>import { createSchema, Type, typedModel, ExtractProps } from 'ts-mongoose';\n</code></pre>\n\n<p>ts-mongoose being a dependency that itself required mongoose + mongoose types. </p>\n\n<p>In my typescript node project I have <code>ts-mongoose</code>, <code>mongoose</code> and @tlabs/models as dependencies and <code>@types/mongoose</code> as dev dependency.</p>\n\n<p>Running tsc is fine, the files get compiled and there's no error being thrown out but then trying to run the actual files throws out: </p>\n\n<pre><code>Error: Cannot find module '@tlabs/models'\n</code></pre>\n\n<p>I have reinstalled all modules several times and checked package.json as well as the actual files on the disk + through vscode and they're right there. </p>\n\n<p>What am I missing out?</p>\n\n<p>My tsconfig is:</p>\n\n<pre><code>{\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"./node_modules\", \"./node_modules/*\"],\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"esModuleInterop\": true,\n    \"target\": \"es6\",\n    \"allowJs\": true,\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"outDir\": \"dist\",\n    \"noImplicitAny\": false,\n    \"alwaysStrict\": true,\n    \"strictNullChecks\": true,\n    \"types\": [],\n    \"lib\": [],\n    \"experimentalDecorators\": true\n  }\n}\n\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "interpolation", "nested-forms"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8215538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5adc8ee0a27aa23a8193da9f9c6a075?s=128&d=identicon&r=PG&f=1", "display_name": "Irina Fortiss", "link": "https://stackoverflow.com/users/8215538/irina-fortiss"}, "edited": false, "score": 1, "creation_date": 1561560079, "post_id": 56774980, "comment_id": 100106299, "body": "This is what I ended up doing, thanx!"}], "tags": [], "owner": {"reputation": 1304, "user_id": 1849556, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/kwAy6.jpg?s=128&g=1", "display_name": "schoolcoder", "link": "https://stackoverflow.com/users/1849556/schoolcoder"}, "is_accepted": false, "score": 3, "last_activity_date": 1561559875, "last_edit_date": 1561559875, "creation_date": 1561558661, "answer_id": 56774980, "question_id": 56774884, "link": "https://stackoverflow.com/questions/56774884/angular-8-nested-object-interpolation/56774980#56774980", "title": "Angular 8 Nested Object Interpolation", "body": "<p>I try like below,</p>\n\n<pre><code>&lt;div [formGroup]=\"formGroup\"&gt;\n&lt;div *ngIf=\"boilerplate\"&gt;\n&lt;div *ngFor=\"let section of boilerplate | keyvalue\"&gt;\n      {{ boilerplate[section.key].desc }}\n  &lt;div&gt;\n    &lt;div *ngFor=\"let question of boilerplate[section.key].content | keyvalue\"&gt;\n      {{ question | json }}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>Output is like below,</p>\n\n<pre><code>section1\n{ \"key\": \"1\", \"value\": \"question 1.a:\" }\n{ \"key\": \"2\", \"value\": \"question 1.b:\" }\n{ \"key\": \"3\", \"value\": \"question 1.c\" }\nsection2\n{ \"key\": \"4\", \"value\": \"question 2.a:\" }\n{ \"key\": \"5\", \"value\": \"question 2.b:\" }\n{ \"key\": \"6\", \"value\": \"question 2.c\" }\n{ \"key\": \"7\", \"value\": \"question 2.d\" }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 8215538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5adc8ee0a27aa23a8193da9f9c6a075?s=128&d=identicon&r=PG&f=1", "display_name": "Irina Fortiss", "link": "https://stackoverflow.com/users/8215538/irina-fortiss"}, "edited": false, "score": 0, "creation_date": 1561559661, "post_id": 56775146, "comment_id": 100106034, "body": "Along with the suggestion made by Maxim Kuzmin, this worked:  <code>&lt;div *ngFor=&quot;let question of boilerplate[section.key].content | keyvalue&quot;&gt;             {{question.value}}         &lt;&#47;div&gt;</code>  Thank you."}, {"owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "reply_to_user": {"reputation": 95, "user_id": 8215538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5adc8ee0a27aa23a8193da9f9c6a075?s=128&d=identicon&r=PG&f=1", "display_name": "Irina Fortiss", "link": "https://stackoverflow.com/users/8215538/irina-fortiss"}, "edited": false, "score": 0, "creation_date": 1561559714, "post_id": 56775146, "comment_id": 100106067, "body": "glad you have resolved your issue, please feel free to edit that into this answer"}], "tags": [], "owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "is_accepted": true, "score": 2, "last_activity_date": 1561559181, "creation_date": 1561559181, "answer_id": 56775146, "question_id": 56774884, "link": "https://stackoverflow.com/questions/56774884/angular-8-nested-object-interpolation/56775146#56775146", "title": "Angular 8 Nested Object Interpolation", "body": "<p>You need to use a <a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">keyValue</a> filter pipe then you could just have the following syntax, this will let you use <code>ngFor*</code> to iterate though objects rather than arrays.</p>\n\n<pre><code>&lt;div *ngFor=\"let question of boilerplate | keyValue\"&gt;\n    {{ question.key }} - {{ question.value }}\n&lt;/div&gt;\n</code></pre>\n\n<p>You can then do the same for the nested objects inside until you have the correct data displayed. This is not supported in all versions of Angular, but definitely fine in 8.</p>\n\n<p>Where you have Objects with the key as a number, I would look to manipulate that into an array which would help you keep this a little more simple. Allowing you to use traditional <code>*ngFor</code></p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 4887314, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lq5D0UzVGBo/AAAAAAAAAAI/AAAAAAAAHsg/CG-ByHArkqs/photo.jpg?sz=128", "display_name": "Invest", "link": "https://stackoverflow.com/users/4887314/invest"}, "is_accepted": false, "score": 1, "last_activity_date": 1570086993, "creation_date": 1570086993, "answer_id": 58214111, "question_id": 56774884, "link": "https://stackoverflow.com/questions/56774884/angular-8-nested-object-interpolation/58214111#58214111", "title": "Angular 8 Nested Object Interpolation", "body": "<p>The answer from schoolcoder is great, I just would like to post another example for people in the future with the same problem. </p>\n\n<p>I have an object Block that holds a list of Transactions and I want to show it on my page using two *ngFor's</p>\n\n<p>Block model class:</p>\n\n<pre><code>export class Block {\n  hash: string;\n  previousBlockHash: string;\n  transactions: Transaction[];  &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n  merkleRoot: string;\n  tries: number;\n  timestamp: number;\n}\n</code></pre>\n\n<p>Transaction model class</p>\n\n<pre><code>export class Transaction {\n  hash: string;\n  text: string;\n  senderHash: string;\n  signature: string;\n  timestamp: number;\n}\n</code></pre>\n\n<p>How I show it on my page:</p>\n\n<pre><code>Blocks:\n&lt;div class=\"container\"&gt;\n  &lt;ul class=\"list-group\"&gt;\n    &lt;li class=\"list-group-item\" *ngFor=\"let block of blocks | keyvalue\"&gt;\n      Hash: {{blocks[block.key].hash}}&lt;br&gt;\n      Previous block hash: {{blocks[block.key].previousBlockHash}}&lt;br&gt;\n      Merkle root: {{blocks[block.key].merkleRoot}}&lt;br&gt;\n      Tries: {{blocks[block.key].tries}}&lt;br&gt;\n      Timestamp: {{blocks[block.key].timestamp}}&lt;br&gt;\n\n      Transactions in this block:\n      &lt;ul class=\"list-group\"&gt;\n        &lt;li class=\"list-group-item\" *ngFor=\"let transaction of blocks[block.key].transactions\"&gt;\n          {{[block.key]}}&lt;br&gt;\n          Hash: {{transaction.hash}}&lt;br&gt;\n          Text: {{transaction.text}}&lt;br&gt;\n          SenderHash: {{transaction.senderHash}}&lt;br&gt;\n          Signature: {{transaction.signature}}&lt;br&gt;\n          Timestamp: {{transaction.timestamp}}\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8215538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5adc8ee0a27aa23a8193da9f9c6a075?s=128&d=identicon&r=PG&f=1", "display_name": "Irina Fortiss", "link": "https://stackoverflow.com/users/8215538/irina-fortiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4050, "favorite_count": 1, "accepted_answer_id": 56775146, "answer_count": 3, "score": 3, "last_activity_date": 1570086993, "creation_date": 1561558342, "last_edit_date": 1561559712, "question_id": 56774884, "link": "https://stackoverflow.com/questions/56774884/angular-8-nested-object-interpolation", "title": "Angular 8 Nested Object Interpolation", "body": "<p>This is my version of Angular CLI:</p>\n\n<pre><code>Angular CLI: 7.3.9\nNode: 12.2.0\nOS: win32 x64\nAngular: 8.0.2\n</code></pre>\n\n<p>While making an Angular 8 application, I am trying to use nested FormGroups which correspond to the following object:</p>\n\n<pre><code>const Boilerplate: any = {\n    1: {\n        desc: \"section1\",\n        content: {\n            1: \"question 1.a:\",\n            2: \"question 1.b:\",\n            3: \"question 1.c\"\n        }\n    },\n    2: {\n        desc: \"section2\",\n        content: {\n            4: \"question 2.a:\",\n            5: \"question 2.b:\",\n            6: \"question 2.c\",\n            7: \"question 2.d\"\n        }\n    }\n}\n</code></pre>\n\n<p>There is an inner FormGroup of FormControls for section 1 and section 2, and an outer FormGroup holding the two inner formgroups. This is defined in the component.ts.</p>\n\n<p>In the component.html, I am trying to iterate through the outer FormGroup's inner FormGroups, and print the inner FormControls. This is the code I have so far:</p>\n\n<pre><code>&lt;form [formGroup]=\"sectionGroup\"&gt;\n   &lt;div *ngIf=\"boilerplate\"&gt;\n       &lt;div *ngFor=\"let section of boilerplate | keyvalue\"&gt;\n           {{ boilerplate[section.key].desc }}\n\n           &lt;div formGroupName=\"{{section.key}}\"&gt;\n               &lt;div *ngFor=\"let question of boilerplate[{{section.key}}]\"&gt;\n                   &lt;-- things --&gt;\n               &lt;/div&gt;\n           &lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>The line <code>&lt;div *ngFor=\"let question of boilerplate[{{section.key}}]\"&gt;</code> fails with an error message of:</p>\n\n<blockquote>\n  <p>Unexpected token {, expected identifier, keyword, or string</p>\n</blockquote>\n\n<p>I have tried the following solutions, none of which have worked for me:</p>\n\n<p><code>&lt;div *ngFor=\"let question of {{boilerplate}}.{{section.key}}\"&gt;</code></p>\n\n<p><code>&lt;div *ngFor=\"let question of {{boilerplate[section.key]}}\"&gt;</code></p>\n\n<p><code>&lt;div *ngFor=\"let question of {{boilerplate[{{section.key}}]}}\"&gt;</code></p>\n\n<p><code>&lt;td *ngFor=\"let question of Section\"&gt;{{boilerplate[[section.key]]}}&lt;/td&gt;</code></p>\n\n<p>I have tried a variety of other {} and [] combinations and orders, and I realize now that nested interpolation is non-parsable.</p>\n\n<p>Does anyone have a suggestion of how I can achieve this? I am using nested FormGroups because it is possible I will have additional layers of sections in the future. The format of the Boilerplate object can be changed if it would make the problem solvable (because I defined it, myself).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The following was the solution that resolved this issue:</p>\n\n<pre><code>&lt;div *ngFor=\"let question of boilerplate[section.key].content | keyvalue\"&gt;\n    {{question.value}}\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1561925201, "post_id": 56825333, "comment_id": 100207854, "body": "This is correct, but there are two things that should be noted. 1: the npm package now ships with its own type definitions (which are still wrong in the manner you described). 2: There is a UMD bundle distributed as part of that package, allowing you to use it as a global, but the type declarations do not reflect that. Therefore, the correct fix is to submit a PR that uses the UMD style declaration syntax so, instead of removing the export clause, add <code>export as namespace i18next;</code>"}, {"owner": {"reputation": 111, "user_id": 2282905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4527c596303405beb79e64417535e6?s=128&d=identicon&r=PG", "display_name": "Yiorgos", "link": "https://stackoverflow.com/users/2282905/yiorgos"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1561971057, "post_id": 56825333, "comment_id": 100217155, "body": "@AluanHaddad and Mu-Tsun-Tsai thank you for your help. Here is the pull request <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/36564\" rel=\"nofollow noreferrer\">PR</a> just FYI in case you were interested."}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": false, "score": 1, "last_activity_date": 1561931844, "last_edit_date": 1592644375, "creation_date": 1561902364, "answer_id": 56825333, "question_id": 56774764, "link": "https://stackoverflow.com/questions/56774764/reference-declaration-file-d-ts-in-a-ts-file-with-compiler-module-option/56825333#56825333", "title": "Reference declaration file (.d.ts) in a .ts file, with compiler &quot;module&quot; option set to none", "body": "<p>The problem is not that TypeScript doesn't find your d.ts file, but because in your case the file index.d.ts of <code>i18next</code> is written in the module fashion, and is supposed to be used only with <code>import</code>. Luckily, it is very easy to fix this; all you have to do is to go to index.d.ts and remove the last line:</p>\n<pre><code>....\ndeclare const i18next: i18next.i18n;\nexport = i18next; // &lt;- remove this line\n</code></pre>\n<p>And then you can go ahead and remove the <code>import</code> in your LocalizationTest.ts, and it will compile just fine.</p>\n<h3>Update</h3>\n<p>Or, as noted by @AluanHaddad, instead of removing it and create your own definition, you should submit a PR that adds a new line:</p>\n<pre><code>....\ndeclare const i18next: i18next.i18n;\nexport = i18next;\nexport as namespace i18next; // &lt;- add this instead\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 2282905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4527c596303405beb79e64417535e6?s=128&d=identicon&r=PG", "display_name": "Yiorgos", "link": "https://stackoverflow.com/users/2282905/yiorgos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561931844, "creation_date": 1561557978, "question_id": 56774764, "link": "https://stackoverflow.com/questions/56774764/reference-declaration-file-d-ts-in-a-ts-file-with-compiler-module-option", "title": "Reference declaration file (.d.ts) in a .ts file, with compiler &quot;module&quot; option set to none", "body": "<p>I have setup an ASP.net core MVC project with TS. I want to use TS without using any module system. Just \"clean\" compiled TS=>JS.</p>\n\n<p>The problem I am facing, is that I can't reference a declaration file (.d.ts) in a .ts file, without using \"import\".</p>\n\n<p>If I do use \"import\" code completion and type checking works, but because I have configured my project not to use any \"module\" system, compiler complains saying: <strong>\"Cannot use imports, exports or module augmentations when '--module' is 'none'</strong></p>\n\n<p>I've already tried using triple slash directives <a href=\"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html\" rel=\"nofollow noreferrer\">Triple-Slash Directives</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\">using @types, typeRoots and types in tsconfig.json files </a> but no luck.</p>\n\n<p>VS2017(same with VS Code) doesn't seem to be able resolve the referenced file.</p>\n\n<p>I've set up a rudimentary project which demonstrates the problem\n<a href=\"https://github.com/gtrifidis/Asp.netCoreTypescriptDemo/tree/master/TypeScriptDemo\" rel=\"nofollow noreferrer\">https://github.com/gtrifidis/Asp.netCoreTypescriptDemo/tree/master/TypeScriptDemo</a></p>\n\n<p>Any help/idea would be very much appreciated.</p>\n"}, {"tags": ["string", "typescript", "newline", "string-concatenation"], "comments": [{"owner": {"reputation": 2231, "user_id": 7994074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/quW1N.jpg?s=128&g=1", "display_name": "ParthS007", "link": "https://stackoverflow.com/users/7994074/parths007"}, "edited": false, "score": 0, "creation_date": 1561557788, "post_id": 56774677, "comment_id": 100104792, "body": "What is the expected output?"}, {"owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "reply_to_user": {"reputation": 2231, "user_id": 7994074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/quW1N.jpg?s=128&g=1", "display_name": "ParthS007", "link": "https://stackoverflow.com/users/7994074/parths007"}, "edited": false, "score": 0, "creation_date": 1561558010, "post_id": 56774677, "comment_id": 100104929, "body": "updated above  question"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1561558173, "post_id": 56774677, "comment_id": 100105035, "body": "Excatly how do you create your output? Can you show use the code?"}, {"owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "edited": false, "score": 0, "creation_date": 1561558403, "post_id": 56774677, "comment_id": 100105192, "body": "var subject=&#39;my subject&#39;;       var body = &#39;email body&#39;       var str1 = subject + &#39;\\n&#39; + body;"}], "answers": [{"comments": [{"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "reply_to_user": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "edited": false, "score": 0, "creation_date": 1561558880, "post_id": 56774823, "comment_id": 100105537, "body": "@Jayesh Glad I could help. BTW you also need to encode various other characters: commas, question marks, equal signs, etc"}, {"owner": {"reputation": 994, "user_id": 1285450, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f6c9b3206b191569185d0389db3cc266?s=128&d=identicon&r=PG", "display_name": "cjb110", "link": "https://stackoverflow.com/users/1285450/cjb110"}, "edited": false, "score": 0, "creation_date": 1561559074, "post_id": 56774823, "comment_id": 100105671, "body": "This works because: %0A is ascii char 10, which is the line feed character, which is what \\n also represents."}], "tags": [], "owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "is_accepted": true, "score": 3, "last_activity_date": 1561558548, "last_edit_date": 1561558548, "creation_date": 1561558149, "answer_id": 56774823, "question_id": 56774677, "link": "https://stackoverflow.com/questions/56774677/how-to-concat-string-with-new-line-character-in-typescript/56774823#56774823", "title": "How to concat string with new line character in typescript", "body": "<p>You need to encode <code>\\n</code> to pass it as url param <code>%0A</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a href=\"mailto:test@test.com?body=Hello%2CDear%0AText%0AText%0A\" target=\"_blank\"&gt;Email&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you are using javascript there is <code>encodeURIComponent</code> for that.</p>\n"}], "owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 56774823, "answer_count": 1, "score": -1, "last_activity_date": 1561558548, "creation_date": 1561557723, "last_edit_date": 1561557968, "question_id": 56774677, "link": "https://stackoverflow.com/questions/56774677/how-to-concat-string-with-new-line-character-in-typescript", "title": "How to concat string with new line character in typescript", "body": "<p>I am trying to concat  string and i want to put new line in the output string.\nI want to send the same string as email body using mailto so that i can display the string in multiple lines. when I put \\n I could see in the dev console its printing with newline as formatted but, not in dom or in email body, i can'y use any html tags to break down to new line..any help here</p>\n\n<pre><code>input: line1line2line3line4line5;\n\nI tried : \"line1\\nline2\\nline3\\nline4\\nline5\"\n\nactual output: line1 line2 line3 line4 line5\n\nexpected output:\nline1\nline2\nline3\nline4\nline5\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "edited": false, "score": 1, "creation_date": 1561564957, "post_id": 56774616, "comment_id": 100109204, "body": "you can also re-export every single variables from <code>api.ts</code>, as in <code>export * from &#39;.&#47;utils&#47;common-variables&#39;;</code>. Then you can import single variables directly from <code>api</code> as in <code>import { test1 } from &#39;api&#39;</code>"}, {"owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "reply_to_user": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "edited": false, "score": 0, "creation_date": 1561565266, "post_id": 56774616, "comment_id": 100109368, "body": "You mean to export two times <code>&#39;.&#47;utils&#47;common-variables&#39;;</code> ? Once to get everything in one variable and the other time every single variable ? @GiovanniGonzaga"}, {"owner": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "edited": false, "score": 0, "creation_date": 1561568643, "post_id": 56774616, "comment_id": 100110887, "body": "Yes, not necessarily suggesting it, just saying it is possible"}], "answers": [{"comments": [{"owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "edited": false, "score": 0, "creation_date": 1561558026, "post_id": 56774714, "comment_id": 100104939, "body": "So sad ... :&#39;-("}, {"owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "edited": false, "score": 0, "creation_date": 1561558546, "post_id": 56774714, "comment_id": 100105300, "body": "However, I can not import like this &quot;api/utils/common-variables&quot; because it&#39;s bundled and minified with webpack @AKX"}], "tags": [], "owner": {"reputation": 90691, "user_id": 51685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVhK5.jpg?s=128&g=1", "display_name": "AKX", "link": "https://stackoverflow.com/users/51685/akx"}, "is_accepted": true, "score": 3, "last_activity_date": 1561557834, "creation_date": 1561557834, "answer_id": 56774714, "question_id": 56774616, "link": "https://stackoverflow.com/questions/56774616/import-in-js-in-a-specific-way/56774714#56774714", "title": "Import in JS in a specific way", "body": "<p>No, that particular syntax is <a href=\"https://www.ecma-international.org/ecma-262/9.0/#prod-ImportSpecifier\" rel=\"nofollow noreferrer\">not possible \u2013 an <code>ImportSpecifier</code> can only really be a name</a>, not an attribute access expression like you have.</p>\n\n<p>You can just import them directly from <code>api/utils/common-variables</code> instead, though, and get rid of the re-export.</p>\n"}, {"tags": [], "owner": {"reputation": 690, "user_id": 10722934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4cff70286075e49276ee3fa823aa1c?s=128&d=identicon&r=PG&f=1", "display_name": "Shishir Naresh", "link": "https://stackoverflow.com/users/10722934/shishir-naresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561558260, "creation_date": 1561558260, "answer_id": 56774858, "question_id": 56774616, "link": "https://stackoverflow.com/questions/56774616/import-in-js-in-a-specific-way/56774858#56774858", "title": "Import in JS in a specific way", "body": "<p>You can import a single module from an import and rename it as you want in typescript. It has been mentioned in the documentation, <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">read here</a></p>\n\n<p>sample: </p>\n\n<pre><code>import { ZipCodeValidator as ZCV } from \"./ZipCodeValidator\";\nlet myValidator = new ZCV();`\n</code></pre>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56774714, "answer_count": 2, "score": 3, "last_activity_date": 1561558630, "creation_date": 1561557545, "last_edit_date": 1561558630, "question_id": 56774616, "link": "https://stackoverflow.com/questions/56774616/import-in-js-in-a-specific-way", "title": "Import in JS in a specific way", "body": "<p>In TS, I have <strong>Class1</strong> from <em>class.ts</em>, some functions from <em>helper.ts</em>, some variables from <em>variables.ts</em>:</p>\n\n<p>For example, <em>variables.ts</em> looks like that:</p>\n\n<pre><code>export const test1 = 'test1';\nexport const test2 = 0;\nexport const test3 = 'test3';\nexport const test4 = 'test4';\n</code></pre>\n\n<p>Then with Webpack, I give the api.ts like the entry to build a module.</p>\n\n<p><em>api.ts</em></p>\n\n<pre><code>export { Class1 } from './class1';\nexport { helper1, helper2 } from './helper';\nimport * as variables from './utils/common-variables';\nexport { variables };\n</code></pre>\n\n<p>Everything is fine when I need all the variables of the <em>variables.ts</em>.\nI can do this in my file.js:</p>\n\n<pre><code>import { variables } from 'api';\n</code></pre>\n\n<p>However, sometimes, I only need one variable. So, I would like to know if it was possible to import something like this:</p>\n\n<pre><code>import { variables.test1 as test } from 'api';\n</code></pre>\n"}, {"tags": ["arrays", "json", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1561557191, "post_id": 56774373, "comment_id": 100104409, "body": "what is your expectation?"}, {"owner": {"reputation": 298, "user_id": 1024030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9757172cbedf0fe9bbca92173c60c03f?s=128&d=identicon&r=PG", "display_name": "r2018", "link": "https://stackoverflow.com/users/1024030/r2018"}, "edited": false, "score": 0, "creation_date": 1561557866, "post_id": 56774373, "comment_id": 100104841, "body": "Have you looked into reactive forms?"}, {"owner": {"reputation": 311, "user_id": 9958469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b139e68f61128877d2f173a3786e8d?s=128&d=identicon&r=PG", "display_name": "Serhiy", "link": "https://stackoverflow.com/users/9958469/serhiy"}, "edited": false, "score": 0, "creation_date": 1561558958, "post_id": 56774373, "comment_id": 100105588, "body": "as @r2018said, if you want form automatically gives you well-formatted object, you should use reactive forms, exactly - nested formsGroup. Take a look at it here: <a href=\"https://angular.io/guide/reactive-forms#step-1-creating-a-nested-group\" rel=\"nofollow noreferrer\">angular.io/guide/reactive-forms#step-1-creating-a-nested-gro&zwnj;&#8203;up</a>"}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1561565697, "post_id": 56774373, "comment_id": 100109594, "body": "Sure. I&#39;ll look into that."}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "reply_to_user": {"reputation": 311, "user_id": 9958469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b139e68f61128877d2f173a3786e8d?s=128&d=identicon&r=PG", "display_name": "Serhiy", "link": "https://stackoverflow.com/users/9958469/serhiy"}, "edited": false, "score": 0, "creation_date": 1561616001, "post_id": 56774373, "comment_id": 100123950, "body": "@Serhiy I tried but I am not sure how to deal with dynamic values. It renders only last values in ts file on click of button. Can you please guide?"}, {"owner": {"reputation": 311, "user_id": 9958469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b139e68f61128877d2f173a3786e8d?s=128&d=identicon&r=PG", "display_name": "Serhiy", "link": "https://stackoverflow.com/users/9958469/serhiy"}, "edited": false, "score": 0, "creation_date": 1561654359, "post_id": 56774373, "comment_id": 100145735, "body": "@PathikVejani Sure, can you, please, set up the form, how it&#39;s now on <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz.com</a> ?  In case you never use it - it&#39;s like codepen, only more comfortable for use with Angular in my opinion. You need to scroll a little bit down and press start a new workspace with Angular."}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "reply_to_user": {"reputation": 311, "user_id": 9958469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b139e68f61128877d2f173a3786e8d?s=128&d=identicon&r=PG", "display_name": "Serhiy", "link": "https://stackoverflow.com/users/9958469/serhiy"}, "edited": false, "score": 0, "creation_date": 1561716944, "post_id": 56774373, "comment_id": 100164267, "body": "@Serhiy thanks for your time, I managed."}], "answers": [{"comments": [{"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1561565765, "post_id": 56774623, "comment_id": 100109621, "body": "How do I convert it? Any explanations for your answer?"}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1561630495, "post_id": 56774623, "comment_id": 100131806, "body": "All data is coming dynamically, how can we make object for that?"}], "tags": [], "owner": {"reputation": 1304, "user_id": 1849556, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/kwAy6.jpg?s=128&g=1", "display_name": "schoolcoder", "link": "https://stackoverflow.com/users/1849556/schoolcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1561557571, "creation_date": 1561557571, "answer_id": 56774623, "question_id": 56774373, "link": "https://stackoverflow.com/questions/56774373/create-objects-on-form-submit-in-typescript-angular-7/56774623#56774623", "title": "create objects on form submit in typescript angular 7", "body": "<p>You can convert this JSON value to your required format,</p>\n\n<pre><code>format(value) {\n  return [\n     {\n       Level: [\n         {\n          \"levelId-0\":value.levelId-0,\n          \"level-0\":value.level-0,\n          \"points-0\":value.points-0\n         },\n         ....\n       ],\n       Medal: [\n         .....\n       ]\n     }\n  ]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1561613511, "post_id": 56780620, "comment_id": 100123119, "body": "I don&#39;t have any idea for that. Can you provide some example?"}], "tags": [], "owner": {"reputation": 1575, "user_id": 885259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea1d85cf531a8970912cf2e844c77b4?s=128&d=identicon&r=PG", "display_name": "Mateo Tibaquira", "link": "https://stackoverflow.com/users/885259/mateo-tibaquira"}, "is_accepted": false, "score": 0, "last_activity_date": 1561581869, "creation_date": 1561581869, "answer_id": 56780620, "question_id": 56774373, "link": "https://stackoverflow.com/questions/56774373/create-objects-on-form-submit-in-typescript-angular-7/56780620#56780620", "title": "create objects on form submit in typescript angular 7", "body": "<p>Unfortunately I haven't done this via <a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">Template-driven</a> Forms, but here my ideas:</p>\n\n<p>You will need to group your fields into the <code>Level</code> and <code>Medal</code> arrays by wrapping your <code>*ngFor</code> into a <code>&lt;ng-container formArrayName=\"Level\"&gt;</code> container and try it.</p>\n\n<p>Each <code>*ngFor</code> should set the position <code>FormArray</code>, but you will need to experiment and see if the <code>formArrayName</code> directive does it for you.</p>\n\n<p>Happy ng-coding!</p>\n"}], "owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 649, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561617055, "creation_date": 1561556818, "last_edit_date": 1561617055, "question_id": 56774373, "link": "https://stackoverflow.com/questions/56774373/create-objects-on-form-submit-in-typescript-angular-7", "title": "create objects on form submit in typescript angular 7", "body": "<p>I am trying to create 2 separate objects on form submission. Below is my code:</p>\n\n<p><strong>test.html</strong></p>\n\n<pre><code>&lt;form [formGroup]=\"gamificationForm\" (ngSubmit)=\"onSubmit()\"&gt;\n\n&lt;div *ngFor=\"let medal of medalResponse; let iMedal=index\" class=\"row col-lg-12 mtop-custom-10 medal-level-point-config\"&gt;\n      &lt;input type=\"hidden\" class=\"point-text\" [(ngModel)]=\"medal.medalId\" formControlName=\"medalId\" /&gt;\n      &lt;div class=\"col-lg-4 col-6\"&gt;\n        {{medal.medalName}}\n        &lt;input type=\"hidden\" class=\"point-text\" [(ngModel)]=\"medal.medalName\" formControlName=\"medalName\" /&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-lg-4 col-6\"&gt;\n        &lt;input type=\"number\" class=\"point-text\" [(ngModel)]=\"medal.points\" formControlName=\"points\" /&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;button class=\"custom-btn-class\" name=\"submit\" type=\"submit\"&gt;Save&lt;/button&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Typescript:</strong></p>\n\n<pre><code>    gamificationForm = this.fb.group({\n    medals: this.fb.group({\n      medalId: [''],\n      medalName: [''],\n      points: ['']\n    })\n  });\n\nonSubmit() {\n    console.warn(this.gamificationForm.value);\n}\n</code></pre>\n\n<p><strong>JSON:</strong></p>\n\n<pre><code>It is printing last values from the loop on html page and in json too.\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "http"], "comments": [{"owner": {"reputation": 298, "user_id": 1024030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9757172cbedf0fe9bbca92173c60c03f?s=128&d=identicon&r=PG", "display_name": "r2018", "link": "https://stackoverflow.com/users/1024030/r2018"}, "edited": false, "score": 0, "creation_date": 1561557944, "post_id": 56774301, "comment_id": 100104880, "body": "Why is your submit button outside form tag?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561559780, "post_id": 56774509, "comment_id": 100106125, "body": "You add the router: Router in the constructor and place the  this.router.navigateByUrl(url: string) method?"}, {"owner": {"reputation": 904, "user_id": 1279118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdqun.jpg?s=128&g=1", "display_name": "Moslem Shahsavan", "link": "https://stackoverflow.com/users/1279118/moslem-shahsavan"}, "reply_to_user": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561612217, "post_id": 56774509, "comment_id": 100122715, "body": "Read example of <code>router</code> usage."}], "tags": [], "owner": {"reputation": 904, "user_id": 1279118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdqun.jpg?s=128&g=1", "display_name": "Moslem Shahsavan", "link": "https://stackoverflow.com/users/1279118/moslem-shahsavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561612067, "last_edit_date": 1561612067, "creation_date": 1561557213, "answer_id": 56774509, "question_id": 56774301, "link": "https://stackoverflow.com/questions/56774301/angular-how-to-post-data-with-a-button-using-change-detector/56774509#56774509", "title": "Angular how to post data with a button using (change) detector?", "body": "<p>Conflict using routerLink <code>routerLink=\"/menu\"</code> and click event.</p>\n\n<p>change routing when back response. </p>\n\n<p>Inject <code>router: Router</code> class and use <code>this.router.navigateByUrl(url: string)</code>\n<a href=\"https://angular.io/api/router/Router\" rel=\"nofollow noreferrer\">Router</a></p>\n\n<pre><code> constructor(private router: Router){\n  }\n\n\n  public saveCode(e): void{\n    // POST method\n    this.http.post('http://localhost:8080/aquadine-jee/resources/restaurant',\n      JSON.parse(JSON.stringify(data)) , httpOptions)\n\n    // wait till it gets posted to the backend\n      .subscribe( // subscribe to observable http.post\n        res =&gt; {\n          console.log(\"response\" + \" \" + res); // log results otherwise log error\n\n          this.router.navigateByUrl(\"/menu\")\n        },\n        err =&gt; {\n          console.log('Error occured');\n        }\n      );\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "edited": false, "score": 0, "creation_date": 1561561666, "post_id": 56774723, "comment_id": 100107339, "body": "I still cant POST any data with the button even after I tried your code"}], "tags": [], "owner": {"reputation": 1304, "user_id": 1849556, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/kwAy6.jpg?s=128&g=1", "display_name": "schoolcoder", "link": "https://stackoverflow.com/users/1849556/schoolcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1561557874, "creation_date": 1561557874, "answer_id": 56774723, "question_id": 56774301, "link": "https://stackoverflow.com/questions/56774301/angular-how-to-post-data-with-a-button-using-change-detector/56774723#56774723", "title": "Angular how to post data with a button using (change) detector?", "body": "<p>In addition to the answer by @Moslem, change the button type from <code>submit</code> to <code>button</code> </p>\n\n<pre><code>&lt;button type=\"button\" .. &gt; instead of &lt;button type=\"submit\" ...&gt;\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 11402301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni5SZOhuYBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpGJ4O6mHCc0aoxqIYmPaPtCHFQg/mo/photo.jpg?sz=128", "display_name": "Kryoke", "link": "https://stackoverflow.com/users/11402301/kryoke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561612067, "creation_date": 1561556563, "question_id": 56774301, "link": "https://stackoverflow.com/questions/56774301/angular-how-to-post-data-with-a-button-using-change-detector", "title": "Angular how to post data with a button using (change) detector?", "body": "<p>I am trying to post data to my REST server. When I use a (change) it sends the data to my rest server. When I try to activate the method on my button it doesnt even try to make a POST call. How can I solve this problem? I can't find anything about it.</p>\n\n<p>HTML file:</p>\n\n<pre><code>&lt;div class=\"container py-5\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-6 mx-auto\"&gt;\n          &lt;div class=\"card rounded-0\"&gt;\n            &lt;div class=\"card-header\"&gt;\n              &lt;h3 class=\"mb-0\"&gt;Organize&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n              &lt;label for=\"codes\" class=\"m-2\"&gt;Choose a restaurant:&lt;/label&gt;\n              &lt;form #f=\"ngForm\"&gt;\n                &lt;input \n                  type=\"text\" \n                  list=\"codes\" \n                  class=\"m-2\"\n                  (change)=\"saveCode($event)\"&gt;\n                &lt;datalist id=\"codes\"&gt;\n                  &lt;option *ngFor=\"let c of codeList\" [value]=\"c.name\"&gt;{{c.name}}&lt;/option&gt;\n                &lt;/datalist&gt;\n              &lt;/form&gt;\n              &lt;button \n                type=\"submit\" \n                class=\"btn btn-primary btn-lg float-none m-2\" \n                id=\"btnAanmaken\"\n                routerLink=\"/menu\"\n                (change)=\"saveCode($event)\"\n                &gt;Aanmaken&lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n</code></pre>\n\n<p>Typescript file:</p>\n\n<pre><code>// Method to post data to backend\n  public saveCode(e): void {\n    const name = e.target.value;\n    const list = this.codeList.filter(x =&gt; x.name === name)[0];\n\n\n    this.restaurant.name = list.name;\n    this.restaurant.address = list.address;\n\n    console.log(list.name);\n    console.log(list.address);\n\n\n// Additional information to the server content type\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json'\n      })\n    };\n// Making an array with the values of the restaurant\n    const data = {\n      name: list.name,\n      address: list.address\n    };\n\n    console.log(data);\n\n// POST method\n    this.http.post('http://localhost:8080/aquadine-jee/resources/restaurant',\n      JSON.parse(JSON.stringify(data)) , httpOptions)\n\n    // wait till it gets posted to the backend\n      .subscribe( // subscribe to observable http.post\n        res =&gt; {\n          console.log(\"response\" + \" \" + res); // log results otherwise log error\n        },\n        err =&gt; {\n          console.log('Error occured');\n        }\n      );\n  }\n</code></pre>\n\n<p>I tried to call the method by:</p>\n\n<pre><code>&lt;button \n                type=\"submit\" \n                class=\"btn btn-primary btn-lg float-none m-2\" \n                id=\"btnAanmaken\"\n                routerLink=\"/menu\"\n                (change)=\"saveCode($event)\"\n                &gt;Aanmaken&lt;/button&gt;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>&lt;button \n                type=\"submit\" \n                class=\"btn btn-primary btn-lg float-none m-2\" \n                id=\"btnAanmaken\"\n                routerLink=\"/menu\"\n                (click)=\"saveCode($event)\"\n                &gt;Aanmaken&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1561556874, "post_id": 56774207, "comment_id": 100104176, "body": "How do you call this function in your Angular app?"}, {"owner": {"reputation": 75, "user_id": 11703452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SAagd6FTe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcfwt7VeH-3SbCJ1Mn5h2lEW62Jw/photo.jpg?sz=128", "display_name": "Maxime Alza", "link": "https://stackoverflow.com/users/11703452/maxime-alza"}, "reply_to_user": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1561557410, "post_id": 56774207, "comment_id": 100104538, "body": "in the html file of my component, like this : &lt;td id=&quot;arriel1&quot;  style=&quot;vertical-align: top;&quot;&gt;{{draw(&#39;#arriel1&#39;,arriel1,{dateDimension:false, color: &quot;teal&quot;, labelFormat: &quot;%Y&quot;})}}&lt;/td&gt;"}, {"owner": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "edited": false, "score": 0, "creation_date": 1561560969, "post_id": 56774207, "comment_id": 100106895, "body": "You&#39;re calling that function constantly as part of angular lifecycle. Move the function call to your ngOnInit lifecycle hook."}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1561566134, "post_id": 56774207, "comment_id": 100109786, "body": "You should not use functions in bindings. your function will be called on every change detection cycle and angular runs x2 cycles in dev mode."}], "answers": [{"tags": [], "owner": {"reputation": 6624, "user_id": 4896493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/197888927236621/picture?type=large", "display_name": "Sergey Mell", "link": "https://stackoverflow.com/users/4896493/sergey-mell"}, "is_accepted": true, "score": 0, "last_activity_date": 1561560959, "creation_date": 1561560959, "answer_id": 56775701, "question_id": 56774207, "link": "https://stackoverflow.com/questions/56774207/function-which-works-in-javascript-but-when-called-in-angular-it-makes-an-infini/56775701#56775701", "title": "function which works in javascript but when called in angular it makes an infinite loop", "body": "<p>As long as you call the function from html it's called every time when Angular detectChanges cycle runs. Thus you get a huge number of function calls.</p>\n\n<p>You should move it inside the component code, not template. I think it should be <code>ngAfterViewInit</code> lifecycle hook so the template is ready for manipulations</p>\n"}], "owner": {"reputation": 75, "user_id": 11703452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SAagd6FTe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcfwt7VeH-3SbCJ1Mn5h2lEW62Jw/photo.jpg?sz=128", "display_name": "Maxime Alza", "link": "https://stackoverflow.com/users/11703452/maxime-alza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 56775701, "answer_count": 1, "score": 0, "last_activity_date": 1561560959, "creation_date": 1561556303, "last_edit_date": 1561560145, "question_id": 56774207, "link": "https://stackoverflow.com/questions/56774207/function-which-works-in-javascript-but-when-called-in-angular-it-makes-an-infini", "title": "function which works in javascript but when called in angular it makes an infinite loop", "body": "<p>I have adapted a function I've found which use d3.js, to draw timeknots. When I test it with javascript and html, it works perfectly (the timeknots are perfectly drawn) , but when I try to call this function in my angular app, the timeknots are well drawn but infinitely. Does anybody know why ?</p>\n\n<p>I work with the same data, the same function.</p>\n\n<pre><code>draw(id, events, options){\n//Propri\u00e9t\u00e9s de la timeline\nvar cfg = {\n  width: 4000,\n  height: 80,\n  radius: 5,\n  lineWidth: 1,\n  color: \"#999\",\n  background: \"#FFF\",\n  dateFormat: \"%Y/%m/%d %H:%M:%S\",\n  horizontalLayout: true,\n  showLabels: false,\n  addNow: false,\n  dateDimension: false\n};\nlet points = [];\nlet index = 0;\nlet position;\nlet j = 0;\nlet prem = true;\nlet paire = false;\n\n//default configuration overrid\nif(options != undefined){\n  for(var i in options){\n    cfg[i] = options[i];\n  }\n}\n\nvar tip = d3.select(id)\n  .append('div')\n  .style(\"opacity\", 0)\n  .style(\"position\", \"absolute\")\n  .style(\"font-family\", \"Helvetica Neue\")\n  .style(\"font-weight\", \"300\")\n  .style(\"background\",\"rgba(0,0,0,0.5)\")\n  .style(\"color\", \"white\")\n  .style(\"padding\", \"5px 10px 5px 10px\")\n  .style(\"-moz-border-radius\", \"8px 8px\")\n  .style(\"border-radius\", \"8px 8px\");\nvar svg = d3.select(id).append('svg').attr(\"width\", \ncfg.width).attr(\"height\", cfg.height);\n\n\nvar maxValue = 400;\nvar minValue = 0;\nvar margin = (d3.max(events.map(function(d){return Number(d.radius)})) || \nNumber(cfg.radius)*1.5+cfg.lineWidth);\nvar step = (1500-2*+margin)/(maxValue - minValue)*2.5;\nvar series = [];\n\nvar linePrevious = {\n  x1 : null,\n  x2 : null,\n  y1 : null,\n  y2 : null\n}\n\n\n\n//Ici on d\u00e9finit la ligne sur laquelle sont les points\nsvg.selectAll(\"line\")\n  .data(events).enter().append(\"line\")\n  .attr(\"class\", \"timeline-line\")\n  .attr(\"x1\", function(d){\n  return 0;\n  })\n  .attr(\"x2\", function(d){\n  return 4000   ;\n  })\n  .attr(\"y1\", function(d){\n    return Math.floor(cfg.height/2);\n  })\n  .attr(\"y2\", function(d){\n    return Math.floor(cfg.height/2);\n  })\n  .style(\"stroke\", function(d){\n    return cfg.color\n  })\n  .style(\"stroke-width\", cfg.lineWidth);\n}\n</code></pre>\n\n<p>I expect the function to draw one line but it draws multiple lines.</p>\n"}, {"tags": ["html", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1561556958, "post_id": 56774195, "comment_id": 100104236, "body": "Why not use <code>type=&quot;number&quot;</code>?"}, {"owner": {"reputation": 85, "user_id": 8893468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c78def9b9007abd94d97c52bb49ee4a?s=128&d=identicon&r=PG&f=1", "display_name": "Vyshnavi", "link": "https://stackoverflow.com/users/8893468/vyshnavi"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1561559748, "post_id": 56774195, "comment_id": 100106093, "body": "when I use a number, we get a up and down arrow which is not as part of requirement. Thanks"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1561559989, "post_id": 56774195, "comment_id": 100106240, "body": "You can try the technique given in <a href=\"https://stackoverflow.com/a/23374725/1009922\">this answer</a> to hide the arrows."}, {"owner": {"reputation": 1610, "user_id": 2658652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GFL1k.jpg?s=128&g=1", "display_name": "katwhocodes", "link": "https://stackoverflow.com/users/2658652/katwhocodes"}, "edited": false, "score": 0, "creation_date": 1561565634, "post_id": 56774195, "comment_id": 100109561, "body": "you can try using mask: <a href=\"https://www.npmjs.com/package/ngx-mask\" rel=\"nofollow noreferrer\">npmjs.com/package/ngx-mask</a>"}, {"owner": {"reputation": 883, "user_id": 10138657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00773177db161c613ed94bda398a6f23?s=128&d=identicon&r=PG&f=1", "display_name": "Palak Jadav", "link": "https://stackoverflow.com/users/10138657/palak-jadav"}, "edited": false, "score": 0, "creation_date": 1561574421, "post_id": 56774195, "comment_id": 100113462, "body": "you can  make your custom validator function this may help <a href=\"https://stackoverflow.com/questions/39847862/min-max-validator-in-angular-2-final\" title=\"min max validator in angular 2 final\">stackoverflow.com/questions/39847862/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1561565300, "last_edit_date": 1561565300, "creation_date": 1561564582, "answer_id": 56776833, "question_id": 56774195, "link": "https://stackoverflow.com/questions/56774195/how-to-stop-the-characters-in-input-type-text-field-in-angular/56776833#56776833", "title": "How to stop the characters in Input type=&quot;text&quot; field in angular", "body": "<p>To achieve the expected result, use below options of <code>keyup</code> event  </p>\n\n<ol>\n<li>On every key up, slit input value by <strong>'.'</strong></li>\n<li>The first part of the split array will have value before the decimal point and the second part of the array will have value after decimal point</li>\n<li>Reassign input value based on length   </li>\n</ol>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;input type=\"text\" (keyup)=\"onKeyup($event)\" /&gt;\n</code></pre>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code> onKeyup(e) {\n    const val = e.target.value.split(\".\");\n    if (!val[1]) {\n      e.target.value =\n        val[0].split(\"\").length &gt; 2\n          ? e.target.value.substr(0, e.target.value.length - 1)\n          : e.target.value;\n    } else {\n      e.target.value =\n        val[1].split(\"\").length &gt; 2\n          ? val[0] + \".\" + val[1].substr(0, val[1].length - 1)\n          : e.target.value;\n    }\n  }\n</code></pre>\n\n<p>working code sample for reference - <a href=\"https://codesandbox.io/s/angular-p1gh1\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/angular-p1gh1</a></p>\n\n<p>Updated code with HTML and javascript </p>\n\n<p>codepen - <a href=\"https://codepen.io/nagasai/pen/xoLqdN?editors=1010\" rel=\"nofollow noreferrer\">https://codepen.io/nagasai/pen/xoLqdN?editors=1010</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function onKeyup(e) {\r\n  const val = e.target.value.split(\".\");\r\n    if (!val[1]) {\r\n      e.target.value =\r\n        val[0].split(\"\").length &gt; 2\r\n          ? e.target.value.substr(0, e.target.value.length - 1)\r\n          : e.target.value;\r\n    } else {\r\n      e.target.value =\r\n        val[1].split(\"\").length &gt; 2\r\n          ? val[0] + \".\" + val[1].substr(0, val[1].length - 1)\r\n          : e.target.value;\r\n    }\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" onkeyup =\"onKeyup(event)\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 85, "user_id": 8893468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c78def9b9007abd94d97c52bb49ee4a?s=128&d=identicon&r=PG&f=1", "display_name": "Vyshnavi", "link": "https://stackoverflow.com/users/8893468/vyshnavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561565300, "creation_date": 1561556264, "question_id": 56774195, "link": "https://stackoverflow.com/questions/56774195/how-to-stop-the-characters-in-input-type-text-field-in-angular", "title": "How to stop the characters in Input type=&quot;text&quot; field in angular", "body": "<p>My client requirement is as follows\n1. The input field should be a text\n2. It should not allow characters\n3. It should have range of 0-100\n4. Input format is 99.99</p>\n\n<p>we are using angular 7. Pattern is not working for the validation</p>\n\n<p></p>\n\n<p>Can someone please help me. I am struggling from one day :(\nThanks!</p>\n"}, {"tags": ["json", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "reply_to_user": {"reputation": 141, "user_id": 11680771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f409f7085fe68ca5282039733d19cb?s=128&d=identicon&r=PG&f=1", "display_name": "sangRam", "link": "https://stackoverflow.com/users/11680771/sangram"}, "edited": false, "score": 0, "creation_date": 1561619710, "post_id": 56774197, "comment_id": 100125703, "body": "@sang glad to hear that! If you need further help let me know!"}], "tags": [], "owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "is_accepted": true, "score": 1, "last_activity_date": 1561557448, "last_edit_date": 1561557448, "creation_date": 1561556282, "answer_id": 56774197, "question_id": 56774084, "link": "https://stackoverflow.com/questions/56774084/how-to-get-values-from-json-object-array-and-add-to-another-array-in-angular/56774197#56774197", "title": "How to get values from json object array and add to another array in angular", "body": "<p>Assuming <code>data</code> as <code>array</code> you should insert data in a new empty array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [];\r\n\r\n// extract upin, mtype, land from the original array\r\nfor (let item of data) {\r\n  arr.push({\r\n    upin: item.upin,\r\n    mtype: item.mtype,\r\n    land: item.land\r\n  });\r\n}\r\n\r\n// OR\r\n\r\nconst arr = data.map((item) =&gt; {\r\n  return {\r\n    upin: item.upin,\r\n    mtype: item.mtype,\r\n    land: item.land\r\n  };\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 11680771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f409f7085fe68ca5282039733d19cb?s=128&d=identicon&r=PG&f=1", "display_name": "sangRam", "link": "https://stackoverflow.com/users/11680771/sangram"}, "edited": false, "score": 0, "creation_date": 1561559665, "post_id": 56774278, "comment_id": 100106039, "body": "Thank You for your answer"}], "tags": [], "owner": {"reputation": 3723, "user_id": 1209097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dkgb.jpg?s=128&g=1", "display_name": "ysf", "link": "https://stackoverflow.com/users/1209097/ysf"}, "is_accepted": false, "score": 0, "last_activity_date": 1561556495, "creation_date": 1561556495, "answer_id": 56774278, "question_id": 56774084, "link": "https://stackoverflow.com/questions/56774084/how-to-get-values-from-json-object-array-and-add-to-another-array-in-angular/56774278#56774278", "title": "How to get values from json object array and add to another array in angular", "body": "<p>this is pure javascript and it has nothing to do with angular. you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map</a> function to transform arrays.</p>\n\n<pre><code>const arr2 = this.arr.map(el =&gt; ({upins: el.upins, mtyp: el.mtyp, land: el.land}));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 11680771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f409f7085fe68ca5282039733d19cb?s=128&d=identicon&r=PG&f=1", "display_name": "sangRam", "link": "https://stackoverflow.com/users/11680771/sangram"}, "edited": false, "score": 0, "creation_date": 1561559626, "post_id": 56774300, "comment_id": 100106013, "body": "Thank You for your answer.. it is aslo right but i used @sampgun&#39;s answer"}], "tags": [], "owner": {"reputation": 311, "user_id": 9958469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b139e68f61128877d2f173a3786e8d?s=128&d=identicon&r=PG", "display_name": "Serhiy", "link": "https://stackoverflow.com/users/9958469/serhiy"}, "is_accepted": false, "score": 0, "last_activity_date": 1561556557, "creation_date": 1561556557, "answer_id": 56774300, "question_id": 56774084, "link": "https://stackoverflow.com/questions/56774084/how-to-get-values-from-json-object-array-and-add-to-another-array-in-angular/56774300#56774300", "title": "How to get values from json object array and add to another array in angular", "body": "<p>The first answer is right. I only want to add that you can use map method for same goal. It's more comfortable for me: </p>\n\n<pre><code>const newData = data.map(x =&gt; {\n    return {\n        upin: x.upin,\n        mtype: x.mtype,\n        land: x.land\n    };\n});\n</code></pre>\n\n<p>Map will check each element in the array and return new object based on element properties. </p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 11680771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f409f7085fe68ca5282039733d19cb?s=128&d=identicon&r=PG&f=1", "display_name": "sangRam", "link": "https://stackoverflow.com/users/11680771/sangram"}, "edited": false, "score": 0, "creation_date": 1561559614, "post_id": 56774825, "comment_id": 100106004, "body": "Thank You for your answer.. it is aslo right but i used @sampgun&#39;s answer"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1561558154, "creation_date": 1561558154, "answer_id": 56774825, "question_id": 56774084, "link": "https://stackoverflow.com/questions/56774084/how-to-get-values-from-json-object-array-and-add-to-another-array-in-angular/56774825#56774825", "title": "How to get values from json object array and add to another array in angular", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructing</a> method for your requirement, you can include what properties you need. I did not see land property in your data.</p>\n\n<pre><code>const result = arr.map(({ upin, mtype }) =&gt; ({\n  upin, mtype\n}));\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr =[{ id: 1,\r\nmtype: \"KIOSK PACKAGE\",\r\npart_fees: 200,\r\ntb_bid_upins: 1,\r\ntech_bid_flag: 0,\r\ntot_media: 0,\r\ntype: \"Road Stretch\",\r\nupin: \"AMCADVT1415C0123\",\r\nupin_id: \"2\"\r\n}, { \r\nid: 1,\r\nmtype: \"KIOSK PACKAGE\",\r\npart_fees: 200,\r\ntb_bid_upins: 1,\r\ntech_bid_flag: 0,\r\ntot_media: 0,\r\ntype: \"Road Stretch\",\r\nupin: \"AMCADVT1415C0123\",\r\nupin_id: \"2\" }]\r\n\r\nconst result = arr.map(({ upin, mtype }) =&gt; ({\r\n  upin, mtype\r\n}));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 141, "user_id": 11680771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f409f7085fe68ca5282039733d19cb?s=128&d=identicon&r=PG&f=1", "display_name": "sangRam", "link": "https://stackoverflow.com/users/11680771/sangram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 1, "accepted_answer_id": 56774197, "answer_count": 4, "score": 2, "last_activity_date": 1561558154, "creation_date": 1561555898, "last_edit_date": 1561556545, "question_id": 56774084, "link": "https://stackoverflow.com/questions/56774084/how-to-get-values-from-json-object-array-and-add-to-another-array-in-angular", "title": "How to get values from json object array and add to another array in angular", "body": "<p>I have Following json object : </p>\n\n<p><strong>var arr =[{\n  0:M: \"LED\"\nid: 1<br>\nmtype: \"KIOSK PACKAGE\"<br>\npart_fees: 200<br>\ntb_bid_upins: 1<br>\ntech_bid_flag: 0<br>\ntot_media: 0<br>\ntype: \"Road Stretch\"<br>\nupin: \"AMCADVT1415C0123\"<br>\nupin_id: \"2\"<br>\n},        {\n1:M: \"LED\"<br>\nid: 1<br>\nmtype: \"KIOSK PACKAGE\"<br>\npart_fees: 200<br>\ntb_bid_upins: 1<br>\ntech_bid_flag: 0<br>\ntot_media: 0<br>\ntype: \"Road Stretch\"<br>\nupin: \"AMCADVT1415C0123\"<br>\nupin_id: \"2\"\n}]</strong></p>\n\n<p>Now it has two values,but it can have multiple value because it is fetch from database.\nFrom this json i wnat to pick values with key upin,mtype,land and add to another array.</p>\n\n<p>I have tried following</p>\n\n<pre><code>for(let item of data){\n    // this.console.log(item)\n     this.upins = item.upin;\n     this.console.log(this.upins);\n    }\nthis.console.log(this.upins);```\n\nIt shows last index value\n\nI want result as follows\n\nvar arr = [{\nupins: abc,\nmtyp:xyz,\nland:123\n},{\nupins:123,\nmtype:pqr,\nland:555\n}]\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 1097680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3f6cfc5167bb48cffc98aa6a384730?s=128&d=identicon&r=PG", "display_name": "jofe", "link": "https://stackoverflow.com/users/1097680/jofe"}, "edited": false, "score": 0, "creation_date": 1561613377, "post_id": 56775988, "comment_id": 100123078, "body": "Thanks for this very good and detailed answer. I&#39;d go with the second approach in case I don&#39;t always want to be forced to define every column for the given data array. Do you have any further informations about the syntax? Especially why I have to define all properties on columnObject if I omit &#39;[keyof T][]&#39;?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 105, "user_id": 1097680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3f6cfc5167bb48cffc98aa6a384730?s=128&d=identicon&r=PG", "display_name": "jofe", "link": "https://stackoverflow.com/users/1097680/jofe"}, "edited": false, "score": 1, "creation_date": 1561658253, "post_id": 56775988, "comment_id": 100147363, "body": "The type <code>{ [K in keyof T]: Column&lt;T, K&gt; }</code> is a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> with the same keys as <code>T</code> but the property types are mapped.  If we use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a> on the <code>keyof T</code> property (so <code>{...}[keyof T]</code>), that is the union of all those properties.  And then if we suffx that type with <code>[]</code>, we are saying we want an array of those."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 105, "user_id": 1097680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3f6cfc5167bb48cffc98aa6a384730?s=128&d=identicon&r=PG", "display_name": "jofe", "link": "https://stackoverflow.com/users/1097680/jofe"}, "edited": false, "score": 1, "creation_date": 1561658371, "post_id": 56775988, "comment_id": 100147410, "body": "Assuming <code>T</code> is <code>Person</code>, <code>{ [K in keyof T]: Column&lt;T, K&gt; }</code> becomes <code>{name: Column&lt;Person, &quot;name&quot;&gt;; age: Column&lt;Person, &quot;age&quot;}</code>.  And then <code>{ [K in keyof T]: Column&lt;T, K&gt; }[keyof T]</code> becomes <code>Column&lt;Person, &quot;name&quot;&gt; | Column&lt;Person, &quot;age&quot;&gt;</code>.  And then <code>{ [K in keyof T]: Column&lt;T, K&gt; }[keyof T][]</code> becomes <code>Array&lt;Column&lt;Person, &quot;name&quot;&gt; | Column&lt;Person, &quot;age&quot;&gt;&gt;</code>, which is what you want.  If you leave off <code>[keyof T][]</code> you are left with the mapped type, which requires named keys."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1561561805, "creation_date": 1561561805, "answer_id": 56775988, "question_id": 56774078, "link": "https://stackoverflow.com/questions/56774078/automatic-type-resolving-for-generics/56775988#56775988", "title": "Automatic type resolving for generics", "body": "<p>Personally I'd be inclined to make <code>columns</code> an object with one property per key of <code>T</code>, since you presumably don't want to risk missing one of the columns:</p>\n\n<pre><code>interface Column&lt;T, P extends keyof T&gt; {\n  label: string;\n  key: P;\n  valueFormatter?: (value: T[P]) =&gt; string;\n}\n\ninterface TableWithColumnObject&lt;T&gt; {\n  data: T[];\n  columnObject: { [K in keyof T]: Column&lt;T, K&gt; };\n}\n</code></pre>\n\n<p>There <code>columnObject</code> is a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a>, and you'd use it like this:</p>\n\n<pre><code>interface Person {\n  name: string;\n  age: number;\n}\n\nconst table1: TableWithColumnObject&lt;Person&gt; = {\n  data: [{ name: \"Alice\", age: 35 }, { name: \"Bob\", age: 38 }],\n  columnObject: {\n    name: {\n      label: \"Name\",\n      key: \"name\",\n      valueFormatter: name =&gt; name\n    },\n    age: {\n      label: \"Age\",\n      key: \"age\",\n      valueFormatter: age =&gt; \"\" + age\n    }\n  }\n};\n</code></pre>\n\n<p>If you don't care about missing one of the columns (or maybe you <em>want</em> to be able to miss some of the columns or include duplicates) then you can get your desired type by using the <code>columnObject</code> mapped type in a slightly more complicated way:</p>\n\n<pre><code>interface TableWithColumnArray&lt;T&gt; {\n  data: T[];\n  columnArray: { [K in keyof T]: Column&lt;T, K&gt; }[keyof T][];\n}\n</code></pre>\n\n<p>Here we've taking the mapped type, and <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">looked up</a> its properties, and said we want an array of those.  So for <code>Person</code>, that type looks like <code>Array&lt;Column&lt;Person, \"name\"&gt; | Column&lt;Person, \"age\"&gt;&gt;</code>.  And we use it like this:</p>\n\n<pre><code>const table2: TableWithColumnArray&lt;Person&gt; = {\n  data: [{ name: \"Alice\", age: 35 }, { name: \"Bob\", age: 38 }],\n  columnArray: [\n    {\n      label: \"Name\",\n      key: \"name\",\n      valueFormatter: name =&gt; name\n    },\n    {\n      label: \"Age\",\n      key: \"age\",\n      valueFormatter: age =&gt; \"\" + age\n    }\n  ]\n};\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//#code/JYOwLgpgTgZghgYwgAgMIHsA2BXAtiAHgBUAaZABWQgA9IQATAZ2QGsIBPdGZIgPmQDeAKGTJMcAEYRMALmSMwUUAHMA3CNYc55daIBucHBABi6KLjhhIUAPxyAFAaNyiAbXIBdAJTIAvPwUlEDUhAF8hIVBreCQeSUwIAHVgMAALDBx8AHkJACsIBDBifmFReks4F1cPXWQELDwQHPzCuQFkVwBpZFBNTm4iDzkMxuIyTv5Q9XDI8GgYlHJoRnQQQQ0QOFwIOUCVWrhlHeQQPCkoaYj6kAVkMHiIAEYXB+S0key8gqKlqBWQfi+dZlCpyVztTbbOQAIgAgphgEhoWRDscAMwAVmQoTIEK2x2hACF0BJkchUXI0QAObEeEgaeqZJpfVrA0QnfFtDTssSSaQwgBy+OR3PZbHYMMhEBFPP0hmwJjMFis0DkUr8-ClopxoopbJ54iksmQcKOMtl4phqPNPKcCtM5ks1jkqI1JuhyAA1OSjtqNOEphEovNECgiK8UukGvhYVAoHB2MU2eV7lUagzoyBY-GJYIOt1euKuDwhmhM2NkBNsa4iwMPNVLkJrrd7hIEgAmF5tpKRj5ZuMJgi-f6A5Ogjp4qEm+GI6Uoo6UrE4vNSmHE0nz9E00J0jNM7MJsGi0qyw38k1C7Y2sVaE1S69yowO5XOjnbN1ank6nkng1842mnOoqiJaJrWvSsrIHaiqOiqUAukcbrQh63qon6ogeGE6hAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 105, "user_id": 1097680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3f6cfc5167bb48cffc98aa6a384730?s=128&d=identicon&r=PG", "display_name": "jofe", "link": "https://stackoverflow.com/users/1097680/jofe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56775988, "answer_count": 1, "score": 1, "last_activity_date": 1561561805, "creation_date": 1561555879, "last_edit_date": 1561556831, "question_id": 56774078, "link": "https://stackoverflow.com/questions/56774078/automatic-type-resolving-for-generics", "title": "Automatic type resolving for generics", "body": "<p>I want to define an interface for a table column with the following properties:</p>\n\n<ul>\n<li>title: the title of the column</li>\n<li>key: the key of a property in a specific model (so I can get the value)</li>\n<li>valueFormatter: any function to format the value which returns a string</li>\n</ul>\n\n<p>The valueFormatter-Function should get a parameter, which has the same type as the property (key). So something like this.</p>\n\n<pre><code>export interface Column&lt;T, P extends keyof T&gt; {\n  label: string;\n  key: P;\n  valueFormatter?: (value: T[P]) =&gt; string\n};\n</code></pre>\n\n<p>Is there any way to use this in another interface without explicit define the \"P\" type like this:</p>\n\n<pre><code>export interface Table&lt;T&gt; {\n  data: T[];\n  columns: Column&lt;T&gt;[];\n}\n</code></pre>\n\n<p>Or: how can I define the Column Interface without the P-Generic and be safe with \"key\" and \"valueFormatter\"?</p>\n"}, {"tags": ["node.js", "typescript", "inversion-of-control", "inversifyjs"], "comments": [{"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1561586311, "post_id": 56774013, "comment_id": 100117756, "body": "Did you mean that you want create an instance of <code>HeaderAndFooterManager</code> after instance of <code>GQLQueryLoader</code> is created because binding means its register. Or in other wordfs what do you mean by <code>register</code>?"}, {"owner": {"reputation": 133, "user_id": 4834048, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j7F9J9KO8Gw/AAAAAAAAAAI/AAAAAAAAEWA/EL9sH3FRD5A/photo.jpg?sz=128", "display_name": "Ovidiu Badita", "link": "https://stackoverflow.com/users/4834048/ovidiu-badita"}, "reply_to_user": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1561623034, "post_id": 56774013, "comment_id": 100127411, "body": "Yes, binding is register. I want the HeaderAndFooterManager to be registered only after the async actions from GQLQueryLoader  will finish. I have solved the problem by not initializing the HeaderAndFooterManager the way I wanted, but instead I will have it boot once it is used, but that makes me use more local state than I would like. What I did is a workaround, not a solution. I have seen the providers in documentation, but it is not clear yet how I should use them without changing the services that I already have.,, I hope I will find eventually an elegant solution for this problem."}, {"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 1, "creation_date": 1561633634, "post_id": 56774013, "comment_id": 100133530, "body": "Yes im also using i call them <code>boot:provider</code> where I define provider that is ran on application boot you can take a look here maybe its not best solution but can give you some ideas: <a href=\"https://github.com/Xesenix/ludumdare-43/blob/master/game/app/app.module.tsx#L114\" rel=\"nofollow noreferrer\">github.com/Xesenix/ludumdare-43/blob/master/game/app/&hellip;</a> here how its added to list of boot providers <a href=\"https://github.com/Xesenix/ludumdare-43/blob/master/src/lib/i18n/i18n.module.ts#L28\" rel=\"nofollow noreferrer\">github.com/Xesenix/ludumdare-43/blob/master/src/lib/i18n/&hellip;</a> and here how it may look like <a href=\"https://github.com/Xesenix/ludumdare-43/blob/master/src/lib/i18n/i18n-boot.provider.ts\" rel=\"nofollow noreferrer\">github.com/Xesenix/ludumdare-43/blob/master/src/lib/i18n/&hellip;</a>"}], "owner": {"reputation": 133, "user_id": 4834048, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j7F9J9KO8Gw/AAAAAAAAAAI/AAAAAAAAEWA/EL9sH3FRD5A/photo.jpg?sz=128", "display_name": "Ovidiu Badita", "link": "https://stackoverflow.com/users/4834048/ovidiu-badita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 764, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561623436, "creation_date": 1561555719, "last_edit_date": 1561623436, "question_id": 56774013, "link": "https://stackoverflow.com/questions/56774013/how-can-i-bind-a-service-in-inversify-after-another-service-is-initialized", "title": "How can I bind a service in inversify after another service is initialized?", "body": "<p>I use inversify and I have some code that looks like this:</p>\n\n<pre><code>export const bindings = new AsyncContainerModule(async (bind) =&gt; {\n\nawait require(\"./controllers/BaseController\");\nawait require(\"./controllers/ContentController\");\n\nbind&lt;CssLoader&gt;(TYPE.CssLoader).to(CssLoader).inSingletonScope();\nbind&lt;GQLQueryLoader&gt;(TYPE.GQLQueryLoader).to(GQLQueryLoader).inSingletonScope();\nbind&lt;GQLRepository&gt;(TYPE.GQLRepository).to(GQLRepository).inSingletonScope();\nbind&lt;ArticleRenderer&gt;(TYPE.ArticleRenderer).to(ArticleRenderer).inSingletonScope();\nbind&lt;GuideRenderer&gt;(TYPE.GuideRenderer).to(GuideRenderer).inSingletonScope();\nbind&lt;RendererFactory&gt;(TYPE.RendererFactory).to(RendererFactory).inSingletonScope();\nbind&lt;HeaderAndFooterManager&gt;(TYPE.HeaderAndFooterManager).to(HeaderAndFooterManager).inSingletonScope();});\n</code></pre>\n\n<p>My problem is that I need the HeaderAndFooterManager to be registered only after the GQLQueryLoader is registered, because it uses the queries only after they are loaded.</p>\n\n<p>The container is used in the app like this: </p>\n\n<pre><code>(async () =&gt; {\nconst staticServer = express();\nstaticServer.use(express.static(path.join(__dirname, 'public')));\n\nstaticServer.engine('handlebars', exphbs({  }));\nstaticServer.set('view engine', 'handlebars');\nstaticServer.set('views', path.join(__dirname, '..', 'views'));\n\n\nconst PORT = process.env.PORT || 3000;\nconst container = new Container();\nawait container.loadAsync(bindings);\n\nconst app = new InversifyExpressServer(container, null, null, staticServer);\nconst server = app.build();\n\nserver.listen(PORT, () =&gt; {\n    console.log(`Server running on port ${PORT}/`)\n}); })();\n</code></pre>\n\n<p>Edit>>>\nTthe problem is that both services need to initialize some state in constructor when the server starts. GQLQueryLoader needs to load the queries from disk and provide access to them, so I do not have to read from disk at each request, and HeaderAndFooterManager needs to perform some queries in the constructor, in order to cache the result on server start, so that I keep that info in memory, but it needs access to GQLQueryLoader loaded queries.\nWhat I did is not to initialize the header and footer data until it is needed the first time. I check if is loaded, if not I load it. However, this is just a workaround, and it feels it is the kind of problem that is important to know how to solve in a clean way.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1561567806, "post_id": 56774474, "comment_id": 100110540, "body": "Thanks! I do however understand all this. The question is how are requests queued until the tokens are available. I thought <code>take</code> terminates the stream, so how does queuing occur?"}, {"owner": {"reputation": 136, "user_id": 7997905, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ecw6ozCTLPY/AAAAAAAAAAI/AAAAAAAAAFA/ThopmIvbmJI/photo.jpg?sz=128", "display_name": "German Meza", "link": "https://stackoverflow.com/users/7997905/german-meza"}, "reply_to_user": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1561575859, "post_id": 56774474, "comment_id": 100114114, "body": "Well in the example that you shared, theres no queuing, only the BehaviorSubject that is always emitting the last token that the server sent, too understand the actual &quot;queuing&quot; i need to see more of the code and how youre using the BehaviorSubject to &quot;queue&quot; the requests for the tokens."}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 1, "creation_date": 1561626824, "post_id": 56774474, "comment_id": 100129626, "body": "Okay that is what I thought, there is no queueing. The code comes from the example I linked to. Every example like that says there is queueing, but I didn&#39;t believe it. Thanks for confirming for me!"}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 1, "creation_date": 1561890668, "post_id": 56774474, "comment_id": 100200776, "body": "I spent a lot more time on this and I think I see my confusion now - you are right there isn&#39;t &quot;queuing&quot;, but there is &quot;waiting&quot;. All failed requests that need a new refreshed token are subscribed to the interceptor&#39;s observable, so they are in effect, &quot;waiting&quot;. Once the new token is available, that stream is completed and all those requests can be retried with the new tokens. So actually they were &quot;waiting&quot; all along but not because a queue was used, rather just because they were waiting for an observable/subscription to complete. Does that make sense?"}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 1, "creation_date": 1562143056, "post_id": 56774474, "comment_id": 100281057, "body": "LOL this was a learning experience - the real problem is the docs for <code>take</code>: <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/take\" rel=\"nofollow noreferrer\">&quot;An Observable that emits only the first count values emitted by the source Observable, or all of the values from the source if the source emits fewer than count values.&quot;</a>. So I thought if there are zero values then <code>take(1)</code> would just complete immediately - but that isn&#39;t true!! What actually happens is it will <b>WAIT</b> until there is at least one value, then complete! :-) Thanks a lot for your help!"}, {"owner": {"reputation": 136, "user_id": 7997905, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ecw6ozCTLPY/AAAAAAAAAAI/AAAAAAAAAFA/ThopmIvbmJI/photo.jpg?sz=128", "display_name": "German Meza", "link": "https://stackoverflow.com/users/7997905/german-meza"}, "reply_to_user": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1562292094, "post_id": 56774474, "comment_id": 100337413, "body": "Haha its nice to know i can help ;)"}], "tags": [], "owner": {"reputation": 136, "user_id": 7997905, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ecw6ozCTLPY/AAAAAAAAAAI/AAAAAAAAAFA/ThopmIvbmJI/photo.jpg?sz=128", "display_name": "German Meza", "link": "https://stackoverflow.com/users/7997905/german-meza"}, "is_accepted": true, "score": 3, "last_activity_date": 1561557109, "creation_date": 1561557109, "answer_id": 56774474, "question_id": 56773770, "link": "https://stackoverflow.com/questions/56773770/waiting-for-data-in-an-angular-interceptor-using-an-rxjs-behaviorsubject/56774474#56774474", "title": "Waiting for data in an Angular Interceptor using an RxJs BehaviorSubject", "body": "<p>Well, the initial value of the BehaviorSubject is \"NULL\" (before the request or socket connection to get the new token is made) you need to pick the values that are different from NULL, in order to do this we use the \"<a href=\"https://rxjs-dev.firebaseapp.com/api/operators/filter\" rel=\"nofollow noreferrer\">filter</a>\" operator</p>\n\n<pre><code>filter(result =&gt; result !== null), \n</code></pre>\n\n<p>This will emit only the values that are different from NULL into the next pipeline step of the BehaviorSubject.</p>\n\n<p>Now we have to only \"take\" <strong>one</strong> of the emitted values from the BehaviorSubject (You must need this because of the way that youre getting the new token), in order to do this we use the \"<a href=\"https://rxjs-dev.firebaseapp.com/api/operators/take\" rel=\"nofollow noreferrer\">take</a>\" operator.</p>\n\n<pre><code>take(1),\n</code></pre>\n\n<p>This will only emit <strong>ONE</strong> value, even if there were 10 emitted values, only the first one will be piped into the next pipeline step.</p>\n\n<p>After all that you handle the values with the \"switchMap\", but remember that the BehaviorSubject emits the the current value (the last value emitted) every time it gets a new subscription.</p>\n"}], "owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 1, "accepted_answer_id": 56774474, "answer_count": 1, "score": 0, "last_activity_date": 1561557109, "creation_date": 1561555072, "question_id": 56773770, "link": "https://stackoverflow.com/questions/56773770/waiting-for-data-in-an-angular-interceptor-using-an-rxjs-behaviorsubject", "title": "Waiting for data in an Angular Interceptor using an RxJs BehaviorSubject", "body": "<p>I'm new to rxjs - I sort of understand most of the operators, but I don't understand a particular use of <code>BehaviorSubject</code>, <code>filter</code>, and <code>take</code>.</p>\n\n<p>I want to renew an oauth access and refresh token pair, in an Angular interceptor. All the code I've seen here and in blogs are the same - there seems to be a standard way to do it. But there is one bit that I don't understand.</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/54148818/9971404\">an example</a>, this part queues requests until new access and refresh tokens are available.</p>\n\n<pre><code>private refreshSubject = new BehaviorSubject&lt;any&gt;(null);\n\n// ...etc.\n\nif (!this.refreshInProgress) {\n  // request new access and refresh tokens from server\n  // populate refreshSubject once tokens received\n}\nelse {\n  return this.refreshSubject.pipe(\n    filter(result =&gt; result !== null),                      // &lt;---- ???\n    take(1),                                                // &lt;---- ???\n    switchMap(() =&gt; next.handle(this.addToken(request)))\n  );\n}\n</code></pre>\n\n<p>All such examples explain that requests are queued until <code>refreshSubject</code> is populated with the new tokens, and that the magic happens in <code>filter</code>.</p>\n\n<p>This is what I don't understand. The <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-filter\" rel=\"nofollow noreferrer\">rxjs docs</a> do not say that <code>filter</code> causes waiting - where/how does the wait and queuing occur?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1561555315, "post_id": 56773675, "comment_id": 100103150, "body": "<a href=\"https://stackoverflow.com/questions/56566003/array-of-formgroup-within-mat-table-for-each-row/56571113#56571113\" title=\"array of formgroup within mat table for each row\">stackoverflow.com/questions/56566003/&hellip;</a>"}], "owner": {"reputation": 111, "user_id": 10578420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mdOBN99dMvg/AAAAAAAAAAI/AAAAAAAAABA/mnLuXCL9qpE/photo.jpg?sz=128", "display_name": "saravanam cs", "link": "https://stackoverflow.com/users/10578420/saravanam-cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 864, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561555185, "creation_date": 1561554816, "last_edit_date": 1561555185, "question_id": 56773675, "link": "https://stackoverflow.com/questions/56773675/how-to-add-user-input-field-row-to-mat-table-datasource", "title": "How to add user input field row to Mat Table dataSource", "body": "<p>I have loaded purchase invoice item list in a mat-table dataSource .And,Imagine following item list fields like, \n<strong>No ItemName ItemCode Quantity      ItemPrice Tax TaxAmount TotalPrice</strong>\n1   Item1    IT001   [input field]  100       9%    10       110</p>\n\n<p>And, my question is \"Quantity\" column field enter some no and submit the form, dataSource pass to service and save the data in database. How to pass user input quantity to dataSource..?</p>\n\n<pre><code>\n                      &lt;!-- Position Column --&gt;\n                      &lt;ng-container matColumnDef=\"No\"&gt;\n                          &lt;th mat-header-cell *matHeaderCellDef&gt; No. &lt;/th&gt;\n                          &lt;td mat-cell *matCellDef=\"let element;let i = index\"&gt; {{ i+1 }} &lt;/td&gt;\n                          &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n\n                      &lt;!-- Name Column --&gt;\n                      &lt;ng-container matColumnDef=\"MaterialName\"&gt;\n                          &lt;th mat-header-cell *matHeaderCellDef &gt; MaterialName &lt;/th&gt;\n                          &lt;td mat-cell *matCellDef=\"let element\"&gt;\n                              {{element.MaterialName}}\n                          &lt;/td&gt;\n                          &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n\n                      &lt;ng-container matColumnDef=\"MaterialCode\"&gt;\n                          &lt;th mat-header-cell *matHeaderCellDef &gt; MaterialCode &lt;/th&gt;\n                          &lt;td mat-cell *matCellDef=\"let element\"&gt;\n                              {{element.MaterialCode}}\n                          &lt;/td&gt;\n                          &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n                      &lt;ng-container matColumnDef=\"Quantity\"&gt;\n                          &lt;th mat-header-cell *matHeaderCellDef &gt; Quantity &lt;/th&gt;\n                          &lt;td mat-cell *matCellDef=\"let element\"&gt; \n                              &lt;mat-form-field class=\"\" appearance=\"outline\" &gt;\n                                  &lt;input matInput placeholder=\"\"  [value]=\"element.Quantity\" &gt;\n                              &lt;/mat-form-field&gt;  \n                          &lt;/td&gt;\n                          &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n\n                      &lt;ng-container matColumnDef=\"ValuationPrice\"&gt;\n                          &lt;th mat-header-cell *matHeaderCellDef &gt; ValuationPrice &lt;/th&gt;\n                          &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.ValuationPrice | currency}} &lt;/td&gt;\n                          &lt;td mat-footer-cell *matFooterCellDef&gt; Total : {{getTotalCost() | currency}}   &lt;/td&gt; \n                          &lt;!--&lt;td mat-footer-cell *matFooterCellDef&gt; Total : {{ab | currency}}   &lt;/td&gt;&gt;--&gt;\n\n                      &lt;/ng-container&gt;\n\n                      &lt;ng-container matColumnDef=\"Tax\"&gt;\n                        &lt;th mat-header-cell *matHeaderCellDef &gt; Tax &lt;/th&gt;\n                        &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.Tax}} &lt;/td&gt;\n                        &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n\n                      &lt;/ng-container&gt;\n\n                      &lt;ng-container matColumnDef=\"TaxAmount\"&gt;\n                        &lt;th mat-header-cell *matHeaderCellDef &gt; TaxAmount &lt;/th&gt;\n                        &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.TaxAmount}} &lt;/td&gt;\n                        &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n\n                      &lt;ng-container matColumnDef=\"TotalAmount\"&gt;\n                        &lt;th mat-header-cell *matHeaderCellDef &gt; TotalAmount &lt;/th&gt;\n                        &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.TotalAmount}} &lt;/td&gt;\n                        &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n\n                      &lt;ng-container matColumnDef=\"delete\"&gt;\n                          &lt;th mat-header-cell *matHeaderCellDef&gt; Delete &lt;/th&gt;\n                          &lt;td mat-cell *matCellDef=\"let element\"&gt;\n                              &lt;button mat-icon-button color=\"warn\" (click)=\"deleteItem(element)\"&gt;\n                                &lt;mat-icon class=\"mat-18\"&gt;delete&lt;/mat-icon&gt;\n                            &lt;/button&gt;\n                          &lt;/td&gt;\n                          &lt;td mat-footer-cell *matFooterCellDef&gt;     &lt;/td&gt;\n                      &lt;/ng-container&gt;\n\n                      &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n                      &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n\n                      &lt;tr mat-footer-row *matFooterRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n\n                  &lt;/table&gt;```\n\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "git", "angular-cli", "angular8"], "comments": [{"owner": {"reputation": 3318, "user_id": 6082670, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f2a8bbd1c2fd08e56be9cea578e40c33?s=128&d=identicon&r=PG&f=1", "display_name": "afeef", "link": "https://stackoverflow.com/users/6082670/afeef"}, "edited": false, "score": 0, "creation_date": 1562143049, "post_id": 56773528, "comment_id": 100281052, "body": "this is bug in angular 8 <a href=\"https://github.com/angular/angular-cli/issues/14600\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/issues/14600</a>"}, {"owner": {"reputation": 6020, "user_id": 5963307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ca39c0cc9e58b5a0331fa1c6d86fbd2?s=128&d=identicon&r=PG&f=1", "display_name": "J J B", "link": "https://stackoverflow.com/users/5963307/j-j-b"}, "edited": false, "score": 0, "creation_date": 1579194597, "post_id": 56773528, "comment_id": 105693139, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/56531262/ng-update-all-does-say-repository-is-not-clean-evendought-git-commit\">ng update --all does say &#39;Repository is not clean&#39; evendought git commit</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 4269425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb6058fca8a87b9b0dcf3668f7e626f?s=128&d=identicon&r=PG&f=1", "display_name": "Shilpi Jaiswal", "link": "https://stackoverflow.com/users/4269425/shilpi-jaiswal"}, "edited": false, "score": 3, "creation_date": 1567754158, "post_id": 56912110, "comment_id": 102065411, "body": "this is not working .. giving error &#39;Repository is not clean.  Update changes will be mixed with pre-existing changes. Using package manager: &#39;npm&#39; Collecting installed dependencies... Found 0 dependencies. Package &#39;@angular/cli&#39; is not a dependency.&#39;"}, {"owner": {"reputation": 839, "user_id": 5706510, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/5bhLe.png?s=128&g=1", "display_name": "Finn", "link": "https://stackoverflow.com/users/5706510/finn"}, "edited": false, "score": 1, "creation_date": 1571802245, "post_id": 56912110, "comment_id": 103357090, "body": "not working.., giving error &#39;Repository is no ...,&#39; too."}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 2, "creation_date": 1603421212, "post_id": 56912110, "comment_id": 114038890, "body": "It&#39;s not a bug - it&#39;s an intentional feature which is applicable in the event that the CLI unintentionally updates a file that wasn&#39;t meant to be updated, potentially breaking your app."}, {"owner": {"reputation": 650, "user_id": 173515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd09b8b7c5ad0d2a0bba02ef44a6ac16?s=128&d=identicon&r=PG", "display_name": "qu1j0t3", "link": "https://stackoverflow.com/users/173515/qu1j0t3"}, "reply_to_user": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1609802894, "post_id": 56912110, "comment_id": 115931921, "body": "@Edric It&#39;s a bug when it issues this message incorrectly, as it is doing for me (v8.2)"}], "tags": [], "owner": {"reputation": 2458, "user_id": 1621631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865ada2451bc325e2ef98ca79a78600e?s=128&d=identicon&r=PG", "display_name": "Abdullah Adeeb", "link": "https://stackoverflow.com/users/1621631/abdullah-adeeb"}, "is_accepted": false, "score": 189, "last_activity_date": 1564563505, "last_edit_date": 1564563505, "creation_date": 1562398314, "answer_id": 56912110, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a/56912110#56912110", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>It's a bug in Angular 8</p>\n\n<p>you can work around it by using:</p>\n\n<p><code>ng update @angular/cli @angular/core --allow-dirty</code></p>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 7569060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0ba4d758c00f6fbaaaf87facc0e007?s=128&d=identicon&r=PG&f=1", "display_name": "sharad jain", "link": "https://stackoverflow.com/users/7569060/sharad-jain"}, "is_accepted": false, "score": 47, "last_activity_date": 1581932466, "creation_date": 1581932466, "answer_id": 60259602, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a/60259602#60259602", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>I have tried using mention command for upgrading from angular 8 to angular 9, but was still getting the error.</p>\n\n<p>Then i have tried same command with --force flag and it worked for me.</p>\n\n<pre><code>ng update @angular/cli @angular/core --allow-dirty --force\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 772, "user_id": 9891738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGg4J.jpg?s=128&g=1", "display_name": "MrMalith", "link": "https://stackoverflow.com/users/9891738/mrmalith"}, "is_accepted": false, "score": 34, "last_activity_date": 1596013798, "last_edit_date": 1596013798, "creation_date": 1586884845, "answer_id": 61213550, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a/61213550#61213550", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>I've had the same issue. It's a common bug in Angular 8. Simply you can use dirty commands to bypass the repo check, such as (if u really need to bypass this, follow force commands)</p>\n<pre><code>ng update @angular/cli @angular/core --allow-dirty or\nng update @angular/cli @angular/core --allow-dirty --force\n</code></pre>\n<p>but, I didn't do that. I followed following steps...</p>\n<p>first of all double check whether you are commited all the changes before the update.then keep a copy of the project to the same location and commit the copy also to the Git. then run following command from the original project directory</p>\n<pre><code>ng update @angular/core@8 @angular/cli@8\n</code></pre>\n<p>afterwards u can delete the copy. This worked for me!\nthank you!</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11230357, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0k4kKMLE7to/AAAAAAAAAAI/AAAAAAAAAS8/rcUueKDND2o/photo.jpg?sz=128", "display_name": "Raviteja Javvadi", "link": "https://stackoverflow.com/users/11230357/raviteja-javvadi"}, "is_accepted": false, "score": -1, "last_activity_date": 1593507902, "creation_date": 1593507902, "answer_id": 62653933, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a/62653933#62653933", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>First, Check if there are any changes in your code that haven't pushed to git if yes push them, then close the old instance(cmd) and open a new instance of cmd then run the command.\nThis worked for me, Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 670, "user_id": 3670304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/39a4d6b74e0f1916376a1b02d05fa9ba?s=128&d=identicon&r=PG", "display_name": "jgritten", "link": "https://stackoverflow.com/users/3670304/jgritten"}, "is_accepted": false, "score": 0, "last_activity_date": 1594920247, "creation_date": 1594920247, "answer_id": 62940218, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a/62940218#62940218", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>in my case, this was due to a node_modules folder not being excluded by the .gitignore. once added, this error no longer appeared</p>\n"}, {"comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1603421104, "post_id": 63940491, "comment_id": 114038874, "body": "Note that the <code>save</code> option for <code>git-stash</code> is <a href=\"https://stackoverflow.com/a/47231547\">deprecated</a> from Git 2.15/2.16 (Q1 2018) in favour of <code>git stash push</code> (or <code>git stash</code>)."}, {"owner": {"reputation": 1833, "user_id": 1862590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX6Kb.png?s=128&g=1", "display_name": "Sathia", "link": "https://stackoverflow.com/users/1862590/sathia"}, "reply_to_user": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1606817245, "post_id": 63940491, "comment_id": 115070122, "body": "but still working."}], "tags": [], "owner": {"reputation": 1833, "user_id": 1862590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX6Kb.png?s=128&g=1", "display_name": "Sathia", "link": "https://stackoverflow.com/users/1862590/sathia"}, "is_accepted": false, "score": 3, "last_activity_date": 1600353628, "creation_date": 1600353628, "answer_id": 63940491, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a/63940491#63940491", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>I faced the same issue, I resolved using the below command</p>\n<pre><code>git stash save --include-untracked\n</code></pre>\n"}], "owner": {"reputation": 3318, "user_id": 6082670, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f2a8bbd1c2fd08e56be9cea578e40c33?s=128&d=identicon&r=PG&f=1", "display_name": "afeef", "link": "https://stackoverflow.com/users/6082670/afeef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92995, "favorite_count": 14, "answer_count": 6, "score": 96, "last_activity_date": 1600422021, "creation_date": 1561554331, "last_edit_date": 1600422021, "question_id": 56773528, "link": "https://stackoverflow.com/questions/56773528/repository-is-not-clean-please-commit-or-stash-any-changes-before-updating-in-a", "title": "Repository is not clean. Please commit or stash any changes before updating In Angular 8", "body": "<p>Error </p>\n\n<blockquote>\n  <p>Repository is not clean.  Please commit or stash any changes before updating</p>\n</blockquote>\n\n<p>when i have updated from version 7 to Angular 8.</p>\n\n<p>Angular Guide for upgrade <a href=\"https://update.angular.io/#7.0:8.0\" rel=\"noreferrer\">https://update.angular.io/#7.0:8.0</a></p>\n\n<pre><code>  D:\\app-test&gt; ng update @angular/cli @angular/core\n               npm cache verify\n</code></pre>\n\n<blockquote>\n  <p>Repository is not clean.  Please commit or stash any changes before updating.</p>\n</blockquote>\n\n<p>Update Version</p>\n\n<pre><code>    PS D:\\app-test&gt; ng update\n                Using package manager: 'npm'\n                Collecting installed dependencies...\n                Found 58 dependencies.\n                    We analyzed your package.json, there are some packages to update:\n\n                      Name                               Version                  Command to update\n                     --------------------------------------------------------------------------------\n                      @angular/cdk                       7.2.2 -&gt; 8.0.1           ng update @angular/cdk\n                      @angular/core                      7.2.15 -&gt; 8.0.1          ng update @angular/core\n                      @angular/core                      7.2.2 -&gt; 7.2.15          ng update @angular/core\n                      @angular/material                  7.3.7 -&gt; 8.0.1           ng update @angular/material\n                      rxjs                               6.3.3 -&gt; 6.5.2           ng update rxjs\n\n\n                    There might be additional packages that are outdated.\n                    Run \"ng update --all\" to try to update all at the same time.\n\n                PS D:\\app-test&gt; ng update @angular/cdk\n                Repository is not clean.  Please commit or stash any changes before updating.\n</code></pre>\n\n<p>i have checked git was not installed in project.</p>\n\n<p>solution that worked</p>\n\n<pre><code>   git commit \n</code></pre>\n\n<p>After Googling i have This is happening After Angular 8.</p>\n\n<p>Bug</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/issues/14600\" rel=\"noreferrer\">https://github.com/angular/angular-cli/issues/14600</a></p>\n"}, {"tags": ["typescript", "class", "hierarchy"], "comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1561552643, "post_id": 56772968, "comment_id": 100101451, "body": "Your code does not compile?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1561552650, "post_id": 56772968, "comment_id": 100101456, "body": "<code>SubClass</code> has no relationship to <code>BaseClass</code>... What makes you think it&#39;s a subclass."}, {"owner": {"reputation": 455, "user_id": 10690407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bddf0c0befab1d002ebde8163175f8?s=128&d=identicon&r=PG&f=1", "display_name": "Dries Geenen", "link": "https://stackoverflow.com/users/10690407/dries-geenen"}, "edited": false, "score": 0, "creation_date": 1561552941, "post_id": 56772968, "comment_id": 100101661, "body": "The code does compile, but when run in a browser it gives errors in the console. For the relation between the classes: I forgot to type the extends statement in my example. It&#39;s there in the actual code"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 3, "creation_date": 1561553205, "post_id": 56772968, "comment_id": 100101832, "body": "So why does this print &quot;base save&quot; in the console? <a href=\"https://codesandbox.io/s/autumn-pond-eumf7?fontsize=14&amp;module=%2Fsrc%2Findex.ts\" rel=\"nofollow noreferrer\">codesandbox.io/s/&hellip;</a> Something else is going on here."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1561555633, "post_id": 56772968, "comment_id": 100103375, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20627138/typescript-this-scoping-issue-when-called-in-jquery-callback\">TypeScript &quot;this&quot; scoping issue when called in jquery callback</a>"}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 10690407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bddf0c0befab1d002ebde8163175f8?s=128&d=identicon&r=PG&f=1", "display_name": "Dries Geenen", "link": "https://stackoverflow.com/users/10690407/dries-geenen"}, "is_accepted": false, "score": 0, "last_activity_date": 1561554957, "creation_date": 1561554957, "answer_id": 56773726, "question_id": 56772968, "link": "https://stackoverflow.com/questions/56772968/functionname-is-not-a-function-in-subclass/56773726#56773726", "title": "(functionName) is not a function in subclass", "body": "<p>Turns out the events were initialized wrong.</p>\n\n<p>I've replaced the following:</p>\n\n<p>this.saveButton.addEventListener('click', this.save);</p>\n\n<p>With:</p>\n\n<p>this.saveButton.addEventListener('click', () => this.save());</p>\n\n<p>The only reason it worked before adding the validate function, is because there is no reference to \"this\" in the BaseClass.save function.</p>\n"}], "owner": {"reputation": 455, "user_id": 10690407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bddf0c0befab1d002ebde8163175f8?s=128&d=identicon&r=PG&f=1", "display_name": "Dries Geenen", "link": "https://stackoverflow.com/users/10690407/dries-geenen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561554957, "creation_date": 1561552477, "last_edit_date": 1561552853, "question_id": 56772968, "link": "https://stackoverflow.com/questions/56772968/functionname-is-not-a-function-in-subclass", "title": "(functionName) is not a function in subclass", "body": "<p>I'm writing an extension for a web-based texteditor. Because of the class hierarchy, my code gives some strange results.</p>\n\n<p>I've tried moving the \"validate\" function to the base class but to no avail</p>\n\n<pre><code>class BaseClass{\n    close(): void {\n        // Does some stuff\n    }\n    save(): void {\n        // Also does things\n    }\n}\nclass SubClass extends BaseClass{\n    close(): void {\n        this.validate(() =&gt; super.close()) // This works as expected\n    }\n    save(): void {\n        this.validate(() =&gt; super.save()) // This throws the error: Uncaught TypeError: this.validate is not a function\n    }\n    validate(callback: () =&gt; void){\n        // Does some validation, then\n        if (validationOk) callback()\n    }\n}\n</code></pre>\n\n<p>The expected result is that both the save and close functions in the SubClass call the validate function without errors.</p>\n"}, {"tags": ["html", "angular", "typescript", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 2, "creation_date": 1561552284, "post_id": 56772839, "comment_id": 100101214, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproductible example</a>."}], "owner": {"reputation": 21, "user_id": 11291443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de514ea677fbd00420119ca90e65f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Cdvg", "link": "https://stackoverflow.com/users/11291443/cdvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561553567, "creation_date": 1561552087, "last_edit_date": 1561553567, "question_id": 56772839, "link": "https://stackoverflow.com/questions/56772839/typeerror-cannot-read-property-set-of-null-at-isfirebaseref-in-angular", "title": "TypeError: Cannot read property &#39;set&#39; of null at isFirebaseRef in Angular", "body": "<p>Im start my first time with firebase and angular.</p>\n\n<p>I following step to step from Angular 6 CRUD Operations With Firebase in YouTube, when I press submit then error popup in Google chrome console and cant set value into firebase realtime database. </p>\n\n<p>YouTube link: <a href=\"https://www.youtube.com/watch?v=9wxEwE8UFr0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9wxEwE8UFr0</a></p>\n\n<p><strong>OrganizationComponent.html</strong></p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-5\"&gt;\n    &lt;form [formGroup]=\"this.organizationService.form\" (ngSubmit)=\"onSubmit()\"&gt;\n      &lt;input type=\"hidden\" formControlName=\"$key\"&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Full Name&lt;/label&gt;\n        &lt;input formControlName=\"fullname\" class=\"form-control\" [ngClass]=\"{'is-invalid':submitted &amp;&amp; formControls.fullname.errors}\"&gt;\n        &lt;div class=\"invalid-feedback\" *ngIf=\"submitted &amp;&amp; formControls.fullname.errors\"&gt;\n          This field is required.&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Email&lt;/label&gt;\n        &lt;input formControlName=\"email\" class=\"form-control\" [ngClass]=\"{'is-invalid':submitted &amp;&amp; formControls.email.errors}\"&gt;\n        &lt;div class=\"invalid-feedback\" *ngIf=\"submitted &amp;&amp; formControls.email.errors\"&gt;\n          Invalid email address.&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Mobile&lt;/label&gt;\n        &lt;input formControlName=\"mobile\" class=\"form-control\" [ngClass]=\"{'is-invalid':submitted &amp;&amp; formControls.mobile.errors}\"&gt;\n        &lt;div class=\"invalid-feedback\" *ngIf=\"submitted &amp;&amp; formControls.mobile.errors\"&gt;\n          &lt;label *ngIf=\"formControls.mobile.errors.required\"&gt;This field is required.&lt;/label&gt;\n          &lt;label *ngIf=\"formControls.mobile.errors.minlength\"&gt;Atleast 8 numbers.&lt;/label&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Location&lt;/label&gt;\n        &lt;input formControlName=\"location\" class=\"form-control\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;input type=\"submit\" class=\"btn btn-primary\" value=\"Submit\"&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n    &lt;div class=\"alert alert-info\"  *ngIf=\"showSuccessMessage\"&gt;\n      Submitted successfully.\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"col-md-7\"&gt;\n    &lt;app-organization-list&gt;&lt;/app-organization-list&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Organization.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { OrganzationService } from '../shared/organization.service';\n\n\n\n@Component({\n  selector: 'app-organization',\n  templateUrl: './organization.component.html',\n  styleUrls: ['./organization.component.css']\n})\nexport class OrganizationComponent implements OnInit {\n\n  constructor(private organizationService: OrganzationService) { }\n\n  submitted: boolean;\n  showSuccessMessage: boolean;\n  formControls = this.organizationService.form.controls;\n\n  ngOnInit() {\n  }\n\n  onSubmit(){\n\n    this.submitted = true;\n\n    if(this.organizationService.form.valid){\n       if(this.organizationService.form.get('$key').valid == null)\n      this.organizationService.insertOrganization(this.organizationService.form.value);\n      else\n      this.organizationService.updateOrganization(this.organizationService.form.value);\n      this.showSuccessMessage = true;\n      setTimeout(() =&gt; this.showSuccessMessage = false,3000);\n      this.submitted = false;\n      this.organizationService.form.reset();\n      this.organizationService.form.setValue({\n        $key: null,\n        fullname: '',\n        email: '',\n        mobile: '',\n        location: ''\n      })\n    }\n  }\n\n}\n</code></pre>\n\n<p><strong>OrganizationService.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nimport {FormControl,FormGroup,Validators} from \"@angular/forms\";\nimport {AngularFireDatabase,AngularFireList} from 'angularfire2/database';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrganzationService {\n\n  constructor(private firebase: AngularFireDatabase) { }\n  organizationList: AngularFireList&lt;any&gt;;\n\n  form = new FormGroup({\n\n    $key: new FormControl(null),\n    fullname: new FormControl('',Validators.required),\n    email: new FormControl('',Validators.email),\n    mobile: new FormControl('',[Validators.required,Validators.minLength(8)]),\n    location: new FormControl('')\n\n\n  });\n\n  getOrganizations() {\n    this.organizationList = this.firebase.list('organizations');\n    return this.organizationList.snapshotChanges();\n  }\n\n\n  insertOrganization(organization) {\n    this.organizationList.push({\n\n      fullname: organization.fullname,\n      email: organization.email,\n      mobile: organization.mobile,\n      location: organization.location\n    });\n  }\n\n  populateForm(organization) {\n    this.form.setValue(organization);\n  }\n\n  updateOrganization(organization) {\n    this.organizationList.update(organization.$key,\n      {\n        fullname: organization.fullname,\n        email: organization.email,\n        mobile: organization.mobile,\n        location: organization.location\n      });\n\n\n  deleteOrganization($key: string) {\n    this.organizationList.remove($key);\n  }\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "firebase-realtime-database", "google-cloud-functions", "firebase-admin"], "answers": [{"tags": [], "owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "is_accepted": true, "score": 0, "last_activity_date": 1561552647, "creation_date": 1561552647, "answer_id": 56773028, "question_id": 56772608, "link": "https://stackoverflow.com/questions/56772608/firebase-cloud-function-is-not-being-executed-on-oncreate-event-for-firebase-rea/56773028#56773028", "title": "firebase cloud function is not being executed on onCreate event for firebase real time database", "body": "<p>Fixed!\nI had to add a mask, e.g. <code>/user-chat/{anything}</code></p>\n"}], "owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 56773028, "answer_count": 1, "score": 0, "last_activity_date": 1561552647, "creation_date": 1561551369, "last_edit_date": 1561552612, "question_id": 56772608, "link": "https://stackoverflow.com/questions/56772608/firebase-cloud-function-is-not-being-executed-on-oncreate-event-for-firebase-rea", "title": "firebase cloud function is not being executed on onCreate event for firebase real time database", "body": "<p>I have deployed the next function to the firebase:</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\n\nconsole.log('FILE INCLUDED');\n\nconst serviceAccount = require('../cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json');\n\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n  databaseURL: 'https://cargo-tender.firebaseio.com'\n});\n\nconsole.log('INITIALIZED');\n\nexport const onMessageCreate = functions.database\n  .ref('/chat')\n  .onCreate((snapshot, context) =&gt; {\n\n    console.log('onCreate RUN');\n\n    const token = 'myToken';\n    const payload = {\n        notification: {\n        title: 'Title',\n        body: 'come check it',\n        badge: '0',\n        sound: 'default',\n        }\n    };\n\n    console.log('trying to send push notification');\n\n    return admin\n      .messaging()\n      .sendToDevice(token, payload).then((response) =&gt; {\n        console.log('Message sent');\n        console.log(response);\n      }).catch((error) =&gt; {\n        console.error('There was an error, while sending the message');\n        console.error(error);\n      });\n  });\n\n  console.log('FUNCTION FINISH');\n</code></pre>\n\n<p>But when I try to create a record under path <code>/user-chat</code> - the function is not executed, the push notification is not being sent. Also, the function call is not being registered in the logs.</p>\n\n<p>If I run the function manually from the firebase console (test function) - the function executes without errors. The push notification is received. And I see that is everything good in the logs:</p>\n\n<pre><code>3:07:56.902 PM onMessageCreate FILE INCLUDED\n3:07:57.112 PM onMessageCreate INITIALIZED\n3:07:57.113 PM onMessageCreate FUNCTION FINISH\n3:07:57.273 PM onMessageCreate onCreate RUN\n3:07:57.273 PM onMessageCreate trying to send push notification\n3:07:57.757 PM onMessageCreate Message sent\n3:07:57.759 PM onMessageCreate { results: [ { messageId: '0:1561550877745153%be2b376ebe2b376e' } ],\n  canonicalRegistrationTokenCount: 0,\n  failureCount: 0,\n  successCount: 1,\n  multicastId: 5684437879493655000 }\n3:07:57.771 PM onMessageCreate Function execution took 1008 ms, finished with status: 'ok'\n</code></pre>\n\n<p>I don't get why the onCreate is not fired, when I add a record in the firebase under the specified path (<code>/user-chat</code>). I also tried to use another path, like <code>/chat</code>, but this did not do the trick.</p>\n\n<p>Any advice on this would be really appreciated.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 2, "creation_date": 1561551057, "post_id": 56772458, "comment_id": 100100395, "body": "You already have numbers. As a useful reminder, strings are usually between quotes, in your case it&#39;s not : those are numbers !"}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561551394, "post_id": 56772458, "comment_id": 100100608, "body": "ok thanks. I also noticed that rectangles has too many square brackets. I do not know where this comes from."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1561551473, "post_id": 56772458, "comment_id": 100100668, "body": "Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I can&#39;t really tell you."}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561555470, "post_id": 56772458, "comment_id": 100103270, "body": "my problem is to know why the push (.map ...) is generating an extra square bracket. Here is the definition: <a href=\"https://angular-maps.com/api-docs/agm-core/interfaces/latlngliteral\" rel=\"nofollow noreferrer\">angular-maps.com/api-docs/agm-core/interfaces/latlngliteral</a>"}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 1, "creation_date": 1561556451, "post_id": 56772458, "comment_id": 100103903, "body": "According the code you provide, there is not reason to have an extra square bracket. Check my <a href=\"https://stackblitz.com/edit/angular-f1vltw\" rel=\"nofollow noreferrer\">Stackblitz example</a>..."}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561556976, "post_id": 56772458, "comment_id": 100104252, "body": "yes this is how it should be. Nevertheless I still have an extra square bracket coming from the ... push ...."}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561557397, "post_id": 56772458, "comment_id": 100104529, "body": "harcoding values and commenting the push method: rectangles : [[{&quot;lat&quot;:44.841225,&quot;lng&quot;:-0.580036},{&quot;lat&quot;:44.842236,&quot;lng&quot;:-&zwnj;&#8203;0.64696},{&quot;lat&quot;:44.8&zwnj;&#8203;05615,&quot;lng&quot;:-0.63084&zwnj;&#8203;}],[{&quot;lat&quot;:44.819868&zwnj;&#8203;,&quot;lng&quot;:-0.582811},{&quot;&zwnj;&#8203;lat&quot;:44.853709,&quot;lng&quot;&zwnj;&#8203;:-0.483573},{&quot;lat&quot;:4&zwnj;&#8203;4.80696,&quot;lng&quot;:-0.532&zwnj;&#8203;99},{&quot;lat&quot;:44.80696,&zwnj;&#8203;&quot;lng&quot;:-0.629078}]] there are only two square brackets"}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "reply_to_user": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561557485, "post_id": 56772458, "comment_id": 100104589, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195580/discussion-between-youri-and-philippe-correges\">continue this discussion in chat</a>."}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561557512, "post_id": 56772458, "comment_id": 100104609, "body": "commenting out the push keeping hard coded values: the push adds an array of arrays: rectangles : [[{&quot;lat&quot;:44.841225,&quot;lng&quot;:-0.580036},{&quot;lat&quot;:44.842236,&quot;lng&quot;:-&zwnj;&#8203;0.64696},{&quot;lat&quot;:44.8&zwnj;&#8203;05615,&quot;lng&quot;:-0.63084&zwnj;&#8203;}],[{&quot;lat&quot;:44.819868&zwnj;&#8203;,&quot;lng&quot;:-0.582811},{&quot;&zwnj;&#8203;lat&quot;:44.853709,&quot;lng&quot;&zwnj;&#8203;:-0.483573},{&quot;lat&quot;:4&zwnj;&#8203;4.80696,&quot;lng&quot;:-0.532&zwnj;&#8203;99},{&quot;lat&quot;:44.80696,&zwnj;&#8203;&quot;lng&quot;:-0.629078}],[[&zwnj;&#8203;{&quot;lat&quot;:44.841225,&quot;ln&zwnj;&#8203;g&quot;:-0.580036},{&quot;lat&quot;&zwnj;&#8203;:44.842236,&quot;lng&quot;:-0.&zwnj;&#8203;64696},{&quot;lat&quot;:44.805&zwnj;&#8203;615,&quot;lng&quot;:-0.63084}]&zwnj;&#8203;,[{&quot;lat&quot;:44.819868,&quot;&zwnj;&#8203;lng&quot;:-0.582811},{&quot;la&zwnj;&#8203;t&quot;:44.853709,&quot;lng&quot;:-&zwnj;&#8203;0.483573},{&quot;lat&quot;:44.&zwnj;&#8203;80696,&quot;lng&quot;:-0.53299&zwnj;&#8203;},{&quot;lat&quot;:44.80696,&quot;l&zwnj;&#8203;ng&quot;:-0.629078}]]]"}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561557574, "post_id": 56772458, "comment_id": 100104644, "body": "So it adds an array of arrays whilst it should only add arrays ..."}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1561558910, "post_id": 56772458, "comment_id": 100105557, "body": "How to chat please?"}], "answers": [{"tags": [], "owner": {"reputation": 1902, "user_id": 6002163, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/E7YSj.gif?s=128&g=1", "display_name": "Amadou Beye", "link": "https://stackoverflow.com/users/6002163/amadou-beye"}, "is_accepted": false, "score": 0, "last_activity_date": 1561554931, "last_edit_date": 1561554931, "creation_date": 1561554487, "answer_id": 56773588, "question_id": 56772458, "link": "https://stackoverflow.com/questions/56772458/how-to-parsefloat-strings-coming-from-an-observable/56773588#56773588", "title": "How To parseFloat() strings coming from an Observable?", "body": "<p>Bonjour,</p>\n\n<p>There is no <code>float</code> type in typescript so what you can do is to create a function that check for the content of any string and then convert it if this is a float as below:</p>\n\n<pre><code>getFloatValue(val) {\n    if (val.indexOf('.') &gt; -1) {\n        try {\n            eval(val);\n            return parseFloat(val);\n        }\n        catch(error) {\n            console.log('error');\n        }\n    }\n    return val;\n}\n</code></pre>\n\n<p>You can use this with each property of your object like this:</p>\n\n<pre><code>let lat = getFloatValue(rectangle[0].lat);\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561556699, "creation_date": 1561550876, "last_edit_date": 1561556699, "question_id": 56772458, "link": "https://stackoverflow.com/questions/56772458/how-to-parsefloat-strings-coming-from-an-observable", "title": "How To parseFloat() strings coming from an Observable?", "body": "<p>I have an issue trying to convert text to number for geoloc coordinates.\nMy model is: A site with Id etc... and an Array of points as a property. I decided not to create a relationship between site and points.</p>\n\n<p>So in my code:\n<strong>points</strong> is declared like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>points: Array&lt;any&gt; = [];\n</code></pre>\n\n<p><strong>rectangles</strong> is declared like this (an Array of Arrays):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>rectangles: Array&lt;Array&lt;LatLngLiteral&gt;&gt; = []; \n</code></pre>\n\n<p>I am \"looping\" on <strong>sites</strong> for a particular <strong>customer</strong> and am building the Array called <strong>rectangles</strong> to show it on google map. rectangle is composed by as many as Arrays that sites are coming from the DB. Here I have two sites and the rectangle Array is:</p>\n\n<pre><code>rectangles : [[\n[\n   {\"lat\":44.841225,\"lng\":-0.580036},\n   {\"lat\":44.842236,\"lng\":-0.64696},\n   {\"lat\":44.805615,\"lng\":-0.63084}\n],\n[\n   {\"lat\":44.819868,\"lng\":-0.582811},\n   {\"lat\":44.853709,\"lng\":-0.483573},\n   {\"lat\":44.80696,\"lng\":-0.53299},\n   {\"lat\":44.80696,\"lng\":-0.629078}\n]]] \n</code></pre>\n\n<p>The code to retrieve it is: </p>\n\n<pre><code>this.customerApi.getSites(this.currentUser.id)\n  .subscribe(response =&gt; {\n    this.sites = response;\n    this.rectangles.push(this.sites.map(s =&gt; s.points));\n  });\n}\n</code></pre>\n\n<p>Sites is like:</p>\n\n<pre><code>sites : \n[\n    {\n    \"siteName\":\"Site de Marseille\",\n    \"siteAdress1\":\"rue de blabla\",\n    \"siteAddress2\":\"string\",\n    \"siteCodPost\":\"13010\",\n    \"siteTown\":\"Marseille\",\n    \"points\":\n       [\n         {\"lat\":44.841225,\"lng\":-0.580036},\n         {\"lat\":44.842236,\"lng\":-0.64696},\n         {\"lat\":44.805615,\"lng\":-0.63084}\n        ],\n    \"id\":\"5d0ce7c4a06b07213a87a753\", \n    \"companyId\":\"5cd430745304a21b9464a219\",\n    \"customerId\":\"5cd430c65304a21b9464a21a\"`\n    }\n    ,\n    {\n\"siteName\":\"Site de Bordeaux\",\n\"siteAdress1\":\"rue de la  Garonne\",\n\"siteAddress2\":\"string\",\n\"siteCodPost\":\"31000\",\n\"siteTown\":\"Bordeau    x\",\n\"points\":\n    [\n        {\"lat\":44.819868,\"lng\":-0.582811},\n        {\"lat\":44.853709,\"lng\":-0.483573},\n        {\"lat\":44.80696,\"lng\":-0.53299},\n        {\"lat\":44.80696,\"lng\":-0.629078}\n    ],\n\"id\":\"5d0cf65fa06b07213a87a754\",\n\"companyId\":\"5cd430745304a21b9464a219\",\n\"customerId\":\"5cd430c65304a21b9464a21a\"}]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nPzS7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nPzS7.png\" alt=\"enter image description here\"></a></p>\n\n<p>The format of my <strong>rectangles</strong> array is good as another array like this with value hand written in the code show the rectangle on Google Map. Except maybe the number of square brackets ...</p>\n\n<p>I think this comes from data format.</p>\n\n<p>So I tried: <code>points: Array&lt;LatLngLiteral&gt; = [];</code> and it does not work.</p>\n\n<p>I have no idea where I could use the parseFloat() method to try (if necessary).</p>\n\n<p>Does any one have an precious idea to help me please?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7733291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e120ac93aee21613863e9a4eaa74807?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7733291/john"}, "edited": false, "score": 0, "creation_date": 1561551723, "post_id": 56772598, "comment_id": 100100834, "body": "thank you very much! It worked for me! Do you know how to fix the pagination problem too? - just the same way?"}, {"owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "reply_to_user": {"reputation": 33, "user_id": 7733291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e120ac93aee21613863e9a4eaa74807?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7733291/john"}, "edited": false, "score": 0, "creation_date": 1561551794, "post_id": 56772598, "comment_id": 100100874, "body": "Your paginator is not linked to the datasource, add this <code>this.listData.paginator = this.paginator;</code>"}, {"owner": {"reputation": 33, "user_id": 7733291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e120ac93aee21613863e9a4eaa74807?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7733291/john"}, "edited": false, "score": 0, "creation_date": 1561552019, "post_id": 56772598, "comment_id": 100101025, "body": "i&#39;ve already tried this one, but now even this works. thank you!"}], "tags": [], "owner": {"reputation": 4597, "user_id": 4606040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yAvf.png?s=128&g=1", "display_name": "Fabian K&#252;ng", "link": "https://stackoverflow.com/users/4606040/fabian-k%c3%bcng"}, "is_accepted": true, "score": 0, "last_activity_date": 1561551352, "creation_date": 1561551352, "answer_id": 56772598, "question_id": 56772346, "link": "https://stackoverflow.com/questions/56772346/angular6-problems-with-sorting-paginating-material-table/56772598#56772598", "title": "Angular6 Problems with sorting | paginating material-table", "body": "<p>Sorting this column doesn't work because Angular Material is trying to sort your table data based on the column name (which in this case is <code>dialectEntry</code>), but the actual data for this column is nested inside another property <code>element.dialectB.dialectEntry</code>. So Angular Material is looking for the data under <code>element.dialectEntry</code>, but since it is not there, the sorting is not working.</p>\n\n<p>In this case you need to write your own <code>sortingDataAccessor</code> and tell Angular Material where to look for the data. See the documentation <a href=\"https://material.angular.io/components/table/api#MatTableDataSource\" rel=\"nofollow noreferrer\">here</a> for the <code>sortingDataAccessor</code>.</p>\n\n<p>For your case this would look like this:</p>\n\n<pre><code>this.listData.sortingDataAccessor = (item, property) =&gt; {\n  if (property === 'dialectEntry') {\n    return item.dialectB.dialectEntry;\n  } else {\n    return item[property];\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7733291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e120ac93aee21613863e9a4eaa74807?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7733291/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 56772598, "answer_count": 1, "score": 1, "last_activity_date": 1561551352, "creation_date": 1561550501, "last_edit_date": 1561550902, "question_id": 56772346, "link": "https://stackoverflow.com/questions/56772346/angular6-problems-with-sorting-paginating-material-table", "title": "Angular6 Problems with sorting | paginating material-table", "body": "<p>I try to display a complex json structure (received from a REST endpoint) to my Angular6 material-data-table application.\nThis works so far, but I also try to include pagination and sorting into my application (no success at all).</p>\n\n<p>I tried all stackoverflow threads, that I found, but no given solution seemed to work. Maybe the problem is caused because I address the REST data wrongly (although I am able to access the data in the consructor), but I couldnt find out the problem. No error message gets displayed. All Imports should be okay.</p>\n\n<p>file: employee-list.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource, MatPaginator } from '@angular/material';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { Entry } from '../../interfaces/entry';\n\n\n@Component({\n  selector: 'app-employee-list',\n  templateUrl: './employee-list.component.html',\n  styleUrls: ['./employee-list.component.css']\n})\nexport class EmployeeListComponent implements OnInit {\n\n  typesafeEntries: Entry[];\n  listData: MatTableDataSource&lt;Entry&gt;;\n  displayedColumns: string[] = ['searched', 'german', 'dialectEntry', 'partOfSpeech', 'linguisticUsage', 'synonyms', 'actions'];\n\n  @ViewChild(MatSort) sort: MatSort;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n\n\n  constructor(private userService: UserService) {\n\n    this.userService.getCompleteSearchResults(\"SomeLanguageData1\", \"SomeLanguageData2\", \"wordToLookFor\")\n      .subscribe((resp: Entry[]) =&gt; {;\n\n        this.typesafeEntries = resp;\n        this.listData = new MatTableDataSource&lt;Entry&gt;(this.typesafeEntries);\n        this.listData.sort = this.sort;\n\n      });\n  }\n\n  ngOnInit() {  }\n\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;div class=\"mat-elevation-z8\"&gt;\n  &lt;mat-table [dataSource]=\"listData\" matSort&gt;\n    &lt;ng-container matColumnDef=\"searched\"&gt;\n     // some code\n    &lt;/ng-container&gt;\n\n\n    &lt;ng-container matColumnDef=\"german\"&gt;\n    // some code\n    &lt;/ng-container&gt;\n\n    &lt;!-- neue spalte: --&gt;\n    &lt;ng-container matColumnDef=\"dialectEntry\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;       // e.g. this table should become sorted.\n        Dialekt B\n      &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt;{{\n        element.dialectB.dialectEntry\n      }}&lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n\n\n\n\n\n    //from here on the code should no longer be important for the solution\n     //...\n\n    &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/mat-header-row&gt;\n    &lt;mat-row *matRowDef=\"let row; columns: displayedColumns\"&gt;&lt;/mat-row&gt;\n    &lt;!-- loading screen --&gt;\n    &lt;mat-footer-row\n      *matFooterRowDef=\"['loading']\"\n      [ngClass]=\"{ hide: listData != null }\"\n    &gt;&lt;/mat-footer-row&gt;\n    &lt;mat-footer-row\n      *matFooterRowDef=\"['noData']\"\n      [ngClass]=\"{ hide: !(listData != null &amp;&amp; listData.data.length == 0) }\"\n    &gt;&lt;/mat-footer-row&gt;\n    &lt;!-- &lt;mat-footer-row *matFooterRowDef=\"['noData']\" [ngClass]=\"{'hide':!(true == false)}\"&gt;&lt;/mat-footer-row&gt; --&gt;\n  &lt;/mat-table&gt;\n\n  &lt;mat-paginator\n    [pageSizeOptions]=\"[1, 3, 5, 10]\"\n    [pageSize]=\"5\"\n  &gt;&lt;/mat-paginator&gt;\n&lt;/div&gt;\n\n</code></pre>\n\n<p>consumed JSON:</p>\n\n<pre><code>[\n    {\n        \"dialectA\": {\n            \"dialectId\": \"5d1220343269a28de043eda9\",\n            \"dialectEntry\": \"House\",\n            \"dialectEntryLowerCase\": \"house\",\n            \"partOfSpeech\": {\n                \"partOfSpeechs\": [\n                    \"INTERJECTION\",\n                    \"ARTICLE\"\n                ]\n            },\n            \"linguisticUsage\": {\n                \"linguisticUsages\": [\n                    \"ACAD\",\n                    \"SCIENCE\"\n                ]\n            },\n            \"refToGermanId\": \"5d1220053269a28de043eda3\",\n            \"synonymIds\": []\n        },\n        \"german\": {\n            \"germanId\": \"5d1220053269a28de043eda3\",\n            \"germanEntry\": \"Haus\",\n            \"germanEntryLowerCase\": \"haus\",\n            \"reverseTranslations\": [\n                {\n                    \"reverseGerman2DialectLanguage\": \"dornbirnerisch\",\n                    \"reverseGerman2DialectIdList\": [\n                        \"5d1220343269a28de043eda9\"\n                    ]\n                },\n                {\n                    \"reverseGerman2DialectLanguage\": \"tirolerisch\",\n                    \"reverseGerman2DialectIdList\": [\n                        \"5d1221893269a28de043edaf\"\n                    ]\n                }\n            ]\n        },\n        \"dialectB\": {\n            \"dialectId\": \"5d1221893269a28de043edaf\",\n            \"dialectEntry\": \"person\",\n            \"dialectEntryLowerCase\": \"person\",\n            \"partOfSpeech\": {\n                \"partOfSpeechs\": [\n                    \"INTERJECTION\",\n                    \"ARTICLE\"\n                ]\n            },\n            \"linguisticUsage\": {\n                \"linguisticUsages\": [\n                    \"ACAD\",\n                    \"SCIENCE\"\n                ]\n            },\n            \"refToGermanId\": \"5d1220053269a28de043eda3\",\n            \"synonymIds\": []\n        }\n    },\n// end of first entry\n{...}, {...} ]\n\n</code></pre>\n\n<p>Expected result: when clicking on sort, the content of this column should be sorted. the same with pagination.</p>\n\n<p>here a screenshot: <a href=\"https://ibb.co/V9rhDw0\" rel=\"nofollow noreferrer\">screenshot from project</a></p>\n"}, {"tags": ["reactjs", "typescript", "mobx"], "comments": [{"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1561549908, "post_id": 56772007, "comment_id": 100099737, "body": "How the _ common.ts_ looks?"}, {"owner": {"reputation": 109, "user_id": 10473328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ANGvNjm_0iI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWKLFyZilksgLSlES3N_ONSk7ZYlg/mo/photo.jpg?sz=128", "display_name": "  Sined4ik", "link": "https://stackoverflow.com/users/10473328/sined4ik"}, "reply_to_user": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1561549971, "post_id": 56772007, "comment_id": 100099780, "body": "I described below (Common Store)"}, {"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1561551100, "post_id": 56772007, "comment_id": 100100424, "body": "Sorry, didn&#39;t notice it.."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 10473328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ANGvNjm_0iI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWKLFyZilksgLSlES3N_ONSk7ZYlg/mo/photo.jpg?sz=128", "display_name": "  Sined4ik", "link": "https://stackoverflow.com/users/10473328/sined4ik"}, "edited": false, "score": 0, "creation_date": 1561551475, "post_id": 56772523, "comment_id": 100100671, "body": "I have a file that has all of my instances , will it break anything? I updated code"}, {"owner": {"reputation": 109, "user_id": 10473328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ANGvNjm_0iI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWKLFyZilksgLSlES3N_ONSk7ZYlg/mo/photo.jpg?sz=128", "display_name": "  Sined4ik", "link": "https://stackoverflow.com/users/10473328/sined4ik"}, "edited": false, "score": 0, "creation_date": 1561552059, "post_id": 56772523, "comment_id": 100101056, "body": "I just want to understand how to do it correctly, maybe I\u2019m not properly structuring my stores? I used your first advice and everything works, but it looks like a crutch, I would like a more elegant solution."}, {"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "reply_to_user": {"reputation": 109, "user_id": 10473328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ANGvNjm_0iI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWKLFyZilksgLSlES3N_ONSk7ZYlg/mo/photo.jpg?sz=128", "display_name": "  Sined4ik", "link": "https://stackoverflow.com/users/10473328/sined4ik"}, "edited": false, "score": 0, "creation_date": 1561552560, "post_id": 56772523, "comment_id": 100101393, "body": "I&#39;m not sure why it looks that way to you but look at those projects: <a href=\"https://github.com/FormidableLabs/react-game-kit/blob/master/demo/game/stores/game-store.js#L23\" rel=\"nofollow noreferrer\">github.com/FormidableLabs/react-game-kit/blob/master/demo/ga&zwnj;&#8203;me/&hellip;</a>, <a href=\"https://github.com/fcsonline/react-transmission/blob/master/src/stores/index.js#L20-L22\" rel=\"nofollow noreferrer\">github.com/fcsonline/react-transmission/blob/master/src/stor&zwnj;&#8203;es/&hellip;</a> and so on."}], "tags": [], "owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "is_accepted": true, "score": 1, "last_activity_date": 1561551087, "creation_date": 1561551087, "answer_id": 56772523, "question_id": 56772007, "link": "https://stackoverflow.com/questions/56772007/property-does-not-exist-on-type-typeof-commonstore-mobx-react/56772523#56772523", "title": "Property does not exist on type &#39;typeof CommonStore&#39;. mobx-react", "body": "<p>You exported a class (<code>CommonStore</code>) but you're trying use it like an object that already created.</p>\n\n<p>You need to create the instance and then you could use it.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import commonStore from \"./common\";\n\nconst commonStoreInstance = new commonStore();\n\ncommonStoreInstance.setToken('token');\n</code></pre>\n\n<p>But probably you want the same instance wherever you <code>import</code> the <code>commonStore</code>. If so, you need to create the instance inside the module and export that.</p>\n\n<p>Like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class CommonStore {\n  @observable token = window.localStorage.getItem(\"jwt\");\n  constructor() {\n    reaction(\n      () =&gt; this.token,\n      token =&gt; {\n        if (token) {\n          localStorage.setItem(\"jwt\", token);\n        } else {\n          localStorage.removeItem(\"jwt\");\n        }\n      }\n    );\n  }\n\n  @action setToken(token: string) {\n    this.token = token;\n  }\n}\n\nexport const commonStore = new CommonStore();\n</code></pre>\n\n<p>Then </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import commonStore from \"./common\";\n\ncommonStore.setToken('token');\n</code></pre>\n\n<p><a href=\"https://k94n.com/es6-modules-single-instance-pattern\" rel=\"nofollow noreferrer\">https://k94n.com/es6-modules-single-instance-pattern</a></p>\n"}], "owner": {"reputation": 109, "user_id": 10473328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ANGvNjm_0iI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWKLFyZilksgLSlES3N_ONSk7ZYlg/mo/photo.jpg?sz=128", "display_name": "  Sined4ik", "link": "https://stackoverflow.com/users/10473328/sined4ik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "accepted_answer_id": 56772523, "answer_count": 1, "score": 0, "last_activity_date": 1561553796, "creation_date": 1561549370, "last_edit_date": 1561553796, "question_id": 56772007, "link": "https://stackoverflow.com/questions/56772007/property-does-not-exist-on-type-typeof-commonstore-mobx-react", "title": "Property does not exist on type &#39;typeof CommonStore&#39;. mobx-react", "body": "<p>I am new to TypeScript and I try to call an action from another class and I get such an error, maybe it\u2019s not possible to use functions through import but only through <code>@inject</code>? What could be the problem I do not understand</p>\n\n<h2>P.S. established <code>@types</code>:</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"@types/react\": \"^16.8.22\",\n\"@types/react-dom\": \"^16.8.4\",\n\"@types/react-router-dom\": \"^4.3.4\",\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n  observable,\n  action,\n  autorun,\n  set,\n  toJS,\n  extendObservable\n} from \"mobx\";\nimport commonStore from \"./common\";\n\nexport default class Authentication {\n  @action login = async() =&gt; {\n    this.inProgress = true;\n    this.errors = undefined;\n    try {\n      const token = await requestApi({\n        method: \"post\",\n        url: `/auth/login`,\n        data: {\n          login: this.username,\n          pass: this.password\n        }\n      });\n\n      commonStore.setToken(token); // Property 'setToken' does not exist on type 'typeof CommonStore'\n    } catch (error) {\n      axiosErrorHandler(error);\n    }\n  }\n}\n</code></pre>\n\n<p><strong>CommonStore</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default class CommonStore {\n  @observable token = window.localStorage.getItem(\"jwt\");\n  constructor() {\n    reaction(\n      () =&gt; this.token,\n      token =&gt; {\n        if (token) {\n          localStorage.setItem(\"jwt\", token);\n        } else {\n          localStorage.removeItem(\"jwt\");\n        }\n      }\n    );\n  }\n\n  @action setToken(token: string) {\n    this.token = token;\n  }\n}\n</code></pre>\n\n<p><strong>index.ts store</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Authentication from \"./models/authentication\";\nimport Common from \"./models/common\";\n\nclass ObservableListStore {\n  @observable authentication = new Authentication();\n  @observable common = new Common();\n}\n\nexport const store = new ObservableListStore();\n</code></pre>\n"}, {"tags": ["typescript", "cordova", "ionic-framework"], "comments": [{"owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "edited": false, "score": 0, "creation_date": 1561563632, "post_id": 56771971, "comment_id": 100108464, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17360924/securityexception-permission-denied-missing-internet-permission\">SecurityException: Permission denied (missing INTERNET permission?)</a>"}, {"owner": {"reputation": 1056, "user_id": 6021112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rQxH_dSzKcM/AAAAAAAAAAI/AAAAAAAAAQI/6UZH_HTT0c8/photo.jpg?sz=128", "display_name": "Manvender Singh Rathore", "link": "https://stackoverflow.com/users/6021112/manvender-singh-rathore"}, "edited": false, "score": 0, "creation_date": 1561629243, "post_id": 56771971, "comment_id": 100131099, "body": "If FileTransfer.upload() throwing error code 3 on Android. If the server is a Windows based server, try using another server. Also, don&#180;t forget to add these lines:  var options = new FileUploadOptions(); options.chunkedMode = false; options.headers = {       Connection: &quot;close&quot;    };"}], "answers": [{"tags": [], "owner": {"reputation": 2155, "user_id": 5909026, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-VWT4S_cML3I/AAAAAAAAAAI/AAAAAAAADdw/OpPjHPOydG4/photo.jpg?sz=128", "display_name": "Najam Us Saqib", "link": "https://stackoverflow.com/users/5909026/najam-us-saqib"}, "is_accepted": false, "score": 0, "last_activity_date": 1561627321, "creation_date": 1561627321, "answer_id": 56787887, "question_id": 56771971, "link": "https://stackoverflow.com/questions/56771971/i-am-getting-the-filetransfererror-error-code-3-while-uploading-images-to-a-serv/56787887#56787887", "title": "I am getting the FileTransferError error code 3 while uploading images to a server using ionic", "body": "<p>Try this:\nImport modelus:</p>\n\n<pre><code>import { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\n\n\nimageUpload(imagePath) {\n  const fileTransfer: FileTransferObject = this.transfer.create();\n  let options: FileUploadOptions = {\n      fileKey: 'image',\n      fileName: '.png',\n      chunkedMode: false,\n      //mimeType: \"image/jpeg\",\n    }\n    fileTransfer.upload(imagePath, 'Server-URL', options)\n      .then((data) =&gt; {\n      console.log(data+\" Uploaded Successfully\");          \n    }, (err) =&gt; {\n      console.log(err);\n    });\n}\n</code></pre>\n\n<p>Also try to give Internet Permission in your <code>config.xml</code> file.</p>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 6021112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rQxH_dSzKcM/AAAAAAAAAAI/AAAAAAAAAQI/6UZH_HTT0c8/photo.jpg?sz=128", "display_name": "Manvender Singh Rathore", "link": "https://stackoverflow.com/users/6021112/manvender-singh-rathore"}, "is_accepted": false, "score": 0, "last_activity_date": 1561628667, "creation_date": 1561628667, "answer_id": 56788297, "question_id": 56771971, "link": "https://stackoverflow.com/questions/56771971/i-am-getting-the-filetransfererror-error-code-3-while-uploading-images-to-a-serv/56788297#56788297", "title": "I am getting the FileTransferError error code 3 while uploading images to a server using ionic", "body": "<p>Permission android.name.INTERNET doesn't exist. Use this in config.xml or you can also put this into AndroidManifest.xml:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11702516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/782e7fc8ecdd69da0df20bbd72b710ec?s=128&d=identicon&r=PG&f=1", "display_name": "RandomFireBird", "link": "https://stackoverflow.com/users/11702516/randomfirebird"}, "is_accepted": true, "score": 0, "last_activity_date": 1561789562, "creation_date": 1561789562, "answer_id": 56815537, "question_id": 56771971, "link": "https://stackoverflow.com/questions/56771971/i-am-getting-the-filetransfererror-error-code-3-while-uploading-images-to-a-serv/56815537#56815537", "title": "I am getting the FileTransferError error code 3 while uploading images to a server using ionic", "body": "<p>Thank You for the answers everyone.\nI solved my error, but in much different way.\nFirst of all ,I didn't find AndroidManifest.xml in platforms/android</p>\n\n<p>I instead found a file android.json in platforms/android/android.json</p>\n\n<p>Going through the contents of the file I found the following code:</p>\n\n<pre><code>\"AndroidManifest.xml\": {\n        \"parents\": {\n          \"/manifest\": [\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.READ_CALENDAR\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.WRITE_CALENDAR\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.GET_ACCOUNTS\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.USE_CREDENTIALS\\\" /&gt;\",\n              \"count\": 1\n            }\n          ],\n          \"/*\": [\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.READ_CONTACTS\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.WRITE_CONTACTS\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.GET_ACCOUNTS\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.WRITE_EXTERNAL_STORAGE\\\" /&gt;\",\n              \"count\": 4\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.READ_EXTERNAL_STORAGE\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.ACCESS_COARSE_LOCATION\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.ACCESS_FINE_LOCATION\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-feature android:name=\\\"android.hardware.location.gps\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.ACCESS_NETWORK_STATE\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.BLUETOOTH\\\" /&gt;\",\n              \"count\": 1\n            },\n            {\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.INTERNET\\\" /&gt;\",\n              \"count\": 1\n            }\n          ],\n          \"application\": [],\n          \"/manifest/application\": [\n            {\n              \"xml\": \"&lt;provider android:authorities=\\\"${applicationId}.sharing.provider\\\" android:exported=\\\"false\\\" android:grantUriPermissions=\\\"true\\\" android:name=\\\"nl.xservices.plugins.FileProvider\\\"&gt;&lt;meta-data android:name=\\\"android.support.FILE_PROVIDER_PATHS\\\" android:resource=\\\"@xml/sharing_paths\\\" /&gt;&lt;/provider&gt;\",\n              \"count\": 1\n            }\n          ],\n          \"/*/application\": [\n            {\n              \"xml\": \"&lt;receiver android:enabled=\\\"true\\\" android:name=\\\"nl.xservices.plugins.ShareChooserPendingIntent\\\"&gt;&lt;intent-filter&gt;&lt;action android:name=\\\"android.intent.action.SEND\\\" /&gt;&lt;/intent-filter&gt;&lt;/receiver&gt;\",\n              \"count\": 1\n            }\n          ]\n        }\n      }\n</code></pre>\n\n<p>Please don't mind the closing brackets.</p>\n\n<p>But here I edited my code and added:</p>\n\n<pre><code>{\n              \"xml\": \"&lt;uses-permission android:name=\\\"android.permission.INTERNET\\\" /&gt;\",\n              \"count\": 1\n            }\n</code></pre>\n\n<p>This solved my problem</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13063696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ba6fab4c9c2796437faebe26502909?s=128&d=identicon&r=PG&f=1", "display_name": "TIARWAY", "link": "https://stackoverflow.com/users/13063696/tiarway"}, "is_accepted": false, "score": 0, "last_activity_date": 1586946530, "creation_date": 1586946530, "answer_id": 61226536, "question_id": 56771971, "link": "https://stackoverflow.com/questions/56771971/i-am-getting-the-filetransfererror-error-code-3-while-uploading-images-to-a-serv/61226536#61226536", "title": "I am getting the FileTransferError error code 3 while uploading images to a server using ionic", "body": "<p>maybe permission just not the problem at here \ni've same issue and i solve it with add read and write permission</p>\n\n<pre><code>this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE).then(\n  result =&gt; {\n    if (!result.hasPermission) {\n      this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE)\n    }\n  }\n)\nthis.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE).then(\n  result =&gt; {\n    if (!result.hasPermission) {\n      this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE)\n    }\n  }\n)\n</code></pre>\n\n<p>and install </p>\n\n<pre><code>cordova plugin add cordova-plugin-whitelist\ncordova prepare\n</code></pre>\n\n<p>and add this line at your config.xml</p>\n\n<pre><code>&lt;allow-navigation href=\"*\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11702516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/782e7fc8ecdd69da0df20bbd72b710ec?s=128&d=identicon&r=PG&f=1", "display_name": "RandomFireBird", "link": "https://stackoverflow.com/users/11702516/randomfirebird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 0, "accepted_answer_id": 56815537, "answer_count": 4, "score": 0, "last_activity_date": 1586946530, "creation_date": 1561549201, "question_id": 56771971, "link": "https://stackoverflow.com/questions/56771971/i-am-getting-the-filetransfererror-error-code-3-while-uploading-images-to-a-serv", "title": "I am getting the FileTransferError error code 3 while uploading images to a server using ionic", "body": "<p>I am successfully in uploading image from gallery.But I am struck while uploading images</p>\n\n<p>this is my code</p>\n\n<pre><code> pictureUpload(x){ // x is file:///storage/emulated/0/Download/palakkeni.jpg\n  if(this.network.noConnection()){\n          this.network.showNetworkAlert()\n      }else{\n          let loading = this.loadingCtrl.create({\n            spinner: 'bubbles',\n            content: 'Uploading your Picture...'\n          });\n          loading.present();\n          var fileArray = x.split(\"/\");\n          let len = fileArray.length;\n          var file = fileArray[len - 1];\n          let fileTransfer: FileTransferObject = this.transfer.create();;     \n          let option: FileUploadOptions = {\n            fileKey: 'img',\n            fileName: x,\n            mimeType: \"multipart/form-data\",\n            headers: {\n               authorization : 'e36051cb8ca82ee0Lolzippu123456*='\n            },\n            params: {\n               name: file,\n               id: this.empid\n            }\n          }\n          this.completed = false;\n          fileTransfer.upload(x, encodeURI(\"http://forehotels.com:3000/api/upload_employee_image\"), option, true)\n          .then((data) =&gt; {\n             this.completed=true;\n             loading.dismiss()\n             console.log(\"image uploaded\")\n           }, (err) =&gt; {\n             loading.dismiss()\n             console.log(err)\n          let alert = this.alertCtrl.create({\n             title: err.text(),\n             subTitle: err.json(),\n             buttons: ['Dismiss'],\n          });\n          alert.present();\n          });\n        this.view_picture = file;\n        this.picture=x\n        this.uploaded++              \n      }\n  }\n</code></pre>\n\n<p><em>The following is my error output</em></p>\n\n<pre><code>FileTransferError\nbody: null\ncode: 3\nexception: \"Permission denied (missing INTERNET permission?)\"\nhttp_status: null\nsource: \"file:///storage/emulated/0/Download/xyz.jpg\"\ntarget: \"http://companydomainname.com:3000/api/upload_employee_image\"\n</code></pre>\n\n<p><em>The following is my output of ionic info</em></p>\n\n<p>Ionic:</p>\n\n<p>Ionic CLI          : 5.1.0 (C:\\Users\\pramo\\AppData\\Roaming\\npm\\node_modules\\ionic)\n   Ionic Framework    : ionic-angular 3.9.2\n   @ionic/app-scripts : 3.2.4</p>\n\n<p>Cordova:</p>\n\n<p>Cordova CLI       : 9.0.0 (cordova-lib@9.0.1)\n   Cordova Platforms : android 8.0.0, browser 5.0.4\n   Cordova Plugins   : cordova-plugin-ionic-keyboard 2.1.2, cordova-plugin-ionic-webview 1.2.1, (and 18 other plugins)</p>\n\n<p>Utility:</p>\n\n<p>cordova-res : 0.4.0\n   native-run  : 0.2.6</p>\n\n<p>System:</p>\n\n<p>NodeJS : v10.15.3 (C:\\Program Files\\nodejs\\node.exe)\n   npm    : 6.4.1\n   OS     : Windows 10</p>\n\n<p><em>My cordova plugins are</em></p>\n\n<pre><code>cordova-android-support-gradle-release 3.0.0 \"cordova-android-support-gradle-release\"\n\ncordova-plugin-app-version 0.1.9 \"AppVersion\"\n\ncordova-plugin-calendar 5.1.0 \"Calendar\"\n\ncordova-plugin-contacts 3.0.1 \"Contacts\"\n\ncordova-plugin-device 2.0.2 \"Device\"\n\ncordova-plugin-file 6.0.1 \"File\"\n\ncordova-plugin-file-transfer 1.7.1 \"File Transfer\"\n\ncordova-plugin-filechooser 1.0.1 \"File Chooser\"\n\ncordova-plugin-filepath 1.0.2 \"FilePath\"\n\ncordova-plugin-geolocation 4.0.1 \"Geolocation\"\n\ncordova-plugin-googleplus 5.3.0 \"Google SignIn\"\n\ncordova-plugin-headercolor 1.0 \"HeaderColor\"\n\ncordova-plugin-inappbrowser 3.0.0 \"InAppBrowser\"\n\ncordova-plugin-ionic-keyboard 2.1.2 \"cordova-plugin-ionic-keyboard\"\n\ncordova-plugin-ionic-webview 1.2.1 \"cordova-plugin-ionic-webview\"\n\ncordova-plugin-nativestorage 2.3.1 \"NativeStorage\"\n\ncordova-plugin-network-information 2.0.1 \"Network Information\"\n\ncordova-plugin-splashscreen 5.0.2 \"Splashscreen\"\n\ncordova-plugin-whitelist 1.3.3 \"Whitelist\"\n\ncordova-plugin-x-socialsharing 5.4.0 \"SocialSharing\"\n\ncordova-plugin-x-toast 2.6.2 \"Toast\"\n\ncordova.plugins.diagnostic 4.0.7 \"Diagnostic\"\n\nes6-promise-plugin 4.1.0 \"Promise\"\n</code></pre>\n\n<p>Can somebody please guide me as to why I am getting this error and hopefully solve it ?</p>\n"}, {"tags": ["typescript", "nestjs", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 336, "user_id": 2376477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3c25b879d10af46db40e49f1c765b8?s=128&d=identicon&r=PG", "display_name": "Andrei Kamenskikh", "link": "https://stackoverflow.com/users/2376477/andrei-kamenskikh"}, "is_accepted": false, "score": 10, "last_activity_date": 1562079815, "creation_date": 1562079815, "answer_id": 56855327, "question_id": 56771768, "link": "https://stackoverflow.com/questions/56771768/how-to-transform-input-data-with-nestjs-and-typeorm/56855327#56855327", "title": "How to transform input data with NestJS and TypeORM", "body": "<p>Here is a small working example</p>\n\n<pre><code>  @UsePipes(new ValidationPipe({transform: true}))\n  @Get('test_input')\n  async testInput(@Query() data: UserRoleCreateDto): Promise&lt;any&gt; {\n\n    return data;\n  }\n</code></pre>\n\n<p>and checking in bash:</p>\n\n<pre><code>curl 'http://localhost:3060/test_input?name=hello'\n\n{\"name\":\"HELLO\"}\n</code></pre>\n\n<p>Check that you have <code>ValidationPipe</code> decorator and especially <code>transform: true</code> option, without these it doesn't work. <code>transform: true</code> automatically transforms input data to the class instance.</p>\n\n<p>More about validation on the nestjs documentation page - <a href=\"https://docs.nestjs.com/techniques/validation\" rel=\"noreferrer\">link</a></p>\n\n<p>Also, just in case, instead of <code>@Query()</code> decorator you can use <code>@Body()</code> for POST data or <code>@Param()</code> for URL parameters</p>\n"}, {"tags": [], "owner": {"reputation": 486, "user_id": 7027615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9WNHb.jpg?s=128&g=1", "display_name": "Haseeb Burki", "link": "https://stackoverflow.com/users/7027615/haseeb-burki"}, "is_accepted": false, "score": 3, "last_activity_date": 1570822523, "last_edit_date": 1592644375, "creation_date": 1567756509, "answer_id": 57817898, "question_id": 56771768, "link": "https://stackoverflow.com/questions/56771768/how-to-transform-input-data-with-nestjs-and-typeorm/57817898#57817898", "title": "How to transform input data with NestJS and TypeORM", "body": "<p>You can also use TypeORM's entity listeners.</p>\n<h1>@BeforeInsert</h1>\n<p>You can define a method with any name in entity and mark it with @BeforeInsert and TypeORM will call it before the entity is inserted using repository/manager save.</p>\n<pre class=\"lang-js prettyprint-override\"><code>@Entity()\nexport class User {\n    \n    @BeforeInsert()\n    nameToUpperCase() {\n        this.email = this.email.toLowerCase()\n        this.name = this.name.toUpperCase();\n    }\n}\n</code></pre>\n<p>Source <a href=\"https://github.com/typeorm/typeorm/blob/master/docs/listeners-and-subscribers.md\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 185, "user_id": 3665822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/0anqf.jpg?s=128&g=1", "display_name": "Jornve", "link": "https://stackoverflow.com/users/3665822/jornve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3608, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1570822523, "creation_date": 1561548520, "question_id": 56771768, "link": "https://stackoverflow.com/questions/56771768/how-to-transform-input-data-with-nestjs-and-typeorm", "title": "How to transform input data with NestJS and TypeORM", "body": "<p>I want to create functionality where I can transform incoming data before it hits the database. Let's say that we want to make sure that when a new user is created, the firstName and lastName attribute values are always starting with a capital letter. Or another great example is to prevent login issues and store the users email address always in lowercase letters. </p>\n\n<p>I've took a look at the pipe documentation of nestJS but it's to generic. I want to be able to specify which fields needs transformation and I don't want to create a pipe for each attribute or endpoint that needs transformation. </p>\n\n<p>I've also tried the @Transform decorator form the 'class-transformer' package but this doesn't seems to work. </p>\n\n<pre><code>export class UserRoleCreateDto {\n  @IsDefined()\n  @IsString()\n  @IsNotEmpty()\n  @Transform((name) =&gt; name.toUpperCase())\n  readonly name;\n}\n</code></pre>\n\n<p>Expected result should be the name in uppercase letters but it's not. </p>\n\n<p>Anyone any ideas or examples how to implement proper input transformation for NestJS / TypeORM before it hits the database? </p>\n\n<p>Thanks for your time!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "event-handling", "spread-syntax"], "comments": [{"owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1561551316, "post_id": 56771766, "comment_id": 100100571, "body": "plase show what is <code>onChange</code>"}, {"owner": {"reputation": 358, "user_id": 8428397, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bf50NTekfFc/AAAAAAAAAAI/AAAAAAAACY8/aiM7TCnu8g4/photo.jpg?sz=128", "display_name": "MohammadReza Khedri", "link": "https://stackoverflow.com/users/8428397/mohammadreza-khedri"}, "edited": false, "score": 0, "creation_date": 1561551727, "post_id": 56771766, "comment_id": 100100837, "body": "Please put parent component snippet code that send <code>onChange</code> prop to this current component."}, {"owner": {"reputation": 1, "user_id": 8832793, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nvr4HsQXmkg/AAAAAAAAAAI/AAAAAAAAAFk/zW2uALlpyNw/photo.jpg?sz=128", "display_name": "Berkan", "link": "https://stackoverflow.com/users/8832793/berkan"}, "edited": false, "score": 0, "creation_date": 1561552158, "post_id": 56771766, "comment_id": 100101126, "body": "Added the missing onChange prop"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 1, "creation_date": 1561552608, "post_id": 56771766, "comment_id": 100101430, "body": "How is it not working? Any errors? What debugging have you done? Where have you added breakpoints and console.logs? These should always be included"}, {"owner": {"reputation": 1, "user_id": 8832793, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nvr4HsQXmkg/AAAAAAAAAAI/AAAAAAAAAFk/zW2uALlpyNw/photo.jpg?sz=128", "display_name": "Berkan", "link": "https://stackoverflow.com/users/8832793/berkan"}, "edited": false, "score": 0, "creation_date": 1561553998, "post_id": 56771766, "comment_id": 100102321, "body": "As debugging i&#39;ve tried second snippet i&#39;ve posted (it works that way), now added the <code>console.log(event.currentTarget)</code>"}], "owner": {"reputation": 1, "user_id": 8832793, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nvr4HsQXmkg/AAAAAAAAAAI/AAAAAAAAAFk/zW2uALlpyNw/photo.jpg?sz=128", "display_name": "Berkan", "link": "https://stackoverflow.com/users/8832793/berkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561553752, "creation_date": 1561548516, "last_edit_date": 1561553752, "question_id": 56771766, "link": "https://stackoverflow.com/questions/56771766/event-handler-for-onkeydown-doesnt-work-properly-when-spread-operator-is-used", "title": "Event handler for onKeyDown doesn&#39;t work properly when spread operator is used", "body": "<p>I am trying to reset value of an <code>&lt;input&gt;</code> with escape key. I'm using spread operator to modify the event object parameter I'm sending.</p>\n\n<p>Why could this be not working, but the second snippet does?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>handleKeyDown: React.KeyboardEventHandler&lt;HTMLInputElement&gt; = (event) =&gt; {\n    const {onChange, onKeyDown} = this.props;\n\n    if (event.key === KEYBOARD_EVENT_KEY.ESCAPE) {\n      onChange({\n        ...event,\n        currentTarget: {\n          ...event.currentTarget,\n          value: \"\"\n        }\n      });\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n</code></pre>\n\n<p>Second snippet:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>handleKeyDown: React.KeyboardEventHandler&lt;HTMLInputElement&gt; = (event) =&gt; {\n    const {onChange, onKeyDown} = this.props;\n\n    if (event.key === KEYBOARD_EVENT_KEY.ESCAPE) {\n      const newEvent = {...event};\n      newEvent.currentTarget.value = \"\";\n\n      onChange(newEvent);\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n</code></pre>\n\n<p>Edit: This is the function for onChange prop which comes from the parent  component. Added a consolelog.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>handleOnChange: React.ReactEventHandler&lt;HTMLInputElement&gt; = event =&gt; {\n  const { value, name } = event.currentTarget;\n\n  console.log(event.currentTarget);\n\n  this.setState(prevState =&gt; ({\n    ...prevState,\n    [name]: value\n  }));\n};\n</code></pre>\n\n<p>console:</p>\n\n<pre><code>value: \"\"\n__reactEventHandlers$psprxavxig:\n    autoComplete: \"off\"\n    autoCorrect: \"off\"\n    className: \"asd-input\"\n    disabled: undefined\n    id: \"asd-zxc-form-length-input\"\n    max: undefined\n    min: 0\n    name: \"length\"\n    onBlur: undefined\n    onChange: \u0192 handleChange(event)\n    onFocus: undefined\n    onKeyDown: \u0192 (event)\n    onKeyUp: undefined\n    placeholder: \"Length\"\n    step: undefined\n    type: \"number\"\n    value: \"1231\"\n    __proto__: Object\n__reactInternalInstance$psprxavxig: FiberNode\n    actualDuration: 0.0549999822396785\n    actualStartTime: 353616.4250000147\n    alternate: FiberNode {tag: 5, key: null, elementType: \"input\", type: \"input\", stateNode: input#asd-zxc-form-length-input.asd-input, \u2026}\n    child: null\n    childExpirationTime: 0\n    contextDependencies: null\n    effectTag: 4\n    elementType: \"input\"\n    expirationTime: 0\n    firstEffect: null\n    index: 0\n    key: null\n    lastEffect: null\n    memoizedProps: {className: \"asd-input\", id: \"asd-zxc-form-length-input\", name: \"length\", type: \"number\", step: undefined, \u2026}\n    memoizedState: null\n    mode: 4\n    nextEffect: FiberNode {tag: 1, key: null, elementType: \u0192, type: \u0192, stateNode: asdInput, \u2026}\n    pendingProps: {className: \"asd-input\", id: \"asd-zxc-form-length-input\", name: \"length\", type: \"number\", step: undefined, \u2026}\n    ref: null\n    return: FiberNode {tag: 5, key: null, elementType: \"div\", type: \"div\", stateNode: div.asd-input-wrapper, \u2026}\n    selfBaseDuration: 0.004999979864805937\n    sibling: null\n    stateNode: input#asd-zxc-form-length-input.asd-input\n    tag: 5\n    treeBaseDuration: 0.004999979864805937\n    type: \"input\"\n    updateQueue: null\n    _debugHookTypes: null\n    _debugID: 242\n    _debugIsCurrentlyTiming: false\n    _debugOwner: FiberNode {tag: 1, key: null, elementType: \u0192, type: \u0192, stateNode: asdInput, \u2026}\n    _debugSource: null\n    __proto__: Object\n_valueTracker:\n    getValue: \u0192 ()\n    setValue: \u0192 (value)\n    stopTracking: \u0192 ()\n    __proto__: Object\n_wrapperState:\n    controlled: true\n    initialChecked: undefined\n    initialValue: \"\"\n    __proto__: Object\n__proto__: Object\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "jestjs", "nestjs"], "comments": [{"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "edited": false, "score": 0, "creation_date": 1607346261, "post_id": 56771716, "comment_id": 115234719, "body": "It seems caused by <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/42455\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/42455</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2818, "user_id": 3743683, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a2184dc575adac6e364c25d1708397d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhyudit Jain", "link": "https://stackoverflow.com/users/3743683/abhyudit-jain"}, "edited": false, "score": 0, "creation_date": 1561974255, "post_id": 56797311, "comment_id": 100218825, "body": "I changed it to mockImplementation, but still the same issue."}, {"owner": {"reputation": 80549, "user_id": 123671, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/23fc4556be14017796d38579dd4778ab?s=128&d=identicon&r=PG", "display_name": "mikemaccana", "link": "https://stackoverflow.com/users/123671/mikemaccana"}, "edited": false, "score": 0, "creation_date": 1588275622, "post_id": 56797311, "comment_id": 108844432, "body": "This is better as a comment than an answer."}], "tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1561662399, "creation_date": 1561662399, "answer_id": 56797311, "question_id": 56771716, "link": "https://stackoverflow.com/questions/56771716/jest-mock-tohavebeencalledwith-expecting-different-arguments/56797311#56797311", "title": "jest mock toHaveBeenCalledWith expecting different arguments", "body": "<p>Not 100% sure ob this, but I think it has to do with <a href=\"https://jestjs.io/docs/en/jest-object.html#jestspyonobject-methodname\" rel=\"nofollow noreferrer\">how the jest.spyOn method calls the function</a>. It may be calling it both times with the object, for some reason, but again, not 100% sure.</p>\n"}], "owner": {"reputation": 2818, "user_id": 3743683, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a2184dc575adac6e364c25d1708397d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhyudit Jain", "link": "https://stackoverflow.com/users/3743683/abhyudit-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2772, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561662399, "creation_date": 1561548344, "question_id": 56771716, "link": "https://stackoverflow.com/questions/56771716/jest-mock-tohavebeencalledwith-expecting-different-arguments", "title": "jest mock toHaveBeenCalledWith expecting different arguments", "body": "<p>I am testing this function in <code>TripService</code>:</p>\n\n<pre><code>async createAndMapTrips&lt;T extends ITripEntity&gt;(\n        driver: DriverEntity,\n        entities: T[],\n        intervalInMinutes: number = 10,\n    ): Promise&lt;[TripEntity[], T[]]&gt; {\n        const trips: TripEntity[] = [];\n\n        const [tripsDb] = await this.tripRepository.getAndCountTrips(driver, {\n            driverId: driver.driverId,\n            fromEndTime: moment.utc(entities[0].timestamp).subtract(intervalInMinutes, 'minutes').toISOString(),\n            toEndTime: moment.utc(entities[entities.length - 1].timestamp).add(intervalInMinutes, 'minutes').toISOString(),\n        });\n\n        this.logger.log(tripsDb);\n\n        return [\n            trips,\n            entities.map((entity: T, idx: number) =&gt; {\n                let trip: TripEntity = this.findLastTripWithinRangeFromEntity(trips, entity);\n                if (!trip) {\n                    trip = this.findLastTripWithinRangeFromEntity(tripsDb, entity);\n                    if (!trip) {\n                        this.logger.log('Trip does not exist, creating new trip');\n                        trip = this.tripRepository.create({\n                            driver,\n                            id: this.generateRandomTripId(),\n                            startTime: moment.utc(entity.timestamp).toISOString(),\n                            endTime: moment.utc(entity.timestamp).toISOString(),\n                        });\n                    }\n                    trips.push(trip);\n                }\n                trip.endTime = moment.utc(entity.timestamp).toISOString();\n                entity.trip = trip;\n                return entity;\n            }),\n        ];\n    }\n\n    private findLastTripWithinRangeFromEntity&lt;T extends ITripEntity&gt;(trips: TripEntity[], entity: T, intervalInMinutes: number = 10): TripEntity {\n        return findLast(\n            trips,\n            ((t: TripEntity) =&gt;\n                moment.utc(entity.timestamp).isSameOrAfter(moment.utc(t.startTime), 'milliseconds')\n                &amp;&amp; moment.utc(entity.timestamp).diff(moment.utc(t.endTime), 'minutes') &lt;= intervalInMinutes),\n        );\n    }\n</code></pre>\n\n<p>This is my test:</p>\n\n<pre><code>describe('TripService.createAndMapTrips()', () =&gt; {\n    const entities: ITripEntity[] = [\n      { timestamp: '2019-05-07T11:10:00.000Z', trip: null },\n    ];\n\n    const driver: DriverEntity = plainToClass(DriverEntity, {\n      id: 1,\n      driverId: 'one',\n      clientId: 'one',\n    });\n\n    const tripsDb: TripEntity[] = plainToClass(TripEntity, [\n      { id: '1', startTime: '2019-05-07T10:50:00.000Z', endTime: '2019-05-07T11:01:00.000Z' },\n      // this should be selected as it is the last one according to time\n      { id: '2', startTime: '2019-05-07T10:55:00.000Z', endTime: '2019-05-07T11:06:00.000Z' },\n    ]);\n\n    const result: [TripEntity[], ITripEntity[]] = [\n      plainToClass(TripEntity, [\n        { id: '2', startTime: '2019-05-07T10:55:00.000Z', endTime: '2019-05-07T11:10:00.000Z' },\n      ]),\n      [{\n        timestamp: '2019-05-07T11:10:00.000Z', trip: plainToClass(TripEntity, {\n          id: '2',\n          startTime: '2019-05-07T10:55:00.000Z',\n          endTime: '2019-05-07T11:10:00.000Z',\n        }),\n      }],\n    ];\n\n    it('should map existing trips if the trips already exist within the time range requested', async () =&gt; {\n      tripRepositoryMock.getAndCountTrips.mockReturnValue([[tripsDb], 2]);\n\n      const findLastTripWithinRangeFromEntity = jest.spyOn(TripService.prototype as any, 'findLastTripWithinRangeFromEntity');\n\n      findLastTripWithinRangeFromEntity\n        .mockReturnValue(plainToClass(TripEntity, {\n          id: '2',\n          startTime: '2019-05-07T10:55:00.000Z',\n          endTime: '2019-05-07T11:06:00.000Z',\n        }))\n        .mockReturnValueOnce(undefined);\n\n      await expect(service.createAndMapTrips(driver, entities)).resolves.toEqual(result);\n      expect(tripRepositoryMock.getAndCountTrips).toHaveBeenCalledTimes(1);\n      expect(tripRepositoryMock.getAndCountTrips).toHaveBeenCalledWith(driver, {\n        driverId: driver.driverId,\n        fromEndTime: moment.utc(entities[0].timestamp).subtract(10, 'minutes').toISOString(),\n        toEndTime: moment.utc(entities[entities.length - 1].timestamp).add(10, 'minutes').toISOString(),\n      });\n      expect(findLastTripWithinRangeFromEntity).toHaveBeenCalledTimes(2);\n      expect(findLastTripWithinRangeFromEntity).toHaveBeenNthCalledWith(1, [], entities[0]);\n      expect(findLastTripWithinRangeFromEntity).toHaveBeenNthCalledWith(2, tripsDb, entities[0]);\n      expect(findLastTripWithinRangeFromEntity).toHaveBeenCalledWith([], entities[0]);\n\n      expect(tripRepositoryMock.create).toHaveBeenCalledTimes(0);\n    });\n});\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code> \u25cf TripService \u203a TripService.createAndMapTrips() \u203a should map existing trips if the trips already exist within the time range requested\n\n    expect(jest.fn()).toHaveBeenNthCalledWith(expected)\n\n    Expected mock function first call to have been called with:\n      []\n    as argument 1, but it was called with\n      [{\"endTime\": \"2019-05-07T11:10:00.000Z\", \"id\": \"2\", \"startTime\": \"2019-05-07T10:55:00.000Z\"}].\n\n    Difference:\n\n    - Expected\n    + Received\n\n    - Array []\n    + Array [\n    +   TripEntity {\n    +     \"endTime\": \"2019-05-07T11:10:00.000Z\",\n    +     \"id\": \"2\",\n    +     \"startTime\": \"2019-05-07T10:55:00.000Z\",\n    +   },\n    + ]\n\n      415 |       });\n      416 |       expect(findLastTripWithinRangeFromEntity).toHaveBeenCalledTimes(2);\n    &gt; 417 |       expect(findLastTripWithinRangeFromEntity).toHaveBeenNthCalledWith(1, [], entities[0]);\n          |                                                 ^\n      418 |       expect(findLastTripWithinRangeFromEntity).toHaveBeenNthCalledWith(2, tripsDb, entities[0]);\n      419 |       expect(findLastTripWithinRangeFromEntity).toHaveBeenCalledWith([], entities[0]);\n      420 |\n\n      at Object.&lt;anonymous&gt; (trip/trip.service.spec.ts:417:49)\n      at fulfilled (trip/trip.service.spec.ts:4:58)\n</code></pre>\n\n<p>I am clearly setting the mock returned value and according to the logic the first call to <code>findLastTripWithinRangeFromEntity</code> should be made with <code>[]</code> and second call with the <code>tripsDb</code> but it gets called with different value.</p>\n\n<p>I can't seem to find the cause.</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["angular", "typescript", "loops", "angular-ngmodel"], "comments": [{"owner": {"reputation": 415, "user_id": 7568271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531faeac7fa42bbb2d488dbd548c25dc?s=128&d=identicon&r=PG&f=1", "display_name": "macphilips", "link": "https://stackoverflow.com/users/7568271/macphilips"}, "edited": false, "score": 0, "creation_date": 1561548392, "post_id": 56771418, "comment_id": 100098801, "body": "check out this answer: <a href=\"https://stackoverflow.com/questions/42958114/angular2-reactive-form-containing-a-list\" title=\"angular2 reactive form containing a list\">stackoverflow.com/questions/42958114/&hellip;</a>"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1561548404, "post_id": 56771418, "comment_id": 100098813, "body": "<a href=\"https://angular.io/guide/forms-overview\" rel=\"nofollow noreferrer\">angular.io/guide/forms-overview</a>. I downvoted because I think you has not read any docs"}], "answers": [{"tags": [], "owner": {"reputation": 3723, "user_id": 1209097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dkgb.jpg?s=128&g=1", "display_name": "ysf", "link": "https://stackoverflow.com/users/1209097/ysf"}, "is_accepted": false, "score": 0, "last_activity_date": 1561547937, "creation_date": 1561547937, "answer_id": 56771622, "question_id": 56771418, "link": "https://stackoverflow.com/questions/56771418/how-to-read-the-input-from-the-user-which-is-iterating-over-array/56771622#56771622", "title": "How to read the input from the user which is iterating over array", "body": "<p>Although this is not angular way of doing this, you can use <code>ElemenRef</code> to query all inputs.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(private elRef: ElementRef) { }\n\nsubmitFunction() {\n  const list: NodeList = this.elRef.nativeElement.querySelectorAll(\"input\");\n\n  list.forEach((el: HTMLInputElement, idx) =&gt; {\n    console.log(`el${idx}: ${el.value}`);\n  });\n}\n</code></pre>\n\n<p>here is a working <a href=\"https://stackblitz.com/edit/input-tag-iterating-over-array-pfovrj\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<p>but you should definitely take a look at <a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">ReactiveForms</a></p>\n"}, {"comments": [{"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1561548555, "post_id": 56771697, "comment_id": 100098915, "body": "on the ngOnInit(){this.arrayElements=[&quot;listElementOne&quot;,&quot;listElement&zwnj;&#8203;Two&quot;,&quot;listElementThr&zwnj;&#8203;ee&quot;,&quot;listElementFour&zwnj;&#8203;&quot;,&quot;listElementFive&quot;,&zwnj;&#8203;&quot;listElementSix&quot;]} i am defining a list please look on to the code"}], "tags": [], "owner": {"reputation": 11, "user_id": 9011065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c6f3d5096893241bac68b01bc7b932?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchel Abrahams", "link": "https://stackoverflow.com/users/9011065/mitchel-abrahams"}, "is_accepted": false, "score": 0, "last_activity_date": 1561548266, "creation_date": 1561548266, "answer_id": 56771697, "question_id": 56771418, "link": "https://stackoverflow.com/questions/56771418/how-to-read-the-input-from-the-user-which-is-iterating-over-array/56771697#56771697", "title": "How to read the input from the user which is iterating over array", "body": "<p>Can you give us a bit more information here, what is the response that you are getting at </p>\n\n<pre><code>&lt;P&gt;{{arrayitems}}&lt;/P&gt;.\n</code></pre>\n\n<p>i'm guessing its undifined?</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 8562140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsWbLV_Gz8E/AAAAAAAAAAI/AAAAAAAACME/jXIvOjjbmM0/photo.jpg?sz=128", "display_name": "Shridhar Sharma", "link": "https://stackoverflow.com/users/8562140/shridhar-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1561548425, "creation_date": 1561548425, "answer_id": 56771736, "question_id": 56771418, "link": "https://stackoverflow.com/questions/56771418/how-to-read-the-input-from-the-user-which-is-iterating-over-array/56771736#56771736", "title": "How to read the input from the user which is iterating over array", "body": "<p>You need to store the values in a seperate array, then use ngModel to bind the values.</p>\n\n<p>Following is the updated app.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent implements OnInit  {\n  arrayElements : any;\n\n  items: string[] = [];\n\n  ngOnInit(){\n    this.arrayElements=[\"listElementOne\",\"listElementTwo\",\"listElementThree\",\"listElementFour\",\"listElementFive\",\"listElementSix\"];\n  }\n  submitFunction(){\n    console.log(this.items);\n  }\n}\n</code></pre>\n\n<p>and app.component.html</p>\n\n<pre><code>&lt;div&gt;\n  &lt;div *ngFor=\"let arrayitems of arrayElements;let i = index;\"&gt;\n    &lt;P&gt;{{arrayitems}}&lt;/P&gt;\n    &lt;input type =\"text\" [(ngModel)]=\"items[i]\" placeholder=\"{{arrayitems}}\"&gt;\n  &lt;/div&gt;\n  &lt;button (click)=\"submitFunction()\" style=\"margin-top:10px\"&gt;CLICK ME!&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I've also updated your code here <a href=\"https://stackblitz.com/edit/input-tag-iterating-over-array-2fezah\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/input-tag-iterating-over-array-2fezah</a></p>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "is_accepted": false, "score": 0, "last_activity_date": 1561548501, "creation_date": 1561548501, "answer_id": 56771762, "question_id": 56771418, "link": "https://stackoverflow.com/questions/56771418/how-to-read-the-input-from-the-user-which-is-iterating-over-array/56771762#56771762", "title": "How to read the input from the user which is iterating over array", "body": "<p>Assign unique ids to each input field.</p>\n\n<pre><code>&lt;input type =\"text\" id={{arrayitems}} placeholder=\"{{arrayitems}}\"&gt;\n</code></pre>\n\n<p>In submit function find elements by id and read their contents from the \"value\" property.</p>\n\n<pre><code>for (const elementId of this.arrayElements) {\n    const element = &lt;HTMLInputElement&gt;document.getElementById(elementId)\n    const content = element.value\n    console.log(content)\n}\n</code></pre>\n\n<p>Seems to work, though I have no idea what that \"arrayItems\" syntax is in app.component.html</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 5445268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-q2hKBDNOQpg/AAAAAAAAAAI/AAAAAAAAAA8/VRW4zV9xv5M/photo.jpg?sz=128", "display_name": "Marc Moldovan", "link": "https://stackoverflow.com/users/5445268/marc-moldovan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561553140, "creation_date": 1561553140, "answer_id": 56773182, "question_id": 56771418, "link": "https://stackoverflow.com/questions/56771418/how-to-read-the-input-from-the-user-which-is-iterating-over-array/56773182#56773182", "title": "How to read the input from the user which is iterating over array", "body": "<p>This is the app.component.html where I add a new change method for the input field.</p>\n\n<pre><code>&lt;div&gt;\n  &lt;div *ngFor=\"let arrayitems of arrayElements\"&gt;\n    &lt;P&gt;{{arrayitems}}&lt;/P&gt;\n    &lt;input type =\"text\" (change)=\"inputChange($event, arrayitems)\" \n           placeholder=\"{{arrayitems}}\"&gt;\n  &lt;/div&gt;\n  &lt;button (click)=\"submitFunction()\" style=\"margin-top:10px\"&gt;CLICK ME! \n  &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In app.component.ts we can define a the input change method which will assign the input value to the result where the key is the element name. In submit method we filter the result and return a list o results.</p>\n\n<pre><code>export class AppComponent implements OnInit  {\n  arrayElements : any;\n  result = {};\n\n  ngOnInit(){\n    this.arrayElements= [\"listElementOne\",\"listElementTwo\",\"listElementThree\",\"listElementFour\",\"listElementFive\",\"listElementSix\"];\n  }\n  inputChange(e, itemName) {\n    this.result[itemName] = e.target.value\n  }\n   submitFunction(){\n    const submitResult = this.arrayElements.map(element =&gt; {\n      if (this.result[element]) {\n        return this.result[element];\n      }\n    })\n    .filter(e =&gt; !!e)\n\n    console.log(submitResult)\n    alert(\"Function Called\");\n  }\n}\n</code></pre>\n\n<p>Hopefully it helps you!</p>\n"}], "owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 1, "accepted_answer_id": 56771736, "answer_count": 5, "score": -1, "last_activity_date": 1561553140, "creation_date": 1561547261, "last_edit_date": 1561547690, "question_id": 56771418, "link": "https://stackoverflow.com/questions/56771418/how-to-read-the-input-from-the-user-which-is-iterating-over-array", "title": "How to read the input from the user which is iterating over array", "body": "<p>I have a list which is iterating over array in which there is a input tag how to read the values from the text box after clicking on button where the input box are generated from the length of the list </p>\n\n<pre><code>&lt;div&gt;\n  &lt;div *ngFor=\"let arrayitems of arrayElements\"&gt;\n    &lt;P&gt;{{arrayitems}}&lt;/P&gt;\n    &lt;input type =\"text\" placeholder=\"{{arrayitems}}\"&gt;\n  &lt;/div&gt;\n  &lt;button (click)=\"submitFunction()\" style=\"margin-top:10px\"&gt;CLICK ME!&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TypeScript:</strong></p>\n\n<pre><code> arrayElements : any;\n\n  ngOnInit(){\n    this.arrayElements=[\"listElementOne\",\"listElementTwo\",\"listElementThree\",\"listElementFour\",\"listElementFive\",\"listElementSix\"];\n  }\n  submitFunction(){\n    alert(\"Function Called\");\n    console.log(\"print all the values taken from the input tag\");\n\n  }\n</code></pre>\n\n<p>Stack Blitz Link <a href=\"https://stackblitz.com/edit/input-tag-iterating-over-array\" rel=\"nofollow noreferrer\">link to edit</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material", "material-design"], "comments": [{"owner": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1561546152, "post_id": 56771016, "comment_id": 100097451, "body": "what exactly will this checkbox do?"}, {"owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "reply_to_user": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1561546182, "post_id": 56771016, "comment_id": 100097469, "body": "as it states in the title filter the table."}, {"owner": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1561546485, "post_id": 56771016, "comment_id": 100097666, "body": "Ok. What will happen (in table) if checkbox is in checked state and not unchecked state?"}, {"owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "reply_to_user": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1561546552, "post_id": 56771016, "comment_id": 100097713, "body": "i get an error trim is undefiend when i use the [checked] in the checkbox.                     when i use the (onclick) nothing happends"}, {"owner": {"reputation": 3723, "user_id": 1209097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dkgb.jpg?s=128&g=1", "display_name": "ysf", "link": "https://stackoverflow.com/users/1209097/ysf"}, "edited": false, "score": 0, "creation_date": 1561546726, "post_id": 56771016, "comment_id": 100097807, "body": "try <code>(onclick)=&quot;doFilter(&#39;RG&#39;)&quot;</code>"}, {"owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "edited": false, "score": 0, "creation_date": 1561546970, "post_id": 56771016, "comment_id": 100097940, "body": "nothing happends"}, {"owner": {"reputation": 4725, "user_id": 9931092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dDivw.jpg?s=128&g=1", "display_name": "Amit Baranes", "link": "https://stackoverflow.com/users/9931092/amit-baranes"}, "edited": false, "score": 0, "creation_date": 1561549368, "post_id": 56771016, "comment_id": 100099415, "body": "Please edit this example with your issue : <a href=\"https://stackblitz.com/edit/mat-table-filter-by-column-uzrzuv\" rel=\"nofollow noreferrer\">stackblitz.com/edit/mat-table-filter-by-column-uzrzuv</a>  That will make our life easier :)_"}, {"owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "reply_to_user": {"reputation": 4725, "user_id": 9931092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dDivw.jpg?s=128&g=1", "display_name": "Amit Baranes", "link": "https://stackoverflow.com/users/9931092/amit-baranes"}, "edited": false, "score": 0, "creation_date": 1561551795, "post_id": 56771016, "comment_id": 100100876, "body": "@AmitBaranes Hi this is a problem as most of the code is confidential to my work. and the Get method wont work out side of our internal network."}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "is_accepted": true, "score": 1, "last_activity_date": 1561651218, "last_edit_date": 1561651218, "creation_date": 1561634130, "answer_id": 56789840, "question_id": 56771016, "link": "https://stackoverflow.com/questions/56771016/how-to-use-checkboxes-to-filter-a-mat-table-in-angular-8/56789840#56789840", "title": "How to use checkboxes to filter a mat-table in angular 8", "body": "<p>I have found the solution to this - </p>\n\n<p>you need to make a custom <code>filterPredicate</code> in order to make use of <code>checkbox</code> for filtering.</p>\n\n<p>Here is my code snippet with the new <code>filterPredicate</code> and html:</p>\n\n<p>Html : </p>\n\n<pre><code>&lt;div class=\"CheckBoxStyle\"&gt;\n&lt;mat-checkbox  class=\"CheckBoxClass\" value=\"RG\" (change)=\"addFilter($event)\"&gt;RG&lt;/mat-checkbox&gt;\n&lt;mdb-icon class=\"IconClass\" fas icon=\"tint\"&gt;&lt;/mdb-icon&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Component - <code>filterPredicate</code> and the <code>method</code> that <code>observes</code> it and uses it :</p>\n\n<pre><code>ngOnInit() {\n  this.marinService.getAllContainers().subscribe((result)=&gt;{\n    this.dataSource = new MatTableDataSource(result);\n    this.total = this.dataSource.length;\n\n    this.dataSource.filterPredicate = (data: Container, filter: any) =&gt; {\n      return filter.split(',').every((item: any) =&gt; data.SOG_MCOLH.indexOf(item) !== -1);\n    };\n    this.filterCheckboxes.subscribe((newFilterValue: any[]) =&gt; {\n      this.dataSource.filter = newFilterValue.join(',');\n        });\n    )}        \n  }\n\naddFilter(change: MatCheckboxChange) {\n  if (this.filterCheckboxes.value.some((a: any) =&gt; a === change.source.value)) {\n    this.filterCheckboxes.next(this.filterCheckboxes.value.filter((a: any) =&gt; a !== change.source.value));\n  } else {\n    this.filterCheckboxes.next(this.filterCheckboxes.value.concat(change.source.value));\n  }\n}\n</code></pre>\n\n<p>This is the solution to using checkbox in filtering a <code>datatable</code> that worked for me.</p>\n"}], "owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3912, "favorite_count": 0, "accepted_answer_id": 56789840, "answer_count": 1, "score": 0, "last_activity_date": 1561651218, "creation_date": 1561545988, "question_id": 56771016, "link": "https://stackoverflow.com/questions/56771016/how-to-use-checkboxes-to-filter-a-mat-table-in-angular-8", "title": "How to use checkboxes to filter a mat-table in angular 8", "body": "<p>I am trying to use checkboxes to filter a table i have but everything i tried so far didn't work.</p>\n\n<p>This is my a sample of my table : </p>\n\n<pre><code> &lt;mat-table [dataSource]=\"dataSource\"  [hidden]=\"!show\" matSort &gt;\n    &lt;!-- Location  --&gt;\n    &lt;ng-container matColumnDef=\"AITOR\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Location &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let container\"&gt; {{container.AITOR}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n        &lt;!-- Type  --&gt;\n        &lt;ng-container matColumnDef=\"SOG_MCOLH\"&gt;\n          &lt;mat-header-cell *matHeaderCellDef mat-sort-header &gt; Container Type &lt;/mat-header-cell&gt;\n          &lt;mat-cell *matCellDef=\"let container\"&gt; {{container.SOG_MCOLH}} &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n</code></pre>\n\n<p>This is how my check box looks : </p>\n\n<pre><code>&lt;input  class=\"CheckBoxClass\" type=\"checkbox\" value=\"RG\" (onclick)=\"doFilter(RG)\" &gt;\n&lt;mdb-icon class=\"IconClass\" fas icon=\"tint\"&gt;&lt;/mdb-icon&gt;\nRG&lt;br&gt;\n</code></pre>\n\n<p>this is the function is use in my component :</p>\n\n<pre><code>public doFilter = (value: string) =&gt; {\n  this.dataSource.filter = value.trim().toLocaleLowerCase();\n}\n</code></pre>\n\n<p>I have tried using [checked] instead of (onclick) neither of them work.\nI have tried using a Pipe but i didn't really understand it and how i should write it.\nI have tried looking online for a solution but no one is doing a checkbox filter.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 1, "last_activity_date": 1561545788, "creation_date": 1561545788, "answer_id": 56770936, "question_id": 56770906, "link": "https://stackoverflow.com/questions/56770906/error-uncaught-in-promise-typeerror-cannot-read-property-customername-of/56770936#56770936", "title": "Error: Uncaught (in promise): TypeError: Cannot read property &#39;customerName&#39; of undefined", "body": "<p>Use the Safe Navigation Operator to handle the undefined error</p>\n\n<pre><code>&lt;div *ngFor=\"let customer of customers\"&gt;\n    &lt;p&gt;{{customer?.data?.customerName}}&lt;/p&gt;\n    &lt;p&gt;{{customer?.data?.price}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1561547292, "post_id": 56770949, "comment_id": 100098157, "body": "How can i log all customers? Now i am able log only one."}, {"owner": {"reputation": 593, "user_id": 9568853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c8dbb559aacb7ef9f8f6dc3623871de?s=128&d=identicon&r=PG&f=1", "display_name": "CGundlach", "link": "https://stackoverflow.com/users/9568853/cgundlach"}, "edited": false, "score": 1, "creation_date": 1561549413, "post_id": 56770949, "comment_id": 100099445, "body": "Same as you did in the html, with a foreach-loop: <code>for (const customer of this.customers) {console.log(customer.data.customerName);}</code>"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1561545821, "creation_date": 1561545821, "answer_id": 56770949, "question_id": 56770906, "link": "https://stackoverflow.com/questions/56770906/error-uncaught-in-promise-typeerror-cannot-read-property-customername-of/56770949#56770949", "title": "Error: Uncaught (in promise): TypeError: Cannot read property &#39;customerName&#39; of undefined", "body": "<p>You have that error because you are accessing array value by object</p>\n\n<pre><code>console.log( this.customers.data.customerName); // this are array value\n</code></pre>\n\n<p>so if you want to see the data you have to do like this</p>\n\n<pre><code> console.log( this.customers[0].data.customerName); // this are array value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1561547985, "post_id": 56771442, "comment_id": 100098555, "body": "Getting this error <code>ReferenceError: index is not defined ReferenceError: index is not defined</code>"}, {"owner": {"reputation": 174, "user_id": 4607863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZX9Gvh4W5yA/AAAAAAAAAAI/AAAAAAAAAEY/ML2yLsIy6JQ/photo.jpg?sz=128", "display_name": "Ani Emmanuel Arinzechukwu", "link": "https://stackoverflow.com/users/4607863/ani-emmanuel-arinzechukwu"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1561637324, "post_id": 56771442, "comment_id": 100135570, "body": "change the word [index] to 0 or 1 or 2 to get the customerName of the first,second or third object respectively. Eg console.log(this.customers[index].data.customerName);"}, {"owner": {"reputation": 174, "user_id": 4607863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZX9Gvh4W5yA/AAAAAAAAAAI/AAAAAAAAAEY/ML2yLsIy6JQ/photo.jpg?sz=128", "display_name": "Ani Emmanuel Arinzechukwu", "link": "https://stackoverflow.com/users/4607863/ani-emmanuel-arinzechukwu"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1561637820, "post_id": 56771442, "comment_id": 100135845, "body": "Sorry I meant console.log(this.customers[2].data.customerName) not console.log(this.customers[index].data.customerName)"}], "tags": [], "owner": {"reputation": 174, "user_id": 4607863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZX9Gvh4W5yA/AAAAAAAAAAI/AAAAAAAAAEY/ML2yLsIy6JQ/photo.jpg?sz=128", "display_name": "Ani Emmanuel Arinzechukwu", "link": "https://stackoverflow.com/users/4607863/ani-emmanuel-arinzechukwu"}, "is_accepted": false, "score": 0, "last_activity_date": 1561547326, "creation_date": 1561547326, "answer_id": 56771442, "question_id": 56770906, "link": "https://stackoverflow.com/questions/56770906/error-uncaught-in-promise-typeerror-cannot-read-property-customername-of/56771442#56771442", "title": "Error: Uncaught (in promise): TypeError: Cannot read property &#39;customerName&#39; of undefined", "body": "<p>you are returning an array of objects, knowing that array index starts from zero.\nThis will work  </p>\n\n<p><code>console.log(this.customers[index].data.customerName);</code></p>\n\n<p>Change the \"index\" to either 0,1,2 to get the customerName of the first,second or third object respectively</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 2076016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005a0f0219e8988eec5892333f07790a?s=128&d=identicon&r=PG", "display_name": "lovos25", "link": "https://stackoverflow.com/users/2076016/lovos25"}, "is_accepted": false, "score": 0, "last_activity_date": 1561554090, "creation_date": 1561554090, "answer_id": 56773454, "question_id": 56770906, "link": "https://stackoverflow.com/questions/56770906/error-uncaught-in-promise-typeerror-cannot-read-property-customername-of/56773454#56773454", "title": "Error: Uncaught (in promise): TypeError: Cannot read property &#39;customerName&#39; of undefined", "body": "<p><strong>this.customers</strong> is an array element.</p>\n\n<p>Use forEach() to list each element. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.prototype.forEach()</a></p>\n\n<pre><code>this.customers.forEach(function(element) {\n    console.log(element.data.customerName);\n});\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1570774698, "creation_date": 1561545721, "last_edit_date": 1570774698, "question_id": 56770906, "link": "https://stackoverflow.com/questions/56770906/error-uncaught-in-promise-typeerror-cannot-read-property-customername-of", "title": "Error: Uncaught (in promise): TypeError: Cannot read property &#39;customerName&#39; of undefined", "body": "<p>My <strong>JSON</strong> file looks like this:</p>\n\n<pre><code>{\n    \"total\": 3,\n    \"items\": [\n        {\n            \"id\": \"01\",\n            \"data\": {\n                \"customerName\": \"Jhon\",\n                \"description\": \"..some content..\",\n                \"price\": \"25000\"\n            },\n            \"status\": \"Yes\"\n        },\n        {\n            \"id\": \"02\",\n            \"data\": {\n                \"customerName\": \"Mark\",\n                \"description\": \"..some content..\",\n                \"price\": \"30000\"\n            },\n            \"status\": \"No\"\n        },\n        {\n            \"id\": \"03\",\n            \"data\": {\n                \"customerName\": \"Smith\",\n                \"description\": \"..some content..\",\n                \"price\": \"15000\"\n            },\n            \"status\": \"No\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I am displaying the them in an component called <code>list</code> like this:</p>\n\n<p><strong>ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ContactService } from '../contacts.service';\nimport { ICustomer } from '../models';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent implements OnInit {\n  public allCustomers: any = [];\n   public customers: any = [];\n  constructor(private myService: ContactService) { }\n\n  public async ngOnInit(): Promise&lt;void&gt; {\n    this.allCustomers = await this.myService.getCustomers('');\n    this.customers = this.allCustomers.items;\n    console.log( this.customers.data.customerName);\n  }\n\n\n}\n</code></pre>\n\n<p><strong>template</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let customer of customers\"&gt;\n    &lt;p&gt;{{customer.data.customerName}}&lt;/p&gt;\n    &lt;p&gt;{{customer.data.price}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now i am able to display the values(customerName, price ..) in template:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Swc51.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Swc51.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when i <code>log</code> and see the same values(customerName, price ..), showing as <strong>undefined</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0SgIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0SgIv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am unable find what went wrong.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-gvvvjq?file=src/app/list/list.component.ts\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 6653215, "user_type": "registered", "profile_image": "https://graph.facebook.com/1013405352110559/picture?type=large", "display_name": "Abhishek Sharma", "link": "https://stackoverflow.com/users/6653215/abhishek-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1561545790, "creation_date": 1561545790, "answer_id": 56770937, "question_id": 56770863, "link": "https://stackoverflow.com/questions/56770863/ensure-a-service-is-done-before-going-furthure/56770937#56770937", "title": "Ensure a service is done before going furthure", "body": "<p>Place the statement ' this.trythis();' as follows,</p>\n\n<pre><code>    ngOnInit() {\n\n\n        let spaceIndex=0;\n        this.readJsonService.getText().subscribe((data) =&gt; {\n\n             for (const line of data.split(/[\\r\\n]+/)){\n            //   console.log(line);\n               spaceIndex=line.search(/\\s/);\n            //   console.log(\"spaceIndex  \" + spaceIndex)\n               this.weakness.push({\n                 CWE_ID: line.substring(line.search('CWE-'), spaceIndex),\n                 weakness: line.substr(spaceIndex)\n               })\n              }\n                console.log(this.weakness.length)\n                console.log(this.weakness)\n\n                this.trythis();\n           });\n\n\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 1, "creation_date": 1561546589, "post_id": 56771021, "comment_id": 100097733, "body": "True. I have done that, the problem was I has called the function tryThis outside the service."}], "tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": false, "score": 0, "last_activity_date": 1561545995, "creation_date": 1561545995, "answer_id": 56771021, "question_id": 56770863, "link": "https://stackoverflow.com/questions/56770863/ensure-a-service-is-done-before-going-furthure/56771021#56771021", "title": "Ensure a service is done before going furthure", "body": "<p>Life-cycle hooks doesn't exist on injectables. So instead of using life-cycle hooks like ngOnInit in @Injectables, use the constructor.</p>\n\n<pre><code>@Injectable()\n\n  constructor() {\n      //your code\n  }\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56770937, "answer_count": 2, "score": 0, "last_activity_date": 1561545995, "creation_date": 1561545552, "question_id": 56770863, "link": "https://stackoverflow.com/questions/56770863/ensure-a-service-is-done-before-going-furthure", "title": "Ensure a service is done before going furthure", "body": "<p>I need to ensure that my service is done before going to other functions as I need its result to be used. I have seen some solution, like <a href=\"https://stackoverflow.com/questions/48250528/angular-5-how-do-i-wait-for-my-service-to-finish-and-then-proceed-to-the-next-t/48251631\">this</a>, but did not work. </p>\n\n<p>here is what I code:</p>\n\n<p>My service: </p>\n\n<pre><code>  getText(){ return this.http.get(this.textURL, {responseType: 'text'}); }\n</code></pre>\n\n<p>I called it as follows in ngOnInit:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ngOnInit()\r\n{\r\n\r\n\r\n    let spaceIndex=0;\r\n    this.readJsonService.getText().subscribe((data) =&gt; {\r\n\r\n         for (const line of data.split(/[\\r\\n]+/)){\r\n        //   console.log(line);\r\n           spaceIndex=line.search(/\\s/);\r\n        //   console.log(\"spaceIndex  \" + spaceIndex)\r\n           this.weakness.push({\r\n             CWE_ID: line.substring(line.search('CWE-'), spaceIndex),\r\n             weakness: line.substr(spaceIndex)\r\n           })\r\n          }\r\n            console.log(this.weakness.length)\r\n            console.log(this.weakness)\r\n       });\r\n\r\n\r\n this.trythis();\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and in tryThis() function, I want to log the result, which is in weakness that is a global interface. like so:</p>\n\n<pre><code>  console.log(this.weakness.length); console.log(this.weakness)\n</code></pre>\n\n<p>but it first runs the Trythis() function, so gives an empty array and says the length is 0, while running yet the service. and then logs the array from the ngonInit functiom.\nplease please help. thank you in advence.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6", "setstate"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1561545572, "post_id": 56770693, "comment_id": 100097151, "body": "I voted to close because it relies on third-party content (codesandbox) that is subject to change/removal. If this happens, this question will not make sense, thereby eliminating any usefulness to future users. It also means that there are minimal code-related search terms in you question, reducing the ability of search engines to index your question. Please present your code using the tools provided by SO, considering <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">this</a> and <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">this</a> for guidance."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1561545981, "post_id": 56770693, "comment_id": 100097373, "body": "<a href=\"https://meta.stackoverflow.com/questions/377959/use-of-codesandbox-vs-built-in-code-snippets\" title=\"use of codesandbox vs built in code snippets\">meta.stackoverflow.com/questions/377959/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "is_accepted": true, "score": 1, "last_activity_date": 1561546453, "last_edit_date": 1561546453, "creation_date": 1561545476, "answer_id": 56770836, "question_id": 56770693, "link": "https://stackoverflow.com/questions/56770693/how-to-update-the-state-to-its-previous-state-in-react-typescript/56770836#56770836", "title": "How to update the state to its previous state in React + Typescript", "body": "<p>The argument that <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">setState updater</a> gets is state at the time the change is being applied. Setting state equal to that changes nothing.</p>\n\n<p>You need to keep track of previous state separately. For example as separate item in the state, an instance variable or the <code>props</code>. See for example: </p>\n\n<p><a href=\"https://stackoverflow.com/q/45200535/1630906\">Reset initial state in React + ES6</a></p>\n\n<p><a href=\"https://stackoverflow.com/q/34845650/1630906\">Clearing state es6 React</a></p>\n"}], "owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 56770836, "answer_count": 1, "score": 0, "last_activity_date": 1561546453, "creation_date": 1561545054, "last_edit_date": 1561546348, "question_id": 56770693, "link": "https://stackoverflow.com/questions/56770693/how-to-update-the-state-to-its-previous-state-in-react-typescript", "title": "How to update the state to its previous state in React + Typescript", "body": "<p>I want to set the state to its previous value. I have a list of checkboxes and based on it selections and click of \"Apply\" the columns in the table gets shown/hidden. I am able to achieve this functionality. But on click on \"Cancel\" , I am not able to set it to previous state.</p>\n\n<p>CodeSandbox: <a href=\"https://codesandbox.io/s/funny-browser-2z3s5\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/funny-browser-2z3s5</a></p>\n\n<p>On click of Cancel, the checkboxes should be set to previous state.</p>\n\n<p>Click is handled with a function in SelectComponent.tsx, the goal is to reset <code>optionsArr</code> to its original value:</p>\n\n<pre><code>cancelSelection = (event: any) =&gt; {\n  this.setState({ showList: false });\n  this.setState((prevState: any) =&gt; ({\n    // Isn't working\n    optionsArr: prevState.optionsArr\n  }));\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 0, "creation_date": 1561545324, "post_id": 56770690, "comment_id": 100097031, "body": "Actually, I did upgrade for my app from ng 7 to ng 8 and got the issue, the change of tsconfig.json that you mentioned is just enough, are you sure that config is not overridden and did take the change? have you restarted the app and make sure it is killed first?"}, {"owner": {"reputation": 3008, "user_id": 7849203, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c7601c3c9f1a0c08c462ada645ffebf4?s=128&d=identicon&r=PG&f=1", "display_name": "Fel", "link": "https://stackoverflow.com/users/7849203/fel"}, "reply_to_user": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 0, "creation_date": 1561545860, "post_id": 56770690, "comment_id": 100097309, "body": "Hi, to make sure, I closed the IDE and ran <code>npm start</code> from the command line and I got the same error... I changed the <code>target</code> option from <code>es6</code>  to <code>esNext</code> to see what happens and I got another error: <code>WARNING: Zone.js does not support native async&#47;await in ES2017.</code>."}, {"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 0, "creation_date": 1561546147, "post_id": 56770690, "comment_id": 100097446, "body": "what your <code>target</code> inside tsconfig, try <code>&quot;target&quot;: &quot;es2015&quot;</code>"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 1, "creation_date": 1561546501, "post_id": 56770690, "comment_id": 100097679, "body": "I&#39;m already explain <a href=\"https://stackoverflow.com/questions/56375703/angular-8-lazy-loading-modules-error-ts1323-dynamic-import-is-only-supporte/56375852#56375852\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3008, "user_id": 7849203, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c7601c3c9f1a0c08c462ada645ffebf4?s=128&d=identicon&r=PG&f=1", "display_name": "Fel", "link": "https://stackoverflow.com/users/7849203/fel"}, "is_accepted": false, "score": 2, "last_activity_date": 1561546638, "creation_date": 1561546638, "answer_id": 56771233, "question_id": 56770690, "link": "https://stackoverflow.com/questions/56770690/lazy-module-loading-error-after-updating-to-angular-8/56771233#56771233", "title": "Lazy module loading error after updating to Angular 8", "body": "<p>The problem was that the <code>module</code> option was being overriden in file <code>tsconfig.app.json</code> to <code>es2015</code>. After changing it to <code>esNext</code>, it compiles fine now.</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 3008, "user_id": 7849203, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c7601c3c9f1a0c08c462ada645ffebf4?s=128&d=identicon&r=PG&f=1", "display_name": "Fel", "link": "https://stackoverflow.com/users/7849203/fel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561546638, "creation_date": 1561545054, "question_id": 56770690, "link": "https://stackoverflow.com/questions/56770690/lazy-module-loading-error-after-updating-to-angular-8", "title": "Lazy module loading error after updating to Angular 8", "body": "<p>I just updated an Angular 7 app to the latest version (8.0.2) following the steps of this guide:</p>\n\n<p><a href=\"https://update.angular.io/#7.0:8.0\" rel=\"nofollow noreferrer\">https://update.angular.io/#7.0:8.0</a></p>\n\n<p>As the last step indicates, I've replaced the way I load lazy modules using the new syntax:</p>\n\n<p>FROM:</p>\n\n<pre><code>loadChildren: \"./modules/fwc-policy/fwc-policy.module#FwcPolicyModule\"\n</code></pre>\n\n<p>TO:</p>\n\n<pre><code>loadChildren: () =&gt; import('./modules/fwc-policy/fwc-policy.module').then(m =&gt; m.FwcPolicyModule)\n</code></pre>\n\n<p>But now, when I try to compile the application I get this error:</p>\n\n<pre><code>ERROR in src/app/modules/fwc-dashboard/fwc-dashboard.routes.ts(42,31): error TS1323: Dynamic import is only supported when '--module' flag is 'commonjs' or 'esNext'.\n</code></pre>\n\n<p>After googling a bit, I added the option <code>\"module\": \"esNext\"</code> to the <code>tsconfig.json</code> file, but the error remains. Do I need to change anything else to make it work?</p>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "cross-browser"], "comments": [{"owner": {"reputation": 54393, "user_id": 1926369, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/htfUk.png?s=128&g=1", "display_name": "vals", "link": "https://stackoverflow.com/users/1926369/vals"}, "edited": false, "score": 0, "creation_date": 1561546473, "post_id": 56770395, "comment_id": 100097660, "body": "The best I have been able to get is to use a random function to set autocomplete and name: the result is something  like: <i>autocomplete=&quot;mbshftbaqo&quot; name=&quot;mbshftbaqo&quot;</i> Of course this will change when the page re-renders"}, {"owner": {"reputation": 324, "user_id": 11539662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a4ac039b9efe7e228cd9ec61ada174e?s=128&d=identicon&r=PG", "display_name": "kebbaben", "link": "https://stackoverflow.com/users/11539662/kebbaben"}, "reply_to_user": {"reputation": 54393, "user_id": 1926369, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/htfUk.png?s=128&g=1", "display_name": "vals", "link": "https://stackoverflow.com/users/1926369/vals"}, "edited": false, "score": 0, "creation_date": 1561555413, "post_id": 56770395, "comment_id": 100103231, "body": "@vals I&#39;ve managed to randomise values on both autocomplete and name by using local value that are randomised based on current time: &quot;this.rndName = String.fromCharCode(65 + Math.floor(Math.random() * 26)) + Date.now();&quot; but nothing happens. if I ignore randomising name and autocomplete and only use autocomplete=&quot;new-password&quot; on password field. It disables autofill for username and password fields, but still give me username/password suggestions on the password field in my form.  Any idea why?"}, {"owner": {"reputation": 606, "user_id": 5449889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-_vlWFphzYys/AAAAAAAAAAI/AAAAAAAAAEQ/TLQdZEGJY1k/photo.jpg?sz=128", "display_name": "Elias Johannes", "link": "https://stackoverflow.com/users/5449889/elias-johannes"}, "edited": false, "score": 0, "creation_date": 1561624879, "post_id": 56770395, "comment_id": 100128449, "body": "i think as long as <code>autocomplete=&quot;new-password&quot;</code> is not supported by all common browsers, there won&#39;t be a true solution.  For me personally i found out that two input fields work the best. I just got one hidden field that captures the auto fill in my layout - i agree that it is hacky but i haven&#39;t encountered any problems yet."}, {"owner": {"reputation": 324, "user_id": 11539662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a4ac039b9efe7e228cd9ec61ada174e?s=128&d=identicon&r=PG", "display_name": "kebbaben", "link": "https://stackoverflow.com/users/11539662/kebbaben"}, "reply_to_user": {"reputation": 606, "user_id": 5449889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-_vlWFphzYys/AAAAAAAAAAI/AAAAAAAAAEQ/TLQdZEGJY1k/photo.jpg?sz=128", "display_name": "Elias Johannes", "link": "https://stackoverflow.com/users/5449889/elias-johannes"}, "edited": false, "score": 0, "creation_date": 1561627597, "post_id": 56770395, "comment_id": 100130055, "body": "@EliasJohannes I tried using hidden fields but when fields are hidden, chrome finds the best first for me. Could you link me a working example of this?"}, {"owner": {"reputation": 606, "user_id": 5449889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-_vlWFphzYys/AAAAAAAAAAI/AAAAAAAAAEQ/TLQdZEGJY1k/photo.jpg?sz=128", "display_name": "Elias Johannes", "link": "https://stackoverflow.com/users/5449889/elias-johannes"}, "edited": false, "score": 0, "creation_date": 1561634541, "post_id": 56770395, "comment_id": 100134076, "body": "@kebbaben it doesn&#39;t really demonstrate well in a fiddle but here&#39;s the code i used: <a href=\"https://jsfiddle.net/EliasJohannes/wtz6v145/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/EliasJohannes/wtz6v145/2</a>  i tested it on FF, Chrome &amp; IE and it works for me (i realized i also set <code>autocomplete</code> on the whole form)"}], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 11539662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a4ac039b9efe7e228cd9ec61ada174e?s=128&d=identicon&r=PG", "display_name": "kebbaben", "link": "https://stackoverflow.com/users/11539662/kebbaben"}, "is_accepted": false, "score": 1, "last_activity_date": 1561624134, "creation_date": 1561624134, "answer_id": 56786982, "question_id": 56770395, "link": "https://stackoverflow.com/questions/56770395/is-it-possible-to-truly-disable-autofill-and-autocomplete-for-password-fields-fo/56786982#56786982", "title": "Is it possible to truly disable autofill and autocomplete for password fields for modern browsers?", "body": "<p>The best solution I've found so far is to use <code>type=\"text\"</code> on password field and use <code>autocomplete=\"off\"</code> on the form and every input field in it.</p>\n\n<p>I won't mark this as an answer however as it still has the great flaw of losing the <code>type=\"password\"</code> security functionality. Text fields also allows spell check which can be disabled with <code>spellcheck=\"false\"</code>. But I've read that it's possible to override this with browser settings.</p>\n\n<p>This question will remain unanswered until a better solution is proposed.</p>\n"}], "owner": {"reputation": 324, "user_id": 11539662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a4ac039b9efe7e228cd9ec61ada174e?s=128&d=identicon&r=PG", "display_name": "kebbaben", "link": "https://stackoverflow.com/users/11539662/kebbaben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 6, "answer_count": 1, "score": 8, "last_activity_date": 1561704832, "creation_date": 1561544205, "last_edit_date": 1561704832, "question_id": 56770395, "link": "https://stackoverflow.com/questions/56770395/is-it-possible-to-truly-disable-autofill-and-autocomplete-for-password-fields-fo", "title": "Is it possible to truly disable autofill and autocomplete for password fields for modern browsers?", "body": "<p>In modern browsers the standard of autofill and autocomplete is to completely ignore <code>autocomplete=\"off\"</code> for password fields that are placed in a <code>form</code>. And insert saved passwords, even if it's in a user management page. Although the reason is in the right place, it makes creating a user management page a huge pain.</p>\n\n<p>My team's web application runs with angular 7 and currently only supports chrome. But there's a big possibility that we will need support other browsers like internet explorer, edge, firefox, etc.</p>\n\n<p>I know this is a largely touched subject, and that I can find many questions with answers similar to this question (<a href=\"https://stackoverflow.com/questions/36935576/how-to-make-input-type-tel-work-as-type-password\">like this</a>, <a href=\"https://stackoverflow.com/questions/17769429/get-input-type-text-to-look-like-type-password\">or this</a>). But every solution I've found so far has at least one big flaw.</p>\n\n<p>What I've tried so far on chrome:</p>\n\n<h2>1) Use <code>autocomplete=\"new-password\"</code></h2>\n\n<p>It seems that chrome/chromium developers ignores even this for <code>type=\"password\"</code>.</p>\n\n<h2>2) Use <code>type=\"text\" autocomplete=\"new-password\"</code> with asterisk font family</h2>\n\n<p>This disables chrome from auto-filling the input field and hides the letters. But the big flaw is that the value is still there and can be copy-pasted in a different font family. The input field also loses the security of <code>type=\"password\"</code> and any hacker can easily get the value.</p>\n\n<h2>3) Use -webkit-text-security</h2>\n\n<p>This is pretty much the same solution as the one before but this isn't even css standard and few browsers support it.</p>\n\n<h2>4) Replace value with *</h2>\n\n<p>This is the trickiest solution I've tried so far. When input value is changed I call a function in typescript that: Adds the new character to a local string, Change DOM value to * equal to the amount of characters, Return the locally saved value on <code>(blur)</code>.</p>\n\n<p>This leaves me with a large amount of problems to deal with including: Erasing any character in the string removes the last character always, In addition to the last problem the first character will always stay the same even if the value is completely erased, Having to know where in the string to remove characters.</p>\n\n<p>This solution is less than ideal.</p>\n\n<h2>5) Disable password management for domain in browser settings</h2>\n\n<p>This really isn't a solution to the problem as it means that I expect the users to turn off password management for domain. It would also result in not saving the password on the login page as many users may need.</p>\n\n<h2>6) Randomise <code>[name]</code> and <code>[autocomplete]</code> values</h2>\n\n<p>By one way binding said values to a randomised string based on current time, I can ensure that the password field doesn't match any fields saved by the browser. Although many has reported that this works between all browsers, this doesn't seem to work for me at all when using chrome. For me chrome shows recommended password as long as the input is of <code>type=\"password\"</code>.</p>\n\n<hr>\n\n<p>Solutions I've seen so far:</p>\n\n<h2>1) Use two input fields</h2>\n\n<p>This seems to me to work the same as my own solution 4). And will probably be just as troublesome to work with.</p>\n\n<h2>2) Use jQuery Disable Auto Fill Plugin</h2>\n\n<p>This seem to be very close to what I'm looking for but the problem is that it uses jQuery. All I can say is that I've been told that we're not using jQuery and that I probably won't be able to use the plugin directly.</p>\n\n<p>I'm currently looking for a way to implement this using angular and would love any help or directions on this. </p>\n\n<hr>\n\n<p>If you know of any solution that I haven't mentioned above, please post an answer or drop me a link in comments.</p>\n"}, {"tags": ["typescript", "svg", "svg.js"], "comments": [{"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1561556970, "post_id": 56770353, "comment_id": 100104246, "body": "You can create svg nodes outside of the dom and inject them later. However, some methods will not work when a node is not attached to the dom.  For example moving text around by default uses the bbox to position the text by its upper left corner. However, you can get around that by positioning the text by its baseline instead (which is the normal x and y coordinates of text). As long as you only use the attr()-method you are on the save side!  However, no lib can give you the performance of vanilla js. So if you need to do this stuff really fast, try to write a vanilla function yourself!"}, {"owner": {"reputation": 1027, "user_id": 3071712, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7eb0a4cd61e0a4622e171024c5308d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Taht", "link": "https://stackoverflow.com/users/3071712/marko-taht"}, "reply_to_user": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1561616379, "post_id": 56770353, "comment_id": 100124104, "body": "How do i create them outside of dom and inject later ?"}, {"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1561646380, "post_id": 56770353, "comment_id": 100141456, "body": "e.g. create a group with <code>group = new SVG.Group()</code> and later <code>group.addTo(selector)</code>. At least with svg.js v3"}, {"owner": {"reputation": 1027, "user_id": 3071712, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7eb0a4cd61e0a4622e171024c5308d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Taht", "link": "https://stackoverflow.com/users/3071712/marko-taht"}, "reply_to_user": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1561707010, "post_id": 56770353, "comment_id": 100159714, "body": "I have svg.js 2. I re did all th element creation with new SVG. .... But it doesent seem to be faster..."}], "owner": {"reputation": 1027, "user_id": 3071712, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7eb0a4cd61e0a4622e171024c5308d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Taht", "link": "https://stackoverflow.com/users/3071712/marko-taht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561545069, "creation_date": 1561544060, "last_edit_date": 1561545069, "question_id": 56770353, "link": "https://stackoverflow.com/questions/56770353/how-to-do-bulk-svg-operations-with-svg-js", "title": "How to do bulk SVG operations with SVG.js", "body": "<p>Im using SVG.js to create a group that has a lot of rectangles and paths and texts as a child. This group represents a data object visually. Now if data changes the texts and fills change also. One screen there can be many manyof these objects and they can be added tynamically. So the time to update the SVG is slow. I was thinking if there is a way to improve the redraw speed of SVG. My first thought was doing bulk operations. Like i create the structure of the SVG before hand and then in bulk pace them in the DOM so that it would do the update in one go. </p>\n\n<p>Is there a way to do bulk operations with SVG.js or maybe any other way to improve the performance of SVG while retaining the ability to change text contents? I thought about using defs but i have some variable amount subcomponents whose location is dependand on the amount of elements needed to show.</p>\n\n<p>Here is the SVG i create using SVG.js. This currently has only test data, but in real use the TSpan data would be user defined and the amount of the text elements is also dependant on userinput. And in the end the final 4 path, would have fill colors depending on user input. Is this possible in SVG or do i need to keep recreating thhis object every time i want a new one with different data?</p>\n\n<pre><code>&lt;g id=\"SvgjsG1010\" transform=\"matrix(1,0,0,1,1197,241)\"&gt;\n&lt;circle id=\"SvgjsCircle1011\" r=\"42\" cx=\"22\" cy=\"19\"&gt;&lt;/circle&gt;\n&lt;rect id=\"SvgjsRect1012\" width=\"45\" height=\"48\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n&lt;rect id=\"SvgjsRect1013\" width=\"45\" height=\"4\" x=\"0\" y=\"48\" fill=\"#09a583\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n&lt;text id=\"SvgjsText1014\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"15.900000095367432\" y=\"46.200000166893005\"&gt;\n    &lt;tspan id=\"SvgjsTspan1015\" dy=\"5.2\" x=\"15.900000095367432\"&gt;Owner&lt;/tspan&gt;\n&lt;/text&gt;\n&lt;text id=\"SvgjsText1016\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"18.09999990463257\" y=\"1.0000001668930052\"&gt;\n    &lt;tspan id=\"SvgjsTspan1017\" dy=\"5.2\" x=\"18.09999990463257\"&gt;Test&lt;/tspan&gt;\n&lt;/text&gt;\n&lt;g id=\"SvgjsG1018\"&gt;\n    &lt;rect id=\"SvgjsRect1019\" width=\"10\" height=\"10\" x=\"5\" y=\"10\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1020\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"5\" y=\"11.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1021\" dy=\"5.2\" x=\"5\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1022\" width=\"10\" height=\"10\" x=\"17\" y=\"10\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1023\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17\" y=\"11.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1024\" dy=\"5.2\" x=\"17\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1025\" width=\"10\" height=\"10\" x=\"29\" y=\"10\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1026\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"29\" y=\"11.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1027\" dy=\"5.2\" x=\"29\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1028\" width=\"10\" height=\"10\" x=\"5\" y=\"22\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1029\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"5\" y=\"23.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1030\" dy=\"5.2\" x=\"5\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1031\" width=\"10\" height=\"10\" x=\"17\" y=\"22\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1032\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17\" y=\"23.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1033\" dy=\"5.2\" x=\"17\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1034\" width=\"10\" height=\"10\" x=\"29\" y=\"22\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1035\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"29\" y=\"23.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1036\" dy=\"5.2\" x=\"29\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1037\" width=\"10\" height=\"10\" x=\"5\" y=\"34\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1038\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"5\" y=\"35.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1039\" dy=\"5.2\" x=\"5\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1040\" width=\"10\" height=\"10\" x=\"17\" y=\"34\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1041\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17\" y=\"35.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1042\" dy=\"5.2\" x=\"17\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1043\" width=\"10\" height=\"10\" x=\"29\" y=\"34\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1044\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"29\" y=\"35.200000166893005\"&gt;\n        &lt;tspan id=\"SvgjsTspan1045\" dy=\"5.2\" x=\"29\"&gt;Note&lt;/tspan&gt;\n    &lt;/text&gt;\n&lt;/g&gt;\n&lt;g id=\"SvgjsG1046\"&gt;\n    &lt;rect id=\"SvgjsRect1047\" width=\"15\" height=\"4\" x=\"0\" y=\"-4\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1048\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"2.9000000953674316\" y=\"-5.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1049\" dy=\"5.2\" x=\"2.9000000953674316\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1050\" width=\"15\" height=\"4\" x=\"15\" y=\"-4\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1051\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17.90000009536743\" y=\"-5.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1052\" dy=\"5.2\" x=\"17.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1053\" width=\"15\" height=\"4\" x=\"30\" y=\"-4\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1054\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"32.90000009536743\" y=\"-5.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1055\" dy=\"5.2\" x=\"32.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1056\" width=\"15\" height=\"4\" x=\"0\" y=\"-8\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1057\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"2.9000000953674316\" y=\"-9.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1058\" dy=\"5.2\" x=\"2.9000000953674316\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1059\" width=\"15\" height=\"4\" x=\"15\" y=\"-8\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1060\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17.90000009536743\" y=\"-9.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1061\" dy=\"5.2\" x=\"17.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1062\" width=\"15\" height=\"4\" x=\"30\" y=\"-8\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1063\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"32.90000009536743\" y=\"-9.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1064\" dy=\"5.2\" x=\"32.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1065\" width=\"15\" height=\"4\" x=\"0\" y=\"-12\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1066\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"2.9000000953674316\" y=\"-13.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1067\" dy=\"5.2\" x=\"2.9000000953674316\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1068\" width=\"15\" height=\"4\" x=\"15\" y=\"-12\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1069\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17.90000009536743\" y=\"-13.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1070\" dy=\"5.2\" x=\"17.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1071\" width=\"15\" height=\"4\" x=\"30\" y=\"-12\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1072\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"32.90000009536743\" y=\"-13.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1073\" dy=\"5.2\" x=\"32.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1074\" width=\"15\" height=\"4\" x=\"0\" y=\"-16\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1075\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"2.9000000953674316\" y=\"-17.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1076\" dy=\"5.2\" x=\"2.9000000953674316\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1077\" width=\"15\" height=\"4\" x=\"15\" y=\"-16\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1078\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"17.90000009536743\" y=\"-17.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1079\" dy=\"5.2\" x=\"17.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;rect id=\"SvgjsRect1080\" width=\"15\" height=\"4\" x=\"30\" y=\"-16\" fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"0.5\"&gt;&lt;/rect&gt;\n    &lt;text id=\"SvgjsText1081\" font-family=\"Helvetica\" font-size=\"4\" fill=\"#000000\" family=\"Helvetica\" size=\"4\" x=\"32.90000009536743\" y=\"-17.799999833106995\"&gt;\n        &lt;tspan id=\"SvgjsTspan1082\" dy=\"5.2\" x=\"32.90000009536743\"&gt;User&lt;/tspan&gt;\n    &lt;/text&gt;\n&lt;/g&gt;\n&lt;g id=\"SvgjsG1083\" transform=\"matrix(1,0,0,1,-2,0)\"&gt;\n    &lt;circle id=\"SvgjsCircle1084\" r=\"4.1\" cx=\"0\" cy=\"0\"&gt;&lt;/circle&gt;\n    &lt;path id=\"SvgjsPath1085\" d=\"M0 0 0 4 A4 4 0 0 1 -4 0 Z\" fill=\"#ff0000\" stroke=\"#ffffff\" stroke-width=\"0.1\"&gt;&lt;/path&gt;\n    &lt;text id=\"SvgjsText1086\" font-family=\"Helvetica\" font-size=\"2\" fill=\"#000000\" family=\"Helvetica\" size=\"2\" x=\"-3\" y=\"0.10000008344650269\"&gt;\n        &lt;tspan id=\"SvgjsTspan1087\" dy=\"2.6\" x=\"-3\"&gt;T&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;path id=\"SvgjsPath1088\" d=\"M0 0 4 0 A4 4 0 0 1 0 4 Z\" fill=\"#ff0000\" stroke=\"#ffffff\" stroke-width=\"0.1\"&gt;&lt;/path&gt;\n    &lt;text id=\"SvgjsText1089\" font-family=\"Helvetica\" font-size=\"2\" fill=\"#000000\" family=\"Helvetica\" size=\"2\" x=\"1\" y=\"0.10000008344650269\"&gt;\n        &lt;tspan id=\"SvgjsTspan1090\" dy=\"2.6\" x=\"1\"&gt;C&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;path id=\"SvgjsPath1091\" d=\"M0 0 -4 0 A4 4 0 0 1 0 -4 Z\" fill=\"#ff0000\" stroke=\"#ffffff\" stroke-width=\"0.1\"&gt;&lt;/path&gt;\n    &lt;text id=\"SvgjsText1092\" font-family=\"Helvetica\" font-size=\"2\" fill=\"#000000\" family=\"Helvetica\" size=\"2\" x=\"-2.899999976158142\" y=\"-3.8999999165534973\"&gt;\n        &lt;tspan id=\"SvgjsTspan1093\" dy=\"2.6\" x=\"-2.899999976158142\"&gt;F&lt;/tspan&gt;\n    &lt;/text&gt;\n    &lt;path id=\"SvgjsPath1094\" d=\"M0 0 0 -4 A4 4 0 0 1 4 0 Z\" fill=\"#ff0000\" stroke=\"#ffffff\" stroke-width=\"0.1\"&gt;&lt;/path&gt;\n    &lt;text id=\"SvgjsText1095\" font-family=\"Helvetica\" font-size=\"2\" fill=\"#000000\" family=\"Helvetica\" size=\"2\" x=\"1\" y=\"-3.8999999165534973\"&gt;\n        &lt;tspan id=\"SvgjsTspan1096\" dy=\"2.6\" x=\"1\"&gt;A&lt;/tspan&gt;\n    &lt;/text&gt;\n&lt;/g&gt;\n&lt;/g&gt;\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1561544516, "post_id": 56769939, "comment_id": 100096493, "body": "The first example is invalid."}, {"owner": {"reputation": 1267, "user_id": 1832228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iz8Ka.jpg?s=128&g=1", "display_name": "TPReal", "link": "https://stackoverflow.com/users/1832228/tpreal"}, "edited": false, "score": 2, "creation_date": 1561545229, "post_id": 56769939, "comment_id": 100096984, "body": "Please provide a code snippet which actually compiles by itself, it&#39;ll make discussion much easier."}, {"owner": {"reputation": 7180, "user_id": 1183252, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08046137a1e06d6dcc0bfa9c762a0f9c?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/1183252/lukas"}, "edited": false, "score": 0, "creation_date": 1561546830, "post_id": 56769939, "comment_id": 100097869, "body": "Sorry that was a copy &amp; paste error, I fixed it"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1561547873, "post_id": 56769939, "comment_id": 100098495, "body": "Wouldn&#39;t <code>class Service&lt;C extends Converters, N extends keyof C&gt; {   public read(name: N): C[N] {</code> suit you?"}, {"owner": {"reputation": 7180, "user_id": 1183252, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08046137a1e06d6dcc0bfa9c762a0f9c?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/1183252/lukas"}, "edited": false, "score": 0, "creation_date": 1561550761, "post_id": 56769939, "comment_id": 100100222, "body": "If I have multiple methods using N, can they have different values? Because N seems to be defined as a single type across the entire class"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561562692, "post_id": 56769939, "comment_id": 100107917, "body": "Can you explain what you mean by &quot;I use that pattern about 10x in that class&quot;?  You mean that you have multiple methods with the same signature?  Or what?  Maybe give an example with at least 2x or 3x repetition so we can see what would make it work better.  And try to make this a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with no external dependencies... the only issue we should see in our IDE is the one you have; not things like &quot;<code>Cannot find name &#39;Converters&#39;.</code>&quot; or &quot;<code>Function implementation is missing or not immediately following the declaration.</code>&quot;.  Good luck!"}], "owner": {"reputation": 7180, "user_id": 1183252, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08046137a1e06d6dcc0bfa9c762a0f9c?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/1183252/lukas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561546807, "creation_date": 1561542808, "last_edit_date": 1561546807, "question_id": 56769939, "link": "https://stackoverflow.com/questions/56769939/define-type-from-class-generic", "title": "Define type from class Generic", "body": "<p>I have a class that you can pass a Generic to. That Generic is ought to be an object with keys and values. In that class I often refer to these keys and values:</p>\n\n<pre><code>class Service&lt;C extends Converters&gt; {\n  public read&lt;N extends keyof C&gt;(name: N): C[N];\n}\n</code></pre>\n\n<p>basically, <code>read</code> can receive a key in <code>Converters</code> as Generic and returns the corresponding value in converters.</p>\n\n<p>I use that pattern about 10x in that class. Is there a way I can define the types <em>once</em> and reuse them? Something like</p>\n\n<pre><code>class Service&lt;\n  C extends Converters,\n  Keys = keyof C,\n  Values&lt;K extends Keys&gt; = C[K]\n&gt; {\n  public read&lt;Name extends Keys&gt;(name: Name):Values&lt;Name&gt;;\n}\n</code></pre>\n\n<p>But that ^ does not work</p>\n"}, {"tags": ["node.js", "typescript", "webpack", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 9336016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54dc9c34449fa0f7d87b07a7febf98e3?s=128&d=identicon&r=PG", "display_name": "J&#248;rgen Vik", "link": "https://stackoverflow.com/users/9336016/j%c3%b8rgen-vik"}, "is_accepted": true, "score": 5, "last_activity_date": 1561548861, "creation_date": 1561548861, "answer_id": 56771872, "question_id": 56769663, "link": "https://stackoverflow.com/questions/56769663/typeorm-webpack-causes-syntaxerror-unexpected-token-for-entity-file/56771872#56771872", "title": "TypeORM + Webpack causes SyntaxError: Unexpected token for entity file", "body": "<p>I found a solution from yesterday by <a href=\"https://stackoverflow.com/users/1882311/soufiaane\">Soufiaane</a> that did not cover the webpack aspect, but solves the problem nonetheless.</p>\n\n<p>Delete the ormconfig.json file and pass the database config in the createConnection function.</p>\n\n<pre><code>import { User } from './entity'\n// import every other entity you have\n// .......\n\nawait createConnection({\n        type: 'sqlite',\n        database: 'database.sqlite',\n        synchronize: true,\n        logging: true,\n        entities: [\n            User // pass your entities in here\n        ]\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 423, "user_id": 1571329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b251d1a0ca2eb260a204f2906f9e47b2?s=128&d=identicon&r=PG", "display_name": "Howard Swope", "link": "https://stackoverflow.com/users/1571329/howard-swope"}, "is_accepted": false, "score": 0, "last_activity_date": 1580487611, "creation_date": 1580487611, "answer_id": 60007646, "question_id": 56769663, "link": "https://stackoverflow.com/questions/56769663/typeorm-webpack-causes-syntaxerror-unexpected-token-for-entity-file/60007646#60007646", "title": "TypeORM + Webpack causes SyntaxError: Unexpected token for entity file", "body": "<p>This is because you are calling the global version of typeorm which expects javascript you need to be calling typeorm through ts-node like:</p>\n\n<p>./node_modules/.bin/ts-node ./node_modules/.bin/typeorm</p>\n\n<p>I set up an alias in my .bashrc:</p>\n\n<p>alias tstypeorm='./node_modules/.bin/ts-node ./node_modules/.bin/typeorm'</p>\n\n<p>This solution works well for me (running on OsX)</p>\n\n<p>(You could also change the directories in your ormconfig.json to point to the generated javascript files)</p>\n"}], "owner": {"reputation": 467, "user_id": 9336016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54dc9c34449fa0f7d87b07a7febf98e3?s=128&d=identicon&r=PG", "display_name": "J&#248;rgen Vik", "link": "https://stackoverflow.com/users/9336016/j%c3%b8rgen-vik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1893, "favorite_count": 0, "accepted_answer_id": 56771872, "answer_count": 2, "score": 3, "last_activity_date": 1580487611, "creation_date": 1561541940, "question_id": 56769663, "link": "https://stackoverflow.com/questions/56769663/typeorm-webpack-causes-syntaxerror-unexpected-token-for-entity-file", "title": "TypeORM + Webpack causes SyntaxError: Unexpected token for entity file", "body": "<p>I have set up a pretty plain project with express, node.js and webpack. After installing TypeORM when configuring webpack.config.js it triggers unexpected token error for User.ts in entity folder. </p>\n\n<p>The problem seems to be related to the fact that ormconfig.json is referring to .ts entity files. </p>\n\n<p>Solution in similar threads seems to be using ts-node with some extra parameters, but I am using webpack in this project and executing the bundle file.</p>\n\n<p>index.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import 'reflect-metadata';\nimport { createConnection } from 'typeorm';\nimport { User } from './entity/User';\ncreateConnection()\n    .then(async connection =&gt; {\n        console.log('Inserting a new user into the database...');\n        const user = new User();\n        user.firstName = 'Timber';\n        user.lastName = 'Saw';\n        user.age = 25;\n        await connection.manager.save(user);\n        console.log('Saved a new user with id: ' + user.id);\n\n        console.log('Loading users from the database...');\n        const users = await connection.manager.find(User);\n        console.log('Loaded users: ', users);\n\n        console.log(\n            'Here you can setup and run express/koa/any other framework.'\n        );\n    })\n    .catch(error =&gt; console.log(error));\n</code></pre>\n\n<p>ormconfig.json</p>\n\n<pre><code>{\n    \"type\": \"mssql\",\n    \"host\": \"*\",\n    \"port\": 27017,\n    \"username\": \"*\",\n    \"password\": \"*\",\n    \"database\": \"*\",\n    \"synchronize\": true,\n    \"logging\": false,\n    \"entities\": [\"src/entity/**/*.ts\"],\n    \"migrations\": [\"src/migration/**/*.ts\"],\n    \"subscribers\": [\"src/subscriber/**/*.ts\"],\n    \"cli\": {\n        \"entitiesDir\": \"src/entity\",\n        \"migrationsDir\": \"src/migration\",\n        \"subscribersDir\": \"src/subscriber\"\n    }\n}\n\n</code></pre>\n\n<p>webpack.config.js</p>\n\n<pre><code>module.exports = {\n    mode: 'development',\n    entry: path.resolve(path.join(__dirname, './src/index.ts')),\n    externals: [nodeExternals()],\n    name: 'API',\n    context: __dirname,\n    target: 'node',\n    output: {\n        path: __dirname + '/dist',\n        filename: '[name].bundle.js',\n        publicPath: '/',\n        libraryTarget: 'commonjs2',\n    },\n    resolve: {\n        extensions: ['.ts', '.tsx', '.js', '.json'],\n        modules: [path.resolve(__dirname, 'node_modules')],\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.tsx?$/,\n                loader: 'awesome-typescript-loader',\n                exclude: [/node_modules/, /dist/],\n            },\n            {\n                test: /\\.js$/,\n                loader: 'babel-loader',\n                exclude: [/node_modules/, /dist/],\n                options: {\n                    babelrc: true,\n                },\n            },\n        ],\n    },\n    plugins: [new CleanWebpackPlugin()],\n};\n</code></pre>\n\n<p>Error messages are as following (the code reference is the default user entity file that comes with TypeORM</p>\n\n<pre><code>api/src/entity/User.ts:1\n(function (exports, require, module, __filename, __dirname) { import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm';\n                                                                     ^\n\nSyntaxError: Unexpected token {\n    at new Script (vm.js:80:7)\n    at createScript (vm.js:274:10)\n    at Object.runInThisContext (vm.js:326:10)\n    at Module._compile (internal/modules/cjs/loader.js:664:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular7", "crop"], "comments": [{"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1561542226, "post_id": 56769470, "comment_id": 100095128, "body": "we can use any javascript code, javascript library in angular 7. Please check this url <a href=\"https://stackoverflow.com/questions/56498228\">stackoverflow.com/questions/56498228</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 0, "last_activity_date": 1561957944, "creation_date": 1561957944, "answer_id": 56830262, "question_id": 56769470, "link": "https://stackoverflow.com/questions/56769470/angular-7-how-to-use-croppie-or-any-other-cropper/56830262#56830262", "title": "Angular 7: How to Use croppie or any other cropper", "body": "<p>You can use <code>ngx-image-cropper</code></p>\n\n<p>relevant <strong>TS</strong>:</p>\n\n<pre><code>import { Component, ViewChild } from '@angular/core';\nimport { ImageCroppedEvent, ImageCropperComponent } from 'ngx-image-cropper';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  name = 'Angular';\n  @ViewChild(ImageCropperComponent) imageCropper: ImageCropperComponent;\n\n  constructor() { }\n  imageChangedEvent: any = '';\n  croppedImage: any = '';\n\n  fileChangeEvent(event: any): void {\n    this.imageChangedEvent = event;\n  }\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = event.base64;\n  }\n  cropIt(evnt) {\n    console.log(this.croppedImage);\n  }\n\n}\n</code></pre>\n\n<p>relevant <strong>HTML</strong>:</p>\n\n<pre><code>&lt;input type=\"file\" (change)=\"fileChangeEvent($event)\" /&gt;\n\n&lt;image-cropper\n    [imageChangedEvent]=\"imageChangedEvent\"\n    [maintainAspectRatio]=\"true\"\n    [aspectRatio]=\"4 / 3\"\n    [resizeToWidth]=\"128\"\n    format=\"png\"\n    (imageCropped)=\"imageCropped($event)\"\n    (imageLoaded)=\"imageLoaded()\"\n    (cropperReady)=\"cropperReady()\"\n    (loadImageFailed)=\"loadImageFailed()\"\n&gt;&lt;/image-cropper&gt;\n\n&lt;img [src]=\"croppedImage\" /&gt;\n\n&lt;button type=\"button\" (click)=\"cropIt()\"&gt;save cropped image in Base64 &lt;/button&gt;\n</code></pre>\n\n<p>working <a href=\"https://stackblitz.com/edit/angular-5fourg\" rel=\"nofollow noreferrer\">stackblitz here</a></p>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 9229685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd03f186adecb273e9fc3f78af2effd?s=128&d=identicon&r=PG", "display_name": "Bharat chaudhari", "link": "https://stackoverflow.com/users/9229685/bharat-chaudhari"}, "is_accepted": false, "score": 2, "last_activity_date": 1575380265, "last_edit_date": 1575380265, "creation_date": 1574687950, "answer_id": 59032783, "question_id": 56769470, "link": "https://stackoverflow.com/questions/56769470/angular-7-how-to-use-croppie-or-any-other-cropper/59032783#59032783", "title": "Angular 7: How to Use croppie or any other cropper", "body": "<p>You can use croppie js.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>HTML ==&gt; &lt;div id=\"croppie\" #croppie&gt;&lt;/div&gt; \n</code></pre>\n\n\n\n<p>TS code:</p>\n\n<pre><code>// import croppie \nimport * as Croppie from 'croppie';\n\n// Take Element Ref\n@ViewChild('croppie') croppie: ElementRef; \n// or you can use using document.getElementById('croppie')\ncroppieObj; // global obj\n\nonFileChange() {\n   if (this.croppie &amp;&amp; this.croppie.nativeElement.className === 'croppie-container') {\n       this.croppieObj.destroy();\n   }\n\n   this.croppieObj = new Croppie(document.getElementById('croppie'), {\n   viewport: {\n     width: 200,\n     height: 200\n   },\n   boundary: {\n     width: auto,\n     height: 300\n   },\n   enableResize: true,\n   enableExif: true,\n   });\n\n   f.onload = (e1: any) =&gt; {\n   this.croppieObj.bind(\n    {\n      url: e1.target.result,\n    }\n  );\n };\n\n f.readAsDataURL(event.target.files[0]);\n} \n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8449651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b20ff5c3a14e5d1c0da52c7db13607?s=128&d=identicon&r=PG&f=1", "display_name": "lorem_ipsum", "link": "https://stackoverflow.com/users/8449651/lorem-ipsum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3204, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1607677447, "creation_date": 1561541280, "last_edit_date": 1561958171, "question_id": 56769470, "link": "https://stackoverflow.com/questions/56769470/angular-7-how-to-use-croppie-or-any-other-cropper", "title": "Angular 7: How to Use croppie or any other cropper", "body": "<p>I have created a gallery page where I'm taking images. Now I'm trying to add cropping option for an image, I wanted to use <a href=\"https://foliotek.github.io/Croppie/\" rel=\"nofollow noreferrer\">croppie</a> but don't understand how to use it in angular 7? </p>\n\n<p>Any other cropping option or suggestion would be appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1561542239, "post_id": 56769459, "comment_id": 100095133, "body": "Does it help if you put (under <code>providers</code>) <code>SentryErrorHandler</code> in <code>@NgModule</code> decorator of <code>SentryModule</code>?"}, {"owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "reply_to_user": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1561543576, "post_id": 56769459, "comment_id": 100095927, "body": "It didn&#39;t help."}], "answers": [{"tags": [], "owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "is_accepted": true, "score": 1, "last_activity_date": 1561545804, "last_edit_date": 1561545804, "creation_date": 1561543842, "answer_id": 56770264, "question_id": 56769459, "link": "https://stackoverflow.com/questions/56769459/cant-use-inject-in-provided-class-via-useclass/56770264#56770264", "title": "Can&#39;t use @Inject() in provided class via useClass", "body": "<p><code>InjectionTokens</code> must be exported apparently :-/ \nit's a bit unintuitive as it's only used inside that file.</p>\n\n<pre><code>export const SENTRY_OPTIONS = new InjectionToken&lt;BrowserOptions&gt;('SentryOptions');\n^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56770264, "answer_count": 1, "score": 0, "last_activity_date": 1561545804, "creation_date": 1561541237, "question_id": 56769459, "link": "https://stackoverflow.com/questions/56769459/cant-use-inject-in-provided-class-via-useclass", "title": "Can&#39;t use @Inject() in provided class via useClass", "body": "<p>I'm trying to replace the default Angular <code>ErrorHandler</code> with my own in a sub module I created. However it throw an <code>NullInjectorError</code>.</p>\n\n<p>I've narrowed down the issue to revolve around <code>@Inject(SENTRY_OPTIONS)</code>. Because when I remove the constructor from <code>SentryErrorHandler</code> it starts working.</p>\n\n<p>Problem is. I want to inject the config and can't figure out what I'm doing wrong as I appear to do the same thing as the <a href=\"https://angular.io/guide/dependency-injection-in-action\" rel=\"nofollow noreferrer\">docs</a>.</p>\n\n<p><strong>AppModule</strong></p>\n\n<pre><code>@NgModule({\n  // omitted...\n  imports: [SentryModule.forRoot(environment.sentry)]\n})\nexport class AppModule {}\n</code></pre>\n\n<p><strong>SentryModule</strong></p>\n\n<pre><code>import {\n  ErrorHandler,\n  Inject,\n  Injectable,\n  InjectionToken,\n  ModuleWithProviders,\n  NgModule,\n} from '@angular/core';\nimport { BrowserOptions, captureException, init } from '@sentry/browser';\n\nconst SENTRY_OPTIONS = new InjectionToken&lt;BrowserOptions&gt;('SentryOptions');\n\n@Injectable()\nexport class SentryErrorHandler implements ErrorHandler {\n  public constructor(@Inject(SENTRY_OPTIONS) config: BrowserOptions) {\n    init(config);\n  }\n\n  public handleError(error: Error | any) {\n    captureException(error.originalError || error);\n    throw error;\n  }\n}\n\n@NgModule()\nexport class SentryModule {\n  public static forRoot(sentryOptions?: BrowserOptions): ModuleWithProviders {\n    return {\n      ngModule: SentryModule,\n      providers: [\n        { provide: SENTRY_OPTIONS, useValue: sentryOptions },\n        { provide: ErrorHandler, useClass: SentryErrorHandler },\n      ],\n    };\n  }\n}\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>Uncaught NullInjectorError: StaticInjectorError(AppModule)[ErrorHandler -&gt; SentryErrorHandler]: \n  StaticInjectorError(Platform: core)[ErrorHandler -&gt; SentryErrorHandler]: \n    NullInjectorError: No provider for SentryErrorHandler!\n    at NullInjector.get (http://localhost:4200/vendor.js:36537:27)\n    at resolveToken (http://localhost:4200/vendor.js:36864:24)\n    at tryResolveToken (http://localhost:4200/vendor.js:36790:16)\n    at StaticInjector.get (http://localhost:4200/vendor.js:36653:20)\n    at resolveToken (http://localhost:4200/vendor.js:36864:24)\n    at tryResolveToken (http://localhost:4200/vendor.js:36790:16)\n    at StaticInjector.get (http://localhost:4200/vendor.js:36653:20)\n    at resolveNgModuleDep (http://localhost:4200/vendor.js:58301:29)\n    at _createClass (http://localhost:4200/vendor.js:58369:29)\n    at _createProviderInstance (http://localhost:4200/vendor.js:58334:26)\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "push-notification", "firebase-cloud-messaging", "firebase-admin"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1561543187, "post_id": 56769333, "comment_id": 100095704, "body": "You might want to start by running a simple Node.js script locally that sends a message with <code>admin.messaging().sendToDevice(...)</code>. If you can&#39;t get that the work, it definitely won&#39;t work in Cloud Functions either. Once you have it working locally, you can start adding the database trigger."}, {"owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1561543729, "post_id": 56769333, "comment_id": 100096015, "body": "I cannot setup it locally, please see this: <a href=\"https://stackoverflow.com/questions/56768174/warning-firebase-config-and-gcloud-project-environment-variables-are-missing-i\" title=\"warning firebase config and gcloud project environment variables are missing i\">stackoverflow.com/questions/56768174/&hellip;</a>"}, {"owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1561545076, "post_id": 56769333, "comment_id": 100096878, "body": "I have succeed to send push notification locally, direct to the device, but now, when I try to deploy a bit modified code, I receive an error: <code>Error: Error parsing triggers: Cannot find module &#39;.&#47;cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json&#39;</code>. I&#39;ve added the code to the thread"}, {"owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1561546372, "post_id": 56769333, "comment_id": 100097595, "body": "ok, I fixed this error, by moving the .json file one folder up, and setting path to <code>..&#47;cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json</code> (double <code>..</code> in front), but the push notifications aren&#39;t still working"}, {"owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1561552856, "post_id": 56769333, "comment_id": 100101600, "body": "Fixed, this, I have to change the path to <code>.ref(&#39;&#47;user-chat&#47;{anything}&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "is_accepted": true, "score": 0, "last_activity_date": 1561552944, "creation_date": 1561552944, "answer_id": 56773116, "question_id": 56769333, "link": "https://stackoverflow.com/questions/56769333/cannot-receive-push-notification-using-oncreate-event-in-firebase-reail-time-dat/56773116#56773116", "title": "Cannot receive push notification using onCreate event in firebase reail time database", "body": "<p>1) I had to move service account .json file out of the src file and change the path to it in the script like to parent folder (double dots <code>..</code>)</p>\n\n<p>2) I had to change ref path to <code>.ref('/user-chat/{anything}')</code></p>\n"}], "owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 56773116, "answer_count": 1, "score": 0, "last_activity_date": 1561552944, "creation_date": 1561540824, "last_edit_date": 1561545108, "question_id": 56769333, "link": "https://stackoverflow.com/questions/56769333/cannot-receive-push-notification-using-oncreate-event-in-firebase-reail-time-dat", "title": "Cannot receive push notification using onCreate event in firebase reail time database", "body": "<p>I am trying to achive the next feature:\nI want to send a Push Notification to my device, when I add a record in my firebase real time database.</p>\n\n<p>I registered my device at firebase, I have sent a test Push Notification via Firebase Console - I receive the Push Notification on my device.</p>\n\n<p>But now, when I deploy the next function the firebase and try to add a record under <code>/user-chat</code> path - I do not receive any push notifcation. Why? How to debug/test this?</p>\n\n<p>The code is below:</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\n\nadmin.initializeApp(functions.config().firebase);\n\nexports.sendPushNotification = functions.database\n  .ref('/user-chat')\n  .onCreate((event: any) =&gt; {\n\n    const payload = {\n        notification: {\n            title: 'Title',\n            body: 'come check it',\n            badge: '0',\n            sound: 'default',\n        }\n    };\n\n    const token = 'myTestedVerifiedToken';\n\n    return admin\n      .messaging()\n      .sendToDevice(token, payload)\n      .then((response: any) =&gt; {\n          // \n      });\n  });\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nI have suceeded to send the Push Notification direct to my device locally using nodejs. But now, when I wrap it to the onCreate method and try to deploy it, using <code>firebase deploy</code> command - I receive the next error:</p>\n\n<pre><code>Error: Error parsing triggers: Cannot find module './cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json'\n</code></pre>\n\n<p>What is the problem? The path works when I run the script locally.\nHere is the code:</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\n\nconst serviceAccount = require('./cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json');\n\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n  databaseURL: \"https://cargo-tender.firebaseio.com\"\n});\n\nexports.sendPushNotification = functions.database\n  .ref('/user-chat')\n  .onCreate((event: any) =&gt; {\n\n    const payload = {\n        notification: {\n        title: 'Title',\n        body: 'come check it',\n        badge: '0',\n        sound: 'default',\n        }\n    };\n    return admin\n      .messaging()\n      .sendToDevice('fcI1JGvOQnI:APA91bFql_J3Vx3TEfJgO6cwk6nmHBLtVrRk1J3AjD6f3nr5F5ZAI2yAy2Iiz4zBpkIXET2WurO8cjU0PY9lUbrPtNkej_oDCzozwIx1y_CwHxre1f3rFvIzr5K414oqBHdkamA2249e', payload)\n  });\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "express"], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 6324752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f84b3aadf0593aa59ffc784a8d7e4aa5?s=128&d=identicon&r=PG", "display_name": "Timelot", "link": "https://stackoverflow.com/users/6324752/timelot"}, "is_accepted": false, "score": 0, "last_activity_date": 1587651284, "creation_date": 1587651284, "answer_id": 61389348, "question_id": 56769100, "link": "https://stackoverflow.com/questions/56769100/officegen-how-to-set-table-data-text-size/61389348#61389348", "title": "OfficeGen how to set table data text size?", "body": "<p>I have done this using only 'column headers' for multiple rows in the table </p>\n"}], "owner": {"reputation": 455, "user_id": 11379139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8l_5gZaXJ8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfObo6-Ta-wxrMUvcAZ8YPwscO0ag/mo/photo.jpg?sz=128", "display_name": "Ahmed Ghrib", "link": "https://stackoverflow.com/users/11379139/ahmed-ghrib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1587651284, "creation_date": 1561539996, "question_id": 56769100, "link": "https://stackoverflow.com/questions/56769100/officegen-how-to-set-table-data-text-size", "title": "OfficeGen how to set table data text size?", "body": "<p>I am using officeGen to generate word documents.  </p>\n\n<blockquote>\n  <p>generateDocumentService.js</p>\n</blockquote>\n\n<pre><code>var generateReportFromTableData = function (tableData) {\n  console.log('tableData: ', tableData);\n var docx = officegen({\n    type: 'docx',\n    orientation: 'portrait',\n    pageMargins: {\n      top: 1000,\n      left: 1000,\n      bottom: 1000,\n      right: 1000\n    }\n  })\n  docx.on('error', function (err) {\n    console.log(err)\n  })\n  pObj = docx.createP({\n    align: 'center'\n  })\n\n  pObj.addText('Business Process General Information', {\n    border: 'dotted',\n    borderSize: 12,\n    borderColor: '88CCFF',\n    bold: true\n  })\n  var table = [\n    [\n    {\n      val: 'Ref',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Risk Statements',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Max Impact',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Control effectiveness',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Recommended Risk Rating',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Frequency',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Impact',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Validated Review Risk Rating',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '10',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    {\n      val: 'Rational For Risk Adjustment',\n      opts: {\n        cellColWidth: 2000,\n        b: true,\n        sz: '20',\n        shd: {\n          fill: '7F7F7F',\n          themeFill: 'Arial',\n          themeFillTint: '20'\n        },\n        fontFamily: 'Arial'\n      }\n    },\n    ],\n    ['Ahmed', 'Ghrib', 'Always', 'Finds','A','Soulution', 'Finds','A','Soulution'],\n    ['Ahmed', 'Ghrib', 'Always', 'Finds','A','Soulution', 'Finds','A','Soulution'],\n    ['Ahmed', 'Ghrib', 'Always', 'Finds','A','Soulution', 'Finds','A','Soulution'],\n    ['Ahmed', 'Ghrib', 'Always', 'Finds','A','Soulution', 'Finds','A','Soulution'],\n    ['Ahmed', 'Ghrib', 'Always', 'Finds','A','Soulution', 'Finds','A','Soulution'],\n    ['Ahmed', 'Ghrib', 'Always', 'Finds','A','Soulution', 'Finds','A','Soulution'],\n  ]\n\n  var tableStyle = {\n    tableColWidth: 4261,\n    tableSize: 72,\n    tableColor: 'ada',\n    tableAlign: 'left',\n    tableFontFamily: 'Comic Sans MS',\n    borders: true\n  }\n  pObj = docx.createTable(table, tableStyle)\n  var out = fs.createWriteStream(path.join('./docs/Table Data Report.docx'))\n\n  out.on('error', function (err) {\n    console.log(err)\n  })\n\n  async.parallel(\n    [\n      function (done) {\n        out.on('close', function () {\n          console.log('Finish to create a DOCX file.')\n          done(null)\n        })\n        docx.generate(out)\n      }\n    ],\n    function (err) {\n      if (err) {\n        console.log('error: ' + err)\n      } // Endif.\n    }\n  )\n}  \n</code></pre>\n\n<p>Here's the result :<br>\n<a href=\"https://i.stack.imgur.com/VtcJv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtcJv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Although I really love the OfficeGen framework, I couldn't find a way to choose a size for the text inside the table. It seems that either they have missed it or I couldn't find how.<br>\nFor the table column headers it was possible with this property sz inside their definition:  </p>\n\n<pre><code>{val: 'Ref',\n  opts: {\n    cellColWidth: 2000,\n    b: true,\n    sz: '10',\n    shd: {\n      fill: '7F7F7F',\n      themeFill: 'Arial',\n      themeFillTint: '20'\n    },\n    fontFamily: 'Arial'\n  }\n}\n</code></pre>\n\n<p>But for the data inside the table, for days I couldn't find a way. Nothing inside the tableStyle definition hints to a way to do that:  </p>\n\n<pre><code>  var tableStyle = {\n    tableColWidth: 4261,\n    tableSize: 72,\n    tableColor: 'ada',\n    tableAlign: 'left',\n    tableFontFamily: 'Comic Sans MS',\n    borders: true\n  }\n</code></pre>\n\n<p>Any help?? Thanks!<br>\n<a href=\"https://github.com/Ziv-Barber/officegen/blob/2c482ea3e83c45b4cde7ddfc6a3fe01c24b0f393/manual/README-docx.md\" rel=\"nofollow noreferrer\">Generating word document with OfficeGen documentation</a></p>\n"}, {"tags": ["node.js", "typescript", "express"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 7135964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5b32612dd1deecbb3c40f99b4a6854?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Yadav", "link": "https://stackoverflow.com/users/7135964/rajesh-yadav"}, "edited": false, "score": 0, "creation_date": 1561543019, "post_id": 56769421, "comment_id": 100095609, "body": "TypeError: routes\\index.js: Emit skipped  getting this error"}, {"owner": {"reputation": 129, "user_id": 7135964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5b32612dd1deecbb3c40f99b4a6854?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Yadav", "link": "https://stackoverflow.com/users/7135964/rajesh-yadav"}, "edited": false, "score": 0, "creation_date": 1561543249, "post_id": 56769421, "comment_id": 100095732, "body": "import express from &#39;express&#39;; const app = express(); import indexRouter from &#39;./routes/index&#39;  app.get(&#39;/&#39;, indexRouter);  app.listen(3000, () =&gt; console.log(&#39;Example app listening on port 3000!&#39;));"}, {"owner": {"reputation": 3209, "user_id": 7022485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67d655744453cf7afdc6eef71c52470c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Gupta", "link": "https://stackoverflow.com/users/7022485/rajesh-gupta"}, "reply_to_user": {"reputation": 129, "user_id": 7135964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5b32612dd1deecbb3c40f99b4a6854?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Yadav", "link": "https://stackoverflow.com/users/7135964/rajesh-yadav"}, "edited": false, "score": 1, "creation_date": 1561547773, "post_id": 56769421, "comment_id": 100098444, "body": "@RajeshYadav kindly accept it by clicking the check icon beside the answer"}, {"owner": {"reputation": 3209, "user_id": 7022485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67d655744453cf7afdc6eef71c52470c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Gupta", "link": "https://stackoverflow.com/users/7022485/rajesh-gupta"}, "reply_to_user": {"reputation": 129, "user_id": 7135964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5b32612dd1deecbb3c40f99b4a6854?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Yadav", "link": "https://stackoverflow.com/users/7135964/rajesh-yadav"}, "edited": false, "score": 0, "creation_date": 1561548012, "post_id": 56769421, "comment_id": 100098580, "body": "@RajeshYadav see <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3209, "user_id": 7022485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67d655744453cf7afdc6eef71c52470c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Gupta", "link": "https://stackoverflow.com/users/7022485/rajesh-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1561545772, "last_edit_date": 1561545772, "creation_date": 1561541083, "answer_id": 56769421, "question_id": 56768996, "link": "https://stackoverflow.com/questions/56768996/typescript-integration-with-existing-node-js-express-project/56769421#56769421", "title": "TypeScript Integration with existing Node js express project", "body": "<p>Yes, have a look at <a href=\"https://www.npmjs.com/package/ts-node\" rel=\"nofollow noreferrer\">ts-node</a> </p>\n\n<p>Install it globally:</p>\n\n<pre><code>npm install -g ts-node\n</code></pre>\n\n<p>Run app.ts:</p>\n\n<pre><code>ts-node app.ts\n</code></pre>\n\n<p>Answering your question in comments:</p>\n\n<p>First run <code>tsc --init</code> to create <code>tsconfig.json</code> automatically.\nThen install <code>npm i @types/node</code> and <code>npm i @types/express</code></p>\n\n<p>In ./routes/index.ts:</p>\n\n<pre><code>import {Request, Response} from 'express'\nexport function Hello(req: Request ,res: Response) {\n    res.send('Hello World')\n}\n</code></pre>\n\n<p>In app.ts</p>\n\n<pre><code>import express from 'express'; \nconst app = express(); \nimport {Hello} from './routes/index' \napp.get('/', Hello); \napp.listen(3000, () =&gt; console.log('Example app listening on port 3000!'));\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 7135964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5b32612dd1deecbb3c40f99b4a6854?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Yadav", "link": "https://stackoverflow.com/users/7135964/rajesh-yadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1561545772, "creation_date": 1561539676, "question_id": 56768996, "link": "https://stackoverflow.com/questions/56768996/typescript-integration-with-existing-node-js-express-project", "title": "TypeScript Integration with existing Node js express project", "body": "<p>I Want to develop node js express application with typescript. To integrate typescript in node js I followed a few tutorials from online and it is working as expected. but .ts files converted .js and it is stored in dist folder but I don't want like that. can I run my project with only with .ts files instead of converting to .js files in dist folder?</p>\n"}, {"tags": ["typescript", "ionic-framework", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 1, "last_activity_date": 1561543383, "creation_date": 1561543383, "answer_id": 56770124, "question_id": 56768922, "link": "https://stackoverflow.com/questions/56768922/firebase-get-data-ionic4/56770124#56770124", "title": "Firebase get data ionic4", "body": "<p>While you've declared <code>getUserByEmail</code> as <code>async</code>, you're not returning a promise.</p>\n\n<pre><code>async getUserByEmail(email: string): Promise&lt;User&gt; {\n    const user: User = new User();\n\n    return this.fireBase.database.ref(Path.USER_PATH)\n        .orderByChild('email')\n        .equalTo(email)\n        .once('value')\n        .then((snapshot) =&gt; {\n            snapshot.forEach(dataSnap =&gt; {\n                if (dataSnap) {\n                    const data = dataSnap.val();\n                    user.email = data.email;\n                    user.apartmentKey = data.apartmentKey;\n                }\n            });\n            return user;\n        });\n}\n</code></pre>\n\n<p>So the top-level now returns the result of the promise that <code>once()</code> returns, which in turn then returns your user.</p>\n"}], "owner": {"reputation": 9, "user_id": 7063637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4ce4a2a73054075f852ae28dd72279?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Pitty", "link": "https://stackoverflow.com/users/7063637/mr-pitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561543383, "creation_date": 1561539399, "last_edit_date": 1561543291, "question_id": 56768922, "link": "https://stackoverflow.com/questions/56768922/firebase-get-data-ionic4", "title": "Firebase get data ionic4", "body": "<p>Can not get data from returning object. I can get class from firebase realtime database but all attributes still undefined. \nBut if i user console.log() there are not undefined anymore.</p>\n\n<pre><code>constructor(public alertController: AlertController,\n                private userService: UsersService,\n                private apartmentService: ApartmentService) {\n        this.userService.currentUser().then(\n            (user) =&gt; {\n                if (user) {\n                    this.currentUser = user;\n                    console.log(this.currentUser); // defined\n                    console.log('Apartment Key = ' + this.currentUser.apartmentKey); // Undefined\n                    if (user.apartmentKey !== null &amp;&amp; user.apartmentKey !== '') {\n                        this.apartmentService.getApartment(this.currentUser.apartmentKey).then((apartment) =&gt; {\n                            if (apartment) {\n                                apartment.users.forEach(value =&gt; {\n                                    this.userService.getUserByEmail(value).then(userByEmail =&gt; {\n                                        this.users.push(userByEmail);\n                                    });\n                                });\n                            }\n                        });\n                    }\n                }\n            }\n        );\n    }\n\n\n</code></pre>\n\n<p>Firebase Index is on 'email\"</p>\n\n<pre><code> \"rules\": {\n    \".read\": true,\n    \".write\": true,    \n     \"my-users\": {\n        \".indexOn\": \"email\"\n   }\n  }\n\n</code></pre>\n\n<p>and the service method to get user</p>\n\n<pre><code>async getUserByEmail(email: string): Promise&lt;User&gt; {\n        const user: User = new User();\n\n        this.fireBase.database.ref(Path.USER_PATH)\n            .orderByChild('email')\n            .equalTo(email)\n            .once('value')\n            .then((snapshot) =&gt; {\n                snapshot.forEach(dataSnap =&gt; {\n                    if (dataSnap) {\n                        const data = dataSnap.val();\n                        user.email = data.email;\n                        user.apartmentKey = data.apartmentKey;\n                    }\n                });\n            });\n\n        return user;\n    }\n</code></pre>\n\n<p>This is console output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/w9Rl6.png\" alt=\"This is console output\"></p>\n"}, {"tags": ["node.js", "typescript", "graphql", "typeorm", "typegraphql"], "comments": [{"owner": {"reputation": 674, "user_id": 3782128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KhCoZ.png?s=128&g=1", "display_name": "Rub&#233;n Pozo", "link": "https://stackoverflow.com/users/3782128/rub%c3%a9n-pozo"}, "edited": false, "score": 0, "creation_date": 1562662029, "post_id": 56768911, "comment_id": 100436524, "body": "At the example in index.ts file you can see this option:  &quot; dropSchema: true&quot;. I think database is dropped each time you run the app. This is the reason because you are not getting error messages."}], "owner": {"reputation": 493, "user_id": 2632061, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001645963801/picture?type=large", "display_name": "Simon", "link": "https://stackoverflow.com/users/2632061/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561539335, "creation_date": 1561539335, "question_id": 56768911, "link": "https://stackoverflow.com/questions/56768911/typeorm-cli-is-not-generating-migrations-when-using-it-with-type-graphql", "title": "TypeORM CLI is not generating migrations when using it with type-graphql", "body": "<p>I wanted to use <a href=\"https://typeorm.io\" rel=\"nofollow noreferrer\">TypeORM</a> together with <a href=\"https://typegraphql.ml\" rel=\"nofollow noreferrer\">TypeGraphQL</a>.</p>\n\n<p>TypeGraphQL even has an <a href=\"https://github.com/19majkel94/type-graphql/tree/master/examples/typeorm-basic-usage\" rel=\"nofollow noreferrer\">example</a> for this case.</p>\n\n<p>But when I use it like that and try to generate migrations from that (using the TypeORM CLI and running <code>migration:generate</code>), nothing happens.</p>\n\n<p>There is no error in the log, no other log, nothing.</p>\n\n<p>This is the command I\u2019m running: </p>\n\n<p><code>ts-node -P tsconfig.typeorm.json --log-error -r tsconfig-paths/register ./node_modules/typeorm/cli.js migration:generate -n UserEntity</code></p>\n\n<p>Issue on GitHub: <a href=\"https://github.com/typeorm/typeorm/issues/4361\" rel=\"nofollow noreferrer\">https://github.com/typeorm/typeorm/issues/4361</a></p>\n"}, {"tags": ["reactjs", "typescript", "package.json", "tslint", "tsconfig"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561540867, "post_id": 56768748, "comment_id": 100094337, "body": "I have no idea why TypeScript can&#39;t narrow down the type, but if you do this <code>if (this.props.minDate instanceof Date)</code> it works. Strange..."}, {"owner": {"reputation": 25, "user_id": 6459911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6926570b671750415c74e12898dabf48?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yilmaz", "link": "https://stackoverflow.com/users/6459911/m-yilmaz"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561544126, "post_id": 56768748, "comment_id": 100096230, "body": "Indeed, it works. But I still wonder why null check does not work."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561563576, "post_id": 56768748, "comment_id": 100108434, "body": "Can you provide a link to an online IDE where the problem can be reproduced (stackblitz, codesandbox, codepen, repl.it, etc)?  I haven&#39;t seen the error in my environment and without a reproduction it&#39;s hard to say what&#39;s happening.  Please see the guidelines about what constitutes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>.  Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561540964, "post_id": 56769354, "comment_id": 100094387, "body": "This still doesn&#39;t work. <code>Type &#39;undefined&#39; is not assignable to type &#39;Date&#39;.</code>"}, {"owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561541347, "post_id": 56769354, "comment_id": 100094614, "body": "Now that&#39;s even more weird. Try checking explicitly if (minDate !== undefined). If that doesn&#39;t work then there&#39;s something wrong with your environment.  For reference, here&#39;s a online template where your exact code is compiling without problems: <a href=\"https://codesandbox.io/s/billowing-sunset-oonjo?fontsize=14\" rel=\"nofollow noreferrer\">codesandbox.io/s/billowing-sunset-oonjo?fontsize=14</a>"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561541442, "post_id": 56769354, "comment_id": 100094672, "body": "I&#39;m not OP, but I tried with <code>minDate !== undefined</code> and even with a custom type guard <code>function isUndefined(val): val is undefined {   return val === undefined; }</code>, none of which worked. Only <code>instanceof</code> guard worked."}, {"owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561541830, "post_id": 56769354, "comment_id": 100094886, "body": "Maybe this is happening because the props are never assigned. You could try if adding the constructor with props parameter passed to super-class helps.  I can&#39;t reproduce :/"}, {"owner": {"reputation": 25, "user_id": 6459911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6926570b671750415c74e12898dabf48?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yilmaz", "link": "https://stackoverflow.com/users/6459911/m-yilmaz"}, "edited": false, "score": 0, "creation_date": 1561544057, "post_id": 56769354, "comment_id": 100096203, "body": "I know I can use destructuring assignment and all sorts of crazy type checks for every possible falsy value(in this case just null and undefined.) but simply I don&#39;t want to. And curios of why even this ever happens."}, {"owner": {"reputation": 25, "user_id": 6459911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6926570b671750415c74e12898dabf48?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yilmaz", "link": "https://stackoverflow.com/users/6459911/m-yilmaz"}, "edited": false, "score": 0, "creation_date": 1561544385, "post_id": 56769354, "comment_id": 100096392, "body": "Adding constructor to class changed nothing, Besides, as far as I know, react already puts one default constructor for you if you don&#39;t supply one.."}, {"owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "edited": false, "score": 0, "creation_date": 1561545107, "post_id": 56769354, "comment_id": 100096897, "body": "Try comparing your package.json / tsconfig.json with the ones in codesandbox.io/s/billowing-sunset-oonjo?fontsize=14  At this point it would have to be either a TS configuration or IDE issue."}, {"owner": {"reputation": 25, "user_id": 6459911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6926570b671750415c74e12898dabf48?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yilmaz", "link": "https://stackoverflow.com/users/6459911/m-yilmaz"}, "edited": false, "score": 0, "creation_date": 1561546623, "post_id": 56769354, "comment_id": 100097751, "body": "You have react 16.8.4, I have 16.8.6. I removed everything from my tsconfig(since yours is nearly empty) nothing changed and kept giving the same error."}, {"owner": {"reputation": 25, "user_id": 6459911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6926570b671750415c74e12898dabf48?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yilmaz", "link": "https://stackoverflow.com/users/6459911/m-yilmaz"}, "edited": false, "score": 0, "creation_date": 1561546929, "post_id": 56769354, "comment_id": 100097915, "body": "Removing &quot;strictNullChecks&quot;: true from the tsConfig removed the error. But, I don&#39;t think they are related because after &quot;strictNullChecks&quot; property, it accepts everything, even without null check as the name suggests :)"}, {"owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "edited": false, "score": 0, "creation_date": 1561546974, "post_id": 56769354, "comment_id": 100097944, "body": "I agree. Removing &quot;strictNullChecks&quot; is not a real fix. Still clueless what&#39;s happening."}], "tags": [], "owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "is_accepted": false, "score": 0, "last_activity_date": 1561540881, "creation_date": 1561540881, "answer_id": 56769354, "question_id": 56768748, "link": "https://stackoverflow.com/questions/56768748/why-null-undefined-checks-does-not-work-in-classes-with-extendable-props-interfa/56769354#56769354", "title": "Why null/undefined checks does not work in Classes with extendable props interface in Typescript", "body": "<p>Hmm, not sure, does seem a bit strange, but on the other hand I'm not surprised - never know what's happening in the super-class.</p>\n\n<p>I would cache the prop, and then do the same thing with the cached value. This should be fool-proof.</p>\n\n<pre><code>updateDate() {\n    const { minDate } = this.props\n    if (minDate ) {  \n        this.createNewDateWithMonth5(minDate)\n    }\n}\n</code></pre>\n\n<p>This \"destructuring\" syntax is also extremely popular with react, as it shortens the code a lot as there is no need to write \"props\" or \"state\" for each reference.</p>\n"}], "owner": {"reputation": 25, "user_id": 6459911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6926570b671750415c74e12898dabf48?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yilmaz", "link": "https://stackoverflow.com/users/6459911/m-yilmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562013234, "creation_date": 1561538764, "last_edit_date": 1562013234, "question_id": 56768748, "link": "https://stackoverflow.com/questions/56768748/why-null-undefined-checks-does-not-work-in-classes-with-extendable-props-interfa", "title": "Why null/undefined checks does not work in Classes with extendable props interface in Typescript", "body": "<p>Null/undefined checks do not work in classes that accepts generic props.</p>\n\n<pre><code>interface IFooProps {  \n    minDate?: Date;\n}\n</code></pre>\n\n<p>1 - this gives \"undefined is not assignable to type \"Date\"\" error in updateDate function when calling createNewDateWithMonth5 function</p>\n\n<pre><code>class Foo&lt;P extends IFooProps&gt; extends React.Component&lt;P&gt; {  \n\n    updateDate() {  \n        if (this.props.minDate) {  \n            this.createNewDateWithMonth5(this.props.minDate)\n        }\n    }\n\n    createNewDateWithMonth5(date: Date): Date {  \n        const newDate = new Date(date);\n        newDate.setMonth(5);\n        return newDate;\n    }\n}\n</code></pre>\n\n<p>2 - this gives no error and works as expected.</p>\n\n<pre><code>class Foo extends React.Component&lt;IFooProps&gt; {  \n\n    updateDate() {  \n        if (this.props.minDate) {  \n            this.createNewDateWithMonth5(this.props.minDate)\n        }\n    }\n\n    createNewDateWithMonth5(date: Date): Date {  \n        const newDate = new Date(date);\n        newDate.setMonth(5);\n        return newDate;\n    }\n}\n</code></pre>\n\n<p>I was expecting 1 to work like 2 without any error.\nWhy null/undefined checks do not work in extendable classes with extendable props.</p>\n\n<p>Here is the sandbox <a href=\"https://codesandbox.io/s/sleepy-platform-9v260\" rel=\"nofollow noreferrer\">link</a> to reproduce the error.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1561538552, "post_id": 56768590, "comment_id": 100093006, "body": "Don&#39;t think there is any best practice, I prefer inline when the inital value does not depend on ctor params.."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1561538694, "post_id": 56768590, "comment_id": 100093086, "body": "Yes, me too. Smaller classes. But it&#39;s feels sometimes inconsistent, when mixing both technics. And switched between both depending of the constructor parameter list, is also not that smooth."}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 1, "creation_date": 1561538695, "post_id": 56768590, "comment_id": 100093088, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51494083/initializing-variables-inline-during-declaration-vs-in-the-constructor-in-angula\">Initializing variables inline during declaration vs in the constructor in Angular with TS</a>"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1561539041, "post_id": 56768590, "comment_id": 100093295, "body": "They&#39;re the same. I usually initialize everything inline, except when there&#39;s more logic behind it. So I probably won&#39;t to <code>protected subject: BehaviorSubject&lt;string&gt; = new BehaviorSubject&lt;string&gt;(this.getDefaultValueOfSubject());</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1561538572, "post_id": 56768670, "comment_id": 100093018, "body": "That&#39;s an interesting aspect. Thanks for the hint"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1561538815, "post_id": 56768670, "comment_id": 100093147, "body": "@scipper <a href=\"https://www.typescriptlang.org/play/index.html#code/KYDwDg9gTgLgBAYwDYEMDOa4FkCeBhVDOAbwCg44woIZgFaATONAVwCMArOmALjgGV2XegB40MKAEsAdgHMAfHAC8cacADuAodzESZCgBQBKANykAvqVKhIsRIUy4C6TGQpUa3YE1adufQT9RcSk5eTNyRAhpEJZ6aGMSSIoYAAtJNAA6X2F4FTVNQNzdUMNTSMtzIA\" rel=\"nofollow noreferrer\">you can verify it</a> (if you ever have similar questions)"}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1561538878, "post_id": 56768670, "comment_id": 100093185, "body": "@Maryannah yes, is just did it :)"}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": false, "score": 4, "last_activity_date": 1561538471, "creation_date": 1561538471, "answer_id": 56768670, "question_id": 56768590, "link": "https://stackoverflow.com/questions/56768590/best-practice-class-member-initialization/56768670#56768670", "title": "Best practice class member initialization", "body": "<p>It does not matter. Both code snippets will be transpiled exactly to the same code which is</p>\n\n<pre><code>export class MyClass {\n    constructor() {\n        this.subject = new Subject();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561539149, "creation_date": 1561538201, "last_edit_date": 1561539149, "question_id": 56768590, "link": "https://stackoverflow.com/questions/56768590/best-practice-class-member-initialization", "title": "Best practice class member initialization", "body": "<p>When I have a class like: </p>\n\n<pre><code>import {Subject} from \"rxjs\";\n\nexport class MyClass {\n  protected subject: Subject&lt;string&gt;;\n}\n</code></pre>\n\n<p>is it better practice in <em>TypeScript</em> to initialize the member <code>subject</code> in the constructor like:</p>\n\n<pre><code>export class MyClass {\n  protected subject: Subject&lt;string&gt;;\n\n  constructor() {\n    this.subject = new Subject&lt;string&gt;();\n  }\n}\n</code></pre>\n\n<p>or inline in the class body like:</p>\n\n<pre><code>export class MyClass {\n  protected subject: Subject&lt;string&gt; = new Subject&lt;string&gt;();\n}\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<p>Inline initialization obviously only works with imported classes like <code>Subject</code> in this case, not with injected classes, which would only be present in the constructor. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The <a href=\"https://angular.io/guide/styleguide\" rel=\"nofollow noreferrer\">Angular Style Guide</a> does not contain this part. </p>\n"}, {"tags": ["javascript", "typescript", "vue.js", "ag-grid"], "answers": [{"tags": [], "owner": {"reputation": 5323, "user_id": 4636721, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6NGhx.jpg?s=128&g=1", "display_name": "Mary Perret", "link": "https://stackoverflow.com/users/4636721/mary-perret"}, "is_accepted": true, "score": 0, "last_activity_date": 1561589759, "creation_date": 1561589759, "answer_id": 56781895, "question_id": 56768586, "link": "https://stackoverflow.com/questions/56768586/ag-grid-vue-js-how-to-access-to-the-parent-grid-method-of-a-renderer-in-typescr/56781895#56781895", "title": "ag-grid vue.js: How to access to the parent grid method of a renderer in typescript?", "body": "<p>Alright, that was pretty simple, I simply forgot declaring a <code>context</code> and <code>methods</code> fields (for some reasons I thought there were built-in...).</p>\n\n<p>So long story short:</p>\n\n<p>Logic => <code>CashoutRecords.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>context = { componentParent: this };\nmethods = {\n    async methodFromParent(cell: any) {\n        // ... implementation goes here\n    }\n};\n</code></pre>\n\n<p>And add a reference to that context in the template:</p>\n\n<p>Template => <code>CashoutRecords.vue</code>:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;ag-grid-vue\n    ...\n    :context=\"context\"\n...\n&gt;&lt;/ag-grid-vue&gt;\n&lt;/template&gt;\n</code></pre>\n"}], "owner": {"reputation": 5323, "user_id": 4636721, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6NGhx.jpg?s=128&g=1", "display_name": "Mary Perret", "link": "https://stackoverflow.com/users/4636721/mary-perret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "accepted_answer_id": 56781895, "answer_count": 1, "score": 2, "last_activity_date": 1561589759, "creation_date": 1561538194, "question_id": 56768586, "link": "https://stackoverflow.com/questions/56768586/ag-grid-vue-js-how-to-access-to-the-parent-grid-method-of-a-renderer-in-typescr", "title": "ag-grid vue.js: How to access to the parent grid method of a renderer in typescript?", "body": "<p>I am using ag-grid in a project, where I add a special cell renderer: \n<a href=\"https://www.ag-grid.com/javascript-grid-cell-rendering-components/#example-rendering-using-vuejs-components\" rel=\"nofollow noreferrer\">https://www.ag-grid.com/javascript-grid-cell-rendering-components/#example-rendering-using-vuejs-components</a></p>\n\n<p>The renderer works fine except that I cannot access to the parent grid methods like in the example given above (ie. <code>this.params.context.componentParent.methodFromParent(...);</code>)</p>\n\n<p>The cell renderer responsible for customizing the cell rendering and interactions:</p>\n\n<p>Template => <code>ActionCellRenderer.vue</code>:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n    &lt;span v-if=\"isPending() &amp;&amp; !isConfirmed\"&gt;\n        &lt;v-btn v-if=\"!isAskingForConfirmation\"\n               v-on:click=\"askForConfirmation\"\n               depressed small\n               class=\"button\"&gt;\n            &lt;v-icon class=\"icon\"&gt;undo&lt;/v-icon&gt; Cancel\n        &lt;/v-btn&gt;\n\n        &lt;v-btn v-else\n               v-on:click=\"confirm\"\n               depressed small\n               class=\"button\" &gt;\n            &lt;v-icon class=\"icon\"&gt;error_outline&lt;/v-icon&gt; Are you sure?\n        &lt;/v-btn&gt;\n    &lt;/span&gt;\n&lt;/template&gt;\n\n&lt;style&gt;\n    .button {\n        margin: 0;\n        font-size: .72rem;\n    }\n\n    .icon {\n        font-size: 1.3rem;\n    }\n&lt;/style&gt;\n\n&lt;script lang=\"ts\" src=\"./ActionCellRenderer.ts\"&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Logic => <code>ActionCellRenderer.ts</code> :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component\nexport default class ActionCellRenderer extends Vue {\n\n    public isAskingForConfirmation = false;\n    public isConfirmed = false;\n\n    isPending(): boolean {\n        // @ts-ignore\n        return this.params.value === \"Pending\";\n    }\n\n    askForConfirmation(): void {\n        // @ts-ignore\n        this.isAskingForConfirmation = true;\n        // @ts-ignore\n        console.log(this.params);\n        window.setTimeout(()  =&gt; {\n            this.isAskingForConfirmation = false;\n        }, 3000);\n    }\n\n    confirm(): void {\n        alert(\"Confirmed!\");\n        this.isConfirmed = true;\n    }\n}\n</code></pre>\n\n<p>The parent grid:</p>\n\n<p>Template => <code>CashoutRecords.vue</code>:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n  &lt;ag-grid-vue\n    class=\"ag-theme-balham\"\n    domLayout=\"autoHeight\"\n    :columnDefs=\"columnDefs\"\n    :defaultColDef=\"defaultColDef\"\n    :frameworkComponents=\"frameworkComponents\"\n    :rowData=\"cashoutRecords\"\n:gridOptions=\"gridOptions\"\n@grid-ready=\"onGridReady\"\n&gt;&lt;/ag-grid-vue&gt;\n&lt;/template&gt;\n\n&lt;style&gt;\n  .ag-row .ag-cell {\n    display: flex;\n    align-items: center;\n  }\n&lt;/style&gt;\n\n&lt;script lang=\"ts\" src=\"./CashoutRecords.ts\"&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Logic => <code>CashoutRecords.ts</code>:</p>\n\n<pre><code>@Component({\n    components: {\n        AgGridVue,\n    },\n})\nexport default class CashoutRecords extends Vue {\n\n    @NS.Action(Actions.fetchCashouts) fetchCashouts!: ActionTypes.fetchCashouts;\n    @NS.Action(Actions.fetchCompanies) fetchCompanies!: ActionTypes.fetchCompanies;\n    @NS.Getter(Getters.cashoutRecords) cashoutRecords!: GetterTypes.cashoutRecords;\n\n    gridOptions: GridOptions = {\n        rowHeight: 45,\n    };\n\n    frameworkComponents = {\n        actionCellRenderer: ActionCellRenderer,\n    };\n\n    columnDefs: ColDef[] = [\n        {\n            headerName: \"\",\n            filter: true,\n            pinned: \"right\",\n            field: \"state.name\",\n            width: 130,\n            resizable: true,\n            cellRenderer: \"actionCellRenderer\",\n        },\n        { headerName: \"Date\", field: \"createdOn\", valueFormatter: this.dateTimeFormatter, width: 150, resizable: true },\n        { headerName: \"Recipient\", field: \"recipient\", resizable: true },\n        { headerName: \"Amount\", field: \"amount\", valueFormatter: this.currencyFormatter, width: 110, resizable: true },\n        { headerName: \"Label\", field: \"comment\", resizable: true },\n        { headerName: \"State\", field: \"state.name\", width: 100, resizable: true },\n        { headerName: \"Created by\", field: \"createdBy\", resizable: true },\n    ];\n\n    defaultColDef = { filter: true };\n\n    private gridApi!: GridApi;\n\n    mounted() {\n        if (this.gridOptions.api) {\n            this.gridApi = this.gridOptions.api;\n        }\n    }\n\n    async onGridReady() {\n        await this.loadCashoutRecords();\n    }\n\n    async loadCashoutRecords() {\n        this.gridApi.showLoadingOverlay();\n        await Promise.all([\n            this.fetchCompanies(),\n            this.fetchCashouts(),\n        ]);\n        if (this.cashoutRecords.length === 0) {\n            this.gridApi.showNoRowsOverlay();\n        } else {\n            this.gridApi.hideOverlay();\n        }\n    }\n\n    private methodFromParent(cell: any) {\n        alert(\"Parent Component Method from \" + cell + \"!\");\n    }\n\n    private currencyFormatter(params: ValueFormatterParams) {\n        return toCurrency(params.value);\n    }\n\n    private dateTimeFormatter(params: ValueFormatterParams) {\n        return toDateTime(params.value);\n    }\n}\n</code></pre>\n\n<p>When doing <code>console.log(this.params);</code> when the <code>askForConfirmation</code> method is called, I don't see any <code>context</code> field:</p>\n\n<pre><code>Object\n$scope = null\naddRenderedRowListener = function (eventType, listener) {\naddRowCompListener = function () { [native code] }\nagGridReact = Object {}\napi = GridApi {detailGridInfoMap: , immutableService: , csvCreator: , excelCreator: , gridCore: , ...}\ncolumn = Column {moving: false, menuVisible: false, filterActive: false, eventService: , rowGroupActive: false, ...}\ncolumnApi = ColumnApi {columnController: }\ncolDef = Object {filter: true, headerName: \"\", pinned: \"right\", field: \"state.name\", width: 130, ...}\ndata = Object {id: 3, recipientAccountId: 456, recipientAccountName: \"Samuel L. Jackson\", createdOn: \"2019-06-10T17:02:00\", amount: 666, ...}\neGridCell = div.ag-cell.ag-cell-not-inline-editing.ag-cell-with-height.ag-cell-first-right-pinned.ag-cell-value.ag-column-hover.ag-cell-focus {__AG_0.44240488142399337: , align: \"\", title: \"\", lang: \"\", translate: true, ...}\neParentOfValue = div.ag-cell.ag-cell-not-inline-editing.ag-cell-with-height.ag-cell-first-right-pinned.ag-cell-value.ag-column-hover.ag-cell-focus {__AG_0.44240488142399337: , align: \"\", title: \"\", lang: \"\", translate: true, ...}\nformatValue = function () { [native code] }\nframeworkComponentWrapper = VueFrameworkComponentWrapper {parent: }\ngetValue = function () { [native code] }\nnode = RowNode {childrenMapped: , selectable: true, alreadyRendered: true, selected: false, mainEventService: , ...}\nallChildrenCount = null\nalreadyRendered = true\ncanFlower = false\nchildrenAfterFilter = undefined\nchildrenMapped = Object {}\nchildIndex = 2\ncolumnApi = ColumnApi {columnController: }\ncolumnController = ColumnController {primaryHeaderRowCount: 1, secondaryHeaderRowCount: 0, secondaryColumnsPresent: false, gridHeaderRowCount: 1, displayedLeftColumns: , ...}\ncontext = Context {beans: , componentsMappedByName: , destroyed: false, contextParams: , logger: }\ndata = Object {id: 3, recipientAccountId: 456, recipientAccountName: \"Samuel L. Jackson\", createdOn: \"2019-06-10T17:02:00\", amount: 666, ...}\neventService = EventService {allSyncListeners: , allAsyncListeners: , globalSyncListeners: , globalAsyncListeners: , asyncFunctionsQueue: , ...}\nexpanded = false\nfirstChild = false\ngridApi = GridApi {detailGridInfoMap: , immutableService: , csvCreator: , excelCreator: , gridCore: , ...}\ngridOptionsWrapper = GridOptionsWrapper {propertyEventService: , domDataKey: \"__AG_0.44240488142399337\", layoutElements: , gridOptions: , columnController: , ...}\ngroup = false\nid = \"2\"\nlastChild = false\nlevel = 0\nmainEventService = EventService {allSyncListeners: , allAsyncListeners: , globalSyncListeners: , globalAsyncListeners: , asyncFunctionsQueue: , ...}\nmaster = false\noldRowTop = undefined\nrowHeight = 45\nrowIndex = 2\nrowModel = ClientSideRowModel {gridOptionsWrapper: , columnController: , filterManager: , $scope: undefined, selectionController: , ...}\nrowTop = 90\nselectable = true\nselected = false\nselectionController = SelectionController {eventService: , rowModel: , gridOptionsWrapper: , columnApi: , gridApi: , ...}\nuiLevel = 0\nvalueCache = ValueCache {cacheVersion: 1, gridOptionsWrapper: , active: false, neverExpires: false}\nvalueService = ValueService {initialised: true, gridOptionsWrapper: , expressionService: , columnController: , eventService: , ...}\n__proto__ = Object {setData: , updateDataOnDetailNode: , createDataChangedEvent: , createLocalRowEvent: , updateData: , ...}\nrefreshCell = function () { [native code] }\nrowIndex = 2\nsetValue = function (value) {\nvalue = \"Pending\"\nvalueFormatted = null\n__proto__ = Object {constructor: , __defineGetter__: , __defineSetter__: , hasOwnProperty: , __lookupGetter__: , ...}\n</code></pre>\n\n<p>How can I access the grid method<code>methodFromParent</code> from the cell renderer?</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 8615252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf87766994c31034e1141fe7e810ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Andreew4x4", "link": "https://stackoverflow.com/users/8615252/andreew4x4"}, "edited": false, "score": 0, "creation_date": 1561549074, "post_id": 56769293, "comment_id": 100099224, "body": "Thanks a lot for your answer. But that is not exactly answer to my problem. I need to change document.documentElement.lang property (please, see edit example)"}, {"owner": {"reputation": 2578, "user_id": 8856591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pwvu.png?s=128&g=1", "display_name": "Tugay \u0130lik", "link": "https://stackoverflow.com/users/8856591/tugay-%c4%b0lik"}, "reply_to_user": {"reputation": 349, "user_id": 8615252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf87766994c31034e1141fe7e810ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Andreew4x4", "link": "https://stackoverflow.com/users/8615252/andreew4x4"}, "edited": false, "score": 1, "creation_date": 1561551552, "post_id": 56769293, "comment_id": 100100717, "body": "I added edited code according to your need. You may need small refactor in your code, but this will help i think."}], "tags": [], "owner": {"reputation": 2578, "user_id": 8856591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pwvu.png?s=128&g=1", "display_name": "Tugay \u0130lik", "link": "https://stackoverflow.com/users/8856591/tugay-%c4%b0lik"}, "is_accepted": true, "score": 3, "last_activity_date": 1561551507, "last_edit_date": 1561551507, "creation_date": 1561540657, "answer_id": 56769293, "question_id": 56768514, "link": "https://stackoverflow.com/questions/56768514/jest-mock-documentelement-lang-property/56769293#56769293", "title": "Jest mock documentElement lang property", "body": "<p>Well you are almost there, but when you access <code>document.documentElement.lang</code> property, the get accessor has been triggered. So you should define that object like below;</p>\n\n<pre><code>Object.defineProperty(document, 'documentElement', {\n    configurable: true,\n    get () {\n        return document.createElement('document');\n    },\n});\n</code></pre>\n\n<p>And in your test;</p>\n\n<p>before expect line you should add this line to trigger getter and make spy to be called.</p>\n\n<pre><code>window.document.documentElement.lang;\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Forget about above.</p>\n\n<p>Simply remove your setup code block, you don't need a spy or something in my opinion. </p>\n\n<p>Create a method for setting language into your constant. Then test that method instead of testing <code>get</code> action of documentElement.</p>\n\n<p>Use the code for setting lang property below before calling your method. (Imagine you have language method)</p>\n\n<pre><code>test('should return `de` language when document has one specified', () =&gt; {\n    Object.defineProperty(document.documentElement, 'lang', { value: 'de', configurable: true });\n\n    expect(component.language()).toBe('de');\n});\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 8615252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf87766994c31034e1141fe7e810ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Andreew4x4", "link": "https://stackoverflow.com/users/8615252/andreew4x4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 0, "accepted_answer_id": 56769293, "answer_count": 1, "score": 4, "last_activity_date": 1561551507, "creation_date": 1561537899, "last_edit_date": 1561548904, "question_id": 56768514, "link": "https://stackoverflow.com/questions/56768514/jest-mock-documentelement-lang-property", "title": "Jest mock documentElement lang property", "body": "<p>I'm trying to manipulate documentElement lang property for my tests. \nAnd can't figure it out how can I accomplished that. I've already tried  defining setupFiles in Jest config - and that gave me possibility to define it and no option to change it for different tests - as described here: <a href=\"https://stackoverflow.com/questions/41098009/mocking-document-in-jest\">Mocking `document` in jest</a></p>\n\n<p>Part of testing <strong>code</strong> looks like:</p>\n\n<pre><code>const lang: string = document.documentElement.lang ?\n      document.documentElement.lang : Constraints.DEFAULT_LANGUAGE;\n</code></pre>\n\n<p>The <strong>test</strong> look like this:</p>\n\n<pre><code>   test('should pass `en` language when document hasn`t any specified', () =&gt; {\n    const spy = jest.spyOn(window.document, 'documentElement', 'get');\n    expect(spy).toHaveBeenCalled();\n  });\n</code></pre>\n\n<p>And with <strong>setupFiles</strong>:</p>\n\n<pre><code>Object.defineProperty(document, 'documentElement', {\n    writable: true,\n    configurable: true,\n    value: document.createElement('document')\n});\n</code></pre>\n\n<p>When I have setupFiles I get error:\n<code>Property documentElement does not have access type get</code></p>\n\n<p>But when I try to spy on it without <code>setupfile.js</code> configured, spy is never called.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>More clear example what I'm trying to achieve:</p>\n\n<pre><code>    const lang: string = document.documentElement.lang ?\n      document.documentElement.lang : Constraints.DEFAULT_LANGUAGE;\n    component.src = `/${lang}/mysite`;\n</code></pre>\n\n<pre><code>test('should pass `de` language when document has one specified', () =&gt; {\n    const spy = jest.spyOn(window.document, 'documentElement', 'get');\n    const mockElement = document.createElement('document');\n    mockElement.lang = 'de';\n    spy.mockReturnValue(mockElement);\n    expect(component.src).toContain('/de/');\n  });\n</code></pre>\n\n<p>And in test I'm getting:</p>\n\n<pre><code>expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"/de/\"\n    Received string:    \"http://localhost/en/mysite\"\n\n</code></pre>\n"}, {"tags": ["javascript", "c#", "regex", "typescript"], "comments": [{"owner": {"reputation": 1634, "user_id": 3220424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a3c490767e71fbc3c6334dc5e3c756d?s=128&d=identicon&r=PG&f=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/3220424/sasha"}, "edited": false, "score": 2, "creation_date": 1561537461, "post_id": 56768364, "comment_id": 100092411, "body": "You need to fix your regex.. <a href=\"https://regex101.com/r/SX3HKG/1\" rel=\"nofollow noreferrer\">regex101.com/r/SX3HKG/1</a>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1561537768, "post_id": 56768364, "comment_id": 100092581, "body": "I suggest to just use <code>input type=&quot;email&quot;</code> in your typescript, converting this regex to ES5 is rather troublesome. Look, there is <code>\\w</code> that matches all Unicode letters, digits, connector punctuation, diacritics in .NET / C#, but not in JS. That is, let alone conditional constructs, negative and positive lookbehinds."}, {"owner": {"reputation": 864, "user_id": 9945524, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hiCA8AHAs6M/AAAAAAAAAAI/AAAAAAAAAAA/OwvaXilo3Pc/photo.jpg?sz=128", "display_name": "Mark Cilia Vincenti", "link": "https://stackoverflow.com/users/9945524/mark-cilia-vincenti"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1561537971, "post_id": 56768364, "comment_id": 100092684, "body": "I agree with @WiktorStribi\u017cew. With an <code>input type=&quot;email&quot;</code>, you leave it in the web browser&#39;s hands. Easy peasy. <a href=\"https://www.w3schools.com/tags/att_input_type_email.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/att_input_type_email.asp</a>"}, {"owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "edited": false, "score": 0, "creation_date": 1561538066, "post_id": 56768364, "comment_id": 100092734, "body": "Just to warn you: email validation is horror many try to avoid. RFC for it is just awful because of many backward compatability notes. Just validate [a-z0-9\\-\\.]+ for body and domain and you will be free from world of pain. Google do this, Yahoo do this, many other do this."}], "owner": {"reputation": 27, "user_id": 5193544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd934378eedd420418b4c5ab87bbf421?s=128&d=identicon&r=PG&f=1", "display_name": "cpkendall", "link": "https://stackoverflow.com/users/5193544/cpkendall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561537940, "creation_date": 1561537415, "last_edit_date": 1561537940, "question_id": 56768364, "link": "https://stackoverflow.com/questions/56768364/converting-a-c-email-validating-regular-expression-to-one-that-works-in-typescr", "title": "Converting a C# email validating regular expression to one that works in TypeScript", "body": "<p>The .NET API I'm calling uses the following regular expression to validate email addresses:</p>\n\n<pre><code>var isValidFormat = Regex.IsMatch(_emailAddress,@\"^(?(\"\")(\"\".+?(?&lt;!\\\\)\"\"@)|(([0-9a-z]((\\.(?!\\.))|[-!#\\$%&amp;'\\*\\+/=\\?\\^`\\{\\}\\|~\\w])*)(?&lt;=[0-9a-z])@))(?(\\[)(\\[(\\d{1,3}\\.){3}\\d{1,3}\\])|(([0-9a-z][-0-9a-z]*[0-9a-z]*\\.)+[a-z0-9][\\-a-z0-9]{0,22}[a-z0-9]))$\",RegexOptions.IgnoreCase, TimeSpan.FromMilliseconds(250));\n</code></pre>\n\n<p>This came from a suggestion in the Microsoft docs <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/how-to-verify-that-strings-are-in-valid-email-format\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I now want to implement the same check, client side in my TypeScript code, but I'm struggling to adjust the regex to one that will work in JS.  Taking the version without the double quotes escaped, and escaping the single quote with a backslash, as follows...</p>\n\n<pre><code>^(?(\")(\".+?(?&lt;!\\\\)\"@)|(([0-9a-z]((\\.(?!\\.))|[-!#\\$%&amp;\\'\\*\\+/=\\?\\^`{}|~\\w])*)(?&lt;=[0-9a-z])@))(?([)([(\\d{1,3}.){3}\\d{1,3}])|(([0-9a-z][-0-9a-z]*[0-9a-z]*.)+[a-z0-9][-a-z0-9]{0,22}[a-z0-9]))$\n</code></pre>\n\n<p>...and running through the Chrome debugger, it's not happy:</p>\n\n<pre><code>ERROR SyntaxError: Invalid regular expression: /^(?(\")(\".+?(?&lt;!\\)\"@)|(([0-9a-z]((.(?!.))|[-!#$%&amp;'*+/=?^`{}|~w])*)(?&lt;=[0-9a-z])@))(?([)([(d{1,3}.){3}d{1,3}])|(([0-9a-z][-0-9a-z]*[0-9a-z]*.)+[a-z0-9][-a-z0-9]{0,22}[a-z0-9]))$/: Invalid group\nat new RegExp (&lt;anonymous&gt;)\n(remainder of call stack omitted)\n</code></pre>\n\n<p>How can I resolve the invalid group error so I can use the same regex both server and client side?  I am aware of the general pitfalls of validating email addresses, and why it can be considered to be a bad idea, but the requirement is that I implement the same check client side as server side.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Running the above through <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a>, I see: \"The preceding token is not quantifiable\" referring to the first and last question marks.</p>\n"}, {"tags": ["typescript", "firebase", "npm", "push-notification", "firebase-admin"], "answers": [{"tags": [], "owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "is_accepted": true, "score": 2, "last_activity_date": 1561552787, "creation_date": 1561552787, "answer_id": 56773073, "question_id": 56768174, "link": "https://stackoverflow.com/questions/56768174/warning-firebase-config-and-gcloud-project-environment-variables-are-missing-i/56773073#56773073", "title": "Warning, FIREBASE_CONFIG and GCLOUD_PROJECT environment variables are missing. Initializing firebase-admin will fail", "body": "<p>As I read - I should install an emulator to try to work locally.\nAlso, there is a functions page on the firebase console. Where I can test the function and see <code>console.log()</code> outputs.</p>\n"}], "owner": {"reputation": 1561, "user_id": 2493556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f6111bec39e013ac0ef7c4306019227?s=128&d=identicon&r=PG", "display_name": "Sergej", "link": "https://stackoverflow.com/users/2493556/sergej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 0, "accepted_answer_id": 56773073, "answer_count": 1, "score": 1, "last_activity_date": 1561552787, "creation_date": 1561536738, "question_id": 56768174, "link": "https://stackoverflow.com/questions/56768174/warning-firebase-config-and-gcloud-project-environment-variables-are-missing-i", "title": "Warning, FIREBASE_CONFIG and GCLOUD_PROJECT environment variables are missing. Initializing firebase-admin will fail", "body": "<p>I am using this tutorial, to setup firebase admin SDK.</p>\n\n<p><a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup</a></p>\n\n<p>I have downloaed a json file (service account) from firebase console.\nIt is under the the path:</p>\n\n<p><code>C:\\ct\\functions\\src\\cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json</code></p>\n\n<p>I have set an environment variable:</p>\n\n<p><code>GOOGLE_APPLICATION_CREDENTIALS=C:\\ct\\functions\\src\\cargo-tender-firebase-adminsdk-8e307-c6b82762d2.json</code></p>\n\n<p>And when I run the script, I receive the following Warning:</p>\n\n<pre><code>Warning, FIREBASE_CONFIG and GCLOUD_PROJECT environment variables are missing. Initializing firebase-admin will fail\n</code></pre>\n\n<p><strong>Why? And how to fix this problem? How can I test the code? (I want to send Push notification in onCreate event)</strong></p>\n\n<p>My code:</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar functions = require(\"firebase-functions\");\nvar admin = require(\"firebase-admin\");\n\nadmin.initializeApp({\n    credential: admin.credential.applicationDefault(),\n    databaseURL: 'https://cargo-tender.firebaseio.com'\n});\n\nexports.sendPushNotification = functions.database\n    .ref('/user-chat')\n    .onCreate(function (event) {\n    var payload = {\n        notification: {\n            title: 'Title',\n            body: 'come check it',\n            badge: '0',\n            sound: 'default'\n        }\n    };\n    return admin\n        .database()\n        .ref('fcmToken')\n        .once('value')\n        .then(function (allToken) {\n        if (allToken.val()) {\n            var token = Object.keys(allToken.val());\n            return admin\n                .messaging()\n                .sendToDevice(token, payload)\n                .then(function (response) {\n                    // \n                });\n        }\n    });\n});\n</code></pre>\n\n<p>Versions:</p>\n\n<pre><code>PS C:\\ct\\functions&gt; tsc -v\nVersion 3.5.2\nPS C:\\ct\\functions&gt; firebase -V\n7.0.2\nPS C:\\ct\\functions&gt; node -v\nv10.16.0\nPS C:\\ct\\functions&gt; npm -v\n6.9.0\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "reply_to_user": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561536789, "post_id": 56767938, "comment_id": 100092062, "body": "Here is stackblitz with minimal setup - <a href=\"https://stackblitz.com/edit/angular-ckdw89\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-ckdw89</a>"}, {"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561538202, "post_id": 56767938, "comment_id": 100092805, "body": "I have edited my question. I am using window.location.href to access the url. I even tried your sample code to access the URL with http.window. I  am getting thhis error  Access to XMLHttpRequest at &#39;https:&quot;<a href=\"https://GoingforAuthentication.com\" rel=\"nofollow noreferrer\">GoingforAuthentication.com</a>&quot;    from origin &#39;<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a>&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource."}, {"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561538513, "post_id": 56767938, "comment_id": 100092979, "body": "I have to redirect the URL and the authentication part is done over there  and after sucessfull authentication re directed to home page.. I dont think with http calls we can do re direct.."}], "tags": [], "owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1561535865, "creation_date": 1561535865, "answer_id": 56767938, "question_id": 56767868, "link": "https://stackoverflow.com/questions/56767868/angular-7-interceptor/56767938#56767938", "title": "Angular 7 Interceptor", "body": "<p>Change in <code>providers</code>:</p>\n\n<pre><code>ExampleAuth\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>{ provide: HTTP_INTERCEPTORS, useClass: ExampleAuth, multi: true }\n</code></pre>\n\n<p>Check also this: <a href=\"https://angular.io/guide/http#intercepting-requests-and-responses\" rel=\"nofollow noreferrer\">https://angular.io/guide/http#intercepting-requests-and-responses</a></p>\n"}, {"comments": [{"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561538747, "post_id": 56768312, "comment_id": 100093111, "body": "I have update the question.. I am redirecting the url through windows.location.href"}, {"owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "reply_to_user": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561539045, "post_id": 56768312, "comment_id": 100093300, "body": "You need to get the value from url when you get redirected BACK to your app from auth service, right? So it does not matter how you redirecting TO it..."}], "tags": [], "owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1561537247, "creation_date": 1561537247, "answer_id": 56768312, "question_id": 56767868, "link": "https://stackoverflow.com/questions/56767868/angular-7-interceptor/56768312#56768312", "title": "Angular 7 Interceptor", "body": "<p>Http Interceptors used to intercept <strong>your</strong> requests through HttpClient's calls. What you need is just to check if you have required params in url when your app started. For this you need to inject <code>ActivatedRoute</code> service in your <code>app.component.ts</code></p>\n\n<pre><code>constructor(private _route: ActivatedRoute, ....) { ... }\n</code></pre>\n\n<p>and check for <code>someValue</code> in <code>ngOnInit</code></p>\n\n<pre><code>ngOnInit() {\n    const someValue = this._route.snapshot.queryParams['someValue'];\n    if (someValue == '....') {\n        // have been redirected from auth\n    }\n}\n</code></pre>\n\n<p><a href=\"https://angular.io/api/router/ActivatedRoute\" rel=\"nofollow noreferrer\">https://angular.io/api/router/ActivatedRoute</a></p>\n"}, {"comments": [{"owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "reply_to_user": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561543839, "post_id": 56769649, "comment_id": 100096083, "body": "Is there a particular event where you&#39;re redirecting the user to the external login? Like a login button?"}, {"owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "edited": false, "score": 0, "creation_date": 1561548252, "post_id": 56769649, "comment_id": 100098718, "body": "Is not this the same I answered 2 hours before?"}, {"owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "reply_to_user": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "edited": false, "score": 0, "creation_date": 1561556624, "post_id": 56769649, "comment_id": 100104017, "body": "@Dimanoid - not exactly. Although your answer would work for this particular case, if the project is scaled and there ever comes a scenario where the query params are updated from within the component or by a child, the <code>ngOnInit</code> function would not be invoked thereby not changing the data accordingly if any. By subscribing, we tell Angular to &quot;keep a lookout&quot; for any changes on the query params and do the necessary changes."}, {"owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "edited": false, "score": 0, "creation_date": 1561557789, "post_id": 56769649, "comment_id": 100104794, "body": "In the question clearly stated that he redirects to <code>https:&#47;&#47;GoingforAuthentication.com</code> then back to his app at <code>https:&#47;&#47;mytesting.com</code> how in this scenario can happen &quot;the query params are updated from within the component or by a child&quot;? Your solution will lead to wrong behavior."}, {"owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "reply_to_user": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "edited": false, "score": 0, "creation_date": 1561570231, "post_id": 56769649, "comment_id": 100111628, "body": "It wouldn&#39;t lead to wrong behavior because it does the same thing present in your solution, except that it subscribes to the query parameter in the URL making sure any further changes to the parameter would reflect in the component making it more dynamic. Please correct me if I&#39;m wrong, but I don&#39;t see how this would lead to wrong behavior."}, {"owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "edited": false, "score": 0, "creation_date": 1561621228, "post_id": 56769649, "comment_id": 100126529, "body": "The task required to handle auth token once, when auth service redirects back to the app, your code will be executed every change in params and may lead to authentication break and whole app misbehavior. If you dont see the difference I have nothing else to say."}], "tags": [], "owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "is_accepted": true, "score": 0, "last_activity_date": 1561541882, "creation_date": 1561541882, "answer_id": 56769649, "question_id": 56767868, "link": "https://stackoverflow.com/questions/56767868/angular-7-interceptor/56769649#56769649", "title": "Angular 7 Interceptor", "body": "<p>I don't see a need for you to use an interceptor. This logic would be specific to your component. You can subscribe to the observables present in <code>ActivatedRoute</code> to get the query params dynamically.</p>\n\n<pre><code>import { ActivatedRoute } from '@angular/router';\n...\n\n  constructor(\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(queryParam =&gt; {\n      console.log(queryParam.someValue);\n      // Do something with new query param here. Eg. update view, api call, etc.\n    });\n  }\n</code></pre>\n\n<p>This way even if you update the query param internally in your Angular code, you can update your view accordingly as you are subscribed to the query params.</p>\n"}], "owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "accepted_answer_id": 56769649, "answer_count": 3, "score": 1, "last_activity_date": 1561541882, "creation_date": 1561535632, "last_edit_date": 1561537712, "question_id": 56767868, "link": "https://stackoverflow.com/questions/56767868/angular-7-interceptor", "title": "Angular 7 Interceptor", "body": "<p>I am calling an API which is redirecting to external url doing the authentication and again redirecting to my home page and appending some parameters in the Home page URL.</p>\n\n<p>default URL: <a href=\"https://mytesting.com\" rel=\"nofollow noreferrer\">https://mytesting.com</a></p>\n\n<p>after redirecting URL: <a href=\"https://mytesting.com/?someValue=123E234\" rel=\"nofollow noreferrer\">https://mytesting.com/?someValue=123E234</a></p>\n\n<p>I want to retrieve the \"someValue\" when I am landed to my default page (<a href=\"https://mytesting.com/?someValue=123E234\" rel=\"nofollow noreferrer\">https://mytesting.com/?someValue=123E234</a>) after redirecting. In java, we can retrieve it through a filter. In Angular, I am using Interceptor but the interceptor is never getting invoked and also don't know how do I achieve this with Interceptor</p>\n\n<p>shared/exampleAuth.interceptor.ts</p>\n\n<pre><code>@Injectable()\nexport class ExampleAuth implements HttpInterceptor {\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler):\n    Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    console.log('Checking Interceptor'); // This is never called\n    return next.handle(request);\n  }\n\n}\n</code></pre>\n\n<p>home.componet</p>\n\n<pre><code>  @Component({\n  selector: 'home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n   })\n\n   export class LoginComponent implements OnInit{\n   constructor(private someservice: SomeotherService,\n          private _router: Router) {\n\n    ngOnInit() {\n    window.location.href =\"https://GoingforAuthentication.com\"\n     }\n\n\n   }\n\n\n  }\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpModule\n  ],\n  providers: [\n    SomeotherService,\n    ExampleAuth\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "observable"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1561535692, "creation_date": 1561535692, "answer_id": 56767885, "question_id": 56767774, "link": "https://stackoverflow.com/questions/56767774/refactor-messy-subscribing-in-order-to-further-subscribe/56767885#56767885", "title": "Refactor messy subscribing in order to further subscribe", "body": "<pre><code>this.permissionService.build().pipe(\n  tap(p =&gt; this.Headers = p),\n  switchMap(p =&gt; this.accessService.buildTitlesWithMenus()),\n).subscribe(q =&gt; this.treeNodes = this.accessService.buildTreeTable(q));\n</code></pre>\n\n<p>This would be the right approach. </p>\n\n<p>If you have any questions, feel free to ask !</p>\n"}, {"tags": [], "owner": {"reputation": 3510, "user_id": 6474811, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10209554001672500/picture?type=large", "display_name": "Roman Skydan", "link": "https://stackoverflow.com/users/6474811/roman-skydan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561537686, "creation_date": 1561537686, "answer_id": 56768449, "question_id": 56767774, "link": "https://stackoverflow.com/questions/56767774/refactor-messy-subscribing-in-order-to-further-subscribe/56768449#56768449", "title": "Refactor messy subscribing in order to further subscribe", "body": "<p>This is a normal way. And you make everything right. But if you want to structurize your code. And make it more readable you can youse different ways: </p>\n\n<ol>\n<li>Use <a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/forkJoin\" rel=\"nofollow noreferrer\">forkJoin</a> method of <code>rxjs</code></li>\n</ol>\n\n<blockquote>\n  <p>Accepts an Array of <code>ObservableInput</code> or a dictionary Object of\n  <code>ObservableInput</code> and returns an <code>Observable</code> that emits either an array\n  of values in the exact same order as the passed array, or a dictionary\n  of values in the same shape as the passed dictionary.</p>\n</blockquote>\n\n<pre><code>private buildPermissionService() {\n    return this.permissionService.build();\n}\n\nprivate buildTitlesWithMenus() {\n    return this.accessService.buildTitlesWithMenus();\n}\n\nprivate buildMenuAndPermissions() {\n    return forkJoin(\n        this.buildPermissionService(),\n        this.buildTitlesWithMenus()).subscribe(result =&gt; {\n        this.Headers = result[0];\n        this.treeNodes = this.accessService.buildTreeTable(result[1]);\n    });\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Use <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/switchMap\" rel=\"nofollow noreferrer\">switchMap</a> method of <code>rxjs</code></li>\n</ol>\n\n<blockquote>\n  <p>Projects each source value to an Observable which is merged in the\n  output Observable, emitting values only from the most recently\n  projected Observable.</p>\n</blockquote>\n\n<pre><code>this.permissionService.build().pipe(\n  tap(p =&gt; this.Headers = p),\n  switchMap(p =&gt; this.accessService.buildTitlesWithMenus()),\n).subscribe(q =&gt; this.treeNodes = this.accessService.buildTreeTable(q));\n</code></pre>\n\n<p>And more methods you can find in the documentation. For example, if you need not only get the result but and combine it you can use <a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/zip\" rel=\"nofollow noreferrer\">zip</a> or <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/combineAll\" rel=\"nofollow noreferrer\">combineAll</a>. </p>\n"}], "owner": {"reputation": 27, "user_id": 11436856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c24fdbf4de2faaa0e95e070c0874b625?s=128&d=identicon&r=PG&f=1", "display_name": "Whistler1", "link": "https://stackoverflow.com/users/11436856/whistler1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56767885, "answer_count": 2, "score": 0, "last_activity_date": 1561537686, "creation_date": 1561535272, "question_id": 56767774, "link": "https://stackoverflow.com/questions/56767774/refactor-messy-subscribing-in-order-to-further-subscribe", "title": "Refactor messy subscribing in order to further subscribe", "body": "<p>I am learning Angular and have come across Observables which I like and still don't fully understand. So I have an Observable that needs the completion of an observable in order to proceed.</p>\n\n<p>I had some sequence issues because they are independent, so I needed to nest them to ensure the second Observable waits for the completion of the first one.\nI wondered if there is a better approach to what I have done as it seems well a bit of a mess. I will probably need to add another nested observable to this structure.</p>\n\n<p>Here is an example of my code...</p>\n\n<pre><code>    this.permissionService.build().subscribe( p =&gt;{\n        this.Headers = p; \n        this.accessService.buildTitlesWithMenus().subscribe( q =&gt; {\n          this.treeNodes = this.accessService.buildTreeTable(q); \n        });                 \n    });\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1885, "user_id": 3018671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w0vV4.jpg?s=128&g=1", "display_name": "NicuVlad", "link": "https://stackoverflow.com/users/3018671/nicuvlad"}, "edited": false, "score": 1, "creation_date": 1561534754, "post_id": 56767467, "comment_id": 100091055, "body": "Maybe you can edit your question?"}], "answers": [{"tags": [], "owner": {"reputation": 1634, "user_id": 9380944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee6d96ba0c97cf891345b066dcbac7d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/9380944/ankit-prajapati"}, "is_accepted": true, "score": 1, "last_activity_date": 1561534753, "creation_date": 1561534753, "answer_id": 56767644, "question_id": 56767467, "link": "https://stackoverflow.com/questions/56767467/how-can-i-display-data-from-a-subarray/56767644#56767644", "title": "How can I display data from a subarray?", "body": "<p>You can show hobbies as below.</p>\n\n<pre><code>&lt;table class=\"table\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th scope=\"col\"&gt;#&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;First&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;Last&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;Title&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr *ngFor=\"let tableRow of table\" (click)=\"open(tableRow)\"&gt;\n      &lt;th scope=\"row\"&gt;{{tableRow.id}}&lt;/th&gt;\n      &lt;td&gt;{{tableRow.first}}&lt;/td&gt;\n      &lt;td&gt;{{tableRow.last}}&lt;/td&gt;\n      &lt;td&gt;{{tableRow.title}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;div *ngIf=\"bellowContent\"&gt;\n&lt;p&gt;id: {{ bellowContent.id }}&lt;/p&gt;\n&lt;p&gt;first: {{ bellowContent.first }}&lt;/p&gt;\n&lt;p&gt;last: {{ bellowContent.last }}&lt;/p&gt;\n&lt;p&gt;title: {{ bellowContent.title }}&lt;/p&gt;\nhobbies, frequency: \n  &lt;ul&gt;\n    &lt;li *ngFor=\"let h of bellowContent.hobbies\"&gt; \n      {{h.name}}, {{h.frequency}}\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56767644, "answer_count": 1, "score": -3, "last_activity_date": 1565929912, "creation_date": 1561534165, "last_edit_date": 1565929912, "question_id": 56767467, "link": "https://stackoverflow.com/questions/56767467/how-can-i-display-data-from-a-subarray", "title": "How can I display data from a subarray?", "body": "<p>Actually, I want to get data from subarray. But I dont know how to get it. Could you show me how to get data from sub array. Bellow I provide my code for your reference.</p>\n\n<p>app.component.html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table class=\"table\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th scope=\"col\"&gt;#&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;First&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;Last&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;Title&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr *ngFor=\"let tableRow of table\" (click)=\"open(tableRow)\"&gt;\n      &lt;th scope=\"row\"&gt;{{tableRow.id}}&lt;/th&gt;\n      &lt;td&gt;{{tableRow.first}}&lt;/td&gt;\n      &lt;td&gt;{{tableRow.last}}&lt;/td&gt;\n      &lt;td&gt;{{tableRow.title}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;div *ngIf=\"bellowContent\"&gt;\n&lt;p&gt;id: {{ bellowContent.id }}&lt;/p&gt;\n&lt;p&gt;first: {{ bellowContent.first }}&lt;/p&gt;\n&lt;p&gt;last: {{ bellowContent.last }}&lt;/p&gt;\n&lt;p&gt;title: {{ bellowContent.title }}&lt;/p&gt;\n&lt;p&gt;hobbies: {{ bellowContent.hobbie || null }}&lt;/p&gt;\n&lt;p&gt;frequency: {{bellowContent.frequency}}\n&lt;/div&gt;\n</code></pre>\n\n<p>and bellow is my component code</p>\n\n<p>app.component.ts</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class AppComponent {\n  closeResult: string;\n  bellowContent = [];\n  table = [\n  {\n    \"id\": 1,\n    \"first\":\"Robin\",\n    \"last\": \"William\",\n    \"title\": \"back end developer\",\n    \"hobbies\": [\n      {\n        \"hobbie\": \"tv\",\n        \"frequency\": \"3 hours a day\"\n      },\n      {\n        \"name\": \"game\",\n        \"frequency\": \"2 hour per day\"\n      }\n    ]\n  },{\n    \"id\": 2,\n    \"first\":\"Mark\",\n    \"last\": \"Thornton\",\n    \"title\": \"front end developer\",\n    \"hobbies\": [\n      {\n        \"name\": \"tv\",\n        \"frequency\": \"3 hours a day\"\n      },\n      {\n        \"name\": \"game\",\n        \"frequency\": \"2 hour per day\"\n      }\n    ]\n  },{\n    \"id\": 3,\n    \"first\":\"Tary\",\n    \"last\": \"Huction\",\n    \"title\": \"front end developer\",\n    \"hobbies\": [\n      {\n        \"name\": \"tv\",\n        \"frequency\": \"3 hours a day\"\n      },\n      {\n        \"name\": \"game\",\n        \"frequency\": \"2 hour per day\"\n      }\n    ]\n  }\n]\n\n\n  open(tableRow) {\n      this.bellowContent = tableRow\n  }\n}\n</code></pre>\n\n<p>For more you can refer to <a href=\"https://stackblitz.com/edit/angular-nhoazu\" rel=\"nofollow noreferrer\">stackblitz</a>\nThanks in advance for your help</p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1561534308, "post_id": 56767466, "comment_id": 100090810, "body": "Your example effectively makes <code>All[&#39;children&#39;]</code> equivalent to <code>never</code>, but component children have a <i>lot</i> more allowed types than your example here."}, {"owner": {"reputation": 502, "user_id": 2583885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiGq2.jpg?s=128&g=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/2583885/jess"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1561535072, "post_id": 56767466, "comment_id": 100091224, "body": "@PatrickRoberts Yes, <code>React</code> <code>children</code> have a lot more types, but I don\u2019t find out why. if I define <code>children: View[]</code> in my <code>Props</code> and with React\u2019s <code>children</code> definiion <code>children?: ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;</code>, according to my understanding,  the final types should be <code>View[] &amp; ReactChild | View[] &amp; ReactFragment | View[] &amp; ReactPortal | View[] &amp; boolean | View[] &amp; null | View[] &amp; undefined;</code>. When I use <code>View Array</code> as <code>children</code> in my component, there\u2019s no errror. I don\u2019t see the difference between <code>React</code> children and my demo definition"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561564448, "post_id": 56767466, "comment_id": 100108922, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that someone can investigate in their own environment (or even better provide a link to a web IDE like codesandbox/stackblitz where you code is already set up) and then we can maybe tell you why your code is or is not working."}, {"owner": {"reputation": 502, "user_id": 2583885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiGq2.jpg?s=128&g=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/2583885/jess"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1561615547, "post_id": 56767466, "comment_id": 100123783, "body": "@jcalz thx for your replay. I find out, in <code>React.Component</code> children definition, <code>type ReactFragment = {} | ReactNodeArray;</code> which solve this problem"}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 2583885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiGq2.jpg?s=128&g=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/2583885/jess"}, "edited": false, "score": 0, "creation_date": 1561545971, "post_id": 56767677, "comment_id": 100097371, "body": "thx for your replay. I&#39;ve updated my post. union types are easier to understand, but intersection types are not. Such as <code>children</code> definition in <code>React.Component</code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1561534889, "creation_date": 1561534889, "answer_id": 56767677, "question_id": 56767466, "link": "https://stackoverflow.com/questions/56767466/typescript-intersection-types/56767677#56767677", "title": "TypeScript intersection types", "body": "<p>An intersection type means that instances assignable to this type must be assignable to an constituent of the intersection. This leads the compiler to type <code>children</code> as <code>string[] &amp; (number | boolean | undefined | null)</code> which is a very difficult type to realize and probably not what you are looking for anyway.</p>\n\n<p>If you want <code>All</code> to be either <code>T1</code> or <code>T2</code> then you must use a union: </p>\n\n<pre><code>interface T1 { \n    children: string[];\n}\n\ninterface T2 {\n    children?: number | boolean | undefined | null;\n}\n\ntype All = T1 | T2;\n\nconst b: All = { // OK\n    children: ['test'],\n};\n</code></pre>\n\n<p>Or if you want some more complex merging logic, please provide more details. </p>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 2583885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiGq2.jpg?s=128&g=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/2583885/jess"}, "is_accepted": false, "score": 0, "last_activity_date": 1561617147, "creation_date": 1561617147, "answer_id": 56785188, "question_id": 56767466, "link": "https://stackoverflow.com/questions/56767466/typescript-intersection-types/56785188#56785188", "title": "TypeScript intersection types", "body": "<p>It is something I missed when I read the <code>React.ReactNode</code> definition. The definition is below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ReactText = string | number;\ntype ReactChild = ReactElement | ReactText;\n\ninterface ReactNodeArray extends Array&lt;ReactNode&gt; {}\ntype ReactFragment = {} | ReactNodeArray;\ntype ReactNode = ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;\n\n// children definition in React.Component, I\u2019ve deleted other property definition\nclass Component&lt;P, S&gt; {\n        // React.Props&lt;T&gt; is now deprecated, which means that the `children`\n        // property is not available on `P` by default, even though you can\n        // always pass children as variadic arguments to `createElement`.\n        // In the future, if we can define its call signature conditionally\n        // on the existence of `children` in `P`, then we should remove this.\n        readonly props: Readonly&lt;P&gt; &amp; Readonly&lt;{ children?: ReactNode }&gt;;\n}\n\n// my custom component Props definition\ninterface Props {\n    children: View[];\n}\n</code></pre>\n\n<p>so, the <code>children</code> definition for my component is:</p>\n\n<pre><code>type C = View[] &amp; ReactNode;\n\n// which is equivalent to this C2\ntype C2 = (View[] &amp; ReactChild) | (View[] &amp; ReactFragment) | (View[] &amp; ReactPortal) | (View[] &amp; boolean) | (View[] &amp; null) | (View[] &amp; undefined);\n\n</code></pre>\n\n<p>if we go deeper, and unfold the <code>ReactFragment</code>, our type will be this</p>\n\n<pre><code>type C3 = (View[] &amp; ReactChild) | (View[] &amp; {}) | (View[] &amp; ReactNodeArray) | (View[] &amp; ReactPortal) | (View[] &amp; boolean) | (View[] &amp; null) | (View[] &amp; undefined);\n</code></pre>\n\n<p>and what\u2019s the result of <code>View[] &amp; {}</code>. I\u2019ve written a simple demo in <a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20T1%20%7B%20%0D%0A%20%20%20%20children%3A%20string%5B%5D%3B%0D%0A%20%20%20%20c2%3A%20string%5B%5D%20%26%20%7B%7D%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20interface%20T2%20%7B%0D%0A%2F%2F%20%20%20%20%20children%3F%3A%20number%20%7C%20boolean%20%7C%20undefined%20%7C%20null%20%7C%20%7B%7D%3B%0D%0A%2F%2F%20%7D%0D%0A%0D%0A%2F%2F%20type%20All%20%3D%20T1%20%26%20T2%3B%0D%0A%0D%0A%2F%2F%20const%20b%3A%20All%20%3D%20%7B%0D%0A%2F%2F%20%20%20%20%20children%3A%20%5B&#39;test&#39;%5D%2C%0D%0A%2F%2F%20%7D%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">typescript playground</a>. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test is equivalent to View[]\ntype Test = View[] &amp; {};\n</code></pre>\n"}], "owner": {"reputation": 502, "user_id": 2583885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiGq2.jpg?s=128&g=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/2583885/jess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561617147, "creation_date": 1561534145, "last_edit_date": 1561616033, "question_id": 56767466, "link": "https://stackoverflow.com/questions/56767466/typescript-intersection-types", "title": "TypeScript intersection types", "body": "<p>I\u2019ve some <code>typescript</code> definitions like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface T1 { \n    children: string[];\n}\n\ninterface T2 {\n    children?: number | boolean | undefined | null;\n}\n\ntype All = T1 &amp; T2;\n\nconst b: All = {\n    children: ['test'],\n};\n\n</code></pre>\n\n<p>see <a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20T1%20%7B%20%0D%0A%20%20%20%20children%3A%20string%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20T2%20%7B%0D%0A%20%20%20%20children%3F%3A%20number%20%7C%20boolean%20%7C%20undefined%20%7C%20null%3B%0D%0A%7D%0D%0A%0D%0Atype%20All%20%3D%20T1%20%26%20T2%3B%0D%0A%0D%0Aconst%20b%3A%20All%20%3D%20%7B%0D%0A%20%20%20%20children%3A%20%5B&#39;test&#39;%5D%2C%0D%0A%7D%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">typescript playground</a></p>\n\n<p>I\u2019m wondering what type exactly is the <code>All[\u2018children\u2019]</code> property?</p>\n\n<p>I can\u2019t assign <code>string array</code> to it and don\u2019t know how I can use this <code>intersection type</code> .</p>\n\n<p>In real life, <code>React.js</code> has a <code>children</code> definition on <code>React.Component</code>, when I define my own <code>children</code> type, there is no error in this case. </p>\n\n<p><strong>UPDATE</strong>, add some real life code in <code>React Native</code> code. I have the following definition:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props {\n    children: View[];\n}\n\nexport default Demo extends React.Component&lt;Props&gt; {\n\n}\n\n// later in parent component\n&lt;Demo&gt;\n    &lt;View&gt;&lt;/View&gt;\n    &lt;View&gt;&lt;/View&gt;\n&lt;/Demo&gt;\n</code></pre>\n\n<p>I can't find out why <code>typescript</code> can handle the <code>children</code> for <code>Demo</code>. this is the <code>children</code> definition in <code>React.Component</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    children?: ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;\n}\n</code></pre>\n\n<p>so, In my opinion, the final <code>type</code> of <code>children</code> in <code>Demo</code> should be:</p>\n\n<pre><code>children: (View[] &amp; ReactChild) | (View[] &amp; ReactFragment) | (View[] &amp; ReactPortal) | (View[] &amp; boolean) | (View[] &amp; null) | (View[] &amp; undefined)\n</code></pre>\n\n<p>How can I pass <code>View arrays</code> to <code>Demo</code> as children.</p>\n\n<p><strong>UPDATE AGAIN</strong>, I find that, <code>ReactFragment</code> definition is the key point.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ReactFragment = {} | ReactNodeArray;\ntype ReactNode = ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;\n</code></pre>\n\n<p><code>{}</code> in <code>ReactFragment</code>, results in <code>View[] &amp; {}</code>, which is equivalent to <code>View[]</code></p>\n"}, {"tags": ["angular", "typescript", "kendo-grid"], "answers": [{"tags": [], "owner": {"reputation": 2444, "user_id": 5733738, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/OQjxC.png?s=128&g=1", "display_name": "Harsha W", "link": "https://stackoverflow.com/users/5733738/harsha-w"}, "is_accepted": true, "score": 2, "last_activity_date": 1561705602, "last_edit_date": 1561705602, "creation_date": 1561545953, "answer_id": 56771002, "question_id": 56767362, "link": "https://stackoverflow.com/questions/56767362/how-to-hide-angular-4-6-kendo-grid-numeric-filter-increase-decrease-icons-spin/56771002#56771002", "title": "How to hide angular 4/6 kendo grid numeric filter increase decrease icons? (spinners)", "body": "<p>Try this</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.k-dateinput .k-select, .k-numerictextbox .k-select {\n  padding: 0;\n  border-width: 0;\n  width: calc(8px + 1.4285714286em);\n  display: -ms-flexbox;\n  display: none !important;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-align: stretch;\n  align-items: stretch;\n}\n</code></pre>\n"}], "owner": {"reputation": 2407, "user_id": 3678157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x3whF.jpg?s=128&g=1", "display_name": "Chanaka Amarasinghe", "link": "https://stackoverflow.com/users/3678157/chanaka-amarasinghe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 56771002, "answer_count": 1, "score": 1, "last_activity_date": 1561705602, "creation_date": 1561533823, "last_edit_date": 1561704459, "question_id": 56767362, "link": "https://stackoverflow.com/questions/56767362/how-to-hide-angular-4-6-kendo-grid-numeric-filter-increase-decrease-icons-spin", "title": "How to hide angular 4/6 kendo grid numeric filter increase decrease icons? (spinners)", "body": "<p>This is my kendo grid column</p>\n\n<pre><code> &lt;kendo-grid-column width=\"80\" field=\"Savings\" title=\"Savings\" filter=\"numeric\"&gt;\n &lt;/kendo-grid-column&gt;\n</code></pre>\n\n<p>But when I put this one, there are two icons for the increase and decrease like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/tKIBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tKIBY.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to remove those icons</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 72, "user_id": 1284088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fe0e9355ff5fd157347dd16d921440?s=128&d=identicon&r=PG", "display_name": "Rosseyn", "link": "https://stackoverflow.com/users/1284088/rosseyn"}, "edited": false, "score": 1, "creation_date": 1561665967, "post_id": 56767158, "comment_id": 100150282, "body": "Would recommend looking here for insight: <a href=\"https://stackoverflow.com/a/54526625/1284088\">stackoverflow.com/a/54526625/1284088</a>"}, {"owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "edited": false, "score": 0, "creation_date": 1587120308, "post_id": 56767158, "comment_id": 108389423, "body": "Related: <a href=\"https://stackoverflow.com/questions/3261587/subclassing-javascript-arrays-typeerror-array-prototype-tostring-is-not-generi\" title=\"subclassing javascript arrays typeerror array prototype tostring is not generi\">stackoverflow.com/questions/3261587/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 4530203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f5a00c890784cf7255355aa9a3acea?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Taylor", "link": "https://stackoverflow.com/users/4530203/simon-taylor"}, "edited": false, "score": 0, "creation_date": 1563838983, "post_id": 56846974, "comment_id": 100825108, "body": "This was it for me. I was assigning a header a number.  Adding toString() to it solved it"}], "tags": [], "owner": {"reputation": 69, "user_id": 6435918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9b0f970b53db78051e857937cace31?s=128&d=identicon&r=PG&f=1", "display_name": "Davis", "link": "https://stackoverflow.com/users/6435918/davis"}, "is_accepted": false, "score": 3, "last_activity_date": 1562050784, "creation_date": 1562050784, "answer_id": 56846974, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator/56846974#56846974", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>Can't comment, but I'd recommend you look at the data ending up in your <code>headers</code> object. Maybe you could log the contents of <code>headers</code> just before the <code>return next.handle(request);</code> line. You could find, for example, that one of the values provided by <code>this.sessionParam[val][key]</code> is not a string and a simple <code>this.sessionParam[val][key] + ''</code> could do the trick... </p>\n"}, {"comments": [{"owner": {"reputation": 1067, "user_id": 152009, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e569955cc9dc39542e9dc8c2579a107d?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/152009/dave"}, "edited": false, "score": 0, "creation_date": 1598482598, "post_id": 57571499, "comment_id": 112477083, "body": "This was our issue, passing a boolean."}], "tags": [], "owner": {"reputation": 747, "user_id": 4690316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l5IJS.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/4690316/david"}, "is_accepted": false, "score": 11, "last_activity_date": 1566296475, "creation_date": 1566296475, "answer_id": 57571499, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator/57571499#57571499", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>This error occurs when you set headers non-string values. In order to solve convert all header values to string.</p>\n"}, {"comments": [{"owner": {"reputation": 2461, "user_id": 4420532, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1c884bb91212b5465f9d00caba118f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4420532/felix"}, "edited": false, "score": 0, "creation_date": 1571136262, "post_id": 58170098, "comment_id": 103131670, "body": "Also consider this: <a href=\"https://stackoverflow.com/a/58203129/4420532\">stackoverflow.com/a/58203129/4420532</a>"}], "tags": [], "owner": {"reputation": 2461, "user_id": 4420532, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1c884bb91212b5465f9d00caba118f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4420532/felix"}, "is_accepted": false, "score": 8, "last_activity_date": 1576741383, "last_edit_date": 1576741383, "creation_date": 1569854109, "answer_id": 58170098, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator/58170098#58170098", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>I have upgraded from A7 to A8 and experienced same issue.</p>\n\n<p>In my case the code was failing on a row where I used <em>destructuring assignment</em>:</p>\n\n<pre><code>return this.fooPipe.transform(foo, ...args);\n\n-&gt; Error: Found non-callable @@iterator\n</code></pre>\n\n<p>It has helped me to change <code>tsconfig.json</code> from:</p>\n\n<pre><code>\"target\": \"es2015\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>\"target\": \"es5\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 1336673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N8rPt.jpg?s=128&g=1", "display_name": "Tasneem Ghorayeb", "link": "https://stackoverflow.com/users/1336673/tasneem-ghorayeb"}, "is_accepted": false, "score": -1, "last_activity_date": 1571271007, "creation_date": 1571271007, "answer_id": 58423169, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator/58423169#58423169", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>This is not a new solution but maybe it helps someone.</p>\n\n<p>I have faced this issue as well after upgrading to angular 8. It threw an error where I used Object.assign({},), it was working before.</p>\n\n<p>I did not want to change all my code where I was using this in favor of the spread operator because it was way too many changes.</p>\n\n<p>It worked when I  changed the target back to es5. But I was not sure this is the right move.(I'm still not sure what could be the pros of this.)</p>\n\n<p>After a lot of searching I came upon this link <a href=\"https://kangax.github.io/compat-table/es6/#typescript-core-js-note\" rel=\"nofollow noreferrer\">https://kangax.github.io/compat-table/es6/#typescript-core-js-note</a>\nSo here it states that for Object.assign to work, I need to have</p>\n\n<p>typescript > 3.6 &amp;\ncore-js >= 3</p>\n\n<p>Currently angular 8 requires typescript to be less than 3.6\nI am guessing this is the reason of the error, so until angular 8 supports the this typescript version or angular 9 does, I guess I will be using the same approach as Felix.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 12281494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBe7YKoCDtpJIcsQK-HrH6meGlBt-LQFUXTsUdwxQ=k-s128", "display_name": "nastya chernomorchenko", "link": "https://stackoverflow.com/users/12281494/nastya-chernomorchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1572182920, "creation_date": 1572182920, "answer_id": 58579852, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator/58579852#58579852", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>Got same error today, my solution to this was to work with iterations on Object and then create HttpHeaders with the result.\nKinda ...</p>\n\n<pre><code>    let headersObj = {};\n\n    for (var val in this.sessionParam) {\n      Object.keys(this.sessionParam[val]).forEach(key =&gt; {\n        headersObj[key] = this.sessionParam[val][key];\n      });\n    }\n    request = request.clone({\n      headers: new HttpHeaders(headersObj)\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6048927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ca0ddb095999370b25eefb7b2a4a1c?s=128&d=identicon&r=PG", "display_name": "Life347", "link": "https://stackoverflow.com/users/6048927/life347"}, "is_accepted": false, "score": -2, "last_activity_date": 1587239855, "creation_date": 1587239855, "answer_id": 61295409, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator/61295409#61295409", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>All Header should be in string while using angular 8+</p>\n"}], "owner": {"reputation": 1613, "user_id": 7562711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zVGsZ.jpg?s=128&g=1", "display_name": "Bhagwat Tupe", "link": "https://stackoverflow.com/users/7562711/bhagwat-tupe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27193, "favorite_count": 4, "answer_count": 6, "score": 11, "last_activity_date": 1587239855, "creation_date": 1561533095, "last_edit_date": 1561550722, "question_id": 56767158, "link": "https://stackoverflow.com/questions/56767158/angular-8-typeerror-found-non-callable-iterator", "title": "Angular 8 : TypeError: Found non-callable @@iterator", "body": "<p>When i'am sending <code>http get</code> request then i'am getting these error <code>TypeError: Found non-callable @@iterator</code>,but it works in <code>Angular 7</code> not in <code>Angular 8</code>.</p>\n\n<p><strong>My Component file</strong><br>\nFrom <code>component.ts</code> file i have called service <code>getCodes()</code></p>\n\n<pre><code>onSubmit(){\n this.service.getCodes('localhost/Aggregator/getCodes').subscribe (result=&gt;{\n }, error =&gt;{\n    console.log(error);\n })\n}\n</code></pre>\n\n<p><strong>My Interceptor file</strong><br>\nWhen i 'am sending request then that time i have passed these header through interceptor</p>\n\n<pre><code>@Injectable()\n    export class Interceptor implements HttpInterceptor {\n      sessionParam:any = {\n        userParam: {\n          'a':66,\n          'b':101,\n          'c':'0201',\n          'd':'Y',\n          'e':'Y',\n          'h':'2019/02/22',\n          'f':'Y',\n          'g':12\n        }\n      }\n\n      intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        let headers = new HttpHeaders();\n        for (var val in this.sessionParam) {\n          Object.keys(this.sessionParam[val]).forEach(key =&gt; {\n            headers = headers.append(key,this.sessionParam[val][key]);\n          });\n        }\n        request = request.clone({\n          headers: headers\n        })\n        return next.handle(request);\n      }\n    }\n</code></pre>\n\n<p><strong>My Service file</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { delay, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProvidersService {\n\n  constructor(private http:HttpClient) { }\n\n  public getCodes(url, apiParam=null):Observable&lt;any&gt;\n  {\n    return this.http.get(url, {params: apiParam});\n  }\n}\n</code></pre>\n\n<p><strong>I'am getting following error</strong></p>\n\n<pre><code>TypeError: Found non-callable @@iterator\nat HttpHeaders.applyUpdate (http.js:301)\nat http.js:245\nat Array.forEach (&lt;anonymous&gt;)\nat HttpHeaders.init (http.js:241)\nat HttpHeaders.forEach (http.js:339)\nat Observable._subscribe (http.js:1826)\nat Observable._trySubscribe (Observable.js:42)\nat Observable.subscribe (Observable.js:28)\nat subscribeTo.js:20\nat subscribeToResult (subscribeToResult.js:7)\n</code></pre>\n\n<p>any solutions ?</p>\n"}, {"tags": ["html", ".net", "angular", "typescript", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1561533383, "post_id": 56767162, "comment_id": 100090366, "body": "Hi thanks for your time! I used your solution I get <b>no error</b> in console and the fields are still empty."}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1561533631, "post_id": 56767162, "comment_id": 100090490, "body": "<code>{carId: 86, created: &quot;2019-06-25T10:39:28.1383775&quot;, lastChange: &quot;0001-01-01T00:00:00&quot;, brand: &quot;BMW&quot;, model: &quot;X9&quot;,\u00a0\u2026}</code> I get the data Web API is working fine"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1561535564, "post_id": 56767162, "comment_id": 100091464, "body": "Since in your response the first letter is in lowecase and in formcontrolname its uppercase, you have to do it manually like @chirag showed"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1561535809, "last_edit_date": 1561535809, "creation_date": 1561533116, "answer_id": 56767162, "question_id": 56767104, "link": "https://stackoverflow.com/questions/56767104/how-to-set-values-in-forms-by-id-in-angular-6-and-net-core/56767162#56767162", "title": "How to set values in forms by Id in Angular 6 and .NET core?", "body": "<p>Try using <code>patchValue</code> like this:</p>\n\n<pre><code>  EditCar(CarId: number) {\n    this.carservice.getCarById(CarId).subscribe((resp: any) =&gt; {\n        this.FormCar.patchValue(res)\n    });\n  }\n</code></pre>\n\n<p>You can also use <code>setValue</code> instead of <code>patchValue</code> id all form controls are present in res.</p>\n\n<p>Since in your backend response, the first letter of properties is in lowercase, its better if you build the formBuilder in the same way,</p>\n\n<pre><code>buildFormCar() {\n    this.FormCar = this.formBuilder.group({\n      carId: ['', Validators.required],\n      brand: ['', Validators.required],\n      model: ['', Validators.required],\n      color: ['', Validators.required],\n      topSpeed: ['', Validators.required],\n    });\n  }\n</code></pre>\n\n<p>and assign in the same way in template:</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" formControlName=\"brand\" id=\"brand\" placeholder=\"Enter brand\"&gt;\n</code></pre>\n\n<p>This will shorten your code and you won't have to reasign all the propertied during edit.</p>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 6868680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8618d7e3d2b45ee1a53b8ca34d7168?s=128&d=identicon&r=PG&f=1", "display_name": "Chirag", "link": "https://stackoverflow.com/users/6868680/chirag"}, "is_accepted": true, "score": 1, "last_activity_date": 1561534074, "creation_date": 1561534074, "answer_id": 56767442, "question_id": 56767104, "link": "https://stackoverflow.com/questions/56767104/how-to-set-values-in-forms-by-id-in-angular-6-and-net-core/56767442#56767442", "title": "How to set values in forms by Id in Angular 6 and .NET core?", "body": "<p>Use like this:    </p>\n\n<pre><code>EditCar(CarId: number) {\n    this.carservice.getCarById(CarId).subscribe((resp: any) =&gt; {\n        this.FormCar.patchValue({\n          CarId: resp.carId,\n          Brand: resp.brand,\n          Model: resp.model\n        })\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56767442, "answer_count": 2, "score": 0, "last_activity_date": 1561535809, "creation_date": 1561532925, "question_id": 56767104, "link": "https://stackoverflow.com/questions/56767104/how-to-set-values-in-forms-by-id-in-angular-6-and-net-core", "title": "How to set values in forms by Id in Angular 6 and .NET core?", "body": "<p>I want to edit a specific car and I have made a method for it. </p>\n\n<p>This is my code in the <strong>CarController.cs</strong></p>\n\n<pre><code>[Route(\"GetCarById\")]\n[HttpGet]\npublic async Task&lt;Car&gt; Get(long carId)\n{\nreturn await _context.Cars.FirstAsync(e =&gt; e.CarId == carId);\n}\n</code></pre>\n\n<p>Then I call this method in my <strong>carServices.js</strong></p>\n\n<pre><code>getCarById(carId: number): Observable&lt;CarVM&gt; {\n    return this.http.get&lt;CarVM&gt;(this.baseUrl + \"/getCarById?carId=\" + carId)\n  }\n</code></pre>\n\n<p>And finally I call this method in my <strong>car component</strong> </p>\n\n<pre><code> EditCar(CarId: number) {\n    this.carservice.getCarById(CarId).subscribe();\n  }\n</code></pre>\n\n<p>Then I bind this method on a button like this:</p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-primary mr-1\" (click)=\"EditCar(car.carId)\"&gt;Edit&lt;/button&gt;\n</code></pre>\n\n<p>I have debug my application and I get the right values when I click on the edit button. Now I want to bind these values in my text fields. I use <strong>Formbuilder</strong> and in the past I used <strong>ng-model</strong>. This is the whole code for the forms:</p>\n\n<pre><code> &lt;form [formGroup]=\"FormCar\" (ngSubmit)=\"AddCar(FormCar.value)\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"form-group col-sm-3\"&gt;\n        &lt;label&gt;Brand&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" formControlName=\"Brand\" id=\"brand\" placeholder=\"Enter brand\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"form-group col-sm-3\"&gt;\n        &lt;label&gt;Model&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" formControlName=\"Model\" id=\"model\" placeholder=\"Enter model\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"form-group col-sm-3\"&gt;\n        &lt;label&gt;Color&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" formControlName=\"Color\" id=\"color\" placeholder=\"Enter color\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"form-group col-sm-3\"&gt;\n        &lt;label&gt;Speed&lt;/label&gt;\n        &lt;input type=\"number\" class=\"form-control\" formControlName=\"TopSpeed\" id=\"topSpeed\" placeholder=\"Enter speed\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"form-group col-md-2\"&gt;\n        &lt;button type=\"submit\" class=\"btn btn-danger mr-1\"&gt;Save changes&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group col-md-2\"&gt;\n        &lt;button type=\"reset\" class=\"btn btn-danger mr-1\" (click)=\"reset()\"&gt;New record&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>I have used to set the values for each field like this but it didn't work for me:</p>\n\n<pre><code>this.Form.controls['Brand'].setValue(Response.Brand); \n</code></pre>\n\n<p>Can someone explain me how to set the values from the web api? </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is my code for the Formbuilder</p>\n\n<pre><code> buildFormCar() {\n    this.FormCar = this.formBuilder.group({\n      CarId: ['', Validators.required],\n      Brand: ['', Validators.required],\n      Model: ['', Validators.required],\n      Color: ['', Validators.required],\n      TopSpeed: ['', Validators.required],\n    });\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1561532832, "post_id": 56767054, "comment_id": 100090086, "body": "Have you tried <i>not</i> using the hash location strategy?"}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 4420482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpXFg.png?s=128&g=1", "display_name": "Kashkashio", "link": "https://stackoverflow.com/users/4420482/kashkashio"}, "is_accepted": false, "score": 0, "last_activity_date": 1561536203, "creation_date": 1561536203, "answer_id": 56768034, "question_id": 56767054, "link": "https://stackoverflow.com/questions/56767054/how-to-remove-from-url-in-angular-6/56768034#56768034", "title": "how to remove # from url in angular 6", "body": "<p>Keep in mind that doing so will require you to modify your server http config to support it otherwise on every page refresh you will get a 404..</p>\n\n<p>this is Nginx example:</p>\n\n<pre><code>server {\nlisten 80;\nserver_name &lt;YOUR SERVER DOMAIN&gt;;\n\naccess_log /var/log/nginx/nginx.vhost.access.log;\nerror_log /var/log/nginx/nginx.vhost.error.log;\n\nindex index.html index.htm;\n\nlocation / {\n    root /wwweb/&lt;location to angular dist&gt;/dist;\n    try_files $uri $uri/ /index.html?$query_string;\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11701390, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7Csid2ToojY/AAAAAAAAAAI/AAAAAAAAAD4/CW73inuCrJQ/photo.jpg?sz=128", "display_name": "abhijit patil", "link": "https://stackoverflow.com/users/11701390/abhijit-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1561536203, "creation_date": 1561532763, "question_id": 56767054, "link": "https://stackoverflow.com/questions/56767054/how-to-remove-from-url-in-angular-6", "title": "how to remove # from url in angular 6", "body": "<p>I am trying to remove the # sign from the url in Angular 6 but I couldn't find any good explanation.\nhere is my url <a href=\"http://localhost:4200/#/homepage.Is\" rel=\"nofollow noreferrer\">http://localhost:4200/#/homepage.Is</a> it possible to remove hash from url?</p>\n\n<p><b>in app.module.ts</b><br>\n<i>{ provide: LocationStrategy, useClass: HashLocationStrategy}</i></p>\n\n<p><b>in router.ts</b><br></p>\n\n<p>export const routes: ModuleWithProviders = RouterModule.forRoot(router,{ useHash: true })</p>\n\n<p>I expect the output is <a href=\"http://localhost:4200/homepage\" rel=\"nofollow noreferrer\">http://localhost:4200/homepage</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "edited": false, "score": 1, "creation_date": 1561532877, "post_id": 56766947, "comment_id": 100090099, "body": "Try binding <code>setStateWithEvent</code> in the <code>Parent</code> constructor: <code>this.setStateWithEvent = this.setStateWithEvent.bind(this);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2184, "user_id": 8352929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a74f883702be71738a2e3d6f59e466ed?s=128&d=identicon&r=PG&f=1", "display_name": "adesurirey", "link": "https://stackoverflow.com/users/8352929/adesurirey"}, "is_accepted": true, "score": 3, "last_activity_date": 1561532897, "creation_date": 1561532897, "answer_id": 56767094, "question_id": 56766947, "link": "https://stackoverflow.com/questions/56766947/typeerror-cannot-read-property-setstate-of-undefined-using-event/56767094#56767094", "title": "TypeError: Cannot read property &#39;setState&#39; of undefined using event", "body": "<p>You need to bind your <code>setStateWithEvent</code> function in <code>Parent</code>. </p>\n\n<p>Add this to your constructor : </p>\n\n<pre><code>this.setStateWithEvent = this.setStateWithEvent.bind(this);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 625, "user_id": 11406789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/407b66a475d1fc86c0041b0766304407?s=128&d=identicon&r=PG&f=1", "display_name": "Anuradha Kumari", "link": "https://stackoverflow.com/users/11406789/anuradha-kumari"}, "is_accepted": false, "score": 0, "last_activity_date": 1561533491, "creation_date": 1561533491, "answer_id": 56767268, "question_id": 56766947, "link": "https://stackoverflow.com/questions/56766947/typeerror-cannot-read-property-setstate-of-undefined-using-event/56767268#56767268", "title": "TypeError: Cannot read property &#39;setState&#39; of undefined using event", "body": "<p>You can use the arrow functions as below:</p>\n\n<pre><code>private setStateWithEvent = (event: any, columnType: string) =&gt; {\n    this.setState(\n      Parent.propKey(columnType, (event.target as any).value)\n    );\n  }\n</code></pre>\n\n<p>refer <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a> for more details.</p>\n"}], "owner": {"reputation": 1511, "user_id": 8450582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5c1a1c036f2639af84a197be0554e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Darren", "link": "https://stackoverflow.com/users/8450582/darren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56767094, "answer_count": 2, "score": 1, "last_activity_date": 1561533491, "creation_date": 1561532311, "last_edit_date": 1561532638, "question_id": 56766947, "link": "https://stackoverflow.com/questions/56766947/typeerror-cannot-read-property-setstate-of-undefined-using-event", "title": "TypeError: Cannot read property &#39;setState&#39; of undefined using event", "body": "<p>I am having some troubles passing values from a child component to the parent <code>state</code>.  The error being given is <code>TypeError: Cannot read property 'setState' of undefined</code> upon entering a value in an <code>input</code></p>\n\n<pre><code>interface InterfaceState {\n  password: string;\n}\n\nclass Parent extends Component&lt;InterfaceState&gt; {\n  private static INITIAL_STATE = {\n    password: ''\n  };\n\n  private static propKey(propertyName: string, value: any): object {\n    return { [propertyName]: value };\n  }\n\n  public constructor(props: InterfaceProps) {\n    super(props);\n    this.state = { ...Parent.INITIAL_STATE };\n  }\n\n  public render() {\n    const { password } = this.state;\n    return (\n     &lt;Child setStateWithEvent={setStateWithEvent} password={password}/&gt;;\n    );\n  }\n  private setStateWithEvent(event: any, columnType: string): void {\n    this.setState(\n      Parent.propKey(columnType, (event.target as any).value)\n    );\n  }\n}\n</code></pre>\n\n<p>and the child component is</p>\n\n<pre><code>const Child = ({\n  password,\n  setStateWithEvent\n}: InterfaceProps) =&gt; {\n\n  return (\n     &lt;input\n         name=\"password\"\n         value={password}\n         onChange={(event: any) =&gt; setStateWithEvent(event, 'password')}\n         type=\"password\"\n         placeholder=\"Password\"\n     /&gt;\n  );\n};\n</code></pre>\n\n<p>How can I pass <code>state</code> from the child to the parent using <code>setStateWithEvent</code>?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "jspdf", "jspdf-autotable"], "answers": [{"comments": [{"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1561532887, "post_id": 56767041, "comment_id": 100090105, "body": "for header its okay, how could you do that for body since its dynamic. body data may have more different data, <code>data[0] </code> [0] index only consider only one row. what about rest of data?"}], "tags": [], "owner": {"reputation": 1019, "user_id": 4503182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gelBN.jpg?s=128&g=1", "display_name": "Ziv Ben-Or", "link": "https://stackoverflow.com/users/4503182/ziv-ben-or"}, "is_accepted": true, "score": 1, "last_activity_date": 1561533210, "last_edit_date": 1561533210, "creation_date": 1561532725, "answer_id": 56767041, "question_id": 56766884, "link": "https://stackoverflow.com/questions/56766884/how-to-get-object-values-alone-and-push-into-temporary-variable-jspdf-autotabl/56767041#56767041", "title": "How to get Object values alone and push into temporary variable - jsPDF-autoTable", "body": "<p>Header: <code>Object.keys(data[0])[0]</code></p>\n\n<p>Body:   <code>data.map(x =&gt; Object.values(x))</code></p>\n"}, {"tags": [], "owner": {"reputation": 830, "user_id": 7815403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H12Rh.jpg?s=128&g=1", "display_name": "sayalok", "link": "https://stackoverflow.com/users/7815403/sayalok"}, "is_accepted": false, "score": 0, "last_activity_date": 1561533839, "creation_date": 1561533839, "answer_id": 56767366, "question_id": 56766884, "link": "https://stackoverflow.com/questions/56766884/how-to-get-object-values-alone-and-push-into-temporary-variable-jspdf-autotabl/56767366#56767366", "title": "How to get Object values alone and push into temporary variable - jsPDF-autoTable", "body": "<p>By For loop u can also solve this easily All u have to do is access ur object properly.</p>\n\n<pre><code>    let data = [\n    {\n        \"thisIsTheResponseFromBackEnd\": [\n        {\n            \"Col Header 1\": \"AAA, AAA\",\n            \"Col Header 2\": \"BCD\",\n            \"Col Header 3\": \"dummy data 1\",\n        },\n        {\n            \"Col Header 1\": \"BBB, BBB\",\n            \"Col Header 2\": \"BCD\",\n            \"Col Header 3\": \"dummy data 1\",\n        },\n        {\n            \"Col Header 1\": \"Hello,world\",\n            \"Col Header 2\": \"BCD\",\n            \"Col Header 3\": \"dummy data 1\",\n\n        }]\n    }]\n\n\n    var res = data[0].thisIsTheResponseFromBackEnd\n    for (var i = 0; i &lt; res.length; i++) {\n      console.log(res[i])\n    }\n</code></pre>\n\n<p>Hope it helps </p>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 56767041, "answer_count": 2, "score": 0, "last_activity_date": 1561533839, "creation_date": 1561532100, "last_edit_date": 1561532999, "question_id": 56766884, "link": "https://stackoverflow.com/questions/56766884/how-to-get-object-values-alone-and-push-into-temporary-variable-jspdf-autotabl", "title": "How to get Object values alone and push into temporary variable - jsPDF-autoTable", "body": "<p>Below is my sample response that I getting from the backend.</p>\n\n<pre><code>let data = [\n{\n    \"thisIsTheResponseFromBackEnd\": [\n    {\n        \"Col Header 1\": \"AAA, AAA\",\n        \"Col Header 2\": \"BCD\",\n        \"Col Header 3\": \"dummy data 1\",\n    },\n    {\n        \"Col Header 1\": \"BBB, BBB\",\n        \"Col Header 2\": \"BCD\",\n        \"Col Header 3\": \"dummy data 1\",\n    },\n    {\n        \"Col Header 1\": \"Hello,world\",\n        \"Col Header 2\": \"BCD\",\n        \"Col Header 3\": \"dummy data 1\",\n\n    }]\n}]\n</code></pre>\n\n<p>am trying to push dynamic data into jspdf autoTable. i use <code>header: Object.keys(data[0]) //as column</code> </p>\n\n<p>but if try to push the value of the object it returns only <code>[object, Object]</code></p>\n\n<p>I tried below possible ways to push data into the body of jspdfatuoTable. but failed the below approach. </p>\n\n<pre><code>/*  Object.keys( data ).forEach( key =&gt; {\n        console.log( data[key] );\n        const temp = [data[key]];\n        rows.push(temp);\n         console.log('body ?', rows);\n    }); */\n\n/* Object.keys(data).forEach(function (prop) {\n        const temp = [data[prop]];\n        rows.push(temp);\n    }); */\n\nfor (let [key, value] of Object.entries(data)) {   \n    const temp = [data.value];\n    rows.push(temp);\n    console.log('body ?', rows);\n}\n</code></pre>\n\n<p>Could someone help me with this?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 653, "user_id": 8534267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V1JC5.jpg?s=128&g=1", "display_name": "frangaliana", "link": "https://stackoverflow.com/users/8534267/frangaliana"}, "is_accepted": true, "score": 1, "last_activity_date": 1561532491, "creation_date": 1561532491, "answer_id": 56766988, "question_id": 56766786, "link": "https://stackoverflow.com/questions/56766786/typescript-error-when-typing-onchange-event/56766988#56766988", "title": "Typescript error when typing onChange event", "body": "<p>You must put the same type of data for the onChange method as that TextField is declared, so it would be like this:</p>\n\n<pre><code>&lt;TextField\n   label=\"Title\"\n   value={updatedStep.title}\n   onChange={(e: React.FormEvent&lt;HTMLInputElement&gt;, newValue?: string) =&gt;\n       updateStepObj({ ...updatedStep, title: e.currentTarget.value })\n   }\n/&gt;\n</code></pre>\n\n<p><strong><em>Note: to forget about this mess, the best thing to do before adding your method to the event is to hover over it with the mouse and it will tell you the tipado. Then you write the same and perform the action you want.</em></strong></p>\n\n<p>Anyway if you want something more exact I add a demo in CodeSandbox and I'll take a look :)</p>\n"}], "owner": {"reputation": 1051, "user_id": 4455643, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/4D1AC.jpg?s=128&g=1", "display_name": "Negin Basiri", "link": "https://stackoverflow.com/users/4455643/negin-basiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56766988, "answer_count": 1, "score": 0, "last_activity_date": 1561533057, "creation_date": 1561531798, "last_edit_date": 1561533057, "question_id": 56766786, "link": "https://stackoverflow.com/questions/56766786/typescript-error-when-typing-onchange-event", "title": "Typescript error when typing onChange event", "body": "<p>I declared my <code>state</code> like below</p>\n\n<pre><code>const [updatedStep, updateStepObj] = useState(\n    panel === 'add'\n        ? new Step()\n        : {\n                ...selectedStep\n          }\n);\n</code></pre>\n\n<p>and I have elements like</p>\n\n<pre><code>        &lt;TextField\n            label=\"Title\"\n            value={updatedStep.title}\n            onChange={(e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt;\n                updateStepObj({ ...updatedStep, title: e.currentTarget.value })\n            }\n        /&gt;\n</code></pre>\n\n<p>I am getting <code>Typescript</code> error for <code>onChange</code> event. How can I get rid of <code>error</code>?</p>\n\n<p><a href=\"https://i.stack.imgur.com/oGhdZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGhdZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2267, "user_id": 6949235, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a537a7eccc642b99f1ec3bac062e6586?s=128&d=identicon&r=PG", "display_name": "CruelEngine", "link": "https://stackoverflow.com/users/6949235/cruelengine"}, "edited": false, "score": 0, "creation_date": 1561532460, "post_id": 56766716, "comment_id": 100089880, "body": "If you want to send auth token why don&#39;t you use an http interceptor ?"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 11413878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YteQeSN98AU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcS8HKQCPa9NHiBZZfg6Bcq_eHpxA/mo/photo.jpg?sz=128", "display_name": "SGR", "link": "https://stackoverflow.com/users/11413878/sgr"}, "edited": false, "score": 0, "creation_date": 1561532203, "post_id": 56766765, "comment_id": 100089756, "body": "I have added <code>header</code> to get request as you told. Got this error <code>ERROR Error: Uncaught (in promise): HttpErrorResponse: {&quot;headers&quot;:{&quot;normalizedNames&quot;:{},&quot;lazyUpdate&quot;:null,&quot;headers&quot;&zwnj;&#8203;:{}},&quot;status&quot;:401,&quot;s&zwnj;&#8203;tatusText&quot;:&quot;Unauthor&zwnj;&#8203;ized&quot;,&quot;url&quot;</code>"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 141, "user_id": 11413878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YteQeSN98AU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcS8HKQCPa9NHiBZZfg6Bcq_eHpxA/mo/photo.jpg?sz=128", "display_name": "SGR", "link": "https://stackoverflow.com/users/11413878/sgr"}, "edited": false, "score": 0, "creation_date": 1561532235, "post_id": 56766765, "comment_id": 100089770, "body": "Then your auth key is wrong. Check your auth key again"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 7, "last_activity_date": 1602321339, "last_edit_date": 1602321339, "creation_date": 1561531722, "answer_id": 56766765, "question_id": 56766716, "link": "https://stackoverflow.com/questions/56766716/how-to-add-custom-headers-to-httprequest-in-angular/56766765#56766765", "title": "how to add custom headers to httpRequest in angular", "body": "<p>You should add header to your get request like this. Also since HttpHeaders is immutable object you have to reassign header object</p>\n<pre><code>  public async AllCustomers(): Promise&lt;ICourses[]&gt; {\n    const apiUrl = `${this.baseUrl}/courses`;\n    let headers = new HttpHeaders();\n    headers = headers.append('Authorization', this.authKey);\n    headers = headers.append('x-Flatten', 'true');\n    headers = headers.append('Content-Type', 'application/json');\n\n    return this.http.get&lt;ICourses[]&gt;(apiUrl, {headers}).toPromise();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "is_accepted": false, "score": 1, "last_activity_date": 1561531866, "creation_date": 1561531866, "answer_id": 56766810, "question_id": 56766716, "link": "https://stackoverflow.com/questions/56766716/how-to-add-custom-headers-to-httprequest-in-angular/56766810#56766810", "title": "how to add custom headers to httpRequest in angular", "body": "<p>I think you forgot to add headers object in request</p>\n\n<p>From </p>\n\n<pre><code>return this.http.get&lt;ICourses[]&gt;(apiUrl).toPromise();\n</code></pre>\n\n<p>To </p>\n\n<pre><code>return this.http.get&lt;ICourses[]&gt;(apiUrl, { headers }).toPromise();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1561531980, "creation_date": 1561531980, "answer_id": 56766845, "question_id": 56766716, "link": "https://stackoverflow.com/questions/56766716/how-to-add-custom-headers-to-httprequest-in-angular/56766845#56766845", "title": "how to add custom headers to httpRequest in angular", "body": "<pre><code>import { HttpHeaders } from '@angular/common/http';\nimport { HttpClient } from '@angular/common/http';\n\n\nconstructor(private _http: HttpClient) { \n\n}\n\n\npublic getHeaders(): HttpHeaders {\n  const headers = new HttpHeaders({\n    'Content-Type':  'application/json',\n    'Authorization': `Bearer ${this._auth.token}`\n  });\n  return headers;\n}\n\n\npublic getData() {\n  const url     = `https://stackoverflow.com/api/test`;\n  const body    = { };\n  const options = { headers: this.getHeaders() };\n  return this._http.post&lt;any&gt;(url, body, options);\n}\n\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 11413878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YteQeSN98AU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcS8HKQCPa9NHiBZZfg6Bcq_eHpxA/mo/photo.jpg?sz=128", "display_name": "SGR", "link": "https://stackoverflow.com/users/11413878/sgr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6496, "favorite_count": 0, "accepted_answer_id": 56766765, "answer_count": 3, "score": 2, "last_activity_date": 1602321339, "creation_date": 1561531546, "last_edit_date": 1570774673, "question_id": 56766716, "link": "https://stackoverflow.com/questions/56766716/how-to-add-custom-headers-to-httprequest-in-angular", "title": "how to add custom headers to httpRequest in angular", "body": "<p>I am trying make an <code>http get()</code> request by passing some <code>values</code> in <code>headers</code>, Now i am replacing the <code>headers</code> like this:</p>\n\n<pre><code>import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport {ICustomer} from 'src/app/models/app-models';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MyService {\nprivate baseUrl = '....api url....';\npublic authKey = '....auth_key......';\n\n  constructor(private http: HttpClient) { }\n\n  public async AllCustomers(): Promise&lt;ICustomer[]&gt; {\n   const apiUrl = `${this.baseUrl}/customers`;\n\n   return this.http.get&lt;ICustomer[]&gt;(apiUrl ,\n    {headers: new HttpHeaders({Authorization: this.authKey})}).toPromise();&lt;=====\n  }\n\n}\n</code></pre>\n\n<p>When i replace the headers like this:</p>\n\n<p><code>headers: new HttpHeaders({Authorization: this.authKey})</code></p>\n\n<p>The default headers values(i,e Content-Type : application/json) will be replaced by the above headers.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qHALZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qHALZ.png\" alt=\"enter image description here\"></a>\nInstead of replacing the headers how can i add <code>custom headers</code>, I tried like this:</p>\n\n<pre><code>  public async AllCustomers(): Promise&lt;ICustomer[]&gt; {\n    const apiUrl = `${this.baseUrl}/courses`;\n    const headers = new HttpHeaders();\n    headers.append('Authorization', this.authKey);\n    headers.append('x-Flatten', 'true');\n    headers.append('Content-Type', 'application/json');\n\n    return this.http.get&lt;ICustomer[]&gt;(apiUrl).toPromise();\n  }\n</code></pre>\n\n<p>What's wrong with my approach, I am new to <code>angular</code>, Any help?</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "immer.js"], "owner": {"reputation": 65, "user_id": 10694012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jZKhTZIoGaY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j_ulYB5SIrshuJAfQXz30KVbETug/mo/photo.jpg?sz=128", "display_name": "ChangHun Lee", "link": "https://stackoverflow.com/users/10694012/changhun-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1578490831, "creation_date": 1561531542, "question_id": 56766715, "link": "https://stackoverflow.com/questions/56766715/how-can-i-solve-this-error-with-immer-uncaught-in-promise-typeerror-cannot", "title": "How can I solve this error with Immer - &quot;Uncaught (in promise) TypeError: Cannot perform &#39;get&#39; on a proxy that has been revoked&quot;", "body": "<p>I' like to push the array is from server in empty array in initialState.\nAs I know to use immer for saving array,</p>\n\n<pre><code>  draft.arr.push({a:1, b:2}) \n</code></pre>\n\n<p>But, I don't know why I got the message \"Uncaught (in promise) TypeError: Cannot perform 'get' on a proxy that has been revoked\"</p>\n\n<p>I' tried to use concat, push.but I was not able to get what I want.</p>\n\n<pre><code>const initialState : WorkerState = {\n  workersList : []\n}\n\nconst workers = handleActions&lt;WorkerState, any&gt;(\n  {\n    [GET_WORKERS_LIST]: (state, action: GetWorkersList) =&gt; {\n      return produce(state, draft =&gt; {\n        action.payload.then((res: WorkerInfo[]) =&gt; {\n           res.map(data =&gt; {\n            return draft.workerList.push({\n              id: data.id,\n              name: data.name,\n              email: data.email,\n              user_type: data.user_type,\n              address: data.address,\n              salary: data.salary,\n              profile_image: data.profile_image,\n              birth: data.birth,\n              join_date: data.join_date,\n              leave_date: data.leave_date,\n              working_year: data.working_year,\n              grade: data.grade,\n              half_vacation: data.half_vacation,\n              total_year_vacation: data.total_year_vacation,\n              year_vacation: data.year_vacation,\n            });\n          });\n        });\n      });\n    },initialState,\n);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1561531580, "post_id": 56766659, "comment_id": 100089458, "body": "Where did you import the pipe ? Can you upload the module that import the pipe ?"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "reply_to_user": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1561531638, "post_id": 56766659, "comment_id": 100089500, "body": "@TonyNgo its a default angular pipe not a custom pipe, so it does not need importing <a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">angular.io/api/common/KeyValuePipe</a> its a part of the common module"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1561531927, "post_id": 56766659, "comment_id": 100089631, "body": "Can you create stackblitz demo so I can take a look at ?"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "reply_to_user": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1561532084, "post_id": 56766659, "comment_id": 100089709, "body": "@TonyNgo not sure how a stackblitz would help since you cant build the angular project from there.."}, {"owner": {"reputation": 1172, "user_id": 3813151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3202ca26c9fa5ae9e057d00eeb0700c?s=128&d=identicon&r=PG", "display_name": "Chintan Kotadiya", "link": "https://stackoverflow.com/users/3813151/chintan-kotadiya"}, "edited": false, "score": 2, "creation_date": 1561532155, "post_id": 56766659, "comment_id": 100089735, "body": "@Smokey Dawson Please check document <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"nofollow noreferrer\">angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe</a>"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1561532169, "post_id": 56766659, "comment_id": 100089740, "body": "Or github would may help if you dont mind. Because I only see small piece of your code so I cant tell"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "reply_to_user": {"reputation": 1172, "user_id": 3813151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3202ca26c9fa5ae9e057d00eeb0700c?s=128&d=identicon&r=PG", "display_name": "Chintan Kotadiya", "link": "https://stackoverflow.com/users/3813151/chintan-kotadiya"}, "edited": false, "score": 0, "creation_date": 1561532222, "post_id": 56766659, "comment_id": 100089765, "body": "@chintankotadiya I am not using the default angular orderBy pipe I am using <a href=\"https://github.com/VadimDez/ngx-order-pipe\" rel=\"nofollow noreferrer\">github.com/VadimDez/ngx-order-pipe</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1561532569, "post_id": 56766659, "comment_id": 100089940, "body": "@SmokeyDawson read the link. Angular doesn&#39;t have a &quot;default order pipe&quot;, it <b>insists on the fact you must not use one</b>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1561532606, "post_id": 56766659, "comment_id": 100089968, "body": "as for your error, it&#39;s because you use <code>item</code> as a pipe parameter, while defining it."}], "answers": [{"tags": [], "owner": {"reputation": 1172, "user_id": 3813151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3202ca26c9fa5ae9e057d00eeb0700c?s=128&d=identicon&r=PG", "display_name": "Chintan Kotadiya", "link": "https://stackoverflow.com/users/3813151/chintan-kotadiya"}, "is_accepted": true, "score": 1, "last_activity_date": 1561535371, "creation_date": 1561535371, "answer_id": 56767796, "question_id": 56766659, "link": "https://stackoverflow.com/questions/56766659/angular-does-not-recognise-item-from-keyvalue-pipe-on-ng-build-prod/56767796#56767796", "title": "Angular does not recognise item from keyvalue pipe on ng build --prod", "body": "<p>I have to replicate that issue in local and I face the same issue. I have resolved that like that way.</p>\n\n<p>I have checked also in production mode.</p>\n\n<pre><code>&lt;div *ngFor=\"let item of messages | keyvalue | orderBy: messages.item\"&gt;\n    &lt;div class=\"date\"&gt;\n        {{item.key | momentFormat: 'DD/MM/YYYY'}}\n    &lt;/div&gt;\n    &lt;app-message\n        *ngFor=\"let message of item.value\"\n        [message]=\"message\"\n    &gt;\n    &lt;/app-message&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please try that way. hope this will help you.</p>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "accepted_answer_id": 56767796, "answer_count": 1, "score": 0, "last_activity_date": 1561535371, "creation_date": 1561531310, "last_edit_date": 1561531755, "question_id": 56766659, "link": "https://stackoverflow.com/questions/56766659/angular-does-not-recognise-item-from-keyvalue-pipe-on-ng-build-prod", "title": "Angular does not recognise item from keyvalue pipe on ng build --prod", "body": "<p>I am trying to use the <a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">keyvalue pipe</a> in my production Angular application</p>\n\n<p>I have some data like this (basic example - not actual data)</p>\n\n<pre><code>{\n    01-12-19: [\n        {\n            message: 'hello',\n            id: 12\n        },\n        {\n            message: 'goodbye',\n            id: 13\n        }\n    ],\n    02-12-19: [\n        {\n            message: 'hello',\n            id: 14\n        },\n        {\n            message: 'goodbye',\n            id: 15\n        }\n    ]\n}\n</code></pre>\n\n<p>now in my component HTML I am trying to use the <code>| keyvalue</code> pipe like so</p>\n\n<pre><code>&lt;div *ngFor=\"let item of messages | keyvalue | orderBy: item?.key\"&gt;\n    &lt;div class=\"date\"&gt;\n        {{item?.key | momentFormat: 'DD/MM/YYYY'}}\n    &lt;/div&gt;\n    &lt;app-message\n        *ngFor=\"let message of item?.value\"\n        [message]=\"message\"\n    &gt;\n    &lt;/app-message&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>now this works, I can see the list of messages.</p>\n\n<p>But when I try and build my project with <code>ng build --prod</code> I keep getting these errors</p>\n\n<pre><code>Property 'item' does not exist on type 'MessageContainerComponent'\n</code></pre>\n\n<p>How can I fix this issue? This error does not show up when I run <code>ng build</code> only errors on production. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6", "single-page-application"], "answers": [{"tags": [], "owner": {"reputation": 1265, "user_id": 6092216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6a3O.jpg?s=128&g=1", "display_name": "Nabin Paudyal", "link": "https://stackoverflow.com/users/6092216/nabin-paudyal"}, "is_accepted": false, "score": 1, "last_activity_date": 1561531434, "creation_date": 1561531434, "answer_id": 56766691, "question_id": 56766641, "link": "https://stackoverflow.com/questions/56766641/how-to-nest-different-modules-in-angular-2/56766691#56766691", "title": "How to nest different modules in angular 2", "body": "<p>You need to export <code>SoaDateComponent</code> component from your <code>ParametersModule</code>.</p>\n\n<pre><code>exports: [\n  SoaDateComponent\n] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1265, "user_id": 6092216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6a3O.jpg?s=128&g=1", "display_name": "Nabin Paudyal", "link": "https://stackoverflow.com/users/6092216/nabin-paudyal"}, "edited": false, "score": 0, "creation_date": 1561541147, "post_id": 56766701, "comment_id": 100094488, "body": "There&#39;s a typo in this answer. Please change <code>declearations</code> to <code>declarations</code>."}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1561541181, "last_edit_date": 1561541181, "creation_date": 1561531488, "answer_id": 56766701, "question_id": 56766641, "link": "https://stackoverflow.com/questions/56766641/how-to-nest-different-modules-in-angular-2/56766701#56766701", "title": "How to nest different modules in angular 2", "body": "<p>You need to export the component too in your ParamatersModule</p>\n\n<pre><code>declarations: [\n....\n],\nexports: [\n  SoaDateComponent \n]\n</code></pre>\n"}], "owner": {"reputation": 3165, "user_id": 3825246, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/V1fVO.jpg?s=128&g=1", "display_name": "Ibanez1408", "link": "https://stackoverflow.com/users/3825246/ibanez1408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56766701, "answer_count": 2, "score": 1, "last_activity_date": 1576223264, "creation_date": 1561531242, "last_edit_date": 1576223264, "question_id": 56766641, "link": "https://stackoverflow.com/questions/56766641/how-to-nest-different-modules-in-angular-2", "title": "How to nest different modules in angular 2", "body": "<pre><code>The app.module has the admin-layout.module.\nThe admin-layout.module has the parameters.module.\nThe parameters.module has the soa-date.Component.\nBut the property.component is in the admin-layout.module\n</code></pre>\n\n<p>I need to put the <code>&lt;app-soa-date&gt;&lt;/app-soa-date&gt;</code> selector in the property.component but it gives me an error of app-soa-date is not a known element.</p>\n\n<pre><code>&lt;div class=\"card-body\"&gt;\n  &lt;div *ngIf=\"showSoaDate\"&gt;\n    &lt;app-soa-date&gt;&lt;/app-soa-date&gt;\n  &lt;/div&gt;\n  &lt;div *ngIf=\"showOther\"&gt;\n    Other\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please see the image below:\n<a href=\"https://i.stack.imgur.com/9gjII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gjII.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript", "angular-cli", "angular7"], "comments": [{"owner": {"reputation": 5259, "user_id": 715286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BqXXo.jpg?s=128&g=1", "display_name": "Qortex", "link": "https://stackoverflow.com/users/715286/qortex"}, "edited": false, "score": 1, "creation_date": 1561528473, "post_id": 56766011, "comment_id": 100088153, "body": "what is the error?!"}, {"owner": {"reputation": 83, "user_id": 9681047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hsIGZXgQhW8/AAAAAAAAAAI/AAAAAAAAAcc/n_-t5v63z1E/photo.jpg?sz=128", "display_name": "Matanya dayfani", "link": "https://stackoverflow.com/users/9681047/matanya-dayfani"}, "reply_to_user": {"reputation": 5259, "user_id": 715286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BqXXo.jpg?s=128&g=1", "display_name": "Qortex", "link": "https://stackoverflow.com/users/715286/qortex"}, "edited": false, "score": 0, "creation_date": 1561529534, "post_id": 56766011, "comment_id": 100088573, "body": "@Mic Sorry and thanks ... I just updated the question and added a picture of the error"}, {"owner": {"reputation": 481, "user_id": 5538819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wrTqL.jpg?s=128&g=1", "display_name": "Sanira", "link": "https://stackoverflow.com/users/5538819/sanira"}, "edited": false, "score": 0, "creation_date": 1561530700, "post_id": 56766011, "comment_id": 100089079, "body": "the error says there&#39;s a bug in <code>route-animations.ts</code>  file. can you please share the code in that file here, so others can look in to it for identify the issue there"}, {"owner": {"reputation": 83, "user_id": 9681047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hsIGZXgQhW8/AAAAAAAAAAI/AAAAAAAAAcc/n_-t5v63z1E/photo.jpg?sz=128", "display_name": "Matanya dayfani", "link": "https://stackoverflow.com/users/9681047/matanya-dayfani"}, "reply_to_user": {"reputation": 481, "user_id": 5538819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wrTqL.jpg?s=128&g=1", "display_name": "Sanira", "link": "https://stackoverflow.com/users/5538819/sanira"}, "edited": false, "score": 0, "creation_date": 1561533799, "post_id": 56766011, "comment_id": 100090571, "body": "@Sanira Thanks for the comment. I added the picture"}, {"owner": {"reputation": 481, "user_id": 5538819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wrTqL.jpg?s=128&g=1", "display_name": "Sanira", "link": "https://stackoverflow.com/users/5538819/sanira"}, "edited": false, "score": 0, "creation_date": 1561544318, "post_id": 56766011, "comment_id": 100096340, "body": "Can you reproduce the issue in <code>stackblitz</code> or somethin and add the link here, so then it can be easy to find a solution. since we can observe the whole code base and, find out the location and reason, which is why exactly this code didn&#39;t compile"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 9681047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hsIGZXgQhW8/AAAAAAAAAAI/AAAAAAAAAcc/n_-t5v63z1E/photo.jpg?sz=128", "display_name": "Matanya dayfani", "link": "https://stackoverflow.com/users/9681047/matanya-dayfani"}, "is_accepted": false, "score": 2, "last_activity_date": 1561589890, "creation_date": 1561589890, "answer_id": 56781904, "question_id": 56766011, "link": "https://stackoverflow.com/questions/56766011/ng-build-prod-non-exported-function/56781904#56781904", "title": "ng build --prod non-exported function", "body": "<p>The solution I found is not to set the animation in functions but as variables.\nI found this solution here:\n<a href=\"https://pastebin.com/H1CKMvw5\" rel=\"nofollow noreferrer\">https://pastebin.com/H1CKMvw5</a></p>\n\n<pre><code>const optional = { optional: true };\nlet toTheRight = [\n  query(':enter, :leave', [\n    style({\n      position: 'absolute',\n      top: '0',\n      right: 0,\n      width: '100%',\n    })\n  ], optional),\n  query(':enter', [\n    style({ right: '-100%',  })\n  ]),\n  group([\n    query(':leave', [\n      animate('300ms ease', style({ right: '100%', }))\n    ], optional),\n    query(':enter', [\n      animate('300ms ease', style({ right: '0%'}))\n    ])\n  ]),\n];\nlet toTheLeft = [\n  query(':enter, :leave', [\n    style({\n      position: 'absolute',\n      top: '0',\n      left: 0,\n      width: '100%',\n    })\n  ], optional),\n  query(':enter', [\n    style({ right: '-100%',  })\n  ]),\n  group([\n    query(':leave', [\n      animate('300ms ease', style({ left: '100%', }))\n    ], optional),\n    query(':enter', [\n      animate('300ms ease', style({ left: '0%'}))\n    ])\n  ]),\n]\n\n\nexport const slider =\n  trigger('routeAnimations', [\n    transition('* =&gt; isLeft', toTheLeft),\n    transition('* =&gt; isRight', toTheRight),\n    transition('isRight =&gt; *', toTheLeft),\n    transition('isLeft =&gt; *', toTheRight),\n  ]);\n</code></pre>\n\n<p>After that everything works fine.</p>\n"}], "owner": {"reputation": 83, "user_id": 9681047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hsIGZXgQhW8/AAAAAAAAAAI/AAAAAAAAAcc/n_-t5v63z1E/photo.jpg?sz=128", "display_name": "Matanya dayfani", "link": "https://stackoverflow.com/users/9681047/matanya-dayfani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561589890, "creation_date": 1561528104, "last_edit_date": 1561533466, "question_id": 56766011, "link": "https://stackoverflow.com/questions/56766011/ng-build-prod-non-exported-function", "title": "ng build --prod non-exported function", "body": "<p>I'm a beginner user in Angular.\nThe compiler says I have a method error in the file that is responsible for animation between components.\nI could not quite figure out what the problem was.</p>\n\n<p>In looking for a solution to the problem, I found it necessary to add an \"optional\" to each state of the animation.\nI added and that did not help ...</p>\n\n<p>Animate Routes</p>\n\n<pre><code>export const animateRoutes=\n  trigger('routeAnimations', [\n    transition('webDesign =&gt; graphicDesign', slideTo('left') ),\n    transition('graphicDesign =&gt; webDesign', slideTo('right') ),\n\n    transition('webDesign =&gt; webProject', slideTo('right') ),\n    transition('webProject =&gt; webDesign', slideTo('left') ),\n\n    transition('graphicDesign =&gt; graphicProject', slideTo('right') ),\n    transition('graphicProject =&gt; graphicDesign', slideTo('left') ),\n\n    transition('webProject =&gt; graphicDesign', slideTo('left') ),\n    transition('graphicProject =&gt; webDesign', slideTo('left') ),\n\n    transition('* =&gt; *', fadeIn() )\n  ]);\n</code></pre>\n\n<p>Slide Animation</p>\n\n<pre><code>function slideTo(direction) {\n  const optional = { optional: true };\n  return [\n    query(':enter, :leave', [\n      style({\n        position: 'absolute',\n        top: 0,\n        [direction]: 0,\n        width: '100%',\n      })\n    ], optional),\n    query(':enter', [\n      style({ [direction]: '-100%'})\n    ],optional),\n    group([\n      query(':leave', [\n        animate('800ms ease-in-out', style({ [direction]: '100%'}))\n      ], optional),\n      query(':enter', [\n        animate('800ms ease-in-out', style({ [direction]: '0%'}))\n      ],optional)\n    ]),\n  ];\n}\n</code></pre>\n\n<p>FadeIn Animation</p>\n\n<pre><code>function fadeIn() {\n    const optional = { optional: true };\n    return [\n      query(':enter, :leave', [\n        style({\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%'\n        })\n      ], optional),\n      query(':enter', [\n        style({ opacity: 0 })\n      ],optional),\n      group([\n        query(':leave', [\n          animate('600ms linear', style({ opacity: 0 }))\n        ], optional),\n        query(':enter', [\n          animate('600ms linear', style({ opacity: 1 }))\n        ],optional)\n      ]),\n    ];\n  }\n</code></pre>\n\n<p>app.component.ts:\n<a href=\"https://i.stack.imgur.com/6oigw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oigw.png\" alt=\"enter image description here\"></a>\nroute-animations:\n<a href=\"https://i.stack.imgur.com/154Xz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/154Xz.png\" alt=\"enter image description here\"></a>\nThe Error:\n<a href=\"https://i.stack.imgur.com/1ArnQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ArnQ.png\" alt=\"enter image description here\"></a></p>\n"}]