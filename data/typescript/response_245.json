[{"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1568850531, "post_id": 58001956, "comment_id": 102409600, "body": "You are running the ts file directly, you need to build it and run the resulting js file. Or use <code>ts-node</code> (<a href=\"https://www.npmjs.com/package/ts-node\" rel=\"nofollow noreferrer\">npmjs.com/package/ts-node</a>)"}], "owner": {"reputation": 11, "user_id": 12087559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9664dfb85fca586f6a375aab3dc4da9e?s=128&d=identicon&r=PG&f=1", "display_name": "prasant", "link": "https://stackoverflow.com/users/12087559/prasant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568850062, "creation_date": 1568850062, "question_id": 58001956, "link": "https://stackoverflow.com/questions/58001956/when-i-am-using-in-typescript-that-time-compilation-happening-correctly-but", "title": "when I am using &quot;:&quot; in typescript that time, compilation happening correctly but during run time it is getting failed", "body": "<p>I was trying to run one of the .ts file from visual studio code and sublime text. Compilation is happening properly. But I am getting error during run time.</p>\n\n<p>I have installed typescript globally in my system through node. I have installed typescript compiler in sublime. Tried same code online editor it is working fine. \nMy type script version is 3.6.3</p>\n\n<p>I have written below code</p>\n\n<pre><code>let a: number=2;\nlet b: string=\"hi\";\nlet c: boolean= true;\n\nconsole.log(a+\" \"+b+\" \"+c);\n\nC:\\Users\\pbhadury&gt;tsc prasanta.ts\n\nC:\\Users\\pbhadury&gt;node prasanta.ts\nC:\\Users\\pbhadury\\prasanta.ts:1\nlet a:string=\"Hi\"\n ^\n\nSyntaxError: Unexpected token :\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "types", "interface", "angular-cli"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 4, "creation_date": 1568850163, "post_id": 58001951, "comment_id": 102409532, "body": "Use <code>type oneToFive = 1 | 2 | 3 | 4 | 5;</code>"}, {"owner": {"reputation": 704, "user_id": 1763572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793eeefedd2dc5599526fc2163adf0c3?s=128&d=identicon&r=PG", "display_name": "Elron", "link": "https://stackoverflow.com/users/1763572/elron"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568850390, "post_id": 58001951, "comment_id": 102409569, "body": "I would mark your question as correct :) thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 1763572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793eeefedd2dc5599526fc2163adf0c3?s=128&d=identicon&r=PG", "display_name": "Elron", "link": "https://stackoverflow.com/users/1763572/elron"}, "is_accepted": false, "score": 0, "last_activity_date": 1568850508, "creation_date": 1568850508, "answer_id": 58002002, "question_id": 58001951, "link": "https://stackoverflow.com/questions/58001951/create-interface-of-specific-options-rating-interface-allow-only-numbers-betwe/58002002#58002002", "title": "create interface of specific options (rating interface, allow only numbers between 1-5)", "body": "<p>Use <code>type</code> instead of <code>interface</code></p>\n\n<pre><code>type oneToFive = 1 | 2 | 3 | 4 | 5;\n</code></pre>\n\n<p>Thank you for your answer! @Heretic Monkey</p>\n"}], "owner": {"reputation": 704, "user_id": 1763572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793eeefedd2dc5599526fc2163adf0c3?s=128&d=identicon&r=PG", "display_name": "Elron", "link": "https://stackoverflow.com/users/1763572/elron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1568850543, "answer_count": 1, "score": 0, "last_activity_date": 1568850508, "creation_date": 1568850014, "question_id": 58001951, "link": "https://stackoverflow.com/questions/58001951/create-interface-of-specific-options-rating-interface-allow-only-numbers-betwe", "closed_reason": "Duplicate", "title": "create interface of specific options (rating interface, allow only numbers between 1-5)", "body": "<p>I want to create <code>oneToFive</code> interface that allows only numbers between 1-5.</p>\n\n<p>How do you write this in a correct way?</p>\n\n<pre><code>// this line gives me error\ninterface oneToFive = 1 | 2 | 3 | 4 | 5;\n\ninterface sectionFeedback {\n  howMuchDoYouRelate?: oneToFive;\n  howWellWasThisTextWritten?: oneToFive;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "facebook-login"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568850270, "post_id": 58001938, "comment_id": 102409545, "body": "I have read this article but i didn&#39;t what to do with settings to run fb app using my angular app on <code>localhost</code>"}, {"owner": {"reputation": 2725, "user_id": 3970241, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/624d9cb0a2c63a35207f0526f6b87669?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Ross", "link": "https://stackoverflow.com/users/3970241/mike-ross"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568854434, "post_id": 58001938, "comment_id": 102410225, "body": "Have you tried virtual host? Virtual host works for my projects."}], "tags": [], "owner": {"reputation": 2725, "user_id": 3970241, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/624d9cb0a2c63a35207f0526f6b87669?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Ross", "link": "https://stackoverflow.com/users/3970241/mike-ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1568849837, "creation_date": 1568849837, "answer_id": 58001938, "question_id": 58001847, "link": "https://stackoverflow.com/questions/58001847/unable-to-implement-login-with-facebook-because-facebook-is-giving-an-error-usin/58001938#58001938", "title": "Unable to implement login with facebook because facebook is giving an error using angular8?", "body": "<p>Use virtual host instead for your project.</p>\n\n<p>Create self signed certificate and use <code>https</code> url. You don't really need this step but I prefer enforcing <code>HTTPS</code>.</p>\n\n<p>Here is an <a href=\"https://wp-native-articles.com/blog/news/how-to-fix-facebook-apps-error-cant-load-url-domain-url-isnt-included-apps-domains/\" rel=\"nofollow noreferrer\">article</a></p>\n\n<p>Hope this helps. </p>\n"}, {"comments": [{"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568850746, "post_id": 58002001, "comment_id": 102409638, "body": "ahh right. So where i can find <code>Client OAuth Settings</code> in facebook developers console"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568851666, "post_id": 58002001, "comment_id": 102409773, "body": "You put <code>https:&#47;&#47;localhost:4200&#47;</code> in <code>Client OAuth Settings</code>settings but on my local machine i have <code>http</code> instead of <code>https</code>. And when i am entering this <code>http:&#47;&#47;localhost:4200&#47;</code> so it&#39;s giving an error on this field. It is only accepting url with <code>https</code>. So what can i do now?"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568852363, "post_id": 58002001, "comment_id": 102409884, "body": "i figured out. I didn&#39;t put any url in <code>Client OAuth Settings</code> and just put <code>App Domain</code> as <code>localhost</code> and <code>Site Url</code> as <code>http:&#47;&#47;localhost:4200&#47;</code> so it&#39;s working now. Thanks for your help."}, {"owner": {"reputation": 496, "user_id": 6939588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2725030856bb894a2d4635ab122e3e69?s=128&d=identicon&r=PG&f=1", "display_name": "gnath", "link": "https://stackoverflow.com/users/6939588/gnath"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568852644, "post_id": 58002001, "comment_id": 102409936, "body": "For stackblitz you will be able to add http and for localhost - http redirects are automatically allowed while in development mode only and do not need to be added here."}], "tags": [], "owner": {"reputation": 496, "user_id": 6939588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2725030856bb894a2d4635ab122e3e69?s=128&d=identicon&r=PG&f=1", "display_name": "gnath", "link": "https://stackoverflow.com/users/6939588/gnath"}, "is_accepted": true, "score": 0, "last_activity_date": 1568850505, "creation_date": 1568850505, "answer_id": 58002001, "question_id": 58001847, "link": "https://stackoverflow.com/questions/58001847/unable-to-implement-login-with-facebook-because-facebook-is-giving-an-error-usin/58002001#58002001", "title": "Unable to implement login with facebook because facebook is giving an error using angular8?", "body": "<p>You should add a valid redirect url in Client OAuth Settings.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BRUpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BRUpc.png\" alt=\"\"></a>\n<a href=\"https://stackblitz.com/edit/angular-ad1hb8\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ad1hb8</a></p>\n"}], "owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 58002001, "answer_count": 2, "score": -1, "last_activity_date": 1568850505, "creation_date": 1568848999, "question_id": 58001847, "link": "https://stackoverflow.com/questions/58001847/unable-to-implement-login-with-facebook-because-facebook-is-giving-an-error-usin", "title": "Unable to implement login with facebook because facebook is giving an error using angular8?", "body": "<p>I have an <code>angular8</code> application in which i have to implement login with <code>facebook</code>. I am using <code>angularx-social-login</code>. But when i tried to login facebook popup opens with warning like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/313Sh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/313Sh.png\" alt=\"enter image description here\"></a></p>\n\n<p>And after login this popups is coming and i am getting <code>user</code> object <code>null</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/gLrLQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLrLQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>In <code>facebook developers console</code> i put these settings </p>\n\n<p><a href=\"https://i.stack.imgur.com/4v96t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4v96t.png\" alt=\"enter image description here\"></a></p>\n\n<p>In <code>settings</code> in <code>facebook developers console</code> i added <code>platform</code> as <code>web</code> and enter this setting</p>\n\n<p><a href=\"https://i.stack.imgur.com/AoBgi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AoBgi.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have implemented in <code>stackBlitz</code> here is my code at this  <a href=\"https://stackblitz.com/edit/angular-tnzly4?file=src%2Fapp%2Fapp.module.ts\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"tags": ["javascript", "regex", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 991, "user_id": 11981207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDMl-KbtprUZGl_XAs7czxfJgfDG0zK2kye2G75qA=k-s128", "display_name": "Kei", "link": "https://stackoverflow.com/users/11981207/kei"}, "is_accepted": true, "score": 0, "last_activity_date": 1568848984, "creation_date": 1568848984, "answer_id": 58001845, "question_id": 58001821, "link": "https://stackoverflow.com/questions/58001821/is-there-a-way-to-add-a-variable-to-regex-and-use-them-in-javascript-or-typescri/58001845#58001845", "title": "Is there a way to add a variable to Regex and use them in JavaScript or TypeScript?", "body": "<p>Yes, you can use the RegExp constructor.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var extension = \".txt\";\r\nvar reg = new RegExp(\"^(.*?)\\\\\" + extension);\r\n\r\nconsole.log(reg);\r\nconsole.log(reg.test(\"test.txt\"));\r\nconsole.log(reg.test(\"test.pdf\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 1710180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc645c00211cc2d344fdd9f9917646d?s=128&d=identicon&r=PG", "display_name": "Dinu", "link": "https://stackoverflow.com/users/1710180/dinu"}, "is_accepted": false, "score": 0, "last_activity_date": 1568850076, "last_edit_date": 1568850076, "creation_date": 1568849212, "answer_id": 58001878, "question_id": 58001821, "link": "https://stackoverflow.com/questions/58001821/is-there-a-way-to-add-a-variable-to-regex-and-use-them-in-javascript-or-typescri/58001878#58001878", "title": "Is there a way to add a variable to Regex and use them in JavaScript or TypeScript?", "body": "<p>You can use:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function extMatch(ext){\r\n    return new RegExp('^(.*?)\\\\.'+ext+'$');\r\n}\r\n/*  Even shorter, but messing with base prototypes is frowned upon.\r\n    Use at your leisure. */\r\nString.prototype.extMatch=function(ext){\r\n    let match=this.match(extMatch(ext));\r\n    return match &amp;&amp; match[1];\r\n}\r\nlet str='foobar.css';\r\nlet ext='css';\r\nconsole.log(str.match(extMatch(ext))[1]);\r\nconsole.log(str.extMatch(ext));\r\n\r\nconsole.log(str.extMatch('zip'));       // null if no match</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 157, "user_id": 11930421, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4mcPmbni40/AAAAAAAAAAI/AAAAAAAAIa0/5n7C0F7DVzY/photo.jpg?sz=128", "display_name": "ghost2092000", "link": "https://stackoverflow.com/users/11930421/ghost2092000"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1568849288, "accepted_answer_id": 58001845, "answer_count": 2, "score": 0, "last_activity_date": 1568850076, "creation_date": 1568848732, "question_id": 58001821, "link": "https://stackoverflow.com/questions/58001821/is-there-a-way-to-add-a-variable-to-regex-and-use-them-in-javascript-or-typescri", "closed_reason": "Duplicate", "title": "Is there a way to add a variable to Regex and use them in JavaScript or TypeScript?", "body": "<p>I am trying to use something similar to </p>\n\n<pre><code>/^(.*?)\\.txt/\n</code></pre>\n\n<p>But instead of using .txt I want to replace it with a variable</p>\n"}, {"tags": ["javascript", "excel", "vba", "typescript", "office-js"], "answers": [{"comments": [{"owner": {"reputation": 2265, "user_id": 5958842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d6891cdbf84d1fab53a0d73b05ee467?s=128&d=identicon&r=PG", "display_name": "DecimalTurn", "link": "https://stackoverflow.com/users/5958842/decimalturn"}, "edited": false, "score": 0, "creation_date": 1568851078, "post_id": 58001967, "comment_id": 102409691, "body": "Thanks, I guess I missed that update from the original question. It would be nice if there was an event that doesn&#39;t involve selection. I&#39;ll wait a little to see if there is a better alternative, otherwise I&#39;ll mark this as the answer."}], "tags": [], "owner": {"reputation": 121871, "user_id": 478884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLckc.jpg?s=128&g=1", "display_name": "Tim Williams", "link": "https://stackoverflow.com/users/478884/tim-williams"}, "is_accepted": false, "score": 1, "last_activity_date": 1568850574, "last_edit_date": 1568850574, "creation_date": 1568850178, "answer_id": 58001967, "question_id": 58001786, "link": "https://stackoverflow.com/questions/58001786/can-office-js-trigger-a-vba-workbook-or-worksheet-event-procedure/58001967#58001967", "title": "Can Office-JS trigger a VBA Workbook or Worksheet Event Procedure?", "body": "<p>The <code>change</code> event does not run but the <code>selectionchange</code> event does, so you could use that to trigger your code: populate a specific cell and then select it</p>\n\n<pre><code>sheet.getRange(\"A999\").values = 'Hello from Office-JS';\nsheet.getRange(\"A999\").select();\n</code></pre>\n\n<p>Sheet module:</p>\n\n<pre><code>Private Sub Worksheet_SelectionChange(ByVal Target As Range)\n    If Target.Address(False, False) = \"A999\" Then\n        MsgBox Target.Value\n    End If\nEnd Sub\n</code></pre>\n\n<p><strong>EDIT</strong>: on review, the OP for the original question already worked most of this out...</p>\n"}, {"tags": [], "owner": {"reputation": 2265, "user_id": 5958842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d6891cdbf84d1fab53a0d73b05ee467?s=128&d=identicon&r=PG", "display_name": "DecimalTurn", "link": "https://stackoverflow.com/users/5958842/decimalturn"}, "is_accepted": true, "score": 1, "last_activity_date": 1568865900, "last_edit_date": 1568865900, "creation_date": 1568852814, "answer_id": 58002206, "question_id": 58001786, "link": "https://stackoverflow.com/questions/58001786/can-office-js-trigger-a-vba-workbook-or-worksheet-event-procedure/58002206#58002206", "title": "Can Office-JS trigger a VBA Workbook or Worksheet Event Procedure?", "body": "<p>After some more testing, I managed to find that the <code>Workbook_NewSheet</code> event procedure of the workbook object gets triggered by creating a new worksheet with Office-Js:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var sheets = context.workbook.worksheets;\nvar sheet = sheets.add(\"NewSheet\");\nsheet.getRange(\"A1\").values = \"Hello from Office-JS\";\n</code></pre>\n\n<p>So, it would be possible to have the following code in the <code>ThisWorkbook</code> Module to display the Message box in that context:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Private Sub Workbook_NewSheet(ByVal Sh As Object)\n    If Sh.Name = \"NewSheet\" Then\n        If Sh.Range(\"$A$1\").Value2 &lt;&gt; vbNullString Then\n            MsgBox Sh.Range(\"$A$1\").Value2\n        End If\n    End If\nEnd Sub\n</code></pre>\n\n<p>The nice thing here is that even if the Office-JS code writes to the sheet after creating it, the event in VBA only gets to run after the JavaScript code has finished meaning that the value in cell A1 will be changed in time for when the VBA code runs.</p>\n"}], "owner": {"reputation": 2265, "user_id": 5958842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d6891cdbf84d1fab53a0d73b05ee467?s=128&d=identicon&r=PG", "display_name": "DecimalTurn", "link": "https://stackoverflow.com/users/5958842/decimalturn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 58002206, "answer_count": 2, "score": 1, "last_activity_date": 1568865900, "creation_date": 1568848268, "last_edit_date": 1568849301, "question_id": 58001786, "link": "https://stackoverflow.com/questions/58001786/can-office-js-trigger-a-vba-workbook-or-worksheet-event-procedure", "title": "Can Office-JS trigger a VBA Workbook or Worksheet Event Procedure?", "body": "<p>I'm trying to see if there is a way to do something in Office-JS that would trigger an event procedure to run in Excel VBA, but it looks like VBA events are disabled during the execution of the JavaScript code.</p>\n\n<p>Let's say for example that I have a workbook with a worksheet named \"Sheet1\" and in that sheet module I have the following code:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Private Sub Worksheet_Change(ByVal Target As Range)\n    If Target.Address = \"$A$1\" And Target.Value2 &lt;&gt; vbNullString Then\n        MsgBox Target.Value2\n    End If\nEnd Sub\n</code></pre>\n\n<p>What I'm expecting is that if I change the content of cell A1, the new content will be displayed in a message box, but if I run the following snippet in <a href=\"https://www.microsoft.com/en-us/garage/profiles/script-lab/\" rel=\"nofollow noreferrer\">Script Lab</a> (based of the blank snippet), the event does not get triggered even though cell A1 gets edited successfully:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\"#run\").click(() =&gt; tryCatch(run));\n\nasync function run() {\n  await Excel.run(async (context) =&gt; {\n\n    const sheet = context.workbook.worksheets.getItem(\"Sheet1\");\n    sheet.getRange(\"A1\").values = 'Hello from Office-JS';\n\n    await context.sync();\n  });\n}\n\n/** Default helper for invoking an action and handling errors. */\nasync function tryCatch(callback) {\n  try {\n    await callback();\n  } catch (error) {\n    // Note: In a production add-in, you'd want to notify the user through your add-in's UI.\n    console.error(error);\n  }\n}\n</code></pre>\n\n<p>So my question would be: Is there a way to set things up so that the JavaScript code can trigger the Worksheet_Change event and if not, is there another worksheet or workbook event that can be triggered?</p>\n\n<p><strong>A bit of context</strong>:\nI was trying to find a solution to <a href=\"https://stackoverflow.com/questions/57999868/is-there-is-a-way-to-write-macro-to-worksheet#57999868\">this question</a> and thought that a good workaround would be to write VBA code to a cell with Office-JS and then use the Worksheet_Change event procedure to execute the VBA code written in that cell.</p>\n\n<p>Unfortunately, that didn't work so far, but I think it's worth asking this more specific question as solving this would be the last stepping stone in order to allow VBA code to be executed from Office-JS (which would be pretty nice).</p>\n"}, {"tags": ["node.js", "typescript", "local", "execution", "google-smart-home"], "answers": [{"comments": [{"owner": {"reputation": 5747, "user_id": 187883, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a8f2a22a57d760fe666f518a8d9f1355?s=128&d=identicon&r=PG", "display_name": "NateS", "link": "https://stackoverflow.com/users/187883/nates"}, "edited": false, "score": 0, "creation_date": 1613596814, "post_id": 58013679, "comment_id": 117127366, "body": "Sample seems more complex than necessary."}], "tags": [], "owner": {"reputation": 60522, "user_id": 246461, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NtTHn.jpg?s=128&g=1", "display_name": "devunwired", "link": "https://stackoverflow.com/users/246461/devunwired"}, "is_accepted": true, "score": 1, "last_activity_date": 1568904484, "creation_date": 1568904484, "answer_id": 58013679, "question_id": 58001737, "link": "https://stackoverflow.com/questions/58001737/how-do-i-setup-and-deploy-a-local-execution-app-for-google-smart-home-action/58013679#58013679", "title": "How do I setup and deploy a local execution app for Google smart home action?", "body": "<p>The best place to get started would be with the local home <a href=\"https://github.com/actions-on-google/smart-home-local\" rel=\"nofollow noreferrer\">sample app</a> on GitHub. This sample includes both a local execution app and a compatible virtual device, with instructions to get it compiled and deployed.</p>\n\n<p>For testing, you need to host the web app (HTML/JavaScript) in a location that's accessible to your Home device. This could be a local dev server or something like <a href=\"https://firebase.google.com/docs/hosting\" rel=\"nofollow noreferrer\">Firebase Hosting</a> (the sample has instructions for both). The hosted URL goes in the console under <strong>Test</strong> > <strong>On device testing</strong>.</p>\n\n<blockquote>\n  <p>I tried to run it on the browser, but it says it cannot find \"require\", and I read that node.js is not supposed to run on client side.</p>\n</blockquote>\n\n<p>The Home devices run a browser-based (Chrome) environment, so your JavaScript must be compatible with the browser. If you use Node programming paradigms (e.g. importing modules using <code>require</code>) in your code, you need to use a bundler tool such as Webpack or Parcel to package the code for the browser. <strong>The sample uses Webpack to accomplish this.</strong></p>\n\n<p><em>Side Note: You can't run even a properly packaged local home app in the browser on your development machine because the local home SDK only exists on Home devices.</em></p>\n"}], "owner": {"reputation": 23, "user_id": 12087512, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A9KnqjvpfSg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYCX0PB1Rz5P_751nQmtAit06w-w/photo.jpg?sz=128", "display_name": "Henrique Mengatto", "link": "https://stackoverflow.com/users/12087512/henrique-mengatto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 1, "accepted_answer_id": 58013679, "answer_count": 1, "score": 2, "last_activity_date": 1568904484, "creation_date": 1568847881, "question_id": 58001737, "link": "https://stackoverflow.com/questions/58001737/how-do-i-setup-and-deploy-a-local-execution-app-for-google-smart-home-action", "title": "How do I setup and deploy a local execution app for Google smart home action?", "body": "<p>I am implementing the local execution functionality for my google smart home action. I am following the steps in this link:\n<a href=\"https://developers.google.com/actions/smarthome/develop/local\" rel=\"nofollow noreferrer\">https://developers.google.com/actions/smarthome/develop/local</a></p>\n\n<p>I have already configured the scanning data in the console, and now I am trying to deploy my local execution app. I know how to program in javascript, I have created a couple of firebase functions, but I am not an expert in node.js. I don't understand how to setup and run this javascript app. </p>\n\n<p>I tried to run it on the browser, but it says it cannot find \"require\", and I read that node.js is not supposed to run on client side. In the link above, it says to create an index.html, that declares the \"local_execution.js\". Is this javascript module going to run on client side? Can someone point me in the right direction? Maybe explain how to setup the app directory.</p>\n\n<p>Thank you in advance,\nHenrique</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "is_accepted": false, "score": 0, "last_activity_date": 1568869993, "creation_date": 1568869993, "answer_id": 58004110, "question_id": 58001352, "link": "https://stackoverflow.com/questions/58001352/how-to-compare-more-three-arrays/58004110#58004110", "title": "How to compare more three arrays?", "body": "<pre><code>function removeDuplicates(cart) {\n  const existingIngredients = [];\n  return cart.filter(row =&gt; {\n    // using lodash isEqual in the next line, but you can write your own comparison function\n    if(existingIngredients.some(existing =&gt; _.isEqual(row.ingredients, existing))) {\n      count++;\n      return false; // filter out this row\n    } else {\n      existingIngredients.push(row.ingredients);\n      return true;\n    }\n  })\n}\n</code></pre>\n\n<p>I'm using a very crude approach here with storing existing ingredients in an array, but you get the idea.</p>\n"}], "owner": {"reputation": 25, "user_id": 11972116, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eU7UlKiW744/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3renRci2vr5O5_cmgAGIA4W37Ckb_Q/photo.jpg?sz=128", "display_name": "Alexy Riche", "link": "https://stackoverflow.com/users/11972116/alexy-riche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568914651, "creation_date": 1568844683, "last_edit_date": 1568914651, "question_id": 58001352, "link": "https://stackoverflow.com/questions/58001352/how-to-compare-more-three-arrays", "title": "How to compare more three arrays?", "body": "<p>I am trying to compare a lot of arrays.\nI have an array of objects like it : </p>\n\n<pre><code>cart = [0]{products:[ id : 10, name: 'bla' ], ingredient: [id: 20, name: 'bla' count : 0]}\n       [1]{products:[ id : 10, name: 'bla' ], ingredient: [id: 20, name: 'bla' count : 0]}\n</code></pre>\n\n<p>I want to compare the <code>ingredients array</code> and if it's the same object or objects in the arrays I want to delete the full line of the <code>cart array</code> and add 1 to the <code>count</code>.</p>\n\n<p>I see solution on web but they just compare with the previous index. If I have 3 object I want compare the first and the third too.</p>\n\n<p>How I can do that please? </p>\n"}, {"tags": ["typescript", "vue.js", "vue-component"], "comments": [{"owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568850035, "post_id": 58001063, "comment_id": 102409504, "body": "Thank you for updating the question, I am going to say this will not work without some configuration on the Laravel side. A quick search leads me to believe it is possible but tricky. I read this post <a href=\"https://vegibit.com/how-to-use-vuejs-with-laravel-blade/\" rel=\"nofollow noreferrer\">vegibit.com/how-to-use-vuejs-with-laravel-blade</a>"}, {"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "reply_to_user": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568850811, "post_id": 58001063, "comment_id": 102409649, "body": "I believe it will demand some configuration from Vue side, it does not matter if I doing this from blade or a HTML file.  I&#39;ve read this post, he used pure javascript, I think that&#39;s the reason he didn&#39;t have much problem, because it does not force you to have an entry point and use components exclusively from templates (I believe)."}, {"owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568851224, "post_id": 58001063, "comment_id": 102409710, "body": "Yeah, typescript needs to compile first which could be the problem, so switch it over to javascript and see if it runs?"}, {"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "reply_to_user": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568851675, "post_id": 58001063, "comment_id": 102409776, "body": "But it is being compiled first, everything is in the resulting app.js."}, {"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "reply_to_user": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568851808, "post_id": 58001063, "comment_id": 102409791, "body": "I got a lead! Since I can use Vuetify components the way I desire, I will try to register my components in a plugin and use it, the same way I&#39;m using Vuetify.."}, {"owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568852476, "post_id": 58001063, "comment_id": 102409899, "body": "Cool. Hopefully it works, as I am kind of unable to help at this point since I am unfamiliar with both Laravel and Vuetify. Let us know once you solve the problem you are facing."}, {"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "reply_to_user": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568852607, "post_id": 58001063, "comment_id": 102409923, "body": "I will. Thank you for your time."}, {"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "reply_to_user": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "edited": false, "score": 0, "creation_date": 1568897602, "post_id": 58001063, "comment_id": 102427072, "body": "Well... it didn&#39;t work. The thing is not in the fact that it is being registered as a plugin, and I don&#39;t have time dive deeper into Vuetify&#39;s source code to find out how it does that."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "edited": false, "score": 0, "creation_date": 1568847012, "post_id": 58001222, "comment_id": 102408913, "body": "Thank you! Check the comment I left for Caio. Is there a way to invoke these components from the html element?"}, {"owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "reply_to_user": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "edited": false, "score": 0, "creation_date": 1568848503, "post_id": 58001222, "comment_id": 102409188, "body": "@PauloPatez I do not believe this would work due to the vue template compiler needing to understand you are rendering a component and not just an HTML tag, but I am not entirely sure I understand what you are after either. Maybe add an update to the question with more clarity and I&#39;ll see if I can answer."}], "tags": [], "owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "is_accepted": true, "score": 0, "last_activity_date": 1568843721, "creation_date": 1568843721, "answer_id": 58001222, "question_id": 58001063, "link": "https://stackoverflow.com/questions/58001063/vue-renders-only-the-last-registered-component/58001222#58001222", "title": "Vue renders only the last registered component", "body": "<p>Why are you using a javascript main.js instead of a main.ts? </p>\n\n<p>below is a standard main.ts app mount function. You would rename <code>#app</code> to <code>#app1</code></p>\n\n<pre><code>import Vue from 'vue';\n\nnew Vue({\n    render: (h) =&gt; h(App)\n}).$mount('#app');\n</code></pre>\n\n<p>This mounts the main .vue instance at which point will allow the rendering of whatever components you like. A small example below using some of your code and the helper <a href=\"https://github.com/kaorun343/vue-property-decorator\" rel=\"nofollow noreferrer\">vue-property-decorator</a> which is not required but you may find very helpful when working with Typescript and Vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n   &lt;body&gt;\n    &lt;div id=\"app1\"&gt;\n      &lt;h2&gt;Title&lt;/h2&gt;\n      &lt;component-one&gt;&lt;/component-one&gt;\n      &lt;component-two&gt;&lt;/component-two&gt;\n     &lt;/div&gt;\n    &lt;/body&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n\n&lt;script lang=\"ts\"&gt;\n    @Component({\n        components: {\n            // This is the way to lazy load components, you could also just import them normally above the @component decorator\n            'component-one': () =&gt; import('@/components/ComponentOne.vue').then(m =&gt; m.default),\n            'component-two': () =&gt; import('@/components/ComponentTwo.vue').then(m =&gt; m.default),\n        }\n    })\n    export default class App extends Vue {}\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "edited": false, "score": 0, "creation_date": 1568846953, "post_id": 58001252, "comment_id": 102408896, "body": "Thank you, Caio. The thing is I want to use my components inside the html element. I&#39;m trying to invoke them from my server view (Laravel Blade). Or is it not possible with typescript?"}, {"owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "edited": false, "score": 0, "creation_date": 1568847307, "post_id": 58001252, "comment_id": 102408988, "body": "Like this <code>html &lt;div id=&quot;app1&quot;&gt;             &lt;component-one&gt;&lt;&#47;component-one&gt;             &lt;component-two&gt;&lt;&#47;component-two&gt;         &lt;&#47;div&gt; </code>"}], "tags": [], "owner": {"reputation": 31, "user_id": 11035617, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-blq9FU-4HbU/AAAAAAAAAAI/AAAAAAAAC4M/f6V01tXqmjQ/photo.jpg?sz=128", "display_name": "Caio Ragazzi", "link": "https://stackoverflow.com/users/11035617/caio-ragazzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1568843956, "creation_date": 1568843956, "answer_id": 58001252, "question_id": 58001063, "link": "https://stackoverflow.com/questions/58001063/vue-renders-only-the-last-registered-component/58001252#58001252", "title": "Vue renders only the last registered component", "body": "<p>in your main.js file, you need to specify the first component to be rendered, like this:</p>\n\n<pre><code>import Vue from 'vue'\nimport App from './App.vue'\n\nnew Vue({\n  el: '#app',\n  render: h =&gt; h(App),\n})\n</code></pre>\n\n<p>Then, inside this first component (in my example App.vue) , you can import your other components (like ComponentOnde.vue and ComponentTwo.vue).</p>\n"}], "owner": {"reputation": 3, "user_id": 12087301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-20_pasLmSEA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYX9Spc6GxFVnoc0y3txP1wTmbg/photo.jpg?sz=128", "display_name": "Paulo Patez", "link": "https://stackoverflow.com/users/12087301/paulo-patez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 58001222, "answer_count": 2, "score": 0, "last_activity_date": 1568849445, "creation_date": 1568842725, "last_edit_date": 1568849445, "question_id": 58001063, "link": "https://stackoverflow.com/questions/58001063/vue-renders-only-the-last-registered-component", "title": "Vue renders only the last registered component", "body": "<p>Vue always renders the last registered component, and only it. Even if I don't use it at all.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//main.ts\nimport Vue from 'vue';\nVue.component('component-one', require('./components/ComponentOne.vue'));\nVue.component('component-two', require('./components/ComponentTwo.vue'));\n\nconst app = new Vue({\n    el: '#app1',\n    vuetify,\n})\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>//ComponentOne\n&lt;template&gt;\n  &lt;h2&gt;Component One&lt;/h2&gt;\n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\nimport Vue from 'vue'\nexport default class ComponentOne extends Vue{ \n}\n&lt;/script&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>//ComponentTwo\n&lt;template&gt;\n  &lt;h2&gt;Component Two&lt;/h2&gt;\n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\nimport Vue from 'vue';\n  export default class ComponentTwo extends Vue{\n  }\n&lt;/script&gt;\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n   &lt;div id=\"app1\"&gt;\n      &lt;!-- Whatever I put in here, it won't matter --&gt;\n      &lt;!-- I will always get only the content of the last registered component --&gt;\n      &lt;h2&gt;Title&lt;/h2&gt;\n      &lt;component-one&gt;&lt;/component-one&gt;\n      &lt;component-two&gt;&lt;/component-two&gt;\n   &lt;/div&gt;\n   &lt;script src=\"/js/app.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>What I get is the contents of ComponentTwo rendered on the page.\n<a href=\"https://i.stack.imgur.com/ivlan.png\" rel=\"nofollow noreferrer\">Page screenshot</a></p>\n\n<p>If I remove the lines that register my components, I'm able to use component libraries like Vuetify inside the div tag, but not if I don't.\nI expected to be able to use my components and any others any way I wanted inside the div tag.</p>\n\n<p>Edit:\nThank you guys for the answers.\nIs there a way to use these components inside the HTML element as I would in a template? Like so:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- This could be a index.html or, in my case, a Laravel Blade view\n&lt;body&gt;\n   &lt;div id=\"app1\"&gt;\n      &lt;component-one&gt;&lt;/component-one&gt;\n      &lt;component-two&gt;&lt;/component-two&gt;\n   &lt;/div&gt;\n   &lt;script src=\"/js/app.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Vuetify components works fine this way if I don't register any custom component.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "websocket", "nestjs"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1568841841, "post_id": 58000638, "comment_id": 102407597, "body": "What&#39;s your nestjs version?"}, {"owner": {"reputation": 103, "user_id": 5740528, "user_type": "registered", "profile_image": "https://graph.facebook.com/117614278615484/picture?type=large", "display_name": "innistry", "link": "https://stackoverflow.com/users/5740528/innistry"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 1, "creation_date": 1568882832, "post_id": 58000638, "comment_id": 102418823, "body": "&quot;@nestjs/common&quot;: &quot;^6.0.0&quot;,  &quot;@nestjs/core&quot;: &quot;^6.0.0&quot;,  &quot;@nestjs/platform-express&quot;: &quot;^6.0.0&quot;,  &quot;@nestjs/platform-socket.io&quot;: &quot;^6.7.1&quot;,  &quot;@nestjs/typeorm&quot;: &quot;^6.1.3&quot;,  &quot;@nestjs/websockets&quot;: &quot;^6.7.1&quot;,"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1568883553, "post_id": 58000638, "comment_id": 102419223, "body": "I haven&#39;t tried out your code but could you update all your nest dependencies to the latest versions, e.g., with <code>npm update</code>?"}, {"owner": {"reputation": 103, "user_id": 5740528, "user_type": "registered", "profile_image": "https://graph.facebook.com/117614278615484/picture?type=large", "display_name": "innistry", "link": "https://stackoverflow.com/users/5740528/innistry"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 1, "creation_date": 1568885267, "post_id": 58000638, "comment_id": 102420149, "body": "Wow, that really helps! Thank you! &quot;yarn upgrade&quot; For those, who use yarn."}], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 4800808, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bIhkLD0SHRc/AAAAAAAAAAI/AAAAAAAAAZ0/2BapA39HE3Q/photo.jpg?sz=128", "display_name": "Yousuf Khan", "link": "https://stackoverflow.com/users/4800808/yousuf-khan"}, "edited": false, "score": 0, "creation_date": 1571124651, "post_id": 58007913, "comment_id": 103125530, "body": "npm update didn&#39;t work for me. I had to manually change the packages to following versions and then run <code>npm update</code> after it:  <code>&quot;@nestjs&#47;common&quot;: &quot;^6.0.0&quot;, &quot;@nestjs&#47;core&quot;: &quot;^6.0.0&quot;, &quot;@nestjs&#47;platform-express&quot;: &quot;^6.0.0&quot;, &quot;@nestjs&#47;platform-socket.io&quot;: &quot;^6.7.1&quot;, &quot;@nestjs&#47;typeorm&quot;: &quot;^6.1.3&quot;, &quot;@nestjs&#47;websockets&quot;: &quot;^6.7.1&quot;</code>"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 300, "user_id": 4800808, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bIhkLD0SHRc/AAAAAAAAAAI/AAAAAAAAAZ0/2BapA39HE3Q/photo.jpg?sz=128", "display_name": "Yousuf Khan", "link": "https://stackoverflow.com/users/4800808/yousuf-khan"}, "edited": false, "score": 0, "creation_date": 1571128566, "post_id": 58007913, "comment_id": 103127552, "body": "@Anon <code>npm update</code> only works within the specified update range. In your case the <code>^</code> updates to the latest minor release but not to the latest major release. See <a href=\"https://docs.npmjs.com/about-semantic-versioning#using-semantic-versioning-to-specify-update-types-your-package-can-accept\" rel=\"nofollow noreferrer\">docs.npmjs.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 0, "last_activity_date": 1568885505, "creation_date": 1568885505, "answer_id": 58007913, "question_id": 58000638, "link": "https://stackoverflow.com/questions/58000638/wsexception-in-websocketgateway-not-working/58007913#58007913", "title": "WsException in WebSocketGateway not working", "body": "<p>It does not work because of a bug in an earlier version. Please update your dependencies to the latest version, e.g., with <code>npm update</code> or <code>yarn upgrade</code>.</p>\n"}], "owner": {"reputation": 103, "user_id": 5740528, "user_type": "registered", "profile_image": "https://graph.facebook.com/117614278615484/picture?type=large", "display_name": "innistry", "link": "https://stackoverflow.com/users/5740528/innistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 995, "favorite_count": 0, "accepted_answer_id": 58007913, "answer_count": 1, "score": 1, "last_activity_date": 1568885561, "creation_date": 1568840253, "last_edit_date": 1568885561, "question_id": 58000638, "link": "https://stackoverflow.com/questions/58000638/wsexception-in-websocketgateway-not-working", "title": "WsException in WebSocketGateway not working", "body": "<p>I'm playing with NestJs and stuck with one problem. I just can`t throw an exception in WebSocket gateway.</p>\n\n<p>Everything is according to <a href=\"https://docs.nestjs.com/websockets/exception-filters\" rel=\"nofollow noreferrer\">this doc page</a>.</p>\n\n<p>I have tried to include</p>\n\n<pre><code>@UseFilters(new BaseWsExceptionFilter())\n</code></pre>\n\n<p>But... didn`t help.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n    SubscribeMessage,\n    WebSocketGateway,\n    WebSocketServer, WsException,\n} from '@nestjs/websockets';\nimport { Client, Server } from 'socket.io';\n\n@WebSocketGateway()\nexport class EventsGateway {\n    @WebSocketServer()\n    server: Server;\n\n    @SubscribeMessage('exception')\n    exception(client: Client, data: number) {\n        throw new WsException('Invalid credentials.');\n    }\n}\n\n</code></pre>\n\n<p>And I had smt like this...</p>\n\n<pre><code>/home/innistry/Projects/nest-likbez/node_modules/rxjs/internal/util/hostReportError.js:4\n[0]     setTimeout(function () { throw err; }, 0);\n[0]                              ^\n[0] \n[0] TypeError: host.setType is not a function\n[0]     at WsProxy.handleError (/home/innistry/Projects/nest-likbez/node_modules/@nestjs/websockets/context/ws-proxy.js:26:14)\n[0]     at EventsGateway.&lt;anonymous&gt; (/home/innistry/Projects/nest-likbez/node_modules/@nestjs/websockets/context/ws-proxy.js:20:22)\n[0]     at process._tickCallback (internal/process/next_tick.js:68:7)\n</code></pre>\n"}, {"tags": ["typescript", "strong-typing"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1568838651, "post_id": 58000315, "comment_id": 102406478, "body": "What is the full error?"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1568838723, "post_id": 58000315, "comment_id": 102406508, "body": "in your first input, are <code>emailX</code> and <code>nameX</code> variables?  If not then they are undefined when reading the value."}, {"owner": {"reputation": 55, "user_id": 10481650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac50f3f6cba76d0632dbb5e4f8acaaa?s=128&d=identicon&r=PG&f=1", "display_name": "LWang", "link": "https://stackoverflow.com/users/10481650/lwang"}, "edited": false, "score": 0, "creation_date": 1568858343, "post_id": 58000315, "comment_id": 102410919, "body": "emailX, nameX represent string, not variables. Titian&#39;s answer solved the issue."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1568838749, "creation_date": 1568838749, "answer_id": 58000364, "question_id": 58000315, "link": "https://stackoverflow.com/questions/58000315/typescript-typing-an-object-with-dynamic-properties/58000364#58000364", "title": "Typescript: typing an object with dynamic properties", "body": "<p>You need to be more explicit about the type of the result, typescript will not know that <code>{}</code> is supposed to be an object with any keys strings and string values:</p>\n\n<pre><code>const input = [{ email: 'email1', name: 'name1' }, { email: 'email2', name: 'name2' }, { email: 'email3', name: 'name3' }]\nlet output = input.reduce&lt;Record&lt;string, string&gt;&gt;((acc, cur, i) =&gt; {\n    acc[cur.email] = cur.name\n    return acc;\n}, {})\n\n</code></pre>\n\n<p>Note: Also you need to return <code>acc</code> from the reducer function.</p>\n"}], "owner": {"reputation": 55, "user_id": 10481650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac50f3f6cba76d0632dbb5e4f8acaaa?s=128&d=identicon&r=PG&f=1", "display_name": "LWang", "link": "https://stackoverflow.com/users/10481650/lwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 58000364, "answer_count": 1, "score": 1, "last_activity_date": 1568838749, "creation_date": 1568838533, "last_edit_date": 1568838649, "question_id": 58000315, "link": "https://stackoverflow.com/questions/58000315/typescript-typing-an-object-with-dynamic-properties", "title": "Typescript: typing an object with dynamic properties", "body": "<p>I want to loop an array to create an object. </p>\n\n<p>input:</p>\n\n<pre><code>const input = [{email:email1, name: name1},{email:email2, name: name2}, {email:email3, name: name3}]\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>const output = {email1: name1, email2: name2, email3: name3\n}\n</code></pre>\n\n<p>In javascript, I wrote</p>\n\n<pre><code> let output = input.reduce((acc, cur, i) =&gt; {\n                return (acc[cur.email] = cur.name)\n            }, {})\n</code></pre>\n\n<p>But I got a typing error saying obj cannot have a string property. How should I type this function properly?</p>\n"}, {"tags": ["typescript", "functional-programming", "either", "fp-ts"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1568841029, "post_id": 58000296, "comment_id": 102407297, "body": "<code>getOrElse</code> is used to get a result value, but you&#39;re not doing anything with its return value - why do you even call it? And especially why call it only when you&#39;ve already established that it&#39;s a <code>Left</code> value? That said, throwing exceptions is not really a good practice in functional programming, so it&#39;s naturally a bit hard."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1568841184, "post_id": 58000296, "comment_id": 102407355, "body": "If you don&#39;t care about the return value, <code>Either</code> is not the right choice for the return type. Or at least, not <code>Either&lt;Error, Result&gt;</code> - at best you&#39;d do <code>Either&lt;Error, Unit&gt;</code>. (Where in TypeScript, <code>Unit</code> is either <code>void</code> or <code>undefined</code> or <code>null</code>)."}, {"owner": {"reputation": 23217, "user_id": 130121, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fda5ddea73bd73028fa718eb061bf27?s=128&d=identicon&r=PG", "display_name": "chiborg", "link": "https://stackoverflow.com/users/130121/chiborg"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1568842928, "post_id": 58000296, "comment_id": 102407896, "body": "I&#39;m misusing <code>getOrElse</code> to call a function for the error case. But you&#39;re right about exceptions - what I really want to do is capture the <code>Error</code> object and return it in a rejected promise. When all values are correct, i want to return a Promise with a specific data structure."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1568843050, "post_id": 58000296, "comment_id": 102407928, "body": "Well at least you shouldn&#39;t need both of <code>isLeft</code> and <code>getOrElse</code> - one of them would be enough."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 3831, "user_id": 5536315, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/38Cjm.png?s=128&g=1", "display_name": "scriptum", "link": "https://stackoverflow.com/users/5536315/scriptum"}, "edited": false, "score": 0, "creation_date": 1568892242, "post_id": 58001277, "comment_id": 102423972, "body": "@bob For some reason I thought that <code>map</code> did have the wrong (flipped) signature, and I totally missed <code>liftA2</code>."}, {"owner": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "edited": false, "score": 0, "creation_date": 1569230959, "post_id": 58001277, "comment_id": 102515804, "body": "@Bergi why introducing <code>Promise</code> here?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "edited": false, "score": 0, "creation_date": 1569240757, "post_id": 58001277, "comment_id": 102520745, "body": "@GiovanniGonzaga OP wrote (in a comment) &quot;<i>When all values are correct, i want to return a Promise with a specific data structure</i>&quot;. Using rejected promises as a return value is easier than throwing."}, {"owner": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "edited": false, "score": 0, "creation_date": 1569240959, "post_id": 58001277, "comment_id": 102520855, "body": "I see, I got confused because <code>Promise</code>/async is not mentioned in the original question.  Re &quot;rejected promises as a return value is easier than throwing&quot;, the equivalent fp-ts encoding would be a <code>TaskEither</code> which is a <code>() =&gt; Promise&lt;Either&lt;L, A&gt;&gt;</code> (lazy because promises being eager break referential transparency)"}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 2, "last_activity_date": 1568844124, "creation_date": 1568844124, "answer_id": 58001277, "question_id": 58000296, "link": "https://stackoverflow.com/questions/58000296/how-to-combine-the-left-sides-of-either-objects-in-fp-ts/58001277#58001277", "title": "How to combine the left sides of Either objects in fp-ts?", "body": "<p>You're probably looking for something like</p>\n\n<pre><code>const toPromise = fold(e =&gt; Promise.reject(e), r =&gt; Promise.resolve(r));\n\nPromise.all([\n    toPromise(validateMonth(month)),\n    toPromise(validateYear(year)),\n]).then(([validMonth, validYear]) =&gt; {\n    return \u2026\n});\n</code></pre>\n\n<p>or the more functional way</p>\n\n<pre><code>toPromise(ap(ap(of(validMonth =&gt; validYear =&gt; {\n    return \u2026\n}), validateMonth(month)), validateYear(year)))\n</code></pre>\n\n<p>You can also do the <code>Promise.all</code> with <code>array.sequence</code> and the <code>toPromise</code> afterwards.</p>\n"}, {"tags": [], "owner": {"reputation": 895, "user_id": 11401030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mHsMKcXTepU/AAAAAAAAAAI/AAAAAAAAABE/Y-7vzoeel_I/photo.jpg?sz=128", "display_name": "Giovanni Gonzaga", "link": "https://stackoverflow.com/users/11401030/giovanni-gonzaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1569231041, "creation_date": 1569231041, "answer_id": 58059479, "question_id": 58000296, "link": "https://stackoverflow.com/questions/58000296/how-to-combine-the-left-sides-of-either-objects-in-fp-ts/58059479#58059479", "title": "How to combine the left sides of Either objects in fp-ts?", "body": "<p>Ignoring <code>throwingValidator</code> and throwing in general (which kind of defeats the purpose of using <code>fp-ts</code> in the first place) and focusing only on this specific request:</p>\n\n<blockquote>\n  <p>Refactor to get rid of intermediate variables, combining results of validateMonth and validateYear into a type of Either</p>\n</blockquote>\n\n<p>You are probably looking for:</p>\n\n<pre><code>const monthAndYearResult: Either&lt;\n  Error,\n  { month: Month, year: Year }\n&gt; = sequenceS(either)({\n  month: validateMonth(month),\n  year: validateYear(year)\n})\n</code></pre>\n\n<p>\"sequence\"ing in general requires an instance of <code>Traversable</code> (the struct <code>{ year, month }</code> in this case) and an instance of <code>Applicative</code> (<code>either</code> in this case), and the semantics are the ones of aggregating different independent computations together.</p>\n\n<p>If you explicitly want to ignore the result, usually a <code>_</code>-suffix alternative is provided to accomplish this, but it isn't as of now in <code>fp-ts</code> v2.</p>\n\n<p>To obtain a <code>Either&lt;Error, void&gt;</code> you can thus resort to:</p>\n\n<pre><code>const result = pipe(\n  sequenceS(E.either)({ month: validateMonth(month), year: validateYear(year) }),\n  E.map(constVoid)\n)\n</code></pre>\n\n<hr>\n\n<p>Note that <code>sequenceS</code> is just one of the possible options, you could use <code>sequenceT</code> or <code>array.sequence</code> to obtain similar results, e.g.:</p>\n\n<pre><code>pipe(\n  sequenceT(either)([validateMonth(month), validateYear(year)]),\n  E.map(constVoid)\n)\n</code></pre>\n"}], "owner": {"reputation": 23217, "user_id": 130121, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fda5ddea73bd73028fa718eb061bf27?s=128&d=identicon&r=PG", "display_name": "chiborg", "link": "https://stackoverflow.com/users/130121/chiborg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 1, "accepted_answer_id": 58059479, "answer_count": 2, "score": 0, "last_activity_date": 1569231041, "creation_date": 1568838407, "last_edit_date": 1568842105, "question_id": 58000296, "link": "https://stackoverflow.com/questions/58000296/how-to-combine-the-left-sides-of-either-objects-in-fp-ts", "title": "How to combine the left sides of Either objects in fp-ts?", "body": "<p>I have two validation functions for different values that return <code>Either</code>. I'd like to throw an exception if one of them has a <code>left</code> value and do nothing if both are <code>right</code>. I've never used fp-ts before and can't figure out how to properly combine left results. My current solution works but does not feel like i'm using it properly.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Either, left, right, isLeft, getOrElse } from 'fp-ts/lib/Either';\n\nfunction validateMonth( m: Month ): Either&lt;Error, Month&gt; {\n   return m.isInRange() ? right(m) : left(new Error('Month must be in range!'));\n}\n\nfunction validateYear( y: Year ): Either&lt;Error, Year&gt; {\n   return year.isBefore(2038) ? right(y) : left(new Error('Year must be before 2038!'));\n}\n\nfunction throwingValidator(m: Month, y: Year): void {\n // todo: Refactor to get rid of intermediate variables,\n // combining results of validateMonth and validateYear into a type\n // of Either&lt;Error, Unit&gt;\n const monthResult = validateMonth( month );\n const yearResult = validateYear( year );\n const throwOnError = (e: Error) =&gt; { throw e; };\n if ( isLeft( monthResult ) ) { getOrElse(throwOnError)(monthResult); }\n if ( isLeft( yearResult ) ) { getOrElse(throwOnError)(yearResult); }\n}\n</code></pre>\n\n<p>I've read the introduction at <a href=\"https://dev.to/gcanti/getting-started-with-fp-ts-either-vs-validation-5eja\" rel=\"nofollow noreferrer\">https://dev.to/gcanti/getting-started-with-fp-ts-either-vs-validation-5eja</a> but that code is exactly the opposite of what I want: I don't care about the input value after the validation and want to return only the first error that occurs.</p>\n"}, {"tags": ["typescript", "for-loop", "if-statement"], "comments": [{"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1568838459, "post_id": 58000273, "comment_id": 102406414, "body": "Out of curiosity, what does &quot;it doesn&#39;t work right&quot; mean?"}, {"owner": {"reputation": 2196, "user_id": 1859022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/186abed63b4234083bbdaf523b8ac567?s=128&d=identicon&r=PG&f=1", "display_name": "user1859022", "link": "https://stackoverflow.com/users/1859022/user1859022"}, "edited": false, "score": 0, "creation_date": 1568838660, "post_id": 58000273, "comment_id": 102406485, "body": "Hi urasavidi, welcome to stackoverflow. Please add the inputs and the expected results to the question. Have a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 5, "user_id": 11745912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b9ead4de03a9ae02bd7003463f4381?s=128&d=identicon&r=PG&f=1", "display_name": "urasavidi", "link": "https://stackoverflow.com/users/11745912/urasavidi"}, "edited": false, "score": 0, "creation_date": 1568839281, "post_id": 58000273, "comment_id": 102406696, "body": "I have array of objects and this objects have text(strText) elements and numbers(strValue). I just need a condition that will compare all numbers (strValue) and if there will be any duplicates it will return false, so whole function will return true and I will use it to disable my submit button"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11745912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b9ead4de03a9ae02bd7003463f4381?s=128&d=identicon&r=PG&f=1", "display_name": "urasavidi", "link": "https://stackoverflow.com/users/11745912/urasavidi"}, "edited": false, "score": 0, "creation_date": 1568839148, "post_id": 58000360, "comment_id": 102406650, "body": "thank you for working on this Steve. I have array of objects and this objects have text(strText) elements and numbers(strValue). I just need a condition that will compare all numbers (strValue) and if there will be any duplicates it will return false, so whole function will return true and I will use it to disable my submit button"}, {"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "reply_to_user": {"reputation": 5, "user_id": 11745912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b9ead4de03a9ae02bd7003463f4381?s=128&d=identicon&r=PG&f=1", "display_name": "urasavidi", "link": "https://stackoverflow.com/users/11745912/urasavidi"}, "edited": false, "score": 0, "creation_date": 1568839315, "post_id": 58000360, "comment_id": 102406714, "body": "So surely this: strValue[i] === strValue[j] isn&#39;t what you want in the loop. You want to test the current textN against all other textN for duplication so  you&#39;d need this: this.entries[i].textN === this.entries[j].textN"}, {"owner": {"reputation": 5, "user_id": 11745912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b9ead4de03a9ae02bd7003463f4381?s=128&d=identicon&r=PG&f=1", "display_name": "urasavidi", "link": "https://stackoverflow.com/users/11745912/urasavidi"}, "edited": false, "score": 0, "creation_date": 1568839856, "post_id": 58000360, "comment_id": 102406911, "body": "Wow that&#39;s smart, thank you sir! You helped me a lot."}], "tags": [], "owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "is_accepted": true, "score": 0, "last_activity_date": 1568838739, "creation_date": 1568838739, "answer_id": 58000360, "question_id": 58000273, "link": "https://stackoverflow.com/questions/58000273/using-two-for-loops-to-find-duplicates/58000360#58000360", "title": "Using two for loops to find duplicates", "body": "<p>The problem may be here:</p>\n\n<pre><code>for (let j = i + 1; j &lt; this.entries.length; ++j) {\n    if (strValue[i] === strValue[j]) {\n      return false;\n    }\n}\n</code></pre>\n\n<p>I think what you want is:</p>\n\n<pre><code>for (let j = i + 1; j &lt; this.entries.length; ++j) {\n    if (this.entries[i].textN === this.entries[j].textN) {\n      return false;\n    }\n  }\n</code></pre>\n\n<p>strValue[i] isn't meant to be compared to strValue[j]</p>\n"}], "owner": {"reputation": 5, "user_id": 11745912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b9ead4de03a9ae02bd7003463f4381?s=128&d=identicon&r=PG&f=1", "display_name": "urasavidi", "link": "https://stackoverflow.com/users/11745912/urasavidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58000360, "answer_count": 1, "score": 0, "last_activity_date": 1568838739, "creation_date": 1568838288, "last_edit_date": 1568838460, "question_id": 58000273, "link": "https://stackoverflow.com/questions/58000273/using-two-for-loops-to-find-duplicates", "title": "Using two for loops to find duplicates", "body": "<p>This is my function to enable button if conditions are met and function return true. I've added additional for loop to find duplicates and now it doesn't work right. Please advise where did I make a mistake?</p>\n\n<pre><code> enabled(): boolean {\n    for (let i: number = 0; i &lt; this.entries.length; ++i) {\n      let strText: string = this.entries[i].textN;\n      let strValue: number = this.entries[i].valueN;\n\n      if (strText.includes('=') || strText.includes(',')) {\n        return false;\n      }\n\n      if (strText == null || strText == undefined || strText == '') {\n        return false;\n      }\n\n      if (!strValue || strValue % 1 !== 0) {\n        return false;\n      }\n\n      for (let j = i + 1; j &lt; this.entries.length; ++j) {\n        if (strValue[i] === strValue[j]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n</code></pre>\n"}, {"tags": ["typescript", "redux", "create-react-app", "next.js"], "owner": {"reputation": 56, "user_id": 4796426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDDXZ.jpg?s=128&g=1", "display_name": "Leekie", "link": "https://stackoverflow.com/users/4796426/leekie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568838265, "creation_date": 1568838265, "question_id": 58000270, "link": "https://stackoverflow.com/questions/58000270/cra-dynamic-redux-thunks-appstate-type-fails-as-unknown", "title": "CRA - Dynamic redux-thunk&#39;s AppState type fails as &quot;unknown&quot;", "body": "<p>I'm moving a NextJS project to Create-React-App. In the later, the dynamic type of the AppState throws as \"unknown\".</p>\n\n<p>Note that both the projects have the same versions of :</p>\n\n<ul>\n<li>Typescript: <code>3.5.3</code></li>\n<li>React: <code>16.9.0</code></li>\n<li>Redux, Redux-Thunk, React-Redux</li>\n</ul>\n\n<p>Here's how I create the store and the types:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function makeStore(initialState: any) {\n  const store = createStore(\n    combinedReducers,\n    initialState,\n    composeEnhancers(\n      applyMiddleware(thunk as ThunkMiddleware&lt;ReturnType&lt;typeof combinedReducers&gt;, AnyAction&gt;)\n    )\n  );\n\n  return store;\n}\n\n// This type is needed so Store.dispatch is from redux-thunk\nexport type AppStore = ReturnType&lt;typeof makeStore&gt;;\n\n\nexport type AppState = ReturnType&lt;AppStore['getState']&gt;;\n</code></pre>\n\n<p>Now, importing some data into a component, I have these errors <strong>in CRA app only</strong>:\n<img src=\"https://i.imgur.com/FOt9ZMy.png\" alt=\"\">\nThe error:\n<img src=\"https://i.imgur.com/701BlC2.png\" alt=\"\"></p>\n\n<p>To my understanding, the IDE(VSCode) gets the type fine, yet Typescript is saying it's <em>unknown</em> and fails to compile. I have no idea what to do with that.\nWhere should I look at to fix this issue?</p>\n"}, {"tags": ["typescript", "chai"], "comments": [{"owner": {"reputation": 1879, "user_id": 1502439, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/67c216ca182451567e17c2098d47f26d?s=128&d=identicon&r=PG", "display_name": "Janac Meena", "link": "https://stackoverflow.com/users/1502439/janac-meena"}, "edited": false, "score": 0, "creation_date": 1568839385, "post_id": 57999817, "comment_id": 102406747, "body": "I suspect that this is due to TypeScripts lack of support for multi-try-catch <a href=\"https://github.com/microsoft/TypeScript/issues/8677\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/8677</a>"}, {"owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "reply_to_user": {"reputation": 1879, "user_id": 1502439, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/67c216ca182451567e17c2098d47f26d?s=128&d=identicon&r=PG", "display_name": "Janac Meena", "link": "https://stackoverflow.com/users/1502439/janac-meena"}, "edited": false, "score": 0, "creation_date": 1568847127, "post_id": 57999817, "comment_id": 102408939, "body": "@JanacMeena Thanks for that link, but the solution was a little more basic."}], "answers": [{"tags": [], "owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "is_accepted": true, "score": 0, "last_activity_date": 1568847086, "creation_date": 1568847086, "answer_id": 58001662, "question_id": 57999817, "link": "https://stackoverflow.com/questions/57999817/throw-inside-of-mocha-test-not-being-picked-up/58001662#58001662", "title": "Throw inside of mocha test not being picked up", "body": "<p>The problem was that <code>expect</code> is expecting a synchronous function, and I am providing a <code>Promise</code>. So it calls the function and then moves on. To solve this issue, I had to wrap the function call in a separate function and then wait for it to resolve.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>it('should reject subscription to a invalid path', async () =&gt; {\n    const client = fayeConfig.client;\n    let subscription: any;\n\n    const testPromise = async () =&gt; {\n        subscription = client.subscribe('/bad_path', (msg: Object) =&gt; {\n            // do nothing\n        });\n\n        return subscription.then(() =&gt; {\n            subscription.cancel();\n        }, (error: any) =&gt; {\n            subscription.cancel();\n            throw new Error(`This is the correct behaviour : ${error}`);\n        });\n    };\n\n    let test: any = null;\n\n    try {\n        await testPromise();\n    } catch (error) {\n        test = error;\n    }\n\n    expect(test).to.be.not.null;\n});\n</code></pre>\n"}], "owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 58001662, "answer_count": 1, "score": 1, "last_activity_date": 1568847086, "creation_date": 1568835982, "question_id": 57999817, "link": "https://stackoverflow.com/questions/57999817/throw-inside-of-mocha-test-not-being-picked-up", "title": "Throw inside of mocha test not being picked up", "body": "<p>I don't understand why my test is failing, despite all of the logger messages printing:</p>\n\n<pre><code>it('should reject subscription to a invalid path', async () =&gt; {\n    const client = fayeConfig.client;\n    let subscription: any;\n\n    expect(() =&gt; {\n        subscription = client.subscribe('/bad_path', (msg: Object) =&gt; {\n            // do nothing\n        });\n\n        subscription.then(() =&gt; {\n            // 'This should never happen.\n            subscription.cancel();\n        }, (error: Object) =&gt; {\n            subscription.cancel();\n            logger.debug(`my error ${error}`);\n            throw new Error(error.toString());\n        }).catch((err: Error) =&gt; {\n            subscription.cancel();\n            logger.debug('something is fishy '+err);\n            throw err;\n        });\n    }).to.throw();\n});\n</code></pre>\n\n<p>I expect the error to bubble up. Any help is appreciated. Cheers!</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 1, "creation_date": 1568835974, "post_id": 57999777, "comment_id": 102405468, "body": "You can write a custom operator for this but it probably won&#39;t be much shorter than <code>filter(Boolean)</code> even though this will filter out also all <code>false</code>, <code>&#39;&#39;</code> and so on."}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1568863074, "post_id": 57999777, "comment_id": 102411699, "body": "obs.pipe(filter(x =&gt; x !== undefined)) is what I would use, simple and easy to read"}], "answers": [{"tags": [], "owner": {"reputation": 9809, "user_id": 2387316, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e5c1e836649e95b7e687bdd97d3aafaf?s=128&d=identicon&r=PG", "display_name": "dudewad", "link": "https://stackoverflow.com/users/2387316/dudewad"}, "is_accepted": false, "score": 3, "last_activity_date": 1568842914, "creation_date": 1568842914, "answer_id": 58001086, "question_id": 57999777, "link": "https://stackoverflow.com/questions/57999777/filter-undefined-from-rxjs-observable/58001086#58001086", "title": "Filter undefined from RxJS Observable", "body": "<p>Rxjs operators are considered low-level and are intended to be combined in a readable way to create a resultant observable that you can use predictably. Having a 'utility' do that for you isn't exactly what I would (humbly) call \"the rxjs way\". If by 'idiom' you mean like a convention, your code example is basically what you're looking for.</p>\n\n<p>I myself use that exact filter pattern on a regular basis, to the point where I've considered making a custom operator; however, rather than this:</p>\n\n<pre><code>obs.pipe(filter(x =&gt; x !== undefined))\n</code></pre>\n\n<p>You'll just end up with this:</p>\n\n<pre><code>obs.pipe(notUndefined()) // or hasValue() or whatever you want to name it...\n</code></pre>\n\n<p>There are not a lot of savings here. I would argue that you're not even getting savings in readability (or a totally marginal one, at that), which is why I've never gotten around to it. Another justification for not mobilizing on that is that it is also common to filter against a boolean value, which then starts to make you wonder if you should combine the two to avoid having too many confusing/like operators, all of which could be easily created using <code>filter</code> anyways, etc etc...</p>\n\n<p>Long story short, I've thought about this exact issue a lot, and would argue that you simply use the code example you provided. It's \"correct\". It's \"rx-js-y\". It's readable.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 1479688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83f0a69714535fcdf43f44cb3b2053c2?s=128&d=identicon&r=PG", "display_name": "Simon Williams", "link": "https://stackoverflow.com/users/1479688/simon-williams"}, "is_accepted": false, "score": 13, "last_activity_date": 1595094400, "creation_date": 1595094400, "answer_id": 62971842, "question_id": 57999777, "link": "https://stackoverflow.com/questions/57999777/filter-undefined-from-rxjs-observable/62971842#62971842", "title": "Filter undefined from RxJS Observable", "body": "<p>Strictly speaking, using filter alone to remove undefined values doesn't do everything that you need. It filters out the undefined values, but does not change the type to indicate that undefined is no longer a possible value.</p>\n<p>In the example:</p>\n<pre><code>const obs = new Subject&lt;string | undefined&gt;;\nconst stringObs = obs.pipe(filter(x =&gt; x !== undefined))\n</code></pre>\n<p>the <code>stringObs</code> observable still has the type <code>Observable&lt;string | undefined&gt;</code>.</p>\n<p>To get round this problem, you need to use:</p>\n<pre><code>const stringObs = obs.pipe(filter(x =&gt; x !== undefined) as OperatorFunction&lt;string | undefined, string&gt;)\n</code></pre>\n<p>This is only really an issue if you use strict null checks, but if you do (and arguably you should) then creating a custom operator suddenly makes a lot more sense! Something like</p>\n<pre><code>function filterNullish&lt;T&gt;(): UnaryFunction&lt;Observable&lt;T | null | undefined&gt;, Observable&lt;T&gt;&gt; {\n  return pipe(\n    filter(x =&gt; x != null) as OperatorFunction&lt;T | null |  undefined, T&gt;\n  );\n}\n</code></pre>\n<p>does the job.</p>\n<p>You can then use:</p>\n<pre><code>const stringObs = obs.pipe(filterNullish())\n</code></pre>\n<p>and the type of <code>stringObs</code> will be <code>Observable&lt;string&gt;</code>. I was quite impressed that Typescript manages to infer the type of <code>T</code> correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 2068, "user_id": 1925996, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/05256a041ac14a50a2054679fcc85a34?s=128&d=identicon&r=PG", "display_name": "piedar", "link": "https://stackoverflow.com/users/1925996/piedar"}, "is_accepted": false, "score": 2, "last_activity_date": 1611942411, "creation_date": 1611942411, "answer_id": 65959350, "question_id": 57999777, "link": "https://stackoverflow.com/questions/57999777/filter-undefined-from-rxjs-observable/65959350#65959350", "title": "Filter undefined from RxJS Observable", "body": "<p>To help typescript understand that undefined values have been removed, one way is to <a href=\"https://stackoverflow.com/a/62971842/1925996\">create a custom operator</a>.  Another way is possible via a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user-defined type guard</a>.</p>\n<pre class=\"lang-js prettyprint-override\"><code>function isDefined&lt;T&gt;(arg: T | null | undefined): arg is T {\n  return arg !== null &amp;&amp; arg !== undefined;\n}\n\nconst obs = from(['hello', null, undefined]);\nconst filtered: Observable&lt;string&gt; = obs.pipe(filter(isDefined));\n</code></pre>\n"}], "owner": {"reputation": 54577, "user_id": 1339987, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/76aa5ba88e0d95b6480113239fe50008?s=128&d=identicon&r=PG", "display_name": "djechlin", "link": "https://stackoverflow.com/users/1339987/djechlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4281, "favorite_count": 2, "answer_count": 3, "score": 11, "last_activity_date": 1616183673, "creation_date": 1568835773, "last_edit_date": 1616183673, "question_id": 57999777, "link": "https://stackoverflow.com/questions/57999777/filter-undefined-from-rxjs-observable", "title": "Filter undefined from RxJS Observable", "body": "<p>Is there a specific idiom or utility used to filter <code>undefined</code> from RxJS observables? This code has the behavior I want:</p>\n<pre><code>obs.pipe(filter(x =&gt; x !== undefined))\n</code></pre>\n<p>Some alternatives are</p>\n<pre><code>obs.pipe(filter(x =&gt; x)) // for all falsy values\n\nobs.pipe(filter(Boolean)) // for falsy variables using Boolean ctor\n</code></pre>\n"}, {"tags": ["typescript", "puppeteer"], "comments": [{"owner": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "edited": false, "score": 0, "creation_date": 1568835451, "post_id": 57999416, "comment_id": 102405259, "body": "is this a ReactJS project?"}, {"owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "reply_to_user": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "edited": false, "score": 0, "creation_date": 1568835786, "post_id": 57999416, "comment_id": 102405391, "body": "This is a blank NodeJS console application, created with Visual Studio."}], "answers": [{"tags": [], "owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "is_accepted": true, "score": 29, "last_activity_date": 1593474841, "last_edit_date": 1593474841, "creation_date": 1568835865, "answer_id": 57999790, "question_id": 57999416, "link": "https://stackoverflow.com/questions/57999416/typescript-puppeteer-library-error-cannot-find-name-element/57999790#57999790", "title": "TypeScript - Puppeteer library error: &quot;Cannot find name &#39;Element&#39;&quot;", "body": "<p>Adding <code>dom</code> to my <code>tsconfig.json</code>'s <a href=\"https://www.typescriptlang.org/v2/en/tsconfig#lib\" rel=\"noreferrer\">array of libraries</a> fixed the issue by compiling in the <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/DOM\" rel=\"noreferrer\">DOM library</a>:</p>\n<pre><code>{\n    &quot;compilerOptions&quot;: {\n        &quot;lib&quot;: [\n            &quot;es2018&quot;,\n            &quot;dom&quot;\n        ]\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3077, "favorite_count": 1, "accepted_answer_id": 57999790, "answer_count": 1, "score": 10, "last_activity_date": 1593474841, "creation_date": 1568833920, "question_id": 57999416, "link": "https://stackoverflow.com/questions/57999416/typescript-puppeteer-library-error-cannot-find-name-element", "title": "TypeScript - Puppeteer library error: &quot;Cannot find name &#39;Element&#39;&quot;", "body": "<p>I have included <code>puppeteer-core</code> as a dependency in my TypeScript project, and am using Visual Studio 2019. When I try to build the project, I get this error below (as shown by the red squiggly underline under <code>Element</code>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/HfJCu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HfJCu.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>error TS2304: Build:Cannot find name 'Element'</p>\n</blockquote>\n\n<p>How can I resolve this please?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "edited": false, "score": 1, "creation_date": 1568836330, "post_id": 57999521, "comment_id": 102405603, "body": "yep and <code>setWorkSchema({...workSchema,a:&#39;foo&#39;})</code> is even shorter"}], "tags": [], "owner": {"reputation": 497, "user_id": 8085679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f027d986d97d690acaad0a33183e87ba?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik Clausen", "link": "https://stackoverflow.com/users/8085679/henrik-clausen"}, "is_accepted": true, "score": 0, "last_activity_date": 1568836444, "last_edit_date": 1568836444, "creation_date": 1568834472, "answer_id": 57999521, "question_id": 57999308, "link": "https://stackoverflow.com/questions/57999308/react-newbie-dom-doesnt-update/57999521#57999521", "title": "React newbie. DOM doesnt update", "body": "<p>Ah..  GOT IT..\nI cannot do this: edit a state directly and thereafter set it </p>\n\n<pre><code>state = workSchama.\nworkSchema.a = 'foo';\nsetWorkSchema(workSchama);\n</code></pre>\n\n<p>I must make a duplicate :</p>\n\n<pre><code>var dummyschema = {...workSchema}\ndummyschema.a = 'foo';\nsetWorkSchema(dummyschema);\n</code></pre>\n\n<p>..and then it works</p>\n"}], "owner": {"reputation": 497, "user_id": 8085679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f027d986d97d690acaad0a33183e87ba?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik Clausen", "link": "https://stackoverflow.com/users/8085679/henrik-clausen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 57999521, "answer_count": 1, "score": 0, "last_activity_date": 1568836444, "creation_date": 1568833395, "question_id": 57999308, "link": "https://stackoverflow.com/questions/57999308/react-newbie-dom-doesnt-update", "title": "React newbie. DOM doesnt update", "body": "<p>I've received a react project where I need to make a complex state update my dom.</p>\n\n<p>My component looks like this:</p>\n\n<pre><code>\n/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport { Typography } from '@material-ui/core';\nimport { Fragment, useState } from 'react';\nimport { iFGUSchema, iFGUSchemaQuestion } from './mockProgresson';\nimport { UTargetToggle } from './UTargetToggle';\n\ninterface USchemaTableProps {\n    value : iFGUSchema;\n  }\n\n  export const CSchemaTable = (props: USchemaTableProps) =&gt; {\n    const [workSchema, setWorkSchema] = useState(props.value);\n\n\n    const checkClicked = (target : iFGUSchemaQuestion, value : number) =&gt; {\n\n        loop1:\n        for(var i=0; i&lt; workSchema.headlines.length; i++){\n            for(var o = 0; o &lt; workSchema.headlines[i].questions.length; o++){\n                if(workSchema.headlines[i].questions[o].ID == target.ID){\n                    workSchema.headlines[i].questions[o].answer= value;\n                    break loop1;\n                }\n            }\n        }\n\n        setWorkSchema(workSchema);\n\n    }\n\n    return (\n    &lt;div &gt;\n         &lt;table&gt;\n            &lt;thead&gt;&lt;/thead&gt;\n            &lt;tbody&gt;\n                {\n                    workSchema.headlines &amp;&amp; workSchema.headlines.map((headline) =&gt; {\n                        return (\n                            &lt;Fragment&gt;\n                            &lt;tr&gt;&lt;td colSpan={5}&gt;&lt;Typography&gt;{headline.text}&amp;hellip;&lt;/Typography&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;Fragment&gt;\n                                {\n                                    headline.questions &amp;&amp; headline.questions.map((question) =&gt; {\n                                        return (\n                                            &lt;tr&gt;\n                                                &lt;td&gt;&lt;Typography&gt;&amp;hellip;{question.text}&lt;/Typography&gt;&lt;/td&gt;\n                                                &lt;td&gt;&lt;UTargetToggle onClick={() =&gt; {checkClicked(question, 1)}} value={question.answer} targetValue={1} trueSlot={&lt;div&gt;aa&lt;/div&gt;} falseSlot={&lt;div&gt;false&lt;/div&gt;} /&gt;&lt;/td&gt;\n                                                &lt;td&gt;&lt;UTargetToggle onClick={() =&gt; {checkClicked(question, 2)}} value={question.answer} targetValue={2} trueSlot={&lt;div&gt;aa&lt;/div&gt;} falseSlot={&lt;div&gt;false&lt;/div&gt;} /&gt;&lt;/td&gt;\n                                                &lt;td&gt;&lt;UTargetToggle onClick={() =&gt; {checkClicked(question, 3)}} value={question.answer} targetValue={3} trueSlot={&lt;div&gt;aa&lt;/div&gt;} falseSlot={&lt;div&gt;false&lt;/div&gt;} /&gt;&lt;/td&gt;\n                                                &lt;td&gt;&lt;UTargetToggle onClick={() =&gt; {checkClicked(question, 4)}} value={question.answer} targetValue={4} trueSlot={&lt;div&gt;aa&lt;/div&gt;} falseSlot={&lt;div&gt;false&lt;/div&gt;} /&gt;&lt;/td&gt;\n\n                                            &lt;/tr&gt;\n                                        )\n                                    })\n                                }\n                                &lt;/Fragment&gt;\n                            &lt;/Fragment&gt;\n                        );\n\n                    })\n                }\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n    )\n  }\n</code></pre>\n\n<p>and the workSchema state contains a mock object looking like this:</p>\n\n<pre><code>{\n    ID : 1,\n    name  : 'N\u00e6se og navle-pilleri',\n    type : 'theme',\n    headlines : [\n        { \n            ID : 11,\n            text : 'How well do you ',\n            questions : [\n                {ID : 21, text : 'smell the fart', answer : 2},\n                {ID : 22, text : 'like the smell', answer : 1},\n            ]\n        },\n        { \n            ID : 12,\n            text : 'How much do you',\n            questions : [\n                {ID : 23, text : 'want to leave the room', answer : 0},\n                {ID : 24, text : 'want to join in', answer : 4},\n            ]\n        },\n    ]\n}\n</code></pre>\n\n<p>Now. I can see that the workSchema state is updated but the dom isn't updated.\nI suspect I've misunderstood something in the way I use react but what?</p>\n\n<p>Can anyone give me some pointers?</p>\n"}, {"tags": ["node.js", "sql-server", "typescript", "iis", "restify"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9852506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155667781934509/picture?type=large", "display_name": "Heber Paes Fomin", "link": "https://stackoverflow.com/users/9852506/heber-paes-fomin"}, "edited": false, "score": 0, "creation_date": 1569040683, "post_id": 58020769, "comment_id": 102476062, "body": "I already read this, but, is an old stuff, is about IIS7, now, we are with Win2016 Src with IIS 10, is still working yet?"}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 65, "user_id": 9852506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155667781934509/picture?type=large", "display_name": "Heber Paes Fomin", "link": "https://stackoverflow.com/users/9852506/heber-paes-fomin"}, "edited": false, "score": 0, "creation_date": 1569202779, "post_id": 58020769, "comment_id": 102507201, "body": "Yes, it works well with IIS10. Details, you could see this github issue <a href=\"https://github.com/tjanczuk/iisnode/issues/590\" rel=\"nofollow noreferrer\">description</a>."}], "tags": [], "owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "is_accepted": false, "score": -1, "last_activity_date": 1568946426, "last_edit_date": 1568946426, "creation_date": 1568944038, "answer_id": 58020769, "question_id": 57999211, "link": "https://stackoverflow.com/questions/57999211/nodejs-restify-sqlserver-typescript-iis-impossible-mission/58020769#58020769", "title": "NodeJs Restify SQLServer TypeScript - IIS - Impossible mission?", "body": "<blockquote>\n  <p>I'd like to start a Rest API project using NodeJS with Restify, but, the environment is Windows (not cloud, not Azure, AWS etc, but local server), with IIS and to make it hardest, with SQLServer. Oh, almost forgot, using Typescript.\n  Is it a impossible mission?\n  Does anybody has some guides, docs whatever?</p>\n</blockquote>\n\n<p>As far as I know, we could host node.js application on IIS. This is not related with typescript or else.  If you could publish  the node.js to a deployment file.  Then we could try to use iisnode to achieve this requirement.</p>\n\n<p>For more details, I suggest you could refer to this article to know how install it and publish the node.js application to IIS.</p>\n\n<p>Link:\n<a href=\"https://github.com/tjanczuk/iisnode\" rel=\"nofollow noreferrer\">https://github.com/tjanczuk/iisnode</a> </p>\n"}], "owner": {"reputation": 65, "user_id": 9852506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155667781934509/picture?type=large", "display_name": "Heber Paes Fomin", "link": "https://stackoverflow.com/users/9852506/heber-paes-fomin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1568946426, "creation_date": 1568833004, "question_id": 57999211, "link": "https://stackoverflow.com/questions/57999211/nodejs-restify-sqlserver-typescript-iis-impossible-mission", "title": "NodeJs Restify SQLServer TypeScript - IIS - Impossible mission?", "body": "<p>I'd like to start a Rest API project using NodeJS with Restify, but, the environment is Windows (not cloud, not Azure, AWS etc, but local server), with IIS and to make it hardest, with SQLServer. Oh, almost forgot, using Typescript.</p>\n\n<p>Is it a impossible mission?</p>\n\n<p>Does anybody has some guides, docs whatever?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript", "angular7"], "comments": [{"owner": {"reputation": 95, "user_id": 8236301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3a7d13f74b150824482aa65d089486?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8236301/adam"}, "edited": false, "score": 0, "creation_date": 1568833055, "post_id": 57999168, "comment_id": 102404283, "body": "Can you be more specific? Your question seems to be not so clear! You&#39;d like to get a string response from IsAuthorized api call?"}, {"owner": {"reputation": 139, "user_id": 9927520, "user_type": "registered", "profile_image": "https://graph.facebook.com/102412523961202/picture?type=large", "display_name": "\u0412\u0438\u0442\u0430\u043b\u0438\u0439 \u0428\u0435\u0431\u0430\u043d\u0438\u0446", "link": "https://stackoverflow.com/users/9927520/%d0%92%d0%b8%d1%82%d0%b0%d0%bb%d0%b8%d0%b9-%d0%a8%d0%b5%d0%b1%d0%b0%d0%bd%d0%b8%d1%86"}, "reply_to_user": {"reputation": 95, "user_id": 8236301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3a7d13f74b150824482aa65d089486?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8236301/adam"}, "edited": false, "score": 0, "creation_date": 1568833326, "post_id": 57999168, "comment_id": 102404421, "body": "@Adam Yes, I have the API, and only it knows the user is logged in or not. At the request, I get the username (if authorized) and &quot;&quot; (if not authorized). I want to send a request when a variable is received, but then I can not process the response without the <code>subscribe</code> method"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1568836806, "post_id": 57999168, "comment_id": 102405798, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "is_accepted": true, "score": 2, "last_activity_date": 1568837840, "creation_date": 1568837840, "answer_id": 58000175, "question_id": 57999168, "link": "https://stackoverflow.com/questions/57999168/how-to-return-a-response-from-a-requestpost-get/58000175#58000175", "title": "How to return a response from a request(post | get)?", "body": "<p>Here the thing you are handling is asynchrony. So the IsAuthorized attribute can either be a promise/observable. I believe all you are looking for is a simpler syntax. So for that we can use async/await.  </p>\n\n<pre><code> get IsAuthorized():any{\n    return this.apiService.SendComand(\"GetFirstKassir\").toPromise();\n  }\n</code></pre>\n\n<p>and to use in the component lets say in ngOnInit we can use it as below:</p>\n\n<pre><code>  async ngOnInit() {\n    const isAuthorized = await this.authorizeService.IsAuthorized;\n    if(isAuthorized) { // works like normal boolean variable\n    }\n  }\n</code></pre>\n\n<p>Hope it helps!!! Cheers</p>\n"}], "owner": {"reputation": 139, "user_id": 9927520, "user_type": "registered", "profile_image": "https://graph.facebook.com/102412523961202/picture?type=large", "display_name": "\u0412\u0438\u0442\u0430\u043b\u0438\u0439 \u0428\u0435\u0431\u0430\u043d\u0438\u0446", "link": "https://stackoverflow.com/users/9927520/%d0%92%d0%b8%d1%82%d0%b0%d0%bb%d0%b8%d0%b9-%d0%a8%d0%b5%d0%b1%d0%b0%d0%bd%d0%b8%d1%86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58000175, "answer_count": 1, "score": 0, "last_activity_date": 1568837840, "creation_date": 1568832707, "question_id": 57999168, "link": "https://stackoverflow.com/questions/57999168/how-to-return-a-response-from-a-requestpost-get", "title": "How to return a response from a request(post | get)?", "body": "<p>There is a variable in the service that checks if the user is authorized:</p>\n\n<pre><code>  get IsAuthorized():any{\n    return this.apiService.SendComand(\"GetFirstKassir\");\n  }\n</code></pre>\n\n<p>SendCommand(within the usual <code>post</code> request or<code>get</code>):</p>\n\n<pre><code>ApiService.SendComand(Command: string, Params?: any): Observable&lt;any&gt;\n</code></pre>\n\n<p>And I have to process the component as follows:</p>\n\n<pre><code>this.authorizeService.IsAuthorized.subscribe(\n  res =&gt; {\n    if (res.Name.length === 0) this.router.navigate(['/login'])\n  }\n);\n</code></pre>\n\n<p>How do I make <code>get IsAuthorized ()</code> returned <code>string Name(not Observable&lt;any&gt;)</code> (which is inside the<code>subscribe</code>. And the component I could write <code>console.log(this.authorizeService.IsAuthorized);</code></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568833299, "post_id": 57999143, "comment_id": 102404404, "body": "The type <code>Season</code> is equal to the union of the enum object&#39;s values, although <code>Season</code> is a <i>subtype</i> of <code>&#39;winter&#39; | &#39;spring&#39; | &#39;summer&#39; | &#39;autumn&#39;</code>.  Does <code>Season</code> not work for you? (e.g., <code>declare let s: Season; let x: &#39;winter&#39; | &#39;spring&#39; | &#39;summer&#39; | &#39;autumn&#39; = s;</code>)"}, {"owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "edited": false, "score": 0, "creation_date": 1568833977, "post_id": 57999143, "comment_id": 102404699, "body": "very good explanation provided in this link <a href=\"https://stackoverflow.com/questions/52393730/typescript-string-literal-union-type-from-enum\" title=\"typescript string literal union type from enum\">stackoverflow.com/questions/52393730/&hellip;</a>"}, {"owner": {"reputation": 2569, "user_id": 356083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/awxYs.jpg?s=128&g=1", "display_name": "f.khantsis", "link": "https://stackoverflow.com/users/356083/f-khantsis"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568834032, "post_id": 57999143, "comment_id": 102404724, "body": "@jcalz I can&#39;t do <code>let x: Season = &#39;winter&#39;;</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568834636, "post_id": 57999143, "comment_id": 102404951, "body": "Can you explain why you need access to bare string literal versions of the enum?  For example, why not just use <code>let x: Season = Season.WINTER</code> which is essentially the same thing?  Even if you could do <code>let x: Magic&lt;Season&gt; = &#39;winter&#39;</code>, what would you do with it?  I want to see more of a use case here"}], "answers": [{"comments": [{"owner": {"reputation": 2569, "user_id": 356083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/awxYs.jpg?s=128&g=1", "display_name": "f.khantsis", "link": "https://stackoverflow.com/users/356083/f-khantsis"}, "edited": false, "score": 0, "creation_date": 1568834071, "post_id": 57999382, "comment_id": 102404745, "body": "thanks, but the enum definition comes from an external library"}], "tags": [], "owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "is_accepted": false, "score": 1, "last_activity_date": 1568833729, "creation_date": 1568833729, "answer_id": 57999382, "question_id": 57999143, "link": "https://stackoverflow.com/questions/57999143/typescript-type-for-all-possible-values-of-enum/57999382#57999382", "title": "typescript type for all possible values of enum", "body": "<p>Typescript doesn't allow this but as a workaround, we can make it with an object whose property values are string literals:</p>\n\n<pre><code>  const createLiteral = &lt;V extends keyof any&gt;(v: V) =&gt; v;\n  const Season = {\n   WINTER: createLiteral(\"winter\"),\n   SPRING: createLiteral(\"spring\"),\n   SUMMER: createLiteral(\"summer\")\n  }\n  type Season = (typeof Season)[keyof typeof Season]\n  const w: Season = \"winter\"; // works\n  const x: Season = \"sghjsghj\"; // error\n</code></pre>\n\n<p>Hope this helps!!! Cheers!</p>\n"}], "owner": {"reputation": 2569, "user_id": 356083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/awxYs.jpg?s=128&g=1", "display_name": "f.khantsis", "link": "https://stackoverflow.com/users/356083/f-khantsis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568833729, "creation_date": 1568832595, "question_id": 57999143, "link": "https://stackoverflow.com/questions/57999143/typescript-type-for-all-possible-values-of-enum", "title": "typescript type for all possible values of enum", "body": "<p>So I know that <code>keyof typeof &lt;enum&gt;</code> returns a type of all possible keys of enum, such that given</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum Season{\n WINTER = 'winter',\n SPRING = 'spring',\n SUMMER = 'summer',\n AUTUMN = 'autumn',\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>let x: keyof typeof Season;\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let x: 'WINTER' | 'SPRING' | 'SUMMER' | 'AUTUMN';\n</code></pre>\n\n<p>my question is how do I get a type that will be equivalent to one of the possible values of the enum, for example:</p>\n\n<pre><code>let x: 'winter' | 'spring' | 'summer' | 'autumn';\n</code></pre>\n"}, {"tags": ["typescript", "types", "namespaces", "jointjs"], "owner": {"reputation": 61, "user_id": 7631667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1eb6d22257b96db00dea4303b26063ac?s=128&d=identicon&r=PG&f=1", "display_name": "Michal Smolarek", "link": "https://stackoverflow.com/users/7631667/michal-smolarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1568831693, "creation_date": 1568831693, "question_id": 57998959, "link": "https://stackoverflow.com/questions/57998959/how-to-extend-namespace-in-joint-d-ts-jointjs", "title": "How to extend namespace in joint.d.ts, jointjs", "body": "<p>I am trying to create custom element in jointjs, but i am kinda stuck on problem with types in typescript. I don't know how to extend my namespaces/interfaces so i can easly create new jointjs element.</p>\n\n<p>I am useing React, but i don't think it will help.</p>\n\n<p>The error i am getting is</p>\n\n<blockquote>\n  <p>Element implicitly has an 'any' type because expression of type\n  '\"html\"' can't be used to index type 'typeof shapes'.   Property\n  'html' does not exist on type 'typeof shapes'</p>\n  \n  <p>ERROR > joint.shapes['html'] = {};</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as joint from 'jointjs';\n\nconst BeerObject = (graph: joint.dia.Graph) =&gt; {\n\n    joint.shapes['html'] = {};\n    joint.shapes['html'].Element = joint.shapes.basic.Rect.extend({\n        defaults: joint.util.deepSupplement({\n            type: 'html.Element',\n            attrs: {\n                rect: { stroke: 'none', 'fill-opacity': 0 }\n            }\n        }, joint.shapes.basic.Rect.prototype.defaults)\n    });\n\n};\n\nexport default BeerObject;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "visual-studio-code", "nodemon"], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 3952859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b18d8fde87ad1222239f3f17e8045a?s=128&d=identicon&r=PG", "display_name": "Zachary", "link": "https://stackoverflow.com/users/3952859/zachary"}, "is_accepted": true, "score": 7, "last_activity_date": 1568831152, "creation_date": 1568831152, "answer_id": 57998821, "question_id": 57998762, "link": "https://stackoverflow.com/questions/57998762/run-nodemon-with-typescript-compiling/57998821#57998821", "title": "Run Nodemon with Typescript compiling?", "body": "<p>This looks like it will achieve what you're looking for:</p>\n\n<pre><code>\"start\": \"tsc-watch --project . --outDir ./dist --onSuccess \\\"nodemon ./dist/bin/www.js\\\"\"\n</code></pre>\n\n<p>Source: <a href=\"https://github.com/Microsoft/TypeScript/issues/12996#issuecomment-349277673\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/12996#issuecomment-349277673</a></p>\n"}, {"tags": [], "owner": {"reputation": 4408, "user_id": 184532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ca0de93e53929d332c4690294672e5?s=128&d=identicon&r=PG", "display_name": "kjs3", "link": "https://stackoverflow.com/users/184532/kjs3"}, "is_accepted": false, "score": 12, "last_activity_date": 1601656689, "creation_date": 1601656689, "answer_id": 64175239, "question_id": 57998762, "link": "https://stackoverflow.com/questions/57998762/run-nodemon-with-typescript-compiling/64175239#64175239", "title": "Run Nodemon with Typescript compiling?", "body": "<p>Nodemon will detect and run <code>.ts</code> files with <code>ts-node</code> automatically now. It will actually run <code>.py</code> and <code>.rb</code> files with python and ruby too btw and you can give it a custom <code>--exec</code> for others. Here's a <a href=\"https://github.com/remy/nodemon/blob/886527f1f0a9249e1a044fd652b7519d1c0dc50e/lib/config/defaults.js#L7-L14\" rel=\"noreferrer\">link to the relevant code</a> within nodemon.</p>\n<p>So the following should be fine:</p>\n<pre><code>&quot;scripts&quot;: {\n  &quot;dev&quot;: &quot;nodemon app.ts&quot;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 544, "user_id": 1024811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/970da55a7f9c09055a35fa51f347209d?s=128&d=identicon&r=PG", "display_name": "Peter W", "link": "https://stackoverflow.com/users/1024811/peter-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1611097180, "creation_date": 1611097180, "answer_id": 65800770, "question_id": 57998762, "link": "https://stackoverflow.com/questions/57998762/run-nodemon-with-typescript-compiling/65800770#65800770", "title": "Run Nodemon with Typescript compiling?", "body": "<p>As of TypeScript 3.8+, you can now just use:</p>\n<pre><code>tsc --watch\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/configuring-watch.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/configuring-watch.html</a></p>\n<p>You could then use <code>nodemon</code> on the compiled code, e.g. <code>nodemon dist/app.js</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 757, "user_id": 3081954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4uhDz.png?s=128&g=1", "display_name": "Vitalynx", "link": "https://stackoverflow.com/users/3081954/vitalynx"}, "is_accepted": false, "score": 1, "last_activity_date": 1612095057, "creation_date": 1612095057, "answer_id": 65978941, "question_id": 57998762, "link": "https://stackoverflow.com/questions/57998762/run-nodemon-with-typescript-compiling/65978941#65978941", "title": "Run Nodemon with Typescript compiling?", "body": "<p>With the current answer you might run into issues using ES modules.\nNo need for nodemon when you're using <code>tsc-watch</code>. It makes use of incremental compilation, making the restart of your application much faster.</p>\n<p>I found the following to work best:</p>\n<pre><code>&quot;start&quot;: &quot;tsc-watch --onSuccess \\&quot;node ./dist/app.js\\&quot;&quot;\n</code></pre>\n<p>The <code>outDir</code> can be defined in your <code>tsconfig</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12385226, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LntqmINqOrQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb7zCUH6T71gmdtWcI96MmTX2RsSQ/mo/photo.jpg?sz=128", "display_name": "Md Gaziur Rahman Noor", "link": "https://stackoverflow.com/users/12385226/md-gaziur-rahman-noor"}, "is_accepted": false, "score": 0, "last_activity_date": 1616244351, "last_edit_date": 1616244351, "creation_date": 1616216280, "answer_id": 66718382, "question_id": 57998762, "link": "https://stackoverflow.com/questions/57998762/run-nodemon-with-typescript-compiling/66718382#66718382", "title": "Run Nodemon with Typescript compiling?", "body": "<p>You can create a nodemon.json in your project root directory and add the following code inside that:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;ext&quot;: &quot;*.ts&quot;,\n &quot;exec&quot;: &quot;tsc &amp;&amp; ts-node app.ts&quot;\n}\n</code></pre>\n<p>And update your scripts like following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;scripts&quot;: {\n   &quot;start&quot;: &quot;npm run build:live&quot;,\n   &quot;build:live&quot;: &quot;nodemon&quot;,\n}\n</code></pre>\n<p>What happens is that nodemon will check all the files with the extension &quot;.ts&quot; and starts tsc and then ts-node.</p>\n"}], "owner": {"reputation": 3880, "user_id": 11411002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93aac89c00c36d873533f87b373658d8?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftiSwift", "link": "https://stackoverflow.com/users/11411002/swiftiswift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5889, "favorite_count": 1, "accepted_answer_id": 57998821, "answer_count": 5, "score": 9, "last_activity_date": 1616244351, "creation_date": 1568830938, "last_edit_date": 1572436793, "question_id": 57998762, "link": "https://stackoverflow.com/questions/57998762/run-nodemon-with-typescript-compiling", "title": "Run Nodemon with Typescript compiling?", "body": "<p>I want my typescript files to be compiled on every file saving with the command <code>tsc</code>. </p>\n\n<p>How do I combine the tsc command with the command that nodemon runs in the <code>build:live</code> script</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"scripts\": {\n    \"start\": \"npm run build:live\",\n    \"build:live\": \"nodemon --watch '*.ts' --exec 'ts-node' app.ts\",\n }\n</code></pre>\n\n<p>this script causes nodemon to call itself twice or three times:</p>\n\n<pre><code>\"build:live\": \"nodemon --watch '*.ts' --exec 'ts-node app.ts &amp; tsc'\",\n</code></pre>\n"}, {"tags": ["typescript", "puppeteer"], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 2352718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8g2dN.jpg?s=128&g=1", "display_name": "lcrespilho", "link": "https://stackoverflow.com/users/2352718/lcrespilho"}, "is_accepted": true, "score": 1, "last_activity_date": 1568858432, "creation_date": 1568858432, "answer_id": 58002722, "question_id": 57998723, "link": "https://stackoverflow.com/questions/57998723/in-typescript-how-to-check-if-an-object-has-been-disposed/58002722#58002722", "title": "In Typescript, how to check if an object has been disposed?", "body": "<p>You have to use <code>browser.isConnected</code>. If for you it's throwing an exception, it's for another reason. Probably it's not on the scope where you are trying to access it.</p>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 58002722, "answer_count": 1, "score": 0, "last_activity_date": 1568858432, "creation_date": 1568830797, "question_id": 57998723, "link": "https://stackoverflow.com/questions/57998723/in-typescript-how-to-check-if-an-object-has-been-disposed", "title": "In Typescript, how to check if an object has been disposed?", "body": "<p>I'm using <a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#browserclose\" rel=\"nofollow noreferrer\">this call</a> to <code>browser.close()</code> in order to close a Puppeteer-controlled browser. Looking at the documentation for this method call, it states:</p>\n\n<blockquote>\n  <p>Closes Chromium and all of its pages (if any were opened). The Browser object itself is considered to be disposed and cannot be used anymore.</p>\n</blockquote>\n\n<p>My question is: How can I check if the <code>browser</code> object has been successfully disposed? Using <code>browser.isConnected()</code> doesn't work because accessing <code>browser</code> throws an exception.</p>\n"}, {"tags": ["typescript", "visual-studio", "templates", "visual-studio-2019"], "answers": [{"tags": [], "owner": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "is_accepted": false, "score": 2, "last_activity_date": 1568831189, "creation_date": 1568831189, "answer_id": 57998827, "question_id": 57998443, "link": "https://stackoverflow.com/questions/57998443/visual-studio-2019-typescript-custom-item-template/57998827#57998827", "title": "Visual Studio 2019 Typescript Custom Item Template", "body": "<p>I finally got this to show up, I noticed that there was another folder that contained other templates, I started with copying </p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\Common7\\IDE\\ItemTemplates\\AspNetCore\\Web\\Scripts\\1033\\TypeScriptJsxFile</code> to</p>\n\n<p><code>C:\\Users\\&lt;user&gt;\\Documents\\Visual Studio 2019\\Templates\\ItemTemplates\\ReactFunctionComponent</code> </p>\n\n<p>and modified it. I believe I was missing the template group ID: </p>\n\n<p><code>&lt;TemplateGroupID&gt;AspNetCore&lt;/TemplateGroupID&gt;</code></p>\n\n<h2>reactFuncComp.vstemplate</h2>\n\n<hr>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;VSTemplate Version=\"3.0.0\" Type=\"Item\" xmlns=\"http://schemas.microsoft.com/developer/vstemplate/2005\"&gt;\n  &lt;TemplateData&gt;\n    &lt;Name&gt;React Function Component&lt;/Name&gt;\n    &lt;Description&gt;React Function Component template file&lt;/Description&gt;\n    &lt;Icon Package=\"{2ffe45c4-5c73-493c-b187-f2e955ff875e}\" ID=\"3\"&gt;&lt;/Icon&gt;\n    &lt;ProjectType&gt;CSharp&lt;/ProjectType&gt;\n    &lt;TemplateGroupID&gt;AspNetCore&lt;/TemplateGroupID&gt;\n    &lt;TemplateID&gt;ReactFunctionComponent&lt;/TemplateID&gt;\n    &lt;NumberOfParentCategoriesToRollUp&gt;3&lt;/NumberOfParentCategoriesToRollUp&gt;\n    &lt;DefaultName&gt;reactComp.tsx&lt;/DefaultName&gt;\n    &lt;SortOrder&gt;1&lt;/SortOrder&gt;\n    &lt;ShowByDefault&gt;false&lt;/ShowByDefault&gt;\n  &lt;/TemplateData&gt;\n  &lt;TemplateContent&gt;\n    &lt;ProjectItem SubType=\"Code\" TargetFileName=\"$fileinputname$.tsx\" ReplaceParameters=\"true\"&gt;reactFuncComp.tsx&lt;/ProjectItem&gt;\n  &lt;/TemplateContent&gt;\n&lt;/VSTemplate&gt;\n</code></pre>\n\n<h2>reactFuncComp.tsx</h2>\n\n<hr>\n\n<pre><code>import * as React from \"react\";\n\nexport const $safeitemname$: React.FunctionComponent = (props) =&gt; {\n\n    return (\n        &lt;div&gt;\n            {props.children}\n        &lt;/div&gt;\n    ); \n}\n\nexport default $safeitemname$;\n</code></pre>\n"}], "owner": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568831189, "creation_date": 1568829588, "question_id": 57998443, "link": "https://stackoverflow.com/questions/57998443/visual-studio-2019-typescript-custom-item-template", "title": "Visual Studio 2019 Typescript Custom Item Template", "body": "<p>I am trying to create a Custom Item Template in Visual Studio 2019, I tried starting with exporting an existing file in my project using <code>Project-&gt;Export Template</code> and left all the defaults as is. But no matter where the file was copied to it doesn't show up in <code>Solution Explorer-&gt;Context Menu-&gt;Add-&gt;New Item</code> I searched through all the groups and it didn't show up.\nI found a couple of other questions regarding this but none of them seemed to work.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36295432/custom-itemtemplate-does-not-appear-in-visual-studio-2015-add-new-item-dialog\">Custom ItemTemplate does not appear in Visual Studio 2015 Add New Item dialog</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13325950/custom-itemtemplate-not-showing-up-in-visual-studio-2010-add-new-item\">Custom ItemTemplate not showing up in Visual Studio 2010 - Add New Item</a></p>\n\n<p>I figured using a working template would work so I copied a template from</p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\Common7\\IDE\\ItemTemplates\\JavaScript\\Code\\tsxfile</code> </p>\n\n<p>to</p>\n\n<p><code>C:\\Users\\&lt;user&gt;\\Documents\\Visual Studio 2019\\Templates\\ItemTemplates\\JavaScript\\Code\\reactComponent</code> and modified it.</p>\n\n<h2>reactFuncComp.vstemplate</h2>\n\n<hr>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;VSTemplate Version=\"3.0.0\" Type=\"Item\" xmlns=\"http://schemas.microsoft.com/developer/vstemplate/2005\"&gt;\n  &lt;TemplateData&gt;\n    &lt;Name&gt;React Function Component&lt;/Name&gt;\n    &lt;Description&gt;React Function Component&lt;/Description&gt;\n    &lt;Icon Package=\"{2ffe45c4-5c73-493c-b187-f2e955ff875e}\" ID=\"3\"&gt;&lt;/Icon&gt;\n    &lt;TemplateID&gt;ReactFunctionComponent.tsxfile&lt;/TemplateID&gt;\n    &lt;NumberOfParentCategoriesToRollUp&gt;1&lt;/NumberOfParentCategoriesToRollUp&gt;\n    &lt;DefaultName&gt;reactComponent.tsx&lt;/DefaultName&gt;\n    &lt;!-- TypeScript project capability is applicable to all JavaScript projects --&gt;\n    &lt;!-- \"ShowByDefault = false\" is needed for the \"AppliesTo\" to apply the condition(s) to projects that don't restrict specific templates --&gt;\n    &lt;ProjectType&gt;JavaScript&lt;/ProjectType&gt;\n    &lt;ShowByDefault&gt;false&lt;/ShowByDefault&gt;\n    &lt;AppliesTo&gt;JavaScript&lt;/AppliesTo&gt;\n  &lt;/TemplateData&gt;\n  &lt;TemplateContent&gt;\n    &lt;ProjectItem SubType=\"Code\" ItemType=\"TypeScriptCompile\" TargetFileName=\"$fileinputname$.tsx\" ReplaceParameters=\"true\"&gt;reactFuncComp.tsx&lt;/ProjectItem&gt;\n  &lt;/TemplateContent&gt;\n&lt;/VSTemplate&gt;\n</code></pre>\n\n<h2>reactFuncComp.tsx</h2>\n\n<hr>\n\n<pre><code>import * as React from \"react\";\n\nexport const $safeitemname$: React.FunctionComponent = (props) =&gt; {\n\n    return (\n        &lt;div&gt;\n            {props.children}\n        &lt;/div&gt;\n    ); \n}\n\nexport default $safeitemname$;\n</code></pre>\n\n<p>I double checked that the template location was right, under <code>Tools-&gt;Options-&gt;Projects and Solutions-&gt;Locations</code> and it is pointing to</p>\n\n<p><code>C:\\Users\\&lt;user&gt;\\Documents\\Visual Studio 2019\\Templates\\ItemTemplates</code></p>\n\n<p>I also tried copying the new template to the location that I copied it from </p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\Common7\\IDE\\ItemTemplates\\JavaScript\\Code\\reactFuncComp</code></p>\n\n<p>and still nothing, is there something that I am missing?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 4, "creation_date": 1568832178, "post_id": 57998305, "comment_id": 102403929, "body": "You can use this <code>concat(this.observable$.pipe(take(1)), this.behaviourSubject$)</code> if you want the first value to always come from <code>this.observable$</code>"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1568863396, "post_id": 57998305, "comment_id": 102411765, "body": "concat(this.observable$.pipe(take(1)), this.behaviourSubject$) has the issue that the second value will always be the initial value of the behavior subject."}], "answers": [{"tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1568859632, "creation_date": 1568859632, "answer_id": 58002844, "question_id": 57998305, "link": "https://stackoverflow.com/questions/57998305/set-the-value-of-a-behavioursubject-from-an-observable/58002844#58002844", "title": "Set the value of a BehaviourSubject from an Observable", "body": "<p>Something like that, to combine your requirement into one stream</p>\n\n<pre><code>this.observable$.pipe(\nfirst(),\ntap(()=&gt;this.behaviourSubject$.next(observableValue))\nswitchMapTo(this.behaviourSubject$))\n</code></pre>\n"}], "owner": {"reputation": 3492, "user_id": 1077003, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/029647b8a3ce683fada0f1e6a0106936?s=128&d=identicon&r=PG", "display_name": "Ian Jamieson", "link": "https://stackoverflow.com/users/1077003/ian-jamieson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568859632, "creation_date": 1568828988, "question_id": 57998305, "link": "https://stackoverflow.com/questions/57998305/set-the-value-of-a-behavioursubject-from-an-observable", "title": "Set the value of a BehaviourSubject from an Observable", "body": "<p>Just looking to see if there is a better way of doing this:</p>\n\n<pre><code>this.observable$.pipe(take(1)).subscribe((observableValue) =&gt; {\n  this.behaviourSubject$.next(observableValue);\n});\n</code></pre>\n\n<p>When I say <em>better</em>, I am thinking without having to subscribe to the original observable and use <code>take(1)</code></p>\n\n<p>I was looking at <code>startWith</code>:</p>\n\n<pre><code>this.behaviourSubject$.pipe(\n  startWith(this.observable$)\n)\n</code></pre>\n\n<p>But <code>startWith</code> does not accept an observable.</p>\n"}, {"tags": ["angular", "typescript", "promise", "angular-cli", "subscription"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1568828514, "post_id": 57998136, "comment_id": 102402436, "body": "These are all various ways to accomplish the same thing (they could be considered functionally equivalent)."}, {"owner": {"reputation": 411, "user_id": 9245201, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MUGigI4c-hY/AAAAAAAAAAI/AAAAAAAACTI/UAhudL2d8co/photo.jpg?sz=128", "display_name": "dsal3389", "link": "https://stackoverflow.com/users/9245201/dsal3389"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1568828742, "post_id": 57998136, "comment_id": 102402533, "body": "So they are the same but the only diff is where you use them?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1568828979, "post_id": 57998136, "comment_id": 102402630, "body": "Where and how as well as if there is an unsubscribe that occurs but that can also depend on the observable being subscribed to and how it was created (httpclient, for example, does not require you to unsubscribe from any returned observables). I would recommend you do some additional research on promises in javascript and if you still have questions ask a more pointed (specific) question as this one is very broad."}], "owner": {"reputation": 411, "user_id": 9245201, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MUGigI4c-hY/AAAAAAAAAAI/AAAAAAAACTI/UAhudL2d8co/photo.jpg?sz=128", "display_name": "dsal3389", "link": "https://stackoverflow.com/users/9245201/dsal3389"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1568828289, "creation_date": 1568828289, "question_id": 57998136, "link": "https://stackoverflow.com/questions/57998136/what-is-the-differences-between-promises-and-async-in-angular", "title": "what is the differences between promises and async in angular?", "body": "<p>I don't really understand the differences between the <code>promise</code> and the <code>async pipe</code> in <code>angular</code></p>\n\n<ul>\n<li><code>async</code> unsubscribe automatically</li>\n<li><code>promise</code> unsubscribe automatically</li>\n<li><code>async</code> used in template with the <code>async</code> pipe</li>\n<li><code>promises</code> used in the typescript file</li>\n</ul>\n\n<p>I might got it wrong so that's why I am asking what is the real difference in <code>memory</code>, <code>performance</code> etc...</p>\n\n<p>couldn't find a clear answer for that question</p>\n"}, {"tags": ["typescript", "vue.js", "vuetify.js", ".d.ts"], "answers": [{"comments": [{"owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "edited": false, "score": 0, "creation_date": 1604671558, "post_id": 58453490, "comment_id": 114425768, "body": "How? I get <a href=\"https://github.com/microsoft/dts-gen/issues/164\" rel=\"nofollow noreferrer\">github.com/microsoft/dts-gen/issues/164</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 7961940, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfOA_hjBy14/AAAAAAAAAAI/AAAAAAAAAAs/2-u05hSUmHE/photo.jpg?sz=128", "display_name": "J Krbaio", "link": "https://stackoverflow.com/users/7961940/j-krbaio"}, "is_accepted": false, "score": 0, "last_activity_date": 1571410938, "creation_date": 1571410938, "answer_id": 58453490, "question_id": 57998121, "link": "https://stackoverflow.com/questions/57998121/generate-d-ts-file-for-vue-components-written-in-typescript/58453490#58453490", "title": "Generate d.ts file for Vue components written in Typescript", "body": "<p>You could use the <a href=\"https://github.com/Microsoft/dts-gen\" rel=\"nofollow noreferrer\">dts-gen</a>. This is a official tool from TypeScript(Microsoft).</p>\n\n<p>I used it with <code>vue-blockui</code> for generate de <code>d.ts</code> files and working </p>\n"}, {"tags": [], "owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "is_accepted": false, "score": 0, "last_activity_date": 1576751285, "creation_date": 1576751285, "answer_id": 59407753, "question_id": 57998121, "link": "https://stackoverflow.com/questions/57998121/generate-d-ts-file-for-vue-components-written-in-typescript/59407753#59407753", "title": "Generate d.ts file for Vue components written in Typescript", "body": "<p>Use rollup - I tried everything but it did not work with WebPack/vue-cli-service.</p>\n\n<p>Here is my starter-template with rollup: <a href=\"https://github.com/MikeMitterer/vue-ts-sfc-starter\" rel=\"nofollow noreferrer\">https://github.com/MikeMitterer/vue-ts-sfc-starter</a></p>\n\n<p>Hope this helps </p>\n"}], "owner": {"reputation": 383, "user_id": 6820020, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/935089396597968/picture?type=large", "display_name": "Raphael Cardoso Fernandes", "link": "https://stackoverflow.com/users/6820020/raphael-cardoso-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6360, "favorite_count": 1, "answer_count": 2, "score": 14, "last_activity_date": 1576751285, "creation_date": 1568828230, "question_id": 57998121, "link": "https://stackoverflow.com/questions/57998121/generate-d-ts-file-for-vue-components-written-in-typescript", "title": "Generate d.ts file for Vue components written in Typescript", "body": "<p>I'm new to Vue and I would like to learn how to create components and publish the package to NPM. So, my idea is to create Vue (typescript) + Vuetify reusable components and install them from NPM in any other project I have. I can successfully import my HelloWorld component in a vue.js project, however when I try to import in a Vue ts project I get the following error: </p>\n\n<p>'Could not find a declaration file for module 'sastify'. '/home/raphael/tester-ts/node_modules/sastify-nv/dist/sastify.common.js' implicitly has an 'any' type.\n  Try <code>npm install @types/sastify-nv</code> if it exists or add a new declaration (.d.ts) file containing <code>declare module 'sastify-nv';</code></p>\n\n<p>How do I  generate this .d.ts that would work similarly as to my JS project?</p>\n\n<p>My project tree is:</p>\n\n<pre><code>\u2500\u2500 babel.config.js\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 postcss.config.js\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 components\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 HelloWorld\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 HelloWorld.vue\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 sastify.js\n\u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 tslint.json\n\u2514\u2500\u2500 yarn.lock\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"name\": \"sastify-nv\",\n  \"version\": \"0.1.6\",\n  \"private\": false,\n  \"scripts\": {\n    \"serve\": \"vue-cli-service serve\",\n    \"build\": \"vue-cli-service build --target lib --name sastify ./src/sastify.js\",\n    \"lint\": \"vue-cli-service lint --fix\",\n    \"build:ts\": \"tsc\"\n  },\n  \"files\": [\n    \"dist\",\n    \"src\"\n  ],\n  \"main\": \"dist/sastify.common.js\",\n  \"dependencies\": {\n    \"vue\": \"^2.6.10\",\n    \"vue-property-decorator\": \"^8.1.0\",\n    \"vuetify\": \"^2.0.0\"\n  },\n  \"devDependencies\": {\n    \"@vue/cli-plugin-typescript\": \"^3.11.0\",\n    \"@vue/cli-service\": \"^3.11.0\",\n    \"sass\": \"^1.17.4\",\n    \"sass-loader\": \"^7.1.0\",\n    \"typescript\": \"^3.4.3\",\n    \"vue-cli-plugin-vuetify\": \"^0.6.3\",\n    \"vue-template-compiler\": \"^2.6.10\",\n    \"vuetify-loader\": \"^1.2.2\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"esnext\",\n    \"module\": \"esnext\",\n    \"strict\": true,\n    \"jsx\": \"preserve\",\n    \"importHelpers\": true,\n    \"declaration\": true,\n    \"outDir\": \"lib\",\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"sourceMap\": true,\n    \"baseUrl\": \".\",\n    \"types\": [\n      \"webpack-env\",\n      \"vuetify\"\n    ],\n    \"paths\": {\n      \"@/*\": [\n        \"src/*\"\n      ]\n    },\n    \"lib\": [\n      \"esnext\",\n      \"dom\",\n      \"dom.iterable\",\n      \"scripthost\"\n    ]\n  },\n  \"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\",\n    \"src/**/*.vue\",\n    \"tests/**/*.ts\",\n    \"tests/**/*.tsx\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>sastify.js:</p>\n\n<pre><code>export { default as HelloWorld } from './components/HelloWorld/HelloWorld.vue'\n</code></pre>\n\n<p>components/HelloWorld/HelloWorld.vue:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;v-card&gt;Vcard from HelloWorld&lt;/v-card&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { VCard } from \"vuetify/lib\";\n\n@Component({\n  name: \"HelloWorld\",\n  components: {\n    VCard\n  }\n})\nexport default class HelloWorld extends Vue {}\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 253, "user_id": 2955641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6764fb5f35cb0a20bc1989f4869375?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Avula", "link": "https://stackoverflow.com/users/2955641/nitin-avula"}, "edited": false, "score": 0, "creation_date": 1568829104, "post_id": 57998085, "comment_id": 102402681, "body": "can you try by moving the &lt;p-toast&gt; out of your form?"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 253, "user_id": 2955641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6764fb5f35cb0a20bc1989f4869375?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Avula", "link": "https://stackoverflow.com/users/2955641/nitin-avula"}, "edited": false, "score": 0, "creation_date": 1568829272, "post_id": 57998085, "comment_id": 102402739, "body": "Tried. But No Sir. Not working. The text is now displayed below the button. Still not getting proper <code>toast</code> component."}, {"owner": {"reputation": 253, "user_id": 2955641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6764fb5f35cb0a20bc1989f4869375?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Avula", "link": "https://stackoverflow.com/users/2955641/nitin-avula"}, "edited": false, "score": 0, "creation_date": 1568829981, "post_id": 57998085, "comment_id": 102403015, "body": "Are you sure, that the contribute component is under the app module and not in any other module?"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 253, "user_id": 2955641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6764fb5f35cb0a20bc1989f4869375?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Avula", "link": "https://stackoverflow.com/users/2955641/nitin-avula"}, "edited": false, "score": 0, "creation_date": 1568830228, "post_id": 57998085, "comment_id": 102403123, "body": "Yes. It is there in the <code>declarations</code> array. It is there. Yes I am sure."}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 1, "creation_date": 1568848706, "post_id": 57998085, "comment_id": 102409215, "body": "@Tanzeel check this it is working <a href=\"https://stackblitz.com/edit/angular-ewtxe4\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-ewtxe4</a>"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1568872287, "post_id": 57998085, "comment_id": 102413782, "body": "Ok. I&#39;ll create a fresh project and test this again. No other choice."}], "answers": [{"comments": [{"owner": {"reputation": 1375, "user_id": 4989531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-qE8o-1u-5BI/AAAAAAAAAAI/AAAAAAAAACU/EykrE-k3kI0/photo.jpg?sz=128", "display_name": "Neeraj Rathod", "link": "https://stackoverflow.com/users/4989531/neeraj-rathod"}, "edited": false, "score": 0, "creation_date": 1584378093, "post_id": 58008173, "comment_id": 107413187, "body": "Nice explanation, but can you help with following scenario, I put p-toast in shared component, but it is not working on first click, <a href=\"https://stackoverflow.com/questions/60709915/not-getting-opened-on-first-click-when-putting-primeng-toast-on-shared-component\" title=\"not getting opened on first click when putting primeng toast on shared component\">stackoverflow.com/questions/60709915/&hellip;</a>"}, {"owner": {"reputation": 23478, "user_id": 391605, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/cmJUH.jpg?s=128&g=1", "display_name": "Mike Gledhill", "link": "https://stackoverflow.com/users/391605/mike-gledhill"}, "edited": false, "score": 1, "creation_date": 1589264712, "post_id": 58008173, "comment_id": 109216242, "body": "Excellent walkthrough (and clearer than primeNg&#39;s own brief explanation)."}, {"owner": {"reputation": 2590, "user_id": 6639020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-whhL_OMI28g/AAAAAAAAAAI/AAAAAAAAI2Q/lcFD5k2Trk4/photo.jpg?sz=128", "display_name": "Ragavan Rajan", "link": "https://stackoverflow.com/users/6639020/ragavan-rajan"}, "reply_to_user": {"reputation": 23478, "user_id": 391605, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/cmJUH.jpg?s=128&g=1", "display_name": "Mike Gledhill", "link": "https://stackoverflow.com/users/391605/mike-gledhill"}, "edited": false, "score": 1, "creation_date": 1589267408, "post_id": 58008173, "comment_id": 109217342, "body": "@MikeGledhill Glad it helped you :)"}, {"owner": {"reputation": 467, "user_id": 7413086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d1b77b99110075438a0c23dd31dc0ed?s=128&d=identicon&r=PG&f=1", "display_name": "kushal Baldev", "link": "https://stackoverflow.com/users/7413086/kushal-baldev"}, "edited": false, "score": 0, "creation_date": 1606509682, "post_id": 58008173, "comment_id": 114991165, "body": "Can we make the toast messages as a common? Like only one service as central and only one toast message tag?"}, {"owner": {"reputation": 2590, "user_id": 6639020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-whhL_OMI28g/AAAAAAAAAAI/AAAAAAAAI2Q/lcFD5k2Trk4/photo.jpg?sz=128", "display_name": "Ragavan Rajan", "link": "https://stackoverflow.com/users/6639020/ragavan-rajan"}, "reply_to_user": {"reputation": 467, "user_id": 7413086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d1b77b99110075438a0c23dd31dc0ed?s=128&d=identicon&r=PG&f=1", "display_name": "kushal Baldev", "link": "https://stackoverflow.com/users/7413086/kushal-baldev"}, "edited": false, "score": 0, "creation_date": 1606518043, "post_id": 58008173, "comment_id": 114993284, "body": "@kushalBaldev, yes you can make a shared module and make this service as common"}, {"owner": {"reputation": 467, "user_id": 7413086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d1b77b99110075438a0c23dd31dc0ed?s=128&d=identicon&r=PG&f=1", "display_name": "kushal Baldev", "link": "https://stackoverflow.com/users/7413086/kushal-baldev"}, "edited": false, "score": 0, "creation_date": 1606537210, "post_id": 58008173, "comment_id": 114996069, "body": "I am little bit confused how to make it common i know that we require toast module that I already imported in shared module secondly we would require MessageService in providers but how can I add the providers in service and thirdly we need to add the p toast message tag on each component we want so can you give me little of a hint what I need to do or can add sample code It would be great help to me thanks....!!!"}], "tags": [], "owner": {"reputation": 2590, "user_id": 6639020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-whhL_OMI28g/AAAAAAAAAAI/AAAAAAAAI2Q/lcFD5k2Trk4/photo.jpg?sz=128", "display_name": "Ragavan Rajan", "link": "https://stackoverflow.com/users/6639020/ragavan-rajan"}, "is_accepted": true, "score": 8, "last_activity_date": 1568948951, "last_edit_date": 1568948951, "creation_date": 1568886279, "answer_id": 58008173, "question_id": 57998085, "link": "https://stackoverflow.com/questions/57998085/how-to-use-primeng-toast-correctly-in-angular-8/58008173#58008173", "title": "How to use PrimeNg Toast correctly in Angular 8", "body": "<p>In Angular 8: Try the following method </p>\n\n<p><strong>Pre Steps:</strong> </p>\n\n<p>In app.module.ts: </p>\n\n<pre><code>import { MessagesModule } from 'primeng/messages';\nimport { MessageModule } from 'primeng/message';\nimport { ToastModule } from 'primeng/toast';\n</code></pre>\n\n<p>and under the imports </p>\n\n<pre><code>    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        FormsModule,\n        AppRoutingModule,\n        MessagesModule,\n        MessageModule,\n        ToastModule,\n],\n</code></pre>\n\n<p>Step 1: Inject the message service in component for your choice like below </p>\n\n<pre><code>import { MessageService } from 'primeng/api';\n</code></pre>\n\n<p>Step 2: On the same component, you need to add providers like below</p>\n\n<pre><code>@Component({\n    selector: 'app-import-project',\n    templateUrl: './import-project.component.html',\n    styleUrls: ['./import-project.component.css'],\n    providers: [MessageService],\n})\n</code></pre>\n\n<p>Step 3: Declare the message service in constructor </p>\n\n<pre><code>  constructor(\n        private messageService: MessageService,\n        private router: Router,\n        private progress: NgProgress\n    ) {}\n</code></pre>\n\n<p>Step 4: On the same <code>component.ts file:</code> Assuming you want to throw error message </p>\n\n<pre><code>   showError() {\n    console.log('Authentication Failed');\n    this.messageService.add({\n        severity: 'error',\n        summary: 'Authentication Failed',\n        detail: 'API Key or URL is invalid.',\n    });\n}\n</code></pre>\n\n<p>Step 5: In the relevant.html file. Add the HTML tag like below </p>\n\n<pre><code>&lt;p-toast position=\"bottom-center\"&gt;&lt;/p-toast&gt;\n</code></pre>\n\n<p>Output: This should definitely throw the proper toast like below </p>\n\n<p>Hope this will solve your problem instead of creating new project every time. Please give a try.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/hKYCi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hKYCi.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9118, "favorite_count": 2, "accepted_answer_id": 58008173, "answer_count": 1, "score": 4, "last_activity_date": 1568948951, "creation_date": 1568828053, "question_id": 57998085, "link": "https://stackoverflow.com/questions/57998085/how-to-use-primeng-toast-correctly-in-angular-8", "title": "How to use PrimeNg Toast correctly in Angular 8", "body": "<p>It is working, but not as It should. Instead of a proper <code>toast</code> component, message is simply displayed as a normal text after i press submit button.\n<a href=\"https://i.stack.imgur.com/HjIcU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjIcU.png\" alt=\"enter image description here\"></a></p>\n\n<p>I followed everything written ni the Documentation. Here are my files.</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>\"dependencies\": {\n    ...\n    \"primeicons\": \"^2.0.0\",\n    \"primeng\": \"^8.0.3\",\n    ...\n  },\n</code></pre>\n\n<p><strong>angular.json</strong></p>\n\n<pre><code>\"styles\": [\n   \"src/styles.css\",\n   \"node_modules/primeicons/primeicons.css\",\n   \"node_modules/primeng/resources/themes/nova-light/theme.css\",\n   \"node_modules/primeng/resources/primeng.min.css\"\n],\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n...\nimport { ToastModule } from 'primeng/toast';\nimport { MessageService } from 'primeng/api';\n\n\n\n@NgModule({\n  declarations: [\n    ...        \n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    ...\n    ToastModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><strong>contribute.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n...\nimport { MessageService } from 'primeng/components/common/api';\n\n@Component({\n  selector: 'app-contribute',\n  templateUrl: './contribute.component.html',\n  styleUrls: ['./contribute.component.css']\n})\nexport class ContributeComponent implements OnInit {\n  constructor(private messageService: MessageService, ...) { }\n\n  addSingle() {\n    this.messageService.add({severity:'success', summary:'Service Message', detail:'Via MessageService'});\n  }\n\n  ngOnInit() {\n    ...\n  }\n\n  onSubmit() {\n    ...\n    this.addSingle();\n  }\n}\n</code></pre>\n\n<p><strong>contribute.component.html</strong></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row pt-5\"&gt;\n    &lt;div class=\"col-md-12 col-lg-12 col-sm-12 bg-light\"&gt;\n      &lt;form [formGroup]=\"editorForm\" (ngSubmit)=\"onSubmit()\"&gt;\n        &lt;div class=\"form-group\"&gt;\n          ...SOME INPUT FIELDS\n        &lt;/div&gt;\n        &lt;p-toast position=\"top-left\"&gt;&lt;/p-toast&gt;\n        &lt;button class=\"btn btn-primary mt-3 mb-3\"&gt;Submit&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I mean, Its working. But not like a good <code>toast</code> component. Please correct me.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1174, "user_id": 355031, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9910d04d228a408f97789232030c3efa?s=128&d=identicon&r=PG", "display_name": "Stephen Haberman", "link": "https://stackoverflow.com/users/355031/stephen-haberman"}, "edited": false, "score": 0, "creation_date": 1568830374, "post_id": 57998411, "comment_id": 102403193, "body": "Wow, thanks! The <code>[never]</code> trick is exactly what I needed. I like your point that I don&#39;t need both <code>D</code> and <code>A</code>. I&#39;ll go with that. Although also turns that that doing <code>deps: D | [never]</code> in my original version also kicks over the inference into tuple mode (just for my own understanding/generalization/sanity checking)."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1568829769, "last_edit_date": 1568829769, "creation_date": 1568829439, "answer_id": 57998411, "question_id": 57998031, "link": "https://stackoverflow.com/questions/57998031/can-i-convert-an-open-ended-tuple-a-closed-tuple/57998411#57998411", "title": "Can I convert an open ended tuple a closed tuple?", "body": "<p>I don't really think your issue is about open-ended tuples vs fixed-length here.  For anyone who actually needs this, there is an <a href=\"https://github.com/microsoft/TypeScript/issues/26223\" rel=\"nofollow noreferrer\">open issue</a> suggesting more ability to manipulate tuple types, where I <a href=\"https://github.com/microsoft/TypeScript/issues/26223#issuecomment-410847836\" rel=\"nofollow noreferrer\">mused</a> that it would be nice to be able to specify strict tuples of a given length and open-ended tuples of a given prefix length.  There doesn't seem to be much going on there though.  Currently the language does not natively support this; you can probably fake up something yourself which at least works for tuples up to some reasonable maximum length, if you need it.  </p>\n\n<hr>\n\n<p>Probably the main problem is that TypeScript will not automatically infer an array literal like <code>[n1, n2]</code> to be of a tuple type such as <code>[AstNode&lt;number&gt;, AstNode&lt;string&gt;]</code>; instead it will tend to infer an array type such as <code>Array&lt;AstNode&lt;number&gt; | AstNode&lt;string&gt;&gt;</code>, which loses ordering and length information and results in <code>number | string</code>.</p>\n\n<p>Here's how I might type <code>node()</code>:</p>\n\n<pre><code>function node&lt;T, A extends any[]&gt;(\n  deps: { [K in keyof A]: AstNode&lt;A[K]&gt; } | [never],\n  fn: (...args: A) =&gt; T\n): AstNode&lt;T&gt; {\n  const values = (deps as Array&lt;AstNode&lt;any&gt;&gt;).map(d =&gt; d.value) as A;\n  return { value: fn(...values) };\n}\n</code></pre>\n\n<p>Notice that I'm doing the reverse tuple mapping from yours, where I calculate <code>D</code> given <code>A</code>, as opposed to <code>A</code> given <code>D</code>.  Also note that there's no real reason to have two type parameters for those; you don't need the extra degree of freedom since once you have <code>A</code>, you know <code>D</code>, so I've removed it.</p>\n\n<p>The fix to the main problem comes from that <code>| [never]</code> at the end of the <code>deps</code> type.  It doesn't really do much in terms of what values for <code>deps</code> are allowed (since I hope there are no one-tuples with a <code>never</code> element floating around our code), but it does <a href=\"https://github.com/microsoft/TypeScript/issues/27179#issuecomment-422606990\" rel=\"nofollow noreferrer\">give the compiler a hint that you want it to be inferred as a tuple type</a>.  Yes, it's not pretty; it would be better if there were some <a href=\"https://github.com/Microsoft/TypeScript/issues/30680\" rel=\"nofollow noreferrer\">less hacky way to ask for tuples</a>, but there isn't (at least as of TS3.6).</p>\n\n<p>Also note that the new type of <code>deps</code> is a little weird, so I changed it to <code>(deps as Array&lt;AstNode&lt;any&gt;&gt;)</code> when calling the <code>map()</code> method.  </p>\n\n<p>Well, let's see how it works:</p>\n\n<pre><code>const n3: AstNode&lt;string&gt; = node([n1, n2], (v1, v2) =&gt; {\n  const v1n: number = v1; // okay\n  const v2s: string = v2; // okay\n  return v1n + v2s;\n});\n</code></pre>\n\n<p>Looks good.  Hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play//#code/JYOwLgpgTgZghgYwgAgIIGcwDkD2ATCAHgBUA+ZAbwFgAoZZANzgBsBXCALmWIG5aBfWrQQ4QmZCACMXDNnxEQrALYAjaOQC8lRi3ZdJyfnxoixYCQCYZmXAUKYooAOabtTNp2QAiOOjwwvQ2NaGFYQBDBgUQl5EgAaNGQIAA9IEDx0ZDgQAE8AbQBdUgAKWnoCAAd0LgpkPIBpZFBkAGsIHJwYNALrOTtUBqLDZAAfOpAIBmgCuLLkGBAuYoA6VbgoJ2q0AEpkDXJiWm3e2yIySjnTcXd2TK1iyszfNCgoOBzCWVPCbJzSUm2yyUcAqDz25DwyxuEF2z1QxnoUAgYFYUBAbl0ngWK1W0PQuyMAiEJlE4hAAGYTrEHM5XCB5MU8lIEiALDNkMUGJIEgwLLt9hc6MgruYuYsJMo1FA9oxJDxkAB6BXIHAtd6XUmiixbGkgJwy3nypUqtU5OZIlFo2XogDUjG1xn422MQA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1174, "user_id": 355031, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9910d04d228a408f97789232030c3efa?s=128&d=identicon&r=PG", "display_name": "Stephen Haberman", "link": "https://stackoverflow.com/users/355031/stephen-haberman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57998411, "answer_count": 1, "score": 0, "last_activity_date": 1568829769, "creation_date": 1568827771, "question_id": 57998031, "link": "https://stackoverflow.com/questions/57998031/can-i-convert-an-open-ended-tuple-a-closed-tuple", "title": "Can I convert an open ended tuple a closed tuple?", "body": "<p>I'm trying to get the following code to work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface AstNode&lt;T&gt; {\n  value: T;\n}\n\nconst n1: AstNode&lt;number&gt; = { value: 1 };\nconst n2: AstNode&lt;string&gt; = { value: \"asdf\" };\n\n// https://github.com/microsoft/TypeScript/pull/26063 says that if T is a tuple\n// type, the mapped type will map each specific type in the tuple.\ntype Values&lt;T&gt; = { [P in keyof T]: T[P] extends AstNode&lt;infer V&gt; ? V : never };\n\nfunction node&lt;\n  T,\n  // https://github.com/microsoft/TypeScript/pull/24897 allows open ended tuple types, and\n  // I want D to be open-ended here.\n  D extends [...AstNode&lt;any&gt;[]],\n  // But then here I want to convert it back to fixed-length to get [string, number] instead\n  // of [string | number, string | number]\n  A extends Values&lt;D&gt;\n&gt;(deps: D, fn: (...args: A) =&gt; T): AstNode&lt;T&gt; {\n  const values = deps.map(d =&gt; d.value) as A;\n  return { value: fn(...values) };\n}\n\nconst n3: AstNode&lt;string&gt; = node([n1, n2], (v1, v2) =&gt; {\n  const v1n: number = v1; // v1 is string | number\n  const v2s: string = v2; // v2 is string | number\n  return v1n + v2s;\n});\n\n</code></pre>\n\n<p>Which I believe is really just a generalization of the <code>Promise.all</code> problem, where <code>Promise.all</code> would like to be declared with a single open-length tuple of generic types, and it's return value would be a mapped type over the <em>fixed-length</em> version of the original/inferred tuple.</p>\n\n<p>Is something like this possible yet in TypeScript? Is there a specific issue tracking this capability?</p>\n"}, {"tags": ["angular", "typescript", "ag-grid", "ag-grid-angular"], "owner": {"reputation": 8258, "user_id": 5182047, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vkgn6.jpg?s=128&g=1", "display_name": "Erik &#197;sland", "link": "https://stackoverflow.com/users/5182047/erik-%c3%85sland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568827530, "creation_date": 1568827530, "question_id": 57997979, "link": "https://stackoverflow.com/questions/57997979/aggrid-angular-5-constructor-not-instantiating-service-class-in-init-function", "title": "AgGrid/Angular 5: constructor not instantiating service class in init() function for Cell Rendering in AgGrid", "body": "<p>I am having an issue with the non-enterprise version of <em>AgGrid</em> and <em>Angular 5</em>. </p>\n\n<p><strong>The Angular apps webpage component loads and AgGrid loads using the following bit of code - this works fine...</strong></p>\n\n<pre><code>public ngOnInit() {\n    this.agGridOptions = {\n      onGridReady: (grid) =&gt; this.onGridReady(grid),\n      onCellValueChanged: (grid) =&gt; this.updateRowItem(grid),\n      enableSorting: false,\n      enableFilter: false,\n      enableColResize: true,\n      unSortIcon: true,\n      components : {\n        'valueRendererComponent'          : ValueRendererComponent,\n        'StartDateRendererComponent' : StartDateRendererComponent,\n        'EndDateRendererComponent'   : EndDateRendererComponent\n      }\n    };\n  }\n</code></pre>\n\n<p>This loads the grid fine and dandy. The issue is when I edit a row cells value and the cells rendering component runs some logic and updates. </p>\n\n<p><strong>Below are the grids column definitions for better understanding of the way cells are being rendered via external component...</strong></p>\n\n<pre><code>const columnDefs = [\n      {\n        headerName: 'Val',\n        field: 'Value',\n        width: 500,\n        editable: true\n      },\n      {\n        headerName: 'Start Date',\n        field: 'StartDate',\n        width: 500,\n        cellRenderer: 'StartDateRendererComponent',\n        editable: true\n      },\n      {\n        headerName: 'End Date',\n        field: 'EndDate',\n        width: 500,\n        cellRenderer : 'EndDateRendererComponent',\n        editable: true\n      }\n    ];\n</code></pre>\n\n<p>This issue I am experiencing is with the <code>EndDateRendererComponent</code> (example below) to be rendered via the <code>cellRenderer</code> column definition parameter and not being able to properly inject the <code>ConfigStateService</code> (example below) into said component via the Angular 5 <code>constructor() {}</code> method that makes all values in the <code>ConfigStateService</code> available within AgGrid's <code>init()</code> function. </p>\n\n<p><strong>Here is the <code>EffectiveEndDateRendererComponent</code> Component...</strong></p>\n\n<pre><code>import { ConfigStateService } from './../fakepath';\n\nexport class EndDateRendererComponent {\n  public ConfigStateService: ConfigStateService;\n  public eGui: any;\n\n  constructor(\n      public configStateService: ConfigStateService,\n    ) {\n    // this.configStateService = ConfigStateService.prototype;\n  }\n\n  public getGui() {\n    return this.eGui;\n  }\n\n  public init(params) {\n    console.log(this.configStateService);\n\n    this.eGui = document.createElement('div');\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = params['data']['effectiveEndDate'];\n    this.eGui.appendChild(wrapper);\n  }\n}\n</code></pre>\n\n<p><strong>Here is the <code>ConfigStateService</code>...</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport includes from 'lodash-es/includes';\nimport difference from 'lodash-es/difference';\nimport intersection from 'lodash-es/intersection';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { HttpClient } from '@angular/common/http';\nimport 'rxjs/add/observable/of';\nimport * as moment from 'moment';\n\n@Injectable()\nexport class ConfigStateService {\n  public _addNewSaveButtonsStatus = new BehaviorSubject(false);\n\n  public testing() {\n    console.log(this._addNewSaveButtonsStatus)\n  }\n}\n</code></pre>\n\n<p>As seen above, when I try to <code>console.log(this.configStateService)</code> in the <code>init()</code> function of the <code>EndDateRendererComponent</code>, I am getting undefined. But If I console.log(ConfigStateService) outside of the component it is clearly being imported fine. Additionally, if I import the <code>configStateService</code> outside in a different component that has nothing to do with AgGrid, the service instantiates and works fine, underlining the likely realtiy that the problem is with the <code>init()</code> built in function for AgGrid and how it interacts with service injection. </p>\n\n<p><strong><em>How can I access all the values in the ConfigServiceState within the <code>init()</code> function in my <code>EndDateRendererComponent</code>?</em></strong></p>\n"}, {"tags": ["node.js", "typescript", "visual-studio-code", "aurelia"], "comments": [{"owner": {"reputation": 9475, "user_id": 1204153, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f438bb3838ccd7079152fc50e784d1?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/1204153/andy"}, "edited": false, "score": 2, "creation_date": 1568827501, "post_id": 57997818, "comment_id": 102402081, "body": "Well, from the errors, it looks like you are missing a { or ;. Fix that and you are good. Without the code you are trying to &quot;gulp&quot;, all this means nothing."}, {"owner": {"reputation": 12937, "user_id": 1411724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F73zF.jpg?s=128&g=1", "display_name": "avrahamcool", "link": "https://stackoverflow.com/users/1411724/avrahamcool"}, "edited": false, "score": 2, "creation_date": 1568834572, "post_id": 57997818, "comment_id": 102404919, "body": "update your cli globaly (with <code>npm i -g aurelia cli</code>), then create anew project and copy your <code>src</code> folder to the newly created app."}], "owner": {"reputation": 26, "user_id": 7223407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fd1938b3fb01e05713239394bd0a44?s=128&d=identicon&r=PG&f=1", "display_name": "Taylor Hellebuyck", "link": "https://stackoverflow.com/users/7223407/taylor-hellebuyck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568860073, "creation_date": 1568826773, "last_edit_date": 1568860073, "question_id": 57997818, "link": "https://stackoverflow.com/questions/57997818/why-am-i-getting-a-typescript-compile-error-with-aurelia-and-gulp", "title": "Why am I getting a typescript compile error with Aurelia and Gulp?", "body": "<p>I am receiving the following error messages when running a gulp watch or gulp build command from VS Code.   This is an Aurelia application running in node.</p>\n\n<pre><code>typings\\modules\\aurelia-dependency-injection\\index.d.ts(190,82): error TS1144: '{' or ';' expected.\ntypings\\modules\\aurelia-dependency-injection\\index.d.ts(190,108): error TS1109: Expression expected.\ntypings\\modules\\aurelia-dependency-injection\\index.d.ts(190,138): error TS1109: Expression expected.\n</code></pre>\n\n<p>--au help output<br />\n<code>No Aurelia project found Global aurelia-cli v1.0.2</code></p>\n\n<p>--npm version<br />\n<code>6.9.0</code></p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 2208996, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/h2eMe.jpg?s=128&g=1", "display_name": "VINNUSAURUS", "link": "https://stackoverflow.com/users/2208996/vinnusaurus"}, "edited": false, "score": 0, "creation_date": 1568849384, "post_id": 58000588, "comment_id": 102409339, "body": "Ok. <code>session.readTransaction</code> returns a promise and have put a <code>return</code> in front of it, now it works :) Thanks."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1568839928, "creation_date": 1568839928, "answer_id": 58000588, "question_id": 57997806, "link": "https://stackoverflow.com/questions/57997806/cloud-function-returns-null-on-android-app/58000588#58000588", "title": "Cloud Function returns null on android app", "body": "<p>Your top-level callback function isn't returning a promise that resolves with the value to send to the client after all the asynchronous work is complete.  In fact, it isn't returning any promise at all.  You will need to write your code such that it returns that promise to the client,  I suggest starting out with something much simpler in order to understand how it works.</p>\n"}], "owner": {"reputation": 1339, "user_id": 2208996, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/h2eMe.jpg?s=128&g=1", "display_name": "VINNUSAURUS", "link": "https://stackoverflow.com/users/2208996/vinnusaurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58000588, "answer_count": 1, "score": 0, "last_activity_date": 1568839928, "creation_date": 1568826743, "question_id": 57997806, "link": "https://stackoverflow.com/questions/57997806/cloud-function-returns-null-on-android-app", "title": "Cloud Function returns null on android app", "body": "<p>I am calling a <em>Cloud Function</em> on <em>Android App</em> and the return value is <em>null</em>, it works fine when <em>onRequest</em> is used instead of <em>onCall</em> from browser, but when the function is called from Android App using <em>OnCall</em> it returns null</p>\n\n<p><em>Code:</em></p>\n\n<pre><code>export const userExistsOrNot = functions.https.onCall((data, context) =&gt; {\n\nconst driver = neo4j.v1.driver(\"uri\", neo4j.v1.auth.basic(\"usr\", \"pwd\"), {connectionTimeout: 30 * 1000})\n\nconst session = driver.session()\n\n  session.readTransaction(wrte=&gt;{\n    let r : any\n\n    if(context.auth){\n      r = wrte.run('MATCH (a:Person) WHERE a.userid ={userid} RETURN exists(a.userid)', \n      {userid: context.auth.uid})\n    }\n\n   return r as neo4j.v1.Result\n  }\n\n)\n\n.then(result =&gt; {\n\n    session.close();\n\n    driver.close();\n\n    if(result.records[0] == null){\n\n      return    {\n        \"data\": {\n            \"text\": 0\n        }\n    }\n    } else {\n      return {\n        \"data\": {\n            \"text\": 1\n        }\n    }\n    }\n\n\n })\n .catch(error =&gt; {\n  session.close();\n  console.log(error);\n  driver.close()\n  throw new functions.https.HttpsError(error,\"some error\");\n});\n\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 10482727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf63cdb284068cf7697a1d6787ab8ac?s=128&d=identicon&r=PG&f=1", "display_name": "Learner.123", "link": "https://stackoverflow.com/users/10482727/learner-123"}, "edited": false, "score": 0, "creation_date": 1568875516, "post_id": 57997825, "comment_id": 102415145, "body": "what I think is that here I am pushing the values inside addNumber, addName... to the array BulkRows...so the array actually contains the values and not anything called addNumber. But while retrieving I call row.addNumber which is why it does not return anything. So any idea how I can retrieve those values?"}, {"owner": {"reputation": 673, "user_id": 6335286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q9URZ.jpg?s=128&g=1", "display_name": "Fabian Beyerlein", "link": "https://stackoverflow.com/users/6335286/fabian-beyerlein"}, "reply_to_user": {"reputation": 81, "user_id": 10482727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf63cdb284068cf7697a1d6787ab8ac?s=128&d=identicon&r=PG&f=1", "display_name": "Learner.123", "link": "https://stackoverflow.com/users/10482727/learner-123"}, "edited": false, "score": 0, "creation_date": 1568878176, "post_id": 57997825, "comment_id": 102416503, "body": "@Learner.123 Yeah, you seem to be right about that."}], "tags": [], "owner": {"reputation": 673, "user_id": 6335286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q9URZ.jpg?s=128&g=1", "display_name": "Fabian Beyerlein", "link": "https://stackoverflow.com/users/6335286/fabian-beyerlein"}, "is_accepted": false, "score": 0, "last_activity_date": 1568826823, "creation_date": 1568826823, "answer_id": 57997825, "question_id": 57997641, "link": "https://stackoverflow.com/questions/57997641/transferring-data-from-excel-rows-to-angular-html-table/57997825#57997825", "title": "Transferring data from excel rows to Angular HTML Table", "body": "<p>I think the issue is, that you push to the array outside of the for-loop.</p>\n"}, {"tags": [], "owner": {"reputation": 549, "user_id": 3564156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566c0a28a8374c935002d38927c3dcd4?s=128&d=identicon&r=PG&f=1", "display_name": "akpgp", "link": "https://stackoverflow.com/users/3564156/akpgp"}, "is_accepted": false, "score": 0, "last_activity_date": 1568828515, "creation_date": 1568828515, "answer_id": 57998184, "question_id": 57997641, "link": "https://stackoverflow.com/questions/57997641/transferring-data-from-excel-rows-to-angular-html-table/57998184#57998184", "title": "Transferring data from excel rows to Angular HTML Table", "body": "<p>Move this piece of code inside the for loop.</p>\n\n<pre><code>this.BulkRows.push(\n  this.addNumber,\n  this.addName  ,\n  this.addID    ,\n  this.addAddress ,\n  this.addPassword\n</code></pre>\n\n<p>)</p>\n"}], "owner": {"reputation": 81, "user_id": 10482727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf63cdb284068cf7697a1d6787ab8ac?s=128&d=identicon&r=PG&f=1", "display_name": "Learner.123", "link": "https://stackoverflow.com/users/10482727/learner-123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1568828515, "creation_date": 1568826037, "question_id": 57997641, "link": "https://stackoverflow.com/questions/57997641/transferring-data-from-excel-rows-to-angular-html-table", "title": "Transferring data from excel rows to Angular HTML Table", "body": "<p>I have excel data stored in certain variables and now I need to transfer that data to the table rows.\nBelow is the code :</p>\n\n<p>Component.ts</p>\n\n<pre><code>       import { Component, OnInit, Output } from '@angular/core';\n       import { Http ,RequestOptions, Headers, Response } from '@angular/http';\n       import { Observable, Subscription } from 'rxjs/Rx';\n       import { Router } from '@angular/router';\n       import { Service } from '../services;\n\n  private BulkRows : any[] = [];\n  formData: FormData\n\n constructor(private http: Http, \n          private router: Router,\n          private service: Service)\n\n        proceedUpload(){\n        debugger;\n        this.service.GetExcelData(this.formData).subscribe((response) =&gt; {\n         if(response &amp;&amp; response.length&gt;0)\n          {\n          for(var i = 0; i&lt; response.length; i++){\n\n\n       let BulkData = response[i];\n       this.addNumber = BulkData.Number;\n       this.addName  =  BulkData.Name;\n       this.addID    =  BulkData.Id.toString();\n       this.addAddress = BulkData.Address;\n       this.addPassword= BulkData.Password;\n\n       this.someValidation1()\n       this.someValidation2()\n\n    }  \n    debugger; \n\n    this.BulkRows.push(\n\n      this.addNumber,\n      this.addName  ,\n      this.addID    ,\n      this.addAddress ,\n      this.addPassword\n\n      )         \n  }\n  else\n  {\n      this.showMessage('info', 'Add Unsuccessful', 'No data found');    \n  }\n</code></pre>\n\n<p>Component.html</p>\n\n<pre><code>     &lt;ng-container&gt;\n        &lt;div class=\"table-responsive\" &gt;\n         &lt;table class=\"table table-condensed   table table-bordered   table table-striped\"&gt;\n\n     &lt;thead&gt;\n        &lt;tr&gt;\n\n    &lt;th rowspan=\"2\" class=\"center bold\"&gt;Number&lt;/th&gt;\n    &lt;th rowspan=\"2\" class=\"center bold\"&gt;Name&lt;/th&gt;\n    &lt;th class=\"center bold\"&gt;ID&lt;/th&gt;\n    &lt;th class=\"center bold\"&gt;Address&lt;br /&gt; (GS03)&lt;/th&gt;\n\n  &lt;/tr&gt;\n&lt;/thead&gt;\n\n&lt;tbody&gt;\n &lt;ng-container *ngFor=\"let row of BulkRows\" &gt;\n  &lt;tr&gt;\n\n    &lt;td class=\"center\"&gt;   \n        &lt;span&gt;{{row.addNumber}}&lt;/span&gt;\n    &lt;/td&gt;\n\n    &lt;td class=\"center\"&gt;\n        &lt;span&gt;{{row.addName}}&lt;/span&gt;\n    &lt;/td&gt;\n\n    &lt;td class=\"center\"&gt;\n        &lt;span&gt;{{row.addID}}&lt;/span&gt;\n    &lt;/td&gt; \n\n    &lt;td class=\"center\"&gt;\n        &lt;span&gt;{{row.addAddress}}&lt;/span&gt;\n    &lt;/td&gt;\n\n    &lt;td class=\"center\"&gt;\n        &lt;span&gt;{{row.addPassword}}&lt;/span&gt;\n    &lt;/td&gt;\n</code></pre>\n\n<p>Here formData contains the uploaded excel which is sent to the server , proceesed and then returned here for validation.Response contains all that data, basically it has all the rows of the excel with data. The data has to be displayed on the screen.But I am not able to display it.Where am I going wrong?</p>\n\n<p>Also, the reason for running a forloop is the validation that needs to be done before displaying the data on the screen.</p>\n\n<p>I am not able to figure out how to retrieve all of the rows and display all of them together:-(</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "extend", "extends"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1568826011, "post_id": 57997595, "comment_id": 102401506, "body": "Your <code>.extend()</code> function in the first sample of code is wrong; the value of <code>this</code> in the callback won&#39;t be what it needs to be."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1568826432, "post_id": 57997595, "comment_id": 102401658, "body": "Although it could be a contrived example to illustrate the prototype extension, I&#39;m not sure I understand the point of <code>extend</code> when <code>push</code> already does that. Can we not do: <code>arr.push(...arrToAdd)</code>?"}, {"owner": {"reputation": 5700, "user_id": 4934640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f69527ae459cbbda0ab5c2e08686a50?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4934640/user"}, "edited": false, "score": 0, "creation_date": 1568826821, "post_id": 57997595, "comment_id": 102401822, "body": "<b>@ggorlen, Can we not do: arr.push(...arrToAdd)?</b> It will not work for large arrays as 1.000.0000 elements. This is explained here: <a href=\"https://stackoverflow.com/a/17368101/4934640\">stackoverflow.com/a/17368101/4934640</a>"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1568827165, "post_id": 57997595, "comment_id": 102401947, "body": "Ah, OK--good to know, thanks. If you&#39;re really pushing hundreds of thousands of entries at once then I&#39;d be worried the performance of the <code>forEach</code> version. <code>for ... of</code> might be faster."}, {"owner": {"reputation": 1320, "user_id": 2661138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x89dA.jpg?s=128&g=1", "display_name": "alou", "link": "https://stackoverflow.com/users/2661138/alou"}, "edited": false, "score": 0, "creation_date": 1568828012, "post_id": 57997595, "comment_id": 102402266, "body": "You need to define the interface in a .d.ts file and reference that, take a look at declaration merging <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-merging.html</a>"}], "owner": {"reputation": 5700, "user_id": 4934640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f69527ae459cbbda0ab5c2e08686a50?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4934640/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568825893, "creation_date": 1568825893, "question_id": 57997595, "link": "https://stackoverflow.com/questions/57997595/how-to-extend-the-built-in-array-type-on-typescript-with-the-extend-method-prop", "title": "How to extend the built-in Array Type on Typescript with the extend method? Property &#39;foo&#39; does not exist on type &#39;String&#39;", "body": "<p>For reference, I am using React <code>16.9.0</code> and Typescript <code>3.5.3</code>.</p>\n\n<p>On this question <a href=\"https://stackoverflow.com/questions/1374126/how-to-extend-an-existing-javascript-array-with-another-array-without-creating\">How to extend an existing JavaScript array with another array, without creating a new array</a>, I found how to create the new method <code>extend</code> on the Array type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Array.prototype.extend = function (other_array) {\n    /* You should include a test to check whether other_array really is an array */\n    other_array.forEach(function(v) {this.push(v)}, this);\n}\n</code></pre>\n\n<p>But when I try to add Typescript support (for type checking the array type), I cannot find how to make it work. This is how I tried:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ExtendedArray&lt; Type &gt; extends Array&lt; Type &gt; {\n  extend: () =&gt; void;\n}\n\nif( !( 'extend' in Array.prototype ) ) {\n  Array.prototype.extend = function (other_array: ExtendedArray&lt; any &gt;) {\n      other_array.forEach( function(element) { this.push( element ) }, this );\n  }\n}\n</code></pre>\n\n<p>Typescript just keep insisting my ExtendedArray type does not have the <code>prototype.extend</code> attribute:</p>\n\n<pre><code>Property 'extend' does not exist on type 'any[]'.  TS2339\n\n    52 | if( !( 'extend' in Array.prototype ) ) {\n  &gt; 53 |   Array.prototype.extend = function (other_array: ExtendedArray&lt; any &gt;) {\n       |                   ^\n    54 |       other_array.forEach( function(element) { this.push( element ) }, this );\n    55 |   }\n    56 | }\n</code></pre>\n\n<p>After searching more, I fond this other question <a href=\"https://stackoverflow.com/questions/13897659/extending-functionality-in-typescript\">Extending functionality in TypeScript</a>, with this example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface String {\n    foo(): number;\n}\n\nString.prototype.foo= function() {\n    return 0;\n}\n</code></pre>\n\n<p>But if I try to run it, Typescript just strikes its rage:</p>\n\n<pre><code>Property 'foo' does not exist on type 'String'.  TS2339\n\n    41 | }\n    42 | \n  &gt; 43 | String.prototype.foo= function() {\n       |                  ^\n    44 |     return 0;\n    45 | }\n    46 | \n</code></pre>\n\n<p>How can I extend a Javascript builtin the prototype with a new function on Typescript?</p>\n"}, {"tags": ["typescript", "rxjs", "reactive-programming"], "answers": [{"comments": [{"owner": {"reputation": 342, "user_id": 5099059, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jg0q2SDqiFY/AAAAAAAAAAI/AAAAAAAAEeE/kHwtrn-f9Ko/photo.jpg?sz=128", "display_name": "KeKru", "link": "https://stackoverflow.com/users/5099059/kekru"}, "edited": false, "score": 0, "creation_date": 1568918193, "post_id": 58000379, "comment_id": 102437879, "body": "Thank you! This is working and an interesting idea! But I&#39;ll stay with the other answer, as it is easier to understand, although it is maybe not the super &quot;reactive&quot; way"}, {"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "reply_to_user": {"reputation": 342, "user_id": 5099059, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jg0q2SDqiFY/AAAAAAAAAAI/AAAAAAAAEeE/kHwtrn-f9Ko/photo.jpg?sz=128", "display_name": "KeKru", "link": "https://stackoverflow.com/users/5099059/kekru"}, "edited": false, "score": 0, "creation_date": 1568919828, "post_id": 58000379, "comment_id": 102438536, "body": "Agreed - Adrian&#39;s answer is simpler, and simpler is usually better.  Especially when coming back to it later.  I&#39;d suggest you mark his answer as correct."}], "tags": [], "owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "is_accepted": false, "score": 1, "last_activity_date": 1568839913, "last_edit_date": 1568839913, "creation_date": 1568838803, "answer_id": 58000379, "question_id": 57997281, "link": "https://stackoverflow.com/questions/57997281/rxjs-reduce-stream-and-run-through-it-again/58000379#58000379", "title": "RXJS: Reduce stream and run through it again", "body": "<p>Tricky problem!  There may well be a simpler way to do this, but here is my solution:</p>\n\n<pre><code>meal.pipe(\n  groupBy(val =&gt; val.connectedTo),\n  mergeMap(group$ =&gt; group$.pipe(\n    reduce((acc, cur) =&gt; [...acc, cur], [`${group$.key}`])\n  )),\n  reduce((acc, cur) =&gt; acc.filter(item =&gt; item.name !== cur[0])),\n  map(arr =&gt; arr.slice(1))\n).subscribe(\n  result =&gt; console.log(result)\n);\n</code></pre>\n\n<p>This chain starts by using <code>groupBy</code> to create a set of higher order observables grouped by <code>connectedTo</code>.  It then uses MergeMap and reduce to take all those higher order Observables and create an array of an array of objects, the first of which is a list of all items without any <code>connectedTo</code>, and then each subsequent array item is an array of items with each <code>connectedTo</code> item object from the original <code>meal</code>.  </p>\n\n<p>That is then fed into reduce, which filters the first array item's sub-objects (acc) to eliminate all the items which show up in any of the subsequent emissions.  That will produce the array of remaining items after the filter.  Slice off the first \"undefined\" array item, and what is left should be an array of all items (breads) which did NOT have any associated <code>connectedTo</code> item.</p>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/rxjs-so-q-57997281?file=index.ts\" rel=\"nofollow noreferrer\">StackBlitz</a> of the results.  In that StackBlitz are commented out <code>tap</code>s that can give you insight into the chain as it is being transformed. </p>\n"}, {"comments": [{"owner": {"reputation": 342, "user_id": 5099059, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jg0q2SDqiFY/AAAAAAAAAAI/AAAAAAAAEeE/kHwtrn-f9Ko/photo.jpg?sz=128", "display_name": "KeKru", "link": "https://stackoverflow.com/users/5099059/kekru"}, "edited": false, "score": 0, "creation_date": 1568917966, "post_id": 58003015, "comment_id": 102437779, "body": "Thanks! Maybe not the most &quot;reactive&quot; way, but works for me"}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 1, "last_activity_date": 1568861217, "creation_date": 1568861217, "answer_id": 58003015, "question_id": 57997281, "link": "https://stackoverflow.com/questions/57997281/rxjs-reduce-stream-and-run-through-it-again/58003015#58003015", "title": "RXJS: Reduce stream and run through it again", "body": "<p>You can reduce the whole stream into an array and then you can do any thing you want to the array with a map.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { from } = rxjs;\r\nconst { reduce, map } = rxjs.operators;\r\n\r\nconst meal = from([\r\n    { \r\n      \"name\": \"white-bread\",\r\n      \"type\": \"bread\",\r\n    },\r\n    { \r\n      \"name\": \"brown-bread\",\r\n      \"type\": \"bread\",\r\n    },\r\n    { \r\n      \"name\": \"spelt-bread\",\r\n      \"type\": \"bread\",\r\n    },\r\n    { \r\n      \"name\": \"cheese\",\r\n      \"type\": \"spread\",\r\n      \"connectedTo\": \"brown-bread\",\r\n    },\r\n    { \r\n      \"name\": \"jelly\",\r\n      \"type\": \"spread\",\r\n      \"connectedTo\": \"spelt-bread\",\r\n    },\r\n]);\r\n\r\nmeal.pipe(\r\n  reduce((all, current) =&gt; { all.push(current); return all; }, []),\r\n  map(all =&gt; all.filter(item =&gt; !item.connectedTo &amp;&amp; !all.some(i =&gt; i.connectedTo === item.name)))\r\n).subscribe(val =&gt; { console.log(val); });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.5.3/rxjs.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 342, "user_id": 5099059, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jg0q2SDqiFY/AAAAAAAAAAI/AAAAAAAAEeE/kHwtrn-f9Ko/photo.jpg?sz=128", "display_name": "KeKru", "link": "https://stackoverflow.com/users/5099059/kekru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 58003015, "answer_count": 2, "score": 1, "last_activity_date": 1568861217, "creation_date": 1568824619, "question_id": 57997281, "link": "https://stackoverflow.com/questions/57997281/rxjs-reduce-stream-and-run-through-it-again", "title": "RXJS: Reduce stream and run through it again", "body": "<p>ich have the following Oberservable in RXJS.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// this from() is an expensive database call, in my real scenario\nconst meal = from([\n    { \n      \"name\": \"white-bread\",\n      \"type\": \"bread\",\n    },\n    { \n      \"name\": \"brown-bread\",\n      \"type\": \"bread\",\n    },\n    { \n      \"name\": \"spelt-bread\",\n      \"type\": \"bread\",\n    },\n    { \n      \"name\": \"cheese\",\n      \"type\": \"spread\",\n      \"connectedTo\": \"brown-bread\",\n    },\n    { \n      \"name\": \"jelly\",\n      \"type\": \"spread\",\n      \"connectedTo\": \"spelt-bread\",\n    },\n])\n</code></pre>\n\n<p>I want to find all breads, that are not connected by any spread.<br>\nIn this example,<br>\n<code>cheese</code> is connected to <code>brown-bread</code> and<br>\n<code>jelly</code> is connected to <code>spelt-bread</code>.<br>\nSo I want to get <code>white-bread</code> as my result, because there is no <code>connectedTo</code> pointing to it.</p>\n\n<p>My thought is, that I first have to reduce the stream, to get an array of all <code>connectedTo</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>meal.pipe(reduce((acc, val) =&gt; {\n   if (val.connectedTo) {\n     acc.push(val.connectedTo);\n   }\n   return acc;\n}, [])\n</code></pre>\n\n<p>Now I have a single array in my stream: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\"brown-bread\", \"spelt-bread\"]\n</code></pre>\n\n<p>Now I want to run through the observable stream again, from the beginning, to filter the breads, to find my:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{ \n   \"name\": \"white-bread\",\n   \"type\": \"bread\",\n},\n</code></pre>\n\n<p>I don't want to create the <code>meal</code> observable again, because it comes from an expensive database call.<br>\nIs there a way to run through the stream multiple times in order?<br>\nOr is there a totally other way to get it done?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "npm", "server"], "comments": [{"owner": {"reputation": 3186, "user_id": 409762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a30fbd1dbc45c784df20520877ba3edc?s=128&d=identicon&r=PG", "display_name": "Ceres", "link": "https://stackoverflow.com/users/409762/ceres"}, "edited": false, "score": 0, "creation_date": 1568824336, "post_id": 57997191, "comment_id": 102400854, "body": "You need to compile the typescript files into javascript."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 2, "creation_date": 1568824381, "post_id": 57997191, "comment_id": 102400876, "body": "You don&#39;t run Typescript directly.  you transpile it  to Javascript and run that."}, {"owner": {"reputation": 3880, "user_id": 11411002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93aac89c00c36d873533f87b373658d8?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftiSwift", "link": "https://stackoverflow.com/users/11411002/swiftiswift"}, "reply_to_user": {"reputation": 3186, "user_id": 409762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a30fbd1dbc45c784df20520877ba3edc?s=128&d=identicon&r=PG", "display_name": "Ceres", "link": "https://stackoverflow.com/users/409762/ceres"}, "edited": false, "score": 0, "creation_date": 1568824432, "post_id": 57997191, "comment_id": 102400901, "body": "@Ceres how can i do that?"}, {"owner": {"reputation": 3880, "user_id": 11411002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93aac89c00c36d873533f87b373658d8?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftiSwift", "link": "https://stackoverflow.com/users/11411002/swiftiswift"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1568824447, "post_id": 57997191, "comment_id": 102400907, "body": "@jfriend00 how can i do that?"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1568825232, "post_id": 57997191, "comment_id": 102401215, "body": "It is all spelled out here: <a href=\"https://www.typescriptlang.org/\" rel=\"nofollow noreferrer\">typescriptlang.org</a> and <a href=\"https://github.com/Microsoft/TypeScript-Node-Starter#typescript-node-starter\" rel=\"nofollow noreferrer\">github.com/Microsoft/&hellip;</a>,"}], "answers": [{"comments": [{"owner": {"reputation": 3880, "user_id": 11411002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93aac89c00c36d873533f87b373658d8?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftiSwift", "link": "https://stackoverflow.com/users/11411002/swiftiswift"}, "edited": false, "score": 0, "creation_date": 1568892567, "post_id": 58005003, "comment_id": 102424176, "body": "works like a charm! Thank you. What does the -v and -c mean"}], "tags": [], "owner": {"reputation": 456, "user_id": 5341567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791938b9e1b0706475b63d1f023228db?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5341567/max"}, "is_accepted": true, "score": 6, "last_activity_date": 1568896912, "last_edit_date": 1568896912, "creation_date": 1568874836, "answer_id": 58005003, "question_id": 57997191, "link": "https://stackoverflow.com/questions/57997191/how-to-run-typescript-files-on-server-in-background/58005003#58005003", "title": "How to run Typescript files on Server in background?", "body": "<p>You could use <code>forever</code> in combination with <code>ts-node</code>.</p>\n\n<p>Here is a link to the npm package <a href=\"https://www.npmjs.com/package/ts-node\" rel=\"noreferrer\">ts-node</a></p>\n\n<p>I would suggest using the following command:</p>\n\n<p><code>forever start -v -c ts-node app.ts</code></p>\n\n<p>Where <code>-v/--verbose</code> is for turning on the verbose messages from Forever.</p>\n\n<p>And <code>-c</code> is the COMMAND to execute which is default is node</p>\n"}], "owner": {"reputation": 3880, "user_id": 11411002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93aac89c00c36d873533f87b373658d8?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftiSwift", "link": "https://stackoverflow.com/users/11411002/swiftiswift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1645, "favorite_count": 0, "accepted_answer_id": 58005003, "answer_count": 1, "score": 3, "last_activity_date": 1568896912, "creation_date": 1568824224, "last_edit_date": 1568882180, "question_id": 57997191, "link": "https://stackoverflow.com/questions/57997191/how-to-run-typescript-files-on-server-in-background", "title": "How to run Typescript files on Server in background?", "body": "<p>I have a NodeJS application which has only <strong>typescript</strong> files in it, no js files. I want to run in on my server in the background. </p>\n\n<p>How can I archive that?</p>\n\n<p>I tried using the npm package called <a href=\"https://www.npmjs.com/package/forever\" rel=\"nofollow noreferrer\"><code>forever</code></a> but it only works with js files as it doesn't understand the typescript code.</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8280045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a955e69b3450d5f8b1299a0a07f6e995?s=128&d=identicon&r=PG&f=1", "display_name": "user363874", "link": "https://stackoverflow.com/users/8280045/user363874"}, "edited": false, "score": 0, "creation_date": 1568829422, "post_id": 57997698, "comment_id": 102402800, "body": "fetching data at different time is also not a problem in my case, the app that i am making isn&#39;t some major thing, i just need that the data gets there so i could show it using data binding whenevr it&#39;s available. promise and rxjs are little outta my scop rn, i&#39;m learning still."}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 13, "user_id": 8280045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a955e69b3450d5f8b1299a0a07f6e995?s=128&d=identicon&r=PG&f=1", "display_name": "user363874", "link": "https://stackoverflow.com/users/8280045/user363874"}, "edited": false, "score": 0, "creation_date": 1568829999, "post_id": 57997698, "comment_id": 102403019, "body": "Yes, but knowing that the data is available is not easy in your case. If you try to use the data before it is available, you will run into will run into <code>undefined</code> errors. Rendering the view also throws errors, but as a quick and dirty fix you can use  <code>*ngIf</code> with multiple boolean flags."}, {"owner": {"reputation": 13, "user_id": 8280045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a955e69b3450d5f8b1299a0a07f6e995?s=128&d=identicon&r=PG&f=1", "display_name": "user363874", "link": "https://stackoverflow.com/users/8280045/user363874"}, "edited": false, "score": 1, "creation_date": 1568830249, "post_id": 57997698, "comment_id": 102403133, "body": "i didn&#39;t know ngFor can be used to iterate over other arrays. arrays are at same length (in the end) &quot;I didn&#39;t see the code where you are pushing data to data[] array&quot; - thats because i couldn&#39;t do it. i will try these you suggested and report back, thank you!"}, {"owner": {"reputation": 13, "user_id": 8280045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a955e69b3450d5f8b1299a0a07f6e995?s=128&d=identicon&r=PG&f=1", "display_name": "user363874", "link": "https://stackoverflow.com/users/8280045/user363874"}, "edited": false, "score": 0, "creation_date": 1568888748, "post_id": 57997698, "comment_id": 102422069, "body": "the promise/forkjoin was too complex for me. the second method works with how i want to display the data. thank you. i tried the last method to push and that also worked, i however find the previous one simpler, thank you for these 2 solutions."}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 13, "user_id": 8280045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a955e69b3450d5f8b1299a0a07f6e995?s=128&d=identicon&r=PG&f=1", "display_name": "user363874", "link": "https://stackoverflow.com/users/8280045/user363874"}, "edited": false, "score": 0, "creation_date": 1568898701, "post_id": 57997698, "comment_id": 102427805, "body": "Yes, I understand. You can learn about promises and observables as you gradually progress. You&#39;re welcome. I&#39;m glad it helped."}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": true, "score": 0, "last_activity_date": 1568830097, "last_edit_date": 1568830097, "creation_date": 1568826324, "answer_id": 57997698, "question_id": 57997083, "link": "https://stackoverflow.com/questions/57997083/how-to-create-an-array-of-objects-or-use-models-just-like-we-have-in-a-json-a/57997698#57997698", "title": "how to create an array of objects OR use models, just like we have in a JSON - Angular/Ionic", "body": "<p>Firstly, you are making multiple asynchronous calls which might finish fetching data at different times.</p>\n\n<p>So, identifying that you have received all the data from all the calls is tricky. You might want to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">Promise.all()</a>, or RxJS's <a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">forkJoin()</a>, \nor something similar.</p>\n\n<p>Assuming all the data is fetched and is available, you can either create a new <code>Data[]</code> array as you wanted. Or if all those arrays are same length, then you can just iterate through all of them at the same time.</p>\n\n<p><code>*ngFor</code> iterates over an iterable object such as array, but you can use the index to access values from other arrays too.</p>\n\n<p>For example,</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let value of player; let i = index\"&gt;\n  &lt;div&gt;player[i]&lt;/div&gt;\n  // Can use the same index on other arrays.\n  &lt;div&gt;toss[i]&lt;/div&gt; \n  &lt;div&gt;venue[i]&lt;/div&gt; \n&lt;/ng-container&gt;\n</code></pre>\n\n<p>But if arrays are of different length, then you will get <code>undefined</code> values.</p>\n\n<p>I didn't see the code where you are pushing data to <code>data[]</code> array, but you could do something like</p>\n\n<pre><code>var data = [];\n\nfor (let i = 0; i &lt; player.length; i++) {\n  data.push({\n    \"venue\": venue[i],\n    \"toss\": toss[i],\n    \"player\": player[i]\n  });\n}\n</code></pre>\n\n<p>And then use <code>*ngFor</code> to iterate over this <code>data[]</code> array to display the values.</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let value of data; let i = index\"&gt;\n  &lt;div&gt;data[i].player&lt;/div&gt;\n  &lt;div&gt;data[i].toss&lt;/div&gt; \n  &lt;div&gt;data[i].venue&lt;/div&gt; \n&lt;/ng-container&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8280045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a955e69b3450d5f8b1299a0a07f6e995?s=128&d=identicon&r=PG&f=1", "display_name": "user363874", "link": "https://stackoverflow.com/users/8280045/user363874"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 57997698, "answer_count": 1, "score": 1, "last_activity_date": 1568830097, "creation_date": 1568823743, "last_edit_date": 1568824523, "question_id": 57997083, "link": "https://stackoverflow.com/questions/57997083/how-to-create-an-array-of-objects-or-use-models-just-like-we-have-in-a-json-a", "title": "how to create an array of objects OR use models, just like we have in a JSON - Angular/Ionic", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Storage } from '@ionic/storage';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Route } from '@angular/router';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { __core_private_testing_placeholder__ } from '@angular/core/testing';\r\nimport { ModalController, NavController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-matchfixer',\r\n  templateUrl: './matchfixer.page.html',\r\n  styleUrls: ['./matchfixer.page.scss'],\r\n})\r\nexport class MatchfixerPage implements OnInit {\r\n  id1: any;\r\n  id2: any;\r\n  url: string;\r\n  fixture: any[]=[];\r\n  venue: any[]=[];\r\n  venueUrl: any;\r\n  player: any[]=[];\r\n  playerUrl: any;\r\n  toss: any[]=[];\r\n  teams: any[]=[];\r\n  \r\n  constructor(\r\n    private storage: Storage,\r\n    public http: HttpClient,\r\n    public navCrl: NavController\r\n    ) {}\r\n\r\n  async delay(ms: number) {\r\n        await new Promise(resolve =&gt; setTimeout(()=&gt;resolve(), ms)).then(()=&gt;console.log('fired'));\r\n    }\r\n\r\n  goconsl(){\r\n    console.log(''+this.id1+''+this.id2);\r\n  }\r\n\r\n  goback(){\r\n    this.navCrl.pop();\r\n    this.navCrl.navigateRoot('/home');\r\n  }\r\n\r\n  fetchVenue(){\r\n    this.fixture.forEach((item,index) =&gt; {\r\n      if(item.status!='NS'){  \r\n      this.venueUrl='https://cricppp.herokuapp.com/users/venue/'+item.venue_id;\r\n      this.http.get(this.venueUrl).subscribe(response =&gt; {\r\n        this.venue[index]=response[\"name\"];\r\n        //this.venue[index]=response;\r\n        console.log('venue '+this.venue[index]+' '+index);\r\n      });\r\n    }\r\n    else\r\n    {\r\n      this.venue[index]='no venue/no match';\r\n      console.log('venue '+this.venue[index]+' '+index);\r\n    }\r\n    });\r\n  }\r\n\r\n  fetchPlayer(){\r\n    this.fixture.forEach((item,index) =&gt; {\r\n      if(item.status!='NS'){  \r\n      this.playerUrl='https://cricppp.herokuapp.com/users/player/'+item.man_of_match_id;\r\n      this.http.get(this.playerUrl).subscribe(response =&gt; {\r\n        this.player[index]=response[\"fullname\"];\r\n        console.log('player '+this.player[index]+''+index);\r\n      });\r\n    }\r\n    else\r\n    {\r\n      this.player[index]='no pop/no match';\r\n      console.log('player '+this.player[index]+''+index);\r\n    }\r\n    });\r\n  }\r\n\r\n  fetchToss(){\r\n    this.fixture.forEach((item,index) =&gt; {\r\n      if(item.status!='NS'){  \r\n      this.http.get('https://cricppp.herokuapp.com/users/teams').subscribe(response =&gt; {\r\n        this.teams=response[\"teams\"];\r\n        this.teams.forEach((itm,indx) =&gt; {\r\n          if(itm.id==item.toss_won_team_id){\r\n            this.toss[index]=itm.name;\r\n            console.log('toss '+this.toss[index]+''+index);\r\n          }\r\n        });\r\n      });\r\n    }\r\n    else\r\n    {\r\n      this.toss[index]='no toss/no match';\r\n      console.log('toss '+this.toss[index]+''+index);\r\n    }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.storage.get('team1Id').then(paras1 =&gt; {\r\n      this.id1=paras1;\r\n    });\r\n    this.storage.get('team2Id').then(paras2 =&gt; {\r\n      this.id2=paras2;\r\n    });\r\n    this.delay(1000).then(any=&gt;{\r\n      this.url = 'https://cricppp.herokuapp.com/users/fixtures/'+this.id1+'/'+this.id2;\r\n      this.http.get(this.url).subscribe(response =&gt; {\r\n        this.fixture = response[\"allFixtures\"];\r\n        console.log(this.fixture[0].note);\r\n        this.fetchVenue();\r\n        this.fetchPlayer();\r\n        this.fetchToss();\r\n        });\r\n    });\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>here i have 3 final arrays player[]. toss[]. &amp; venue[]\ni wanted to display them sequentially in the html using ngFor but ngFor can iterate through 1 array only\n(i wanted to display them like <code>- player[0]-&gt;toss[0]-&gt;venue[0] ------- player[1]-&gt;toss[1]-&gt;venue[1]...</code>\nand so on... </p>\n\n<p>i was looking into models and/or array of objects but i cant get anything to work, i want to have a model like</p>\n\n<pre><code>export class Data{\n    public venue: string;\n    public toss: string;\n    public player: string;\n    }\n</code></pre>\n\n<p>but since i am new, i can't get it to work, whenever i try to assign data by using forEach it shows error <code>this.data[index]</code> is undefined.\n(i am doing data: <code>Data[]=[];</code>) (i also imported the model)\ni hope i am explaining correctly, i wanted to create an array where each element has 3 propertied venue, toss and player to which i can assign values.\nlike <code>this.data[index]=\"response from API\";</code>\njust like a json has, i also tried looking into array of objects but i cannot get it to work.\ni also read about services but i cant get this simple thing to work so i couldn't handle service either.\nplease help</p>\n"}, {"tags": ["typescript", "properties"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568821995, "post_id": 57996619, "comment_id": 102399787, "body": "If it&#39;s a function, how do you plan to call it?  Is it a zero-argument function or will it take a parameter?"}, {"owner": {"reputation": 404, "user_id": 5838942, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154490167622995/picture?type=large", "display_name": "Igino Boffa", "link": "https://stackoverflow.com/users/5838942/igino-boffa"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568822147, "post_id": 57996619, "comment_id": 102399870, "body": "It can be any function returning a number"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1568823141, "creation_date": 1568823141, "answer_id": 57996919, "question_id": 57996619, "link": "https://stackoverflow.com/questions/57996619/typescript-specify-function-return-type-when-declaring-a-property-of-type-func/57996919#57996919", "title": "Typescript: specify function return type when declaring a property of type &quot;Function&quot;", "body": "<p>The type signature for a function which takes an unspecified number of arguments and returns a number is</p>\n\n<pre><code>(...args: any) =&gt; number;\n</code></pre>\n\n<p>You can give it a name and use it like this:</p>\n\n<pre><code>type FunctionReturningNumber = (...args: any) =&gt; number;\n\nexport class FormElement {\n    min?: number | FunctionReturningNumber;\n    step?: number | FunctionReturningNumber;\n}\n\nconst formElement = new FormElement();\nformElement.min = 3; // okay\nformElement.min = () =&gt; 3; // okay\nformElement.min = (x: string, y: number, z: boolean) =&gt; 3; // okay\nformElement.min = () =&gt; \"whoopsie\"; // error! string is not number\n</code></pre>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play//#code/C4TwDgpgBAYgrgOwMbAJYHsECULDgJwVQQHMA5OAWwCMJ8oBeKACgDp2BDfEgZwC4oHBCACUjAHxQEVWvgDcAWABQyiAA8w6fMChIANhx49YWygFE9EShAQ6A3sqhOolYgH4B0mnSgAfWIgoGNi4BESkFN7yjs48wBBgHlIyPv7wyGiYOHiExOQp0UoAvsrKSJhxUABmphZWNjpMCBAA7ib45pbWtswiiko1HXXdwKyuCIxQAMxyUAD0c1DoANYcIMqDnfW2Y8STvRLTswtLq+sDtV0NuxNMzGoCcfh5ADRQIJ4FbwBeAtTo6EsQjEDEkM3mixWaw2l22o3G+xBkgARC0ABYAsA8VAQZHHRZ0fBaACEUCeeSgqGMCHQOi8slKKiUQA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 404, "user_id": 5838942, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154490167622995/picture?type=large", "display_name": "Igino Boffa", "link": "https://stackoverflow.com/users/5838942/igino-boffa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57996919, "answer_count": 1, "score": 0, "last_activity_date": 1568823141, "creation_date": 1568821871, "question_id": 57996619, "link": "https://stackoverflow.com/questions/57996619/typescript-specify-function-return-type-when-declaring-a-property-of-type-func", "title": "Typescript: specify function return type when declaring a property of type &quot;Function&quot;", "body": "<p>In this code:</p>\n\n<pre><code>export class FormElement {\n    ...\n    min?: number | Function;\n    step?: number | Function;\n    ...\n}\n</code></pre>\n\n<p>How can I specify that if I set a function in <code>min</code> or <code>step</code> it should return a number? \nIs it even necessary to specify that it can be a function? </p>\n"}, {"tags": ["typescript", "protractor", "mocha.js"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 6086008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1b7c70d53c2edf84e8d4673dce2d77a8?s=128&d=identicon&r=PG&f=1", "display_name": "user6086008", "link": "https://stackoverflow.com/users/6086008/user6086008"}, "edited": false, "score": 0, "creation_date": 1569171768, "post_id": 57998653, "comment_id": 102501001, "body": "The above solution give me error: <code>Cannot find name &#39;__stack&#39;</code>.   Also can you explain how the above solution is different from using just <code>console.log(__filename)</code> ?"}], "tags": [], "owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568830530, "creation_date": 1568830530, "answer_id": 57998653, "question_id": 57996248, "link": "https://stackoverflow.com/questions/57996248/get-file-name-from-protractor-test/57998653#57998653", "title": "get file name from Protractor test", "body": "<p>In your <code>conf.js</code> add this to <code>onPrepare</code></p>\n\n<pre><code>onPrepare() {\n\n        /**\n         *  Set global environment configuration\n         */\n        Object.defineProperty(global, '__stack', {\n            get: function () {\n                let orig = Error.prepareStackTrace;\n                Error.prepareStackTrace = function (_, stack) {\n                    return stack;\n                };\n                let err = new Error;\n                Error.captureStackTrace(err, arguments.callee);\n                let stack = err.stack;\n                Error.prepareStackTrace = orig;\n                return stack;\n            }\n        });\n\n        // returns name of the file from which is called\n        Object.defineProperty(global, '__file', {\n            get: function () {\n                let path = __stack[1].getFileName();\n                try { //*nix OSes\n                    return path.match(/[^\\/]+\\/[^\\/]+$/)[0];\n                } catch (error) { //Windows based OSes\n                    return path.match(/[^\\\\]+\\\\[^\\\\]+$/)[0];    \n                }\n            }\n        });\n        // returns function name from which is called\n        Object.defineProperty(global, '__function', {\n            get: function () {\n                return __stack[1].getFunctionName();\n            }\n        });\n        // returns line number of the position in code when called\n        Object.defineProperty(global, '__line', {\n            get: function () {\n                return __stack[1].getLineNumber();\n            }\n        });\n\n    },\n</code></pre>\n\n<p>and then if you run this anywhere in your framework (specs or page objects)</p>\n\n<pre><code>console.log(__file);\nconsole.log(__function);\nconsole.log(__line);\n</code></pre>\n\n<p>you'll get something like this accrodingly</p>\n\n<pre><code>// test.spec.js\n// funcName()\n// 56\n</code></pre>\n\n<p>Obviously you can adjust the code for your needs</p>\n"}], "owner": {"reputation": 103, "user_id": 6086008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1b7c70d53c2edf84e8d4673dce2d77a8?s=128&d=identicon&r=PG&f=1", "display_name": "user6086008", "link": "https://stackoverflow.com/users/6086008/user6086008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568830530, "creation_date": 1568820447, "question_id": 57996248, "link": "https://stackoverflow.com/questions/57996248/get-file-name-from-protractor-test", "title": "get file name from Protractor test", "body": "<p>I have many tests in my suites, and I want to print out the file name when, either running tests, or include the filename in all test failures. </p>\n\n<p>I can print out the specs with <code>console.log(config.specs)</code> in <code>browser.getProcessedConfig()</code>, but it only shows with the glob pattern, whereas I want the full file name. Ive tried <code>config.suites</code>, but it prints out ALL suites, not just the one run in the test.</p>\n\n<p>conf.shared.ts</p>\n\n<pre><code>await browser.getProcessedConfig().then(async function(config: any) {\n        });\n        console.log(config.specs)\n        console.log(config.suites)\n        return config.specs;\n</code></pre>\n\n<p>output from config.specs</p>\n\n<pre><code> '../../../../lib/tests/home/**/*.myparam*.js'\n</code></pre>\n\n<p>output from config.suites</p>\n\n<pre><code> mysuite:\n    '../../../../lib/tests/home/**/market/**/*.*.myfilename.js',\n  mysuite2:\n        '../../../../lib/tests/home/**/market2/**/*.*.myfilename.js',\n  mysuite3:\n        '../../../../lib/tests/home/**/market3/**/*.*.myfilename.js',\n  mysuite4:\n        '../../../../lib/tests/home/**/market4/**/*.*.myfilename.js'\n</code></pre>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 4538, "user_id": 1891625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa90a359777096c15258e207b3cb8b6c?s=128&d=identicon&r=PG", "display_name": "Vandesh", "link": "https://stackoverflow.com/users/1891625/vandesh"}, "edited": false, "score": 0, "creation_date": 1568820887, "post_id": 57996219, "comment_id": 102399149, "body": "It&#39;s not a valid array as you put it"}], "answers": [{"tags": [], "owner": {"reputation": 4538, "user_id": 1891625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa90a359777096c15258e207b3cb8b6c?s=128&d=identicon&r=PG", "display_name": "Vandesh", "link": "https://stackoverflow.com/users/1891625/vandesh"}, "is_accepted": false, "score": 2, "last_activity_date": 1568820838, "last_edit_date": 1568820838, "creation_date": 1568820435, "answer_id": 57996243, "question_id": 57996219, "link": "https://stackoverflow.com/questions/57996219/applying-filter-on-an-array-returns-an-empty-result/57996243#57996243", "title": "Applying &#39;filter&#39; on an array returns an empty result", "body": "<p>Your variable <code>myBelongings</code> is not a valid array. Assuming the array structure is corrected to - </p>\n\n<pre><code>const myBelongings = [\n{value: 0, label: \"Pen\"},\n{value: 1, label: \"Handbag\"},\n{value: 2, label: \"Notebook\"},\n{value: 3, label: \"Laptop\"}\n];\n</code></pre>\n\n<p>Either omit the {}, or add <code>return</code> to the function call if you want to keep the curlies</p>\n\n<pre><code>let result  = myBelongings .filter((item)=&gt; item.label == 'Notebook');\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>let result  = myBelongings .filter((item)=&gt;{ return item.label == 'Notebook'});\n</code></pre>\n\n<p>Check <a href=\"https://jsbin.com/degunefafe/edit?js,console\" rel=\"nofollow noreferrer\">this JSBin here</a></p>\n"}, {"comments": [{"owner": {"reputation": 660, "user_id": 9207742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2e7ce7a694a5bf3c1c2bbed4ac3785?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha Bravo Charlie ...", "link": "https://stackoverflow.com/users/9207742/alpha-bravo-charlie"}, "edited": false, "score": 0, "creation_date": 1568820741, "post_id": 57996261, "comment_id": 102399065, "body": "Thanks. I need to keep the curly braces, as the TSLint mandates."}, {"owner": {"reputation": 1279, "user_id": 9798989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dvXe.jpg?s=128&g=1", "display_name": "Abhisar Tripathi", "link": "https://stackoverflow.com/users/9798989/abhisar-tripathi"}, "reply_to_user": {"reputation": 660, "user_id": 9207742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2e7ce7a694a5bf3c1c2bbed4ac3785?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha Bravo Charlie ...", "link": "https://stackoverflow.com/users/9207742/alpha-bravo-charlie"}, "edited": false, "score": 1, "creation_date": 1568820935, "post_id": 57996261, "comment_id": 102399175, "body": "Then we can just add a <code>return</code>."}], "tags": [], "owner": {"reputation": 1279, "user_id": 9798989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dvXe.jpg?s=128&g=1", "display_name": "Abhisar Tripathi", "link": "https://stackoverflow.com/users/9798989/abhisar-tripathi"}, "is_accepted": false, "score": 1, "last_activity_date": 1568822729, "last_edit_date": 1568822729, "creation_date": 1568820503, "answer_id": 57996261, "question_id": 57996219, "link": "https://stackoverflow.com/questions/57996219/applying-filter-on-an-array-returns-an-empty-result/57996261#57996261", "title": "Applying &#39;filter&#39; on an array returns an empty result", "body": "<p>You just need to replace <code>.value</code> with <code>.label</code>, also we need to remove the curly braces.</p>\n\n<pre><code>let result  = myBelongings .filter((item)=&gt; item.value == 'Notebook');\n</code></pre>\n\n<p>or </p>\n\n<pre><code>let result  = myBelongings .filter((item)=&gt; { return item.value == 'Notebook' });\n</code></pre>\n"}], "owner": {"reputation": 660, "user_id": 9207742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2e7ce7a694a5bf3c1c2bbed4ac3785?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha Bravo Charlie ...", "link": "https://stackoverflow.com/users/9207742/alpha-bravo-charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568822729, "creation_date": 1568820356, "last_edit_date": 1568820546, "question_id": 57996219, "link": "https://stackoverflow.com/questions/57996219/applying-filter-on-an-array-returns-an-empty-result", "title": "Applying &#39;filter&#39; on an array returns an empty result", "body": "<p>I have an array called 'myBelongings'. I need to filter the array based on a specific condition, which is item(s) with label 'Notebook'. Here is my code:</p>\n\n<pre><code>myBelongings = [\n0: {value: 0, label: \"Pen\"}\n1: {value: 1, label: \"Handbag\"}\n2: {value: 2, label: \"Notebook\"}\n2: {value: 3, label: \"Laptop\"}\n];\n\nlet result  = myBelongings .filter((item)=&gt;{ item.value== 'Notebook'});\n</code></pre>\n\n<p>However the result turns out to be an empty array. Could you help me find the fix?</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 111, "user_id": 2132866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UY7tV.jpg?s=128&g=1", "display_name": "user2132866", "link": "https://stackoverflow.com/users/2132866/user2132866"}, "edited": false, "score": 0, "creation_date": 1568904503, "post_id": 57996208, "comment_id": 102431466, "body": "For the moment, the solution is a downgrade (0.7.2) of the external library which doesn&#39;t overwrite promises"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 0, "last_activity_date": 1568821258, "last_edit_date": 1568821258, "creation_date": 1568820710, "answer_id": 57996326, "question_id": 57996208, "link": "https://stackoverflow.com/questions/57996208/zone-js-has-detected-that-zoneawarepromise-windowglobal-promise-has-been-ov/57996326#57996326", "title": "Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten", "body": "<p>Not sure but you can try this.</p>\n\n<p>Add these into your polyfill</p>\n\n<pre><code>import 'core-js/es6';\nimport 'core-js/es7/reflect';\nimport \"zone.js/dist/zone\";\n</code></pre>\n\n<p>Few link to try out</p>\n\n<p><a href=\"https://github.com/angular/zone.js/issues/465\" rel=\"nofollow noreferrer\">https://github.com/angular/zone.js/issues/465</a></p>\n\n<p><a href=\"https://github.com/angular/angular/issues/31724\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/31724</a></p>\n"}, {"comments": [{"owner": {"reputation": 316, "user_id": 874425, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fabf42b3471da99fc99bc0f52953372?s=128&d=identicon&r=PG&f=1", "display_name": "K. Roland", "link": "https://stackoverflow.com/users/874425/k-roland"}, "edited": false, "score": 0, "creation_date": 1590391520, "post_id": 59889627, "comment_id": 109651843, "body": "This will mess up the tests, when it tries to import zone."}], "tags": [], "owner": {"reputation": 39, "user_id": 4396672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a86e3b9a76f88a3dbab5caeff0cfc2be?s=128&d=identicon&r=PG", "display_name": "Matthew Kernes", "link": "https://stackoverflow.com/users/4396672/matthew-kernes"}, "is_accepted": false, "score": 3, "last_activity_date": 1579832368, "creation_date": 1579832368, "answer_id": 59889627, "question_id": 57996208, "link": "https://stackoverflow.com/questions/57996208/zone-js-has-detected-that-zoneawarepromise-windowglobal-promise-has-been-ov/59889627#59889627", "title": "Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten", "body": "<p>For those still looking for a VERY easy fix for this, this is what worked for me.</p>\n\n<p>Step 1) Move your <code>import 'zone/dist/...'</code> stuff from your <code>polyfill.ts</code> file to your <code>main.ts</code> file before your bootstrap.</p>\n\n<p>So in your <code>main.ts</code> file, you should have something like:</p>\n\n<pre><code>import 'zone.js/dist/zone'  // Included with Angular CLI.\n\nplatformBrowserDynamic()\n    .bootstrapModule(AppModule, { ngZone: new NgZone({}) })\n</code></pre>\n\n<p>And just be sure you've totally removed it from your <code>polyfill.ts</code> file</p>\n\n<p>Step 2) Profit.</p>\n\n<hr>\n\n<p>OK, so let me explain what's actually happening (that I noticed):</p>\n\n<p>There's a race condition where occasionally the polyfilled promise gets added AFTER the <code>zone.js</code> module overrides the native promise. This is what causes Zone to recognize that it's been replaced and throw that error.</p>\n\n<p>This happened regardless of the order in the <code>polyfill.ts</code> I put the imports in.</p>\n\n<p>I originally tried putting the loader for <code>zone.js</code> in a timeout with a short timer (100ms). This worked to prevent the error message we're all seeing, but occasionally didn't fire fast enough to load the <code>zone.js</code> module <strong>before</strong> hitting the bootstrap.</p>\n\n<p>So obviously this was causing a race condition. (Of my own making.) </p>\n\n<p>The thought then was to make the <code>zone.js</code> import OFFICIALLY last before loading the bootstrap. I wanted to make sure that was going to work:</p>\n\n<p>I was able to test this by putting a <code>console.log</code> in the <code>main.ts</code> and the <code>polyfill.ts</code> files. What I saw was that the <code>polyfill.ts</code> is always loaded before the <code>main.ts</code>.</p>\n\n<p>So placing the <code>import 'zone.js/dist/zone'</code> line in the <code>main.ts</code> solves this problem once and for all. Then your <code>polyfill.ts</code> file is free to pull in and load any modules necessary before getting that <code>zone.js</code> file imported.</p>\n"}], "owner": {"reputation": 111, "user_id": 2132866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UY7tV.jpg?s=128&g=1", "display_name": "user2132866", "link": "https://stackoverflow.com/users/2132866/user2132866"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1579832368, "creation_date": 1568820328, "last_edit_date": 1571912593, "question_id": 57996208, "link": "https://stackoverflow.com/questions/57996208/zone-js-has-detected-that-zoneawarepromise-windowglobal-promise-has-been-ov", "title": "Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten", "body": "<p>I'm trying to use Typeform library in my application, but I have a lot problems with it. After loading the js scripts, the Angular zone is wrong and I get this message:</p>\n\n<blockquote>\n  <p>Error: Zone.js has detected that ZoneAwarePromise <code>(window|global).Promise</code> has been overwritten.\n  Most likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)</p>\n</blockquote>\n\n<p>The code of my app.component.ts is:</p>\n\n<pre><code>import { Component, Inject, AfterViewInit} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as typeformEmbed from '@typeform/embed';\n\n@Component({\n  selector: 'my-app',\n  template: `&lt;div #my_typeform&gt;&lt;/div&gt;`,\n})\n\n\nexport class AppComponent implements AfterViewInit {\n  constructor(\n    @Inject(DOCUMENT) private document: Document\n  ){}\n\n  ngAfterViewInit() {\n    const element = this.document.getElementById.call(document, 'my_typeform');\n    typeformEmbed.makeWidget(element, 'https://jonathan.typeform.com/to/zvlr4L', { onSubmit: () =&gt; console.log('Close') });\n  }\n}\n\n</code></pre>\n\n<p>I have tried to run manually ngZone to ensure that it's ran inside Angular zone, but didn't work. In this case, app.component.ts was like </p>\n\n<pre><code>import { Component, Inject, AfterViewInit, NgZone} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as typeformEmbed from '@typeform/embed';\n\n@Component({\n  selector: 'my-app',\n  template: `&lt;div #my_typeform&gt;&lt;/div&gt;`,\n})\n\n\nexport class AppComponent implements AfterViewInit {\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    @Inject(NgZone) private ngZone: NgZone\n  ){}\n\n  ngAfterViewInit() {\n    this.ngZone.run(() =&gt; {\n      const element = this.document.getElementById.call(document, 'my_typeform');\n      typeformEmbed.makeWidget(element, 'https://jonathan.typeform.com/to/zvlr4L', { onSubmit: () =&gt; console.log('Close') });\n    });\n  }\n}\n\n</code></pre>\n\n<p>I have also tried to import 'zone.js/dist/zone-patch-rxjs' in my polyfill.ts file, but it didn't work either.</p>\n\n<p>You can see a project with the minimal code to reproduce it in <a href=\"https://stackblitz.com/edit/angular-issue-repro2-daytbo\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-issue-repro2-daytbo</a> </p>\n\n<p>Any clue or help is really welcome! </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1599, "user_id": 10761855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922c17d0f874828a961bff1490bf451?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Hulevich", "link": "https://stackoverflow.com/users/10761855/vadim-hulevich"}, "edited": false, "score": 1, "creation_date": 1568820428, "post_id": 57996179, "comment_id": 102398859, "body": "why you dont want like this <code>&quot;123,123.11&quot;.replace(&#39;,&#39;, &#39;&#39;)</code> ?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 1599, "user_id": 10761855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922c17d0f874828a961bff1490bf451?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Hulevich", "link": "https://stackoverflow.com/users/10761855/vadim-hulevich"}, "edited": false, "score": 1, "creation_date": 1568820482, "post_id": 57996179, "comment_id": 102398896, "body": "@VadimHulevich wouldn&#39;t <code>.replace(&#47;,&#47;g, &#39;&#39;)</code> be better?"}, {"owner": {"reputation": 1599, "user_id": 10761855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922c17d0f874828a961bff1490bf451?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Hulevich", "link": "https://stackoverflow.com/users/10761855/vadim-hulevich"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1568820603, "post_id": 57996179, "comment_id": 102398974, "body": "@GetOffMyLawn simple replace much faster (better performance) then regexp"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1568820824, "post_id": 57996179, "comment_id": 102399101, "body": "But what if there is more than one comma?"}], "answers": [{"tags": [], "owner": {"reputation": 11613, "user_id": 254103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1d831e55e55ef474d5cf21b6217b540?s=128&d=identicon&r=PG", "display_name": "Josnidhin", "link": "https://stackoverflow.com/users/254103/josnidhin"}, "is_accepted": false, "score": 1, "last_activity_date": 1568820987, "last_edit_date": 1568820987, "creation_date": 1568820619, "answer_id": 57996289, "question_id": 57996179, "link": "https://stackoverflow.com/questions/57996179/replace-comma-with-point-and-remove-all-points-but-last-regex/57996289#57996289", "title": "Replace comma with point and remove all points but last regex", "body": "<p>Assuming its all number with ',' and '.' you can use the following <code>/[^0-9](?=.*\\.)/g</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let val = '123,123,123.11'\r\n\r\nval = val ? val.replace(/[^0-9](?=.*\\.)/g, '') : '';\r\n\r\nconsole.log(val)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "is_accepted": false, "score": 1, "last_activity_date": 1568820627, "creation_date": 1568820627, "answer_id": 57996292, "question_id": 57996179, "link": "https://stackoverflow.com/questions/57996179/replace-comma-with-point-and-remove-all-points-but-last-regex/57996292#57996292", "title": "Replace comma with point and remove all points but last regex", "body": "<p><strong>Yes</strong>, via <code>/,|\\.(?=.*\\.)/</code></p>\n\n<p>The idea is to use the RegEx <code>|</code> (pipe) character to match and replace all commas in addition to the periods you're matching.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let val = '123,123.11'\r\n\r\nval = val ? val.replace(/,|\\.(?=.*\\.)/g, '') : '';\r\n\r\nconsole.log(val)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1599, "user_id": 10761855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922c17d0f874828a961bff1490bf451?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Hulevich", "link": "https://stackoverflow.com/users/10761855/vadim-hulevich"}, "is_accepted": false, "score": 1, "last_activity_date": 1568820988, "last_edit_date": 1568820988, "creation_date": 1568820705, "answer_id": 57996322, "question_id": 57996179, "link": "https://stackoverflow.com/questions/57996179/replace-comma-with-point-and-remove-all-points-but-last-regex/57996322#57996322", "title": "Replace comma with point and remove all points but last regex", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    const result =  \"55,123,123.11\".replace(/,/g, '');\r\n    console.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1568820793, "creation_date": 1568820793, "answer_id": 57996349, "question_id": 57996179, "link": "https://stackoverflow.com/questions/57996179/replace-comma-with-point-and-remove-all-points-but-last-regex/57996349#57996349", "title": "Replace comma with point and remove all points but last regex", "body": "<p>If you would like a non-regex solution, you could split on the commas and join with an empty string.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log('123,123.11'.split(',').join(''))\r\n\r\nconsole.log('123,456,789.987'.split(',').join(''))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1568830435, "creation_date": 1568820207, "last_edit_date": 1568830435, "question_id": 57996179, "link": "https://stackoverflow.com/questions/57996179/replace-comma-with-point-and-remove-all-points-but-last-regex", "title": "Replace comma with point and remove all points but last regex", "body": "<p>I want to do the following: change comma separator to point and remove all points but last (e.g. 123,123.11 -> 123.123.11 -> 123123.11)</p>\n\n<p>this is how I do it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let val = '123,123.11'\r\n\r\nval = val ? val.replace(',', '.').replace(/\\.(?=.*\\.)/g, '') : '';\r\n\r\nconsole.log(val)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>is it possible to do it with just one replace instead of two?\n(I'm pretty sure it is, but I'm noob at regex, so would appreciate all answers as well as how you learned regex)</p>\n\n<p>stupid me just realized why I was changing all commas to points first because if I switch to german language the number becomes <code>42.334,83</code>my formatting becomes incorrect with <code>.replace(/,/g, '') : ''</code>, so I firstly change all commas to points and then removed all points except last, but that seems such a clumsy solution</p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "mongoose", "middleware"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1568820272, "post_id": 57996050, "comment_id": 102398769, "body": "what is supposed to happen when the two id values match or do not match?"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 4, "creation_date": 1568825844, "post_id": 57996050, "comment_id": 102401461, "body": "Please don&#39;t just post and disappear.  Your best chance for help comes from the first people who engage and if you are not around, people go on to other things and others see a lack of engagement."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12085865, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkYmCv_Rhd4/AAAAAAAAAAI/AAAAAAAAADc/5rWz_b-05L0/photo.jpg?sz=128", "display_name": "jipson saad", "link": "https://stackoverflow.com/users/12085865/jipson-saad"}, "edited": false, "score": 0, "creation_date": 1568929510, "post_id": 57996183, "comment_id": 102441988, "body": "only pass the comparison block when the rolModel._id is different, doesn&#39;t work if is iqual."}, {"owner": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "reply_to_user": {"reputation": 23, "user_id": 12085865, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkYmCv_Rhd4/AAAAAAAAAAI/AAAAAAAAADc/5rWz_b-05L0/photo.jpg?sz=128", "display_name": "jipson saad", "link": "https://stackoverflow.com/users/12085865/jipson-saad"}, "edited": false, "score": 0, "creation_date": 1568963495, "post_id": 57996183, "comment_id": 102449507, "body": "Ok, I get it, we are comparing MongoDB <code>ObjectId</code> here. I&#39;ve updated my answer."}, {"owner": {"reputation": 23, "user_id": 12085865, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkYmCv_Rhd4/AAAAAAAAAAI/AAAAAAAAADc/5rWz_b-05L0/photo.jpg?sz=128", "display_name": "jipson saad", "link": "https://stackoverflow.com/users/12085865/jipson-saad"}, "edited": false, "score": 1, "creation_date": 1569171443, "post_id": 57996183, "comment_id": 102500903, "body": "Thanks for the understandable and clear answer,  now I understand much better how mongodb works."}, {"owner": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "reply_to_user": {"reputation": 23, "user_id": 12085865, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkYmCv_Rhd4/AAAAAAAAAAI/AAAAAAAAADc/5rWz_b-05L0/photo.jpg?sz=128", "display_name": "jipson saad", "link": "https://stackoverflow.com/users/12085865/jipson-saad"}, "edited": false, "score": 0, "creation_date": 1569171549, "post_id": 57996183, "comment_id": 102500934, "body": "Glad to help! You can accept and upvote the answer so that future readers know that it\u2019s correct."}], "tags": [], "owner": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "is_accepted": true, "score": 0, "last_activity_date": 1568963452, "last_edit_date": 1568963452, "creation_date": 1568820247, "answer_id": 57996183, "question_id": 57996050, "link": "https://stackoverflow.com/questions/57996050/i-dont-understand-why-my-verification-middleware-behaves-this-way/57996183#57996183", "title": "I don&#39;t understand why my verification middleware behaves this way", "body": "<p>As you state yourself, you are doing the opposite of what you want. In addition, MongoDB returns ids as <code>ObjectId</code> instead of <code>string</code>, so equality check will always return <code>false</code>. If both objects are <code>ObjectId</code>, you should use the <a href=\"https://mongodb.github.io/node-mongodb-native/api-bson-generated/objectid.html#equals\" rel=\"nofollow noreferrer\"><code>.equals</code> method</a>:</p>\n\n<pre><code>// If user has not the required role, throw a 401\nif (!user.rol_id.equals(rolModel._id)) {\n    return res.status(401).json({message: 'No se encuentra autorizado'});\n// Else, continue to the next middleware\n} else {\n    console.log(':O');\n    next();\n}\n</code></pre>\n\n<p>Otherwise, you can cast the <code>ObjectId</code> into a string:</p>\n\n<pre><code>if (rolMode._id.toString() !== user.rol_id)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12085865, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkYmCv_Rhd4/AAAAAAAAAAI/AAAAAAAAADc/5rWz_b-05L0/photo.jpg?sz=128", "display_name": "jipson saad", "link": "https://stackoverflow.com/users/12085865/jipson-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 57996183, "answer_count": 1, "score": 0, "last_activity_date": 1568963452, "creation_date": 1568819785, "question_id": 57996050, "link": "https://stackoverflow.com/questions/57996050/i-dont-understand-why-my-verification-middleware-behaves-this-way", "title": "I don&#39;t understand why my verification middleware behaves this way", "body": "<p>In the last comparison block, I am comparing if the user.rol_id is not equal to the id of the role, the strange thing is that it should be the opposite according to the logic, so, I appreciate any explanation of what is happening in that comparison.</p>\n\n<pre><code>export function verifyRol(rol: string){\n    return async (req: Request, res: Response, next: NextFunction) =&gt; {\n        const id = res.locals.jwtPayload.id;\n        let user, rolModel;\n        try {\n            user = await User.findById(id);\n            if (!user) return res.status(404).json({message: 'No se encuentra el usuario'});\n\n            rolModel = await Rol.findOne({type_user: 1, name: rol});\n            if (!rolModel) return res.status(404).json({message: 'No se encuentra el rol'});\n\n\n            if (user.rol_id !== rolModel._id) {\n                console.log(':O');\n                next();\n            }else {\n                return res.status(401).json({message: 'No se encuentra autorizado'});\n            }\n\n        } catch (error) {\n            return res.status(401).json({message: 'No se encuentra autorizado'});\n        }\n    }\n}\n</code></pre>\n\n<p>I'm using TypeScript with NodeJS and MongoDB</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 1354, "user_id": 874800, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/befd8d5ba58b09571283cd3f0b8fba48?s=128&d=identicon&r=PG", "display_name": "Wassim Sboui", "link": "https://stackoverflow.com/users/874800/wassim-sboui"}, "edited": false, "score": 0, "creation_date": 1568881850, "post_id": 57996115, "comment_id": 102418304, "body": "Hi Ricardo, what if i want to add the sum of all count attributes by level ? Thank you"}, {"owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "reply_to_user": {"reputation": 1354, "user_id": 874800, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/befd8d5ba58b09571283cd3f0b8fba48?s=128&d=identicon&r=PG", "display_name": "Wassim Sboui", "link": "https://stackoverflow.com/users/874800/wassim-sboui"}, "edited": false, "score": 0, "creation_date": 1568885269, "post_id": 57996115, "comment_id": 102420150, "body": "Can you put an example of the json?"}, {"owner": {"reputation": 1354, "user_id": 874800, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/befd8d5ba58b09571283cd3f0b8fba48?s=128&d=identicon&r=PG", "display_name": "Wassim Sboui", "link": "https://stackoverflow.com/users/874800/wassim-sboui"}, "edited": false, "score": 0, "creation_date": 1568886594, "post_id": 57996115, "comment_id": 102420885, "body": "I modified the json example in the question above"}], "tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": true, "score": 4, "last_activity_date": 1568819992, "creation_date": 1568819992, "answer_id": 57996115, "question_id": 57995932, "link": "https://stackoverflow.com/questions/57995932/build-json-from-javascript-array-recursively/57996115#57996115", "title": "Build JSON from JavaScript array recursively", "body": "<p>You can use the map function together with the recursive function like this:</p>\n\n<pre><code>function MapObject(object) {\n  if(!object || object.length &lt; 0) return [];\n\n  return object.map(obj =&gt; { return {\n      name: obj.Description,\n      children: MapObject(obj.Subclasses)\n  }});\n}\n</code></pre>\n\n<p>Follows a full work example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var example = [{\r\n    Description: \"Product\",\r\n    IsInstanciable: false,\r\n    IsMasked: false,\r\n    Name: \"ProductBase\",\r\n    Subclasses: [{\r\n      Description: \"Product2\",\r\n      IsInstanciable: false,\r\n      IsMasked: false,\r\n      Name: \"ProductBase2\",\r\n      Subclasses:[]\r\n    },\r\n    {\r\n      Description: \"Product3\",\r\n      IsInstanciable: false,\r\n      IsMasked: false,\r\n      Name: \"ProductBase3\",\r\n      Subclasses:[]\r\n    }]\r\n},\r\n{\r\n    Description: \"Product4\",\r\n    IsInstanciable: false,\r\n    IsMasked: false,\r\n    Name: \"ProductBase4\"\r\n}]\r\n\r\nfunction MapObject(object) {\r\n  if(!object || object.length &lt; 0) return [];\r\n  \r\n  return object.map(obj =&gt; { return {\r\n      name: obj.Description,\r\n      children: MapObject(obj.Subclasses)\r\n  }});\r\n}\r\n\r\nconsole.log(MapObject(example));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 1, "last_activity_date": 1568942680, "creation_date": 1568942680, "answer_id": 58020630, "question_id": 57995932, "link": "https://stackoverflow.com/questions/57995932/build-json-from-javascript-array-recursively/58020630#58020630", "title": "Build JSON from JavaScript array recursively", "body": "<p>I would break this down into a few separate functions with clear responsibilities:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const sum = (ns) =&gt; \r\n  ns .reduce ((a, b) =&gt; a + Number (b), 0)\r\n\r\nconst getCount = (product) =&gt; \r\n  (product .Count || 0) + sum ((product .Subclasses || []) .map (getCount))\r\n\r\nconst extract = (product) =&gt; \r\n  ({\r\n    name: product .Name,\r\n    count: getCount (product),\r\n    children: product .Subclasses .map (extract)\r\n  })\r\n\r\nconst extractAll = (products) =&gt; \r\n  products .map (extract)\r\n\r\nconst products = [{\"Description\": \"Product\", \"IsInstanciable\": false, \"IsMasked\": false, \"Name\": \"ProductBase\", \"Subclasses\": [{\"Count\": 5, \"Description\": \"Product2\", \"IsInstanciable\": false, \"IsMasked\": false, \"Name\": \"ProductBase2\", \"Subclasses\": []}, {\"Count\": 4, \"Description\": \"Product3\", \"IsInstanciable\": false, \"IsMasked\": false, \"Name\": \"ProductBase3\", \"Subclasses\": []}]}, {\"Count\": 3, \"Description\": \"Product4\", \"IsInstanciable\": false, \"IsMasked\": false, \"Name\": \"ProductBase4\", \"Subclasses\": []}]\r\n\r\nconsole .log (\r\n  extractAll (products)\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>(Note that I changed the case of the output <code>count</code> property.  It just seemed more consistent with <code>name</code> and <code>children</code>.)</p>\n\n<p>We recur through the object to get its <code>Count</code> property, and we recur separately to get the rest of the object.  While there might be a way to combine these, I would expect that the code would be significantly more complex.</p>\n\n<p>Note that I assumed that all <code>Count</code> properties are actually numeric, although your example above includes a string.  If you do have values like <code>\"3\"</code>, then <code>getCount</code> will need to be a little more sophisticated.</p>\n"}], "owner": {"reputation": 1354, "user_id": 874800, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/befd8d5ba58b09571283cd3f0b8fba48?s=128&d=identicon&r=PG", "display_name": "Wassim Sboui", "link": "https://stackoverflow.com/users/874800/wassim-sboui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 57996115, "answer_count": 2, "score": 3, "last_activity_date": 1595948969, "creation_date": 1568819412, "last_edit_date": 1595948969, "question_id": 57995932, "link": "https://stackoverflow.com/questions/57995932/build-json-from-javascript-array-recursively", "title": "Build JSON from JavaScript array recursively", "body": "<p>I want to build a JSON object from an array returned from http request\nmy actual array look like:</p>\n<pre><code>[{\n    Description: &quot;Product&quot;\n    IsInstanciable: false\n    IsMasked: false\n    Name: &quot;ProductBase&quot;\n    Subclasses: [{\n      Description: &quot;Product2&quot;\n      IsInstanciable: false\n      IsMasked: false\n      Name: &quot;ProductBase2&quot;,\n      Count: 5,\n      Subclasses:[]\n    },\n    {\n      Description: &quot;Product3&quot;\n      IsInstanciable: false\n      IsMasked: false\n      Name: &quot;ProductBase3&quot;,\n      Count: 4,\n      Subclasses:[],\n    }]\n},\n{\n    Description: &quot;Product4&quot;\n    IsInstanciable: false\n    IsMasked: false\n    Name: &quot;ProductBase4&quot;,\n    Count: '...',\n    Subclasses: [...]\n}\n</code></pre>\n<p>I want to create a JSON object recursively from the array above. It will look like this:</p>\n<pre><code>[\n  {\n    name: 'Product',\n    Count: 9,\n    children: [\n      {name: 'Product2'},\n      {name: 'Product3'},\n    ]\n  }, {\n    name: 'Product4',\n    children: [\n      {\n        name: '...',\n        Count: 'Sum of Count in all children by level'\n        children: [\n          {name: '...'},\n          {name: '...'},\n        ]\n      }\n    ]\n  },\n];\n</code></pre>\n<p>Here is my recursively function in typescript but it doesn't work as expected. How can I fix this?</p>\n<pre class=\"lang-js prettyprint-override\"><code>recursive(data, stack: TreeNode[]) {\n    let elt: TreeNode = {name:'', children: []}\n    if(data.Subclasses.length &gt; 0) {\n      elt.name = data.Description;\n      data.Subclasses.forEach(element =&gt; {\n        elt.children.push({name: element.Description});\n        this.recursive(element, stack);\n      });\n    }else {\n      elt.name = data.Description;\n    }\n    stack.push(elt);\n  }\n</code></pre>\n"}, {"tags": ["typescript", "backend", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 4430, "user_id": 2690790, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/810ebc2ef00faac83286d2bb892f38cd?s=128&d=identicon&r=PG", "display_name": "skovy", "link": "https://stackoverflow.com/users/2690790/skovy"}, "is_accepted": false, "score": 0, "last_activity_date": 1568820393, "creation_date": 1568820393, "answer_id": 57996233, "question_id": 57995802, "link": "https://stackoverflow.com/questions/57995802/why-does-vs-code-not-recognize-dirname/57996233#57996233", "title": "Why does VS-Code not Recognize &quot;__dirname&quot;?", "body": "<p>Have you installed the node types?</p>\n\n<pre><code>npm i @types/node --save-dev\nyarn add -D @types/node\n</code></pre>\n\n<p>The <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/acb3cb292ba5dcebfbe70f260c1beb55588f0750/types/node/globals.d.ts#L171\" rel=\"nofollow noreferrer\">node types define the global <code>__dirname</code></a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 12052739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3df0b73daca5ba9bf1055e68b1f18f33?s=128&d=identicon&r=PG&f=1", "display_name": "MiQu", "link": "https://stackoverflow.com/users/12052739/miqu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568820783, "creation_date": 1568818930, "last_edit_date": 1568820783, "question_id": 57995802, "link": "https://stackoverflow.com/questions/57995802/why-does-vs-code-not-recognize-dirname", "title": "Why does VS-Code not Recognize &quot;__dirname&quot;?", "body": "<p>Im currently working on a backend project where I need to read out data from a JSon File but VS Code does not recognize the variable \"__dirname\".</p>\n\n<p>I have tried different things in case of changing my code but none worked.</p>\n\n<pre><code>private ourPathToFile = `${__dirname} ~/Desktop/richwood/dhbw-richie-backend/dhbw-third-semester-training-data/training-data.json`\n</code></pre>\n\n<p>Cannot find name '__dirname'</p>\n"}, {"tags": ["typescript", "decorator", "web-component", "typescript-decorator"], "comments": [{"owner": {"reputation": 8063, "user_id": 192153, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63eb22c56488dcb166a12eae42f29696?s=128&d=identicon&r=PG", "display_name": "Justin Fagnani", "link": "https://stackoverflow.com/users/192153/justin-fagnani"}, "edited": false, "score": 1, "creation_date": 1568830833, "post_id": 57995630, "comment_id": 102403384, "body": "You don&#39;t need to clean up listeners like that. The browser will collect the element and the listeners at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 2081434, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/af83cdcf58f688455b5e115b5459df4f?s=128&d=identicon&r=PG", "display_name": "doplumi", "link": "https://stackoverflow.com/users/2081434/doplumi"}, "edited": false, "score": 0, "creation_date": 1568895776, "post_id": 57998693, "comment_id": 102425959, "body": "If the mixin is to avoid the method chain for performance reasons, I made a new version that avoids both the method chain and the need for a mixin. What do you think? <a href=\"https://stackblitz.com/edit/lit-element-hello-world-ouyx5w?file=listen.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 8063, "user_id": 192153, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63eb22c56488dcb166a12eae42f29696?s=128&d=identicon&r=PG", "display_name": "Justin Fagnani", "link": "https://stackoverflow.com/users/192153/justin-fagnani"}, "reply_to_user": {"reputation": 2413, "user_id": 2081434, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/af83cdcf58f688455b5e115b5459df4f?s=128&d=identicon&r=PG", "display_name": "doplumi", "link": "https://stackoverflow.com/users/2081434/doplumi"}, "edited": false, "score": 1, "creation_date": 1568911336, "post_id": 57998693, "comment_id": 102434907, "body": "I just don&#39;t think property decorators should be messing with the class prototype like that. The other class members are for the class and its superclass to define. Mutating prototype is also not friendly to the VM."}], "tags": [], "owner": {"reputation": 8063, "user_id": 192153, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63eb22c56488dcb166a12eae42f29696?s=128&d=identicon&r=PG", "display_name": "Justin Fagnani", "link": "https://stackoverflow.com/users/192153/justin-fagnani"}, "is_accepted": false, "score": 1, "last_activity_date": 1568830680, "creation_date": 1568830680, "answer_id": 57998693, "question_id": 57995630, "link": "https://stackoverflow.com/questions/57995630/how-do-i-call-a-method-on-a-future-instance-inside-of-a-method-decorator/57998693#57998693", "title": "How do I call a method on a future instance inside of a method decorator?", "body": "<p>I would add a method to the class for registering static listeners.</p>\n\n<pre><code>export const listen = (eventName) =&gt;\n  (proto, methodName, descriptor) =&gt; {\n    const ctor = proto.constructor;\n    if (!('addStaticEventListener' in ctor)) {\n      throw new Error('The decorated class must have an ' + \n          'addStaticEventListener static method');\n    }\n    ctor.addStaticEventListener(eventName, proto[methodName]);\n  };\n};\n\nexport const StaticListeners = (base) =&gt; class extends base {\n  static __staticEventListeners = [];\n  static addStaticEventListener(eventName, method) {\n    this.__staticEventListeners.push({eventName, method});\n  }\n\n  constructor(...args) {\n    super(...args);\n    for (const {eventName, method} of this.constructor.__staticEventListeners) {\n      this.addEventListener(eventName, method.bind(this));\n    }\n  }\n};\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>class MyElement extends StaticListeners(HTMLElement) {\n  @listen('click')\n  log() {\n    console.log('log');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 2081434, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/af83cdcf58f688455b5e115b5459df4f?s=128&d=identicon&r=PG", "display_name": "doplumi", "link": "https://stackoverflow.com/users/2081434/doplumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568831096, "creation_date": 1568818381, "last_edit_date": 1568831096, "question_id": 57995630, "link": "https://stackoverflow.com/questions/57995630/how-do-i-call-a-method-on-a-future-instance-inside-of-a-method-decorator", "title": "How do I call a method on a future instance inside of a method decorator?", "body": "<p>I want to implement an <code>@listen(eventType)</code> decorator factory. It will return a decorator you can place on a method of a web component class when you want that method to be invoked when <code>eventType</code> is fired.</p>\n\n<h2>Usage</h2>\n\n<pre><code>class MyElement extends HTMLElement {\n  //...\n  @listen('click')\n  log() {\n    console.log('log');\n  }\n}\n</code></pre>\n\n<p>Code above would print 'log' to the console every time the component instance is clicked.</p>\n\n<h2>Implementation idea</h2>\n\n<p>Add a call to <code>addEventListener</code> inside of the class constructor and replace the current definition of <code>disconnectedCallback</code> with a version of <code>disconnectedCallback</code> where <code>removeEventListener</code> is called, to avoid memory leaks.</p>\n\n<h2>Implementation</h2>\n\n<pre><code>export function listen (\n  eventName,\n) {\n  return function (\n    proto, \n    methodName, \n    descriptor\n  ) {\n    // add listener when element is constructed\n    const oldConstructor= proto.constructor;\n    proto.constructor = function (...args) {\n      this.addEventListener(eventType, descriptor.value);\n      return oldConstructor.apply(this, ...args);\n    };\n\n    // remove listener to avoid leaking memory\n    const oldDisconnectedCallback = proto.disconnectedCallback;\n    proto.disconnectedCallback = function (...args) {\n      this.removeEventListener(eventType, descriptor.value);\n      return oldChange.apply(this, ...args);\n    };\n  };\n}\n</code></pre>\n\n<p>Albeit the method substitution trick works for the disconnectedCallback (and any other) method, it doesn't work on the constructor.</p>\n\n<h2>REPL</h2>\n\n<p>Here's an interactive version of the implementation: <a href=\"https://stackblitz.com/edit/lit-element-hello-world-ec1lwz?file=listen.js\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/lit-element-hello-world-ec1lwz?file=listen.js</a></p>\n"}, {"tags": ["javascript", "html", "typescript", "chromium", "web-worker"], "comments": [{"owner": {"reputation": 20631, "user_id": 1422124, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7gX80.jpg?s=128&g=1", "display_name": "Prinzhorn", "link": "https://stackoverflow.com/users/1422124/prinzhorn"}, "edited": false, "score": 1, "creation_date": 1570783364, "post_id": 57995608, "comment_id": 103030959, "body": "It looks like the <a href=\"https://github.com/whatwg/html/issues/923\" rel=\"nofollow noreferrer\">spec</a> was updated to allow <a href=\"https://github.com/whatwg/html/issues/923#issuecomment-204006276\" rel=\"nofollow noreferrer\">this use case</a>. I fear no browser has implemented this yet? I cannot find a way to make it work either."}, {"owner": {"reputation": 20631, "user_id": 1422124, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7gX80.jpg?s=128&g=1", "display_name": "Prinzhorn", "link": "https://stackoverflow.com/users/1422124/prinzhorn"}, "edited": false, "score": 1, "creation_date": 1570783519, "post_id": 57995608, "comment_id": 103031016, "body": "<a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=606319\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromium/issues/detail?id=606319</a>"}], "answers": [{"comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1586940612, "post_id": 61222039, "comment_id": 108310583, "body": "Most browsers do support creating an ImageBitmap from an svg image loaded in an HTMLImageElement, no need for the OffscreenCanvas nor even for rasterization, just postMessage <code>await createImageBitmap(img)</code>, though you should do it in an onload event that is missing in your code."}, {"owner": {"reputation": 81, "user_id": 7512733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uvjb-L3JFjI/AAAAAAAAAAI/AAAAAAAAFLI/maFo0Yazu0o/photo.jpg?sz=128", "display_name": "Mecolela", "link": "https://stackoverflow.com/users/7512733/mecolela"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1587030103, "post_id": 61222039, "comment_id": 108350373, "body": "You&#39;re right @Kaiido, seems I hadn&#39;t set the height &amp; width attributes in my SVG string while testing which led me to using the Offscreen canvas as a patch that just so happened to work."}], "tags": [], "owner": {"reputation": 81, "user_id": 7512733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uvjb-L3JFjI/AAAAAAAAAAI/AAAAAAAAFLI/maFo0Yazu0o/photo.jpg?sz=128", "display_name": "Mecolela", "link": "https://stackoverflow.com/users/7512733/mecolela"}, "is_accepted": false, "score": 0, "last_activity_date": 1587030633, "last_edit_date": 1587030633, "creation_date": 1586929258, "answer_id": 61222039, "question_id": 57995608, "link": "https://stackoverflow.com/questions/57995608/svg-image-not-loaded-in-web-worker/61222039#61222039", "title": "SVG Image not loaded in web-worker", "body": "<p>Seeing as their is no implementation of the spec yet,</p>\n\n<p>A possible workaround for now would be to generate an image from your svg string in the main thread then post the resulting image bit map back to your worker.</p>\n\n<p>So in your main thread code</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Loads the SVG image asynchronously\nfunction loadSVGAsync(svgString) \n return new Promise(resolve =&gt; {\n  const img = new Image();\n  img.onload = function () {\n    resolve(this);\n  };\n  img.src = 'data:image/svg+xml;charset=utf8,' + encodeURIComponent(svgString);\n });\n}\n\nconst worker = new Worker('...');\n\nworker.addEventListener('message', async ev =&gt; {\n const YourSvgString = '...';\n\n const img = await loadSVGAsync(YourSvgString);\n\n // Pass over the image Bit map to your worker\n worker.postMessage({svg: await createImageBitMap(img)});\n});\n</code></pre>\n\n<p>In your worker</p>\n\n<pre><code>self.addEventListener('message', (ev) =&gt; {\n  // Do whatever you need with the image\n  const svgImage = ev.data.svg;\n});\n</code></pre>\n"}], "owner": {"reputation": 2519, "user_id": 1069219, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3616d4ecdac6b9b36db4974d2a363049?s=128&d=identicon&r=PG&f=1", "display_name": "Fritjof Berggren", "link": "https://stackoverflow.com/users/1069219/fritjof-berggren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1587030633, "creation_date": 1568818300, "last_edit_date": 1568824064, "question_id": 57995608, "link": "https://stackoverflow.com/questions/57995608/svg-image-not-loaded-in-web-worker", "title": "SVG Image not loaded in web-worker", "body": "<p>I'm trying to run this typescript code in a web-worker:</p>\n\n<pre><code>   async BuildImage(): Promise&lt;void&gt; {\n\n    let data1 = `&lt;svg xmlns='http://www.w3.org/2000/svg' width='50' height='50'&gt;\n                    &lt;foreignObject width='100%' height='100%' style=\"background:blue\"&gt;\n                      &lt;div xmlns='http://www.w3.org/1999/xhtml' style='font-size:12px'&gt;                        \n                        &lt;ellipse cx=\"23\" cy=\"23\" rx=\"25\" ry=\"25\" style=\"fill:yellow;stroke:purple;stroke-width:2\" /&gt;\n                      &lt;/div&gt;\n                    &lt;/foreignObject&gt;\n                  &lt;/svg&gt;`;\n\n    let svg = new Blob([data1], { type: \"image/svg+xml;charset=utf-8\" });\n    var image = await createImageBitmap(svg);\n\n}\n</code></pre>\n\n<p>But throws <code>\"The source image could not be decoded.\"</code> with <code>\"InvalidStateError\"</code>\n<a href=\"https://i.stack.imgur.com/QZhZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZhZN.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've tried this code also:</p>\n\n<pre><code>   async BuildImage(): Promise&lt;void&gt; {\n\n    let data1 = `&lt;svg xmlns='http://www.w3.org/2000/svg' width='50' height='50'&gt;\n                    &lt;foreignObject width='100%' height='100%' style=\"background:blue\"&gt;\n                      &lt;div xmlns='http://www.w3.org/1999/xhtml' style='font-size:12px'&gt;                        \n                        &lt;ellipse cx=\"23\" cy=\"23\" rx=\"25\" ry=\"25\" style=\"fill:yellow;stroke:purple;stroke-width:2\" /&gt;\n                      &lt;/div&gt;\n                    &lt;/foreignObject&gt;\n                  &lt;/svg&gt;`;\n\n    let svg = new Blob([data1], { type: \"image/svg+xml;charset=utf-8\" });\n    let url = URL.createObjectURL(svg);\n\n    var loadImageAsync = new Promise&lt;HTMLImageElement&gt;(resolve =&gt; {\n\n        let img = new Image();\n        img.onload = () =&gt; resolve(img);\n        img.onerror = () =&gt; resolve(img);\n\n        img.src = url;\n    });\n\n    this.image = await loadImageAsync;}\n</code></pre>\n\n<p>But the problem now is that the <code>new Image()</code> object is not defined in a web-worker as it doesn't have access to the DOM. This last method however works in a non web-worker scenario, But the createImageBitmap doesn't work anywhere.</p>\n\n<p>Anyone knows how to build and image from an SVG in a web-worker or any workaround for this situation?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "xml", "typescript", "email-attachments", "nodemailer"], "answers": [{"tags": [], "owner": {"reputation": 5268, "user_id": 2688699, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/48b4f8de1163b0c94ba92d34f632ef47?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Tran", "link": "https://stackoverflow.com/users/2688699/tuan-anh-tran"}, "is_accepted": true, "score": 1, "last_activity_date": 1568820309, "creation_date": 1568820309, "answer_id": 57996203, "question_id": 57995603, "link": "https://stackoverflow.com/questions/57995603/generate-xml-file-and-attach-it-in-email-node-js/57996203#57996203", "title": "Generate XML file and attach it in email (Node.js)", "body": "<p>You can use <code>xmlbuilder</code> to make it easier to generate xml</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var builder = require('xmlbuilder');\n\nvar obj = {\n  CaseData: {\n    CaseNo: '329388m1'\n  }\n};\n\nvar xml = builder.create(obj).end({ pretty: true});\nconsole.log(xml);\n</code></pre>\n\n<p>and then attach it with nodemailer like this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let message = {\n    ...\n    attachments: [\n        {\n            filename: 'myxmlfile.xml',\n            content: xmlStringAbove,\n            contentType: 'text/xml'\n        }\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 10607599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc0def948ffafff1d95430337490a06?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Enache", "link": "https://stackoverflow.com/users/10607599/andrei-enache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 57996203, "answer_count": 1, "score": 0, "last_activity_date": 1568820309, "creation_date": 1568818276, "question_id": 57995603, "link": "https://stackoverflow.com/questions/57995603/generate-xml-file-and-attach-it-in-email-node-js", "title": "Generate XML file and attach it in email (Node.js)", "body": "<p>How one can create an XML file and attach it in email by using nodemailer?</p>\n\n<p>This is the format of the XML file: </p>\n\n<pre><code>\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;CaseData&gt;\n   &lt;CaseNo&gt;329388m1&lt;/CaseNo&gt;\n&lt;/CaseData&gt;\n\n</code></pre>\n\n<p>The code to compose an email: </p>\n\n<pre><code>const mailOptions = {\n    from: 'andreifletcherssolicitors@gmail.com',\n    to: '97andreienache@gmail.com',\n    subject: 'Test',\n    text: 'Hello World!'\n};\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular7"], "comments": [{"owner": {"reputation": 2447, "user_id": 4786273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d430245706eaa71e471c7b72eba6b78f?s=128&d=identicon&r=PG", "display_name": "Random", "link": "https://stackoverflow.com/users/4786273/random"}, "edited": false, "score": 0, "creation_date": 1568817862, "post_id": 57995381, "comment_id": 102397366, "body": "Indeed, error is clear, have a look to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement</a>&zwnj;&#8203;, &quot;files&quot; does not exist"}], "answers": [{"tags": [], "owner": {"reputation": 6405, "user_id": 4862133, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1d18aecd6078b3e1d84e529285f32b3e?s=128&d=identicon&r=PG&f=1", "display_name": "random", "link": "https://stackoverflow.com/users/4862133/random"}, "is_accepted": true, "score": 1, "last_activity_date": 1568817951, "creation_date": 1568817951, "answer_id": 57995500, "question_id": 57995381, "link": "https://stackoverflow.com/questions/57995381/upload-zip-file-error-on-executing-the-angular-code/57995500#57995500", "title": "Upload Zip file error on executing the Angular Code", "body": "<p><code>HTMLTextAreaElement</code> element does not have <code>files</code> property.</p>\n\n<p>change <code>HTMLTextAreaElement</code> to <code>HTMLInputElement</code></p>\n\n<pre><code>const target = event.target as HTMLInputElement;\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10103938, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e_PxbNZa0vk/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rkdGopAsUeQZTYSTPaqUQJOQbFvQ/mo/photo.jpg?sz=128", "display_name": "Scott Don", "link": "https://stackoverflow.com/users/10103938/scott-don"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57995500, "answer_count": 1, "score": 0, "last_activity_date": 1568817951, "creation_date": 1568817544, "question_id": 57995381, "link": "https://stackoverflow.com/questions/57995381/upload-zip-file-error-on-executing-the-angular-code", "title": "Upload Zip file error on executing the Angular Code", "body": "<p>I'm having the below Typescript file for uploading the Zip file:</p>\n\n<pre><code>fileUploader(event:Event):void{\n   const target = event.target as HTMLTextAreaElement;\n   this.fileInfo= target.files[0];\n }\n onNoClick(): void {\n   this.dialogRef.close({location: this.lastNode, cancel: true});\n }\n closeDialog(): void {\n  console.log(this.versionNote);\n  let data={'file':this.fileInfo,'versionNote':this.versionNote};\n   this.dialogRef.close(data);\n }\n</code></pre>\n\n<p>Html for the above file:</p>\n\n<pre><code>&lt;h1 mat-dialog-title&gt;{{'DOCUMENT_LIST.CONTENT.UPLOAD_ZIP' | translate}}&lt;/h1&gt;\n&lt;div&gt;&lt;span class=\"ng-star-inserted\"&gt;&lt;h3&gt;&lt;b&gt;Folder Name: &amp;nbsp;{{folderName}}&lt;/b&gt;&lt;/h3&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;input type=\"file\" id=\"file\" [(ngModel)]=\"playerName\"  (change)=\"fileUploader($event)\"&gt;\n &lt;p&gt;\n  &lt;mat-form-field class=\"example-full-width\"&gt;\n     &lt;textarea matInput placeholder=\"Notes\" [(ngModel)]=\"versionNote\"&gt;&lt;/textarea&gt;\n   &lt;/mat-form-field&gt;\n &lt;/p&gt;\n&lt;div mat-dialog-actions&gt;\n &lt;button mat-button (click)=\"onNoClick()\"&gt;{{'OPTIONS.CANCEL' | translate}}&lt;/button&gt;\n &lt;button mat-button cdkFocusInitial (click)=\"closeDialog()\"&gt;{{'OPTIONS.UPLOAD' | translate}}&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I'm getting the below error while running:</p>\n\n<pre><code>Property 'files' does not exist on type 'HTMLTextAreaElement'.\n</code></pre>\n"}, {"tags": ["typescript", "casting"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 2174455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/def14362afe2d5006033ab6a0da73e32?s=128&d=identicon&r=PG", "display_name": "Hemant", "link": "https://stackoverflow.com/users/2174455/hemant"}, "edited": false, "score": 0, "creation_date": 1568820723, "post_id": 57995515, "comment_id": 102399051, "body": "So is there a way around so that my result includes all members of my custom type? If so, can you please share the snippet to achieve this?"}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "reply_to_user": {"reputation": 483, "user_id": 2174455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/def14362afe2d5006033ab6a0da73e32?s=128&d=identicon&r=PG", "display_name": "Hemant", "link": "https://stackoverflow.com/users/2174455/hemant"}, "edited": false, "score": 0, "creation_date": 1568822934, "post_id": 57995515, "comment_id": 102400274, "body": "Well, if this were just javascript, what would you want to do? Probably call <code>new Person</code> one or more times, passing in data from <code>rows</code>. I&#39;m not sure exactly what code you&#39;d want because i don&#39;t know the structure that rows has, and your Person constructor doesn&#39;t look like its set up to be passed in properties."}, {"owner": {"reputation": 483, "user_id": 2174455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/def14362afe2d5006033ab6a0da73e32?s=128&d=identicon&r=PG", "display_name": "Hemant", "link": "https://stackoverflow.com/users/2174455/hemant"}, "edited": false, "score": 0, "creation_date": 1568871301, "post_id": 57995515, "comment_id": 102413453, "body": "Looks like I will have to do mapping of data from rows to my custom type collection in a loop. Let me know if there is a better way around"}, {"owner": {"reputation": 483, "user_id": 2174455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/def14362afe2d5006033ab6a0da73e32?s=128&d=identicon&r=PG", "display_name": "Hemant", "link": "https://stackoverflow.com/users/2174455/hemant"}, "edited": false, "score": 0, "creation_date": 1568957243, "post_id": 57995515, "comment_id": 102447230, "body": "I have updated my request with a temporary solution."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 0, "last_activity_date": 1568818475, "last_edit_date": 1568818475, "creation_date": 1568817993, "answer_id": 57995515, "question_id": 57995370, "link": "https://stackoverflow.com/questions/57995370/typescript-casting-result-to-custom-type-not-working/57995515#57995515", "title": "TypeScript: Casting result to custom type not working", "body": "<p><code>result.Data = &lt;Person[]&gt; rows[0];</code></p>\n\n<p>Remember that when typescript gets transpiled, all the type annotations just disappear and you're left with javascript that says <code>result.Data = rows[0]</code>. That code won't add any properties to the object that weren't already there.</p>\n\n<p>The purpose of using a type assertion like <code>&lt;Person[]&gt;</code> isn't to make any changes to the data. The purpose is to tell typescript \"i know better than you do, so don't check my types here\". If you truly do know better than typescript does, then that can be ok. But if you assert that the object has a dobString function when in fact it does not, typescript will just trust you and will not be able to point out the error.</p>\n"}], "owner": {"reputation": 483, "user_id": 2174455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/def14362afe2d5006033ab6a0da73e32?s=128&d=identicon&r=PG", "display_name": "Hemant", "link": "https://stackoverflow.com/users/2174455/hemant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568957187, "creation_date": 1568817515, "last_edit_date": 1568957187, "question_id": 57995370, "link": "https://stackoverflow.com/questions/57995370/typescript-casting-result-to-custom-type-not-working", "title": "TypeScript: Casting result to custom type not working", "body": "<p>I have the Person type defined as follows</p>\n\n<pre><code>import moment from \"moment\";\n\nexport default class Person {\n    constructor() {\n        this.id = -1;\n        this.name = \"\";\n        this.dob = new Date();\n        this.gender = \"M\";\n        this.photo = \"\";\n        this.salary = 0.0;\n    }\n\n   public id: number;\n   public name: string;\n   public dob: Date;\n   public get dobString(): string{\n        return moment(this.dob).toString();\n   };\n   public gender: string;\n   public photo: string;\n   public salary: number;\n}\n</code></pre>\n\n<p>In the Person type above you can see that I have a read-only property <strong>dobString()</strong> that pretty much returns the date in string format.</p>\n\n<p>Now I have a get method that returns the collection of records. I 'm casting the collection to <code>&lt;Person[]&gt;</code> but the result is not including the property <strong>dobString()</strong>. Can you please verify below my code and let me know what I'm missing?</p>\n\n<pre><code>getAll (req: Request, res: Response, next: NextFunction) {\n    var pageNumber = req.query.pageNumber;\n    var pageSize = req.query.pageSize;\n\n    db.query(\"CALL person_selectall(?, ?, @total); SELECT @total as TotalRecords;\", [pageNumber, pageSize], (err: Error, rows: any[], fields: any) =&gt; {\n        let result = new PageResult&lt;Person&gt;(pageSize, pageNumber, 0);\n\n        if (!err) {\n            result.IsSuccessful = true;\n            result.TotalRecords = rows[2][0].TotalRecords;\n            result.Data = &lt;Person[]&gt; rows[0];//result.Data is of type Person[]\n            res.send(result);\n        } else {\n            result.IsSuccessful = false;\n            result.TotalRecords = 0;\n            result.ReasonForFailure = JSON.stringify(err);\n            result.Data = [];\n            res.send(result);\n        }\n    });\n}\n</code></pre>\n\n<p><strong>Update (20-Sep-2019)</strong></p>\n\n<p>For now, I have implemented using the Map method (see below). Let me know if there is a better way of doing this.</p>\n\n<pre><code>const personArray = rows[0].map((row: any) =&gt; {\n                const person = new Person();\n                person.Id = row.id;\n                person.Name = row.name;\n                person.Gender = row.gender;\n                person.Dob = row.dob;\n                person.DobString = moment(person.Dob).format(config.get(\"format.date\"));\n                person.Photo = row.photo;\n                person.Salary = row.salary;\n                person.CreatedDate = row.createddate;\n                person.CreatedDateString = moment(person.CreatedDate).format(config.get(\"format.datetime\"));\n                person.ModifiedDate = row.modifieddate;\n                person.ModifiedDateString = person.ModifiedDate === null ? null : moment(person.ModifiedDate).format(config.get(\"format.datetime\"));\n                return person;\n            });\n            result.Data = personArray;\n</code></pre>\n\n<p>Thanks,\nHemant.</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": true, "score": 3, "last_activity_date": 1568815576, "creation_date": 1568815576, "answer_id": 57994674, "question_id": 57994620, "link": "https://stackoverflow.com/questions/57994620/property-binding-inside-of-property-binding/57994674#57994674", "title": "Property binding inside of property binding", "body": "<p>You should be able to use:</p>\n\n<pre><code>&lt;img [src]=\"collection[product.name]\" [alt]=\"collection.name\" class=\"w-75 align-self-center\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 294, "user_id": 7133262, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154798274757216/picture?type=large", "display_name": "Arigui Ahmed", "link": "https://stackoverflow.com/users/7133262/arigui-ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1568817835, "creation_date": 1568817835, "answer_id": 57995469, "question_id": 57994620, "link": "https://stackoverflow.com/questions/57994620/property-binding-inside-of-property-binding/57995469#57995469", "title": "Property binding inside of property binding", "body": "<p>Hi could you try to write this:</p>\n\n<pre><code>   &lt;!-- For the image of productOne --&gt;\n    &lt;img [src]=\"collection?.productOne\" [alt]=\"collection.name\" class=\"w-75 align-self-center\"&gt;\n\n   &lt;!-- For the image of productTwo--&gt;\n    &lt;img [src]=\"collection?.productTwo\" [alt]=\"collection.name\" class=\"w-75 align-self-center\"&gt;\n</code></pre>\n\n<p>Do not forget the operator <code>?.</code> to be safe if the value is <code>null</code>.</p>\n"}], "owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 57994674, "answer_count": 2, "score": 1, "last_activity_date": 1568817835, "creation_date": 1568815385, "question_id": 57994620, "link": "https://stackoverflow.com/questions/57994620/property-binding-inside-of-property-binding", "title": "Property binding inside of property binding", "body": "<p>I have a an array of objects:</p>\n\n<pre><code>collections = [\n          {name: 'one', productOne: 'image-url', productTwo: 'image-url'},\n          {name: 'two', productOne: 'image-url', productTwo: 'image-url'},\n          {name: 'three', productOne: 'image-url', productTwo: 'image-url'},\n          {name: 'four', productOne: 'image-url', productTwo: 'image-url'},\n]\n</code></pre>\n\n<p>As you can see, each object contains an image url. Let's say I'm on productTwo's product page, hence I want to display productTwo's image. I additionally have an object (<code>product</code>), that contains the product's name, hence I know the product's name of the product page I'm on.</p>\n\n<p>How do I display the correct image? You can find the issue's location by the three question marks.</p>\n\n<p>I can't just use <code>collection.productTwo</code>, since the product page is supposed to be dynamic and should be adjusted to the current product's page.</p>\n\n<p>This might sound confusing, but this approach might illustrate it a little more:</p>\n\n<pre><code>&lt;img [src]=\"collection. + product.name\" [alt]=\"collection.name\" class=\"w-75 align-self-center\"&gt;\n</code></pre>\n\n<p>Is this even possible?</p>\n\n<p><br>\nCode:</p>\n\n<pre><code>&lt;div class=\"container-fluid px-0 top-container\" *ngIf=\"product\" [style.position]=\"fixed &amp;&amp; !collections ? 'fixed' : 'static'\"&gt;\n\n  &lt;div class=\"container-fluid bg-test justify-content-center min-vh-100 d-flex\"&gt;\n    &lt;h1 class=\"align-self-center\"&gt;{{product.name}}&lt;/h1&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"container-fluid justify-content-center d-flex collections\" *ngIf=\"collections\" [style.position]=\"fixed &amp;&amp; collections ? 'fixed' : 'static'\"&gt;\n    &lt;div class=\"row align-self-center justify-content-around\"&gt;\n      &lt;div class=\"col-12 mb-5 text-center\"&gt;\n        &lt;h1&gt;ALL COLLECTIONS&lt;/h1&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-3\" *ngFor=\"let collection of collections\"&gt;\n        &lt;div class=\"flex-row\"&gt;\n          &lt;div class=\"col-12 text-center\"&gt;\n            &lt;h4&gt;{{collection.name}}&lt;/h4&gt;\n            &lt;p&gt;- {{collection.desc}} -&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-12 d-flex justify-content-center\"&gt;\n            &lt;img [src]=\"???\" [alt]=\"collection.name\" class=\"w-75 align-self-center\"&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "sharepoint-online"], "answers": [{"tags": [], "owner": {"reputation": 4884, "user_id": 8867311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211a7f414a3441006d1dd418596447a9?s=128&d=identicon&r=PG&f=1", "display_name": "Lee_MSFT", "link": "https://stackoverflow.com/users/8867311/lee-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1568860625, "creation_date": 1568860625, "answer_id": 58002955, "question_id": 57994086, "link": "https://stackoverflow.com/questions/57994086/put-data-output-from-sharepoint-online-list-into-an-html-table/58002955#58002955", "title": "Put data output from Sharepoint online list into an HTML table", "body": "<p>You should be developing SPFx solution, you could bind data to <a href=\"https://developer.microsoft.com/en-us/fabric#/controls/web/detailslist\" rel=\"nofollow noreferrer\">office UI Fabric DetailsList</a>.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/sharepoint/dev/spfx/office-ui-fabric-integration\" rel=\"nofollow noreferrer\">Using Office UI Fabric Core and Fabric React in SharePoint Framework</a></p>\n\n<p>You could check <a href=\"https://github.com/OS-Lee/ReactSPFx/blob/master/src/webparts/reactSpFx/components/ReactSpFx.tsx\" rel=\"nofollow noreferrer\">my sample demo</a> here to get SharePoint list data to an array objects.</p>\n"}], "owner": {"reputation": 213, "user_id": 11558347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04bddb2a8aa863e8d6eac9ec239674e1?s=128&d=identicon&r=PG&f=1", "display_name": "AlHal", "link": "https://stackoverflow.com/users/11558347/alhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568860625, "creation_date": 1568813819, "question_id": 57994086, "link": "https://stackoverflow.com/questions/57994086/put-data-output-from-sharepoint-online-list-into-an-html-table", "title": "Put data output from Sharepoint online list into an HTML table", "body": "<p>I have this code which is designed to get the most recent data from an underlying Sharepoint online list.  How do I adapt it to display the entire Sharepoint online list in an html table?</p>\n\n<pre><code>  private getLatestItemId(): Promise&lt;number&gt; {\nreturn new Promise&lt;number&gt;((resolve: (itemId: number) =&gt; void, reject: (error: any) =&gt; void): void =&gt; {\n  //this.context.spHttpClient.get(`${this.context.pageContext.web.absoluteUrl}/_api/web/lists/getbytitle('${this.properties.listName}')/items?$orderby=Id desc&amp;$top=1&amp;$select=id`,\n  this.context.spHttpClient.get(`${this.context.pageContext.web.absoluteUrl}/_api/web/lists/getbytitle('${this.properties.listName}')`,  \n  SPHttpClient.configurations.v1,\n    {\n      headers: {\n        'Accept': 'application/json;odata=nometadata',\n        'odata-version': ''\n      }\n    })\n    .then((response: SPHttpClientResponse): Promise&lt;{ value: { Id: number }[] }&gt; =&gt; {\n      return response.json();\n    }, (error: any): void =&gt; {\n      reject(error);\n    })\n    .then((response: { value: { Id: number }[] }): void =&gt; {\n      if (response.value.length === 0) {\n        resolve(-1);\n      }\n      else {\n        resolve(response.value[0].Id);\n      }\n    });\n});\n</code></pre>\n\n<p>}\nAny help appreciated.</p>\n"}, {"tags": ["javascript", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 1724, "user_id": 6672580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-6rBmPoEP_DQ/AAAAAAAAAAI/AAAAAAAAABU/17IsM_eOvmI/photo.jpg?sz=128", "display_name": "bigopon", "link": "https://stackoverflow.com/users/6672580/bigopon"}, "edited": false, "score": 0, "creation_date": 1570965150, "post_id": 57994025, "comment_id": 103077287, "body": "What is the error message you got in the assertion?"}], "owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568813633, "creation_date": 1568813633, "question_id": 57994025, "link": "https://stackoverflow.com/questions/57994025/aurelia-unit-test-custom-element-binding-propertynamechanged-does-not-fire", "title": "Aurelia Unit Test Custom Element Binding - propertyNameChanged does not fire?", "body": "<p>I am trying to test custom element which has property <code>pageNumber</code> and change-event handles <code>pageNumberChanged()</code> defined.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@autoinject\nexport class Pagination {\n    @bindable\n    public pageNumber: number | undefined;\n\n    public pageNumberChanged() {\n        // recalculate pagination...\n    }\n\n   // more code...\n}\n</code></pre>\n\n<p>Change handler is triggered and working in the application, but if I want to unit test custom element, handler is never triggered.</p>\n\n<p>Using <code>setTimeout</code> delays assertion, so that ViewModel has time to update, but even then, handler which re-calculates <code>pages</code> array is never executed.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe(\"Pagination\", () =&gt; {\n    let component: ComponentTester&lt;Pagination&gt;;\n    let bindingContext: { pageNumber: number, totalPageCount: number};\n\n    beforeEach(() =&gt; {\n        bindingContext = { pageNumber: 1, totalPageCount: 7 };\n        component = StageComponent\n            .withResources&lt;Pagination&gt;(\"../../src/resources/elements/pagination\")\n            .inView(\"&lt;pagination page-number.bind=\\\"pageNumber\\\" total-page-count.bind=\\\"totalPageCount\\\"&gt;&lt;/pagination&gt;\")\n            .boundTo(bindingContext);\n    });\n\n    it(\"pageNumber and pages update when bindingContext value updates\", async (done) =&gt; {\n        await component.create(bootstrap);\n\n        bindingContext.pageNumber = 2;\n        setTimeout(() =&gt; {\n            expect(component.viewModel.pageNumber).toBe(2);\n            // ASSERTION IN THE LINE BELLOW FAILS:\n            expect(component.viewModel.pages).toStrictEqual([1, 2, 3, 4, 5]);\n            done();\n        }, 30);\n    });\n\n    afterEach(() =&gt; {\n        component.dispose();\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "datepicker"], "comments": [{"owner": {"reputation": 1677, "user_id": 232519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ed387889d1ccc9afd898c8cc3acff1e3?s=128&d=identicon&r=PG", "display_name": "Grumpy", "link": "https://stackoverflow.com/users/232519/grumpy"}, "edited": false, "score": 0, "creation_date": 1568814076, "post_id": 57993930, "comment_id": 102394953, "body": "<a href=\"https://stackoverflow.com/questions/32378590/set-date-input-fields-max-date-to-today\" title=\"set date input fields max date to today\">stackoverflow.com/questions/32378590/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "is_accepted": true, "score": 1, "last_activity_date": 1569403120, "last_edit_date": 1569403120, "creation_date": 1569402390, "answer_id": 58094919, "question_id": 57993930, "link": "https://stackoverflow.com/questions/57993930/how-to-stop-user-from-typing-in-future-dates-in-date-type-input-in-angular/58094919#58094919", "title": "How to stop user from typing in future dates in date type input in angular", "body": "<p>There is a problem with html input type date element when we restrict user by setting maximum attribute as this does not let users to select date from calendar drop-down but still users can type in undesired values using keyboard. So this is the hack, I have used to cope with this problem</p>\n\n<ol>\n<li><p>Declare a boolean to check if date is invalid.</p>\n\n<p>futureDateError: boolean;</p></li>\n<li><p>Declare a method to check if input date is valid.</p>\n\n<p>checkDateValidity(date: string): boolean\n{</p>\n\n<pre><code>    const mxDate = new Date(this.maxDate);\n    const inputDate = new Date(date);\n\n    if (inputDate &gt; mxDate) {\n      return this.futureDateError = true;\n    }\n    return this.futureDateError = false;\n</code></pre>\n\n<p>}</p></li>\n<li><p>Bind this method with <code>(change)</code> event.</p>\n\n<p></p></li>\n<li><p>Show errors when date is  invalid and don't submit form.</p>\n\nDate must not be in future\n\n<p>if (this.checkDateValidity(this.Datebillabuse)) {\n      return;\n    }</p></li>\n</ol>\n"}], "owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "accepted_answer_id": 58094919, "answer_count": 1, "score": 0, "last_activity_date": 1569403120, "creation_date": 1568813329, "question_id": 57993930, "link": "https://stackoverflow.com/questions/57993930/how-to-stop-user-from-typing-in-future-dates-in-date-type-input-in-angular", "title": "How to stop user from typing in future dates in date type input in angular", "body": "<p>I have restricted users to enter date in future in an input using html 5 date picker. But users are able to type in future dates. Is there any way to stop users to typing in future dates if they don't choose to select date value from date picker calendar?</p>\n\n<p>Here is my code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>  &lt;div class=\"col-sm-7\"&gt;\n\n    &lt;input type=\"date\" class=\"form-control\" [max]=\"maxDate\" pattern=\"^(19[5-9][0-9]|20[0-4][0-9]|2050)[-/](0?[1-9]|1[0-2])[-/](0?[1-9]|[12][0-9]|3[01])$\" name=\"Datebillabuse\" [(ngModel)]=\"Datebillabuse\" #date=\"ngModel\" [ngClass]=\"{ 'is-invalid': f.submitted &amp;&amp; date.invalid }\" required /&gt;\n    &lt;div *ngIf=\"f.submitted &amp;&amp; date.invalid\" class=\"invalid-feedback\"&gt;\n        &lt;div *ngIf=\"date.errors.required\"&gt;Date is required&lt;/div&gt;\n        &lt;div *ngIf=\"date.errors.pattern\"&gt;Please enter a valid date&lt;/div&gt;\n        &lt;div *ngIf='date.errors.max'&gt;Date must not be in future&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><strong>TypeScript</strong></p>\n\n<pre><code>  setTodayDate() {\n\n    const dtToday = new Date();\n    let month = String(dtToday.getMonth() + 1);\n    let day = String(dtToday.getDate());\n    let year = dtToday.getFullYear();\n\n\n    if (parseInt(month, 10) &lt; 10) {\n        month = '0' + month.toString();\n    }\n    if (parseInt(day, 10) &lt; 10) {\n        day = '0' + day.toString();\n    }\n\n     this.maxDate = `${year}-${month}-${day}`;\n\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/coyyk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/coyyk.png\" alt=\"With calendar drop-down\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/J3J9e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J3J9e.png\" alt=\"Problem when user starts typing future dates\"></a></p>\n\n<p>One solution I thought of is to check date value whether it is greater than today and show error.</p>\n\n<p>Is there any better way to solve it in Angular?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "edited": false, "score": 0, "creation_date": 1568813561, "post_id": 57993924, "comment_id": 102394635, "body": "Do you need to match the name when filtering?"}], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 3, "last_activity_date": 1568813887, "last_edit_date": 1568813887, "creation_date": 1568813518, "answer_id": 57993984, "question_id": 57993924, "link": "https://stackoverflow.com/questions/57993924/filter-all-objects-of-array-a-whose-id-occur-in-array-b/57993984#57993984", "title": "Filter all objects of array A whose id occur in array B", "body": "<p>Use <code>includes()</code></p>\n\n<p>Try like this:</p>\n\n<pre><code>a = [{ name: 'Hans', id: 0 }, { name: 'Caleb', id: 1 }, { name: 'Emily', id: 2 }]\n\nconst result = this.a.filter(value =&gt; this.b.collections.includes(value.id));\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-wdkvij\" rel=\"nofollow noreferrer\">Working Demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1568813874, "creation_date": 1568813874, "answer_id": 57994102, "question_id": 57993924, "link": "https://stackoverflow.com/questions/57993924/filter-all-objects-of-array-a-whose-id-occur-in-array-b/57994102#57994102", "title": "Filter all objects of array A whose id occur in array B", "body": "<p>If you need to match the name.</p>\n\n<pre><code>const result = this.a.filter(value =&gt; {\n  const matchWithName = this.b.find(e =&gt; e.name === value.name);\n  if (matchWithName) {\n     return matchWithName.collections.includes(value.id);\n  } else {\n    return false;\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 57993984, "answer_count": 2, "score": 1, "last_activity_date": 1568813887, "creation_date": 1568813311, "question_id": 57993924, "link": "https://stackoverflow.com/questions/57993924/filter-all-objects-of-array-a-whose-id-occur-in-array-b", "title": "Filter all objects of array A whose id occur in array B", "body": "<p>I have two arrays - A &amp; B.</p>\n\n<p>A:</p>\n\n<pre><code>name: string;\nid: string;\n\n{name: 'Hans', id: 0; name: 'Caleb', id: 1; name: 'Emily', id: 2}\n</code></pre>\n\n<p>B:</p>\n\n<pre><code>name: string;\ncollections: [numbers]\n\n{name: 'Pure', collections: [0,2]}\n</code></pre>\n\n<p><strong>How can I filter all objects of array A whose IDs occur inside of B's <code>collection</code>?</strong></p>\n\n<p>I tried the following but could only filter for one static id:</p>\n\n<pre><code>const result = this.a.filter(value =&gt; value.id === this.b.collections[???];\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 615, "user_id": 1713468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3pasJ.jpg?s=128&g=1", "display_name": "Karthick Manoharan", "link": "https://stackoverflow.com/users/1713468/karthick-manoharan"}, "edited": false, "score": 0, "creation_date": 1568813979, "post_id": 57993840, "comment_id": 102394893, "body": "Share some details about <code>Customer</code>. I will update my answer with possibilities"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568816137, "post_id": 57993840, "comment_id": 102396234, "body": "Not sure what you mean by &quot;infer&quot;.  You can make <code>interface RestrictedColDef extends ColDef { field: keyof Customer }</code> and it should work (assuming <code>keyof Customer</code> is assignable to <code>string</code> and doesn&#39;t include <code>number</code> or <code>symbol</code> values)."}], "answers": [{"comments": [{"owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "edited": false, "score": 0, "creation_date": 1568815991, "post_id": 57994117, "comment_id": 102396152, "body": "Yeah, but that is not what I asked. I cannot change ColDef type, but instead I need to create new type derived from it"}, {"owner": {"reputation": 615, "user_id": 1713468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3pasJ.jpg?s=128&g=1", "display_name": "Karthick Manoharan", "link": "https://stackoverflow.com/users/1713468/karthick-manoharan"}, "reply_to_user": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "edited": false, "score": 0, "creation_date": 1568818588, "post_id": 57994117, "comment_id": 102397836, "body": "I didn&#39;t get what you meant by infer."}, {"owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "edited": false, "score": 0, "creation_date": 1568820330, "post_id": 57994117, "comment_id": 102398804, "body": "By infer I mean any approach that would keep the properties from the base class. Inheritance is one of them"}], "tags": [], "owner": {"reputation": 615, "user_id": 1713468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3pasJ.jpg?s=128&g=1", "display_name": "Karthick Manoharan", "link": "https://stackoverflow.com/users/1713468/karthick-manoharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1568814547, "last_edit_date": 1568814547, "creation_date": 1568813928, "answer_id": 57994117, "question_id": 57993840, "link": "https://stackoverflow.com/questions/57993840/how-to-limit-possible-property-values-in-type-derived-from-another-type/57994117#57994117", "title": "How to limit possible property values in type derived from another type", "body": "<p>You can create a custom type using <code>type</code> to restrict the property values.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Field = \"ID\" | \"Name\" | \"SomeOtherProps\"\n\ninterface ColDef {\n   field: Field;\n}\n</code></pre>\n\n<p>In the above code <code>field</code> will only accepts <code>\"ID\", \"Name\", \"SomeOtherProps\"</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-71hx7a\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "is_accepted": false, "score": 1, "last_activity_date": 1568816133, "creation_date": 1568816133, "answer_id": 57994895, "question_id": 57993840, "link": "https://stackoverflow.com/questions/57993840/how-to-limit-possible-property-values-in-type-derived-from-another-type/57994895#57994895", "title": "How to limit possible property values in type derived from another type", "body": "<p>Just extend the base type and override property definition:</p>\n\n<pre><code>interface MyColDef extends ColDef {\n  field: 'ID' | 'Name'\n}\n\nlet myCol: MyColDef = {\n  field: 'blabla' //compiler error\n};\n</code></pre>\n"}], "owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568816133, "creation_date": 1568813036, "last_edit_date": 1568813134, "question_id": 57993840, "link": "https://stackoverflow.com/questions/57993840/how-to-limit-possible-property-values-in-type-derived-from-another-type", "title": "How to limit possible property values in type derived from another type", "body": "<p>Let's say I have existing type</p>\n\n<pre><code>interface ColDef {\n   field: string;\n   // some other properties\n}\n</code></pre>\n\n<p>and I would like to infer new type with the same properties, but restring field property to:</p>\n\n<pre><code>field: 'ID' | 'Name' | 'SomeOtherProps'\n</code></pre>\n\n<p>or alternatively </p>\n\n<pre><code>field: keyof Customer\n</code></pre>\n\n<p>Is it possible to infer a new type from existing type and change type of one or more properties?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1568812525, "post_id": 57993666, "comment_id": 102394014, "body": "You can return them from the function.. Something like <code>public async test(){   const tag = 123   const msgCommit = await this.run(&#39;git rev-parse &#39; + tag )   return {msgCommit, tag} } </code>"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1568812634, "post_id": 57993666, "comment_id": 102394074, "body": "It&#39;s really not clear what you&#39;re asking here"}], "answers": [{"tags": [], "owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "is_accepted": false, "score": 1, "last_activity_date": 1568813764, "last_edit_date": 1568813764, "creation_date": 1568812860, "answer_id": 57993790, "question_id": 57993666, "link": "https://stackoverflow.com/questions/57993666/how-can-i-retrieve-some-variables-in-another-method/57993790#57993790", "title": "How can I retrieve some variables in another method", "body": "<p>You're variables within <code>test()</code> have blocked-scope (as they're defined using <code>const</code>) and so cannot be accessed outside your function unless you <code>return</code> them. To do so, you need to wrap them in some sort of container such as an array:</p>\n\n<pre><code>public async test(){\n  const tag = 123\n  const msgCommit = await this.run('git rev-parse ' + tag )\n  return [tag, msgCommit];\n}\n</code></pre>\n\n<p>And now, you can access your variables <code>tag</code> and <code>msgCommit</code> inside your <code>test2()</code> method by calling <code>test()</code> within it.</p>\n\n<p>However, all <code>async</code> functions will <code>return</code> a Promise implicitly (with the original return set as the resolve), and so, when you call <code>test()</code> you will get a Promise. This means your array will be wrapped within this Promise. To \"extract\" your array from the Promise, you can <code>await</code> (or use <code>.then()</code> on) the promise to get its contents once it has resolved:</p>\n\n<pre><code>public async test2() { // `async` so we can use `await` inside this method\n  // How can I retrieve tag and msgCommit\n  const [tag, msgCommit] = await test(); // destructure your array and store the elements as variables\n  console.log(tag, msgCommit); \n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10545935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HYij_qb7peA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD9k5u15qaGMV14Jm1KlGK4OTa-Cg/mo/photo.jpg?sz=128", "display_name": "marcilles Stanislas", "link": "https://stackoverflow.com/users/10545935/marcilles-stanislas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1568813764, "creation_date": 1568812469, "question_id": 57993666, "link": "https://stackoverflow.com/questions/57993666/how-can-i-retrieve-some-variables-in-another-method", "title": "How can I retrieve some variables in another method", "body": "<p>I want to know the best way to retrieve the variable tag and msgCommit in the another method </p>\n\n<pre><code>public async run(commande){\n ...\n}\n\npublic async test(){\n  const tag = 123\n  const msgCommit = await this.run('git rev-parse ' + tag )\n...\n}\n\npublic async test2(){\n  // How can I retrieve tag and msgCommit\n ...\n }\n</code></pre>\n\n<p>Thanks in advance for your help :)</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 4587202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OJrWW.jpg?s=128&g=1", "display_name": "Greg-A", "link": "https://stackoverflow.com/users/4587202/greg-a"}, "edited": false, "score": 0, "creation_date": 1568812951, "post_id": 57993542, "comment_id": 102394290, "body": "@AndreiT&#227;tar it seems to me to be a good starting point although I will certainly have to modify it"}], "tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": true, "score": 4, "last_activity_date": 1568812051, "creation_date": 1568812051, "answer_id": 57993542, "question_id": 57993462, "link": "https://stackoverflow.com/questions/57993462/compare-and-change-the-date-format-like-today-yesterday/57993542#57993542", "title": "Compare and change the date format like today, yesterday,", "body": "<p>Angular doesn't have this built in but you can just build your own pipe or use an existing one (<a href=\"https://github.com/AndrewPoyntz/time-ago-pipe\" rel=\"nofollow noreferrer\">https://github.com/AndrewPoyntz/time-ago-pipe</a>)</p>\n\n<p>Not developed by me, but a good example: </p>\n\n<p><a href=\"https://github.com/AndrewPoyntz/time-ago-pipe/blob/master/time-ago.pipe.ts\" rel=\"nofollow noreferrer\">https://github.com/AndrewPoyntz/time-ago-pipe/blob/master/time-ago.pipe.ts</a></p>\n\n<p>If you don't mind it not updating as time passes, you can just make it pure and keep it simple for your case only (today, yesterday, etc.).</p>\n\n<pre><code>@Pipe({\n    name:'timeAgo',\n    pure:false\n})\nexport class TimeAgoPipe implements PipeTransform, OnDestroy {\n    private timer: number;\n    constructor(private changeDetectorRef: ChangeDetectorRef, private ngZone: NgZone) {}\n    transform(value:string) {\n        this.removeTimer();\n        let d = new Date(value);\n        let now = new Date();\n        let seconds = Math.round(Math.abs((now.getTime() - d.getTime())/1000));\n        let timeToUpdate = (Number.isNaN(seconds)) ? 1000 : this.getSecondsUntilUpdate(seconds) *1000;\n        this.timer = this.ngZone.runOutsideAngular(() =&gt; {\n            if (typeof window !== 'undefined') {\n                return window.setTimeout(() =&gt; {\n                    this.ngZone.run(() =&gt; this.changeDetectorRef.markForCheck());\n                }, timeToUpdate);\n            }\n            return null;\n        });\n        let minutes = Math.round(Math.abs(seconds / 60));\n        let hours = Math.round(Math.abs(minutes / 60));\n        let days = Math.round(Math.abs(hours / 24));\n        let months = Math.round(Math.abs(days/30.416));\n        let years = Math.round(Math.abs(days/365));\n        if (Number.isNaN(seconds)){\n            return '';\n        } else if (seconds &lt;= 45) {\n            return 'a few seconds ago';\n        } else if (seconds &lt;= 90) {\n            return 'a minute ago';\n        } else if (minutes &lt;= 45) {\n            return minutes + ' minutes ago';\n        } else if (minutes &lt;= 90) {\n            return 'an hour ago';\n        } else if (hours &lt;= 22) {\n            return hours + ' hours ago';\n        } else if (hours &lt;= 36) {\n            return 'a day ago';\n        } else if (days &lt;= 25) {\n            return days + ' days ago';\n        } else if (days &lt;= 45) {\n            return 'a month ago';\n        } else if (days &lt;= 345) {\n            return months + ' months ago';\n        } else if (days &lt;= 545) {\n            return 'a year ago';\n        } else { // (days &gt; 545)\n            return years + ' years ago';\n        }\n    }\n    ngOnDestroy(): void {\n        this.removeTimer();\n    }\n    private removeTimer() {\n        if (this.timer) {\n            window.clearTimeout(this.timer);\n            this.timer = null;\n        }\n    }\n    private getSecondsUntilUpdate(seconds:number) {\n        let min = 60;\n        let hr = min * 60;\n        let day = hr * 24;\n        if (seconds &lt; min) { // less than 1 min, update every 2 secs\n            return 2;\n        } else if (seconds &lt; hr) { // less than an hour, update every 30 secs\n            return 30;\n        } else if (seconds &lt; day) { // less then a day, update every 5 mins\n            return 300;\n        } else { // update every hour\n            return 3600;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 4587202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OJrWW.jpg?s=128&g=1", "display_name": "Greg-A", "link": "https://stackoverflow.com/users/4587202/greg-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1153, "favorite_count": 0, "accepted_answer_id": 57993542, "answer_count": 1, "score": 2, "last_activity_date": 1568812597, "creation_date": 1568811808, "last_edit_date": 1568812597, "question_id": 57993462, "link": "https://stackoverflow.com/questions/57993462/compare-and-change-the-date-format-like-today-yesterday", "title": "Compare and change the date format like today, yesterday,", "body": "<p>I have the following data:</p>\n\n<pre><code>     {\n       \"content\": [\n       {\n         \"id\": 15076772,\n         \"date\": \"2019-06-26T15:37:36\"\n       },\n       {\n        \"id\": 15074042,\n        \"date\": \"2019-03-05T15:06:57\"\n       },\n       {\n        \"id\": 15073812,\n        \"date\": \"2019-09-17T14:32:18\"\n       },\n       {\n        \"id\": 15073810,\n        \"date\": \"2019-09-18T14:31:56\"\n       }\n     ]\n   }\n</code></pre>\n\n<p>and I would like to convert each date to a specific format depending on the date of the day</p>\n\n<p>if the newDate() = 2019-09-18T14: 31: 56 we would post today\nif the newDate() is not equal to the date of the day but to that of yesterday would be displayed yesterday </p>\n\n<p>then after the days of the week depending on the date and after a week of departure the normal date of the data.\na bit like the dates displayed in a chat system</p>\n\n<p>I do not know if angular can do it automatically</p>\n\n<p>I do not know if angular can do it automatically, I know that Moment.js can do it with calendar time.</p>\n\n<p>If anyone could teach me that would be nice.</p>\n"}, {"tags": ["typescript", "npm-start", "typescript-eslint"], "owner": {"reputation": 71, "user_id": 10776574, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eQQdrvyEaBc/AAAAAAAAAAI/AAAAAAAAASY/1ikOyrsL_dg/photo.jpg?sz=128", "display_name": "AmolR", "link": "https://stackoverflow.com/users/10776574/amolr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1052, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1568811395, "creation_date": 1568811395, "question_id": 57993359, "link": "https://stackoverflow.com/questions/57993359/typescript-eslint-error-no-angle-bracket-type-assertion", "title": "typescript-eslint error: no-angle-bracket-type-assertion", "body": "<p>Got this error while bootstrapping React App -</p>\n\n<pre><code>$ npm start\n</code></pre>\n\n<p><strong>Failed to compile.\n./src/components/containers/Foo.tsx\n  Line 1:  Definition for rule '@typescript-eslint/no-angle-bracket-type-assertion' was not found  @typescript-eslint/no-angle-bracket-type-assertion\nSearch for the keywords to learn more about each error.</strong></p>\n\n<p>Assuming this to be a solution (<a href=\"https://github.com/typescript-eslint/typescript-eslint/issues/863\" rel=\"nofollow noreferrer\">https://github.com/typescript-eslint/typescript-eslint/issues/863</a>), I even removed 'eslintConfig' from package.json: </p>\n\n<pre><code> \"eslintConfig\": {\n    \"extends\": \"react-app\"\n  },\n</code></pre>\n\n<p>But it did not help. How to fix this? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1609408988, "post_id": 57993250, "comment_id": 115835746, "body": "in typescript 4 <code>Parameters</code> also returns names as <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-0.html#labeled-tuple-elements\" rel=\"nofollow noreferrer\"><code>Labeled Tuple Elements </code></a>. But still I don&#39;t know a way to convert it to object. <code>keyof extractedType</code> still doesn&#39;t return the names (but do return array props which are irrelevant in this case)"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1568819423, "creation_date": 1568819423, "answer_id": 57995936, "question_id": 57993250, "link": "https://stackoverflow.com/questions/57993250/get-function-parameter-names-and-types-in-typescript/57995936#57995936", "title": "Get function parameter names and types in TypeScript", "body": "<p>For better or worse, parameter names are not part of a function's type.  For example, the type signatures <code>(foo: string) =&gt; void</code> and <code>(bar: string) =&gt; void</code> are completely identical as far as type compatibility is concerned.  The names <code>foo</code> and <code>bar</code> are (usually) preserved by IntelliSense as a form of documentation to help developers, but they are essentially implementation details.  And since there isn't supposed to be a way to distinguish two function types that differ only by parameter names, there's no mechanism provided to convert these names into string literal types for use as object types.  </p>\n\n<p>The ability to convert between function parameter lists and tuple types was <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#tuples-in-rest-parameters-and-spread-expressions\" rel=\"nofollow noreferrer\">introduced in TypeScript 3.0</a> via <a href=\"https://github.com/microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">microsoft/TypeScript#24897</a>.  This is what makes <code>Parameters&lt;&gt;</code> possible.  That pull request has the following remark about parameter names:</p>\n\n<blockquote>\n  <p>Note that when a tuple type is inferred from a sequence of parameters and later expanded into a parameter list, ... the original parameter names are used in the expansion (however, the names have no semantic meaning and are not otherwise observable).</p>\n</blockquote>\n\n<p>So there's definitely no way to use <code>Parameters&lt;&gt;</code> or something like it to pull parameter names out of a function and use them.  </p>\n\n<p>Sorry I don't have a better answer for you.  Hope that helps anyway; good luck!</p>\n"}], "owner": {"reputation": 14241, "user_id": 64105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7eacf8a1b8d39de3598a2e54d14d2b05?s=128&d=identicon&r=PG", "display_name": "asgerhallas", "link": "https://stackoverflow.com/users/64105/asgerhallas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 0, "accepted_answer_id": 57995936, "answer_count": 1, "score": 4, "last_activity_date": 1568819423, "creation_date": 1568811000, "question_id": 57993250, "link": "https://stackoverflow.com/questions/57993250/get-function-parameter-names-and-types-in-typescript", "title": "Get function parameter names and types in TypeScript", "body": "<p>I've played around with the <code>Parameters&lt;T&gt;</code> type in TypeScript, which returns a tuple with the parameter types. Now I wonder if there's a way to not just return the types of the paramters but also the names?</p>\n\n<p>Something like:</p>\n\n<pre><code>function MyFunc(a: string, b: boolean, ...args: string[]) {}\n\ntype extractedType = ParametersWithName&lt;typeof MyFunc&gt;\n</code></pre>\n\n<p>Where <code>extractedType</code> results ends up as:</p>\n\n<pre><code>{\n    a: string, \n    b: string\n}\n</code></pre>\n\n<p>I would use that to convert from regular function parameters to functions that receive a parameter object (like React props).</p>\n"}, {"tags": ["javascript", "angular", "typescript", "undefined"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1568810103, "post_id": 57992915, "comment_id": 102392646, "body": "so <code>if (this.myValue === undefined)</code> does not work for an undefined value???"}, {"owner": {"reputation": 6840, "user_id": 6555572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-cTlFQs7dpvU/AAAAAAAAAAI/AAAAAAAABnU/Ywbtd98U9fY/photo.jpg?sz=128", "display_name": "Saurabh Agrawal", "link": "https://stackoverflow.com/users/6555572/saurabh-agrawal"}, "edited": false, "score": 0, "creation_date": 1568810171, "post_id": 57992915, "comment_id": 102392692, "body": "Did you try <code>====</code>??"}, {"owner": {"reputation": 1043, "user_id": 8957025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a90194ad8c6034232409a5d01a7bdaaa?s=128&d=identicon&r=PG&f=1", "display_name": "cvg", "link": "https://stackoverflow.com/users/8957025/cvg"}, "edited": false, "score": 0, "creation_date": 1568810539, "post_id": 57992915, "comment_id": 102392889, "body": "<code>if (this.myValue === undefined)</code> is not working, i was expecting it to work ,but its not"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568810831, "post_id": 57992915, "comment_id": 102393039, "body": "what is even <code>this.myObservable.status</code>?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568831138, "post_id": 57992915, "comment_id": 102403497, "body": "How are these code snippets related? when is each called? what is <code>My_Observables</code>? This is surely not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please provide one."}], "answers": [{"tags": [], "owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "is_accepted": false, "score": 0, "last_activity_date": 1568810597, "creation_date": 1568810597, "answer_id": 57993122, "question_id": 57992915, "link": "https://stackoverflow.com/questions/57992915/how-to-handle-an-undefined-parameter/57993122#57993122", "title": "How to handle an undefined parameter?", "body": "<p><code>if (!this.myValue || this.myValue==null)</code> this will check undefined and null also.</p>\n\n<pre><code>myImage() {\n    console.log('test')\n    this.myValue = this.myObservables.status\n    console.log(typeof(this.myValue))\n    if (!this.myValue || this.myValue==null)\n    {\n      console.log('undefined')\n      this.ahuValue = 0\n    }\n    else{\n    // do something\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12073094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bb7977bbedef7b3e401d1e19282b18?s=128&d=identicon&r=PG&f=1", "display_name": "ktsoleva", "link": "https://stackoverflow.com/users/12073094/ktsoleva"}, "is_accepted": false, "score": 0, "last_activity_date": 1568877903, "creation_date": 1568877903, "answer_id": 58005809, "question_id": 57992915, "link": "https://stackoverflow.com/questions/57992915/how-to-handle-an-undefined-parameter/58005809#58005809", "title": "How to handle an undefined parameter?", "body": "<p>You can check if <code>this.myValue</code> has a <strong>falsy</strong> value by adding <code>if(!this.myValue)</code>, then the if statement will be executed only if this.myValue has a value of 0, empty string, undefined or null.</p>\n\n<pre><code>myImage() {\n        console.log('test')\n        console.log(typeof(this.ahuObservables.on_off_status))\n        this.myValue = this.myObservables.status\n        console.log(typeof(this.myValue))\n        if (!this.myValue)\n        {\n// this part of the code will be executed if this.myValue is 0, empty string, undefined or null\n          console.log('undefined')\n          this.ahuValue = 0\n        }\n        else{\n        // do something\n       }\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 8957025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a90194ad8c6034232409a5d01a7bdaaa?s=128&d=identicon&r=PG&f=1", "display_name": "cvg", "link": "https://stackoverflow.com/users/8957025/cvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569624358, "creation_date": 1568809925, "last_edit_date": 1569624358, "question_id": 57992915, "link": "https://stackoverflow.com/questions/57992915/how-to-handle-an-undefined-parameter", "title": "How to handle an undefined parameter?", "body": "<p>I am developing an angular application. As part of it, i want to handle a case when certain paramter is undefined.</p>\n\n<p>my code</p>\n\n<pre><code>  myImage() {\n    console.log('test')\n    console.log(typeof(this.ahuObservables.on_off_status))\n    this.myValue = this.myObservables.status\n    console.log(typeof(this.myValue))\n    if (this.myValue  == null)\n    {\n      console.log('undefined')\n      this.ahuValue = 0\n    }\n    else{\n    // do something\n   }\n</code></pre>\n\n<pre><code> getDataRealTime()\n  {\n    console.log('Making a request')\n    this.SocketService.socket_connection()\n      .subscribe(\n        (data1: any) =&gt; {\n          console.log(data1)\n          let data11 = JSON.parse(data1)\n          this.myObservables = new My_Observables()\n          this.myObservables.status = data11['status']\n          console.log('variables parsed') \n        }\n      )\n\n\n  }\n</code></pre>\n\n<p><code>this.myObservables.status</code> is assigned in an api call. So when my api is not working i want my <code>myValue</code> variable to be 0. I have tried checking null, undefined but i am not able to assign a default value if myObservables.status is undefined.My second console.log is also not priniting anything in console. can some one help me with it?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "npm"], "comments": [{"owner": {"reputation": 1006, "user_id": 254694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3ab3129ddef520dbeeaa52c9e0723a48?s=128&d=identicon&r=PG", "display_name": "user254694", "link": "https://stackoverflow.com/users/254694/user254694"}, "edited": false, "score": 0, "creation_date": 1568810595, "post_id": 57992841, "comment_id": 102392918, "body": "I&#39;m supposing that when you import it expects a structure in popover.ts similar to the following &quot;export const Popover ...rest of function or whatever&quot; but it sounds like you have require commonjs format - you might want to read this <a href=\"https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x/46677972\" title=\"the difference between requirex and import x\">stackoverflow.com/questions/46677752/&hellip;</a>"}, {"owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "reply_to_user": {"reputation": 1006, "user_id": 254694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3ab3129ddef520dbeeaa52c9e0723a48?s=128&d=identicon&r=PG", "display_name": "user254694", "link": "https://stackoverflow.com/users/254694/user254694"}, "edited": false, "score": 0, "creation_date": 1568875400, "post_id": 57992841, "comment_id": 102415093, "body": "@user254694 See my update"}], "answers": [{"comments": [{"owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568875487, "post_id": 57993218, "comment_id": 102415132, "body": "See my update. I added generated types and added them to package.json"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568896439, "post_id": 57993218, "comment_id": 102426366, "body": "webpack should use compiled <code>.js</code> files from <code>node_modules</code> for your <code>popover</code> package, just like it does for every other package from <code>node_modules</code>. Those <code>.js</code> files should be compiled separately as a build step in <code>popover</code> package, before you publish it on npm. You have to figure out why webpack is trying to load and compile typescript files from <code>node_modules</code> -  this is not the normal way it&#39;s supposed work."}, {"owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568897355, "post_id": 57993218, "comment_id": 102426923, "body": "Why not the normal way. I require it - that&#39;s why it requires it. The whole question is around this problem. I require <code>popover</code> package which has <code>main</code> field as index.js, but index.js just exports imported Popover.ts. Read my question again."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568926044, "post_id": 57993218, "comment_id": 102440974, "body": "I mean, the require should make webpack to add <code>.js</code> file which is already compiled. When you consume <code>popover</code> as external module, it&#39;s not normal to compile <code>.ts</code> files from that module. So, <code>index.js</code> should export compiled <code>Popover.js</code>, not <code>.ts</code>."}, {"owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568974592, "post_id": 57993218, "comment_id": 102455090, "body": "I do not have <code>Popover.js</code>, I have only <code>Popover.ts</code>. That is the trick. My package is written in typescript."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568988543, "post_id": 57993218, "comment_id": 102462410, "body": "When you publish on npm, and your source language is <a href=\"https://stackoverflow.com/questions/30928253/writing-npm-modules-in-typescript\">something</a> <a href=\"https://stackoverflow.com/questions/13645824/can-i-write-npm-package-in-coffeescript\">other</a> than javascript, <a href=\"https://www.google.com/search?q=how+to+publish+npm+package+written+in+typescript\" rel=\"nofollow noreferrer\">the consensus seems to be</a> that source code should be compiled to javascript first, and it&#39;s compiled javascript files that should be published. Publishing source code is optional, but for typescript, generated <code>.d.ts</code> files should be included too."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568988733, "post_id": 57993218, "comment_id": 102462521, "body": "If you want to publish typescript source code only, and make everyone who uses the package to compile from source themselves - you are basically on your own, I don&#39;t think anyone has figured out an easy and convenient way to do that."}, {"owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1568998772, "post_id": 57993218, "comment_id": 102467162, "body": "I am not aware of it. My goal it to have package with typings where you require my package and have autocomplete etc. You suggest to create <code>js</code> folder and compile typescript files there?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1569002479, "post_id": 57993218, "comment_id": 102468535, "body": "Yes there should be a folder named <code>js</code> or <code>dist</code> or anything like that, then you have separate <code>tsconfig.json</code> in that package with <code>outDir</code> set to that folder, <code>declarations: true</code>, <code>module: commonjs</code>, and compile all sources in the package before publishing. In <code>package.json</code>, <code>main</code> should point to <code>js&#47;index.js</code> which should require <code>.js</code> files from that folder. <code>types</code> should point to <code>js&#47;index.d.ts</code>.  Then when using that package, webpack will bundle compiled <code>.js</code> files, and IDEs should follow <code>types</code> field in <code>package.json</code>, and use <code>.d.ts</code> for autocompletion, and type-checking."}, {"owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "edited": false, "score": 0, "creation_date": 1569072060, "post_id": 57993218, "comment_id": 102481888, "body": "Thanks for such an extensive response. Now I am getting an understanding of how it works."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 2, "last_activity_date": 1568810911, "creation_date": 1568810911, "answer_id": 57993218, "question_id": 57992841, "link": "https://stackoverflow.com/questions/57992841/how-to-point-index-file-for-npm-package-written-in-typescript/57993218#57993218", "title": "How to point index file for npm package written in typescript", "body": "<p>Your package should also contain <code>index.d.ts</code>. and your <code>package.json</code> should have <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html#including-declarations-in-your-npm-package\" rel=\"nofollow noreferrer\"><code>types</code></a> field which points to that file. This will allow importing the package from <code>node_modules</code> in typescript.</p>\n\n<p><code>index.d.ts</code> is generated by TypeScript compiler along with <code>index.js</code> when <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\"><code>--declataion</code></a> compiler option is on. It's off by default, you should add it in <code>tsconfig.json</code> file (or command line) if you are going to publish your package with <code>npm</code>.</p>\n\n<blockquote>\n  <p>when I build demo with webpack, I got no errors, however build file does not contain the contents of Popover.ts</p>\n</blockquote>\n\n<p>This is likely a separate problem. If you are not actually using imported <code>Popover</code> in your typescript file, <a href=\"http://www.typescriptlang.org/docs/handbook/modules.html#optional-module-loading-and-other-advanced-loading-scenarios\" rel=\"nofollow noreferrer\">the compiler will not generate <code>require</code> call for that module</a> as an optimization, so the <code>Popover.js</code> will not be included in the bundle. If you are using imported value, it compiles with TypeScript without errors, but generated javascript still does not work, but using that module directly from javascript works - that would be unusual and require more information to solve.</p>\n"}], "owner": {"reputation": 1924, "user_id": 4786315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250435857a5bfa64bf5e5584abd3116c?s=128&d=identicon&r=PG&f=1", "display_name": "FreeLightman", "link": "https://stackoverflow.com/users/4786315/freelightman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1510, "favorite_count": 0, "accepted_answer_id": 57993218, "answer_count": 1, "score": 0, "last_activity_date": 1568875373, "creation_date": 1568809692, "last_edit_date": 1568875373, "question_id": 57992841, "link": "https://stackoverflow.com/questions/57992841/how-to-point-index-file-for-npm-package-written-in-typescript", "title": "How to point index file for npm package written in typescript", "body": "<p>I have a package written in typescript. Main module is located in <code>src</code> and is called <code>Popover.ts</code>. Main index file is called <code>index.js</code> and <code>main</code> field in <code>package.json</code> is pointed to that file. It has such content:</p>\n\n<pre><code>exports.Popover = require('./src/js/Popover');\n</code></pre>\n\n<p>Then in another package I try to include this plugin. I installed it with npm. And here issues come. In javascript everything works well:</p>\n\n<pre><code>const Popover = require('popover');\n</code></pre>\n\n<p>But when I try to import it in typescript file (demo.ts) it does not work:</p>\n\n<pre><code>import Popover from 'popover';\n</code></pre>\n\n<p>First, PhpStorm highlights <code>popover</code> with a red line and says <code>Can not find module 'popover'</code>. Second, when I build demo with webpack, I got no errors, however build file does not contain the contents of <code>Popover.ts</code>.</p>\n\n<p>I do not understand why it happens and how I can fix it.</p>\n\n<p><strong>Update</strong>: I managed to get rid of red highlighting in PhpStorm by setting <code>\"moduleResolution\": \"node\"</code> in <code>tsconfig.json</code> (thanks to @user254694). However then I got a different problem: build failed. Webpack generated such an error:</p>\n\n<pre><code>Error: TypeScript emitted no output for \nF:\\dev\\js\\plugins\\popover\\demo\\npm\\node_modules\\popover\\src\\js\\Popover.ts. \nBy default, ts-loader will not compile .ts files in node_modules.\n</code></pre>\n\n<p>I googled this error and come to the following solution. Add <code>allowTsInNodeModules</code> option to <code>ts-loader</code>:</p>\n\n<pre><code>loader: 'ts-loader',\noptions: {\n   allowTsInNodeModules: true\n}\n</code></pre>\n\n<p>Then I added such lines to <code>tsconfig.js</code>:</p>\n\n<pre><code>\"include\": [\n    \"node_modules/popover/src/**/*\",\n    \"node_modules/popover/index.js\",\n    \"node_modules/popover/typings/**/*\"\n  ]\n</code></pre>\n\n<p>While this eliminated the webpack error and it compiled successfully, I got red highlight again.</p>\n\n<p><strong>PS</strong>: I generated declaration types in <code>typings</code> directory and now my <code>package.json</code> looks like this:</p>\n\n<pre><code>\"main\": \"index.js\",\n\"types\": \"typings/index.d.ts\",\n</code></pre>\n\n<p>Still wonder how to make it working.</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1568809480, "post_id": 57992685, "comment_id": 102392287, "body": "At least related: <a href=\"https://stackoverflow.com/questions/17380845/how-do-i-convert-a-string-to-enum-in-typescript\" title=\"how do i convert a string to enum in typescript\">stackoverflow.com/questions/17380845/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "edited": false, "score": 1, "creation_date": 1568809809, "post_id": 57992793, "comment_id": 102392489, "body": "Thank you so much - so easy!"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "edited": false, "score": 0, "creation_date": 1568813519, "post_id": 57992793, "comment_id": 102394613, "body": "@Shamoon - Note: The first version of my answer would also accept <code>siteCode</code> being <code>0</code>, <code>1</code>, <code>2</code>, <code>&quot;0&quot;</code>, <code>&quot;1&quot;</code>, <code>&quot;2&quot;</code>, <code>&quot;valueOf&quot;</code>, and a few others as valid enum strings. I&#39;ve updated with a more thorough version."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 1, "last_activity_date": 1568813477, "last_edit_date": 1568813477, "creation_date": 1568809568, "answer_id": 57992793, "question_id": 57992685, "link": "https://stackoverflow.com/questions/57992685/can-i-validate-that-a-value-is-within-the-enum-conditions-with-typescript/57992793#57992793", "title": "Can I validate that a value is within the enum conditions with TypeScript?", "body": "<p>Since you can index into an <code>enum</code> with a string, my first pass at it was that you can verify it like this:</p>\n\n<pre><code>const isValid = SiteCodes[siteCode as any] !== undefined;\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/KYOwrgtgBAyglgF2AYQPYBNgGcoG8BQURUA5AKowCCJANIcScpQHK31EkDiAQifgL758AMzAgAxgjioQUcQAtg4gNYAKEAEMIwAFxQsCAE5wQAcwCUeeuJkGocLADUNAGzjooAXliIUGbADamtpQGjgaIACeALpQAISe3mKYwibA6ADc1raoLsAAdC6opqoABgAkuMHA-HqVDs5u6Pyl5lmC+ApKagBEFD1tRAD0Q1AgqAhQAG6u7p2KKqp9VAMZUCPTs+hAA\" rel=\"nofollow noreferrer\">Live on the playground</a></p>\n\n<p>There are a couple of problems with the above, though:</p>\n\n<ol>\n<li><p>It'll accept <code>0</code>, <code>1</code>, <code>2</code>, <code>\"0\"</code>, <code>\"1\"</code>, and <code>\"2\"</code> as well as valid enum strings.</p></li>\n<li><p>It'll accept <code>\"valueOf\"</code>, <code>\"toString\"</code>, and other <code>Object.prototype</code> properties as valid enum strings.</p></li>\n</ol>\n\n<p>So here's a more thorough version:</p>\n\n<pre><code>const isValid = !!(siteCode &amp;&amp; isNaN(+siteCode) &amp;&amp; Object.prototype.hasOwnProperty.call(SiteCodes, siteCode));\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/KYOwrgtgBAyglgF2AYQPYBNgGcoG8BQURUA5AKowCCJANIcScpQHK31EkDiAQifgL758AMzAgAxgjioQUcQAtg4gNYAKLIhQZgALihYEAJzggA5gEo89cTINQ4WAGoBDADZx0UALxQAhL-VNNEwoADJQ+yxmZ2ZVAGoNJGDgS3CoAHkAIwArJQQAOgAHQ1QEUoBPQuB8+WcsdIB3EAAFEqrDBHL88TdXVXgk7SwafSDtc3MAbmtbVFdq11RTVQADABJcRK1Mfj0Nhxd3dH4VqYEhBSU1ACIKa6miAHpHqBBSqAA3Nw98S5VVW5Ue6TKDPT7fdC-RT-a4ABmBxDBbwQ4KOQA\" rel=\"nofollow noreferrer\">Live on the playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1568812915, "post_id": 57993275, "comment_id": 102394262, "body": "The only problem with this is that if you set <code>badSiteCode</code> to <code>0</code>, <code>1</code>, or <code>3</code>, you&#39;ll get a false positive, since the objects have properties both for the number version and the string version. ... ... ... which is also a problem with <i>my</i> answer. :-)"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1568813246, "post_id": 57993275, "comment_id": 102394465, "body": "Both of ours <i>also</i> accept <code>&quot;valueOf&quot;</code>  and other <code>Object.prototype</code> properties."}], "tags": [], "owner": {"reputation": 1187, "user_id": 1311181, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/hYcGd.jpg?s=128&g=1", "display_name": "Tomasz Sikora", "link": "https://stackoverflow.com/users/1311181/tomasz-sikora"}, "is_accepted": false, "score": 1, "last_activity_date": 1568811080, "creation_date": 1568811080, "answer_id": 57993275, "question_id": 57992685, "link": "https://stackoverflow.com/questions/57992685/can-i-validate-that-a-value-is-within-the-enum-conditions-with-typescript/57993275#57993275", "title": "Can I validate that a value is within the enum conditions with TypeScript?", "body": "<p>You can use 'in' like:</p>\n\n<pre><code>enum SiteCodes {\n    'USA',\n    'CAN',\n    'GB'\n}\n\nlet badSiteCode = 'badSiteCode';\nlet validSiteCode = 'USA'\n\nconsole.log(badSiteCode in SiteCodes);\nconsole.log(validSiteCode in SiteCodes);\n</code></pre>\n\n<p>Checkout this fiddle:\n<a href=\"https://jsfiddle.net/dqLatzk2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/dqLatzk2/</a></p>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57992793, "answer_count": 2, "score": 0, "last_activity_date": 1568813477, "creation_date": 1568809247, "question_id": 57992685, "link": "https://stackoverflow.com/questions/57992685/can-i-validate-that-a-value-is-within-the-enum-conditions-with-typescript", "title": "Can I validate that a value is within the enum conditions with TypeScript?", "body": "<p>I have:</p>\n\n<pre><code>export enum SiteCodes {\n    'USA',\n    'CAN',\n    'GB'\n}\n\nexport interface GetSkuItemsRequest {\n    siteCode: SiteCodes;\n}\n\n\nexport default class GetSkuItems {\n    public event: APIGatewayProxyEvent;\n    private PARAMS_TO_PICK = [\n        'siteCode'\n    ];\n\n    private validateParams(pickedParams: { [key: string]: string }){\n        const {\n            siteCode\n        } = pickedParams;\n\n        if (!siteCode) {\n            throw MISSING_PARAMS_ERROR;\n        }\n\n    }\n}\n\n</code></pre>\n\n<p>What I want to do in the <code>validateParams</code> is to ensure that the <code>siteCode</code> in included in the enum of <code>SiteCodes</code></p>\n"}, {"tags": ["angular", "typescript", "ngfor", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1568809104, "creation_date": 1568809104, "answer_id": 57992639, "question_id": 57992610, "link": "https://stackoverflow.com/questions/57992610/ngif-list-only-on-one-section-in-ngfor/57992639#57992639", "title": "ngIf list only on one section in ngFor", "body": "<p>Change <code>if(name === 'name1')</code> to <code>if(s.name === 'name1')</code></p>\n\n<blockquote>\n  <p>s.name</p>\n</blockquote>\n\n<p>Try like this:</p>\n\n<pre><code>this.myArray.forEach(s =&gt; {\n\n  if(s.name === 'name1') {\n    this.isName1 = true;\n  }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1568809379, "creation_date": 1568809379, "answer_id": 57992731, "question_id": 57992610, "link": "https://stackoverflow.com/questions/57992610/ngif-list-only-on-one-section-in-ngfor/57992731#57992731", "title": "ngIf list only on one section in ngFor", "body": "<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"content\" *ngFor=\"let details of myArray\"&gt;\n    &lt;h2&gt;{{details.name}}&lt;/h2&gt;\n    &lt;div class=\"description\"&gt;{{details.description}}&lt;/div&gt;\n\n    &lt;ul *ngIf=\"details.name === 'name1'\"&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item1&lt;/span&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item2&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 10169606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79cdc2db275e4c59e4c7dc4393d83bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azeem", "link": "https://stackoverflow.com/users/10169606/mohammad-azeem"}, "is_accepted": false, "score": 3, "last_activity_date": 1568809439, "creation_date": 1568809439, "answer_id": 57992756, "question_id": 57992610, "link": "https://stackoverflow.com/questions/57992610/ngif-list-only-on-one-section-in-ngfor/57992756#57992756", "title": "ngIf list only on one section in ngFor", "body": "<p>Consider using ng-template</p>\n\n<p>The beauty of using  is it will not be shown in HTML (as inline or block element).</p>\n\n<p>Sample Code:</p>\n\n<pre><code>&lt;div class=\"content\" *ngFor=\"let details of myArray\"&gt;\n    &lt;h2&gt;{{details.name}}&lt;/h2&gt;\n    &lt;div class=\"description\"&gt;{{details.description}}&lt;/div&gt;\n\n    &lt;ul&gt;\n    &lt;ng-template [ngIf]=\"isName1\"&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item1&lt;/span&gt;\n        &lt;/li&gt;\n      &lt;/ng-template&gt;\n      &lt;ng-template [ngIf]=\"!isName1\"&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item2&lt;/span&gt;\n        &lt;/li&gt;\n      &lt;/ng-template&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": false, "score": 1, "last_activity_date": 1568809498, "creation_date": 1568809498, "answer_id": 57992774, "question_id": 57992610, "link": "https://stackoverflow.com/questions/57992610/ngif-list-only-on-one-section-in-ngfor/57992774#57992774", "title": "ngIf list only on one section in ngFor", "body": "<p>As far i understand you want to limit items in ngfor here is and important link</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37818677/how-can-i-limit-ngfor-repeat-to-some-number-of-items-in-angular\">How can I limit ngFor repeat to some number of items in Angular?</a></p>\n\n<p>So your code will look like </p>\n\n<pre><code>&lt;ng-container *ngFor=\"let details of myArray;let i=index\" &gt;\n&lt;div class=\"content\" *ngIf=\"i==0\"&gt;\n    &lt;h2&gt;{{details.name}}&lt;/h2&gt;\n    &lt;div class=\"description\"&gt;{{details.description}}&lt;/div&gt;\n\n    &lt;ul &gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item1&lt;/span&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item2&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 617, "user_id": 2103072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538f364e26b89bea4112ff68f03f8202?s=128&d=identicon&r=PG", "display_name": "DevStacker", "link": "https://stackoverflow.com/users/2103072/devstacker"}, "edited": false, "score": 0, "creation_date": 1568893811, "post_id": 57993339, "comment_id": 102424872, "body": "Thanks, I found this to work best. Is it also possible to use second and third if I want the next element to have another list?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 617, "user_id": 2103072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538f364e26b89bea4112ff68f03f8202?s=128&d=identicon&r=PG", "display_name": "DevStacker", "link": "https://stackoverflow.com/users/2103072/devstacker"}, "edited": false, "score": 0, "creation_date": 1568893967, "post_id": 57993339, "comment_id": 102424947, "body": "Then I would suggest to look into the index of the items in the array, since ngFor just provides truthy values for first and last item in array."}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 2, "last_activity_date": 1568811333, "creation_date": 1568811333, "answer_id": 57993339, "question_id": 57992610, "link": "https://stackoverflow.com/questions/57992610/ngif-list-only-on-one-section-in-ngfor/57993339#57993339", "title": "ngIf list only on one section in ngFor", "body": "<p>If you <strong>always</strong> want to just apply the condition to first element, despite of the value, you can use <a href=\"https://angular.io/api/common/NgForOf#local-variables\" rel=\"nofollow noreferrer\"><code>first</code></a>, which is provided by angular in <code>*ngFor</code>. So there is then no need to use the <code>forEach</code> loop:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"content\" *ngFor=\"let details of myArray; let first = first\"&gt;\n  &lt;h2&gt;{{details.name}}&lt;/h2&gt;\n  &lt;div class=\"description\"&gt;{{details.description}}&lt;/div&gt;\n\n  &lt;ul *ngIf=\"first\"&gt;\n    &lt;li&gt;\n      &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n      &lt;span&gt;item1&lt;/span&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n      &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n      &lt;span&gt;item2&lt;/span&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-yfnt2p?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">STACKBLITZ</a></strong>\n</p>\n"}], "owner": {"reputation": 617, "user_id": 2103072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538f364e26b89bea4112ff68f03f8202?s=128&d=identicon&r=PG", "display_name": "DevStacker", "link": "https://stackoverflow.com/users/2103072/devstacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1379, "favorite_count": 1, "accepted_answer_id": 57993339, "answer_count": 5, "score": 3, "last_activity_date": 1568811333, "creation_date": 1568808999, "question_id": 57992610, "link": "https://stackoverflow.com/questions/57992610/ngif-list-only-on-one-section-in-ngfor", "title": "ngIf list only on one section in ngFor", "body": "<p>I am using Angular8 and have an ngFor to display an array of people. </p>\n\n<p>This is the Array</p>\n\n<pre><code>private myArray: {}[] =\n    [\n        {\n            \"name\": \"name1\",\n            \"description\": \"description goes here\",\n        },\n        {\n            \"serviceName\": \"name2\",\n            \"description\": \"description goes here\",\n        }\n    ]\n</code></pre>\n\n<p>This is the HTML</p>\n\n<pre><code>&lt;div class=\"content\" *ngFor=\"let details of myArray\"&gt;\n    &lt;h2&gt;{{details.name}}&lt;/h2&gt;\n    &lt;div class=\"description\"&gt;{{details.description}}&lt;/div&gt;\n\n    &lt;ul *ngIf=\"isName1\"&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item1&lt;/span&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;i class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n            &lt;span&gt;item2&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have a foreach loop which loops through the array and changes <code>isName1</code> to true if it is the first in the array. </p>\n\n<pre><code>this.myArray.forEach(s =&gt; {\n\n  if(name === 'name1') {\n    this.isName1 = true;\n  }\n});\n</code></pre>\n\n<p>What I am trying to do is to get the <code>ul</code> to only show for the first element but not the 2nd, yet it is coming up for both. Is there any way to achieve this? \nThanks </p>\n"}, {"tags": ["typescript", "vuejs2", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "edited": false, "score": 0, "creation_date": 1568825284, "post_id": 57993993, "comment_id": 102401242, "body": "Thank you for the help. I only have one more question, my linter is only yelling at one part, jest.MockedFunction in lines 15, 27,and 34.  any Namespace &#39;jest&#39; has no exported member &#39;MockedFunction&#39;.ts(2694)"}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "reply_to_user": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "edited": false, "score": 1, "creation_date": 1568825417, "post_id": 57993993, "comment_id": 102401295, "body": "@Sanwil9 It could be the version issue. Please check and upgrade"}, {"owner": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "edited": false, "score": 0, "creation_date": 1568831969, "post_id": 57993993, "comment_id": 102403846, "body": "Ah, yea, my package.json was generated by the vue cli &quot;ts-jest&quot;: &quot;^23.0.0&quot; ,&quot;@types/jest&quot;: &quot;^23.1.4&quot;,     &quot;@vue/cli-plugin-unit-jest&quot;: &quot;^3.11.0&quot;,"}, {"owner": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "edited": false, "score": 0, "creation_date": 1568832025, "post_id": 57993993, "comment_id": 102403872, "body": "I will commit current state, upgrade, if it breaks, I&#39;ll revert back. I have no clue where all I have to reconfigure anything if it&#39;s necessary. I&#39;ll have to hunt in the docs"}, {"owner": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "edited": false, "score": 0, "creation_date": 1569249099, "post_id": 57993993, "comment_id": 102525729, "body": "Also, I updated everything to match. It&#39;s still complaining. ts-jest is saying it&#39;s not suppported and everything jest related is highlighted"}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "reply_to_user": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "edited": false, "score": 0, "creation_date": 1569291243, "post_id": 57993993, "comment_id": 102539811, "body": "@Sanwil9 Can you take a look at the demo, check the version and configuration"}], "tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": true, "score": 1, "last_activity_date": 1568825351, "last_edit_date": 1568825351, "creation_date": 1568813543, "answer_id": 57993993, "question_id": 57992553, "link": "https://stackoverflow.com/questions/57992553/how-do-i-go-about-testing-this-code-in-jest/57993993#57993993", "title": "How do I go about testing this code in jest?", "body": "<p>Unit test for this class is nothing related to <code>Vue.js</code>, here is the solution, folder structure:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>\u251c\u2500\u2500 ExampleService.ts\n\u251c\u2500\u2500 __tests__\n\u2502   \u2514\u2500\u2500 ExampleService.spec.ts\n\u251c\u2500\u2500 axiosConfig.ts\n\u2514\u2500\u2500 interfaces\n    \u2514\u2500\u2500 Approval.ts\n\n2 directories, 4 files\n</code></pre>\n\n<p>Unit test, <code>ExampleService.spec.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import ExampleService from '../ExampleService';\nimport axios, { AxiosResponse } from 'axios';\n\njest.mock('axios', () =&gt; {\n  return {\n    create: jest.fn().mockReturnThis(),\n    get: jest.fn()\n  };\n});\n\nconst exampleService = new ExampleService();\n\ndescribe('ExampleService', () =&gt; {\n  beforeEach(() =&gt; {\n    (axios.create().get as jest.MockedFunction&lt;typeof axios.get&gt;).mockReset();\n  });\n\n  describe('#getApprovals', () =&gt; {\n    const mockedResponse: AxiosResponse = {\n      data: 'mocked data',\n      status: 200,\n      statusText: 'ok',\n      headers: {},\n      config: {}\n    };\n    it('should get approvals by id correctly', async () =&gt; {\n      (axios.create().get as jest.MockedFunction&lt;typeof axios.get&gt;).mockResolvedValueOnce(mockedResponse);\n      const actualValue = await exampleService.getApprovals('1');\n      expect(actualValue).toEqual(mockedResponse.data);\n      expect(axios.create().get).toBeCalledWith(`/api/approval/1`);\n    });\n\n    it('should get approvals correctly', async () =&gt; {\n      (axios.create().get as jest.MockedFunction&lt;typeof axios.get&gt;).mockResolvedValueOnce(mockedResponse);\n      const actualValue = await exampleService.getApprovals();\n      expect(actualValue).toEqual(mockedResponse.data);\n      expect(axios.create().get).toBeCalledWith(`/api/approval`);\n    });\n  });\n});\n\n</code></pre>\n\n<p>Unit test result with coverage report:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> PASS  src/stackoverflow/57992553/__tests__/ExampleService.spec.ts (7.041s)\n  ExampleService\n    #getApprovals\n      \u2713 should get approvals by id correctly (14ms)\n      \u2713 should get approvals correctly (3ms)\n\n-------------------|----------|----------|----------|----------|-------------------|\nFile               |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n-------------------|----------|----------|----------|----------|-------------------|\nAll files          |    73.91 |    53.85 |    57.14 |    83.33 |                   |\n ExampleService.ts |       70 |    53.85 |    57.14 |       80 |          19,23,27 |\n axiosConfig.ts    |      100 |      100 |      100 |      100 |                   |\n-------------------|----------|----------|----------|----------|-------------------|\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        8.532s\n</code></pre>\n\n<p>I only test <code>getApprovals</code> method, you can test the other methods in the same way.</p>\n\n<p>Above unit test based on:</p>\n\n<pre><code>\"jest\": \"^24.8.0\",\n\"@types/jest\": \"^24.0.17\",\n</code></pre>\n\n<p>Here is the completed demo: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/57992553\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/57992553</a></p>\n"}], "owner": {"reputation": 131, "user_id": 6907960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223512c9a34d1fe337a14ffb5ac37a18?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwil9", "link": "https://stackoverflow.com/users/6907960/sanwil9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 57993993, "answer_count": 1, "score": 0, "last_activity_date": 1568825351, "creation_date": 1568808826, "last_edit_date": 1592644375, "question_id": 57992553, "link": "https://stackoverflow.com/questions/57992553/how-do-i-go-about-testing-this-code-in-jest", "title": "How do I go about testing this code in jest?", "body": "<p>I'm pretty new to mocking and I understand assertions and find them easy. However, mocking is racking my brain. I have a vue project in typescript. Thing is, I'm stuck and don't know how to go about testing the API calls that I've exposed as service classes.</p>\n<h2>My Thinking and Code Design</h2>\n<h3>apiClient</h3>\n<p>I have created a single axios instance called &quot;apiClient&quot; so I can have the custom config available at any time. I have stored this at the root of my project.</p>\n<h3>Services</h3>\n<p>I have created each endpoint of the API as a &quot;service&quot; in my services folder\nEach service is a class with a bunch of functions in it that I will use to get the data that I need.</p>\n<h2>My Questions</h2>\n<ul>\n<li><p>My understanding is that you want to mock all dependencies, So do I need to start with my custom axios instance?</p>\n</li>\n<li><p>Do I need to mock the class as well?</p>\n</li>\n<li><p>How would I go about mocking this in general? I know in development the most general answer is, &quot;it depends&quot; but I've been walking through the jest docs and I don't find some of it clear. (Maybe it's me approaching it for an answer)</p>\n</li>\n<li><p>What all do I need to mock?</p>\n</li>\n</ul>\n<h2>My Code</h2>\n<h3>ExampleService.ts</h3>\n<pre><code>import Approval from '@/interfaces/Approval';\nimport apiClient from '@/axiosConfig';\nimport { AxiosResponse } from 'axios';\n\nexport default class ExampleService {\n    // Approvals\n    public async getApprovals(id?: string) {\n        if (id != null || id !== undefined) {\n            return await apiClient\n            .get(`/api//approval/${id}`)\n            .then((response: AxiosResponse&lt;Approval&gt;) =&gt; {\n                return response.data;\n            });\n\n        } else {\n            return await apiClient\n            .get('/api/approval')\n            .then((response: AxiosResponse&lt;Approval[]&gt;) =&gt; {\n                return response.data;\n            });\n        }\n    }\n\n    public async postApproval(approval: Approval) {\n        return await apiClient\n        .post('/api/approval', approval);\n    }\n\n    public async putAppoval(id: string, approval: Approval) {\n        return await apiClient\n        .put(`/api/approval/${id}`, approval);\n    }\n\n    public async deleteApproval(id: string) {\n        return await apiClient\n        .delete(`/api/approval/${id}`);\n    }\n}\n</code></pre>\n<h3>CustomAxiosInstance.ts</h3>\n<pre><code>import axios, { AxiosResponse } from 'axios';\nconst apiClient = axios.create({\n    baseURL: `${process.env.VUE_APP_ROOT_API}`,\n});\n\nexport default apiClient;\n</code></pre>\n<h2>My Expectations</h2>\n<p>Would love some example code of how I would mock this and some explanation over why you chose to do the method you chose. Please critique my code as well. I only want to improve.</p>\n"}, {"tags": ["typescript", "google-cloud-firestore", "google-cloud-functions", "firebase-admin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1568809387, "post_id": 57992459, "comment_id": 102392220, "body": "&quot;<i>I&#39;m facing a delay issue. some organization comes and some aren&#39;t. promise await not working well or my code is wrong.</i>&quot; - if your doesn&#39;t does do what you want, it&#39;s probably is wrong, as you say. Please edit the question to show the code, and also explain what&#39;s not working the way you expect."}, {"owner": {"reputation": 1132, "user_id": 2549840, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/61ffc47a2e8d4dd180640019c01f1f3e?s=128&d=identicon&r=PG", "display_name": "dzof31", "link": "https://stackoverflow.com/users/2549840/dzof31"}, "edited": false, "score": 0, "creation_date": 1568809942, "post_id": 57992459, "comment_id": 102392565, "body": "Please share your code so we can understand more"}], "owner": {"reputation": 1, "user_id": 12084910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--EmooxvYOhY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzNv_Kr10LiDfLYzxTlVqPmOp0lw/photo.jpg?sz=128", "display_name": "Karthik M", "link": "https://stackoverflow.com/users/12084910/karthik-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1596604652, "creation_date": 1568808545, "last_edit_date": 1596604652, "question_id": 57992459, "link": "https://stackoverflow.com/questions/57992459/get-collection-of-multiple-documents-with-its-subcollection-data-with-single-fet", "title": "Get Collection of multiple Documents with its subcollection data with single fetch(Firestore)", "body": "<p>I have a user uid. User has multiple roles and each role mapped into different organizations and each organization has sports collections.</p>\n<p>Now I have to check the user Roles and unique organization List then sports and finally send it to client</p>\n<p>I'm facing a delay issue: some organizations come in and some aren't. Promise <code>await</code> is not working well or my code is wrong.</p>\n<p>Get User details using id from (user Collection)</p>\n<ol>\n<li><p>User Subcollection(Role by season) - Roles list with Organization_id as unique (multiple Organization)</p>\n</li>\n<li><p>Use of the Multiple organization List get all one by with collection.doc</p>\n</li>\n<li><p>After getting the organization and its child sports details(subcollection multiple)</p>\n</li>\n<li><p>After all the organization and its sports got you can return the response to the Client. The response must be role base organization</p>\n</li>\n</ol>\n<p>Example Code:</p>\n<pre><code>adminref.collection('/users').doc(uid).get().then(async userExist =&gt; {\n                if (userExist.exists) {\n                    //Roles Based Organizations                    \n                    await adminref.collection('/users').doc(uid).collection('/roles_by_season').where('organization_id', '&gt;', '').get().then(async roleOrg =&gt; {\n                        const roleBasedOrgList: any = roleOrg.docs.map(doc =&gt; doc.get('organization_id'));\n                        let roleBasedOrgUniqueList: any = [];\n                        roleBasedOrgUniqueList = roleBasedOrgList.filter((elem: any, index: any, self: any) =&gt; {\n                            return index === self.indexOf(elem);\n                        }) // Unique Organization for the user\n\n                        const roleBasedOrg: any = [];\n                        if (roleBasedOrgUniqueList.length !== 0) {\n                            roleBasedOrgUniqueList.forEach(async (orgInfo: any, orgIndex: any) =&gt; {\n                                \n                                await adminref.collection('/organization').doc(orgInfo).get().then(async organizationInfo =&gt; {\n                                    const organizationDetail: any = organizationInfo.data();\n                                    organizationDetail.sports = [];\n                                    try {\n                                        const sportsSnapshot = await adminref.collection('/organization').doc(orgInfo).collection('/sports').get()                                        \n                                        organizationDetail.sports = sportsSnapshot.docs.map(doc =&gt; doc.data());\n                                        if(organizationDetail.sports.length === 0) {\n                                            organizationDetail.sports = [];\n                                        }\n                                    } catch (err) {\n                                        console.log(err);\n                                    }\n                                    roleBasedOrg.push(organizationDetail);\n                                    if (orgIndex === (roleBasedOrgUniqueList.length - 1)) {\n                                        \n                                        response.status(200).send({ status: true, message: 'Role Based Organization List Information', data: roleBasedOrg });\n                                    }\n                                }).catch(error =&gt; {\n                                    console.log(error);\n                                })\n                            });\n                        } else {\n                            response.status(200).send({ status: true, message: 'There is no organization assigned to this User', 'data': roleBasedOrg });\n                        }\n                    }).catch(error =&gt; {\n                        console.log(error);\n                    })\n                } else {\n                    response.status(200).send({ status: false, message: 'No data available for this Uid' });\n                }\n            }).catch(error =&gt; {\n                response.status(200).send({ status: false, message: error.message });\n                console.log(error);\n            })\n</code></pre>\n<p>Example JSON:</p>\n<pre><code>{\n    &quot;status&quot;: true,\n    &quot;message&quot;: &quot;Role Based Organization List Information&quot;,\n    &quot;data&quot;: [\n        {\n            \n            &quot;organization_id&quot;: &quot;AFIEflH0XBiAEPZuBdoB&quot;,            \n            &quot;name&quot;: &quot;Organization 1&quot;,            \n            &quot;sports&quot;: [\n                {\n                    &quot;name&quot;: &quot;Foot Ball&quot;,\n                    &quot;sport_id&quot;: &quot;foot_ball&quot;,\n                    &quot;updated_uid&quot;: &quot;&quot;,\n                    &quot;created_uid&quot;: &quot;&quot;,\n                    &quot;created_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;updated_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;\n                },\n                {\n                    &quot;updated_uid&quot;: &quot;&quot;,\n                    &quot;created_uid&quot;: &quot;&quot;,\n                    &quot;created_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;updated_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;name&quot;: &quot;Ice Hockey&quot;,\n                    &quot;sport_id&quot;: &quot;ice_hockey&quot;\n                }\n            ]\n        },\n        {\n            \n            &quot;name&quot;: &quot;Minnesota Made&quot;,\n            &quot;organization_id&quot;: &quot;etYHyjCu9R5boNq2Fc4p&quot;,\n            &quot;sports&quot;: [\n                {\n                    &quot;sport_id&quot;: &quot;ice_hockey&quot;,\n                    &quot;updated_uid&quot;: &quot;&quot;,\n                    &quot;created_uid&quot;: &quot;&quot;,\n                    &quot;created_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;updated_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;name&quot;: &quot;Ice Hockey&quot;\n                },\n                {\n                    &quot;sport_id&quot;: &quot;lacrosse&quot;,\n                    &quot;updated_uid&quot;: &quot;&quot;,\n                    &quot;created_uid&quot;: &quot;&quot;,\n                    &quot;created_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;updated_datetime&quot;: &quot;2019-09-11T04:00:00.000Z&quot;,\n                    &quot;name&quot;: &quot;Lacrosse&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>Is there a better solution with the promise <code>async/await</code> for Cloud function Admin SDK?</p>\n"}, {"tags": ["json", "typescript", "angular6", "angular-json"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 12084252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBBPVcs_Szc75Ei634zKkGME17-7kpVYfuFiqgxkQ=k-s128", "display_name": "BHOOPENDRA KUMAR", "link": "https://stackoverflow.com/users/12084252/bhoopendra-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1569095748, "creation_date": 1569095748, "answer_id": 58043642, "question_id": 57991732, "link": "https://stackoverflow.com/questions/57991732/how-to-access-the-json-data-response-from-the-api-i-am-using-angular6/58043642#58043642", "title": "how to access the JSON data response from the api I am using angular6", "body": "<p>Based on your code and api response i think you want something like this</p>\n\n<pre><code>\n\n@Component({\n  selector   : 'app-item-detail',\n  templateUrl: './item-detail.component.html',\n  styleUrls  : ['./item-detail.component.scss']\n})\nexport class ItemDetailComponent implements OnInit {\n  id: number;\n  price: number;\n  orderDetail: OrderModel;\n  orderList:OrderList[]=[];\n  orderId:number;\n  orderStatus:string;\n  orderMode:string;\n  orderAmount:number;\n  orderDate:string;\n\n\n  constructor(private campusservice: OrdersService, private _campusHaatService: OrdersService, private route: ActivatedRoute) {\n    this.route.params.subscribe((r) =&gt; this.id = r['id']);\n  }\n\n  ngOnInit() {\n\n\n    // console.log(this.price,'price')\n    console.log(this.id, 'id');\n//TODO Api calling Order by Id\n    const data = {\n      \"orderLoadType\": 3,\n      \"userId\": \"\",\n      \"creator\": {\n        \"id\": \"5794\",\n        \"APIKey\": \"63923f49e5241343\",\n        \"createDate\": \"2019-03-22 01:56:25.0\",\n        \"creatorId\": \"402\"\n      },\n      \"start\":0,\n      \"limit\":10,\n      \"orderId\":\"\",\n      \"loadType\": 0\n    }\n\n    this.campusservice.orderDetail(data).subscribe((r) =&gt; {\n      this.orderList = r['ordersList'][0]['orderList'];\n      let orderData = this.orderList.filter((order)=&gt;order.orderId==this.id.toString());\n\n      if(orderData.length&gt;=1){\n        this.orderAmount = orderData[0]['payment']['paymentAmount'];\n        this.orderDate = orderData[0]['creator']['createDate'];\n        this.orderStatus = orderData[0]['orderStatus']['status']['categoryTitle'];\n      }\n    });\n\n  }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 10449475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyo8T.jpg?s=128&g=1", "display_name": "Dharam Dutt Mishra", "link": "https://stackoverflow.com/users/10449475/dharam-dutt-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58043642, "answer_count": 1, "score": 0, "last_activity_date": 1569095748, "creation_date": 1568806117, "question_id": 57991732, "link": "https://stackoverflow.com/questions/57991732/how-to-access-the-json-data-response-from-the-api-i-am-using-angular6", "title": "how to access the JSON data response from the api I am using angular6", "body": "<p>Here I am using the angualar6 and. I am fetching the data from the API and created a model class in typescript. I don't know where am I doing mistake. I am new In angular.</p>\n\n<pre><code> order.model.ts\n\n export interface OrderModel {\n  orderList: OrderList[];\n  orderSearch: OrderSearch;\n  role: { categoryId: string; categoryTitle: string };\n}\n\nexport interface OrderSearch {\n  userId: string;\n  userRoleId: string;\n}\n\nexport interface OrderList {\n  orderId: string;\n  orderMode: {\n    categoryId: string;\n    categoryTitle: string;\n  };\n  orderStatus: {\n    ATVP: string;\n    creator: { createDate: string };\n    status: {\n      categoryId: string;\n      categoryTitle: string;\n    };\n    statusId: string;\n    statusParentId: string;\n  };\n  payment: {\n    paymentAmount: number;\n    paymentId: string;\n    paymentMode: {\n      categoryId: string;\n      categoryTitle: string;\n    };\n    paymentStatus: {\n      statusId: string;\n      statusParentId: string;\n      status: {\n        categoryId: string;\n        categoryTitle: string;\n      };\n    };\n    payeePaymentInfo: {\n      paymentInfo: string;\n      paymentMode: {\n        categoryId: string;\n        categoryTitle: string;\n      };\n    }[];\n  };\n  creator: {\n    createDate: string;\n    creatorId: string;\n  };\n  deliveryInfo: {\n    deliveryStatus: {\n      ATVP: string;\n      creator: { createDate: string };\n      status: { categoryId: string; categoryTitle: string };\n      statusId: string;\n      statusParentId: string;\n    };\n  };\n  orderPricing: {\n    price: number;\n    priceId: string;\n    priceText: string;\n    priceType: { categoryId: string; categoryTitle: string };\n    pricingRef: string;\n    quantity: number;\n    rentUnit: { categoryId: string; categoryTitle: string };\n    statusId: string;\n    unit: { categoryId: string; categoryTitle: string };\n  };\n}\n</code></pre>\n\n<p><strong>Here is my component.ts file</strong></p>\n\n<pre><code>@Component({\n  selector   : 'app-item-detail',\n  templateUrl: './item-detail.component.html',\n  styleUrls  : ['./item-detail.component.scss']\n})\nexport class ItemDetailComponent implements OnInit {\n  id: number;\n  price: number;\n  orderDetail: OrderModel;\n  ordersList:OrdersList[]=[];\n  orderList:OrderList[]=[];\n\n\n\n\n  message:string;\n  constructor(private campusservice: OrdersService, private _campusHaatService: OrdersService, private route: ActivatedRoute) {\n    this.route.params.subscribe((r) =&gt; this.id = r['id']);\n  }\n\n  ngOnInit() {\n\n    this._campusHaatService.currentMessage.subscribe(message =&gt; this.message = message);\n    console.log(this.price,'price')\n    console.log(this.id, 'id');\n//TODO Api calling Order by Id\n    const data = {\n      \"orderLoadType\": 3,\n      \"userId\": \"\",\n      \"creator\": {\n        \"id\": \"5794\",\n        \"APIKey\": \"63923f49e5241343\",\n        \"createDate\": \"2019-03-22 01:56:25.0\",\n        \"creatorId\": \"402\"\n      },\n      \"start\":0,\n      \"limit\":10,\n      \"orderId\":\"1758\",\n      \"loadType\": 0\n    }\n\n    this.campusservice.orderDetail(data).subscribe((r) =&gt; {\n      // console.log(r, 'detail');\n      console.log('detail',r);\n      this.orderDetail = r['detail'];\n      this.ordersList = r['ordersList'];\n      this.orderDetail.ordersList.\n\n    });\n\n  }\n\n\ngetOrderMode() {\n\n  return this.orderDetail.ordersList.ordermode.CategoryTitle;\n\n}\n\n}\n</code></pre>\n\n<p><strong>Order.Service.ts</strong></p>\n\n<pre><code>\n@Injectable()\nexport class OrdersService extends CampusHaatAdminService {\n\n  private messageSource = new BehaviorSubject('');\n  currentMessage = this.messageSource.asObservable();\n\n\n  constructor(public http: HttpClient,\n              private router: Router) {\n    super(http);\n  }\n\n\n\n\n  orderList(data): Observable&lt;OrderModel[]&gt; {\n    data = {\n      ...data,\n      'orderLoadType': 3\n    };\n    return this.post('/orders/listOrders', false, data)\n      .pipe(map(res =&gt; res['ordersList']));\n  }\n\n  orderDetail(data) {\n    return this.post('/orders/listOrders', false\n      , data);\n  }\n\n}\n</code></pre>\n\n<p><strong>API Response</strong></p>\n\n<pre><code>\n{\n    \"type\": \"ordersResponse\",\n    \"baseResponse\": {\n        \"message\": \"Order retrieved successfully!\",\n        \"statusCode\": \"200\"\n    },\n    \"ordersList\": [\n        {\n            \"orderList\": [\n                {\n                    \"adsList\": [],\n                    \"avgTime\": 0,\n                    \"buyer\": {...},\n                    \"creator\": {...},\n                    \"deliveryInfo\": {...},\n                    \"expecTimeLowerLimit\": 0,\n                    \"expecTimeUpperLimit\": 0,\n                    \"maxTime\": 0,\n                    \"minTime\": 0,\n                    \"orderId\": \"1758\",\n                    \"orderMode\": {\n                        \"message\": {\n                            \"actions\": [],\n                            \"msgSize\": 0\n                        },\n                        \"categoryId\": \"621\",\n                        \"categoryList\": [],\n                        \"categoryTitle\": \"Deliver\"\n                    },\n                    \"orderPricing\": {...},\n                    \"orderStatus\": {...},\n                    \"payment\": {...},\n                    \"persons\": [...],\n                    \"productList\": []\n                }\n            ],\n           \"orderSearch\":{...},\n            \"role\":{...}\n         }\n    ]\n}\n</code></pre>\n\n<p>I want to display the category title from the order mode in api \ni am new in angular. please help me out. \nThanks in advance.</p>\n"}, {"tags": ["angularjs", "typescript"], "owner": {"reputation": 9802, "user_id": 3398554, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lp5n3.png?s=128&g=1", "display_name": "Georgi Koemdzhiev", "link": "https://stackoverflow.com/users/3398554/georgi-koemdzhiev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568806070, "creation_date": 1568806070, "question_id": 57991711, "link": "https://stackoverflow.com/questions/57991711/parent-component-not-being-passed-to-child-when-require-is-used", "title": "Parent component not being passed to child when &quot;require&quot; is used", "body": "<p>I am trying to call functions of a parent component's controller into a child component's controller. However, the parent component does not seem to be injected into my child component's controller on Init. </p>\n\n<p>In the code snippet below I am trying to call the <code>show</code> method of my Parent component (i.e. <code>nvPanel</code>)'s controller (i.e. <code>PanelController</code>) in my child component's controller:</p>\n\n<pre><code>module AppExample {\n    import ITimeoutService = angular.ITimeoutService;\n    import ILogService = angular.ILogService;\n\n    class LegendController implements angular.IComponentController {\n\n        private $timeout: ITimeoutService;\n        private $log: ILogService;\n        // Parent component reference\n        panelComponent: PanelComponent;\n\n        static $inject = [\n            \"$timeout\",\n            \"$log\",\n        ];\n\n        constructor(\n            $timeout: ITimeoutService,\n            $log: ILogService\n        ) {\n            this.$timeout = $timeout;\n            this.$log = $log;\n        }\n\n        $onInit(): void {\n            let controller = this.panelComponent.controller;\n            controller.show();\n        }\n    }\n\n    class LegendComponent implements angular.IComponentOptions {\n        templateUrl = \"/.../nv-legend.html\";\n        controller = LegendController;\n        require: {\n            panelComponent: \"^nvPanel\"\n        };\n    }\n\n    angular.module(\"AppExample\").component(\"nvLegend\", new LegendComponent());\n}\n</code></pre>\n\n<p>However, the <code>panelComponent</code> is undefined (i.e. not being injected by AngularJS) in the onInit function although it was marked as \"required\" in the component's options.</p>\n\n<p>This is how the parent and child components are used:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;nv-panel id=\"legendPanel\"&gt;\n        ...\n        &lt;div id=\"legend-container\" class=\"slide-out-div\"&gt;\n            &lt;nv-legend&gt;&lt;/nv-legend&gt;\n        &lt;/div&gt;\n        ...\n    &lt;/nv-panel&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is <code>nv-panel.ts</code></p>\n\n<pre><code>module AppExample { \n    export class PanelController {\n\n        constructor(...) {\n            ...\n        }\n\n        show(): void {\n            ...\n        }     \n    }\n\n    export class PanelComponent implements angular.IComponentOptions {\n        controller = PanelController;\n        templateUrl = \"/client/features/shared/panel/nv-panel.html\";\n        transclude = true;\n    }\n\n    angular.module(\"AppExample\").component(\"nvPanel\", new PanelComponent());\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 1528, "user_id": 7739392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-LY4ZfEoLtf0/AAAAAAAAAAI/AAAAAAAAD2A/kXJq6SRDsS8/photo.jpg?sz=128", "display_name": "joshua miller", "link": "https://stackoverflow.com/users/7739392/joshua-miller"}, "edited": false, "score": 0, "creation_date": 1568806020, "post_id": 57991593, "comment_id": 102390385, "body": "Can you post code showing how you use the method?"}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "reply_to_user": {"reputation": 1528, "user_id": 7739392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-LY4ZfEoLtf0/AAAAAAAAAAI/AAAAAAAAD2A/kXJq6SRDsS8/photo.jpg?sz=128", "display_name": "joshua miller", "link": "https://stackoverflow.com/users/7739392/joshua-miller"}, "edited": false, "score": 0, "creation_date": 1568806104, "post_id": 57991593, "comment_id": 102390430, "body": "Do you mean how I call IsPrivateLocation() method? Something like var isPrivate=IsPrivateLocation(id);"}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1568806267, "post_id": 57991593, "comment_id": 102390523, "body": "Basically, the line <code>return this.location.isPrivate;</code> is executed <i>before</i> <code>this.location = res;</code> - the former runs in the same event clock tick, and the latter after the HTTP call goes out and response is received."}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568807313, "post_id": 57991593, "comment_id": 102391082, "body": "I see that Observable doesn&#39;t fit me in my situation. I need to get the isPrivate value NOT asynchronously. I need to wait for it and only then go further. Is there way to return a Location, not an Observable&lt;Location&gt; from service&#39;s method?"}, {"owner": {"reputation": 2616, "user_id": 1494048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XkBT.jpg?s=128&g=1", "display_name": "mrak", "link": "https://stackoverflow.com/users/1494048/mrak"}, "edited": false, "score": 0, "creation_date": 1568975687, "post_id": 57991593, "comment_id": 102455688, "body": "Can you show us your workaround (you can just post it as an answer)?"}], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568806208, "post_id": 57991716, "comment_id": 102390490, "body": "I tried to do so and I got the same result. is there any way that I can return boolean from service&#39;s method? Something like .toPromise()?"}, {"owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "reply_to_user": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568806394, "post_id": 57991716, "comment_id": 102390605, "body": "<code>toPromise()</code> is also async, it won&#39;t make any difference. Show please what you tried that didn&#39;t work"}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568806787, "post_id": 57991716, "comment_id": 102390807, "body": "I&#39;ll edit the question right now. Is there any way of returning <code>Location</code> from service&#39;s method <code>isLocationPrivate</code>, not an <code>Observable&lt;Location&gt;</code>?"}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568807151, "post_id": 57991716, "comment_id": 102391000, "body": "I see that Observable doesn&#39;t fit me in my situation. I need to get the isPrivate value NOT asynchronously. I need to wait for it and only then go further. Is there way to return a Location, not an Observable&lt;Location&gt; from service&#39;s method?"}], "tags": [], "owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1568806086, "creation_date": 1568806086, "answer_id": 57991716, "question_id": 57991593, "link": "https://stackoverflow.com/questions/57991593/how-to-retrieve-value-from-observable-in-angular2/57991716#57991716", "title": "How to retrieve value from Observable in Angular2?", "body": "<p>It's expected that it's <code>undefined</code>. As <code>Observables</code> are asynchronous. You should return an <code>Observable</code> from your <code>IsPrivateLocation()</code> method and then subscribe to it at the end of your chain. </p>\n"}, {"comments": [{"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568806333, "post_id": 57991761, "comment_id": 102390569, "body": "The problem is that I don&#39;t need to bind it to a view. I need the value because if it&#39;s true, then I&#39;ll redirect to another component."}, {"owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "reply_to_user": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568809591, "post_id": 57991761, "comment_id": 102392348, "body": "So you can move the code use to navigate into subscribe callback"}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568810435, "post_id": 57991761, "comment_id": 102392833, "body": "Could you please show how to do it? I&#39;m completely unfamiliar to typescript but I need to make some changes on front-end of our system. That&#39;s why I&#39;m struggling with it."}], "tags": [], "owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568810835, "last_edit_date": 1568810835, "creation_date": 1568806211, "answer_id": 57991761, "question_id": 57991593, "link": "https://stackoverflow.com/questions/57991593/how-to-retrieve-value-from-observable-in-angular2/57991761#57991761", "title": "How to retrieve value from Observable in Angular2?", "body": "<p>The Observable does not work like that,</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private LoadLocationPrivate(id:string){\n this.service.isLocationPrivate(id).subscribe(res =&gt; {\n        this.location = res; \n        if(this.location.isPrivate){\n           // Do something\n        }else{\n            // Do other thing\n        }\n     });\n}\n</code></pre>\n\n<p>Call LoadLocationPrivate when you need to navigate.</p>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568807773, "post_id": 57992111, "comment_id": 102391304, "body": "Sorry, what is <code>cost</code>? And regarding <code>isPrivateLocation</code> in your case: location is observable in this case and it doesn&#39;t have <code>isPrivate</code> property."}, {"owner": {"reputation": 2616, "user_id": 1494048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XkBT.jpg?s=128&g=1", "display_name": "mrak", "link": "https://stackoverflow.com/users/1494048/mrak"}, "reply_to_user": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568807906, "post_id": 57992111, "comment_id": 102391383, "body": "My mistake, &quot;const&quot; and not &quot;cost&quot;. Have a look in the documentation: await is used to resolve the Promise / Observable"}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568808992, "post_id": 57992111, "comment_id": 102391999, "body": "I&#39;ve read it and tried it. Even if I use <code>await</code> location still has the type Observable&lt;Location&gt;, not just a Location. Thus, it doesn&#39;t have a property isPrivate."}, {"owner": {"reputation": 2616, "user_id": 1494048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XkBT.jpg?s=128&g=1", "display_name": "mrak", "link": "https://stackoverflow.com/users/1494048/mrak"}, "reply_to_user": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568809906, "post_id": 57992111, "comment_id": 102392542, "body": "Could you try: const isPrivate = await this.isPrivateLocation(123).toPromise();"}, {"owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568810520, "post_id": 57992111, "comment_id": 102392879, "body": "Then my function needs to return Promise&lt;Location&gt;, and then I don&#39;t know what to do with Promise&lt;...&gt; object."}, {"owner": {"reputation": 2616, "user_id": 1494048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XkBT.jpg?s=128&g=1", "display_name": "mrak", "link": "https://stackoverflow.com/users/1494048/mrak"}, "reply_to_user": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "edited": false, "score": 0, "creation_date": 1568811056, "post_id": 57992111, "comment_id": 102393169, "body": "Nope, your function still returns Observable&lt;Location&gt;, with &quot;toPromise&quot; you can convert it to Promise (<a href=\"https://www.learnrxjs.io/operators/utility/topromise.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/utility/topromise.html</a>)"}], "tags": [], "owner": {"reputation": 2616, "user_id": 1494048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XkBT.jpg?s=128&g=1", "display_name": "mrak", "link": "https://stackoverflow.com/users/1494048/mrak"}, "is_accepted": false, "score": 0, "last_activity_date": 1568807916, "last_edit_date": 1568807916, "creation_date": 1568807439, "answer_id": 57992111, "question_id": 57991593, "link": "https://stackoverflow.com/questions/57991593/how-to-retrieve-value-from-observable-in-angular2/57992111#57992111", "title": "How to retrieve value from Observable in Angular2?", "body": "<p>As already mentioned, an Observable can be either synchronous or asynchronous.\nIn your case the its asynchronous since you are using a http rest service.</p>\n\n<p>Your option here ist to use <strong>async/await</strong>:</p>\n\n<pre><code>private async isPrivateLocation(id: string)\n{\n    const location = await this.service.isLocationPrivate(id);\n    return this.location.isPrivate;\n}\n</code></pre>\n\n<p>and to call the function:</p>\n\n<pre><code>const isPrivate = await this.isPrivateLocation(123);\n</code></pre>\n\n<p>(Of course this code may have some errors). Please see the docs for reference.\n<a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Operators/await</a></p>\n\n<p>The other option would be to subscribe to the Observable and redirect in the callback, but from what I understand, it is not what you want to achieve.</p>\n"}], "owner": {"reputation": 458, "user_id": 10821794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7xlZ.png?s=128&g=1", "display_name": "Sofia Bo", "link": "https://stackoverflow.com/users/10821794/sofia-bo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1568807667, "answer_count": 3, "score": 0, "last_activity_date": 1568817976, "creation_date": 1568805655, "last_edit_date": 1568817976, "question_id": 57991593, "link": "https://stackoverflow.com/questions/57991593/how-to-retrieve-value-from-observable-in-angular2", "closed_reason": "Duplicate", "title": "How to retrieve value from Observable in Angular2?", "body": "<p>I am failing in retrieving data from Observable. </p>\n\n<p>I can't find where the problem is. As far as I understand my code is correct.</p>\n\n<pre><code>private IsPrivateLocation(id: string):boolean\n{\n    this.service.isLocationPrivate(id).subscribe(res =&gt; {\n        this.location = res;\n     });\n     return this.location.isPrivate;\n}\n</code></pre>\n\n<p><code>this.location</code> is still <code>UNDEFINED</code> after method call. This is service method:</p>\n\n<pre><code>public isLocationPrivate(id:string):Observable&lt;Location&gt;\n{\n    return this.http.post(AppConfig.azurefunc.locationUri, {\n        id: id,\n        operatorId: AppConfig.user.operatorId\n    }).pipe(map(res =&gt;res.json()));\n}\n</code></pre>\n\n<p>Why does it still undefined? What am I doing wrong?</p>\n\n<p><strong>Update:</strong>\nI managed to find a workaround without waiting for observable. However, I tried all the things that were offered below and none of them worked. Maybe that has something to do with the fact that I'm using Angular2 beta. </p>\n"}, {"tags": ["node.js", "typescript", "graphql"], "answers": [{"tags": [], "owner": {"reputation": 456, "user_id": 5341567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791938b9e1b0706475b63d1f023228db?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5341567/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1568806987, "creation_date": 1568806987, "answer_id": 57991989, "question_id": 57991584, "link": "https://stackoverflow.com/questions/57991584/how-to-write-api-with-help-of-typescript-graphql-in-node-environment/57991989#57991989", "title": "How to write API with help of typescript , graphql in node environment", "body": "<p>Here is a good article for a tutorial and introduction using typescript and GraphQL in a project: <a href=\"https://hashnode.com/post/building-a-nodejs-api-with-typescript-and-graphql-cjrrojjx200uqrxs1ngtitx9p\" rel=\"nofollow noreferrer\">https://hashnode.com/post/building-a-nodejs-api-with-typescript-and-graphql-cjrrojjx200uqrxs1ngtitx9p</a></p>\n\n<p>You can choose any Database technology you would like too, but it has to fit the project requirements and hosting situation for the project. I would suggest using mongoDB (NoSQL)if you have to deal with a lot of JSON Objects.</p>\n\n<p>But you also can use SQL-DB and framework like <a href=\"https://sequelize.org/master/manual/typescript.html\" rel=\"nofollow noreferrer\">sequelize</a></p>\n"}], "owner": {"reputation": 303, "user_id": 10552084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a40e015713a722fea217a58fedcc4f?s=128&d=identicon&r=PG&f=1", "display_name": "SaranViji", "link": "https://stackoverflow.com/users/10552084/saranviji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57991989, "answer_count": 1, "score": 0, "last_activity_date": 1568806987, "creation_date": 1568805639, "last_edit_date": 1568805962, "question_id": 57991584, "link": "https://stackoverflow.com/questions/57991584/how-to-write-api-with-help-of-typescript-graphql-in-node-environment", "title": "How to write API with help of typescript , graphql in node environment", "body": "<p>I had new project that requirement is write API using node.js environment with help of typescript language and graphql. I am not have awareness about graphql.\nHow i could implement typescript and graphql in node environment. Then which  database is suitable to use ?</p>\n"}, {"tags": ["html", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1568805229, "post_id": 57991426, "comment_id": 102389897, "body": "post your app.module.ts"}, {"owner": {"reputation": 946, "user_id": 11834561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db261ed9283a5fa403bfca7891b954e?s=128&d=identicon&r=PG&f=1", "display_name": "Timu&#231;in &#199;i&#231;ek", "link": "https://stackoverflow.com/users/11834561/timu%c3%a7in-%c3%87i%c3%a7ek"}, "reply_to_user": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1568806123, "post_id": 57991426, "comment_id": 102390437, "body": "@Sajeetharan I did"}], "answers": [{"tags": [], "owner": {"reputation": 612, "user_id": 256201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e0b47b311934fd56fff2fd1a777c257c?s=128&d=identicon&r=PG", "display_name": "cenk ebret", "link": "https://stackoverflow.com/users/256201/cenk-ebret"}, "is_accepted": false, "score": 2, "last_activity_date": 1568806424, "creation_date": 1568806424, "answer_id": 57991811, "question_id": 57991426, "link": "https://stackoverflow.com/questions/57991426/how-to-use-mat-select-with-property-selected/57991811#57991811", "title": "How to use Mat-Select with property [Selected]", "body": "<p>You can check documentation and examples here:\n<a href=\"https://material.angular.io/components/select/examples\" rel=\"nofollow noreferrer\">https://material.angular.io/components/select/examples</a></p>\n\n<p>There is also a selected example.</p>\n\n<p>First problem is, selected is not available for mat-option.</p>\n\n<p>What you need to do is, on your component.ts file you need to find selected element from your array, and set it to a variable.</p>\n\n<p>Then in your mat-select, set [(value)] attribute as that variable. It will make it selected.</p>\n\n<p>Example:</p>\n\n<pre><code>  &lt;mat-select [(value)]=\"selected\"&gt;\n    &lt;mat-option&gt;None&lt;/mat-option&gt;\n    &lt;mat-option value=\"option1\"&gt;Option 1&lt;/mat-option&gt;\n    &lt;mat-option value=\"option2\"&gt;Option 2&lt;/mat-option&gt;\n    &lt;mat-option value=\"option3\"&gt;Option 3&lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n</code></pre>\n"}], "owner": {"reputation": 946, "user_id": 11834561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db261ed9283a5fa403bfca7891b954e?s=128&d=identicon&r=PG&f=1", "display_name": "Timu&#231;in &#199;i&#231;ek", "link": "https://stackoverflow.com/users/11834561/timu%c3%a7in-%c3%87i%c3%a7ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1568806424, "creation_date": 1568805117, "last_edit_date": 1568806112, "question_id": 57991426, "link": "https://stackoverflow.com/questions/57991426/how-to-use-mat-select-with-property-selected", "title": "How to use Mat-Select with property [Selected]", "body": "<p>I have a component which allows for translate pipng(by .json files under assets) .That works perfectly with default select box to choose language as we wish to display.Here it is below(That works great)</p>\n\n<pre><code>  &lt;select #langSelect (change)=\"translate.use(langSelect.value)\"&gt;\n   &lt;option *ngFor=\"let lang of translate.getLangs()\" \n   [value]=\"lang\" \n   [selected]=\"lang === translate.currentLang\"&gt;{{ lang }}\n   &lt;/option&gt;\n   &lt;/select&gt;\n</code></pre>\n\n<p>But to make it look much better,I want to implement this logic with <code>mat-select</code> and here how I tried to implement below.</p>\n\n<p><strong>With Mat-Select</strong></p>\n\n<pre><code>  &lt;mat-form-field&gt;\n    &lt;mat-select #langSelect (change)=\"translate.use(langSelect.value)\"  \n     placeholder=\"Select offer\" \n    formControlName=\"promo\" [(value)]=\"selected\"&gt;\n    &lt;mat-option *ngFor=\"let lang of translate.getLangs()\" \n    [value]=\"lang\" \n    [selected]=\"lang === translate.currentLang\"\n     &gt;{{ lang }}\n    &lt;i class=\"material-icons\"&gt;info&lt;/i&gt;\n    &lt;/mat-option&gt;\n    &lt;/mat-select&gt;\n    &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>When I run this code Error occurs because of unknown [selected] binding inside <code>mat-option</code> tags.I don't know is there any way to implement it with no error.Here that error in the console occurs below</p>\n\n<p><strong>ERROR</strong></p>\n\n<pre><code>Uncaught Error: Template parse errors:\nNo provider for NgControl (\"\"&gt;{{ lang }}&lt;/option&gt;\n                              &lt;/select&gt; --&gt;\n                                  [ERROR -&gt;]&lt;select #langSelect (change)=\"translate.use(langSelect.value)\"  placeholder=\"Select offer\" formContro\"): ng:///AppModule/HeaderComponent.html@17:34\n</code></pre>\n\n<p><strong>App.Module.ts</strong></p>\n\n<pre><code>  import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {FlexLayoutModule} from '@angular/flex-layout';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MaterialModule } from './material.module';\nimport { SignupComponent } from './auth/signup/signup.component';\nimport { LoginComponent } from './auth/login/login.component';\nimport { TrainingComponent } from './training/training.component';\nimport { CurrentTrainingComponent } from './training/current-training/current-training.component';\nimport { NewTrainingComponent } from './training/new-training/new-training.component';\nimport { PastTrainingComponent } from './training/past-training/past-training.component';\nimport { WelcomeComponent } from './welcome/welcome.component';\nimport { FormsModule } from '@angular/forms';\nimport { HeaderComponent } from './navigation/header/header.component';\nimport { SidenavListComponent } from './navigation/sidenav-list/sidenav-list.component';\nimport { StopTrainingComponent } from './training/current-training/stop-training-component';\nimport { AuthService } from './auth/auth.service';\nimport {TranslateModule, TranslateLoader} from '@ngx-translate/core';\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\n\n\n    export function HttpLoaderFactory(httpClient: HttpClient) {\n      return new TranslateHttpLoader(httpClient);\n    }\n\n\n    @NgModule({\n      declarations: [\n        AppComponent,\n        SignupComponent,\n        LoginComponent,\n        TrainingComponent,\n        CurrentTrainingComponent,\n        NewTrainingComponent,\n        PastTrainingComponent,\n        WelcomeComponent,\n        HeaderComponent,\n        StopTrainingComponent,\n        SidenavListComponent\n      ],\n      imports: [\n        BrowserModule,\n        HttpClientModule,\n        TranslateModule.forRoot({\n          loader: {\n            provide: TranslateLoader,\n            useFactory: HttpLoaderFactory,\n            deps: [HttpClient]\n          }\n        }),\n        FormsModule,\n        AppRoutingModule,\n        BrowserAnimationsModule,\n        MaterialModule,\n        FlexLayoutModule\n      ],\n      //To use always same AuthService object\n      providers: [AuthService],\n      bootstrap: [AppComponent],\n      entryComponents:[StopTrainingComponent]\n    })\n    export class AppModule { }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 5101373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d8691304cac1b3056838d86f6c8aa?s=128&d=identicon&r=PG&f=1", "display_name": "voll", "link": "https://stackoverflow.com/users/5101373/voll"}, "is_accepted": false, "score": 1, "last_activity_date": 1568818049, "creation_date": 1568818049, "answer_id": 57995534, "question_id": 57991325, "link": "https://stackoverflow.com/questions/57991325/angular-include-models-getters-setters-on-http-requests/57995534#57995534", "title": "Angular - Include Models Getters &amp; Setters On Http Requests", "body": "<p><code>JSON.stringify</code> only serializes enumerable properties. You can make a getter enumerable by using <code>Object.defineProperty</code>:</p>\n\n<pre><code>constructor() {\n  Object.defineProperty(this, 'foo', {\n    get: () =&gt; this._foo,\n    set: value =&gt; this._foo = value,\n    enumerable: true\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 3554268, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/1333661655/picture?type=large", "display_name": "Tal Humy", "link": "https://stackoverflow.com/users/3554268/tal-humy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568828930, "creation_date": 1568804833, "last_edit_date": 1568828930, "question_id": 57991325, "link": "https://stackoverflow.com/questions/57991325/angular-include-models-getters-setters-on-http-requests", "title": "Angular - Include Models Getters &amp; Setters On Http Requests", "body": "<p>I have an angular 6 single page application. I faced a problem when I sends a model with private members wrapped with public setter and getter to the server. The request body (JSON) includes the private members (starting with '_' code convention) and doesn't serialize the getter and setters. I really wanted to find a way to enable me to send the request with only the public fields a, so I create an Http interceptor. Everything works fine, but since this is a solution that impacts all the HTTP requests to my server, I want to be sure my solution can not cause me a lot of problems in the future.</p>\n\n<p>This is my code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class PrivatePropertiesGettersOverrideInterceptorService implements HttpInterceptor {\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest &lt; any &gt; , next: HttpHandler): Observable &lt; HttpEvent &lt; any &gt;&gt; {\r\n    const isCUDRequest = ['POST', 'DELETE', 'PUT'].indexOf(request.method) &gt; -1;\r\n\r\n    if (isCUDRequest) {\r\n      // If has private members with getters we will use the getter value\r\n      const clone = this._deepCloneWithOverrides(request.body);\r\n      request = request.clone({\r\n        body: clone\r\n      });\r\n    }\r\n\r\n    return next.handle(request);\r\n  }\r\n\r\n  private _deepCloneWithOverrides(object: any): Object {\r\n    if (object == null || typeof object !== 'object' || object instanceof Date || object instanceof String ) {\r\n      return object;\r\n    }\r\n\r\n    if (Array.isArray(object)) {\r\n      return object.map(o =&gt; this._deepCloneWithOverrides(o));\r\n    }\r\n\r\n    return Object.keys(object).reduce((newObj, prop) =&gt; {\r\n      const newPropName = prop.startsWith('_') ? prop.slice(1, prop.length) : prop;\r\n      newObj[newPropName] = this._deepCloneWithOverrides(object[newPropName]) || this._deepCloneWithOverrides(object[prop]);\r\n      return newObj;\r\n    }, {});\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "authentication", "testing", "automation", "testcafe"], "comments": [{"owner": {"reputation": 1839, "user_id": 10448174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHJjr.jpg?s=128&g=1", "display_name": "Vladimir A.", "link": "https://stackoverflow.com/users/10448174/vladimir-a"}, "edited": false, "score": 0, "creation_date": 1568902932, "post_id": 57991156, "comment_id": 102430481, "body": "Let&#39;s discus it in the context of the following issue: <a href=\"https://github.com/DevExpress/testcafe/issues/4296\" rel=\"nofollow noreferrer\">github.com/DevExpress/testcafe/issues/4296</a>"}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 5863887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWA1Q.jpg?s=128&g=1", "display_name": "Liviu Avram", "link": "https://stackoverflow.com/users/5863887/liviu-avram"}, "is_accepted": true, "score": 0, "last_activity_date": 1593615480, "creation_date": 1593615480, "answer_id": 62679682, "question_id": 57991156, "link": "https://stackoverflow.com/questions/57991156/testcafe-microsoft-authentication-fails-to-redirect-during-authentication-flow/62679682#62679682", "title": "Testcafe &amp; microsoft authentication fails to redirect during authentication flow", "body": "<p>Run script like this and it works: <code>node --max-http-header-size=1024000 ./node_modules/testcafe/bin/testcafe.js chrome &lt;your script</code></p>\n"}], "owner": {"reputation": 93, "user_id": 5863887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWA1Q.jpg?s=128&g=1", "display_name": "Liviu Avram", "link": "https://stackoverflow.com/users/5863887/liviu-avram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 62679682, "answer_count": 1, "score": 2, "last_activity_date": 1593615480, "creation_date": 1568804246, "last_edit_date": 1576672547, "question_id": 57991156, "link": "https://stackoverflow.com/questions/57991156/testcafe-microsoft-authentication-fails-to-redirect-during-authentication-flow", "title": "Testcafe &amp; microsoft authentication fails to redirect during authentication flow", "body": "<p>So I'm writing a test script for Testcafe for our web application as well as getting familiar with typescript. What I'm doing is basically having a LoginPage.ts, a LandingPage.ts (not relevant for this issue) and a LandingPageTests.ts (which contains the actual tests).</p>\n\n<p>The application has an authentication flow that uses Microsoft login. So, the script clicks on a Microsoft login button from this application, fills out the forms with my email, then inputs the password on the organization page, clicks on Yes for the stay signed in question from the Microsoft login page, then the redirect from <a href=\"https://login.microsoftonline.com/kmsi?sso_reload=true\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com/kmsi?sso_reload=true</a> should happen, but the redirect destination refuses this with error code 500 (shown in dev tools).</p>\n\n<p>I asked a developer about this and he said the access token has already been exchanged in the flow, which is weird. He cannot help me any further. </p>\n\n<p>I googled a lot yesterday and today, but topics about this were either closed or not suitable for my approach.</p>\n\n<p>Anyone can point me in the right direction, on how to change the script for the redirect to happen? I'm not an expert in testcafe nor typescript. Below the relevant files, sensitive data is removed. I don't know what, if anything, I'm doing wrong, maybe I picked the wrong career.  :(</p>\n\n<p>LoginPage.ts:</p>\n\n<pre><code>import { Selector, t } from 'testcafe';\n\nexport default class LoginPage {\n    private microsoftButton = Selector('span').withText('MICROSOFT');\n    private emailField = Selector('#i0116');\n    private nextBtn = Selector('#idSIButton9');\n    private passwordField = Selector('#passwordInput');\n    private signInBtn = Selector('#submitButton');\n    private staySignedIn = Selector('#idSIButton9');\n\n\n    async login (username : string, password : string){\n        await t\n            .setTestSpeed(1)\n            .click(this.microsoftButton)\n            .maximizeWindow()\n            .typeText(this.emailField, username, {paste : true})\n            .click(this.nextBtn)\n            .typeText(this.passwordField, password)\n            .click(this.signInBtn)\n            .click(this.staySignedIn)\n    };\n};\n</code></pre>\n\n<p>LoadingPageTests.ts:</p>\n\n<pre><code>import LoginPage from './pages/LoginPage';\nimport LandingPage from './pages/LandingPage';\n\nconst loginPage = new LoginPage();\nconst landingPage = new LandingPage();\nconst username = 'removed';\nconst password = 'removed';\n\n\nfixture`removed Landing page`\n  .page`removed`\n  .beforeEach(async (t) =&gt; {\n    await loginPage.login(username, password)\n\n  })\n  .afterEach(async (t) =&gt; {\n    await landingPage.logout()\n  });\n\ntest(not really relevant as the login part fails)\n</code></pre>\n"}, {"tags": ["html", "css", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "edited": false, "score": 0, "creation_date": 1568803985, "post_id": 57991066, "comment_id": 102389245, "body": "How do I listen to a @HostListener only until the end of a container?"}], "tags": [], "owner": {"reputation": 76, "user_id": 2397621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf74e5a4abe64894632444ef5a809e3?s=128&d=identicon&r=PG&f=1", "display_name": "h1ghland3r", "link": "https://stackoverflow.com/users/2397621/h1ghland3r"}, "is_accepted": false, "score": 0, "last_activity_date": 1568803889, "creation_date": 1568803889, "answer_id": 57991066, "question_id": 57990947, "link": "https://stackoverflow.com/questions/57990947/angular-detect-when-scroll-reached-certain-point/57991066#57991066", "title": "Angular detect when scroll reached certain point", "body": "<p>Try to listen to the scroll event with @<a href=\"https://angular.io/api/core/HostListener\" rel=\"nofollow noreferrer\">HostListener</a> until the end of your container. Then, call your function.</p>\n"}, {"comments": [{"owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "edited": false, "score": 0, "creation_date": 1568804579, "post_id": 57991134, "comment_id": 102389556, "body": "Thanks. Sorry for the dumb question - but where do I put that code? Since simply adding it e.g. AfterViewInit or a HostListener won&#39;t log anything."}], "tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": false, "score": 3, "last_activity_date": 1568898541, "last_edit_date": 1568898541, "creation_date": 1568804172, "answer_id": 57991134, "question_id": 57990947, "link": "https://stackoverflow.com/questions/57990947/angular-detect-when-scroll-reached-certain-point/57991134#57991134", "title": "Angular detect when scroll reached certain point", "body": "<p>try something like this to get scroll position, by creating an event observable using <strong>fromEvent</strong> and use <strong>sampleTime</strong> to prevent having thousands of values</p>\n\n<pre><code>import { fromEvent } from 'rxjs';\nimport { map, sampleTime } from 'rxjs/operators'; \n...\nngAfterViewInit(): void {\n  const tracker = document.querySelector('.yourElement'); // get your element by css class\n  const scroll$ = fromEvent(tracker, 'scroll').pipe(\n   sampleTime(300), // to prevent getting multiple values in a milisecond\n   map(() =&gt; tracker.scrollTop)\n  );\n  let scrollSubscription = windowYOffsetObservable.subscribe((scrollPos) =&gt; {\n    console.log(scrollPos); // get scroll position\n    // you can do your check here\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4479, "user_id": 4733161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ijftR.png?s=128&g=1", "display_name": "cloned", "link": "https://stackoverflow.com/users/4733161/cloned"}, "is_accepted": false, "score": 0, "last_activity_date": 1568898543, "creation_date": 1568898543, "answer_id": 58011739, "question_id": 57990947, "link": "https://stackoverflow.com/questions/57990947/angular-detect-when-scroll-reached-certain-point/58011739#58011739", "title": "Angular detect when scroll reached certain point", "body": "<p>This is a good job for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\" rel=\"nofollow noreferrer\">Intersection Observer (IO).</a> With it you can check how much an element intersects with another element or the screen. Listening to scroll events and calculating the position of an element can result in bad performance, so using IO is recommended approach for such problems. </p>\n\n<p>First you have to define your options for your IO (you can have more than one IO) </p>\n\n<pre><code>let options = {\n  rootMargin: '0px',\n  threshold: 1.0\n}\n\nlet observer = new IntersectionObserver(callback, options);\n</code></pre>\n\n<p>Second, you define which element(s) to watch: </p>\n\n<pre><code>let target = document.querySelector('#yourHeader');\nobserver.observe(target);\n</code></pre>\n\n<p>Final step is then to define the callback function and what should happen when the element comes into view/leaves the view: </p>\n\n<pre><code>let callback = (entries, observer) =&gt; { \n  entries.forEach(entry =&gt; {\n    // Each entry describes an intersection change for one observed\n    // target element\n  });\n};\n</code></pre>\n\n<p>You can also use <a href=\"https://github.com/w3c/IntersectionObserver\" rel=\"nofollow noreferrer\">this polyfill from w3c</a> to support older browsers if needed.</p>\n"}], "owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1568898543, "creation_date": 1568803542, "question_id": 57990947, "link": "https://stackoverflow.com/questions/57990947/angular-detect-when-scroll-reached-certain-point", "title": "Angular detect when scroll reached certain point", "body": "<p>I'm trying to achieve the following effect: <br>\nThe first container, which has among others a class called <code>.top-container</code>, has a height of about one and a half pages. In the beginning, the user shall be able to scroll until the end of this container, but as soon as he reaches it, the container shall become <code>fixed</code> and the following elements are supposed to overlap it by scrolling. </p>\n\n<p>My approach was to detect when the user reaches top-container's end, in order to then change its position to fixed. <strong>But how do I detect when the user has reached a certain scroll point?</strong></p>\n\n<p>Are there other approached to achieve the desired effect? </p>\n\n<p>My code: </p>\n\n<pre><code>&lt;div class=\"container-fluid px-0 top-container\"&gt;\n\n  &lt;div class=\"container-fluid bg-test justify-content-center min-vh-100 d-flex\"&gt;\n    &lt;h1 class=\"align-self-center\"&gt;PURE&lt;/h1&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"container-fluid justify-content-center d-flex collections\" *ngIf=\"collections\"&gt;\n    &lt;div class=\"row align-self-center justify-content-around\"&gt;\n      &lt;div class=\"col-12 mb-5 text-center\"&gt;\n        &lt;h1&gt;ALL COLLECTIONS&lt;/h1&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-3\" *ngFor=\"let collection of collections\"&gt;\n        &lt;div class=\"flex-row\"&gt;\n          &lt;div class=\"col-12 text-center\"&gt;\n            &lt;h4&gt;{{collection.name}}&lt;/h4&gt;\n            &lt;p&gt;- {{collection.desc}} -&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-12 d-flex justify-content-center\"&gt;\n            &lt;img [src]=\"collection.image\" [alt]=\"collection.name\" class=\"w-75 align-self-center\"&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;div class=\"padding-top\"&gt;\n  &lt;app-slider&gt;&lt;/app-slider&gt;\n  &lt;app-presentation&gt;&lt;/app-presentation&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.top-container {\n  background-color: #EDEDED;\n\n  .collections {\n    padding: 5%;\n    background-color: white;\n    h1 {\n      font-family: \"Zuric Light\";\n      text-transform: uppercase;\n      color: #D3072A;\n    }\n    h4 {\n      font-family: \"Zuric Light\";\n      text-transform: uppercase;\n    }\n    p {\n      font-family: \"Zuric Light\";\n    }\n  }\n\n  .bg-test {\n    background-image: url(\"/assets/images/products/pure/pure-upper-side-red.png\");\n    background-position: bottom left;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    h1 {\n      line-height: 1;\n      margin: 0;\n      font-family: \"Zuric Bold\";\n      color: white;\n      font-size: 200px;\n      text-transform: uppercase;\n      &amp;::first-letter {\n        margin-left: -0.05em;\n      }\n    }\n    p {\n      color: white;\n      font-family: \"Zuric Light\";\n      font-size: 30px;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "es6-modules"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1568803344, "post_id": 57990828, "comment_id": 102388874, "body": "It seems you are not transpiling your code into a browser targetted javascript afterwards?"}, {"owner": {"reputation": 313, "user_id": 1118774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e83e15ff0476d9a1d3041e203adbe0?s=128&d=identicon&r=PG", "display_name": "mariob", "link": "https://stackoverflow.com/users/1118774/mariob"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1568806327, "post_id": 57990828, "comment_id": 102390563, "body": "I do not understand what that means ... how do I transpile to browser targetted javascript?"}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 1118774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e83e15ff0476d9a1d3041e203adbe0?s=128&d=identicon&r=PG", "display_name": "mariob", "link": "https://stackoverflow.com/users/1118774/mariob"}, "is_accepted": true, "score": 2, "last_activity_date": 1568983465, "creation_date": 1568983465, "answer_id": 58028651, "question_id": 57990828, "link": "https://stackoverflow.com/questions/57990828/how-to-deal-with-external-modules-when-compiling-typescript/58028651#58028651", "title": "How to deal with external modules when compiling TypeScript?", "body": "<p>For any TypeScript beginner scratching their head over this, the answer is called JavaScript bundlers. </p>\n\n<p>Since I am using ES6, I opted for RollupJs bundler combined with following plugins (use them in this order):</p>\n\n<ol>\n<li><code>rollup-plugin-resolve</code> - required to resolve node_modules</li>\n<li><code>rollup-plugin-commonjs</code> - required to transpile CommonJS modules in node_modules to ES6</li>\n<li><code>rollup-plugin-typescript2</code> - optional, you can have it in the process or you can use tsc manually before you run rollup - just make sure you use version 2 (first version is not maintained any more)</li>\n<li><code>rollup-plugin-terser</code> - minifier and obfuscator</li>\n</ol>\n\n<p>You can install all of those with npm:\n<code>npm install rollup rollup-plugin-resolve rollup-plugin-commonjs rollup-plugin-typescript2 rollup-plugin-terser</code></p>\n\n<p>Add <code>rollup.config.js</code> to the root of your project, mine looked like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    import typescript from \"rollup-plugin-typescript2\"\n    import commonjs from \"rollup-plugin-commonjs\";\n    import resolve from \"rollup-plugin-node-resolve\";\n    import { terser } from \"rollup-plugin-terser\";\n    import pkg from \"./package.json\"\n\n    export default {\n        input: \"./wwwroot/js/svgts.js\",\n        output: [\n            {\n                file: pkg.module,\n                format: \"esm\",\n            },\n        ],\n        external: [\n            ...Object.keys(pkg.dependencies || {}),\n            ...Object.keys(pkg.peerDependencies || {}),\n        ], plugins: [\n            resolve({\n                mainFields: [\"module\"], // Default: [\"module\", \"main\"]\n            }),\n\n            commonjs({\n                include: \"node_modules/**\"\n            }),\n\n            typescript({\n                typescript: require(\"typescript\"),\n                tsconfig: \"./tsconfig.json\"\n            }),\n\n            (process.env.NODE_ENV === \"production\" &amp;&amp; terser({\n                mangle: { reserved: ['svg'] }\n            }))\n        ],\n    }\n</code></pre>\n\n<p>Rollup supports environment variables which I use here with line:\n<code>process.env.NODE_ENV === \"production\"</code></p>\n\n<p>This allows you to create npm scripts in <code>package.json</code> to easily include minification or not, for example:</p>\n\n<pre><code>\"scripts\": {\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"lite\": \"lite-server\",\n    \"rollup\": \"rollup -c\",\n    \"rollupw\": \"rollup -cw\",\n    \"start\": \"concurrently \\\"npm run rollupw\\\" \\\"npm run lite\\\"\",\n    \"startprod\": \"NODE_ENV=production concurrently \\\"npm run rollupw\\\" \\\"npm run lite\\\"\",\n    \"production\": \"NODE_ENV=production npm run rollup\"\n  },\n</code></pre>\n\n<p>Then you can run in terminal <code>npm run production</code> for instance to build minified bundle. </p>\n\n<p>You can find more details on GitHub of each project. </p>\n"}], "owner": {"reputation": 313, "user_id": 1118774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e83e15ff0476d9a1d3041e203adbe0?s=128&d=identicon&r=PG", "display_name": "mariob", "link": "https://stackoverflow.com/users/1118774/mariob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 58028651, "answer_count": 1, "score": 0, "last_activity_date": 1568983465, "creation_date": 1568803095, "question_id": 57990828, "link": "https://stackoverflow.com/questions/57990828/how-to-deal-with-external-modules-when-compiling-typescript", "title": "How to deal with external modules when compiling TypeScript?", "body": "<p>I am very new to TypeScript and I am trying out many things and got stuck with external modules after compilation. </p>\n\n<p>I started with simple TypeScript project in Visual Studio Code set to target ES2015 and module to es2015 (because I want to use native stuff as much as possible) and I wanted to try Strongly Type Events (STE) which I installed using npm. </p>\n\n<p>By changing module resolution to <code>node</code> and setting <code>baseUrl</code> in <code>tsconfig.json</code>, TypeScript has no problem in using STE with non-relative import:</p>\n\n<pre><code>import { SimpleEventDispatcher } from \"ste-simple-events\";\n</code></pre>\n\n<p>However, when I compile TypeScript, resulting JavaScript file has exact same import statement and when loading html which is including this module, I get an error that module cannot be found. </p>\n\n<p>I can not figure out how to solve this. \nShould TypeScript somehow change import statement to exact location of STE? \nPerhaps, but TypeScript team says TypeScript compilation will never change code in import statements. </p>\n\n<p>Or should I somehow compile external modules as well, so that they get included in output? </p>\n\n<p>Or should default module resolution in ES2015 standard implemented in browsers do the job - for which I have no idea how it works and how should external ES2015 modules be imported in JavaScript?  </p>\n\n<p>Any help or a nudge in the right direction would be greatly appreciated. </p>\n\n<p>Thanks, \nMario</p>\n"}, {"tags": ["typescript", "dom", "ionic4", "angular8"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "edited": false, "score": 1, "creation_date": 1568808799, "post_id": 57991098, "comment_id": 102391889, "body": "Hello, thanks for you answer. Unfortunately it does not solve my issue. i probably did not explain my issue good enough. I know the default width/height of an canvas and how to set it. My issue is to <b>dynamically</b> read the space the canvas has inside a window (window.height size minus header size.height, window.width minus menu size.width) in order to set it properly afterwards. A detailed denote of my issue can be found here: <a href=\"https://forum.ionicframework.com/t/dynamically-read-width-height-of-canvas-in-ion-content/173501\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": false, "score": 1, "last_activity_date": 1568804038, "creation_date": 1568804038, "answer_id": 57991098, "question_id": 57990687, "link": "https://stackoverflow.com/questions/57990687/get-initial-height-width-of-canvas-in-ion-content/57991098#57991098", "title": "Get initial height/width of canvas in &lt;ion-content&gt;", "body": "<p>Try something like this (full code <a href=\"https://stackblitz.com/edit/angular-axemx8?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>@ViewChild('canvasElement', {static: false}) canvasElement: ElementRef;\n\nngAfterViewInit() {\n     var context = this.canvasElement.nativeElement.getContext(\"2d\")\n     console.log(context.canvas.width);\n     console.log(context.canvas.height);\n     context.canvas.width = 600;\n     context.canvas.height = 700;\n     console.log(context.canvas.width);\n     console.log(context.canvas.height);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "edited": false, "score": 1, "creation_date": 1568838115, "post_id": 57997708, "comment_id": 102406271, "body": "Thank you @rtpHarry. This partly solves my issue. It gives me the correct height. And I am able to get the correct width if my <code>&lt;ion-menu&gt;</code> is hidden in the hamburger-menu. But if the <code>&lt;ion-menu&gt;</code> is shown in full-screen the width is not correct. It includes the <code>&lt;ion-menu&gt;</code>-width. Do you know a way to get the width of the <code>&lt;ion-menu&gt;</code> dynamically? If yes I can easily subtract it from the content-menu. That would solve my issue."}, {"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "reply_to_user": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "edited": false, "score": 1, "creation_date": 1568866796, "post_id": 57997708, "comment_id": 102412318, "body": "Great, please consider upvoting if it helped. I will setup a demo app when I get into the office and figure this out. The technique can be applied to any component though, I think, so my plan would be to do an IonMenu version of <code>@ViewChild(IonContent, null) private content: IonContent;</code> and then apply the same techniques to get dimensions."}, {"owner": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "edited": false, "score": 1, "creation_date": 1568893543, "post_id": 57997708, "comment_id": 102424719, "body": "Thanks. Looking forward to your demo app! I gave you an upvote."}, {"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "reply_to_user": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "edited": false, "score": 1, "creation_date": 1568987470, "post_id": 57997708, "comment_id": 102461802, "body": "what is that <code>poweredBy</code> that I can see in the markup? I think thats whats sitting between the discrepancy of your two widths. A div doesn&#39;t work as a block level item, it floats or flex&#39;s into a row, not sure what exactly, but it doesn&#39;t act like normal html as you might expect."}, {"owner": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "edited": false, "score": 1, "creation_date": 1569002078, "post_id": 57997708, "comment_id": 102468383, "body": "That <code>poweredBy</code> is just a div containing a text. But it does not influence the result. I tried it without it - with the same result. Do you know a way to get the dynamically get the width of a <code>&lt;ion-menu&gt;</code> which is part of a <code>&lt;ion-split-pane&gt;</code>. I tried the <code>@ViewChild</code> approach, but was not able to find the width. Any further hints?"}], "tags": [], "owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "is_accepted": false, "score": 3, "last_activity_date": 1568905402, "last_edit_date": 1568905402, "creation_date": 1568826369, "answer_id": 57997708, "question_id": 57990687, "link": "https://stackoverflow.com/questions/57990687/get-initial-height-width-of-canvas-in-ion-content/57997708#57997708", "title": "Get initial height/width of canvas in &lt;ion-content&gt;", "body": "<p>The trick you're looking for is to find the size of the ion-content, which can be done using the following:</p>\n\n<pre><code>import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { IonContent } from '@ionic/angular';\n\nexport class HomePage implements OnInit {\n  @ViewChild(IonContent, { static: true }) private content: IonContent;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.content.getScrollElement().then(scrollElement =&gt; {\n      console.log(\"clientHeight: \", scrollElement.clientHeight);\n      console.log(\"clientWidth: \", scrollElement.clientWidth);\n      console.log(\"scrollHeight: \", scrollElement.scrollHeight);\n      console.log(\"scrollWidth: \", scrollElement.scrollWidth);\n    });\n  }\n}\n</code></pre>\n\n<p>Client width and height are your width and height of the ion-content.</p>\n\n<p>If the content was longer than the current page and you had scrollbars, the scroll width and height would be set to those values.</p>\n\n<p>This is the output I'm getting, which I confirmed with devtools:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FCtdF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FCtdF.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can't make <code>ngOnInit</code> async but depending on where you are doing this you could do an async version like:</p>\n\n<pre><code>  async someOtherFunction() {\n    const scrollElement = await this.content.getScrollElement();\n    console.log(\"clientHeight: \", scrollElement.clientHeight);\n    console.log(\"clientWidth: \", scrollElement.clientWidth);\n    console.log(\"scrollHeight: \", scrollElement.scrollHeight);\n    console.log(\"scrollWidth: \", scrollElement.scrollWidth);\n  }\n</code></pre>\n\n<h1>Update</h1>\n\n<p>I tested it with a dashboard I'm building at the moment and it does give me the correct ion-content's dimensions:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vtd25.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vtd25.png\" alt=\"enter image description here\"></a></p>\n\n<p>I added a button (1) and it outputs (2) and checking it against the splitpane (3) it matches up apart from some sub-pixel rounding.</p>\n\n<p>Do you have other stuff on the page that is overflowing and affecting it? Because I actually was seeing some discrepancy at first with an <code>ng-datatable</code> component on there, but when I commented it out and just left the basics the numbers matched up.</p>\n"}], "owner": {"reputation": 31, "user_id": 4287656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b96bea92c5581b483a93a50a86e5f?s=128&d=identicon&r=PG", "display_name": "ferri", "link": "https://stackoverflow.com/users/4287656/ferri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1568918619, "creation_date": 1568802640, "last_edit_date": 1568918619, "question_id": 57990687, "link": "https://stackoverflow.com/questions/57990687/get-initial-height-width-of-canvas-in-ion-content", "title": "Get initial height/width of canvas in &lt;ion-content&gt;", "body": "<p>I have a IONIC4/Angular8 setup with a header and splitpane-Menu.\nThen I load BabylonJS engine into the View-Child of the <code>#canvas</code> inside <code>&lt;ion-content&gt;</code>.</p>\n\n<p>For that reason I need to set the height and width of the canvas correctly.\nUsing <code>window.innerHeight</code>/<code>window.innerWidth</code> will always include the menu and the header.</p>\n\n<p>I have a working window-resize Eventlistener but the first initial BabylonJS view always gets distorted.</p>\n\n<p>My question is, how can i dynamically get the width and height of just the canvas?\n<code>canvas.nativeElement.clientHeight</code> was my assumption - but i always received a 0.</p>\n\n<p>Any hints?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I tried the suggested solution of answer of @rtpHarry - here are my results:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d4aih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d4aih.png\" alt=\"You can see my content canvas at (1) and my menu at (2). If you look at the outputs in the console (3) is showing the correct height of the canvas but the width still includes the menu. This is further highlighted if you compare (3) to (4) where i outputted the window.innerwidth. The header gets deducted but the menu does not.\"></a>\nYou can see my content canvas at (1) and my menu at (2). If you look at the outputs in the console (3) is showing the correct height of the canvas but the width still includes the menu. This is further highlighted if you compare (3) to (4) where i outputted the window.innerwidth. The header gets deducted but the menu does not.</p>\n\n<p>These is the stuff i use...\n<a href=\"https://i.stack.imgur.com/2Vnbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Vnbj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 3, "creation_date": 1568802650, "post_id": 57990675, "comment_id": 102388499, "body": "Your constructor takes <code>errorService</code> but when you call <code>new ErrorHandler()</code> you aren&#39;t supplying it."}, {"owner": {"reputation": 13269, "user_id": 218349, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/abb2f595ca653f4b91bbdc0329000a04?s=128&d=identicon&r=PG", "display_name": "3gwebtrain", "link": "https://stackoverflow.com/users/218349/3gwebtrain"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1568802809, "post_id": 57990675, "comment_id": 102388592, "body": "Is it mean that, I need to pass <code>BackendErrorsService</code> each time I call?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1568802936, "post_id": 57990675, "comment_id": 102388662, "body": "You haven&#39;t said it&#39;s an optional argument, so TS expects it there every time."}], "answers": [{"tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": true, "score": 1, "last_activity_date": 1568802873, "creation_date": 1568802873, "answer_id": 57990760, "question_id": 57990675, "link": "https://stackoverflow.com/questions/57990675/getting-error-ts2554-expected-1-arguments-but-got-0-when-calling-a-construc/57990760#57990760", "title": "Getting &quot;error TS2554: Expected 1 arguments, but got 0.&quot; when calling a constructor", "body": "<p>Angular automatically resolve dependencies of components and services. However, when you call your class\nlike that:</p>\n\n<pre><code>const instance = new ErrorHandler().getError();\n</code></pre>\n\n<p>Then you need to supply a dependency <code>BackendErrorsService</code>. Something like that:</p>\n\n<pre><code>let backendErrorsService = new BackendErrorsService();\nconst instance = new ErrorHandler(backendErrorsService ).getError();\n</code></pre>\n"}], "owner": {"reputation": 13269, "user_id": 218349, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/abb2f595ca653f4b91bbdc0329000a04?s=128&d=identicon&r=PG", "display_name": "3gwebtrain", "link": "https://stackoverflow.com/users/218349/3gwebtrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 57990760, "answer_count": 1, "score": 0, "last_activity_date": 1568803098, "creation_date": 1568802590, "last_edit_date": 1568803098, "question_id": 57990675, "link": "https://stackoverflow.com/questions/57990675/getting-error-ts2554-expected-1-arguments-but-got-0-when-calling-a-construc", "title": "Getting &quot;error TS2554: Expected 1 arguments, but got 0.&quot; when calling a constructor", "body": "<p>Getting an error </p>\n\n<blockquote>\n  <p>error TS2554: Expected 1 arguments, but got 0.</p>\n</blockquote>\n\n<p>when the class instance is called. How can I fix this?</p>\n\n<pre><code>class ErrorHandler {\n\n    constructor(private errorService: BackendErrorsService) {}\n    getError() {\n        console.log('error called');\n    }\n}\n\nconst instance = new ErrorHandler().getError();\n</code></pre>\n"}, {"tags": ["arrays", "angular", "typescript", "object", "enums"], "answers": [{"tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": true, "score": 2, "last_activity_date": 1568802820, "creation_date": 1568802820, "answer_id": 57990739, "question_id": 57990652, "link": "https://stackoverflow.com/questions/57990652/script-for-converting-object-of-arrays-with-objects-into-an-enum-typescript/57990739#57990739", "title": "Script for converting object of arrays with objects into an enum (typescript)", "body": "<p>If I understood right, you want to create a script that converts an array of objects to an Enum in a dynamic way (like creating a typescript function that converts an array of objects to an Enum).</p>\n\n<p>Like the <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Enums allow us to define a set of named constants</p>\n</blockquote>\n\n<p>Since you want to create an Enum dynamic and based on the sentence above, I don't think that is possible to create a script which converts an array of objects to an Enum. </p>\n\n<p>Moreover, I don't think in an architecture perspective is correct either. </p>\n"}], "owner": {"reputation": 102, "user_id": 10364616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f3923987855186313254ea4209e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Maxstgt", "link": "https://stackoverflow.com/users/10364616/maxstgt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 57990739, "answer_count": 1, "score": 0, "last_activity_date": 1568802820, "creation_date": 1568802508, "question_id": 57990652, "link": "https://stackoverflow.com/questions/57990652/script-for-converting-object-of-arrays-with-objects-into-an-enum-typescript", "title": "Script for converting object of arrays with objects into an enum (typescript)", "body": "<p>I want to convert an object ofarray with objects into an enum. I'm using TypeScript\nHere is a snippet:</p>\n\n<pre><code>const data = {\n TERRITORIES: [\n  { 'slug': 'world', 'label': 'World'},\n   ...\n ],\nMEDIAS: [\n  { 'slug': 'pay-tv', 'label': 'Pay-TV' },\n   ...\n]\n}\n</code></pre>\n\n<p>I know that TypeScript is doing something like this if you create an enum:</p>\n\n<pre><code>var SomeEnum;\n(function (SomeEnum) {\n    SomeEnum[SomeEnum[\"A\"] = 0] = \"A\";\n    SomeEnum[SomeEnum[\"B\"] = 1] = \"B\";\n    SomeEnum[SomeEnum[\"C\"] = 2] = \"C\";\n    SomeEnum[SomeEnum[\"D\"] = 3] = \"D\";\n})(SomeEnum || (SomeEnum = {}));\n</code></pre>\n\n<p>The expected result should be, that the <code>slug</code> is the key and the value is the <code>label</code>. </p>\n\n<pre><code>enum Territories {\nworld = 'World',\n  ...\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "graphql", "typeorm"], "comments": [{"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1568803673, "post_id": 57990554, "comment_id": 102389059, "body": "looks to me that <code>deleteUserMutation</code> return type is set to type <code>User</code>?"}, {"owner": {"reputation": 725, "user_id": 1442371, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22d443d3ec05a9b5c430d793613a5645?s=128&d=identicon&r=PG", "display_name": "Ewe Tek Min", "link": "https://stackoverflow.com/users/1442371/ewe-tek-min"}, "edited": false, "score": 0, "creation_date": 1568803796, "post_id": 57990554, "comment_id": 102389137, "body": "I believe your return type is wrong, <code>User</code> should contains <code>id</code>, <code>name</code> etc, but your <code>response</code> is <code>responseCode</code>, <code>message</code> and <code>user</code>. This is the typescript error instead of graphql, just change the <code>Promise&lt;type user&gt;</code> to something else should fix"}], "answers": [{"comments": [{"owner": {"reputation": 1251, "user_id": 7882685, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/94b65eaecdd85aebae0bcbca18d4b651?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/7882685/jakub"}, "edited": false, "score": 0, "creation_date": 1568806856, "post_id": 57991621, "comment_id": 102390839, "body": "I fixed doing this <code>Promise&lt;typeof deleteUserMutation&gt;</code>"}], "tags": [], "owner": {"reputation": 847, "user_id": 10690138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qzy4Dpg0wB0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRPOPYeX5t-sSMnc5QTCVLQG767Q/mo/photo.jpg?sz=128", "display_name": "Mahesh Bhatnagar", "link": "https://stackoverflow.com/users/10690138/mahesh-bhatnagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568805753, "creation_date": 1568805753, "answer_id": 57991621, "question_id": 57990554, "link": "https://stackoverflow.com/questions/57990554/graphql-mutation-type-missing-in-the-response/57991621#57991621", "title": "GraphQL mutation type missing in the response", "body": "<p>type Mutation{ deleteUserMutation(input:{}):Respone }\ntype Respone{responseCode: Number!message: String!user: User}\nPlease use above pattern </p>\n"}, {"tags": [], "owner": {"reputation": 1251, "user_id": 7882685, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/94b65eaecdd85aebae0bcbca18d4b651?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/7882685/jakub"}, "is_accepted": false, "score": 0, "last_activity_date": 1568807022, "creation_date": 1568807022, "answer_id": 57992006, "question_id": 57990554, "link": "https://stackoverflow.com/questions/57990554/graphql-mutation-type-missing-in-the-response/57992006#57992006", "title": "GraphQL mutation type missing in the response", "body": "<p>I want to show my solution to my problem as based on comments I read on my question.</p>\n\n<p>I changed the <code>typeof</code> as follow and that fixed the issue:</p>\n\n<p><code>Promise&lt;typeof deleteUserMutation&gt;</code></p>\n\n<p>Full code:</p>\n\n<pre><code>import { getRepository } from 'typeorm';\nimport { Entities } from '../../../entities/entities';\n\nexport const deleteUserMutation = {\n    async deleteUser(_, { id }): Promise&lt;typeof deleteUserMutation&gt; {\n        const response = {\n            responseCode: 500,\n            message: 'Error, user not deleted',\n            user: null,\n        };\n\n        const repository = getRepository(Entities.user);\n        const user = await repository.findOne({ id });\n\n        if (user &amp;&amp; repository.delete({ id })) {\n            response.responseCode = 200;\n            response.message = 'User deleted successfully';\n            response.user = user;\n        }\n\n        return response;\n    },\n};\n</code></pre>\n"}], "owner": {"reputation": 1251, "user_id": 7882685, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/94b65eaecdd85aebae0bcbca18d4b651?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/7882685/jakub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568807022, "creation_date": 1568802233, "last_edit_date": 1568802849, "question_id": 57990554, "link": "https://stackoverflow.com/questions/57990554/graphql-mutation-type-missing-in-the-response", "title": "GraphQL mutation type missing in the response", "body": "<p>I built in my GraphQL API a <code>DeleteUserMutation</code> which should allow me to delete a user and have a response with a message but on the return, I'm getting an error:</p>\n\n<pre><code>SError: \u2a2f Unable to compile TypeScript:\nsrc/graphql/mutations/user/delete-user.ts:21:9 - error TS2740: Type '{ responseCode: number; message: string; user: any; }' is missing the following properties from type 'User': id, name, last_name, email, and 4 more.\n\n21         return response;\n           ~~~~~~~~~~~~~~~~\n</code></pre>\n\n<p>I tried to achieve that when  a User is deleted and success in the response I see the message from my type <code>DeleteUserresponse</code></p>\n\n<pre><code>export const DeleteUserResponse = gql`\n    type DeleteUserResponse {\n        responseCode: Number!\n        message: String!\n        user: User\n    }\n`;\n</code></pre>\n\n<p>The mutation should delete the user and if success shows the success values and if not shows the opposite and I tried in this way:</p>\n\n<pre><code>import { getRepository } from 'typeorm';\nimport { Entities } from '../../../entities/entities';\n\nexport const deleteUserMutation = {\n    async deleteUser(_, { id }): Promise&lt;typeof user&gt; {\n        const response = {\n            responseCode: 500,\n            message: 'Error, user not deleted',\n            user: null,\n        };\n\n        const repository = getRepository(Entities.user);\n        const user = await repository.findOne({ id });\n\n        if (user &amp;&amp; repository.delete({ id })) {\n            response.responseCode = 200;\n            response.message = 'User deleted successfully';\n            response.user = user;\n        }\n\n        return response;\n    },\n};\n</code></pre>\n\n<p>But this above doesn't work and cannot understand what is the issue as I'm a newbie in GraphQL.\nThe error suggests the types are missing but I tried to play around adding and removing types but that error is not going away.</p>\n\n<p>What is the issue in my code and how to fix it.</p>\n"}, {"tags": ["typescript", "mapped-types"], "answers": [{"comments": [{"owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "edited": false, "score": 0, "creation_date": 1568809412, "post_id": 57990853, "comment_id": 102392237, "body": "I updated my examples. I want the length of array to be variable."}], "tags": [], "owner": {"reputation": 4404, "user_id": 356323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbccbe7ced3e53f87350e544b285ce9?s=128&d=identicon&r=PG", "display_name": "david_p", "link": "https://stackoverflow.com/users/356323/david-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1568803213, "creation_date": 1568803213, "answer_id": 57990853, "question_id": 57990506, "link": "https://stackoverflow.com/questions/57990506/mapped-tuple-types-array-pass-array-as-tuple-to-a-function/57990853#57990853", "title": "mapped tuple types / array: pass array as tuple to a function", "body": "<p>Your declaration code is correct.</p>\n\n<p>This is the right way to invoke your function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>myFunction&lt;[number, boolean]&gt;(\n  (a, b) =&gt; null, \n  {params: [1, true]}\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "edited": false, "score": 0, "creation_date": 1568809407, "post_id": 57990927, "comment_id": 102392234, "body": "I updated my examples. I want the length of array to be variable."}], "tags": [], "owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "is_accepted": false, "score": 0, "last_activity_date": 1568803469, "creation_date": 1568803469, "answer_id": 57990927, "question_id": 57990506, "link": "https://stackoverflow.com/questions/57990506/mapped-tuple-types-array-pass-array-as-tuple-to-a-function/57990927#57990927", "title": "mapped tuple types / array: pass array as tuple to a function", "body": "<p>try this:</p>\n\n<pre><code>function myFunction&lt;A, B, P extends [A, B]&gt;(\n  fn: (...params: P) =&gt; null,\n  options: { params: P }) {\n     ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "edited": false, "score": 0, "creation_date": 1568809402, "post_id": 57991977, "comment_id": 102392229, "body": "I updated my examples. I want the length of array to be variable."}, {"owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "edited": false, "score": 1, "creation_date": 1568887461, "post_id": 57991977, "comment_id": 102421357, "body": "wow, I&#39;m pretty impressed! It just works as you described it. you saved my day :)"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 2, "last_activity_date": 1568829901, "last_edit_date": 1592644375, "creation_date": 1568806956, "answer_id": 57991977, "question_id": 57990506, "link": "https://stackoverflow.com/questions/57990506/mapped-tuple-types-array-pass-array-as-tuple-to-a-function/57991977#57991977", "title": "mapped tuple types / array: pass array as tuple to a function", "body": "<h3>Update:</h3>\n<p>There is actually an easier way. Normally narrowing of an array to a tuple type is only possible by the caller of a function with <code>as const</code> (see original answer). We can move this responsibility to the generic type parameter <code>P</code> of function <code>myFunction</code> by <a href=\"https://github.com/microsoft/TypeScript/issues/27179#issuecomment-422606990\" rel=\"nofollow noreferrer\">including a tuple type as constituent of an uniontype</a>, so the constraint now becomes <code>P extends (ReadonlyArray&lt;any&gt; | readonly [any])</code>.</p>\n<pre><code>function myFunction&lt;P extends (ReadonlyArray&lt;any&gt; | readonly [any])&gt;(\n  fn: (...params: P) =&gt; null,\n  options: { params: P }\n) {\n  fn(...options.params)\n  // ...\n}\n\nmyFunction((a, b) =&gt; null, {\n  params: [true, 1]\n});\n\n// params: [boolean, number]\n// fn: (a: boolean, b: number) =&gt; null\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAWwJ4DFzXmAPABUQFMAPKIsAEwGdEAKAJSIENKEAbVAQQCcfnUuZmFQA+RAB9EPFmzCdEAbQC6ASlF0AUIkTAwALnoA6EwAdm-ZNUP5ViALziwIduwA02xHFOwE1xADeiOaW-oQAvpp2AZ56dCZG3r5g1EYhzFaqngD02YgJmpGaaJiQyXR0zG6IAEZ2jojOrtUxOulWhopQPCBE1QCMyoWqANyaQA\" rel=\"nofollow noreferrer\">Playground</a></p>\n<p>Credit goes to an <a href=\"https://stackoverflow.com/questions/57956812/force-typescript-array-to-contain-an-element-of-given-value\">answer</a> by jcalz involving some &quot;sorcery code&quot; \ud83e\uddd9 I picked up here. Also have a look at the relevant <a href=\"https://github.com/Microsoft/TypeScript/issues/30680\" rel=\"nofollow noreferrer\">feature suggestion</a>.</p>\n<h3>Original answer:</h3>\n<p>Although I don't quite understand your use case, what about this?</p>\n<pre><code>// fn: (params_0: true, params_1: 1, params_2: Date) =&gt; null\nmyFunction((a, b) =&gt; null, {\n  params: ([true, 1, new Date()]) as const\n}); \n\nfunction myFunction&lt;P extends readonly any[]&gt;(\n  fn: (...params: P) =&gt; null,\n  options: { params: P }\n) { fn(...options.params); }\n</code></pre>\n<p>You still use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions\" rel=\"nofollow noreferrer\">const assertion</a>, but don't have to manually write all tuple item types. I assume, you just pass on your <code>params</code> directly to the callback, as there would be no way to manipulate <code>P</code> inside <code>myFunction</code> body in a way, where you rely on the tuple item types, as <code>P</code> is only constrained to extend <code>any[]</code>.</p>\n<p>In general initialized arrays are widened to <code>Array</code> type by the compiler if you don't narrow them at initialization time with <code>as const</code>.</p>\n<pre><code>const options = {\n  params: [3,4,&quot;a&quot;] // params: (string | number)[];\n}\n\nconst optionsConst = {\n  params: [3,4,&quot;a&quot;] as const // params: readonly [3, 4, &quot;a&quot;];\n}\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAWwJ4DFzXmAPABUQFMAPKIsAEwGdEAnIgQ0oQBtVFGxUBtAXQB8ACgBQiRMDAAuREIB0CgA6M6jZNRn4AlIgC8AxGBCtWAGjGI4i2Ag2IA3omWr1mxAF8RO+xcnyFVjZg1HLOatRaFgD0UYgKciKeImiYkEFCQoymiABGOvqGxmYOFmGusjxQdCBE2QCM2WBEAO6IACKM5EJafDqMtBC2UIlaANwiIoPBUJbWOLS6JeJldjwAzKYALKYARIw7fIgxTirhMkLUVTBgAOaIAD6FyDlEdFr840lTl7NB1ADCQz0SxOLlWG22ewOnAGQOOKxkDGYbA462y20QUL4nyAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "closed_date": 1617628870, "accepted_answer_id": 57991977, "answer_count": 3, "score": 1, "last_activity_date": 1568829901, "creation_date": 1568802092, "last_edit_date": 1568812922, "question_id": 57990506, "link": "https://stackoverflow.com/questions/57990506/mapped-tuple-types-array-pass-array-as-tuple-to-a-function", "closed_reason": "Duplicate", "title": "mapped tuple types / array: pass array as tuple to a function", "body": "<p>What I want to do is pass an array to a function and receive the values of this array as a tuple in another function.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>myFunction(\n    (a, b) =&gt; null,\n    {\n        params: [true, 1]\n    }\n);\n</code></pre>\n\n<p>In the example above, I want typings: <code>a: boolean</code> and <code>b: number</code>. Instead I receive <code>a: boolean | number</code> and <code>b: boolean | number</code>.</p>\n\n<p>Please keep in mind that I want the length of params to be variable. Also <code>[1, false, 'string', {}]</code> should be possible.</p>\n\n<p>As I have read this has something to do with <a href=\"https://github.com/Microsoft/TypeScript/issues/25947\" rel=\"nofollow noreferrer\">mapped tuples</a>? But I really don't get it.</p>\n\n<p>My current implementation looks like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function myFunction&lt;P extends any[]&gt;(\n    fn: (...params: P) =&gt; null, \n    options: { params: P }) {\n    ...\n}\n</code></pre>\n\n<p>--</p>\n\n<p>What actually works is this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>myFunction(\n    (a, b) =&gt; null,\n    {\n        params: [true, 1] as [boolean, number]\n    }\n);\n</code></pre>\n\n<p>But I really don't want to type-cast all the time to make it work :/</p>\n"}, {"tags": ["node.js", "typescript", "socket.io"], "comments": [{"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1568802062, "post_id": 57990350, "comment_id": 102388156, "body": "Is that all your code or how are you using it?"}, {"owner": {"reputation": 1, "user_id": 6039510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpV9h.jpg?s=128&g=1", "display_name": "Vladimir Pavkovic", "link": "https://stackoverflow.com/users/6039510/vladimir-pavkovic"}, "reply_to_user": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1568802137, "post_id": 57990350, "comment_id": 102388197, "body": "I use it from another module like this import * as app from &#39;./app&#39;; let app=new app.AppClass();"}], "owner": {"reputation": 1, "user_id": 6039510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpV9h.jpg?s=128&g=1", "display_name": "Vladimir Pavkovic", "link": "https://stackoverflow.com/users/6039510/vladimir-pavkovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568801621, "creation_date": 1568801621, "question_id": 57990350, "link": "https://stackoverflow.com/questions/57990350/node-socket-io-typescript-cant-make-it-to-work", "title": "Node + socket.io + Typescript can&#39;t make it to work", "body": "<p>What is wrong with this code ? Nothing happens when I try to connect with client, I'm using Simple Web Socket Client Extension. With <em>websocket.io</em> everything is fine.</p>\n\n<pre><code>import * as express from 'express';\nimport * as http from 'http';\nimport * as io from 'socket.io';\n\nexport class AppClass{   \n    private _port:number=3080;\n\n    constructor(){\n        const expressServer = express();              \n\n        const server = http.createServer(expressServer);\n\n        let webSocket:io.Server = io(server);\n        webSocket.on('connection',\n            (s:io.Socket)=&gt;{\n                console.log('socket.io connection...', s);\n                s.on('message',\n                    (msg:string)=&gt;{\n                        console.log(msg);\n                    })\n            }\n        );    \n\n        server.listen(\n            this._port,\n            ()=&gt;{\n                console.log('Server is listening on port ', this._port);\n            }\n        );\n\n    }    \n}\n</code></pre>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core", "angular8"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "edited": false, "score": 0, "creation_date": 1568802789, "post_id": 57990683, "comment_id": 102388581, "body": "In other projects I parsed IEnumerables correctly, If I have to do that my current workaround is sufficient then.  Thanks!"}, {"owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "edited": false, "score": 0, "creation_date": 1568803450, "post_id": 57990683, "comment_id": 102388923, "body": "Nigo are you sure about that? Just for reference other fields in my model are:    public long id_cliente { get; set; }         public long id_modalita_pagamento { get; set; }  And so on and so far they have no problem with that naming convention with underscores"}, {"owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "edited": false, "score": 0, "creation_date": 1568803640, "post_id": 57990683, "comment_id": 102389036, "body": "I&#39;ve tried you new solution but nothing changed, still no result, I have to do it manually"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 0, "last_activity_date": 1568802899, "last_edit_date": 1568802899, "creation_date": 1568802622, "answer_id": 57990683, "question_id": 57990181, "link": "https://stackoverflow.com/questions/57990181/angular-8-post-formdata-to-asp-net-core-api-cannot-bind-ienumerable-list/57990683#57990683", "title": "Angular 8 post formData to ASP.NET Core API cannot bind IEnumerable/List", "body": "<p>I think you need to change your model name like this</p>\n\n<p>In your js code</p>\n\n<pre><code>formData.append('righeOrdine', JSON.stringify(model.righe_ordine));\n</code></pre>\n\n<p>and c# </p>\n\n<pre><code>public class OrdiniBuoniSpesaViewModel \n    {\n        public long id { get; set; }\n        //OTHER VARIOUS FIELDS\n        //I TRIED ALSO WITH LIST INSTEAD OF IENUMERABLE\n        public IEnumerable&lt;RigheOrdiniBuoniSpesaViewModel&gt; RigheOrdine {get;set;}\n    }\n</code></pre>\n\n<p>Update: Just for enhancement</p>\n\n<p>Maybe you need to parse it before using it in your controller</p>\n\n<p>You can read my full code <a href=\"https://ngohungphuc.wordpress.com/2019/01/22/parse-json-string-with-json-net/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>We will need to create interface and class to implement it.</p>\n\n<pre><code>public interface IJsonParseService&lt;T&gt; where T : class\n{\n     T ToObject(string json);\n}\n\npublic class JsonParseService&lt;T&gt; : IJsonParseService&lt;T&gt; where T : class\n{\n    public T ToObject(string json)\n    {\n      return JObject.Parse(json).Root.ToObject&lt;T&gt;();\n    }\n}\n</code></pre>\n\n<p>Then register it </p>\n\n<pre><code>services.AddScoped(typeof(IJsonParseService&lt;&gt;), typeof(JsonParseService&lt;&gt;));\n</code></pre>\n\n<p>So your code should be something like this</p>\n\n<pre><code>private readonly IJsonParseService&lt;RigheOrdiniBuoniSpesaViewModel&gt; _jsonParsePostOptionDefaultVm;\n\njsonParsePostOptionDefaultVm.ToObject(viewModel.RigheOrdiniBuoniSpesaViewModel); \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 762, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569175417, "creation_date": 1568801120, "last_edit_date": 1568802408, "question_id": 57990181, "link": "https://stackoverflow.com/questions/57990181/angular-8-post-formdata-to-asp-net-core-api-cannot-bind-ienumerable-list", "title": "Angular 8 post formData to ASP.NET Core API cannot bind IEnumerable/List", "body": "<p>As title says</p>\n\n<p>TypeScript model</p>\n\n<pre><code>export interface RigheOrdiniBuoniSpesaData {\n  id: number;\n  id_ordine: number;\n  id_taglio_buono_spesa: number;\n  quantita: number;\n}\n</code></pre>\n\n<p>which is part of another bigger object:</p>\n\n<pre><code>export class OrdiniBuoniSpesaData {\n  id: number;\n  // OTHER FIELD\n  // OTHER FIELD\n  // OTHER FIELD\n  righe_ordine: RigheOrdiniBuoniSpesaTableData;\n}\n</code></pre>\n\n<p>Save method</p>\n\n<pre><code>saveOrder(model: OrdiniBuoniSpesaData) {\n    const headerPost: HttpHeaders = new HttpHeaders();\n    headerPost.set('Content-type', 'application/x-www-form-urlencoded');\n    const formData: FormData = new FormData();\n    formData.append('id_cliente', model.id_cliente.toString());\n    // VARIOUS FORM FIELDS\n    //THIS IS ARRAY DATA\n    formData.append('righe_ordine', JSON.stringify(model.righe_ordine));\n    return this.http\n        .post&lt;boolean&gt;(\n          requestURL,\n          formData,\n          { headers: headerPost }\n        )\n        .pipe(\n          catchError(this.handleError)\n        );\n}\n</code></pre>\n\n<p>Order json (valid Json) is visible in Chrome request capture clearly along with all data:</p>\n\n<pre><code>[{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":1,\"quantita\":1},{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":1,\"quantita\":1},{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":1,\"quantita\":1},{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":3,\"quantita\":14}]\n</code></pre>\n\n<p>On API Side</p>\n\n<p>Receiving model for JSON</p>\n\n<pre><code>public class RigheOrdiniBuoniSpesaViewModel\n{\n    public long id { get; set; }\n    public long id_ordine { get; set; }\n    public long id_taglio_buono_spesa { get; set; }\n    public int quantita { get; set; }\n}\n</code></pre>\n\n<p>Which is in  </p>\n\n<pre><code>public class OrdiniBuoniSpesaViewModel \n    {\n        public long id { get; set; }\n        //OTHER VARIOUS FIELDS\n        //I TRIED ALSO WITH LIST INSTEAD OF IENUMERABLE\n        public IEnumerable&lt;RigheOrdiniBuoniSpesaViewModel&gt; righe_ordine {get;set;}\n    }\n</code></pre>\n\n<p>(I TRIED ALSO WITH LIST INSTEAD OF IENUMERABLE, STILL NO LUCK!)</p>\n\n<p>Api controller signature:</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;IActionResult&gt; PostSaveOrder([FromForm] OrdiniBuoniSpesaViewModel model) \n{.....code}\n</code></pre>\n\n<p>All the fields are binded correctly except for the righe_ordine array!\nI can see every field correctly but the array has count = 0.</p>\n\n<p>Strangely enough, if I examine the asp net request object (this.Request.Form) in the QuickWatch debug in visual studio:</p>\n\n<pre><code>this.Request.Form[\"righe_ordine\"]\n{[{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":1,\"quantita\":1},\n{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":1,\"quantita\":1},\n{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":1,\"quantita\":1},\n{\"id\":0,\"id_ordine\":0,\"id_taglio_buono_spesa\":3,\"quantita\":14}]}    \n\nMicrosoft.Extensions.Primitives.StringValues\n</code></pre>\n\n<p>is present and correctly populated..... but for some reason binding it to the OrdiniBuoniSpesaViewModel fails....</p>\n\n<p>What am I doing wrong? Any idea?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>For the moment the only solution I found is to directly catch the value just after entering the controller:</p>\n\n<pre><code>string righeJson = this.Request.Form[\"righe_ordine\"].ToString();\nif(!string.IsNullOrEmpty(righeJson))\n      model.righe_ordine = JsonConvert.DeserializeObject&lt;IEnumerable&lt;RigheOrdiniBuoniSpesaViewModel&gt;&gt;(righeJson);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 52, "user_id": 11315515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xPt7HAzktgg/AAAAAAAAAAI/AAAAAAAAKh8/Yqg7O_H_ahs/photo.jpg?sz=128", "display_name": "harsha reddy", "link": "https://stackoverflow.com/users/11315515/harsha-reddy"}, "edited": false, "score": 0, "creation_date": 1568801322, "post_id": 57990142, "comment_id": 102387768, "body": "look through this you may get what you need <a href=\"https://stackoverflow.com/questions/29038596/bootstrap-fixed-header-and-footer-with-scrolling-body-content-area-in-fluid-cont\" title=\"bootstrap fixed header and footer with scrolling body content area in fluid cont\">stackoverflow.com/questions/29038596/&hellip;</a>"}, {"owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "reply_to_user": {"reputation": 52, "user_id": 11315515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xPt7HAzktgg/AAAAAAAAAAI/AAAAAAAAKh8/Yqg7O_H_ahs/photo.jpg?sz=128", "display_name": "harsha reddy", "link": "https://stackoverflow.com/users/11315515/harsha-reddy"}, "edited": false, "score": 0, "creation_date": 1568801826, "post_id": 57990142, "comment_id": 102388031, "body": "That&#39;s not what I am facing the issue with"}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1568802256, "post_id": 57990142, "comment_id": 102388255, "body": "you still see your badges cause they are in the dashboard component OUTSIDE the router-outlet (where the badge componentg children will be injected) .."}, {"owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "edited": false, "score": 0, "creation_date": 1568802320, "post_id": 57990142, "comment_id": 102388307, "body": "check this: <a href=\"https://stackoverflow.com/questions/41857876/angular-2-submodule-routing-and-nested-router-outlet\" title=\"angular 2 submodule routing and nested router outlet\">stackoverflow.com/questions/41857876/&hellip;</a>"}, {"owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "reply_to_user": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1568802652, "post_id": 57990142, "comment_id": 102388500, "body": "@federicoscamuzzi. But how do I not display the badges also upon navigating to individual badges"}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1568804282, "post_id": 57990142, "comment_id": 102389381, "body": "create ANOTHER COMPONENT .. like indexCompoenent .. put there your badges and andd it as child route ..then set initial route (default) ton your /dashboard/index"}, {"owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "edited": false, "score": 0, "creation_date": 1568804872, "post_id": 57990142, "comment_id": 102389703, "body": "It&#39;s a bit confusing though. Can yu give an example and explan"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 8535503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UM-ir0fV4ms/AAAAAAAAAAI/AAAAAAAAAJA/wQAuUmg189Y/photo.jpg?sz=128", "display_name": "Geverson Carvalho", "link": "https://stackoverflow.com/users/8535503/geverson-carvalho"}, "is_accepted": false, "score": 1, "last_activity_date": 1568816141, "creation_date": 1568816141, "answer_id": 57994897, "question_id": 57990142, "link": "https://stackoverflow.com/questions/57990142/understanding-top-level-router-outlet-and-sub-module-router-outlet/57994897#57994897", "title": "Understanding Top level &lt;router- outlet&gt; and sub module &lt;router-outlet&gt;", "body": "<p>When you access a sub-route it does not leave the parent one. It'll only include a new child route inside the parent one. In your case, you always will be inside \"dashboard\" route and changing sub-routes will only redraw the sub-route area (the inner router-outlet).</p>\n\n<p>If your desire is to have a route without your badge menu, I believe your best approach would be to create a route in the same level of \"dashboard\" (using the first router-outlet). Thus, you would navigate using <strong>this.router.navigate(['/badge2']);</strong></p>\n"}], "owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568816141, "creation_date": 1568801013, "last_edit_date": 1568803897, "question_id": 57990142, "link": "https://stackoverflow.com/questions/57990142/understanding-top-level-router-outlet-and-sub-module-router-outlet", "title": "Understanding Top level &lt;router- outlet&gt; and sub module &lt;router-outlet&gt;", "body": "<p>I am new to Angular framework and creating an angular application. And I have a layout(Header, Body , Footer) where Header and footer should be fixed and they are placed in app.component.html. Only the body needs to be changed based on the click or navigation.\nSo but right now, I am struck with one issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/95UjN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95UjN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>App.component.html</strong></p>\n\n<pre><code> &lt;app-header&gt;&lt;/app-header&gt;\n &lt;router-outlet&gt;&lt;/router-outlet&gt;\n &lt;!-- Footer Selector--&gt;\n &lt;app-footer&gt;&lt;/app-footer&gt;\n</code></pre>\n\n<p><strong>dashboard component</strong></p>\n\n<pre><code>  &lt;div class=\"container-fluid\"&gt;\n      &lt;div class=\"container-fluid\"&gt;\n         &lt;span class=\"badge badge-secondary\"&gt;Badge 1&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"container-fluid\"&gt;\n         &lt;span class=\"badge badge-secondary\" (click)=\"navigateToBadge2()\"&gt;Badge 2&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"container-fluid\"&gt;\n          &lt;span class=\"badge badge-secondary\"&gt;Badge 3&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"container-fluid\"&gt;\n          &lt;span class=\"badge badge-secondary\"&gt;Badge 4&lt;/span&gt;\n      &lt;/div&gt;\n &lt;/div&gt;\n &lt;router-outlet&gt;\n &lt;/router-outlet&gt;\n</code></pre>\n\n<p>Dashboard TS</p>\n\n<pre><code>navigateToBadge2() {\n    this.router.navigate(['/dashboard/badge2']);\n  }\n</code></pre>\n\n<p>Whenever I am clicking the badge, it's navigating properly but the badges are still being displayed.\nI wanted to navigate only to badge component without displaying the Dashboard screen.\nBelow is the result.\nI have my header and footer fixed but, the badges are being displayed even if the navigation successful. If I remove the  from Dashboard component. Unable to see the badge content.\nCould anyone help me with the scenario.\nThanks in advance</p>\n\n<p><a href=\"https://i.stack.imgur.com/rWO4d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWO4d.png\" alt=\"enter image description here\"></a></p>\n\n<p>routing module</p>\n\n<pre><code>   { path: 'dashboard', component: DashboardComponent, children:\n    [\n      { path: 'badge1', component: Badge1Component },\n      { path: 'badge2', component: Badge2Component },\n      { path: 'badge3', component: Badge3Component }]}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1568800144, "post_id": 57989821, "comment_id": 102387100, "body": "How is it not working? It looks fine."}, {"owner": {"reputation": 4052, "user_id": 4948483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Xeqa2.jpg?s=128&g=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4948483/manish"}, "edited": false, "score": 0, "creation_date": 1568800167, "post_id": 57989821, "comment_id": 102387115, "body": "use ngClass instead"}, {"owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "edited": false, "score": 2, "creation_date": 1568800214, "post_id": 57989821, "comment_id": 102387139, "body": "there is no way to help you without knowing more about userProfile.id and userProfile.lastId data types."}, {"owner": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "edited": false, "score": 0, "creation_date": 1568800363, "post_id": 57989821, "comment_id": 102387214, "body": "@D Pro Datatype is both number"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1568800769, "post_id": 57989821, "comment_id": 102387470, "body": "@aosh5 check if your property looks like <code>id:1</code> instead of <code>id:&#39;1&#39;</code> Also can you please console.log(userProfile) object and post output here"}], "answers": [{"comments": [{"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 1, "creation_date": 1568800296, "post_id": 57989853, "comment_id": 102387182, "body": "I think should be inside of quote <code>&#39;lastId&#39;</code>"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1568800621, "post_id": 57989853, "comment_id": 102387362, "body": "from where it will get <code>lastId</code>?i think you wanna say <code>userProfile[&#39;lastId&#39;]+1</code>"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1568800726, "last_edit_date": 1568800726, "creation_date": 1568800143, "answer_id": 57989853, "question_id": 57989821, "link": "https://stackoverflow.com/questions/57989821/angular-property-binding-with-condition/57989853#57989853", "title": "Angular Property Binding with Condition", "body": "<p>Use <code>userProfile['lastId']  + 1</code></p>\n\n<p>Try:</p>\n\n<pre><code>[class.active]=\"userProfile.id === userProfile['lastId']  + 1)\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": false, "score": 0, "last_activity_date": 1568800552, "last_edit_date": 1568800552, "creation_date": 1568800167, "answer_id": 57989865, "question_id": 57989821, "link": "https://stackoverflow.com/questions/57989821/angular-property-binding-with-condition/57989865#57989865", "title": "Angular Property Binding with Condition", "body": "<p>Your code is working fine check stackblitz example below or you can use <code>ngClass</code></p>\n\n<pre><code>[ngClass]=\"{'active': userProfile.id == (userProfile.lastId + 1)}\"\n</code></pre>\n\n<p><strong>Check if peroperties that you'r using are of number typo may be they are evaluating to string like id:'1'</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-3twqtk\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}, {"comments": [{"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1568801233, "post_id": 57989883, "comment_id": 102387710, "body": "What&#39;s the point of changing <code>[class.active]=</code> to <code>[ngClass]=</code> here?"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1568810868, "post_id": 57989883, "comment_id": 102393054, "body": "@mbojko nothing I think ,this the same as the questions \ud83e\udd14\ud83e\udd14"}], "tags": [], "owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "is_accepted": false, "score": 0, "last_activity_date": 1568800213, "creation_date": 1568800213, "answer_id": 57989883, "question_id": 57989821, "link": "https://stackoverflow.com/questions/57989821/angular-property-binding-with-condition/57989883#57989883", "title": "Angular Property Binding with Condition", "body": "<p>Try this </p>\n\n<pre><code>[ngClass]=\"{'active': userProfile.id === userProfile.lastId + 1}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1568801116, "creation_date": 1568801116, "answer_id": 57990178, "question_id": 57989821, "link": "https://stackoverflow.com/questions/57989821/angular-property-binding-with-condition/57990178#57990178", "title": "Angular Property Binding with Condition", "body": "<p>you can uns <code>==</code> if any of the proprty are not number (string value) , drop the type checking </p>\n\n<pre><code>&lt;p [class.active]=\"+userProfile.id == (+userProfile.lastId + 1)\" &gt;...&lt;/p&gt;\n</code></pre>\n\n<blockquote>\n  <p>the <code>+</code> infornt of <code>userProfile.lastId,userProfile.id</code> will convert the value to number</p>\n</blockquote>\n"}], "owner": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1568801116, "creation_date": 1568800042, "question_id": 57989821, "link": "https://stackoverflow.com/questions/57989821/angular-property-binding-with-condition", "title": "Angular Property Binding with Condition", "body": "<p>How can I add a <code>+ 1</code> to my condition with <code>[class.active]</code> binding? It isn't working in this way...</p>\n\n<pre><code>[class.active]=\"userProfile.id === (userProfile.lastId + 1)\"\n</code></pre>\n"}, {"tags": ["typescript", "typedoc"], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 6533159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXX92.jpg?s=128&g=1", "display_name": "Daniele Repici", "link": "https://stackoverflow.com/users/6533159/daniele-repici"}, "edited": false, "score": 1, "creation_date": 1568896719, "post_id": 57990580, "comment_id": 102426535, "body": "According to its <a href=\"https://typedoc.org/guides/doccomments/#markdown\" rel=\"nofollow noreferrer\">documentation</a>, Typescript uses the <a href=\"https://github.com/markedjs/marked#marked\" rel=\"nofollow noreferrer\">Marked</a> markdown parser, which  <a href=\"https://marked.js.org/demo/\" rel=\"nofollow noreferrer\">does not envisage</a> the anchor element for the link. In fact, your solution does not seem to work. Problem is: it doesn&#39;t work with plain URLs either."}], "tags": [], "owner": {"reputation": 2323, "user_id": 8134164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMkEu.jpg?s=128&g=1", "display_name": "Janaka Ekanayake", "link": "https://stackoverflow.com/users/8134164/janaka-ekanayake"}, "is_accepted": false, "score": 0, "last_activity_date": 1568802302, "creation_date": 1568802302, "answer_id": 57990580, "question_id": 57989606, "link": "https://stackoverflow.com/questions/57989606/can-i-share-common-link-references-for-links-in-many-separated-typedoc-comments/57990580#57990580", "title": "Can I share common link-references for links in many, separated typedoc comments?", "body": "<p>On top of your document, you can add external links as follows in the right format so you don't need to repetitively add the link again and again.   </p>\n\n<pre><code> /**\n    * @author  Daniele Repici\n    * @version 1.0\n    * @since   2019/09/18\n    * [FormArray]: &lt;a href=\"https://angular.io/api/forms/FormGroup&lt;/a&gt;\n    * [FormArray]: &lt;a href=\"https://angular.io/api/forms/FormArray&lt;/a&gt;\n    */\n</code></pre>\n\n<blockquote>\n  <p>Don't use {@link ...} or {@linkplain ...} because these are for links to the javadocs of other classes and methods.</p>\n</blockquote>\n"}], "owner": {"reputation": 310, "user_id": 6533159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXX92.jpg?s=128&g=1", "display_name": "Daniele Repici", "link": "https://stackoverflow.com/users/6533159/daniele-repici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568964562, "creation_date": 1568799340, "last_edit_date": 1568964562, "question_id": 57989606, "link": "https://stackoverflow.com/questions/57989606/can-i-share-common-link-references-for-links-in-many-separated-typedoc-comments", "title": "Can I share common link-references for links in many, separated typedoc comments?", "body": "<p>I have a situation like this:</p>\n\n<pre><code>/**\n * A Class.\n *\n * [Google] and [Wikipedia] enter a bar.\n *\n * [Google]: https://www.google.com\n * [Wikipedia]: https://en.wikipedia.org\n */\nclass MyClass {\n  // ...\n}\n\n\n/**\n * Another class.\n *\n * I want to know more about [Google] and [Wikipedia].\n *\n * [Google]: https://www.google.com\n * [Wikipedia]: https://en.wikipedia.org\n */\nclass AnotherClass {\n  // ...\n}\n</code></pre>\n\n<p>As you can see, it would be nice to have a unique source for my \"<em>bibliography</em>\" instead of repeating the same links in each typedoc. Is there any way to achieve that?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 616, "user_id": 411806, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iyiAz.jpg?s=128&g=1", "display_name": "akkonrad", "link": "https://stackoverflow.com/users/411806/akkonrad"}, "edited": false, "score": 1, "creation_date": 1568798998, "post_id": 57989346, "comment_id": 102386447, "body": "perhaps what happens is that you want to focus each time the dropdown is shown but you render it only once. maybe you need to do it on another event, like click element and/or put it in other <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">lifecycle event</a>?"}, {"owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "reply_to_user": {"reputation": 616, "user_id": 411806, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iyiAz.jpg?s=128&g=1", "display_name": "akkonrad", "link": "https://stackoverflow.com/users/411806/akkonrad"}, "edited": false, "score": 0, "creation_date": 1568799836, "post_id": 57989346, "comment_id": 102386928, "body": "Thanks @akkonrad I did think that at first but you will see from the gif, on the second instance, it does not focus so I have to click the input again for the dropdown to appear"}, {"owner": {"reputation": 616, "user_id": 411806, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iyiAz.jpg?s=128&g=1", "display_name": "akkonrad", "link": "https://stackoverflow.com/users/411806/akkonrad"}, "edited": false, "score": 1, "creation_date": 1568805267, "post_id": 57989346, "comment_id": 102389924, "body": "can you provide workable stackblitz example?"}, {"owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "reply_to_user": {"reputation": 616, "user_id": 411806, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iyiAz.jpg?s=128&g=1", "display_name": "akkonrad", "link": "https://stackoverflow.com/users/411806/akkonrad"}, "edited": false, "score": 0, "creation_date": 1568808007, "post_id": 57989346, "comment_id": 102391437, "body": "I have added the STACKBLITZ, please see above. @akkonrad"}, {"owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "reply_to_user": {"reputation": 616, "user_id": 411806, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iyiAz.jpg?s=128&g=1", "display_name": "akkonrad", "link": "https://stackoverflow.com/users/411806/akkonrad"}, "edited": false, "score": 0, "creation_date": 1568808066, "post_id": 57989346, "comment_id": 102391465, "body": "Unfortunately, on the Stackblitz I receive an error <code>Error: No component factory found for DropdownComponent. Did you add it to @NgModule.entryComponents?</code> when clicking on the one of the cells"}, {"owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "reply_to_user": {"reputation": 616, "user_id": 411806, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iyiAz.jpg?s=128&g=1", "display_name": "akkonrad", "link": "https://stackoverflow.com/users/411806/akkonrad"}, "edited": false, "score": 0, "creation_date": 1568814852, "post_id": 57989346, "comment_id": 102395467, "body": "@akkonrad since the Stackblitz is not working I have added the code to bitbucket: <a href=\"https://bitbucket.org/ross2711/dropdown.git\" rel=\"nofollow noreferrer\">bitbucket.org/ross2711/dropdown.git</a>"}, {"owner": {"reputation": 846, "user_id": 4963631, "user_type": "registered", "accept_rate": 10, "profile_image": "https://lh5.googleusercontent.com/-mrewATHHTCI/AAAAAAAAAAI/AAAAAAAAAEw/q24zadm8J7o/photo.jpg?sz=128", "display_name": "Harshad Vekariya", "link": "https://stackoverflow.com/users/4963631/harshad-vekariya"}, "edited": false, "score": 0, "creation_date": 1568981975, "post_id": 57989346, "comment_id": 102458796, "body": "you can do this. Keep track of selected item and focus it manually when dropdown close."}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 1, "creation_date": 1568984087, "post_id": 57989346, "comment_id": 102459932, "body": "I hope this will work fro you check this demo <a href=\"https://stackblitz.com/edit/github-xqrfgj\" rel=\"nofollow noreferrer\">stackblitz.com/edit/github-xqrfgj</a> \ud83d\ude80\ud83d\ude80"}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "edited": false, "score": 0, "creation_date": 1568973989, "post_id": 58025948, "comment_id": 102454780, "body": "Thanks @malbarmawi. I have added the directive and declared it in my app.module but dont seem to be getting the console.log outputs within ngAfterViewInit(){}. Is there anywhere else I should be declaring this? <a href=\"https://bitbucket.org/ross2711/dropdown/src/master/\" rel=\"nofollow noreferrer\">bitbucket.org/ross2711/dropdown/src/master</a>"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "edited": false, "score": 0, "creation_date": 1568976713, "post_id": 58025948, "comment_id": 102456134, "body": "I couldn&#39;t test you demo but I have update my answer by create a view query to that input element and call it at the time you want like when the data come refresh , you are control this"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "edited": false, "score": 1, "creation_date": 1568982079, "post_id": 58025948, "comment_id": 102458840, "body": "I have pull your project and tested it seem you need to call focuse after half of second will make it work"}, {"owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "edited": false, "score": 0, "creation_date": 1568985632, "post_id": 58025948, "comment_id": 102460749, "body": "Thanks @malbarmawi, it works well. Last question - is there any way to do this without using timeout? If not, why is the timeout needed?"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "edited": false, "score": 1, "creation_date": 1568986782, "post_id": 58025948, "comment_id": 102461389, "body": "you can replace timeout block with ` Promise.resolve().then(() =&gt;this.setFocus())`"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "edited": false, "score": 1, "creation_date": 1568987168, "post_id": 58025948, "comment_id": 102461622, "body": "if you run the focus without any delay the ui will not working any more maybe because the autocomplete or others thing is still not fully initialized,this way we will schedul the method <code>()=&gt; this.setFocus()</code> at the time nothing is running mean everything finish initializing"}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": true, "score": 10, "last_activity_date": 1568989528, "last_edit_date": 1568989528, "creation_date": 1568973019, "answer_id": 58025948, "question_id": 57989346, "link": "https://stackoverflow.com/questions/57989346/autofocus-only-works-once/58025948#58025948", "title": "Autofocus only works once", "body": "<p>this can be done without directive just get input elemnt refrence and run <code>focus</code> method</p>\n\n<p><em>template</em> </p>\n\n<pre><code>&lt;form [formGroup]=\"myForm\" class=\"\"&gt;\n  &lt;div class=\"form-style\"&gt;\n    &lt;input\n      defFocus\n      [list-formatter]=\"autocompleListFormatter\"\n      type=\"text\"\n      class=\"form-control\"\n      ngui-auto-complete\n      formControlName=\"costCenter\"\n      [source]=\"dropdownData\"\n      value-property-name=\"id\"\n      display-property-name=\"name\"\n      [(ngModel)]=\"value\"\n      #agInput\n    /&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><em>component</em></p>\n\n<pre><code>export class DropdownComponent implements OnInit, AgEditorComponent {\n\n  @Input() name: String;\n  @ViewChild('agInput', { static: true}) public elm: ElementRef;\n\n  ....\n\n  setFocus() {\n    this.el.nativeElement.focus();\n  }\n\n   ngAfterViewInit() {\n     setTimeout(() =&gt; {\n        this.setFocus();\n     }, 500);\n   }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/github-xqrfgj\" rel=\"noreferrer\"><strong>demo \ud83d\ude80</strong></a></p>\n\n<p>check my answer \ud83d\udc49 <a href=\"https://stackoverflow.com/questions/57436328/getting-focus-on-buttons-p-toast-primeng-modal/57582169#57582169\">here</a> where I create a custom directive to fix focus problem.</p>\n"}], "owner": {"reputation": 395, "user_id": 11884455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693980852437f57c4f0c3e113ca6b59b?s=128&d=identicon&r=PG&f=1", "display_name": "Ana_30", "link": "https://stackoverflow.com/users/11884455/ana-30"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1000, "favorite_count": 0, "accepted_answer_id": 58025948, "answer_count": 1, "score": 14, "last_activity_date": 1568989528, "creation_date": 1568798560, "last_edit_date": 1568987223, "question_id": 57989346, "link": "https://stackoverflow.com/questions/57989346/autofocus-only-works-once", "title": "Autofocus only works once", "body": "<p>When the Input is clicked, autofocus works only on the first instance - therefore the 'list-formatter' (autocompleListFormatter) is initiated only once.</p>\n\n<p><a href=\"https://i.stack.imgur.com/z1GC4.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z1GC4.gif\" alt=\"**Demo**\"></a></p>\n\n<p>Is there a simple solution to make 'autofocus' focus more than one time? </p>\n\n<p><strong>dropdown.component.html</strong></p>\n\n<pre><code>&lt;form [formGroup]=\"myForm\" class=\"\"&gt;\n  &lt;div class=\"form-style\"&gt;\n    &lt;input\n      autofocus\n      [list-formatter]=\"autocompleListFormatter\"\n      type=\"text\"\n      class=\"form-control\"\n      ngui-auto-complete\n      formControlName=\"costCenter\"\n      [source]=\"dropdownData\"\n      value-property-name=\"id\"\n      display-property-name=\"name\"\n      [(ngModel)]=\"value\"\n    /&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>dropdown.component.ts</strong></p>\n\n<pre><code>export class DropdownComponent implements OnInit, AgEditorComponent {\n  @Input() name: String;\n\n  public dropdownData = ColumnData[0].cellEditorParams.values;\n  public myForm: FormGroup;\n  public selected;\n  value: any;\n  oldValue: any;\n  params: any;\n  public container;\n  constructor(private builder: FormBuilder, private _sanitizer: DomSanitizer) {}\n\n// ****DROPDOWN****** //\n  autocompleListFormatter = (data: any) =&gt; {\n    let html = `&lt;span&gt;${data.name}&lt;/span&gt;`;\n    return this._sanitizer.bypassSecurityTrustHtml(html);\n  };\n\n  refresh(params: ICellEditorParams) {\n    this.params.api.refreshCells();\n    return true;\n  }\n\n  getValue(): any {\n    if (this.value === '') {\n      this.value = this.oldValue;\n    }\n    return this.value;\n  }\n\n  agInit(params: ICellEditorParams) {\n    this.value = params.value;\n    this.oldValue = this.value;\n    this.value = '';\n    return this.value;\n  }\n\n  ngOnInit() {\n    this.myForm = this.builder.group({\n      costCenter: ''\n    });\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angu1ar\" rel=\"noreferrer\"><strong>STACKBLITZ</strong></a></p>\n\n<p>Update: I have read that it is useful to implement an <a href=\"https://www.codementor.io/yomateo/auto-focus-with-angular-7-the-directive-osfcl7rrv\" rel=\"noreferrer\">auto-focus directive</a>. I have added the directive to my code but cannot get it to function correctly</p>\n"}, {"tags": ["angular", "typescript", "npm", "npm-start"], "comments": [{"owner": {"reputation": 1401, "user_id": 8810941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zIKlt.jpg?s=128&g=1", "display_name": "Pavindu", "link": "https://stackoverflow.com/users/8810941/pavindu"}, "edited": false, "score": 1, "creation_date": 1569401422, "post_id": 57989179, "comment_id": 102581495, "body": "Did it work after uninstalling that particular module? If yes, then there may be a problem with that package or you haven&#39;t configured it properly if it should be configured after installation."}], "owner": {"reputation": 494, "user_id": 10532751, "user_type": "registered", "profile_image": "https://graph.facebook.com/2162101957392423/picture?type=large", "display_name": "Udith Indrakantha", "link": "https://stackoverflow.com/users/10532751/udith-indrakantha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2498, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568798083, "creation_date": 1568798083, "question_id": 57989179, "link": "https://stackoverflow.com/questions/57989179/object-prototype-may-only-be-an-object-or-null-undefined-typeerror-object-prot", "title": "Object prototype may only be an Object or null: undefined TypeError: Object prototype may only be an Object or null: undefined", "body": "<p>I'm very new to angular. No idea of this issue as well as about basic error messages caused due to ignorance.<br>\nI installed an external module using npm install. After that, when I run <em>npm start</em> , it gives an error like this. I have no idea of this error and please help to resolve this. Before installing that module, the project worked fine.</p>\n\n<p><strong>The Error after npm start</strong></p>\n\n<pre><code>E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0&gt;npm start\n\n&gt; now-ui-dashboard-angular@1.1.0 start E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\n&gt; ng serve --proxy-config proxy.json\n\nObject prototype may only be an Object or null: undefined\nTypeError: Object prototype may only be an Object or null: undefined\n    at setPrototypeOf (&lt;anonymous&gt;)\n    at Object.__extends (E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\tslib\\tslib.js:65:9)\n    at E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\indexer\\src\\template.js:115:17\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\indexer\\src\\transform.js:20:22\n    at E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\indexer\\src\\transform.js:10:17\n    at Object.&lt;anonymous&gt; (E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\indexer\\src\\transform.js:16:3)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! now-ui-dashboard-angular@1.1.0 start: `ng serve --proxy-config proxy.json`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the now-ui-dashboard-angular@1.1.0 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Udith Indrakantha\\AppData\\Roaming\\npm-cache\\_logs\\2019-09-18T08_23_43_449Z-debug.log\n\n</code></pre>\n\n<p><strong>debug.log file</strong></p>\n\n<pre><code>0 info it worked if it ends with ok\n1 verbose cli [ 'C:\\\\Program Files\\\\nodejs\\\\node.exe',\n1 verbose cli   'C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js',\n1 verbose cli   'start' ]\n2 info using npm@6.4.1\n3 info using node@v10.15.1\n4 verbose run-script [ 'prestart', 'start', 'poststart' ]\n5 info lifecycle now-ui-dashboard-angular@1.1.0~prestart: now-ui-dashboard-angular@1.1.0\n6 info lifecycle now-ui-dashboard-angular@1.1.0~start: now-ui-dashboard-angular@1.1.0\n7 verbose lifecycle now-ui-dashboard-angular@1.1.0~start: unsafe-perm in lifecycle true\n8 verbose lifecycle now-ui-dashboard-angular@1.1.0~start: PATH: C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\.bin;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\MySQL\\MySQL Utilities 1.6\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files (x86)\\Java\\jdk1.8.0_45\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;D:\\software setup\\mysql\\mysql-8.0.15-winx64\\bin;C:\\Program Files (x86)\\Rational\\common;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\TDM-GCC-64\\bin;C:\\src\\flutter\\bin;C:\\Program Files\\Git\\cmd;C:\\RailsInstaller\\Git\\cmd;C:\\RailsInstaller\\Ruby2.3.3\\bin;C:\\Ruby25-x64\\bin;C:\\Users\\Udith Indrakantha\\AppData\\Local\\Microsoft\\WindowsApps;;C:\\Users\\Udith Indrakantha\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Udith Indrakantha\\AppData\\Roaming\\npm\n9 verbose lifecycle now-ui-dashboard-angular@1.1.0~start: CWD: E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\n10 silly lifecycle now-ui-dashboard-angular@1.1.0~start: Args: [ '/d /s /c', 'ng serve --proxy-config proxy.json' ]\n11 silly lifecycle now-ui-dashboard-angular@1.1.0~start: Returned: code: 1  signal: null\n12 info lifecycle now-ui-dashboard-angular@1.1.0~start: Failed to exec start script\n13 verbose stack Error: now-ui-dashboard-angular@1.1.0 start: `ng serve --proxy-config proxy.json`\n13 verbose stack Exit status 1\n13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\index.js:301:16)\n13 verbose stack     at EventEmitter.emit (events.js:189:13)\n13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\lib\\spawn.js:55:14)\n13 verbose stack     at ChildProcess.emit (events.js:189:13)\n13 verbose stack     at maybeClose (internal/child_process.js:970:16)\n13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)\n14 verbose pkgid now-ui-dashboard-angular@1.1.0\n15 verbose cwd E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\n16 verbose Windows_NT 10.0.18362\n17 verbose argv \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"start\"\n18 verbose node v10.15.1\n19 verbose npm  v6.4.1\n20 error code ELIFECYCLE\n21 error errno 1\n22 error now-ui-dashboard-angular@1.1.0 start: `ng serve --proxy-config proxy.json`\n22 error Exit status 1\n23 error Failed at the now-ui-dashboard-angular@1.1.0 start script.\n23 error This is probably not a problem with npm. There is likely additional logging output above.\n24 verbose exit [ 1, true ]\n</code></pre>\n\n<p><strong>After running <em>ng --version</em></strong></p>\n\n<pre><code>Angular CLI: 7.2.3\nNode: 10.15.1\nOS: win32 x64\nAngular: 7.2.2\n... animations, common, compiler, core, forms, http\n... language-service, platform-browser, platform-browser-dynamic\n... platform-server, router\n\nPackage                           Version\n-----------------------------------------------------------\n@angular-devkit/architect         0.12.4\n@angular-devkit/build-angular     0.12.4\n@angular-devkit/build-optimizer   0.12.4\n@angular-devkit/build-webpack     0.12.4\n@angular-devkit/core              7.2.4\n@angular-devkit/schematics        7.2.3\n@angular/cli                      7.2.3\n@angular/compiler-cli             8.2.0\n@angular/fire                     5.2.1\n@ngtools/webpack                  7.2.4\n@schematics/angular               7.2.3\n@schematics/update                0.12.3\nrxjs                              6.5.2\ntypescript                        3.4.5\nwebpack                           4.28.4\n</code></pre>\n\n<p><strong>After running <em>ng audit fix</em></strong></p>\n\n<pre><code>E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0&gt;npm audit fix \n\n&gt; core-js@3.1.4 postinstall E:\\Software Project Confidential\\Patronus Project Latest\\Frontend 1.0\\node_modules\\@firebase\\polyfill\\node_modules\\core-js\n&gt; node scripts/postinstall || echo \"ignore\"\n\nThank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\n\nThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \n&gt; https://opencollective.com/core-js \n&gt; https://www.patreon.com/zloirock \n\nAlso, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\n\nnpm WARN @angular/compiler-cli@8.2.0 requires a peer of @angular/compiler@8.2.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @ngtools/webpack@7.2.4 requires a peer of @angular/compiler-cli@&gt;=5.0.0 &lt;8.0.0 || ^7.0.0-beta.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @ngtools/webpack@7.2.4 requires a peer of typescript@&gt;=2.4.0 &lt; 3.3 but none is installed. You must install peer dependencies yourself.\nnpm WARN bootstrap@4.3.1 requires a peer of popper.js@^1.14.7 but none is installed. You must install peer dependencies yourself.\n\nadded 18 packages from 3 contributors and updated 2 packages in 32.862s\nfixed 1 of 1 vulnerability in 40745 scanned packages\n</code></pre>\n\n<p><strong><em>package.json</em></strong></p>\n\n<pre><code>{\n  \"name\": \"now-ui-dashboard-angular\",\n  \"version\": \"1.1.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve --proxy-config proxy.json\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\",\n    \"install:clean\": \"rm -rf node_modules/ &amp;&amp; rm -rf package-lock.json &amp;&amp; npm install &amp;&amp; npm start\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"7.2.2\",\n    \"@angular/common\": \"7.2.2\",\n    \"@angular/compiler\": \"7.2.2\",\n    \"@angular/core\": \"7.2.2\",\n    \"@angular/fire\": \"^5.2.1\",\n    \"@angular/forms\": \"7.2.2\",\n    \"@angular/http\": \"7.2.2\",\n    \"@angular/platform-browser\": \"7.2.2\",\n    \"@angular/platform-browser-dynamic\": \"7.2.2\",\n    \"@angular/platform-server\": \"7.2.2\",\n    \"@angular/router\": \"7.2.2\",\n    \"@ng-bootstrap/ng-bootstrap\": \"4.0.2\",\n    \"ajv\": \"6.7.0\",\n    \"ajv-keywords\": \"3.3.0\",\n    \"angularfire2\": \"^5.2.1\",\n    \"bootstrap\": \"^4.3.1\",\n    \"chart.js\": \"2.7.3\",\n    \"chartist\": \"0.11.0\",\n    \"classlist.js\": \"1.1.20150312\",\n    \"copy-webpack-plugin\": \"4.6.0\",\n    \"core-js\": \"2.6.3\",\n    \"firebase\": \"^6.3.4\",\n    \"font-awesome\": \"4.7.0\",\n    \"hammerjs\": \"2.0.8\",\n    \"jquery\": \"^3.4.1\",\n    \"jw-bootstrap-switch-ng2\": \"2.0.4\",\n    \"ng2-charts\": \"1.6.0\",\n    \"ngx-bootstrap\": \"^5.1.0\",\n    \"ngx-print\": \"^1.2.0-beta.2\",\n    \"ngx-toastr\": \"^9.1.1\",\n    \"node-sass\": \"^4.12.0\",\n    \"nouislider\": \"12.1.0\",\n    \"perfect-scrollbar\": \"1.4.0\",\n    \"popper.js\": \"1.14.6\",\n    \"rellax\": \"1.7.2\",\n    \"rxjs\": \"^6.3.3\",\n    \"tslib\": \"^1.9.3\",\n    \"web-animations-js\": \"2.3.1\",\n    \"zone.js\": \"^0.8.29\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"^0.12.4\",\n    \"@angular/cli\": \"7.2.3\",\n    \"@angular/compiler-cli\": \"^8.2.0\",\n    \"@angular/language-service\": \"7.2.2\",\n    \"@types/bootstrap\": \"4.2.1\",\n    \"@types/chartist\": \"0.9.43\",\n    \"@types/googlemaps\": \"3.30.16\",\n    \"@types/jasmine\": \"3.3.8\",\n    \"@types/jquery\": \"3.3.29\",\n    \"@types/jspdf\": \"^1.3.1\",\n    \"@types/node\": \"10.12.18\",\n    \"codelyzer\": \"4.5.0\",\n    \"jasmine-core\": \"3.3.0\",\n    \"jasmine-spec-reporter\": \"4.2.1\",\n    \"karma\": \"^4.2.0\",\n    \"karma-chrome-launcher\": \"2.2.0\",\n    \"karma-cli\": \"2.0.0\",\n    \"karma-coverage-istanbul-reporter\": \"2.0.4\",\n    \"karma-jasmine\": \"2.0.1\",\n    \"protractor\": \"5.4.2\",\n    \"ts-node\": \"8.0.2\",\n    \"tslint\": \"5.12.1\",\n    \"typescript\": \"3.4.5\"\n  }\n}\n\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "npm"], "comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 1, "creation_date": 1568798207, "post_id": 57989146, "comment_id": 102385939, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49475492/npm-install-error-code-ebadplatform\">npm install error (code EBADPLATFORM)</a>"}, {"owner": {"reputation": 138, "user_id": 3214786, "user_type": "registered", "profile_image": "https://graph.facebook.com/683411186/picture?type=large", "display_name": "roblawford", "link": "https://stackoverflow.com/users/3214786/roblawford"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1568798343, "post_id": 57989146, "comment_id": 102386009, "body": "Not a duplicate error - that error is at fsevents@1.1.3...  My error is at n@6.0.1.."}, {"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 3, "creation_date": 1568798385, "post_id": 57989146, "comment_id": 102386041, "body": "The package name is irrelevant. The error is the same: your OS (Windows) is not supported by the package."}, {"owner": {"reputation": 138, "user_id": 3214786, "user_type": "registered", "profile_image": "https://graph.facebook.com/683411186/picture?type=large", "display_name": "roblawford", "link": "https://stackoverflow.com/users/3214786/roblawford"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1568798819, "post_id": 57989146, "comment_id": 102386315, "body": "OK cool @KonradRudolph but how do I remove the package that is not supported by my OS?"}, {"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 2, "creation_date": 1568798890, "post_id": 57989146, "comment_id": 102386369, "body": "There\u2019s nothing to remove, it\u2019s not installed. Your command <code>npm i -g n</code> is <i>attempting to install it</i>."}, {"owner": {"reputation": 138, "user_id": 3214786, "user_type": "registered", "profile_image": "https://graph.facebook.com/683411186/picture?type=large", "display_name": "roblawford", "link": "https://stackoverflow.com/users/3214786/roblawford"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 2, "creation_date": 1568799027, "post_id": 57989146, "comment_id": 102386461, "body": "Aah OK i get it.. So I have to update Node through the Windows installer.. Thank you @KonradRudolph your a legend!"}], "owner": {"reputation": 138, "user_id": 3214786, "user_type": "registered", "profile_image": "https://graph.facebook.com/683411186/picture?type=large", "display_name": "roblawford", "link": "https://stackoverflow.com/users/3214786/roblawford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2684, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1568797988, "creation_date": 1568797988, "question_id": 57989146, "link": "https://stackoverflow.com/questions/57989146/why-am-i-getting-a-ebadplatform-err-when-installing-node", "title": "Why am I getting a EBADPLATFORM err when installing node", "body": "<p>I am trying to update my project node version because I needed to update some packages that depended on a newer version of typescript.</p>\n\n<p>I updated npm and then ran <b>npm cache clean -f</b>. Then when trying to run:</p>\n\n<pre><code>npm i -g n\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>npm ERR! code EBADPLATFORM\nnpm ERR! notsup Unsupported platform for n@6.0.1: wanted  {\"os\":\"!win32\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\nnpm ERR! notsup Valid OS:    !win32\nnpm ERR! notsup Valid Arch:  any\nnpm ERR! notsup Actual OS:   win32\nnpm ERR! notsup Actual Arch: x64\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Rob\\AppData\\Roaming\\npm-cache\\_logs\\2019-09-18T08_58_12_545Z-debug.log\n</code></pre>\n\n<p>This is my package.json:</p>\n\n<pre><code>{\n  ...\n},\n\"private\": true,\n\"dependencies\": {\n  \"@angular/animations\": \"^6.1.10\",\n  \"@angular/cdk\": \"^6.4.7\",\n  \"@angular/cli\": \"^8.3.4\",\n  \"@angular/common\": \"^6.1.8\",\n  \"@angular/compiler\": \"^6.1.8\",\n  \"@angular/compiler-cli\": \"^8.2.6\",\n  \"@angular/core\": \"^6.1.8\",\n  \"@angular/forms\": \"^6.1.8\",\n  \"@angular/http\": \"^6.1.8\",\n  \"@angular/material\": \"^6.4.7\",\n  \"@angular/platform-browser\": \"^6.1.8\",\n  \"@angular/platform-browser-dynamic\": \"^6.1.8\",\n  \"@angular/platform-server\": \"^6.1.8\",\n  \"@angular/router\": \"^6.1.8\",\n  \"@fortawesome/fontawesome-free\": \"^5.10.2\",\n  \"@material-extended/mde\": \"^2.3.1\",\n  \"@ng-bootstrap/ng-bootstrap\": \"^1.1.2\",\n  \"@swimlane/ngx-charts\": \"^6.1.0\",\n  \"@swimlane/ngx-datatable\": \"^16.0.2\",\n  \"@types/chart.js\": \"^2.8.5\",\n  \"@types/file-saver\": \"^1.3.1\",\n  \"amazing-time-picker\": \"^1.8.0\",\n  \"angular-popper\": \"^1.0.0\",\n  \"angular2-material-datepicker\": \"^0.5.0\",\n  \"angular2-moment\": \"^1.9.0\",\n  \"angular2-wizard\": \"^0.4.0\",\n  \"angular4-datepicker\": \"^1.0.1\",\n  \"angular5-csv\": \"0.2.11\",\n  \"animate.css\": \"^3.7.2\",\n  \"bootstrap\": \"^3.4.1\",\n  \"chart.js\": \"^2.8.0\",\n  \"core-js\": \"^2.6.9\",\n  \"d3\": \"^4.13.0\",\n  \"file-saver\": \"^1.3.8\",\n  \"font-awesome\": \"^4.7.0\",\n  \"hammerjs\": \"^2.0.8\",\n  \"html2canvas\": \"^1.0.0-rc.3\",\n  \"jquery\": \"^3.4.1\",\n  \"jspdf\": \"^1.5.3\",\n  \"jspdf-autotable\": \"^3.1.1\",\n  \"localforage\": \"^1.7.3\",\n  \"lodash\": \"^4.17.11\",\n  \"ng-connection-service\": \"^1.0.4\",\n  \"ng-multiselect-dropdown\": \"^0.2.3\",\n  \"ng2-archwizard\": \"^2.1.0\",\n  \"ng2-bootstrap-modal\": \"^1.0.1\",\n  \"ng2-charts\": \"^1.6.0\",\n  \"ng2-date-picker\": \"^2.11.0\",\n  \"ng2-daterangepicker\": \"^2.0.12\",\n  \"ng2-order-pipe\": \"^0.1.4\",\n  \"ng2-slim-loading-bar\": \"^4.0.0\",\n  \"ng2-uploader\": \"^2.0.0\",\n  \"ng4-geoautocomplete\": \"^0.1.0\",\n  \"ngforage\": \"^3.0.1\",\n  \"ngx-bootstrap\": \"^2.0.5\",\n  \"ngx-chips\": \"1.9.8\",\n  \"ngx-color-picker\": \"^4.5.3\",\n  \"ngx-editor\": \"^4.1.0\",\n  \"ngx-order-pipe\": \"^2.0.4\",\n  \"ngx-stepper\": \"^1.1.6\",\n  \"ngx-toastr\": \"^10.2.0\",\n  \"npm\": \"^5.10.0\",\n  \"popper.js\": \"^1.15.0\",\n  \"rxjs\": \"6.3.3\",\n  \"rxjs-compat\": \"6.3.3\",\n  \"typescript\": \"^3.6.3\",\n  \"xlsx\": \"^0.13.5\",\n  \"zone.js\": \"^0.8.29\"\n},\n\"devDependencies\": {\n  \"@angular-devkit/build-angular\": \"^0.6.3\",\n  \"@types/google.analytics\": \"0.0.39\",\n  \"@types/jasmine\": \"2.8.4\",\n  \"@types/node\": \"^10.14.18\",\n  \"angular2-tag-input\": \"^1.2.3\",\n  \"clean-webpack-plugin\": \"^0.1.19\",\n  \"codelyzer\": \"~2.0.0\",\n  \"jasmine-core\": \"~2.5.2\",\n  \"jasmine-spec-reporter\": \"~3.2.0\",\n  \"karma\": \"~1.4.1\",\n  \"karma-chrome-launcher\": \"~2.0.0\",\n  \"karma-cli\": \"~1.0.1\",\n  \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n  \"karma-jasmine\": \"^1.1.2\",\n  \"karma-jasmine-html-reporter\": \"^0.2.2\",\n  \"protractor\": \"~5.1.0\",\n  \"replace-in-file\": \"^3.4.4\",\n  \"ts-node\": \"~2.0.0\",\n  \"tslint\": \"~4.5.0\",\n  \"webpack\": \"^4.40.2\"\n}\n}\n</code></pre>\n\n<p>The reason for updating was because  the <b>getColorDepth()</b> function was undefined after updating <b>typescript</b> to @3.6.3</p>\n"}, {"tags": ["typescript", "vue.js", "v-model"], "answers": [{"tags": [], "owner": {"reputation": 2212, "user_id": 5995973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TyNrc.jpg?s=128&g=1", "display_name": "Saniya syed qureshi", "link": "https://stackoverflow.com/users/5995973/saniya-syed-qureshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1568800600, "creation_date": 1568800600, "answer_id": 57990004, "question_id": 57989141, "link": "https://stackoverflow.com/questions/57989141/vuejs-working-with-date-typescript-and-v-model/57990004#57990004", "title": "VueJs working with date (typescript) and v-model", "body": "<p>Try initialising it as shown below, Hope it will work.</p>\n\n<pre><code>&lt;template&gt;\n    &lt;form&gt;\n        &lt;input type=\"text\" v-model=\"myModel.myDate\" /&gt;\n        {{myModel.myDate}}\n    &lt;/form&gt;\n&lt;/template&gt;    \n\n&lt;script lang=\"ts\"&gt;\n         import { Component, Vue, Prop } from 'vue-property-decorator';\n\n        @Component\n        export default class MyComponent extends Vue {\n            public myModel =  {\n               myDate : new Date()\n            }\n           created() {\n              console.log(this.myModel.myDate)\n           }\n        }\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 8771409, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2E9Q3.jpg?s=128&g=1", "display_name": "SNO", "link": "https://stackoverflow.com/users/8771409/sno"}, "is_accepted": false, "score": 0, "last_activity_date": 1568871759, "last_edit_date": 1568871759, "creation_date": 1568805322, "answer_id": 57991492, "question_id": 57989141, "link": "https://stackoverflow.com/questions/57989141/vuejs-working-with-date-typescript-and-v-model/57991492#57991492", "title": "VueJs working with date (typescript) and v-model", "body": "<p>Ok, I think I found a working solution..., not sure if it will solve all problems..</p>\n\n<pre><code>&lt;template&gt;\n    &lt;form&gt;\n         &lt;input type=\"text\" \n                 :value=\"myModel.myDate | datetime('Q.YYYY')\" \n                 @blur=\"myModel.myDate = parseDate($event, 'Q.YYYY', myModel.myDate);\"\n                 pattern=\"^([1-4].[1-9][0-9][0-9][0-9])\" /&gt;\n    &lt;/form&gt;\n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\n    import { Component, Vue, Prop } from 'vue-property-decorator';\n    import moment from 'moment';\n\n    @Component\n    export default class MyComponent extends Vue {\n        public myModel : Model = new Model();\n        //myModel.myDate is of type Date\n\n        parseDate(event:any, format: string, field : any) : Date |undefined {\n            field = moment(event.target.value, format).toDate();\n            this.$forceUpdate();\n            if (field == \"Invalid Date\") {\n                return undefined;\n            }\n            return moment(event.target.value, format).toDate();\n        }\n    }\n&lt;/script&gt;\n\n</code></pre>\n\n<p>and then I set up the following filter:</p>\n\n<pre><code>Vue.filter('datetime', function (date: Date, format: string = \"DD.MM.YYYY\") {\n    if (!date) {\n        return undefined;\n    }\n    if (!moment.isDate(date)) {\n        return undefined;\n    }\n    var parsedDate = moment(date);\n    var stringDate: string | undefined = parsedDate.format(format);\n    if (!stringDate) {\n        stringDate = \"\";\n    }\n    return stringDate;\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1568841822, "creation_date": 1568841822, "answer_id": 58000894, "question_id": 57989141, "link": "https://stackoverflow.com/questions/57989141/vuejs-working-with-date-typescript-and-v-model/58000894#58000894", "title": "VueJs working with date (typescript) and v-model", "body": "<p>You could just add a computed property which returns the filtered date for you. V-bind to the computed property, this will also fix the initialization problem.</p>\n\n<p>Computed properties in Typescript and Vue is pretty easy just type get before the function name as such</p>\n\n<pre><code>    // this is a computed property\n    get totalRows() {\n        return this.SearchResultItems.length;\n    }\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 8771409, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2E9Q3.jpg?s=128&g=1", "display_name": "SNO", "link": "https://stackoverflow.com/users/8771409/sno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3285, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1568871759, "creation_date": 1568797971, "last_edit_date": 1568869443, "question_id": 57989141, "link": "https://stackoverflow.com/questions/57989141/vuejs-working-with-date-typescript-and-v-model", "title": "VueJs working with date (typescript) and v-model", "body": "<p>In my project I have the following VueJs-Typescript component:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;form&gt;\n        &lt;input type=\"text\" v-model=\"myModel.myDate\" /&gt;\n    &lt;/form&gt;\n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\n     import { Component, Vue, Prop } from 'vue-property-decorator';\n\n    @Component\n    export default class MyComponent extends Vue {\n        public myModel : Model = new Model();\n        //myModel.myDate is of type Date\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>The problem now is, that obvisiously the <code>v-model</code> is not able to bind the value dynamically. \nDoes someone can give me an idea how I can solve the rendering? The target is that to the frontend the date gets rendered as string (for input field) and backwards it gets rendered as date (for object).</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1568798563, "post_id": 57989238, "comment_id": 102386152, "body": "Yes, sure I could define the type myself. In my real life scenario the type is more complex and dynamic (it is generated from a changing swagger.json)."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1568804156, "post_id": 57989238, "comment_id": 102389317, "body": "Nice idea, but does not work because of 1. <code>Property &#39;0&#39; does not exist on type (&quot;TRUE&quot; | &quot;FALSE&quot; | &quot;MAYBE&quot;)[]</code> and 2. T is not assignable to type &quot;MAYBE&quot;."}, {"owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "reply_to_user": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1568804526, "post_id": 57989238, "comment_id": 102389525, "body": "that is strange. what version of typescript are you using? you can as well try &lt;T extends ContainsArrayOfUnions[&quot;unionProp&quot;][number]&gt;, but don&#39;t think so since [0] doesn&#39;t work"}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1568806221, "post_id": 57989238, "comment_id": 102390492, "body": "I am using typescript@3.5.3. Could this be related to my tsconfig.json? I added my config to my post."}], "tags": [], "owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "is_accepted": false, "score": 1, "last_activity_date": 1568798960, "last_edit_date": 1568798960, "creation_date": 1568798262, "answer_id": 57989238, "question_id": 57989006, "link": "https://stackoverflow.com/questions/57989006/get-values-of-array-of-unions/57989238#57989238", "title": "Get values of array of unions", "body": "<p>I'd suggest</p>\n\n<pre><code>type ArrayType = \"TRUE\" | \"FALSE\" | \"MAYBE\";\n\nexport interface ContainsArrayOfUnions {\n  unionProp: ArrayType[]\n}\n\ncheckValue(param1: ContainsArrayOfUnions[\"unionProp\"], param2: ArrayType) {\n  return param1.includes(param2);\n}\n</code></pre>\n\n<p>or using the code you already have:</p>\n\n<pre><code>checkValue(param1: ContainsArrayOfUnions[\"unionProp\"], param2: \"TRUE\" | \"FALSE\" | \"MAYBE\") {\n  return param1.includes(param2);\n}\n</code></pre>\n\n<p>UPDATE:\n(a bit hacky, but works)</p>\n\n<pre><code>checkValue&lt;T extends ContainsArrayOfUnions[\"unionProp\"][0]&gt;(param1: ContainsArrayOfUnions[\"unionProp\"], param2: T) {\n  return param1.includes(param2);\n}\n</code></pre>\n"}], "owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568806267, "creation_date": 1568797550, "last_edit_date": 1568806267, "question_id": 57989006, "link": "https://stackoverflow.com/questions/57989006/get-values-of-array-of-unions", "title": "Get values of array of unions", "body": "<p>Given is the following interface: </p>\n\n<pre><code>export interface ContainsArrayOfUnions {\n  unionProp: Array&lt;\"TRUE\" | \"FALSE\" | \"MAYBE\"&gt;;\n}\n</code></pre>\n\n<p>Now I want to write a function with two parameters, first an array type of unionProp, the second one of the union values:</p>\n\n<pre><code>checkValue(param1: ContainsArrayOfUnions[\"unionProp\"], param2: ???) {\n  return param1.includes(param2);\n}\n</code></pre>\n\n<p><strong>My question</strong></p>\n\n<p>How do I create a type of the values of the union array Array&lt;\"TRUE\" | \"FALSE\" | \"MAYBE\">?</p>\n\n<p><strong>EDIT</strong> Adding tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"esnext\",\n    \"target\": \"es5\",\n    \"moduleResolution\": \"node\",\n    \"pretty\": true,\n    \"allowJs\": true,\n    \"strict\": true,\n    \"strictNullChecks\": true,\n    \"noImplicitThis\": false,\n    \"noImplicitAny\": false,\n    \"allowSyntheticDefaultImports\": true,\n    \"noStrictGenericChecks\": true,\n    \"skipLibCheck\": true,\n    \"baseUrl\": \"./src\",\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"typeRoots\": [\n      \"./node_modules/@types\",\n      \"./src/types\"\n    ],\n    \"downlevelIteration\": true,\n    \"resolveJsonModule\": true,\n    \"noEmitHelpers\": true,\n    \"importHelpers\": true,\n    \"sourceMap\": true,\n    \"removeComments\": false,\n    \"lib\": [\n      \"dom\",\n      \"esnext\",\n      \"esnext.array\",\n      \"dom.iterable\"\n    ],\n    \"strictPropertyInitialization\": false,\n    \"noErrorTruncation\": true,\n    \"paths\": {\n      \"@coreStyles/*\": [\"./src/assets/styles/*\"]\n    }\n  },\n  \"include\": [\n    \"./src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "amazon-web-services", "amazon-dynamodb"], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 5350251, "user_type": "registered", "profile_image": "https://graph.facebook.com/880597535361040/picture?type=large", "display_name": "Juan Rivas", "link": "https://stackoverflow.com/users/5350251/juan-rivas"}, "is_accepted": true, "score": 3, "last_activity_date": 1568875448, "creation_date": 1568875448, "answer_id": 58005150, "question_id": 57988978, "link": "https://stackoverflow.com/questions/57988978/unable-to-create-dynamodb-table-with-lsi-using-dynamodb-data-mapper-js/58005150#58005150", "title": "Unable to create DynamoDB table with LSI using dynamodb-data-mapper-js", "body": "<p>I found out the problem was that you need to specify some options about the type of index when you are creating the table. For example you need to at least specify if it's a LSI or GSI and which keys must the index include.</p>\n\n<pre><code>mapper.createTable(Item, {\n    readCapacityUnits: 5,\n    writeCapacityUnits: 5,\n    indexOptions: {\n        LocalIndexExample: {\n            type: 'local',\n            projection: 'all',\n        },\n        GlobalIndexExample: {\n            type: 'global',\n            projection: ['createdBy', 'createdAt'],\n            readCapacityUnits: 2,\n            writeCapacityUnits: 3,\n        },\n    },\n})\n</code></pre>\n"}], "owner": {"reputation": 535, "user_id": 5350251, "user_type": "registered", "profile_image": "https://graph.facebook.com/880597535361040/picture?type=large", "display_name": "Juan Rivas", "link": "https://stackoverflow.com/users/5350251/juan-rivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 58005150, "answer_count": 1, "score": 0, "last_activity_date": 1568875448, "creation_date": 1568797480, "last_edit_date": 1568874696, "question_id": 57988978, "link": "https://stackoverflow.com/questions/57988978/unable-to-create-dynamodb-table-with-lsi-using-dynamodb-data-mapper-js", "title": "Unable to create DynamoDB table with LSI using dynamodb-data-mapper-js", "body": "<p>I'm trying to setup a DynamoDB database in Node.js using the official AWS library <a href=\"https://github.com/awslabs/dynamodb-data-mapper-js\" rel=\"nofollow noreferrer\">dynamodb-data-mapper-js</a> to create persistent model objects and data mappers. However it looks like the don't mention anything about creating tables with Local Sencondary Indexes or either GSI.</p>\n\n<p>I found <a href=\"https://github.com/awslabs/dynamodb-data-mapper-js/issues/93\" rel=\"nofollow noreferrer\">an issue in Github</a> with a reference on how to create a table with LSI, the provided example explains the difference between referencing a <code>rangeKey</code> and declaring a LSI:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@table('items')\nclass Item {\n  @hashKey({ // &lt;-- this is your normal hash key (shared by table and of LSI)\n    indexKeyConfigurations:{\n      ItemIdIndex: 'HASH' // The key (ItemIdIndex) is the name of the index; the value is the key type ('HASH' or 'RANGE')\n    }\n  })\n  itemId: string;\n\n  @rangeKey() // &lt;-- this is your normal range key (not part of LSI)\n  displayName: string;\n\n  @attribute({\n    // And this other attribute acts as the LSI's RangeKey\n    indexKeyConfigurations: {\n      ItemIdIndex: 'RANGE'\n    }\n  })\n  foo: string;\n\n  @attribute()\n  bar: string;\n}\n</code></pre>\n\n<p>However, I created a table with exactly the same table model and I get the following error:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>Error: No options provided for ItemIdIndex index at indexDefinitions \n</code></pre>\n\n<p>I couldn't get any more information, the documentation doesn't say anything about LSI or GSI even they say they support it. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "edited": false, "score": 0, "creation_date": 1568797278, "post_id": 57988823, "comment_id": 102385378, "body": "I believe you receive an error in console when you hit the add button. Please double check your console and provide the error"}, {"owner": {"reputation": 735, "user_id": 5698825, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/cacca43d703d28a63d908a89b11bbfa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Haughton", "link": "https://stackoverflow.com/users/5698825/daniel-haughton"}, "reply_to_user": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "edited": false, "score": 0, "creation_date": 1568797531, "post_id": 57988823, "comment_id": 102385515, "body": "@MoxxiManagarm i just double checked and no error"}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1568807039, "post_id": 57988823, "comment_id": 102390945, "body": "you should not use the value for inputs if you use ngmodel."}, {"owner": {"reputation": 735, "user_id": 5698825, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/cacca43d703d28a63d908a89b11bbfa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Haughton", "link": "https://stackoverflow.com/users/5698825/daniel-haughton"}, "edited": false, "score": 0, "creation_date": 1568810019, "post_id": 57988823, "comment_id": 102392613, "body": "After experimenting a bit with constructing the SqlValidation to add to the list, what actually happens is the added SqlValidation is replicated in all sets of forms. So if i change the constructor of a new SqlValidation to have a value of &quot;xxx&quot; in validation, all validation value text boxes get that value"}, {"owner": {"reputation": 735, "user_id": 5698825, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/cacca43d703d28a63d908a89b11bbfa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Haughton", "link": "https://stackoverflow.com/users/5698825/daniel-haughton"}, "reply_to_user": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1568812036, "post_id": 57988823, "comment_id": 102393736, "body": "@tano does the comment above help you figure out what the problem is?"}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1568812721, "post_id": 57988823, "comment_id": 102394134, "body": "You should remove the value attribute from the inputs and replace the form tags to divs or remove the name attributes. The angular handles the submission, you dont have to add name to the inputs. The value and ngmodel interferes, except if you use radio where it is needed."}, {"owner": {"reputation": 735, "user_id": 5698825, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/cacca43d703d28a63d908a89b11bbfa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Haughton", "link": "https://stackoverflow.com/users/5698825/daniel-haughton"}, "reply_to_user": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1568815838, "post_id": 57988823, "comment_id": 102396064, "body": "@tano simply changing the form to a div fixed it, thanks"}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1568816556, "post_id": 57988823, "comment_id": 102396523, "body": "you&#39;re welcome!"}, {"owner": {"reputation": 735, "user_id": 5698825, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/cacca43d703d28a63d908a89b11bbfa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Haughton", "link": "https://stackoverflow.com/users/5698825/daniel-haughton"}, "reply_to_user": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1569842195, "post_id": 57988823, "comment_id": 102715118, "body": "@tano this issue has popped up again for me as I had to put the stuff back inside a form as I am using angulars validation functionality on the form. I have removed all the value attirubtes. All the tags have to have names to do validation like here <a href=\"https://phpenthusiast.com/blog/angular-form-ngform-and-two-ways-data-binding\" rel=\"nofollow noreferrer\">phpenthusiast.com/blog/&hellip;</a>"}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1569849195, "post_id": 57988823, "comment_id": 102718568, "body": "There&#39;s no need for form for angular to validate. If you set the formgroup properly on the div and use simply formgroupname, angular does the job. Have a lookat the reactive form in angular. Much more better approach than the ngmodel. More than one form can cause problems in browsers. Avoid the nested form and try set name attrribute for the form, that can help if you dont prefer reactiveform."}], "owner": {"reputation": 735, "user_id": 5698825, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/cacca43d703d28a63d908a89b11bbfa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Haughton", "link": "https://stackoverflow.com/users/5698825/daniel-haughton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568796966, "creation_date": 1568796966, "question_id": 57988823, "link": "https://stackoverflow.com/questions/57988823/angular-form-fields-generated-from-ngfor-on-array-of-objects-are-wiped-when-add", "title": "Angular: Form fields generated from NgFor on array Of objects are wiped when Adding an Object to the array", "body": "<p>I have an array of ValidationStep which can be a have a SqlDetail or a documentDetail. There is a \"type\" field of the ValidationStep which will be \"Sql\" or \"Document\". If the type is Sql then the SqlDetail will be populated and documentDetail will be null and vice versa. A sqlDetail/documentDetail will have an array of SqlValidations/DocumentValidations</p>\n\n<p>There are pictures futher below to explain better but I am generating an angular Mat tab for each ValidationStep and a set of form inputs for each SqlValdiation in the SqlValidationList inside SqlDetail. My form is being pre populated with an SqlDetail that has two SqlValidations.\nWhen I add to the SqlValidations I log to the console the model(which is two way binded) using the \"log button\" and it has been added,a third set of form inputs is added however all fields are wiped despite the information in the model being correct.</p>\n\n<p>My front end before I hit \"add validation\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Adyk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Adyk.png\" alt=\"enter image description here\"></a></p>\n\n<p>My log for ValidationSteps before I hit add validation</p>\n\n<p><a href=\"https://i.stack.imgur.com/TZF9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZF9N.png\" alt=\"enter image description here\"></a></p>\n\n<p>The front end after I hit \"add Validation\", a third row of inputs has been added but previous fields wiped\n<a href=\"https://i.stack.imgur.com/2jXYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2jXYj.png\" alt=\"enter image description here\"></a></p>\n\n<p>The log after the add,you can see the previous two sqlValidatons are there and the new one is gone.\n<a href=\"https://i.stack.imgur.com/cT29k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cT29k.png\" alt=\"enter image description here\"></a></p>\n\n<p>Whats very strange is that if I first remove a validation( which removes the sqlValidation from the model and removes the set of inputs) and then add a Validation, it works fine.</p>\n\n<p>My Models</p>\n\n<p>ValidationStep</p>\n\n<pre><code>export class ValidationStep{\npublic id: number;\npublic automation_information_aId: number;\npublic sequence: number;\npublic type: string;\npublic documentDetail: DocumentDetail ;\npublic sqlDetail: SqlDetail;\n\n }\n</code></pre>\n\n<p>DocumentDetail</p>\n\n<pre><code>export class DocumentDetail{\npublic id: number;\npublic documentValidationList: DocumentValidation[];\npublic credential: CredentialNoSecret;\npublic locationType: string;\npublic locationUrl: string;\n}\n</code></pre>\n\n<p>DocumentValidation </p>\n\n<pre><code>export class DocumentValidation{\npublic id: number;\npublic validationType: string;\nprivate validationValue: string;\n }\n</code></pre>\n\n<p>SqlDetail</p>\n\n<pre><code>export class SqlDetail{\npublic id: number;\npublic sqlValidationList: SqlValidation[];\npublic credential: CredentialNoSecret;\npublic url: string;\npublic driver: string;\npublic query: string;\n}\n</code></pre>\n\n<p>SqlValidation</p>\n\n<pre><code>export class SqlValidation{\npublic id: number;\npublic validationType: string;\npublic columnName: string;\npublic operator: string;\npublic validationValue: string;\n    constructor(){\n     this.id = 0;\n   this.validationType =\"\";\n    this.columnName= \"\";\n    this.operator=\"\";\n            this.validationValue =\"\";\n}\n\n\n\n }\n</code></pre>\n\n<p>My ts for the front end component, the add/remove sqlValidations step methods are near the top</p>\n\n<pre><code>import { ControlsService } from 'app/services/controls.service';\nimport { ControlSpecificDataService } from 'app/services/controlSpecificData.service';\nimport { Component } from '@angular/core';\nimport { SelfServiceDetailsService } from 'app/services/self-service-details.service';\nimport { ParamMap, ActivatedRoute } from '@angular/router';\nimport { ValidationStep } from './ValidationsModels/ValidationStep.model';\nimport { DocumentDetail } from './ValidationsModels/DocumentDetail.model';\nimport { SqlDetail } from './ValidationsModels/SqlDetail.model';\nimport { SqlValidation } from './ValidationsModels/SqlValidation.model';\nexport interface SqlDriver {\nvalue: string;\nviewValue: string;\n }\n export interface DocumentLocationType {\n value: string;\n viewValue: string;\n}\nexport interface SqlValidationType {\nvalue: string;\nviewValue: string;\n}\nexport interface SqlOperators {\n value: string;\n  viewValue: string;\n }\n  @Component({\nselector: 'addEditControl',\ntemplateUrl: 'add-edit-control.component.html',\nstyleUrls: ['form.css'],\nproviders: [ControlsService, ControlSpecificDataService,SelfServiceDetailsService]\n })\n\n export class AddEditControlComponent{\ncontrolId: String;\nvalidationSteps: ValidationStep[];\nsqlDrivers: SqlDriver[] = [\n  // these map to the enums in the java object\n  //for the dropdown in the form\n  {value: 'ORACLE', viewValue: 'Oracle'},\n  {value: 'MICROSOFT', viewValue: 'Microsoft SQL Server'},\n  {value: 'MYSQL', viewValue: 'MySQL'}\n];\ndocumentLocationTypes: DocumentLocationType[] = [\n  // these map to the enums in the java object\n  //for the dropdown in the form\n  {value: 'SHAREPOINT', viewValue: 'Sharepoint'}\n];\nsqlValidationTypes: SqlValidationType[] = [\n  // these map to the enums in the java object\n  //for the dropdown in the form\n  {value: 'RowCount', viewValue: 'Row Count'},\n  {value: 'AnyRowContains', viewValue: 'Any Row Contains'},\n  {value: 'AllRowsContain', viewValue: 'All Rows Contain'},\n  {value: 'FirstRowContains', viewValue: 'First Row Contains'}\n];\nsqlOperators: SqlOperators[] = [\n  // these map to the enums in the java object\n  //for the dropdown in the form\n  {value: '&gt;', viewValue: 'Is Greater Than (&gt;)'},\n  {value: '&lt;', viewValue: 'Is Less Than (&lt;)'},\n  {value: '=', viewValue: 'Is Equal to (=)'}\n];\n\n\n\n\nconstructor(private route: ActivatedRoute,\n    private controlsService: ControlsService,\n    private ControlSpecificDataService: ControlSpecificDataService,\n    private SelfServiceDetailsService: SelfServiceDetailsService) {}\n\n    ngOnInit(): void {\n        this.route.paramMap.subscribe((params: ParamMap) =&gt; {\n            this.controlId = params.get(\"id\");\n          });\n          this.getValidationStepsOfControl(this.controlId);\n      }\n\n      getValidationStepsOfControl(controlId: String): void {\n        this.validationSteps= null;\n          this.SelfServiceDetailsService.\n          getValidationStepsOfControl(controlId)\n          .then(result =&gt; this.validationSteps = result )\n    }\n\n\n    removeSqlValidation(indexOfStep: number,indexOfValidation): void{\n      //index of step is the index in the ValidationSteps array\n      //index of validation is the index in sqlValidaionList\n      //removes one item starting from the index( so only that item)\n      this.validationSteps[indexOfStep].sqlDetail.sqlValidationList.splice(indexOfValidation,1);\n      this.validationSteps = this.validationSteps.slice();\n    }\n    addSqlValidationToStep(indexOfStep: number): void{\n\n      var sqlValidation = new SqlValidation();\n      this.validationSteps[indexOfStep].sqlDetail.sqlValidationList.push(sqlValidation)\n      this.validationSteps = this.validationSteps.slice();\n\n      //this.validationSteps = this.validationSteps.slice();\n    }\n    addSqlStepButtonClick(): void{\n      let sqlDetail = new SqlDetail();\n      let validationStep = new ValidationStep();\n      validationStep.type = \"Sql\"\n      validationStep.sqlDetail = sqlDetail;\n      this.validationSteps.push(validationStep);\n      // make a copy of the array\n      // we do this so angular reconises the model has changed\n      // and it repopulates the ngfor of ValidationSteps in the html\n      this.validationSteps = this.validationSteps.slice();\n    }\n    addDocumentStepButtonClick(): void{\n      let documentDetail = new DocumentDetail();\n      let validationStep = new ValidationStep();\n      validationStep.type = \"Document\"\n      validationStep.documentDetail = documentDetail;\n      this.validationSteps.push(validationStep);\n      // make a copy of the array\n      // we do this so angular reconises the model has changed\n      // and it repopulates the ngfor of ValidationSteps in the html\n      this.validationSteps = this.validationSteps.slice();\n    } \n    removeStepFromArray(indexOfStep: number): void{\n      //removes one item starting from the index( so only that item)\n      this.validationSteps.splice(indexOfStep,1);\n      this.validationSteps = this.validationSteps.slice();\n    }\n\n    logStep(): void{\n      console.log(this.validationSteps);\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>My front end component, I loop through the ValidationSteps, and for each SqlDetail, I loop thourgh the SqlValidationList to create the set of inputs for every SqlValidation in the list</p>\n\n<pre><code>      &lt;div class=\"panel-group\"&gt;\n      &lt;div class=\"panel panel-default\"&gt;\n          &lt;mat-tab-group [selectedIndex]=\"selectedTabIndex\"&gt;\n\n              &lt;mat-tab label=\"Control Summary\"&gt;\n                  &lt;p&gt;Summary here&lt;/p&gt;\n              &lt;/mat-tab&gt;\n              &lt;mat-tab disabled&gt;\n                      &lt;ng-template mat-tab-label&gt;\n                          &lt;button  (click)=\"addSqlStepButtonClick()\"&gt;\n                              Add Sql Step\n                          &lt;/button&gt;\n                      &lt;/ng-template&gt;\n                  &lt;/mat-tab&gt;\n                  &lt;mat-tab disabled&gt;\n                          &lt;ng-template mat-tab-label&gt;\n                              &lt;button  (click)=\"addDocumentStepButtonClick()\"&gt;\n                                  Add Document Step\n                              &lt;/button&gt;\n                          &lt;/ng-template&gt;\n                      &lt;/mat-tab&gt;\n                      &lt;mat-tab disabled&gt;\n                              &lt;ng-template mat-tab-label&gt;\n                                  &lt;button  (click)=\"logStep()\"&gt;\n                                      Log Step\n                                  &lt;/button&gt;\n                              &lt;/ng-template&gt;\n                          &lt;/mat-tab&gt;\n                  &lt;div *ngFor=\"let step of validationSteps; let i = index \"&gt;\n                          &lt;div *ngIf=\"step.type == 'Sql' \"&gt;\n                          &lt;mat-tab label=\" Step {{i + 1}}:Sql Step\"&gt;\n\n                              &lt;form class=\"example-form\"&gt;\n                                      &lt;table class=\"example-full-width\" cellspacing=\"10\"&gt;&lt;tr&gt;\n                                              &lt;td&gt;\n                                                  &lt;mat-form-field class=\"example-full-width\"&gt;\n                                                &lt;input matInput placeholder=\"Database Url\" name=\"sqlUrl\" [(ngModel)]=\"validationSteps[i].sqlDetail.url\"  value=\"{{step.sqlDetail.url}}\"&gt;\n                                              &lt;/mat-form-field&gt;\n                                          &lt;/td&gt;\n                                              &lt;td&gt;\n                                                      &lt;mat-form-field&gt;\n                                                              &lt;mat-label&gt;Resource Type&lt;/mat-label&gt;\n                                                              &lt;mat-select #driver [value]=\"step.sqlDetail.driver\" name=\"sqlDriver\" [(ngModel)]=\"validationSteps[i].sqlDetail.driver\" &gt;\n                                                                      &lt;mat-option *ngFor=\"let sqlDriver of sqlDrivers\"  [value]=\"sqlDriver.value\"&gt;\n                                                                              {{sqlDriver.viewValue}}\n                                                                            &lt;/mat-option&gt;\n                                                              &lt;/mat-select&gt;\n                                                            &lt;/mat-form-field&gt;\n                                              &lt;/td&gt;\n                                            &lt;/tr&gt;\n                                            &lt;tr&gt;\n                                                &lt;td&gt;&lt;p&gt;Validations&lt;/p&gt;&lt;/td&gt;&gt;\n                                            &lt;/tr&gt;\n                                            &lt;div *ngFor=\"let sqlValidation of step.sqlDetail.sqlValidationList; let sqlValidationIndex = index \"&gt;\n                                                &lt;tr&gt;\n                                                      &lt;td&gt;\n                                                              &lt;mat-form-field&gt;\n                                                                      &lt;mat-label&gt;Validation type&lt;/mat-label&gt;\n                                                                      &lt;mat-select #sqlValidationType [value]=\"sqlValidation.validationType\" name=\"sqlValidationType\" [(ngModel)]=\"validationSteps[i].sqlDetail.sqlValidationList[sqlValidationIndex].validationType\" &gt;\n                                                                              &lt;mat-option *ngFor=\"let sqlValidationType of sqlValidationTypes\"  [value]=\"sqlValidationType.value\"&gt;\n                                                                                      {{sqlValidationType.viewValue}}\n                                                                                    &lt;/mat-option&gt;\n                                                                      &lt;/mat-select&gt;\n                                                                    &lt;/mat-form-field&gt;\n                                                      &lt;/td&gt;\n                                                      &lt;td&gt;\n                                                              &lt;mat-form-field class=\"example-full-width\"&gt;\n                                                             &lt;input matInput placeholder=\"Column\" name=\"sqlColumn\" [(ngModel)]=\"validationSteps[i].sqlDetail.sqlValidationList[sqlValidationIndex].columnName\"  value=\"{{sqlValidation.columnName}}\"&gt;\n                                                             &lt;/mat-form-field&gt;\n                                                               &lt;/td&gt;\n\n                                                          &lt;td&gt;\n                                                                  &lt;mat-form-field&gt;\n                                                                          &lt;mat-label&gt;Operator&lt;/mat-label&gt;\n                                                                          &lt;mat-select #sqlOperator [value]=\"sqlValidation.operator\" name=\"sqlOperator\" [(ngModel)]=\"validationSteps[i].sqlDetail.sqlValidationList[sqlValidationIndex].operator\" &gt;\n                                                                                  &lt;mat-option *ngFor=\"let sqlOperator of sqlOperators\"  [value]=\"sqlOperator.value\"&gt;\n                                                                                          {{sqlOperator.viewValue}}\n                                                                                        &lt;/mat-option&gt;\n                                                                          &lt;/mat-select&gt;\n                                                                        &lt;/mat-form-field&gt;\n                                                          &lt;/td&gt;\n                                                          &lt;td&gt;\n                                                   &lt;mat-form-field class=\"example-full-width\"&gt;\n                                                  &lt;input matInput placeholder=\"Validation value\" name=\"sqlValidation\" [(ngModel)]=\"validationSteps[i].sqlDetail.sqlValidationList[sqlValidationIndex].validationValue\"  value=\"{{sqlValidation.validationValue}}\"&gt;\n                                                  &lt;/mat-form-field&gt;\n                                                    &lt;/td&gt;\n                                                    &lt;td&gt;\n                                                          &lt;button  (click)=\"removeSqlValidation(i,sqlValidationIndex)\"&gt;\n                                                                  Remove Validation\n                                                              &lt;/button&gt;\n                                                    &lt;/td&gt;\n\n                                                &lt;/tr&gt;\n                                            &lt;/div&gt;\n                                            &lt;tr&gt;\n                                                  &lt;td&gt;\n                                                          &lt;button  (click)=\"addSqlValidationToStep(i)\"&gt; Add Validation&lt;/button&gt;\n                                                  &lt;/td&gt;\n                                            &lt;/tr&gt;\n                                          &lt;tr&gt;\n                                              &lt;td&gt;\n                                                      &lt;button  (click)=\"removeStepFromArray(i)\"&gt; Remove Step&lt;/button&gt;\n                                              &lt;/td&gt;\n\n\n                                          &lt;/tr&gt;&lt;/table&gt;\n                              &lt;/form&gt;\n                              &lt;/mat-tab&gt;\n\n                  &lt;/div&gt;\n                  &lt;div *ngIf=\"step.type == 'Document' \"&gt;\n                          &lt;mat-tab label=\"Step {{i + 1}}:Document Step\"&gt;\n\n                              &lt;form class=\"example-form\"&gt;\n                                      &lt;table class=\"example-full-width\" cellspacing=\"10\"&gt;&lt;tr&gt;\n                                              &lt;td&gt;\n                                                  &lt;mat-form-field class=\"example-full-width\"&gt;\n                                                &lt;input matInput placeholder=\"Site/path URL\" value=\"{{step.documentDetail.locationUrl}}\"&gt;\n                                              &lt;/mat-form-field&gt;\n                                          &lt;/td&gt;\n                                              &lt;td&gt;\n                                                      &lt;mat-form-field&gt;\n                                                              &lt;mat-label&gt;Resource Type&lt;/mat-label&gt;\n                                                              &lt;mat-select #documentType [value]=\"step.documentDetail.locationType\" &gt;\n                                                                      &lt;mat-option *ngFor=\"let documentLocationType of documentLocationTypes\" [value]=\"documentLocationType.value\"&gt;\n                                                                              {{documentLocationType.viewValue}}\n                                                                            &lt;/mat-option&gt;\n                                                              &lt;/mat-select&gt;\n                                                            &lt;/mat-form-field&gt;\n                                              &lt;/td&gt;\n                                            &lt;/tr&gt;\n                                            &lt;tr&gt;\n                                                  &lt;p&gt;Validations&lt;/p&gt;\n                                              &lt;/tr&gt;\n                                            &lt;tr&gt;\n                                                  &lt;button  (click)=\"removeStepFromArray(i)\"&gt;\n                                                          Remove Step\n                                                      &lt;/button&gt;\n                                          &lt;/tr&gt;\n                                          &lt;/table&gt;\n                              &lt;/form&gt;\n                              &lt;/mat-tab&gt;\n\n                  &lt;/div&gt;\n\n                  &lt;/div&gt;\n          &lt;/mat-tab-group&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 560, "user_id": 3526881, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/75e80ff943366ad2f7bcb7b4a0577692?s=128&d=identicon&r=PG&f=1", "display_name": "ValiantCoder", "link": "https://stackoverflow.com/users/3526881/valiantcoder"}, "edited": false, "score": 0, "creation_date": 1568796517, "post_id": 57988567, "comment_id": 102384943, "body": "Bro just do a simple if statement, if it is undefined, then don&#39;t add. Do the if in the filter HO function"}], "answers": [{"tags": [], "owner": {"reputation": 10126, "user_id": 81723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b736323c221528a5eaad9224fac226?s=128&d=identicon&r=PG", "display_name": "Sly_cardinal", "link": "https://stackoverflow.com/users/81723/sly-cardinal"}, "is_accepted": false, "score": 7, "last_activity_date": 1568798399, "creation_date": 1568798399, "answer_id": 57989288, "question_id": 57988567, "link": "https://stackoverflow.com/questions/57988567/filter-to-remove-undefined-items-is-not-picked-up-by-typescript/57989288#57989288", "title": "Filter to remove undefined items is not picked up by TypeScript", "body": "<p>The solution is to pass a type-guard function that tells TypeScript that you're filtering out the <code>undefined</code> part of the type:</p>\n\n<pre><code>devices\n.filter((device): device is ICouchDBDocument =&gt; Boolean(device)) //filters away all undefined devices!\n.map((filteredDevice) =&gt; {\n    // yay, `filteredDevice` is not undefined here :)\n})\n</code></pre>\n\n<p>If you need to do this a lot then you can create a generic utility function that should work with most types:</p>\n\n<pre><code>const removeNulls = &lt;S&gt;(value: S | undefined): value is S =&gt; value != null;\n</code></pre>\n\n<p>Here are some examples:</p>\n\n<pre><code>devices\n.filter(removeNulls)\n.map((filteredDevice) =&gt; {\n    // filteredDevice is truthy here\n});\n\n\n// Works with arbitrary types:\nlet maybeNumbers: (number | undefined)[] = [];\n\nmaybeNumbers\n    .filter(removeNulls)\n    .map((num) =&gt; {\n        return num * 2;\n    });\n</code></pre>\n\n<p>(I didn't use the <code>Boolean</code> function in <code>removeNulls</code> in case people want to use it with <code>number</code> types - otherwise we'd accidentally filter out falsy <code>0</code> values too!)</p>\n\n<hr>\n\n<p>Thanks, I'd been wondering the same thing for a while but your question prompted me to finally work it out :)</p>\n\n<p>Looking at TypeScript's <code>lib.es5.d.ts</code>, the <code>Array.filter</code> function has this type signature (it actually has two in the file, but this is the one that's relevant to your question):</p>\n\n<pre><code>/**\n * Returns the elements of an array that meet the condition specified in a callback function.\n * @param callbackfn A function that accepts up to three arguments. The filter method calls the callbackfn function one time for each element in the array.\n * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\n */\nfilter&lt;S extends T&gt;(callbackfn: (value: T, index: number, array: T[]) =&gt; value is S, thisArg?: any): S[];\n</code></pre>\n\n<p>So, the key to this is the <code>value is S</code> return type of callbackfn, which shows that it is a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"noreferrer\">user-defined type guard</a>.</p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1467, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1568798399, "creation_date": 1568796153, "question_id": 57988567, "link": "https://stackoverflow.com/questions/57988567/filter-to-remove-undefined-items-is-not-picked-up-by-typescript", "title": "Filter to remove undefined items is not picked up by TypeScript", "body": "<p>In the following code, I would like to not have to add <code>undefined</code> as a type annotation for filteredDevice. I think that a filteredDevice should never be undefined since I filter away undefined devices.</p>\n\n<p>But if I remove the <code>undefined</code> type annotation, TypeScript complains that <code>Type 'ICouchDBDocument | undefined' is not assignable to type 'ICouchDBDocument'.</code></p>\n\n<pre><code>devices\n.filter((device: ICouchDBDocument | undefined) =&gt; Boolean(device)) //should filter away all undefined devices?\n.map((filteredDevice: ICouchDBDocument | undefined) =&gt; { ... })\n</code></pre>\n\n<p>How can I change my code so that the filter will have an impact on the type annotation?</p>\n"}, {"tags": ["typescript", "vue.js", "vue-router"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 11651776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0aBmAZt89F0/AAAAAAAAAAI/AAAAAAAAADI/Sjc8g_hNM54/photo.jpg?sz=128", "display_name": "4e4e4i", "link": "https://stackoverflow.com/users/11651776/4e4e4i"}, "edited": false, "score": 0, "creation_date": 1568798862, "post_id": 57989178, "comment_id": 102386344, "body": "thank u, it works! i forgot add { immediate: true, deep: true } for watch"}], "tags": [], "owner": {"reputation": 715, "user_id": 4397306, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001524954937/picture?type=large", "display_name": "Loki", "link": "https://stackoverflow.com/users/4397306/loki"}, "is_accepted": true, "score": 1, "last_activity_date": 1568798083, "creation_date": 1568798083, "answer_id": 57989178, "question_id": 57988503, "link": "https://stackoverflow.com/questions/57988503/how-to-make-component-watch-for-router-if-it-is-outside-router-view/57989178#57989178", "title": "How to make component watch for router if it is outside router-view?", "body": "<p>You can try to \nSetup a watcher on the $route in your component like this:</p>\n\n<pre><code>watch:{\n    $route (to, from){\n        // react to route changes\n    }\n} \n</code></pre>\n\n<p>Or if you need in typescript, check this issue:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51892100/watch-route-changes-in-vue-js-with-typescript\">Watch route changes in Vue.js with Typescript</a></p>\n"}], "owner": {"reputation": 111, "user_id": 11651776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0aBmAZt89F0/AAAAAAAAAAI/AAAAAAAAADI/Sjc8g_hNM54/photo.jpg?sz=128", "display_name": "4e4e4i", "link": "https://stackoverflow.com/users/11651776/4e4e4i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 57989178, "answer_count": 1, "score": 1, "last_activity_date": 1568798083, "creation_date": 1568795958, "question_id": 57988503, "link": "https://stackoverflow.com/questions/57988503/how-to-make-component-watch-for-router-if-it-is-outside-router-view", "title": "How to make component watch for router if it is outside router-view?", "body": "<p>I cant make v-if for element get boolean from function when router changes url.</p>\n\n<p>this is my code for component Header</p>\n\n<pre><code>&lt;template&gt;\n    &lt;header class=\"wfm-header\"&gt;\n        &lt;div class=\"wfm-header__navigations\"&gt;\n            &lt;div class=\"wfm-header__logo\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div\n                v-if=\"isPlan\"\n                class=\"wfm-header-plan\"\n        &gt;\n            &lt;div\n                    class=\"wfm-header-plan__calendar\"\n                    v-if=\"isAuth || shopName\"&gt;\n                &lt;wfm-calendar /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/header&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n    @Component({\n        components: {\n            wfmCalendar,\n        }\n    })\n    export default class wfmHeader extends Vue {\n        ...\n        get isPlan() {\n            return this.$router.currentRoute.name === RouteNames.PLAN // it works only after Reload page\n        }\n        @Watch('$router.currentRoute.path')\n        changeRouter() {\n            console.log('plzChange') // it doesnt work\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gXHDk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gXHDk.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to change isPlan value, when my route is changes. I tried use watch fo this.$router and used beforeRouteUpdate it doesnt help, what should i do for this? </p>\n"}, {"tags": ["angular", "typescript", "fullcalendar", "fullcalendar-4"], "comments": [{"owner": {"reputation": 3503, "user_id": 10036039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525d104fc1903b759afa7a7ff40cf22?s=128&d=identicon&r=PG&f=1", "display_name": "zerocewl", "link": "https://stackoverflow.com/users/10036039/zerocewl"}, "edited": false, "score": 0, "creation_date": 1568798014, "post_id": 57988402, "comment_id": 102385814, "body": "Can you provide a minimal <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz</a> to show your problem?"}, {"owner": {"reputation": 93, "user_id": 1393831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/b6stQ.jpg?s=128&g=1", "display_name": "Hammeronthenet", "link": "https://stackoverflow.com/users/1393831/hammeronthenet"}, "reply_to_user": {"reputation": 3503, "user_id": 10036039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525d104fc1903b759afa7a7ff40cf22?s=128&d=identicon&r=PG&f=1", "display_name": "zerocewl", "link": "https://stackoverflow.com/users/10036039/zerocewl"}, "edited": false, "score": 0, "creation_date": 1568798151, "post_id": 57988402, "comment_id": 102385895, "body": "That&#39;s quite difficult, cause in the &quot;background&quot; I&#39;ve got also NGRX and a real database service (not &quot;on internet&quot; at the moment),"}, {"owner": {"reputation": 3503, "user_id": 10036039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525d104fc1903b759afa7a7ff40cf22?s=128&d=identicon&r=PG&f=1", "display_name": "zerocewl", "link": "https://stackoverflow.com/users/10036039/zerocewl"}, "edited": false, "score": 0, "creation_date": 1568798324, "post_id": 57988402, "comment_id": 102386000, "body": "Maybe you can mock something using <a href=\"https://angularfirebase.com/\" rel=\"nofollow noreferrer\">Angular firebase</a> or just use a datatable to store your content."}, {"owner": {"reputation": 93, "user_id": 1393831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/b6stQ.jpg?s=128&g=1", "display_name": "Hammeronthenet", "link": "https://stackoverflow.com/users/1393831/hammeronthenet"}, "reply_to_user": {"reputation": 3503, "user_id": 10036039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525d104fc1903b759afa7a7ff40cf22?s=128&d=identicon&r=PG&f=1", "display_name": "zerocewl", "link": "https://stackoverflow.com/users/10036039/zerocewl"}, "edited": false, "score": 0, "creation_date": 1568798581, "post_id": 57988402, "comment_id": 102386166, "body": "I will try... Not so simple anyway. In the meantime I really appreciate if someone could show me How to reload data (angular/fullcalendar v4) after the array that contains eventsource/events change."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1568800384, "post_id": 57988402, "comment_id": 102387224, "body": "Since we can&#39;t see how you&#39;ve set up your event feed into fullCalendar it&#39;s really impossible to tell you what you need to do. There are generally 3 strategies you can follow: 1. <a href=\"https://fullcalendar.io/docs/events-json-feed\" rel=\"nofollow noreferrer\">events as JSON feed</a> (most recommended), 2. <a href=\"https://fullcalendar.io/docs/events-function\" rel=\"nofollow noreferrer\">events via custom function</a> (2nd best), or 3. <a href=\"https://fullcalendar.io/docs/events-array\" rel=\"nofollow noreferrer\">static array of events</a> (less flexible, generally not recommended except for very simple cases). Have you adopted one of these three approaches?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1568800482, "post_id": 57988402, "comment_id": 102387275, "body": "If you have used approach 1. or 2. then whenever you want to tell fullCalendar to refresh the list of events you can simply the <a href=\"https://fullcalendar.io/docs/Calendar-refetchEvents\" rel=\"nofollow noreferrer\">refetchEvents</a> method and it will automatically pull the data from the data source again. But if you supplied a simple list of events then this cannot work, instead you have to manually remove all the events and add a new event source containing the updated list."}, {"owner": {"reputation": 3503, "user_id": 10036039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525d104fc1903b759afa7a7ff40cf22?s=128&d=identicon&r=PG&f=1", "display_name": "zerocewl", "link": "https://stackoverflow.com/users/10036039/zerocewl"}, "edited": false, "score": 1, "creation_date": 1568800568, "post_id": 57988402, "comment_id": 102387325, "body": "In this <a href=\"https://stackblitz.com/edit/fullcal-v3-10-0\" rel=\"nofollow noreferrer\">stackblitz</a> you can find a minimal example, but its v3!"}, {"owner": {"reputation": 93, "user_id": 1393831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/b6stQ.jpg?s=128&g=1", "display_name": "Hammeronthenet", "link": "https://stackoverflow.com/users/1393831/hammeronthenet"}, "edited": false, "score": 0, "creation_date": 1568800652, "post_id": 57988402, "comment_id": 102387381, "body": "Okay, I&#39;ve got it!!!   I used the approach number 3 (cause my datas update in a subcription of an Observable from a NGRX store action).  So (wehen I got datas) I do:              let evts = this.calendarApi.getEvents();             evts.forEach(element =&gt; {               element.remove();             });             this.calendarApi.addEventSource(this.mySource);             this.calendarApi.rerenderEvents();  I think this is not so elegant..."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1568800727, "post_id": 57988402, "comment_id": 102387444, "body": "I agree. I think approach number 2 might suit you better. You can give fullCalendar a callback containing any functionality you need in order to fetch the events and return them to the calendar."}, {"owner": {"reputation": 93, "user_id": 1393831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/b6stQ.jpg?s=128&g=1", "display_name": "Hammeronthenet", "link": "https://stackoverflow.com/users/1393831/hammeronthenet"}, "edited": false, "score": 0, "creation_date": 1568800777, "post_id": 57988402, "comment_id": 102387473, "body": "I see your &quot;stackblitz&quot; comment here only now! Okay, I look at it!  Thank you so much !!!!!!!!"}], "owner": {"reputation": 93, "user_id": 1393831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/b6stQ.jpg?s=128&g=1", "display_name": "Hammeronthenet", "link": "https://stackoverflow.com/users/1393831/hammeronthenet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1157, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568800274, "creation_date": 1568795631, "last_edit_date": 1568800274, "question_id": 57988402, "link": "https://stackoverflow.com/questions/57988402/fullcalendar-v4-on-angular-8-how-to-refresh-data-on-subscribe", "title": "FullCalendar V4 on Angular 8: how to refresh data on &quot;subscribe&quot;", "body": "<p>I'm wondering how to refresh data in fullCalendar (V4) in Angular (typescript): I have try everything I found on documentation but nothing seems to work properly.</p>\n\n<p>On \"SAVE\" it all works fine, all the data saves to database properly but after save I would like to reload data (with the id(s) generated from database) and refresh them (reload from zero if it's necessary) to the calendar.</p>\n\n<p>Has anyone tried something similar?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "edited": false, "score": 0, "creation_date": 1568796123, "post_id": 57988441, "comment_id": 102384707, "body": "Tatar: it&#39;s ok but i&#39;ve got an error cannot read a property value of undefined."}, {"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "reply_to_user": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "edited": false, "score": 0, "creation_date": 1568796301, "post_id": 57988441, "comment_id": 102384822, "body": "@Zeljk0 what property?"}, {"owner": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "edited": false, "score": 0, "creation_date": 1568796472, "post_id": 57988441, "comment_id": 102384917, "body": "deviceTypeID, when i choose an element i&#39;ve got that error."}, {"owner": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "edited": false, "score": 0, "creation_date": 1568796641, "post_id": 57988441, "comment_id": 102385014, "body": "Tatar: i&#39;ve got an issues when  user want to delete item per item   deleteItemfromArray(itemToDelete) {     this.ListOfUsedMaterials = this.ListOfUsedMaterials       .filter(item =&gt; item.goodId != itemToDelete.goodId);   }"}, {"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "reply_to_user": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "edited": false, "score": 0, "creation_date": 1568796643, "post_id": 57988441, "comment_id": 102385017, "body": "@Zeljk0 as you see in my code it&#39;s called <code>deviceTypId</code> I copied it from your code but it&#39;s probably a typo and needs to be updated with what your variable is actually named!"}, {"owner": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "edited": false, "score": 0, "creation_date": 1568796702, "post_id": 57988441, "comment_id": 102385052, "body": "man, i also have below in my code delete item from array: HEre&#39;s a code: deleteItemfromArray(itemToDelete) {     this.ListOfUsedMaterials = this.ListOfUsedMaterials       .filter(item =&gt; item.goodId != itemToDelete.goodId);   } when i add two same selected goods and when user want to delete one of them, code delete both..... :("}], "tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568796307, "last_edit_date": 1568796307, "creation_date": 1568795769, "answer_id": 57988441, "question_id": 57988346, "link": "https://stackoverflow.com/questions/57988346/how-to-resolve-problem-with-push-an-values-and-their-replacement-after-that/57988441#57988441", "title": "How to resolve problem with push an values and their replacement after that?", "body": "<p>You just need to match items by both keys (<code>goodId</code> and <code>device</code>). Here is a cleaner version of your code:</p>\n\n<pre><code>addItem() {\n    const found = this.ListOfUsedMaterials.find(item =&gt; \n        item.goodId == this.selectedGood.id &amp;&amp; item.device == this.deviceTypId);\n    if (found) {\n        found.quantity += Number(this.item.quantity);\n        this.item.quantity = \"\";\n        this.selectedGood = \"\";\n    } else {\n        this.ListOfUsedMaterials.push({\n            title: this.selectedGood.value,\n            quantity: Number(this.item.quantity),\n            goodId: this.selectedGood.id,\n            unit: this.selectedGood.unit,\n            device: this.deviceTypId,\n            manufacturer: this.deviceManufacturerId,\n            mark: this.deviceMark\n        });\n        this.onClear(event);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 11123760, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MARHtFZwMZI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfWUUQBm6lCQFAm9bL45OI8Y3Z8rQ/mo/photo.jpg?sz=128", "display_name": "Zeljk0", "link": "https://stackoverflow.com/users/11123760/zeljk0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568797882, "creation_date": 1568795452, "question_id": 57988346, "link": "https://stackoverflow.com/questions/57988346/how-to-resolve-problem-with-push-an-values-and-their-replacement-after-that", "title": "How to resolve problem with push an values and their replacement after that?", "body": "<p>how to resolve some issue in this code with selected goods if exists. For example, the user inserts selected goods or services with them quantity, deviceId, etc and everything is ok. But when user wants to add some selected good in next row with another deviceID it only replaces existed selected good and add more quantity in them, but previous deviceID stay ahead. How to resolve this? Thanks a lot.</p>\n\n<pre><code>addItem() {\n\n    if (this.ListOfUsedMaterials.length) {\n\n      let exists: boolean = false;\n      this.ListOfUsedMaterials.forEach(item =&gt; {\n        if (item.goodId == this.selectedGood.id) {\n          exists = true;\n          item.quantity += Number(this.item.quantity);\n          this.item.quantity = \"\";\n          this.selectedGood = \"\";\n\n        }\n      });\n\n      if (!exists) {\n\n        this.ListOfUsedMaterials.push({\n          title: this.selectedGood.value,\n          quantity: Number(this.item.quantity),\n          goodId: this.selectedGood.id,\n          unit: this.selectedGood.unit,\n          device: this.deviceTypId,\n          manufacturer: this.deviceManufacturerId,\n          mark: this.deviceMark\n        });\n\n        this.onClear(event);\n        console.log('Ovo :', this.ListOfUsedMaterials);\n        //this.item.quantity = \"\";\n        //this.selectedGood = \"\";\n      }\n\n    } else {\n      this.ListOfUsedMaterials.push({\n        title: this.selectedGood.value,\n        quantity: Number(this.item.quantity),\n        goodId: this.selectedGood.id,\n        unit: this.selectedGood.unit,\n        device: this.deviceTypId,\n        manufacturer: this.deviceManufacturerId,\n        mark: this.deviceMark\n\n      });\n      console.log('Ovo :', this.ListOfUsedMaterials);\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "filter", "angular8"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "edited": false, "score": 0, "creation_date": 1568795952, "post_id": 57988137, "comment_id": 102384603, "body": "when I try the above method, it throws an error res.jsonData.filter is not a function."}], "tags": [], "owner": {"reputation": 15, "user_id": 10217720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9a678e5f1ef9f68be71ed2377376a3?s=128&d=identicon&r=PG&f=1", "display_name": "A Kok", "link": "https://stackoverflow.com/users/10217720/a-kok"}, "is_accepted": false, "score": 0, "last_activity_date": 1568794759, "creation_date": 1568794759, "answer_id": 57988137, "question_id": 57987869, "link": "https://stackoverflow.com/questions/57987869/filter-response-data-from-httpclient-based-on-a-certain-condition-in-angular-8/57988137#57988137", "title": "Filter response data from httpClient based on a certain condition in angular 8", "body": "<pre><code>Response.jsonData.filter(x =&gt; {x.type === \"dev\"})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1568830862, "creation_date": 1568830862, "answer_id": 57998743, "question_id": 57987869, "link": "https://stackoverflow.com/questions/57987869/filter-response-data-from-httpclient-based-on-a-certain-condition-in-angular-8/57998743#57998743", "title": "Filter response data from httpClient based on a certain condition in angular 8", "body": "<p>You are using version 8, so if started with CLI, rxjs 6 is automatically included. You should move on to that, meaning pipeable operators. Also we usually allocate http-requests to be made in a service and the components just subscribe to the result, that is what I have done in the StackBlitz below. Here I will use your code though, but refer to the StackBlitz please.</p>\n\n<p>Change your code to:</p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { map } from 'rxjs/operators';\n\n// ...\n\nthis.http.post('someurl')\n  .pipe(\n    map(val =&gt; this.filterVal = val),\n    // use filter to get the values you want\n    map(items =&gt; items.jsonData.filter(item =&gt; item.type === 'dev'))\n  )\n</code></pre>\n\n<p>If you insist to do it with older rxjs, it looks very similar:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>this.http.post('someurl')\n  .map(val =&gt; this.filterVal = val)\n  .map(items =&gt; items.jsonData.filter(item =&gt; item.type === 'dev'))\n</code></pre>\n\n<p>But please embrace the newer version.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-obubdv?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Finally a STACKBLITZ</a></strong></p>\n"}], "owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568830862, "creation_date": 1568793845, "question_id": 57987869, "link": "https://stackoverflow.com/questions/57987869/filter-response-data-from-httpclient-based-on-a-certain-condition-in-angular-8", "title": "Filter response data from httpClient based on a certain condition in angular 8", "body": "<p>Hi I am new to Angular(V8). I am making a post request and would like to filter the response data based on a condition. When I tried, I got the following error, filter is not a function. Could you please guide so that it would be helpful for me.  </p>\n\n<pre><code>Sample Response = {\nclassName:\"a\",\ndept_name:\"b\",\njsonData:[\n{\n\"type\":\"branch\",\n\"value\":\"1\"\n},\n{\n\"type\":\"branch\",\n\"value\":\"1\"\n},\n{\n\"type\":\"dev\",\n\"value\":\"2\"\n},\n{\n\"type\":\"dev\",\n\"value\":\"2\"\n},\n{\n\"type\":\"dev\",\n\"value\":\"2\"\n},\n{\n\"type\":\"branch\",\n\"value\":\"1\"\n}\n]\n\n} \n</code></pre>\n\n<p>I want to filter the jsonData where type=\"dev\".</p>\n\n<pre><code>this.http.post('someurl')\n  .map(item =&gt; this.filterVal = item)\n  .filter(item =&gt; item.type=== \"dev\") \n  .subscribe(data =&gt; {\n    this.posts = data;\n  })\n\nExpected Output :\njsonData:[\n{\n\"type\":\"dev\",\n\"value\":\"2\"\n},\n{\n\"type\":\"dev\",\n\"value\":\"2\"\n},\n{\n\"type\":\"dev\",\n\"value\":\"2\"\n}\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 1, "creation_date": 1568793408, "post_id": 57987702, "comment_id": 102383285, "body": "add some code here what you tried till now and how your code looks like"}, {"owner": {"reputation": 1696, "user_id": 3596943, "user_type": "registered", "profile_image": "https://graph.facebook.com/520887215/picture?type=large", "display_name": "Fredrik_Macrobond", "link": "https://stackoverflow.com/users/3596943/fredrik-macrobond"}, "edited": false, "score": 0, "creation_date": 1568793519, "post_id": 57987702, "comment_id": 102383340, "body": "Provide some code, please."}, {"owner": {"reputation": 115, "user_id": 6086741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a308d11f26bce1be580cd006eabe32ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vasanth Kumar D", "link": "https://stackoverflow.com/users/6086741/vasanth-kumar-d"}, "edited": false, "score": 0, "creation_date": 1568803853, "post_id": 57987702, "comment_id": 102389166, "body": "Have added the code, for what i tried till now."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 6086741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a308d11f26bce1be580cd006eabe32ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vasanth Kumar D", "link": "https://stackoverflow.com/users/6086741/vasanth-kumar-d"}, "edited": false, "score": 0, "creation_date": 1568823281, "post_id": 57988218, "comment_id": 102400402, "body": "As I&#39;m using Boostrap accordian with each tab, so i have to display data of each product type and the list of products in that product type, that is why i require to show all the product types in a single component/module."}, {"owner": {"reputation": 115, "user_id": 6086741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a308d11f26bce1be580cd006eabe32ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vasanth Kumar D", "link": "https://stackoverflow.com/users/6086741/vasanth-kumar-d"}, "edited": false, "score": 0, "creation_date": 1568823352, "post_id": 57988218, "comment_id": 102400431, "body": "Is there any other way to do it in single component."}, {"owner": {"reputation": 1751, "user_id": 3302004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVQgu.png?s=128&g=1", "display_name": "Jens Alenius", "link": "https://stackoverflow.com/users/3302004/jens-alenius"}, "reply_to_user": {"reputation": 115, "user_id": 6086741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a308d11f26bce1be580cd006eabe32ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vasanth Kumar D", "link": "https://stackoverflow.com/users/6086741/vasanth-kumar-d"}, "edited": false, "score": 0, "creation_date": 1568836259, "post_id": 57988218, "comment_id": 102405576, "body": "I think you need to send me an image of what you have. I don\u2019t understand how you html should look like"}], "tags": [], "owner": {"reputation": 1751, "user_id": 3302004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVQgu.png?s=128&g=1", "display_name": "Jens Alenius", "link": "https://stackoverflow.com/users/3302004/jens-alenius"}, "is_accepted": false, "score": 0, "last_activity_date": 1568795060, "creation_date": 1568795060, "answer_id": 57988218, "question_id": 57987702, "link": "https://stackoverflow.com/questions/57987702/set-the-tab-active-dynamically/57988218#57988218", "title": "Set the tab active dynamically", "body": "<p>Bootstrap Tabs is a javascript tab. It will not support back button in the browser. It will not route when you switch tabs. If you instead consider the tabs as an horizontal menu you could let every single tab represent a page. checkout: </p>\n\n<p><a href=\"https://www.freakyjolly.com/angular-nested-routing-with-multiple-routeroutlet-using-loadchildren-having-own-router-modules-example-application/\" rel=\"nofollow noreferrer\">https://www.freakyjolly.com/angular-nested-routing-with-multiple-routeroutlet-using-loadchildren-having-own-router-modules-example-application/</a> </p>\n\n<p>section: Adding RouterOutlet directive at each level.</p>\n\n<p>You could create a route: .../products/{id}. This would show a page with the product info. You could add it as a bookmark,send it as a link in a mail and so on. In your products page, route: ..../products. You get the products list and loop on you horizontal styled: </p>\n\n<pre><code>&lt;ul class=\"list-unstyled list-inline\"&gt;\n    &lt;li *ngFor=\"let product of products\"&gt;\n    &lt;a routerLink=\"/products/{{product.Id}}\"&gt;{{product.Name}}&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>the tab will route to the product/{id}. Using a styled the anchor link will make it possible for end user to rightclick and open in a new browser tab</p>\n"}], "owner": {"reputation": 115, "user_id": 6086741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a308d11f26bce1be580cd006eabe32ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vasanth Kumar D", "link": "https://stackoverflow.com/users/6086741/vasanth-kumar-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568803363, "creation_date": 1568793276, "last_edit_date": 1568803363, "question_id": 57987702, "link": "https://stackoverflow.com/questions/57987702/set-the-tab-active-dynamically", "title": "Set the tab active dynamically", "body": "<p>I have two different components - Component1 and Component2 and a Service1.</p>\n\n<p>When i click one image (One Product from List of Products) in the Component1(HomeComponent) using service (Service!), I'm setting the perticular productId in the service.</p>\n\n<p>I want to use that perticular productId to make the tab (The Product List is Represented as Tabs) active in the Component2 (Products Component).</p>\n\n<p>Can I get any help to accomplish this. </p>\n\n<p>Im using Only Bootstrap Tabs.</p>\n\n<p>HomeComponent Template:</p>\n\n<pre><code> &lt;div class=\"icon center-content\" \n     (click)=\"getProductInfo(productsCategory.ProductCategoryID)\"&gt;\n      &lt;img class=\"cat-image mb-4\" [src]=\"productsCategory.ImagePath\" alt=\"Place image title\" *ngIf=\"!isImageLoading; else noImageFound\"&gt;\n        &lt;ng-template #noImageFound&gt;\n          &lt;img src=\"assets/img/fallbackImage.png\" alt=\"Fallbackimage\"&gt;\n        &lt;/ng-template&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>HomeComponent:</p>\n\n<pre><code>getProductInfo(id){\nconsole.log(id);\nthis.appService.getProductInfoHome(id);\nthis.router.navigateByUrl('home/products');\n }\n</code></pre>\n\n<p>ProductComponent Template:</p>\n\n<pre><code>&lt;ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\"&gt;\n&lt;li class=\"nav-item\"&gt;\n  &lt;a id=\"tab-A\" [routerLink]=\"['#pane-A']\" routerLinkActive=\"router-link-active\" [class.active]=\"tab == 'tab-A'\"     class=\"nav-link\" data-toggle=\"tab\" role=\"tab\"&gt;Product One&lt;/a&gt;\n&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;\n  &lt;a id=\"tab-B\" [routerLink]=\"['#pane-B']\" routerLinkActive=\"router-link-active\" [ngClass]=\"{'active': tab == 'tab-B'}\"  class=\"nav-link\" data-toggle=\"tab\" role=\"tab\"&gt;Product Two&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>ProductComponent:</p>\n\n<pre><code>//To get the tab details \ngetTabDetails() {\n      this.tab = this.appService.setActiveTab();\n}\n\n\nngOnInit() {\n//Stores the product ID from service\nthis.selectedProductID = this.appService.getProductID();\nconsole.log(this.selectedProductID);\n\n//Will call API and subscribes in the \nthis.appService.getProductInfoHome(this.selectedProductID);\nthis.tab = this.appService.getActiveTab();\nconsole.log(this.tab);\nthis.products = this.appService.firstProductData;\nconsole.log(this.products);\n}\n</code></pre>\n\n<p>App Service:</p>\n\n<pre><code>  //set Id\n   setProductID(id) {\n    this.selectedId = id;\n  }\n\n  //Get ID\n  getProductID(){\n     return this.selectedId;\n   }\n\n   //Get Product Info from home\n  getProductInfoHome(id){\n     this.getProductInfoById(id).subscribe(\n     data=&gt;{\n       this.firstProductData = data;\n       console.log(this.firstProductData);\n       if(this.firstProductData){\n       this.setActiveTab();\n       console.log(this.selectTab);\n      }\n    },\n     error=&gt;{\n        console.log(error);\n    }\n   )\n  }\n\n //To set the tab active\n  setActiveTab(): any {\n   for (let cat of prodConfig.productCategory) {\n     if (cat.ProductCategoryID === \n         this.firstProductData.ProductCategoryID) {\n          this.selectTab = cat.ProductTabID;\n       }\n     }\n   }\n\n  //To get the active tab\n   getActiveTab():any{\n       if(this.selectTab)\n       return this.selectTab;\n    }\n\n\n //To get the product type and products byId\n  getProductInfoById(productId) {\n     const data = {\n         productCategoryId: productId\n      };\n     const httpOptions = {\n         headers: new HttpHeaders({\n           'Content-Type':  'application/json'\n        })\n      };\n      const reqData = JSON.stringify(data);\n\n\n     return \n      this.http.post('/api/product/getinfobyid', reqData, \n     httpOptions).pipe(\n       catchError((error: HttpErrorResponse) =&gt; {\n        if (error.error instanceof ErrorEvent) {\n        // A client-side or network error occurred. Handle it \n         accordingly.\n        console.error('An error occurred:', error.error.message);\n      } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.log(error.error);\n       }\n       return observableThrowError(error.error);\n      }));\n   }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568793244, "post_id": 57987606, "comment_id": 102383211, "body": "Could run <code>where tsc</code> and post the output?"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568793449, "post_id": 57987606, "comment_id": 102383306, "body": "@Vinz243, just added it to my question."}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 3, "creation_date": 1568793607, "post_id": 57987606, "comment_id": 102383372, "body": "There you have your answer. The tsc inside Microsoft SDKs is taking precedence over npm&#39;s. You could remove the parent folder from your PATH variable"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568793938, "post_id": 57987606, "comment_id": 102383546, "body": "@Vinz243, you mean the environment variables in Windows 10?"}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568794268, "post_id": 57987606, "comment_id": 102383721, "body": "exactly. It&#39;s either in your user variable or system variable"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568795162, "post_id": 57987606, "comment_id": 102384172, "body": "@Vinz243, I found the old typescript version path in System Environment variable PATH, but when I removed the entry `C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.0` I still get version as 1.0.3.0 when I rub tsc --version. Probably, I need to uninstall that old version of typescript?"}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568796441, "post_id": 57987606, "comment_id": 102384903, "body": "Did you restart you PC?"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568797255, "post_id": 57987606, "comment_id": 102385366, "body": "No, I ran the command in same command window."}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568797829, "post_id": 57987606, "comment_id": 102385709, "body": "That&#39;s normal then the path doesn&#39;t update for existing proesses and command prompt"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568799724, "post_id": 57987606, "comment_id": 102386869, "body": "I uninstalled  <code>TypeScript Tools for Visual Studio 2015</code>  that was there when I went to Control Panel &gt; Programs and Features.  Then, I opened a new command prompt and it gave 3.6.3 as tsc  version. I didn&#39;t restart my PC."}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1568806513, "post_id": 57987606, "comment_id": 102390678, "body": "Yes because now the file is not found even though the folder is in the path for the active shell"}], "answers": [{"comments": [{"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "edited": false, "score": 0, "creation_date": 1568797368, "post_id": 57988485, "comment_id": 102385422, "body": "Ok. I&#39;ll try and let you know. I have TypeScript Tools for Visual Studio 2015 installed when I go to Control Panel &gt; Programs and Features.  Perhaps uninstalling that might work."}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "edited": false, "score": 1, "creation_date": 1568799797, "post_id": 57988485, "comment_id": 102386911, "body": "Uninstalling TypeScript Tools for Visual Studio 2015 did the trick. Did&#39;t need to restart my PC. Just closed previous command window and opened a new one. The version given by tsc --version command is now 3.6.3."}], "tags": [], "owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "is_accepted": true, "score": 1, "last_activity_date": 1568795897, "creation_date": 1568795897, "answer_id": 57988485, "question_id": 57987606, "link": "https://stackoverflow.com/questions/57987606/why-is-typescript-version-not-same-as-globally-installed-version-on-windows-10/57988485#57988485", "title": "Why is typescript version not same as globally installed version on Windows 10?", "body": "<p>Running <code>where tsc</code> in command line gives you ordered list of global paths where <code>tsc.exe</code> was found. </p>\n\n<p>In your case, you need to uninstall old version of TypeScript from:</p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft SDKs\\Typescript\\1.0\\</code></p>\n\n<p>or, to remove this specific path from your environment variables <code>Path</code> variable.</p>\n\n<p>However, more common use case is that your project (in this case <code>angular-hello-world</code>) build script <strong>uses locally installed TypeScript version</strong>, usually listed in <code>devDependencies</code> of your <code>package.json</code> and located in <code>node_modules</code> folder.</p>\n\n<p>For example</p>\n\n<pre><code>{\n    // ...\n    \"devDependencies\": {\n        \"typescript\": \"^3.6.3\",\n        // ...\n    }\n}\n</code></pre>\n\n<p>To use project's <strong>local version of TypeScript</strong> you can use NodeJS command <code>npx</code>:</p>\n\n<p><code>npx tsc --version</code></p>\n\n<p>This will run local version of TypeScript and display it's version number.</p>\n"}], "owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 57988485, "answer_count": 1, "score": 1, "last_activity_date": 1568795897, "creation_date": 1568792905, "last_edit_date": 1568793425, "question_id": 57987606, "link": "https://stackoverflow.com/questions/57987606/why-is-typescript-version-not-same-as-globally-installed-version-on-windows-10", "title": "Why is typescript version not same as globally installed version on Windows 10?", "body": "<p>I have installed Typescript globally using command line on my Windows 10 64-bit laptop. It says <code>typescript@3.6.3</code> after installing Typescript, yet when I run the command <code>tsc --version</code> it says version 1.0.3.0. These commands that I ran are as in screenshot below.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Why is Typescript version not saying 3.6.3 when I run the command <code>tsc --version</code>?</p>\n\n<p>When I run <code>where tsc</code> I get the following output.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5od4W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5od4W.png\" alt=\"Typescript where output\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/hx7If.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hx7If.png\" alt=\"Typescript version mismatch\"></a></p>\n"}, {"tags": ["javascript", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1568792782, "post_id": 57987457, "comment_id": 102382964, "body": "You need to write a question. what part of doing your task is a problem?"}, {"owner": {"reputation": 49, "user_id": 12081459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6749eb7274d58f1040b8c26ae464f93?s=128&d=identicon&r=PG&f=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/12081459/learner"}, "reply_to_user": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1568794201, "post_id": 57987457, "comment_id": 102383676, "body": "@Vato I have to implement the conditions In this case for example, after selecting the the first element A Speditions GmbH from drop down the child content of this elements &quot;label&quot;: &quot;Subfield1&quot;, and another drop down options should be appear on the form."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 12081459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6749eb7274d58f1040b8c26ae464f93?s=128&d=identicon&r=PG&f=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/12081459/learner"}, "edited": false, "score": 0, "creation_date": 1568800541, "post_id": 57987981, "comment_id": 102387310, "body": "Thanks @Vato, I have updated the code please look on it."}], "tags": [], "owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "is_accepted": false, "score": 1, "last_activity_date": 1568794188, "creation_date": 1568794188, "answer_id": 57987981, "question_id": 57987457, "link": "https://stackoverflow.com/questions/57987457/angular-dynamic-form-view-from-json-data-with-nested-condition/57987981#57987981", "title": "Angular dynamic form view from JSON data with nested condition", "body": "<p>Since you don't have much in your code. You need to do more work. I will just give you recommendations on what to do. </p>\n\n<p>check reactive forms or template driven forms. I recommend reactive forms.</p>\n\n<p>than actually you can transfer your form to reactive forms.</p>\n\n<pre><code>form_template = [{\n    \"type\": \"select\",\n    \"label\": \"Spedition\",\n    \"options\": [\n      {\n        \"value\": \"sped1\",\n        \"label\": \"Adrian Speditions GmbH\",\n        \"subfield\": {\n          \"type\": \"select\",\n          \"label\": \"Subfield1\",\n          \"options\": [\n            {\n              \"value\": \"subfieldvalue1\",\n              \"label\": \"101\"\n            },\n          ]\n        }\n      },\n      {\n        \"value\": \"sped2\",\n        \"label\": \"Alfred Schuon GmbH\"\n      }\n    ]\n  }]\n</code></pre>\n\n<p>reactive form would look something like:</p>\n\n<pre><code>reactiveForm: FormGroup;\n\nthis.reactiveForm = new FormGroup({\n  type: new FormControl('select'),\n  label: new FormControl('Spedition'),\n  options: new FormArray([\n    new FormGroup({\n      value: new FormControl('sped1'),\n      label: new FormControl('Adrian Speditions GmbH'),\n      subfield: new FormGroup({\n        type: new FormControl('select'),\n        label: new FormControl('Subfield1'),\n        options: new FormArray([\n          new FormGroup({\n            value: new FormControl('subfieldvalue1'),\n            label: new FormControl('101')\n          })\n        ])\n      })\n    })\n  ])\n});\n</code></pre>\n\n<p>you access and change values in TS like this.</p>\n\n<pre><code>this.reactiveForm.get('options').at(indexOfArray).get('value').setValue('Your New Value');\n</code></pre>\n\n<p>since you want to a use select. here is example from angular material webpage using reactive forms.\nCheck: <a href=\"https://material.angular.io/components/select/examples\" rel=\"nofollow noreferrer\">https://material.angular.io/components/select/examples</a>\nalso here is my dynamic forms qustion it also might help. </p>\n\n<pre><code>&lt;h4&gt;mat select&lt;/h4&gt;\n&lt;mat-form-field&gt;\n  &lt;mat-label&gt;Favorite animal&lt;/mat-label&gt;\n  &lt;mat-select [formControl]=\"animalControl\" required&gt;\n    &lt;mat-option&gt;--&lt;/mat-option&gt;\n    &lt;mat-option *ngFor=\"let animal of animals\" [value]=\"animal\"&gt;\n      {{animal.name}}\n    &lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n  &lt;mat-error *ngIf=\"animalControl.hasError('required')\"&gt;Please choose an animal&lt;/mat-error&gt;\n  &lt;mat-hint&gt;{{animalControl.value?.sound}}&lt;/mat-hint&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>to bind select to form you need to specify which formArray, formgroup and formControl you are binding in html. </p>\n\n<p>In this case formControl is animalControl. but for you it will probably by labe or type. but you also need to specify which formGroup or FormArray they are in.</p>\n\n<p>after setting all forms up. you can us *ngIf to check if formvalue is empty. If not you can show you next select. this Is all I can help. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/55574410/nested-custom-formarray-component-doesnt-bind-with-child-form-with-formarraynam\">nested custom FormArray component doesn&#39;t bind with child form with FormArrayName</a></p>\n\n<p>you can also use formbuilder and add validators. you just need to do more reasearch on reactive forms for now.</p>\n\n<p>Good luck!  </p>\n"}], "owner": {"reputation": 49, "user_id": 12081459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6749eb7274d58f1040b8c26ae464f93?s=128&d=identicon&r=PG&f=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/12081459/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568800498, "creation_date": 1568792341, "last_edit_date": 1568800498, "question_id": 57987457, "link": "https://stackoverflow.com/questions/57987457/angular-dynamic-form-view-from-json-data-with-nested-condition", "title": "Angular dynamic form view from JSON data with nested condition", "body": "<p>I am trying to make dynamic forms with Json data and the conditions should be selected from the options type selection from the JSON data. The JSON data structure are as follow. In this case for example, after selecting the the first element A Speditions GmbH from drop down the child content of this elements \"label\": \"Subfield1\", and another drop down options should be appear on the form.</p>\n\n<p>My Typescript (Updated)</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core'; \nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport {Observable} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent implements OnInit {\n    form:FormGroup;\n    formTemplate:any = form_template;\n    stepCfg = {\n      stepType: 'rahmendaten',\n      stepHeading: '',\n      stepIndex: 0,\n      steps: [],\n      firstStep: false,\n      lastStep: false,\n      onlyStep: false,\n      data: {},\n      htmlContent: ''\n    };\n    formDataObj = {};\n\n\n  ngOnInit() {\n    for (const prop of Object.keys(this.stepCfg.data)) {\n      this.formDataObj[prop] = new FormControl(this.stepCfg.data[prop].value);\n      this.formTemplate.push({\n        key: prop,\n        label: this.stepCfg.data[prop].label,\n        type: this.stepCfg.data[prop].type,\n        options: this.stepCfg.data[prop].options\n      });\n    }\n   this.form = new FormGroup(this.formDataObj);\n  }\n}\n\n const form_template = [{\n \"type\": \"select\",\n \"label\": \"Spedition\",\n \"options\": [\n {\n     \"value\": \"sped1\",\n     \"label\": \"A Speditions GmbH\",\n     \"subfield\": {\n        \"type\": \"select\",\n        \"label\": \"Subfield1\",\n        \"options\": [\n          {\n            \"value\": \"subfieldvalue1\",\n            \"label\": \"101\"\n          },\n        ]\n        }\n     },\n   {\n      \"value\": \"sped2\",\n      \"label\": \"Alf Scon GmbH\"\n   },\n  {\n      \"value\": \"sped3\",\n      \"label\": \"Barthtest\"\n  },\n ]\n</code></pre>\n\n<p>}]</p>\n\n<pre><code>export default form_template\n</code></pre>\n\n<p>//HTml</p>\n\n<pre><code>&lt;mat-card class=\"rahmendaten-container\"&gt;\n  &lt;h3 class=\"page__header\"&gt;{{stepCfg.stepHeading}}&lt;/h3&gt;\n  &lt;div *ngIf=\"!!stepCfg.htmlContent\" [innerHTML]=\"stepCfg.htmlContent\"&gt; \n  &lt;/div&gt;\n  &lt;form [formGroup]=\"form\" autocomplete=\"off\" (ngSubmit)=\"onSubmit()\"&gt;\n    &lt;mat-card-content class=\"page\"&gt;\n      &lt;div class=\"page__container\"&gt;\n        &lt;div *ngFor=\"let prop of formTemplate\" class=\"container__row\"&gt;\n          &lt;div [ngSwitch]=\"prop.type\"&gt;\n            &lt;div *ngSwitchCase=\"'select'\"&gt;\n              &lt;span [innerHTML]=\"prop.label\" class=\"container__row__label\"&gt; \n              &lt;/span&gt;\n             &lt;mat-form-field&gt;\n                &lt;mat-select&gt;\n                  &lt;mat-option *ngFor=\"let option of prop.options\" \n                  [value]=\"option.value\"&gt;{{option.label}}&lt;/mat-option&gt;\n                  &lt;/mat-select&gt;\n             &lt;/mat-form-field&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/mat-card-content&gt;\n   &lt;/form&gt;\n  &lt;/mat-card&gt;\n</code></pre>\n"}]