[{"tags": ["javascript", "node.js", "mongodb", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 76, "user_id": 5378321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f98b8fb5033cc9344d0c38bcdf4b76?s=128&d=identicon&r=PG&f=1", "display_name": "nnfans", "link": "https://stackoverflow.com/users/5378321/nnfans"}, "edited": false, "score": 0, "creation_date": 1570662683, "post_id": 58313357, "comment_id": 102987601, "body": "Do you want to try to test the <code>myService.myFuncImpl</code> to execute the function passed to it as a second argument?"}, {"owner": {"reputation": 11, "user_id": 10914950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b1f29677e68bc0d28336e98861ce48?s=128&d=identicon&r=PG&f=1", "display_name": "Shravan C", "link": "https://stackoverflow.com/users/10914950/shravan-c"}, "reply_to_user": {"reputation": 76, "user_id": 5378321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f98b8fb5033cc9344d0c38bcdf4b76?s=128&d=identicon&r=PG&f=1", "display_name": "nnfans", "link": "https://stackoverflow.com/users/5378321/nnfans"}, "edited": false, "score": 0, "creation_date": 1570684190, "post_id": 58313357, "comment_id": 102991847, "body": "@nnfans - yes, as a callback function. I referred this - <a href=\"https://jestjs.io/docs/en/mock-functions\" rel=\"nofollow noreferrer\">jestjs.io/docs/en/mock-functions</a> which says you can mock and test as callback function."}, {"owner": {"reputation": 76, "user_id": 5378321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f98b8fb5033cc9344d0c38bcdf4b76?s=128&d=identicon&r=PG&f=1", "display_name": "nnfans", "link": "https://stackoverflow.com/users/5378321/nnfans"}, "edited": false, "score": 0, "creation_date": 1570687174, "post_id": 58313357, "comment_id": 102992702, "body": "have you try my answer below?"}, {"owner": {"reputation": 11, "user_id": 10914950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b1f29677e68bc0d28336e98861ce48?s=128&d=identicon&r=PG&f=1", "display_name": "Shravan C", "link": "https://stackoverflow.com/users/10914950/shravan-c"}, "reply_to_user": {"reputation": 76, "user_id": 5378321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f98b8fb5033cc9344d0c38bcdf4b76?s=128&d=identicon&r=PG&f=1", "display_name": "nnfans", "link": "https://stackoverflow.com/users/5378321/nnfans"}, "edited": false, "score": 0, "creation_date": 1577042795, "post_id": 58313357, "comment_id": 105077363, "body": "yes, its working. thank you."}, {"owner": {"reputation": 76, "user_id": 5378321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f98b8fb5033cc9344d0c38bcdf4b76?s=128&d=identicon&r=PG&f=1", "display_name": "nnfans", "link": "https://stackoverflow.com/users/5378321/nnfans"}, "edited": false, "score": 0, "creation_date": 1583717209, "post_id": 58313357, "comment_id": 107199694, "body": "please mark it as an answer"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 5378321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f98b8fb5033cc9344d0c38bcdf4b76?s=128&d=identicon&r=PG&f=1", "display_name": "nnfans", "link": "https://stackoverflow.com/users/5378321/nnfans"}, "is_accepted": false, "score": 0, "last_activity_date": 1570673244, "creation_date": 1570673244, "answer_id": 58314476, "question_id": 58313357, "link": "https://stackoverflow.com/questions/58313357/how-to-test-mongodb-find-findone-function-using-jest-in-nodejs/58314476#58314476", "title": "How to test Mongodb find,findOne function using Jest in NodeJS", "body": "<p>You must return promise in order to use await</p>\n\n<pre><code>test(\"for myFuncImpl()\", async () =&gt; {\n\n  let mongo_con_find = jest.fn(\n    () =&gt; ({\n      toArray: () =&gt; (new Promise(function(resolve, reject){\n        resolve([...DummyMongoResponse])\n      })\n\n  output_data = await myService.myFuncImpl(context_data,mongo_con_find)\n  expect(mongo_con_find).toHaveBeenCalledTimes(1); // giving me 0\n\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10914950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b1f29677e68bc0d28336e98861ce48?s=128&d=identicon&r=PG&f=1", "display_name": "Shravan C", "link": "https://stackoverflow.com/users/10914950/shravan-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570688103, "creation_date": 1570662126, "last_edit_date": 1570688103, "question_id": 58313357, "link": "https://stackoverflow.com/questions/58313357/how-to-test-mongodb-find-findone-function-using-jest-in-nodejs", "title": "How to test Mongodb find,findOne function using Jest in NodeJS", "body": "<p>I have been trying to write test cases for mongodb find,findOne,UpdateMany system library functions that I am using in my code. But couldnt able to find right way to test mongo functions.</p>\n\n<p>I have tried to mock implementaion and return values of find,findOne,UpdateMany mongo function using jest.fn() but either the test case is failing or I am stuck with \"TypeError: Cannot read property 's' of undefined\" mongoDB error. Need good help on right way to test find, findOne functions of mongoDB .</p>\n\n<p>I am passing mongo_con.find function to myFuncImpl() </p>\n\n<p>Connection/Config File:</p>\n\n<pre><code>\nlet mongo_conn = await MongoUtil.createMongoConnection(config.MONGO_COL_NAME);\n\nmyService.myFuncImpl(context,mongo_conn.find) // passing as a function\n\n</code></pre>\n\n<p>Implementation file:</p>\n\n<pre><code>myFuncImpl = async (mongo_con_find:any) {\n\n  let result = await mongo_con_find({ }, { projection: {_id: 0, Name: 1 }}).toArray();\n\n  return result;\n}\n</code></pre>\n\n<p>In my jest Test file:</p>\n\n<pre><code>test(\"for myFuncImpl()\", async () =&gt; {\n\n let mongo_con_find = jest.fn(() =&gt; ({ toArray: _ =&gt;[...DummyMongoResponse]}));\n\n output_data = await myService.myFuncImpl(context_data,mongo_con_find)\n expect(mongo_con_find).toHaveBeenCalledTimes(1); // giving me 0\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1569, "user_id": 6235175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhV4F.jpg?s=128&g=1", "display_name": "blazehub", "link": "https://stackoverflow.com/users/6235175/blazehub"}, "edited": false, "score": 0, "creation_date": 1570667404, "post_id": 58313345, "comment_id": 102988486, "body": "This is how declaration should made be. <code>this.countryOptions$ = Observable&lt;any[]&gt; </code> If its is being used in template pipe it as<code>countryOptions$|async</code>"}], "answers": [{"tags": [], "owner": {"reputation": 245, "user_id": 5692425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQFRa.jpg?s=128&g=1", "display_name": "Gagan", "link": "https://stackoverflow.com/users/5692425/gagan"}, "is_accepted": true, "score": 5, "last_activity_date": 1570667065, "creation_date": 1570667065, "answer_id": 58313851, "question_id": 58313345, "link": "https://stackoverflow.com/questions/58313345/how-can-i-assign-a-empty-array-to-a-observable-in-angular/58313851#58313851", "title": "How can i assign a empty Array to a Observable in Angular", "body": "<p>If all you want is to get an empty array from your Observable, then the following should do</p>\n\n<pre><code>import { of } from 'rxjs';\n...\nthis.countryOptions$ = of([]);\n</code></pre>\n\n<p>Explanation</p>\n\n<p>In your question you are trying to do the following\n<em>this.countryOptions$ = []</em>\nwhich is incorrect because you are trying to assign an array to type Observable which are not compatible.\nThe Rxjs <strong>of</strong> operator creates an Observable from any provided array.\nRead more about the <strong>of</strong> operator here..\n<a href=\"https://www.learnrxjs.io/operators/creation/of.html\" rel=\"noreferrer\">https://www.learnrxjs.io/operators/creation/of.html</a></p>\n"}], "owner": {"reputation": 1187, "user_id": 9860237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5feb3e3a87d8b7a8e6728126f6c601de?s=128&d=identicon&r=PG&f=1", "display_name": "MisterniceGuy", "link": "https://stackoverflow.com/users/9860237/misterniceguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 58313851, "answer_count": 1, "score": -1, "last_activity_date": 1570667065, "creation_date": 1570662049, "question_id": 58313345, "link": "https://stackoverflow.com/questions/58313345/how-can-i-assign-a-empty-array-to-a-observable-in-angular", "title": "How can i assign a empty Array to a Observable in Angular", "body": "<p>I have dropdown Boxes in my forms which use via a custom component and i populate them with data by pasing the lookup value via a GUID to the component. All works as expected and i get my data etc. But now i need to be able to also clear the data in dropdown based on user selection.\nLets say user selects in first dropdown fruits, based on that i want to provide in the selection all fruits which i have no problem doing. But now user goes back and changes its selection from fruits to soda, which means the previous selected apple is no longer valid and needs to be cleared. So i am looking for a simple way to clear all values from a dropdown box.</p>\n\n<p>to get my data into dropdown i call</p>\n\n<pre><code>socialOptions$: Observable&lt;Array&lt;IServerDropdownOption&gt;&gt;;\nngOnInit() { \n    this.socialOptions$ = this.guidService.fetchAll(this.guids.SOCIAL_LABELS).pipe(shareReplay());\n  }\n</code></pre>\n\n<p>when i try <strong>this.countryOptions$ = []</strong> i get this error\n<a href=\"https://i.stack.imgur.com/4j1mK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4j1mK.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 276, "user_id": 471251, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d44c9baea0ee4f8e836ad47dadd137e9?s=128&d=identicon&r=PG", "display_name": "Zachafer", "link": "https://stackoverflow.com/users/471251/zachafer"}, "edited": false, "score": 0, "creation_date": 1570659730, "post_id": 58313029, "comment_id": 102986986, "body": "Try .any instead of .find"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1570659924, "post_id": 58313029, "comment_id": 102987023, "body": "Hi, I expanded your code (functionally identical) so it was easier to read. Hope that&#39;s ok"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1570659924, "post_id": 58313029, "comment_id": 102987024, "body": "There is no such error: <a href=\"https://www.typescriptlang.org/play/#code/CYUwxgNghgTiAEA3W8IEsB2BrAzgLnhwBcZMBzAbQF0AaeAVxggEEYYDjSNLb4YB7ekRAcS5AFDiw-DMXgAHWCAxEAksIC28ALypMuAHQAzTMAAU6bDoB8DJqxjHTZxhADq-GMBt33n79qBfILCBjjy6ERmAOQGAPTRAJQUAIxUiYkA3EA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 2070, "user_id": 3412674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d828b5882e2d091c90cc5fe840c5aa2b?s=128&d=identicon&r=PG", "display_name": "JLF", "link": "https://stackoverflow.com/users/3412674/jlf"}, "edited": false, "score": 1, "creation_date": 1570659979, "post_id": 58313029, "comment_id": 102987037, "body": "You should ensure <code>parentItem</code> is receives a string: <code>const parentItem: string = ...</code>. It may be worth actually adding expected types throughout your code as you&#39;ll get a more helpful error much closer to the actual issue. It&#39;s hard to tell what&#39;s going on here because none of us know what actual types have been laid out in the system. Typescript is about making less assumptions. You&#39;re asking us to make a bunch of assumptions here."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1570660086, "post_id": 58313029, "comment_id": 102987063, "body": "^That won&#39;t do anything. @sttaq Do you have more code to show? What is <code>this.links</code>?"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "reply_to_user": {"reputation": 2070, "user_id": 3412674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d828b5882e2d091c90cc5fe840c5aa2b?s=128&d=identicon&r=PG", "display_name": "JLF", "link": "https://stackoverflow.com/users/3412674/jlf"}, "edited": false, "score": 1, "creation_date": 1570660230, "post_id": 58313029, "comment_id": 102987092, "body": "@JLF, seems like in his definition of <code>find</code> the <code>predicate</code> should return <code>boolean</code> instead of <code>unknown</code>."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 1, "creation_date": 1570660455, "post_id": 58313029, "comment_id": 102987149, "body": "@Qwertiy that&#39;s gotta be it. <code>Array.prototype.find()</code> for a string array returns a string (or undefined). The <code>find</code> predicate must return a boolean so using the nested <code>urlArr.find()</code> as the return value for the <code>links.find</code> predicate is invalid"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1570660945, "post_id": 58313029, "comment_id": 102987261, "body": "<code>find()</code> expects a function that returns a <code>boolean</code> and itself returns a <code>string</code>. Thus the inner <code>find()</code> returns a <code>string</code>, and therefore the function passed to the outer <code>find()</code> returns a string, and not a <code>boolean</code> as expected. The Chrome console will regard the string as truthy, TypeScript however will complain."}, {"owner": {"reputation": 1593, "user_id": 1140783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb005502f1f0c6bc40641a952d1db112?s=128&d=identicon&r=PG", "display_name": "sttaq", "link": "https://stackoverflow.com/users/1140783/sttaq"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1570663482, "post_id": 58313029, "comment_id": 102987756, "body": "@mwilson <code>this.links</code> is an array of objects and when run in chrome the <code>parentItem</code> is set to one of those object."}, {"owner": {"reputation": 1593, "user_id": 1140783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb005502f1f0c6bc40641a952d1db112?s=128&d=identicon&r=PG", "display_name": "sttaq", "link": "https://stackoverflow.com/users/1140783/sttaq"}, "reply_to_user": {"reputation": 2070, "user_id": 3412674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d828b5882e2d091c90cc5fe840c5aa2b?s=128&d=identicon&r=PG", "display_name": "JLF", "link": "https://stackoverflow.com/users/3412674/jlf"}, "edited": false, "score": 0, "creation_date": 1570663555, "post_id": 58313029, "comment_id": 102987769, "body": "@JLF, the code comments have all the types mentioned. Is there something else you need to know about the types?"}, {"owner": {"reputation": 1593, "user_id": 1140783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb005502f1f0c6bc40641a952d1db112?s=128&d=identicon&r=PG", "display_name": "sttaq", "link": "https://stackoverflow.com/users/1140783/sttaq"}, "edited": false, "score": 0, "creation_date": 1570664511, "post_id": 58313029, "comment_id": 102987947, "body": "Thanks everyone. The inner find returns a string which is returned as a result for outer find. I needed to ensure that the string returned by inner find as considered as truthy as chrome does it."}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1570664926, "post_id": 58313029, "comment_id": 102988020, "body": "@ChrisG, check actual typing. There is no <code>boolean</code> in <code>find</code>s <code>predicate</code>."}], "answers": [{"tags": [], "owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "is_accepted": false, "score": 2, "last_activity_date": 1570665982, "last_edit_date": 1570665982, "creation_date": 1570660128, "answer_id": 58313086, "question_id": 58313029, "link": "https://stackoverflow.com/questions/58313029/typescript-type-string-is-not-assignable-to-type-boolean/58313086#58313086", "title": "Typescript - Type &#39;string&#39; is not assignable to type &#39;boolean&#39;", "body": "<p>Just update your typescript and/or typings. There is <a href=\"https://www.typescriptlang.org/play/#code/CYUwxgNghgTiAEA3W8IEsB2BrAzgLngG94YB7AVwBcQCdKZMBzeAXwG0BdAKFElgWQx45GBACCMGLXpNOXLmFIY68AA78MlAJLUAtvAC8qTLgB0AM0zAAFOmyGAfMNESYFq9ZEQA6qRjBHZx8-AIMw42xTMioQUxxVdEprAHJTAHpkgEo2AEYOTMyAbiA\" rel=\"nofollow noreferrer\">no any error</a> in your code</p>\n\n<pre><code>declare var links: { route: string }[]\ndeclare var urlArr: string[]\n\nconst parentItem = links.find(link =&gt; urlArr.find(urlWord =&gt; urlWord === link.route.split('./')[1]));\n</code></pre>\n\n<p>as in current version of typescript defines <code>find</code> method as</p>\n\n<pre><code>(method) Array&lt;string&gt;.find(predicate: (value: string, index: number, obj: string[]) =&gt; unknown, thisArg?: any): string | undefined (+1 overload)\n</code></pre>\n\n<p>note <code>unknown</code> instead of <code>boolean</code> - you may return anything you want.</p>\n\n<p>But as you actually don't need result of inner <code>find</code> (unless you can find an empty string), you can use <code>some</code> instead of it.</p>\n"}, {"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 2, "creation_date": 1570665690, "post_id": 58313683, "comment_id": 102988160, "body": "You should check out <code>Array.prototype.some()</code> as indicated in <a href=\"https://stackoverflow.com/a/58313086/283366\">Qwertiy&#39;s answer</a>"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1570665786, "post_id": 58313683, "comment_id": 102988182, "body": "Which version of typescript are you using?"}, {"owner": {"reputation": 1593, "user_id": 1140783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb005502f1f0c6bc40641a952d1db112?s=128&d=identicon&r=PG", "display_name": "sttaq", "link": "https://stackoverflow.com/users/1140783/sttaq"}, "edited": false, "score": 0, "creation_date": 1570666843, "post_id": 58313683, "comment_id": 102988383, "body": "&quot;typescript&quot;: &quot;~3.2.2&quot;,"}], "tags": [], "owner": {"reputation": 1593, "user_id": 1140783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb005502f1f0c6bc40641a952d1db112?s=128&d=identicon&r=PG", "display_name": "sttaq", "link": "https://stackoverflow.com/users/1140783/sttaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1570665574, "creation_date": 1570665574, "answer_id": 58313683, "question_id": 58313029, "link": "https://stackoverflow.com/questions/58313029/typescript-type-string-is-not-assignable-to-type-boolean/58313683#58313683", "title": "Typescript - Type &#39;string&#39; is not assignable to type &#39;boolean&#39;", "body": "<p>As noted in the comments, I need to return a boolean in the find function. So doing the following ensure that the result of inner find is converted to a boolean.</p>\n\n<pre><code>const parentItem= this.links.find((link) =&gt; {\n  // convert to boolean\n  return !!(urlArr.find((urlWord) =&gt; {\n    return urlWord === link.route.split('./')[1]\n  }));\n});\n</code></pre>\n\n<p>The code above now returns a matched link object or undefined.</p>\n"}], "owner": {"reputation": 1593, "user_id": 1140783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb005502f1f0c6bc40641a952d1db112?s=128&d=identicon&r=PG", "display_name": "sttaq", "link": "https://stackoverflow.com/users/1140783/sttaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10813, "favorite_count": 0, "accepted_answer_id": 58313683, "answer_count": 2, "score": 0, "last_activity_date": 1570665982, "creation_date": 1570659586, "last_edit_date": 1570659893, "question_id": 58313029, "link": "https://stackoverflow.com/questions/58313029/typescript-type-string-is-not-assignable-to-type-boolean", "title": "Typescript - Type &#39;string&#39; is not assignable to type &#39;boolean&#39;", "body": "<p>I have following typescript code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const parentItem= this.links.find((link) =&gt; {\n  return urlArr.find((urlWord) =&gt; {\n    return !!(urlWord === link.route.split('./')[1])\n  })\n});\n\n// link.route.split('./')[1] is a string\n// urlWord is also a string\n// urlArr is array of strings\n// links is an array of objects\n</code></pre>\n\n<p>and typescript keeps on complaining:</p>\n\n<blockquote>\n  <p>.component.ts(11,59): error TS2322: Type 'string' is not assignable to type 'boolean'.</p>\n</blockquote>\n\n<p>The code works fine in chrome console.</p>\n\n<p>This may look like similar to this <a href=\"https://stackoverflow.com/questions/45246638/angular-type-string-is-not-assignable-to-type-boolean\">question</a> but even after reading it I couldn't figure out where the problem is.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "mongoose"], "owner": {"reputation": 4728, "user_id": 859485, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d3cd133adfeccd7bec7863c294a879ae?s=128&d=identicon&r=PG", "display_name": "Andre M", "link": "https://stackoverflow.com/users/859485/andre-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570658722, "creation_date": 1570658722, "question_id": 58312898, "link": "https://stackoverflow.com/questions/58312898/mongoose-getting-timestamps-of-populated-documents", "title": "Mongoose &amp; getting timestamps of populated documents", "body": "<p>I have the following code:</p>\n\n<pre><code>const queryOptions = {\n  populate: { path: 'createdBy', select: 'username updatedAt createdAt timestamps' },\n  limit: options.limit,\n  skip: (options.page - 1) * options.limit,\n  sort: undefined as any\n};\n\nconst query = {};\n\nawait Comment.find(query, null, queryOptions)\n</code></pre>\n\n<p>The issue is that I need the timestamp of when the user was last modified as part of this query, but there are no <code>createdAt</code> or <code>updatedAt</code> fields being returned.</p>\n\n<p>Can anyone suggest how to get the updatedAt field value as part of populating field?</p>\n"}, {"tags": ["angular", "typescript", "file-upload", "primeng"], "comments": [{"owner": {"reputation": 583, "user_id": 8712609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gvPRC.png?s=128&g=1", "display_name": "riorudo", "link": "https://stackoverflow.com/users/8712609/riorudo"}, "edited": false, "score": 0, "creation_date": 1570659727, "post_id": 58312827, "comment_id": 102986984, "body": "Does the file get to the backend? You can try (uploadHandler)=&quot;onUpload($event)&quot; to handle the upload by yourself. <a href=\"https://stackoverflow.com/a/52292827/8712609\">maybe this can help</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1336, "user_id": 2427715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JPibT.jpg?s=128&g=1", "display_name": "Rajan", "link": "https://stackoverflow.com/users/2427715/rajan"}, "edited": false, "score": 0, "creation_date": 1590035303, "post_id": 61925563, "comment_id": 109529917, "body": "When possible, please make an effort to provide additional explanation instead of just code. Such answers tend to be more useful as they help members of the community and especially new developers better understand the reasoning of the solution, and can help prevent the need to address follow-up questions."}], "tags": [], "owner": {"reputation": 1, "user_id": 9377995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "gdoura mohamed", "link": "https://stackoverflow.com/users/9377995/gdoura-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1590102942, "last_edit_date": 1590102942, "creation_date": 1590023754, "answer_id": 61925563, "question_id": 58312827, "link": "https://stackoverflow.com/questions/58312827/the-method-onupload-is-not-running-in-p-fileupload-of-primeng/61925563#61925563", "title": "The method onUpload is not running in p-fileUpload of Primeng", "body": "<p>i was facing the same problem with 'onUpload' method (did not work for me) ,  You can use <code>uploadHandler</code> and <code>customUpload=\"true\"</code> instead , it worked like a charm !</p>\n\n<pre><code>Here is some sample code:\n\n```\nin my HTML file :\n&lt;p-fileUpload #fileInput\n  name=\"files\" \n  (uploadHandler)=\"onUpload($event)\"\n  customUpload=\"true\"\n&gt;&lt;/p-fileUpload&gt;\n```\nin my TS file:\n  onUpload(event) {\n    console.log('onUpload', event); \n  }\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 12191605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBBEVGHAdOUA2W2UVKiRzPAOpswpRjEgPf1Br39Rg=k-s128", "display_name": "Renzo Llagas", "link": "https://stackoverflow.com/users/12191605/renzo-llagas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1590102942, "creation_date": 1570658202, "last_edit_date": 1570687660, "question_id": 58312827, "link": "https://stackoverflow.com/questions/58312827/the-method-onupload-is-not-running-in-p-fileupload-of-primeng", "title": "The method onUpload is not running in p-fileUpload of Primeng", "body": "<p>I am declaring a FileUpload in my html as follows</p>\n\n<pre><code>&lt;p-fileUpload  name=\"file\"  url=\"http://localhost:8080/integra/services/upload\" (onUpload)=\"onUpload($event)\"  accept=\".txt\"&gt;&lt;/p-fileUpload&gt;\n</code></pre>\n\n<p>which is pointing to my backend</p>\n\n<pre><code>    @PostMapping(value=\"/upload\", produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity uploadFile(@RequestParam(\"file\") MultipartFile file) throws IOException {\n        File convertFile = new File(\"C:\\\\upload\\\\\"+file.getOriginalFilename());\n        convertFile.createNewFile();\n        FileOutputStream fout = new FileOutputStream(convertFile);\n        fout.write(file.getBytes());\n        fout.close();\n        return new ResponseEntity(\"OK\", HttpStatus.OK);\n    }\n</code></pre>\n\n<p>But when executing my onload event in my typescript, it doesn't work ... and even a console.log is placed to test but it doesn't work.\nthis is my typescript</p>\n\n<pre><code>  onUpload(event) {\n    console.log(event.files.length);\n    console.log(event.progress);\n  }\n</code></pre>\n\n<p>When I run the fileupload the loading bar is stuck and does not allow me to perform another file upload. Therefore, when the loading bar is never completed, the mentioned event is not executed\n<a href=\"https://i.stack.imgur.com/kpqQ2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Finally, the file is saved in the mentioned path but I cannot handle the event correctly</p>\n\n<p>I would be grateful that someone could help me.\nThank you</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jsdoc"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1570656638, "post_id": 58312577, "comment_id": 102986149, "body": "Just use undefined instead of null: <code>const [optional, setOptional] = useState()</code>"}, {"owner": {"reputation": 6102, "user_id": 692224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd63171b7e68d4c4080a5768452b7e37?s=128&d=identicon&r=PG", "display_name": "schpet", "link": "https://stackoverflow.com/users/692224/schpet"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1570656813, "post_id": 58312577, "comment_id": 102986207, "body": "i still want this limited to {null|number} - useState with no args results in optional being <code>any</code>"}, {"owner": {"reputation": 6102, "user_id": 692224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd63171b7e68d4c4080a5768452b7e37?s=128&d=identicon&r=PG", "display_name": "schpet", "link": "https://stackoverflow.com/users/692224/schpet"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1570656918, "post_id": 58312577, "comment_id": 102986247, "body": "updated with more context about this"}, {"owner": {"reputation": 60, "user_id": 5470183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06d445146bb7790290557ab980047a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5470183/kyle"}, "edited": false, "score": 0, "creation_date": 1584684199, "post_id": 58312577, "comment_id": 107517292, "body": "It&#39;s not currently possible... there is an open issue for it: <a href=\"https://github.com/microsoft/TypeScript/issues/27387\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/27387</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6102, "user_id": 692224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd63171b7e68d4c4080a5768452b7e37?s=128&d=identicon&r=PG", "display_name": "schpet", "link": "https://stackoverflow.com/users/692224/schpet"}, "edited": false, "score": 1, "creation_date": 1570657794, "post_id": 58312650, "comment_id": 102986500, "body": "sorry I wrote the question poorly, I&#39;m looking to solve this in javascript, not typescript (I&#39;m using typescript&#39;s checkjs feature)"}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 3, "last_activity_date": 1570656967, "creation_date": 1570656967, "answer_id": 58312650, "question_id": 58312577, "link": "https://stackoverflow.com/questions/58312577/optional-react-usestate-types-with-jsdoc-typescript-checkjs-javascript/58312650#58312650", "title": "optional react useState types with jsdoc, typescript checkjs (javascript)", "body": "<p>Assuming that your component relies on the inital state of the <code>optional</code> state being the <code>null</code> value (rather than <code>undefined</code>), one solution would be to explicitly specify the state hooks type as a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union type</a> of both <code>number</code> and <code>null</code> like so:</p>\n\n<pre><code>// Allows initial value to be null, and number to be subsequently set \nconst [optional, setOptional] = useState&lt;number | null&gt;(null);\n\n// optional === null\n\nsetOptional(42);\n</code></pre>\n\n<p>Alternatively, if your component does not distingush between <code>undefined</code> or <code>null</code> for the inital <code>optional</code> state value, then the following would work:</p>\n\n<pre><code>const [optional, setOptional] = useState&lt;number&gt;();\n\n// optional === undefined\n\nsetOptional(42);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 9614801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWW47.png?s=128&g=1", "display_name": "yongming zhuang", "link": "https://stackoverflow.com/users/9614801/yongming-zhuang"}, "is_accepted": true, "score": 1, "last_activity_date": 1600672447, "creation_date": 1600672447, "answer_id": 63987718, "question_id": 58312577, "link": "https://stackoverflow.com/questions/58312577/optional-react-usestate-types-with-jsdoc-typescript-checkjs-javascript/63987718#63987718", "title": "optional react useState types with jsdoc, typescript checkjs (javascript)", "body": "<p>I think you can define an initial value with the correct union type and pass it to <code>useState</code>.</p>\n<p>It would be something like this:</p>\n<pre><code>/**\n* @type {number | null}\n*/\nconst initValue = 42;\nconst [optionalNumber, setOptionalNumber] = useState(initValue)\n</code></pre>\n"}], "owner": {"reputation": 6102, "user_id": 692224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd63171b7e68d4c4080a5768452b7e37?s=128&d=identicon&r=PG", "display_name": "schpet", "link": "https://stackoverflow.com/users/692224/schpet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1651, "favorite_count": 1, "accepted_answer_id": 63987718, "answer_count": 2, "score": 3, "last_activity_date": 1600672447, "creation_date": 1570656548, "last_edit_date": 1570658518, "question_id": 58312577, "link": "https://stackoverflow.com/questions/58312577/optional-react-usestate-types-with-jsdoc-typescript-checkjs-javascript", "title": "optional react useState types with jsdoc, typescript checkjs (javascript)", "body": "<p>using typescript's jsdoc support to type the following <strong>javascript</strong> code:</p>\n\n<pre><code>const [optionalNumber, setOptionalNumber] = useState(null)\n\nconst handleClick = () =&gt; {\n  setOptionalNumber(42) \n  //          ^-- Argument of type '42' is not assignable to parameter of type 'SetStateAction&lt;null&gt;'\n}\n</code></pre>\n\n<p>the way i currently get around this works but is a bit ugly:</p>\n\n<pre><code>const [optional, setOptional] = useState(\n  /** @type {number|null} */ (null)\n)\n</code></pre>\n\n<p>how can i accomplish this without using casting? i want <code>optional</code> to have a type of <code>null | number</code>, and <code>setOptional</code> to only accept <code>null | number</code> as an argument.</p>\n\n<p>codesandbox demonstrating this:<br>\n<a href=\"https://codesandbox.io/s/optimistic-villani-kbudi?fontsize=14\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/optimistic-villani-kbudi?fontsize=14</a></p>\n"}, {"tags": ["angular", "typescript", "ngrx", "ngrx-entity"], "answers": [{"tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": true, "score": 1, "last_activity_date": 1570689808, "creation_date": 1570689808, "answer_id": 58316942, "question_id": 58312442, "link": "https://stackoverflow.com/questions/58312442/ignoring-unnecessary-object-properties-brought-along-with-a-back-end-object/58316942#58316942", "title": "Ignoring unnecessary object properties brought along with a Back-End object", "body": "<p>You have to manually map the properties.</p>\n\n<pre><code>const frontEndModel = {\n  name: backendModel.name,\n  id: backendModel.id,\n  completed: backendModel.completed\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 1996977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463c92d4db955cd05b81e13e10a2f55b?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1996977/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58316942, "answer_count": 1, "score": -1, "last_activity_date": 1570689808, "creation_date": 1570655872, "last_edit_date": 1570686321, "question_id": 58312442, "link": "https://stackoverflow.com/questions/58312442/ignoring-unnecessary-object-properties-brought-along-with-a-back-end-object", "title": "Ignoring unnecessary object properties brought along with a Back-End object", "body": "<p>Have a question on ignoring unnecessary object properties brought along with a Back-End model.</p>\n\n<p>Can you plz provide your inputs ?</p>\n\n<p>Let us say that an API is returning below object</p>\n\n<pre><code>export class TodoObject{\n\npublic name: string;\n\npublic id: number,\n\npublic assignedTo:string,\n\npublic completed: boolean,\n\npublic dueDate:Date\n\n}\n</code></pre>\n\n<p>In Angular UI I do not require the below two fields</p>\n\n<pre><code>public assignedTo:string,\n\npublic dueDate:Date\n</code></pre>\n\n<p>so can i have an object in Angular UI as below ?</p>\n\n<pre><code>export class TodoObject{\n\npublic name: string;\n\npublic id: number\n\npublic completed: boolean\n\n}\n</code></pre>\n\n<p>Is it possible to do this in Angular. I know GraphQL has capability for this. Wanted to know if its is possible to achieve this.</p>\n\n<p>Is this possible using Ngrx or other alternative?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1570657121, "creation_date": 1570657121, "answer_id": 58312673, "question_id": 58312419, "link": "https://stackoverflow.com/questions/58312419/how-to-set-loading-progress-while-waiting-for-server-response-in-react-using-typ/58312673#58312673", "title": "How to set loading progress while waiting for server response in react using typesctip", "body": "<p>Here you have the state in <code>Header</code> but want to control it from <code>Form</code>. One component cannot change the state of its peer. </p>\n\n<h1>Fix</h1>\n\n<p>Move the state one level up, i.e. move it into <code>App</code>. And then you can change it from <code>Form</code> and read it in <code>Header</code> etc. </p>\n"}], "owner": {"reputation": 3, "user_id": 9437304, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UZhlj0rzaNs/AAAAAAAAAAI/AAAAAAAAAiU/ihFeQryFEr8/photo.jpg?sz=128", "display_name": "Mehran Mirshekaran", "link": "https://stackoverflow.com/users/9437304/mehran-mirshekaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 58312673, "answer_count": 1, "score": 0, "last_activity_date": 1570657121, "creation_date": 1570655765, "question_id": 58312419, "link": "https://stackoverflow.com/questions/58312419/how-to-set-loading-progress-while-waiting-for-server-response-in-react-using-typ", "title": "How to set loading progress while waiting for server response in react using typesctip", "body": "<p>I want to change the state of loading to false when the server responds but I don't know how to change the state when it happens. The response is in another component and the progress bar is in another one.\nA simple example is like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Form: React.FC = () =&gt; {\n   axios.get(someUrl).then(\n   // changing a state to set the progress bar off\n   ).catch(//catching error);\n   ...\n}\n\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Header: React.FC = () =&gt; {\n  const [loading, setLoading] = useState(true);\n  return (\n    &lt;MyProgressBar /&gt;\n    ...\n)}\n\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>const App: React.FC = () =&gt; {\n  return (\n    &lt;Header /&gt;\n    &lt;Form /&gt;\n    ...\n  );\n}\n</code></pre>\n\n<p>I didn't mention any of the types here</p>\n"}, {"tags": ["node.js", "typescript", "elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "is_accepted": true, "score": 0, "last_activity_date": 1570810725, "creation_date": 1570810725, "answer_id": 58345107, "question_id": 58312418, "link": "https://stackoverflow.com/questions/58312418/elasticsearch-return-type/58345107#58345107", "title": "Elasticsearch return type", "body": "<p>Eventually it didn't matter what Object it was, I just had to do the update differently:</p>\n\n<pre><code>async update(index: string, obj: any, id: string): Promise&lt;any&gt; {\n    try {\n        let req: RequestParams.Update&lt;any&gt; = {\n            body: {\n                \"doc\": obj\n            },\n            index: index,\n            id: id\n        };\n        var result = await this.client.update(req);\n        if (result.statusCode === 200 || result.statusCode === 201 || result.statusCode == 202 || result.statusCode == 204) {\n            return result.body;\n        } else {\n            console.log(\"Non succesfull call, result:\", result);\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error updating\", error);\n    }\n}\n</code></pre>\n\n<p>So all updates should come within <code>doc</code> and then everything is fine.</p>\n\n<p>Found in this guide: <a href=\"https://hub.packtpub.com/crud-create-read-update-delete-operations-elasticsearch/\" rel=\"nofollow noreferrer\">https://hub.packtpub.com/crud-create-read-update-delete-operations-elasticsearch/</a></p>\n"}], "owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 58345107, "answer_count": 1, "score": 3, "last_activity_date": 1570810725, "creation_date": 1570655762, "question_id": 58312418, "link": "https://stackoverflow.com/questions/58312418/elasticsearch-return-type", "title": "Elasticsearch return type", "body": "<p>I am trying to simply receive an inserted item, edit it and update it again. Unfortunately this doesn't go so smoothly.</p>\n\n<p>The code is not finalized yet and is just POC'ing around, do not use like this in production if you intent to copy it :).</p>\n\n<p>My create function which works fine:</p>\n\n<pre><code>async create(index: string, obj: any, id: string): Promise&lt;TModel&gt; {\n    let req: RequestParams.Create&lt;TModel&gt; = {\n        body: obj,\n        index: index,\n        id: id,\n    };\n    try {\n        var result = await this.client.create(req, {\n            ignore:[409]\n        });\n        if (result.statusCode === 201) {\n            return result.body;\n        } else {\n            console.log(\"Non succesfull call, result:\", result);\n            return null;\n        }\n    } catch (error) {\n        console.log(\"create error\", error);\n        return null;\n    }\n}\n</code></pre>\n\n<p>My update function which works about the same</p>\n\n<pre><code>async update(index: string, obj: any, id: string): Promise&lt;TModel&gt; {\n    try {\n        let req: RequestParams.Update&lt;TModel&gt; = {\n            body: obj,\n            index: index,\n            id: id\n        };\n        var result = await this.client.update(req);\n        if (result.statusCode === 200 || result.statusCode === 201 || result.statusCode == 202 || result.statusCode == 204) {\n            return result.body;\n        } else {\n            console.log(\"Non succesfull call, result:\", result);\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error updating\", error);\n    }\n}\n</code></pre>\n\n<p>The search function I started with:</p>\n\n<pre><code>async search(index: string, searchBody: any): Promise&lt;any&gt; {\n\n    try {\n        var result = await this.client.search({\n            index: index,\n            body: searchBody\n        });\n        if (result.statusCode === 200) {\n            return result.body.hits.hits;\n        } else {\n            console.log(\"Non succesfull call, result:\", result);\n            return null;\n        }\n    } catch (error) {\n        console.log(\"Error getting result\", error);\n        return null;\n    }\n}\n</code></pre>\n\n<p>When inserting and later searching for an object, you of course get an <code>any</code> return type. Knowing how the data is structured, somewhere I do the following just for quickly testing:</p>\n\n<p><code>return result.body.hits.hits[0]._source</code></p>\n\n<p>Which gives me this as result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/F9rPE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F9rPE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Although the JSON-format of the object seems to be correct, just like I have created, it throws an error at updating the data:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gx3al.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gx3al.png\" alt=\"error\"></a></p>\n\n<p>So I googled and try to apply this solution, provided by elastic themselves: </p>\n\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/typescript.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/typescript.html</a></p>\n\n<p>Search code:</p>\n\n<pre><code>async searchTyped(index: string, searchBody: any): Promise&lt;TModel&gt; {\n    try {\n        let req : RequestParams.Search&lt;TModel&gt; ={\n            index : index,\n             body : searchBody,\n        };\n        var result : ApiResponse&lt;SearchResponse&lt;TModel&gt;&gt; = await this.client.search(req);\n        if (result.statusCode === 200) {\n            if(result.body.hits.hits.length &gt; 0){\n                return result.body.hits.hits[0]._source;\n            }\n            return null;\n        } else {\n            console.log(\"Non succesfull call, result:\", result);\n            return null;\n        }\n    } catch (error) {\n        console.log(\"Error getting result\", error);\n        return null;\n    }\n}\n</code></pre>\n\n<p>According to intellisense, this should work, <code>_source</code> should be of type <code>TModel</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eJ27C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJ27C.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unfortunately, no luck:</p>\n\n<p><a href=\"https://i.stack.imgur.com/88STG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/88STG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Am I on the right path to make sure the data object's are correct before updating? </p>\n\n<p>We would like to stick to dynamic mapping and don't define the exact model that is needed. I would assume with this setup it doesn't really matter that an request body contains javascript <code>Object</code> or a typescript type?</p>\n"}, {"tags": ["html", "angular", "typescript", "syncfusion"], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "edited": false, "score": 0, "creation_date": 1571657557, "post_id": 58429092, "comment_id": 103301618, "body": "Your solution is valid, but it does not apply to what I have developed which is as it is in the link. Because I have several professionals who serve different days and different times, the way you did it applies only to one professional."}], "tags": [], "owner": {"reputation": 91, "user_id": 12148808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBPO-Q_5YxGo1og0dCCXI3-S735vfkTw27aq_O4=k-s128", "display_name": "vinitha m", "link": "https://stackoverflow.com/users/12148808/vinitha-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1571345848, "last_edit_date": 1571345848, "creation_date": 1571303937, "answer_id": 58429092, "question_id": 58312001, "link": "https://stackoverflow.com/questions/58312001/dynamic-view-of-the-syncfusion-schedule-angular-component/58429092#58429092", "title": "dynamic view of the syncfusion schedule angular component", "body": "<p>We have prepared the below sample to have different work hours per day using DataBinding event. </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fxqnrc-njutc8?file=app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-fxqnrc-njutc8?file=app.component.ts</a> </p>\n\n<p>Please refer below UG.</p>\n\n<p><a href=\"https://ej2.syncfusion.com/angular/documentation/api/schedule/#setworkhours\" rel=\"nofollow noreferrer\">https://ej2.syncfusion.com/angular/documentation/api/schedule/#setworkhours</a> </p>\n\n<pre><code>if (this.flag) {\n  if (\n    this.scheduleObj.currentView !== \"Month\" &amp;&amp;\n    this.scheduleObj.currentView !== \"Agenda\"\n  ) {\n    var currentViewDates = this.scheduleObj.getCurrentViewDates();\n    for (var i = 0; i &lt; currentViewDates.length; i++) {\n      switch ((currentViewDates[i] as any).getDay()) {\n        case 0:\n          this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"06:00\",\n            \"14:00\"\n          );\n          break;\n        case 1:\n          this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"08:00\",\n            \"14:00\"\n          );\n          break;\n        case 2:\n          this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"07:00\",\n            \"20:00\"\n          );\n          break;\n        case 3:\n        debugger;\n          this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"09:00\",\n            \"13:00\"\n          );\n          break;\n        case 4:\n        debugger\n           this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"06:00\",\n            \"14:00\"\n          );\n          break;\n        case 5:\n        debugger\n          this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"08:00\",\n            \"15:00\"\n          );\n          break;\n        case 6:\n          this.scheduleObj.setWorkHours(\n            [currentViewDates[i]],\n            \"07:00\",\n            \"19:00\"\n          );\n      }\n    }\n  }\n  this.flag = false;\n}\n</code></pre>\n"}], "owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571345848, "creation_date": 1570653722, "question_id": 58312001, "link": "https://stackoverflow.com/questions/58312001/dynamic-view-of-the-syncfusion-schedule-angular-component", "title": "dynamic view of the syncfusion schedule angular component", "body": "<p>In the parameterization of the Schedule to Angular component I would like to know if it is possible to somehow define the start time and end time for a day.</p>\n\n<p>I would like to define for each day what is the start time and the end time.</p>\n\n<p>As this <a href=\"https://ej2.syncfusion.com/angular/demos/?_ga=2.185276457.1675591703.1570470286-578596555.1563196694#/material/schedule/group-custom-work-days\" rel=\"nofollow noreferrer\">example</a> I realized that the start time and end time is for every day, I would like to set the start time and end time for each day.</p>\n\n<pre><code>  const resourceObject = {\n    text: p.nome, id: p.id,\n    color: '#848484', workDays: daysNumber, \n     startHour: '13:00', endHour: '18:00'\n  };\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 736, "user_id": 12048970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC153CV25pRN86-Nj3-chgHofTb2z_57QAPe5fA=k-s128", "display_name": "Manuel Panizzo", "link": "https://stackoverflow.com/users/12048970/manuel-panizzo"}, "edited": false, "score": 0, "creation_date": 1570653385, "post_id": 58311760, "comment_id": 102984941, "body": "what u want with this:  filter(Boolean)?"}, {"owner": {"reputation": 1121, "user_id": 7925521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSpBS.jpg?s=128&g=1", "display_name": "Ramana", "link": "https://stackoverflow.com/users/7925521/ramana"}, "reply_to_user": {"reputation": 736, "user_id": 12048970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC153CV25pRN86-Nj3-chgHofTb2z_57QAPe5fA=k-s128", "display_name": "Manuel Panizzo", "link": "https://stackoverflow.com/users/12048970/manuel-panizzo"}, "edited": false, "score": 0, "creation_date": 1570654744, "post_id": 58311760, "comment_id": 102985496, "body": "filter out null and undefined @ManuelPanizzo"}], "answers": [{"comments": [{"owner": {"reputation": 1121, "user_id": 7925521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSpBS.jpg?s=128&g=1", "display_name": "Ramana", "link": "https://stackoverflow.com/users/7925521/ramana"}, "edited": false, "score": 0, "creation_date": 1570653412, "post_id": 58311821, "comment_id": 102984955, "body": "I&#39;m curious, I&#39;m getting that error after I added that filter operator to the pipe. Any idea ??"}], "tags": [], "owner": {"reputation": 19244, "user_id": 1959948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/trFNS.jpg?s=128&g=1", "display_name": "Dalorzo", "link": "https://stackoverflow.com/users/1959948/dalorzo"}, "is_accepted": false, "score": 2, "last_activity_date": 1570652962, "creation_date": 1570652962, "answer_id": 58311821, "question_id": 58311760, "link": "https://stackoverflow.com/questions/58311760/type-unknown-is-not-assignable-to-type-string-when-using-filterboolean-op/58311821#58311821", "title": "Type &#39;unknown&#39; is not assignable to type &#39;string&#39;, when using filter(Boolean) operator", "body": "<p>I think the error is referring to your parameter of the function subscribe which does not have any type </p>\n\n<pre><code>.subscribe(siteName =&gt; this.siteName = siteName);\n</code></pre>\n\n<p>correct would be:</p>\n\n<pre><code>.subscribe(siteName:string =&gt; this.siteName = siteName);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1570653390, "creation_date": 1570653390, "answer_id": 58311929, "question_id": 58311760, "link": "https://stackoverflow.com/questions/58311760/type-unknown-is-not-assignable-to-type-string-when-using-filterboolean-op/58311929#58311929", "title": "Type &#39;unknown&#39; is not assignable to type &#39;string&#39;, when using filter(Boolean) operator", "body": "<p>The error occurs because TypeScript doesn't like you using the <code>Boolean</code> constructor as the predicate function passed into <code>filter</code>. It works if you switch over to an explicit predicate function, like this:</p>\n\n<pre><code>this.store.pipe(\n    select(getSiteName),\n    filter(x =&gt; Boolean(x)),\n    take(1)\n).subscribe(siteName =&gt; this.siteName = siteName);\n</code></pre>\n"}], "owner": {"reputation": 1121, "user_id": 7925521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSpBS.jpg?s=128&g=1", "display_name": "Ramana", "link": "https://stackoverflow.com/users/7925521/ramana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3489, "favorite_count": 0, "accepted_answer_id": 58311929, "answer_count": 2, "score": 4, "last_activity_date": 1570653390, "creation_date": 1570652622, "question_id": 58311760, "link": "https://stackoverflow.com/questions/58311760/type-unknown-is-not-assignable-to-type-string-when-using-filterboolean-op", "title": "Type &#39;unknown&#39; is not assignable to type &#39;string&#39;, when using filter(Boolean) operator", "body": "<p>.ts:</p>\n\n<pre><code>siteName: string;\n\n    this.store.pipe(\n          select(getSiteName),\n          filter(Boolean),\n          take(1)\n        ).subscribe(siteName =&gt; this.siteName = siteName);\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Type 'unknown' is not assignable to type 'string'\n</code></pre>\n\n<p>I'm getting the above error for <code>this.siteName</code>, after adding the <code>filter(Boolean)</code> operator to the pipe. Without the filter operator I didn't see any errors, am I missing something ??</p>\n"}, {"tags": ["typescript", "firebase", "firebase-realtime-database", "google-cloud-functions", "firebase-admin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1570652361, "post_id": 58311629, "comment_id": 102984550, "body": "Please post an issue on the firebase-tools GitHub with full steps that reproduce the problem, and be sure your CLI is fully up to date.  <a href=\"https://github.com/firebase/firebase-tools\" rel=\"nofollow noreferrer\">github.com/firebase/firebase-tools</a>"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1570652456, "post_id": 58311629, "comment_id": 102984580, "body": "Also consider why you&#39;re not passing any parameters to Promise.all.  It&#39;s a function that takes an array of promises, but you&#39;re not even calling it."}], "owner": {"reputation": 5422, "user_id": 4697535, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XBZLy.png?s=128&g=1", "display_name": "Tal Zion", "link": "https://stackoverflow.com/users/4697535/tal-zion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570652761, "creation_date": 1570652081, "last_edit_date": 1570652761, "question_id": 58311629, "link": "https://stackoverflow.com/questions/58311629/firebase-cloud-functions-app-invalid-credential-failed-to-fetch-a-valid-google", "title": "Firebase Cloud Functions: app/invalid-credential failed to fetch a valid Google OAuth2 access token Firebase Admin SDK", "body": "<p>I am new to Cloud Functions. I followed the docs, and the new initialization syntax for firebase-admin, but I am getting an auth error when running the function on the server and on a localhost. </p>\n\n<p><a href=\"https://firebase.google.com/docs/functions/beta-v1-diff#new_initialization_syntax_for_firebase-admin\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/beta-v1-diff#new_initialization_syntax_for_firebase-admin</a></p>\n\n<pre><code>@firebase/database: FIREBASE WARNING: {\"code\":\"app/invalid-credential\",\"message\":\"Credential implementation provided to initializeApp() via the \\\"credential\\\" property failed to fetch a valid Google OAuth2 access token with the following error: \\\"Error fetching access token: Error while making request: getaddrinfo ENOTFOUND metadata.google.internal. Error code: ENOTFOUND\\\".\"}\n</code></pre>\n\n<p>I tried instantiating the sdk with a <code>serviceAccountKey</code>, same issue. <a href=\"https://firebase.google.com/docs/admin/setup#initialize_the_sdk\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup#initialize_the_sdk</a></p>\n\n<p>The function is being triggered on localhost and on the server, and error is being thrown once the call to the database is being made at <code>gettingUser()</code> </p>\n\n<p>When running locally after building:</p>\n\n<pre><code>$ firebase experimental:functions:shell\nfirebase &gt; const data = {some_article...}\nfirebase &gt; addingNewArticle(data)\n'Successfully invoked function.'\nfirebase &gt; &gt;  New article created articleId1\n\nDEBUG: @firebase/database: FIREBASE WARNING: {\"code\":\"app/invalid-credential\",\"message\":\"Credential implementation provided to initializeApp() via the \\\"credential\\\" property failed to fetch a valid Google OAuth2 access token with the following error: \\\"Error fetching access token: Error while making request: getaddrinfo ENOTFOUND metadata.google.internal. Error code: ENOTFOUND\\\".\"}\n</code></pre>\n\n<p><code>/index.ts</code></p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\n\nadmin.initializeApp();\n\nexport const addingNewArticle = functions.database\n.ref('/articles/{articleId}')\n.onCreate(async (snapshot, context) =&gt; {\n  const burgerId = context.params.burgerId\n\n  const result = await gettingUser();\n  console.log(`From onCreate ${result}`);\n\n\n  console.log(`New article created ${articleId}`)\n\n  const burgersVal = snapshot.val()\n  const name = burgersVal.name\n  const addedById = burgersVal.addedById\n\n  console.log(`${name} was added by: ${addedById}`);\n  console.log(`burgersVal: ${burgersVal}`);\n  console.log(`snapshot: ${snapshot}`);\n\n\n  return Promise.all([])\n})\n\n\nexport async function gettingUser() {\n    const result = await admin.database().ref(`users/fnkjasdfadsfna.d`).once('value');\n    console.log(`Looging new user ${result.val()}`);\n    return result.val()\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1056, "user_id": 14198287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sQNUX.jpg?s=128&g=1", "display_name": "Harley Lang", "link": "https://stackoverflow.com/users/14198287/harley-lang"}, "edited": false, "score": 1, "creation_date": 1600807875, "post_id": 58311443, "comment_id": 113203881, "body": "For me I noticed that if I do not declare <code>const getItemList</code> as a function as described in this answer, that the <code>JSX.Element</code> warning persists even if I define the function output as <code>JSX.Element[]</code>"}], "tags": [], "owner": {"reputation": 10578, "user_id": 4791116, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/w9Q0W.jpg?s=128&g=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/4791116/roman"}, "is_accepted": false, "score": 20, "last_activity_date": 1570651133, "creation_date": 1570651133, "answer_id": 58311443, "question_id": 58311442, "link": "https://stackoverflow.com/questions/58311442/type-element-is-missing-the-following-properties-from-type-element-type/58311443#58311443", "title": "Type &#39;Element[]&#39; is missing the following properties from type &#39;Element&#39;: type, props, key", "body": "<p>To fix the error, it is necessary to change type of the function output from <code>JSX.Element</code> to <code>JSX.Element[]</code> like this:</p>\n\n<pre><code> const getItemList: Function = (groups: any[]): JSX.Element[] =&gt; \n  group.map((item: any, i: number) =&gt; {\n    const itemCardElemProps = { handleEvents: () =&gt; {}, ...item}\n    return &lt;Item key={`${item.id}_${i}`} {...itemCardElemProps} /&gt;\n  })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2958, "user_id": 7055769, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/37cee50ac5cb90bb2a5ed4c00747337f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ironside", "link": "https://stackoverflow.com/users/7055769/alex-ironside"}, "edited": false, "score": 1, "creation_date": 1605463785, "post_id": 62545672, "comment_id": 114651835, "body": "This helped me as well. Don&#39;t understand why but thanks!"}], "tags": [], "owner": {"reputation": 53, "user_id": 12788452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcff32550a4017cc5c91ff8a4d480d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Akios Dev", "link": "https://stackoverflow.com/users/12788452/akios-dev"}, "is_accepted": false, "score": 5, "last_activity_date": 1592957841, "creation_date": 1592957841, "answer_id": 62545672, "question_id": 58311442, "link": "https://stackoverflow.com/questions/58311442/type-element-is-missing-the-following-properties-from-type-element-type/62545672#62545672", "title": "Type &#39;Element[]&#39; is missing the following properties from type &#39;Element&#39;: type, props, key", "body": "<p>@Roman They must have changed something, this doesn't work for me</p>\n<p>code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const CardArray = (props: Items): JSX.Element[] =&gt; {\n    return props.items.map((item) =&gt; &lt;Item data={item} /&gt;);\n};\n\nexport default CardArray;\n\n</code></pre>\n<p>error:</p>\n<pre><code>JSX element type 'Element[]' is not a constructor function for JSX elements.\nType 'Element[]' is missing the following properties from type 'Element': type, props, key\n</code></pre>\n<p>edit: nevermind, I just had to add the function type, to the function...\nkind of stupid if you ask me.</p>\n<p>what worked me:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const CardArray: Function = (props: Items): JSX.Element[] =&gt; {\n    return props.items.map((item) =&gt; &lt;Item data={item} /&gt;);\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 744498, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3377b3e694bdacac127ca9ee6c871c52?s=128&d=identicon&r=PG", "display_name": "andrewmart.in", "link": "https://stackoverflow.com/users/744498/andrewmart-in"}, "is_accepted": false, "score": 16, "last_activity_date": 1596164375, "creation_date": 1596164375, "answer_id": 63185155, "question_id": 58311442, "link": "https://stackoverflow.com/questions/58311442/type-element-is-missing-the-following-properties-from-type-element-type/63185155#63185155", "title": "Type &#39;Element[]&#39; is missing the following properties from type &#39;Element&#39;: type, props, key", "body": "<p>You could always just send back a single JSX.Element as a fragment, too:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface IOptions {\n   options: string[]\n}\n\nconst CardArray: React.FC&lt;IOptions&gt; = ({ options }) =&gt; {\n   return &lt;&gt;{options.map(opt =&gt; opt)}&lt;/&gt;\n}\n</code></pre>\n<p>This way you're matching the returned type and it won't affect your markup.</p>\n"}, {"tags": [], "owner": {"reputation": 4290, "user_id": 1077346, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tBoZo.png?s=128&g=1", "display_name": "atik sarker", "link": "https://stackoverflow.com/users/1077346/atik-sarker"}, "is_accepted": false, "score": 0, "last_activity_date": 1615967010, "creation_date": 1615967010, "answer_id": 66668838, "question_id": 58311442, "link": "https://stackoverflow.com/questions/58311442/type-element-is-missing-the-following-properties-from-type-element-type/66668838#66668838", "title": "Type &#39;Element[]&#39; is missing the following properties from type &#39;Element&#39;: type, props, key", "body": "<p>I was getting the error because of I am inheriting JSX.Element but I was using the .ts file extension. when I use the .tsx file extension my problem resolve.</p>\n<p><a href=\"https://i.stack.imgur.com/pTOQC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pTOQC.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 10578, "user_id": 4791116, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/w9Q0W.jpg?s=128&g=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/4791116/roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25707, "favorite_count": 2, "answer_count": 4, "score": 20, "last_activity_date": 1615967010, "creation_date": 1570651133, "question_id": 58311442, "link": "https://stackoverflow.com/questions/58311442/type-element-is-missing-the-following-properties-from-type-element-type", "title": "Type &#39;Element[]&#39; is missing the following properties from type &#39;Element&#39;: type, props, key", "body": "<p>I have the standard arrow map ES7 function with Typescript and React environment:</p>\n\n<pre><code> const getItemList: Function = (groups: any[]): JSX.Element =&gt; \n  group.map((item: any, i: number) =&gt; {\n    const itemCardElemProps = { handleEvents: () =&gt; {}, ...item}\n    return &lt;Item key={`${item.id}_${i}`} {...itemCardElemProps} /&gt;\n  })\n</code></pre>\n\n<p>and get the error:</p>\n\n<pre><code>TS2739: Type 'Element[]' is missing the following properties from type 'Element': type, props, key\n</code></pre>\n\n<p>Version: typescript 3.5.3</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 0, "creation_date": 1570653932, "post_id": 58312002, "comment_id": 102985190, "body": "OK I already thought that there will be no way around manual transformation. That sucks. But thank you for your time and the answer!"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 2, "creation_date": 1570654105, "post_id": 58312002, "comment_id": 102985253, "body": "What you ran into is very common.  I would suggest filing a feature request for the Timestamp type to have a toJSON method, which would serialize it properly without implementation details. For example, it could just have a plain seconds and nanosecond fields without the underscore.  Then, the Timestamp class should probably also provide a fromJSON method to create a new Timestamp object from the object.  This would ease some of the difficulty.  <a href=\"https://support.google.com/firebase/contact/support\" rel=\"nofollow noreferrer\">support.google.com/firebase/contact/support</a>"}, {"owner": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 0, "creation_date": 1570654262, "post_id": 58312002, "comment_id": 102985326, "body": "Good idea, will do so!"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1570653734, "creation_date": 1570653734, "answer_id": 58312002, "question_id": 58311307, "link": "https://stackoverflow.com/questions/58311307/extract-timestamp-from-the-result-of-a-function/58312002#58312002", "title": "Extract TImestamp from the result of a Function", "body": "<p>It looks like you\u2019re expecting the callable function to retain the data type of the objects returned from it.  That\u2019s not quite how it works.  The function will serialize the passed objects as JSON, losing all object type information, including the Timestamp type.  The Timestamp is being serialized using its internal representation, which is what you\u2019re seeing in the log output.  I wouldn\u2019t write code that depends on this, as it's obviously using hidden implementation details.</p>\n\n<p>What you should probably do instead is convert that Timestamp into a normal JavaScript object, and use that in the returned result.  Then, on the client side, you will need to write code that understands how you\u2019ve chosen to represent that timestamp.  It is extra work, but it insulates the client from knowing those private implementation details.</p>\n\n<p>I suggest putting the seconds and nanoseconds part of the Timestamp into a plain old object, replacing the existing Timestamp field, then converting that object back into a Timestamp on the client using the <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Timestamp#constructor\" rel=\"nofollow noreferrer\">Timestamp constructor</a> that takes the seconds and nanos components as arguments.</p>\n"}], "owner": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 58312002, "answer_count": 1, "score": 0, "last_activity_date": 1570653743, "creation_date": 1570650518, "last_edit_date": 1570653743, "question_id": 58311307, "link": "https://stackoverflow.com/questions/58311307/extract-timestamp-from-the-result-of-a-function", "title": "Extract TImestamp from the result of a Function", "body": "<p>So I have an interface like this:</p>\n\n<pre><code>interface Test {\n    // ...\n    created_at: Timestamp;\n    // ...\n}\n\n</code></pre>\n\n<p>and I return an object from a function like this:</p>\n\n<pre><code>export const getTest = functions.https.onCall(async (data, context) =&gt; {\n    if (!context.auth) {\n        return null;\n    }\n\n    let snap = await admin\n                 .firestore()\n                 .collection('test')\n                 .get();\n\n    return snap.docs.map(r =&gt; ({ // Add id to the output\n        id: r.id,\n        ...r.data()\n    })[0];\n});\n</code></pre>\n\n<p>So I should be getting the timestamp object in my application, but this is what I get in the chrome console, when I try to get the object from the function like so:</p>\n\n<pre><code>// Using AngularFireFunctions\nlet result: Test = await this.fns.httpsCallable&lt;void, Test&gt;('getTest')().toPromise();\n</code></pre>\n\n<p>This is the whole content of <code>result.created_at</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XkH9u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XkH9u.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I call <code>result.created_at.toDate()</code> I get an <code>....created_at.toDate is not a function</code> error.</p>\n\n<p><strong>What can I do to change this?</strong></p>\n\n<p>This is what I am stuck with right now:</p>\n\n<pre><code>result.created_at = new Date(result.created_at._seconds * 1000);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "material-ui", "emotion"], "comments": [{"owner": {"reputation": 987, "user_id": 11292468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfGwp.jpg?s=128&g=1", "display_name": "Arpitha Chandrashekara", "link": "https://stackoverflow.com/users/11292468/arpitha-chandrashekara"}, "edited": false, "score": 0, "creation_date": 1570701685, "post_id": 58311182, "comment_id": 102999746, "body": "Can you try this - <a href=\"https://stackoverflow.com/questions/57805787/typeorm-thwors-type-instantiation-is-excessively-deep-and-possibly-infinite-ts#answer-57896769\" title=\"typeorm thwors type instantiation is excessively deep and possibly infinite ts%23answer 57896769\">stackoverflow.com/questions/57805787/&hellip;</a>"}, {"owner": {"reputation": 700, "user_id": 1454320, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23b44010eac84ae1f264e1f30efe3ecd?s=128&d=identicon&r=PG", "display_name": "oskar132", "link": "https://stackoverflow.com/users/1454320/oskar132"}, "edited": false, "score": 0, "creation_date": 1579190516, "post_id": 58311182, "comment_id": 105690714, "body": "were you able to solve this?"}], "answers": [{"tags": [], "owner": {"reputation": 314, "user_id": 11285944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2kD6w.png?s=128&g=1", "display_name": "Nalhin", "link": "https://stackoverflow.com/users/11285944/nalhin"}, "is_accepted": true, "score": 4, "last_activity_date": 1598731673, "last_edit_date": 1598731673, "creation_date": 1579217575, "answer_id": 59779344, "question_id": 58311182, "link": "https://stackoverflow.com/questions/58311182/type-instantiation-is-excessively-deep-and-possibly-infinite-with-emotion-styled/59779344#59779344", "title": "Type instantiation is excessively deep and possibly infinite with Emotion styled + material-ui + typescript", "body": "<p>Setting a generic argument as an empty object fixed the issue.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const StyledTextField = styled(TextField)&lt;{}&gt;`\n  margin: 10px\n`;\n</code></pre>\n"}], "owner": {"reputation": 314, "user_id": 11285944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2kD6w.png?s=128&g=1", "display_name": "Nalhin", "link": "https://stackoverflow.com/users/11285944/nalhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 59779344, "answer_count": 1, "score": 3, "last_activity_date": 1598731673, "creation_date": 1570650010, "last_edit_date": 1598731653, "question_id": 58311182, "link": "https://stackoverflow.com/questions/58311182/type-instantiation-is-excessively-deep-and-possibly-infinite-with-emotion-styled", "title": "Type instantiation is excessively deep and possibly infinite with Emotion styled + material-ui + typescript", "body": "<p>I'm getting an error while styling a component imported from the Material-UI library with styled API (@emotion/styled).</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Error:(19, 5) TS2589: Type instantiation is excessively deep and possibly infinite. \n</code></pre>\n<p>I've tried downgrading to typescript 3.5.3, as some people suggested, but that didn't fix the issue.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from 'react';\nimport styled from '@emotion/styled';\nimport TextField from '@material-ui/core/TextField';\n\n\nconst StyledTextField = styled(TextField)`\n  margin:10px;\n`;\n\ninterface InputProps {\n  value: string;\n  name: string;\n  label: string;\n  onChange: (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; void;\n}\n\nconst Input: React.FC&lt;InputProps&gt; = ({ value, name, label, onChange }) =&gt; {\n  return (\n    &lt;StyledTextField\n      value={value}\n      name={name}\n      onChange={onChange}\n      label={label}\n    /&gt;\n  );\n};\n\nexport default Input;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript", "filter"], "comments": [{"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 0, "creation_date": 1570650177, "post_id": 58311133, "comment_id": 102983766, "body": "I did not understand the &#39;active&#39; inactive part, can you explain it better ?"}, {"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1570650265, "post_id": 58311133, "comment_id": 102983790, "body": "this is not clear could you please put the desired output and what did you tried"}, {"owner": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "edited": false, "score": 0, "creation_date": 1570650278, "post_id": 58311133, "comment_id": 102983798, "body": "It&#39;s basically an array of strings that need to match the boolean true =&gt; &#39;active&#39;"}, {"owner": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "reply_to_user": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1570650331, "post_id": 58311133, "comment_id": 102983820, "body": "@G.aziz The desired output is there, i can add what I&#39;ve tried."}, {"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1570650343, "post_id": 58311133, "comment_id": 102983827, "body": "@LittleMygler edit your and add th output you want to get from this obeject"}], "answers": [{"comments": [{"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1570651020, "post_id": 58311361, "comment_id": 102984090, "body": "<code>state === &#39;active&#39; ? true : false</code> is an anti-pattern, use <code>state === &#39;active&#39;</code> instead."}, {"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "reply_to_user": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1570651107, "post_id": 58311361, "comment_id": 102984126, "body": "updated, not sure if it is an anti-pattern though, thought it would be more readable. but it makes sense not to add the obvious"}, {"owner": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "edited": false, "score": 0, "creation_date": 1570651161, "post_id": 58311361, "comment_id": 102984151, "body": "Problem with this is it makes a recursive thing with my html so it just runs and runs, check update for how i use it :)"}, {"owner": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "edited": false, "score": 0, "creation_date": 1570651750, "post_id": 58311361, "comment_id": 102984356, "body": "I gets stuck in a recursive get, where the data updates and it fetches it again"}, {"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "reply_to_user": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "edited": false, "score": 0, "creation_date": 1570652998, "post_id": 58311361, "comment_id": 102984802, "body": "@LittleMygler use the spread operator like I did in my answer. In your answere you are mutating the original object inside the array!"}], "tags": [], "owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "is_accepted": false, "score": 0, "last_activity_date": 1570653083, "last_edit_date": 1570653083, "creation_date": 1570650797, "answer_id": 58311361, "question_id": 58311133, "link": "https://stackoverflow.com/questions/58311133/filtering-an-array-inside-an-array-of-objects/58311361#58311361", "title": "filtering an array inside an array of objects", "body": "<p>Update</p>\n\n<pre><code>const filteredCategories = cloneToMapOf.map(categorizedbooks =&gt; {\n        const books = categorizedbooks.properties.filter(book =&gt;{\n            return (rc.includes(books.bookContainerId) &amp;&amp; \nsa.includes(book.active ? 'active' : 'inactive'));\n        });\n        return {...categorizedbooks,books}; // so that original array is not mutated.\n    });\n</code></pre>\n\n<p>I have created a inner filter for books that are part of the container AND active state is one of the states in active array and then an outer filter for categories with empty book array</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var categorizedBooks = [\r\n{\r\n name: \"category1\",\r\n books:[\r\n        {name:\"book1\", bookContainerId: 1, active: true},\r\n        {name:\"book2\", bookContainerId: 2, active: false},\r\n        {name:\"book3\", bookContainerId: 2, active: true},\r\n       ]\r\n },\r\n{\r\n name: \"category2\",\r\n books:[\r\n        {name:\"book4\", bookContainerId: 1, active: false},\r\n        {name:\"book5\", bookContainerId: 3, active: true},\r\n        {name:\"book6\", bookContainerId: 4, active: true},\r\n       ]\r\n },\r\n{\r\n name: \"category3\",\r\n books:[\r\n        {name:\"book7\", bookContainerId: 1, active: false},\r\n        {name:\"book8\", bookContainerId: 2, active: true},\r\n        {name:\"book9\", bookContainerId: 4, active: false},\r\n       ]\r\n },\r\n{\r\n name: \"category4\",\r\n books:[\r\n        {name:\"book10\", bookContainerId: 2, active: false},\r\n        {name:\"book11\", bookContainerId: 2, active: false},\r\n        {name:\"book12\", bookContainerId: 4, active: false},\r\n       ]\r\n }\r\n ];\r\nvar bookContainers = [1,3]\r\nvar isActive = ['active', 'inactive'];\r\n\r\nvar isActiveBoolState = isActive.map(state =&gt; state === 'active'); // helper to show which type of active state should be showed.\r\n\r\nvar result = categorizedBooks.map(category =&gt; ({...category, books: category.books.filter(book =&gt; bookContainers.includes( book.bookContainerId) &amp;&amp; isActiveBoolState.includes(book.active)  )})).filter(category =&gt; category.books.length);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "edited": false, "score": 0, "creation_date": 1570653004, "post_id": 58311664, "comment_id": 102984803, "body": "Nice code, but this also creates a recursive pattern when added into my *ngIf for some reason"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570652245, "creation_date": 1570652245, "answer_id": 58311664, "question_id": 58311133, "link": "https://stackoverflow.com/questions/58311133/filtering-an-array-inside-an-array-of-objects/58311664#58311664", "title": "filtering an array inside an array of objects", "body": "<p>You could take the wanted keys in an array and add the values instead of some semantic values which needs to be converted to data types of the object for testing.</p>\n\n<p>The result is an array with a filtered sub array and reassembled if the sub array contains some elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var categorizedBooks = [{ name: \"category1\", books: [{ name: \"book1\", bookContainerId: 1, active: true }, { name: \"book2\", bookContainerId: 2, active: false }, { name: \"book3\", bookContainerId: 2, active: true }] }, { name: \"category2\", books: [{ name: \"book4\", bookContainerId: 1, active: false }, { name: \"book5\", bookContainerId: 3, active: true }, { name: \"book6\", bookContainerId: 4, active: true }] }, { name: \"category3\", books: [{ name: \"book7\", bookContainerId: 1, active: false }, { name: \"book8\", bookContainerId: 2, active: true }, { name: \"book9\", bookContainerId: 4, active: false }] }, { name: \"category4\", books: [{ name: \"book10\", bookContainerId: 2, active: false }, { name: \"book11\", bookContainerId: 2, active: false }, { name: \"book12\", bookContainerId: 4, active: false }] }],\r\n    filters = [['bookContainerId', [1, 3]], ['active', [true, false]]],\r\n    result = categorizedBooks.reduce((r, { name, books }) =&gt; {\r\n        books = books.filter(o =&gt; filters.every(([k, v]) =&gt; v.includes(o[k])));\r\n        if (books.length) r.push({ name, books });\r\n        return r;\r\n    }, []);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 534, "user_id": 10020534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bJ-BtOHrW9Q/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Zuv9gbB9-26oXr7mQ-k8id7mAAw/mo/photo.jpg?sz=128", "display_name": "LittleMygler", "link": "https://stackoverflow.com/users/10020534/littlemygler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570653083, "creation_date": 1570649789, "last_edit_date": 1570651467, "question_id": 58311133, "link": "https://stackoverflow.com/questions/58311133/filtering-an-array-inside-an-array-of-objects", "title": "filtering an array inside an array of objects", "body": "<p>I have an array that looks something like this</p>\n\n<pre><code>var categorizedBooks = [\n{\n name: \"category1\",\n books:[\n        {name:\"book1\", bookContainerId: 1, active: true},\n        {name:\"book2\", bookContainerId: 2, active: false},\n        {name:\"book3\", bookContainerId: 2, active: true},\n       ]\n },\n{\n name: \"category2\",\n books:[\n        {name:\"book4\", bookContainerId: 1, active: false},\n        {name:\"book5\", bookContainerId: 3, active: true},\n        {name:\"book6\", bookContainerId: 4, active: true},\n       ]\n },\n{\n name: \"category3\",\n books:[\n        {name:\"book7\", bookContainerId: 1, active: false},\n        {name:\"book8\", bookContainerId: 2, active: true},\n        {name:\"book9\", bookContainerId: 4, active: false},\n       ]\n },\n{\n name: \"category4\",\n books:[\n        {name:\"book10\", bookContainerId: 2, active: false},\n        {name:\"book11\", bookContainerId: 2, active: false},\n        {name:\"book12\", bookContainerId: 4, active: false},\n       ]\n }\n</code></pre>\n\n<p>And i want to filter them on two arrays that looks something like this:</p>\n\n<pre><code>bookContainers: [1,3]\nisActive: ['active', 'inactive] // an array of strings\n</code></pre>\n\n<p>These comes from inputs so it can change whenever. So i want to match bookContainers with their bookContainerId, and 'active'/'inactive' string array with their boolean active property and if a an object in categorizedBooks books array is empty i want to remove it.</p>\n\n<p>So in this case i would get something like this (Desired output from the above): </p>\n\n<pre><code>{\n name: \"category1\",\n books:[\n        {name:\"book1\", bookContainerId: 1, active: true}\n       ]\n },\n{\n name: \"category2\",\n books:[\n        {name:\"book4\", bookContainerId: 1, active: false},\n        {name:\"book5\", bookContainerId: 3, active: true}\n       ]\n },\n{\n name: \"category3\",\n books:[\n        {name:\"book7\", bookContainerId: 1, active: false}\n       ]\n }\n</code></pre>\n\n<p>Another problem is that i don't want to modify the original array because i want to be able to call it with new arrays to filter on whenever, and get the result.\nHere is my GET method now:</p>\n\n<pre><code>public get bookCategories(): Array&lt;CategorizedBook&gt; {\n    let cloneToMapOf = [...this.categoriesAndBooks];\n\n    const filteredCategories = cloneToMapOf.map(categorizedbooks =&gt; {\n        categorizedbooks.books = categorizedbooks.properties.filter(book =&gt;{\n            return (rc.includes(books.bookContainerId) &amp;&amp; \nsa.includes(book.active ? 'active' : 'inactive'));\n        });\n        return categorizedbooks;\n    });\n\n    const result = filteredCategories.filter(x =&gt; x.books.length &gt; 0 &amp;&amp; x.books != null);\n    return result;\n}\n</code></pre>\n\n<p>But for some reason this code modifies this.categoriesAndBooks so I becomes empty after time..</p>\n\n<p>with the result I want to present in some HTML</p>\n\n<pre><code>    &lt;nz-collapse [nzBordered]=\"false\" *ngFor=\"let categorizedBook of bookCategories;\"&gt;\n        &lt;nz-collapse-panel [nzHeader]=\"categorizedBook.name\" [nzActive]=\"true\"&gt;\n            &lt;ng-container *ngFor=\"let book of categorizedBook.properties; trackBy:trackBy.book\"&gt;\n                &lt;ng-template [ngTemplateOutlet]=\"bookEditors\" [ngTemplateOutletContext]=\"{book: book, form: bookValueForm}\"&gt;&lt;/ng-template&gt;\n            &lt;/ng-container&gt;\n        &lt;/nz-collapse-panel&gt;\n    &lt;/nz-collapse&gt;\n</code></pre>\n\n<p>I've been sitting with this for hours.. please help me</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1570649964, "post_id": 58310991, "comment_id": 102983679, "body": "Do you want <code>getProp(obj2, &quot;randomKey&quot;)</code> to succeed but you still want <code>getProp(obj1, &quot;randomKey&quot;)</code> to fail?  I&#39;m a little unclear on the use case.  You could likely type the call signature like <code>function getProp&lt;T, P extends (undefined extends T ? keyof any : keyof T)&gt;(obj: T, prop: P): (P extends keyof T ? T[P] : undefined);</code> but that&#39;s complicated so I&#39;d like to understand what your intent is before I suggest that as an answer."}, {"owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570650212, "post_id": 58310991, "comment_id": 102983776, "body": "My use case is to call <code>getProp(items.find(i =&gt; i.id === 3), &#39;name&#39;)</code>, have &#39;name&#39; be checked by TypeScript but the <code>getProp</code> function should also handle <code>undefined</code> that can be returned by <code>Array#find</code>."}, {"owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570650317, "post_id": 58310991, "comment_id": 102983813, "body": "For example, <code>R.prop(R.find(R.propEq(&#39;id&#39;, 3)), items)</code> in Ramda is very close to my example. Their typings are not correct either (they don&#39;t handle <code>undefined</code>) so I&#39;m wondering how to do it in &quot;plain&quot; <code>getProp</code> function."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1570650497, "post_id": 58310991, "comment_id": 102983885, "body": "So your use case is not to use <code>getProp(undefined, &quot;randomKey&quot;)</code>.  Note that your &quot;naive&quot; approach <a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAcwKZQAoCc4AcA8AKgDSIaKoAeUqYAJgM6IDWqAnnMIoQHwAUcAEYArAFzdEAH0Tg6qYDDCo6pXDlziMASnGEA2hgC6UmfXmLliAN4AoRPcQwufAIRDhW63Yc+s6EFhIsuZKdADc3vYAvjaRiH5QAUjuemp4hhExEAgMUIjuAIyIALxePjB04gXEcWAAhgC2qOIA5IUtNVER2WC5jjQNTKV6hRk2aJjqfDADDAB0CvTTJTyOcxUlxaUFWqQARBV7WmGIAPSniGAgDYKoWCbBi8o2QA\" rel=\"nofollow noreferrer\">works</a> with the <code>getProp(items.find...)</code> example you just posted.  What&#39;s the problem?"}, {"owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1570650935, "post_id": 58310991, "comment_id": 102984052, "body": "That&#39;s a very good question :) I probably confused myself \u2013 had some typing issues with Ramda, tried to simplify it to a plain example which... works. Sorry about that and thanks for your help, @jcalz!"}, {"owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570650974, "post_id": 58310991, "comment_id": 102984072, "body": "@jcalz Do you still want to post your example as an answer? I&#39;d accept it."}], "answers": [{"comments": [{"owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "edited": false, "score": 0, "creation_date": 1570697110, "post_id": 58311697, "comment_id": 102997188, "body": "That&#39;s an <i>awesome</i> answer to an (almost) non-question. Thank you!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1570652398, "creation_date": 1570652398, "answer_id": 58311697, "question_id": 58310991, "link": "https://stackoverflow.com/questions/58310991/how-to-type-k-extends-keyof-t-when-t-can-be-undefined/58311697#58311697", "title": "How to type `K extends keyof T` when T can be undefined?", "body": "<p>I thnk if I were going to try to go all out and make the <code>getProp()</code> function accept all kinds of <code>obj</code> parameters and then allow any key if <code>obj</code> might be <code>undefined</code>, I'd do something like this: </p>\n\n<pre><code>function getProp&lt;T,\n    P extends T extends any ? (undefined extends T ? keyof any : keyof T) : never\n&gt;(\n    obj: T,\n    prop: P\n): T extends any ? (P extends keyof T ? T[P] : undefined) : never;\nfunction getProp&lt;T, P extends keyof T&gt;(obj: T | undefined, prop: P): T[P] | undefined {\n    if (typeof obj === \"undefined\") {\n        return undefined;\n    }\n\n    return obj[prop];\n}\n</code></pre>\n\n<p>That's super complicated but it has some possibly desirable behavior:</p>\n\n<pre><code>const obj1 = {\n    id: 1,\n    name: 'obj1',\n};\nconst obj2 = undefined;\nconst items = [obj1];\n\ngetProp(items.find(i =&gt; i.id === 1), \"id\"); // number | undefined\ngetProp(obj1, \"id\"); // number\ngetProp(obj2, \"who knows\"); // undefined\ngetProp(Math.random() &lt; 0.5 ? { a: 1 } : { a: \"b\" }, \"a\"); // string | number\ngetProp(Math.random() &lt; 0.5 ? { a: 1 } : { b: 1 }, \"z\"); // error! \"z\" not \"a\" | \"b\"\ngetProp(Math.random() &lt; 0.5 ? { a: 1 } : { b: 1 }, \"a\"); // number | undefined\n</code></pre>\n\n<p>But for the use case as you described, you're only interested in passing in <code>undefined</code> to the extent that <code>obj</code> might be <code>T | undefined</code> for some particular <code>T</code>, and you never plan to actually call <code>getProp(undefined, \"something\")</code>.  In which case, your \"naive\" approach works well enough:</p>\n\n<pre><code>function getProp&lt;T, P extends keyof T&gt;(obj: T | undefined, prop: P): T[P] | undefined {\n    if (typeof obj === \"undefined\") {\n        return undefined;\n    }\n\n    return obj[prop];\n}\n</code></pre>\n\n<p>Observe:</p>\n\n<pre><code>getProp(items.find(i =&gt; i.id === 1), \"id\"); // number | undefined\ngetProp(obj1, \"id\"); // number | undefined\ngetProp(obj2, \"who knows\"); // error!\ngetProp(Math.random() &lt; 0.5 ? { a: 1 } : { a: \"b\" }, \"a\"); // string | number | undefined\ngetProp(Math.random() &lt; 0.5 ? { a: 1 } : { b: 1 }, \"z\"); // error! \"z\" not \"a\" | \"b\"\ngetProp(Math.random() &lt; 0.5 ? { a: 1 } : { b: 1 }, \"a\"); // number | undefined\n</code></pre>\n\n<p>Possibly the only thing \"bad\" about this is that all the outputs of <code>getProp()</code> include <code>undefined</code> in their type, even when you are calling <code>getProp(obj, \"id\")</code>, a known-defined <code>obj</code> with a known-present <code>\"id\"</code>.  But that seemed to be what you wanted, so there you go.  You basically answered your own question!</p>\n\n<p>So, uh, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ts=3.7-Beta#code/HYQwtgpgzgDiDGEAEBhATiAXgTyQbwCglikAzAV2HgBcBLAe2CQHMJqAFNemAHgBUANERIj2SCAA9qEYABMoSPuKkz5SEMFwB+JAApKsiKVrAIs5dLkKlOgNYRs9Uus1IAXEnuPnfAJTukUwA3CDRhYgA+XXCRJHoAIwArD0EYkRguGA92GN8Ui1UFDW09MUlLNS8nRSQdPgBtdgBdAIMjEzN-D2DQgG4Yiio6RhY2Tm5+ASQylStPB2q+KITkmoAfJDbjU1kpjO5svMVGlo2tjvNCWJJaZ11qbBgIapWkAF4PpAAic52v-yu11iaDY5DQTF+Zn6QKQAF8CGkSCDqGCmCt6vsYE1oSR4TF4IwoNQ4kkAIzvfCI4i0WQeUlCGGgSAeADkK1JLIZuJxxAJwCJJMSACYKZDZDykHyBbRpGAFG8kPV2diESJWBxMroZRA5QA6bayLXvCJIWi6mnvT6k3xTL40-69JAAeidgXIYHioSQZzk7R2MXV4xgunZtvtvkdLrdHtCAbGmpWQttAHcABb0TzAejJqAO52usVxjXcXQAWRA1FTuowcnoYF0-h4SAADLqAKy1fDqOlwgJ4bvfeJfOG2kB5qNEtAmZje6OesJq+Ml8uV6saWR1htIJutjs6fsgHuwvtIeJH22Yceu0JcNAAQm+l8C9GJXzHs6+Q6LQbLFarNY3etGxbdtOwPI8TzPJByVhUcrznL0fUMbYzARAg8SZaA4EQJAADEOkpERBhoBgmEDTJJmmAo5iqHxliSfIkL9Mw9kyQ4UhOWcxUIoFbj0B4nheJJLQVH5fRQ2R-h4mFiGRVFNnEi4JREPEYTk8FBQxTIVRU1USClYl2QpQFrhpOkuWuTDWXZTkYlhCUDMFEUFTFBzCWJbU5QpJUyRVb9NU8qB9RMQ1aGNU1zXMD4FWtMNJIjfMELQLjFP9Rdi2DUNvnDSNXWAd15xS5CLn8ktExTdNM2zXMEqjG96HvUrgxXf9103YDdzAgcYJPQ9B2HWDvjHWrXUnadZ3ymNkqYiSmt-VcAPa7cQL3Ls+p6jx+ygmCL3g+r70fYcs1fd8Nk-L45patdayA5bOv3bre0209zyG+DJsKmaSthIA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}, {"comments": [{"owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "edited": false, "score": 0, "creation_date": 1570658432, "post_id": 58312041, "comment_id": 102986675, "body": "Ah, <code>any</code> does the trick! I was trying with <code>string</code> in its place and was getting &quot;Type P cannot be used to index type O&quot; (<a href=\"https://www.typescriptlang.org/play/index.html#code/GYVwdgxgLglg9mABAcwKZQAoCc4AcA8A8gDSIaKoAeUqYAJgM6KEXW2OLh2rAxip1EAfkQMoWPskQAuRAGtUATzjBmAPgAUcAEYArWSUS4cuWRgCUBgNoYAuogA+nejz4DEiAN4AoDzFUaAIQ6uuZevh6IWOggWEhcrvx0ANwRAL7eEdFQsUghVsZ4tqkZ3hAIYoghAIyIALzhfnSy1cQRYACGALaosgDkNX1taanlYJUhAEz1zty8SaneaJgmWnqtiH0wdH3mqcvYeGu6k6RbdJO7yUA\" rel=\"nofollow noreferrer\">playground</a>). Thanks!"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1570668902, "post_id": 58312041, "comment_id": 102988726, "body": "I&#39;m... not sure you want <code>any</code> in there, as the described use case <code>getProp([obj1].find(i =&gt; i.id === 1), &quot;name&quot;);</code> will return type <code>unknown</code> instead of the presumably desired <code>string | undefined</code>."}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1570681003, "post_id": 58312041, "comment_id": 102991190, "body": "In the question description there was no such use case"}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 2, "last_activity_date": 1570653941, "creation_date": 1570653941, "answer_id": 58312041, "question_id": 58310991, "link": "https://stackoverflow.com/questions/58310991/how-to-type-k-extends-keyof-t-when-t-can-be-undefined/58312041#58312041", "title": "How to type `K extends keyof T` when T can be undefined?", "body": "<p>I think this is what you want to achieve:</p>\n\n<pre><code>function getProp&lt;O, P extends O extends undefined ? any : keyof O&gt;(obj: O, prop: P)  {\n  if (!obj) {\n    return undefined;\n  }\n\n  return obj[prop];\n}\n\nconst obj1 = {\n  id: 1,\n  name: 'obj1',\n};\nconst obj2 = undefined;\n\ngetProp(obj1, 'id');\ngetProp(obj2, 'id');\n</code></pre>\n\n<p>So if the first param is undefined I set second type as <code>any</code>. I don't type return as it is nicely inferred. <a href=\"https://www.typescriptlang.org/play/index.html?ssl=16&amp;ssc=21&amp;pln=1&amp;pc=1#code/GYVwdgxgLglg9mABAcwKZQAoCc4AcA8A8gDSIaKoAeUqYAJgM6KEXW2OLh2rAxip1EAfkQBDMAE9EALkQBrVBLjBmAPgAUcAEYArWSUS4cuWRgCUiRAG8AsAChLMFeoCE2nRdsPLiLOhBYSFw8fAIA3PaWAL72kb7%20gYjuANpGeAC6EXYxdvYQCAxQSboAjIgAvNZxMHSyJcRxYKIAtqiyAOTuJe0N2Vn5YIXFOgBMFZz0Ifx0WfZomMaapaTtNe1mWfPYeEujK2sb9kA\" rel=\"nofollow noreferrer\">Playground</a> </p>\n"}], "owner": {"reputation": 43080, "user_id": 21728, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/6159f200faa885e622ad3f5a288a44ac?s=128&d=identicon&r=PG", "display_name": "Borek Bernard", "link": "https://stackoverflow.com/users/21728/borek-bernard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 58311697, "answer_count": 2, "score": 2, "last_activity_date": 1570653941, "creation_date": 1570649228, "question_id": 58310991, "link": "https://stackoverflow.com/questions/58310991/how-to-type-k-extends-keyof-t-when-t-can-be-undefined", "title": "How to type `K extends keyof T` when T can be undefined?", "body": "<p>I want to add TypeScript types to this JS function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getProp(obj, prop) {\n  if (!obj) {\n    return undefined;\n  }\n\n  return obj[prop];\n}\n</code></pre>\n\n<p>If there was no requirement to handle <code>undefined</code>, this would work:</p>\n\n<pre><code>function getProp&lt;T, P extends keyof T&gt;(obj: T, prop: P): T[P] {\n  // ...\n}\n</code></pre>\n\n<p>However, with <code>undefined</code>, this naive approach with <code>| undefined</code> doesn't work:</p>\n\n<pre><code>function getProp&lt;T, P extends keyof T&gt;(obj: T | undefined, prop: P): T[P] | undefined {\n  if (!obj) {\n    return undefined;\n  }\n\n  return obj[prop];\n}\n\nconst obj1 = {\n  id: 1,\n  name: 'obj1',\n};\nconst obj2 = undefined;\n\ngetProp(obj1, 'id');\ngetProp(obj2, 'id');\n              ^^^ Argument of type '\"id\"' is not assignable to parameter of type 'never'.ts(2345)\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=16&amp;pc=21#code/GYVwdgxgLglg9mABAcwKZQAoCc4AcA8AKgDSIaKoAeUqYAJgM6IDWqAnnMIoQHwAUcAEYArAFzdEAH0Tg6qYDDCo6pXDlziMASnGEA2hgC6UmfXmLliAN4AoRIhhc%20AQiHCt1u-cRZ0ILEiy5kp0ANxeAL42Xr5Q-khuemp4huFRNhAIDFCIbgCMiAC8nvYwdOJ5xF5gAIYAtqjiAOT5TVUR4Zlg2bkiAExFpnIKIeE2aJjqAiKViE1lTVrhE9h408J9pPN0i6FAA\" rel=\"nofollow noreferrer\">Playground</a>.</p>\n\n<p>What's the best way to type this?</p>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 323, "user_id": 2058840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ad31060cd66c8954734130489202431?s=128&d=identicon&r=PG", "display_name": "Guillaume Wuip", "link": "https://stackoverflow.com/users/2058840/guillaume-wuip"}, "edited": false, "score": 0, "creation_date": 1570647396, "post_id": 58310545, "comment_id": 102982581, "body": "I&#39;ve tried <code>Arr[number]</code> but this gave us the union <code>{toto: string}|{toto:number}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 2058840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ad31060cd66c8954734130489202431?s=128&d=identicon&r=PG", "display_name": "Guillaume Wuip", "link": "https://stackoverflow.com/users/2058840/guillaume-wuip"}, "edited": false, "score": 0, "creation_date": 1570648733, "post_id": 58310689, "comment_id": 102983159, "body": "Very nice :)  I was trying to write something recursive. Thanks a lot !"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1570648025, "creation_date": 1570648025, "answer_id": 58310689, "question_id": 58310545, "link": "https://stackoverflow.com/questions/58310545/typescript-type-of-intersection-of-all-objects-in-array-of-unknown-length/58310689#58310689", "title": "Typescript type of intersection of all objects in array of unknown length", "body": "<p>As you discovered, you can use <code>Arr[number]</code> to get a union of all types in the array. You can then use <code>UnionToIntersection</code> described <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type\">here</a> to convert it to a intersection :</p>\n\n<pre><code>type Arr = [{ toto: string}, {titi: number}];\ntype UnionToIntersection&lt;U&gt; = \n  (U extends any ? (k: U)=&gt;void : never) extends ((k: infer I)=&gt;void) ? I : never\n\ntype All = UnionToIntersection&lt;Arr[number]&gt;\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 2058840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ad31060cd66c8954734130489202431?s=128&d=identicon&r=PG", "display_name": "Guillaume Wuip", "link": "https://stackoverflow.com/users/2058840/guillaume-wuip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 1, "accepted_answer_id": 58310689, "answer_count": 1, "score": 0, "last_activity_date": 1570648025, "creation_date": 1570647391, "question_id": 58310545, "link": "https://stackoverflow.com/questions/58310545/typescript-type-of-intersection-of-all-objects-in-array-of-unknown-length", "title": "Typescript type of intersection of all objects in array of unknown length", "body": "<p>I have a type of an array of object in Typescript. Let's say: </p>\n\n<pre><code>type Arr = [{ toto: string}, {titi: number}];\n</code></pre>\n\n<p>I don't know the length in advance.\nI would like to have the type of the merge of all objects in the array, ie the intersection</p>\n\n<pre><code>{\n  toto: string,\n  titi: number\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1570647621, "post_id": 58310489, "comment_id": 102982684, "body": "Maybe <code>*ngIf=&quot;viewController.value === &#39;list&#39;&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 2, "last_activity_date": 1570648156, "last_edit_date": 1570648156, "creation_date": 1570647681, "answer_id": 58310611, "question_id": 58310489, "link": "https://stackoverflow.com/questions/58310489/angular-get-value-from-control-in-html/58310611#58310611", "title": "Angular get value from control in html", "body": "<p>is <code>*ngIf=\"viewController.value\"</code> without <code>#</code> but the Angular way is use [(ngModel)] -or even ReactiveForms-</p>\n\n<pre><code>&lt;ion-segmen [(ngModel)]=\"myvariable\"&gt;\n...\n&lt;ion-segmen&gt;\n&lt;app-list-base *ngIf=\"myvariable\"&gt;\n</code></pre>\n\n<p>where \"myvariable\" is a variable in your .ts</p>\n\n<p>NOTE:Currently, Ionic Framework has official integration with Angular, so, you can use all you know about Angular. Well Ionic has certains characteristics, but the idea model-view is fulfilled </p>\n\n<p>NOTE2: Really I think all the examples in the docs, need a revisited</p>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58310611, "answer_count": 1, "score": 1, "last_activity_date": 1570648156, "creation_date": 1570647138, "question_id": 58310489, "link": "https://stackoverflow.com/questions/58310489/angular-get-value-from-control-in-html", "title": "Angular get value from control in html", "body": "<p>I have a button which switches between map view and list view</p>\n\n<pre><code>&lt;ion-content&gt;\n  &lt;ion-segment #viewController (ionChange)=\"changeViewState($event)\"&gt;\n      &lt;ion-segment-button value=\"map\"&gt;\n        &lt;ion-label&gt;Map&lt;/ion-label&gt;\n      &lt;/ion-segment-button&gt;\n      &lt;ion-segment-button value=\"list\"&gt;\n        &lt;ion-label&gt;List&lt;/ion-label&gt;\n      &lt;/ion-segment-button&gt;\n    &lt;/ion-segment&gt;\n  &lt;app-list-base *ngIf=\"viewValue == 'list'\" [config]=\"config\" [template]=\"itemTemplate\"&gt;&lt;/app-list-base&gt;\n  &lt;app-map *ngIf=\"viewValue == 'map'\" [config]=\"config\"&gt;&lt;/app-map&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>Currently I'm using the ionChange event to set the viewValue.  However seeing as I just need the raw value from the control I'm wondering if there is a simpler way to do this in the html only</p>\n\n<p>e.g</p>\n\n<pre><code>&lt;app-list-base *ngIf=\"#viewController.val == 'list'\" [config]=\"config\" [template]=\"itemTemplate\"&gt;&lt;/app-list-base&gt;\n</code></pre>\n\n<p>How can I obtain the viewController value though html?</p>\n"}, {"tags": ["angular", "forms", "typescript", "validation", "angular8"], "owner": {"reputation": 21, "user_id": 12190646, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCCn8sWYFl1wrwtfnbYKOPspdFupLNQ12vciOuZKw=k-s128", "display_name": "Ricardo Rodriguez", "link": "https://stackoverflow.com/users/12190646/ricardo-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570648420, "creation_date": 1570646907, "last_edit_date": 1570648420, "question_id": 58310432, "link": "https://stackoverflow.com/questions/58310432/angular-8-how-can-validate-input-files-in-ngfor-with-formbuilder", "title": "Angular 8 - How can validate input files in ngfor with formBuilder", "body": "<p>I need your help because can't make it.</p>\n\n<p>I making a form in Angular 8 using <code>formBuilder</code> for validate null fields and some validation. </p>\n\n<p>I have 2 dropdowns with validations and this is working fine, but in my form I have also a <code>*ngFor</code>  that runs through a list of objects from an api. Each of these objects have name of file requested, description of file requested . These objects are data for the different input files that will appear according to the number of records that have that list.</p>\n\n<p>In this case I have 3 records, in the front-end appear 3 input files like file 1, file 2, file 3 how in\nthe next image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fKXCr.png\" rel=\"nofollow noreferrer\">Imagen 1</a></p>\n\n<p>And this is my html code.</p>\n\n<pre><code> &lt;div class=\"col-md-6\" *ngFor=\"let rpt of ReporteListData; let i = index\"&gt; \n     &lt;div class=\"form-group\"&gt;\n         &lt;label&gt;{{rpt.nombre}} &lt;small  class=\"text-muted\"&gt;({{rpt.tipo}})&lt;/small&gt;&lt;strong class=\"required-field\"&gt;*&lt;/strong&gt;&lt;/label&gt;\n         &lt;span class=\"info-tooltip\"&gt;&lt;i class=\"md-info\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{{rpt.descripcion}}\"&gt;&lt;/i&gt;&lt;/span&gt;\n         &lt;div class=\"form-group\"&gt;                                                                                                                       \n             &lt;input type=\"file\" &gt;           \n         &lt;/div&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>In my component.ts I have <code>formBuilder</code> validation for others component of the form but I don't know how call inputs files inside <code>ngFor</code> in my <code>formBuilder</code> for validate in each of the input file paths.</p>\n\n<p>This is my code in component.ts</p>\n\n<pre><code>  this.CumplimientoForm = this.formBuilder.group({\n      cbxtema: ['', Validators.required],\n      cbxperiodo: ['', Validators.required],\n      checkboxconfirm: [false, Validators.requiredTrue],\n\n      //here code like inputsfiles[i] or array: validations. ??? \n\n   });\n</code></pre>\n\n<p>I tried with <code>FormArray</code> or something like this but doesn't work, </p>\n\n<p>thank you very much for your help, </p>\n\n<p>Greetings.</p>\n"}, {"tags": ["typescript", "promise", "callback", "settimeout"], "comments": [{"owner": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "edited": false, "score": 1, "creation_date": 1570646698, "post_id": 58310342, "comment_id": 102982303, "body": "how are you using it? is <code>connect</code> never resolved?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1570648433, "post_id": 58310342, "comment_id": 102983012, "body": "Avoid the <a href=\"https://stackoverflow.com/q/23803743/1048572?What-is-the-promise-construction-antipattern-and-how-to-avoid-it\"><code>Promise</code> constructor antipattern</a>! Make a promisified <code>delay</code> function that wraps the <code>setTimeout</code>, then use that with proper promise chaining."}, {"owner": {"reputation": 15648, "user_id": 204693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6XaEW.jpg?s=128&g=1", "display_name": "F.P", "link": "https://stackoverflow.com/users/204693/f-p"}, "reply_to_user": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "edited": false, "score": 0, "creation_date": 1570650375, "post_id": 58310342, "comment_id": 102983839, "body": "@Federkun I want to call <code>connect().then()</code> that resolves only when the <code>connectToMongo</code> resolves. What happens however is that <code>connect</code> never resolves"}, {"owner": {"reputation": 15648, "user_id": 204693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6XaEW.jpg?s=128&g=1", "display_name": "F.P", "link": "https://stackoverflow.com/users/204693/f-p"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570650383, "post_id": 58310342, "comment_id": 102983846, "body": "@Bergi I&#39;m not sure how to apply the suggestions you linked to my example. I can&#39;t simply return the Promise of <code>connectToMongoDb</code> because that will just move the problem to the calling code... ?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1570650629, "post_id": 58310342, "comment_id": 102983927, "body": "Yes you can. <code>return connectToMongoDb(URI, opts).then(\u2026).catch(err =&gt; { \u2026; return delay().then(connect); });</code>."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570839396, "post_id": 58316362, "comment_id": 103054470, "body": "Instead of setting a global <code>connection</code> variable, you should fulfill your promise with it by doing <code>return result</code>"}, {"owner": {"reputation": 15648, "user_id": 204693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6XaEW.jpg?s=128&g=1", "display_name": "F.P", "link": "https://stackoverflow.com/users/204693/f-p"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570852615, "post_id": 58316362, "comment_id": 103055915, "body": "I changed that part after all because mongoose handles the connection pool internally anyway. I don&#39;t need the returned connection object actually."}], "tags": [], "owner": {"reputation": 15648, "user_id": 204693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6XaEW.jpg?s=128&g=1", "display_name": "F.P", "link": "https://stackoverflow.com/users/204693/f-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1570687384, "creation_date": 1570687384, "answer_id": 58316362, "question_id": 58310342, "link": "https://stackoverflow.com/questions/58310342/promise-with-settimeout/58316362#58316362", "title": "Promise with setTimeout", "body": "<p>As per the comments, I was able to refactor the function to properly return a promises that resolves only when the connections is established:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const delay = (ms: number): Promise&lt;void&gt; =&gt;\n    new Promise((resolve): void =&gt; {\n        setTimeout(resolve, ms);\n    });\n\nexport const connect = (): Promise&lt;void&gt; =&gt; {\n    LOG.info(\"Connecting to DB at %s\", URI);\n\n    return connectToMongoDb(URI, opts)\n        .then((result) =&gt; {\n            LOG.info(\"Connection to DB established\");\n            connection = result;\n        })\n        .catch((err) =&gt; {\n            LOG.error(\"Could not establish connection to %s, retrying...\", URI);\n            LOG.error(err);\n            return delay(5000).then(connect);\n        });\n};\n</code></pre>\n"}], "owner": {"reputation": 15648, "user_id": 204693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6XaEW.jpg?s=128&g=1", "display_name": "F.P", "link": "https://stackoverflow.com/users/204693/f-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 58316362, "answer_count": 1, "score": 0, "last_activity_date": 1570687384, "creation_date": 1570646431, "question_id": 58310342, "link": "https://stackoverflow.com/questions/58310342/promise-with-settimeout", "title": "Promise with setTimeout", "body": "<p>I want to rewrite this function to resolve the promise instead of calling the callback function in an attempt to better understand working with promises.</p>\n\n<pre><code>export const connect = (callback: CallableFunction|void): void =&gt; {\n    LOG.debug(\"Connecting to DB at %s\", URI);\n\n    connectToMongoDb(URI, opts)\n        .then((result) =&gt; {\n            LOG.debug(\"Connection established\");\n            connection = result;\n\n            if (callback) {\n                callback();\n            }\n        })\n        .catch((err) =&gt; {\n            LOG.error(\"Could not establish connection to %s, retrying...\", URI);\n            LOG.error(err);\n            setTimeout(() =&gt; connect(callback), 5000);\n        });\n};\n</code></pre>\n\n<p>However, I don't seem to be able to. I already tried the naive approach of doing</p>\n\n<pre><code>export const connect = (): Promise&lt;void&gt; =&gt; new Promise((resolve): void =&gt; {\n    // ...\u00b4\n        .then((result) =&gt; {\n            LOG.debug(\"Connection established\");\n            connection = result;\n            resolve();\n        })\n    // ...\n});\n</code></pre>\n\n<p>But this doesn't correctly resolve when the connection was established.</p>\n\n<p>What am I doing wrong? How can I rewrite this to properly use and resolve the Promise instead of using a callback function?</p>\n"}, {"tags": ["javascript", "arrays", "json", "typescript", "object"], "answers": [{"tags": [], "owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "is_accepted": false, "score": 0, "last_activity_date": 1570646310, "creation_date": 1570646310, "answer_id": 58310311, "question_id": 58310192, "link": "https://stackoverflow.com/questions/58310192/nested-array-object-comparison-with-another-array-of-elements-and-create-new-arr/58310311#58310311", "title": "nested array object comparison with another array of elements and create new array using Javascript or ES6", "body": "<p>So you want to remove the id from the abc objects and replace the sections array elements with the corresponding details objects? This looks like a job for forEach and map! The code I'm about to show also does a little bit of pre-processing of the sections array to make the overall code more efficient.</p>\n\n<pre><code>const sections = sectionDetail.reduce((result, section) =&gt; {\n    result[section.id] = section;\n    return result;\n}, {});\nabc.forEach(item =&gt; {\n    delete item.id;\n    item.sections = item.sections.map(id =&gt; sections[id]);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1570646331, "creation_date": 1570646331, "answer_id": 58310321, "question_id": 58310192, "link": "https://stackoverflow.com/questions/58310192/nested-array-object-comparison-with-another-array-of-elements-and-create-new-arr/58310321#58310321", "title": "nested array object comparison with another array of elements and create new array using Javascript or ES6", "body": "<p>You could take a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a> and then map the data with the items of <code>sectionDetail</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sectionDetail = [{ id: 1, name: 'ma' }, { id: 2, name: 'na' }, { id: 3, name: 'ra' }, { id: 4, name: 'ka' }, { id: 5, name: 'pa' }],\r\n    data = [{ id: '1', name: 'zam', sections: ['1', 4] }, { id: '2', name: 'dam', sections: ['3'] }, { id: '3', name: 'nam', sections: ['2', '4'] }],\r\n    map = new Map(sectionDetail.map(o =&gt; [o.id, o])),\r\n    result = data.map(({ name, sections }) =&gt;\r\n        ({ name, sections: sections.map(id =&gt; map.get(+id)) })\r\n    );\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "is_accepted": true, "score": 2, "last_activity_date": 1570646368, "creation_date": 1570646368, "answer_id": 58310326, "question_id": 58310192, "link": "https://stackoverflow.com/questions/58310192/nested-array-object-comparison-with-another-array-of-elements-and-create-new-arr/58310326#58310326", "title": "nested array object comparison with another array of elements and create new array using Javascript or ES6", "body": "<p>You can basically filter the sections from <code>sectionDetail</code> based on whether the <code>object.id</code> inside it is included in the <code>sections</code> of <code>abc</code>. I have mapped the indexes to number in both cases since one was string and the other was integer.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>sectionDetail = [{id: 1, name:'ma'}, {id: 2, name:'na'}, {id: 3, name:'ra'}, {id: 4, name:'ka'}, {id: 5, name:'pa'}];\r\n\r\nabc = [{id:'1', name:'zam', sections:['1',4]}, {id:'2', name:'dam', sections:['3']}, {id:'3', name:'nam', sections:['2','4']}];\r\n\r\nxyz = abc.map(item =&gt; ({...item, sections: sectionDetail.filter(sect =&gt; item.sections.map(id =&gt; parseInt(id)).includes(parseInt(sect.id)))}));\r\n\r\nconsole.log(xyz);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 0, "last_activity_date": 1570648761, "creation_date": 1570648761, "answer_id": 58310892, "question_id": 58310192, "link": "https://stackoverflow.com/questions/58310192/nested-array-object-comparison-with-another-array-of-elements-and-create-new-arr/58310892#58310892", "title": "nested array object comparison with another array of elements and create new array using Javascript or ES6", "body": "<p>Try like this:</p>\n\n<pre><code>const sectionDetail = [\n    { id: 1, name: 'ma' },\n    { id: 2, name: 'na' },\n    { id: 3, name: 'ra' },\n    { id: 4, name: 'ka' },\n    { id: 5, name: 'pa' }];\n\nconst abc = [\n    { id: '1', name: 'zam', sections: ['1', 4] },\n    { id: '2', name: 'dam', sections: ['3'] },\n    { id: '3', name: 'nam', sections: ['2', '4'] }\n];\n\nconst desired = abc.map(({id, name, sections}) =&gt; {\n    return {id, name, sections : sectionDetail.filter(f =&gt; {\n        return sections.map(s =&gt; +s).includes(f.id)\n    })};\n\n})\n\nconsole.log(desired);\n</code></pre>\n\n<p>where <code>+s</code> is casting to <code>Number</code> type.</p>\n"}], "owner": {"reputation": 241, "user_id": 7790714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/482694875650065afd559e1ecaf09530?s=128&d=identicon&r=PG&f=1", "display_name": "kishore", "link": "https://stackoverflow.com/users/7790714/kishore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 58310326, "answer_count": 4, "score": 0, "last_activity_date": 1570648761, "creation_date": 1570645695, "last_edit_date": 1570646092, "question_id": 58310192, "link": "https://stackoverflow.com/questions/58310192/nested-array-object-comparison-with-another-array-of-elements-and-create-new-arr", "title": "nested array object comparison with another array of elements and create new array using Javascript or ES6", "body": "<p>I have a complex array's like shown below </p>\n\n<pre><code>sectionDetail = [{id: 1, name:'ma'}, {id: 2, name:'na'}, {id: 3, name:'ra'}, {id: 4, name:'ka'}, {id: 5, name:'pa'}];\n\nabc = [{id:'1', name:'zam', sections:['1',4]}, {id:'2', name:'dam', sections:['3']}, {id:'3', name:'nam', sections:['2','4']}];\n</code></pre>\n\n<p>Now I have to loop through the <code>abc</code> with respect to sections to replace the array elements with their respective <code>sectionDetail</code> values</p>\n\n<p>I have tried by looping it to a new variable but my sections is getting replaced every time. below is the code i tried.</p>\n\n<pre><code>const matchingBoost = [];\nconst getCategoryBasedBoostList = [];\nabc.forEach((item, i) =&gt; {\n    sectionDetail.forEach((val, index) =&gt; {\n      item.section.forEach((value, x) =&gt; {\n        if (value == val.Id) {\n          matchingBoost.push(val);\n        }\n      });\n    });\n    getCategoryBasedBoostList.push({\n      Name: item.Name,\n      Boost: matchingBoost\n    });\n  });\n</code></pre>\n\n<p>so basically I'm looking for a new array something like this </p>\n\n<pre><code>xyz = [{name:'zam',  sections:[{id: 1, name:'ma'}, {id: 4, name:'ka'}]},\n{name:'dam',  sections:[{id: 3, name:'ra'}]}, {name:'nam',  sections:[{id: 2, name:'na'}, {id: 4, name:'ka'}]}];\n</code></pre>\n\n<p>hoping I made sense and hoping for some response.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1570646562, "post_id": 58310111, "comment_id": 102982243, "body": "private class members were implemented in TypeScript long ago in way that required them to be considered for type compatibility, see explanation in <a href=\"https://github.com/microsoft/TypeScript/issues/18499#issuecomment-329842291\" rel=\"nofollow noreferrer\">this issue comments</a>"}, {"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1570647274, "post_id": 58310111, "comment_id": 102982515, "body": "@artem \u2014 if you&#39;d like to promote this comment to an answer, I&#39;ll accept it."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1570648123, "post_id": 58310111, "comment_id": 102982880, "body": "I think your question asks for more than that comment addresses, you could answer it yourself and describe how that particular problem could be solved"}, {"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1570648599, "post_id": 58310111, "comment_id": 102983092, "body": "@artem \u2014 I actually did figure out a satisfactory solution!  See below."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570674832, "post_id": 58310111, "comment_id": 102989837, "body": "the simplest solution is to not make it private."}, {"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570686797, "post_id": 58310111, "comment_id": 102992565, "body": "@AluanHaddad \u2014 that isn&#39;t simple: I then have to actually implement that property (which accomplishes nothing) on the mock."}, {"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "edited": false, "score": 1, "creation_date": 1570731508, "post_id": 58310111, "comment_id": 103015913, "body": "<code>Partial&lt;&gt;</code> does not guarantee that the <code>bar()</code> method is set.  <code>Public</code> (my invention) does."}], "answers": [{"comments": [{"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "edited": false, "score": 0, "creation_date": 1570646135, "post_id": 58310211, "comment_id": 102982072, "body": "Doesn&#39;t serve my purpose: I have a complex class and I want to make a stub of it to inject."}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 2, "creation_date": 1570649113, "post_id": 58310211, "comment_id": 102983315, "body": "Typescript explicitly allows interfaces to extend from classes, so if you say &quot;it shouldn&#39;t be done&quot; you should have a reason or source to back that up."}, {"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1570654232, "post_id": 58310211, "comment_id": 102985313, "body": "@IngoB&#252;rk \u2014 much as I didn&#39;t like the answer, he did in fact give a reason: interface defines characteristics of an object and classes define what objects are."}], "tags": [], "owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "is_accepted": false, "score": -3, "last_activity_date": 1570645883, "creation_date": 1570645883, "answer_id": 58310211, "question_id": 58310111, "link": "https://stackoverflow.com/questions/58310111/why-is-a-private-property-part-of-the-interface/58310211#58310211", "title": "Why is a private property part of the interface?", "body": "<p>an interface should not extend a class. interface defines characteristics of an object (interface Drinkable) and classes define what objects are (class Water).\nso I suggest you define an interface and let your class implement that interface</p>\n"}, {"tags": [], "owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "is_accepted": false, "score": 2, "last_activity_date": 1570648483, "creation_date": 1570648483, "answer_id": 58310821, "question_id": 58310111, "link": "https://stackoverflow.com/questions/58310111/why-is-a-private-property-part-of-the-interface/58310821#58310821", "title": "Why is a private property part of the interface?", "body": "<p>Ryan Cavanaugh, development lead for the Typescript team at Microsoft, <a href=\"https://github.com/microsoft/TypeScript/issues/18499#issuecomment-329842291\" rel=\"nofollow noreferrer\">wrote</a>: </p>\n\n<blockquote>\n  <p>Allowing the private fields to be missing would be an enormous\n  problem, not some trivial soundness issue.</p>\n  \n  <p>Consider this code:</p>\n\n<pre><code>class Identity {\n  private id: string = \"secret agent\";\n  public sameAs(other: Identity) {\n    return this.id.toLowerCase() === other.id.toLowerCase();\n  }\n}\n\nclass MockIdentity implements Identity {\n  public sameAs(other: Identity) { return false; }\n}\n</code></pre>\n  \n  <p><code>MockIdentity</code> is a public-compatible version of <code>Identity</code> but\n  attempting to use it as one will crash in <code>sameAs</code> when a non-mocked \n  copy interacts with a mocked copy.</p>\n</blockquote>\n\n<p>Which sucks.  It makes perfect sense, but it sucks.</p>\n\n<p><strong>But</strong> I found a workaround that solves my problem:</p>\n\n<pre><code>type Public&lt;T&gt; = {\n    [P in keyof T]: T[P];\n};\n\nclass X  {\n    bar() {\n        return \"bar\"\n    }\n    constructor(private readonly x: number){}\n}\n\ninterface Y extends Public&lt;X&gt; { }\n\nconst f = (y: Y) =&gt; { console.log(y.bar()); }\n\nf({ bar: () =&gt; \"tavern\"});\n</code></pre>\n\n<p>This allows me to mock out complex types reliably, without having to also mock out private data.</p>\n\n<p>This is safe <em>in a test context</em>, where mocked instances and real instances never interact.</p>\n"}], "owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570648483, "creation_date": 1570645322, "question_id": 58310111, "link": "https://stackoverflow.com/questions/58310111/why-is-a-private-property-part-of-the-interface", "title": "Why is a private property part of the interface?", "body": "<p>Consider the following:</p>\n\n<pre><code>class X  {\n    bar() {\n        return \"bar\"\n    }\n    constructor(private readonly x: number){}\n}\n\ninterface Y extends X {\n}\n\n\nconst f = (y: Y) =&gt; { console.log(y.bar()); }\n\nf({ bar: () =&gt; \"tavern\"});\n</code></pre>\n\n<p>It does not compile, because <code>x</code> is missing. </p>\n\n<pre><code>f({ bar: () =&gt; \"tavern\", x: 1});\n</code></pre>\n\n<p>does not compile because <code>x</code> isn't private. </p>\n\n<p>Re-writing the code so it's possible to declare the <code>x</code> private </p>\n\n<pre><code>class Y implements X {\n    bar() {\n        return \"tavern\"\n    }\n    private x = 1;\n}\n</code></pre>\n\n<p>is rejected because \"types have separate declarations\".</p>\n\n<p>The only solution I have found is to remove the <code>private</code> from the constructor.</p>\n\n<p>What I'd really like to do is the first: I don't care about private properties of the class, and I especially don't care about private members declared within the constructor.</p>\n\n<p>My two questions are:</p>\n\n<ol>\n<li>Why is this the case?</li>\n<li>What, if anything, can I do so I don't have to worry about private properties?</li>\n</ol>\n"}, {"tags": ["typescript", "jestjs"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570645469, "post_id": 58310060, "comment_id": 102981765, "body": "There are <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/f104ec4ddf4a979321be38300a450cca71f5f567/types/jest\" rel=\"nofollow noreferrer\">published type definition files for jest</a>..."}], "answers": [{"tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": true, "score": 1, "last_activity_date": 1570677047, "creation_date": 1570677047, "answer_id": 58314910, "question_id": 58310060, "link": "https://stackoverflow.com/questions/58310060/typescript-function-returning-jest-test-what-should-return-type-be/58314910#58314910", "title": "Typescript function returning jest test - what should return type be", "body": "<p>The return value of <code>test</code> or <code>it</code> is <code>void</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const foo = (): void =&gt;\n  test('this is a test', () =&gt; {\n    expect(true).toBeTruthy();\n  });\n\ndescribe('test suites', () =&gt; {\n  foo();\n});\n</code></pre>\n\n<p>Unit test result:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> PASS  src/stackoverflow/58310060/index.spec.ts (10.251s)\n  test suites\n    \u2713 this is a test (6ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        12.401s\n</code></pre>\n\n<p>Source code: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/58310060\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/58310060</a></p>\n"}], "owner": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 58314910, "answer_count": 1, "score": -1, "last_activity_date": 1570677182, "creation_date": 1570645124, "last_edit_date": 1570677182, "question_id": 58310060, "link": "https://stackoverflow.com/questions/58310060/typescript-function-returning-jest-test-what-should-return-type-be", "title": "Typescript function returning jest test - what should return type be", "body": "<p>If I encapsulate a jest test in a function using TypeScript, what should be the expected return type? Thanks.</p>\n\n<pre><code>const foo:JestReturnType = () =&gt; test('this is a test', expect(true).toBeTruthy());\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "vue.js", "chart.js"], "comments": [{"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 0, "creation_date": 1570644728, "post_id": 58309897, "comment_id": 102981419, "body": "can you share a codesandbox or a blitz to check the scenario ?"}, {"owner": {"reputation": 473, "user_id": 2886688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HllUI.jpg?s=128&g=1", "display_name": "Eduardo P&#225;ez Rubio", "link": "https://stackoverflow.com/users/2886688/eduardo-p%c3%a1ez-rubio"}, "edited": false, "score": 1, "creation_date": 1570660962, "post_id": 58309897, "comment_id": 102987265, "body": "Would the CSS property <code>pointer-events: none</code> work for you? <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/CSS/pointer-events</a>"}, {"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "reply_to_user": {"reputation": 473, "user_id": 2886688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HllUI.jpg?s=128&g=1", "display_name": "Eduardo P&#225;ez Rubio", "link": "https://stackoverflow.com/users/2886688/eduardo-p%c3%a1ez-rubio"}, "edited": false, "score": 0, "creation_date": 1570710338, "post_id": 58309897, "comment_id": 103004384, "body": "@EduardoP&#225;ezRubio thank you my friend, it works exactly as I needed, if you write answer I will accept it."}], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 2886688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HllUI.jpg?s=128&g=1", "display_name": "Eduardo P&#225;ez Rubio", "link": "https://stackoverflow.com/users/2886688/eduardo-p%c3%a1ez-rubio"}, "is_accepted": true, "score": 1, "last_activity_date": 1570746243, "creation_date": 1570746243, "answer_id": 58331866, "question_id": 58309897, "link": "https://stackoverflow.com/questions/58309897/bubbling-mouse-event-to-parent-canvas-that-is-of-chart-js/58331866#58331866", "title": "Bubbling mouse event to parent canvas that is of chart.js", "body": "<p>A simple way to prevent mouse events on your elements and, as a result, getting them in the element behind is using the CSS property <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\" rel=\"nofollow noreferrer\">pointer-events</a></p>\n\n<p>For your case, simply set the property with the value none in your tooltip class:</p>\n\n<pre><code>.tooltip {\n    pointer-events: none;\n    position: absolute;\n    width: 300px;\n}\n</code></pre>\n"}], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 58331866, "answer_count": 1, "score": 0, "last_activity_date": 1570746243, "creation_date": 1570644477, "question_id": 58309897, "link": "https://stackoverflow.com/questions/58309897/bubbling-mouse-event-to-parent-canvas-that-is-of-chart-js", "title": "Bubbling mouse event to parent canvas that is of chart.js", "body": "<p>I implemented custom tooltip over chart.js chart by using div that is moving above chart. My tooltip is somehow catching mouse events what is probably expected but I want to propagate it to parent element chart so data points are updated correctly and tooltip get repositioned. I didn't get how to do it as mostly people are trying to do opposite. As you see I tried some bubbling by calling emit directly on chart or as is seen in code by just simply calling emit.</p>\n\n<p>Tooltip template looks like this:</p>\n\n<pre><code>&lt;template&gt;\n&lt;div :style=\"computedStyle\" class=\"tooltip\" @mouseover=\"$emit('mouseover')\" @mousemove=\"$emit('mousemove')\"&gt;\n    &lt;div ref=\"tooltip-background\" v-html=\"svg\" class=\"tooltip-background\"/&gt;\n    &lt;div class=\"tooltip-content\"&gt;\n        &lt;div v-for=\"item of this.items\"&gt;\n            &lt;div class=\"tooltip-content-values\"&gt;\n                &lt;span class=\"\"&gt;User activity: &lt;/span&gt;\n                &lt;span class=\"tooltip-content-values-value\"&gt;{{item.value}}&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"tooltip-content-date\"&gt;{{date}}&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;style scoped&gt;\n.tooltip {\n    position: absolute;\n    width: 300px;\n}\n\n.tooltip-background {\n    width: 300px;\n    position: absolute;\n    z-index: 1\n}\n\n.tooltip-content {\n    position: absolute;\n    z-index: 2;\n    margin-left: 25px;\n    margin-top: 3px;\n    padding: 15px;\n}\n\n.tooltip-content-values {\n    font-family: Work Sans, sans-serif;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 20px;\n    color: #666666;\n}\n\n.tooltip-content-values-value {\n    font-family: Work Sans, sans-serif;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 20px;\n    color: #111111;\n}\n\n.tooltip-content-date {\n    margin-top: 5px;\n    font-family: Work Sans, sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 12px;\n    line-height: 24px;\n    color: #666666;\n    opacity: 0.5;\n}\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1780, "user_id": 3265718, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0a62a76012fa8333d3de491e12d4ea48?s=128&d=identicon&r=PG&f=1", "display_name": "userqwert", "link": "https://stackoverflow.com/users/3265718/userqwert"}, "edited": false, "score": 0, "creation_date": 1570645387, "post_id": 58310071, "comment_id": 102981728, "body": "Thanks Brandon, I&#39;m not too familiar with hooks yet. This is very helpful."}], "tags": [], "owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "is_accepted": true, "score": 7, "last_activity_date": 1570645162, "creation_date": 1570645162, "answer_id": 58310071, "question_id": 58309883, "link": "https://stackoverflow.com/questions/58309883/react-how-to-solve-a-memory-leak/58310071#58310071", "title": "React how to solve a memory leak", "body": "<p>The problem is this effect:</p>\n\n<pre><code>useEffect(() =&gt; void setInterval(() =&gt; set(state =&gt; (state + 1) % images.length), 5000), [])\n</code></pre>\n\n<p>This starts an interval that never ends.  You need to tell <code>useEffect</code> how to cleanup your effect by returning a cleanup function:</p>\n\n<pre><code>useEffect(() =&gt; {\n  const id = setInterval(() =&gt; set(state =&gt; (state + 1) % images.length, 5000)\n\n  // return cleanup method\n  return () =&gt; clearInterval(id);\n}, []);\n</code></pre>\n"}], "owner": {"reputation": 1780, "user_id": 3265718, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0a62a76012fa8333d3de491e12d4ea48?s=128&d=identicon&r=PG&f=1", "display_name": "userqwert", "link": "https://stackoverflow.com/users/3265718/userqwert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1813, "favorite_count": 0, "accepted_answer_id": 58310071, "answer_count": 1, "score": 0, "last_activity_date": 1570645162, "creation_date": 1570644352, "question_id": 58309883, "link": "https://stackoverflow.com/questions/58309883/react-how-to-solve-a-memory-leak", "title": "React how to solve a memory leak", "body": "<p>I am getting the following error:</p>\n\n<blockquote>\n  <p>Can't perform a React state update on an unmounted component. This is\n  a no-op, but it indicates a memory leak in your application. To fix,\n  cancel all subscriptions and asynchronous tasks in a useEffect cleanup\n  function.</p>\n</blockquote>\n\n<p>This is being caused by the following hooks based component</p>\n\n<pre><code>import { animated, config, useTransition } from 'react-spring'\nimport styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\n\nconst ProductImage = styled(animated.div)`\n  background: ${({ colour }) =&gt; colour} url(${({ image }) =&gt; image}) no-repeat center;\n  background-size: cover;\n  transition: background-image 0.2s ease-in-out;\n  width: 100%;\n  height: 100%;\n`\n\ninterface Props {\n  images: string[]\n  colour?: string\n}\n\nconst Gallery = ({ images, colour }: Props) =&gt; {\n  const [index, set] = useState(0)\n  const transitions = useTransition(images[index], image =&gt; image, {\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n    config: config.molasses\n  })\n  useEffect(() =&gt; void setInterval(() =&gt; set(state =&gt; (state + 1) % images.length), 5000), [])\n  return (\n    &lt;&gt;\n      {transitions.map(({ item, props, key }) =&gt; (\n        &lt;ProductImage key={key} image={item} style={props} colour={colour} /&gt;\n      ))}\n    &lt;/&gt;\n  )\n}\n\nexport default Gallery\n</code></pre>\n\n<p>I think that the <code>set()</code> method is being called after leaving the page. Normally I would handle this inside a <code>componentDidUnmount()</code> method, where I could set some flag to stop the call. I am unsure what to do when using hooks. Does anyone know how to solve this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570644497, "post_id": 58309872, "comment_id": 102981292, "body": "Please include code and errors as text, not as images."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570644588, "post_id": 58309872, "comment_id": 102981350, "body": "Also, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\" rel=\"nofollow noreferrer\">string already has <code>includes</code></a>..."}, {"owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570645127, "post_id": 58309872, "comment_id": 102981609, "body": "I included them as images so that one could <b>see</b> the location of the errors. I&#39;ll add the text description of them too. Also it looks like my ignorance is showing and should use <code>includes</code> for this, but would still like to know the answer."}, {"owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570646079, "post_id": 58309872, "comment_id": 102982042, "body": "there is no <code>includes</code> method on string."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570646303, "post_id": 58309872, "comment_id": 102982153, "body": "The link in my comment points to the documentation for that method, and has links to the standards where it was defined. TypeScript depends on updated type definitions; perhaps you&#39;re using an older version of TypeScript?"}, {"owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570654047, "post_id": 58309872, "comment_id": 102985234, "body": "Still, is there an answer to the question being asked? Why can&#39;t I extend built-in types as indicated in the linked question?"}], "answers": [{"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 0, "last_activity_date": 1570655137, "last_edit_date": 1570655137, "creation_date": 1570654823, "answer_id": 58312226, "question_id": 58309872, "link": "https://stackoverflow.com/questions/58309872/what-is-causing-vs-to-not-allow-me-to-extend-built-in-types-with-typescript/58312226#58312226", "title": "What is causing VS to not allow me to extend built-in types with TypeScript", "body": "<p>Concerning your first error </p>\n\n<blockquote>\n  <p>TS2339  Build:Property 'contains' does not exist on type 'String'</p>\n</blockquote>\n\n<p>make sure to extend the <code>String</code> interface in the global scope, not in a module file. That means, there may not be any <code>export</code> or <code>import</code> at the file top-level.</p>\n\n<pre><code>interface String {\n    foo(): void\n}\n\nString.prototype.foo = () =&gt; { console.log(\"bar\") }\n\n\"aksljflasd\".foo()\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=5&amp;ssc=52&amp;pln=5&amp;pc=1#code/JYOwLgpgTgZghgYwgAgMpiqA5sg3gKGSORgHtSAKASgC5kA3U4AE3wF9991MQsA6AA5RSYEQE8BEPmVLIAvMmryAfHmQJSIAM6kANlN2ksFAEQAjOFBNVkHfCbgBrLboBWMXXC3MT08tXwgA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>You could also use <code>declare global</code> in a module file:</p>\n\n<pre><code>export {}\n\ndeclare global {\n    interface String {\n        foo(): void\n    }\n}\n\n\"aksljflasd\".foo()\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBAbwL4CgUBNgGMA2BDKYOAcxwgCM8dEU465RJY4BLAOxmCgDM8siAyjCjtiNehLjcIEABQBKAFxwAbhBbpa9VKhRCRbYgDowUCDHMBPMMCPSIcALxwFTgHyI4WCGwDOEHFsyYlkAIkooUPk4XVC8AGtfHAArbnxfdFC7GQUgA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>Concerning second error </p>\n\n<blockquote>\n  <p>Property <code>includes</code> does not exist on type 'string'</p>\n</blockquote>\n\n<p>you need minimum <code>ES6</code> for <code>String.prototype.includes</code>. So it is likely, that you have <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\"><code>target</code></a> of <code>ES5</code> or lower in <code>tsconfig.json</code>. Also, when you manually set <code>lib</code> option, make sure to have <code>ES2015.Core</code> included.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/?target=1#code/EQQwNg1gJgZgVuAzrOwB0BLAdgYzAVygFNEAKYAFxIuAEoACAekfqICc2B7NgGnoHcAFkSz0AogGUArPQyJ6FEGwDmRCmiA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654865, "creation_date": 1570654865, "answer_id": 58312239, "question_id": 58309872, "link": "https://stackoverflow.com/questions/58309872/what-is-causing-vs-to-not-allow-me-to-extend-built-in-types-with-typescript/58312239#58312239", "title": "What is causing VS to not allow me to extend built-in types with TypeScript", "body": "<p>It depends from your project tsconfig file. This is full specification - <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">tsconfig</a>. Take a closer look at --lib option. Generally in order to have functionalities from different ECMAScript specs it needs to be defined in there. </p>\n\n<p>Take a look on the same issue - <a href=\"https://github.com/Microsoft/TypeScript/issues/11890\" rel=\"nofollow noreferrer\">no includes in string</a>. So looks like compilation needs to have es2016 lib added (or newer spec):</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n          // other options\n          \"lib\": [\n            \"es2019\" // any above or equal es2016\n          ]\n    },\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13818, "user_id": 4256274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbca4bdecca3a8c0663dea50bb099283?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Mac&#225;k", "link": "https://stackoverflow.com/users/4256274/dan-mac%c3%a1k"}, "is_accepted": false, "score": 0, "last_activity_date": 1570655467, "creation_date": 1570655467, "answer_id": 58312365, "question_id": 58309872, "link": "https://stackoverflow.com/questions/58309872/what-is-causing-vs-to-not-allow-me-to-extend-built-in-types-with-typescript/58312365#58312365", "title": "What is causing VS to not allow me to extend built-in types with TypeScript", "body": "<p>The example you posted works until you make an <strong>es6</strong> module out of it. Try to use <code>export</code> or <code>import</code> somewhere in the playground file and watch the errors pop up.</p>\n\n<p>The cleanest solution imho is to move the String interface declaration to a *.d.ts file and include it in the typescript compilation. I put the file into arbitrary /types folder and in my tsconfig.json use <code>\"include\": [\"types\"]</code> so that it gets picked up. Then you can perform the actual extension <code>String.prototype.contains = ...</code> in your code anywhere you like.</p>\n"}], "owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1570655467, "creation_date": 1570644340, "last_edit_date": 1570646214, "question_id": 58309872, "link": "https://stackoverflow.com/questions/58309872/what-is-causing-vs-to-not-allow-me-to-extend-built-in-types-with-typescript", "title": "What is causing VS to not allow me to extend built-in types with TypeScript", "body": "<p>I've seen <a href=\"https://stackoverflow.com/questions/38434337/how-to-create-an-extension-method-in-typescript-for-date-data-type\">this question</a> and other posts like it, and even done exactly what I wanted in the <a href=\"https://www.typescriptlang.org/play/?target=1#\" rel=\"nofollow noreferrer\">TS playground</a>, but in VS I get red underlines and build errors.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qW4Bn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qW4Bn.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Ko0Vh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ko0Vh.png\" alt=\"enter image description here\"></a></p>\n\n<p>error txt: \n<code>Error  TS2339  Build:Property 'contains' does not exist on type 'String'.</code></p>\n\n<p>Is there some configuration I'm missing?</p>\n\n<h2>Edit to illustrate comments:</h2>\n\n<p><a href=\"https://i.stack.imgur.com/4Fo3g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Fo3g.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "undefined", "strictnullchecks"], "answers": [{"comments": [{"owner": {"reputation": 4030, "user_id": 2075944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CGDE9.png?s=128&g=1", "display_name": "phry", "link": "https://stackoverflow.com/users/2075944/phry"}, "edited": false, "score": 0, "creation_date": 1570691766, "post_id": 58310167, "comment_id": 102994634, "body": "That makes sense. Thank you!"}], "tags": [], "owner": {"reputation": 905, "user_id": 9287029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5cd72ac1361a607ea6c2d1206e040f?s=128&d=identicon&r=PG", "display_name": "Chris Yungmann", "link": "https://stackoverflow.com/users/9287029/chris-yungmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1570645646, "creation_date": 1570645646, "answer_id": 58310167, "question_id": 58309586, "link": "https://stackoverflow.com/questions/58309586/typescript-can-i-check-if-a-type-contains-undefined-even-when-strictnullchecks/58310167#58310167", "title": "TypeScript: Can I check if a type contains undefined even when strictNullChecks is false?", "body": "<p>I do not believe this is possible.</p>\n\n<p>The name \"strictNullChecks\" is slightly misleading as it can suggest that it is merely instructing the TypeScript compiler to perform additional checks and emit additional warnings. However, it actually changes the underlying behavior of the type checker and the semantics of the <code>null</code> and <code>undefined</code> types. Per the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#--strictnullchecks\" rel=\"nofollow noreferrer\">TypeScript Guide</a>,</p>\n\n<blockquote>\n  <p>In strict null checking mode, the null and undefined values are not in the domain of every type and are only assignable to themselves and any (the one exception being that undefined is also assignable to void). So, whereas T and T | undefined are considered synonymous in regular type checking mode (because undefined is considered a subtype of any T), they are different types in strict type checking mode, and only T | undefined permits undefined values. The same is true for the relationship of T to T | null.</p>\n</blockquote>\n"}], "owner": {"reputation": 4030, "user_id": 2075944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CGDE9.png?s=128&g=1", "display_name": "phry", "link": "https://stackoverflow.com/users/2075944/phry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 58310167, "answer_count": 1, "score": 0, "last_activity_date": 1570645646, "creation_date": 1570643170, "question_id": 58309586, "link": "https://stackoverflow.com/questions/58309586/typescript-can-i-check-if-a-type-contains-undefined-even-when-strictnullchecks", "title": "TypeScript: Can I check if a type contains undefined even when strictNullChecks is false?", "body": "<p>We had an Issue in redux-starter-kit where a user of the library had strictNullChecks disabled and one of our type tests was short-cicuiting, returning types for a different case.</p>\n\n<p>This test should return the True-Parameter or the False-Parameter depending if the P parameter contains undefined or not.</p>\n\n<p>This is the current code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type IfMaybeUndefined&lt;P, True, False&gt; = [undefined] extends [P] ? True : False;\n</code></pre>\n\n<p>So I'm expecting both of these to return \"yes\":</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>IfMayBeUndefined&lt;number, \"no\", \"yes\"&gt;\nIfMayBeUndefined&lt;number|undefined, \"yes\", \"no\"&gt;\n</code></pre>\n\n<p>Now I'm asking myself if there is another way to test this, even with strictNullChecks: false</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1570643941, "post_id": 58309569, "comment_id": 102981016, "body": "Why are you setting the initial value of the form in the nested array in the first place? Is an API returning the data to you in this format?"}, {"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1570644290, "post_id": 58309569, "comment_id": 102981170, "body": "Yes..I am getting an array"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1570644611, "post_id": 58309569, "comment_id": 102981363, "body": "If it&#39;s coming as nested fields from the API, then wouldn&#39;t the API also accept it in a nested format? If not, then can you consider transforming the API response before setting the data? It would be easier that way."}, {"owner": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "edited": false, "score": 0, "creation_date": 1570645186, "post_id": 58309569, "comment_id": 102981634, "body": "This question looks like it can use some serious editing. Most of the code you provided was totally irrelevant to the question you are asking."}, {"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1570645483, "post_id": 58309569, "comment_id": 102981770, "body": "If you see the stackblitz example, In console I am getting for val attribute val: Array[2] 0: &quot;A&quot; 1: &quot;B&quot; <b>proto</b>: Object <b>proto</b>: Object .. I want to retrieve only the val values... something like this[&#39;&#193;&#39;,&#39;B&#39;]not the json object . How can I retrive that even though let say it is not a nested array[[&#39;A&#39;], [&#39;B&#39;]]?"}], "answers": [{"tags": [], "owner": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "is_accepted": false, "score": 0, "last_activity_date": 1570646229, "last_edit_date": 1592644375, "creation_date": 1570644626, "answer_id": 58309932, "question_id": 58309569, "link": "https://stackoverflow.com/questions/58309569/angular-flatten-inner-array/58309932#58309932", "title": "Angular flatten inner array", "body": "<p>Flattening some arrays is a trivial task with plain JS. Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat\" rel=\"nofollow noreferrer\"><code>Array.flat</code></a>, you can do this in one line.</p>\n<blockquote>\n<p>The flat() method creates a new array with all sub-array elements concatenated into it recursively up to the specified depth.</p>\n<p><strong>Syntax</strong></p>\n<p>var newArray = arr.flat([depth]);</p>\n<p><strong>Parameters</strong></p>\n<p>depth Optional</p>\n<p>The depth level specifying how deep a nested array structure should be flattened. Defaults to 1.</p>\n<p><strong>Return value</strong></p>\n<p>A new array with the sub-array elements concatenated into it.</p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//one level deep\nvar x = [['A'], ['B']];\nconsole.log(x.flat());\n// =&gt; ['A', 'B']\n\n//2 levels deep\nvar y = [[['A', 'B'], ['C']], ['D']];\nconsole.log(y.flat(2));\n// =&gt; ['A', 'B', 'C', 'D']</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570646229, "creation_date": 1570643085, "question_id": 58309569, "link": "https://stackoverflow.com/questions/58309569/angular-flatten-inner-array", "title": "Angular flatten inner array", "body": "<p>I am trying to get a value from nested array from a Form Values</p>\n\n<p>[['A'], ['B']]-- from this array</p>\n\n<p>['A','B'] --trying to get value like this</p>\n\n<p>stackblitz example\n  <a href=\"https://stackblitz.com/edit/angular-4d5vfj-p5adyk?file=main.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-4d5vfj-p5adyk?file=main.ts</a></p>\n\n<pre><code>  &lt;button (click)=\"addNewChipList()\"&gt;Add new Chip&lt;/button&gt;&lt;br&gt;&lt;br&gt;\n\n       &lt;form [formGroup]=\"myForm\"&gt;\n       &lt;ng-container formArrayName=\"names\"\n      *ngFor=\"let item of myForm.get('names').controls; let i = index;\"&gt;\n        &lt;mat-form-field class=\"example-chip-list\" [formGroupName]=\"i\"&gt;\n           &lt;mat-chip-list #chipList &gt;\n         &lt;mat-chip *ngFor=\"let val of item.value.val\"\n    [selectable]=\"selectable\"\n    [removable]=\"removable\"\n    (removed)=\"removeChip(item, val)\"&gt;\n    {{val}}\n    &lt;mat-icon matChipRemove *ngIf=\"removable\"&gt;cancel&lt;/mat-icon&gt;\n  &lt;/mat-chip&gt;\n  &lt;input [placeholder]=\"item.value.name\"\n    [matChipInputFor]=\"chipList\"\n    [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n    [matChipInputAddOnBlur]=\"addOnBlur\"\n    (matChipInputTokenEnd)=\"addChip($event, item)\"&gt;\n     &lt;/mat-chip-list&gt;\n    &lt;mat-error&gt;Atleast 1 name need to be added&lt;/mat-error&gt;\n      &lt;/mat-form-field&gt;\n            &lt;/ng-container&gt;\n\n           &lt;button (click)=\"save()\"&gt;save&lt;/button&gt;&lt;br&gt;&lt;br&gt;\n        &lt;/form&gt;\n</code></pre>\n\n<p>component.ts</p>\n\n<p>The componet file where I am trying to get form value</p>\n\n<pre><code>         export class ChipListValidationExample implements OnInit {\n         @ViewChild('chipList') chipList: MatChipList;\n        public myForm: FormGroup;\n\n       // name chips\n          visible = true;\n          selectable = true;\n          removable = true;\n          addOnBlur = true;\n       readonly separatorKeysCodes: number[] = [ENTER, COMMA];\n\n   // data\n     data = {\n          names: [this.initName('name1'), this.initName('name2', [['A'], \n      ['B']])]\n   }\n\n    constructor(private fb: FormBuilder) {\n this.myForm = this.fb.group({\n   names: this.fb.array(this.data.names, this.validateArrayNotEmpty)\n      });\n      }\n\n  ngOnInit() {\n this.myForm.get('names').statusChanges.subscribe(\n  status =&gt; this.chipList.errorState = status === 'INVALID'\n         );\n      }\n\n   initName(name: string, val: string[] = []): FormControl {\n     return this.fb.control({ name, val});\n         }\n\n            validateArrayNotEmpty(c: FormControl) {\n    if (c.value &amp;&amp; c.value.length === 0) {\n       return {\n         validateArrayNotEmpty: { valid: false }\n     };\n       }\n      return null;\n        }\n\n         addChip(event: MatChipInputEvent, ctrl: FormControl): void {\n        const input = event.input;\n            const value = event.value;\n\n// Add name\n        if ((value || '').trim()) {\n          const control = ctrl;\n      control.value.val.push(value.trim());\n         console.log(control.value);\n                }\n\n      // Reset the input value\n      if (input) {\n       input.value = '';\n         }\n           }\n\n       removeChip(ctrl, val) {\n     const idx = ctrl.value.val.findIndex(item =&gt; item === val);\n     ctrl.value.val.splice(idx, 1);\n      }\n\n          addNewChipList() {\n        const items = this.myForm.get('names') as FormArray;\n        items.push(this.initName(`name${items.length + 1}`));\n         }\n\n        save(){\n        console.log(\"FormValues\",this.myForm.value)\n        }\n\n        }\n</code></pre>\n\n<p>I am trying to get the form value as ['A','B']</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3911, "user_id": 2729937, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/742a6d2ae57a80bf7c7796b9fb45347e?s=128&d=identicon&r=PG&f=1", "display_name": "Ismael Miguel", "link": "https://stackoverflow.com/users/2729937/ismael-miguel"}, "edited": false, "score": 0, "creation_date": 1570642401, "post_id": 58309371, "comment_id": 102980333, "body": "Try checking <a href=\"https://stackoverflow.com/questions/38834625/whats-the-difference-between-extends-and-implements-in-typescript\" title=\"whats the difference between extends and implements in typescript\">stackoverflow.com/questions/38834625/&hellip;</a> as it seems to touch this topic a bit."}, {"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1570644209, "post_id": 58309371, "comment_id": 102981141, "body": "@Moira \u2014 not only is a duplicate, it was inspired by the same example, Inversify&#39;s sample <code>Ninja implements Ninja</code>."}], "answers": [{"tags": [], "owner": {"reputation": 7417, "user_id": 278488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e1d0dbb862f63559a2787f8b2e90b3d?s=128&d=identicon&r=PG", "display_name": "Russell Davis", "link": "https://stackoverflow.com/users/278488/russell-davis"}, "is_accepted": false, "score": 1, "last_activity_date": 1570643400, "creation_date": 1570643400, "answer_id": 58309641, "question_id": 58309371, "link": "https://stackoverflow.com/questions/58309371/x-implements-x-what-does-it-mean/58309641#58309641", "title": "X implements X \u2014 what does it mean?", "body": "<p>It doesn't accomplish anything. It tells the compiler to check that class X implements everything in class X, which of course will always be true.</p>\n"}], "owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1570644777, "answer_count": 1, "score": 0, "last_activity_date": 1570643400, "creation_date": 1570642199, "question_id": 58309371, "link": "https://stackoverflow.com/questions/58309371/x-implements-x-what-does-it-mean", "closed_reason": "Duplicate", "title": "X implements X \u2014 what does it mean?", "body": "<p>I've noticed that it's perfectly legal to write </p>\n\n<pre><code>class X implements X {\n  ...\n}\n</code></pre>\n\n<p>but I'm unclear on the semantics.  What does it actually do?  I want it to mean \"X is the name of a class, but we will use it as an interface\", but I notice you can write this:</p>\n\n<pre><code>class X  {\n...\n}\n\ninterface Y extends X {\n}\n</code></pre>\n\n<p>Which means that <code>implements X</code> isn't adding that.  So what does it add?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 3, "last_activity_date": 1570642708, "creation_date": 1570642708, "answer_id": 58309469, "question_id": 58309357, "link": "https://stackoverflow.com/questions/58309357/ts2349-cannot-invoke-an-expression-whose-type-lacks-a-call-signature/58309469#58309469", "title": "TS2349: Cannot invoke an expression whose type lacks a call signature", "body": "<p>The compiler cannot be sure, that a contained element in <code>array</code> is really a function, as you have declared it as union <code>string | Function</code>.</p>\n\n<p>To solve that, either declare <code>array</code> as a nested tuple <code>[string, Function][]</code></p>\n\n<pre><code>const func = (): string =&gt; 'hi';\nconst array: [string, Function][] = [['string', func]];\nconst response = array[0][1];\nresponse(); \n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=4&amp;ssc=13&amp;pln=1&amp;pc=1#code/MYewdgzgLgBAZgVzMGBeGAKAlALhtAJwEswBzNAPhgHIALI6gbgChRJYBDAgjgTzwDahEqQA0MAGJJgUIuAC6A+WhgCB1YWWrjEyefJZtoMAgFMIAB3ARTKrj14CADIoCMB5mcvXT2RjCA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>or use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#typeof-type-guards\" rel=\"nofollow noreferrer\"><code>typeof</code> type guard</a> to check for a function like</p>\n\n<pre><code>const func = (): string =&gt; 'hi';\nconst array: (string | Function)[][] = [['string', func]];\nconst response = array[0][1];\n\nif (typeof response === \"function\") {\n    response()\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=7&amp;ssc=2&amp;pln=1&amp;pc=1#code/MYewdgzgLgBAZgVzMGBeGAKAlALhtAJwEswBzNAPhgHIALI6gbgChRJYBDAgjgTzwyES5AD4wAYkmBQi4LAG0AukrQx586kLLUANPCmLFLNtBgEAphAAO4COdVceveQAZlARiPNmROJii8VuYgfhbWtvaoUTAARIjIMuAxWDAA3swwmWaWNpDm2MwAvkA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 58309469, "answer_count": 1, "score": 1, "last_activity_date": 1570642708, "creation_date": 1570642123, "question_id": 58309357, "link": "https://stackoverflow.com/questions/58309357/ts2349-cannot-invoke-an-expression-whose-type-lacks-a-call-signature", "title": "TS2349: Cannot invoke an expression whose type lacks a call signature", "body": "<p>I know this issue is covered in other posts but I still can't figure out how to make this work - I'm getting the error:</p>\n\n<p><code>TS2349: Cannot invoke an expression whose type lacks a call signature. Type 'string | Function' has no compatible call signatures.</code></p>\n\n<p>The console logs a function but I can't call it.</p>\n\n<p>Thanks in advance for any help. Here is my code:</p>\n\n<pre><code>const func = (): string =&gt; 'hi';\n\nconst array: (string | Function)[][] = [['string', func]];\n\nconst response = array[0][1];\n\nconsole.log(response); // \u0192 () { return 'hi'; }\n\nresponse(); // TS2349: Cannot invoke an expression whose type lacks a call signature. Type 'string | Function' has no compatible call signatures\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 15571, "user_id": 980799, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xbFy0.gif?s=128&g=1", "display_name": "Mister Epic", "link": "https://stackoverflow.com/users/980799/mister-epic"}, "edited": false, "score": 0, "creation_date": 1570643843, "post_id": 58309544, "comment_id": 102980971, "body": "Interesting, I&#39;ve seen the function returning a function pattern before but never really understood it until now."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1570642953, "creation_date": 1570642953, "answer_id": 58309544, "question_id": 58309345, "link": "https://stackoverflow.com/questions/58309345/pick-from-type-with-array-constrained-to-types-keys/58309544#58309544", "title": "Pick from type with array constrained to type&#39;s keys", "body": "<p>I would introduce a helper function to constrain the values in the array to elements of the keys of <code>Box</code> without just producing <code>Array&lt;keyof Box&gt;</code>:</p>\n\n<pre><code>const asKeysArray = &lt;T&gt;() =&gt; &lt;K extends keyof T&gt;(...k: K[]) =&gt; k;\nconst asBoxKeysArray = asKeysArray&lt;Box&gt;();\n</code></pre>\n\n<p>The first <code>asKeysArray()</code> function takes a type <code>T</code> and produces a new function which only accepts keys of the <code>T</code> type.  If we give it <code>Box</code> we get <code>asBoxKeysArray()</code>.  Then this function can be called like this:</p>\n\n<pre><code>const keysArray = asBoxKeysArray(\"length\", \"width\");\n// const keysArray: (\"length\" | \"width\")[]\n</code></pre>\n\n<p>You can see that <code>keysArray</code> is of type <code>Array&lt;\"length\" | \"width\"&gt;</code>, which is specific enough to make <code>Extracted</code> what you want:</p>\n\n<pre><code>type Extracted = PickWithArray&lt;Box, typeof keysArray&gt;;\n/*\ntype Extracted = {\n    length: number;\n    width: number;\n}\n*/\n</code></pre>\n\n<p>Aside: you might wonder why there isn't a <em>single</em> function <code>function asKeysArray&lt;T, K extends keyof T&gt;(...k: K[]): K[];</code>.  That is, why did I make a generic function take <code>T</code> and return a new generic function taking <code>K</code>?  The answer is that there's currently no way to do <a href=\"https://github.com/Microsoft/TypeScript/issues/26242\" rel=\"nofollow noreferrer\">partial type parameter inference</a> in TypeScript (see <a href=\"https://stackoverflow.com/questions/55754822/expected-3-type-arguments-but-got-1-but-it-should-infer-2-types\">related question</a>), so if we want to specify <code>T</code> but have <code>K</code> inferred, we have to do this function-returning-function thing or some other workaround.  </p>\n\n<p>Anyway, that should work for you.  Hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ts=3.7-Beta&amp;ssl=25&amp;ssc=3&amp;pln=20&amp;pc=1#code/JYOwLgpgTgZghgYwgAgEIHsAeyDeAoZQ5AGwhAHMwALALmRAFcBbAI2gG4CiB3YAE2p1GrDl0JUIwclTBDmbKJwC+ePAnQgAzmGQssdDNgC8uMSTKVayAEwAaM7wFWAjPaLIJUmXQDMeJZx4YACeAA4oAArACADWAOrA1ACCUFBwwQA8ACq2yEnIEJiQIHyayFAQcHwaxMHIABQxEMHoMMhZAJQA2gC6AHzIJlGx2blJXcIK-YHqWjpwmgDSzZopaXUm2X31HYMDGYsFRWSlyE0tbVnbAHS3MXSLvbtGAzGcs9rIC4bLwaup6UGXyWKzW6Qyhm2HXeGk+53+6yB3ywvwR6XqACJSBRqBjchjHLjoXgAPQk5AfHTwsHBOiY7GWDHIAA+yAJ-CJvSCYRQAFEimkEJA+EDhvFElQaRCsLkQuFWmdQQDgn1OCSAFTc8LIflgQXCoH4dwMwT0eSidyEqyTUQqdUkoA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 15571, "user_id": 980799, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xbFy0.gif?s=128&g=1", "display_name": "Mister Epic", "link": "https://stackoverflow.com/users/980799/mister-epic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58309544, "answer_count": 1, "score": 0, "last_activity_date": 1570642953, "creation_date": 1570642087, "question_id": 58309345, "link": "https://stackoverflow.com/questions/58309345/pick-from-type-with-array-constrained-to-types-keys", "title": "Pick from type with array constrained to type&#39;s keys", "body": "<p>I have the follolwing working code:</p>\n\n<pre><code>interface Box {\n    length: number;\n    width: number;\n    height: number;\n}\n\nconst box: Box = {\n    length: 2,\n    width: 1,\n    height: 3\n};\n\ntype PickWithArray&lt;T, A extends readonly (keyof T)[]&gt; = Pick&lt;T, A[number]&gt;;\n\nconst keysArray = [\"length\", \"width\"] as const;\ntype Extracted = PickWithArray&lt;Box, typeof keys2&gt;;\n</code></pre>\n\n<p>This works great, but when I create <code>keysArray</code>, I'd like to constrain the array's values to keys of the type so I can get autocomplete in my IDE. I've attempted the following:</p>\n\n<pre><code>type PickWithArrayKeys&lt;T&gt; = Array&lt;keyof T&gt;;\nconst pickedKeys: PickWithArrayKeys&lt;Box&gt; = [\"length\", \"width\"];\nconst keysArray = [...pickedKeys] as const; // Doesn't work, original type is persisted\ntype Extracted = PickWithArray&lt;Box, typeof keysArray&gt;;\n</code></pre>\n\n<p>This doesn't work, as <code>typeof keysArray</code> is actually <code>(\"length\" | \"width\" | \"height\")[]</code> so <code>Extracted</code> ends up being:</p>\n\n<pre><code>type Extracted = {\n    length: number;\n    width: number;\n    height: number; &lt;-- want this to be excluded\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1570643036, "post_id": 58309428, "comment_id": 102980613, "body": "Thanks @kag359six. Have applied a solution from <a href=\"https://github.com/mui-org/material-ui/issues/9072\" rel=\"nofollow noreferrer\">github.com/mui-org/material-ui/issues/9072</a>. Will accept your the answer."}], "tags": [], "owner": {"reputation": 1081, "user_id": 1742574, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f106646a8aeb5fbb8c155573cc4d5d6e?s=128&d=identicon&r=PG", "display_name": "kag359six", "link": "https://stackoverflow.com/users/1742574/kag359six"}, "is_accepted": true, "score": 1, "last_activity_date": 1570642465, "creation_date": 1570642465, "answer_id": 58309428, "question_id": 58309307, "link": "https://stackoverflow.com/questions/58309307/how-to-customise-dialogtitle-in-material-ui/58309428#58309428", "title": "How to customise DialogTitle in material-ui", "body": "<p>If you want to override the DialogTitle in your <code>theme.js</code> file, or wherever your theme is located, you can do the following:</p>\n\n<pre><code>MuiDialogTitle: {\n  root: {\n    color: 'blue'\n  }\n}\n</code></pre>\n\n<p>You have to mention the component class name. In the API section of every material ui component, the <a href=\"https://material-ui.com/api/dialog-title/#css\" rel=\"nofollow noreferrer\">name is specified here</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xKTx6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xKTx6.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2022, "favorite_count": 0, "accepted_answer_id": 58309428, "answer_count": 1, "score": 1, "last_activity_date": 1570642768, "creation_date": 1570641908, "last_edit_date": 1570642768, "question_id": 58309307, "link": "https://stackoverflow.com/questions/58309307/how-to-customise-dialogtitle-in-material-ui", "title": "How to customise DialogTitle in material-ui", "body": "<p>I am learning react and material-ui and trying to update the colour of the font in the DialogTitle component. This <a href=\"https://stackoverflow.com/questions/51820154/how-to-i-change-font-color-in-dialogtitle-and-dialogcontent-in-material-ui-in-re\">link</a> gave a solution of overriding the dialog root class (code listed below). How do I override the root class for DialogTitle so that I can change the style of the title?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>root: {\n    backgroundColor: theme.palette.primary.main,\n    '&amp; h6': {\n      color: 'red'\n    }\n  }\n</code></pre>\n\n<p>Found a <a href=\"https://github.com/mui-org/material-ui/issues/9072\" rel=\"nofollow noreferrer\">solution</a>. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;DialogTitle\n    disableTypography\n    id=\"alert-dialog-title\"\n    style={{ backgroundColor: 'navy', color: 'white' }}\n&gt;\n    &lt;Typography variant=\"h6\"&gt;{ErrorBoundary.title}&lt;/Typography&gt;\n&lt;/DialogTitle&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "maven"], "comments": [{"owner": {"reputation": 26265, "user_id": 927493, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sxsnm.png?s=128&g=1", "display_name": "J Fabian Meier", "link": "https://stackoverflow.com/users/927493/j-fabian-meier"}, "edited": false, "score": 0, "creation_date": 1570641530, "post_id": 58308986, "comment_id": 102979914, "body": "You already use filtering.  What does not work for you?"}, {"owner": {"reputation": 705, "user_id": 6410541, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/417640b2df0d2971920a60ac1c53369c?s=128&d=identicon&r=PG", "display_name": "Karu", "link": "https://stackoverflow.com/users/6410541/karu"}, "reply_to_user": {"reputation": 26265, "user_id": 927493, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sxsnm.png?s=128&g=1", "display_name": "J Fabian Meier", "link": "https://stackoverflow.com/users/927493/j-fabian-meier"}, "edited": false, "score": 0, "creation_date": 1570649328, "post_id": 58308986, "comment_id": 102983402, "body": "When I try to access it in app.component.html as follows, it just shows ${project.version} instead of the actual version. &lt;span [innerHTML]=&quot;&#39;${project.version}&#39;&quot;&gt;&lt;/span&gt;"}], "owner": {"reputation": 705, "user_id": 6410541, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/417640b2df0d2971920a60ac1c53369c?s=128&d=identicon&r=PG", "display_name": "Karu", "link": "https://stackoverflow.com/users/6410541/karu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570652000, "creation_date": 1570640421, "last_edit_date": 1570652000, "question_id": 58308986, "link": "https://stackoverflow.com/questions/58308986/access-project-version-from-pom-xml-in-an-angular-project", "title": "Access project.version from pom.xml in an angular project", "body": "<p>I have an angular web app. I need to access the version in the pom.xml to display in app.component.html.\nI have the following in my pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;webResources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/webResources&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>How can I access this ${project.version} in my app.component.html or app.component.ts?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570645563, "post_id": 58308478, "comment_id": 102981802, "body": "What is your plan for handling this: <code>class BaseWithRaisins extends Base { raisins = 100; } rpcCall((x: BaseWithRaisins) =&gt; console.log(x.raisins.toFixed())); map.get(0)!.callback(new Base());</code>?  That will throw no compile-time errors, but you will explode at runtime, since a <code>Foo&lt;Base&gt;</code>&#39;s callback must accept <i>any</i> <code>Base</code>, but you gave it something that will only handle a <code>BaseWithRaisins</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570645677, "post_id": 58308478, "comment_id": 102981858, "body": "You <i>might</i> want to have <code>map</code> be a <code>Map&lt;number, Foo&lt;any&gt;&gt;</code>, but I don&#39;t see what you&#39;ll actually be able to <i>do</i> with it.  Presumably your use case somewhere involves pulling things out of the <code>map</code> and calling the callbacks, at which point you&#39;ll be stuck not knowing what types of argument it accepts.  Could you provide a fuller use case with example code for how you expect to use the map?"}], "answers": [{"tags": [], "owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "is_accepted": true, "score": 2, "last_activity_date": 1570645063, "creation_date": 1570645063, "answer_id": 58310047, "question_id": 58308478, "link": "https://stackoverflow.com/questions/58308478/confusing-error-with-generic-container-in-typescript/58310047#58310047", "title": "Confusing error with generic container in Typescript", "body": "<p>I'm going to add some properties to your code to illustrate this.</p>\n\n<pre><code>interface Base {\n    bar: string;\n}\n\ninterface Child extends Base {\n    magic: number;\n}\n\nclass Foo&lt;T extends Base&gt; {\n    constructor(public callback: (data: T) =&gt; void) {\n        // '{ bar: string; }' is assignable to the constraint of type 'T',\n        // but 'T' could be instantiated with a different subtype of constraint 'Base'.\n        callback({ bar: \"sweet\" });\n    }\n}\n\nlet map: Map&lt;number, Foo&lt;Base&gt;&gt; = new Map();\n\nrpcCall((d: Child) =&gt; d.magic);\n\nfunction rpcCall&lt;T extends Base&gt;(callback: (data: T) =&gt; void) {\n    // 'Base' is assignable to the constraint of type 'T',\n    // but 'T' could be instantiated with a different subtype of constraint 'Base'\n    map.set(0, new Foo(callback));\n}\n</code></pre>\n\n<p>Oh dear. More errors!</p>\n\n<p>As you can see, inside <code>Foo</code> I attempted to call the callback you defined, and passed it an object that extends <code>Base</code>, but it threw an error back at me.</p>\n\n<p>What if the callback is expecting a <code>Child</code>? Sure, anything that extends <code>Base</code> is fine as far as <code>Foo</code> cares, but how do you know what the callback itself is expecting?</p>\n\n<p>If you take a look at my usage of <code>rpcCall</code> where I legally gave it a callback expecting a <code>Child</code>, I am trying to use the <code>magic</code> property (which is marked as required in my <code>Child extends Base</code> interface).</p>\n\n<p>Basically at some point there might be an attempt to use something that does <em>not</em> exist on <code>Base</code>.</p>\n\n<p>If you replaced the generics with simply <code>Base</code> would make some of the errors would go away, but doing something like <code>rpcCall((d: Child) =&gt; d.magic)</code> would be disallowed. If you don't need non-base properties in these areas, this might be ok for you.</p>\n\n<hr>\n\n<p>The second version you provided works because <code>Foo2</code> is an empty class (the generic is completely ignored, in fact, since you don't use it).</p>\n\n<p>An empty class is equivalent to <code>{}</code>, which basically accepts everything except <code>null</code> and <code>undefined</code> (as far as I am aware). And when it comes to union types, any \"looser\" parameter will take precedence over the more stringent ones.</p>\n\n<p>The below are all equivalent (in this case):</p>\n\n<pre><code>Map&lt;number, Foo&lt;Base&gt; | Foo2&lt;Base&gt;&gt;\nMap&lt;number, Foo&lt;Base&gt; | {}&gt;\nMap&lt;number, Foo&lt;Foo2&lt;Base&gt;&gt;\nMap&lt;number, Foo&lt;{}&gt;\n</code></pre>\n\n<p>In fact, if you piped <code>| any</code> to the end of any union, that union effectively becomes <code>any</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 7417, "user_id": 278488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e1d0dbb862f63559a2787f8b2e90b3d?s=128&d=identicon&r=PG", "display_name": "Russell Davis", "link": "https://stackoverflow.com/users/278488/russell-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1570645853, "creation_date": 1570645853, "answer_id": 58310203, "question_id": 58308478, "link": "https://stackoverflow.com/questions/58308478/confusing-error-with-generic-container-in-typescript/58310203#58310203", "title": "Confusing error with generic container in Typescript", "body": "<p>It's a valid error. Under <code>--strictFunctionTypes</code> function type parameter positions are checked contravariantly.</p>\n\n<p>If TS allowed you to pass a function that requires an arbitrary subtype of <code>Base</code>, the <code>Foo</code> constructor would still be able to call it with just a plain <code>Base</code>, and the function expecting a specific subtype would fail.</p>\n\n<p>You can disable <code>--strictFunctionTypes</code> to make your code compile, but you'll lose some type safety, per above. See <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html</a> for details.</p>\n"}], "owner": {"reputation": 67096, "user_id": 265521, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/34a66330977044d70165288c56740d4b?s=128&d=identicon&r=PG", "display_name": "Timmmm", "link": "https://stackoverflow.com/users/265521/timmmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 58310047, "answer_count": 2, "score": 3, "last_activity_date": 1570645853, "creation_date": 1570638408, "last_edit_date": 1570638767, "question_id": 58308478, "link": "https://stackoverflow.com/questions/58308478/confusing-error-with-generic-container-in-typescript", "title": "Confusing error with generic container in Typescript", "body": "<p>Consider this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Base {}\n\nclass Foo&lt;T extends Base&gt; {\n  constructor(public callback: (data: T) =&gt; void) {\n  }\n}\n\nlet map: Map&lt;number, Foo&lt;Base&gt;&gt; = new Map();\n\nfunction rpcCall&lt;T extends Base&gt;(\n  callback: (data: T) =&gt; void,\n): void {\n  map.set(0, new Foo&lt;T&gt;(callback));\n}\n</code></pre>\n\n<p>It gives me this error:</p>\n\n<blockquote>\n  <p>Argument of type <code>Foo&lt;T&gt;</code> is not assignable to parameter of type <code>Foo&lt;Base&gt;</code>.</p>\n  \n  <p>Type <code>Base</code> is not assignable to type <code>T</code>.</p>\n  \n  <p><code>Base</code> is assignable to the constraint of type <code>T</code>, but <code>T</code> could be instantiated with a different subtype of constraint <code>Base</code>.</p>\n</blockquote>\n\n<p>I can't see why this shouldn't work. The error message seems correct, but I don't see why that is an error. I <em>want</em> <code>T</code> to be allowed to be a different subtype of constraint <code>Base</code>.</p>\n\n<p>Also, this <em>does</em> work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Base { }\n\nclass Foo&lt;T extends Base&gt; {\n  constructor(public callback: (data: T) =&gt; void) {\n  }\n}\n\nclass Foo2&lt;T extends Base&gt; {\n}\n\nlet map: Map&lt;number, Foo&lt;Base&gt; | Foo2&lt;Base&gt;&gt; = new Map();\n\nfunction rpcCall&lt;T extends Base&gt;(\n  callback: (data: T) =&gt; void,\n\n): void {\n  map.set(0, new Foo&lt;T&gt;(callback));\n}\n</code></pre>\n"}, {"tags": ["typescript", "multiple-inheritance"], "comments": [{"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 1, "creation_date": 1570639548, "post_id": 58308325, "comment_id": 102979043, "body": "Given the use case it&#39;s probably not a good idea to implement menu items as classes, you will end up with an extremely rigid system. What happens when you need to add a new menu item or change up a combo? Ideally the menu would be externalized as configurable data and you would create generic classes to consume that data."}, {"owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "edited": false, "score": 2, "creation_date": 1570641813, "post_id": 58308325, "comment_id": 102980050, "body": "consider using composition for combos, not inheritance"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570648325, "post_id": 58308325, "comment_id": 102982961, "body": "JS/TS don&#39;t have multiple class inheritance, due to the single prototype chain.  You could probably implement something with a <code>Proxy</code> or the like that behaves sort of like multiple inheritance, but you&#39;ll never get (<code>const frg = new FriedRiceAndGobi(); console.log(frg instanceof FriedRice &amp;&amp; frg instanceof Gobi)</code> to return <code>true</code>; at most one of those classes will be in the prototype chain for any object.  Composition is likely the way to go here; do you want an answer that shows how to do this?"}], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 5571752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36532a97d78017788ae0708fa8c81738?s=128&d=identicon&r=PG&f=1", "display_name": "atul", "link": "https://stackoverflow.com/users/5571752/atul"}, "edited": false, "score": 0, "creation_date": 1571497244, "post_id": 58313805, "comment_id": 103264902, "body": "This is exactly what I was looking for. Thanks!"}], "tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": true, "score": 1, "last_activity_date": 1570666597, "creation_date": 1570666597, "answer_id": 58313805, "question_id": 58308325, "link": "https://stackoverflow.com/questions/58308325/typescript-multiple-class-inheritance-design/58313805#58313805", "title": "Typescript multiple class inheritance design", "body": "<p>Typescript does not have support for multiple inheritance.</p>\n\n<p>There's a couple of different reasons why you would want multiple inheritance. Your example is however not one of them.</p>\n\n<p>If, using your example, I would need a single class that encapsulates both ingredients, this is how I would approach this:</p>\n\n<pre><code>class CombinedItem {\n   private menuItems: HasPrice[];\n   constructor(menuItems: hasPrice[]) {\n      this.menuItems = menuItems;\n   }\n   getPrice() {\n      return this.menuItems.reduce(\n         (acc, curr) =&gt; acc + curr.getPrice(),\n         0\n      );\n    }\n}\n</code></pre>\n\n<p>This could then be constructed as such:</p>\n\n<pre><code>const item = new CombinedItem([\n   new Rice(),\n   new Chicken()\n]);\n</code></pre>\n\n<p>CombinedItem is a class that can take any combination of inputs. If you want something really specific, you can do:</p>\n\n<pre><code>class ChickenAndRice {\n   private chicken: Chicken;\n   private rice: Rice;\n   constructor(chicken: Chicken, rice: Rice) {\n      this.chicken = chicken;\n      this.rice = rice;\n   }\n   getPrice() {\n      return this.chicken.getPrice() + this.rice.getPrice();\n    }\n}\n</code></pre>\n\n<p>But I'm not sure why you would ever want this.</p>\n\n<p>Thinking in the direction of inheritance for your problem is a common mistake, and right solution is to compose objects and classes together instead of inherit behavior.</p>\n"}], "owner": {"reputation": 411, "user_id": 5571752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36532a97d78017788ae0708fa8c81738?s=128&d=identicon&r=PG&f=1", "display_name": "atul", "link": "https://stackoverflow.com/users/5571752/atul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58313805, "answer_count": 1, "score": 2, "last_activity_date": 1570666597, "creation_date": 1570637815, "question_id": 58308325, "link": "https://stackoverflow.com/questions/58308325/typescript-multiple-class-inheritance-design", "title": "Typescript multiple class inheritance design", "body": "<p>I am designing a Menu system for a restaurent in Typescript. I have defined an interface to implement necessary function for each Menu Item :</p>\n\n<pre><code>interface HasPrice {\n    getPrice(): number;\n}\n</code></pre>\n\n<p>Each menu item is defined by a class.</p>\n\n<pre><code>class Gobi implements HasPrice {\n    getPrice() : number {\n        return 50;\n    }\n}\n\nclass FriedRice implements HasPrice {\n    getPrice() : number {\n        return 100;\n    }\n}\n</code></pre>\n\n<p>I am using decorator class to add toppings. eg.Fried Rice with chicken</p>\n\n<pre><code>class FriedRiceWithChicken implements HasPrice {\n    getPrice() : number {\n        return super.getPrice() + 25;\n    }\n}\n</code></pre>\n\n<p>Now I want to extend this system for combo menus. eg. Fried Rice + Gobi</p>\n\n<pre><code>class FriedRiceAndGobi extends FriedRice, Gobi {\n    getPrice() : number {\n        return FriedRice.getPrice() + Gobi.getPrice();\n    }\n}\n</code></pre>\n\n<p>How can I implement combo classes? Is there a way I can write a generic class/method to implement combo menu?</p>\n"}, {"tags": ["node.js", "typescript", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 4319037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c4ec8fa9868a4cc267aba97533c9c1?s=128&d=identicon&r=PG&f=1", "display_name": "kamilg", "link": "https://stackoverflow.com/users/4319037/kamilg"}, "is_accepted": true, "score": 1, "last_activity_date": 1570868415, "creation_date": 1570868415, "answer_id": 58352238, "question_id": 58308289, "link": "https://stackoverflow.com/questions/58308289/auto-fill-dto-fields-with-other-data-than-request-body-data/58352238#58352238", "title": "Auto-fill DTO fields with other data than request body data", "body": "<p><code>@Body</code> only wraps actual request body into instance of the <code>CreateFolderDto</code> class. As the body which comes to your endpoint has no such a field, you need to add it manually.</p>\n\n<p>Normally, aggregated fields could be added with custom constructor of your DTO:</p>\n\n<pre><code>export class CreateFolderDto {\n    public readonly name: string\n    public readonly session_uuid: string\n\n    constructor(bodyValue: any = {}) {\n       this.name = bodyValue.name\n       this.session_uuid = generateUuid()\n    }\n}\n</code></pre>\n\n<p>But in your case, <code>user</code> is attached to <code>request</code> itself, so I believe you have the following options:</p>\n\n<ol>\n<li><p>Check out your code which attaches the <code>user</code> to request itself. If you are using JWT Auth described in NestJS docs, you cannot do this that way.</p></li>\n<li><p>You can write custom Interceptor:</p></li>\n</ol>\n\n<pre><code>Injectable()\nexport class ExtendBodyWithUserId implements NestInterceptor {\n  async intercept(context: ExecutionContext, next: CallHandler) {\n    const request = context.switchToHttp().getRequest()\n    request.body.user_id = request.user\n    return next.handle()\n  }\n}\n\n// usage\n@UseGuards(AuthGuard('jwt'))\n@UseInterceptors(ExtendBodyWithUserId)\n@Post()\npublic create(@Request() req, @Body() createFolderDto: CreateFolderDto) {\n    return this.folderService.create(createFolderDto)\n}\n</code></pre>\n\n<p>Last but not least, some personal recommendation. Consider how much you will use this interceptor as an extension, as too many of 'extras' like this bloat the codebase. </p>\n\n<p>I would recommend to change the <code>folderService</code> signature to:\n<code>create(createFolderDto: CreateFolderDto, user: User)</code>, where folder dto has only the name, without user-related entry. You keep the consistency, separation and clear intentions. In the implementation of <code>create</code> you can just pass <code>user.id</code> further.\nAnd going this way, you don't have to write custom interceptors.</p>\n\n<p>Pick your way and may the consistency in your codebase be with you!</p>\n"}], "owner": {"reputation": 372, "user_id": 5780212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03469d42bdf0d27e234dfbb03a4b5971?s=128&d=identicon&r=PG&f=1", "display_name": "rsommerard", "link": "https://stackoverflow.com/users/5780212/rsommerard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 58352238, "answer_count": 1, "score": 0, "last_activity_date": 1570868415, "creation_date": 1570637666, "question_id": 58308289, "link": "https://stackoverflow.com/questions/58308289/auto-fill-dto-fields-with-other-data-than-request-body-data", "title": "Auto-fill DTO fields with other data than request body data", "body": "<p>I have a class <code>CreateFolderDto</code> with two readonly fields:</p>\n\n<pre><code>export class CreateFolderDto {\n    public readonly name: string\n    public readonly user_id: number\n}\n</code></pre>\n\n<p>I have a controller which is:</p>\n\n<pre><code>@UseGuards(AuthGuard('jwt'))\n@Post()\npublic create(@Request() req, @Body() createFolderDto: CreateFolderDto) {\n    return this.folderService.create(createFolderDto)\n}\n</code></pre>\n\n<p>The request send to my controller is a good one, I only send the <code>name</code> in <code>json</code> format with an <code>accessToken</code> in the header. The <code>accessToken</code> permit me to get my <code>user_id</code> from the request with <code>req.user.id</code>.</p>\n\n<p>The DTO field <code>user_id</code> is not automatically filled. I would like to fill it automatically. </p>\n\n<p>Is it a way to auto-fill my <code>createFolderDto.user_id</code> variable ? </p>\n"}, {"tags": ["css", "reactjs", "typescript", "react-router", "react-router-dom"], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1570695889, "post_id": 58310647, "comment_id": 102996581, "body": "Many thanks @bgaynor78. Just checked out the codesandbox link. This is very useful and has given me some hope :) Ok, it seems that I am almost there and on the right track... However, I am using a custom webpack build with typescript, hence the different syntax for the <i>activeClassName</i> attribute. I tried adding <i>important!</i> and activeClassName=&quot;highlighted&quot; but still does not render as expected. Problem must be somewhere in my build environment. Apologies, will update question with build environment...."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1570698618, "post_id": 58310647, "comment_id": 102997998, "body": "Got it, did a typo with important! instead of !important. This did the trick @bgaynor78. Many thanks....accepting answer :)"}], "tags": [], "owner": {"reputation": 384, "user_id": 9565135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sv0av.jpg?s=128&g=1", "display_name": "bgaynor78", "link": "https://stackoverflow.com/users/9565135/bgaynor78"}, "is_accepted": true, "score": 0, "last_activity_date": 1570648183, "last_edit_date": 1570648183, "creation_date": 1570647811, "answer_id": 58310647, "question_id": 58307983, "link": "https://stackoverflow.com/questions/58307983/how-to-render-activeclassname-style-for-a-react-router-dom-navlink-rendered-with/58310647#58310647", "title": "How to render activeClassName style for a react-router-dom NavLink rendered within a material-ui button in a typescript environment?", "body": "<p>What you have should work, but you are passing a class name, not a style, so I think you just need to make your <code>activeClassName</code> prop equal to \"highlighted\".</p>\n\n<pre><code>&lt;Button\n  color=\"inherit\"\n  component={NavLink}\n  activeClassName=\"highlighted\"\n  to=\"/about\"\n &gt;\n  About\n&lt;/Button&gt;\n</code></pre>\n\n<p>You'll also need to add <code>!important</code> to you style so it overrides the CSS of the Material UI button.</p>\n\n<p>Working codesandbox <a href=\"https://codesandbox.io/s/withered-pond-vr132\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1815, "favorite_count": 0, "accepted_answer_id": 58310647, "answer_count": 1, "score": 0, "last_activity_date": 1570698005, "creation_date": 1570636499, "last_edit_date": 1570698005, "question_id": 58307983, "link": "https://stackoverflow.com/questions/58307983/how-to-render-activeclassname-style-for-a-react-router-dom-navlink-rendered-with", "title": "How to render activeClassName style for a react-router-dom NavLink rendered within a material-ui button in a typescript environment?", "body": "<p>I am learning react and trying to set the style of a <strong>react-router-dom</strong> <em>NavLink</em> encapsulated inside a <strong>material-ui</strong> <em>Button</em>. I am using React with Typescript and a custom Webpack build.</p>\n\n<p>The <a href=\"https://reacttraining.com/react-router/web/api/NavLink\" rel=\"nofollow noreferrer\">documentation</a> states that this can be achieved by setting the <em>activeClassName</em> property. </p>\n\n<p>In the code listing below I try setting the <em>activeClassName</em> on the button containing the <em>NavLink</em> component. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nimport * as navbar from './NavBar.css';\n\nconst NavBarLinks = () =&gt; (\n  &lt;&gt;\n    &lt;Button\n      color=\"inherit\"\n      component={NavLink}\n      activeClassName={navbar.highlighted}\n      to=\"/about\"\n    &gt;\n      About\n    &lt;/Button&gt;\n  &lt;/&gt;\n);\n</code></pre>\n\n<p>The highlighted css class is as follows:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.highlighted {\n  border-bottom: 3px solid rgb(174, 185, 28);\n}\n</code></pre>\n\n<p>However, no bottom border is rendered. How do I get the <em>activeClassName</em> style to render for a <strong>react-router-dom</strong> <em>NavLink</em> rendered within a <strong>material-ui</strong> <em>Button</em> within a Typescript environment? </p>\n\n<p>My build environment is configured as follows.</p>\n\n<p>I have created a type declaration file for the stylesheet\nand saved this in a folder referenced in <em>tsconfig.json</em>. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const active: string;\nexport const horizmenu: string;\nexport const highlighted: string;\n\n</code></pre>\n\n<p>My <em>tsconfig.json</em> includes the <em>typesRoot</em> configuration. This references the types folder where my css type declaration file is stored:</p>\n\n<pre><code>\"typeRoots\": [\"node_modules/@types\", \"src/types\"]\n</code></pre>\n\n<p>My webpack development configuration is using <em>css-loader</em> to bundle css files under <em>src/app/*/</em></p>\n\n<pre><code> {\n        // link css modules\n        test: /\\.css$/,\n        include: path.resolve(constants.dir.SRC, 'app'),\n        use: [\n          { loader: require.resolve('style-loader') },\n          {\n            loader: require.resolve('css-loader'),\n            options: {\n              modules: {\n                localIdentName: '[path][name]__[local]___[hash:base64:5]',\n              },\n              importLoaders: 1,\n              sourceMap: true,\n            },\n          },\n        ],\n      },\n    ...\n</code></pre>\n\n<p>When I perform a Webpack development build I can see that the <em>NavBar.css</em> contents are picked up by the <em>css-loader</em> and embedded as a string in the bundle file. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 941, "user_id": 10671583, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4cb485393a7c33852032085a620f33ed?s=128&d=identicon&r=PG", "display_name": "ziggy wiggy", "link": "https://stackoverflow.com/users/10671583/ziggy-wiggy"}, "edited": false, "score": 2, "creation_date": 1570633729, "post_id": 58307117, "comment_id": 102976124, "body": "Why are you wanting a &quot;one liner&quot;. What&#39;s the benefit? If you want single line code, remove your line breaks."}, {"owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "reply_to_user": {"reputation": 941, "user_id": 10671583, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4cb485393a7c33852032085a620f33ed?s=128&d=identicon&r=PG", "display_name": "ziggy wiggy", "link": "https://stackoverflow.com/users/10671583/ziggy-wiggy"}, "edited": false, "score": 0, "creation_date": 1570634199, "post_id": 58307117, "comment_id": 102976384, "body": "@ziggywiggy thanks for asking. Basically I am looking for map-reduce solution. Edited question and removed &quot;one liner&quot;."}, {"owner": {"reputation": 941, "user_id": 10671583, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4cb485393a7c33852032085a620f33ed?s=128&d=identicon&r=PG", "display_name": "ziggy wiggy", "link": "https://stackoverflow.com/users/10671583/ziggy-wiggy"}, "edited": false, "score": 1, "creation_date": 1570634281, "post_id": 58307117, "comment_id": 102976429, "body": "FYI, you can shorten your code with <code>let maxSkillValue = Math.max(...scores.map(o=&gt;o.skills));</code> Aside from that, your approach is very clear and understandable."}], "answers": [{"comments": [{"owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 0, "creation_date": 1570635333, "post_id": 58307195, "comment_id": 102976996, "body": "Thanks @NinaScholz for the answer. How can I filter the first list if any object has max value in either &quot;skills&quot; or &quot;result&quot;? My expected output:  output = [{ name: &quot;B&quot;, skills: 40, result: 90 }, { name: &quot;C&quot;, skills: 60, result: 60 }, { name: &quot;D&quot;, skills: 60, result: 70 }]"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1570641444, "last_edit_date": 1570641444, "creation_date": 1570633781, "answer_id": 58307195, "question_id": 58307117, "link": "https://stackoverflow.com/questions/58307117/how-to-filter-a-list-with-max-value-of-an-attribute-using-map-reduce-in-typescri/58307195#58307195", "title": "How to filter a list with max value of an attribute using map-reduce in typescript?", "body": "<p>You could reduce the array by checking the result set or the last stored max skills value, then take this object as new result set in an array. Otherwis check if the skills is equal, then push the actual value and return the accumulator.</p>\n\n<p>For getting the max objects from a certain count of properties, you could store the max values for each property and filter the part result set.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let scores = [{ name: \"A\", skills: 50, result: 80 }, { name: \"B\", skills: 40, result: 90 }, { name: \"C\", skills: 60, result: 60 }, { name: \"D\", skills: 60, result: 70 }],\r\n    maxSkills = scores.reduce((r, o) =&gt; {\r\n        if (!r || r[0].skills &lt; o.skills) return [o];\r\n        if (r[0].skills === o.skills) r.push(o);\r\n        return r;\r\n    }, undefined),\r\n    keys = ['skills', 'result'],\r\n    max = scores.reduce((r, o) =&gt; {\r\n        keys.forEach(k =&gt; r[k] = Math.max(k in r ? r[k] : -Infinity, o[k]));\r\n        r._ = [...r._, o].filter(q =&gt; keys.some(k =&gt; r[k] === q[k]));\r\n        return r;\r\n    }, { _: [] })._;\r\n\r\nconsole.log(maxSkills);\r\nconsole.log(max);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 0, "creation_date": 1570638068, "post_id": 58308052, "comment_id": 102978384, "body": "Thanks @Simon Dehaut for your answer. But it is pretty similar of mine as I also got the max value at first and filtered the list according to the max value. I need something using map-reduce."}, {"owner": {"reputation": 929, "user_id": 12153710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Soeij.png?s=128&g=1", "display_name": "Simon Dehaut", "link": "https://stackoverflow.com/users/12153710/simon-dehaut"}, "reply_to_user": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 0, "creation_date": 1570638284, "post_id": 58308052, "comment_id": 102978492, "body": "do you mean a map and a reduce nested on the same line ?"}, {"owner": {"reputation": 929, "user_id": 12153710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Soeij.png?s=128&g=1", "display_name": "Simon Dehaut", "link": "https://stackoverflow.com/users/12153710/simon-dehaut"}, "reply_to_user": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 1, "creation_date": 1570638994, "post_id": 58308052, "comment_id": 102978809, "body": "it has no sense, if you write something like <code>.map(..reduce()...)</code> you apply  object on each element of <code>scores</code> array and if you write    <code>.reduce(...map()...)</code>  you select element of <code>scores</code> with an array returned by map() method"}, {"owner": {"reputation": 929, "user_id": 12153710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Soeij.png?s=128&g=1", "display_name": "Simon Dehaut", "link": "https://stackoverflow.com/users/12153710/simon-dehaut"}, "reply_to_user": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 1, "creation_date": 1570639549, "post_id": 58308052, "comment_id": 102979045, "body": "ok if you want really want to do this : <a href=\"https://jsfiddle.net/379ebtcg/\" rel=\"nofollow noreferrer\">jsfiddle.net/379ebtcg</a> (my eg is dumb, not efficient, consume more mem and it&#39;s slower)`  <code>.map()</code> method is not designed for getting an array of (N +- x) elements based on an array of (N) elements"}, {"owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 0, "creation_date": 1570647762, "post_id": 58308052, "comment_id": 102982742, "body": "Thanks for the answer. Basically I needed this solution for research purpose, to compare complexity and execution time of an algorithm. Thanks for help."}, {"owner": {"reputation": 929, "user_id": 12153710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Soeij.png?s=128&g=1", "display_name": "Simon Dehaut", "link": "https://stackoverflow.com/users/12153710/simon-dehaut"}, "reply_to_user": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 0, "creation_date": 1570666289, "post_id": 58308052, "comment_id": 102988286, "body": "ok nice, no problem. Send me a link of your work if you want. i&#39;m interested :)"}], "tags": [], "owner": {"reputation": 929, "user_id": 12153710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Soeij.png?s=128&g=1", "display_name": "Simon Dehaut", "link": "https://stackoverflow.com/users/12153710/simon-dehaut"}, "is_accepted": true, "score": 1, "last_activity_date": 1570637143, "last_edit_date": 1570637143, "creation_date": 1570636788, "answer_id": 58308052, "question_id": 58307117, "link": "https://stackoverflow.com/questions/58307117/how-to-filter-a-list-with-max-value-of-an-attribute-using-map-reduce-in-typescri/58308052#58308052", "title": "How to filter a list with max value of an attribute using map-reduce in typescript?", "body": "<blockquote>\n  <p>Thanks @NinaScholz for the answer. How can I filter the first list if any object has max value in either \"skills\" or \"result\"? My expected output: output = [{ name: \"B\", skills: 40, result: 90 }, { name: \"C\", skills: 60, result: 60 }, { name: \"D\", skills: 60, result: 70 }] \u2013 ImtiazNur</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let scores = [{name: \"A\", skills: 500, result: 80},\r\n              {name: \"B\", skills: 6000, result: 90},\r\n              {name: \"C\", skills: 6000, result: 60},\r\n              {name: \"D\", skills: 20, result: 60},\r\n              {name: \"E\", skills: 10, result: 90}];\r\n\r\nconst maxSkill = scores.reduce((acc, curr) =&gt; curr.skills &gt; acc ? curr.skills : acc, 0);\r\nconst maxResult = scores.reduce((acc, curr) =&gt; curr.result &gt; acc ? curr.result : acc, 0);\r\nconst maxSkillsAndRes = scores.reduce((r, o) =&gt; (o.skills === maxSkill || o.result === maxResult) ? [...r,o] : r, []);\r\n\r\nconsole.log(maxSkillsAndRes);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>sry, about the third reduce line you'd better write :</p>\n\n<pre><code>const maxSkillsAndRes = scores.filter( o =&gt; o.skills === maxSkill || o.result === maxResult );\n</code></pre>\n\n<p>outputs are same but more readable</p>\n"}], "owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 58308052, "answer_count": 2, "score": 0, "last_activity_date": 1570641444, "creation_date": 1570633483, "last_edit_date": 1570633939, "question_id": 58307117, "link": "https://stackoverflow.com/questions/58307117/how-to-filter-a-list-with-max-value-of-an-attribute-using-map-reduce-in-typescri", "title": "How to filter a list with max value of an attribute using map-reduce in typescript?", "body": "<p>I have a list as follows:</p>\n\n<pre><code>let scores = [{name: \"A\", skills: 50, result: 80},\n              {name: \"B\", skills: 40, result: 90},\n              {name: \"C\", skills: 60, result: 60},\n              {name: \"D\", skills: 60, result: 70}];\n</code></pre>\n\n<p>I want to filter the list who got max value in skills using <strong>Map-Reduce</strong> in typescript.</p>\n\n<pre><code>output = [{name: \"C\", skills: 60, result: 60},\n          {name: \"D\", skills: 60, result: 70}];\n</code></pre>\n\n<p>I have tried as follows and got expected output:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let scores = [{name: \"A\", skills: 50, result: 80},\r\n              {name: \"B\", skills: 40, result: 90},\r\n              {name: \"C\", skills: 60, result: 60},\r\n              {name: \"D\", skills: 60, result: 70}];\r\n\r\nlet maxSkillValue = Math.max.apply(Math, scores.map(function (o) { return o.skills; }));\r\nlet output = scores.filter(i =&gt; i.skills === maxSkillValue);\r\n\r\nconsole.log(output);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Looking for answers using <strong>Map-Reduce</strong>.</p>\n"}, {"tags": ["typescript", "protractor"], "answers": [{"tags": [], "owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1570634939, "creation_date": 1570634939, "answer_id": 58307514, "question_id": 58307083, "link": "https://stackoverflow.com/questions/58307083/horizontal-scrolling-for-div-using-protractor/58307514#58307514", "title": "horizontal scrolling for Div using Protractor", "body": "<p>Try this</p>\n\n<pre><code>let location = await $element.getLocation();\n\nawait browser.executeScript(\n  `\n    window.scroll(\n      ${location.x},${location.y}\n    );\n  `\n)\n</code></pre>\n\n<p>I haven't tested but the approach should work</p>\n"}, {"tags": [], "owner": {"reputation": 895, "user_id": 6269711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/68050b34949f3ab1d1cb328fae19d29e?s=128&d=identicon&r=PG&f=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/6269711/ssharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1570641055, "creation_date": 1570641055, "answer_id": 58309124, "question_id": 58307083, "link": "https://stackoverflow.com/questions/58307083/horizontal-scrolling-for-div-using-protractor/58309124#58309124", "title": "horizontal scrolling for Div using Protractor", "body": "<p>I use mouseMove to scroll till the end of page and it works perfectly fine for me, I think same should work for horizontal scroll also. </p>\n\n<pre><code>browser.actions().mouseMove(element(by.css(\"provide element in the right most corner\"))).perform();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11755137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a92fb69508bd8bf77e3aeadab4b1a95?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas", "link": "https://stackoverflow.com/users/11755137/srinivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570641055, "creation_date": 1570633355, "last_edit_date": 1570639649, "question_id": 58307083, "link": "https://stackoverflow.com/questions/58307083/horizontal-scrolling-for-div-using-protractor", "title": "horizontal scrolling for Div using Protractor", "body": "<p>I am trying to scroll to the right, but nothing helps</p>\n\n<p>I have tried </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await browser.executeScript('arguments[0].scrollIntoView(true)',element.getWebElement()) \n</code></pre>\n\n<p>but it's not working</p>\n\n<p><img src=\"https://i.stack.imgur.com/g4f2n.jpg\" alt=\"\"></p>\n"}, {"tags": ["javascript", "angular", "typescript", "refactoring"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1570632981, "post_id": 58306926, "comment_id": 102975729, "body": "It would be a lot cleaner if you refactored each of those blocks into its own function."}, {"owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570634999, "post_id": 58306926, "comment_id": 102976809, "body": "Yes, I agree, that&#39;s a good start but then wouldn&#39;t each of those functions pretty much be the same too?  I&#39;d love it if I could somehow replace that one piece that differs as shown in my example."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570635400, "post_id": 58306926, "comment_id": 102977035, "body": "Your first two <code>if</code> blocks look exactly the same.  Can you combine them using <code>if (datafield === &quot;executeTask&quot; || datafield === &quot;executeAll)</code>?"}, {"owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570635761, "post_id": 58306926, "comment_id": 102977235, "body": "They differ in that they call different methods from the same class... executeTask executeTaskFrom"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1570636916, "post_id": 58306926, "comment_id": 102977840, "body": "Ah, I see.  Well, frankly I don&#39;t think the code is all that bad.  All those continuations are necessary.  Each block is essentially a single function call with continuations."}, {"owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570645807, "post_id": 58306926, "comment_id": 102981924, "body": "Alright thanks for taking a look"}], "owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570632833, "creation_date": 1570632833, "question_id": 58306926, "link": "https://stackoverflow.com/questions/58306926/accessing-methods-on-a-class-in-a-programmatic-way-without-using-if-statements", "title": "Accessing methods on a class in a programmatic way without using if statements", "body": "<p>I am refactoring and stumbled upon the samples below. I was wondering if I could condense this down as its mostly repeated code. As you can see the only real difference are the methods, executeTask, executeTaskFrom, acknowledgeTask, and killTask of the same class being conditionally called. My question is how you would refactor this and whether my solution or something like it is optimal.</p>\n\n<p>This is what I have:</p>\n\n<pre><code> taskGridOnCellclick(): void {\n  if (datafield === \"executeTask\" &amp;&amp; this.showButtons) {\n      const taskName = this.taskGrid.getrowdata(this.editrow).taskName;\n\n      // Call the service\n      this.taskSvc.executeTask(this.dataForUi.processName, taskName).subscribe(\n        data =&gt; {\n          this.logger.debug(data);\n        },\n        error =&gt; {\n          this.logger.error(JSON.stringify(error));\n        }\n      );\n    } else if (datafield === \"executeAll\" &amp;&amp; this.showButtons) {\n      const taskName = this.taskGrid.getrowdata(this.editrow).taskName;\n\n      // Call the service\n      this.taskSvc\n        .executeTaskFrom(this.dataForUi.processName, taskName)\n        .subscribe(\n          data =&gt; {\n            this.logger.debug(data);\n          },\n          error =&gt; {\n            this.logger.error(JSON.stringify(error));\n          }\n        );\n    } else if (datafield === \"acknowledge\" &amp;&amp; this.showButtons) {\n      const taskName = this.taskGrid.getrowdata(this.editrow).taskName;\n      const taskStatus = this.taskGrid.getrowdata(this.editrow).taskStateName;\n\n      if (\n        taskStatus !== \"Killed\" &amp;&amp;\n        taskStatus !== \"Failed\" &amp;&amp;\n        this.showButtons\n      ) {\n      } else {\n        //Call the service\n        this.taskSvc\n          .acknowledgeTask(this.dataForUi.processName, taskName)\n          .subscribe(\n            data =&gt; {\n              this.logger.debug(data);\n            },\n            error =&gt; {\n              this.logger.error(JSON.stringify(error));\n            }\n          );\n      }\n    } else if (datafield === \"kill\" &amp;&amp; this.showButtons) {\n      const taskName = this.taskGrid.getrowdata(this.editrow).taskName;\n      const taskStatus = this.taskGrid.getrowdata(this.editrow).taskStateName;\n\n      if (taskStatus !== \"Running\") {\n      } else {\n        //Call the service\n        this.taskSvc.killTask(this.dataForUi.processName, taskName).subscribe(\n          data =&gt; {\n            this.logger.debug(data);\n          },\n          error =&gt; {\n            this.logger.error(JSON.stringify(error));\n          }\n        );\n      }\n    }\n  }\n</code></pre>\n\n<p>This is what I want:\nUse:</p>\n\n<pre><code>taskProcessing(killTask())\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>  taskProcessing(fn:()=&gt;{}){\n  //Call the service\n  this.taskSvc.fn(this.dataForUi.processName, taskName).subscribe(\n    data =&gt; {\n      this.logger.debug(data);\n    },\n    error =&gt; {\n      this.logger.error(JSON.stringify(error));\n    }\n  );\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 3077, "user_id": 3137857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NF7M4.jpg?s=128&g=1", "display_name": "LHIOUI", "link": "https://stackoverflow.com/users/3137857/lhioui"}, "edited": false, "score": 0, "creation_date": 1570634957, "post_id": 58306851, "comment_id": 102976783, "body": "you can attach the class name to the container div <code>containerEle.className= &#39;my-component&#39;</code> if this is the behavior you are looking for"}, {"owner": {"reputation": 357, "user_id": 2935499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66bb0e2a7a4f405ca388397ff745f715?s=128&d=identicon&r=PG", "display_name": "CoolGuy", "link": "https://stackoverflow.com/users/2935499/coolguy"}, "reply_to_user": {"reputation": 3077, "user_id": 3137857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NF7M4.jpg?s=128&g=1", "display_name": "LHIOUI", "link": "https://stackoverflow.com/users/3137857/lhioui"}, "edited": false, "score": 0, "creation_date": 1570636246, "post_id": 58306851, "comment_id": 102977501, "body": "@LHIOUI Thanks for reply, but it&#39;s not an ideal solution. <code>&lt;div className=&quot;my-component&quot;&#47;&gt;</code> here only want to tell it&#39;s a component, it may be much more complex than just a div."}], "owner": {"reputation": 357, "user_id": 2935499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66bb0e2a7a4f405ca388397ff745f715?s=128&d=identicon&r=PG", "display_name": "CoolGuy", "link": "https://stackoverflow.com/users/2935499/coolguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570632570, "creation_date": 1570632570, "question_id": 58306851, "link": "https://stackoverflow.com/questions/58306851/how-can-i-use-createportal-without-extra-div-in-typescript", "title": "How can I use createPortal without extra div in typescript?", "body": "<p>Often I use createPortal like the code below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>        const containerEle = document.createElement('div');\n        const App = function(){\n            useEffect(()=&gt;{\n            document.body.appendChild(containerEle);\n            return ()=&gt;{\n              document.body.removeChild(containerEle);\n            }\n          },[])\n            return createPortal(&lt;div className=\"my-component\"/&gt;, containerEle);\n        }\n</code></pre>\n\n<p>which will render like</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;&lt;div className=\"my-component\"/&gt;&lt;/div&gt;\n</code></pre>\n\n<p>but actually I just wanna </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div className=\"my-component\"/&gt;\n</code></pre>\n\n<p>I try to modify createElement('div') to fragment like </p>\n\n<pre class=\"lang-js prettyprint-override\"><code> const containerEle = document.createDocumentFragment();\n</code></pre>\n\n<p>It works, but in typescript, it tells me the error:  </p>\n\n<pre><code>TS2345: Argument\u00a0of\u00a0type\u00a0'DocumentFragment'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0parameter\u00a0of\u00a0type\u00a0'Element'.\n</code></pre>\n\n<p>For <code>createDocumentFragment</code> returns DocumentFragment.<br>\nHow should I modify my code to get this error off?</p>\n"}, {"tags": ["angular", "typescript", "sms", "ionic4"], "comments": [{"owner": {"reputation": 1505, "user_id": 3660991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvuPk.jpg?s=128&g=1", "display_name": "HasilT", "link": "https://stackoverflow.com/users/3660991/hasilt"}, "edited": false, "score": 0, "creation_date": 1570635796, "post_id": 58306547, "comment_id": 102977256, "body": "Sending sms from your app without opening default sms app is against Google play policy"}, {"owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "reply_to_user": {"reputation": 1505, "user_id": 3660991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvuPk.jpg?s=128&g=1", "display_name": "HasilT", "link": "https://stackoverflow.com/users/3660991/hasilt"}, "edited": false, "score": 0, "creation_date": 1570636710, "post_id": 58306547, "comment_id": 102977741, "body": "okay I am building an app that has a panic button and I want it to send an sms when the user taps on it, how would I achieve that, I dont want the user to press the button and then press send on the native sms app"}], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "edited": false, "score": 0, "creation_date": 1570635606, "post_id": 58307645, "comment_id": 102977166, "body": "So you are saying the APP itself does not send the SMS, it is being sent with an Intent through the phones native android SMS application?"}, {"owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "edited": false, "score": 0, "creation_date": 1570694729, "post_id": 58307645, "comment_id": 102996014, "body": "So can I create an intent that will open the native app and automatically send the sms?  I want a user to press a panic button and send an sms to multiple numbers"}, {"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "reply_to_user": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "edited": false, "score": 0, "creation_date": 1570695822, "post_id": 58307645, "comment_id": 102996548, "body": "You cannot do do that, for the above reasons. If you want that you have to go with @rtpHarry solution."}], "tags": [], "owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "is_accepted": false, "score": 1, "last_activity_date": 1570635408, "creation_date": 1570635408, "answer_id": 58307645, "question_id": 58306547, "link": "https://stackoverflow.com/questions/58306547/angular-ionic4-how-to-send-an-sms-without-opening-native-sms-app/58307645#58307645", "title": "Angular/Ionic4 How to send an sms without opening native sms App", "body": "<p>You are not sending a SMS, you are creating an <a href=\"https://developer.android.com/guide/components/intents-common\" rel=\"nofollow noreferrer\"><code>INTENT</code></a> to send a SMS. </p>\n\n<blockquote>\n  <p>An intent allows you to start an activity in another app by describing\n  a simple action you'd like to perform (such as \"view a map\" or \"take a\n  picture\") in an Intent object. This type of intent is called an\n  implicit intent because it does not specify the app component to\n  start, but instead specifies an action and provides some data with\n  which to perform the action.</p>\n</blockquote>\n\n<p>this means the code only generates the 'intent', which is then passed to your phones default app, which handles it. How it handles the <code>intent</code> is only up to the app. There can even be multiple apps which can handle the <code>intent</code>, then the use gets a choose dialog. Your app has no control, when the SMS really gets send.</p>\n\n<p>This is actually a good thing, so if you install any app, you can be sure, that it doesn't send a SMS to a subscription service and you pay 100 \u20ac phone bills. </p>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "is_accepted": true, "score": 2, "last_activity_date": 1573029777, "creation_date": 1573029777, "answer_id": 58726100, "question_id": 58306547, "link": "https://stackoverflow.com/questions/58306547/angular-ionic4-how-to-send-an-sms-without-opening-native-sms-app/58726100#58726100", "title": "Angular/Ionic4 How to send an sms without opening native sms App", "body": "<p>You can send an SMS without opening the native SMS app.\nyou need to use Android Permission to get the SMS Permissions</p>\n\n<p><strong>use these two function</strong></p>\n\n<pre><code>checkSMSPermission() {\n  this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.SEND_SMS).then(\n    result =&gt; console.log('Has permission?', result.hasPermission),\n    err =&gt; this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.SEND_SMS)\n  );\n}\nrequestSMSPermission() {\n  // tslint:disable-next-line: max-line-length\n  this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.SEND_SMS, this.androidPermissions.PERMISSION.BROADCAST_SMS]);\n}\n</code></pre>\n\n<p><strong>and you need to include these functions in the Android Manifest aswell.</strong></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\" /&gt;\n</code></pre>\n\n<p><strong>and then the SMS function itself</strong></p>\n\n<pre><code>sendSMS() {\n  this.checkSMSPermission();\n  this.contactComponent.getContact();\n  const numberOne = this.contactComponent.mContacts[0].number;\n  const numberTwo = this.contactComponent.mContacts[1].number;\n  const numbeThree = this.contactComponent.mContacts[2].number;\n  const numberFour = this.contactComponent.mContacts[3].number;\n  const numberFive = this.contactComponent.mContacts[4].number;\n  console.log(numberOne);\n\n  // tslint:disable-next-line: max-line-length\n  const message = this.messageComponent.dangerMessage + ' my location is: lat: ' + this.latitude.toString() + 'lng: ' + this.longitude.toString();\n  console.log('number=' + numberOne + ', message= ' + message);\n\n  // CONFIGURATION\n  const options = {\n      replaceLineBreaks: false, // true to replace \\n by a new line, false by default\n      android: {\n          intent: ''  // send SMS with the native android SMS messaging\n          // intent: '' // send SMS without opening any other app\n      }\n  };\n  this.sms.send(numberOne, message, options).then(() =&gt; {\n    this.presentAlert('Success', 'message has been sent');\n  })\n  .catch(error =&gt; {\n    this.presentAlert('Error', 'Failed: ' + error);\n  });\n}\n\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2004, "favorite_count": 2, "accepted_answer_id": 58726100, "answer_count": 2, "score": 2, "last_activity_date": 1573029777, "creation_date": 1570631590, "question_id": 58306547, "link": "https://stackoverflow.com/questions/58306547/angular-ionic4-how-to-send-an-sms-without-opening-native-sms-app", "title": "Angular/Ionic4 How to send an sms without opening native sms App", "body": "<p>So I have been following the github repo(<a href=\"https://github.com/cordova-sms/cordova-sms-plugin\" rel=\"nofollow noreferrer\">https://github.com/cordova-sms/cordova-sms-plugin</a>) for the Ionic Native SMS plugin,\nand I have configured as to the repo suggests with:</p>\n\n<pre><code>var options = {\n            replaceLineBreaks: false, // true to replace \\n by a new line, false by default\n            android: {\n                intent: 'INTENT'  // send SMS with the native android SMS messaging\n                //intent: '' // send SMS without opening any other app\n            }\n        };\n</code></pre>\n\n<p>however, when I test it on a real device, it still does not send a SMS.</p>\n\n<p>can anyone help me, do I need to add in a permission?\nHere is the code that I have so far</p>\n\n<pre><code> sendSms() {\n    let options = {\n      replaceLineBreaks: false, // true to replace \\n by a new line, false by default\n      android: {\n          intent: ''  // send SMS with the native android SMS messaging\n          // intent: '' // send SMS without opening any other app\n      }\n  };\n    this.sms.send('656225667', 'SMS Works', options).then(val =&gt; {\n      alert('It works');\n    });\n  }\n</code></pre>\n"}, {"tags": ["typescript", "nativescript", "fusionauth"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12189251, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vidKOiNqP9U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMdAcRnIeM7Yb4_AfQmxqec8fyow/photo.jpg?sz=128", "display_name": "Ismael Carvalho", "link": "https://stackoverflow.com/users/12189251/ismael-carvalho"}, "edited": false, "score": 1, "creation_date": 1571250083, "post_id": 58308192, "comment_id": 103181301, "body": "Hello man \\o we solves this error, this problem is because request lib not works in nativescript, we create a &quot;new&quot; lib for our project and rewrite some lines. <a href=\"https://github.com/Figur8/studyLoginVueTS\" rel=\"nofollow noreferrer\">github.com/Figur8/studyLoginVueTS</a> Thx!"}], "tags": [], "owner": {"reputation": 1006, "user_id": 986971, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/27608ec0c8b3ad06acb0e62c482317a0?s=128&d=identicon&r=PG", "display_name": "Tyler Scott", "link": "https://stackoverflow.com/users/986971/tyler-scott"}, "is_accepted": true, "score": 2, "last_activity_date": 1570637304, "creation_date": 1570637304, "answer_id": 58308192, "question_id": 58306540, "link": "https://stackoverflow.com/questions/58306540/how-to-use-fusionauth-lib-in-nativescript/58308192#58308192", "title": "How to use fusionAuth lib in nativeScript?", "body": "<p>Its good to see people using the typescript client. Unfortunately, we don't directly support NativeScript and it appears that our DefaultRESTClient imports something that NativeScript doesn't support. </p>\n\n<p>To fix this on your own you will need to use webpack to override the <code>DefaultRESTClient</code> with a custom implementation that is compatible with NativeScript or override the <code>cross-fetch</code> package that is used inside <code>DefaultRESTClient</code> with something that provides the <code>fetch</code> api for NativeScript.</p>\n\n<p>You can also open a ticket on our Github for <a href=\"https://github.com/FusionAuth/fusionauth-typescript-client/issues\" rel=\"nofollow noreferrer\">TypeScript</a> suggesting that NativeScript is something you would like supported and we will complete it if it gets enough up votes or seems like something important we should support.</p>\n"}], "owner": {"reputation": 13, "user_id": 12189251, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vidKOiNqP9U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMdAcRnIeM7Yb4_AfQmxqec8fyow/photo.jpg?sz=128", "display_name": "Ismael Carvalho", "link": "https://stackoverflow.com/users/12189251/ismael-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 58308192, "answer_count": 1, "score": 1, "last_activity_date": 1570637304, "creation_date": 1570631570, "last_edit_date": 1570633361, "question_id": 58306540, "link": "https://stackoverflow.com/questions/58306540/how-to-use-fusionauth-lib-in-nativescript", "title": "How to use fusionAuth lib in nativeScript?", "body": "<p>I tried to use lib as per the nativescript documentation, but when I try to use it there is an error that I can't solve besides some modules like net and tls it can't find it automatically. After using npm install to put tls and net I can't solve this problem 'TypeError: Cannot read property' browser 'of undefined' and I don't know how to solve this problem, to test if lib was working normally I tried using ionic 4 and it worked normally but in nativescript I found this problem in both Angular and Vue.</p>\n\n<pre><code>Webpack compilation complete. Watching for file changes.\nWebpack build done!\nSuccessfully synced application org.nativescript.studyLogin on device 0aa24655.\nSuccessfully transferred bundle.292d892ab2d871e6a00e.hot-update.js on device 0aa24655.\nSuccessfully transferred 292d892ab2d871e6a00e.hot-update.json on device 0aa24655.\nSuccessfully transferred bundle.js on device 0aa24655.\nSuccessfully transferred runtime.js on device 0aa24655.\nSuccessfully transferred vendor.js on device 0aa24655.\nRestarting application on device 0aa24655...\nSuccessfully synced application org.nativescript.studyLogin on device 0aa24655.\nSuccessfully transferred bundle.e980eda364519dbb87a0.hot-update.js on device 0aa24655.\nSuccessfully transferred e980eda364519dbb87a0.hot-update.json on device 0aa24655.\nRefreshing application on device 0aa24655...\nActivityManager: Permission Denial: getCurrentUser() from pid=2971, uid=10187 requires android.permission.INTERACT_ACROSS_USERS\nSystem.err: An uncaught Exception occurred on \"main\" thread.\nSystem.err: Unable to create application com.tns.NativeScriptApplication: com.tns.NativeScriptException: Error calling module function \nSystem.err: TypeError: Cannot read property 'browser' of undefined\nSystem.err: File: (file:///node_modules/pbkdf2/lib/default-encoding.js:3:11)\nSystem.err: StackTrace: \nSystem.err:     ../node_modules/pbkdf2/lib/default-encoding.js(file:///node_modules/pbkdf2/lib/default-encoding.js:3:11)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/pbkdf2/lib/sync.js(file:///node_modules/pbkdf2/lib/sync.js:14:22)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/pbkdf2/index.js(file:///node_modules/pbkdf2/index.js:24:23)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/crypto-browserify/index.js(file:///node_modules/crypto-browserify/index.js:14:8)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/request/lib/helpers.js(file:///node_modules/request/lib/helpers.js:4:13)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/request/index.js(file:///node_modules/request/index.js:19:14)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClient.js(file:///node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClient.js:19:14)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClientBuilder.js(file:///node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClientBuilder.js:18:28)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/FusionAuthClient.js(file:///node_modules/@fusionauth/typescript-client/build/src/FusionAuthClient.js:18:35)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/index.js(file:///node_modules/@fusionauth/typescript-client/build/index.js:21:9)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/lib/fusionAuthClientInstance.ts(file:///src/app/lib/fusionAuthClientInstance.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/item/items.component.ts(file:///src/app/item/items.component.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/app-routing.module.ts(file:///src/app/app-routing.module.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/app.module.ts(file:///src/app/app.module.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at (file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:490:73)\nSystem.err:     at ./main.ts(file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:560:30)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at checkDeferredModules(file:///src/webpack/bootstrap:43:0)\nSystem.err:     at webpackJsonpCallback(file:///src/webpack/bootstrap:30:0)\nSystem.err:     at (file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:2:57)\nSystem.err:     at require(:1:266)\nSystem.err: TypeError: Cannot read property 'browser' of undefined\nSystem.err: StackTrace:\nSystem.err: java.lang.RuntimeException: Unable to create application com.tns.NativeScriptApplication: com.tns.NativeScriptException: Error calling module function \nSystem.err: TypeError: Cannot read property 'browser' of undefined\nSystem.err: File: (file:///node_modules/pbkdf2/lib/default-encoding.js:3:11)\nSystem.err: StackTrace: \nSystem.err:     ../node_modules/pbkdf2/lib/default-encoding.js(file:///node_modules/pbkdf2/lib/default-encoding.js:3:11)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/pbkdf2/lib/sync.js(file:///node_modules/pbkdf2/lib/sync.js:14:22)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/pbkdf2/index.js(file:///node_modules/pbkdf2/index.js:24:23)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/crypto-browserify/index.js(file:///node_modules/crypto-browserify/index.js:14:8)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/request/lib/helpers.js(file:///node_modules/request/lib/helpers.js:4:13)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/request/index.js(file:///node_modules/request/index.js:19:14)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClient.js(file:///node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClient.js:19:14)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClientBuilder.js(file:///node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClientBuilder.js:18:28)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/FusionAuthClient.js(file:///node_modules/@fusionauth/typescript-client/build/src/FusionAuthClient.js:18:35)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/index.js(file:///node_modules/@fusionauth/typescript-client/build/index.js:21:9)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/lib/fusionAuthClientInstance.ts(file:///src/app/lib/fusionAuthClientInstance.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/item/items.component.ts(file:///src/app/item/items.component.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/app-routing.module.ts(file:///src/app/app-routing.module.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/app.module.ts(file:///src/app/app.module.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at (file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:490:73)\nSystem.err:     at ./main.ts(file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:560:30)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at checkDeferredModules(file:///src/webpack/bootstrap:43:0)\nSystem.err:     at webpackJsonpCallback(file:///src/webpack/bootstrap:30:0)\nSystem.err:     at (file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:2:57)\nSystem.err:     at require(:1:266)\nSystem.err: TypeError: Cannot read property 'browser' of undefined\nSystem.err:     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4705)\nSystem.err:     at android.app.ActivityThread.access$1400(ActivityThread.java:168)\nSystem.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1389)\nSystem.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\nSystem.err:     at android.os.Looper.loop(Looper.java:176)\nSystem.err:     at android.app.ActivityThread.main(ActivityThread.java:5493)\nSystem.err:     at java.lang.reflect.Method.invokeNative(Native Method)\nSystem.err:     at java.lang.reflect.Method.invoke(Method.java:525)\nSystem.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1225)\nSystem.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1041)\nSystem.err:     at dalvik.system.NativeStart.main(Native Method)\nSystem.err: Caused by: com.tns.NativeScriptException: Error calling module function \nSystem.err: TypeError: Cannot read property 'browser' of undefined\nSystem.err: File: (file:///node_modules/pbkdf2/lib/default-encoding.js:3:11)\nSystem.err: StackTrace: \nSystem.err:     ../node_modules/pbkdf2/lib/default-encoding.js(file:///node_modules/pbkdf2/lib/default-encoding.js:3:11)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/pbkdf2/lib/sync.js(file:///node_modules/pbkdf2/lib/sync.js:14:22)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/pbkdf2/index.js(file:///node_modules/pbkdf2/index.js:24:23)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/crypto-browserify/index.js(file:///node_modules/crypto-browserify/index.js:14:8)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/request/lib/helpers.js(file:///node_modules/request/lib/helpers.js:4:13)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/request/index.js(file:///node_modules/request/index.js:19:14)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClient.js(file:///node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClient.js:19:14)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClientBuilder.js(file:///node_modules/@fusionauth/typescript-client/build/src/DefaultRESTClientBuilder.js:18:28)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/src/FusionAuthClient.js(file:///node_modules/@fusionauth/typescript-client/build/src/FusionAuthClient.js:18:35)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ../node_modules/@fusionauth/typescript-client/build/index.js(file:///node_modules/@fusionauth/typescript-client/build/index.js:21:9)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/lib/fusionAuthClientInstance.ts(file:///src/app/lib/fusionAuthClientInstance.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/item/items.component.ts(file:///src/app/item/items.component.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/app-routing.module.ts(file:///src/app/app-routing.module.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at ./app/app.module.ts(file:///src/app/app.module.ts:1:0)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at fn(file:///src/webpack/bootstrap:120:0)\nSystem.err:     at (file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:490:73)\nSystem.err:     at ./main.ts(file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:560:30)\nSystem.err:     at __webpack_require__(file:///src/webpack/bootstrap:750:0)\nSystem.err:     at checkDeferredModules(file:///src/webpack/bootstrap:43:0)\nSystem.err:     at webpackJsonpCallback(file:///src/webpack/bootstrap:30:0)\nSystem.err:     at (file:///data/data/org.nativescript.studyLogin/files/app/bundle.js:2:57)\nSystem.err:     at require(:1:266)\nSystem.err: TypeError: Cannot read property 'browser' of undefined\nSystem.err:     at com.tns.Runtime.runModule(Native Method)\nSystem.err:     at com.tns.Runtime.runModule(Runtime.java:662)\nSystem.err:     at com.tns.Runtime.run(Runtime.java:654)\nSystem.err:     at com.tns.NativeScriptApplication.onCreate(NativeScriptApplication.java:21)\nSystem.err:     at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1024)\nSystem.err:     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4702)\nSystem.err:     ... 10 more\nActivityManager: Process org.nativescript.studyLogin (pid 2971) (adj 0) has died.\nSuccessfully synced application org.nativescript.studyLogin on device 0aa24655.\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 364, "user_id": 12095191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k47PO.jpg?s=128&g=1", "display_name": "Chund", "link": "https://stackoverflow.com/users/12095191/chund"}, "edited": false, "score": 2, "creation_date": 1570630837, "post_id": 58306061, "comment_id": 102974440, "body": "have all your friends in an arrayList and navigate to the next or previos entry in the list?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1570630955, "post_id": 58306061, "comment_id": 102974505, "body": "Agreed, use a list and play with the index rather than the data ID."}, {"owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "edited": false, "score": 0, "creation_date": 1570631035, "post_id": 58306061, "comment_id": 102974554, "body": "well, they are in an array list. but how does one navigate in such a way?"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1570631113, "post_id": 58306061, "comment_id": 102974593, "body": "can you share your friends list array?"}, {"owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "edited": false, "score": 0, "creation_date": 1570631213, "post_id": 58306061, "comment_id": 102974649, "body": "I made an edit with the array"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1570631992, "post_id": 58306061, "comment_id": 102975146, "body": "store the &quot;index&quot;, so you can, e.g. <code>&lt;a [routerLink]=&quot;[&#39;&#47;details&#39;,  myArray(index-1).id]&quot; *ngIf=&quot;index&gt;0)&quot;&gt;Prev&lt;&#47;a&gt;</code>"}, {"owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "edited": false, "score": 0, "creation_date": 1570633122, "post_id": 58306061, "comment_id": 102975807, "body": "i know this is a noob question, but what do you mean specifically by &#39;store the index&#39;?"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "edited": false, "score": 1, "creation_date": 1570646779, "post_id": 58309387, "comment_id": 102982336, "body": "figure out how to correctly call. thanks for the example."}], "tags": [], "owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1570642287, "creation_date": 1570642287, "answer_id": 58309387, "question_id": 58306061, "link": "https://stackoverflow.com/questions/58306061/function-to-check-what-next-id-is-after-some-have-been-deleted-in-angular/58309387#58309387", "title": "function to check what next id is after some have been deleted in angular", "body": "<p>Instead of calculating an ID by adding 1 or removing 1, use the array indexes.</p>\n\n<p>Supposing you are displaying <code>obj</code>, that means you already know its index in the array. If for some reason you don't, then retrieve it with <code>const index = arr.indexOf(obj)</code>.</p>\n\n<p>Then your <code>routerLink</code>s will be <code>\"['/details',  arr[index - 1].id ]\"</code> and <code>\"['/details',  arr[index + 1].id ]\"</code></p>\n"}], "owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58309387, "answer_count": 1, "score": 0, "last_activity_date": 1570642287, "creation_date": 1570630065, "last_edit_date": 1570639461, "question_id": 58306061, "link": "https://stackoverflow.com/questions/58306061/function-to-check-what-next-id-is-after-some-have-been-deleted-in-angular", "title": "function to check what next id is after some have been deleted in angular", "body": "<p>I have a list of contacts that I can navigate through in the detailed view like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;nav&gt;\n    &lt;a [routerLink]=\"['/details',  friend.id - 1 ]\" *ngIf=\"!(friend.id == 1)\"&gt;\n        Prev\n    &lt;/a&gt;\n    &lt;a [routerLink]=\"['/details',  friend.id + 1 ]\" *ngIf=\"!(friend.id == totalContacts)\"&gt;\n        Next\n    &lt;/a&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p>This creates a problem, however, when I have deleted some of the IDs.<br>\nFor instance, if id '4' is deleted, when I try to go from 3 to 5, it finds nothing. </p>\n\n<p>How can I surmount this without dramatically changing how I am navigating?<br>\nlike maybe changing this to use index instead of ID?</p>\n\n<p>Sample of array:</p>\n\n<pre><code>[\n    {\n        \"id\": 1, \n        \"name\": \"John Doe\", \n        \"address\": \"123 Main St\",\n        \"phone\": \"123-456-7890\"\n    },\n    {\n        \"id\": 2, \n        \"name\": \"Jane Smith\", \n        \"address\": \"456 Side St\",\n        \"phone\": \"123-456-7891\"\n    },\n    {\n        \"id\": 3, \n        \"name\": \"James Smith\", \n        \"address\": \"456 Side St\",\n        \"phone\": \"123-456-7892\"\n    },\n    {\n        \"id\": 4, \n        \"name\": \"Mary Jones\", \n        \"address\": \"789 High St\",\n        \"phone\": \"123-456-7893\"\n    },\n];\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6009383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923a558405ebb939130aa3404e7da562?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Baron", "link": "https://stackoverflow.com/users/6009383/guilherme-baron"}, "edited": false, "score": 0, "creation_date": 1570630871, "post_id": 58306056, "comment_id": 102974458, "body": "Actually, those arrow functions are already written and there are a bunch of them, I&#39;d rather keep it and just find a way to define a type for them. I will play around with your suggestion and see how it looks. Thanks!"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1570631096, "post_id": 58306056, "comment_id": 102974585, "body": "Ah, is <a href=\"https://github.com/microsoft/TypeScript/issues/23226\" rel=\"nofollow noreferrer\">this</a> one of the things stopping a more straightforward answer?  I guess callable types never get implicit index signatures for some reason."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 43, "user_id": 6009383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923a558405ebb939130aa3404e7da562?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Baron", "link": "https://stackoverflow.com/users/6009383/guilherme-baron"}, "edited": false, "score": 1, "creation_date": 1570631284, "post_id": 58306056, "comment_id": 102974710, "body": "@GuilhermeBaron there&#39;s always <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertions</a> so <code>const root = (() =&gt; &#39;root&#39;) as Route;</code> and <code>root.child = (() =&gt; `${root()}&#47;child`) as Route;</code> etc.  It&#39;s strange that this would be necessary though..."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1570631444, "post_id": 58306056, "comment_id": 102974817, "body": "@jcalz Yeah, assertions are always an option. I think in this case probably the simplest. Don&#39;t think any type safety is lost in this case."}, {"owner": {"reputation": 43, "user_id": 6009383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923a558405ebb939130aa3404e7da562?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Baron", "link": "https://stackoverflow.com/users/6009383/guilherme-baron"}, "edited": false, "score": 0, "creation_date": 1570632407, "post_id": 58306056, "comment_id": 102975386, "body": "<a href=\"https://github.com/microsoft/TypeScript/issues/23226\" rel=\"nofollow noreferrer\">This</a> might be related. I&#39;d like to be able to just do something like <a href=\"http://www.typescriptlang.org/play/index.html#code/MYewdgzgLgBATiEsC8MAUBKGyB8MDkCS+AUEVAHTAAWAlgDYAm26WuMABgCQDe5mAXwD0NBow5lElUUwoBzOAEMwjGc1SZsebnylU6TQUIXLVB8SSA\" rel=\"nofollow noreferrer\">that</a> but looks like TS allows me to add just one level deep attribute to a function. Using the type assertion I don&#39;t get type safety, e.g. some of the subroutes arrow functions expect parameters and using assertions that are not validated by TS when calling those functions."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1570630747, "last_edit_date": 1570630747, "creation_date": 1570630047, "answer_id": 58306056, "question_id": 58305846, "link": "https://stackoverflow.com/questions/58305846/how-to-define-a-type-for-a-function-like-this/58306056#58306056", "title": "How to define a type for a function like this?", "body": "<p>Depending on what you are trying to do there are several options.</p>\n\n<p>If you use a regular <code>function</code> definition you can just add extra properties to the function in the scope where the function was declared and TS will recognize these as properties on the function:</p>\n\n<pre><code>function root() { return 'root' }\nfunction child() { return `${root()}/child` }\nchild.grandchild = () =&gt; `${root.child()}/grandchild`\nroot.child = child;\n\n\n\nroot.child.grandchild() //ok\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=8&amp;ssc=24&amp;pln=1&amp;pc=1#code/GYVwdgxgLglg9mABAJznKAKAlIg3igUyhGSQHJV0zEBfAKFElgUQgAsYAbAE2z0OKlEAAwAkuSpiw0A9Oy7dhtOvJ4A6AObIAhmG6ruiALyI+RgHwjxktQeyytu-Rx7C6Ng8dYvuAbjoB7mhQtj6aOnp2WEA\" rel=\"nofollow noreferrer\">Play</a></p>\n\n<p>Another option is to use <code>Object.assign</code> to create the function with properties in one go:</p>\n\n<pre><code>\nconst root = Object.assign(() =&gt; 'root', {\n    child: Object.assign(() =&gt; `${root()}/child`, {\n        grandchild: () =&gt; `${root.child()}/grandchild`\n    })\n});\n\nroot.child.grandchild()\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html?ssl=8&amp;ssc=24&amp;pln=1&amp;pc=1#code/FAYw9gdgzgLgBAJzGeBeOB5ARgKwKYgwB0AhlFAJYDmEAFLQJRyoB8cA5EiuwDRwDewOMLggAFhQA2AEwBcmXAWJlKNek1ZwABgBJ+XGIwC+AenFTpWvoJG24VBCQjTzM+Y2Ztd+5MVfTjEwcnFwkZLSERIwZgaIBuYGADIn8iYOd-RiA\" rel=\"nofollow noreferrer\">Play</a></p>\n\n<p>Neither of these options actually uses your <code>Router</code> interface which allows any string property to be later added. To do this, I think the simplest option is to create a helper function that will internally use <code>Object.assign</code> but that will also use the desired types:</p>\n\n<pre><code>type Route = {\n    (): string\n    [key: string]: Route\n}\n\nfunction createRoute(fn: () =&gt; string, other: Record&lt;string, Route&gt; = {}) {\n    return Object.assign(fn, other);\n}\n\nconst root: Route = createRoute(() =&gt; 'root', {\n    child: createRoute(() =&gt; `${root()}/child`, {\n        grandchild: createRoute(() =&gt; `${root.child()}/grandchild`)\n    })\n})\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html?ssl=16&amp;ssc=1&amp;pln=1&amp;pc=1#code/C4TwDgpgBASg9gV2NAvFA3gKCjqAKASgC4oBnYAJwEsA7Ac21wG0BrCEE86+gXRPiQRMAX0yYAZghoBjYFTg0o0ihACGyASrziaJQlBQA+MpVp0ANFDjAAFhAr8I0uBQAmAHi5nLA5MbTowgQYjDgqwAgUigDyAEYAVk7AAHSqpKRUdDTaNJbWdhQEANwiYs405FAUcNb8iMgGSirqEJoQePpGUADk1dbdlli4SjZUADauJMpqGohancYABgAk6H3AhMIA9NKjE4uDocNQdBSqNK6745NNM61z7QtQK2s1KVcTm1un55d7rosCEcgiIgZggA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 43, "user_id": 6009383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923a558405ebb939130aa3404e7da562?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Baron", "link": "https://stackoverflow.com/users/6009383/guilherme-baron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58306056, "answer_count": 1, "score": 4, "last_activity_date": 1570630747, "creation_date": 1570629402, "question_id": 58305846, "link": "https://stackoverflow.com/questions/58305846/how-to-define-a-type-for-a-function-like-this", "title": "How to define a type for a function like this?", "body": "<p>I'm moving some code to TS and I've been struggling to define a type for a group of routing functions. That's how they look like:</p>\n\n<pre><code>const root: Route = () =&gt; 'root'\nroot.child = () =&gt; `${root()}/child`\nroot.child.grandchild = () =&gt; `${root.child()}/grandchild`\n</code></pre>\n\n<p>I've tried to define some kind of recursive callable type or interface alongside an index signature for the nested attributes, but without much success:</p>\n\n<pre><code>type Route = {\n  (): string\n  [key: string]: Route\n}\n</code></pre>\n\n<p>Any thoughts or ideas on how I can do that?</p>\n\n<p>Playground: <a href=\"http://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=10&amp;pc=1#code/C4TwDgpgBASg9gV2NAvFA3gKCjqAKASgC4oBnYAJwEsA7Ac21wG0BrCEE86+gXRPiQRMAX0yYAxnBrkoFOHGD9EyKGkKqAfFADkchdsx7gAOnEALKgBsAJqvwFNUAAYASdEcLCA9OavWnhvImvjbGdBQAhjTWIbZqDiharu5BphY2nl7hUTHp-mJAA\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=10&amp;pc=1#code/C4TwDgpgBASg9gV2NAvFA3gKCjqAKASgC4oBnYAJwEsA7Ac21wG0BrCEE86+gXRPiQRMAX0yYAxnBrkoFOHGD9EyKGkKqAfFADkchdsx7gAOnEALKgBsAJqvwFNUAAYASdEcLCA9OavWnhvImvjbGdBQAhjTWIbZqDiharu5BphY2nl7hUTHp-mJAA</a></p>\n"}, {"tags": ["javascript", "typescript", "oop"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1570629032, "post_id": 58305655, "comment_id": 102973407, "body": "OK - Got it - Thanks - It seems so obvious now :)"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1570630183, "post_id": 58305655, "comment_id": 102974082, "body": "I have an enum <code>SectionCategoryKeys</code> and I meant to get the values from that enum and use them to iterate through the <code>DOCUMENTATION_CATALOG</code>, getting the <code>TopicCategory[]</code> at each step."}], "tags": [], "owner": {"reputation": 17022, "user_id": 549471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6734d794c7d7415105eac1af49068f71?s=128&d=identicon&r=PG", "display_name": "Anders Marzi Tornblad", "link": "https://stackoverflow.com/users/549471/anders-marzi-tornblad"}, "is_accepted": true, "score": 1, "last_activity_date": 1570629078, "last_edit_date": 1570629078, "creation_date": 1570628808, "answer_id": 58305655, "question_id": 58305559, "link": "https://stackoverflow.com/questions/58305559/typescript-error-when-introducing-abstract-class-or-properties/58305655#58305655", "title": "Typescript error when introducing Abstract class or properties?", "body": "<p>Your <code>DOCUMENTATION_CATALOG</code> is a map from <code>string</code> to <code>TopicCategory[]</code>.</p>\n\n<p>Your <code>values</code> is of type <code>TopicCategory[]</code>, but the callback passed into <code>map()</code> returns one of the values in <code>DOCUMENTATION_CATALOG</code>, which is to say, a <code>TopicCategory[]</code>. Hence, the result of the <code>map()</code> call is an array of <code>TopicCategory[]</code>, which is <code>TopicCategory[][]</code>.</p>\n\n<p>I can't give any suggestions, as I'm not sure what the intended use of <code>value</code> is, or if the <code>DOCUMENTATION_CATALOG</code> has the wrong type.</p>\n\n<p>There are two different solutions:</p>\n\n<p>Either <code>value</code> needs to be of type <code>TopicCategory[][]</code>,</p>\n\n<p>or <code>DOCUMENTATION_CATALOG</code> needs to be <code>{[key:string]:TopicCategory}</code>.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58305655, "answer_count": 1, "score": 2, "last_activity_date": 1570629078, "creation_date": 1570628488, "last_edit_date": 1570628783, "question_id": 58305559, "link": "https://stackoverflow.com/questions/58305559/typescript-error-when-introducing-abstract-class-or-properties", "title": "Typescript error when introducing Abstract class or properties?", "body": "<p>I have a DOCUMENTATION_CATALOG that's defined like this:</p>\n\n<pre><code>export const DOCUMENTATION_CATALOG: {[key:string]:TopicCategory[]} = {}\n</code></pre>\n\n<p>We can get the <code>TopicCategory</code> array like this;</p>\n\n<pre><code>const values:TopicCategory[] =\n     Object.keys(DOCUMENTATION_CATALOG).map(\n     key =&gt; DOCUMENTATION_CATALOG[key])\n</code></pre>\n\n<p>When I extend <code>TopicCategory</code> with <code>AbstractTopic</code> I get the following error for the <code>values</code> variable:</p>\n\n<blockquote>\n  <p>const values: TopicCategory[]\n  Type 'TopicCategory[][]' is not assignable to type 'TopicCategory[]'.\n    Type 'TopicCategory[]' has no properties in common with type 'TopicCategory'.</p>\n</blockquote>\n\n<p>This is the <a href=\"https://stackblitz.com/edit/typescript-topic-category-error?file=index.ts\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n\n<p>I isolated it a little bit further.  The error is not triggered if there are no properties inside <code>TopicCategory</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 328, "user_id": 5396181, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-SliixmbAg_E/AAAAAAAAAAI/AAAAAAAAAFA/s8Jwxk4p6t4/photo.jpg?sz=128", "display_name": "Hemendra", "link": "https://stackoverflow.com/users/5396181/hemendra"}, "edited": false, "score": 0, "creation_date": 1570628422, "post_id": 58305473, "comment_id": 102973052, "body": "your question is not clear, many unknowns are there. What exactly you want to achieve, what have you tried and where it&#39;s failing you? Mention all that clearly in the post, also please go through this to understand how to ask effectively - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 1128, "user_id": 9856853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--R3DAJ2p8uc/AAAAAAAAAAI/AAAAAAAALtk/_wYfVrf-Nds/photo.jpg?sz=128", "display_name": "Raghul SK", "link": "https://stackoverflow.com/users/9856853/raghul-sk"}, "edited": false, "score": 0, "creation_date": 1570628548, "post_id": 58305473, "comment_id": 102973129, "body": "Will you please share your code so only we can help clarify, in your case, we can handle ngclass by using the unique value in the id, so please share your code for the clear explanation"}, {"owner": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "reply_to_user": {"reputation": 328, "user_id": 5396181, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-SliixmbAg_E/AAAAAAAAAAI/AAAAAAAAAFA/s8Jwxk4p6t4/photo.jpg?sz=128", "display_name": "Hemendra", "link": "https://stackoverflow.com/users/5396181/hemendra"}, "edited": false, "score": 0, "creation_date": 1570628551, "post_id": 58305473, "comment_id": 102973131, "body": "@Hemendra I woulda agree with you but he provided a demo where you can actually understand what he means, don&#39;t just auto comment with pre fabricated comments while on triage"}, {"owner": {"reputation": 11618, "user_id": 4964923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Q3Dk.jpg?s=128&g=1", "display_name": "Jaydip Jadhav", "link": "https://stackoverflow.com/users/4964923/jaydip-jadhav"}, "edited": false, "score": 0, "creation_date": 1570628894, "post_id": 58305473, "comment_id": 102973329, "body": "<code>[ngClass]=&quot;[isSelected&amp;&amp;o.Answer ? optionStyle : &#39;&#39;]</code>  something similar might help partially"}], "answers": [{"tags": [], "owner": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1570629199, "creation_date": 1570629199, "answer_id": 58305793, "question_id": 58305473, "link": "https://stackoverflow.com/questions/58305473/in-ngfor-of-li-ngclass-is-applied-to-all-the-row-of-li-tag-i-want-to-apply-one/58305793#58305793", "title": "In ngFor of li, ngclass is applied to all the row of li tag I want to apply one specific row", "body": "<p>Your issue here is that you are changing a variable that is being used for every row of your li element , what you should do is apply the css only to the selected row and you can obtain this result by adding a property to your options object to check whether it has been selected or not and apply that css accordingly like so :</p>\n\n<pre><code>setClickedRow(event:any, option:any){\n   option.Selected = !option.Selected;\n}\n\nQuestions = [{\n    question : \"Find even no\",\n    QuestionId:\"1\",\n    options : [\n      {   Name : \"A. 44\", Answer : true, Selected:false},\n      {   Name : \"B. 45\", Answer : false, Selected:false},\n      {   Name : \"C. 93\", Answer : false, Selected:false},\n      {   Name : \"D. 77\", Answer : false, Selected:false},\n    ]\n},\n{\n    question : \"find uniqe ratio\",\n    QuestionId:\"2\",\n    options : [\n      {   Name: \"A. 1:5\", Answer: false, Selected:false},\n      {   Name: \"B. 1:5\", Answer: false, Selected:false },\n      {   Name: \"C. 1:5\", Answer: false, Selected:false},\n      {   Name: \"D. 1:5\", Answer: true, Selected:false}\n    ]\n}]\n</code></pre>\n\n<p>And now that you have the variable to validate that the user selected that option or not you can apply the ng class with a condition to validate if matches the correct answer or not</p>\n\n<pre><code>&lt;div class=\"table table-hover table-sm\"&gt;\n      &lt;button class=\"btn-primary\" (click)=\"onSave()\"&gt;Save&lt;/button&gt;\n  &lt;ul *ngFor=\"let q of Questions\"&gt;\n    &lt;li colspan=\"4\"&gt;{{q.question}}&lt;/li&gt;\n    &lt;li *ngFor=\"let o of q.options; let i = index\" (click)=\"setClickedRow($event,o)\"&gt;\n      &lt;ul&gt;\n        &lt;div&gt;&lt;li  [ngClass]=\"{'correctAnswer': o.Selected &amp;&amp; o.Answer, 'wrongAnswer': o.Selected &amp;&amp; !o.Answer}\"&gt;&lt;strong&gt;{{o.Id}}&lt;/strong&gt;  {{o.Name}}&lt;/li&gt;&lt;/div&gt;\n      &lt;/ul&gt;\n\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 11949236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UeDZFbbTMAs/AAAAAAAAAAI/AAAAAAAAADs/2beenOVDOuQ/photo.jpg?sz=128", "display_name": "Techie Gram", "link": "https://stackoverflow.com/users/11949236/techie-gram"}, "edited": false, "score": 0, "creation_date": 1570675969, "post_id": 58307324, "comment_id": 102990085, "body": "thanks a lot this is what i wanted. one question is related to your solution . how to apply ngclass to correct option row as well as wrong option row if wrong option row clicked first????"}, {"owner": {"reputation": 17, "user_id": 11949236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UeDZFbbTMAs/AAAAAAAAAAI/AAAAAAAAADs/2beenOVDOuQ/photo.jpg?sz=128", "display_name": "Techie Gram", "link": "https://stackoverflow.com/users/11949236/techie-gram"}, "edited": false, "score": 0, "creation_date": 1570709066, "post_id": 58307324, "comment_id": 103003664, "body": "in my actual code correctAnswer  condition is Always true code using <a href=\"https://ibb.co/LpLtNRq\" rel=\"nofollow noreferrer\">ibb.co/LpLtNRq</a> and my firebase database look like <a href=\"https://ibb.co/JB0PMzc\" rel=\"nofollow noreferrer\">ibb.co/JB0PMzc</a> please tell me why correct Ans class is always true???"}, {"owner": {"reputation": 1754, "user_id": 2074923, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/00qbr.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2074923/abhishek"}, "reply_to_user": {"reputation": 17, "user_id": 11949236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UeDZFbbTMAs/AAAAAAAAAAI/AAAAAAAAADs/2beenOVDOuQ/photo.jpg?sz=128", "display_name": "Techie Gram", "link": "https://stackoverflow.com/users/11949236/techie-gram"}, "edited": false, "score": 0, "creation_date": 1570752668, "post_id": 58307324, "comment_id": 103022701, "body": "@TechieGram, the reason is your &#39;Ans&#39; property is a string instead of a boolean. Thus it always returns true as it has the value &#39;true&#39; and &#39;false&#39; instead of true/false."}], "tags": [], "owner": {"reputation": 1754, "user_id": 2074923, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/00qbr.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2074923/abhishek"}, "is_accepted": true, "score": 1, "last_activity_date": 1570637690, "last_edit_date": 1570637690, "creation_date": 1570634248, "answer_id": 58307324, "question_id": 58305473, "link": "https://stackoverflow.com/questions/58305473/in-ngfor-of-li-ngclass-is-applied-to-all-the-row-of-li-tag-i-want-to-apply-one/58307324#58307324", "title": "In ngFor of li, ngclass is applied to all the row of li tag I want to apply one specific row", "body": "<p>Went through your StackBlitz, refined your code a bit. No need for the method inside the component file. All you need to update is your HTML.</p>\n\n<p>However, the only issue with this is that this solution only allows selecting one li row irrespective of questionId.</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>   public selectedIndex: any;\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;div class=\"table table-hover table-sm\"&gt;\n      &lt;button class=\"btn-primary\" (click)=\"onSave()\"&gt;Save&lt;/button&gt;\n  &lt;ul *ngFor=\"let q of Questions\"&gt;\n    &lt;li colspan=\"4\"&gt;{{q.question}}&lt;/li&gt;\n    &lt;li *ngFor=\"let o of q.options; let i = index\" (click)=\"selectedIndex = (i+q.QuestionId)\"&gt;\n      &lt;ul&gt;\n        &lt;div&gt;\n          &lt;li [ngClass]=\"{correctAnswer: o.Answer &amp;&amp; selectedIndex===(i+q.QuestionId),\n              wrongAnswer: !o.Answer &amp;&amp; selectedIndex===(i+q.QuestionId)}\"&gt;\n            &lt;strong&gt;{{o.Id}}&lt;/strong&gt;  {{o.Name}}\n         &lt;/li&gt;\n        &lt;/div&gt;\n      &lt;/ul&gt;\n\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 17, "user_id": 11949236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UeDZFbbTMAs/AAAAAAAAAAI/AAAAAAAAADs/2beenOVDOuQ/photo.jpg?sz=128", "display_name": "Techie Gram", "link": "https://stackoverflow.com/users/11949236/techie-gram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 58307324, "answer_count": 2, "score": 0, "last_activity_date": 1570637690, "creation_date": 1570628250, "last_edit_date": 1592644375, "question_id": 58305473, "link": "https://stackoverflow.com/questions/58305473/in-ngfor-of-li-ngclass-is-applied-to-all-the-row-of-li-tag-i-want-to-apply-one", "title": "In ngFor of li, ngclass is applied to all the row of li tag I want to apply one specific row", "body": "<p>Actually i am new bee to angular, In this code i want to ngclass is apply to one special row is clicked and ngclass is apply to clicked row if condition is true not All rows of all question please someone help thanks in advance\n<a href=\"https://stackblitz.com/edit/angular-zgw8tn\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 1, "creation_date": 1570638399, "post_id": 58305394, "comment_id": 102978548, "body": "I&#39;ve edited my post, maybe try it"}, {"owner": {"reputation": 55, "user_id": 3517571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166e6fc5f96eb8ba81ac05fd455967e9?s=128&d=identicon&r=PG", "display_name": "Jose", "link": "https://stackoverflow.com/users/3517571/jose"}, "edited": false, "score": 0, "creation_date": 1576159867, "post_id": 58305394, "comment_id": 104815087, "body": "Hi, did you manage to make a solution for this problem? I&#39;m in this exact same scenario and I haven&#39;t found a solution"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3472601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4feb1225fa3d5c0d95c3d3cb83ba545b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike5", "link": "https://stackoverflow.com/users/3472601/mike5"}, "edited": false, "score": 0, "creation_date": 1570684421, "post_id": 58305459, "comment_id": 102991901, "body": "Thank&#39;s for your help, but seem not working... If I do it.. it will alert my @Component decorator... and the error message is the same."}, {"owner": {"reputation": 53, "user_id": 3472601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4feb1225fa3d5c0d95c3d3cb83ba545b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike5", "link": "https://stackoverflow.com/users/3472601/mike5"}, "edited": false, "score": 0, "creation_date": 1570684902, "post_id": 58305459, "comment_id": 102992033, "body": "About the path, if I change from testClass.class to testClass it&#39;s not found. The filename is testClass.class.ts in this case.   But it&#39;s probably related with the path.. if I import like { testClass } from &#39;projects/mylib/src/lib/global/module1/testClass.class&#39;;  Then it&#39;s working. But it&#39;s not the correct usage of a custom lib."}], "tags": [], "owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "is_accepted": false, "score": 1, "last_activity_date": 1570638370, "last_edit_date": 1570638370, "creation_date": 1570628188, "answer_id": 58305459, "question_id": 58305394, "link": "https://stackoverflow.com/questions/58305394/angular-7-x-can-not-export-class-from-a-custom-library/58305459#58305459", "title": "Angular 7.x - Can not export class from a custom library", "body": "<p>You have to extend but never try with an external lib but should work :)</p>\n\n<p>Try this</p>\n\n<pre><code>export class DemoComponent extends DemoClass implements OnInit {\n  ... \n  constructor(text: string) {\n     super(text); // DemoClass constructor params\n  }\n  ...\n}\n</code></pre>\n\n<p>I see as well that your import is strange. Try it like this</p>\n\n<pre><code>import { DemoClass } from 'mylib/lib/global/module1/testClass';\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3472601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4feb1225fa3d5c0d95c3d3cb83ba545b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike5", "link": "https://stackoverflow.com/users/3472601/mike5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1570685066, "creation_date": 1570627985, "last_edit_date": 1570685066, "question_id": 58305394, "link": "https://stackoverflow.com/questions/58305394/angular-7-x-can-not-export-class-from-a-custom-library", "title": "Angular 7.x - Can not export class from a custom library", "body": "<p>I can't export a class from a custom library and import in the app correctly. Use as type is working, but using with the constructor is not working. </p>\n\n<p>My lib is working... I can use the modules, components, service create from. If I just add a simple exported class, I can not use in the app correctly. </p>\n\n<blockquote>\n  <p>ERROR in ./src/app/demo/demo.component.ts\n  Module not found: Error: Can't resolve 'mylib/lib/global/module1/testClass.class'</p>\n</blockquote>\n\n<p>this happens if I use in my component the class with contructor... </p>\n\n<p>project/mylib/src/lib/global/module1/testClass.class.ts</p>\n\n<pre><code>export class DemoClass {\n    text: string;\n\n    constructor(text:string) {\n        this.text = text\n    }\n}\n</code></pre>\n\n<p>The lib is correctly compiled without error. In dist</p>\n\n<pre><code>export declare class DemoClass {\n    text: string;\n    constructor(text: string);\n}\n</code></pre>\n\n<p>public_api.ts</p>\n\n<pre><code>export * from './lib/global/module1/testClass.class';\n</code></pre>\n\n<p>in ./src/app/demo/demo.component.ts</p>\n\n<pre><code>import { DemoClass } from 'mylib/lib/global/module1/testClass.class';\n\n@Component({\n    selector: 'app-demo',\n    templateUrl: './demo.component.html',\n    styleUrls: ['./demo.component.scss']\n})\n\nexport class DemoComponent implements OnInit {\n\n    // This will work\n    demo: DemoClass = { text: \"lorem ipsum\" }\n\n    // This will not work and provide error 'Module not found: Error: Can't resolve '\n    demo2: DemoClass = new DemoClass('lorem ipsum')\n\n    constructor() { }\n\n    ngOnInit() {\n\n    }\n}\n</code></pre>\n\n<p><strong>edit</strong>\nsomething probably related is that if I import my class like</p>\n\n<pre><code>{ testClass } from projects/mylib/src/lib/global/module1/testClass.class';\n</code></pre>\n\n<p>Then it's working. But it's not the correct usage of a custom lib. </p>\n\n<p>I expect to be able to use a class in the app like in the lib.</p>\n"}, {"tags": ["javascript", "typescript", "lodash"], "comments": [{"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 2, "creation_date": 1570627522, "post_id": 58305023, "comment_id": 102972532, "body": "For your clarification this is not a <code>Angular</code> feature. This is a <code>javascript ES6</code> feature."}], "answers": [{"tags": [], "owner": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "is_accepted": false, "score": 2, "last_activity_date": 1570627100, "creation_date": 1570627100, "answer_id": 58305087, "question_id": 58305023, "link": "https://stackoverflow.com/questions/58305023/javascript-typescript-different-syntax-to-import-class/58305087#58305087", "title": "Javascript/Typescript - Different syntax to import class", "body": "<p>The first one imports the default export from module 'lodash/fp/partition' whereas the second one attempts to destructure the module's exports and get just the <code>partition</code> export. </p>\n\n<p>For this module:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = {\n  default: 1,\n  partition: 2,\n}\n</code></pre>\n\n<p>import partition from 'lodash/fp/partition'; would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>partion === 1\n</code></pre>\n\n<p>import { partition } from 'lodash/fp/partition'; would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>partion === 2\n</code></pre>\n\n<p>For this module:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = 1\n</code></pre>\n\n<p>import partition from 'lodash/fp/partition'; would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>partion === 1\n</code></pre>\n\n<p>import { partition } from 'lodash/fp/partition'; would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>partion === undefined\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 455, "user_id": 5373909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYDDk.jpg?s=128&g=1", "display_name": "Douglas P.", "link": "https://stackoverflow.com/users/5373909/douglas-p"}, "edited": false, "score": 0, "creation_date": 1570627822, "post_id": 58305098, "comment_id": 102972709, "body": "for more detail on how to use import check MDN docs <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 763, "user_id": 10836220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77056093988b8a6ea79ee500be56ce6c?s=128&d=identicon&r=PG&f=1", "display_name": "Yevhenii Dovhaniuk", "link": "https://stackoverflow.com/users/10836220/yevhenii-dovhaniuk"}, "is_accepted": true, "score": 7, "last_activity_date": 1570627126, "creation_date": 1570627126, "answer_id": 58305098, "question_id": 58305023, "link": "https://stackoverflow.com/questions/58305023/javascript-typescript-different-syntax-to-import-class/58305098#58305098", "title": "Javascript/Typescript - Different syntax to import class", "body": "<p>The first one is used to import something that is marked as <code>default</code>:</p>\n\n<pre><code>// lodash/fp/partiotion\n\nexport const a = 5;\nexport const b = 'b';\nexport default {key: 'value'}; // only this line will be imported using the first syntax\n\n</code></pre>\n\n<p>The second one allows you to specify what to import: </p>\n\n<pre><code>// lodash/fp/partiotion\n\nexport const a = 5;\nexport const b = 7;\nexport const partition = () =&gt; {}; // you are directly importing only this line\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 2678727, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/5b73267cd6041c476a6801806c6e4fd2?s=128&d=identicon&r=PG&f=1", "display_name": "lakhan_Ideavate", "link": "https://stackoverflow.com/users/2678727/lakhan-ideavate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58305098, "answer_count": 2, "score": 2, "last_activity_date": 1604643435, "creation_date": 1570626874, "last_edit_date": 1604643435, "question_id": 58305023, "link": "https://stackoverflow.com/questions/58305023/javascript-typescript-different-syntax-to-import-class", "title": "Javascript/Typescript - Different syntax to import class", "body": "<p>What is different between two syntax to import in angular:</p>\n\n<pre><code>import partition from 'lodash/fp/partition';\nimport { partition } from 'lodash/fp/partition';\n</code></pre>\n\n<p>First one is working but other is not working for me.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "package", "yarnpkg"], "comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1570658244, "post_id": 58304727, "comment_id": 102986628, "body": "Don&#39;t know if I understood your question correctly: When you install an npm package <code>A</code>, and this package has a dependency <code>B</code>, then of course <code>B</code> (transitive dependency) is also installed together with <code>A</code> itself, otherwise it would be missing in the runtime. The packages from npm package repository only include their own source files, but expect their dependencies to be installed nonetheless ( in contrast to web apps which are bundled together). And that is normal npm/yarn behavior as usual. Maybe you could explain your question  a bit more?"}, {"owner": {"reputation": 938, "user_id": 9168390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da446ed1c3084a00b8c209783778fae1?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome ", "link": "https://stackoverflow.com/users/9168390/jerome"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1570689563, "post_id": 58304727, "comment_id": 102993700, "body": "The point  is when installing B as a dependency of A, not only the DIST folder of B is installed in the A node_modules folder, but also all the node_modules folder of B. What I&#39;m expecting is that only dist folder of B is installed, but not its NODE_MODULES folder, because at the end, the A packqge is huge"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1570790357, "post_id": 58304727, "comment_id": 103034410, "body": "But that is also usual behavior. It is called dependency for a reason, you cannot leave it out unless its a <code>devDependency</code> for an external package. Normally npm installs all direct and transitive dependencies in the project&#39;s top <code>node_modules</code> folder. If there are divergent versions of the same package, the specific version gets install under its own <code>node_modules</code> folder of the package, where it is required."}, {"owner": {"reputation": 938, "user_id": 9168390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da446ed1c3084a00b8c209783778fae1?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome ", "link": "https://stackoverflow.com/users/9168390/jerome"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1571224981, "post_id": 58304727, "comment_id": 103167299, "body": "have added screenshot to explain my problem"}], "owner": {"reputation": 938, "user_id": 9168390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da446ed1c3084a00b8c209783778fae1?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome ", "link": "https://stackoverflow.com/users/9168390/jerome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1581495909, "creation_date": 1570625993, "last_edit_date": 1581495909, "question_id": 58304727, "link": "https://stackoverflow.com/questions/58304727/why-node-modules-is-added-when-installing-a-local-package-to-another-local-packa", "title": "Why node_modules is added when installing a local package to another local package?", "body": "<p>I'm a little bit confused when I search an answer to this issue.</p>\n\n<p>I have created a typescript/nodejs package \"firstmodule\". After built, the DIST \n folder contains only several  <code>.js</code> files into some subdirectories and  a <code>index.js</code> file</p>\n\n<p>However, when adding this package as a dependency to another application  <code>yarn add c:\\....\\firstmodule</code> , the package is well installed in <code>c:\\...\\app\\node_modules\\firstmodule</code>, but <strong>the node_modules of firstmodule is also installed</strong> <code>c:\\...\\app\\node_modules\\firstmodule\\node_modules\\**</code>.\nWhy ? This incresases the size of the application a lot. </p>\n\n<p>How to avoid this ? Looking at all the packages downloaded from NPM, none of them have their node_modules installed.</p>\n\n<p>I guess there must be one option in a config file, but can not find which one.</p>\n\n<p>Thks for guiding me.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is a screenshot of the problem.\nWe can see that my local module \"@C***\\g****\" has been well installed as a dependency.\nHowever, its own node_modules also, whereas, for example, the @appolographql module is already installed in the pmain projet. It seems to me a weired issue</p>\n\n<p><a href=\"https://i.stack.imgur.com/aVxN8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aVxN8.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is the package.json of the firsmodule :</p>\n\n<pre><code>{\n    \"name\": \"firstmodule\",\n    \"version\": \"1.0.0\",\n    \"main\": \"./dist/index.js\",\n    \"types\": \"./dist/index.d.ts\",\n    \"license\": \"MIT\",\n    \"author\": {\n        \"email\": \"****.com\",\n        \"name\": \"***\"\n    },\n    \"keywords\": [\n        \"Api\"\n    ],\n    \"scripts\": {\n        \"build\": \"tsc\",\n        \"start\": \"ts-node-dev --respawn src/index.ts\",\n        \"prebuild\": \"yarn lint:fix &amp;&amp; rm -rf dist\",\n        \"lint\": \"./node_modules/.bin./eslint --ext ts ./src\",\n        \"lint:fix\": \"yarn lint --fix\"\n    },\n    \"devDependencies\": {\n        \"@types/bcryptjs\": \"^2.4.2\",\n        \"typescript\": \"^3.6.3\"\n    },\n    \"dependencies\": {\n        \"bcryptjs\": \"^2.4.3\",\n    },\n    \"engines\": {\n        \"node\": \"&gt;=10\"\n    }\n}\n</code></pre>\n\n<p>and this is the tsconfig</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"rootDirs\": [\"src\"],\n        \"strict\": true,\n        \"target\": \"es6\",\n        \"module\": \"commonjs\",\n        \"lib\": [\"dom\", \"es6\", \"es2017\", \"esnext.asynciterable\"],\n        \"sourceMap\": true,\n        \"outDir\": \"./dist\",\n        \"moduleResolution\": \"node\",\n        \"declaration\": true,\n        \"composite\": false,\n        \"removeComments\": true,\n        \"noImplicitAny\": true,\n        \"strictNullChecks\": true,\n        \"strictFunctionTypes\": true,\n        \"noImplicitThis\": true,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": true,\n        \"noImplicitReturns\": true,\n        \"noFallthroughCasesInSwitch\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"esModuleInterop\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"strictPropertyInitialization\": false,\n        \"skipLibCheck\": true,\n        \"baseUrl\": \".\",\n        \"rootDir\": \"src\",\n        \"resolveJsonModule\": true\n    },\n    \"exclude\": [\"node_modules\"],\n    \"include\": [\"./src/**/*.tsx\", \"./src/**/*.ts\"],\n    \"typedocOptions\": {\n        \"mode\": \"modules\",\n        \"out\": \"docs\"\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular7", "angular8", "angular-router"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1570625959, "post_id": 58304690, "comment_id": 102971547, "body": "Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your issue, so that we can see what you have tried, and tell you what&#39;s wrong (if any)."}, {"owner": {"reputation": 763, "user_id": 10836220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77056093988b8a6ea79ee500be56ce6c?s=128&d=identicon&r=PG&f=1", "display_name": "Yevhenii Dovhaniuk", "link": "https://stackoverflow.com/users/10836220/yevhenii-dovhaniuk"}, "edited": false, "score": 0, "creation_date": 1570626271, "post_id": 58304690, "comment_id": 102971730, "body": "Try logging the <code>localStorage.getItem(&#39;login&#39;)</code> right before <code>router.navigate()</code> and in the <code>onInit()</code> method of <code>menu.component</code>. The issue looks kinda strange because <code>localStorage.setItem()</code> calls are <i>synchronous</i> meaning that <code>router.navigate</code> will not be executed earlier"}], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1570626337, "creation_date": 1570626337, "answer_id": 58304859, "question_id": 58304690, "link": "https://stackoverflow.com/questions/58304690/angular-router-navigate-perform-before-previous-code-lines/58304859#58304859", "title": "Angular router navigate perform before previous code lines", "body": "<p>It happens because  <code>ngOnInit</code> was called once  before  <code>onClickSubmit</code> triggered. So <code>userLogin</code> won't updated. </p>\n\n<p>You need somehow  notify <code>MenuComponent</code> that <code>userLogin</code> value already changed</p>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 10270173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrmXM.jpg?s=128&g=1", "display_name": "Bilel-Zheni", "link": "https://stackoverflow.com/users/10270173/bilel-zheni"}, "is_accepted": false, "score": 0, "last_activity_date": 1570626952, "creation_date": 1570626952, "answer_id": 58305052, "question_id": 58304690, "link": "https://stackoverflow.com/questions/58304690/angular-router-navigate-perform-before-previous-code-lines/58305052#58305052", "title": "Angular router navigate perform before previous code lines", "body": "<p>It happens because writing data in the local storage takes an amount of time, so your navigation is performed before that the data is available and can be retrieved.\nYou can avoid this by setting a timeout before navigating to the '/home' route or by adding attributes inside the usersService so values will be immediately available after a successful login.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8689645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1508be833b6974e941325b3241851395?s=128&d=identicon&r=PG&f=1", "display_name": "Zackna", "link": "https://stackoverflow.com/users/8689645/zackna"}, "edited": false, "score": 0, "creation_date": 1570628175, "post_id": 58305104, "comment_id": 102972904, "body": "I like the idea, do you have some link that explains it and/or show how to do?"}, {"owner": {"reputation": 21, "user_id": 8689645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1508be833b6974e941325b3241851395?s=128&d=identicon&r=PG&f=1", "display_name": "Zackna", "link": "https://stackoverflow.com/users/8689645/zackna"}, "edited": false, "score": 0, "creation_date": 1570713830, "post_id": 58305104, "comment_id": 103006584, "body": "I tried to do the same with a disconnect method but apparently I don&#39;t understand how observers work. Is there a way to discuss it with you (out of this thread)?"}], "tags": [], "owner": {"reputation": 309, "user_id": 9088525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYwRT.png?s=128&g=1", "display_name": "Musab.BA", "link": "https://stackoverflow.com/users/9088525/musab-ba"}, "is_accepted": true, "score": 0, "last_activity_date": 1570689823, "last_edit_date": 1570689823, "creation_date": 1570627140, "answer_id": 58305104, "question_id": 58304690, "link": "https://stackoverflow.com/questions/58304690/angular-router-navigate-perform-before-previous-code-lines/58305104#58305104", "title": "Angular router navigate perform before previous code lines", "body": "<p>It happens because your navigate to home component and \"menu\" component is loaded before login component.</p>\n\n<p>You can use observer to let menu component know that login preformed.</p>\n\n<p>First of all you will make a service let's call it AuthService</p>\n\n<pre><code>@Injectable()\nexport class AuthService {\n  public loginPreformedObserver: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n}\n</code></pre>\n\n<p>then in your login component </p>\n\n<pre><code>    export class LoginComponent implements OnInit {\n\n    formData;\n\n    constructor(private usersService: UsersService, private router: \n    Router,private authService: AuthService) \n    { \n    }\n\n    ngOnInit() {\n    this.formData = new FormGroup({\n      login: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required])\n     });\n    }\n\n    onClickSubmit(data) {\n      this.usersService.login(data).subscribe((response) =&gt; {\n      const token = response.token;\n      const userLogin = response.user.userLogin;\n\n      localStorage.setItem('token', token);\n      localStorage.setItem('login', userLogin);\n      this.authService.loginPreformedObserver.next();\n      this.router.navigate(['/home']);\n      });\n      }\n}\n</code></pre>\n\n<p>then in your menu component</p>\n\n<pre><code>export class MenuComponent implements OnInit {\n  showLoginLink = true;\n  userLogin;\n  private _loginPreformed: Subject&lt;any&gt;;\n\n  constructor(private authService: AuthService) { }\n\n  ngOnInit() {\n\n    this._loginPreformed= this.authService.loginPreformedObserver;\n    this._loginPreformed.subscribe(\n     value =&gt; \n        {\n      this.userLogin = localStorage.getItem('login');\n      if (this.userLogin !== null) \n      {\n        this.showLoginLink = false;\n      }\n        });\n\n  }\n\n}\n</code></pre>\n\n<p>For more details please see this <a href=\"https://medium.com/instarem-engineering/subjects-in-angular-2-4-5-4e5986e38e47\" rel=\"nofollow noreferrer\">link</a>    </p>\n"}], "owner": {"reputation": 21, "user_id": 8689645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1508be833b6974e941325b3241851395?s=128&d=identicon&r=PG&f=1", "display_name": "Zackna", "link": "https://stackoverflow.com/users/8689645/zackna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 58305104, "answer_count": 3, "score": 0, "last_activity_date": 1570689823, "creation_date": 1570625861, "last_edit_date": 1570628130, "question_id": 58304690, "link": "https://stackoverflow.com/questions/58304690/angular-router-navigate-perform-before-previous-code-lines", "title": "Angular router navigate perform before previous code lines", "body": "<p>I'm facing a strange behavior with my angular code.\nI have a login page that calls an API.</p>\n\n<p>login.component.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class LoginComponent implements OnInit {\n\n  formData;\n\n  constructor(private usersService: UsersService, private router: Router) { }\n\n  ngOnInit() {\n    this.formData = new FormGroup({\n      login: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n\n  onClickSubmit(data) {\n    this.usersService.login(data).subscribe((response) =&gt; {\n      const token = response.token;\n      const userLogin = response.user.userLogin;\n\n      localStorage.setItem('token', token);\n      localStorage.setItem('login', userLogin);\n\n      this.router.navigate(['/home']);\n    });\n  }\n}\n\n</code></pre>\n\n<p>login.component.html:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"card mb-3\"&gt;\n    &lt;div class=\"card-header\"&gt;\n      Login\n    &lt;/div&gt;\n    &lt;div class=\"card-body\"&gt;\n      &lt;form [formGroup]=\"formData\" (ngSubmit)=\"onClickSubmit(formData.value)\" novalidate&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;label for=\"inputLogin\"&gt;Login&lt;/label&gt;\n          &lt;input type=\"text\" class=\"form-control\" id=\"inputLogin\" name=\"login\" placeholder=\"Login\" formControlName=\"login\"&gt;\n          &lt;span *ngIf=\"(login.dirty || login.touched) &amp;&amp; login.invalid &amp;&amp; login.errors.required\" class=\"error\"&gt;Login is required&lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n          &lt;label for=\"inputPassword\"&gt;Password&lt;/label&gt;\n          &lt;input type=\"password\" class=\"form-control\" id=\"inputPassword\" name=\"password\" placeholder=\"Password\" formControlName=\"password\"&gt;\n          &lt;span *ngIf=\"(password.dirty || password.touched) &amp;&amp; password.invalid &amp;&amp; password.errors.required\" class=\"error\"&gt;Login is required&lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!formData.valid\"&gt;Sign in&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;p class=\"card-text login-text\"&gt;&lt;small class=\"text-muted\"&gt;Don't have any account? &lt;a routerLink=\"/register\"&gt;Register&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>I noticed that <code>this.router.navigate()</code> is performed before my <code>localStorage.setIem</code>.</p>\n\n<p>users.service.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class UsersService {\n  private apiUrl = 'https://localhost:63939/api/v1/';\n  private registerUrl = this.apiUrl + 'identity/register';\n  private loginUrl = this.apiUrl + 'identity/login';\n\n  constructor(private httpClient: HttpClient) { }\n\n  register(user: User): Observable&lt;AuthResponse&gt; {\n    return this.httpClient.post&lt;AuthResponse&gt;(this.registerUrl, user);\n  }\n\n  login(user: LoginRequest): Observable&lt;AuthResponse&gt; {\n    return this.httpClient.post&lt;AuthResponse&gt;(this.loginUrl, user);\n  }\n}\n</code></pre>\n\n<p>menu.component.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class MenuComponent implements OnInit {\n  showLoginLink = true;\n  userLogin;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.userLogin = localStorage.getItem('login');\n    if (this.userLogin !== null) {\n      this.showLoginLink = false;\n    }\n  }\n\n}\n</code></pre>\n\n<p>menu.component.html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li class=\"nav-item\" *ngIf=\"showLoginLink\"&gt;\n    &lt;a class=\"nav-link\" routerLink=\"/register\"&gt;Login / Register&lt;/a&gt;\n&lt;/li&gt;\n&lt;li class=\"nav-item\" *ngIf=\"userLogin\"&gt;\n    &lt;a class=\"nav-link\" routerLink=\"/register\"&gt;{{userLogin}}&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>When the navigate is performed, the menu is displayed but localStorage is empty so my userLogin is null and my <code>*ngIf=\"userLogin\"</code> does not work. localStorage is filled right after the redirect, if I refresh the page, I've my values and my menu works (display my second <code>&lt;li&gt;</code> instead of the first).</p>\n\n<p>Is it a standard behavior? How I can achieve the menu changes without refresh my page?\n(I prefer an explanation rather than a ready-made solution but I don't' refuse a solution ^-^)</p>\n\n<p><strong>EDIT</strong>: Add some code due to comments :) I will edit again if more code is needed</p>\n"}, {"tags": ["angular", "typescript", "resize", "window"], "comments": [{"owner": {"reputation": 368, "user_id": 2091374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037af630467963a0a25126c314d5188d?s=128&d=identicon&r=PG", "display_name": "garty", "link": "https://stackoverflow.com/users/2091374/garty"}, "edited": false, "score": 0, "creation_date": 1570629534, "post_id": 58304506, "comment_id": 102973720, "body": "So you&#39;d like the user to be able to dynamically set the zoom of the window within your app?"}, {"owner": {"reputation": 37, "user_id": 11988313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X-RpVeVOVio/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXe65u73brFfFjjQ6jOvA5Zt1NcA/photo.jpg?sz=128", "display_name": "indd", "link": "https://stackoverflow.com/users/11988313/indd"}, "reply_to_user": {"reputation": 368, "user_id": 2091374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037af630467963a0a25126c314d5188d?s=128&d=identicon&r=PG", "display_name": "garty", "link": "https://stackoverflow.com/users/2091374/garty"}, "edited": false, "score": 0, "creation_date": 1570629735, "post_id": 58304506, "comment_id": 102973841, "body": "@user2091374 precisely"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11988313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X-RpVeVOVio/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXe65u73brFfFjjQ6jOvA5Zt1NcA/photo.jpg?sz=128", "display_name": "indd", "link": "https://stackoverflow.com/users/11988313/indd"}, "edited": false, "score": 0, "creation_date": 1570630896, "post_id": 58306065, "comment_id": 102974475, "body": "That did it, thanks!! The code is working but getting an error though on document.body.style.zoom &quot;Type number is not assignable to type &#39;string&#39; &quot;."}, {"owner": {"reputation": 37, "user_id": 11988313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X-RpVeVOVio/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXe65u73brFfFjjQ6jOvA5Zt1NcA/photo.jpg?sz=128", "display_name": "indd", "link": "https://stackoverflow.com/users/11988313/indd"}, "edited": false, "score": 0, "creation_date": 1570631175, "post_id": 58306065, "comment_id": 102974627, "body": "Scratch that. Updated with your edit, message gone. Thanks again."}, {"owner": {"reputation": 368, "user_id": 2091374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037af630467963a0a25126c314d5188d?s=128&d=identicon&r=PG", "display_name": "garty", "link": "https://stackoverflow.com/users/2091374/garty"}, "reply_to_user": {"reputation": 37, "user_id": 11988313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X-RpVeVOVio/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXe65u73brFfFjjQ6jOvA5Zt1NcA/photo.jpg?sz=128", "display_name": "indd", "link": "https://stackoverflow.com/users/11988313/indd"}, "edited": false, "score": 0, "creation_date": 1570631356, "post_id": 58306065, "comment_id": 102974752, "body": "You&#39;re welcome."}], "tags": [], "owner": {"reputation": 368, "user_id": 2091374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037af630467963a0a25126c314d5188d?s=128&d=identicon&r=PG", "display_name": "garty", "link": "https://stackoverflow.com/users/2091374/garty"}, "is_accepted": true, "score": 2, "last_activity_date": 1570630073, "creation_date": 1570630073, "answer_id": 58306065, "question_id": 58304506, "link": "https://stackoverflow.com/questions/58304506/allow-users-to-adjust-the-window-size-in-an-angular-8-application/58306065#58306065", "title": "Allow users to adjust the window size in an Angular 8 application?", "body": "<pre><code> //Component.html:\n &lt;input [value]=\"zoom\" (change)=\"onzoom()\" (input)=\"zoom = $event.target.value\"&gt;%\n\n //Component.ts: \n zoom = 0;\n onzoom() {\n   document.body.style.zoom = this.zoom + \"%\";\n }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fafsjx\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-fafsjx</a></p>\n"}], "owner": {"reputation": 37, "user_id": 11988313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X-RpVeVOVio/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXe65u73brFfFjjQ6jOvA5Zt1NcA/photo.jpg?sz=128", "display_name": "indd", "link": "https://stackoverflow.com/users/11988313/indd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "closed_date": 1570638938, "accepted_answer_id": 58306065, "answer_count": 1, "score": 0, "last_activity_date": 1570630073, "creation_date": 1570625317, "last_edit_date": 1570628750, "question_id": 58304506, "link": "https://stackoverflow.com/questions/58304506/allow-users-to-adjust-the-window-size-in-an-angular-8-application", "closed_reason": "Needs more focus", "title": "Allow users to adjust the window size in an Angular 8 application?", "body": "<p>New to Angular, as well as a first-time poster here on stackoverflow. So don't judge me lol. </p>\n\n<p>I'm looking for a way to resize the window of an angular application. Similar to a browsers zoom in and out setting. Difference is I want users to be able to set this setting inside of my angular application. I have spent a lot of time trying to find materials online but with no luck so far, so thought I'd see if any one here might have done something like this? </p>\n"}, {"tags": ["html", "css", "angular", "typescript", "google-visualization"], "comments": [{"owner": {"reputation": 1784, "user_id": 8365012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c40bec75b974f446c8837c65df4b736d?s=128&d=identicon&r=PG&f=1", "display_name": "cmprogram", "link": "https://stackoverflow.com/users/8365012/cmprogram"}, "edited": false, "score": 0, "creation_date": 1570625725, "post_id": 58304447, "comment_id": 102971409, "body": "Just looking at what you&#39;ve provided - I&#39;d assume you also have to provide a &quot;start&quot; and &quot;end&quot; value. I.e the graph doesn&#39;t know if you want to start at 0 and end at 100. (your y axis begins at 0 and ends at 100)"}], "answers": [{"comments": [{"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 0, "creation_date": 1570815084, "post_id": 58317835, "comment_id": 103047012, "body": "this is for a <i>material</i> chart, and will not work for a classic <code>ColumnChart</code>, which is being used. options are different..."}], "tags": [], "owner": {"reputation": 3178, "user_id": 1309690, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a8c0c658a0d6465fe9d2fbd46e9de62?s=128&d=identicon&r=PG", "display_name": "ascsoftw", "link": "https://stackoverflow.com/users/1309690/ascsoftw"}, "is_accepted": false, "score": 0, "last_activity_date": 1570693368, "creation_date": 1570693368, "answer_id": 58317835, "question_id": 58304447, "link": "https://stackoverflow.com/questions/58304447/inequal-column-bars-google-chart/58317835#58317835", "title": "Inequal column bars (Google Chart)", "body": "<p>You need to provide the range of min and max value which in your case could be between 0 and 100 like below:</p>\n\n<pre><code>        axes: {\n            y: {\n                all: {\n                    range: {\n                        max: 100,\n                        min: 0\n                    }\n                }\n            }\n        },\n</code></pre>\n\n<p>You can check the demo at <a href=\"http://jsfiddle.net/x8dafm9u/2/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n"}, {"comments": [{"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 0, "creation_date": 1571517508, "post_id": 58346010, "comment_id": 103270030, "body": "Any luck with this question?"}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": false, "score": 0, "last_activity_date": 1570815001, "creation_date": 1570815001, "answer_id": 58346010, "question_id": 58304447, "link": "https://stackoverflow.com/questions/58304447/inequal-column-bars-google-chart/58346010#58346010", "title": "Inequal column bars (Google Chart)", "body": "<p>for the classic <code>ColumnChart</code>, set the range on the <code>vAxis</code> using option <code>viewWindow</code>  </p>\n\n<p>add to your chart options...  </p>\n\n<pre><code>vAxis: {\n  baselineColor: 'none',\n  ticks: [],\n  viewWindow: {  // &lt;-- add view window\n    min: 0\n  }\n},\n</code></pre>\n"}], "owner": {"reputation": 946, "user_id": 11834561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db261ed9283a5fa403bfca7891b954e?s=128&d=identicon&r=PG&f=1", "display_name": "Timu&#231;in &#199;i&#231;ek", "link": "https://stackoverflow.com/users/11834561/timu%c3%a7in-%c3%87i%c3%a7ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570815001, "creation_date": 1570625139, "last_edit_date": 1570677225, "question_id": 58304447, "link": "https://stackoverflow.com/questions/58304447/inequal-column-bars-google-chart", "title": "Inequal column bars (Google Chart)", "body": "<p>I have a google chart inside mat-grid-tile. One column has a value of <code>50</code> and the other has a value of <code>30</code>. These values come from service myService and they're correct. When I hover on those bars, that shows me correct values on tooltip. But the column heights don't seem like 50 and 30. That 30 one looks shorter than it should be. How can I make it correct?</p>\n\n<p><a href=\"https://i.stack.imgur.com/miBCI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miBCI.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here what I tried</p>\n\n<p><strong>TS File</strong></p>\n\n<pre><code> ysData: any;\n  options = {\n    backgroundColor: '#fafafa',\n    legend: { position: 'none' },\n    hAxis: {\n      baselineColor: 'none',\n      ticks: []\n    },\n    vAxis: {\n      baselineColor: 'none',\n      ticks: []\n    },\n    colors: ['ffc000']\n  }\nconstructor()\n{\n    this.ysData = [[\"Growth\", this.myService.growth], [\"Health\", this.myService.health]];\n\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-grid-tile [colspan]=\"2\" [rowspan]=\"12\"&gt;\n        &lt;google-chart #chart \n         [type]=\"'ColumnChart'\"\n         [data]=\"ysData\" \n         [options]=\"options\" \n         [dynamicResize]=\"true\"\n         [width]=\"200\" [height]=\"400\"&gt;\n        &lt;/google-chart&gt;\n    &lt;/mat-grid-tile&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 0, "creation_date": 1570624662, "post_id": 58304109, "comment_id": 102970769, "body": "Thanks for answering my query. Need one more suggestion. What to do if I wanted parameters = [&quot;skills&quot;, &quot;result&quot;]. Don&#39;t want the &quot;name&quot; object to be included in the parameters."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "edited": false, "score": 2, "creation_date": 1570624804, "post_id": 58304109, "comment_id": 102970844, "body": "you could filter the array with <code>keysWithoutName = keys.filter(k =&gt; k !== &#39;Name&#39;);</code>"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 7, "last_activity_date": 1570623978, "creation_date": 1570623978, "answer_id": 58304109, "question_id": 58304052, "link": "https://stackoverflow.com/questions/58304052/how-to-create-an-array-with-the-headers-of-a-list-in-typescript/58304109#58304109", "title": "How to create an array with the headers of a list in typescript?", "body": "<p>You could get the keys from the first object of the array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let scores = [{ name: \"A\", skills: 50, result: 80 }, { name: \"B\", skills: 40, result: 90 }, { name: \"C\", skills: 60, result: 60 }],\r\n    parameters = Object.keys(scores[0]);\r\n   \r\nconsole.log(parameters);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "is_accepted": false, "score": 1, "last_activity_date": 1570624222, "creation_date": 1570624222, "answer_id": 58304179, "question_id": 58304052, "link": "https://stackoverflow.com/questions/58304052/how-to-create-an-array-with-the-headers-of-a-list-in-typescript/58304179#58304179", "title": "How to create an array with the headers of a list in typescript?", "body": "<p>If you can have different objects with different keys you can use <code>.reduce()</code> and then get the <code>Object.values()</code> of your accumulated object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const scores = [{name: \"A\", skills: 50, result: 80}, {name: \"B\", skills: 40, result: 90}, {x: \"C\", y: 60, z: 60}];\r\n\r\nconst res = Object.values(scores.reduce((acc, obj) =&gt; {\r\n  const key = Object.keys(obj);\r\n  acc[key] = acc[key] || key;\r\n  return acc;\r\n}, {}));\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 150, "user_id": 5361338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TJqp.jpg?s=128&g=1", "display_name": "ImtiazNur", "link": "https://stackoverflow.com/users/5361338/imtiaznur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "closed_date": 1570623989, "accepted_answer_id": 58304109, "answer_count": 2, "score": 1, "last_activity_date": 1570624222, "creation_date": 1570623791, "question_id": 58304052, "link": "https://stackoverflow.com/questions/58304052/how-to-create-an-array-with-the-headers-of-a-list-in-typescript", "closed_reason": "Duplicate", "title": "How to create an array with the headers of a list in typescript?", "body": "<p>In typescript, I have an array of objects. I want to create a new array with the headers of the objects from the first array.</p>\n\n<pre><code>    let scores = [{name: \"A\", skills: 50, result: 80},\n                  {name: \"B\", skills: 40, result: 90},\n                  {name: \"C\", skills: 60, result: 60}];\n\n    let parameters = Array.from(this.scores.keys());\n    this.console(parameters);\n\n    // parameters = [0, 1, 2]\n\n    // expecting; parameters = [\"name\", \"skills\", \"result\"]\n</code></pre>\n"}, {"tags": ["json", "typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7136254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0351f2b106763fc4d92632944ca59f?s=128&d=identicon&r=PG&f=1", "display_name": "F. Zi", "link": "https://stackoverflow.com/users/7136254/f-zi"}, "is_accepted": true, "score": 0, "last_activity_date": 1571141137, "creation_date": 1571141137, "answer_id": 58394287, "question_id": 58303876, "link": "https://stackoverflow.com/questions/58303876/using-editor-action-insertsnippet-from-another-extension/58394287#58394287", "title": "Using editor.action.insertSnippet from another extension", "body": "<p>For future reference if someone runs into the same problem: </p>\n\n<p>The <code>commands</code> extension expects an array of commands, the 'insertSnippet` command expects an object with the \"snippet\" key. The correct syntax is:</p>\n\n<pre><code>{\n  \"alignment\": \"left\",\n  \"priority\": -9996,\n  \"text\": \"$(file-media)\",\n  \"tooltip\": \"Insert image reference\",\n  \"command\": \"editor.action.insertSnippet\",\n  \"arguments\":[{\n    \"snippet\": \"[Text](URL)$0\"\n  }],\n  \"filterLanguageRegex\": \"markdown\"\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7136254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0351f2b106763fc4d92632944ca59f?s=128&d=identicon&r=PG&f=1", "display_name": "F. Zi", "link": "https://stackoverflow.com/users/7136254/f-zi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 58394287, "answer_count": 1, "score": 0, "last_activity_date": 1571141137, "creation_date": 1570623108, "last_edit_date": 1570625864, "question_id": 58303876, "link": "https://stackoverflow.com/questions/58303876/using-editor-action-insertsnippet-from-another-extension", "title": "Using editor.action.insertSnippet from another extension", "body": "<p>I am trying to add buttons to the status bar of VS Code that insert code-snippets, using this <a href=\"https://marketplace.visualstudio.com/items?itemName=fabiospampinato.vscode-commands\" rel=\"nofollow noreferrer\">Extension</a>. I also have the following keybindings (in keybindings.json) for these snippets which just work fine.</p>\n\n<pre><code>{\n    \"key\": \"alt+x l\",\n    \"command\": \"editor.action.insertSnippet\",\n    \"when\": \"editorTextFocus &amp;&amp; editorLangId == 'markdown'\",\n    \"args\": {\n        \"snippet\": \"[Text](URL)$0\"\n    }\n}\n</code></pre>\n\n<p>Unfortunatly, I cannot get the arguments-syntax straight to do the same with the extension. I tried quiet a few variations in settings.json but with no success. The button is displayed and the insertSnippet command is executed, unfortunatly not with the passed arguments.</p>\n\n<pre><code>        {\n            \"alignment\": \"left\",\n            \"priority\": -9996,\n            \"text\": \"$(file-media)\",\n            \"tooltip\": \"Insert image reference\",\n            \"command\": \"editor.action.insertSnippet\",\n            \"arguments\":[\"{\\\"snippet\\\": \\\"[Text](URL)$0\\\"}\"],\n            \"filterLanguageRegex\": \"markdown\"\n        }\n</code></pre>\n\n<p>Thanks for your help in advance!</p>\n"}, {"tags": ["typescript", "generics", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1570622683, "creation_date": 1570622683, "answer_id": 58303752, "question_id": 58303461, "link": "https://stackoverflow.com/questions/58303461/using-wildcard-in-typescript-generics/58303752#58303752", "title": "Using wildcard in typescript generics", "body": "<p>This is called partial argument inference and is not supported at the moment. There is a proposal to add this but it is not actively being perused as far as I can tell.</p>\n\n<p>You can use function currying to achieve this, although the result is not as pretty :  </p>\n\n<pre><code>function func&lt;T&gt;(param1: T) {\n  return function &lt;D&gt;(param2: D) {\n    return [param1, param2]\n  }\n}  \n\nexport interface Data {\n  field1: string;\n  field2: boolean;\n}\nlet a = func(\"Hi\")&lt;Data&gt;({\n  field1: \"\",\n  field2: true\n})\n\n\nlet b = func(\"Hi\")&lt;Data&gt;({\n  field1: 1, // err\n  field2: true\n})\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=20&amp;ssc=3&amp;pln=1&amp;pc=1#code/GYVwdgxgLglg9mABKSAeAKgPgBQAcCGATvgLYCMAXIugJSIDeAUIooQKZQiFIrTxKoAIjgLESAJiqC6TFi3aduiANqjSZADSI1EgLrNEAX0aGWjRmwAeuOISiIYYKG0LB8ENokH4o+BgeAYNgAbABNKRABnKEJHAHMAbgCgsMlEACM4OGC2fDAk4xz7PwBeZHAIbAAiAAkYKpohH3wcWWQU8Koqqo1kkNC0mJA2ExpzRiKMxDLearqGpt9WvrCIzUQAeg3EF0IVgaohkcMaIA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 4359, "user_id": 502256, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/70646dc0868a5f941408d4e9c14e9f8c?s=128&d=identicon&r=PG", "display_name": "Fynn", "link": "https://stackoverflow.com/users/502256/fynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1570627094, "accepted_answer_id": 58303752, "answer_count": 1, "score": 0, "last_activity_date": 1570622683, "creation_date": 1570621694, "question_id": 58303461, "link": "https://stackoverflow.com/questions/58303461/using-wildcard-in-typescript-generics", "closed_reason": "Duplicate", "title": "Using wildcard in typescript generics", "body": "<p>This might be a simple solution and I just did not come across it yet. Given a typescript function like <code>func&lt;T, D = any&gt;(param1: T, param2: D) { ... }</code> and I call it with two parameters <code>param1</code> and <code>param2</code>. Is it possible to specify the type of <code>D</code> without specifying the type of <code>T</code> so that typescript still infers the type of <code>T</code> but enforces the type of <code>D</code>?</p>\n\n<p><strong>Example:</strong> Let's say I want to enforce that this function is called with the type of an external interface definition:</p>\n\n<pre><code>export interface Data {\n  field1: string;\n  field2: boolean;\n}\n</code></pre>\n\n<p>I can now either use <code>func('Hello', {field1: 'World', field2: true})</code> (this will not ensure that <code>param2</code> is a valid <code>Data</code> object) or I can use <code>func&lt;string, Data&gt;('Hello', {field1: 'World', field2: true})</code>. What I <strong>don't want</strong> to do is <code>func&lt;any, Data&gt;('Hello', {field1: 'World', field2: true})</code>. Is there a solution for this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "jsdoc", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 5149327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p-6cq-jfAd0/AAAAAAAAAAI/AAAAAAAAAH4/-mgTbLqwFeE/photo.jpg?sz=128", "display_name": "Kumar Sidharth", "link": "https://stackoverflow.com/users/5149327/kumar-sidharth"}, "edited": false, "score": 2, "creation_date": 1570624222, "post_id": 58303360, "comment_id": 102970522, "body": "Although it is not desirable for this case, I would still like to know how disabling lint in the whole file works."}, {"owner": {"reputation": 325, "user_id": 5632158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34ab5aaa2982e8e2a23730dcf543b6ab?s=128&d=identicon&r=PG", "display_name": "biolauri", "link": "https://stackoverflow.com/users/5632158/biolauri"}, "reply_to_user": {"reputation": 458, "user_id": 5149327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p-6cq-jfAd0/AAAAAAAAAAI/AAAAAAAAAH4/-mgTbLqwFeE/photo.jpg?sz=128", "display_name": "Kumar Sidharth", "link": "https://stackoverflow.com/users/5149327/kumar-sidharth"}, "edited": false, "score": 0, "creation_date": 1619044614, "post_id": 58303360, "comment_id": 118789350, "body": "@Kumar Sidharth: Although quite old, this should be done with <code>&#47;* tslint:disable no-redundant-jsdoc*&#47;</code> at the first line of your file. In general, this disables the rule for any subsequent lines until end of file. You can read more about this in <a href=\"https://palantir.github.io/tslint/usage/rule-flags/\" rel=\"nofollow noreferrer\">tslint&#39;s official docs on rule flags</a>."}], "tags": [], "owner": {"reputation": 12472, "user_id": 3680098, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uuWp6.png?s=128&g=1", "display_name": "Evaldas Buinauskas", "link": "https://stackoverflow.com/users/3680098/evaldas-buinauskas"}, "is_accepted": false, "score": 1, "last_activity_date": 1570621381, "creation_date": 1570621381, "answer_id": 58303360, "question_id": 58303336, "link": "https://stackoverflow.com/questions/58303336/property-of-an-object-tslint-gives-error-no-redundant-jsdoc/58303360#58303360", "title": "@property of an object, tslint gives error - no-redundant-jsdoc", "body": "<p>You can disable this for the whole file if that if that would work for you?</p>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 5632158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34ab5aaa2982e8e2a23730dcf543b6ab?s=128&d=identicon&r=PG", "display_name": "biolauri", "link": "https://stackoverflow.com/users/5632158/biolauri"}, "edited": false, "score": 0, "creation_date": 1619044763, "post_id": 59473253, "comment_id": 118789391, "body": "Be careful: Although this disables the warning for this specific case, it also deactivates the rule for your whole project. In general, you don&#39;t want to do this for a specific false positive of your lint rules."}], "tags": [], "owner": {"reputation": 5795, "user_id": 212889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/39d214dad6cdb03e5629a6222f41b93c?s=128&d=identicon&r=PG", "display_name": "Devner", "link": "https://stackoverflow.com/users/212889/devner"}, "is_accepted": true, "score": 9, "last_activity_date": 1577220308, "creation_date": 1577220308, "answer_id": 59473253, "question_id": 58303336, "link": "https://stackoverflow.com/questions/58303336/property-of-an-object-tslint-gives-error-no-redundant-jsdoc/59473253#59473253", "title": "@property of an object, tslint gives error - no-redundant-jsdoc", "body": "<p>This is the fix for <code>no-redundant-jsdoc</code> issue in <strong>tslint</strong> that worked for me (basically I disabled lint from throwing that error/issue):</p>\n\n<ol>\n<li><p>Open <strong>tslint.json</strong> file in your project root.  </p></li>\n<li><p>Replace the line <code>\"no-redundant-jsdoc\": true</code> with <code>\"no-redundant-jsdoc\": false</code></p></li>\n</ol>\n\n<p>Go back and check the errors/files in question. That should be fixed now.</p>\n"}], "owner": {"reputation": 458, "user_id": 5149327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p-6cq-jfAd0/AAAAAAAAAAI/AAAAAAAAAH4/-mgTbLqwFeE/photo.jpg?sz=128", "display_name": "Kumar Sidharth", "link": "https://stackoverflow.com/users/5149327/kumar-sidharth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1675, "favorite_count": 0, "accepted_answer_id": 59473253, "answer_count": 2, "score": 2, "last_activity_date": 1577220308, "creation_date": 1570621282, "last_edit_date": 1570623783, "question_id": 58303336, "link": "https://stackoverflow.com/questions/58303336/property-of-an-object-tslint-gives-error-no-redundant-jsdoc", "title": "@property of an object, tslint gives error - no-redundant-jsdoc", "body": "<p>I am using tslint for my typescript code.\nI  want to document a property of an interface.\ntsLint gives an error <code>JSDoc tag '@property' is redundant in TypeScript code. (no-redundant-jsdoc)tslint(1)</code></p>\n\n<p>The following is my comment</p>\n\n<pre><code>/**\n * @property value - number with a unit as string\n */\n</code></pre>\n\n<p>Disabling the tslint for next line also does not work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vTat0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vTat0.png\" alt=\"jsDoc @property and tslint disable does not work\"></a></p>\n"}, {"tags": ["javascript", "angular", "string", "typescript", "concat"], "comments": [{"owner": {"reputation": 189, "user_id": 11561239, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6sKOaovI8WY/AAAAAAAAAAI/AAAAAAAAAEc/oF0LyMuMibY/photo.jpg?sz=128", "display_name": "Magelan", "link": "https://stackoverflow.com/users/11561239/magelan"}, "edited": false, "score": 0, "creation_date": 1570621566, "post_id": 58303155, "comment_id": 102969103, "body": "I&#39;m not sure about your exact question: If you want to add queries to your initial empty query set, you can use &quot;push&quot;. If you want to concatenate strings you can consider starting with <code>query = &quot;&quot;</code> instead of <code>query = {}</code>"}, {"owner": {"reputation": 75, "user_id": 8845321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b8280208877d3e90b7805d874f8e74?s=128&d=identicon&r=PG&f=1", "display_name": "Boha", "link": "https://stackoverflow.com/users/8845321/boha"}, "reply_to_user": {"reputation": 189, "user_id": 11561239, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6sKOaovI8WY/AAAAAAAAAAI/AAAAAAAAAEc/oF0LyMuMibY/photo.jpg?sz=128", "display_name": "Magelan", "link": "https://stackoverflow.com/users/11561239/magelan"}, "edited": false, "score": 0, "creation_date": 1570621885, "post_id": 58303155, "comment_id": 102969270, "body": "I already dit both of that and same error message: &quot;Property &#39;concat&#39; or &#39;push&#39; does not exist on type &#39;{}&#39;&quot; :("}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 9390069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4qPbELsWOvk/AAAAAAAAAAI/AAAAAAAABS4/YQNZaBU_4zc/photo.jpg?sz=128", "display_name": "Darshan Bhavsar", "link": "https://stackoverflow.com/users/9390069/darshan-bhavsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1570623715, "creation_date": 1570623715, "answer_id": 58304039, "question_id": 58303155, "link": "https://stackoverflow.com/questions/58303155/concatenate-query-params-as-string-angular-typescript/58304039#58304039", "title": "Concatenate Query Params as string - Angular- Typescript", "body": "<ol>\n<li>Let us assume you want pass some data like</li>\n</ol>\n\n<pre><code>const userData = {\n    firstName: 'Arpit',\n    lastName: 'Patel'\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>You can pass this object into Query Params like this.</li>\n</ol>\n\n<pre><code>this.router.navigate(['/dashboard/details'], { queryParams: { user: JSON.stringify(userData) } });\n</code></pre>\n\n<ol start=\"3\">\n<li>Then extract this Object in next component which is called as below.</li>\n</ol>\n\n<pre><code>this.route.queryParams.subscribe(params =&gt; {\n      const user= JSON.parse(params.user);\n      console.log(user);\n});\n</code></pre>\n\n<ol start=\"4\">\n<li>This will result in JSON object. You can access it directly.</li>\n</ol>\n"}], "owner": {"reputation": 75, "user_id": 8845321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b8280208877d3e90b7805d874f8e74?s=128&d=identicon&r=PG&f=1", "display_name": "Boha", "link": "https://stackoverflow.com/users/8845321/boha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 533, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570623715, "creation_date": 1570620662, "last_edit_date": 1570622473, "question_id": 58303155, "link": "https://stackoverflow.com/questions/58303155/concatenate-query-params-as-string-angular-typescript", "title": "Concatenate Query Params as string - Angular- Typescript", "body": "<p>I'm trying to concatenate all the query params string that I have into a one final query including all params but I keep getting this result :</p>\n\n<pre><code>_filter=0=((startDate=ge=2019-09-30T22:00:00.000Z);(endDate=le=2019-10- \n03T22:00:00.000Z));1= \n(category=eq=Warning,category=eq=Error);&amp;_limit=50&amp;_sort=asc\n</code></pre>\n\n<p>with the annoying 0=, 1=, 2=, ....</p>\n\n<p>The expected result is to be like that :</p>\n\n<pre><code>_filter=((startDate=ge=2019-10-06T12:39:05.000Z;endDate=le=2019-10- \n07T23:59:59.999Z);(category=eq=ALERT,category=eq=META))\"\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>generateQueryString(obj: any) {\n     let query = [];\n     if (obj.startDate &amp;&amp; obj.endDate) {\n       query = query.concat(this.buildDateQueryString(obj.startDate, obj.endDate)\n      );\n     }\n     if (obj.category) {\n       query = query.concat(this.buildCategoryQueryString(obj.category));\n     } \n    return query;\n  }\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 12472, "user_id": 3680098, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uuWp6.png?s=128&g=1", "display_name": "Evaldas Buinauskas", "link": "https://stackoverflow.com/users/3680098/evaldas-buinauskas"}, "edited": false, "score": 0, "creation_date": 1570619973, "post_id": 58302943, "comment_id": 102968187, "body": "Can you show your controller code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12094695"}, "reply_to_user": {"reputation": 12472, "user_id": 3680098, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uuWp6.png?s=128&g=1", "display_name": "Evaldas Buinauskas", "link": "https://stackoverflow.com/users/3680098/evaldas-buinauskas"}, "edited": false, "score": 0, "creation_date": 1570620158, "post_id": 58302943, "comment_id": 102968296, "body": "It doesn&#39;t have any controller code."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 2, "creation_date": 1570620158, "post_id": 58302983, "comment_id": 102968295, "body": "<code>this.tourDetails</code>"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 1, "creation_date": 1570620899, "post_id": 58302983, "comment_id": 102968722, "body": "You are welcome. Please accept this answer if this helped"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 3, "last_activity_date": 1570620753, "last_edit_date": 1570620753, "creation_date": 1570619979, "answer_id": 58302983, "question_id": 58302943, "link": "https://stackoverflow.com/questions/58302943/select-field-doesnt-shows-the-default-value-in-angular/58302983#58302983", "title": "Select field doesn&#39;t shows the default value in Angular", "body": "<p>Set <code>tourDetails.TournamentType</code> to <code>none</code> in ngOnInit()</p>\n\n<pre><code>ngOnInit()\n    this.tourDetails.TournamentType =\"none\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2578, "user_id": 11028815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cw7Pp.jpg?s=128&g=1", "display_name": "Ghanima", "link": "https://stackoverflow.com/users/11028815/ghanima"}, "is_accepted": false, "score": 0, "last_activity_date": 1570620005, "creation_date": 1570620005, "answer_id": 58302987, "question_id": 58302943, "link": "https://stackoverflow.com/questions/58302943/select-field-doesnt-shows-the-default-value-in-angular/58302987#58302987", "title": "Select field doesn&#39;t shows the default value in Angular", "body": "<p><code>tourDetails.TournamentType</code> needs to be equal to \"none\" so that it gets selected automatically.</p>\n\n<p>otherwise you can do the following</p>\n\n<pre><code>&lt;option value=\"\" selected&gt;Select&lt;/option&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12094695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58302983, "answer_count": 2, "score": 1, "last_activity_date": 1570620753, "creation_date": 1570619843, "last_edit_date": 1570619948, "question_id": 58302943, "link": "https://stackoverflow.com/questions/58302943/select-field-doesnt-shows-the-default-value-in-angular", "title": "Select field doesn&#39;t shows the default value in Angular", "body": "<p>The selectField in my typescript doesn't shows the default value, when I run the server. I need \"select\" (the default value) whenever I run the server.\nIn my code the line \"option value=\"none\" selected \" doesn't work.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\n    &lt;label class=\"label label-default\" for=\"tour-type\"&gt;Tournament Type&lt;/label&gt;\n    &lt;select class=\"form-control\" name=\"TournamentType\" [(ngModel)]=\"tourDetails.TournamentType\"&gt;\n        &lt;option value=\"none\" selected&gt;Select&lt;/option&gt;\n        &lt;option value=\"PSA\"&gt;PSA&lt;/option&gt;\n        &lt;option value=\"NationalCircuit\"&gt;National Circuit&lt;/option&gt;\n        &lt;option value=\"StateClosed\"&gt;State Closed&lt;/option&gt;\n        &lt;option value=\"Asian&amp;World\"&gt;Asian &amp; World&lt;/option&gt;\n        &lt;option value=\"International\"&gt;International&lt;/option&gt;\n        &lt;option value=\"NonRanking\"&gt;Non-Ranking&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "types"], "comments": [{"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1573649034, "post_id": 58302915, "comment_id": 103949114, "body": "Sooo, how is my answer going? We waste free time here for you. At least give a bit of feedback... :-("}], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 11793145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99c0db5c33cbc4233de927e2216051d?s=128&d=identicon&r=PG&f=1", "display_name": "Harmenx", "link": "https://stackoverflow.com/users/11793145/harmenx"}, "is_accepted": false, "score": 1, "last_activity_date": 1570620522, "last_edit_date": 1570620522, "creation_date": 1570619975, "answer_id": 58302980, "question_id": 58302915, "link": "https://stackoverflow.com/questions/58302915/avoid-addition-of-string-and-number-in-typescript/58302980#58302980", "title": "avoid addition of string and number in typescript?", "body": "<p>You can use the parseInt or parseFloat functions, or simply use the unary + operator:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let b = \"3\";\r\nlet c = 2;\r\nlet a = ((+b)+(+c));  // a: number\r\n\r\nconsole.log(a)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1880, "user_id": 4098951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a881be644826f456f06c71635f849632?s=128&d=identicon&r=PG&f=1", "display_name": "Euan Smith", "link": "https://stackoverflow.com/users/4098951/euan-smith"}, "edited": false, "score": 3, "creation_date": 1570620071, "post_id": 58302989, "comment_id": 102968242, "body": "<code>parseInt(&quot;2&quot;+&quot;3&quot;)</code> will return <code>23</code> which is probably not what you want"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "reply_to_user": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 0, "creation_date": 1570721494, "post_id": 58302989, "comment_id": 103011283, "body": "@MauriceNino please don&#39;t edit an answer in a way that completely changes it, even if you&#39;re correct. Make your own answer instead."}], "tags": [], "owner": {"reputation": 33, "user_id": 12161048, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAh1CpkPTmy6teOd95GUWCzMQCrYdjQZymcq1E6=k-s128", "display_name": "Israel Barcelos", "link": "https://stackoverflow.com/users/12161048/israel-barcelos"}, "is_accepted": false, "score": 2, "last_activity_date": 1570797790, "last_edit_date": 1570797790, "creation_date": 1570620008, "answer_id": 58302989, "question_id": 58302915, "link": "https://stackoverflow.com/questions/58302915/avoid-addition-of-string-and-number-in-typescript/58302989#58302989", "title": "avoid addition of string and number in typescript?", "body": "<p>use let c = parseInt(b)+parseInt(c)</p>\n"}, {"comments": [{"owner": {"reputation": 1880, "user_id": 4098951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a881be644826f456f06c71635f849632?s=128&d=identicon&r=PG&f=1", "display_name": "Euan Smith", "link": "https://stackoverflow.com/users/4098951/euan-smith"}, "edited": false, "score": 0, "creation_date": 1570620700, "post_id": 58303010, "comment_id": 102968587, "body": "I&#39;ve tried to edit the language a couple of times, but as you are still changing your answer they get rejected, so some suggestions for clarity - &quot;types&quot; rather than &quot;typings&quot; and &quot;cannot do anything&quot; rather than &quot;cannot do nothing&quot; (cannot do nothing is a double-negative meaning you CAN do something, which is not what you mean)."}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 1880, "user_id": 4098951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a881be644826f456f06c71635f849632?s=128&d=identicon&r=PG&f=1", "display_name": "Euan Smith", "link": "https://stackoverflow.com/users/4098951/euan-smith"}, "edited": false, "score": 0, "creation_date": 1570623786, "post_id": 58303010, "comment_id": 102970306, "body": "@EuanSmith Oh, sorry haha. Not going to do any small change anymore. Thank you for the suggestions. I always fall in the double negative as is really common in my main language.. :-/ Edit it again so you get the edit reward xD"}, {"owner": {"reputation": 1880, "user_id": 4098951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a881be644826f456f06c71635f849632?s=128&d=identicon&r=PG&f=1", "display_name": "Euan Smith", "link": "https://stackoverflow.com/users/4098951/euan-smith"}, "edited": false, "score": 1, "creation_date": 1570718070, "post_id": 58303010, "comment_id": 103009282, "body": "No worries.  It always impresses me that anybody can answer coherently in a language other than their own!"}], "tags": [], "owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "is_accepted": false, "score": 4, "last_activity_date": 1570721205, "last_edit_date": 1570721205, "creation_date": 1570620063, "answer_id": 58303010, "question_id": 58302915, "link": "https://stackoverflow.com/questions/58302915/avoid-addition-of-string-and-number-in-typescript/58303010#58303010", "title": "avoid addition of string and number in typescript?", "body": "<p>Well, first you should think <strong>why <code>b</code> or <code>c</code> don't have types</strong>.</p>\n\n<p>The Typescript way to \"fix\" this is to force <code>b</code> and <code>c</code> to have <code>number</code> type. If you try to call <code>sum</code> with non-number arguments, it will complain AT COMPILE/LINTING TIME (not at runtime).</p>\n\n<pre><code>function sum(b:number, c:number) {\n    let a = b + c;\n}\n</code></pre>\n\n<p>This way you force both variables to be numbers, so the result <code>a</code> will also be a number.</p>\n\n<p>If <code>b</code> and <code>c</code> come from another location (user input?) where you don't have control of its type, you cannot do anything with Typescript. Typescript is a type checking language that will check everything before compilation. After that, it will compile to plain Javascript.</p>\n\n<p>The way to go here is to sanitize inputs (TIP: That's a good practice! :-) by, for example, checking the types at runtime, like so:</p>\n\n<pre><code>if (typeof b !== \"number\") {\n    b = Number(b) || 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 5192, "user_id": 5246058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36299274b998e4730d3def882d84f7d6?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/5246058/ashish-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1570797790, "creation_date": 1570619764, "last_edit_date": 1570621371, "question_id": 58302915, "link": "https://stackoverflow.com/questions/58302915/avoid-addition-of-string-and-number-in-typescript", "title": "avoid addition of string and number in typescript?", "body": "<p>I want to two values in typescript code say</p>\n\n<pre><code>let a:number = b + c; \n</code></pre>\n\n<p>And <code>b</code> and <code>c</code> come at runtime but are supposed to be number.</p>\n\n<p>But if one of <code>b</code> or <code>c</code> comes as string, it will cause <code>a</code> to be string and that can cause bug down the line,  we have no way to detect that at runtime</p>\n\n<p>What can I do in typescript ( if any ) to avoid this situation to happen ?</p>\n\n<p>PS: I know typescript goes out of picture during runtime but just wanted to know if someone has to say something about this sort of problem.</p>\n"}, {"tags": ["typescript"], "owner": {"reputation": 39, "user_id": 1176702, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88e0bfd56fab1c415686b068d28274ef?s=128&d=identicon&r=PG", "display_name": "Himani Verma", "link": "https://stackoverflow.com/users/1176702/himani-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1570619528, "creation_date": 1570619165, "last_edit_date": 1570619528, "question_id": 58302770, "link": "https://stackoverflow.com/questions/58302770/how-to-calculate-date-time-on-timezone-selection-in-typescript", "title": "How to calculate date time on timezone selection in typescript", "body": "<p>In a dropdown i have different time zones and when user selects time zone from drop down , he should be able to get Date and Time for that time zone.</p>\n\n<p>For example: My local timezone is <code>(GMT +5:30) Chennai,Kolkata,Mumbai,New Delhi</code> and Shows Date and Time as 10 Oct 2019 3:03 PM.\nNow from dropdown if i select <code>(GMT +4:00) Port Louis</code>. It should show me Date and Time as 10 Oct 2019 1:33 PM. </p>\n\n<p>I am trying to achieve this using below code. where bAutodaylightsavingOptionVisible returns true or false for day light saving and <code>NewTimeZone.Bias</code> is to get UTC time. But it is not returning me proper date time.</p>\n\n<p>I have tried to convert the local date to UTC using var <code>dummydate: any = new Date().toUTCString();</code> which returns string and when i change the same to date object var <code>UTCDate = new Date(dummydate);</code> it returns the Date time as per local not the UTC one.</p>\n\n<pre><code>var timeInMs: any = new Date().setMinutes(((-1) * (bAutodaylightsavingOptionVisible ? NewTimeZone.Bias - 60 : NewTimeZone.Bias)));\n var d = new Date(timeInMs);\n                var ds: any = d.toISOString(); \n                let dt: any = DateTime.UTCtoLocal(ds.toString());\n                this.SystemTime = dt;   \n</code></pre>\n\n<p>Can please someone help me in to change the local time to particular selected Timezone as Date object</p>\n"}, {"tags": ["angular", "typescript", "internet-explorer-11"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1570618927, "post_id": 58302655, "comment_id": 102967664, "body": "<a href=\"https://github.com/ionic-team/ionic/issues/6386#issuecomment-222885991\" rel=\"nofollow noreferrer\">This might help</a>"}, {"owner": {"reputation": 419, "user_id": 627902, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/mBwDC.jpg?s=128&g=1", "display_name": "HeineSkov", "link": "https://stackoverflow.com/users/627902/heineskov"}, "edited": false, "score": 0, "creation_date": 1570619133, "post_id": 58302655, "comment_id": 102967758, "body": "I already included that shim in my index.html @Maryannah"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1570619252, "post_id": 58302655, "comment_id": 102967808, "body": "Then I don&#39;t know, I&#39;m no IE expert, I just remembered this solution. Good luck with your issue, hope you resolve it !"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 9390069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4qPbELsWOvk/AAAAAAAAAAI/AAAAAAAABS4/YQNZaBU_4zc/photo.jpg?sz=128", "display_name": "Darshan Bhavsar", "link": "https://stackoverflow.com/users/9390069/darshan-bhavsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1570620614, "creation_date": 1570620614, "answer_id": 58303140, "question_id": 58302655, "link": "https://stackoverflow.com/questions/58302655/unhandled-promise-rejection-when-running-angular-6-site-in-ie11/58303140#58303140", "title": "Unhandled promise rejection when running Angular 6 site in IE11", "body": "<p>Remove not from below line in your browserlist file.</p>\n\n<pre><code># This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n# For additional information regarding the format and rule options, please see:\n# https://github.com/browserslist/browserslist#queries\n\n# You can see what browsers were selected by your queries by running:\n#   npx browserslist\n\n&gt; 0.5%\nlast 2 versions\nFirefox ESR\nnot dead\nnot IE 9-11 # For IE 9-11 support, remove 'not'.**\n</code></pre>\n\n<p><strong>IE 9-11 # For IE 9-11 support, remove 'not' from last line and try.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "is_accepted": false, "score": 0, "last_activity_date": 1570624891, "creation_date": 1570624891, "answer_id": 58304366, "question_id": 58302655, "link": "https://stackoverflow.com/questions/58302655/unhandled-promise-rejection-when-running-angular-6-site-in-ie11/58304366#58304366", "title": "Unhandled promise rejection when running Angular 6 site in IE11", "body": "<p>Please check the polyfills.ts file, make sure you have uncomment the related imports for the IE browser. Like this\uff1a</p>\n\n<pre><code>/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n import 'core-js/es6/symbol';\n import 'core-js/es6/object';\n import 'core-js/es6/function';\n import 'core-js/es6/parse-int';\n import 'core-js/es6/parse-float';\n import 'core-js/es6/number';\n import 'core-js/es6/math';\n import 'core-js/es6/string';\n import 'core-js/es6/date';\n import 'core-js/es6/array';\n import 'core-js/es6/regexp';\n import 'core-js/es6/map';\n import 'core-js/es6/weak-map';\n import 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n //import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following for the Reflect API. */\n import 'core-js/es6/reflect';\n\n\n/** Evergreen browsers require these. **/\n// Used for reflect-metadata in JIT. If you use AOT (and only Angular decorators), you can remove.\nimport 'core-js/es7/reflect';\n\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n</code></pre>\n\n<p>I have created a sample using above polyfills and your code, everything works well on my side. You could check it, if still not working, can you post the Enough code to reproduce the problem as in <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>.</p>\n"}], "owner": {"reputation": 419, "user_id": 627902, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/mBwDC.jpg?s=128&g=1", "display_name": "HeineSkov", "link": "https://stackoverflow.com/users/627902/heineskov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1171, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570624891, "creation_date": 1570618815, "question_id": 58302655, "link": "https://stackoverflow.com/questions/58302655/unhandled-promise-rejection-when-running-angular-6-site-in-ie11", "title": "Unhandled promise rejection when running Angular 6 site in IE11", "body": "<p>I've developed a website in Angular 6 and exclusively tested in Chrome and Safari. First time I opened the site in IE11 I received the following error:</p>\n\n<pre><code>Unhandled Promise rejection: SyntaxError ; Zone: &lt;root&gt; ; Task: Promise.then ; Value: SyntaxError undefined\n</code></pre>\n\n<p>I'm pretty new in Angular and simply have no idea where to start</p>\n\n<p>My <strong>tsconfig.ts</strong></p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \"src\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"module\":\"es2015\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2015\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" /&gt;\n    &lt;base href=\"/\"&gt;\n\n    &lt;meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n\n    &lt;!--     Fonts and icons     --&gt;\n    &lt;link href=\"https://fonts.googleapis.com/css?family=Montserrat:400,700,200\" rel=\"stylesheet\" /&gt;\n    &lt;link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css\" rel=\"stylesheet\"&gt;\n\n    &lt;script src=\"https://npmcdn.com/angular2/es6/dev/src/testing/shims_for_IE.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.4/bluebird.min.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;app-root&gt;\n        &lt;div class=\"loader-container\"&gt;\n            &lt;div class=\"loader\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/app-root&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "http"], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 5733338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/c9Y8Q.jpg?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/5733338/roger"}, "edited": false, "score": 1, "creation_date": 1570624632, "post_id": 58302687, "comment_id": 102970755, "body": "Thanks you Anton. The link helped"}, {"owner": {"reputation": 1199, "user_id": 10954839, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7FPr9PrAuTs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOkR7HilHHvWng09e4aIToGDPmguw/mo/photo.jpg?sz=128", "display_name": "Anton Skybun", "link": "https://stackoverflow.com/users/10954839/anton-skybun"}, "reply_to_user": {"reputation": 577, "user_id": 5733338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/c9Y8Q.jpg?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/5733338/roger"}, "edited": false, "score": 0, "creation_date": 1570628445, "post_id": 58302687, "comment_id": 102973061, "body": "You are welcome. Can you mark my post, as the best answer.Thanks"}], "tags": [], "owner": {"reputation": 1199, "user_id": 10954839, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7FPr9PrAuTs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOkR7HilHHvWng09e4aIToGDPmguw/mo/photo.jpg?sz=128", "display_name": "Anton Skybun", "link": "https://stackoverflow.com/users/10954839/anton-skybun"}, "is_accepted": false, "score": 1, "last_activity_date": 1570618894, "creation_date": 1570618894, "answer_id": 58302687, "question_id": 58302580, "link": "https://stackoverflow.com/questions/58302580/retrieving-the-post-request-response-and-storing-into-a-variable-in-angular-8/58302687#58302687", "title": "Retrieving the Post Request response and storing into a variable in angular 8", "body": "<p>Hellow. You can use STATUS CODE of response. 200 status code is success status for operation.\nor if error it sent you status code 4xx.\nYou can read more about status code <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_HTTP_status_codes</a></p>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 5733338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/c9Y8Q.jpg?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/5733338/roger"}, "is_accepted": true, "score": 0, "last_activity_date": 1570624998, "creation_date": 1570624998, "answer_id": 58304397, "question_id": 58302580, "link": "https://stackoverflow.com/questions/58302580/retrieving-the-post-request-response-and-storing-into-a-variable-in-angular-8/58304397#58304397", "title": "Retrieving the Post Request response and storing into a variable in angular 8", "body": "<p>Apparently it was a problem in my backend file. For this I simply used res.status. That way I was able to use subscribe in my service file.</p>\n\n<p><strong>Node.js</strong></p>\n\n<pre><code>facedetAPIRoutes.route(\"/\").post(function (req, res){\n    let imageUrl = req.body.url;\n    res.status(200).json(myFaceDetAPI.recognizeImg(imageUrl));\n});\n</code></pre>\n\n<p><strong>Service File</strong></p>\n\n<pre><code> sendImage(imgUrl){\n    console.log(imgUrl);\n    const obj = {\n      url: imgUrl\n    };    \n\n    this.http.post(`${this.uri}`, obj)\n      .subscribe(res =&gt; {\n        console.log(\"this is res: \" + JSON.stringify(res));\n        console.log('image sent to api done');\n      });\n  }\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 5733338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/c9Y8Q.jpg?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/5733338/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58304397, "answer_count": 2, "score": 0, "last_activity_date": 1570625075, "creation_date": 1570618527, "last_edit_date": 1570625075, "question_id": 58302580, "link": "https://stackoverflow.com/questions/58302580/retrieving-the-post-request-response-and-storing-into-a-variable-in-angular-8", "title": "Retrieving the Post Request response and storing into a variable in angular 8", "body": "<p>I am using the <a href=\"https://rapidapi.com/lambda/api/face-recognition-and-face-detection?endpoint=53aa3243e4b07e1f4ebe9bb3\" rel=\"nofollow noreferrer\">Face Recognition and Face Detection</a> api by lambda and am supposed to get a response from the api using post. Usually for getting responses I use get while for sending responses I use post. How do I get this response using post so I can tell whether the image has been recognized or not? \nMy code is below:</p>\n\n<p><strong>Node.js file</strong></p>\n\n<pre><code>facedetAPIRoutes.route(\"/\").post(function (req, res){\n    let imageUrl = req.body.url;\n    myFaceDetAPI.recognizeImg(imageUrl);\n});\n</code></pre>\n\n<p><strong>Service file</strong></p>\n\n<pre><code>sendImage(imgUrl){\n    console.log(imgUrl);\n    const obj = {\n      url: imgUrl\n    };    \n\n    this.http.post(`${this.uri}`, obj)\n      .subscribe(res =&gt; {\n        console.log(\"this is res: \" + res);\n        console.log('image sent to api done');\n      });\n  }\n</code></pre>\n\n<p><strong>Component file</strong></p>\n\n<pre><code>public handleImage(webcamImage: WebcamImage): void {\n    console.info(\"received webcam image\", webcamImage);\n    this.webcamImage = webcamImage;\n    console.log(\"this is: \" + this.webcamImage.imageAsDataUrl);\n    //this.fda.sendImage(this.webcamImage.imageAsDataUrl);\n    this.fda.sendImage(\"http://localhost:4000/uploads/1570563000257-arnold4.jpg\");\n  }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 7865048, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-079Vgs221BY/AAAAAAAAAAI/AAAAAAAAACs/2MpAHGabBc8/photo.jpg?sz=128", "display_name": "izayl", "link": "https://stackoverflow.com/users/7865048/izayl"}, "is_accepted": true, "score": 1, "last_activity_date": 1570619884, "creation_date": 1570619884, "answer_id": 58302955, "question_id": 58302224, "link": "https://stackoverflow.com/questions/58302224/testing-that-the-package-json-types-property-works-for-the-corresponding-javascr/58302955#58302955", "title": "Testing that the package.json types property works for the corresponding javascript file", "body": "<p><code>--declaration</code> this tsc compile option may can help you to automatic generate <code>d.ts</code> file according to your typescript source file.</p>\n\n<p>at <code>build</code> hooks in your package.json scripts section, execute <code>tsc --out index.js --declaration src/index.ts</code>.</p>\n"}], "owner": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58302955, "answer_count": 1, "score": 0, "last_activity_date": 1570619884, "creation_date": 1570617297, "question_id": 58302224, "link": "https://stackoverflow.com/questions/58302224/testing-that-the-package-json-types-property-works-for-the-corresponding-javascr", "title": "Testing that the package.json types property works for the corresponding javascript file", "body": "<p>It is possible to put a types property in a <code>package.json</code> file:</p>\n\n<pre><code>    ...\n    \"types\": \"index.d.ts\"\n    ...\n</code></pre>\n\n<p>As far as I can tell, you can put whatever you like in this file, with no requirement that the types it <em>says</em> the module exports are actually exported, or valid, or anything else.</p>\n\n<p>The issue that I'm having comes from me having not updated this <code>types</code> file after renaming a file which it exports. Where this module was used subsequently, the imports failed.</p>\n\n<p>What I'd like to be able to do is determine via an automated test whether or not the file referenced by this <code>types</code> property is actually valid, as in, does the module export what this types file says it exports.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1570618147, "post_id": 58302203, "comment_id": 102967256, "body": "Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your issue, so that we can see what you have tried, and tell you what&#39;s wrong (if any)."}], "answers": [{"comments": [{"owner": {"reputation": 974, "user_id": 1049452, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6f8602a8f7ce58f88d03e1854ac65c06?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1049452/chris"}, "edited": false, "score": 1, "creation_date": 1570695056, "post_id": 58302533, "comment_id": 102996180, "body": "Thanks, I think that was likely the problem. I have to say it&#39;s completely mad to expose multiple, public versions of the same class."}], "tags": [], "owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "is_accepted": true, "score": 1, "last_activity_date": 1570618378, "creation_date": 1570618378, "answer_id": 58302533, "question_id": 58302203, "link": "https://stackoverflow.com/questions/58302203/why-does-instanceof-observable-return-false-in-my-tests/58302533#58302533", "title": "Why does instanceof Observable return false in my tests?", "body": "<p>I've faced this problem before and it's really hard to debug. The cause of the problem is, that there are two (or more) rxjs Observable class definitions in your project.</p>\n\n<p>You can try these steps:</p>\n\n<p>1) Make sure you only import <code>Observable</code> from <code>rxjs</code>, not <code>rxjs/Observable</code>.</p>\n\n<p>2) Try to remove <code>rxjs/compat</code> if you're still using it.</p>\n\n<p>3) Make sure the problem is not caused by any test config (tsconfig, karma.conf.js)</p>\n\n<p>4) Make sure you only have one version of <code>rxjs</code> installed.</p>\n"}, {"tags": [], "owner": {"reputation": 2873, "user_id": 1457219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bHSVY.jpg?s=128&g=1", "display_name": "Jeremy Quick", "link": "https://stackoverflow.com/users/1457219/jeremy-quick"}, "is_accepted": false, "score": 0, "last_activity_date": 1618239700, "creation_date": 1618239700, "answer_id": 67060772, "question_id": 58302203, "link": "https://stackoverflow.com/questions/58302203/why-does-instanceof-observable-return-false-in-my-tests/67060772#67060772", "title": "Why does instanceof Observable return false in my tests?", "body": "<p>If you are using multiple projects which depend on rxjs then make sure the versions match.</p>\n<p>For example, my app had rxjs@^6.6.7 while <a href=\"https://github.com/jrquick17/ionic4-auto-complete\" rel=\"nofollow noreferrer\">ionic4-auto-complete</a> had rxjs@6.6.2 . Changing the versions to be in sync fixed the issue for me.</p>\n"}], "owner": {"reputation": 974, "user_id": 1049452, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6f8602a8f7ce58f88d03e1854ac65c06?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1049452/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 58302533, "answer_count": 2, "score": 0, "last_activity_date": 1618239700, "creation_date": 1570617236, "question_id": 58302203, "link": "https://stackoverflow.com/questions/58302203/why-does-instanceof-observable-return-false-in-my-tests", "title": "Why does instanceof Observable return false in my tests?", "body": "<p>I have a simple screen with a MatTable that uses an <code>Observable</code> as its data source. The data source is returned from an API service that fetches it via HTTP. (<code>Listener</code> is a plain value object.)</p>\n\n<pre><code>@Injectable()\nexport class ApiService {\n  getListeners(): Observable&lt;Listener[]&gt; {\n    return this.http.get&lt;Listener[]&gt;(this.listenersEndpoint, {headers}).pipe(\n      tap(listeners =&gt; console.log(\"fetched Listeners\")),\n      catchError(this.handleError('getListeners', []))\n    );\n  }\n}\n\n@Component(\n  template: `\n    &lt;table mat-table [dataSource]=\"listeners$\"&gt;&lt;!-- column definitions --&gt;&lt;/table&gt;`\n)\nexport class ListenersTableComponent implements OnInit {\n  listeners$: Observable&lt;Listener[]&gt;;\n\n  constructor(private api: ApiService) {}\n\n  ngOnInit() {\n    this.listeners$ = this.api.getListeners().pipe(\n      tap({complete: () =&gt; console.log(\"loaded\")})\n    );\n  }\n}\n</code></pre>\n\n<p>This works fine in production. For testing, I use a mock API service that returns an <code>Observable</code> of an array of <code>Listeners</code>.</p>\n\n<pre><code>  const apiService = {\n    getListeners: () =&gt; {\n      const list = [new Listener(), new Listener()];\n      return of(list);\n    }\n  } as ApiService;\n</code></pre>\n\n<p>All the tests that use this mock fail with the message \"Error: Provided data source did not match an array, Observable, or DataSource\", which originates in <code>@angular/cdk/esm2015/table.js</code>.  The code that fails in tests is:</p>\n\n<pre><code>   else if (this.dataSource instanceof Observable) {\n       dataStream = this.dataSource;\n   }\n</code></pre>\n\n<p>When I examine <code>this.dataSource</code> in the debugger, it's an <code>Observable</code> in both cases. The only real difference is that the value in test is an array, while in production it seems to be another <code>Observable</code>.</p>\n\n<p>Can anyone tell me why the test version fails?</p>\n"}, {"tags": ["html", "typescript", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 76, "user_id": 12065822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54c375d545a60e49cf83fa8c2f8680f?s=128&d=identicon&r=PG&f=1", "display_name": "Suhas Bhosale", "link": "https://stackoverflow.com/users/12065822/suhas-bhosale"}, "edited": false, "score": 0, "creation_date": 1571121123, "post_id": 58380372, "comment_id": 103123833, "body": "Yes I have defined types for html and css."}], "tags": [], "owner": {"reputation": 1, "user_id": 12215656, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/708ac02e4c33848290c824a807d05a17?s=128&d=identicon&r=PG", "display_name": "Andrey Pavlenko", "link": "https://stackoverflow.com/users/12215656/andrey-pavlenko"}, "is_accepted": false, "score": -1, "last_activity_date": 1571069109, "creation_date": 1571069109, "answer_id": 58380372, "question_id": 58302118, "link": "https://stackoverflow.com/questions/58302118/how-to-import-html-file-as-template-in-typescript-vue-js-project-as-module-to-us/58380372#58380372", "title": "How to import html file as template in typescript vue js project as module to use same html file in more than a component?", "body": "<p>Have you defined <code>shims-html.d.ts</code> as explained in <a href=\"https://alligator.io/vuejs/vue-template-loader/\" rel=\"nofollow noreferrer\">this article</a>?</p>\n"}], "owner": {"reputation": 76, "user_id": 12065822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54c375d545a60e49cf83fa8c2f8680f?s=128&d=identicon&r=PG&f=1", "display_name": "Suhas Bhosale", "link": "https://stackoverflow.com/users/12065822/suhas-bhosale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 807, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571069109, "creation_date": 1570616864, "question_id": 58302118, "link": "https://stackoverflow.com/questions/58302118/how-to-import-html-file-as-template-in-typescript-vue-js-project-as-module-to-us", "title": "How to import html file as template in typescript vue js project as module to use same html file in more than a component?", "body": "<p>I am trying to load external html file in to Vuejs project in typescript language but typescript compiler gives me issue as below</p>\n\n<pre><code>ERROR  Failed to compile with 1 errors                                                                                                    3:51:57 PM\n error  in ./src/components/common/dynamic-render.html\n\n</code></pre>\n\n<p>I dont have webpack.config.js as this project is generated through vue-cli</p>\n\n<p>I tried to load file with the help of <code>vue-template-loader  ts-loader</code> but still compiler throws same issue</p>\n\n<p>Dashboard.vue</p>\n\n<pre><code>import WithRender from \"./common/dynamic-render.html\";\n\n@WithRender\n@Component\n\n</code></pre>\n\n<p>I am getting below error</p>\n\n<pre><code>ERROR  Failed to compile with 1 errors                                                                                                    3:51:57 PM\n error  in ./src/components/common/dynamic-render.html\n\nModule parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1570616754, "post_id": 58302012, "comment_id": 102966563, "body": "yes, But how to parse the function in the template?"}, {"owner": {"reputation": 418, "user_id": 9399886, "user_type": "registered", "profile_image": "https://graph.facebook.com/817910161726880/picture?type=large", "display_name": "Hiras Haris", "link": "https://stackoverflow.com/users/9399886/hiras-haris"}, "reply_to_user": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1570617305, "post_id": 58302012, "comment_id": 102966855, "body": "add (change)=&quot;getQrCodes()&quot; in mat-select"}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1570617526, "post_id": 58302012, "comment_id": 102966960, "body": "like this:   &lt;mat-select placeholder=&quot;Opties&quot; name=&quot;option&quot; [(ngModel)] = &quot;selectedValueOptie&quot; (change)=&quot;getQrCodes()&quot;  &gt; Still  the list will not been updated"}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1570617535, "post_id": 58302012, "comment_id": 102966966, "body": "But I am using Angular 8"}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1570618610, "post_id": 58302012, "comment_id": 102967481, "body": "Dont understand it doesnt wokrs."}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1570618632, "post_id": 58302012, "comment_id": 102967495, "body": "But if I do this: ngOnInit() {     this.returnQrCodes$ = this.qrDefinitonService.getDefinitionForSelection().pipe(tap&zwnj;&#8203;(console.log));   } it works."}], "tags": [], "owner": {"reputation": 418, "user_id": 9399886, "user_type": "registered", "profile_image": "https://graph.facebook.com/817910161726880/picture?type=large", "display_name": "Hiras Haris", "link": "https://stackoverflow.com/users/9399886/hiras-haris"}, "is_accepted": true, "score": 1, "last_activity_date": 1570616513, "creation_date": 1570616513, "answer_id": 58302012, "question_id": 58301848, "link": "https://stackoverflow.com/questions/58301848/how-to-show-data-from-material-dropdownlist-if-you-select-the-dropdownlist-in-an/58302012#58302012", "title": "How to show data from material dropdownlist if you select the dropdownlist in Angular?", "body": "<p>seems like you're not calling the \"getQrCodes()\" function anywhere</p>\n"}], "owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58302012, "answer_count": 1, "score": 0, "last_activity_date": 1576504406, "creation_date": 1570615938, "last_edit_date": 1576504406, "question_id": 58301848, "link": "https://stackoverflow.com/questions/58301848/how-to-show-data-from-material-dropdownlist-if-you-select-the-dropdownlist-in-an", "title": "How to show data from material dropdownlist if you select the dropdownlist in Angular?", "body": "<p>I have a dropdownlist and I want to show the data when you select the dropdownlist.</p>\n\n<p>It works if I put the function in the ngOnInit:</p>\n\n<pre><code> ngOnInit() {\n    this.returnQrCodes$ = this.qrDefinitonService.getDefinitionForSelection().pipe(tap(console.log));\n  }\n</code></pre>\n\n<p>But of Course I dont want to load the data if you didnt selected the dropdownlist. But if I make a function for it:</p>\n\n<pre><code>  getQrCodes() {\n    this.returnQrCodes$ = this.qrDefinitonService.getDefinitionForSelection().pipe(tap(console.log));\n  }\n</code></pre>\n\n<p>And the template looks like this:</p>\n\n<pre><code>\n   &lt;div\n      class=\"search-select searchoptions\" *ngIf=\"selectedSearch &amp;&amp; hasOtherOptions(selectedSearch)\"&gt;\n      &lt;mat-select placeholder=\"Opties\" name=\"option\" [(ngModel)] = \"selectedValueOptie\" &gt;\n        &lt;mat-option  *ngFor=\"let option of returnQrCodes$ | async \" value=\"option.value\" &gt;\n          {{ option.qrCode }}\n        &lt;/mat-option&gt;\n      &lt;/mat-select&gt;\n    &lt;/div&gt;\n\n</code></pre>\n\n<p>And I select the dropdownlist nothing happens.</p>\n\n<p>Thank you</p>\n\n<p>I tried like this:</p>\n\n<pre><code> &lt;div\n        class=\"search-select searchoptions\" *ngIf=\"selectedSearch &amp;&amp; hasOtherOptions(selectedSearch)\"&gt;\n        &lt;mat-select placeholder=\"Opties\" name=\"option\" [(ngModel)] = \"getQrCodes\"  &gt;\n          &lt;mat-option  *ngFor=\"let option of getOtherOptions(selectedSearch)\" [value]=\"option.apiStatus\" &gt;\n            {{ option.status }}\n          &lt;/mat-option&gt;\n        &lt;/mat-select&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>I also tried like this:</p>\n\n<pre><code>  &lt;div\n        class=\"search-select searchoptions\" *ngIf=\"selectedSearch &amp;&amp; hasOtherOptions(selectedSearch)\"&gt;\n        &lt;mat-select placeholder=\"Opties\" name=\"option\" (selectionChange)=\"getQrCodes($event.value)\"  &gt;\n          &lt;mat-option  *ngFor=\"let option of getOtherOptions(selectedSearch)\" [value]=\"option.apiStatus\" &gt;\n            {{ option.status }}\n          &lt;/mat-option&gt;\n        &lt;/mat-select&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>I tried like this:</p>\n\n<pre><code> &lt;div class=\"search-select searchoptions\" *ngIf=\"selectedSearch &amp;&amp; hasOtherOptions(selectedSearch)\"&gt;\n      &lt;mat-select placeholder=\"Opties\" name=\"option\" [(ngModel)] = \"selectedValueOptie\" (change)=\"getQrCodes()\"  &gt;\n        &lt;mat-option  *ngFor=\"let option of returnQrCodes$ | async \" value=\"option.value\" &gt;\n          {{ option.qrCode }}\n        &lt;/mat-option&gt;\n      &lt;/mat-select&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>and this is the method:</p>\n\n<pre><code>\n getQrCodes() {\n    this.returnQrCodes$ = this.qrDefinitonService.getDefinitionForSelection().pipe(tap(console.log));\n  }\n\n</code></pre>\n"}, {"tags": ["css", "angular", "typescript", "angular8"], "answers": [{"comments": [{"owner": {"reputation": 118, "user_id": 3188988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1ba3875da25e8be4983cd5d6e8818784?s=128&d=identicon&r=PG&f=1", "display_name": "Adit", "link": "https://stackoverflow.com/users/3188988/adit"}, "edited": false, "score": 0, "creation_date": 1570618588, "post_id": 58302340, "comment_id": 102967465, "body": "I tried this, it did not work. Thanks for the help."}, {"owner": {"reputation": 368, "user_id": 814367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed645392e27ee6279c54df7625c2f56a?s=128&d=identicon&r=PG", "display_name": "derdaani", "link": "https://stackoverflow.com/users/814367/derdaani"}, "reply_to_user": {"reputation": 118, "user_id": 3188988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1ba3875da25e8be4983cd5d6e8818784?s=128&d=identicon&r=PG&f=1", "display_name": "Adit", "link": "https://stackoverflow.com/users/3188988/adit"}, "edited": false, "score": 2, "creation_date": 1570619942, "post_id": 58302340, "comment_id": 102968171, "body": "Did you make sure that the browserslist ruleset you specified in your package.json actually requires the browser prefixes?  For example: <code>-moz-linear-gradient</code> is only required for Firefox &lt; 16, see <a href=\"https://caniuse.com/#search=linear-gradient\" rel=\"nofollow noreferrer\">caniuse.com/#search=linear-gradient</a>"}, {"owner": {"reputation": 368, "user_id": 814367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed645392e27ee6279c54df7625c2f56a?s=128&d=identicon&r=PG", "display_name": "derdaani", "link": "https://stackoverflow.com/users/814367/derdaani"}, "reply_to_user": {"reputation": 118, "user_id": 3188988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1ba3875da25e8be4983cd5d6e8818784?s=128&d=identicon&r=PG&f=1", "display_name": "Adit", "link": "https://stackoverflow.com/users/3188988/adit"}, "edited": false, "score": 0, "creation_date": 1570621930, "post_id": 58302340, "comment_id": 102969296, "body": "For testing if the browserslist specification in your package.json are working, try specifically targeting a very outdated browser like <code>&quot;Firefox &gt; 3.6&quot;</code>."}, {"owner": {"reputation": 118, "user_id": 3188988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1ba3875da25e8be4983cd5d6e8818784?s=128&d=identicon&r=PG&f=1", "display_name": "Adit", "link": "https://stackoverflow.com/users/3188988/adit"}, "edited": false, "score": 0, "creation_date": 1570628226, "post_id": 58302340, "comment_id": 102972934, "body": "Thanks a lot, I tried the solution recommended by you in the comment and it worked. I now totally understand what is happening in the background. I used the below list of browsers:  <code>&quot;browserslist&quot;: [     &quot;FireFox &gt; 3.6&quot;,     &quot;Chrome &gt; 10&quot;,     &quot;IE &gt;= 10&quot;,     &quot;Edge &gt;= 12&quot;,     &quot;Safari &gt; 5.1&quot;   ]</code> I know I have specified really old browsers but I was just testing. I will specify more recent ones in the actual code. Thanks again for the help."}], "tags": [], "owner": {"reputation": 368, "user_id": 814367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed645392e27ee6279c54df7625c2f56a?s=128&d=identicon&r=PG", "display_name": "derdaani", "link": "https://stackoverflow.com/users/814367/derdaani"}, "is_accepted": true, "score": 3, "last_activity_date": 1570621127, "last_edit_date": 1570621127, "creation_date": 1570617727, "answer_id": 58302340, "question_id": 58301549, "link": "https://stackoverflow.com/questions/58301549/css-rules-getting-omitted-after-transpiling-in-angular-8/58302340#58302340", "title": "CSS rules getting omitted after transpiling in Angular 8", "body": "<p>The Angular CLI uses <a href=\"https://github.com/postcss/autoprefixer\" rel=\"nofollow noreferrer\">Autoprefixer</a> for prefixing browser-specific CSS rules.</p>\n\n<p>A guide for setting up a ruleset using <a href=\"https://github.com/browserslist/browserslist\" rel=\"nofollow noreferrer\">browserslist</a> can be found in the <a href=\"https://angular.io/guide/build#configuring-browser-compatibility\" rel=\"nofollow noreferrer\">official Angular documentation</a>:</p>\n\n<blockquote>\n  <p>You can tell Autoprefixer what browsers to target by adding a browserslist property to the package configuration file, package.json:</p>\n</blockquote>\n\n<p>So simply add the specification of the browsers you want to support to your <code>package.json</code>, for example:</p>\n\n<pre><code>\"browserslist\": [\n  \"&gt; 1%\",\n  \"last 2 versions\"\n]\n</code></pre>\n\n<p>You can remove the manual vendor prefixing from your CSS codebase, Autoprefixer will take care of that in the build process. </p>\n\n<p>Please note that if you leave vendor prefixes in your CSS codebase, Autoprefixer will remove these during compilation if they are not necessary for \n the browsers specified in the browserslist.</p>\n\n<p>A full list of supported values for browserslist can be found <a href=\"https://github.com/browserslist/browserslist#full-list\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 118, "user_id": 3188988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1ba3875da25e8be4983cd5d6e8818784?s=128&d=identicon&r=PG&f=1", "display_name": "Adit", "link": "https://stackoverflow.com/users/3188988/adit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 58302340, "answer_count": 1, "score": 0, "last_activity_date": 1570621127, "creation_date": 1570614897, "question_id": 58301549, "link": "https://stackoverflow.com/questions/58301549/css-rules-getting-omitted-after-transpiling-in-angular-8", "title": "CSS rules getting omitted after transpiling in Angular 8", "body": "<p>I upgraded my application from Angular 2 to Angular 8. I noticed few CSS rules are omitted after transpiling the code. Below is my package.json, tsconfig.json and angular.json</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"xxx-webapp\",\n  \"version\": \"1.0.0\",\n  \"license\": \"ISC\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build --base-href ./ --deploy-url /Content/Angular/Deploy/\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"8.2.7\",\n    \"@angular/common\": \"8.2.7\",\n    \"@angular/compiler\": \"8.2.7\",\n    \"@angular/core\": \"8.2.7\",\n    \"@angular/forms\": \"8.2.7\",\n    \"@angular/platform-browser\": \"8.2.7\",\n    \"@angular/platform-browser-dynamic\": \"8.2.7\",\n    \"@angular/router\": \"8.2.7\",\n    \"@ngui/datetime-picker\": \"0.16.2\",\n    \"angular-linky\": \"1.2.2\",\n    \"angular-resizable-element\": \"^3.2.4\",\n    \"angular2-color-picker\": \"1.3.1\",\n    \"angular2-draggable\": \"^1.0.7\",\n    \"bootstrap\": \"^4.3.1\",\n    \"hammerjs\": \"^2.0.8\",\n    \"justified-layout\": \"^3.0.0\",\n    \"ng-lazyload-image\": \"^6.1.0\",\n    \"ng2-file-upload\": \"1.2.0\",\n    \"ngx-carousel\": \"1.3.5\",\n    \"ngx-toastr\": \"^11.0.0\",\n    \"rxjs\": \"6.5.3\",\n    \"zone.js\": \"0.9.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"^0.803.5\",\n    \"@angular/cli\": \"^8.3.5\",\n    \"@angular/compiler-cli\": \"8.2.7\",\n    \"@angular/upgrade\": \"8.2.7\",\n    \"@types/core-js\": \"^0.9.43\",\n    \"typescript\": \"3.5.3\"\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false,\n    \"outDir\": \"./Deploy/\",\n    \"importHelpers\": true,\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2019\",\n      \"dom\"\n    ]\n  },\n  \"angularCompilerOptions\": {\n    \"preserveWhitespaces\": false\n  }\n}\n</code></pre>\n\n<p><strong>angular.json</strong></p>\n\n<pre><code>{\n  \"DigitalJuice-WebApp\": {\n    \"root\": \"\",\n    \"sourceRoot\": \"Process/TypeScripts\",\n    \"projectType\": \"application\",\n    \"prefix\": \"\",\n    \"schematics\": {},\n    \"architect\": {\n      \"build\": {\n        \"builder\": \"@angular-devkit/build-angular:browser\",\n        \"options\": {\n          \"outputPath\": \"Deploy/\",\n          \"index\": \"\",\n          \"main\": \"Process/TypeScripts/main.ts\",\n          \"polyfills\": \"Process/TypeScripts/polyfills.ts\",\n          \"tsConfig\": \"Process/TypeScripts/tsconfig.app.json\",\n          \"assets\": [],\n          \"styles\": [\n            \"Development/css/StoreNew/Store.css\",\n            \"Development/css/StoreNew/CellContainer.css\"\n          ],\n          \"scripts\": []\n        },\n        \"configurations\": {\n          \"production\": {\n            \"fileReplacements\": [\n              {\n                \"replace\": \"Process/TypeScripts/environments/environment.ts\",\n                \"with\": \"Process/TypeScripts/environments/environment.prod.ts\"\n              }\n            ],\n            \"optimization\": true,\n            \"outputHashing\": \"none\",\n            \"sourceMap\": false,\n            \"extractCss\": true,\n            \"namedChunks\": false,\n            \"aot\": false,\n            \"extractLicenses\": true,\n            \"vendorChunk\": true,\n            \"buildOptimizer\": false,\n            \"budgets\": [\n              {\n                \"type\": \"initial\",\n                \"maximumWarning\": \"2mb\",\n                \"maximumError\": \"5mb\"\n              }\n            ]\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Actual CSS rule is like this in CellContainer.css(included in the styles of angular.json):</p>\n\n<pre><code>.StandardCellOutline {\n      box-shadow: 3px 3px 9px rgba(0, 0, 0, 0.5);\n      background-image: -webkit-linear-gradient(bottom, rgb(0, 0, 0), rgb(20, 23, 32), rgb(34, 39, 54)), -webkit-linear-gradient(left, rgb(44, 46, 51), rgb(140, 147, 168), rgb(44, 46, 51));\n      background-image: -moz-linear-gradient( bottom, #000000, #141720, #222736), -moz-linear-gradient(left center, #2C2E33, #8C93A8, #2C2E33);\n      background-image: -ms-linear-gradient(bottom, #000000, #141720, #222736), -ms-linear-gradient(left, #2C2E33, #8C93A8, #2C2E33);\n      background-clip: content-box, padding-box;\n      padding: 1px;\n  }\n\n  .StandardCellOutline:hover {\n      box-shadow: 0px 0px 12px 1px rgba(001, 122, 204, 0.9);\n      background-image: -webkit-linear-gradient(bottom, rgb(0, 0, 0), rgb(20, 23, 32), rgb(34, 39, 54)), -webkit-linear-gradient(left, #4674CD, #4674CD, #4674CD);\n      background-image: -moz-linear-gradient( bottom, #000000, #141720, #222736), -moz-linear-gradient(left center, #4674CD, #4674CD, #4674CD);\n      background-image: -ms-linear-gradient(bottom, #000000, #141720, #222736), -ms-linear-gradient(left, #4674CD, #4674CD, #4674CD);\n  }\n</code></pre>\n\n<p>But after transpiling the code, it becomes:</p>\n\n<pre><code>.StandardCellOutline {\n      box-shadow: 3px 3px 9px rgba(0, 0, 0, 0.5);\n      background-image: -ms-linear-gradient(bottom, #000000, #141720, #222736), -ms-linear-gradient(left, #2C2E33, #8C93A8, #2C2E33);\n      background-clip: content-box, padding-box;\n      padding: 1px;\n  }\n\n  .StandardCellOutline:hover {\n      box-shadow: 0px 0px 12px 1px rgba(001, 122, 204, 0.9);\n      background-image: -ms-linear-gradient(bottom, #000000, #141720, #222736), -ms-linear-gradient(left, #4674CD, #4674CD, #4674CD);\n  }\n</code></pre>\n\n<p>You can see rules for Chrome and Firefox are removed. If I just change the order, and put the rule for chrome in the last, then that rule stays. So the problem is only the last rule is included and rest are removed.</p>\n\n<pre><code>.StandardCellOutline {\n          box-shadow: 3px 3px 9px rgba(0, 0, 0, 0.5);\n          background-image: -moz-linear-gradient( bottom, #000000, #141720, #222736), -moz-linear-gradient(left center, #2C2E33, #8C93A8, #2C2E33);\n          background-image: -ms-linear-gradient(bottom, #000000, #141720, #222736), -ms-linear-gradient(left, #2C2E33, #8C93A8, #2C2E33);\n          background-image: -webkit-linear-gradient(bottom, rgb(0, 0, 0), rgb(20, 23, 32), rgb(34, 39, 54)), -webkit-linear-gradient(left, rgb(44, 46, 51), rgb(140, 147, 168), rgb(44, 46, 51));\n          background-clip: content-box, padding-box;\n          padding: 1px;\n      }\n</code></pre>\n\n<p>Becomes</p>\n\n<pre><code>.StandardCellOutline {\n          box-shadow: 3px 3px 9px rgba(0, 0, 0, 0.5);\n          background-image: -webkit-linear-gradient(bottom, rgb(0, 0, 0), rgb(20, 23, 32), rgb(34, 39, 54)), -webkit-linear-gradient(left, rgb(44, 46, 51), rgb(140, 147, 168), rgb(44, 46, 51));\n          background-clip: content-box, padding-box;\n          padding: 1px;\n      }\n</code></pre>\n\n<p>I tried changing my target, module in the tsconfig to es2015, nothing worked. How to make sure all rules are present in the transpiled code.</p>\n"}, {"tags": ["javascript", "typescript", "types", "formik", "yup"], "answers": [{"tags": [], "owner": {"reputation": 277, "user_id": 3210165, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/baa7702ec3deec63628dc512cae4ed6d?s=128&d=identicon&r=PG&f=1", "display_name": "gmlt.A", "link": "https://stackoverflow.com/users/3210165/gmlt-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1570621311, "creation_date": 1570621311, "answer_id": 58303346, "question_id": 58301476, "link": "https://stackoverflow.com/questions/58301476/array-element-child-type/58303346#58303346", "title": "Array element child type", "body": "<p>So here is the solution I've come up with:</p>\n\n<pre><code>type namespaces = typeof CVSections[number]['namespace'];\n\ntype Schema = {\n  [K in namespaces]: Pick&lt;Extract&lt;typeof CVSections[number], { namespace: K }&gt;, 'validation'&gt;['validation']&gt;;\n};\n</code></pre>\n\n<p>But to make it work we need to alter our array definition a bit. Instead of typing it as <code>ICVSection[]</code>, we have to define it as <code>const CVSections = [ /* ... */ ] as const;</code> to allow TypeScript narrow down possible <code>namespaces</code> values.</p>\n\n<p>In my case, as I'm using Yup library with Formik for validation schema, I can apply additional type conversion to unwrap Yup's Schema type to plain TypeScript type. Final solution will look like this:</p>\n\n<pre><code>type Schema = {\n  [K in namespaces]: Yup.InferType&lt;Pick&lt;Extract&lt;typeof CVSections[number], { namespace: K }&gt;, 'validation'&gt;['validation']&gt;;\n};\n</code></pre>\n\n<p>Then we can apply this type to <code>&lt;Formik&gt;</code> component to enforce type validation:</p>\n\n<pre><code>&lt;Formik&lt;Schema&gt;\n  initialValues={{\n    common: {\n      /* mandatory values */\n    },\n    summary: {\n      /* mandatory values */\n    }\n  }}\n&gt;\n</code></pre>\n"}], "owner": {"reputation": 277, "user_id": 3210165, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/baa7702ec3deec63628dc512cae4ed6d?s=128&d=identicon&r=PG&f=1", "display_name": "gmlt.A", "link": "https://stackoverflow.com/users/3210165/gmlt-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "accepted_answer_id": 58303346, "answer_count": 1, "score": 2, "last_activity_date": 1570621402, "creation_date": 1570614655, "last_edit_date": 1570621402, "question_id": 58301476, "link": "https://stackoverflow.com/questions/58301476/array-element-child-type", "title": "Array element child type", "body": "<p>A question regarding type construction from data structures.\nI have an array like this:</p>\n\n<pre><code>interface ICVSection {\n  namespace: string;\n  validation: Yup.ObjectSchema&lt;any&gt;;\n}\n\nconst CVSections: ICVSection[] = [\n  {\n    namespace: 'common',\n    validation: CommonValidationSchema,\n  },\n  {\n    namespace: 'summary',\n    validation: SummarySchema,\n  }\n  /* ... */\n};\n</code></pre>\n\n<p>So the question is: is it possible to somehow using the data above create following type:</p>\n\n<pre><code>type Schema = {\n  common: typeof CommonValidationSchema,\n  namespace: typeof SummarySchema,\n  /* ... */\n}\n</code></pre>\n\n<p>I'm not 100% sure if it is possible in TypeScript, but if so, it would be great if someone can prove me right or wrong.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 0, "creation_date": 1570614339, "post_id": 58301164, "comment_id": 102965283, "body": "You should add your ts file for us to understand what you did wrong :)"}, {"owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "reply_to_user": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 0, "creation_date": 1570614732, "post_id": 58301164, "comment_id": 102965505, "body": "Ok, so guys on the bottom were right, but now I understand why. I had defined that function in my service.ts, but I was calling it from component, where it wasn&#39;t. issue resolved."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "edited": false, "score": 1, "creation_date": 1570614784, "post_id": 58301200, "comment_id": 102965538, "body": "checked for specifying that component.ts file."}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": true, "score": 3, "last_activity_date": 1570613792, "creation_date": 1570613792, "answer_id": 58301200, "question_id": 58301164, "link": "https://stackoverflow.com/questions/58301164/ngsubmit-myfunction-is-not-a-function-typescript-angular/58301200#58301200", "title": "ngSubmit &quot;myFunction is not a function&quot; typescript, angular", "body": "<p>You have to define <code>addFriend</code> in your component ts file like</p>\n\n<pre><code>addFriend(){\n//some work here\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1570614955, "post_id": 58301211, "comment_id": 102965632, "body": "it should goes to comments or should have some description"}], "tags": [], "owner": {"reputation": 692, "user_id": 11241667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9901803963e61cb4e185ee93b63f59?s=128&d=identicon&r=PG&f=1", "display_name": "Komal Sakhiya", "link": "https://stackoverflow.com/users/11241667/komal-sakhiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1570629575, "last_edit_date": 1570629575, "creation_date": 1570613817, "answer_id": 58301211, "question_id": 58301164, "link": "https://stackoverflow.com/questions/58301164/ngsubmit-myfunction-is-not-a-function-typescript-angular/58301211#58301211", "title": "ngSubmit &quot;myFunction is not a function&quot; typescript, angular", "body": "<p>Your component template does not have access to your service, but only to your component class methods. </p>\n\n<p>So you need to\n1/ inject your service into your component\n2/ define in your component a method that calls the service methods</p>\n\n<p>for example in your component : </p>\n\n<pre><code>constructor(private friendsService: FriendsService) {}\n....\naddFriend(){\n    return this.friendsService.addFriend();\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 9387241, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160212854505045/picture?type=large", "display_name": "Andrew Steier", "link": "https://stackoverflow.com/users/9387241/andrew-steier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58301200, "answer_count": 2, "score": -2, "last_activity_date": 1570629575, "creation_date": 1570613675, "last_edit_date": 1570614026, "question_id": 58301164, "link": "https://stackoverflow.com/questions/58301164/ngsubmit-myfunction-is-not-a-function-typescript-angular", "title": "ngSubmit &quot;myFunction is not a function&quot; typescript, angular", "body": "<p>I have an address management app, and I'm trying to save changes on ngSubmit. However, it says that my function is not a function.\nmy HTML:</p>\n\n<pre><code>&lt;div class=\"form\"&gt;\n  &lt;h4&gt;{{title}}&lt;/h4&gt;\n  &lt;div class=\"form-container\"&gt;\n   &lt;form (ngSubmit)=\"addFriend()\"&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"id\"&gt;Id&lt;/label&gt;\n        &lt;input type=\"text\" name=\"id\" [(ngModel)]=\"friend.id\"\n        [disabled]=\"friend.id\" class=\"form-control\" required /&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"name\"&gt;Name&lt;/label&gt;\n        &lt;input type=\"text\" name=\"name\" [(ngModel)]=\"friend.name\"\n                            class=\"form-control\" required /&gt;\n    &lt;/div&gt;\n\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"address\"&gt;Address&lt;/label&gt;\n        &lt;input type=\"text\" name=\"address\" [(ngModel)]=\"friend.address\"\n                            class=\"form-control\" required /&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"phone\"&gt;Phone&lt;/label&gt;\n        &lt;input type=\"text\" name=\"phone\" [(ngModel)]=\"friend.phone\"\n                            class=\"form-control\" required /&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n      &lt;a class=\"btn btn-default\" routerLink=\"\"&gt;Cancel&lt;/a&gt;\n      &lt;button class=\"btn btn-primary\" &gt;Save&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>am I doing something wrong in the html, or would the problem be elsewhere?</p>\n\n<p>The addFriend function is defined in my service.ts file.</p>\n"}, {"tags": ["javascript", "asp.net-mvc", "typescript", "url", "escaping"], "answers": [{"tags": [], "owner": {"reputation": 261, "user_id": 8047573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/addd0cadbc1e933b8cccdec57e409363?s=128&d=identicon&r=PG&f=1", "display_name": "sa_n__u", "link": "https://stackoverflow.com/users/8047573/sa-n-u"}, "is_accepted": false, "score": 0, "last_activity_date": 1570614101, "creation_date": 1570614101, "answer_id": 58301302, "question_id": 58301150, "link": "https://stackoverflow.com/questions/58301150/escaping-special-characters-in-url-from-typescript-call-to-reach-mvc-controller/58301302#58301302", "title": "escaping special characters in url from typescript call to reach mvc controller", "body": "<p><code>escape()</code> will not encode: @*/+</p>\n\n<p><code>encodeURI()</code> will not encode: ~!@#$&amp;*()=:/,;?+'</p>\n\n<p><code>encodeURIComponent()</code> will not encode: ~!*()'</p>\n\n<p>Try <code>escape() or encodeURI()</code></p>\n\n<p>if it didnt work. then try</p>\n\n<pre><code>encodeURIComponent( `./Website/Home/Build/${userinput} `).replace(/[!'()]/g, escape).replace(/\\*/g, \"%2A\")\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 10679340, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JJmDA2biY0c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jUgJFaY7Gn1Nvj8cXMxQdJGHIB3Q/mo/photo.jpg?sz=128", "display_name": "bssyy78", "link": "https://stackoverflow.com/users/10679340/bssyy78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570614101, "creation_date": 1570613623, "question_id": 58301150, "link": "https://stackoverflow.com/questions/58301150/escaping-special-characters-in-url-from-typescript-call-to-reach-mvc-controller", "title": "escaping special characters in url from typescript call to reach mvc controller", "body": "<p>I have an asp.net mvc controller :</p>\n\n<pre><code>    public class HomeController : Controller\n    {\n        GET(\"{name:alpha}\")]\n        public ActionResult Build(string name)\n        {\n            var model = new MyModel(name)\n            return View(\"model);\n        }\n    }\n</code></pre>\n\n<p>And the following typescript code, that takes an user input and called the previous controller by adding the user input at the end:</p>\n\n<pre><code>    function callUserInput(userinput)\n    {\n        mycall(`./Website/Home/Build/${userinput}`)\n    }\n</code></pre>\n\n<p>This is working well when the user gives an input containing no special characters, for example if he gives \"myname\", my Build method is called, but if he gives\nan input containing special characters (whitespace, -, _), like \"my_name\", \"my-name\", \"my name\", my Build method is not called and he gets a 404 not found.</p>\n\n<p>I have tried to escape the mycall parameter like this :</p>\n\n<pre><code>    mycall(encodeURIComponent(`./Website/Home/Build/${userinput}`))\n</code></pre>\n\n<p>but it changes nothing, I am getting the same error</p>\n"}, {"tags": ["angular", "typescript", "syncfusion"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1570613576, "post_id": 58301117, "comment_id": 102964837, "body": "post  your sample data here"}, {"owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1570613903, "post_id": 58301117, "comment_id": 102965016, "body": "It is an array of objects, in this case we assume these objects just have the property digit: <code>datasource.data = [ {digit: value}, ...]</code>, or do you want to see how it looks like in the console?"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1570614062, "post_id": 58301117, "comment_id": 102965115, "body": "so here digit will be 1-9 right?"}, {"owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1570614146, "post_id": 58301117, "comment_id": 102965161, "body": "@jitender It does not matter, I just want to understand how it works :). An example with only 2 digits would also be enough :)"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "edited": false, "score": 0, "creation_date": 1570615132, "post_id": 58301422, "comment_id": 102965731, "body": "Thank you for the answer. If I may ask you something, if I expand the object with another property like <code>Data {digit: value,  anotherProp: value}</code>How can I get it to map only the values of the digits? Because now the digit in you code represents the whole Object Data"}, {"owner": {"reputation": 1802, "user_id": 11823079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQoIH.png?s=128&g=1", "display_name": "Norbert Bartko", "link": "https://stackoverflow.com/users/11823079/norbert-bartko"}, "reply_to_user": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "edited": false, "score": 0, "creation_date": 1570615682, "post_id": 58301422, "comment_id": 102966012, "body": "Try <code>data.map(data=&gt; this.transform(data.digit));</code>. Bute care! This will not return <code>{digit: value, anotherProp: value}</code>, instead the map will return a string Array"}, {"owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "edited": false, "score": 0, "creation_date": 1570616012, "post_id": 58301422, "comment_id": 102966193, "body": "Yes, I did that, but the problem is that I store an array of strings (string[]) instead of the whole object with all properties... The problem is that with syncfusion I only can use the datasource variable."}, {"owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "edited": false, "score": 0, "creation_date": 1570618293, "post_id": 58301422, "comment_id": 102967319, "body": "Thank you for editing :), but I still get the error <code>Type &#39;string[]&#39; is not assignable to type &#39;Order[]&#39;.   Type &#39;string&#39; is not assignable to type &#39;Order&#39;.</code>"}, {"owner": {"reputation": 1802, "user_id": 11823079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQoIH.png?s=128&g=1", "display_name": "Norbert Bartko", "link": "https://stackoverflow.com/users/11823079/norbert-bartko"}, "reply_to_user": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "edited": false, "score": 0, "creation_date": 1570618922, "post_id": 58301422, "comment_id": 102967658, "body": "This just might be a conversion error. Try to <code>console.log</code> one dataset and look if it looks ok, when it does, just cast the object to <code>Order</code> and it should work fine."}], "tags": [], "owner": {"reputation": 1802, "user_id": 11823079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQoIH.png?s=128&g=1", "display_name": "Norbert Bartko", "link": "https://stackoverflow.com/users/11823079/norbert-bartko"}, "is_accepted": true, "score": 0, "last_activity_date": 1570617658, "last_edit_date": 1570617658, "creation_date": 1570614503, "answer_id": 58301422, "question_id": 58301117, "link": "https://stackoverflow.com/questions/58301117/how-do-i-map-received-data-before-they-get-displayed/58301422#58301422", "title": "How do I map received data before they get displayed?", "body": "<p>Just a simple excample with switch case on the digits: 1, 2</p>\n\n<pre><code>this.user.someFunction().subscribe(data =&gt; {\n    this.datasource.data = data.map(digit =&gt; this.transform(digit));\n}) \n\ntransform(digit: number): string {\n    switch (digit) {\n        case 1: return 'One';\n            break;\n        case 2: return 'Two';\n            break;\n        default: return 'Not one or two';\n    }\n}\n</code></pre>\n\n<p>Here is the <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map docu</a></p>\n\n<blockquote>\n  <p>Edit: Map when you want to keep your object and just want to transform some attributes</p>\n</blockquote>\n\n<pre><code>this.user.someFunction().subscribe(data =&gt; {\n    this.datasource.data = data.map(data =&gt; data.digit = this.transform(data.digit));\n})\n\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "edited": false, "score": 0, "creation_date": 1570615284, "post_id": 58301603, "comment_id": 102965813, "body": "Thank you for the answere. I will try it!"}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": false, "score": 0, "last_activity_date": 1570615082, "creation_date": 1570615082, "answer_id": 58301603, "question_id": 58301117, "link": "https://stackoverflow.com/questions/58301117/how-do-i-map-received-data-before-they-get-displayed/58301603#58301603", "title": "How do I map received data before they get displayed?", "body": "<p>you can try creating a function to convert digit to word like </p>\n\n<pre><code>inWords (num) {\nvar a = ['','one ','two ','three ','four ', 'five ','six ','seven ','eight ','nine ','ten ','eleven ','twelve ','thirteen ','fourteen ','fifteen ','sixteen ','seventeen ','eighteen ','nineteen '];\nvar b = ['', '', 'twenty','thirty','forty','fifty', 'sixty','seventy','eighty','ninety'];\n\n    if ((num = num.toString()).length &gt; 9) return 'overflow';\n    n = ('000000000' + num).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/);\n    if (!n) return; var str = '';\n    str += (n[1] != 0) ? (a[Number(n[1])] || b[n[1][0]] + ' ' + a[n[1][1]]) + 'crore ' : '';\n    str += (n[2] != 0) ? (a[Number(n[2])] || b[n[2][0]] + ' ' + a[n[2][1]]) + 'lakh ' : '';\n    str += (n[3] != 0) ? (a[Number(n[3])] || b[n[3][0]] + ' ' + a[n[3][1]]) + 'thousand ' : '';\n    str += (n[4] != 0) ? (a[Number(n[4])] || b[n[4][0]] + ' ' + a[n[4][1]]) + 'hundred ' : '';\n    str += (n[5] != 0) ? ((str != '') ? 'and ' : '') + (a[Number(n[5])] || b[n[5][0]] + ' ' + a[n[5][1]]) + 'only ' : '';\n    return str;\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>return this.http.get&lt;Data[]&gt;(url).pipe(\n     map((data: any[]) =&gt; {\n     return data.map(d=&gt;{\n         return {\n             this.inWords(yourdigitkey)//\n          }\n        })\n       }\n     )))\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 11737889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787e863ec85b815cd797b5d6e31811d1?s=128&d=identicon&r=PG&f=1", "display_name": "Cara", "link": "https://stackoverflow.com/users/11737889/cara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 58301422, "answer_count": 2, "score": 0, "last_activity_date": 1570617658, "creation_date": 1570613511, "question_id": 58301117, "link": "https://stackoverflow.com/questions/58301117/how-do-i-map-received-data-before-they-get-displayed", "title": "How do I map received data before they get displayed?", "body": "<p>I wonder how to solve the following problem:</p>\n\n<p>I am using Syncfusion for the gridlayout. I store received data external file named datasource.ts as mentioned in the documentation:</p>\n\n<pre><code>//component.ts\n//getting data from server\n\n     ngOnInit() {\n\n       this.user.someFunction().subscribe(data =&gt; {\n       this.datasource.data = data;\n\n        }) \n       }\n</code></pre>\n\n<p>in my html-file I use that data to build a grid:</p>\n\n<pre><code>   &lt;ej-grid id=\"Grid\" #grid [dataSource]=\"datasource.data\" allowPaging=\"true\" \n    allowFiltering=\"true\" \n    selectionType=\"single\" allowSelection=\"true\"\n    [selectionSettings]=\"selectionMode\" (rowSelected)=\"rowSelected($event)\"  \n    (recordDoubleClick)=\"Doubleclick($event)\"&gt;\n      &lt;e-columns&gt;\n          &lt;e-column field=\"digit\" headerText=\"Digits\"&gt;&lt;/e-column&gt;\n      &lt;/e-columns&gt;\n  &lt;/ej-grid&gt;\n</code></pre>\n\n<p>So far so good. \nI want to map the digits I receive (of couse of type number) and replace it with related strings, eg.:</p>\n\n<p>1 - \"One\",\n2- \"Two\",</p>\n\n<p>such that strings are displayed instead of the received digits, but it does not seem to word.\nI have to change something in my call:</p>\n\n<pre><code>// in service\n\n  someFunction(): Observable&lt;Data[]&gt;{\n\n     return this.http.get&lt;Data[]&gt;(url).pipe(\n     map((data: any[]) =&gt; data.map(order =&gt; this.orderadapter.adapt(data)\n     )));\n  }\n</code></pre>\n\n<p>but I do not know how to place another mapping there.\nCould anyone help with some (dummy) code? Maybe there are other solutions to my problem?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1570613632, "post_id": 58301101, "comment_id": 102964867, "body": "<a href=\"https://meta.stackoverflow.com/questions/358992/ive-been-told-to-create-a-runnable-example-with-stack-snippets-how-do-i-do\">How to use snippet tool</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1302, "user_id": 6677742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bMUAo.jpg?s=128&g=1", "display_name": "ibtsam", "link": "https://stackoverflow.com/users/6677742/ibtsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1570614084, "creation_date": 1570614084, "answer_id": 58301295, "question_id": 58301101, "link": "https://stackoverflow.com/questions/58301101/can-t-dynamically-setstate-in-react-typescript/58301295#58301295", "title": "Can\u2019t dynamically setState in React/Typescript", "body": "<p>I think maybe you are missing something \nThis works</p>\n\n<pre><code>render() {\nconsole.log(this.state.mostPopContentCount);\nconst name = \"mostPopContentCount\";\nreturn (\n  &lt;a\n    href=\"javascript:void(0)\"\n    onClick={() =&gt; {\n      this.setState(prevState =&gt; {\n        return { [name]: prevState[name] + 10 };\n      });\n    }}\n  &gt;\n    Load 10 more rows\n  &lt;/a&gt;\n);\n}\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/epic-mountain-wipuw\" rel=\"nofollow noreferrer\">Sandbox</a> this is not using typescript,\nIf it doesn't help you please create a sandbox so it's easy to debug </p>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 26, "user_id": 7954326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWMYp.jpg?s=128&g=1", "display_name": "David Debreceni", "link": "https://stackoverflow.com/users/7954326/david-debreceni"}, "reply_to_user": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "edited": false, "score": 0, "creation_date": 1570615472, "post_id": 58301327, "comment_id": 102965906, "body": "You can difine a type for your prevState aswell. this.setState((prevState:any) =&gt; {"}, {"owner": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "edited": false, "score": 0, "creation_date": 1570615657, "post_id": 58301327, "comment_id": 102965995, "body": "yes tried that -  Argument of type &#39;(prevState: any) =&gt; { stateCopy: any; }&#39; is not assignable to parameter of type"}, {"owner": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "edited": false, "score": 0, "creation_date": 1570616116, "post_id": 58301327, "comment_id": 102966241, "body": "Seems to work with &quot;return stateCopy&quot; instead of destructed?"}, {"owner": {"reputation": 26, "user_id": 7954326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWMYp.jpg?s=128&g=1", "display_name": "David Debreceni", "link": "https://stackoverflow.com/users/7954326/david-debreceni"}, "reply_to_user": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "edited": false, "score": 0, "creation_date": 1570616945, "post_id": 58301327, "comment_id": 102966668, "body": "Yes, return only with the stateCopy, and the new state will be the stateCopy."}], "tags": [], "owner": {"reputation": 26, "user_id": 7954326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWMYp.jpg?s=128&g=1", "display_name": "David Debreceni", "link": "https://stackoverflow.com/users/7954326/david-debreceni"}, "is_accepted": true, "score": 0, "last_activity_date": 1570614182, "creation_date": 1570614182, "answer_id": 58301327, "question_id": 58301101, "link": "https://stackoverflow.com/questions/58301101/can-t-dynamically-setstate-in-react-typescript/58301327#58301327", "title": "Can\u2019t dynamically setState in React/Typescript", "body": "<p>It's because of ts, dont see the type of the state and dont recognize the key exists. You have to create a copy with a type:any, </p>\n\n<pre><code>  return(\n    &lt;a href=\"javascript:void(0)\" onClick={        \n        () =&gt; {\n            this.setState(prevState =&gt; {\n              let stateCopy:any={...prevState};\n              stateCopy[name]: stateCopy[name] + 10\n              return {stateCopy}\n            })\n        }\n    }&gt;\n      Load 10 more rows\n    &lt;/a&gt;  \n  )\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 58301327, "answer_count": 2, "score": 0, "last_activity_date": 1570617106, "creation_date": 1570613466, "last_edit_date": 1570617106, "question_id": 58301101, "link": "https://stackoverflow.com/questions/58301101/can-t-dynamically-setstate-in-react-typescript", "title": "Can\u2019t dynamically setState in React/Typescript", "body": "<p>I can setState in react with a string as so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  return(\r\n    &lt;a href=\"javascript:void(0)\" onClick={        \r\n        () =&gt; {\r\n            this.setState(prevState =&gt; {\r\n              return {[\"mostPopContentCount\"]: prevState[\"mostPopContentCount\"] + 10}\r\n            })\r\n        }\r\n    }&gt;\r\n      Load 10 more rows\r\n    &lt;/a&gt;  \r\n  )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But if I want the key to be dynamic it won\u2019t compile.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  let name:string = \"mostPopContentCount\";\r\n\r\n  return(\r\n    &lt;a href=\"javascript:void(0)\" onClick={        \r\n        () =&gt; {\r\n            this.setState(prevState =&gt; {\r\n              return {[name]: prevState[name] + 10}\r\n            })\r\n        }\r\n    }&gt;\r\n      Load 10 more rows\r\n    &lt;/a&gt;  \r\n  )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 1342, "user_id": 6801327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R90HV.jpg?s=128&g=1", "display_name": "Lassi Uosukainen", "link": "https://stackoverflow.com/users/6801327/lassi-uosukainen"}, "edited": false, "score": 1, "creation_date": 1570614939, "post_id": 58301042, "comment_id": 102965625, "body": "Don&#39;t you need to specify the lang inside the script tag, like &lt;script lang=&quot;ts&quot;&gt;?"}, {"owner": {"reputation": 3338, "user_id": 484025, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/jYu8Q.jpg?s=128&g=1", "display_name": "DS_web_developer", "link": "https://stackoverflow.com/users/484025/ds-web-developer"}, "reply_to_user": {"reputation": 1342, "user_id": 6801327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R90HV.jpg?s=128&g=1", "display_name": "Lassi Uosukainen", "link": "https://stackoverflow.com/users/6801327/lassi-uosukainen"}, "edited": false, "score": 0, "creation_date": 1570615201, "post_id": 58301042, "comment_id": 102965766, "body": "@LassiUosukainen omg, I knew I was missing something painfully obvious... gosh.... thanks, great catch.... so embarrassing :)"}], "answers": [{"tags": [], "owner": {"reputation": 1342, "user_id": 6801327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R90HV.jpg?s=128&g=1", "display_name": "Lassi Uosukainen", "link": "https://stackoverflow.com/users/6801327/lassi-uosukainen"}, "is_accepted": true, "score": 4, "last_activity_date": 1570615721, "creation_date": 1570615721, "answer_id": 58301791, "question_id": 58301042, "link": "https://stackoverflow.com/questions/58301042/vue-typescript-not-working-only-in-app-vue/58301791#58301791", "title": "Vue: Typescript not working only in App.vue", "body": "<p>To use TypeScript inside a Vue component, you will need to specify the language inside the script tag like this:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\n</code></pre>\n\n<p>Without the lang attribute Vue assumes your component is JavaScript, so TypeScript seems invalid to it.                                                                     </p>\n"}], "owner": {"reputation": 3338, "user_id": 484025, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/jYu8Q.jpg?s=128&g=1", "display_name": "DS_web_developer", "link": "https://stackoverflow.com/users/484025/ds-web-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1452, "favorite_count": 0, "accepted_answer_id": 58301791, "answer_count": 1, "score": 3, "last_activity_date": 1570615721, "creation_date": 1570613247, "question_id": 58301042, "link": "https://stackoverflow.com/questions/58301042/vue-typescript-not-working-only-in-app-vue", "title": "Vue: Typescript not working only in App.vue", "body": "<p>So, I created a vue app with vue CLI to be using it with typescript... and everything worked fine... all my components work fine with typescript... even main.ts works well...</p>\n\n<p>the problem is if I try to use typescript in my App.vue file tough, I get a SyntaxError... super weird, coz I never had this problem before and typescript works fine in my other projects.... I cannot figure out, why it is not working.... even a simple thing like this:</p>\n\n<pre><code>&lt;template src=\"./App.html\"&gt;&lt;/template&gt;\n\n&lt;script&gt;\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component()\nexport default class App extends Vue {\n  a: string = \"\";\n  mounted() {}\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>produces </p>\n\n<blockquote>\n  <p>SyntaxError: C:\\DEVELOPMENT\\app\\src\\App.vue: Unexpected token (9:3)</p>\n</blockquote>\n\n<pre><code>   7 | @Component()\n   8 | export default class App extends Vue {\n&gt;  9 |   a: string = \"\";\n     |    ^\n  10 |   mounted() {}\n  11 | }\n  12 | \n</code></pre>\n\n<p>Obviously if I remove :string part all works well...</p>\n\n<p>my tsconfig file is pretty standard, haven't done any changes to that part.... and the App.vue is places as it should be, root of src folder</p>\n\n<p>my tsconfig</p>\n\n<pre><code>   {\n  \"compilerOptions\": {\n    \"target\": \"esnext\",\n    \"module\": \"esnext\",\n    \"strict\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": false,\n    \"jsx\": \"preserve\",\n    \"importHelpers\": true,\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"sourceMap\": true,\n    \"resolveJsonModule\": true,\n    \"baseUrl\": \".\",\n    \"types\": [\n      \"node\"\n    ],\n    \"paths\": {\n      \"@/*\": [\n        \"src/*\"\n      ]\n    },\n    \"lib\": [\n      \"es2015\",\n      \"dom\",\n      \"dom.iterable\",\n      \"scripthost\"\n    ]\n  },\n  \"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\",\n    \"src/**/*.vue\",\n    \"src/**/*.scss\",\n    \"src/**/*.html\",\n    \"tests/**/*.ts\",\n    \"tests/**/*.tsx\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>so can somebody tell me what might be going on?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8140, "user_id": 6517383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/CSaA5.jpg?s=128&g=1", "display_name": "Black Mamba", "link": "https://stackoverflow.com/users/6517383/black-mamba"}, "edited": false, "score": 0, "creation_date": 1570613334, "post_id": 58300975, "comment_id": 102964687, "body": "Can you post a stackblitz demo as your provided code has nothing to do with your error"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 10977489, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VYgSiO1T7FU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNag-6LuBk0iE0BtJ-AR9T76XQS0A/mo/photo.jpg?sz=128", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/10977489/muhammad-ali"}, "edited": false, "score": 0, "creation_date": 1570615753, "post_id": 58301318, "comment_id": 102966051, "body": "can you explain about service? some example?"}, {"owner": {"reputation": 11, "user_id": 12018801, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kJCtGfGbuDw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdYEfqukKtUqHb5MX-xZahWTMdz6g/photo.jpg?sz=128", "display_name": "Mohsin Ayaz", "link": "https://stackoverflow.com/users/12018801/mohsin-ayaz"}, "reply_to_user": {"reputation": 313, "user_id": 10977489, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VYgSiO1T7FU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNag-6LuBk0iE0BtJ-AR9T76XQS0A/mo/photo.jpg?sz=128", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/10977489/muhammad-ali"}, "edited": false, "score": 0, "creation_date": 1570660670, "post_id": 58301318, "comment_id": 102987207, "body": "you use authService in your app.component. can you post a stackbiltz demo of your code"}], "tags": [], "owner": {"reputation": 11, "user_id": 12018801, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kJCtGfGbuDw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdYEfqukKtUqHb5MX-xZahWTMdz6g/photo.jpg?sz=128", "display_name": "Mohsin Ayaz", "link": "https://stackoverflow.com/users/12018801/mohsin-ayaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1570666190, "last_edit_date": 1570666190, "creation_date": 1570614149, "answer_id": 58301318, "question_id": 58300975, "link": "https://stackoverflow.com/questions/58300975/angular-6-language-translation-does-not-change-unless-page-refresh/58301318#58301318", "title": "Angular 6 language translation does not change unless page refresh", "body": "<p>You put all the functionality in app component constructor. when application loads the first thing run is constructor that why it show null. create a service in which move your functionality and use it in app.component</p>\n"}], "owner": {"reputation": 313, "user_id": 10977489, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VYgSiO1T7FU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNag-6LuBk0iE0BtJ-AR9T76XQS0A/mo/photo.jpg?sz=128", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/10977489/muhammad-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570666190, "creation_date": 1570613060, "question_id": 58300975, "link": "https://stackoverflow.com/questions/58300975/angular-6-language-translation-does-not-change-unless-page-refresh", "title": "Angular 6 language translation does not change unless page refresh", "body": "<p>I have 5 different languages and default is english. In my header I switch languages</p>\n\n<p>header.component.ts</p>\n\n<pre><code>  onSetLanguage(lang: string) {\n    this.trans.use(lang);\n    this.currentLang = localStorage.setItem(\"currentLang\", lang);\n  }\n</code></pre>\n\n<p>and in my app.component.ts</p>\n\n<pre><code>  constructor(\n    private authService: AuthService,\n    private translate: TranslateService\n  ) {\n    this.translate.setDefaultLang(\"en\");\n    const currentLang = localStorage.getItem(\"currentLang\");\n    if (currentLang !== null) {\n      this.translate.use(currentLang);\n    } else {\n      this.translate.use(\"en\");\n    }\n  }\n</code></pre>\n\n<p>the problem is when I log in first time it returns null on the current language. Then I select some language for example german it returns (de) which is fine. </p>\n\n<p>when I submit the form and before pressing the submit i change it to Italian (it) it will still submit (de) to the form (even though the translations on the UI are changed) until i refresh the page or go back to previous component and get back to form component again.</p>\n\n<p>How do I fix it?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1570612632, "post_id": 58300676, "comment_id": 102964287, "body": "Why are you  projecting directive into component?"}, {"owner": {"reputation": 430, "user_id": 2905762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1e46ac84273390e0c3fe7f913ff2e0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Hans", "link": "https://stackoverflow.com/users/2905762/hans"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1570612890, "post_id": 58300676, "comment_id": 102964436, "body": "@Chellappan, i need to process the name ([Ghandy, Ani, Budi]) in child component, and besides the name, I also need something else like address"}, {"owner": {"reputation": 853, "user_id": 7972867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37028e1abb5631d7d139301d089ded2e?s=128&d=identicon&r=PG", "display_name": "brandt.codes", "link": "https://stackoverflow.com/users/7972867/brandt-codes"}, "edited": false, "score": 0, "creation_date": 1570613863, "post_id": 58300676, "comment_id": 102965003, "body": "Why not using <code>@Input()</code> in the child-component? <a href=\"https://www.tektutorialshub.com/angular/angular-passing-data-child-component/\" rel=\"nofollow noreferrer\">pass-data-to-child-component</a>."}], "answers": [{"tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 2, "last_activity_date": 1570613481, "creation_date": 1570613481, "answer_id": 58301107, "question_id": 58300676, "link": "https://stackoverflow.com/questions/58300676/passing-param-using-directive-to-child-component-angular/58301107#58301107", "title": "Passing param using directive to child component angular", "body": "<p>You should use ContentChildren instead of ViewChildren. Then you should implement AfterContentInit lifecycle hook to access the value.</p>\n\n<pre><code>@Component({\n  selector: 'child-component',\n  templateUrl: './child-component.component.html',\n  styleUrls: ['./child-component.component.scss'],\n\n})\n\nexport class childComponent implements OnInit,AfterContentInit \n\n @ContentChildren(GrandChildDirective) gc:QueryList&lt;GrandChildDirective&gt; ;\n\n  constructor(\n  ) {\n\n  }\n  ngAfterContentInit() {\n     console.log(this.gc.toArray().map(item=&gt;item.name));\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-snd3at\" rel=\"nofollow noreferrer\">Example</a></p>\n"}], "owner": {"reputation": 430, "user_id": 2905762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1e46ac84273390e0c3fe7f913ff2e0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Hans", "link": "https://stackoverflow.com/users/2905762/hans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 58301107, "answer_count": 1, "score": 1, "last_activity_date": 1570613481, "creation_date": 1570612123, "question_id": 58300676, "link": "https://stackoverflow.com/questions/58300676/passing-param-using-directive-to-child-component-angular", "title": "Passing param using directive to child component angular", "body": "<p>i trying to create child component that can passing param using directive, but i still not found any tutorial to create itu.</p>\n\n<p>i have try some from this :\n<a href=\"https://stackoverflow.com/questions/36345618/get-reference-to-a-directive-used-in-a-component\">Get reference to a directive used in a component</a></p>\n\n<p>here my code</p>\n\n<p>This is the template from parent component</p>\n\n<pre><code>&lt;child-component&gt;\n    &lt;grand-child-directive [name]='Ghandy'&gt;&lt;/grand-child-directive &gt;\n    &lt;grand-child-directive [name]='Ani'&gt;&lt;/grand-child-directive &gt;\n    &lt;grand-child-directive [name]='Budi'&gt;&lt;/grand-child-directive &gt;\n&lt;/child-component&gt;\n</code></pre>\n\n<p>this grand-child-directive directive </p>\n\n<pre><code>@Directive({\n  selector: 'grand-child-directive ',\n})\nexport class gc{\n  @Input() name:string;\n}\n</code></pre>\n\n<p>This is my child-component</p>\n\n<pre><code>@Component({\n  selector: 'child-component',\n  templateUrl: './child-component.component.html',\n  styleUrls: ['./child-component.component.scss'],\n\n})\n\nexport class childComponent implements OnInit \n\n@ViewChildren(gc) gc: gc;\n\n  constructor(\n  ) {\n\n  }\n  ngOnInit() {\n    console.log(gc.name)\n  }\n}\n</code></pre>\n\n<p>when i console.log gc.name, i got undefined, not array [Ghandy, Ani, Budi]</p>\n\n<p>I would be glad for any help.</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio"], "comments": [{"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1570612246, "post_id": 58300612, "comment_id": 102964083, "body": "I never managed to get <code>import React from &#39;react&#39;</code> to actually work in my TS files. It always requires me to use <code>import * as React from &#39;react&#39;</code>"}, {"owner": {"reputation": 13, "user_id": 12186583, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDLbaT1kkHXw7Ri6uMdiiNnbtkv3r_VV8oFGz2I=k-s128", "display_name": "PhilTheGap", "link": "https://stackoverflow.com/users/12186583/philthegap"}, "reply_to_user": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1570615032, "post_id": 58300612, "comment_id": 102965677, "body": "Component is recognized, so it is not the problem"}], "answers": [{"comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 1, "creation_date": 1570612430, "post_id": 58300727, "comment_id": 102964182, "body": "Since it&#39;s in the constructor is a valid place to set the initial state, but other than that yes, you don&#39;t mutate state directly, only via setState()."}], "tags": [], "owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "is_accepted": true, "score": 0, "last_activity_date": 1570612248, "creation_date": 1570612248, "answer_id": 58300727, "question_id": 58300612, "link": "https://stackoverflow.com/questions/58300612/react-component-properties-state-and-setstate-are-not-recognized-in-typescri/58300727#58300727", "title": "React Component properties &quot;state&quot; and &quot;setState&quot; are not recognized in TypeScript", "body": "<p>The package <code>react</code> is not exposing it's types. It means that typescript does not know which attributes or methods are declared in <code>React.Component</code>.</p>\n\n<p>And because it doesn't know that <code>this.state</code> exists, it shows you an error.</p>\n\n<p>In order to makes the linter knowing <code>React.Component</code> type, install the package <a href=\"https://www.npmjs.com/package/@types/react\" rel=\"nofollow noreferrer\">@types/react</a>, like :</p>\n\n<pre><code>npm install --save @types/react\n</code></pre>\n\n<hr>\n\n<p>Also, I don't do react, but I've found this : </p>\n\n<blockquote>\n  <p>Never mutate this.state directly, as calling setState() afterwards may\n  replace the mutation you made. Treat this.state as if it were\n  immutable.</p>\n</blockquote>\n\n<p><a href=\"https://en.reactjs.org/docs/react-component.html#state\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12186583, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDLbaT1kkHXw7Ri6uMdiiNnbtkv3r_VV8oFGz2I=k-s128", "display_name": "PhilTheGap", "link": "https://stackoverflow.com/users/12186583/philthegap"}, "edited": false, "score": 0, "creation_date": 1570622366, "post_id": 58300911, "comment_id": 102969522, "body": "Prakash, you should understand that I cannot compile this code. That&#39;s the problem"}], "tags": [], "owner": {"reputation": 27, "user_id": 12174789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727730983e95c3004b47e4ae75800413?s=128&d=identicon&r=PG&f=1", "display_name": "Prakash Sharma", "link": "https://stackoverflow.com/users/12174789/prakash-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1570612832, "creation_date": 1570612832, "answer_id": 58300911, "question_id": 58300612, "link": "https://stackoverflow.com/questions/58300612/react-component-properties-state-and-setstate-are-not-recognized-in-typescri/58300911#58300911", "title": "React Component properties &quot;state&quot; and &quot;setState&quot; are not recognized in TypeScript", "body": "<pre><code>**Please try below code it'll help you to find your error.**\n\n\nimport React from 'react';\n\n        class GetUser extends React.Component  {\n            constructor(props){\n                super(props);\n                this.state = {\n                name:'Demo';\n            }\n        }\n        render(){\n            return(\n                &lt;div&gt;{this.state.demo}&lt;/div&gt;\n            )\n        }\n         }\n\n        export default GetUser;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12186583, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDLbaT1kkHXw7Ri6uMdiiNnbtkv3r_VV8oFGz2I=k-s128", "display_name": "PhilTheGap", "link": "https://stackoverflow.com/users/12186583/philthegap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 58300727, "answer_count": 2, "score": 1, "last_activity_date": 1570622785, "creation_date": 1570611894, "last_edit_date": 1570622785, "question_id": 58300612, "link": "https://stackoverflow.com/questions/58300612/react-component-properties-state-and-setstate-are-not-recognized-in-typescri", "title": "React Component properties &quot;state&quot; and &quot;setState&quot; are not recognized in TypeScript", "body": "<p>I'm trying to reproduce this:<a href=\"https://dzone.com/articles/aspnet-core-crud-with-reactjs-and-entity-framework\" rel=\"nofollow noreferrer\">ASP.NET Core: CRUD With React.js and Entity Framework Core</a>, on Visual Studio 2019 with IIS Express (with no Node.js). The typescript files are compiled with NuGet Microsoft.Typescript.MsBuild (3.3.3).\nBut the compilation does not run for Typescript files, since properties \"state\" and \"setState\" are not recognized (Visual Studio message is \"does not exist\") although the TypeScript class inheriting from React.Component.</p>\n\n<p>I have tried changing the javascript compilation to Ecma 6/5/2016...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    import React from 'react';\n\n    export class GetUser extends React.Component  {\n        constructor(props) {\n            super(props);\n            this.state = ...\n</code></pre>\n\n<p>this.state is underlined with red in Visual Studio, and therefore the file is not transpiled</p>\n"}, {"tags": ["angular", "typescript", "ionic4", "ionic-storage"], "comments": [{"owner": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1570612210, "post_id": 58300543, "comment_id": 102964062, "body": "You want to achieve this: Store the last data to back-end, when user comes back, retrieve data from back-end and place in storage? Which back-end are you using?"}, {"owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "reply_to_user": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1570612390, "post_id": 58300543, "comment_id": 102964163, "body": "I am using Ionic storage as DB is that what you are asking?"}, {"owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "reply_to_user": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1570613080, "post_id": 58300543, "comment_id": 102964537, "body": "Should I use a foreach function?"}], "answers": [{"comments": [{"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "edited": false, "score": 2, "creation_date": 1570695504, "post_id": 58303012, "comment_id": 102996399, "body": "The storage part is right. You notation for the contacts seems strange though.  Doing stuff like <code>name: [&#39;&#39;],    number: [&#39;&#39;]</code> is putting the value us an array of one, with an empty string. You don&#39;t need the <code>[ ]</code> part for just one value."}], "tags": [], "owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "is_accepted": true, "score": 1, "last_activity_date": 1570620070, "creation_date": 1570620070, "answer_id": 58303012, "question_id": 58300543, "link": "https://stackoverflow.com/questions/58300543/angular-ionic-storage-how-to-store-data-dynamically/58303012#58303012", "title": "Angular/Ionic Storage, how to store data dynamically", "body": "<p>I finally discovered an answer,\nHope this helps someone.</p>\n\n<pre><code>\n  constructor(private contacts: Contacts, private storage: Storage) {\n   this.getContact();\n  }\n  key:string = \"contacts\";\n  mContacts = [\n   {\n    id: [0],\n    name: '',\n    number: ''\n   },\n   {\n    id: [1],\n    name : [''],\n    number: ['']\n   },\n   {\n    id: [2],\n    name : [''],\n    number: ['']\n   },\n   {\n    id: [3],\n    name : [''],\n    number: ['']\n   },\n   {\n    id: [4],\n    name : [''],\n    number: ['']\n   }\n  ];\n\n  ngOnInit() {}\n\n  pickContact(contactId) {\n\n    this.contacts.pickContact().then((contact) =&gt; {\n      this.mContacts[contactId].name = contact.name.givenName;\n      this.mContacts[contactId].number = contact.phoneNumbers[0].value;\n      this.saveContacts();\n    });\n  }\n  saveContacts(){\n    this.storage.set(this.key, JSON.stringify(this.mContacts));\n  }\n  getContact()\n  {\n    this.storage.get(this.key).then((val) =&gt; {\n      console.log('Contact Name: ', val);\n      if (val != null &amp;&amp; val !== undefined) {\n        this.mContacts = JSON.parse(val);\n      }\n    });\n\n  }\n\n\n}\n\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 11230998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bf7019f079e7312e7e591d77374502?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/11230998/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 58303012, "answer_count": 1, "score": 0, "last_activity_date": 1570620070, "creation_date": 1570611631, "last_edit_date": 1570612940, "question_id": 58300543, "link": "https://stackoverflow.com/questions/58300543/angular-ionic-storage-how-to-store-data-dynamically", "title": "Angular/Ionic Storage, how to store data dynamically", "body": "<p>So I have some code that allows a user to pick a contact and that data gets parsed into an array.\nhowever, the problem is there is no way of storing that data permanently, as the user leaves the component the data disappears.</p>\n\n<p>I have been trying to use Ionic storage to store that data, but my knowledge is lacking in how to do this properly.</p>\n\n<p>here is the relevant code.</p>\n\n<pre><code>export class ContactComponentComponent implements OnInit {\n\n  constructor(private contacts: Contacts, private storage: Storage) {\n   this.getContact();\n  }\n\n  mContacts = [\n   {\n    id: [0],\n    name: '',\n    number: ''\n   },\n   {\n    id: [1],\n    name : [''],\n    number: ['']\n   },\n   {\n    id: [2],\n    name : [''],\n    number: ['']\n   },\n   {\n    id: [3],\n    name : [''],\n    number: ['']\n   },\n   {\n    id: [4],\n    name : [''],\n    number: ['']\n   }\n  ];\n\n  ngOnInit() {}\n\n  pickContact(contactId) {\n    this.contacts.pickContact().then((contact) =&gt; {\n      this.mContacts[contactId].name = contact.name.givenName;\n      this.mContacts[contactId].number = contact.phoneNumbers[0].value;\n      this.storage.set('contact-name', JSON.stringify(this.mContacts.name));\n      this.storage.set('contact-number',  JSON.stringify(this.mContacts.number));\n    });\n  }\n\n  getContact()\n  {\n    this.storage.get('contact-name').then((val) =&gt; {\n      console.log('Contact Name: ', val);\n    });\n    this.storage.get('contact-number').then((val) =&gt; {\n      console.log('Contact Number:', val);\n    });\n  }\n\n}\n</code></pre>\n\n<p>Here is the HTML</p>\n\n<pre><code>&lt;ion-list&gt;\n\n  &lt;ion-grid&gt;\n    &lt;ion-row&gt;\n      &lt;ion-col&gt;\n        &lt;ion-item-group   *ngFor=\"let contacts of mContacts\"&gt;\n          &lt;ion-card (click) = \"pickContact(contacts.id)\"&gt;\n              &lt;ion-item lines = \"none\"&gt;             \n                  &lt;ion-label class=\"ion-text-wrap\"&gt;Name: {{contacts.name}}&lt;/ion-label&gt;        \n                &lt;/ion-item&gt;\n                &lt;ion-item lines = \"none\" &gt;\n                  &lt;ion-label class=\"ion-text-wrap\"&gt;Number: {{contacts.number}}&lt;/ion-label&gt;\n                &lt;/ion-item&gt;       \n          &lt;/ion-card&gt;            \n        &lt;/ion-item-group&gt;    \n\n      &lt;/ion-col&gt;\n    &lt;/ion-row&gt;\n\n  &lt;/ion-grid&gt;\n&lt;/ion-list&gt;\n</code></pre>\n\n<p>I know this is terrible code, but I have no idea how to save this array after the user has selected it and retrieve it, when the component is called</p>\n"}, {"tags": ["angular", "typescript", "two-way-binding", "angular2-ngmodel"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2010529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f06a281da29a1c988e307a041dfcb3f?s=128&d=identicon&r=PG", "display_name": "Milhooz", "link": "https://stackoverflow.com/users/2010529/milhooz"}, "edited": false, "score": 0, "creation_date": 1570636835, "post_id": 58300814, "comment_id": 102977803, "body": "Thank you, this is working well, even with [(ngModel)] instead of (ngModelChange). Now I need to understand the usage of ViewChild, I suppose I need to read the doc :)"}], "tags": [], "owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "is_accepted": true, "score": 1, "last_activity_date": 1570612909, "last_edit_date": 1570612909, "creation_date": 1570612517, "answer_id": 58300814, "question_id": 58300440, "link": "https://stackoverflow.com/questions/58300440/why-i-can-not-limit-an-inputs-value-length-with-angular-ngmodel/58300814#58300814", "title": "Why I can not limit an input&#39;s value length with Angular NgModel?", "body": "<p>First you need to understand the viewModel and model.</p>\n\n<p>When you type the fourth character, model still is <code>ABC</code>, so Angular doesn't update the viewModel (<a href=\"https://github.com/angular/angular/blob/master/packages/forms/src/directives/ng_model.ts#L221\" rel=\"nofollow noreferrer\">Source code</a>), but the input element will still respond to your typing.</p>\n\n<p>The solution to this problem is to manually control the input element value. or set <code>maxLength</code>.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;label for=\"airport\"&gt;Airport &lt;/label&gt;\n&lt;input #input type=\"text\" id=\"airport\" name=\"airport\" [ngModel]=\"airport\" (ngModelChange)=\"onChange($event)\"&gt;\n{{ airport }}\n</code></pre>\n\n<pre><code>import { Component, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n\n  @ViewChild('input', { static: false }) input: ElementRef&lt;HTMLInputElement&gt;;\n  airport = '';\n\n  onChange(value: string) {\n     this.airport = value.substring(0, 3).toUpperCase();\n     this.input.nativeElement.value = this.airport;\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-nwwjs7?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-nwwjs7?file=src/app/app.component.ts</a></p>\n"}], "owner": {"reputation": 33, "user_id": 2010529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f06a281da29a1c988e307a041dfcb3f?s=128&d=identicon&r=PG", "display_name": "Milhooz", "link": "https://stackoverflow.com/users/2010529/milhooz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1267, "favorite_count": 0, "accepted_answer_id": 58300814, "answer_count": 1, "score": 3, "last_activity_date": 1570612909, "creation_date": 1570611311, "question_id": 58300440, "link": "https://stackoverflow.com/questions/58300440/why-i-can-not-limit-an-inputs-value-length-with-angular-ngmodel", "title": "Why I can not limit an input&#39;s value length with Angular NgModel?", "body": "<p>I have an input field with two way binding and I want to change the user input to uppercase and limit it to 3 characters. I'm doing this in the setter of the variable. The uppercase replacement works if I try to do a substring it does not update the field value anymore, the property is correctly updated though.</p>\n\n<p>If I enter \"abc\" it replaces it correctly to \"ABC\" but as soon as I type more than 3 characters, the other characters are not removed. For example \"abcde\" displays \"ABCde\" in the input.\nPlease see the stackblitz example: <a href=\"https://stackblitz.com/edit/angular-bpuh8a\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bpuh8a</a></p>\n\n<pre><code>&lt;input type=\"text\" id=\"airport\" name=\"airport\" [(ngModel)]=\"airport\"&gt;\n</code></pre>\n\n<pre><code>private _airport = '';\nget airport(): string {\n  return this._airport;\n}\nset airport(value: string) {\n  this._airport = value.substring(0, 3).toUpperCase();\n}\n</code></pre>\n\n<p>I know that I can limit the field length using maxlength and it works but I want to understand why what I'm doing here is not working.</p>\n\n<p>I've tried calling a method in ngModelChange as well but the result is the same</p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["typescript", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "is_accepted": true, "score": 1, "last_activity_date": 1570611449, "creation_date": 1570611449, "answer_id": 58300500, "question_id": 58300352, "link": "https://stackoverflow.com/questions/58300352/how-can-js-if-else-loop-can-be-written-in-ts-shortend-technique/58300500#58300500", "title": "how can js if else loop can be written in ts shortend technique", "body": "<p>Won't shorten it, but will make it easier to maintain and evolve.</p>\n\n<pre><code>const {\n  func,\n} = ([{\n  value: 'Customer',\n\n  func: () =&gt; {\n    this.isCustomerFunctionSelected = true;\n  },\n}, {\n  value: 'Dealer',\n\n  func: () =&gt; {\n    this.isCustomerFunctionSelected = true;\n    this.selectedCustomerValue = null;\n  },\n}].find(x =&gt; x.value === this.functionValue) || {\n  func: () =&gt; {\n    this.reset = true;\n  },\n});\n\nfunc();\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 6769368, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/84176bd9af222fde651215b7418df176?s=128&d=identicon&r=PG&f=1", "display_name": "Nicoleta Wilskon", "link": "https://stackoverflow.com/users/6769368/nicoleta-wilskon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 58300500, "answer_count": 1, "score": 2, "last_activity_date": 1570611449, "creation_date": 1570611010, "question_id": 58300352, "link": "https://stackoverflow.com/questions/58300352/how-can-js-if-else-loop-can-be-written-in-ts-shortend-technique", "title": "how can js if else loop can be written in ts shortend technique", "body": "<p>I have this if loop , which set the <code>isCustomerFunctionSelected</code> as true and false and set value as null, how can i rewrite this in TS shortend technique. </p>\n\n<pre><code>  this.reset = false;\n\n  if(this.functionValue === 'Customer') {\n    this.isCustomerFunctionSelected = true;\n  } else if (this.functionValue === 'Dealer') {\n    this.isCustomerFunctionSelected = false;\n    this.selectedCustomerValue = null;\n  } else {\n      this.reset = true;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "three.js", "nuxt.js"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10826139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dr_aWsb0TNM/AAAAAAAAAAI/AAAAAAAACEY/vpAojiw_Lbg/photo.jpg?sz=128", "display_name": "Yalon Keret", "link": "https://stackoverflow.com/users/10826139/yalon-keret"}, "is_accepted": false, "score": 0, "last_activity_date": 1570727626, "creation_date": 1570727626, "answer_id": 58328000, "question_id": 58300259, "link": "https://stackoverflow.com/questions/58300259/using-three-js-gltfloader-with-typescript-conflict-with-zimjs/58328000#58328000", "title": "Using three.js GLTFLoader() with typescript - conflict with zimjs", "body": "<p>Solved. It was a conflict between zim's Blob to the document.Blob</p>\n"}], "owner": {"reputation": 11, "user_id": 10826139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dr_aWsb0TNM/AAAAAAAAAAI/AAAAAAAACEY/vpAojiw_Lbg/photo.jpg?sz=128", "display_name": "Yalon Keret", "link": "https://stackoverflow.com/users/10826139/yalon-keret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570727626, "creation_date": 1570610697, "question_id": 58300259, "link": "https://stackoverflow.com/questions/58300259/using-three-js-gltfloader-with-typescript-conflict-with-zimjs", "title": "Using three.js GLTFLoader() with typescript - conflict with zimjs", "body": "<p>I'm loading a model fine with three.js GLTFLoader() using typescript in a nuxt.js app:</p>\n\n<pre><code>this.mGLTFLoader = new (&lt;any&gt;THREE).GLTFLoader();\nthis.mGLTFLoader.load(pPath, (gltf) =&gt; this.onLoad(gltf), (xhr) =&gt; this.onProgress(xhr), (e) =&gt; this.onError(e));\n</code></pre>\n\n<p>But when I load zimjs (a JavaScript library) I'm getting some conflict:</p>\n\n<blockquote>\n  <p>TypeError: Failed to execute 'createObjectURL' on 'URL': No function was found that matched the signature provided. at GLTFLoader.js:2000</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "promise"], "comments": [{"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 0, "creation_date": 1570610819, "post_id": 58300169, "comment_id": 102963305, "body": "Try using map instead of for ?"}, {"owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "reply_to_user": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 0, "creation_date": 1570613638, "post_id": 58300169, "comment_id": 102964873, "body": "I don&#39;t know how to use it.. can you explain please ?"}, {"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 0, "creation_date": 1570613737, "post_id": 58300169, "comment_id": 102964934, "body": "I did in my post :)"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570613339, "post_id": 58300235, "comment_id": 102964688, "body": "Sorry, I forgot to write this part of my code... I tried with &quot;onChanges&quot; too. I edited my question"}, {"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "reply_to_user": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570613534, "post_id": 58300235, "comment_id": 102964813, "body": "Did you try with the map or forEach function ? (edit on my post)"}, {"owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570614010, "post_id": 58300235, "comment_id": 102965082, "body": "That&#39;s not working anymore, because my array (this.tabValeurs) is undefined"}, {"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "reply_to_user": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570614096, "post_id": 58300235, "comment_id": 102965135, "body": "You did it in the ngOnChanges ?"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 1, "creation_date": 1570614288, "post_id": 58300235, "comment_id": 102965253, "body": "Use <code>map</code> along with <code>initialize input</code>"}], "tags": [], "owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "is_accepted": false, "score": 0, "last_activity_date": 1570615403, "last_edit_date": 1570615403, "creation_date": 1570610624, "answer_id": 58300235, "question_id": 58300169, "link": "https://stackoverflow.com/questions/58300169/empty-array-when-passing-it-into-a-component-input/58300235#58300235", "title": "Empty array when passing it into a component (Input)", "body": "<p>You should log your Input value in the OnChanges life cycle since you can't on the OnInit life cycle.</p>\n\n<pre><code>export class TableauAnomaliesComponent implements OnInit, OnChanges {\n\n   ...\n\n   ngOnChanges(changes: SimpleChanges): void {\n      // Here\n   }\n\n   ...\n}\n</code></pre>\n\n<p>And try to log the changes parameter and see what you have inside.</p>\n\n<p>Using map instead of for would be better as well.</p>\n\n<p>On the parent</p>\n\n<pre><code>this.servicePS.getListeAnomalies(\"2019-10-08\", \"2019-10-08\").then(\n(anomalies : any) =&gt; {\n   anomalies.forEach(anomalie =&gt; {\n      ...\n   })\n}\n</code></pre>\n\n<p>On the child</p>\n\n<pre><code>this.tabValeurs.forEach(anomalie =&gt; { console.log(anomalie) })\n</code></pre>\n\n<p>You should check more in <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570613371, "post_id": 58300406, "comment_id": 102964711, "body": "Sorry, I forgot to write this part of my code... I tried with &quot;onChanges&quot; too. I edited my question."}, {"owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570613407, "post_id": 58300406, "comment_id": 102964732, "body": "I tried your idea : initialize input, but that not working anymore"}], "tags": [], "owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570611191, "creation_date": 1570611191, "answer_id": 58300406, "question_id": 58300169, "link": "https://stackoverflow.com/questions/58300169/empty-array-when-passing-it-into-a-component-input/58300406#58300406", "title": "Empty array when passing it into a component (Input)", "body": "<p>Look into <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">angular life cycle hooks</a>. You are trying to to access <code>tabValeurs</code> in <code>OnInit</code> life cycle. Here <code>tabValeurs</code> is not populated yet. You can use <code>OnChanges</code> to look for changes in your inputs and do something based on that.</p>\n\n<p><strong>Minimum Example:</strong></p>\n\n<pre><code>import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n    selector: 'my-app',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnChanges {\n    @Input() tabValeurs: any[] = [];\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.tabValeurs) {\n            //do something\n        }\n    }\n}\n</code></pre>\n\n<p>And it is a good idea to initialize <code>@Input</code> type array variables as empty array when declaring. That way you can avoid null checks in <code>html</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "edited": false, "score": 0, "creation_date": 1570613590, "post_id": 58300431, "comment_id": 102964842, "body": "When I try it, I&#39;ve got an undefined value"}], "tags": [], "owner": {"reputation": 134, "user_id": 7091523, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GfD6KkC_Gls/AAAAAAAAAAI/AAAAAAAAAAs/8CZIxLKwDkM/photo.jpg?sz=128", "display_name": "Eslam Mahgoub", "link": "https://stackoverflow.com/users/7091523/eslam-mahgoub"}, "is_accepted": false, "score": 0, "last_activity_date": 1570611281, "creation_date": 1570611281, "answer_id": 58300431, "question_id": 58300169, "link": "https://stackoverflow.com/questions/58300169/empty-array-when-passing-it-into-a-component-input/58300431#58300431", "title": "Empty array when passing it into a component (Input)", "body": "<p>the bindings are only updated when there is a change detection. So the array itself not changed I'm think the solution is intercepting @Input changes with getter and setter</p>\n\n<pre><code>@Input() set tabValeurs (val: any) {\n this._tabValeurs = val;\n}\n\n_tabValeurs: any;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 4217823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MjNPR.png?s=128&g=1", "display_name": "brieucdlf", "link": "https://stackoverflow.com/users/4217823/brieucdlf"}, "edited": false, "score": 0, "creation_date": 1570651262, "post_id": 58304235, "comment_id": 102984179, "body": "Oh ! You can check async pipe in that case"}], "tags": [], "owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "is_accepted": false, "score": 0, "last_activity_date": 1570624430, "creation_date": 1570624430, "answer_id": 58304235, "question_id": 58300169, "link": "https://stackoverflow.com/questions/58300169/empty-array-when-passing-it-into-a-component-input/58304235#58304235", "title": "Empty array when passing it into a component (Input)", "body": "<p>Thank you for your answers. I finally found the solve :</p>\n\n<p>I used a boolean :</p>\n\n<pre><code>&lt;app-tableau-anomalies *ngIf=\"isDataAvailable\" [tabValeurs]=\"tab_delta_T_recurrent\"&gt;&lt;/app-tableau-anomalies&gt;\n\n</code></pre>\n\n<p>And this is my ts file of my parent component</p>\n\n<pre><code>ngOnInit() {\n\n    this.servicePS.getListeAnomalies(\"2019-10-08\", \"2019-10-08\").then(\n      (anomalies : any) =&gt; {\n\n        for (let anomalie of anomalies){\n         ...\n        }\n      }\n    ).then( \n      () =&gt; this.isDataAvailable = true);\n  }\n\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9144506, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550077465084036/picture?type=large", "display_name": "Bastien Roussel", "link": "https://stackoverflow.com/users/9144506/bastien-roussel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1570628579, "creation_date": 1570610354, "last_edit_date": 1570628579, "question_id": 58300169, "link": "https://stackoverflow.com/questions/58300169/empty-array-when-passing-it-into-a-component-input", "title": "Empty array when passing it into a component (Input)", "body": "<p>I create multiple array with the result of a request API. Here is my method of a component which is called when pressing a button.</p>\n\n<pre><code>ngOnInit() {\n\n\n  // GetListeAnomalies(start_date : string, end_date : string) -&gt; return an array\n  this.servicePS.getListeAnomalies(\"2019-10-08\", \"2019-10-08\").then(\n    (anomalies : any) =&gt; {\n\n      for (let anomalie of anomalies){\n\n        switch (anomalie.type_anomalie)\u00a0{\n\n          case \"erreur_deltaT_recurrent\": {\n            this.tab_delta_T_recurrent.push(anomalie);\n            break;\n          }\n\n\n          case \"erreur_absence_emission\": {\n            this.tab_absence_emission.push(anomalie);\n            break;\n          }\n\n          case \"erreur_delta_T_trop_grand\":{\n            this.tab_deltaT_trop_grand.push(anomalie);\n            break;\n          }\n\n          case \"erreur_capteur_batterie_faible\":{\n            this.tab_capteur_batterie_faible.push(anomalie);\n            break;\n          }\n\n          case \"erreur_device_a_remplacer_grande_derive\":{\n            this.tab_device_a_remplacer_grande_derive.push(anomalie);\n            break;\n          }\n\n          default: {\n            this.tab_other.push(anomalie)\n          }\n        }\n      }\n    }\n  )\n}\n</code></pre>\n\n<p>Then, I want to pass these arrays in my component named 'tableau-anomalies'. So I use this line :</p>\n\n<pre><code>&lt;app-tableau-anomalies [tabValeurs]=\"tab_delta_T_recurrent\"&gt;&lt;/app-tableau-anomalies&gt;\n</code></pre>\n\n<p>In my component, I try to use the Input value but this one is not correctly initialized. Look at my component's code (and my comments)</p>\n\n<pre><code>export class TableauAnomaliesComponent implements OnInit, OnChanges {\n\n  @Input() tabValeurs: any;  \n\n  constructor() {\n  }\n\n  ngOnInit() {\n\n    console.log(this.tabValeurs.length); //Return 0\n    console.log(this.tabValeurs); //Return CORRECTLY my array with my data.\n\n    for (let anomalie in this.tabValeurs){\n      console.log(anomalie);  //This iteration is not called --&gt; no return, not even 'undefined' is written in the console.\n    }\n  }\n}\n</code></pre>\n\n<p><strong>EDIT :</strong> Sorry, I forgot to write this part of my code... I tried with \"onChanges\" too.</p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges) {\n\n      if (changes.tabValeurs){\n\n        console.log(this.tabValeurs.length); //Return 0\n\n        for (let anomalie of this.tabValeurs){\n          console.log(anomalie);//This iteration is not called --&gt; no return, not even 'undefined' is written in the console.\n        }\n      }   \n  }\n</code></pre>\n\n<p>I think there is a solution with something like Promise or Subscribe ? But I don't know how to use it in my case...\nSo can you help me ? Have you got any idea of a solution ?</p>\n\n<p>Thanks in advance :) </p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570608852, "post_id": 58299597, "comment_id": 102962269, "body": "<code>this.barcodeService.getBarcodes().pipe(map(barcodes =&gt; barcodes.slice().sort((x, y) =&gt; new Date(x.date).valueOf() - new Date(y).valueOf()))).subscribe(barcodes =&gt; {this.barcodes = barcodes})</code>"}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570608979, "post_id": 58299597, "comment_id": 102962336, "body": "can you please post as an answer , i am not able to understand where to use this code"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570609005, "post_id": 58299597, "comment_id": 102962348, "body": "It&#39;s the body of your <code>ngOnInit()</code>. It&#39;s so trivial and I&#39;m not going to test it. The idea is to sort the barcodes."}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570609075, "post_id": 58299597, "comment_id": 102962384, "body": "getting this  <code>error TS2339: Property &#39;map&#39; does not exist on type &#39;Observable&lt;Barcode[]&gt;&#39;. </code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570609084, "post_id": 58299597, "comment_id": 102962390, "body": "I had a typo, fixed"}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570609168, "post_id": 58299597, "comment_id": 102962434, "body": "getting same error again alongwith - error TS2740: Type &#39;{}&#39; is missing the following properties from type &#39;Barcode[]&#39;: length, pop, push, concat, and 26 more."}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1570609647, "post_id": 58299597, "comment_id": 102962666, "body": "it is still not solved"}], "answers": [{"tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 2, "last_activity_date": 1570612531, "creation_date": 1570612531, "answer_id": 58300817, "question_id": 58299597, "link": "https://stackoverflow.com/questions/58299597/how-to-sort-data-fetching-from-cloud-firestore/58300817#58300817", "title": "How to sort data fetching from cloud firestore", "body": "<p>According to the <a href=\"https://github.com/angular/angularfire2/blob/master/docs/firestore/querying-collections.md\" rel=\"nofollow noreferrer\">documentation</a>, the following should work (not tested however):</p>\n\n<pre><code>  getBarcodes(){\n    this.barcodes = this.afs.collection('barcodes', ref =&gt; ref.orderBy('date')).valueChanges();\n    return this.barcodes;\n  }\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 58300817, "answer_count": 1, "score": 0, "last_activity_date": 1570612531, "creation_date": 1570608205, "last_edit_date": 1570609835, "question_id": 58299597, "link": "https://stackoverflow.com/questions/58299597/how-to-sort-data-fetching-from-cloud-firestore", "title": "How to sort data fetching from cloud firestore", "body": "<p>I am using a service to fetch the data from my firestore collection and now what i want to do is to sort the documents by one of the fields say \"date\"\nAttaching codes below:</p>\n\n<p><strong>BARCODE.SERVICE.TS</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { Barcode } from '../models/barcode';\n@Injectable({\n  providedIn: 'root'\n})\nexport class BarcodeService {\n  barcodesCollection: AngularFirestoreCollection&lt;Barcode&gt;;\n  barcodes: Observable&lt;Barcode[]&gt;;\n  constructor(public afs: AngularFirestore) { \n    this.barcodesCollection = this.afs.collection('barcodes');\n\n    this.barcodes = this.barcodesCollection.valueChanges();\n  }\n  getBarcodes(){\n    this.barcodes = this.afs.collection('barcodes').valueChanges();\n    return this.barcodes;\n  }\n\n  addBarcode(barcode: Barcode) {\n    this.barcodesCollection.add(barcode);\n  }\n}\n</code></pre>\n\n<p><strong>COMPONENT.TS</strong> (only showing required part)</p>\n\n<pre><code>ngOnInit() {\n    this.barcodeService.getBarcodes().subscribe(barcodes =&gt; {\n      this.barcodes = barcodes;\n    });\n  }\n</code></pre>\n\n<p><strong>COMPONENT.HTML</strong></p>\n\n<pre><code>&lt;div *ngIf=\"barcodes.length &gt; 0;else noBarcodes\"&gt;\n        &lt;div *ngFor=\"let barcode of barcodes\"&gt;\n            &lt;a (click)=\"viewdet(barcode.id)\"&gt;&lt;table &gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;h3 class=\"big\"&gt;&lt;b&gt;{{barcode.vendor}}&lt;/b&gt;&lt;/h3&gt;&lt;/td&gt;\n                        &lt;td rowspan=\"3\"&gt;&lt;span&gt;&amp;#8250;&lt;/span&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;h3&gt;&lt;b&gt;Reel No:&lt;/b&gt; {{barcode.reelno}}&lt;/h3&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;h3&gt;&lt;b&gt;Date:&lt;/b&gt; {{barcode.date}}&lt;/h3&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n\n\n            &lt;/table&gt;&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "angular", "typescript"], "owner": {"reputation": 21, "user_id": 12056600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945d8847d57a4cdc500094253a232d14?s=128&d=identicon&r=PG&f=1", "display_name": "DigitalHelper", "link": "https://stackoverflow.com/users/12056600/digitalhelper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570608121, "creation_date": 1570608121, "question_id": 58299576, "link": "https://stackoverflow.com/questions/58299576/is-there-any-way-to-implement-mouseleave-in-ng5-slider-in-angular", "title": "Is there any way to implement mouseleave() in ng5-slider in Angular", "body": "<p>I want add mouseleave() to ng5-slider. Any suggestions please tell.</p>\n\n<p><code>&lt;ng5-slider [(value)]=\"sliderVal\" [(highValue)]=\"sliderHigh\" [options]=\"sliderOpt\"&gt;&lt;/ng5-slider&gt;</code></p>\n\n<p>I want something like:</p>\n\n<p><code>&lt;ng5-slider [(value)]=\"sliderVal\" [(highValue)]=\"sliderHigh\" [options]=\"sliderOpt\" (mouseleave)=\"func()\"&gt;&lt;/ng5-slider&gt;</code></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 3, "creation_date": 1570608411, "post_id": 58299571, "comment_id": 102962063, "body": "The language is inferring the correct type and indicating that  you have a logic error. If <code>currentBranchId === null</code> but <code>withDefaultBranch === false</code> then <code>null</code> will be returned."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1570608811, "post_id": 58299571, "comment_id": 102962252, "body": "You can&#39;t always get an ID return type because you&#39;ve specified one of the return types as a <code>MaybeID</code> type (<code>currentBrandId</code>)."}, {"owner": {"reputation": 736, "user_id": 5678644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b0529180721f3e3eafffa498fa2d30?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Frezzato", "link": "https://stackoverflow.com/users/5678644/denis-frezzato"}, "edited": false, "score": 1, "creation_date": 1570609643, "post_id": 58299571, "comment_id": 102962664, "body": "Why are you expecting to get a non-nullable return type by returning a nullable value?"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1570610235, "post_id": 58299571, "comment_id": 102962958, "body": "maybe you want to use <code>or</code>? <code>currentBranchId === null || withDefaultBranch === true</code>. Then it does what you want"}, {"owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1570610902, "post_id": 58299571, "comment_id": 102963350, "body": "@PierreDuc That would fix the type, but incorrect logic as it would always use default no matter if current has a value."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1570611070, "post_id": 58299571, "comment_id": 102963433, "body": "@FredyC right, but like Aluan Haddad already mentioned, because of the <code>withDefaultBranch</code> in the condition, the <code>currentBranchId </code> can still be <code>null</code> when returned. Like i proposed, it will only return the defaultBranch if <code>withDefaultBranch</code> is set to true. If you put it to false, it will not return it (only when there is no <code>currentBranchId</code>.   So the only way to fix it, is to change your logic, and it&#39;s hard to see what your logic is :)."}], "answers": [{"comments": [{"owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "edited": false, "score": 0, "creation_date": 1570611026, "post_id": 58299836, "comment_id": 102963410, "body": "I suppose you are right. Haven&#39;t realized there is actually the path when arg = false and then it can really return MaybeID. Oh well."}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": true, "score": 1, "last_activity_date": 1570609215, "creation_date": 1570609215, "answer_id": 58299836, "question_id": 58299571, "link": "https://stackoverflow.com/questions/58299571/different-return-type-based-on-boolean-argument/58299836#58299836", "title": "Different return type based on boolean argument", "body": "<p>The return type is correct. There are two return types, one is <code>string</code> the other <code>null</code> which fits the type <code>MaybeID</code> since <code>type ID = string</code>.</p>\n"}], "owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58299836, "answer_count": 1, "score": 0, "last_activity_date": 1570610819, "creation_date": 1570608093, "last_edit_date": 1570610819, "question_id": 58299571, "link": "https://stackoverflow.com/questions/58299571/different-return-type-based-on-boolean-argument", "title": "Different return type based on boolean argument", "body": "<p>I know there are a few similar-looking questions, but I haven't seen a solution there.</p>\n\n<pre><code>type ID = string\ntype MaybeID = ID | null\n\nconst defaultBranchId: ID = \"1\"\nconst currentBranchId: MaybeID = null\n\nexport function useBranchFilter1(withDefaultBranch = true) {\n  if (currentBranchId === null &amp;&amp; withDefaultBranch === true) {\n    return defaultBranchId\n  }\n  return currentBranchId\n} // &lt;-- infers to MaybeID return type\n</code></pre>\n\n<p>I am expecting to always get <code>ID</code> return type.</p>\n\n<p>Here is <a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=26&amp;pc=2#code/C4TwDgpgBAkgIlAvFAzsATgSwHYHMCwAUKJFALICGIARhPErAgD5TYCuANh0UQMYD22NFAAmEAGYVOwAELoK2XgAsYIgFyMGAIgCMWvoOG826dBGyz5ilevJVa9ZOy49CEAB5h+6YFHFtFYExBKDYUCDkFZQAxTA5gCHQdAAoAd0xgJTgJKXjI6wYMNggASigAbyIoKExxKGTjU3NLKJskRCdODigAMh6odMzsyWl85XbkItKKquqoM2ATbFEc0atlVVmAX1mFpahGswsxmyItqAB6C5rscUSUKGB+Oxo6BD30ZZIIVw8vHz8AV4QRCYQi6yUsXiiQATGkMllVnkIYV0MUShp6JVCNVavVDs0TqoJqwur1+oNESNka0SVMyti5vMIItPitqS1rJscVAdjyPssCccIdy+UQ-t5fP5AsFlmCTlCEugAMwAHgAKlAPAlsCIHtR+PwOBAFAA+eFDJGc5QaTWTNGlW1a9w6vWPB1QAD8mg0lFe9BmPLxDRMR2tbQ6nS45IGCOGuXDdIdDNm1QF7ITRJE212LP2QvDoqAA\" rel=\"nofollow noreferrer\">the playground link</a> with a few attempts I've tried - unsuccessfully.</p>\n\n<p>Feels like a simple thing, but I am expecting it can't work like that since it's based on runtime value.</p>\n"}, {"tags": ["angularjs", "typescript", "npm", "dependencies"], "answers": [{"tags": [], "owner": {"reputation": 6240, "user_id": 1226705, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8d828f8156ae1f184e2c367b465f426d?s=128&d=identicon&r=PG", "display_name": "GarfieldKlon", "link": "https://stackoverflow.com/users/1226705/garfieldklon"}, "is_accepted": true, "score": 0, "last_activity_date": 1571816111, "creation_date": 1571816111, "answer_id": 58517752, "question_id": 58299459, "link": "https://stackoverflow.com/questions/58299459/types-angular-resource-takes-old-version-of-types-angular/58517752#58517752", "title": "@types/angular-resource takes old version of @types/angular", "body": "<p>Solution was to delete the node_modules folder and manually add the dependencies again with npm add/install, and suddenly v 1.6.55 was gone. Just removing the node_modules folder and/or yarn.lock was not enough.</p>\n"}], "owner": {"reputation": 6240, "user_id": 1226705, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8d828f8156ae1f184e2c367b465f426d?s=128&d=identicon&r=PG", "display_name": "GarfieldKlon", "link": "https://stackoverflow.com/users/1226705/garfieldklon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 58517752, "answer_count": 1, "score": 1, "last_activity_date": 1571816111, "creation_date": 1570607623, "question_id": 58299459, "link": "https://stackoverflow.com/questions/58299459/types-angular-resource-takes-old-version-of-types-angular", "title": "@types/angular-resource takes old version of @types/angular", "body": "<p>In my package.json I have these entries among others:</p>\n\n<pre><code>\"devDependencies\": {\n        \"@types/angular\": \"1.6.56\",\n        \"@types/angular-resource\": \"1.5.15\"\n...\n</code></pre>\n\n<p>And in node_modules/@types/angular-resource/node_modules/@types/angular/package.json this:</p>\n\n<pre><code>    \"name\": \"@types/angular\",\n    \"version\": \"1.6.55\"\n</code></pre>\n\n<p>So there is a mismatch between those versions?\nangular-resource has this as dependency:</p>\n\n<pre><code>\"dependencies\": {\n        \"@types/angular\": \"*\"\n    }\n</code></pre>\n\n<p>So it matches every version. But why does it takes 1.6.55 when I specified 1.6.56?</p>\n\n<p>I'm not sure if that is the root cause of my problem when running tsc:</p>\n\n<pre><code>error TS2694: Namespace 'angular' has no exported member 'resource'.\n</code></pre>\n\n<p>And if so, how can I fix this?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1338, "user_id": 8120827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0646c9ea234df80d26c35e88b97d730?s=128&d=identicon&r=PG&f=1", "display_name": "Ga&#235;l S", "link": "https://stackoverflow.com/users/8120827/ga%c3%abl-s"}, "edited": false, "score": 0, "creation_date": 1570607180, "post_id": 58299266, "comment_id": 102961421, "body": "Can you print <code>this.props</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 1899, "user_id": 6450931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3tKb.jpg?s=128&g=1", "display_name": "Alberto Perez", "link": "https://stackoverflow.com/users/6450931/alberto-perez"}, "is_accepted": false, "score": 0, "last_activity_date": 1570608583, "creation_date": 1570608583, "answer_id": 58299694, "question_id": 58299266, "link": "https://stackoverflow.com/questions/58299266/a-textfiled-does-not-use-functions-on-props/58299694#58299694", "title": "a Textfiled does not use functions on props", "body": "<p>First of all, you have an error in the <code>onChange</code> o the <code>&lt;TextField /&gt;</code> because you are missing a <code>}</code> closing bracket, then you'll have to check if you are getting the <code>textInput</code> prop (If not, you're setting the default value that won't handle your event).</p>\n\n<pre><code>export type props = {\n    kind: 'Test'\n    textInput: (text: string) =&gt; void  \n}\n\nexport class KlassComponent extends Component&lt;props, {}&gt; {\n    const { kind, textInput } = this.props;\n\n    render() {\n        switch (.kind) {\n            case 'Test':\n                return (\n                    &lt;TextField\n                      onChange={e =&gt; textInput(e.target.value)}\n                    /&gt;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11752774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNj9Y.jpg?s=128&g=1", "display_name": "ponta", "link": "https://stackoverflow.com/users/11752774/ponta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570608583, "creation_date": 1570606885, "question_id": 58299266, "link": "https://stackoverflow.com/questions/58299266/a-textfiled-does-not-use-functions-on-props", "title": "a Textfiled does not use functions on props", "body": "<p>Doesn't a TextField recognise functions of props?</p>\n\n<p>This is a class component that takes a prop.\nthe prop includes a function. it is recognised out of text field. However \nWhen it in Textfield , \"onChange\" and onClick are unable to find textInput: (text: string).</p>\n\n<pre><code>export type props = {\n    kind: 'Test'\n    textInput: (text: string) =&gt; void  \n}\n\nexport class KlassComponent extends Component&lt;props, {}&gt; {\n\n    render() {\n        switch (this.props.kind) {\n            case 'Test':\n                return (\n                    &lt;TextField\n                onChange = { (e) =&gt; this.props.textInput(e.target.value)\n                    /&gt;\n        }\n    }\n}\n</code></pre>\n\n<p>Property 'textInput' does not exist on type '(Readonly&lt;{ kind: \"Test\";</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1570609347, "post_id": 58299230, "comment_id": 102962529, "body": "um, what is 1Lak+?"}, {"owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1570611508, "post_id": 58299230, "comment_id": 102963674, "body": "@pixelbits more than 100000 records."}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 1, "creation_date": 1570611666, "post_id": 58299230, "comment_id": 102963766, "body": "its the rendering that is taking a long time.  I would look into infinite scroll angular compoonents."}, {"owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1570612563, "post_id": 58299230, "comment_id": 102964257, "body": "@pixelbits - It would be great, if you share any example/reference link"}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1570612668, "post_id": 58299230, "comment_id": 102964316, "body": "<a href=\"https://www.npmjs.com/package/ngx-infinite-scroll\" rel=\"nofollow noreferrer\">npmjs.com/package/ngx-infinite-scroll</a>, when you find out the improvement, please share your findings. Demo: <a href=\"https://stackblitz.com/edit/ngx-infinite-scroll\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ngx-infinite-scroll</a>"}, {"owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1570687230, "post_id": 58299230, "comment_id": 102992722, "body": "@pixelbits I tried lazy load concept and it works fine for me."}], "owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570611914, "creation_date": 1570606760, "last_edit_date": 1570611914, "question_id": 58299230, "link": "https://stackoverflow.com/questions/58299230/code-execution-takes-more-time-in-angular", "title": "Code execution takes more time in Angular", "body": "<p>I have below line of code in my angular component and it takes more than 5 minutes when record count is more than 100000. </p>\n\n<pre><code>this.getGlobalRecordsCol.map(value =&gt; {\n        const dataCheck = this.retainPrevSelectedRecords.some(checkArr =&gt; checkArr.RecordId === value.RecordID\n          &amp;&amp; checkArr.Ctr === value.Ctr);\n        value.isDisabled = false;\n        value.Selected = dataCheck ? false : value.Selected;\n      });\n</code></pre>\n\n<p>Is it possible to optimize this logic to minimize the execution time.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 3763, "user_id": 1273882, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/e3HG4.jpg?s=128&g=1", "display_name": "Ankush Jain", "link": "https://stackoverflow.com/users/1273882/ankush-jain"}, "edited": false, "score": 0, "creation_date": 1570622792, "post_id": 58299161, "comment_id": 102969736, "body": "This issue might be due to the position of  &lt;ion-router-outlet/&gt;"}, {"owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "reply_to_user": {"reputation": 3763, "user_id": 1273882, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/e3HG4.jpg?s=128&g=1", "display_name": "Ankush Jain", "link": "https://stackoverflow.com/users/1273882/ankush-jain"}, "edited": false, "score": 0, "creation_date": 1570623236, "post_id": 58299161, "comment_id": 102969999, "body": "@AnkushJain I compared it to a new ionic project and it&#39;s generated in the same way. Don&#39;t see any issue. Can you please tell more where do you see the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1570646356, "creation_date": 1570646356, "answer_id": 58310325, "question_id": 58299161, "link": "https://stackoverflow.com/questions/58299161/ionic-4-broken-menu-and-content-styles-on-ios/58310325#58310325", "title": "Ionic 4: broken menu and content styles on ios", "body": "<p>So I copied the code from my project to a newly generated one and the bug doesn't appear. What caused it is still a mystery for me.</p>\n"}], "owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570646356, "creation_date": 1570606502, "last_edit_date": 1570619603, "question_id": 58299161, "link": "https://stackoverflow.com/questions/58299161/ionic-4-broken-menu-and-content-styles-on-ios", "title": "Ionic 4: broken menu and content styles on ios", "body": "<p>I have a problem which is better described in GIF:</p>\n\n<p><a href=\"https://i.stack.imgur.com/miRVH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miRVH.gif\" alt=\"the bug\"></a></p>\n\n<p>The parent page is \"Challenges\" and it contains a link to \"Challenge creation\". The bug happens when you go to that link and then open \"Challenges\" again (see the GIF).</p>\n\n<p>The real app is more complex and after a lot of time of debugging I tried to remove components/services/utils one by one and I ended up with a simplest app of two pages. The bug is still there. It happens only in \"ios\" mode. I think it's somehow affected by ionic animations. Maybe the menu is moved too far to the left when it hides and it pulls the content to the left as well.</p>\n\n<p>I tried:</p>\n\n<ul>\n<li>different browsers (btw it happens on a real device too)</li>\n<li>different computers</li>\n<li>to create a new ionic project with similar functionality of\ntwo pages (which works fine) and compare it to my project</li>\n</ul>\n\n<p>Nothing helped. Has anybody faced this bug?</p>\n\n<p><strong>Source code:</strong> <a href=\"https://github.com/i-chornyi/ios-menu-bug\" rel=\"nofollow noreferrer\">https://github.com/i-chornyi/ios-menu-bug</a></p>\n"}, {"tags": ["angular", "typescript", "file-upload"], "answers": [{"tags": [], "owner": {"reputation": 847, "user_id": 1512670, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/kYgqt.png?s=128&g=1", "display_name": "Chetan Laddha", "link": "https://stackoverflow.com/users/1512670/chetan-laddha"}, "is_accepted": false, "score": 0, "last_activity_date": 1570606577, "creation_date": 1570606577, "answer_id": 58299182, "question_id": 58299140, "link": "https://stackoverflow.com/questions/58299140/progressive-upload-file-in-angular/58299182#58299182", "title": "Progressive Upload File in Angular", "body": "<p>An alternative could be using <a href=\"https://github.com/kzrfaisal/angular-file-uploader\" rel=\"nofollow noreferrer\">https://github.com/kzrfaisal/angular-file-uploader</a>. \nYou can find more details at <a href=\"https://github.com/kzrfaisal/angular-file-uploader\" rel=\"nofollow noreferrer\">https://github.com/kzrfaisal/angular-file-uploader</a></p>\n"}], "owner": {"reputation": 283, "user_id": 10025862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kaMz8.jpg?s=128&g=1", "display_name": "Mostafa Saadatnia", "link": "https://stackoverflow.com/users/10025862/mostafa-saadatnia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570606577, "creation_date": 1570606405, "question_id": 58299140, "link": "https://stackoverflow.com/questions/58299140/progressive-upload-file-in-angular", "title": "Progressive Upload File in Angular", "body": "<p>in the <a href=\"https://angular.io/guide/http#listening-to-progress-events\" rel=\"nofollow noreferrer\">angular.io</a> site there is an uploader service uploading a file, but it's not complete class is there a rich class sample for uploading data with the best functionality and pattern contain progressive error Handling and set headers and etc ...?\nThe angular class suggested contains code below:</p>\n\n<pre><code>  private getEventMessage(event: HttpEvent&lt;any&gt;, file: File) {\n    switch (event.type) {\n      case HttpEventType.Sent:\n        return `Uploading file \"${file.name}\" of size ${file.size}.`;\n\n      case HttpEventType.UploadProgress:\n        // Compute and show the % done:\n        const percentDone = Math.round(100 * event.loaded / event.total);\n        return `File \"${file.name}\" is ${percentDone}% uploaded.`;\n\n      case HttpEventType.Response:\n        return `File \"${file.name}\" was completely uploaded!`;\n\n      default:\n        return `File \"${file.name}\" surprising upload event: ${event.type}.`;\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "regex", "angular", "typescript"], "comments": [{"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 0, "creation_date": 1570609060, "post_id": 58299008, "comment_id": 102962375, "body": "A one-liner would be <code>message.replace(&#47;\\*.*?\\*&#47;g, &#39;___&#39;);</code>."}], "answers": [{"tags": [], "owner": {"reputation": 441, "user_id": 2290271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrHoA.jpg?s=128&g=1", "display_name": "Sudipto Mukherjee", "link": "https://stackoverflow.com/users/2290271/sudipto-mukherjee"}, "is_accepted": true, "score": 0, "last_activity_date": 1570606791, "creation_date": 1570606791, "answer_id": 58299238, "question_id": 58299008, "link": "https://stackoverflow.com/questions/58299008/how-can-i-replace-the-text-between-two-delimiters-with-a-blank/58299238#58299238", "title": "How can I replace the text between two delimiters with a blank?", "body": "<pre><code>function myFunction() {\n  var str = \"This is *red* color\";\n  var startIndex = nthIndex(str,'*',1);\n  var endIndex = nthIndex(str,'*',2);\n  var output = str.replace(str.substring(startIndex, (endIndex+1)), \"_\");\n}\n\nfunction nthIndex(str, pat, n){\n    var L= str.length, i= -1;\n    while(n-- &amp;&amp; i++&lt;L){\n        i= str.indexOf(pat, i);\n        if (i &lt; 0) break;\n    }\n    return i;\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8991413, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qryMzg0n6nw/AAAAAAAAAAI/AAAAAAAAGsc/i--P1s8nRUo/photo.jpg?sz=128", "display_name": "Ande Mohit", "link": "https://stackoverflow.com/users/8991413/ande-mohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1570606501, "accepted_answer_id": 58299238, "answer_count": 1, "score": -4, "last_activity_date": 1570607145, "creation_date": 1570605841, "last_edit_date": 1570607145, "question_id": 58299008, "link": "https://stackoverflow.com/questions/58299008/how-can-i-replace-the-text-between-two-delimiters-with-a-blank", "closed_reason": "Needs details or clarity", "title": "How can I replace the text between two delimiters with a blank?", "body": "<p>I have a message, received via an input field. For example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>This is *red* colour.\n</code></pre>\n\n<p>I want to replace everything between the two asterisks with a blank line (\"___\") so the outcome would be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>This is ___ colour.\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570604965, "post_id": 58298702, "comment_id": 102960285, "body": "An array of tuples?"}], "answers": [{"tags": [], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "is_accepted": false, "score": 1, "last_activity_date": 1570604962, "creation_date": 1570604962, "answer_id": 58298794, "question_id": 58298702, "link": "https://stackoverflow.com/questions/58298702/typescript-datatable-array-type-exists/58298794#58298794", "title": "Typescript Datatable Array Type Exists?", "body": "<p>You can define your array type to always have 2 items where first one is specific string and second is number.</p>\n\n<pre><code>type Types = 'Memory' | 'CPU';\ntype DatabaseType = [Types, number];\n\nlet a: DatabaseType = [\"Memory\", 30];\n\n// not allowed\nlet b: DatabaseType = [\"Something\", 30];\n\n// Not allowed more than 2 items in array\nlet c: DatabaseType = [\"Memory\", 30, 50, \"Foo\"];\n\nlet data: DatabaseType[] = [\n  [\"Memory\", 50],\n  [\"CPU\", 20]\n]\n</code></pre>\n\n<p>Please see <a href=\"https://typescript-play.js.org/#code/FAFwngDgpgBAKpKBnGBeGByAslAtgewCcwMYAfTAYQAUBVDAblERgBEBDEdgI3aSgTQ0MANqDkAGhgA7AK65uUQgF0mwADZQQMdgC42nHnwEt0IgEQ4Cxc1IDMABlXBgAelcz829uvX4A7lAAJhpaMNz6HFy8-OLCFgDK+LhaABYAltIA5rYwjs5uHgByXjq+AcEw1rAgqezSMABMMOkgeCiZOoSE7GCh2gDGkYYxJkJmlnhEYLmOUgCsDlLmAGL4+OYFmtpBhsPRxuIiyvHAMKKT1jMLThJnFzS0uY1OwMpAA\" rel=\"nofollow noreferrer\">playground</a>.</p>\n"}], "owner": {"reputation": 3614, "user_id": 2115690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/toz3E.jpg?s=128&g=1", "display_name": "Ahmet Arslan", "link": "https://stackoverflow.com/users/2115690/ahmet-arslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570604962, "creation_date": 1570604567, "question_id": 58298702, "link": "https://stackoverflow.com/questions/58298702/typescript-datatable-array-type-exists", "title": "Typescript Datatable Array Type Exists?", "body": "<p>I want a type in typescript but can not generate or initialize it.\nIt must be below format but I do not know name of this type or can not find resource to get experience using it.</p>\n\n<pre><code>        data: [\n          ['Memory', 50],\n          ['CPU', 99]\n        ],\n</code></pre>\n\n<p>I saw a few usage, what is the name of this type and how to use it?</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-2019", "ng2-charts"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11571996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NhsLD0ULz4E/AAAAAAAAAAI/AAAAAAAAACo/P4FJzTYykOI/photo.jpg?sz=128", "display_name": "mikael hurtig", "link": "https://stackoverflow.com/users/11571996/mikael-hurtig"}, "edited": false, "score": 0, "creation_date": 1571158637, "post_id": 58377025, "comment_id": 103144259, "body": "&quot;its the 350 download sales&quot; that not working , I have hover over labels to show data."}], "tags": [], "owner": {"reputation": 136, "user_id": 8750979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab5a66a056e5d087f46dfda2786c514?s=128&d=identicon&r=PG&f=1", "display_name": "jalei005", "link": "https://stackoverflow.com/users/8750979/jalei005"}, "is_accepted": false, "score": 0, "last_activity_date": 1571068758, "last_edit_date": 1571068758, "creation_date": 1571056679, "answer_id": 58377025, "question_id": 58298514, "link": "https://stackoverflow.com/questions/58298514/ng2-chart-angular-doughnut-plugins-isent-a-know-property-of-canvas-text-ce/58377025#58377025", "title": "ng2-chart Angular: doughnut [plugins] isen&#39;t a know property of &#39;canvas&#39; TEXT CENTER", "body": "<p>You can just use the plugin in the options, then you don't need to use the attribute in HTML. I'm using the <code>pluginDataLabels</code> to show my labels.</p>\n\n<pre><code>chartOptions: ChartOptions = {\n...\nplugins: {\n   pluginDataLabels\n};\n</code></pre>\n\n<p>It doesn't even matter where to put the pluginDataLabels in my example. It will show in every Chart. If you want to avoid that, you can check my answer <a href=\"https://stackoverflow.com/questions/55622806/how-to-import-chart-js-chartjs-plugin-datalabels-npm-package-into-an-angular-7-p/57922660#57922660\">here</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 11571996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NhsLD0ULz4E/AAAAAAAAAAI/AAAAAAAAACo/P4FJzTYykOI/photo.jpg?sz=128", "display_name": "mikael hurtig", "link": "https://stackoverflow.com/users/11571996/mikael-hurtig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571159799, "creation_date": 1570603742, "last_edit_date": 1571159799, "question_id": 58298514, "link": "https://stackoverflow.com/questions/58298514/ng2-chart-angular-doughnut-plugins-isent-a-know-property-of-canvas-text-ce", "title": "ng2-chart Angular: doughnut [plugins] isen&#39;t a know property of &#39;canvas&#39; TEXT CENTER", "body": "<p><img src=\"https://i.stack.imgur.com/vFvKY.png\" alt=\"Text\">\n<img src=\"https://i.stack.imgur.com/7qFIX.png\" alt=\"Text\"></p>\n\n<blockquote>\n  <p>angular core 5.1.6 ng2-chart 1.6.0 visual studio 2019 community.. \n  the code works in stack-blitz as seen in picture.  but it complains\n  about plugins.. when I copy it to my project.  if I remove the\n  Plugins it works.. but no text in center.  is there another way to\n  get text in center that does not use plugins</p>\n</blockquote>\n\n<p>in otherwords want to run this code TYPESCRIPT\n<a href=\"https://i.stack.imgur.com/Z4u5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4u5k.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "local-storage", "command-line-interface"], "comments": [{"owner": {"reputation": 129, "user_id": 9881295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tjcFH.jpg?s=128&g=1", "display_name": "S. Kuiter", "link": "https://stackoverflow.com/users/9881295/s-kuiter"}, "edited": false, "score": 0, "creation_date": 1570602468, "post_id": 58298141, "comment_id": 102959093, "body": "<code>localStorage.setItem(&quot;tempuid&quot;,&quot;0&quot;);</code> the uid is stored as a string. Have you tried to convert it to a number like: <code>let uid = +localStorage.getItem(&quot;tempuid&quot;);</code>"}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "edited": false, "score": 0, "creation_date": 1570602635, "post_id": 58298141, "comment_id": 102959167, "body": "komal&#39;s answer did it. Thanks all of you for your time"}], "answers": [{"comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1570602551, "post_id": 58298173, "comment_id": 102959132, "body": "@Bravo yes it will work with any but better way would be to cast it as number"}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1570602605, "post_id": 58298173, "comment_id": 102959154, "body": "yes, it even works in javascript (not sure why I though it didn&#39;t)"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1570602804, "post_id": 58298173, "comment_id": 102959249, "body": "@Bravo you can get an idea even from error <code>An arithmetic operand must be of type &#39;any&#39;, &#39;number&#39;, &#39;bigint&#39;</code>"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1570603180, "post_id": 58298173, "comment_id": 102959420, "body": "@IngoB&#252;rk sry it was a typo just updated the ans thanks for pointing it out"}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": false, "score": 3, "last_activity_date": 1570603259, "last_edit_date": 1570603259, "creation_date": 1570602369, "answer_id": 58298173, "question_id": 58298141, "link": "https://stackoverflow.com/questions/58298141/how-to-use-increment-operator-inside-ngoninit/58298173#58298173", "title": "How to use Increment Operator inside Ngoninit()?", "body": "<p>Your <code>uid</code> is of type <code>string</code> try casting it to number or any</p>\n\n<p><strong>right way</strong> will be cast it to number </p>\n\n<pre><code>let uid = parseInt(localStorage.getItem(\"tempuid\"));\n          uid++;\n</code></pre>\n\n<p>Or you can rid of this error Using any</p>\n\n<pre><code>let uid:any = localStorage.getItem(\"tempuid\");\n      uid++;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1570603059, "post_id": 58298183, "comment_id": 102959360, "body": "This answer is different, but worse, because it throws away type information entirely."}], "tags": [], "owner": {"reputation": 692, "user_id": 11241667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9901803963e61cb4e185ee93b63f59?s=128&d=identicon&r=PG&f=1", "display_name": "Komal Sakhiya", "link": "https://stackoverflow.com/users/11241667/komal-sakhiya"}, "is_accepted": true, "score": -2, "last_activity_date": 1570602414, "creation_date": 1570602414, "answer_id": 58298183, "question_id": 58298141, "link": "https://stackoverflow.com/questions/58298141/how-to-use-increment-operator-inside-ngoninit/58298183#58298183", "title": "How to use Increment Operator inside Ngoninit()?", "body": "<p>You can Try this code. I hope it will helps you.       </p>\n\n<pre><code>  ngOnInit() {\n          if(!localStorage.getItem(\"tempuid\")) {\n            localStorage.setItem(\"tempuid\",\"0\");\n          }\n          let uid:any = localStorage.getItem(\"tempuid\");\n          uid++;\n          localStorage.setItem(\"tempuid\",uid);\n      }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3386, "user_id": 2585842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/simLK.jpg?s=128&g=1", "display_name": "Bilal Siddiqui", "link": "https://stackoverflow.com/users/2585842/bilal-siddiqui"}, "is_accepted": false, "score": 1, "last_activity_date": 1570602446, "creation_date": 1570602446, "answer_id": 58298195, "question_id": 58298141, "link": "https://stackoverflow.com/questions/58298141/how-to-use-increment-operator-inside-ngoninit/58298195#58298195", "title": "How to use Increment Operator inside Ngoninit()?", "body": "<p>Just parse the storage data into <code>Number</code>:</p>\n\n<pre><code>let uid = Number(localStorage.getItem(\"tempuid\"));\nuid++;\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58298183, "answer_count": 3, "score": 0, "last_activity_date": 1570603259, "creation_date": 1570602269, "question_id": 58298141, "link": "https://stackoverflow.com/questions/58298141/how-to-use-increment-operator-inside-ngoninit", "title": "How to use Increment Operator inside Ngoninit()?", "body": "<p>I am using increment operator to change a value of a variable inside ngoninit() but the compiler is giving me this error:</p>\n\n<pre><code>error TS2356: An arithmetic operand must be of type 'any', 'number', 'bigint' or an enum type.\n</code></pre>\n\n<p>My code inside ngoninit() : </p>\n\n<pre><code>  ngOnInit() {\n      if(!localStorage.getItem(\"tempuid\")) {\n        localStorage.setItem(\"tempuid\",\"0\");\n      }\n      let uid = localStorage.getItem(\"tempuid\");\n      uid++;\n      localStorage.setItem(\"tempuid\",uid);\n  }\n\n</code></pre>\n\n<p>I want to increment the value of \"uid\" or is there some other way to do this.\nThanks in Advance</p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vue-component", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 12541004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915bf1630c0b2f913e73dbbdb0a86da4?s=128&d=identicon&r=PG", "display_name": "Paolo Donato Navarro", "link": "https://stackoverflow.com/users/12541004/paolo-donato-navarro"}, "is_accepted": false, "score": 1, "last_activity_date": 1596754072, "creation_date": 1596754072, "answer_id": 63292788, "question_id": 58297759, "link": "https://stackoverflow.com/questions/58297759/module-augmentation-is-not-working-in-vue-file/63292788#63292788", "title": "Module augmentation is not working in .vue file", "body": "<p>Try to add types/*.d.ts to typeRoots in yout tsconfig</p>\n<p>Like this:</p>\n<pre><code>&quot;typeRoots&quot;: [\n        &quot;src/types&quot;\n    ],\n</code></pre>\n<p>(Normally I use @types to store my .d.ts files)</p>\n"}], "owner": {"reputation": 117, "user_id": 5813516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/971f6d12e5b3091e3f04516c3e47499a?s=128&d=identicon&r=PG&f=1", "display_name": "BabyCabbage", "link": "https://stackoverflow.com/users/5813516/babycabbage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1596754072, "creation_date": 1570600132, "question_id": 58297759, "link": "https://stackoverflow.com/questions/58297759/module-augmentation-is-not-working-in-vue-file", "title": "Module augmentation is not working in .vue file", "body": "<p>there is a module augmentation (<strong>types/test.d.ts</strong>):</p>\n\n<pre><code>import Vue from 'vue'\n\ndeclare module 'vue/types/vue' {\n  interface Vue {\n    $test: string\n  }\n}\n</code></pre>\n\n<p>And include it as (<strong>tsconfig.json</strong>):</p>\n\n<pre><code>// ...\n\"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\",\n    \"src/**/*.vue\",\n    \"tests/**/*.ts\",\n    \"tests/**/*.tsx\",\n    \"types/*.d.ts\"\n  ],\n// ...\n\n</code></pre>\n\n<p>And then, it works fine in any <strong>.ts</strong> file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZPo0y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZPo0y.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/3BV5i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3BV5i.png\" alt=\"enter image description here\"></a></p>\n\n<p>But it just gets a compile error in <strong>.vue</strong> file\n<a href=\"https://i.stack.imgur.com/vdJEL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vdJEL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Could anyone help me?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1570600061, "post_id": 58297650, "comment_id": 102958263, "body": "3. Don&#39;t use functions when your intention is to construct them rather than call them."}, {"owner": {"reputation": 4015, "user_id": 3130281, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X0JwQ.jpg?s=128&g=1", "display_name": "dodov", "link": "https://stackoverflow.com/users/3130281/dodov"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1570600208, "post_id": 58297650, "comment_id": 102958298, "body": "@PatrickRoberts yes, but I&#39;m writing a library and I want to support that, as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\" rel=\"nofollow noreferrer\">it&#39;s valid JavaScript</a>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1570600449, "post_id": 58297650, "comment_id": 102958366, "body": "@HristiyanDodov so you are asking how to write types that won&#39;t inhibit users who don&#39;t make use of the types? You might want to rethink this."}, {"owner": {"reputation": 4015, "user_id": 3130281, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X0JwQ.jpg?s=128&g=1", "display_name": "dodov", "link": "https://stackoverflow.com/users/3130281/dodov"}, "edited": false, "score": 0, "creation_date": 1570601143, "post_id": 58297650, "comment_id": 102958596, "body": "I just want to make TS accept a plain function where a class is expected. Classes are syntactic sugar and you can use them interchangeably with plain functions in JS. Since TS is a superset of JS, you should be able to do that there as well?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1570601590, "post_id": 58297650, "comment_id": 102958755, "body": "TS also has the ability to enforce semantically accurate JavaScript where it makes sense. One such example is using <code>class</code> to construct, and <code>function</code> to call. If you look at the <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">official documentation</a>, there is not a single place where they exemplify the use of a function as a constructor. Then why would you expect consumers of your library to do so? And while yes, it is valid JavaScript, so are several other concepts that are disallowed in TypeScript for various reasons."}, {"owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "edited": false, "score": 0, "creation_date": 1570601620, "post_id": 58297650, "comment_id": 102958766, "body": "do you have to call via new? wrap your constructors into factory functions <a href=\"https://www.typescriptlang.org/play/?ssl=16&amp;ssc=1&amp;pln=12&amp;pc=1#code/JYOwLgpgTgZghgYwgAgGKLAeygT2QbwFgAoZZACgGcwAuZaqUAcwBpkAbEOkAVwFsARtACUdOCBwkAviRKhIsRCgDCWKARJkQEAO4VqdBszadu-IVFHJxk4jOJzw0eEjQZsOADLBqG0sgBtUAATCAAPQzBGECYAXTp0BDVbexIYHhAk4EwQZCxE5PIk7DpVbCsCjz8yKAgwHihc9MywbNyqWnoo4w4uZF5BEWqyZFr6xv7dZGKoDpMQYQBuTWR7VOJ2Oo4fTsrcb18AXmGEdko6fPdcIvY4SkphsgQchh4Z-U6jGPmzQcsCexkKTCFgrZp0ZpZHIfSLRVi9X4WYTDNZAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 4015, "user_id": 3130281, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X0JwQ.jpg?s=128&g=1", "display_name": "dodov", "link": "https://stackoverflow.com/users/3130281/dodov"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1570602255, "post_id": 58297650, "comment_id": 102958993, "body": "@PatrickRoberts makes sense. So I guess then the answer for my use case is - I shouldn&#39;t support this pattern. But to answer the actual SO question - can this be achieved or not?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1570602997, "post_id": 58297650, "comment_id": 102959336, "body": "@HristiyanDodov <code>type Ctor = (new (st: string, ln: number) =&gt; any) | ((st: string, ln: number) =&gt; any);</code> is this all you asking about? If so it&#39;s trivial."}, {"owner": {"reputation": 2321, "user_id": 2692307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/90c925bd1bae5afde3a0cd56166ee222?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Bach", "link": "https://stackoverflow.com/users/2692307/lukas-bach"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1570629414, "post_id": 58297650, "comment_id": 102973643, "body": "As @AluanHaddad suggested: <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgMJgPZVRkBnMKAVwUymQG8BYAKGWRAgHdkAKAgLmQKlAHMANMgA2ILiCIBbAEbQAlFzggAnrQC+tMMoAOKdFgCyEMAAsMAE2QBeNp26F+Q0eKmyoc6wD5kS5QG5aWlBIWEQ9MgAZYAJKWnoAbVBzCAAPLh5+AF0ufWxcHhIyZAAfNDIjUwt1QJphYxFosBzIxutYumQEYTwuLrg8PHb6egR8wkKsWyb7XhBBETEGV3lKDQ61ATjkGCJFnZBSYFwp9Ic5p0WJGRXqGi21tSA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 4015, "user_id": 3130281, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X0JwQ.jpg?s=128&g=1", "display_name": "dodov", "link": "https://stackoverflow.com/users/3130281/dodov"}, "edited": false, "score": 0, "creation_date": 1570689996, "post_id": 58297650, "comment_id": 102993872, "body": "Could someone post it as an answer so I can mark it?"}], "owner": {"reputation": 4015, "user_id": 3130281, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X0JwQ.jpg?s=128&g=1", "display_name": "dodov", "link": "https://stackoverflow.com/users/3130281/dodov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570599307, "creation_date": 1570599307, "question_id": 58297650, "link": "https://stackoverflow.com/questions/58297650/how-to-mark-function-as-newable-how-to-create-a-type-that-expects-either-a-fun", "title": "How to mark function as newable / how to create a type that expects either a function or a class", "body": "<p>I have a list of constructors and my application calls <code>new</code> on all of them. Those constructors can either be plain functions or ES6 classes. I want to create a type that expects the same argument types from either a class constructor or a plain function.</p>\n\n<p>I tried this:</p>\n\n<pre><code>interface Ctor {\n  new (st: string, ln: number): any\n}\n\ninterface CtorList {\n  [index: string]: Ctor\n}\n\nlet list: CtorList = {\n  cls: class {\n    constructor (st: string, ln: number) {}\n  },\n  fun: function (st: string, ln: number) {\n\n  }\n}\n</code></pre>\n\n<p>But in the definition of <code>fun</code>, I get this error:</p>\n\n<blockquote>\n  <p>Type '(st: string, ln: number) => void' provides no match for the signature 'new (st: string, ln: number): any'.</p>\n</blockquote>\n\n<p>Check it <a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=16&amp;pc=2#code/JYOwLgpgTgZghgYwgAgMJgPZWQbwLABQyyIEA7sgBQDOYAXMrVKAOYA0yANiAyAK4BbAEbQAlAzggAnoQC+hQqEixEKdFgAywWrkLEA2qAAmEAB4MmrALoN1UOQoKcIYLtvppMULToC8uomQETmoGYLhqagDiYgQMECY+BC8qWgswZhB2Lh4SQREoUVx5QNk2PWQYPlyqkGTgeNSPSyyObl58sQCKktkgA\" rel=\"nofollow noreferrer\">in the playground</a>.</p>\n\n<p>So it seems to me like I have two options:</p>\n\n<ol>\n<li>Mark the function <code>fun</code> as newable</li>\n<li>Change the type of <code>Ctor</code> to also accept plain functions with the same parameters</li>\n</ol>\n\n<p>I'd prefer #2 because I wouldn't want to use type assertions or something similar on each and every function that is defined.</p>\n\n<p>How would I do that?</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine"], "comments": [{"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1571305043, "post_id": 58297595, "comment_id": 103199735, "body": "Have you checked any of the answers? Any feedback would be much appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "is_accepted": false, "score": 0, "last_activity_date": 1571203775, "creation_date": 1571203775, "answer_id": 58406292, "question_id": 58297595, "link": "https://stackoverflow.com/questions/58297595/angular-unit-testing-on-a-component-async-await-function-in-jasmine/58406292#58406292", "title": "Angular Unit Testing on a component async / await function in jasmine", "body": "<p>The return value from <code>create()</code> needs to be a promise.  Try the following:</p>\n\n<pre><code>it('should `present` the modal', () =&gt; {\n  modalControllerSpy.create.and.returnValue(Promise.resolve(modalSpy));\n\n  component.onFilterClicked();\n  fixture.detectChanges();\n\n  expect(modalControllerSpy.create).toHaveBeenCalled(); // success\n  expect(modalSpy.present).toHaveBeenCalled(); // should pass now\n});\n</code></pre>\n\n<p>See docs <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1571205275, "last_edit_date": 1571205275, "creation_date": 1571204879, "answer_id": 58406501, "question_id": 58297595, "link": "https://stackoverflow.com/questions/58297595/angular-unit-testing-on-a-component-async-await-function-in-jasmine/58406501#58406501", "title": "Angular Unit Testing on a component async / await function in jasmine", "body": "<p>I would refactor the test suite as follow:</p>\n\n<pre><code>// ...\n// create a valid response for ModalController#create according to the logic in controller where it is used\nconst modalObj = {\n  onDidDismiss: () =&gt; Promise.resolve({ res: { data: 'test-value1' } })\n};\n\n// ...\nbeforeEach(async () =&gt; {\n  // create a spy object with the methods you want to spy on\n  modalControllerSpy = jasmine.createSpyObj('ModalController', ['create', 'present']);\n\n  // mock the returned value from the service\n  modalControllerSpy.create.and.returnValue(modalObj);\n  modalControllerSpy.present.and.returnValue(Promise.resolve('test-value2'));\n\n  TestBed.configureTestingModule({\n    declarations: [FilterComponent],\n    providers: [\n      { provide: ModalController, useValue: modalControllerSpy },\n    ]\n  }).compileComponents();\n});\n// ... \n  it('should `present` the modal', () =&gt; {\n    component.onFilterClicked();\n    fixture.detectChanges();   // maybe you don't need this, check if the test passes without it\n\n    expect(modalControllerSpy.create).toHaveBeenCalled();\n    expect(modalControllerSpy.present).toHaveBeenCalled();\n    // you could add some additional checks here regarding to the returned values\n    // in the promises since they were mocked: 'test-value1' and 'test-value2'\n  });\n});\n// ...\n</code></pre>\n"}], "owner": {"reputation": 288, "user_id": 1043184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bebc747215a048d40ed036d758dd4b1?s=128&d=identicon&r=PG", "display_name": "otakuProgrammer", "link": "https://stackoverflow.com/users/1043184/otakuprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1571205275, "creation_date": 1570598888, "last_edit_date": 1571204245, "question_id": 58297595, "link": "https://stackoverflow.com/questions/58297595/angular-unit-testing-on-a-component-async-await-function-in-jasmine", "title": "Angular Unit Testing on a component async / await function in jasmine", "body": "<p>I wanted to test if the the object returned by the service calls a specific method.</p>\n\n<p>The component method is <code>async</code> since the service will return a <code>Promise</code>.</p>\n\n<p>Here's the component code.</p>\n\n<pre><code>// component\nexport class FilterComponent {\n  constructor(\n    private modalController: ModalController,\n  ) { }\n\n  async onFilterClicked() {\n    const modal = await this.modalController.create({\n      component: FilterModalPage,\n    });\n\n    modal.onDidDismiss().then(res =&gt; {\n      if (res.data) {\n        // do something\n      }\n    });\n\n    await modal.present();\n  }\n}\n</code></pre>\n\n<p>and this is my test</p>\n\n<pre><code>describe('FilterComponent', () =&gt; {\n  let fixture: ComponentFixture&lt;FilterComponent&gt;;\n  let component: FilterComponent;\n  let modalControllerSpy;\n  let modalSpy;\n\n  beforeEach(async () =&gt; {\n    modalControllerSpy = jasmine.createSpyObj('modalController', ['create']);\n    modalSpy = jasmine.createSpyObj('modal', ['present']);\n\n    TestBed.configureTestingModule({\n      declarations: [FilterComponent],\n      providers: [\n        { provide: ModalController, useValue: modalControllerSpy },\n      ]\n    }).compileComponents();\n  });\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(FilterComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  describe('onFilterClicked', () =&gt; {\n    it('should `present` the modal', () =&gt; {\n      modalControllerSpy.create.and.returnValue(modalSpy);\n\n      component.onFilterClicked();\n      fixture.detectChanges();\n\n      expect(modalControllerSpy.create).toHaveBeenCalled(); // success\n      expect(modalSpy.present).toHaveBeenCalled(); // fail :( how to test `present` is called????\n    });\n  });\n});\n</code></pre>\n\n<p>I created spy object on the first <code>beforeEach</code> callback.</p>\n\n<pre><code>modalControllerSpy = jasmine.createSpyObj('modalController', ['create']);\nmodalSpy = jasmine.createSpyObj('modal', ['present']);\n</code></pre>\n\n<p>I wanted to test if my <code>modalSpy</code> calls <code>present</code> function.\nPerhaps I did something wrong here.</p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 1, "creation_date": 1570598338, "post_id": 58297464, "comment_id": 102957786, "body": "you can do it in the same way as you&#39;r doing in <code>ngOnInit</code> in <code>app.component</code> like <code>error =&gt; (this.errorMsg = error)</code> but why you are trying to catch error at two place?you should catch it in <code>service</code> only"}, {"owner": {"reputation": 141, "user_id": 8602122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcb9665d40f226590cb11a0430f580d?s=128&d=identicon&r=PG&f=1", "display_name": "Ashruti", "link": "https://stackoverflow.com/users/8602122/ashruti"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1570598701, "post_id": 58297464, "comment_id": 102957873, "body": "in service.ts file i define catch and (this.errorMsg=error) is in my app.component.ts file using this file i display data and error message in  client side."}, {"owner": {"reputation": 3678, "user_id": 6635464, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-3-MQqEclDxc/AAAAAAAAAAI/AAAAAAAAAG8/2aHLRykABiw/photo.jpg?sz=128", "display_name": "ngShravil.py", "link": "https://stackoverflow.com/users/6635464/ngshravil-py"}, "edited": false, "score": 0, "creation_date": 1570598841, "post_id": 58297464, "comment_id": 102957906, "body": "Possible duplicate : <a href=\"https://stackoverflow.com/questions/46019771/catching-errors-in-angular-httpclient/46021824\" title=\"catching errors in angular httpclient\">stackoverflow.com/questions/46019771/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1087, "user_id": 6310260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m1hmG.jpg?s=128&g=1", "display_name": "Mises", "link": "https://stackoverflow.com/users/6310260/mises"}, "is_accepted": false, "score": 4, "last_activity_date": 1572962236, "last_edit_date": 1572962236, "creation_date": 1570598965, "answer_id": 58297609, "question_id": 58297464, "link": "https://stackoverflow.com/questions/58297464/how-to-solve-catch-error-in-observable-in-angular-8/58297609#58297609", "title": "How to solve catch error in Observable in angular 8?", "body": "<p>Best way to catch error on observable is:</p>\n\n<pre><code>this.http.get&lt;user[]&gt;(this.url).pipe(\n   tap(),\n   catchError(err =&gt; { return this.errorHandler(err) }\n)\n</code></pre>\n\n<p>If <code>this.http.get()</code> is an Promise lave it like You did in Your code <code>.catch(...)</code> is ok. Try to have <code>catchError(...)</code> at the end of pipe or before <code>finalize(..)</code> if You use it.</p>\n\n<p>Before Observables had no <code>.pipe()</code> and You where chaining operations like in Promises so they change name <code>.then()</code> to i think <code>flatMap()</code> and <code>.catch()</code> to <code>catchError()</code> So programmer know are it is Observable or Promise.</p>\n"}, {"comments": [{"owner": {"reputation": 429, "user_id": 7712038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08911371b8fb59c66307b268bbb71a03?s=128&d=identicon&r=PG&f=1", "display_name": "WitnessTruth", "link": "https://stackoverflow.com/users/7712038/witnesstruth"}, "edited": false, "score": 3, "creation_date": 1590100180, "post_id": 58297775, "comment_id": 109560720, "body": "Hi there. I have about the same code that you posted in this answer, but the catchError() won&#39;t work. It simply doesnt throw anything even if the return from server is code 500."}], "tags": [], "owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "is_accepted": true, "score": 12, "last_activity_date": 1570600208, "creation_date": 1570600208, "answer_id": 58297775, "question_id": 58297464, "link": "https://stackoverflow.com/questions/58297464/how-to-solve-catch-error-in-observable-in-angular-8/58297775#58297775", "title": "How to solve catch error in Observable in angular 8?", "body": "<p>You can use <strong><code>catchError</code></strong> in <strong><code>rxjs/operators</code></strong> for this. \nTry it as follows.</p>\n\n<pre><code>import { catchError } from 'rxjs/operators';\n\nexport class DemoService {\n\n    getuserdetails(): Observable&lt;user[]&gt; {\n        return this.http.get&lt;user[]&gt;(this.url)\n            .pipe(catchError(this.errorHandler))\n    }\n    errorHandler(error: HttpErrorResponse) {\n        return Observable.throw(error.message || \"server error.\");\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10702940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C0CmTcI5ODw/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iFwPOY5MxKKyH-iULXAhfYFHthag/mo/photo.jpg?sz=128", "display_name": "Ninoos Al Katoni", "link": "https://stackoverflow.com/users/10702940/ninoos-al-katoni"}, "is_accepted": false, "score": 3, "last_activity_date": 1581992554, "last_edit_date": 1581992554, "creation_date": 1581992458, "answer_id": 60272870, "question_id": 58297464, "link": "https://stackoverflow.com/questions/58297464/how-to-solve-catch-error-in-observable-in-angular-8/60272870#60272870", "title": "How to solve catch error in Observable in angular 8?", "body": "<pre><code>   import { Observable, throwError } from 'rxjs';\n   import { catchError, } from 'rxjs/operators';\n\n\n    return this.http.get&lt;user[]&gt;(this.url).pipe(catchError(this.errorHandler))\n\n      errorHandler(error: HttpErrorResponse) {\n        return throwError(error.message || \"server error.\");\n      }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5834, "user_id": 3451964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e694631237d8a033bdaf67847dc37b82?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3451964/david"}, "is_accepted": false, "score": 3, "last_activity_date": 1593155397, "creation_date": 1593155397, "answer_id": 62589700, "question_id": 58297464, "link": "https://stackoverflow.com/questions/58297464/how-to-solve-catch-error-in-observable-in-angular-8/62589700#62589700", "title": "How to solve catch error in Observable in angular 8?", "body": "<p>in the last version of rxjs you should use:</p>\n<pre><code>...\nreturn return this.http.get&lt;user[]&gt;(this.url).subscribe((r:Author)=&gt;console.log(&quot;GOOD&quot;),err=&gt;console.log(&quot;ERROR))\n...\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 8602122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcb9665d40f226590cb11a0430f580d?s=128&d=identicon&r=PG&f=1", "display_name": "Ashruti", "link": "https://stackoverflow.com/users/8602122/ashruti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32241, "favorite_count": 4, "accepted_answer_id": 58297775, "answer_count": 4, "score": 14, "last_activity_date": 1593155397, "creation_date": 1570598172, "last_edit_date": 1570598938, "question_id": 58297464, "link": "https://stackoverflow.com/questions/58297464/how-to-solve-catch-error-in-observable-in-angular-8", "title": "How to solve catch error in Observable in angular 8?", "body": "<p>I do error handler code, but I got error in catch. undefined method. </p>\n\n<p>This is my serivce.ts code.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpErrorResponse } from \"@angular/common/http\";\nimport { user } from \"./user\";\nimport { Observable } from \"rxjs\";\nimport \"rxjs/add/operator/catch\";\nimport \"rxjs/add/Observable/throw\";\n@Injectable({\n  providedIn: \"root\"\n})\nexport class DemoService {\n  private url: string = \"/assets/demo/user.json\";\n  constructor(private http: HttpClient) {}\n\n  getuserdetails(): Observable&lt;user[]&gt; {\n    return this.http.get&lt;user[]&gt;(this.url).catch(this.errorHandler);\n  }\n  errorHandler(error: HttpErrorResponse) {\n    return Observable.throw(error.message || \"server error.\");\n  }\n}\n</code></pre>\n\n<p>This is my app.component.ts file code</p>\n\n<pre><code> public userdetails = [];\n  public errorMsg;\n  constructor(private user: DemoService) {}\n  ngOnInit() {\n    this.user\n      .getuserdetails()\n      .subscribe(\n        $data =&gt; (this.userdetails = $data),\n        error =&gt; (this.errorMsg = error)\n      );\n  } \n</code></pre>\n\n<p>I got error in catch. and error message is Property 'catch' does not exist on type 'Observable'.</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "angular8"], "comments": [{"owner": {"reputation": 2410, "user_id": 1241992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/265b8132fba0e44da0b2a510d2654f39?s=128&d=identicon&r=PG", "display_name": "Afraz Ali", "link": "https://stackoverflow.com/users/1241992/afraz-ali"}, "edited": false, "score": 0, "creation_date": 1570597814, "post_id": 58297362, "comment_id": 102957666, "body": "I do not want to use a fake service, I am looking for a way to somehow fake the call to the actual service or create a fake in the test using Jasmine and use it to return data."}, {"owner": {"reputation": 2410, "user_id": 1241992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/265b8132fba0e44da0b2a510d2654f39?s=128&d=identicon&r=PG", "display_name": "Afraz Ali", "link": "https://stackoverflow.com/users/1241992/afraz-ali"}, "edited": false, "score": 0, "creation_date": 1570598084, "post_id": 58297362, "comment_id": 102957721, "body": "I think the problem is that component.ngOnInit(); is not called when tests are executed. If I call it manually and don&#39;t mark my test as fakeAsync or Async then the tests pass."}], "answers": [{"comments": [{"owner": {"reputation": 2410, "user_id": 1241992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/265b8132fba0e44da0b2a510d2654f39?s=128&d=identicon&r=PG", "display_name": "Afraz Ali", "link": "https://stackoverflow.com/users/1241992/afraz-ali"}, "edited": false, "score": 0, "creation_date": 1570599482, "post_id": 58297469, "comment_id": 102958093, "body": "Thanks for your reply. I can&#39;t compile some part of the code that you posted and I am not sure if I should be able to import them from somewhere.  createSpyObj([&#39;getUsers&#39;]); is this a function you have defined somewhere? Also, I am not sure about schemas: [ NO_ERRORS_SCHEMA ] and TestBed.createComponent(TransferComponent);   Do I need NO_ERRORS_SCHEMA and TransferComponent?"}, {"owner": {"reputation": 2410, "user_id": 1241992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/265b8132fba0e44da0b2a510d2654f39?s=128&d=identicon&r=PG", "display_name": "Afraz Ali", "link": "https://stackoverflow.com/users/1241992/afraz-ali"}, "edited": false, "score": 0, "creation_date": 1570599793, "post_id": 58297469, "comment_id": 102958190, "body": "Sorry, my bad! I am new to Angular and did not realize that createSpyObj was a function in Jasmine. I changed it to jasmine.createSpyObj([&quot;getUsers&quot;]); Now the code compiles!"}, {"owner": {"reputation": 2410, "user_id": 1241992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/265b8132fba0e44da0b2a510d2654f39?s=128&d=identicon&r=PG", "display_name": "Afraz Ali", "link": "https://stackoverflow.com/users/1241992/afraz-ali"}, "edited": false, "score": 0, "creation_date": 1570600997, "post_id": 58297469, "comment_id": 102958549, "body": "This code is working perfectly! Thanks a lot. Can you please elaborate one thing for me to remove my confusion? Why are the imports empty in the configureTestingModule even though the actual service depends on HttpClient? Is it because in the test we are totally using a fake service?"}, {"owner": {"reputation": 364, "user_id": 12095191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k47PO.jpg?s=128&g=1", "display_name": "Chund", "link": "https://stackoverflow.com/users/12095191/chund"}, "edited": false, "score": 0, "creation_date": 1570601956, "post_id": 58297469, "comment_id": 102958888, "body": "Yes that is right. You do not need the import, since you are not really calling the getUsers function and therefore do not need its dependencies"}, {"owner": {"reputation": 392, "user_id": 1227309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa97007268612f05c1e0c0304d7a9ddf?s=128&d=identicon&r=PG", "display_name": "MS_AU", "link": "https://stackoverflow.com/users/1227309/ms-au"}, "reply_to_user": {"reputation": 364, "user_id": 12095191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k47PO.jpg?s=128&g=1", "display_name": "Chund", "link": "https://stackoverflow.com/users/12095191/chund"}, "edited": false, "score": 0, "creation_date": 1570654120, "post_id": 58297469, "comment_id": 102985259, "body": "Sorry I was merging some of my code with your example and missed the imports. @RonaldHund is correct - for the tests to create an instance of <code>HomeComponent</code> it needs to know how to provide any dependencies. Originally you had the real <code>UserService</code> set as the provider in your testing module. <code>UserService</code> has its own dependency on <code>HttpClient</code>, hence the need to import <code>HttpClientModule</code>. The revised version says to <code>useValue: userServiceSpy</code> (so anytime something asks for the <code>UserService</code>, use the spy instead). There is no longer anything depending on <code>HttpClient</code> - so no imports required."}], "tags": [], "owner": {"reputation": 392, "user_id": 1227309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa97007268612f05c1e0c0304d7a9ddf?s=128&d=identicon&r=PG", "display_name": "MS_AU", "link": "https://stackoverflow.com/users/1227309/ms-au"}, "is_accepted": true, "score": 0, "last_activity_date": 1570653152, "last_edit_date": 1570653152, "creation_date": 1570598184, "answer_id": 58297469, "question_id": 58297362, "link": "https://stackoverflow.com/questions/58297362/how-to-fake-service-injected-in-a-component-that-makes-http-calls/58297469#58297469", "title": "How to fake service injected in a component that makes HTTP calls?", "body": "<p>You should be able to avoid the use of <code>fakeAsync</code> altogether. I believe in your case you are calling <code>fixture.detectChanges()</code> prior to setting up your spy - which is why the 'real' service is being called.</p>\n\n<p>Create your <code>UserService</code> spy in your test and register it as a provider to the <code>HomeComponent</code>:</p>\n\n<pre><code>describe('HomeComponent', () =&gt; {\n  let comp: HomeComponent;\n  let fixture: ComponentFixture&lt;HomeComponent&gt;;\n\n  let userServiceSpy: SpyObj&lt;UserService&gt;;\n\n  beforeEach(async(() =&gt; {\n    userServiceSpy= createSpyObj(['getUsers']);\n\n    TestBed.configureTestingModule({\n      imports: [],\n      declarations: [ HomeComponent ],\n      schemas: [ NO_ERRORS_SCHEMA ]\n    })\n    .overrideComponent(HomeComponent , {\n      set: {\n        providers: [\n          { provide: UserService, useValue: userServiceSpy }\n        ]\n      }\n    })\n    .compileComponents()\n      .then(() =&gt; {\n        fixture = TestBed.createComponent(HomeComponent);\n        comp = fixture.componentInstance;\n    });\n  }));\n\n  beforeEach(() =&gt; {\n    userServiceSpy.getUsers.and.returnValue(of(FakeData.users));\n    fixture.detectChanges();\n  });\n\n  ...\n</code></pre>\n"}], "owner": {"reputation": 2410, "user_id": 1241992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/265b8132fba0e44da0b2a510d2654f39?s=128&d=identicon&r=PG", "display_name": "Afraz Ali", "link": "https://stackoverflow.com/users/1241992/afraz-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 58297469, "answer_count": 1, "score": 1, "last_activity_date": 1570653152, "creation_date": 1570597484, "last_edit_date": 1570600740, "question_id": 58297362, "link": "https://stackoverflow.com/questions/58297362/how-to-fake-service-injected-in-a-component-that-makes-http-calls", "title": "How to fake service injected in a component that makes HTTP calls?", "body": "<p>I am new to Angular and trying to learn unit testing. I have a very simple component, that depends on a service (<strong>UserService</strong>). In the <strong>ngOnInit()</strong> life cycle hook, I am calling a method of the service and storing the data it returns in a property. In my view, I have a list bound to this property. </p>\n\n<p>This is the code of my component.</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { UserService } from \"../services/user.service\";\nimport { User } from \"./models/user\";\n\n@Component({\n selector: \"app-home\",\n templateUrl: \"./home.component.html\",\n styleUrls: [\"./home.component.css\"]\n})\nexport class HomeComponent implements OnInit {\n users: User[] = [];\n constructor(private userService: UserService) {}\n\n ngOnInit() {\n   this.userService.getUsers().subscribe(x =&gt; {\n     this.users = x;\n   });\n }\n}\n</code></pre>\n\n<p>This is the HTML</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let user of users\" class=\"user-item\"&gt;{{ user.name }}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>User service looks like this</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { User } from \"../home/models/user\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class UserService {\n  private baseUrl = \"https://jsonplaceholder.typicode.com\";\n  constructor(private http: HttpClient) {}\n\n  getUsers() {\n    return this.http.get&lt;User[]&gt;(`${this.baseUrl}/users`);\n  }\n}\n</code></pre>\n\n<p>Everything works as expected. I am trying to write some unit tests for this component. I have created some fake data</p>\n\n<pre><code>import { User } from \"../home/models/user\";\n\nexport const FakeData = {\n  users: &lt;User[]&gt;[\n    {\n      id: 1,\n      name: \"User 1\",\n      username: \"User1\",\n      email: \"User1@fakemail.com\",\n      phone: \"123 456 789\",\n      website: \"afraz.com\"\n    },\n    {\n      id: 1,\n      name: \"User 2\",\n      username: \"User2\",\n      email: \"User2@fakemail.com\",\n      phone: \"123 456 789\",\n      website: \"afraz.com\"\n    }\n  ]\n};\n</code></pre>\n\n<p>These are the tests that I have added</p>\n\n<pre><code>import {\n  async,\n  ComponentFixture,\n  TestBed,\n  fakeAsync,\n  flush\n} from \"@angular/core/testing\";\nimport { HttpClientModule } from \"@angular/common/http\";\n\nimport { HomeComponent } from \"./home.component\";\nimport { UserService } from \"../services/user.service\";\nimport { of } from \"rxjs\";\nimport { FakeData } from \"../fakes/fake-data\";\nimport { By } from \"@angular/platform-browser\";\n\ndescribe(\"HomeComponent\", () =&gt; {\n  let component: HomeComponent;\n  let fixture: ComponentFixture&lt;HomeComponent&gt;;\n  let userService: UserService;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [HttpClientModule],\n      declarations: [HomeComponent],\n      providers: [UserService]\n    }).compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(HomeComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n\n    // Mock the user service\n    userService = TestBed.get(UserService);\n    spyOn(userService, \"getUsers\").and.returnValue(of(FakeData.users));\n  });\n\n  afterEach(() =&gt; {\n    fixture.destroy();\n    component = null;\n  });\n\n  it(\"should create component\", () =&gt; {\n    expect(component).toBeTruthy();\n  });\n\n  it(\"should get 'Users' from the service\", fakeAsync(() =&gt; {\n    fixture.whenStable().then(() =&gt; {\n      expect(component.users.length).toEqual(2);\n    });\n  }));\n\n  it(\"should bind 'Users' to the view\", fakeAsync(() =&gt; {\n    fixture.whenStable().then(() =&gt; {\n      const userList = fixture.debugElement.queryAll(By.css(\".user-item\"));\n      expect(userList.length).toEqual(2);\n    });\n  }));\n});\n</code></pre>\n\n<p>Now here is where I am confused, I am getting following error in the output</p>\n\n<p><em>'Spec 'HomeComponent should bind 'Users' to the view' has no expectations.'</em></p>\n\n<p><em>'Spec 'HomeComponent should get 'Users' from the service' has no expectations.'</em></p>\n\n<p>The problem is that if I use <strong>Async</strong> instead of <strong>fakeAsync</strong> then the actual User Service is called, and I do not want to do that. My expectation is that since I have the following line of code </p>\n\n<p><code>spyOn(userService, \"getUsers\").and.returnValue(of(FakeData.users));</code></p>\n\n<p>in the <strong>beforeEach()</strong> block, therefore the actual code should not be executed and instead this hard coded data should be returned. Can anyone please help and explain what am I missing?</p>\n\n<p><strong>UPDATE: Here is my final working code of the tests.</strong> Thanks for the quick help! Hopefully it will help someone else as well :)</p>\n\n<pre><code>import { async, ComponentFixture, TestBed } from \"@angular/core/testing\";\n\nimport { HomeComponent } from \"./home.component\";\nimport { UserService } from \"../services/user.service\";\nimport { of } from \"rxjs\";\nimport { FakeData } from \"../fakes/fake-data\";\nimport { By } from \"@angular/platform-browser\";\n\ndescribe(\"HomeComponent\", () =&gt; {\n  let component: HomeComponent;\n  let fixture: ComponentFixture&lt;HomeComponent&gt;;\n  let userServiceSpy: jasmine.SpyObj&lt;UserService&gt;;\n\n  beforeEach(async(() =&gt; {\n    userServiceSpy = jasmine.createSpyObj([\"getUsers\"]);\n\n    TestBed.configureTestingModule({\n      imports: [],\n      declarations: [HomeComponent],\n      providers: [{ provide: UserService, useValue: userServiceSpy }]\n    }).compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(HomeComponent);\n    component = fixture.componentInstance;\n    userServiceSpy.getUsers.and.returnValue(of(FakeData.users));\n    fixture.detectChanges();\n  });\n\n  afterEach(() =&gt; {\n    fixture.destroy();\n    component = null;\n  });\n\n  it(\"should create component\", () =&gt; {\n    expect(component).toBeTruthy();\n  });\n\n  it(\"should have 'Users' populated\", () =&gt; {\n    expect(component.users.length).toEqual(2);\n  });\n\n  it(\"should bind 'Users' to the view\", () =&gt; {\n    const userList = fixture.debugElement.queryAll(By.css(\".user-item\"));\n    expect(userList.length).toEqual(2);\n  });\n});\n</code></pre>\n"}]