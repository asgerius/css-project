[{"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "edited": false, "score": 0, "creation_date": 1463010869, "post_id": 37175071, "comment_id": 61884807, "body": "I&#39;m not using nodejs at all. Does that make a difference?"}, {"owner": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "edited": false, "score": 0, "creation_date": 1463011627, "post_id": 37175071, "comment_id": 61884991, "body": "alright. let me be more clear. I am using nodejs <b>only</b> during development to load code. The actual program will not have nodejs on the server. Does that make a difference? It is a web application running on ASP.NET."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "edited": false, "score": 0, "creation_date": 1463014394, "post_id": 37175071, "comment_id": 61885632, "body": "It makes a difference because the type lookup needs to match the runtime lookup. If your runtime location is not something under <code>node_modules</code> then the you need to load with full relative path. Which is what you already figured out \ud83c\udf39"}, {"owner": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "edited": false, "score": 0, "creation_date": 1463045960, "post_id": 37175071, "comment_id": 61899181, "body": "So do I need to make each piece as a separate project, compile them into node modules, and then host them somewhere so I can install them like node modules? I&#39;m a bit confused. How should they get to the <code>node_module</code> folder? Do I just use <code>gulp</code> to move the files in there?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1463010764, "creation_date": 1463010764, "answer_id": 37175071, "question_id": 37174771, "link": "https://stackoverflow.com/questions/37174771/difficulty-determining-how-to-use-external-modules-in-typescript/37175071#37175071", "title": "difficulty determining how to use external modules in typescript", "body": "<blockquote>\n  <p>But if I do not scope them like this, the only other way to get these interfaces and classes into another project is to literally copy them over and make them part of the entire program file hierarchy, or do excessive and obtuse file pathing (such as import '../../../../../../../../../{file}') and I really want to make them more portable.</p>\n</blockquote>\n\n<p>The module should be made a <code>node_module</code>. Covered here : <a href=\"http://www.typescriptlang.org/docs/handbook/typings-for-npm-packages.html\" rel=\"nofollow\">http://www.typescriptlang.org/docs/handbook/typings-for-npm-packages.html</a> and here : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html</a></p>\n"}], "owner": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 37175071, "answer_count": 1, "score": 0, "last_activity_date": 1463010764, "creation_date": 1463008529, "last_edit_date": 1463010012, "question_id": 37174771, "link": "https://stackoverflow.com/questions/37174771/difficulty-determining-how-to-use-external-modules-in-typescript", "title": "difficulty determining how to use external modules in typescript", "body": "<p>I have an application that I've written in typescript, and a few parts of it I want to use in another application. My immediate go to thought was to package those pieces up in an external module.</p>\n\n<p>I'm having a very hard time figuring out how to do this right; the problem seems to be that if I package the classes and interfaces up, I'm unable to get another typescript application to recognize them unless I split off the interfaces into their own <code>*.d.ts</code> files and scope them with a namespace, like this...</p>\n\n<h2>identity.d.ts</h2>\n\n<pre><code>declare namespace mod {\n   export interface IIdentity { /* ... */ }\n   export class Identity implements IIdentity {}\n}\n</code></pre>\n\n<p>and then the implementation...</p>\n\n<h2>identity.ts</h2>\n\n<pre><code>import 'mod';\n</code></pre>\n\n<p>It works fine if I do it this way, but it introduces a few problems - mostly because this <em>exact</em> design is spoken out as a bad one on the typescript documentation. But if I do not scope them like this, the only other way to get these interfaces and classes into another project is to literally copy them over and make them part of the entire program file hierarchy, or do excessive and obtuse file pathing (such as <code>import '../../../../../../../../../{file}'</code>) and I really want to make them more portable.</p>\n\n<p>Is there anything else I can do? How is the correct way to wrap them into external modules without having to define everything in two places, and still make them callable?</p>\n\n<p>Basically I really don't want this;\n<a href=\"https://i.stack.imgur.com/w4LMx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4LMx.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "file-upload", "angular2-http"], "comments": [{"owner": {"reputation": 2888, "user_id": 3555300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7112ac796e7b182256ac77ab9724d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiang YD", "link": "https://stackoverflow.com/users/3555300/jiang-yd"}, "edited": false, "score": 0, "creation_date": 1463018208, "post_id": 37174759, "comment_id": 61886549, "body": "the FormData is not supported now. I can see a todo comment <code>&#47;&#47; TODO: support URLSearchParams | FormData | Blob | ArrayBuffer</code> in <code>Request</code> class"}, {"owner": {"reputation": 767, "user_id": 1041612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ca967fd47dbe417374357adf75400?s=128&d=identicon&r=PG", "display_name": "acastano", "link": "https://stackoverflow.com/users/1041612/acastano"}, "edited": false, "score": 0, "creation_date": 1476214538, "post_id": 37174759, "comment_id": 67249333, "body": "Doing what you have now with angular 2 should work"}, {"owner": {"reputation": 559, "user_id": 6805788, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XdX18Iwp0P0/AAAAAAAAAAI/AAAAAAAAAT8/wkBV4gzRJY8/photo.jpg?sz=128", "display_name": "Darin Cardin", "link": "https://stackoverflow.com/users/6805788/darin-cardin"}, "edited": false, "score": 1, "creation_date": 1490973954, "post_id": 37174759, "comment_id": 73366074, "body": "just to note, headers.delete(&quot;Content-Type&quot;) is very important for file upload. i was doing this: headers.set(&quot;Content-Type&quot;, &quot;&quot;) , but that will cause angular to append the multipart/form-data string with a comma(which will make it malformed. I&#39;ve spent all day looking for this solution. thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 1041612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ca967fd47dbe417374357adf75400?s=128&d=identicon&r=PG", "display_name": "acastano", "link": "https://stackoverflow.com/users/1041612/acastano"}, "edited": false, "score": 2, "creation_date": 1476214584, "post_id": 37177574, "comment_id": 67249357, "body": "No longer needed to use XMLHttpRequest. It works with http"}, {"owner": {"reputation": 1289, "user_id": 209609, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8b80c151594206b529c969a7f2cfcede?s=128&d=identicon&r=PG", "display_name": "surya", "link": "https://stackoverflow.com/users/209609/surya"}, "edited": false, "score": 9, "creation_date": 1477411499, "post_id": 37177574, "comment_id": 67751530, "body": "gist with example <a href=\"https://gist.github.com/Toxicable/1c736ed16c95bcdc7612e2c406b5ce0f\" rel=\"nofollow noreferrer\">gist.github.com/Toxicable/1c736ed16c95bcdc7612e2c406b5ce0f</a>"}, {"owner": {"reputation": 744, "user_id": 4988608, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4zZPe.gif?s=128&g=1", "display_name": "fxlemire", "link": "https://stackoverflow.com/users/4988608/fxlemire"}, "reply_to_user": {"reputation": 1289, "user_id": 209609, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8b80c151594206b529c969a7f2cfcede?s=128&d=identicon&r=PG", "display_name": "surya", "link": "https://stackoverflow.com/users/209609/surya"}, "edited": false, "score": 0, "creation_date": 1481734068, "post_id": 37177574, "comment_id": 69498150, "body": "Many thanks for the link @surya, it worked like a charm!"}, {"owner": {"reputation": 1503, "user_id": 5078433, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35c3a2720b2baf9b285d99d8f8c59bef?s=128&d=identicon&r=PG&f=1", "display_name": "Motassem MK", "link": "https://stackoverflow.com/users/5078433/motassem-mk"}, "edited": false, "score": 0, "creation_date": 1483004474, "post_id": 37177574, "comment_id": 69955627, "body": "you also might wanna check this answer: <a href=\"http://stackoverflow.com/questions/36352405/file-upload-with-angular2-to-rest-api/39862337#39862337\" title=\"file upload with angular2 to rest api\">stackoverflow.com/questions/36352405/&hellip;</a>"}, {"owner": {"reputation": 5510, "user_id": 451221, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/knawH.png?s=128&g=1", "display_name": "Sreekumar P", "link": "https://stackoverflow.com/users/451221/sreekumar-p"}, "edited": false, "score": 0, "creation_date": 1501572283, "post_id": 37177574, "comment_id": 77823760, "body": "its not an open issue now, available in latest angular"}], "tags": [], "owner": {"reputation": 22195, "user_id": 5612697, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/GPZTK.jpg?s=128&g=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5612697/ankit-singh"}, "is_accepted": true, "score": 12, "last_activity_date": 1478588855, "last_edit_date": 1495540484, "creation_date": 1463028827, "answer_id": 37177574, "question_id": 37174759, "link": "https://stackoverflow.com/questions/37174759/how-do-you-post-a-formdata-object-in-angular-2/37177574#37177574", "title": "How do you POST a FormData object in Angular 2?", "body": "\n\n<p>It's an <a href=\"https://github.com/angular/http/issues/75\" rel=\"noreferrer\">Open Isuue</a> on Angular2 Git Repository, and there is also a <a href=\"https://github.com/angular/angular/pull/7260\" rel=\"noreferrer\">Pull Request</a> waiting to be merged, hope that it will be merged soon.</p>\n\n<hr>\n\n<p><strong>Alternatively,</strong></p>\n\n<p>You can use <a href=\"http://www.w3schools.com/ajax/ajax_xmlhttprequest_create.asp\" rel=\"noreferrer\"><strong>XMLHttpRequest</strong></a> Object directly, for that.</p>\n\n<p>And don't forget to set the header</p>\n\n<pre><code>xhr.setRequestHeader(\"enctype\", \"multipart/form-data\");\n\n// IE workaround for Cache issues\nxhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\nxhr.setRequestHeader(\"Cache-Control\", \"no-store\");\nxhr.setRequestHeader(\"Pragma\", \"no-cache\");\n</code></pre>\n\n<p>on the <code>XMLHttpRequest</code> that you make.</p>\n\n<hr>\n\n<p><strong>Similar Questions:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/35985347/how-to-upload-file-in-angular2\">How to upload file in Angular2</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/35399617/angular-2-file-upload-from-input-type-file\">Angular 2 File upload from input type=file</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/32423348/angular2-post-uploaded-file\">Angular2 post uploaded file</a></p>\n"}, {"tags": [], "owner": {"reputation": 5638, "user_id": 491436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7f135fc2f9806c62f37cb777f3adbbaa?s=128&d=identicon&r=PG", "display_name": "cobolstinks", "link": "https://stackoverflow.com/users/491436/cobolstinks"}, "is_accepted": false, "score": 5, "last_activity_date": 1484760021, "creation_date": 1484760021, "answer_id": 41725644, "question_id": 37174759, "link": "https://stackoverflow.com/questions/37174759/how-do-you-post-a-formdata-object-in-angular-2/41725644#41725644", "title": "How do you POST a FormData object in Angular 2?", "body": "<p>I know this has been marked answered and is pretty old, however I had an issue posting the FormData object to an OpenIdConnect AuthServer, and the file upload examples above weren't what I was looking for.</p>\n\n<p>Here is my service that gets an OpenIdAuthToken:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, RequestOptions, Headers, URLSearchParams} from '@angular/http'\nimport { OpenIdTokenRequest, SmartData } from '../model/openid-token-request';\nimport { OpenIdToken } from '../model/openid-token';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/Rx';\nimport { Observable } from 'rxjs';\n\n@Injectable()\n\nexport class TokenService {\n\n    constructor(private _http: Http) { }\n\n    getToken(requestData: OpenIdTokenRequest, smartData: SmartData) {\n        let _urlParams = new URLSearchParams();\n        _urlParams.append('code', requestData.code);\n        _urlParams.append('grant_type', requestData.grantType);\n        _urlParams.append('redirect_uri', requestData.redirectUri);\n        _urlParams.append('client_id', requestData.clientId);\n\n        let _url = smartData.tokenUri;\n        let _options = this.getTokenPostOptions();\n\n        return this._http.post(_url, _urlParams, _options)\n            .map(response =&gt; &lt;OpenIdToken&gt;response.json())\n    }\n\n    private getTokenPostOptions(): RequestOptions {\n\n        let headers = new Headers({ 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' });\n        let options = new RequestOptions({ headers: headers });\n\n        return options;\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26511, "user_id": 88204, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/23ed258730d5bc9526140ee261b2bea3?s=128&d=identicon&r=PG", "display_name": "James Lawruk", "link": "https://stackoverflow.com/users/88204/james-lawruk"}, "edited": false, "score": 0, "creation_date": 1509993906, "post_id": 41743193, "comment_id": 81237284, "body": "For me, the important line missing was:  headers.set(&#39;Accept&#39;, &#39;application/json&#39;);"}, {"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 3, "creation_date": 1512038171, "post_id": 41743193, "comment_id": 82099755, "body": "Note that this is for and old version of Http which is now (5.x) deprecated. You should use <code>HttpClient</code> from <code>@angular&#47;common&#47;http</code>."}, {"owner": {"reputation": 736, "user_id": 5186626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7D0bZ.jpg?s=128&g=1", "display_name": "Renato Francia", "link": "https://stackoverflow.com/users/5186626/renato-francia"}, "edited": false, "score": 1, "creation_date": 1519405227, "post_id": 41743193, "comment_id": 84912329, "body": "Using angular 5.2.3 and &quot;UPD: Angular 5 - HttpClient + Typescript&quot; solution worked for me for upload *.mp3 files. On the backend, I used Multer on NodeJS"}], "tags": [], "owner": {"reputation": 1295, "user_id": 4465100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DjaqM9KNFCg/AAAAAAAAAAI/AAAAAAAAAvc/rqde4yAXg9Y/photo.jpg?sz=128", "display_name": "Dhruvan Ganesh", "link": "https://stackoverflow.com/users/4465100/dhruvan-ganesh"}, "is_accepted": false, "score": 29, "last_activity_date": 1512044342, "last_edit_date": 1512044342, "creation_date": 1484833188, "answer_id": 41743193, "question_id": 37174759, "link": "https://stackoverflow.com/questions/37174759/how-do-you-post-a-formdata-object-in-angular-2/41743193#41743193", "title": "How do you POST a FormData object in Angular 2?", "body": "<p>Template:</p>\n\n<pre><code>&lt;label class=\"btn btn-primary\"&gt;\n  &lt;input type=\"file\" style=\"display: none;\" multiple=\"true\" (change)=\"fileChange($event)\" accept=\".xml\"&gt;\n  &lt;span&gt;Click Me!&lt;/span&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p><strong>UPD: Angular 5 - HttpClient + Typescript</strong></p>\n\n<pre><code>onFileUpload(event: EventTarget) {\n\n  const eventObj: MSInputMethodContext = &lt;MSInputMethodContext&gt;event;\n  const target: HTMLInputElement = &lt;HTMLInputElement&gt;eventObj.target;\n  const files: FileList = target.files;\n\n  const formData: FormData = new FormData();\n\n  for (let i = 0; i &lt; files.length; i++) {\n    formData.append('file', files[i]);\n  }\n\n  // POST\n  this.httpClient.post&lt;AnalyzedData&gt;(uploadUrl, formData).subscribe(...);\n}\n</code></pre>\n\n<p><strong>old Http lib - before Angular 4.3</strong>:</p>\n\n<pre><code>fileChange(event) {\n    let files = event.target.files;\n        if (files.length &gt; 0) {\n        let formData: FormData = new FormData();\n        for (let file of files) {\n             formData.append('files', file, file.name);\n        }\n        let headers = new Headers();\n        headers.set('Accept', 'application/json');\n        let options = new RequestOptions({ headers: headers });\n        this.http.post(uploadURL, formData, options)\n            .map(res =&gt; res.json())\n            .catch(error =&gt; Observable.throw(error))\n            .subscribe(\n            data =&gt; {\n                // Consume Files\n                // ..\n                console.log('uploaded and processed files');\n            },\n            error =&gt; console.log(error),\n            () =&gt; {\n                this.sleep(1000).then(() =&gt;\n                    // .. Post Upload Delayed Action\n                )\n            });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2570, "user_id": 2803344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76214150c1d5f73dc3b4579a0ddccca8?s=128&d=identicon&r=PG&f=1", "display_name": "Belter", "link": "https://stackoverflow.com/users/2803344/belter"}, "is_accepted": false, "score": 1, "last_activity_date": 1503657317, "creation_date": 1503657317, "answer_id": 45879500, "question_id": 37174759, "link": "https://stackoverflow.com/questions/37174759/how-do-you-post-a-formdata-object-in-angular-2/45879500#45879500", "title": "How do you POST a FormData object in Angular 2?", "body": "<p>I solved this problem, don't need <code>content-type</code> at all.</p>\n\n<p>See here, <a href=\"https://stackoverflow.com/a/45879409/2803344\">https://stackoverflow.com/a/45879409/2803344</a></p>\n\n<p>Also see here to check how to set <code>headers</code>, <a href=\"https://stackoverflow.com/questions/34464108/angular2-set-headers-for-every-request\">Angular2 - set headers for every request</a></p>\n\n<p>2017.8.25</p>\n"}], "owner": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94846, "favorite_count": 14, "accepted_answer_id": 37177574, "answer_count": 4, "score": 42, "last_activity_date": 1519545944, "creation_date": 1463008415, "last_edit_date": 1519545944, "question_id": 37174759, "link": "https://stackoverflow.com/questions/37174759/how-do-you-post-a-formdata-object-in-angular-2", "title": "How do you POST a FormData object in Angular 2?", "body": "<p>I need to upload a file and send some json along with it, I have this function:</p>\n\n<pre><code>POST_formData(url, data) {\n        var headers = new Headers(), authtoken = localStorage.getItem('authtoken');\n\n        if (authtoken) {\n            headers.append(\"Authorization\", 'Token ' + authtoken)\n        }\n\n        headers.append(\"Accept\", 'application/json');\n        headers.delete(\"Content-Type\");\n\n        var requestoptions = new RequestOptions({\n            method: RequestMethod.Post,\n            url: this.apiURL + url,\n            headers: headers,\n            body: data\n        })\n\n        return this.http.request(new Request(requestoptions))\n\n        .map((res: Response) =&gt; {\n            if (res) {\n                return { status: res.status, json: res.json() }\n            }\n        })\n    }\n</code></pre>\n\n<p>My issue is, if I set the <code>content-type</code> to \"<code>multipart/form-data</code>\" my server complains about the boundaries, if I remove the <code>content-type</code> header completely, my server complains that it \"<code>text/plain</code>\" a supported media type.</p>\n\n<p>So, how do you send FormData with angular2?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 3396, "user_id": 1510754, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6aaf2c6b55d5479a738266d96f8a5c5?s=128&d=identicon&r=PG", "display_name": "conceptdeluxe", "link": "https://stackoverflow.com/users/1510754/conceptdeluxe"}, "edited": false, "score": 0, "creation_date": 1536797896, "post_id": 37174598, "comment_id": 91557513, "body": "A comprehensible and up-to-date article explaining the <code>AsyncSubject</code>, <code>BehaviorSubject</code> and <code>ReplaySubject</code> can be found here: <a href=\"https://medium.com/@luukgruijs/understanding-rxjs-behaviorsubject-replaysubject-and-asyncsubject-8cc061f1cfc0\" rel=\"nofollow noreferrer\">medium.com/@luukgruijs/&hellip;</a>"}, {"owner": {"reputation": 918, "user_id": 4695378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/in7rB.jpg?s=128&g=1", "display_name": "DKebler", "link": "https://stackoverflow.com/users/4695378/dkebler"}, "edited": false, "score": 0, "creation_date": 1578073108, "post_id": 37174598, "comment_id": 105332138, "body": "I found this to be a clear simple (no angular/TS)  explanation about the three Subjects with live code to play with <a href=\"https://coryrylan.com/blog/rxjs-observables-versus-subjects\" rel=\"nofollow noreferrer\">coryrylan.com/blog/rxjs-observables-versus-subjects</a>"}, {"owner": {"reputation": 918, "user_id": 4695378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/in7rB.jpg?s=128&g=1", "display_name": "DKebler", "link": "https://stackoverflow.com/users/4695378/dkebler"}, "edited": false, "score": 0, "creation_date": 1578074191, "post_id": 37174598, "comment_id": 105332558, "body": "Also as of rxjs 6 there is shareReply operator see comments here. <a href=\"https://stackoverflow.com/questions/41730542/how-to-convert-an-observable-to-a-replaysubject-in-rxjs\" title=\"how to convert an observable to a replaysubject in rxjs\">stackoverflow.com/questions/41730542/&hellip;</a>, docs here <a href=\"https://www.learnrxjs.io/operators/multicasting/sharereplay.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/multicasting/sharereplay.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1498061245, "post_id": 37174766, "comment_id": 76346608, "body": "Can you explain &quot;Subscribe as normal&quot;? Is there any case where subscription doesnt work?"}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "reply_to_user": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1498070400, "post_id": 37174766, "comment_id": 76351780, "body": "I meant that I don&#39;t need to show how you subscribe to this ReplaySubject, as you don&#39;t need to do anything special on the subscription side, just subscribe and you&#39;ll get the last value."}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1498115774, "post_id": 37174766, "comment_id": 76368392, "body": "Okay cool. I had a situation where <code>BehaviorSubject</code> subsription didnt work but <code>ReplaySubject</code> did. Was trying to understand why."}, {"owner": {"reputation": 948, "user_id": 2159669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/5CNY6.jpg?s=128&g=1", "display_name": "default_noob_network", "link": "https://stackoverflow.com/users/2159669/default-noob-network"}, "edited": false, "score": 3, "creation_date": 1498845972, "post_id": 37174766, "comment_id": 76685718, "body": "I&#39;m still very new to this Rx stuff and observables (aren&#39;t we all at this point?!) but this answer helped me quite a bit. For anyone in my position... I originally chose a <code>ReplaySubject</code> (opposed to <code>BehaviorSubject</code>) because you don&#39;t need to initialize a <code>ReplaySubject</code> with a value.  But subscribing to a <code>ReplaySubject</code> observable by default gives you all values that were broadcast during its lifetime. initialiazing the <code>ReplaySubject</code> with a buffer size of 1 like in @tibbus answer worked for me!"}], "tags": [], "owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "is_accepted": false, "score": 17, "last_activity_date": 1501626810, "last_edit_date": 1501626810, "creation_date": 1463008501, "answer_id": 37174766, "question_id": 37174598, "link": "https://stackoverflow.com/questions/37174598/how-to-get-last-value-when-subscribing-to-an-observable/37174766#37174766", "title": "How to get last value when subscribing to an Observable?", "body": "<p>\nYou can use the <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md\" rel=\"noreferrer\">ReplaySubject</a> to always get the last value of the Observer, something like this :</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@Injectable()\nexport class SearchService {\n\n  private searchResultSource = new ReplaySubject&lt;string&gt;(1);\n\n  setSearchResults(_searchResult: string): void {\n      this.searchResultSource.next(_searchResult);\n  }\n}\n</code></pre>\n\n<p>And just subscribe as normal.<br>\nA more advanced <a href=\"https://stackoverflow.com/questions/34104277/caching-results-with-angular2-http-service/36413003#36413003\">example</a> can be found here : <a href=\"https://stackoverflow.com/questions/34104277/caching-results-with-angular2-http-service/36413003#36413003\">caching results with angular2 http service</a></p>\n"}, {"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 59, "last_activity_date": 1536798032, "last_edit_date": 1536798032, "creation_date": 1463028147, "answer_id": 37177445, "question_id": 37174598, "link": "https://stackoverflow.com/questions/37174598/how-to-get-last-value-when-subscribing-to-an-observable/37177445#37177445", "title": "How to get last value when subscribing to an Observable?", "body": "\n\n<p><code>BehaviorSubject</code> immediately emits the last value to new subscribers:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@Injectable()\nexport class SearchService {\n\n  private searchResultSource = new BehaviorSubject&lt;string&gt;('');\n\n  setSearchResults(_searchResult: string): void {\n      this.searchResultSource.next(_searchResult);\n  }\n}\n</code></pre>\n\n<p><code>ReplaySubject</code> emits all previous events to new subscribers.</p>\n"}], "owner": {"reputation": 1179, "user_id": 4459619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9c5244cae81f609789666d5d941de624?s=128&d=identicon&r=PG&f=1", "display_name": "kdu", "link": "https://stackoverflow.com/users/4459619/kdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26205, "favorite_count": 7, "accepted_answer_id": 37177445, "answer_count": 2, "score": 36, "last_activity_date": 1536798032, "creation_date": 1463007365, "last_edit_date": 1501629378, "question_id": 37174598, "link": "https://stackoverflow.com/questions/37174598/how-to-get-last-value-when-subscribing-to-an-observable", "title": "How to get last value when subscribing to an Observable?", "body": "\n\n<p>I have two Angular2 components which need to share data via a service:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@Injectable()\nexport class SearchService {\n  private searchResultSource = new Subject&lt;string&gt;()\n  searchResult$ = this.searchResultSource.asObservable()\n\n  setSearchResults(_searchResult: string): void {\n    this.searchResultSource.next(_searchResult)\n  }\n}\n</code></pre>\n\n<p>Suppose <code>ComponentA</code> is rendered and it emits an event via <code>SearchService.setSearchResults</code>. Then the user navigates to <code>ComponentB</code>, which also subscribes to <code>searchResult$</code>. However, <code>ComponentB</code> will never observe the event emitted by <code>ComponentA</code> because it was not subscribed to <code>searchResult$</code> at the time <code>ComponentA</code> emitted an event, as it did not exist.</p>\n\n<p>How can I create an <code>Observable</code> which emits the last event to every new subscriber?</p>\n"}, {"tags": ["facebook-graph-api", "typescript", "angular", "angular-cli"], "comments": [{"owner": {"reputation": 2888, "user_id": 3555300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7112ac796e7b182256ac77ab9724d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiang YD", "link": "https://stackoverflow.com/users/3555300/jiang-yd"}, "edited": false, "score": 0, "creation_date": 1463018703, "post_id": 37173583, "comment_id": 61886676, "body": "how about add <code>script</code> element in html statically."}, {"owner": {"reputation": 592, "user_id": 1352564, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/91f400dac64d3326f42c12f3f48fb371?s=128&d=identicon&r=PG", "display_name": "Perseoh", "link": "https://stackoverflow.com/users/1352564/perseoh"}, "reply_to_user": {"reputation": 2888, "user_id": 3555300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7112ac796e7b182256ac77ab9724d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiang YD", "link": "https://stackoverflow.com/users/3555300/jiang-yd"}, "edited": false, "score": 0, "creation_date": 1463040573, "post_id": 37173583, "comment_id": 61895245, "body": "After some testing it looks related to ng2 lifecycle. If I set the init function on the Constructor of fbService I can access the FB global from any button click event or so once all dom is loaded. If I try to access it from a component OnInit event FB is not yet defined."}], "answers": [{"tags": [], "owner": {"reputation": 2492, "user_id": 625581, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wqD2L.jpg?s=128&g=1", "display_name": "Mart&#237;n Coll", "link": "https://stackoverflow.com/users/625581/mart%c3%adn-coll"}, "is_accepted": false, "score": 1, "last_activity_date": 1472520437, "creation_date": 1472520437, "answer_id": 39217507, "question_id": 37173583, "link": "https://stackoverflow.com/questions/37173583/how-to-access-fb-global-from-angular2-service/39217507#39217507", "title": "How to access FB global from Angular2 service?", "body": "<p>The key is in the call to <code>this.zone.run(callback)</code> to wrap the callback and reinsert it in the Angular 2 lifecycle.</p>\n\n<p>I initialize the SDK in the service constructor, which may introduce some delay compared to loading it right away. Haven't found a workaround yet.</p>\n\n<p>I still haven't decided if I'll provide an accessor to <code>FB</code> once initialized or wrapper methods, I'll leave that to you.</p>\n\n<pre><code>@Injectable()\nexport class FbsdkService {\n    public ready = new BehaviorSubject&lt;boolean&gt;(false);\n\n    constructor(\n        private zone: NgZone) {\n        this.loadSdkAsync(() =&gt; {\n            FB.init({\n                appId: \"XXXXXXXXXXX\",\n                status: false,\n                xfbml: false,\n                version: \"v2.7\"\n            });\n            this.ready.next(true);\n        });\n    }\n\n    loadSdkAsync(callback: () =&gt; void) {\n        window.fbAsyncInit = () =&gt; this.zone.run(callback);\n        // Load the Facebook SDK asynchronously\n        const s = \"script\";\n        const id = \"facebook-jssdk\";\n        var js, fjs = document.getElementsByTagName(s)[0];\n        if (document.getElementById(id)) return;\n        js = document.createElement(s); js.id = id;\n        js.src = \"//connect.facebook.net/en_US/sdk.js\";\n        fjs.parentNode.insertBefore(js, fjs)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 641, "user_id": 2940502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xZUY.jpg?s=128&g=1", "display_name": "Zdravko Kolev", "link": "https://stackoverflow.com/users/2940502/zdravko-kolev"}, "is_accepted": false, "score": 1, "last_activity_date": 1512136939, "creation_date": 1512136939, "answer_id": 47595081, "question_id": 37173583, "link": "https://stackoverflow.com/questions/37173583/how-to-access-fb-global-from-angular2-service/47595081#47595081", "title": "How to access FB global from Angular2 service?", "body": "<p>I had similar issue and this source helped me a lot- <a href=\"https://resources.oreilly.com/examples/9781786464125/tree/edcc78b7161906adef9138d9e11da73c10e63a9c/BuildingCross-PlatformDesktopApplicationswithElectron_Code/Chapter%2004/Code/src\" rel=\"nofollow noreferrer\">Building CrossPlatform Desktop Applications with Electron</a></p>\n\n<pre><code>import { Injectable, NgZone } from '@angular/core';\nimport { BehaviorSubject } from \"rxjs/Rx\";\nimport { Http } from '@angular/http';\n\ndeclare var FB: any;\n\n@Injectable()\nexport class FbsdkService {\n    public ready = new BehaviorSubject&lt;boolean&gt;(false);\n    public endpointBase = 'http://graph.facebook.com';\n    constructor(private zone: NgZone, private http: Http) {\n    }\n\n    public loadSdk() {\n        this.loadAsync(() =&gt; { });\n    }\n\n    public loadAsync(callback: () =&gt; void) {\n        window.fbAsyncInit = () =&gt; this.zone.run(callback);\n\n        const s = \"script\";\n        const id = \"facebook-jssdk\";\n        var js: any, fjs = document.getElementsByTagName(s)[0];\n        if (document.getElementById(id)) return;\n        js = document.createElement(s);\n        js.id = id;\n        js.src = \"//connect.facebook.net/en_US/sdk.js\";\n        fjs.parentNode.insertBefore(js, fjs);\n    }\n\n    public getLoginStatus() {\n        FB.getLoginStatus((response: any) =&gt; { console.log(response); });\n    }\n\n    public getProfile() {\n        return new Promise((resolve, reject) =&gt; {\n            let fields = [\n                \"id\", \"name\", \"email\", \"cover\", \"birthday\"\n            ];\n            FB.api(`/me?fields=${fields.toString()}`, (response: any) =&gt; {\n                resolve(response);\n            });\n        });\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 592, "user_id": 1352564, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/91f400dac64d3326f42c12f3f48fb371?s=128&d=identicon&r=PG", "display_name": "Perseoh", "link": "https://stackoverflow.com/users/1352564/perseoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2512, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1512136939, "creation_date": 1463002083, "last_edit_date": 1463002751, "question_id": 37173583, "link": "https://stackoverflow.com/questions/37173583/how-to-access-fb-global-from-angular2-service", "title": "How to access FB global from Angular2 service?", "body": "<p>I'm trying to use FB SDK from an Angular2 project created with the new angular CLI. I created the following service to initialize the Facebook library, added fbsdk typings and everything compiles but I cant access the FB global variable from anywhere in the project but the \"winwow.fbAsyncInit\" function. I can check FB object from console perfectly, but cant access it from NG2 code. \u00bfAny idea of where the problem might be?</p>\n\n<pre><code>import { Injectable, OnInit } from '@angular/core'\nimport { FACEBOOK_APPID } from '../constants'\n\n@Injectable()\nexport class fbService implements OnInit{\n  constructor(){}\n  ngOnInit(){\n    if (!window.fbAsyncInit) {\n        window.fbAsyncInit = function () {\n            FB.init({\n                appId: FACEBOOK_APPID,\n                xfbml: false,\n                version: 'v2.6'\n            });\n            FB.api(\"/me\",null,()=&gt;{})\n            console.log(FB)\n        };\n    }\n    this.initFB()           \n}\ninitFB(){\n  var js, id = 'facebook-jssdk', ref = document.getElementsByTagName('script')[0];\n    if (document.getElementById(id)) {\n        return;\n    }\n    js = document.createElement('script');\n    js.id = id;\n    js.async = true;\n    js.src = \"//connect.facebook.net/en_US/sdk.js\";\n    ref.parentNode.insertBefore(js, ref);\n}\ngetPost(page:string){\n     FB.api(`/${page}/feed?limit=1`,null,(response)=&gt;{console.log(response)})\n}\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "edited": false, "score": 0, "creation_date": 1463003243, "post_id": 37173627, "comment_id": 61882321, "body": "Thanks for the advice. Unfortunately, when I change it like that, I get a typescript compilation error &quot;cannot find module &#39;@angular/http&#39;."}, {"owner": {"reputation": 31950, "user_id": 407704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fecf35ed3fd247e5d240256fe241d7c?s=128&d=identicon&r=PG", "display_name": "Morteza Manavi", "link": "https://stackoverflow.com/users/407704/morteza-manavi"}, "reply_to_user": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "edited": false, "score": 0, "creation_date": 1463003309, "post_id": 37173627, "comment_id": 61882338, "body": "Do you have the angular 2 RC1 modules in your <code>node_modules\\@angular</code> folder?"}, {"owner": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "edited": false, "score": 0, "creation_date": 1463058635, "post_id": 37173627, "comment_id": 61908504, "body": "As far as I can tell I have installed 2.0.0-beta.17. I didn&#39;t know that Angular2 was out in a release candidate already. Where do I find that?"}, {"owner": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "edited": false, "score": 0, "creation_date": 1463059319, "post_id": 37173627, "comment_id": 61909046, "body": "Never mind, I found it. Thanks. I hadn&#39;t realized it changed in the week or so that I&#39;ve been working with it."}], "tags": [], "owner": {"reputation": 31950, "user_id": 407704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fecf35ed3fd247e5d240256fe241d7c?s=128&d=identicon&r=PG", "display_name": "Morteza Manavi", "link": "https://stackoverflow.com/users/407704/morteza-manavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1463002279, "creation_date": 1463002279, "answer_id": 37173627, "question_id": 37173229, "link": "https://stackoverflow.com/questions/37173229/configuration-mapping-issue-in-angular-2/37173627#37173627", "title": "Configuration / mapping issue in Angular 2", "body": "<p>You need to change your imports from </p>\n\n<pre><code>import { Http, Response } from 'angular2/http';\n</code></pre>\n\n<p>to </p>\n\n<pre><code>import { Http, Response } from '@angular/http';\n</code></pre>\n\n<p><br>\nThe reason for that is because in Angular 2 RC1 the scope for angular modules has been changed to <code>@angular</code>. It used to be <code>angular2</code> in beta which is what you are importing in the code you are showing.</p>\n"}], "owner": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463002279, "creation_date": 1463000538, "question_id": 37173229, "link": "https://stackoverflow.com/questions/37173229/configuration-mapping-issue-in-angular-2", "title": "Configuration / mapping issue in Angular 2", "body": "<p>I'm trying to import Http and Response from \"angular2/http\" like this:</p>\n\n<pre><code>import { Http, Response }   from 'angular2/http';\n</code></pre>\n\n<p>When I run my app, though, I get a 404 error when the system tries to find:</p>\n\n<pre><code>http://localhost:19102/Scripts/angular2/angular2.dev.js/http\n</code></pre>\n\n<p>I assume there is something wrong with the way I have things mapped, but I can't solve the problem. </p>\n\n<p>I am running this in Visual Studio 2015. </p>\n\n<p>Here is my system.js.config file:</p>\n\n<pre><code>(function (global) {\n\n// map tells the System loader where to look for things\nvar map = {\n    'app': 'app', // 'dist',\n    'rxjs': 'node_modules/rxjs',\n    'angular2-in-memory-web-api': 'node_modules/angular2-in-memory-web-api',\n    'angular2': 'Scripts/angular2/angular2.dev.js'\n};\n\n// packages tells the System loader how to load when no filename and/or no extension\nvar packages = {\n    'app': { main: 'main.js', defaultExtension: 'js' },\n    'rxjs': { defaultExtension: 'js' },\n    'angular2-in-memory-web-api': { defaultExtension: 'js' }\n};\n\nvar packageNames = [\n  '@angular/common',\n  '@angular/compiler',\n  '@angular/core',\n  '@angular/http',\n  '@angular/platform-browser',\n  '@angular/platform-browser-dynamic',\n  '@angular/router',\n  '@angular/router-deprecated',\n  '@angular/testing',\n  '@angular/upgrade'\n];\n\n// add package entries for angular packages in the form '@angular/common': { main: 'index.js', defaultExtension: 'js' }\npackageNames.forEach(function (pkgName) {\n    packages[pkgName] = { main: 'index.js', defaultExtension: 'js' };\n});\n\nvar config = {\n    packages: packages,\n    map: map,\n    bundles: {\n        'angular2': ['angular2/core', 'angular2/platform/browser']\n    }\n}\n\n// filterSystemConfig - index.html's chance to modify config before we register it.\nif (global.filterSystemConfig) { global.filterSystemConfig(config); }\n\nSystem.config(config);\n</code></pre>\n\n<p>})(this);</p>\n\n<p>P.S. I am an absolute newcomer to Angular, so I am still trying to figure out how things work. Thanks for any help.</p>\n"}, {"tags": ["javascript", "c#", "http", "typescript", "angular"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1462999956, "post_id": 37172986, "comment_id": 61880743, "body": "<code>chunk: new Array(params.chunk)</code>. If <code>params.chunk</code> is an integer. This will create an <code>params.chunk.length</code> of <code>null</code> objects inside the array. Is this intentional?"}, {"owner": {"reputation": 65, "user_id": 2592413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/68e69370d30ef371d02572dc8779d4a8?s=128&d=identicon&r=PG", "display_name": "user2592413", "link": "https://stackoverflow.com/users/2592413/user2592413"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1463000372, "post_id": 37172986, "comment_id": 61880949, "body": "params.chunk is an Int8Array, putting it in new Array() was the only way I could get valid json for the array.  Here&#39;s an example of what the json string could look like <code>{&quot;fileId&quot;:&quot;51&quot;,&quot;chunkId&quot;:&quot;1&quot;,&quot;chunk&quot;:[{&quot;0&quot;:-1,&quot;1&quot;:-40,&quot;2&quot;:-1&zwnj;&#8203;,&quot;3&quot;:-32,&quot;4&quot;:0,&quot;5&quot;:1&zwnj;&#8203;6}]}</code>"}], "owner": {"reputation": 65, "user_id": 2592413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/68e69370d30ef371d02572dc8779d4a8?s=128&d=identicon&r=PG", "display_name": "user2592413", "link": "https://stackoverflow.com/users/2592413/user2592413"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1462999599, "creation_date": 1462999599, "question_id": 37172986, "link": "https://stackoverflow.com/questions/37172986/post-service-parameter-wont-bind-to-request-body-with-array-as-a-property-angul", "title": "POST service parameter won&#39;t bind to request body with array as a property Angular2 typescript", "body": "<p>I'm trying to send a complex object that will have two int and one byte array properties to a webapi post service. If I send the parameters with only the two int properties populated the body value binds to the service parameters.  Once I populate the array the service parameters are null.</p>\n\n<p>The overall purpose of the app is to send a file in segments to a database to be saved.</p>\n\n<p>Has anyone dealt with anything similar before? Thank you for any help. </p>\n\n<p>Here is the service function making the http POST call</p>\n\n<pre><code>uploadChunk(params: FileParams, success) {\n    let body = JSON.stringify({ fileId: new Number(params.fileId), chunkId: new Number(params.chunkId), chunk: new Array(params.chunk) });\n    //let body = JSON.stringify({ fileId: params.fileId, chunkId: params.chunkId, chunk: new Array(params.chunk), totalSegments: 0, valid: new Boolean(false), fileName: \" \", dateCreated: \" \", un: \" \", accessToken: \" \" });\n    //let body = JSON.stringify({ params });\n    let url = this._fileUrl + 'api/file/UploadChunk';\n    debugger;\n\n    return this.http.post(url, body, this.postOptions)\n        .toPromise()\n        .then((res: Response) =&gt; success(res.json()))\n        .catch(this.error);\n} \n</code></pre>\n\n<p>Here is the FileParams object </p>\n\n<pre><code>export class FileParams {    \n    fileId: number;\n    chunkId: number;\n    chunk: Int8Array;\n}\n</code></pre>\n\n<p>The header im using in my service </p>\n\n<pre><code>postHeaders      = new Headers({ 'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8' });\n</code></pre>\n\n<p>Incase it's relevant here's the start of the service method</p>\n\n<pre><code>[HttpPost]\npublic int UploadChunk([FromBody]FileUploadParams c)\n{ }\n</code></pre>\n"}, {"tags": ["interface", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 0, "last_activity_date": 1462997795, "creation_date": 1462997795, "answer_id": 37172490, "question_id": 37172273, "link": "https://stackoverflow.com/questions/37172273/do-typescript-interfaces-allow-you-to-discard-attributes-not-defined-on-the-inte/37172490#37172490", "title": "Do Typescript Interfaces allow you to discard attributes not defined on the interface?", "body": "<p>You could make all the properties required then do an assertion to pass in a subset of the properties.</p>\n\n<p>For example:</p>\n\n<pre><code>interface Search {\n  _id: string;\n  people: number;\n  partyName: string;\n  otherField: string;\n}\n\nfunction search(query: Search) {\n    // code here\n}\n\nsearch({ people: 2 } as Search); // ok\nsearch({ otherField: \"foo\", aProtectedField: \"bar\" }); // error, good\nsearch({ otherField: \"foo\", aProtectedField: \"bar\" } as Search); // error, good\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": false, "score": 0, "last_activity_date": 1463030274, "creation_date": 1463030274, "answer_id": 37177857, "question_id": 37172273, "link": "https://stackoverflow.com/questions/37172273/do-typescript-interfaces-allow-you-to-discard-attributes-not-defined-on-the-inte/37177857#37177857", "title": "Do Typescript Interfaces allow you to discard attributes not defined on the interface?", "body": "<p>What version of Typescript are you on? Since Typescript 1.6 there has been <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#stricter-object-literal-assignment-checks\" rel=\"nofollow\">improved checking for object literals</a>.</p>\n\n<p>On TS 1.8 when I try to run your code I get:</p>\n\n<blockquote>\n  <p>error TS2345: Argument of type '{ otherField: string; aProtectedField: string; }' is not assignable to parameter of type 'Search'.\n    Object literal may only specify known properties, and 'aProtectedField' does not exist in type 'Search'.</p>\n</blockquote>\n\n<p>This and noImplicitAny should catch the errors you're worried about.</p>\n"}, {"tags": [], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "is_accepted": false, "score": 0, "last_activity_date": 1463037657, "creation_date": 1463037657, "answer_id": 37179919, "question_id": 37172273, "link": "https://stackoverflow.com/questions/37172273/do-typescript-interfaces-allow-you-to-discard-attributes-not-defined-on-the-inte/37179919#37179919", "title": "Do Typescript Interfaces allow you to discard attributes not defined on the interface?", "body": "<blockquote>\n  <p>I want to limit what attributes can be passed in. [...] query can contain extra attributes.</p>\n</blockquote>\n\n<p>The way I see it, this is controversial. If you limit what attributes a given object might contain, then it is, by definition, limited to that set of attributes, and cannot contain others not allowed by its specs.</p>\n\n<p>Since there is practically nothing you can do about the <code>any</code> type, my recommendation is to resolve this the type-safe way, by defining an option for additional attributes:</p>\n\n<pre><code>interface Search {\n    _id?: string;\n    people?: number;\n    partyName?: string;\n    additionalFields?: { [key: string]: any };\n}\n</code></pre>\n\n<pre class=\"lang-auto prettyprint-override\"><code>search({ people: 2 }); // ok\nsearch({ _id: \"jd\", people: 2 }); // ok\nsearch({ _id: \"jd\", additionalFields: { otherField: \"foo\" } }); // ok\n</code></pre>\n"}], "owner": {"reputation": 2597, "user_id": 1329321, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/c3c2bc221f92e4a674ac01510cf900f0?s=128&d=identicon&r=PG", "display_name": "Mike Manfrin", "link": "https://stackoverflow.com/users/1329321/mike-manfrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1463037657, "creation_date": 1462997007, "question_id": 37172273, "link": "https://stackoverflow.com/questions/37172273/do-typescript-interfaces-allow-you-to-discard-attributes-not-defined-on-the-inte", "title": "Do Typescript Interfaces allow you to discard attributes not defined on the interface?", "body": "<p>I have a function that performs a search. The search can be done a few different ways (by looking for an ID or by querying a few attributes). However, I want to limit what attributes can be passed in. I thought I could do something like:</p>\n\n<pre><code>interface Search {\n  _id?: string\n  people?: number\n  partyName?: string\n  otherField? string\n}\n\nfunction search(query: Search) {\n    myDbConnection.find(query).then(... // etc\n}\n</code></pre>\n\n<p>The problem is that any object will conform to this, and <code>query</code> can contain extra attributes. For example, this could be passed:</p>\n\n<pre><code>search({otherField: \"foo\", aProtectedField: \"bar\"})\n</code></pre>\n\n<p>and <code>aProtectedField</code> would be passed along to <code>find</code>. </p>\n\n<p>I am wondering if there is a typescript way of enforcing the attributes passed. Sort of strong-parameters from the Rails world. I know I can do things like <code>pick</code> form lodash or maybe even make a <code>SearchObject</code> class and use the constructor as a means of discarding the extra attributes, but I feel like there is a way to do this within Typescript that I just don't know about. </p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "typescript1.8"], "comments": [{"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "edited": false, "score": 0, "creation_date": 1463000928, "post_id": 37171995, "comment_id": 61881244, "body": "Could you show us your code?"}, {"owner": {"reputation": 234, "user_id": 921286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1c602eb19d5a92106bc7e8184ec7ec8?s=128&d=identicon&r=PG", "display_name": "Rishabh Shah", "link": "https://stackoverflow.com/users/921286/rishabh-shah"}, "reply_to_user": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "edited": false, "score": 0, "creation_date": 1464592582, "post_id": 37171995, "comment_id": 62532134, "body": "I have updated my question."}], "answers": [{"comments": [{"owner": {"reputation": 234, "user_id": 921286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1c602eb19d5a92106bc7e8184ec7ec8?s=128&d=identicon&r=PG", "display_name": "Rishabh Shah", "link": "https://stackoverflow.com/users/921286/rishabh-shah"}, "edited": false, "score": 0, "creation_date": 1463484599, "post_id": 37175095, "comment_id": 62075028, "body": "do I need to create fileName.d.ts, and it will contain method signature, and will add in my angular JS project ?"}, {"owner": {"reputation": 234, "user_id": 921286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1c602eb19d5a92106bc7e8184ec7ec8?s=128&d=identicon&r=PG", "display_name": "Rishabh Shah", "link": "https://stackoverflow.com/users/921286/rishabh-shah"}, "edited": false, "score": 0, "creation_date": 1464592943, "post_id": 37175095, "comment_id": 62532317, "body": "I have updated my question"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1463010940, "creation_date": 1463010940, "answer_id": 37175095, "question_id": 37171995, "link": "https://stackoverflow.com/questions/37171995/access-typescript-functions-into-angular/37175095#37175095", "title": "Access typescript functions into angular", "body": "<blockquote>\n  <p>but, I am not able to access the functionality of javascript file inside any angular controller or service</p>\n</blockquote>\n\n<p>You are most likely running into <em>undeclared variable errors</em>. You need to declare them. </p>\n\n<h1>More</h1>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/migrating.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/migrating.html</a></p>\n"}], "owner": {"reputation": 234, "user_id": 921286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1c602eb19d5a92106bc7e8184ec7ec8?s=128&d=identicon&r=PG", "display_name": "Rishabh Shah", "link": "https://stackoverflow.com/users/921286/rishabh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 1, "closed_date": 1463014623, "accepted_answer_id": 37175095, "answer_count": 1, "score": 0, "last_activity_date": 1464593417, "creation_date": 1462996035, "last_edit_date": 1464593417, "question_id": 37171995, "link": "https://stackoverflow.com/questions/37171995/access-typescript-functions-into-angular", "closed_reason": "Needs details or clarity", "title": "Access typescript functions into angular", "body": "<p>I have created a typescript module and generating javascript file after compiling it, further I am using that javascript file into angular folder in index.html. my javascript file is getting loaded. but, I am not able to access the functionality of javascript file inside any angular controller or service ?</p>\n\n<p>How can I access them ? Let me know your suggestions.</p>\n\n<p>Thanks</p>\n\n<p>Edit:</p>\n\n<p>How can I access 3rd party javascript library(compiled from typescript), and its functionality from angular class.</p>\n\n<p>Edit:</p>\n\n<p>My code is as below</p>\n\n<pre><code>export class DynamicClass {\n\n    loadB1Data() {\n\n    }\n\n    getAccess() {\n\n    }\n\n}\nlet Dynamic = new DynamicClass();\n</code></pre>\n\n<p>and Its generating below js file after compile Dynamic.js</p>\n\n<pre><code>define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    var DynamicClass = (function () {\n        function DynamicClass() {\n        }\n        DynamicClass.prototype.loadB1Data = function () {\n        };\n        DynamicClass.prototype.getAccess = function () {\n        };\n        return DynamicClass;\n    }());\n    exports.DynamicClass = DynamicClass;\n    let;\n    var Dynamic = (function () {\n        function Dynamic() {\n        }\n        return Dynamic;\n    }());\n    new DynamicClass();\n});\n</code></pre>\n\n<p>I created typed-definitions file dynamic.d.ts </p>\n\n<pre><code>interface Dynamic {\n    loadB1Data(): any;\n    getAccess(): any;\n}\n\ndeclare module DynamicLoad {\nexport let Dynamic:Dynamic\n}\n</code></pre>\n\n<p>Now, I want to access loadB1Data and getAccess from external angularjs project. How is it possible ? I am using angular 1.5.6 version.</p>\n"}, {"tags": ["javascript", "backbone.js", "typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1462995237, "post_id": 37171119, "comment_id": 61878184, "body": "Worth reading: <a href=\"http://benmccormick.org/2015/04/07/es6-classes-and-backbone-js/\" rel=\"nofollow noreferrer\">benmccormick.org/2015/04/07/es6-classes-and-backbone-js</a>"}, {"owner": {"reputation": 1003, "user_id": 4215616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8onEe.jpg?s=128&g=1", "display_name": "Paul Stoner", "link": "https://stackoverflow.com/users/4215616/paul-stoner"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1463071192, "post_id": 37171119, "comment_id": 61918183, "body": "@RyanCavanaugh, Thanks for the link. It was a good read. As this is simply a tutorial, I&#39;m not real worried about it. I was simply curious as to whether or not I could get it to work. It appears that using Backbone, I will not be able to get this to work. Most;y, I plan on using Angular."}], "answers": [{"tags": [], "owner": {"reputation": 15950, "user_id": 324978, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9a271d8f6946301fa1f0c0fc4c7b9f14?s=128&d=identicon&r=PG", "display_name": "robbrit", "link": "https://stackoverflow.com/users/324978/robbrit"}, "is_accepted": true, "score": 1, "last_activity_date": 1464652042, "creation_date": 1464652042, "answer_id": 37534883, "question_id": 37171119, "link": "https://stackoverflow.com/questions/37171119/backbone-typescript-and-super/37534883#37534883", "title": "Backbone, TypeScript, and super", "body": "<p>Using \"normal\" Backbone doesn't work too well, but I was able to get it done with a bit more DIY approach based on the article linked by Ryan:</p>\n\n<pre><code>export class ContactItemView extends Backbone.View&lt;cm.ContactModel&gt; {\n    static template: (properties?: any) =&gt; string = _.template(contactItemSnippet);\n    constructor(options?: any) {\n        super(options);\n        this.events = &lt;any&gt;{ 'click': this.onClicked };\n    }\n\n    events(): Backbone.EventsHash {\n        return {\n          // events\n        };\n    }\n\n    render(): ContactItemView {\n        this.$el\n          .addClass(\"contact-item-view\")\n          .html(ContactItemView.template(...));\n        return this;\n    }\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1822, "user_id": 998008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tedl0.jpg?s=128&g=1", "display_name": "Dmitry Sheiko", "link": "https://stackoverflow.com/users/998008/dmitry-sheiko"}, "is_accepted": false, "score": 1, "last_activity_date": 1472052797, "creation_date": 1472052797, "answer_id": 39127501, "question_id": 37171119, "link": "https://stackoverflow.com/questions/37171119/backbone-typescript-and-super/39127501#39127501", "title": "Backbone, TypeScript, and super", "body": "<p>Another possibility to use a decorator. Just check it out <a href=\"https://github.com/dsheiko/ng-backbone/blob/master/src/core/component.ts\" rel=\"nofollow\">https://github.com/dsheiko/ng-backbone/blob/master/src/core/component.ts</a>\nThis @Component is used similar to Angular2:</p>\n\n<pre><code>import { Component, View } from \"../ng-backbone/core\";\n\n@Component({\n  el: \"ng-hello\",\n  template: `Hello World!`\n})\n\nclass HelloView extends View {\n}\n\nlet hello = new HelloView();\nhello.render();\n</code></pre>\n\n<p>The decorator injects specified properties straight into view prototype. Thus they are already available for constructor (super)</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7294878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gnYliU0UzAg/AAAAAAAAAAI/AAAAAAAADHo/YgKlLoK0qfw/photo.jpg?sz=128", "display_name": "Ben Ji", "link": "https://stackoverflow.com/users/7294878/ben-ji"}, "is_accepted": false, "score": 1, "last_activity_date": 1481696079, "creation_date": 1481696079, "answer_id": 41135972, "question_id": 37171119, "link": "https://stackoverflow.com/questions/37171119/backbone-typescript-and-super/41135972#41135972", "title": "Backbone, TypeScript, and super", "body": "<p>Just move the \"this.classname...\" and \"this.events...\" out of constructor, and put them in initialize, like this (this may not directly suit your code, but sth similar): </p>\n\n<pre><code>initialize() {   \n    //... is a list tag.\n    this.setElement($(\"&lt;li /&gt;\")); \n    // The DOM events specific to an item.\n    this.events = {\n        \"click .check\": \"toggleDone\",\n        \"dblclick label.todo-content\": \"edit\",\n        \"click span.todo-destroy\": \"clear\",\n        \"keypress .todo-input\": \"updateOnEnter\",\n        \"blur .todo-input\": \"close\"\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 1003, "user_id": 4215616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8onEe.jpg?s=128&g=1", "display_name": "Paul Stoner", "link": "https://stackoverflow.com/users/4215616/paul-stoner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 0, "accepted_answer_id": 37534883, "answer_count": 3, "score": 3, "last_activity_date": 1481696079, "creation_date": 1462992850, "question_id": 37171119, "link": "https://stackoverflow.com/questions/37171119/backbone-typescript-and-super", "title": "Backbone, TypeScript, and super", "body": "<p>I am working through the book \"Mastering TypeScript\" in which the author demonstrates the use of Backbone to generate the models, collections and views.</p>\n\n<p>I have the following class defined:</p>\n\n<pre><code>export class ContactItemView extends Backbone.View&lt;cm.ContactModel&gt; {\n    template: (properties?: any) =&gt; string;\n    constructor(options?: any) {\n        this.className = \"contact-item-view\";\n        this.template = _.template(contactItemSnippet);\n        this.events = &lt;any&gt;{ 'click': this.onClicked };\n        super(options);\n    }\n...\n}\n</code></pre>\n\n<p>Unfortunately, TypeScript will not compile this with the error:</p>\n\n<blockquote>\n  <p>Build: 'super' must be called before accessing 'this' in the constructor of a derived class</p>\n</blockquote>\n\n<p>Yet, if I move the call to super above \"this\"</p>\n\n<pre><code>export class ContactItemView extends Backbone.View&lt;cm.ContactModel&gt; {\n    template: (properties?: any) =&gt; string;\n    constructor(options?: any) {\n\n        super(options);\n\n        this.className = \"contact-item-view\";\n        this.template = _.template(contactItemSnippet);\n        this.events = &lt;any&gt;{ 'click': this.onClicked };\n     }\n...\n}\n</code></pre>\n\n<p>then my event does not fire. The only thing I have been able to do to resolve this is moving the call to super, in the resulting JavaScript code to after the use of \"this\", thus modifying what TypeScript has compiled.</p>\n\n<p>Is there a way to get my events to work while still adhering to the proper TypeScript rules?</p>\n"}, {"tags": ["typescript", "socket.io", "systemjs"], "answers": [{"tags": [], "owner": {"reputation": 1433, "user_id": 878457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8789e7ef73ba7567ec4a6e018bfb492e?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/878457/michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1463601629, "creation_date": 1463601629, "answer_id": 37309046, "question_id": 37171017, "link": "https://stackoverflow.com/questions/37171017/how-to-import-socket-io-client-using-systemjs/37309046#37309046", "title": "How to import socket.io-client using systemjs?", "body": "<p>Try to specify a full path to socket.io.js like below</p>\n\n<pre><code>System.config({\nmap: {\n    rxjs: 'node_modules/rxjs',\n    'socket.io-client': 'node_modules/socket.io-client/socket.io.js'\n},\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 457, "user_id": 2415787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf16a2d60a2b3dc441f96bc992271b9a?s=128&d=identicon&r=PG", "display_name": "Sanju Varghese", "link": "https://stackoverflow.com/users/2415787/sanju-varghese"}, "is_accepted": false, "score": 0, "last_activity_date": 1490349309, "creation_date": 1490349309, "answer_id": 42996307, "question_id": 37171017, "link": "https://stackoverflow.com/questions/37171017/how-to-import-socket-io-client-using-systemjs/42996307#42996307", "title": "How to import socket.io-client using systemjs?", "body": "<pre><code>System.config({\nmap: {\n    ...\n    \"socket.io-client\": \"npm:socket.io-client/dist\"\n},\n...\npackages: {\n    ...\n    \"socket.io-client\": {\"main\": \"./socket.io.js\"}\n}\n});\n</code></pre>\n"}], "owner": {"reputation": 4110, "user_id": 162003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ccc1c78844ad026990d79203c3097fa?s=128&d=identicon&r=PG", "display_name": "Erik Z", "link": "https://stackoverflow.com/users/162003/erik-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 0, "accepted_answer_id": 37309046, "answer_count": 2, "score": 1, "last_activity_date": 1490349309, "creation_date": 1462992490, "question_id": 37171017, "link": "https://stackoverflow.com/questions/37171017/how-to-import-socket-io-client-using-systemjs", "title": "How to import socket.io-client using systemjs?", "body": "<p>How do I import the standalone socket.io client? I'm using system.js as the module loader and I write my code in typescript.</p>\n\n<p>In my typescript file I have the following import statement.</p>\n\n<pre><code>import * as io from 'socket.io-client';\n</code></pre>\n\n<p>The configuration of system.js looks like this.</p>\n\n<pre><code>   System.config({\n    map: {\n        rxjs: 'node_modules/rxjs',\n        'socket.io-client': 'node_modules/socket.io-client'\n    },\n    packages: {\n      app: {\n        format: 'register',\n        defaultExtension: 'js'\n      },\n      rxjs: {defaultExtension: 'js'},\n      'socket.io-client': {defaultExtension: 'js'}\n    }\n  });\n  System.import('app/main')\n        .then(null, console.error.bind(console));\n</code></pre>\n\n<p>In my browser I get this error.</p>\n\n<blockquote>\n  <p>angular2-polyfills.js:126 GET\n  <a href=\"http://localhost:3000/node_modules/socket.io-client/\" rel=\"nofollow\">http://localhost:3000/node_modules/socket.io-client/</a> 404 (Not Found)</p>\n</blockquote>\n\n<p>What do I have to do to load this module?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 1536, "user_id": 5454390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRhJP.jpg?s=128&g=1", "display_name": "MarkoCen", "link": "https://stackoverflow.com/users/5454390/markocen"}, "edited": false, "score": 1, "creation_date": 1462992577, "post_id": 37170938, "comment_id": 61876721, "body": "you should use <code>wb-project</code> not <code>wbProject</code> in your template"}, {"owner": {"reputation": 83, "user_id": 4891608, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c056aa3ea4b8e7fd13a0fc0ec219d1?s=128&d=identicon&r=PG&f=1", "display_name": "acloD128", "link": "https://stackoverflow.com/users/4891608/aclod128"}, "reply_to_user": {"reputation": 1536, "user_id": 5454390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRhJP.jpg?s=128&g=1", "display_name": "MarkoCen", "link": "https://stackoverflow.com/users/5454390/markocen"}, "edited": false, "score": 0, "creation_date": 1462992948, "post_id": 37170938, "comment_id": 61876948, "body": "This solved it! Add a question and I&#39;ll mark it as solved"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4891608, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c056aa3ea4b8e7fd13a0fc0ec219d1?s=128&d=identicon&r=PG&f=1", "display_name": "acloD128", "link": "https://stackoverflow.com/users/4891608/aclod128"}, "edited": false, "score": 0, "creation_date": 1462992765, "post_id": 37171050, "comment_id": 61876833, "body": "This doesn&#39;t work either.. Again only the heading visible"}], "tags": [], "owner": {"reputation": 2740, "user_id": 3551954, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/52489f7e429485e11653ba8be1c754ef?s=128&d=identicon&r=PG", "display_name": "Wasiq Muhammad", "link": "https://stackoverflow.com/users/3551954/wasiq-muhammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1462992630, "creation_date": 1462992630, "answer_id": 37171050, "question_id": 37170938, "link": "https://stackoverflow.com/questions/37170938/directive-not-shown-in-angular/37171050#37171050", "title": "Directive not shown in angular", "body": "<p>Try this</p>\n\n<pre><code> angular.module('balancingApp')\n    .directive('wbProject', function() {\n        return {\n            restrict: 'AE',\n            template: \"&lt;p&gt;Projectdetails&lt;/p&gt;\"\n        };\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1536, "user_id": 5454390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRhJP.jpg?s=128&g=1", "display_name": "MarkoCen", "link": "https://stackoverflow.com/users/5454390/markocen"}, "is_accepted": true, "score": 2, "last_activity_date": 1462993167, "creation_date": 1462993167, "answer_id": 37171197, "question_id": 37170938, "link": "https://stackoverflow.com/questions/37170938/directive-not-shown-in-angular/37171197#37171197", "title": "Directive not shown in angular", "body": "<p>Angular converts the directive name into <a href=\"https://docs.angularjs.org/api/ng/provider/$compileProvider\" rel=\"nofollow\">camel-case</a> in template, so you should use <code>wb-project</code> instead of <code>wbProject</code> in template</p>\n"}], "owner": {"reputation": 83, "user_id": 4891608, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c056aa3ea4b8e7fd13a0fc0ec219d1?s=128&d=identicon&r=PG&f=1", "display_name": "acloD128", "link": "https://stackoverflow.com/users/4891608/aclod128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 37171197, "answer_count": 2, "score": 0, "last_activity_date": 1462993167, "creation_date": 1462992257, "question_id": 37170938, "link": "https://stackoverflow.com/questions/37170938/directive-not-shown-in-angular", "title": "Directive not shown in angular", "body": "<p>I have the following directive in a typescript file:</p>\n\n<p>ProjectDirectivs.ts </p>\n\n<pre><code>/// &lt;reference path=\"../module.ts\"/&gt;\n\nmodule BalancingApp.App.Directives {\n    angular.module('balancingApp')\n    .directive('wbProject', function() {\n        return {\n            template: \"&lt;p&gt;Projectdetails&lt;/p&gt;\"\n        };\n    })\n    ;\n}\n</code></pre>\n\n<p>When I call it inside of a template for a project detail page </p>\n\n<p>ProjectDetailPage.html</p>\n\n<pre><code>&lt;ion-view view-title=\"Projekt Details\"&gt;\n    &lt;ion-content class=\"padding\"&gt;\n        &lt;h1&gt;Projekt Details&lt;/h1&gt;\n        &lt;div wbProject&gt;\n\n        &lt;/div&gt;\n    &lt;/ion-content&gt;\n&lt;/ion-view&gt;\n</code></pre>\n\n<p>it has no effects, there seems just to be empty space below the heading.</p>\n\n<p>Do I do something wrong? How can I test if the wbProject directive actually is used?</p>\n\n<p>If I edit the typescript file and insert errors, the whole page keeps in loading stage, so it seems that the file gets actually used and is not ignored.</p>\n"}, {"tags": ["typescript", "angular", "rxjs", "observable"], "comments": [{"owner": {"reputation": 5278, "user_id": 3074508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6bbb9b3baf8440bc7a00e3147378bcf2?s=128&d=identicon&r=PG", "display_name": "CESCO", "link": "https://stackoverflow.com/users/3074508/cesco"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1462992425, "post_id": 37170756, "comment_id": 61876626, "body": "I need the value from data.messages to be able to set the index of the shield function in order to fire the second request. Someone pointed me to using rxjs concatmap. I have not be able to figure out how yet"}], "answers": [{"tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": false, "score": 1, "last_activity_date": 1462992556, "last_edit_date": 1495541385, "creation_date": 1462992556, "answer_id": 37171031, "question_id": 37170756, "link": "https://stackoverflow.com/questions/37170756/how-to-chain-2-observables-with-angular2/37171031#37171031", "title": "How to chain 2 Observables with Angular2", "body": "<p>You need the flatMap operator for this</p>\n\n<pre><code>this._lights.LastChannel(this.hostname).flatMap(\n  (data) =&gt; {\n    let params: URLSearchParams = new URLSearchParams();\n    params.set('access_token', localStorage.getItem('access_token'));\n    return this._lights.shieldStatus(this.hostname, data.messages).map((res: Response) =&gt; res.json());\n  }\n);\n</code></pre>\n\n<p>@ThierryTempiler answered this question here: <a href=\"https://stackoverflow.com/questions/36712659/angular-2-two-backend-service-calls-on-success-of-first-service/36712707#36712707\">Angular 2: Two backend service calls on success of first service</a></p>\n"}, {"tags": [], "owner": {"reputation": 5278, "user_id": 3074508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6bbb9b3baf8440bc7a00e3147378bcf2?s=128&d=identicon&r=PG", "display_name": "CESCO", "link": "https://stackoverflow.com/users/3074508/cesco"}, "is_accepted": false, "score": 1, "last_activity_date": 1463228642, "creation_date": 1463228642, "answer_id": 37226622, "question_id": 37170756, "link": "https://stackoverflow.com/questions/37170756/how-to-chain-2-observables-with-angular2/37226622#37226622", "title": "How to chain 2 Observables with Angular2", "body": "<p>You need to create a third service function that would join both the requests using <code>Observable.forkJoin</code>.    </p>\n\n<pre><code>initial (device){\n        var obs = this.LastChannel(device).flatMap(\n            (data) =&gt; {\n                return Observable.forkJoin([\n                    Observable.of(data),\n                    this.shieldStatus(device, data)\n                ]);\n            }\n        );\n        return obs;\n    }\n</code></pre>\n\n<p>then I can call it like </p>\n\n<pre><code>ngOnInit() {\n    this._lights.initial(this.hostname).subscribe(data=&gt; console.log(data))\n}\n</code></pre>\n\n<p>and this data is an array of both the request's response.</p>\n\n<pre><code>Array[2]\n0\n:\nObject\nMessage\n:\n\"64\"\nTime\n:\n\"2016-05-14T09:13:12.416400176-03:00\"\n\n1\n:\nObject\nMessage\n:\n\"false false false false false true true true\"\nTime\n:\n\"2016-05-14T09:13:12.797315391-03:00\"\n\n:\n2\n__proto__\n:\nArray[0]\n</code></pre>\n"}], "owner": {"reputation": 5278, "user_id": 3074508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6bbb9b3baf8440bc7a00e3147378bcf2?s=128&d=identicon&r=PG", "display_name": "CESCO", "link": "https://stackoverflow.com/users/3074508/cesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1463228642, "creation_date": 1462991640, "question_id": 37170756, "link": "https://stackoverflow.com/questions/37170756/how-to-chain-2-observables-with-angular2", "title": "How to chain 2 Observables with Angular2", "body": "<p>I trying to do the following without success. I am trying fire an http request/Observable depending on a previous http request result.</p>\n\n<pre><code>ngOnInit() {\n    this._lights.LastChannel(this.hostname).subscribe(data =&gt; {\n        this.LastChannel = data.Message;\n        this.shields = this.LastChannel / 8;\n        if (this.LastChannel % 8 != 0){\n            this.shields++;\n        }\n        for(var i=0; i &lt; this.shields; i++){\n            console.log(i+1);\n            this.shield(i+1)\n        }\n    });\n}\nshield(index){\n    this._lights.shieldStatus(this.hostname, index)\n        .subscribe(data=&gt; {\n            console.log(data.Message.split(' '));\n            console.log(data.Message)\n        })\n}\n</code></pre>\n\n<p>First request runs fine, second one gets fired. Go server responds 200, but browser shows keep pending.</p>\n"}, {"tags": ["javascript", "node.js", "foreach", "typescript", "promise"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1462990734, "post_id": 37170259, "comment_id": 61875757, "body": "For starters, you aren&#39;t checking the <code>err</code> value in the callback from <code>fq.readFile()</code>.  You also don&#39;t have a reject handler for <code>treeBuilder.Parse()</code>.  It should go without saying that you should always code for error handling and when things aren&#39;t working correctly, you should make sure you&#39;re looking at all error paths.  Coding in a way that ignores errors will certainly not show you what&#39;s going on when there are errors."}, {"owner": {"reputation": 1548, "user_id": 1456334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GR43K.jpg?s=128&g=1", "display_name": "oooyaya", "link": "https://stackoverflow.com/users/1456334/oooyaya"}, "edited": false, "score": 0, "creation_date": 1462990741, "post_id": 37170259, "comment_id": 61875760, "body": "Which half?  First half?  Last half?  Every other?  Random?  I don&#39;t think the promise is being overwritten - your arrow function is creating a new callback each time.  The for() loop may be the problem?"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1462990808, "post_id": 37170259, "comment_id": 61875803, "body": "Also, your <code>Parse()</code> function is using a <a href=\"https://github.com/petkaantonov/bluebird/wiki/Promise-anti-patterns\" rel=\"nofollow noreferrer\">promise anti-pattern</a> and a main consequence of that anti-pattern is that you are ignoring errors that occur in <code>this.buildSymbolCache()</code>.  You should just be returning chained promises rather than creating your own promise."}], "answers": [{"comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1462991942, "post_id": 37170556, "comment_id": 61876352, "body": "Added code example that pays attention to all errors."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1462992104, "post_id": 37170556, "comment_id": 61876447, "body": "@GetOffMyLawn - stack overflow does not work very well when you modify the original code from your question to incorporate feedback you were given.  That renders answers and comments already provided as nonsensical because the answers and comments don&#39;t apply to the current version of the question.  Do NOT change the original question except to clarify what you are trying to ask.  That makes your question an entirely different question.  If you still have problems after trying suggested fixes, you can ADD new versions of code to your question, but don&#39;t change the original code you posted."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1462992217, "post_id": 37170556, "comment_id": 61876518, "body": "Sorry I misread your last line, I thought you asked me to update with the resolve/reject. I rolled back the question to is original state."}], "tags": [], "owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 2, "last_activity_date": 1462991896, "last_edit_date": 1462991896, "creation_date": 1462991000, "answer_id": 37170556, "question_id": 37170259, "link": "https://stackoverflow.com/questions/37170259/promise-only-parsing-about-half-the-files-in-an-array/37170556#37170556", "title": "Promise only parsing about half the files in an array", "body": "<p>Because your code is ignoring errors in three separate places, it is hard for you to see where an error might be occurring.  Here are the three places you are ignoring errors:</p>\n\n<ol>\n<li>If <code>this.BuildSymbolCache()</code> rejects, you are ignoring that rejection.</li>\n<li>If <code>fq.readFile()</code> calls its callback with an error, you are ignoring that condition.</li>\n<li>If <code>treeBuilder.Parse(data, file)</code> rejects, you are ignoring that rejection.</li>\n</ol>\n\n<p>You MUST code for error handling.  And, whenever something is not working as suspected, you should be able to look at all possible error paths.</p>\n\n<p>Also, your <code>Parse()</code> function is using a <a href=\"https://github.com/petkaantonov/bluebird/wiki/Promise-anti-patterns\" rel=\"nofollow\">promise anti-pattern</a> and a main consequence of that anti-pattern is that you are ignoring errors that occur in <code>this.buildSymbolCache()</code>.  You should just be returning chained promises rather than creating your own promise.</p>\n\n<p>I don't know TypeScript myself, so you may have to fix up a few TypeScript syntax errors, but here's the general idea for something that pays attention to all errors.  Assuming you are attempting to run all your operations in parallel and just want to know when they are all done, you can do this:</p>\n\n<pre><code>// make promise version of readFile()\nfq.readFileAsync = function(file, options) {\n    return new Promise(function(resolve, reject) {\n        fq.readFile(file, options, function(err, data) {\n            if (err) return reject(err);\n            resolve(data);\n        });\n    });\n}\n\nvar docsToDo: string[] = [];\nfunction processWorkspaceFile() {\n    var offset: number = 0;\n    var promises = [];\n    return Promise.all(docsToDo.map(file =&gt; {\n        return fq.readFileAsync(file, { encoding: 'utf8' }).then(data =&gt; {\n            return treeBuilder.Parse(data, file).then(result =&gt; {\n                addToWorkspaceTree(result.tree);\n                docsDoneCount++;\n                connection.console.log(`(${docsDoneCount} of ${docsToDo.length}) File: ${file}`);\n                connection.sendNotification({ method: \"fileProcessed\" }, { total: docsDoneCount });\n            });\n        });\n    })).then(notifyClientOfWorkComplete, function(err) {\n       // error here, err contains the error value from the first error that occurred \n    });\n}\n\n\npublic Parse(text:string, filePath:string) : Promise&lt;any&gt; {\n    var ast = phpParser.create({\n        parser: {\n            locations: true,\n            docBlocks: true,\n            suppressErrors: true\n        }\n    }).parseCode(text);\n\n\n    return this.BuildObjectTree(ast, filePath).then((tree) =&gt; {\n        return this.BuildSymbolCache(tree, filePath).then(symbolCache =&gt; {\n            return {tree: tree, symbolCache: symbolCache};\n        });\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 37170556, "answer_count": 1, "score": 0, "last_activity_date": 1462992160, "creation_date": 1462989977, "last_edit_date": 1462992160, "question_id": 37170259, "link": "https://stackoverflow.com/questions/37170259/promise-only-parsing-about-half-the-files-in-an-array", "title": "Promise only parsing about half the files in an array", "body": "<p>I have the following function which processes a list of files. I am having an issue where only about half of the files execute this </p>\n\n<pre><code>treeBuilder.Parse(data, file).then(result =&gt; {\n    // code\n}\n</code></pre>\n\n<p>The others execute it successfully.</p>\n\n<pre><code>var docsToDo: string[] = [];\nfunction processWorkspaceFile() {\n    var offset: number = 0;\n    docsToDo.forEach(file =&gt; {\n        fq.readFile(file, { encoding: 'utf8' }, (err, data) =&gt; {\n            treeBuilder.Parse(data, file).then(result =&gt; {\n                addToWorkspaceTree(result.tree);\n                docsDoneCount++;\n                connection.console.log(`(${docsDoneCount} of ${docsToDo.length}) File: ${file}`);\n                connection.sendNotification({ method: \"fileProcessed\" }, { total: docsDoneCount });\n                if (docsToDo.length == docsDoneCount) {\n                    connection.console.log('work done!');\n                    notifyClientOfWorkComplete();\n                }\n            });\n        });\n    });\n}\n</code></pre>\n\n<p><code>treeBuilder.Parse()</code> returns a Promise, is it possible that the promise is getting overwritten?</p>\n\n<pre><code>public Parse(text:string, filePath:string) : Promise&lt;any&gt;\n{\n    return new Promise((resolve, reject) =&gt;\n    {\n        var ast = phpParser.create({\n            parser: {\n                locations: true,\n                docBlocks: true,\n                suppressErrors: true\n            }\n        }).parseCode(text);\n\n\n        this.BuildObjectTree(ast, filePath).then((tree) =&gt;\n        {\n            var symbolCache = this.BuildSymbolCache(tree, filePath).then(symbolCache =&gt;\n            {\n                var returnObj = {\n                    tree: tree,\n                    symbolCache: symbolCache\n                };\n\n                resolve(returnObj);\n            });\n        });\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 1814, "user_id": 4581038, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-kO5IDbx7SuU/AAAAAAAAAAI/AAAAAAAABFQ/_-w-W96MFt8/photo.jpg?sz=128", "display_name": "Dave V", "link": "https://stackoverflow.com/users/4581038/dave-v"}, "edited": false, "score": 0, "creation_date": 1462989395, "post_id": 37169924, "comment_id": 61874967, "body": "A little further clarification, it does appear that Firefox does this as well...but it puts it as the second header.  So I&#39;d say this isn&#39;t my problem, in either case, I get a 400 Bad Request back.  But if I hit this same API from something like say Postman.  It works."}, {"owner": {"reputation": 1814, "user_id": 4581038, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-kO5IDbx7SuU/AAAAAAAAAAI/AAAAAAAABFQ/_-w-W96MFt8/photo.jpg?sz=128", "display_name": "Dave V", "link": "https://stackoverflow.com/users/4581038/dave-v"}, "edited": false, "score": 0, "creation_date": 1462989727, "post_id": 37169924, "comment_id": 61875146, "body": "And some further clarification...if I add a text/plain header in Postman...it fails...so maybe that is it...so back to the original question...anyone know how to remove that header?"}], "answers": [{"tags": [], "owner": {"reputation": 1814, "user_id": 4581038, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-kO5IDbx7SuU/AAAAAAAAAAI/AAAAAAAABFQ/_-w-W96MFt8/photo.jpg?sz=128", "display_name": "Dave V", "link": "https://stackoverflow.com/users/4581038/dave-v"}, "is_accepted": true, "score": 1, "last_activity_date": 1462991377, "creation_date": 1462991377, "answer_id": 37170669, "question_id": 37169924, "link": "https://stackoverflow.com/questions/37169924/angular2-rc1-http-post-header/37170669#37170669", "title": "Angular2 RC1, HTTP POST Header", "body": "<p>Welp, I'm an idiot...</p>\n\n<p>'Content-Type'</p>\n\n<p><em>not</em></p>\n\n<p>'ContentType'</p>\n\n<p>Helps if I use the right header...I'll go bang my head against a wall now.</p>\n"}], "owner": {"reputation": 1814, "user_id": 4581038, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-kO5IDbx7SuU/AAAAAAAAAAI/AAAAAAAABFQ/_-w-W96MFt8/photo.jpg?sz=128", "display_name": "Dave V", "link": "https://stackoverflow.com/users/4581038/dave-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 37170669, "answer_count": 1, "score": 0, "last_activity_date": 1462991377, "creation_date": 1462988907, "last_edit_date": 1495540473, "question_id": 37169924, "link": "https://stackoverflow.com/questions/37169924/angular2-rc1-http-post-header", "title": "Angular2 RC1, HTTP POST Header", "body": "<p>So I'm running into a similar situation with sending an Http.post in Angular as <a href=\"https://stackoverflow.com/questions/35032465/angular2-http-post-headers\">this</a>.  However, I do have the Header class imported, and I am still getting the text/plain ContentType first.  Here is what I have:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\n\nimport {User} from \"../classes/user\";\n\n@Component({\n    selector: 'login',\n    templateUrl: 'frontend/login/view.html',\n    styleUrls: ['frontend/login/style.css'],\n})\n\nexport class LoginComponent {\n    email: string;\n    emailError: boolean = false;\n    password: string;\n    passwordError: boolean = false;\n    persist: boolean;\n    user: User;\n\n    constructor(\n        private _http: Http\n    ) { }\n\n    login() {\n        var headers = new Headers();\n        headers.append('ContentType', 'application/json');\n        this.emailError = !this.email;\n        this.passwordError = !this.password;\n\n        if (this.emailError || this.passwordError) { return; }\n\n        this._http.post('http://localhost:81/login', JSON.stringify({username: this.email, password: this.password}), { headers: headers })\n            .map(res =&gt; res.json())\n            .subscribe(\n                user =&gt; this.user = user\n            );\n    }\n}\n</code></pre>\n\n<p>Anyone know if there's a way to strip this header? or is this possible something that Chrome is doing on it's own?</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462987572, "post_id": 37168623, "comment_id": 61873793, "body": "Do you have plunker?"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462988436, "post_id": 37168623, "comment_id": 61874352, "body": "In plunkr your can&#39;t have <code>ts</code> that&#39;s compiled to <code>js</code> then fed to Angular2. You could pass <code>ts</code> directly to Angular2 but that defeats the point here as this error won&#39;t happen (aka transpile in browser)."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462988509, "post_id": 37168623, "comment_id": 61874388, "body": "you could run this code separately in JScript debugger embedded in windows, but that won&#39;t help much either, since there has to be shims for IE as it won&#39;t understand <code>es6</code> syntax."}, {"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462988809, "post_id": 37168623, "comment_id": 61874579, "body": "I have an RC1 plunker I wrote for an unrelated issue, I just ran this in IE, I assume it&#39;s no longer needed explicit .js file required. <a href=\"http://plnkr.co/edit/cVLFb26LBZY9JqZGfNiu?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/cVLFb26LBZY9JqZGfNiu?p=preview</a>. Run my plunker in IE -- it works as I&#39;d expect it to..."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462989026, "post_id": 37168623, "comment_id": 61874743, "body": "It does because your plunk is transpiling in browser. Check my update, this is because of missing shims. I&#39;m not sure where to get it from as the beta shims don&#39;t do the job."}], "answers": [{"tags": [], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1463341334, "last_edit_date": 1463341334, "creation_date": 1463005914, "answer_id": 37174352, "question_id": 37168623, "link": "https://stackoverflow.com/questions/37168623/angular2-rc1-where-is-shims-for-ie/37174352#37174352", "title": "Angular2 rc1, where is shims_for_IE", "body": "<p>Easy fix. Download the <code>Typings</code> folder from beta.15 and place it under your project, then use <code>browser.d.ts</code> or simply downgrade to beta.15. Although I've seen solutions by installing typings package, it didn't work for me in Visual Studio.</p>\n"}], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 2, "accepted_answer_id": 37174352, "answer_count": 1, "score": 2, "last_activity_date": 1463341334, "creation_date": 1462984731, "last_edit_date": 1462991312, "question_id": 37168623, "link": "https://stackoverflow.com/questions/37168623/angular2-rc1-where-is-shims-for-ie", "title": "Angular2 rc1, where is shims_for_IE", "body": "<p>There used to be <code>shims_for_IE</code> in Angular2 package, but since rc1 it's removed. So what's the workaround to support IE9+ ?</p>\n\n<p>Error in IE 11 with rendering mode set to Edge:</p>\n\n<pre><code>Error: SyntaxError: Syntax error\n       at ZoneDelegate.prototype.invoke  (http://localhost:11111/node_modules/zone.js/dist/zone.js:321:14)\n       at Zone.prototype.run (http://localhost:11111/node_modules/zone.js/dist/zone.js:216:18)\n       at Anonymous function (http://localhost:11111/node_modules/zone.js/dist/zone.js:571:18)\n    Evaluating http://localhost:11111/Scripts/script.js\n    Error loading http://localhost:11111/Scripts/script.js\n</code></pre>\n\n<p>Error in IE 11 with rendering mode set to IE 9:</p>\n\n<pre><code>File: script\nError: Expected ';'\n    Evaluating http://localhost:11111/Scripts/script.js\n    Error loading http://localhost:51592/Scripts/script.js\n   {\n      [functions]: ,\n      description: \"Expected ';'\n    Evaluating http://localhost:11111/Scripts/script.js\n    Error loading http://localhost:11111/Scripts/script.js\",\n      message: \"Expected ';'\n    Evaluating http://localhost:11111/Scripts/script.js\n    Error loading http://localhost:11111/Scripts/script.js\",\n      name: \"Error\",\n      originalErr: { },\n      stack: null\n   }\n</code></pre>\n\n<p>The <code>script.js</code> generated from <code>script.ts</code> as <code>es6</code>:</p>\n\n<pre><code>/// &lt;amd-module name=\"script\" /&gt;\nSystem.register(\"script\", ['@angular/core', '@angular/platform-browser-dynamic'], function(exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 &amp;&amp; context_1.id;\n    var __decorate = (this &amp;&amp; this.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c &lt; 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" &amp;&amp; typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i &gt;= 0; i--) if (d = decorators[i]) r = (c &lt; 3 ? d(r) : c &gt; 3 ? d(target, key, r) : d(target, key)) || r;\n        return c &gt; 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r;\n    };\n    var __metadata = (this &amp;&amp; this.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" &amp;&amp; typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var core_1, platform_browser_dynamic_1;\n    var script;\n    return {\n        setters:[\n            function (core_1_1) {\n                core_1 = core_1_1;\n            },\n            function (platform_browser_dynamic_1_1) {\n                platform_browser_dynamic_1 = platform_browser_dynamic_1_1;\n            }],\n        execute: function() {\n            let script = class script {\n                constructor(element) {\n                    this.loginUrl = '';\n                    this.antiForgeryName = '';\n                    this.antiForgeryValue = '';\n                    this.loginError = '';\n                    this.submitted = false;\n                    this.loginUrl = element.nativeElement.getAttribute('loginurl');\n                    this.antiForgeryName = element.nativeElement.getAttribute('antiforgeryname');\n                    this.antiForgeryValue = element.nativeElement.getAttribute('antiforgeryvalue');\n                    this.loginError = element.nativeElement.getAttribute('loginError') == null ? \"\" : element.nativeElement.getAttribute('loginError');\n                }\n            };\n            script = __decorate([\n                core_1.Component({\n                    selector: 'script',\n                    templateUrl: '/Home/ScriptTemplate.html'\n                }), \n                __metadata('design:paramtypes', [core_1.ElementRef])\n            ], script);\n            exports_1(\"script\", script);\n            platform_browser_dynamic_1.bootstrap(script);\n        }\n    }\n});\n//# sourceMappingURL=script.js.map\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>So changing to follwing solves the issue which means shims are needed:</p>\n\n<pre><code> ...\n var script = function script() {\n     function() constructor(element) {\n        this.loginUrl = '';\n        this.antiForgeryName = '';\n        this.antiForgeryValue = '';\n        this.loginError = '';\n        this.submitted = false;\n        this.loginUrl = element.nativeElement.getAttribute('loginurl');\n        this.antiForgeryName = element.nativeElement.getAttribute('antiforgeryname');\n        this.antiForgeryValue = element.nativeElement.getAttribute('antiforgeryvalue');\n        this.loginError = element.nativeElement.getAttribute('loginError') == null ? \"\" : element.nativeElement.getAttribute('loginError');\n     }\n };\n ...\n</code></pre>\n\n<p>But this looks like <code>es3</code> transpile, which thanks to typescript is super impossible as i have tried every single <code>.d.ts</code> out there and it still complains promise not found, set not found, etc...\nsee: <a href=\"https://github.com/angular/angular/issues/7280\" rel=\"nofollow\">https://github.com/angular/angular/issues/7280</a> </p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 3912, "user_id": 7384435, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c10fc736279eca87fe67640a0105c41d?s=128&d=identicon&r=PG&f=1", "display_name": "dave0688", "link": "https://stackoverflow.com/users/7384435/dave0688"}, "edited": false, "score": 3, "creation_date": 1513160181, "post_id": 37168606, "comment_id": 82541960, "body": "Thanks for that nice solution! One question: What&#39;s the difference between Validators.compose([ // myValidators ]) and just passing the validators as an array as a third parameter without Validators.compose()?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3912, "user_id": 7384435, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c10fc736279eca87fe67640a0105c41d?s=128&d=identicon&r=PG&f=1", "display_name": "dave0688", "link": "https://stackoverflow.com/users/7384435/dave0688"}, "edited": false, "score": 3, "creation_date": 1513160258, "post_id": 37168606, "comment_id": 82542012, "body": "There isn&#39;t really a difference. As far as I remember, just passing them was not yet supported when I posted this answer (at least not for async validators)."}, {"owner": {"reputation": 4459, "user_id": 5583283, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-XBOd5Gy1rFY/AAAAAAAAAAI/AAAAAAAAACg/E77yua_J9lg/photo.jpg?sz=128", "display_name": "j3ff", "link": "https://stackoverflow.com/users/5583283/j3ff"}, "edited": false, "score": 1, "creation_date": 1527872000, "post_id": 37168606, "comment_id": 88306499, "body": "The issues regarding combinaison of sync and async validators seems to be resolved!"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 84, "last_activity_date": 1465033514, "last_edit_date": 1465033514, "creation_date": 1462984674, "answer_id": 37168606, "question_id": 37168571, "link": "https://stackoverflow.com/questions/37168571/angular-2-multiple-validators/37168606#37168606", "title": "Angular 2 Multiple validators", "body": "<p>You can combine validators using <code>Validators.compose()</code></p>\n\n<pre><code>this.username = new Control('', \n    Validators.compose(\n        [Validators.minLength(5), Validators.required]));\n</code></pre>\n\n<p>for async validators use</p>\n\n<pre><code>this.username = new Control('', null,\n    Validators.composeAsync(\n        [someAsyncValidator, otherAsyncValidator]));\n</code></pre>\n\n<p>There are open issues with async validators, especially sync validators combined with async validators don't work</p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular/issues/8923\" rel=\"noreferrer\">https://github.com/angular/angular/issues/8923</a></li>\n<li><a href=\"https://github.com/angular/angular/issues/1068\" rel=\"noreferrer\">https://github.com/angular/angular/issues/1068</a></li>\n</ul>\n\n<p>To make sync validators work with async validators, wrap the sync validators in promises and compose them as async valdiators like</p>\n\n<pre><code>this.username = new Control('', null,\n    Validators.composeAsync([\n        (control:Control) =&gt; Promise.resolve(Validators.minLength(5)(control)), \n        (control:Control) =&gt; Promise.resolve(Validators.required(control)),\n        someAsyncValidator, otherAsyncValidator\n    ]));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4477, "user_id": 2491541, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/4ce635c0ac4f98dbb90ce87eadba97f4?s=128&d=identicon&r=PG", "display_name": "Alaksandar Jesus Gene", "link": "https://stackoverflow.com/users/2491541/alaksandar-jesus-gene"}, "edited": false, "score": 0, "creation_date": 1524638406, "post_id": 43314902, "comment_id": 87047404, "body": "Hi..Can u have a look into this <a href=\"https://stackoverflow.com/questions/50015582/validators-composeasync-not-setting-error\" title=\"validators composeasync not setting error\">stackoverflow.com/questions/50015582/&hellip;</a>"}, {"owner": {"reputation": 11144, "user_id": 2176962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/be000b5e22ce83d9e2ecdfe559279030?s=128&d=identicon&r=PG", "display_name": "hgoebl", "link": "https://stackoverflow.com/users/2176962/hgoebl"}, "edited": false, "score": 0, "creation_date": 1529505619, "post_id": 43314902, "comment_id": 88899370, "body": "Thanks. I suppose one should return the <code>Promise.resolve(null)</code> in case of empty input."}], "tags": [], "owner": {"reputation": 18982, "user_id": 904725, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DgG1f.jpg?s=128&g=1", "display_name": "Timothy Perez", "link": "https://stackoverflow.com/users/904725/timothy-perez"}, "is_accepted": false, "score": 10, "last_activity_date": 1491802274, "last_edit_date": 1491802274, "creation_date": 1491797843, "answer_id": 43314902, "question_id": 37168571, "link": "https://stackoverflow.com/questions/37168571/angular-2-multiple-validators/43314902#43314902", "title": "Angular 2 Multiple validators", "body": "<p>I suggest utilizing the Validators.compose() method for combining all non-async validators and separately passing in the Validators.composeAsync() for any async calls. </p>\n\n<p>Basically the constructor args for FormControl are as follows:</p>\n\n<ol>\n<li>formState (or simply the initial starting value)</li>\n<li>validators (I suggest using <strong>Validators.compose</strong>([...]) here)</li>\n<li>asyncValidators (I suggest using <strong>Validators.composeAsync</strong>([...]) here)</li>\n</ol>\n\n<p><strong>Example using FormBuilder (feel free to use straight up Control):</strong></p>\n\n<pre><code>this.acctForm = this.fb.group({\n            'name': [\n                '',\n                Validators.compose([\n                    Validators.required, Validators.minLength(2), Validators.maxLength(20), Validators.pattern('[a-zA-Z]')\n                ])\n            ],\n            'cellNumber': [\n                '',\n                Validators.compose([\n                    Validators.required, Validators.pattern('[0-9]{10}')\n                ]),\n                Validators.composeAsync([\n                    this.checkPhoneValid.bind(this)\n                ])\n            ]\n        });\n</code></pre>\n\n<p>This helps avoid async validation until the non-async validators are valid (excl. the initial check, which can easily be handled, see further below).</p>\n\n<p><strong>Everything Combined Example (validators, asyncValidators &amp; debouncing):</strong></p>\n\n<pre><code>import { Component, Injectable, OnInit } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\n\n\n@Component({\n    selector: 'app-sandbox',\n    templateUrl: './sandbox.component.html',\n    providers: []\n})\nexport class FormControlsDemoComponent implements OnInit {\n    private debouncedTimeout;\n    public acctForm: FormGroup;\n\n    constructor(private http: Http, private fb: FormBuilder) {\n        // @note Http should never be directly injected into a component, for simplified demo sake...\n    }\n\n    ngOnInit() {\n        this.acctForm = this.fb.group({\n            // Simple Example with Multiple Validators (non-async)\n            'name': [\n                '',\n                Validators.compose([\n                    Validators.required, Validators.minLength(2), Validators.maxLength(20), Validators.pattern('[a-zA-Z]')\n                ])\n            ],\n            // Example which utilizes both Standard Validators with an Async Validator\n            'cellNumber': [\n                '',\n                Validators.compose([\n                    Validators.required, Validators.minLength(4), Validators.maxLength(15), Validators.pattern('[0-9]{10}')\n                ]),\n                Validators.composeAsync([\n                    this.checkPhoneValid.bind(this) // Important to bind 'this' (otherwise local member context is lost)\n                    /*\n                        @note if using a service method, it would look something like this...\n                        @example:\n                            this.myValidatorService.phoneUniq.bind(this.myValidatorService)\n                    */\n                ])\n            ],\n            // Example with both, but Async is implicitly Debounced\n            'userName': [\n                '',\n                Validators.compose([\n                    Validators.required, Validators.minLength(4), Validators.maxLength(15), Validators.pattern('[a-zA-Z0-9_-]')\n                ]),\n                Validators.composeAsync([\n                    this.checkUserUniq.bind(this) // @see above async validator notes regarding use of bind\n                ])\n            ]\n        });\n\n    }\n\n    /**\n     * Demo AsyncValidator Method\n     * @note - This should be in a service\n     */\n    private checkPhoneValid(control: AbstractControl): Promise&lt;any&gt; {\n        // Avoids initial check against an empty string\n        if (!control.value.length) {\n            Promise.resolve(null);\n        }\n\n        const q = new Promise((resolve, reject) =&gt; {\n            // determine result from an http response or something...\n            let result = true;\n\n            if (result) {\n                resolve(null);\n            } else {\n                resolve({'phoneValidCheck': false});\n            }\n        });\n        return q;\n    }\n\n    /**\n     * Demo AsyncValidator Method (Debounced)\n     * @note - This should be in a service\n     */\n    private checkUserUniq(control: AbstractControl): Promise&lt;any&gt; {\n        // Avoids initial check against an empty string\n        if (!control.value.length) {\n            Promise.resolve(null);\n        }\n\n        clearTimeout(this.debouncedTimeout);\n\n        const q = new Promise((resolve, reject) =&gt; {\n\n            this.debouncedTimeout = setTimeout(() =&gt; {\n\n                const req = this.http\n                    .post('/some/endpoint', { check: control.value })\n                    .map(res =&gt; {\n                        // some handler logic...\n                        return res;\n                    });\n\n                req.subscribe(isUniq =&gt; {\n                    if (isUniq) {\n                        resolve(null);\n                    } else {\n                        resolve({'usernameUnique': false });\n                    }\n                });\n\n            }, 300);\n        });\n        return q;\n    }\n\n}\n</code></pre>\n\n<p>Some people like to hack in debounced async validator by binding to the control's Observable valueChanges like this:</p>\n\n<pre><code>this.someControl.debounceTime(300).subscribe(val =&gt; {\n      // async call...\n});\n</code></pre>\n\n<p>I personally don't recommend this for most cases, as it adds unnecessary complications.</p>\n\n<blockquote>\n  <p>NOTE: This should work, as of the latest version of Angular (2 &amp; 4) since the\n  writing of this post.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 11718, "user_id": 2516399, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9b863a419fbe344810cfab0c03107c6e?s=128&d=identicon&r=PG", "display_name": "smartmouse", "link": "https://stackoverflow.com/users/2516399/smartmouse"}, "edited": false, "score": 0, "creation_date": 1613732881, "post_id": 45464389, "comment_id": 117172987, "body": "What is the difference with using <code>compose</code> ?"}], "tags": [], "owner": {"reputation": 4850, "user_id": 5027628, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/775f7682e74643f300c02ad46e3da1af?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Raonka", "link": "https://stackoverflow.com/users/5027628/ankit-raonka"}, "is_accepted": false, "score": 56, "last_activity_date": 1501686028, "creation_date": 1501686028, "answer_id": 45464389, "question_id": 37168571, "link": "https://stackoverflow.com/questions/37168571/angular-2-multiple-validators/45464389#45464389", "title": "Angular 2 Multiple validators", "body": "<p>this problem has been addressed</p>\n\n<p>you can make an array of validators</p>\n\n<pre><code>this.username = new FormControl('', [ Validators.minLength(5), Validators.required ]); \n</code></pre>\n"}], "owner": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44912, "favorite_count": 12, "accepted_answer_id": 37168606, "answer_count": 3, "score": 57, "last_activity_date": 1501686028, "creation_date": 1462984569, "question_id": 37168571, "link": "https://stackoverflow.com/questions/37168571/angular-2-multiple-validators", "title": "Angular 2 Multiple validators", "body": "<p>Is it possible to have multiple validators on a form field? I tried this, but it resulted in some strange errors (field was never valid, even if requirements were met)</p>\n\n<pre><code>this.username = new Control('', Validators.minLength(5), Validators.required);\n</code></pre>\n\n<p>How can I use multiple validators?</p>\n"}, {"tags": ["node.js", "express", "module", "typescript", "commonjs"], "answers": [{"comments": [{"owner": {"reputation": 1036, "user_id": 5523033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/K5pxl.jpg?s=128&g=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/5523033/andrei"}, "edited": false, "score": 1, "creation_date": 1463014473, "post_id": 37175234, "comment_id": 61885655, "body": "that meme is a killer, thank you very much for the link!"}, {"owner": {"reputation": 3303, "user_id": 4068027, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b5c1d08c138824b50de4fa61e8070441?s=128&d=identicon&r=PG&f=1", "display_name": "Aides", "link": "https://stackoverflow.com/users/4068027/aides"}, "edited": false, "score": 1, "creation_date": 1485273225, "post_id": 37175234, "comment_id": 70851821, "body": "Upgrading to TS2 using @types/express this throws a <code>error TS4023: Exported variable &#39;router&#39; has or is using name &#39;Router&#39; from external module &quot;[...]&#47;node_modules&#47;@types&#47;express-serve-static-core&#47;index&quot; but cannot be named.</code>. Any ideas how to fix that?"}, {"owner": {"reputation": 3303, "user_id": 4068027, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b5c1d08c138824b50de4fa61e8070441?s=128&d=identicon&r=PG&f=1", "display_name": "Aides", "link": "https://stackoverflow.com/users/4068027/aides"}, "edited": false, "score": 0, "creation_date": 1485335115, "post_id": 37175234, "comment_id": 70878893, "body": "Apparently the solution is to explicitly annotate the router variable (see <a href=\"http://stackoverflow.com/questions/41847314/exported-variable-router-has-or-is-using-name-router-from-external-module-bu\">http://stackoverflow.com/questions/41847314</a>)"}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1561996425, "post_id": 37175234, "comment_id": 100229899, "body": "oh, the meme is gone... :("}, {"owner": {"reputation": 500, "user_id": 8179980, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gdLiUYmHXcs/AAAAAAAAAAI/AAAAAAAAAqM/rRL0v6nAIrQ/photo.jpg?sz=128", "display_name": "Andres Gardiol", "link": "https://stackoverflow.com/users/8179980/andres-gardiol"}, "edited": false, "score": 0, "creation_date": 1568214811, "post_id": 37175234, "comment_id": 102205696, "body": "Have a problem on: <code>export = router;</code> &quot;Export assignment cannot be used when targeting ECMAScript modules. Consider using &#39;export default&#39; or another module format instead.&quot;"}, {"owner": {"reputation": 1036, "user_id": 5523033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/K5pxl.jpg?s=128&g=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/5523033/andrei"}, "reply_to_user": {"reputation": 500, "user_id": 8179980, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gdLiUYmHXcs/AAAAAAAAAAI/AAAAAAAAAqM/rRL0v6nAIrQ/photo.jpg?sz=128", "display_name": "Andres Gardiol", "link": "https://stackoverflow.com/users/8179980/andres-gardiol"}, "edited": false, "score": 0, "creation_date": 1573746711, "post_id": 37175234, "comment_id": 103992466, "body": "@AndresGardiol using ECMAScript modules aka es2015 modules, if I&#39;m not mistaken it&#39;s simply <code>export router;</code>. When I originally posted this it was based on Node.js module system which had an object <code>export</code> that could be used. With the new module import/export system I believe it should work."}, {"owner": {"reputation": 1130, "user_id": 1535767, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df71add3a164cd18b6cb7eca9f40ba37?s=128&d=identicon&r=PG", "display_name": "user0103", "link": "https://stackoverflow.com/users/1535767/user0103"}, "edited": false, "score": 1, "creation_date": 1602683070, "post_id": 37175234, "comment_id": 113798039, "body": "Memes on StackOverflow... Rare thing to see xD"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 28, "last_activity_date": 1570217676, "last_edit_date": 1570217676, "creation_date": 1463011960, "answer_id": 37175234, "question_id": 37167602, "link": "https://stackoverflow.com/questions/37167602/typescript-node-js-express-routes-separated-files-best-practices/37175234#37175234", "title": "typescript node.js express routes separated files best practices", "body": "<h1>Answer</h1>\n\n<p>In NodeJS <em>each file is a module</em>. Declaring variables <em>does not pollute the global namespace</em>. So you don't need to use the good old <code>IIFE</code> trick to properly scope variables (and prevent global pollution / collision). </p>\n\n<p>You would write: </p>\n\n<pre><code>  import * as express from \"express\";\n\n  // import sub-routers\n  import * as adminRouter from \"./admin/admin\";\n  import * as productRouter from \"./products/products\";\n\n  let router = express.Router();\n\n  // mount express paths, any addition middleware can be added as well.\n  // ex. router.use('/pathway', middleware_function, sub-router);\n\n  router.use('/products', productRouter);\n  router.use('/admin', adminRouter);\n\n  // Export the router\n  export = router;\n</code></pre>\n\n<h1>More on modules</h1>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/content/docs/project/modules.html\" rel=\"noreferrer\">https://basarat.gitbooks.io/typescript/content/docs/project/modules.html</a></p>\n\n<h1>My reaction \ud83c\udf39</h1>\n\n<blockquote>\n  <p>my main question really is, is index.ts (masterRouter file) and it's nested routes that are IIFe's <code>export = (function(){})();</code> should that be the correct/best way to write typescript modules for routers</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/fBsAM.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fBsAM.jpg\" alt=\"\"></a><br>\n<sub>(source: <a href=\"http://memesvault.com/wp-content/uploads/Hell-No-Meme-Gif-13.jpg\" rel=\"noreferrer\">memesvault.com</a>)</sub>  </p>\n"}], "owner": {"reputation": 1036, "user_id": 5523033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/K5pxl.jpg?s=128&g=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/5523033/andrei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27809, "favorite_count": 4, "accepted_answer_id": 37175234, "answer_count": 1, "score": 14, "last_activity_date": 1570217676, "creation_date": 1462981796, "question_id": 37167602, "link": "https://stackoverflow.com/questions/37167602/typescript-node-js-express-routes-separated-files-best-practices", "title": "typescript node.js express routes separated files best practices", "body": "<p>using Express in a Node project along with Typescript what would be the \"best practices\" for express.Router.</p>\n\n<p>example directory structure</p>\n\n<pre><code>|directory_name\n  ---server.js\n  |--node_modules\n  |--routes\n     ---index.ts\n     |--admin\n        ---admin.ts\n     |--products\n        ---products.ts\n     |--authentication\n        ---authentication.ts\n</code></pre>\n\n<p>so inside index.ts it would encapsulate and manage all the sub-routers</p>\n\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    //admin.ts (nested inside of index.ts)\r\n    import * as express from \"express\";\r\n\r\n    export = (() =&gt; {\r\n        \r\n        let router = express.Router();\r\n              \r\n        router.get('/admin', (req, res) =&gt; {\r\n            res.json({success: true});\r\n        });\r\n        \r\n        return router;\r\n    })();</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    //index.ts (master file for express.Router)\r\n\r\n    import * as express from \"express\";\r\n\r\n    //import sub-routers\r\n    import * as adminRouter from \"./admin/admin\";\r\n    import * as productRouter from \"./products/products\";\r\n\r\n    export = (() =&gt; {\r\n\r\n      let router = express.Router();\r\n\r\n      // mount express paths, any addition middleware can be added as well.\r\n      // ex. router.use('/pathway', middleware_function, sub-router);\r\n\r\n      router.use('/products', productRouter);\r\n      router.use('/admin', adminRouter);\r\n\r\n      //return for revealing module pattern\r\n      return router;\r\n    })(); //&lt;--- this is where I don't understand something....</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>lastly we would set-up our server.js</p>\n\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    //the usual node setup\r\n    //import * as *** http, body-parser, morgan, mongoose, express &lt;-- psudocode\r\n\r\n    import * as masterRouter from './routes/index'\r\n\r\n    var app = express();\r\n    //set-up all app.use()\r\n\r\n    app.use('/api', masterRouter);\r\n\r\n    http.createServer(app).listen(8080, () =&gt; {\r\n          console.log('listening on port 8080')\r\n        };</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n\n<p>my main question really is, is index.ts (masterRouter file) and it's nested routes that are IIFe's </p>\n\n<p>export = (function(){})(); </p>\n\n<p>should that be the correct/best way to write typescript modules for routers? </p>\n\n<p>or would it be better to use another pattern, perhaps one the utilizes the pattern </p>\n\n<blockquote>\n  <p>export function fnName() {} -- export class cName {} -- export default.</p>\n</blockquote>\n\n<p>the reason for the IIFe is that when i import them into another file i won't need to initialize the module and there will only ever be 1 instance of each type of router.</p>\n"}, {"tags": ["typescript", "angular", "karma-runner", "karma-jasmine", "systemjs"], "comments": [{"owner": {"reputation": 7464, "user_id": 2858934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f29dc8d5bede9c5045b3948149ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2858934/thomas"}, "edited": false, "score": 0, "creation_date": 1462980506, "post_id": 37167086, "comment_id": 61869387, "body": "Have you checked this tutorial and the sample project? <a href=\"https://jaxenter.com/awesome-testing-with-netbeans-angular-2-and-typescript-126078.html\" rel=\"nofollow noreferrer\">jaxenter.com/&hellip;</a>"}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "reply_to_user": {"reputation": 7464, "user_id": 2858934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f29dc8d5bede9c5045b3948149ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2858934/thomas"}, "edited": false, "score": 0, "creation_date": 1462981714, "post_id": 37167086, "comment_id": 61870210, "body": "Thanks Thomas. I had a look at the suggested sample project but it is not based upon Karma-SystemJS. Have you personally managed to get a Karma/SystemJs/Typescript project?"}, {"owner": {"reputation": 7464, "user_id": 2858934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f29dc8d5bede9c5045b3948149ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2858934/thomas"}, "edited": false, "score": 0, "creation_date": 1462983559, "post_id": 37167086, "comment_id": 61871461, "body": "The sample is using System.js, but based on older Angular 2 version. I assume that you configure your System.js wrong in the karma-shim. Do you have a &#39;base&#39; directory?"}, {"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 1, "creation_date": 1462986850, "post_id": 37167086, "comment_id": 61873357, "body": "@balteo I suggest you install the <code>angular-cli</code> and generate a project there, the karma setup in generated projects uses the same tool chain. (TypeScript, Karma, SystemJS)"}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 2, "creation_date": 1463036505, "post_id": 37167086, "comment_id": 61892669, "body": "Thanks all for your suggestions. I am rather trying to pinpoint what is wrong with my configuration by understanding the root of the problem."}], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 2316975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a0fa84b1d0c7fd3375febe8296dc09?s=128&d=identicon&r=PG", "display_name": "Daniel Antunes Pinto", "link": "https://stackoverflow.com/users/2316975/daniel-antunes-pinto"}, "edited": false, "score": 0, "creation_date": 1472920752, "post_id": 37173545, "comment_id": 65950863, "body": "including system-polyfill saved me when running with phantomjs"}, {"owner": {"reputation": 1473, "user_id": 2509778, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/607ae83f5c128f287ee5966393c5fcbc?s=128&d=identicon&r=PG", "display_name": "longbow", "link": "https://stackoverflow.com/users/2509778/longbow"}, "edited": false, "score": 0, "creation_date": 1473258138, "post_id": 37173545, "comment_id": 66072839, "body": "actually with this i got the same problem like without it, i clone her repo and run build then tests, 0 of 0 tests - karma wont match to any file path"}, {"owner": {"reputation": 19602, "user_id": 1291428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/85d9cc8609ffd73e99a31a1120ccfdaa?s=128&d=identicon&r=PG", "display_name": "Sebas", "link": "https://stackoverflow.com/users/1291428/sebas"}, "reply_to_user": {"reputation": 1473, "user_id": 2509778, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/607ae83f5c128f287ee5966393c5fcbc?s=128&d=identicon&r=PG", "display_name": "longbow", "link": "https://stackoverflow.com/users/2509778/longbow"}, "edited": false, "score": 0, "creation_date": 1481541389, "post_id": 37173545, "comment_id": 69403320, "body": "@longbow make sure you don&#39;t have symlinks in your path, or that symlinks are correctly followed"}], "tags": [], "owner": {"reputation": 1179, "user_id": 2279201, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2f04e7c9dc5402c4d3b498b3360b5f62?s=128&d=identicon&r=PG", "display_name": "ribsies", "link": "https://stackoverflow.com/users/2279201/ribsies"}, "is_accepted": false, "score": 5, "last_activity_date": 1463001881, "creation_date": 1463001881, "answer_id": 37173545, "question_id": 37167086, "link": "https://stackoverflow.com/questions/37167086/issues-getting-karma-to-work-with-systemjs-angular2-and-typescript/37173545#37173545", "title": "Issues getting Karma to work with SystemJS, Angular2 and Typescript", "body": "<p>I've spent the past couple days looking at all the different A2 seeds/clis and 90% of them are using old A2 code and I found it to be difficult to interpret them into the newest A2 code.</p>\n\n<p>I eventually found this. <a href=\"https://github.com/juliemr/ng2-test-seed\">https://github.com/juliemr/ng2-test-seed</a></p>\n\n<p>This got my karma tests running with systemjs. It is a very nice very simple project that gets the basics and no extra garbage forced on you.</p>\n\n<p>You will need to change some file urls around to match whatever you are working with. Using this as I guide, I was able to get unit tests running with typescript and systemjs.</p>\n"}, {"comments": [{"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1464625054, "post_id": 37529589, "comment_id": 62550708, "body": "Thanks Thierry. I have adapted my configuration to match yours. I get an error on mac osX that several peoples are getting with karma 0.13.22 see here: <a href=\"https://github.com/karma-runner/karma/issues/1751#issuecomment-220630693\" rel=\"nofollow noreferrer\">github.com/karma-runner/karma/issues/&hellip;</a>"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 1, "creation_date": 1464945083, "post_id": 37529589, "comment_id": 62704115, "body": "Most of times, this error corresponds to a wrong path in your <code>files</code> configuration. For example: <code>{pattern: &#39;node_modules&#47;zone.js&#47;dist&#47;zonejs.js&#39;, included: true, watched: true},</code> instanceof <code>{pattern: &#39;node_modules&#47;zone.js&#47;dist&#47;zone.js&#39;, included: true, watched: true},</code>. In old versions of Karma, the message isn&#39;t very explicit ;-) It was fixed in latest versions..."}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1465045747, "post_id": 37529589, "comment_id": 62742926, "body": "I use the latest version of Karma though"}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1465046763, "post_id": 37529589, "comment_id": 62743280, "body": "Do you have any tips to get more explicit error message? Which version are you referring to by &quot;latest versions&quot;?"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 4, "last_activity_date": 1464623367, "creation_date": 1464623367, "answer_id": 37529589, "question_id": 37167086, "link": "https://stackoverflow.com/questions/37167086/issues-getting-karma-to-work-with-systemjs-angular2-and-typescript/37529589#37529589", "title": "Issues getting Karma to work with SystemJS, Angular2 and Typescript", "body": "<p>I can see several problem in what you did.</p>\n\n<p>First I think that you configure twice SystemJS:</p>\n\n<ul>\n<li>once in the <code>test-shim-karma.js</code> file</li>\n<li>once in the <code>karma.conf.js</code> one throught the SystemJS karma plugin.</li>\n</ul>\n\n<p>Then you don't configure your source modules that will be used within your spec files:</p>\n\n<pre><code>packages['base/app'] = {\n  defaultExtension: 'js',\n  format: 'cjs',\n  map: Object.keys(window.__karma__.files).filter(onlyAppFiles).reduce(createPathRecords, {})\n};\n</code></pre>\n\n<p>You call several times the <code>System.config</code> method.</p>\n\n<p>I would also add some entries in the <code>files</code> section of your <code>karma.conf.js</code> file:</p>\n\n<pre><code>files: [\n  // Paths loaded by Karma\n  {pattern: 'node_modules/es6-shim/es6-shim.min.js', included: true, watched: true},\n  {pattern: 'node_modules/reflect-metadata/Reflect.js', included: true, watched: true},\n  {pattern: 'node_modules/zone.js/dist/zone.js', included: true, watched: true},\n  {pattern: 'node_modules/zone.js/dist/async-test.js', included: true, watched: true},\n  {pattern: 'node_modules/systemjs/dist/system-polyfills.js', included: true, watched: true},\n  {pattern: 'node_modules/systemjs/dist/system.src.js', included: true, watched: true},\n  {pattern: 'node_modules/rxjs/**/*.js', included: false, watched: false},\n  {pattern: 'node_modules/@angular/**/*.js', included: false, watched: false},\n  {pattern: 'karma-test-shim.js', included: true, watched: true},\n\n  // Paths loaded via module imports\n  {pattern: 'app/**/*.js', included: false, watched: true},\n\n  // Paths to support debugging with source maps in dev tools\n  {pattern: 'app/**/*.ts', included: false, watched: true},\n  {pattern: 'app/**/*.js.map', included: false, watched: false}\n],\n</code></pre>\n\n<p>You could have a look at this project for a working configuration of Karma with Angular2 RC1 and TypeScript:</p>\n\n<ul>\n<li><a href=\"https://github.com/templth/geo-open-data-viz/tree/v2\" rel=\"nofollow\">https://github.com/templth/geo-open-data-viz/tree/v2</a></li>\n</ul>\n"}], "owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8350, "favorite_count": 0, "accepted_answer_id": 37529589, "answer_count": 2, "score": 12, "last_activity_date": 1464623367, "creation_date": 1462980401, "question_id": 37167086, "link": "https://stackoverflow.com/questions/37167086/issues-getting-karma-to-work-with-systemjs-angular2-and-typescript", "title": "Issues getting Karma to work with SystemJS, Angular2 and Typescript", "body": "<p>I am facing issues getting Karma to work with SystemJS, Angular2 and Typescript.</p>\n\n<p>Here is my karma.conf.js:</p>\n\n<pre><code>'use strict';\nmodule.exports = function (config) {\n    config.set({\n\n        // base path, that will be used to resolve files and exclude\n        basePath: '.',\n\n        // frameworks to use\n        frameworks: ['systemjs', 'jasmine'],\n\n        plugins: ['karma-systemjs', 'karma-jasmine', 'karma-phantomjs-launcher'],\n\n        files: [\n            'node_modules/reflect-metadata/Reflect.js',\n            'app/**/*.spec.ts',\n            //'jspm_packages/system-polyfills.js',\n            'karma-test-shim.js'\n        ],\n\n        systemjs: {\n            configFile: \"systemjs.config.js\",\n            config: {\n                //baseURL: \".\",\n                transpiler: \"typescript\",\n                paths: {\n                    \"systemjs\": \"jspm_packages/system.js\",\n                    \"system-polyfills\": \"jspm_packages/system-polyfills.js\",\n                    \"typescript\": \"node_modules/typescript/lib/typescript.js\"\n                },\n                packages: {\n                    'app': {\n                        defaultExtension: 'ts'\n                    }\n                }\n            },\n            includeFiles: [\n                'node_modules/reflect-metadata/Reflect.js'\n            ],\n            serveFiles: [\n                'app/**/*.ts',\n                'main-bundle.js'\n            ]\n        },\n\n\n        // proxied base paths\n        proxies: {\n            // required for component assets fetched by Angular's compiler\n            \"/app/\": \"/base/app/\",\n            \"/jspm_packages/\": \"/base/jspm_packages/\",\n            \"/node_modules/\": \"/base/node_modules/\"\n        },\n\n\n        // list of files to exclude\n        exclude: [],\n\n\n        // web server port\n        port: 9876,\n\n\n        // enable / disable colors in the output (reporters and logs)\n        colors: true,\n\n\n        // level of logging\n        // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG\n        logLevel: config.LOG_DEBUG,\n\n\n        // enable / disable watching file and executing tests whenever any file changes\n        autoWatch: false,\n\n\n        // Start these browsers, currently available:\n        // - Chrome\n        // - ChromeCanary\n        // - Firefox\n        // - Opera\n        // - Safari (only Mac)\n        // - PhantomJS\n        // - IE (only Windows)\n        browsers: ['PhantomJS'],\n\n\n        // If browser does not capture in given timeout [ms], kill it\n        captureTimeout: 60000,\n\n\n        // Continuous Integration mode\n        // if true, it capture browsers, run tests and exit\n        singleRun: true\n    });\n};\n</code></pre>\n\n<p>My karma-test-shim.js:</p>\n\n<pre><code>/*global jasmine, __karma__, window*/\nError.stackTraceLimit = Infinity;\njasmine.DEFAULT_TIMEOUT_INTERVAL = 1000;\n\n__karma__.loaded = function () {\n};\n\n\nfunction isJsFile(path) {\n    return path.slice(-3) == '.js';\n}\n\nfunction isSpecFile(path) {\n    return path.slice(-8) == '.spec.js';\n}\n\nfunction isBuiltFile(path) {\n    var builtPath = '/base/app/';\n    return isJsFile(path) &amp;&amp; (path.substr(0, builtPath.length) == builtPath);\n}\n\nvar allSpecFiles = Object.keys(window.__karma__.files)\n    .filter(isSpecFile)\n    .filter(isBuiltFile);\n\n// Load our SystemJS configuration.\nSystem.config({\n    baseURL: '/base'\n});\n\nSystem.config(\n    {\n        map: {\n            'rxjs': 'node_modules/rxjs',\n            '@angular': 'node_modules/@angular',\n            'app': 'app'\n        },\n        packages: {\n            'app': {\n                main: 'main.js',\n                defaultExtension: 'js'\n            },\n            '@angular/core': {\n                main: 'index.js',\n                defaultExtension: 'js'\n            },\n            '@angular/compiler': {\n                main: 'index.js',\n                defaultExtension: 'js'\n            },\n            '@angular/common': {\n                main: 'index.js',\n                defaultExtension: 'js'\n            },\n            '@angular/platform-browser': {\n                main: 'index.js',\n                defaultExtension: 'js'\n            },\n            '@angular/platform-browser-dynamic': {\n                main: 'index.js',\n                defaultExtension: 'js'\n            },\n            'rxjs': {\n                defaultExtension: 'js'\n            }\n        }\n    });\n\nPromise.all([\n    System.import('@angular/core/testing'),\n    System.import('@angular/platform-browser-dynamic/testing')\n]).then(function (providers) {\n    var testing = providers[0];\n    var testingBrowser = providers[1];\n\n    testing.setBaseTestProviders(testingBrowser.TEST_BROWSER_DYNAMIC_PLATFORM_PROVIDERS,\n        testingBrowser.TEST_BROWSER_DYNAMIC_APPLICATION_PROVIDERS);\n\n}).then(function() {\n    // Finally, load all spec files.\n    // This will run the tests directly.\n    return Promise.all(\n        allSpecFiles.map(function (moduleName) {\n            return System.import(moduleName);\n        }));\n}).then(__karma__.start, __karma__.error);\n</code></pre>\n\n<p>My systemjs.config.js:</p>\n\n<pre><code>(function (global) {\n\n    // map tells the System loader where to look for things\n    var map = {\n        'app': 'app', // 'dist',\n        'rxjs': 'node_modules/rxjs',\n        'angular2-in-memory-web-api': 'node_modules/angular2-in-memory-web-api',\n        '@angular': 'node_modules/@angular',\n        'crypto': '@empty'// this fixed my last issue\n    };\n\n    // packages tells the System loader how to load when no filename and/or no extension\n    var packages = {\n        'app': {main: 'main.js', defaultExtension: 'js'},\n        'rxjs': {defaultExtension: 'js'},\n        'angular2-in-memory-web-api': {defaultExtension: 'js'}\n    };\n\n    var packageNames = [\n        '@angular/common',\n        '@angular/compiler',\n        '@angular/core',\n        '@angular/http',\n        '@angular/platform-browser',\n        '@angular/platform-browser-dynamic',\n        '@angular/router',\n        '@angular/upgrade'\n    ];\n\n    // add package entries for angular packages in the form '@angular/common': { main: 'index.js', defaultExtension: 'js' }\n    packageNames.forEach(function (pkgName) {\n        packages[pkgName] = {main: 'index.js', defaultExtension: 'js'};\n    });\n\n    var config = {\n        map: map,\n        packages: packages\n    };\n\n    // filterSystemConfig - index.html's chance to modify config before we register it.\n    if (global.filterSystemConfig) {\n        global.filterSystemConfig(config);\n    }\n\n    System.config(config);\n\n})(this);\n</code></pre>\n\n<p>When I run my tests with <code>karma start karma.conf.js</code> and my tests are located alongside the main <code>ts</code> files.</p>\n\n<p>I get this error:</p>\n\n<pre><code>11 05 2016 17:02:24.306:DEBUG [web-server]: serving (cached): /Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/node_modules/typescript/lib/typescript.js\nPhantomJS 2.1.1 (Mac OS X 0.0.0) ERROR\n  Error: eval code\n    eval@[native code]\n    F@/Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/jspm_packages/system-polyfills.js:4:12217\n    H@/Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/jspm_packages/system-polyfills.js:4:11846\n    when@/Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/jspm_packages/system-polyfills.js:4:15520\n    run@/Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/jspm_packages/system-polyfills.js:4:14559\n    _drain@/Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/jspm_packages/system-polyfills.js:4:3250\n    drain@/Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/jspm_packages/system-polyfills.js:4:1667\n    Evaluating /Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/karma-test-shim.js\n    Error loading /Users/julien/Documents/projects/bignibou/bignibou-site/bignibou-client/karma-test-shim.js\n\n\n11 05 2016 17:02:24.316:DEBUG [karma]: Run complete, exiting.\n11 05 2016 17:02:24.316:DEBUG [launcher]: Disconnecting all browsers\n11 05 2016 17:02:24.324:DEBUG [launcher]: Process PhantomJS exited with code 0\n11 05 2016 17:02:24.324:DEBUG [temp-dir]: Cleaning temp dir /var/folders/1p/pcqq7s0x58l_s7ds52gxt_fw0000gp/T/karma-62098834\n11 05 2016 17:02:24.329:DEBUG [launcher]: Finished all browsers\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n\n<p>Can anyone please help?</p>\n"}, {"tags": ["angularjs", "typescript", "visual-studio-2015", "gulp", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 5810, "user_id": 846844, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5iC1B.png?s=128&g=1", "display_name": "Hoppe", "link": "https://stackoverflow.com/users/846844/hoppe"}, "edited": false, "score": 0, "creation_date": 1462985538, "post_id": 37167353, "comment_id": 61872611, "body": "Also, I think that you can place this in any TS file with any file name"}, {"owner": {"reputation": 2661, "user_id": 1787868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAdVw.jpg?s=128&g=1", "display_name": "Steffen", "link": "https://stackoverflow.com/users/1787868/steffen"}, "edited": false, "score": 0, "creation_date": 1462991424, "post_id": 37167353, "comment_id": 61876095, "body": "Yes, you can add those references directly to your .ts files but in vscode such a reference is not required if you have a tsconfig.json in your workspace root. Please check if your tsconfig.json and typings directory are booth at the root level of your vscode workspace."}, {"owner": {"reputation": 5810, "user_id": 846844, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5iC1B.png?s=128&g=1", "display_name": "Hoppe", "link": "https://stackoverflow.com/users/846844/hoppe"}, "edited": false, "score": 1, "creation_date": 1462993278, "post_id": 37167353, "comment_id": 61877132, "body": "Both my tsconfig.json and typings directory are in the root of my website. It does not work without adding the aforementioned reference path=&quot;...&quot;"}], "tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": true, "score": 3, "last_activity_date": 1598897532, "last_edit_date": 1598897532, "creation_date": 1462981173, "answer_id": 37167353, "question_id": 37166929, "link": "https://stackoverflow.com/questions/37166929/use-typings-in-vscode-without-reference-path-for-each-d-ts/37167353#37167353", "title": "Use typings in vscode without reference path for each d.ts", "body": "<p>Add a <strong>main.d.ts</strong> file in your app folder. (Or the src folder where all your ts file resides) with below content, (check the relative path based upon your project structure)</p>\n<pre><code>/// &lt;reference path=&quot;../typings/main.d.ts&quot; /&gt;\n</code></pre>\n<p>you might have to restart VS code.</p>\n"}, {"comments": [{"owner": {"reputation": 5810, "user_id": 846844, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5iC1B.png?s=128&g=1", "display_name": "Hoppe", "link": "https://stackoverflow.com/users/846844/hoppe"}, "edited": false, "score": 0, "creation_date": 1462989685, "post_id": 37167512, "comment_id": 61875118, "body": "I want to switch back and forth between vscode and visual studio. This is needed for visual studio build correctly"}], "tags": [], "owner": {"reputation": 531, "user_id": 1654527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5fa231b3bb4982ae24371d177681b7?s=128&d=identicon&r=PG", "display_name": "Piper", "link": "https://stackoverflow.com/users/1654527/piper"}, "is_accepted": false, "score": 1, "last_activity_date": 1462981574, "creation_date": 1462981574, "answer_id": 37167512, "question_id": 37166929, "link": "https://stackoverflow.com/questions/37166929/use-typings-in-vscode-without-reference-path-for-each-d-ts/37167512#37167512", "title": "Use typings in vscode without reference path for each d.ts", "body": "<p>Maybe you shouldn't exclude <code>typings/main.d.ts</code> as you seem to do. This file is the entry point that includes all registered type defs and hence also angular.</p>\n"}, {"tags": [], "owner": {"reputation": 2661, "user_id": 1787868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAdVw.jpg?s=128&g=1", "display_name": "Steffen", "link": "https://stackoverflow.com/users/1787868/steffen"}, "is_accepted": false, "score": 0, "last_activity_date": 1462990449, "last_edit_date": 1592644375, "creation_date": 1462990099, "answer_id": 37170297, "question_id": 37166929, "link": "https://stackoverflow.com/questions/37166929/use-typings-in-vscode-without-reference-path-for-each-d-ts/37170297#37170297", "title": "Use typings in vscode without reference path for each d.ts", "body": "<p>A tsconfig (or jsconfig) in your workspace root is required for vscode to automatically pick up type definitions from typings directory in your workspace root.\nIn the following example only browser .d.ts-files are used.</p>\n<h3>tsconfig.json</h3>\n<pre><code>{\n    &quot;compilerOptions&quot;: {\n        &quot;target&quot;: &quot;es5&quot;,\n        &quot;sourceMap&quot;: true    \n    },\n    &quot;exclude&quot;: [\n        &quot;typings/main.d.ts&quot;,\n        &quot;typings/main&quot;,\n        &quot;node_modules&quot;\n    ]\n}\n</code></pre>\n<p>To install additional typings you can use the following <a href=\"https://github.com/typings/typings\" rel=\"nofollow noreferrer\">typings</a> command</p>\n<pre><code>typings install --ambient jquery --save\n</code></pre>\n<p>or use one of the following vscode extensions:</p>\n<ul>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=benjaminromano.typings-installer\" rel=\"nofollow noreferrer\">typings-installer</a></li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=jvitor83.typings-autoinstaller\" rel=\"nofollow noreferrer\">typings-autoinstaller</a></li>\n</ul>\n"}], "owner": {"reputation": 5810, "user_id": 846844, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5iC1B.png?s=128&g=1", "display_name": "Hoppe", "link": "https://stackoverflow.com/users/846844/hoppe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3582, "favorite_count": 1, "accepted_answer_id": 37167353, "answer_count": 3, "score": 1, "last_activity_date": 1598897532, "creation_date": 1462979952, "last_edit_date": 1495535316, "question_id": 37166929, "link": "https://stackoverflow.com/questions/37166929/use-typings-in-vscode-without-reference-path-for-each-d-ts", "title": "Use typings in vscode without reference path for each d.ts", "body": "<p>I have TypeScript and Typings working in vs2015 with the Web Analyzer plugin. I've resolved all vs2015 errors. Now I am trying to set it up in vscode. I've setup a gulp task and vscode reports:</p>\n\n<blockquote>\n  <p>error TS2304: Cannot find name 'angular'</p>\n</blockquote>\n\n<p>I can resolve it with the following line, but is there a simpler way than listing out each file individually? I.e., vs2015 compiles the TypeScript without issue and knows how to use the Typings files.</p>\n\n<pre><code>/// &lt;reference path=\"../typings/browser/ambient/angular/index.d.ts\" /&gt;\n</code></pre>\n\n<p>I started with gulp-tsc and also tried gulp-typescript, but both require this.</p>\n\n<pre><code>var tsc = require(\"gulp-tsc\");\nvar typescript = require(\"gulp-typescript\");\nvar $ = require(\"gulp-load-plugins\")({ lazy: true });\n\ngulp.task(\"ts-watcher\", function() {\n    gulp.watch(\"./app/**/*.ts\", [\"ts-compile\"]);\n});\n\ngulp.task(\"ts-compile\", function() {    \n    var tsProject = typescript.createProject('tsconfig.json');\n\n    return gulp.src(config.allts) //[\"./app/**/*.ts\"]\n        .pipe(typescript(tsProject))\n        .pipe(gulp.dest(\"dest/\"));    \n});\n\ngulp.task(\"default\", [\"ts-watcher\"]);\n\n{\n\"compilerOptions\": {\n  \"module\": \"amd\",\n  \"rootDir\": \"src\",\n  \"sourceMap\": true,\n  \"target\": \"es5\",\n  \"removeComments\": true,\n  \"outFile\": \"./build/build.js\"\n},\n\"compileOnSave\": true,\n\"exclude\": [\n  \"node_modules\",\n  \"typings/main\",\n  \"typings/main.d.ts\",\n  \"packages\"\n]\n</code></pre>\n\n<p>}</p>\n\n<p>My typings folder is in the same folder as tsconfig.json.</p>\n\n<p>Restarting VSCode did not help.</p>\n\n<p>This is similar to <a href=\"https://stackoverflow.com/questions/32296299/including-d-ts-type-definition-files-in-vscode\">Including d.ts type definition files in VSCode</a>, but I am 1) including more information, 2) using VSCode 1.1.0, and 3) I have a TSconfig, <strong>not</strong> a JSconfig. Would a jsconfig help?</p>\n"}, {"tags": ["typescript", "angular", "systemjs"], "owner": {"reputation": 9023, "user_id": 88522, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb8356b943635fa91d639ec551f327f7?s=128&d=identicon&r=PG", "display_name": "Ronald Zar\u012bts", "link": "https://stackoverflow.com/users/88522/ronald-zar%c4%abts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1462979790, "creation_date": 1462979790, "question_id": 37166868, "link": "https://stackoverflow.com/questions/37166868/angular-2-systemjs-typescript-which-module-format-to-target", "title": "Angular 2 + SystemJS + TypeScript: which module format to target?", "body": "<p>TypeScript can output .js in a number of module formats - CommonJS, System, ES 2015, etc. </p>\n\n<p>Which is the most appropriate target for the application modules when using the <a href=\"https://github.com/systemjs/systemjs\" rel=\"nofollow\">SystemJS</a> loader? What I've found:</p>\n\n<ul>\n<li>Angular 2 itself seems to be targeting CommonJS <a href=\"https://github.com/angular/angular/issues/4278\" rel=\"nofollow\">(source)</a>, because it's smaller and enables workflows with WebPack. But if WebPack is not used, it the best choice for System.JS?</li>\n<li>The Angular 2 <a href=\"https://angular.io/docs/ts/latest/quickstart.html#!#devenv\" rel=\"nofollow\">Quick Start</a> uses CommonJS. </li>\n</ul>\n\n<p>Size is an obvious advantage for CommonJS, but is it the only consideration? Isn't the System format more modern and future-proof (i.e. browsers one day supporting the System object natively).</p>\n\n<p>What about Angular 2 server side rendering? Would that impose restrictions on the module format?</p>\n"}, {"tags": ["typescript", "source-maps"], "comments": [{"owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "edited": false, "score": 1, "creation_date": 1462984175, "post_id": 37166295, "comment_id": 61871825, "body": "What have you tried? Can you give us more context, like the way you compile your TS?"}, {"owner": {"reputation": 5049, "user_id": 3593640, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ily9M.jpg?s=128&g=1", "display_name": "Rashmin Javiya", "link": "https://stackoverflow.com/users/3593640/rashmin-javiya"}, "edited": false, "score": 0, "creation_date": 1616141955, "post_id": 37166295, "comment_id": 117914849, "body": "@Abel were you able to fix it?"}], "answers": [{"tags": [], "owner": {"reputation": 9245, "user_id": 25868, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/4LaN5.jpg?s=128&g=1", "display_name": "Ashley Davis", "link": "https://stackoverflow.com/users/25868/ashley-davis"}, "is_accepted": false, "score": 1, "last_activity_date": 1536459448, "creation_date": 1536459448, "answer_id": 52240808, "question_id": 37166295, "link": "https://stackoverflow.com/questions/37166295/typescript-electron-source-maps/52240808#52240808", "title": "Typescript + Electron source maps", "body": "<p>I was able to get this working with the npm module 'source-map-support'.</p>\n\n<p>Install it in your project as follows:</p>\n\n<pre><code>npm install --save source-map-support\n</code></pre>\n\n<p>Then require it into your Electron renderer process at the first line of code as follows:</p>\n\n<pre><code>require('source-map-support').install();\n</code></pre>\n\n<p>See here for full details: <a href=\"https://www.npmjs.com/package/source-map-support\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/source-map-support</a></p>\n"}, {"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 2, "last_activity_date": 1574005643, "last_edit_date": 1574005643, "creation_date": 1574005221, "answer_id": 58902173, "question_id": 37166295, "link": "https://stackoverflow.com/questions/37166295/typescript-electron-source-maps/58902173#58902173", "title": "Typescript + Electron source maps", "body": "<p>I was able to get it to work by enabling both <code>inlineSourceMap</code> and <code>inlineSources</code> in tsconfig.json.</p>\n"}], "owner": {"reputation": 285, "user_id": 6202910, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/BOUqB.png?s=128&g=1", "display_name": "Abel", "link": "https://stackoverflow.com/users/6202910/abel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2259, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1574005643, "creation_date": 1462978415, "last_edit_date": 1495541388, "question_id": 37166295, "link": "https://stackoverflow.com/questions/37166295/typescript-electron-source-maps", "title": "Typescript + Electron source maps", "body": "<p>I have a project with Typescript and Electon. I want the console errors referenced to Typescript files, instead of javascript minified files. I read it could be done with source maps.</p>\n\n<p>I see some references like <a href=\"https://stackoverflow.com/questions/34089753/browser-error-messages-referencing-correct-typescript-file-using-outfile\">this</a> but I have not achieved my goal.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "edited": false, "score": 0, "creation_date": 1462977561, "post_id": 37165720, "comment_id": 61867210, "body": "can you paste your <code>getMediaElement()</code> method implementation? I don&#39;t get if <code>getMediaElement()</code> returns a React Class or a plain html element ?"}, {"owner": {"reputation": 4785, "user_id": 3469725, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PokWK.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/3469725/thomas"}, "reply_to_user": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "edited": false, "score": 0, "creation_date": 1462977714, "post_id": 37165720, "comment_id": 61867318, "body": "@drinchev just a plain HTML element. Posted."}], "answers": [{"tags": [], "owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "is_accepted": true, "score": 2, "last_activity_date": 1462978835, "last_edit_date": 1495540364, "creation_date": 1462978835, "answer_id": 37166477, "question_id": 37165720, "link": "https://stackoverflow.com/questions/37165720/configure-if-else-component-react/37166477#37166477", "title": "Configure If-Else Component, React", "body": "<p>I think your best approach would be to render a React Element instead of plain HTML element. See <a href=\"https://stackoverflow.com/questions/28362456/react-js-write-components-directly-in-html?rq=1\">React.js write components directly in HTML</a> .</p>\n\n<p>You can rewrite your code like :</p>\n\n<pre><code>private getMediaElement(src) {\n    //... video can also be returned\n    return (&lt;audio src={ src } /&gt;);\n    //...\n}\n\npublic render() {\n    const mediaElement = this.getMediaElement(this.props.src);\n    return (mediaElement);\n}\n</code></pre>\n\n<p>Then you can access the props of the class later via the props of your component.</p>\n"}], "owner": {"reputation": 4785, "user_id": 3469725, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PokWK.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/3469725/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 37166477, "answer_count": 1, "score": 0, "last_activity_date": 1462978835, "creation_date": 1462976985, "last_edit_date": 1592644375, "question_id": 37165720, "link": "https://stackoverflow.com/questions/37165720/configure-if-else-component-react", "title": "Configure If-Else Component, React", "body": "<p>I have added an <code>if-else</code> element to my React Component per the <a href=\"https://facebook.github.io/react/tips/if-else-in-JSX.html\" rel=\"nofollow noreferrer\">documentation</a>; however, due to the syntactical differences  between including a React component with <code>&lt;&gt;&lt;/&gt;</code> and <code>{}</code> I am unsure of how to further configure the component.</p>\n<p>Here is a reduced version of what I have (written in TypeScript):</p>\n<pre><code>public render() {\n    const mediaElement: HTMLMediaElement = this.getMediaElement();\n    return { mediaElement };\n}\n</code></pre>\n<p>Here is <code>getMediaElement()</code> reduced:</p>\n<pre><code>private getMediaElement() {\n    //... video can also be returned\n    return document.createElement(&quot;audio&quot;);\n    //...\n}\n</code></pre>\n<p>From here, preferably inline, I would like to be able to add class information, etc., something akin to (as also doable in React):</p>\n<pre><code>&lt;li className=&quot;media-file-title&quot;&gt;\n</code></pre>\n<p>How do I go about accessing properties on the element with the above syntax? Ultimately, I am in need of assigning a ref. Any documentation would be great!</p>\n<p>Is it only doable through object properties, i.e.:</p>\n<p><code>mediaElement.src = &quot;&quot;</code></p>\n"}, {"tags": ["typescript", "systemjs"], "answers": [{"tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": true, "score": 0, "last_activity_date": 1598897463, "last_edit_date": 1598897463, "creation_date": 1462979622, "answer_id": 37166811, "question_id": 37164635, "link": "https://stackoverflow.com/questions/37164635/how-does-typescript-know-about-the-systemjs-config/37166811#37166811", "title": "How does typescript know about the systemJS config", "body": "<p>Here you go.</p>\n<p><strong>How does typescript know about systemjs (and it's config) at compile time?</strong></p>\n<p>you may have a typings folder inside your project which should be consisting definitions for systemjs which gets you intellisense. and for compilation Typescript follows a convention for <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">Module Resolution - Typescript</a>.</p>\n<p><strong>For the 3rd Party library ng2-file-upload</strong></p>\n<p>I see there is a configuration like below in your system config file, I guess while building you are putting file for this module from <strong>node_modules</strong> to <strong>lib/js</strong> folder.</p>\n<pre><code>   'ng2-file-upload': 'lib/js/ng2-file-upload/ng2-file-upload'\n</code></pre>\n<p>Ideally if you have node_modules in your project Typescript will resolve it using the <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">Module Resolution</a> convention.</p>\n<p>If you do not have a conventional folder structure typescript may not be able to resolve module,</p>\n<p>However you may include <strong>--noResolve</strong></p>\n<p><em><strong>Using --noResolve</strong></em></p>\n<p><em>Normally the compiler will attempt to resolve all module imports before it starts the compilation process. Every time it successfully resolves an import to a file, the file is added to the set of files the compiler will process later on.</em></p>\n<p><em>The --noResolve compiler options instructs the compiler not to \u201cadd\u201d any files to the compilation that were not passed on the command line. It will still try to resolve the module to files, but if the file as not specified, it will not be included.</em></p>\n<p>Not sure on above approach you may have to try and see.</p>\n"}], "owner": {"reputation": 2997, "user_id": 1617407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/423b0bab314c359c61d26f1d34ca0ef9?s=128&d=identicon&r=PG", "display_name": "Don Chambers", "link": "https://stackoverflow.com/users/1617407/don-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1025, "favorite_count": 0, "accepted_answer_id": 37166811, "answer_count": 1, "score": 0, "last_activity_date": 1598897463, "creation_date": 1462974449, "question_id": 37164635, "link": "https://stackoverflow.com/questions/37164635/how-does-typescript-know-about-the-systemjs-config", "title": "How does typescript know about the systemJS config", "body": "<p>I am building and Angular2 application in a ASP.Net core project.  I have systemJS configured to map third party modules but I am getting compile errors.  </p>\n\n<p>My index.html references the systemJS.config.js file and I think it's correct.  However, index.html is a runtime file and I don't think the typescript compiler knows about it.</p>\n\n<p>How does typescript know about systemjs (and it's config) at compile time?</p>\n\n<p>One of the third party modules is ng2-file-upload.</p>\n\n<p>systemjs.config.js has this:</p>\n\n<pre><code>    var map = {\n        'app': 'lib/spa', // 'dist',\n        'rxjs': 'lib/js/rxjs',\n        'angular2-in-memory-web-api': 'lib/js/angular2-in-memory-web-api',\n        '@angular': 'lib/js/@angular',\n        'ng2-file-upload': 'lib/js/ng2-file-upload/ng2-file-upload'\n    };\n    var config = {\n        defaultJSExtensions: true,\n        map: map,\n        packages: packages\n    }\n    System.config(config);\n</code></pre>\n\n<p>This is referenced from index.html as:</p>\n\n<pre><code>&lt;script&gt;\n   System.import('app').catch(function(err){ console.error(err);  });\n&lt;/script&gt;\n</code></pre>\n\n<p>In my component I use import like this:</p>\n\n<pre><code>import {FILE_UPLOAD_DIRECTIVES, FileUploader} from 'ng2-file-upload';\n</code></pre>\n\n<p>I get this compiler error:</p>\n\n<blockquote>\n  <p>error TS2307: Cannot find module 'ng2-file-upload'.</p>\n</blockquote>\n\n<p>My thought is that typescript does not know about the ng2-file-upload alias setup in the map for systemJS.  How does typescript know about this?</p>\n"}, {"tags": ["typescript", "angular", "systemjs"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 2302605, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8d081a5394cf4cd51797bce6d2985373?s=128&d=identicon&r=PG", "display_name": "tadaa9", "link": "https://stackoverflow.com/users/2302605/tadaa9"}, "edited": false, "score": 0, "creation_date": 1462974182, "post_id": 37164002, "comment_id": 61864417, "body": "My version of Angular is 2.0.0-beta.16. But in fact, it evolved in recent days.  Do you think that doing the update, this will solve my problem?"}, {"owner": {"reputation": 513, "user_id": 2302605, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8d081a5394cf4cd51797bce6d2985373?s=128&d=identicon&r=PG", "display_name": "tadaa9", "link": "https://stackoverflow.com/users/2302605/tadaa9"}, "edited": false, "score": 0, "creation_date": 1463042024, "post_id": 37164002, "comment_id": 61896184, "body": "I still have the same error after updating. Angular 2.0.0-rc.1. I&#39;ll update my initial post."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 1, "last_activity_date": 1505916998, "last_edit_date": 1505916998, "creation_date": 1462972889, "answer_id": 37164002, "question_id": 37163808, "link": "https://stackoverflow.com/questions/37163808/how-to-use-the-async-library-with-angular-2/37164002#37164002", "title": "How to use the Async library with Angular 2?", "body": "<p>I think that the version of Angular2 you use is a bit old (alpha). You should use a beta or rc one.</p>\n\n<p>Here is the configuration in your main HTML file:</p>\n\n\n\n<pre><code>&lt;script src=\"node_modules/zone.js/dist/zone.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/reflect-metadata/Reflect.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n\n&lt;!-- 2. Configure SystemJS --&gt;\n&lt;script src=\"systemjs.config.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  System.import('app').catch(function(err){ console.error(err);  });\n&lt;/script&gt;\n</code></pre>\n\n<p>and the content of the <code>systemjs.config.js</code> one:</p>\n\n<pre><code>var map = {\n  'app': 'app', // 'dist',\n  'rxjs': 'node_modules/rxjs',\n  '@angular': 'node_modules/@angular'\n};\n\nvar packages = {\n  'app': { main: 'main.js',  defaultExtension: 'js' },\n  'rxjs': { defaultExtension: 'js' },\n};\n\nvar packageNames = [\n  '@angular/common',\n  '@angular/compiler',\n  '@angular/core',\n  '@angular/http',\n  '@angular/platform-browser',\n  '@angular/platform-browser-dynamic',\n  '@angular/router',\n  '@angular/router-deprecated',\n  '@angular/testing',\n  '@angular/upgrade',\n];\n\npackageNames.forEach(function(pkgName) {\n  packages[pkgName] = { main: 'index.js', defaultExtension: 'js' };\n});\n\nvar config = {\n  map: map,\n  packages: packages\n}\n\nif (global.filterSystemConfig) { global.filterSystemConfig(config); }\n\nSystem.config(config);\n</code></pre>\n\n<p>See this link for more details:</p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a></li>\n</ul>\n"}], "owner": {"reputation": 513, "user_id": 2302605, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8d081a5394cf4cd51797bce6d2985373?s=128&d=identicon&r=PG", "display_name": "tadaa9", "link": "https://stackoverflow.com/users/2302605/tadaa9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505916998, "creation_date": 1462972447, "last_edit_date": 1463042283, "question_id": 37163808, "link": "https://stackoverflow.com/questions/37163808/how-to-use-the-async-library-with-angular-2", "title": "How to use the Async library with Angular 2?", "body": "<p>I try to import the Async library in my Angular 2 (2.0.0-rc.1) application without success. <a href=\"https://github.com/caolan/async#es-modules\" rel=\"nofollow\">https://github.com/caolan/async#es-modules</a></p>\n\n<p>I get the following error:</p>\n\n<pre><code>zone.js:101 GET http://localhost:3003/traceur 404 (Not Found)\n(index):31 Error: Error: XHR error (404 Not Found) loading http://localhost:3003/traceur(\u2026)\n</code></pre>\n\n<p>Here's what I did:</p>\n\n<pre><code>npm install async-es --save\n</code></pre>\n\n<p>In \"systemjs.config.js\":</p>\n\n<pre><code>(function (global) {\n\n    // map tells the System loader where to look for things\n    var map = {\n        // ...\n        'async-es': 'node_modules/async-es'\n    };\n\n    // packages tells the System loader how to load when no filename and/or no extension\n    var packages = {\n        // ...\n        'async-es': { main: 'index.js', 'defaultExtension': 'js' }\n    };\n\n    // ...\n\n    System.config(config);\n})(this);\n</code></pre>\n\n<p>In \"my.component.ts\":</p>\n\n<pre><code>import {async} from 'async-es';\n</code></pre>\n\n<p>I tried to import it by doing like the importing of others libraries.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["angularjs", "module", "typescript", "angular", "definitelytyped"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1477478853, "post_id": 37163803, "comment_id": 67781084, "body": "one thing what I could suggest you is <code>ES5</code> should be changed to <code>ES6</code>, but still I want to know how you got this working?"}, {"owner": {"reputation": 9680, "user_id": 2054671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/egwA7.jpg?s=128&g=1", "display_name": "gaurav5430", "link": "https://stackoverflow.com/users/2054671/gaurav5430"}, "edited": false, "score": 0, "creation_date": 1616523061, "post_id": 37163803, "comment_id": 118027542, "body": "you cannot use a relative path when declaring a module, it has to be an absolute path, in your case declare module ../../Observable is invalid and not allowed by typescript"}], "answers": [{"comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1477478788, "post_id": 37167128, "comment_id": 67781039, "body": "this doesn&#39;t helped me, do you have another alternative?"}], "tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1598897516, "last_edit_date": 1598897516, "creation_date": 1462980525, "answer_id": 37167128, "question_id": 37163803, "link": "https://stackoverflow.com/questions/37163803/ambient-module-declaration-cannot-specify-relative-module-name/37167128#37167128", "title": "Ambient module declaration cannot specify relative module name", "body": "<p>i see you have tsconfig.json, so you might be using command line to build your tsc files.</p>\n<p>You may block compilation in Visual studio by including below in your project settings (and all errors will go away as you are not building inside VS),</p>\n<pre><code>&lt;TypeScriptCompileBlocked&gt;true&lt;/TypeScriptCompileBlocked&gt;\n</code></pre>\n<p>else you may Include ts files and main.d.ts explicitly by adding these into project settings.</p>\n<pre><code>&lt;ItemGroup&gt;\n   &lt;TypeScriptCompile Include=&quot;$(ProjectDir)\\src\\**\\*.ts&quot; /&gt;\n&lt;/ItemGroup&gt;\n&lt;ItemGroup&gt;\n   &lt;TypeScriptCompile Include=&quot;$(ProjectDir)\\src\\main.d.ts&quot; /&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 4950976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b96e50d44bac7c5a1cb8f2553c92d00f?s=128&d=identicon&r=PG&f=1", "display_name": "testStack", "link": "https://stackoverflow.com/users/4950976/teststack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1070, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1598897516, "creation_date": 1462972432, "question_id": 37163803, "link": "https://stackoverflow.com/questions/37163803/ambient-module-declaration-cannot-specify-relative-module-name", "title": "Ambient module declaration cannot specify relative module name", "body": "<p>I am using the Angular 2.My project is working but the following errors are displayed in Visual Studio :</p>\n\n<p><a href=\"https://i.stack.imgur.com/malrr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/malrr.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>typings.json :</p>\n\n<pre><code>{\n       \"ambientDependencies\": {\n        \"es6-shim\": \"github:DefinitelyTyped/DefinitelyTyped/es6-shim/es6-shim.d.ts#7de6c3dd94feaeb21f20054b9f30d5dabc5efabd\"\n    }\n}\n</code></pre>\n\n<p>package.json :</p>\n\n<pre><code>{\n    \"name\": \"asp-net-angular2\",\n    \"version\": \"1.0.0\",\n    \"author\": \"TestStack\",\n    \"description\": \"\",\n    \"scripts\": {\n        \"postinstall\": \"typings install\"\n    },\n    \"license\": \"Apache-2.0\",\n    \"dependencies\": {\n        \"@angular/common\": \"2.0.0-rc.1\",\n        \"@angular/compiler\": \"2.0.0-rc.1\",\n        \"@angular/core\": \"2.0.0-rc.1\",\n        \"@angular/http\": \"2.0.0-rc.1\",\n        \"@angular/platform-browser\": \"2.0.0-rc.1\",\n        \"@angular/platform-browser-dynamic\": \"2.0.0-rc.1\",\n        \"@angular/router\": \"2.0.0-rc.1\",\n        \"@angular/router-deprecated\": \"2.0.0-rc.1\",\n        \"@angular/upgrade\": \"2.0.0-rc.1\",\n\n        \"systemjs\": \"0.19.27\",\n        \"es6-shim\": \"^0.35.0\",\n        \"es6-promise\": \"^3.1.2\",\n        \"reflect-metadata\": \"^0.1.3\",\n        \"rxjs\": \"5.0.0-beta.6\",\n        \"zone.js\": \"^0.6.12\",\n\n        \"angular2-in-memory-web-api\": \"0.0.7\",\n        \"bootstrap\": \"^3.3.6\",\n        \"jquery\": \"^2.2.3\"\n    },\n    \"devDependencies\": {\n        \"typescript\": \"^1.8.10\",\n        \"gulp\": \"^3.9.1\",\n        \"path\": \"^0.12.7\",\n        \"gulp-clean\": \"^0.3.2\",\n        \"fs\": \"^0.0.2\",\n        \"gulp-concat\": \"^2.6.0\",\n        \"gulp-typescript\": \"^2.13.1\",\n        \"gulp-tsc\": \"^1.1.5\",\n        \"del\": \"^2.2.0\",\n        \"gulp-autoprefixer\": \"^3.1.0\",\n        \"gulp-cssnano\": \"^2.0.0\",\n        \"gulp-html-replace\": \"^1.5.4\",\n        \"gulp-htmlmin\": \"^1.0.5\",\n        \"gulp-uglify\": \"^1.5.3\",\n        \"merge-stream\": \"^1.0.0\",\n        \"systemjs-builder\": \"^0.15.16\",\n\n        \"typings\": \"^0.8.1\"\n    },\n    \"repository\": { }\n}\n</code></pre>\n\n<p>tsconfig.json :</p>\n\n<pre><code>{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"noEmitOnError\": true,\n    \"removeComments\": false,\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"noImplicitAny\": false,\n    \"suppressImplicitAnyIndexErrors\": true\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"wwwroot\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n\n<p>and project setting :</p>\n\n<pre><code>&lt;PropertyGroup Condition=\"'$(Configuration)' == 'Debug'\"&gt;\n    &lt;TypeScriptTarget&gt;ES5&lt;/TypeScriptTarget&gt;\n    &lt;TypeScriptJSXEmit&gt;None&lt;/TypeScriptJSXEmit&gt;\n    &lt;TypeScriptCompileOnSaveEnabled&gt;True&lt;/TypeScriptCompileOnSaveEnabled&gt;\n    &lt;TypeScriptEmitDecoratorMetadata&gt;True&lt;/TypeScriptEmitDecoratorMetadata&gt;\n    &lt;TypeScriptNoImplicitAny&gt;True&lt;/TypeScriptNoImplicitAny&gt;\n    &lt;TypeScriptModuleKind&gt;CommonJS&lt;/TypeScriptModuleKind&gt;\n    &lt;TypeScriptRemoveComments&gt;False&lt;/TypeScriptRemoveComments&gt;\n    &lt;TypeScriptExperimentalDecorators&gt;True&lt;/TypeScriptExperimentalDecorators&gt;\n    &lt;TypeScriptOutFile /&gt;\n    &lt;TypeScriptOutDir /&gt;\n    &lt;TypeScriptGeneratesDeclarations&gt;False&lt;/TypeScriptGeneratesDeclarations&gt;\n    &lt;TypeScriptNoEmitOnError&gt;True&lt;/TypeScriptNoEmitOnError&gt;\n    &lt;TypeScriptSourceMap&gt;True&lt;/TypeScriptSourceMap&gt;\n    &lt;TypeScriptMapRoot /&gt;\n    &lt;TypeScriptSourceRoot /&gt;\n  &lt;/PropertyGroup&gt;\n</code></pre>\n\n<p>How do I eliminate these errors.I tried but did not succeed. my error on <code>.d.ts</code> file :</p>\n\n<p>Ambient module declaration cannot specify relative module name</p>\n"}, {"tags": ["class", "typescript", "closures", "javascript-namespaces"], "answers": [{"comments": [{"owner": {"reputation": 3824, "user_id": 468206, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/4ddf46ea74893f3f6910a18a68cbd3a4?s=128&d=identicon&r=PG", "display_name": "bigp", "link": "https://stackoverflow.com/users/468206/bigp"}, "edited": false, "score": 0, "creation_date": 1462972943, "post_id": 37163753, "comment_id": 61863414, "body": "True, but what if there&#39;s an object in the same scope that stores a reference to the class, then it gets exposed to the global scope right? (see screenshot in question)"}, {"owner": {"reputation": 3824, "user_id": 468206, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/4ddf46ea74893f3f6910a18a68cbd3a4?s=128&d=identicon&r=PG", "display_name": "bigp", "link": "https://stackoverflow.com/users/468206/bigp"}, "edited": false, "score": 0, "creation_date": 1462973048, "post_id": 37163753, "comment_id": 61863496, "body": "(cont.) Ah I think I see what you&#39;re saying now. It&#39;s pointless to store a reference to the class the way I have it setup, that work is done by defining it in a module, basically?"}, {"owner": {"reputation": 5239, "user_id": 116712, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/701608e36b9a5e769889abc8e76e3f08?s=128&d=identicon&r=PG", "display_name": "pablochan", "link": "https://stackoverflow.com/users/116712/pablochan"}, "reply_to_user": {"reputation": 3824, "user_id": 468206, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/4ddf46ea74893f3f6910a18a68cbd3a4?s=128&d=identicon&r=PG", "display_name": "bigp", "link": "https://stackoverflow.com/users/468206/bigp"}, "edited": false, "score": 1, "creation_date": 1462973098, "post_id": 37163753, "comment_id": 61863534, "body": "Correct, you&#39;re still thinking in terms of JS, when you should think about how TS (and ES6 for that matter) works."}], "tags": [], "owner": {"reputation": 5239, "user_id": 116712, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/701608e36b9a5e769889abc8e76e3f08?s=128&d=identicon&r=PG", "display_name": "pablochan", "link": "https://stackoverflow.com/users/116712/pablochan"}, "is_accepted": false, "score": 1, "last_activity_date": 1462972327, "creation_date": 1462972327, "answer_id": 37163753, "question_id": 37163605, "link": "https://stackoverflow.com/questions/37163605/is-there-a-way-around-to-create-typescript-classes-in-closures/37163753#37163753", "title": "Is there a way around to create TypeScript classes in closures?", "body": "<p>If you don't export the class from the module/file, it won't be visible globally, i.e. there's no reason to enclose class definitions in function scopes.</p>\n\n<p>More about modules in TS: <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow\">https://www.typescriptlang.org/docs/handbook/modules.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 2, "last_activity_date": 1462973772, "creation_date": 1462973772, "answer_id": 37164356, "question_id": 37163605, "link": "https://stackoverflow.com/questions/37163605/is-there-a-way-around-to-create-typescript-classes-in-closures/37164356#37164356", "title": "Is there a way around to create TypeScript classes in closures?", "body": "<p>Using the following code in TypeScript results in practically the same JavaScript that you appear to be aiming for...</p>\n\n<pre><code>namespace MY_NAMESPACE {\n    export class AssetService {\n\n    }\n}\n</code></pre>\n\n<p>Resulting code:</p>\n\n<pre><code>var MY_NAMESPACE;\n(function (MY_NAMESPACE) {\n    var AssetService = (function () {\n        function AssetService() {\n        }\n        return AssetService;\n    }());\n    MY_NAMESPACE.AssetService = AssetService;\n})(MY_NAMESPACE || (MY_NAMESPACE = {}));\n</code></pre>\n\n<p>If you want to <em>really</em> reduce the scope, switch to external modules (AKA \"modules\" these days).</p>\n"}], "owner": {"reputation": 3824, "user_id": 468206, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/4ddf46ea74893f3f6910a18a68cbd3a4?s=128&d=identicon&r=PG", "display_name": "bigp", "link": "https://stackoverflow.com/users/468206/bigp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462973772, "creation_date": 1462971925, "last_edit_date": 1592644375, "question_id": 37163605, "link": "https://stackoverflow.com/questions/37163605/is-there-a-way-around-to-create-typescript-classes-in-closures", "title": "Is there a way around to create TypeScript classes in closures?", "body": "<p>I'm using IntelliJ IDEA's File Watcher to automatically compile the TypeScript files, but for some reason it's not liking classes defined within blocks / function closures:</p>\n<p><a href=\"https://i.stack.imgur.com/RSc14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RSc14.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way around this without having to move everything to the top-level / global scope?</p>\n"}, {"tags": ["twitter-bootstrap", "typescript", "angular", "angular2-template"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1462971949, "creation_date": 1462971949, "answer_id": 37163612, "question_id": 37163587, "link": "https://stackoverflow.com/questions/37163587/angular-2-and-bootstrap/37163612#37163612", "title": "Angular 2 and Bootstrap", "body": "<p>Not sure what the problem is but</p>\n\n<pre><code>attr.href=\"#dropdownMenu_{{level.id}}\"\n</code></pre>\n\n<p>should be worth a try.</p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 191403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/776c8cb466dc117d9e441c23c7f4cd80?s=128&d=identicon&r=PG", "display_name": "Som", "link": "https://stackoverflow.com/users/191403/som"}, "is_accepted": false, "score": 0, "last_activity_date": 1462975043, "last_edit_date": 1462975043, "creation_date": 1462974235, "answer_id": 37164551, "question_id": 37163587, "link": "https://stackoverflow.com/questions/37163587/angular-2-and-bootstrap/37164551#37164551", "title": "Angular 2 and Bootstrap", "body": "<p>try [href] instead of href. </p>\n\n<pre><code>&lt;i class=\"wrapper fa fa-play rotate-90 triangle_{{level.id}}\" [hidden]=\"!level.child.length\" data-toggle=\"collapse\" [href]=\"'#dropdownMenu_' + level.id\" aria-expanded=\"true\" aria-controls=\"dropdownMenu_{{level.id}}\"&gt;&lt;/i&gt;\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 3110920, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bca24c0bfed04fdb620388f3b8f109d0?s=128&d=identicon&r=PG&f=1", "display_name": "Illorian", "link": "https://stackoverflow.com/users/3110920/illorian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 37163612, "answer_count": 2, "score": 1, "last_activity_date": 1462975043, "creation_date": 1462971881, "question_id": 37163587, "link": "https://stackoverflow.com/questions/37163587/angular-2-and-bootstrap", "title": "Angular 2 and Bootstrap", "body": "<p>I try to use Bootstrap with Angular2 and I have a problem with a autobinding of Bootstrap features.</p>\n\n<p>Example for collapse:</p>\n\n<pre><code>&lt;i class=\"wrapper fa fa-play rotate-90 triangle_{{level.id}}\" [hidden]=\"!level.child.length\" data-toggle=\"collapse\" href=\"#dropdownMenu_{{level.id}}\" aria-expanded=\"true\" aria-controls=\"dropdownMenu_{{level.id}}\"&gt;&lt;/i&gt;\n</code></pre>\n\n<p>An error:</p>\n\n<pre><code>Template parse errors:\nCan't bind to 'href' since it isn't a known native property (\"r fa fa-play rotate-90 triangle_{{level.id}}\" [hidden]=\"!level.child.length\" data-toggle=\"collapse\" [ERROR -&gt;]href=\"#dropdownMenu_{{level.id}}\" aria-expanded=\"true\"\n                       aria-controls=\"dropdownMenu_{{level.id\")\n</code></pre>\n\n<p>This error is showing for all custom attributes.\nIs there way to fix it or I should use JS function?</p>\n"}, {"tags": ["javascript", "jquery", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3851, "user_id": 48405, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e5bb39b467c75124367de8d87f03e9f9?s=128&d=identicon&r=PG", "display_name": "Joe Attardi", "link": "https://stackoverflow.com/users/48405/joe-attardi"}, "is_accepted": true, "score": 3, "last_activity_date": 1462972474, "creation_date": 1462972474, "answer_id": 37163813, "question_id": 37163404, "link": "https://stackoverflow.com/questions/37163404/export-and-require-is-not-defined/37163813#37163813", "title": "Export and Require is not defined", "body": "<p>Sounds like your transpiler is turning your <code>import</code>/<code>export</code> statements into CommonJS-style <code>require</code>/<code>export</code> statements. Which, of course, won't work in the browser (unless you're using something like Browserify, which it sounds like you aren't). You'll need to use a tool like Browserify or Webpack to get this to work.</p>\n"}], "owner": {"reputation": 595, "user_id": 2874985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/025d1f6f76b952d4d79a045432131446?s=128&d=identicon&r=PG&f=1", "display_name": "Marian Ene", "link": "https://stackoverflow.com/users/2874985/marian-ene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 37163813, "answer_count": 1, "score": 3, "last_activity_date": 1462972474, "creation_date": 1462971438, "question_id": 37163404, "link": "https://stackoverflow.com/questions/37163404/export-and-require-is-not-defined", "title": "Export and Require is not defined", "body": "<p>I've created a class that adds some jQuery data to the UI:</p>\n\n<pre><code>/// &lt;reference path=\"../typings/jquery/jquery.d.ts\" /&gt;\n/// &lt;reference path=\"../typings/custom.d.ts\" /&gt;\nexport class Semaphore {\ninfo: any[];\n\nconstructor(info: any[]) {\n    this.info = info;\n}\n\nAddJqueryData() {\n    var self = this;\n\n    for (let bigKey in this.info) {\n        let object = this.info[bigKey];\n        for (let smallKey in object) {\n            $(`#etape_3CosmeticAppraisal table td.${smallKey}.row_M${bigKey}`).tooltip({\n                content() {\n                    return object[smallKey].txt + '&lt;img src=\"' + object[smallKey].img + '\" class=\"cimage\"&gt;';\n                },\n                show: { delay: 600 }\n            });\n        }\n    }        \n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now, I'd want to import this class from another file and give it a specific array to work with:</p>\n\n<pre><code>import { Semaphore } from \"./SemaphoreLogic\";\n\nlet cosmeticData = [];\n\n$(document).ready(() =&gt; {\n    let x = new Semaphore(cosmeticData);\n    x.AddJqueryData();\n});\n</code></pre>\n\n<p>In my View page, I give a referece to the js file that has the import statement. (I've also tried adding the js file that has the basic functionality but still no luck).</p>\n\n<p>The error I get is: require is not defined or exports is not defined and I'm not sure why is that. I've searched the web a lot and I didn't find anyting that can help me.</p>\n\n<p>Thank you in advance</p>\n\n<p>P.S.: If you give can think of a better approach than mine, feel free to open my eyes :D. (I'm preety new to TypeScript)</p>\n"}, {"tags": ["javascript", "visual-studio", "typescript", "gulp", "systemjs"], "owner": {"reputation": 5124, "user_id": 5044561, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c89dcde3ed01ba8a5e2fc8dda49d485?s=128&d=identicon&r=PG", "display_name": "fikkatra", "link": "https://stackoverflow.com/users/5044561/fikkatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462975298, "creation_date": 1462968740, "last_edit_date": 1462975298, "question_id": 37162344, "link": "https://stackoverflow.com/questions/37162344/using-systemjs-modules-within-gulpfile", "title": "Using SystemJS modules within gulpfile", "body": "<p>I'd like to know if it's possible to use <strong>SystemJS modules</strong> within the <strong>gulp</strong> configuration file <code>gulpfile.js</code>. The reason for this is because I'd like to use TypeScript to write the gulpfile, as this will give me IntelliSense.</p>\n\n<p>I've set up a Visual Studio 2015 project that uses TypeScript as a transpiler and SystemJS as a module loader. My TypeScript files are compiled by Visual Studio. For this, I've added a <code>tsconfig.json</code> file with the following settings:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n    \"target\": \"es5\",\n    \"module\": \"system\"\n  },\n  ...\n}\n</code></pre>\n\n<p>Now I want to add <strong>Gulp</strong> to the project and write the gulpfile in TypeScript. I created a gulpfile.ts and imported the TypeScript definition file. This is <code>gulpfile.ts</code>:</p>\n\n<pre><code>import * as gulp from 'gulp';\n\ngulp.task('default', () =&gt; {\n    console.log('hello from gulp');\n});\n</code></pre>\n\n<p>And this is the first line of the compiled <code>gulpfile.js</code>:</p>\n\n<pre><code>System.register(['gulp'], function(exports_1, context_1) {\n</code></pre>\n\n<p>Naturally, <code>System</code> is used because that's the module loader I configured in <code>tsconfig.json</code>. When running gulp from the command prompt, I get this error:</p>\n\n<blockquote>\n  <p>ReferenceError: System is not defined\n      at Object. (gulpfile.js:1:63)</p>\n</blockquote>\n\n<p><strong>My question</strong>: is there any way to make gulp accept SystemJS modules, so I can write the gulpfile in TypeScript while keeping System as a module loader (at least for the rest of the project)?</p>\n"}, {"tags": ["angularjs", "build", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1462972914, "post_id": 37161642, "comment_id": 61863392, "body": "So I&#39;ve added your provide code and that seemed to work. Then it uncovered loads of other errors. I&#39;ve updated the list of errors in my git bash above at the bottom of the question. I have no idea why all those errors have suddenly appeared when I did &quot;gulp html-replace&quot; ?"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1462986962, "post_id": 37161642, "comment_id": 61873444, "body": "Most of the errors are related to firebaseAuthData, do I need to reference this somewhere?"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1463243048, "post_id": 37161642, "comment_id": 61987924, "body": "Thierry Templier can you help me with this question: <a href=\"http://stackoverflow.com/questions/37227507/how-do-i-concattinate-my-angular2-app-javascript-files\" title=\"how do i concattinate my angular2 app javascript files\">stackoverflow.com/questions/37227507/&hellip;</a>"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 1, "last_activity_date": 1462967034, "creation_date": 1462967034, "answer_id": 37161642, "question_id": 37161528, "link": "https://stackoverflow.com/questions/37161528/having-trouble-bootstrapping-my-angular-2-typescript-app-with-firebase-in-order/37161642#37161642", "title": "Having trouble bootstrapping my angular 2 typescript app with Firebase in order to create a dist folder for deploying to live environment", "body": "<p>I can see several \"new\" used in your <code>boot.ts</code> file. Perhaps it's the root cause of your problem:</p>\n\n<pre><code>provide(APP_BASE_HREF, {useValue: ' /'}),\n\n//This below doesnt seem to work:\nprovide(FirebaseService, {useFactory: () =&gt; new new FirebaseService(new Firebase('https://poolcover-dev.firebaseio.com')))}), // &lt;----\n\nHTTP_PROVIDERS,\n</code></pre>\n\n<p>Moreover it seems that there is too much <code>)</code>. I would use this:</p>\n\n<pre><code>provide(FirebaseService, {useFactory: () =&gt; new FirebaseService(new Firebase('https://poolcover-dev.firebaseio.com'))}),\n</code></pre>\n"}], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1462972238, "creation_date": 1462966791, "last_edit_date": 1462972238, "question_id": 37161528, "link": "https://stackoverflow.com/questions/37161528/having-trouble-bootstrapping-my-angular-2-typescript-app-with-firebase-in-order", "title": "Having trouble bootstrapping my angular 2 typescript app with Firebase in order to create a dist folder for deploying to live environment", "body": "<p>Having trouble bootstrapping my angular 2 app with Firebase to create a build file using gulp. I'm trying to populate my dist folder ready for deployment.</p>\n\n<p>Tech: Angular 2, typescript, Firebase.</p>\n\n<p><strong>Below is my attempt:</strong></p>\n\n<p><strong>Here is my index file:</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" prefix=\"og: http://ogp.me/ns#\" xml:lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n  &lt;head&gt;\n    &lt;title&gt;App&lt;/title&gt;\n    &lt;base href=\"/\"&gt;&lt;/base&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"fragment\" content=\"!\"/&gt;\n\n    &lt;!-- Css libs --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/animate.css\" /&gt; \n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/datepicker.css\" /&gt; \n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/bootstraptheme.css\" /&gt; \n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/styles.css\" /&gt; \n\n    &lt;link href='https://fonts.googleapis.com/css?family=Lato:400,100,100italic,300italic,300,400italic,700italic,900,700,900italic' rel='stylesheet' type='text/css'&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\"&gt;\n\n    &lt;!-- build:vendor --&gt;\n    &lt;script src=\"node_modules/es6-shim/es6-shim.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/router.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/http.dev.js\"&gt;&lt;/script&gt;\n    &lt;!-- endbuild --&gt;\n\n    &lt;!-- JS CDN Libs --&gt;    \n    &lt;script type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/lodash/4.11.2/lodash.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://www.amcharts.com/lib/3/amcharts.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://www.amcharts.com/lib/3/pie.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://www.amcharts.com/lib/3/themes/light.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\" src=\"app/angular2-google-maps.js\"&gt;&lt;/script&gt;\n    &lt;!-- &lt;script type=\"text/javascript\" src=\"/firebase.js\"&gt;&lt;/script&gt;--&gt;\n    &lt;script src=\"https://cdn.firebase.com/js/client/2.3.2/firebase.js\"&gt;&lt;/script&gt;\n    &lt;!-- JS CDN Libs --&gt;\n\n    &lt;!-- build:app --&gt;\n        &lt;script src=\"config.js\"&gt;&lt;/script&gt;\n    &lt;!-- endbuild --&gt;  \n\n  &lt;/head&gt;\n\n  &lt;body id=\"container\"&gt;\n\n    &lt;app&gt;&lt;/app&gt;    \n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Here is my gulp file:</strong></p>\n\n<pre><code>'use strict';\n\nconst gulp = require('gulp');\nconst ts = require('gulp-typescript');\nconst uglify = require('gulp-uglify');\nconst concat = require('gulp-concat');\nvar htmlreplace = require('gulp-html-replace');\nvar addsrc = require('gulp-add-src');\nvar cachebust = require('gulp-cache-bust');\n\nvar sass = require('gulp-sass');\nvar inject = require('gulp-inject');\nvar minifyCss = require('gulp-minify-css');\n\ngulp.task('app-bundle', function () {\n  var tsProject = ts.createProject('tsconfig.json', {\n      typescript: require('typescript'),\n      outFile: 'app.js'\n  });\n\n  var tsResult = gulp.src([\n    'node_modules/angular2/typings/browser.d.ts',\n    'app/**/*.ts'\n  ])\n    .pipe(ts(tsProject));\n\n  return tsResult.js.pipe(addsrc.append('config-prod.js'))\n                    .pipe(concat('app.min.js'))\n                    .pipe(uglify())\n                    .pipe(gulp.dest('./dist'));\n\n});\n\ngulp.task('vendor-bundle', function() {\n    gulp.src([\n            'node_modules/es6-shim/es6-shim.min.js',\n            'node_modules/systemjs/dist/system-polyfills.js',\n            'node_modules/angular2/bundles/angular2-polyfills.js',\n            'node_modules/systemjs/dist/system.src.js',\n            'node_modules/rxjs/bundles/Rx.js',\n      'node_modules/angular2/bundles/router.js',\n            'node_modules/angular2/bundles/angular2.dev.js',\n            'node_modules/angular2/bundles/http.dev.js'\n        ])\n        .pipe(concat('vendors.min.js'))\n        .pipe(uglify())\n        .pipe(gulp.dest('./dist'));\n});\n\ngulp.task('getAllImages', function() {\n  gulp.src('images')\n      .pipe(gulp.dest('./dist'))\n});\n\ngulp.task('getCss', function() {\n  gulp.src('css/*.css')\n      .pipe(gulp.dest('./dist/css'))\n});\n\ngulp.task('compileSass', function() {\n  gulp.src('sass/styles.scss')\n      .pipe(sass().on('error', sass.logError))\n      .pipe(minifyCss({compatibility: 'ie8'}))\n      .pipe(gulp.dest('./dist/css'))\n});\n\ngulp.task('getFavicons', function() {\n  gulp.src('favicon*.*')\n      .pipe(gulp.dest('./dist'))\n});\n\ngulp.task('getRobot', function() {\n  gulp.src('robot.txt')\n      .pipe(gulp.dest('./dist'))\n});\n\ngulp.task('getFirebase', function() {\n  gulp.src('firebase.*')\n      .pipe(gulp.dest('./dist'))\n});\n\ngulp.task('getSitemap', function() {\n  gulp.src('sitemap.xml')\n      .pipe(gulp.dest('./dist'))\n});\n\n\n//This starts the dist\ngulp.task('html-replace',[ 'app-bundle', 'vendor-bundle', 'getAllImages', 'getFavicons', 'getRobot', 'getFirebase', 'getSitemap', 'getCss', 'compileSass'], function() {\n  gulp.src('index.html')\n    .pipe(htmlreplace({\n        'vendor': 'vendors.min.js',\n        'app': 'app.min.js'\n    }))\n    .pipe(cachebust({type: 'timestamp'}))\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<p><strong>Here is my boot.ts file:</strong></p>\n\n<pre><code>import {FirebaseService} from 'firebase-angular2/core';\n\nimport {Component, bind, provide, Injectable} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser'\nimport {NgIf} from 'angular2/common';\nimport {Router, Location, ROUTER_BINDINGS, RouterOutlet, RouteConfig, RouterLink, ROUTER_PROVIDERS, APP_BASE_HREF, CanActivate, OnActivate,\n      ComponentInstruction} from 'angular2/router';\nimport {HTTP_PROVIDERS, Http, Headers} from 'angular2/http';\nimport {ANGULAR2_GOOGLE_MAPS_PROVIDERS} from 'angular2-google-maps/core';\n\nimport {AppComponent} from './app.component';\nimport {LoggedInRouterOutlet} from './interceptor';\n\nimport {AuthService} from './services/authService/authService';\nimport {SocialService} from './services/socialService/socialService';\nimport {UserService} from './services/userService/userService';\nimport {OrganisationService} from './services/organisationService/organisationService';\nimport {NotificationService} from './services/notificationService/notificationService';\nimport {EmailService} from './services/emailService/emailService';\nimport {ApplicationService} from './services/applicationService/applicationService';\nimport {JobService} from './services/jobService/jobService';\nimport {MessageService} from './services/messageService/messageService';\n\nimport {Organisation} from './models/organisation/organisation';\nimport {Application} from './models/application/application';\nimport {Counties} from './models/counties/counties';\nimport {Environment} from './models/environment/environment';\nimport {Governingbody} from './models/governingbody/governingbody';\nimport {Job} from './models/job/job';\nimport {Message} from './models/Message/Message';\nimport {Notification} from './models/notification/notification';\nimport {UserProfile} from './models/profile/profile';\nimport {User} from './models/user/user';\nimport {Towns} from './models/towns/towns';\nimport {Tags} from './models/tags/tags';\nimport {Status} from './models/status/status';\nimport {Regions} from './models/regions/regions';\n\nimport {HeaderNavigation} from './components/header/header'; \nimport {HeaderNavigationLoggedIn} from './components/header/headerNavigationLoggedIn';\nimport {HeaderNavigationLoggedInCompany} from './components/header/headerNavigationLoggedInCompany';\nimport {Footer} from './components/footer/footer';\nimport {SideMenuCompany} from './components/header/sideMenuCompany';\nimport {SideMenuUser} from './components/header/sideMenuUser';\nimport {Splash} from './components/splash/splash';\nimport {Messages} from './components/messages/messages';\nimport {NewJobs} from './components/newJobs/newJobs';\nimport {NewJob} from './components/newJob/newJob';\nimport {Blog} from './components/blog/blog';\nimport {BlogArticle} from './components/blog/blogArticle';\nimport {CreateJob} from './components/createJob/createJob';\nimport {SearchJobs} from './components/searchJobs/searchJobs';\nimport {Login} from './components/login/login';\nimport {Applications} from './components/applications/applications';\nimport {Register} from './components/register/register';\nimport {ForgotPassword} from './components/forgotpassword/forgotpassword';\nimport {ChangePassword} from './components/changepassword/changepassword';\nimport {ChangeEmail} from './components/changeemail/changeemail';\nimport {SocialRegister} from './components/socialregister/socialregister';\nimport {Admin} from './components/admin/admin';\nimport {Contact} from './components/contact/contact';\nimport {SearchUsers} from './components/searchusers/searchusers';\nimport {Jobs} from './components/job/jobs';\nimport {CompanyProfile} from './components/company/company';\nimport {Home} from './components/home/home';\nimport {Dashboard} from './components/dashboard/dashboard';\nimport {Profile} from './components/profile/profile';\nimport {UserApplications} from './components/userApplications/userApplications';\nimport {Messenger} from './components/messenger/messenger';\nimport {Help} from './components/help/help';\nimport {Achievements} from './components/achievements/achievements';\nimport {Sitemap} from './components/sitemap/sitemap';\n\ndeclare var Firebase;\n\nbootstrap(AppComponent, [\n    ROUTER_PROVIDERS,\n    provide(APP_BASE_HREF, {useValue: ' /'}),\n\n    //This below doesnt seem to work:\n    provide(FirebaseService, {useFactory: () =&gt; new FirebaseService(new Firebase(myUrl)))}),\n\n    HTTP_PROVIDERS,\n    AuthService,\n    SocialService,\n    UserService,\n    EmailService,\n    OrganisationService,\n    NotificationService,\n    ApplicationService,\n    JobService, \n    MessageService, \n    Organisation, \n    Application,\n    Counties, \n    Environment, \n    Governingbody, \n    Job,\n    Message, \n    Notification, \n    UserProfile, \n    User, \n    Towns, \n    Tags, \n    Status, \n    Regions,\n    Environment,\n    HeaderNavigation, \n    HeaderNavigationLoggedIn,\n    HeaderNavigationLoggedInCompany,\n    Footer, SideMenuCompany,   \n    SideMenuUser,\n    Splash,\n    Messages,\n    NewJobs,\n    NewJob, \n    Blog,\n    BlogArticle,\n    SearchJobs,\n    Login,\n    Applications,\n    Register,\n    ForgotPassword,\n    ChangePassword,\n    ChangeEmail, \n    SocialRegister,\n    Admin,\n    Contact,\n    SearchUsers,\n    Jobs, \n    CompanyProfile, \n    Home, \n    Jobs, \n    Dashboard, \n    Profile, \n    UserApplications, \n    Messenger, \n    Help, \n    Sitemap,\n    ANGULAR2_GOOGLE_MAPS_PROVIDERS\n]);\n</code></pre>\n\n<p><strong>Here is my app.ts file</strong>:</p>\n\n<pre><code>/// &lt;reference path=\"../node_modules/angular2/typings/browser.d.ts\" /&gt;\n\n//Tried importing it\nimport {FirebaseService} from 'firebase-angular2/core';\n\nimport {Component, bind, provide, Injectable} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport 'rxjs/Rx';\n\nimport {NgIf} from 'angular2/common';\nimport {Router, Location, ROUTER_BINDINGS, RouterOutlet, RouteConfig, RouterLink, ROUTER_PROVIDERS, APP_BASE_HREF, CanActivate, OnActivate,\n    ComponentInstruction} from 'angular2/router';\nimport {HTTP_PROVIDERS, Http, Headers} from 'angular2/http';\nimport {ANGULAR2_GOOGLE_MAPS_PROVIDERS} from 'angular2-google-maps/core';\nimport {enableProdMode} from 'angular2/core';\nenableProdMode();\n\nimport {LoggedInRouterOutlet} from './interceptor';\n\nimport {AuthService} from './services/authService/authService';\nimport {SocialService} from './services/socialService/socialService';\nimport {UserService} from './services/userService/userService';\nimport {OrganisationService} from './services/organisationService/organisationService';\nimport {NotificationService} from './services/notificationService/notificationService';\nimport {EmailService} from './services/emailService/emailService';\n\nimport {UserProfile} from './models/profile/profile';\nimport {Organisation} from './models/organisation/organisation';\n\nimport {HeaderNavigation} from './components/header/header';\nimport {HeaderNavigationLoggedIn} from './components/header/headerNavigationLoggedIn';\nimport {HeaderNavigationLoggedInCompany} from './components/header/headerNavigationLoggedInCompany';\nimport {Footer} from './components/footer/footer';\nimport {SideMenuCompany} from './components/header/sideMenuCompany';\nimport {SideMenuUser} from './components/header/sideMenuUser';\nimport {Splash} from './components/splash/splash';\n\nimport {Messages} from './components/messages/messages';\nimport {NewJobs} from './components/newJobs/newJobs';\nimport {NewJob} from './components/newJob/newJob';\nimport {Blog} from './components/blog/blog';\nimport {BlogArticle} from './components/blog/blogArticle';\nimport {CreateJob} from './components/createJob/createJob';\nimport {SearchJobs} from './components/searchJobs/searchJobs';\nimport {Login} from './components/login/login';\nimport {Applications} from './components/applications/applications';\nimport {Register} from './components/register/register';\nimport {ForgotPassword} from './components/forgotpassword/forgotpassword';\nimport {ChangePassword} from './components/changepassword/changepassword';\nimport {ChangeEmail} from './components/changeemail/changeemail';\nimport {SocialRegister} from './components/socialregister/socialregister';\nimport {Admin} from './components/admin/admin';\nimport {Contact} from './components/contact/contact';\nimport {SearchUsers} from './components/searchusers/searchusers';\n\nimport {Jobs} from './components/job/jobs';\nimport {CompanyProfile} from './components/company/company';\nimport {Home} from './components/home/home';\nimport {Dashboard} from './components/dashboard/dashboard';\nimport {Profile} from './components/profile/profile';\nimport {UserApplications} from './components/userApplications/userApplications';\nimport {Messenger} from './components/messenger/messenger';\nimport {Help} from './components/help/help';\nimport {Achievements} from './components/achievements/achievements';\nimport {Sitemap} from './components/sitemap/sitemap';\n\nimport {Environment} from './models/environment/environment';\n\n@Component({\n    selector: 'app',\n    providers: [UserService, UserProfile, OrganisationService, Organisation, Environment, FIREBASE_APP_PROVIDERS],\n    template: `\n\n        &lt;Splash *ngIf=\"isLoggedIn\"&gt;&lt;/Splash&gt;    \n\n        &lt;HeaderNavigation *ngIf=\"!isLoggedIn\"&gt;&lt;/HeaderNavigation&gt;       \n\n        &lt;HeaderNavigationLoggedIn *ngIf=\"isLoggedIn &amp;&amp; isUserLogin\"&gt;&lt;/HeaderNavigationLoggedIn&gt;\n        &lt;HeaderNavigationLoggedInCompany *ngIf=\"isLoggedIn &amp;&amp; isCompanyLogin\"&gt;&lt;/HeaderNavigationLoggedInCompany&gt;\n\n        &lt;SideMenuCompany *ngIf=\"isLoggedIn &amp;&amp; isCompanyLogin\"&gt;&lt;/SideMenuCompany&gt;\n        &lt;SideMenuUser *ngIf=\"isLoggedIn &amp;&amp; isUserLogin\"&gt;&lt;/SideMenuUser&gt;\n\n        &lt;div class=\"content\"&gt;\n            &lt;router-outlet&gt;&lt;/router-outlet&gt; \n        &lt;/div&gt;     \n    `,\n    directives: [RouterOutlet, RouterLink, Splash, HeaderNavigation, HeaderNavigationLoggedIn, NgIf, HeaderNavigationLoggedInCompany, SideMenuCompany, SideMenuUser, Footer, LoggedInRouterOutlet]\n})\n\n@RouteConfig([\n    { path: '/', component: Home, as: 'Home'},\n    { path: '/home', component: Home, as: 'Home', useAsDefault: true},\n    { path: '/login', component: Login, as: 'Login' },  \n    { path: '/register/', component: Register, as: 'Register' },\n    { path: '/register/:id', component: Register, as: 'Register' },\n    { path: '/forgotpassword', component: ForgotPassword, as: 'ForgotPassword' },\n    { path: '/dashboard', component: Dashboard, as: 'Dashboard' },\n    { path: '/search', component: SearchJobs, as: 'Search' },   \n    { path: '/search/:id', component: SearchJobs, as: 'SearchJob' },    \n    { path: '/profile', component: Profile, as: 'Profile' },\n    { path: '/settings', component: CompanyProfile, as: 'Settings' },\n    { path: '/jobs', component: Jobs, as: 'Jobs' },\n    { path: '/password', component: ChangePassword, as: 'Password' },\n    { path: '/email', component: ChangeEmail, as: 'Email' },\n    { path: '/applications/:id', component: Applications, as: 'Applications' },\n    { path: '/applications', component: Applications, as: 'Applications' },\n    { path: '/socialRegister/:id', component: SocialRegister, as: 'SocialRegister' },\n    { path: '/socialRegister', component: SocialRegister, as: 'SocialRegister' },\n    { path: '/applys', component: UserApplications, as: 'Applys' },\n    { path: '/contact', component: Contact, as: 'Contact' },\n    { path: '/searchTeachers', component: SearchUsers, as: 'SearchUsers' },\n    { path: '/createJob', component: CreateJob, as: 'CreateJob' },\n    { path: '/pizzacat123', component: Admin, as: 'Pizzacat123' },  \n    { path: '/messenger', component: Messenger, as: 'Messenger' },\n    { path: '/messenger/:id', component: Messenger, as: 'Messenger' },\n    { path: '/messenger/:id/:type/:roomId', component: Messenger, as: 'Messenger' },\n    { path: '/help', component: Help, as: 'Help' }, \n    { path: '/achievements', component: Achievements, as: 'Achievements' }, \n    { path: '/blog', component: Blog, as: 'Blog' }, \n    { path: '/blog/:slug', component: BlogArticle, as: 'BlogArticle' }, \n    { path: '/sitemap', component: Sitemap, as: 'Sitemap' },\n    { path: '/newJobs', component: NewJobs, as: 'NewJobs' },\n    { path: '/newJob/:slug', component: NewJob, as: 'NewJob' }, \n    { path: '/messages', component: Messages, as: 'Messages' }, \n\n    { path:'/**', redirectTo: ['Login']}\n])\n\n@Injectable()\n\nexport class AppComponent {\n    router: Router;\n    location: Location;\n    authService: AuthService;\n    userService: UserService\n    isLoggedIn: boolean = false;\n    isCompanyLogin: boolean = false;\n    isUserLogin: boolean = false;\n    userProfile: UserProfile;   \n\n    constructor(_router: Router, _location: Location, _authService: AuthService, _userService: UserService, _userProfile: UserProfile){ \n        this.router = _router;\n        this.location = _location;\n        this.authService = _authService;\n        this.userService = _userService;\n        this.userProfile = _userProfile;\n\n        this.isUserLoggedIn(this.location.path());\n\n        //On refresh\n        this.router.subscribe((currentRoute) =&gt; {\n            this.isUserLoggedIn(currentRoute);\n        })  \n    }\n\n    isUserLoggedIn(currentRoute): void{ \n        this.authService.checkIfLoggedIn().then((response) =&gt; { \n            this.isLoggedIn = response\n\n            if(this.isLoggedIn){\n                this.isUserOrganisationOrTeacher();                 \n            }   \n\n            if(currentRoute.substring(0, 14) == \"socialRegister\" || currentRoute == \"socialRegister\" || currentRoute == \"home\" || currentRoute == \"contact\" || currentRoute == \"\" || currentRoute == \"forgotpassword\" || currentRoute == \"login\" || currentRoute.substring(0, 8) == \"register\" || currentRoute == \"blog\" || currentRoute == \"newJobs\" || currentRoute.substring(0, 4) == \"blog\" || currentRoute == \"sitemap\" || currentRoute.substring(0, 6) == \"newJob\"){\n                this.isCompanyLogin = false;\n                this.isUserLogin = false;\n                this.isLoggedIn = false;\n            }           \n        });  \n    }\n\n    isUserOrganisationOrTeacher(): void{\n        this.userService.checkIfProfileExists().then((response) =&gt; {\n            this.isCompanyLogin = false;\n            this.isUserLogin = false;       \n\n            if(response){\n                this.isUserLogin = true;\n                this.isCompanyLogin = false;\n            }else{\n                this.isCompanyLogin = true; \n                this.isUserLogin = false;                   \n            }\n        }); \n    }       \n}\n\n//bootstrap(AppComponent, [ROUTER_PROVIDERS, provide(APP_BASE_HREF, {useValue: '/'}), HTTP_PROVIDERS, AuthService, SocialService, UserService, EmailService, OrganisationService, NotificationService, ANGULAR2_GOOGLE_MAPS_PROVIDERS, Environment]);\n</code></pre>\n\n<p><strong>Here's the error I get in the git bash when trying to deploy to my dist folder:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/rr2bo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rr2bo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 7488, "user_id": 4074045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ea67fd9895934c41fbd75cce9356f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arg0n", "link": "https://stackoverflow.com/users/4074045/arg0n"}, "edited": false, "score": 0, "creation_date": 1462964304, "post_id": 37160395, "comment_id": 61856658, "body": "Can&#39;t you check this in your controller instead (how the user got to the page)?"}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1462964351, "creation_date": 1462964351, "answer_id": 37160604, "question_id": 37160395, "link": "https://stackoverflow.com/questions/37160395/multiple-route-names-for-the-same-page-in-angular-2/37160604#37160604", "title": "Multiple route names for the same page in Angular 2", "body": "<p>I would use a different approach. Read <code>window.location.href</code> either outside or (if it works inside Angular in the constructor of the root component) and if you get a deep link then redirect from there. </p>\n\n<p>There is only one time during the application lifecycle whre a deep link can be loaded, this is when the application is loaded. \nAfterwards an URL change always results in a page reload. The only way to reach deep links afterwards is by the code of your Angular application (<code>routerLink</code> or <code>router.navigateXxx()</code> <strong>except you are using <code>HashLocationStrategy</code> instead of the default `PathLocationStrategy</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 5418, "user_id": 2573961, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ZqHZp.jpg?s=128&g=1", "display_name": "Diego Unanue", "link": "https://stackoverflow.com/users/2573961/diego-unanue"}, "is_accepted": false, "score": 0, "last_activity_date": 1462973661, "creation_date": 1462973661, "answer_id": 37164307, "question_id": 37160395, "link": "https://stackoverflow.com/questions/37160395/multiple-route-names-for-the-same-page-in-angular-2/37164307#37164307", "title": "Multiple route names for the same page in Angular 2", "body": "<p>What I would do in that case is: in the routerLinks add a query string parameter <code>this._router.navigate(['SweetDetailLandingPage', {fromDeepLink: 'true'}]);</code>\nand then in the load method where you want to deside to do something if you came from a deep link or not ask for that parameter:</p>\n\n<pre><code>if (this.getParameterByName('fromDeepLink') === 'true'){\n     //do something\n}else{\n     //do something different\n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1462973661, "creation_date": 1462963743, "last_edit_date": 1462964017, "question_id": 37160395, "link": "https://stackoverflow.com/questions/37160395/multiple-route-names-for-the-same-page-in-angular-2", "title": "Multiple route names for the same page in Angular 2", "body": "<p>Is it possible to have multiple route names for a page depending on how the user arrived at the page, but keeping the same RouteConfig path?</p>\n\n<p>e.g. </p>\n\n<pre><code>@RouteConfig([\n  {\n    path: 'sweet/:id',\n    name: 'SweetDetailLandingPage',\n    component: SweetDetailComponent,\n    data: { fromLink: false, fromDeepLink: true }\n  },\n{\n    path: 'sweet/:id',\n    name: 'SweetDetailFromLink',\n    component: SweetDetailComponent,\n    data: { fromLink: true, fromDeepLink: false }\n  }\n])\n</code></pre>\n\n<p>For example, if the user enters the URL into the browser, I want the app to load <code>SweetDetailLandingPage</code>. If the user arrives at the page internally via <code>navigate(['SweetDetailFromLink'])</code>, I want to load <code>SweetDetailFromLink</code>.</p>\n\n<p>The reason is because I want to determine whether the user arrived via a deep link or not and be able to call certain functions on load. </p>\n\n<p>I tried this code but the app throws an error saying that there is a conflict.  </p>\n\n<pre><code>ORIGINAL EXCEPTION: Configuration 'sweet/:id' conflicts with existing route 'sweet/:id'\n</code></pre>\n\n<p>I understand why there is a conflict. I'm just wondering if there is a way to implement what I explained above.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1462961997, "post_id": 37159443, "comment_id": 61855073, "body": "Use an object as param and, for each (or only predefined) property, check if the animal has this property and if the value matches."}], "answers": [{"comments": [{"owner": {"reputation": 5200, "user_id": 848706, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4fadbeb3bbc0593c7bec755bf94d52bf?s=128&d=identicon&r=PG", "display_name": "Peter Boomsma", "link": "https://stackoverflow.com/users/848706/peter-boomsma"}, "edited": false, "score": 0, "creation_date": 1462966157, "post_id": 37159807, "comment_id": 61857886, "body": "With the filter array example the <code>name</code>, <code>gender</code> etc. values got undefined, can you just make empty variables for them and use them later? Your second example works very well. Although it does look like a bit of magic at the moment."}, {"owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "reply_to_user": {"reputation": 5200, "user_id": 848706, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4fadbeb3bbc0593c7bec755bf94d52bf?s=128&d=identicon&r=PG", "display_name": "Peter Boomsma", "link": "https://stackoverflow.com/users/848706/peter-boomsma"}, "edited": false, "score": 0, "creation_date": 1462970712, "post_id": 37159807, "comment_id": 61861471, "body": "The first variant is a demo of &quot;find&quot; usage, i meant the name, gender, etc were defined earlier. Then I think a bit and find a better generalized solution. No magic here - it takes keys (property names) from passed template and use them in condition. If you want deeper explanations, i can update my answer later."}, {"owner": {"reputation": 5200, "user_id": 848706, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4fadbeb3bbc0593c7bec755bf94d52bf?s=128&d=identicon&r=PG", "display_name": "Peter Boomsma", "link": "https://stackoverflow.com/users/848706/peter-boomsma"}, "edited": false, "score": 0, "creation_date": 1462971025, "post_id": 37159807, "comment_id": 61861739, "body": "I&#39;ve checked on the template term and it&#39;s still a bit confusing. If you wouldn&#39;t mind to explain the answer a bit more later I would be gratefull."}], "tags": [], "owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "is_accepted": true, "score": 3, "last_activity_date": 1462972726, "last_edit_date": 1462972726, "creation_date": 1462962265, "answer_id": 37159807, "question_id": 37159443, "link": "https://stackoverflow.com/questions/37159443/filter-arrays-on-multiple-values/37159807#37159807", "title": "Filter arrays on multiple values", "body": "<p>You can use JS \"filter\" array function with predicate:</p>\n\n<pre><code>var allAnimals: Array&lt;Animal&gt;;\nvar found = allAnimals.filter(animal =&gt; {\n    return name === animal.name || gender === animal.gender || hair === animal.hair || runningSpeed === animal.runningSpeed;\n});\n</code></pre>\n\n<p>More over, we can use template object for filtering:</p>\n\n<pre><code>function findByTemplate(allAnimals: Array&lt;Animal&gt;, template: any) {\n    return allAnimals.filter(animal =&gt; {\n        return Object.keys(template).every(propertyName =&gt; animal[propertyName] === template[propertyName]);\n    });\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var found = findByTemplate(allAnimals, {name: \"Aw\", gender: \"Male\"});\nvar found = findByTemplate(allAnimals, {name: \"Aw\"});\nvar found = findByTemplate(allAnimals, {name: \"Aw\", gender: \"Male\", hair: \"Red\", runningSpeed: 50});\n</code></pre>\n\n<h3>Update 1</h3>\n\n<p>Generalized solution:</p>\n\n<pre><code>function findByTemplate(objects: Array&lt;any&gt;, template: any) {\n    return objects.filter(obj =&gt; {\n        return Object.keys(template).every(propertyName =&gt; obj[propertyName] === template[propertyName]);\n    });\n}\n</code></pre>\n\n<p>We can find by template object in arrays of objects of any types.</p>\n\n<p>Lets we passed array of some objects and the {name: \"Aw\", gender: \"Male\"} as a template object.</p>\n\n<p>objects.filter iterates through the array and includes item in filter result if predicate function returns true.</p>\n\n<p>Predicate function:</p>\n\n<pre><code>obj =&gt; {\n    return Object.keys(template).every(propertyName =&gt; obj[propertyName] === template[propertyName]);\n}\n</code></pre>\n\n<p>gets keys from passed template</p>\n\n<p>Object.keys(template) for template '{name: \"Aw\", gender: \"Male\"}' returns array</p>\n\n<pre><code>[\"name\", \"gender\"]\n</code></pre>\n\n<p>So we will check only by passed properties.\nAnd we will check whether our condition (another, inner predicate) is true for all items in the '[\"name\", \"gender\"]' array:</p>\n\n<pre><code>propertyName =&gt; obj[propertyName] === template[propertyName]\n</code></pre>\n\n<p>where propertyName will take \"name\" and \"gender\" values.</p>\n\n<p>then propertyName = \"name\" it tests whether</p>\n\n<pre><code>obj.name === template.name\n</code></pre>\n\n<p>after that propertyName = \"gender\" and it tests whether</p>\n\n<pre><code>obj.gender === template.gender\n</code></pre>\n\n<p>If all tests (name and gender) are passed, we will return true in first predicate and get corresponding object in filter results.</p>\n\n<p>Explanation is larger then code, hope it is clear enough...</p>\n"}], "owner": {"reputation": 5200, "user_id": 848706, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4fadbeb3bbc0593c7bec755bf94d52bf?s=128&d=identicon&r=PG", "display_name": "Peter Boomsma", "link": "https://stackoverflow.com/users/848706/peter-boomsma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3938, "favorite_count": 0, "accepted_answer_id": 37159807, "answer_count": 1, "score": 1, "last_activity_date": 1462972726, "creation_date": 1462961417, "question_id": 37159443, "link": "https://stackoverflow.com/questions/37159443/filter-arrays-on-multiple-values", "title": "Filter arrays on multiple values", "body": "<p>I have a Inventory class that has several methods. 2 Methods return all the lions and wolves they have. One method merges the array from lions and wolves into one array. And finally I have a method that I want to use to filter out certain objects depending on the input.</p>\n\n<pre><code>class Inventory {\n\n    getAllLions(): ILion[] {\n        const lions = [\n            { id: 1, name: 'Joffrey', gender: Gender.male, vertrabrates: true, warmBlood: true, hair: 'Golden', runningSpeed: 30, makeSound() { } },\n            { id: 2, name: 'Tommen', gender: Gender.male, vertrabrates: true, warmBlood: true, hair: 'Golden', runningSpeed: 30, makeSound() { } },\n            { id: 3, name: 'Marcella', gender: Gender.female, vertrabrates: true, warmBlood: true, hair: 'Golden', runningSpeed: 30, makeSound() { } },\n        ];\n        return lions;\n    }\n\n    getAllWolves(): IWolf[] {\n        const wolves: IWolf[] = [\n            { id: 1, name: 'Jon', gender: Gender.male, vertrabrates: true, warmBlood: true, hair: 'Grey', runningSpeed: 30, makeSound() { } },\n            { id: 2, name: 'Robb', gender: Gender.male, vertrabrates: true, warmBlood: true, hair: 'Black', runningSpeed: 30, makeSound() { } },\n            { id: 3, name: 'Sansa', gender: Gender.female, vertrabrates: true, warmBlood: true, hair: 'Grey', runningSpeed: 30, makeSound() { } },\n            { id: 4, name: 'Arya', gender: Gender.female, vertrabrates: true, warmBlood: true, hair: 'White', runningSpeed: 30, makeSound() { } },\n        ];\n        return wolves;\n    }\n\n    getAllAnimals(allLions: ILion[], allWolves: IWolf[]): IAnimal[] {\n        const allAnimals = allLions.concat(allWolves);  \n        return allAnimals\n    };\n\n    static getAnimalBy(name: string, gender: Gender, hair: string, runningSpeed: number, allAnimals): any[] {\n        let found = false;\n        let results = [];\n\n        for (let animal of allAnimals) {\n            if (name === animal.name || gender === animal.gender || hair === animal.hair || runningSpeed === animal.runningSpeed) {\n                found = true;\n                results.push(animal);\n            }\n        }\n\n        if (found) { return results } else { alert('No results'); return [] }    \n    }\n\n}\n</code></pre>\n\n<p>On the <code>getAnimalBy</code> I have several parameters. These are the parameters the user could filter the animals by. At the moment it only works with one value though. If I do: </p>\n\n<pre><code>const filterdAnimal = Inventory.getAnimalBy(null, Gender.female, null, null, allAnimals);\n</code></pre>\n\n<p>I get all the results that equal the female gender. But if I do:</p>\n\n<pre><code>const filterdAnimal = Inventory.getAnimalBy(null, Gender.female, 'Golden', null, allAnimals);\n</code></pre>\n\n<p>It adds the objects that equal <code>Golden</code> to the results. </p>\n\n<p>What would be a good method to only show the results that would equal the female gender and the golden hair value?</p>\n"}, {"tags": ["javascript", "unit-testing", "testing", "typescript", "nightwatch.js"], "comments": [{"owner": {"reputation": 254, "user_id": 1514137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W8IBn.jpg?s=128&g=1", "display_name": "Tedd", "link": "https://stackoverflow.com/users/1514137/tedd"}, "edited": false, "score": 0, "creation_date": 1462971586, "post_id": 37159234, "comment_id": 61862266, "body": "Do you get any errors or messages like element not found? And what is the html of the link being tested."}, {"owner": {"reputation": 53, "user_id": 6319525, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ROlRu.jpg?s=128&g=1", "display_name": "Rita", "link": "https://stackoverflow.com/users/6319525/rita"}, "reply_to_user": {"reputation": 254, "user_id": 1514137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W8IBn.jpg?s=128&g=1", "display_name": "Tedd", "link": "https://stackoverflow.com/users/1514137/tedd"}, "edited": false, "score": 0, "creation_date": 1462972987, "post_id": 37159234, "comment_id": 61863450, "body": "Hi Tedd, thanks for answering. When I run the test I get this message:  Running:  Facebook link  ? Element &lt;.bottom&gt; was visible after 89 milliseconds.  ? Element &lt;#facebook&gt; was present after 17 milliseconds.  ? Testing if the URL contains &quot;facebook&quot;.  - expected &quot;facebook&quot; but got: http: //192.168.51.25/mychallenges.net/unitel-fit/"}], "owner": {"reputation": 53, "user_id": 6319525, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ROlRu.jpg?s=128&g=1", "display_name": "Rita", "link": "https://stackoverflow.com/users/6319525/rita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1463137799, "creation_date": 1462960977, "last_edit_date": 1463137799, "question_id": 37159234, "link": "https://stackoverflow.com/questions/37159234/facebook-page-is-not-opening-with-icon-link-nightwatch", "title": "Facebook page is not opening with icon link - nightwatch", "body": "<p>I\u00b4m new at using <strong>Nightwatch.js</strong>\nI want to click on facebook icon and make it open in a new page.</p>\n\n<p>How can I test if the icon link is clicked? Thanks.</p>\n\n<pre><code>module.exports = {\n        \"Facebook link\" : function (browser) {\n            browser\n                .url(http://m.unitel.ao/fit/)\n                .waitForElementVisible('.socal', 3000)\n                .waitForElementPresent('.fa.fa-facebook', 15000)\n                .useCss().click('.fa.fa-facebook')\n                .pause(3000)\n                .assert.urlContains('facebook')\n                .end()}};\n</code></pre>\n\n<p>Anda whatt i get is this:</p>\n\n<pre><code>&gt; Running:  Facebook link\n         ? Element &lt;.socal&gt; was visible after 118 milliseconds. \n         ? Element &lt;.fa.fa-facebook&gt; was present after 21 milliseconds. \n         ? Testing if the URL contains \"facebook\".  - expected \"facebook\" but got: http: //m.unitel.ao/fit/\n</code></pre>\n\n<p>It\u00b4s not opening facebook page. Can anyone help me please?</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "edited": false, "score": 0, "creation_date": 1462962689, "post_id": 37159417, "comment_id": 61855580, "body": "Yes, I&#39;m looking for something like this. However, this._location.back() doesn&#39;t throw an error when there is no previous page so the function inside catch doesn&#39;t trigger. The page just doesn&#39;t respond."}, {"owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "edited": false, "score": 0, "creation_date": 1462963637, "post_id": 37159417, "comment_id": 61856185, "body": "I should point out, the error in the original question only appears when I have both functions without a try/catch statement.      this._location.back();     this._router.navigate([&#39;ItemsPage&#39;]);"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "edited": false, "score": 0, "creation_date": 1462963960, "post_id": 37159417, "comment_id": 61856417, "body": "I don&#39;t get what you try to accomplish with this. Why would you call <code>router.navigate</code> after <code>_location.back()</code>. Why not just calling <code>_router.navigate()</code>?"}, {"owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "edited": false, "score": 0, "creation_date": 1462964194, "post_id": 37159417, "comment_id": 61856582, "body": "Because _router.navigate() just takes me to the default target page, whereas _location.back() will take me back to the previous page with preserved routeparams that the user had previously. e.g. <code>http:&#47;&#47;originalpage&#47;page-num&#47;2</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "edited": false, "score": 0, "creation_date": 1462964472, "post_id": 37159417, "comment_id": 61856774, "body": "Sure but what do you gain by calling <code>router.navigate()</code> afterwards? I think the end result would be the same."}, {"owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "edited": false, "score": 0, "creation_date": 1462964695, "post_id": 37159417, "comment_id": 61856932, "body": "Because if a user arrives at the page via a deep-link there is no history for the &#39;back&#39; button or <code>_location.back()</code> to work. So the page just sits there. I was thinking that adding <code>_router.navigate()</code> after may trigger if the <code>_location.back()</code> function doesn&#39;t have anything to respond with."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462961326, "creation_date": 1462961326, "answer_id": 37159417, "question_id": 37159231, "link": "https://stackoverflow.com/questions/37159231/dynamic-back-link-on-a-landing-page-in-angular-2/37159417#37159417", "title": "Dynamic back link on a landing page in Angular 2", "body": "<p>Not sure I understand your question. \nYou can catch the error from <code>this._location.back()</code> and then call <code>this._router.navigate(...)</code> instead. If <code>this._location.back()</code> succeeds, then <code>this._router.navigate(...)</code> is not executed. Is this what you want?</p>\n\n<pre><code>clickGoToItemsPage() {\n    try {\n      this._location.back();\n    } catch() {\n      this._router.navigate(['ItemsPage']);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462963727, "creation_date": 1462960975, "last_edit_date": 1462963727, "question_id": 37159231, "link": "https://stackoverflow.com/questions/37159231/dynamic-back-link-on-a-landing-page-in-angular-2", "title": "Dynamic back link on a landing page in Angular 2", "body": "<p>I have a item page built in Angular 2 that is linked from an items list page. I am trying to add a 'back' link which takes the user back to the items list page restoring the previous URL with route params. That works fine with Location.back(). However, if a user lands on the items page via a deep link, there is no history in the Location object, so the Location.back() doesn't work. I tried the following, so if the back() function doesn't work, the app triggers the navigate() function, but it throws an error once the app navigates back to the items page:</p>\n\n<pre><code>clickGoToItemsPage() {\n    this._location.back();\n    this._router.navigate(['ItemsPage']);\n}\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>EXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property 'constructor' of undefined\n</code></pre>\n\n<p>The error happens <em>after</em> the second function is triggered and the page is at the ItemsPage. Is there a way round this?</p>\n"}, {"tags": ["javascript", "arrays", "class", "typescript", "iterable"], "comments": [{"owner": {"reputation": 12071, "user_id": 2114871, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/32014397a1d14951a2f9170e1805766f?s=128&d=identicon&r=PG", "display_name": "iberbeu", "link": "https://stackoverflow.com/users/2114871/iberbeu"}, "edited": false, "score": 0, "creation_date": 1462971443, "post_id": 37159090, "comment_id": 61862143, "body": "what is the problem? Is something not working?"}], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "edited": false, "score": 0, "creation_date": 1463042497, "post_id": 37164800, "comment_id": 61896522, "body": "Thank you for the reply, I also came to this approach yesterday. It seems working for me"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 7, "last_activity_date": 1462976915, "last_edit_date": 1462976915, "creation_date": 1462974833, "answer_id": 37164800, "question_id": 37159090, "link": "https://stackoverflow.com/questions/37159090/how-to-implement-array-like-class-with-custom-methods-with-typescript/37164800#37164800", "title": "How to implement array-like class with custom methods with Typescript?", "body": "<p>You can extend the <code>Array</code> class and by doing that establishing requirement #2.<br>\nHere's an implementation that I think matches all of your requirements:</p>\n\n<pre><code>class MyArray&lt;T&gt; extends Array&lt;T&gt; {\n    constructor(items?: T[]) {\n        super();\n        items &amp;&amp; this.addItems(items);\n    }\n\n    public serialize(items: T[]): void {\n        this.splice(0, this.length);\n        this.addItems(items);\n    }\n\n    private addItems(items: T[]) {\n        items.forEach(item =&gt; this.push(item));\n    }\n}\n\nclass StringsList extends MyArray&lt;string&gt; {\n    public sayHello(): void { // req. #3\n        console.log(\"hello\");\n    }\n}\n\nclass NumbersList extends MyArray&lt;number&gt; {\n    public sum(): number { // req. #3\n        return this.reduce((prev: number, current: number) =&gt; prev + current);\n    }\n}\n</code></pre>\n\n<p>If you don't like the generics part, you can simply extend <code>Array&lt;any&gt;</code>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=class%20MyArray%3CT%3E%20extends%20Array%3CT%3E%20%7B%0A%09constructor(items%3F%3A%20T%5B%5D)%20%7B%0A%09%09super()%3B%0A%09%09items%20%26%26%20this.addItems(items)%3B%0A%09%7D%0A%0A%09public%20serialize(items%3A%20T%5B%5D)%3A%20void%20%7B%0A%09%09this.splice(0%2C%20this.length)%3B%0A%09%09this.addItems(items)%3B%0A%09%7D%0A%0A%09private%20addItems(items%3A%20T%5B%5D)%20%7B%0A%09%09items.forEach(item%20%3D%3E%20this.push(item))%3B%0A%09%7D%0A%7D%0A%0Aclass%20StringsList%20extends%20MyArray%3Cstring%3E%20%7B%0A%09public%20sayHello()%3A%20void%20%7B%0A%09%09console.log(%22hello%22)%3B%0A%09%7D%0A%7D%0A%0Aclass%20NumbersList%20extends%20MyArray%3Cnumber%3E%20%7B%0A%09public%20sum()%3A%20number%20%7B%0A%09%09return%20this.reduce((prev%3A%20number%2C%20current%3A%20number)%20%3D%3E%20prev%20%2B%20current)%3B%0A%09%7D%0A%7D%0A%0Alet%20arr1%20%3D%20new%20MyArray(%5B%22hey%22%2C%204%2C%20true%5D)%3B%0Aconsole.log(arr1)%3B%20%2F%2F%20%5B%22hey%22%2C%204%2C%20true%5D%0A%0Aarr1.push(99)%3B%0Aconsole.log(arr1)%3B%20%2F%2F%20%5B%22hey%22%2C%204%2C%20true%2C%2099%5D%0A%0Aarr1.forEach(item%20%3D%3E%20console.log(item))%3B%20%2F%2F%20hey%2C%204%2C%20true%2C%2099%0A%0Alet%20arr2%20%3D%20new%20StringsList(%5B%22str1%22%2C%20%22str2%22%5D)%3B%0Aconsole.log(arr2)%3B%20%2F%2F%20%5B%22str1%22%2C%20%22str2%22%5D%0A%0Aarr2.serialize(%5B%22str3%22%2C%20%22str4%22%5D)%3B%0Aconsole.log(arr2)%3B%20%2F%2F%20%5B%22str3%22%2C%20%22str4%22%5D%0A%0Alet%20arr3%20%3D%20new%20NumbersList(%5B1%2C2%2C3%2C4%2C5%5D)%3B%0Aconsole.log(arr3.sum())%3B%20%2F%2F%2015\" rel=\"noreferrer\">Examples</a>:</p>\n\n<pre><code>let arr1 = new MyArray([\"hey\", 4, true]);\nconsole.log(arr1); // [\"hey\", 4, true]\n\narr1.push(99);\nconsole.log(arr1); // [\"hey\", 4, true, 99]\n\narr1.forEach(item =&gt; console.log(item)); // hey, 4, true, 99\n\nlet arr2 = new StringsList([\"str1\", \"str2\"]);\nconsole.log(arr2); // [\"str1\", \"str2\"]\n\narr2.serialize([\"str3\", \"str4\"]);\nconsole.log(arr2); // [\"str3\", \"str4\"]\n\nlet arr3 = new NumbersList([1,2,3,4,5]);\nconsole.log(arr3.sum()); // 15\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1575, "user_id": 885259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea1d85cf531a8970912cf2e844c77b4?s=128&d=identicon&r=PG", "display_name": "Mateo Tibaquira", "link": "https://stackoverflow.com/users/885259/mateo-tibaquira"}, "is_accepted": false, "score": 3, "last_activity_date": 1588820756, "last_edit_date": 1588820756, "creation_date": 1583016529, "answer_id": 60470345, "question_id": 37159090, "link": "https://stackoverflow.com/questions/37159090/how-to-implement-array-like-class-with-custom-methods-with-typescript/60470345#60470345", "title": "How to implement array-like class with custom methods with Typescript?", "body": "<p>It seems that extending Arrays is a no-no in Typescript, I was getting runtime errors and I found this excellent article to do it in the proper way:\n<a href=\"https://blog.simontest.net/extend-array-with-typescript-965cc1134b3\" rel=\"nofollow noreferrer\">https://blog.simontest.net/extend-array-with-typescript-965cc1134b3</a></p>\n\n<p>Our custom class instances needs to be created like a Singleton to assign the proper prototype, and do not inherit the Array prototype on runtime:</p>\n\n<pre><code>export class MyArray&lt;T&gt; extends Array&lt;any&gt; {\n\n  static create&lt;T&gt;(): MyArray&lt;T&gt; {\n    return Object.create(MyArray.prototype);\n  }\n\n  ...\n}\n</code></pre>\n\n<p>Without this, the custom methods do not exists for JavaScript in runtime.</p>\n"}], "owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1921, "favorite_count": 0, "accepted_answer_id": 37164800, "answer_count": 2, "score": 3, "last_activity_date": 1588820756, "creation_date": 1462960614, "question_id": 37159090, "link": "https://stackoverflow.com/questions/37159090/how-to-implement-array-like-class-with-custom-methods-with-typescript", "title": "How to implement array-like class with custom methods with Typescript?", "body": "<p>I want to implement an array-like class that:</p>\n\n<ol>\n<li>accepts array as constructor's parameter</li>\n<li>should be iterable and have all built-in array's methods</li>\n<li>have some custom methods</li>\n<li>Should be able to extend other class</li>\n</ol>\n\n<p>I see it like this:</p>\n\n<pre><code>class BaseModel {\n  arr: Array;\n\n  constructor(arr: Array&lt;any&gt;) { // &lt;= req. #1\n    this.arr = arr;\n  }\n\n  serialize(arr) { // &lt;= req. #3\n    this.arr = arr;\n  }\n}\n\nclass ListModel extends BaseModel { // &lt;= req. #4\n  constructor(arr: Array&lt;any&gt;) { // &lt;= req. #1\n    super(arr);\n  }\n\n  sayHello() { // &lt;= req. #3\n    console.log('hello');\n  }\n}\n\nlet list = new ListModel([1,2,3]);\nlist.sayHello();\n// expected output:\n// 'hello'\nlist.push(4); // &lt;= req. #2\n\nfor (let a of list) { // &lt;= req. #2\n  console.log(a);\n}\n// expected output:\n// 1\n// 2\n// 3\n// 4\nlist.serialize([2,3]);\n\nfor (let a of list) {\n  console.log(a);\n}\n// expected output:\n// 2\n// 3\n</code></pre>\n\n<p>Is it possible with typescript? I looked for solution but haven't found something closer to these requirements. Thx!</p>\n"}, {"tags": ["typescript", "visual-studio-2015", "aurelia", "typescript1.8"], "comments": [{"owner": {"reputation": 720, "user_id": 1849394, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YD8qL.jpg?s=128&g=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/1849394/ankur"}, "reply_to_user": {"reputation": 1030, "user_id": 6031322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkO2b.jpg?s=128&g=1", "display_name": "kabaehr", "link": "https://stackoverflow.com/users/6031322/kabaehr"}, "edited": false, "score": 0, "creation_date": 1463036911, "post_id": 37158965, "comment_id": 61892942, "body": "@kabaehr buddy all the packages are up-to date."}, {"owner": {"reputation": 1030, "user_id": 6031322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkO2b.jpg?s=128&g=1", "display_name": "kabaehr", "link": "https://stackoverflow.com/users/6031322/kabaehr"}, "edited": false, "score": 0, "creation_date": 1463037674, "post_id": 37158965, "comment_id": 61893422, "body": "The error means that you have double typescript definition files. Check if you have several versions of an package e.g. aurelia-binding under <code>jspm_packages</code>. If yes, delete the whole folder and reinstall the packages with <code>jspm install</code>"}, {"owner": {"reputation": 720, "user_id": 1849394, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YD8qL.jpg?s=128&g=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/1849394/ankur"}, "reply_to_user": {"reputation": 1030, "user_id": 6031322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkO2b.jpg?s=128&g=1", "display_name": "kabaehr", "link": "https://stackoverflow.com/users/6031322/kabaehr"}, "edited": false, "score": 0, "creation_date": 1463377803, "post_id": 37158965, "comment_id": 62023341, "body": "@kabaehr I have tried, not working. :("}, {"owner": {"reputation": 1030, "user_id": 6031322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkO2b.jpg?s=128&g=1", "display_name": "kabaehr", "link": "https://stackoverflow.com/users/6031322/kabaehr"}, "edited": false, "score": 0, "creation_date": 1463434302, "post_id": 37158965, "comment_id": 62053873, "body": "Can you show a screenshot from your jspm_packages?"}, {"owner": {"reputation": 720, "user_id": 1849394, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YD8qL.jpg?s=128&g=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/1849394/ankur"}, "reply_to_user": {"reputation": 1030, "user_id": 6031322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkO2b.jpg?s=128&g=1", "display_name": "kabaehr", "link": "https://stackoverflow.com/users/6031322/kabaehr"}, "edited": false, "score": 0, "creation_date": 1463738009, "post_id": 37158965, "comment_id": 62203574, "body": "@kabaehr I have added the snapshots for jspm_packages and npm. Please have a look and tell me know your comments."}, {"owner": {"reputation": 7630, "user_id": 54288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/108224a16e39c4099668a41e9be8111f?s=128&d=identicon&r=PG", "display_name": "AlignedDev", "link": "https://stackoverflow.com/users/54288/aligneddev"}, "edited": false, "score": 0, "creation_date": 1523458289, "post_id": 37158965, "comment_id": 86571674, "body": "Is this still an issue with the improvements in the last year?"}], "owner": {"reputation": 720, "user_id": 1849394, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YD8qL.jpg?s=128&g=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/1849394/ankur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1463737899, "creation_date": 1462960333, "last_edit_date": 1463737899, "question_id": 37158965, "link": "https://stackoverflow.com/questions/37158965/typescript-1-8-version-in-aurelia-framework", "title": "Typescript 1.8 version in Aurelia Framework", "body": "<p>I am using Aurelia framework. Last night I updated typescript from 1.7 to 1.8 version.</p>\n\n<p>Now I am getting a lot of errors in the error list tab of visual studio.</p>\n\n<p>Errors like:</p>\n\n<pre><code>node_modules/typescript/bin/lib.core.d.ts(83,5): error TS2300: Duplicate identifier 'configurable'.\nnode_modules/typescript/bin/lib.core.d.ts(84,5): error TS2300: Duplicate identifier 'enumerable'.\nnode_modules/typescript/bin/lib.core.d.ts(85,5): error TS2300: Duplicate identifier 'value'.\nnode_modules/typescript/bin/lib.core.d.ts(86,5): error TS2300: Duplicate identifier 'writable'.\n</code></pre>\n\n<p>There are around 20k errors.</p>\n\n<p>I added code to exclude folders in the tsconfig.json but somehow visual studio is not ignoring those folders.</p>\n\n<p>Below are the snapshot for the jspm_packages folder and npm folder.\n<a href=\"https://i.stack.imgur.com/ZXCn2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZXCn2.png\" alt=\"jspm_packages\"></a>\n<a href=\"https://i.stack.imgur.com/q52Mt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q52Mt.png\" alt=\"npm\"></a></p>\n\n<p>Any suggestions are welcomed.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 200, "user_id": 2520654, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8d427c521de710be9699674208b28ddc?s=128&d=identicon&r=PG", "display_name": "Shalin LK", "link": "https://stackoverflow.com/users/2520654/shalin-lk"}, "edited": false, "score": 0, "creation_date": 1462960276, "post_id": 37158528, "comment_id": 61853822, "body": "thanks for the answer and that works fine. But I am still confused on the fact that, in either of the cases (<b>working</b> or not working), I haven&#39;t specified anything about the interface (<code>SomeInterface</code>). Only difference is that, in working case, it is assigned to a variable. Then how the compiler is aware about this (<code>SomeInterface</code>) interface?"}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1462959194, "creation_date": 1462959194, "answer_id": 37158528, "question_id": 37158286, "link": "https://stackoverflow.com/questions/37158286/trouble-in-passing-interface-as-an-argument/37158528#37158528", "title": "Trouble in passing interface as an argument", "body": "<p>That is the expected behavior. You can solve it using a casting:</p>\n\n<pre><code>interfaceTester(&lt;SomeInterface&gt;{someOneElse: 45, label:\"Label value with one extra argument;\"});\n</code></pre>\n\n<p>You can find documentation about why it works this way <a href=\"https://github.com/Microsoft/TypeScript/issues/3755\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1270, "user_id": 6254578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AnQCk.jpg?s=128&g=1", "display_name": "Rajeesh Madambat", "link": "https://stackoverflow.com/users/6254578/rajeesh-madambat"}, "is_accepted": true, "score": 2, "last_activity_date": 1462960876, "creation_date": 1462960876, "answer_id": 37159191, "question_id": 37158286, "link": "https://stackoverflow.com/questions/37158286/trouble-in-passing-interface-as-an-argument/37159191#37159191", "title": "Trouble in passing interface as an argument", "body": "<pre><code>   let obj = {someOneElse: 45, label:\"Label value with one extra argument;\" };\n</code></pre>\n\n<p>while building compiler treats the obj as of type <strong>any</strong> rather specific type of the interface (SomeInterface). This assumes the compiler to treat the variable as dynamic. </p>\n\n<p>To restrict this you should specify the data type. </p>\n\n<pre><code> let obj: SomeInterface = { someOneElse: 45, label: \"Label value with one extra argument;\" };\n</code></pre>\n\n<p>This will give the build error. </p>\n"}], "owner": {"reputation": 200, "user_id": 2520654, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8d427c521de710be9699674208b28ddc?s=128&d=identicon&r=PG", "display_name": "Shalin LK", "link": "https://stackoverflow.com/users/2520654/shalin-lk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 37159191, "answer_count": 2, "score": 0, "last_activity_date": 1462960876, "creation_date": 1462958638, "question_id": 37158286, "link": "https://stackoverflow.com/questions/37158286/trouble-in-passing-interface-as-an-argument", "title": "Trouble in passing interface as an argument", "body": "<p>I am new to TypeScript (Version 1.8.10). I have this code;</p>\n\n<pre><code>interface SomeInterface {\n    label: string;  \n}\n\nfunction interfaceTester(arg: SomeInterface){\n    console.log(\"This is the interface tester's argument : \", arg.label);\n}\n\n//working\ninterfaceTester({label:\"Label value alone\"});\n</code></pre>\n\n<p>But, when I tried this code, with an additional parameter, </p>\n\n<pre><code>interfaceTester({someOneElse: 45, label:\"Label value with one extra argument;\"});\n</code></pre>\n\n<p>it is <strong>not working</strong>; It throws compile error; </p>\n\n<p>Instead when I tried the <em>same</em>(I believe so) this way : </p>\n\n<pre><code>let obj = {someOneElse: 45, label:\"Label value with one extra argument;\" };\n\ninterfaceTester(obj);\n</code></pre>\n\n<p><strong>is working fine</strong>; I could compile and execute it.</p>\n\n<p>Am I doing anything wrong? Can anyone help please?</p>\n"}, {"tags": ["mongodb", "typescript"], "comments": [{"owner": {"reputation": 198, "user_id": 5520646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkeCK6Zm2LA/AAAAAAAAAAI/AAAAAAAABgI/XULePBNLIME/photo.jpg?sz=128", "display_name": "Bameza", "link": "https://stackoverflow.com/users/5520646/bameza"}, "edited": false, "score": 0, "creation_date": 1462958296, "post_id": 37157994, "comment_id": 61852469, "body": "I think you should try this : <a href=\"https://docs.mongodb.com/manual/reference/method/ObjectId.valueOf/#ObjectId.valueOf\" rel=\"nofollow noreferrer\">ObjectId.valueOf</a>"}, {"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "reply_to_user": {"reputation": 198, "user_id": 5520646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkeCK6Zm2LA/AAAAAAAAAAI/AAAAAAAABgI/XULePBNLIME/photo.jpg?sz=128", "display_name": "Bameza", "link": "https://stackoverflow.com/users/5520646/bameza"}, "edited": false, "score": 0, "creation_date": 1462965808, "post_id": 37157994, "comment_id": 61857638, "body": "Do you mean I should use <code>valueOf</code> instead of <code>toHexString</code>? That&#39;s not my problem. I am wondering why <code>_id</code> loses all methods when it is of an union type. @Bameza"}], "answers": [{"comments": [{"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1463033067, "post_id": 37168552, "comment_id": 61890881, "body": "Using generics and <code>type</code> is better. Checkout my answer."}], "tags": [], "owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "is_accepted": true, "score": 4, "last_activity_date": 1462984527, "creation_date": 1462984527, "answer_id": 37168552, "question_id": 37157994, "link": "https://stackoverflow.com/questions/37157994/how-should-i-define-interfaces-of-documents-when-using-typescript-and-mongodb/37168552#37168552", "title": "How should I define interfaces of documents when using Typescript and Mongodb?", "body": "<p>You can try to separate them in a smart way :</p>\n\n<pre><code>interface User {\n   username: string;\n   password: string;\n   somethingElse: string;\n}\n\nexport interface UserJSON extends User {\n   _id : string\n}\n\nexport interface UserDB extends User {\n   _id : mongodb.ObjectId\n}\n</code></pre>\n\n<p>and later take either UserJSON ( client ) or UserDB ( server-side ).</p>\n"}, {"comments": [{"owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "edited": false, "score": 0, "creation_date": 1463038347, "post_id": 37178473, "comment_id": 61893862, "body": "It&#39;s opinionated, but anyway at one point you might want to add more methods to your database user, which don&#39;t exist in your JSON schema. So in my projects I usually choose to have two separate interfaces"}, {"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "reply_to_user": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "edited": false, "score": 1, "creation_date": 1463039248, "post_id": 37178473, "comment_id": 61894429, "body": "I use it mainly for interacting with database, so the interface is likely to be a plain object. If necessary, I will create a class that extends it. Is your project open source? I would like to see it.@drinchev"}, {"owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "edited": false, "score": 0, "creation_date": 1463044407, "post_id": 37178473, "comment_id": 61897970, "body": "I&#39;m using sequelize, not mongodb ... I&#39;m contributing to the typings of sequelize. More interestingly the tests show how to use them <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/sequelize/sequelize-tests.ts\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/&hellip;</a> and they have the basic idea."}], "tags": [], "owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "is_accepted": false, "score": 2, "last_activity_date": 1463033000, "creation_date": 1463033000, "answer_id": 37178473, "question_id": 37157994, "link": "https://stackoverflow.com/questions/37157994/how-should-i-define-interfaces-of-documents-when-using-typescript-and-mongodb/37178473#37178473", "title": "How should I define interfaces of documents when using Typescript and Mongodb?", "body": "<p>Thanks to @drinchev. And I have figured out a better way to do it, using generics:</p>\n\n<pre><code>interface User&lt;IdType&gt; {\n    _id: IdType;\n    username: string;\n    posts: Post&lt;IdType&gt;[];\n}\n\ninterface Post&lt;IdType&gt; {\n    _id: IdType;\n    text: string;\n}\n\nexport type UserDB = User&lt;mongodb.ObjectID&gt;;\n</code></pre>\n"}], "owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4176, "favorite_count": 3, "accepted_answer_id": 37168552, "answer_count": 2, "score": 8, "last_activity_date": 1463033000, "creation_date": 1462957898, "last_edit_date": 1462966779, "question_id": 37157994, "link": "https://stackoverflow.com/questions/37157994/how-should-i-define-interfaces-of-documents-when-using-typescript-and-mongodb", "title": "How should I define interfaces of documents when using Typescript and Mongodb?", "body": "<p>Consider a simple user collection: </p>\n\n<pre><code>// db.ts\nexport interface User {\n      _id: mongodb.ObjectId;\n      username: string;\n      password: string;\n      somethingElse: string;\n}\n\n// user.ts\nimport {User} from \"../db\"\nrouter.get(\"/:id\", async (req, res) =&gt; {\n    const id = req.params.id;\n    // user._id is a mongodb.Object.\n    const user: User = await db.getUser(id);\n\n    res.send(user);\n});\n\n// index.ts\n// code that will runs on browser\nimport {User} from \"../../db\"\n$.get('/user/...').done((user: User) =&gt; {\n    // user._id is string.\n    console.log(user._id);\n});\n</code></pre>\n\n<p>It works perfectly until I want to use this interface in client codes. Because the <code>_id</code> of user becomes a hex string when tranmitted as json from server. If I set <code>_id</code> to be <code>mongodb.ObjectId | string</code>, the behavior gets wierd.\n<a href=\"https://i.stack.imgur.com/FmNmW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FmNmW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "angular", "angular2-routing"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 4, "creation_date": 1486022216, "post_id": 37157838, "comment_id": 71170350, "body": "<code>ROUTER_DIRECTIVES</code> sound like you&#39;re using an Angular version from the Dark Ages ;-)"}, {"owner": {"reputation": 2777, "user_id": 2211479, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xlge0.jpg?s=128&g=1", "display_name": "Felype", "link": "https://stackoverflow.com/users/2211479/felype"}, "edited": false, "score": 0, "creation_date": 1537465074, "post_id": 37157838, "comment_id": 91804455, "body": "You can also summon this kind of &quot;satan gimmick&quot;: <code>this.router[&#39;arbitraryData&#39;] = data</code> before navigating and <code>let arbitraryData = this.router[&#39;arbitraryData&#39;]</code> in the final navigation target. I&#39;ll leave this here in case I forget and end up finding this page again, just in case"}], "answers": [{"comments": [{"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1462957909, "post_id": 37157905, "comment_id": 61852198, "body": "so what can be done in current scenario looking at this project?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1462958003, "post_id": 37157905, "comment_id": 61852265, "body": "You provide a service at the parent component and inject it in both routed components. When you set a property from one component, the other can read the property. <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/&hellip;</a>"}, {"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1462958181, "post_id": 37157905, "comment_id": 61852398, "body": "I have used that approach for different purpose. I was thinking if I can pass page_id as a string then also its fine. but its getting page_id as a null too."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1462958318, "post_id": 37157905, "comment_id": 61852480, "body": "If it&#39;s a string it should work. A plunker would be nice to debug the issue."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 20, "last_activity_date": 1467354360, "last_edit_date": 1495542395, "creation_date": 1462957674, "answer_id": 37157905, "question_id": 37157838, "link": "https://stackoverflow.com/questions/37157838/angular-2-passing-data-to-routes/37157905#37157905", "title": "Angular 2: Passing Data to Routes?", "body": "<p>You can't pass objects using router params, only strings because it needs to be reflected in the URL. It would be probably a better approach to use a shared service to pass data around between routed components anyway.</p>\n\n<p>The old router allows to pass <code>data</code> but the new (<code>RC.1</code>) router doesn't yet.</p>\n\n<p><strong>Update</strong></p>\n\n<p><code>data</code> was re-introduced in <code>RC.4</code> <a href=\"https://stackoverflow.com/questions/36835123/how-do-i-pass-data-in-angular-2-components-while-using-routing\">How do I pass data in Angular 2 components while using Routing?</a></p>\n"}, {"comments": [{"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "edited": false, "score": 10, "creation_date": 1483006908, "post_id": 40861275, "comment_id": 69957061, "body": "Can you pass that data into the route at the navigation point instead of the routing configuration? For example, in a master-detail situation where the detail component replaces (so is not a child of) the master component, can you pass the master data object to the detail component while navigating to it so that the detail component can display some of its data while it&#39;s loading the detail data?"}, {"owner": {"reputation": 1847, "user_id": 3407629, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Rm0Mn.jpg?s=128&g=1", "display_name": "kumar kundan", "link": "https://stackoverflow.com/users/3407629/kumar-kundan"}, "reply_to_user": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "edited": false, "score": 3, "creation_date": 1493373276, "post_id": 40861275, "comment_id": 74400391, "body": "@Sebastien did you get your answer ...plzz tell how you did it"}, {"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1522101965, "post_id": 40861275, "comment_id": 86006826, "body": "@Veerendra Borra \u2014 I set up the router config with <code>data</code> object but in my component data still shows as empty object... any ideas?"}], "tags": [], "owner": {"reputation": 1235, "user_id": 5625208, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-1K50JEiufSs/AAAAAAAAAAI/AAAAAAAAAGE/JNSe3mNieEw/photo.jpg?sz=128", "display_name": "Veerendra Borra", "link": "https://stackoverflow.com/users/5625208/veerendra-borra"}, "is_accepted": false, "score": 18, "last_activity_date": 1480409003, "creation_date": 1480409003, "answer_id": 40861275, "question_id": 37157838, "link": "https://stackoverflow.com/questions/37157838/angular-2-passing-data-to-routes/40861275#40861275", "title": "Angular 2: Passing Data to Routes?", "body": "<p>It changes in angular 2.1.0</p>\n\n<p>In something.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BlogComponent } from './blog.component';\nimport { AddComponent } from './add/add.component';\nimport { EditComponent } from './edit/edit.component';\nimport { RouterModule } from '@angular/router';\nimport { MaterialModule } from '@angular/material';\nimport { FormsModule } from '@angular/forms';\nconst routes = [\n  {\n    path: '',\n    component: BlogComponent\n  },\n  {\n    path: 'add',\n    component: AddComponent\n  },\n  {\n    path: 'edit/:id',\n    component: EditComponent,\n    data: {\n      type: 'edit'\n    }\n  }\n\n];\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    MaterialModule.forRoot(),\n    FormsModule\n  ],\n  declarations: [BlogComponent, EditComponent, AddComponent]\n})\nexport class BlogModule { }\n</code></pre>\n\n<p>To get the data or params in edit component</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params, Data } from '@angular/router';\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})\nexport class EditComponent implements OnInit {\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router\n\n  ) { }\n  ngOnInit() {\n\n    this.route.snapshot.params['id'];\n    this.route.snapshot.data['type'];\n\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 64, "user_id": 3472570, "user_type": "registered", "profile_image": "https://graph.facebook.com/1242835866/picture?type=large", "display_name": "FelipeDrumond", "link": "https://stackoverflow.com/users/3472570/felipedrumond"}, "edited": false, "score": 10, "creation_date": 1486035720, "post_id": 41996850, "comment_id": 71178854, "body": "What if I want to set the data dynamically? For instance, when using router.navigate()?"}, {"owner": {"reputation": 6122, "user_id": 7193018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDDjX.jpg?s=128&g=1", "display_name": "Shubham Verma", "link": "https://stackoverflow.com/users/7193018/shubham-verma"}, "reply_to_user": {"reputation": 64, "user_id": 3472570, "user_type": "registered", "profile_image": "https://graph.facebook.com/1242835866/picture?type=large", "display_name": "FelipeDrumond", "link": "https://stackoverflow.com/users/3472570/felipedrumond"}, "edited": false, "score": 2, "creation_date": 1486039469, "post_id": 41996850, "comment_id": 71181316, "body": "Don&#39;t ask new questions via comments. Search first, then post a new question if you must. you can set the data dynamically like this:-    this.router.navigate([&#39;/detail&#39;, this.object.id]);"}, {"owner": {"reputation": 17834, "user_id": 445303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2807e279ada3bb19bad41a54af66114d?s=128&d=identicon&r=PG", "display_name": "The Muffin Man", "link": "https://stackoverflow.com/users/445303/the-muffin-man"}, "edited": false, "score": 0, "creation_date": 1487273257, "post_id": 41996850, "comment_id": 71722420, "body": "I notice that you can only get the <code>ActivatedRoute</code> when passing it in via DI. Why can&#39;t you obtain it from the <code>Router</code>?"}, {"owner": {"reputation": 1127, "user_id": 5413117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajPmT.jpg?s=128&g=1", "display_name": "S. Robijns", "link": "https://stackoverflow.com/users/5413117/s-robijns"}, "edited": false, "score": 4, "creation_date": 1499154178, "post_id": 41996850, "comment_id": 76777237, "body": "@ShubhamVerma: can you please remove your comment cause it&#39;s not answering the question which is rather confusing. Your example passes data dynamically into the URL. The question is to pass data dynamically without it being reflected in the URL."}, {"owner": {"reputation": 6122, "user_id": 7193018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDDjX.jpg?s=128&g=1", "display_name": "Shubham Verma", "link": "https://stackoverflow.com/users/7193018/shubham-verma"}, "edited": false, "score": 0, "creation_date": 1499163968, "post_id": 41996850, "comment_id": 76783701, "body": "@ S. Robijns: I think in my comment, i am answering how to pass data in router.navigate() And it is not confusing. Please make me sure if it is confusing ."}], "tags": [], "owner": {"reputation": 6122, "user_id": 7193018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDDjX.jpg?s=128&g=1", "display_name": "Shubham Verma", "link": "https://stackoverflow.com/users/7193018/shubham-verma"}, "is_accepted": false, "score": 2, "last_activity_date": 1486022111, "creation_date": 1486022111, "answer_id": 41996850, "question_id": 37157838, "link": "https://stackoverflow.com/questions/37157838/angular-2-passing-data-to-routes/41996850#41996850", "title": "Angular 2: Passing Data to Routes?", "body": "<p>You can do this:</p>\n\n<p><strong>app-routing-modules.ts:</strong></p>\n\n<pre><code>import { NgModule                  }    from '@angular/core';\nimport { RouterModule, Routes      }    from '@angular/router';\nimport { PowerBoosterComponent     }    from './component/power-booster.component';\n\n\nexport const routes: Routes = [\n  { path:  'pipeexamples',component: PowerBoosterComponent, \ndata:{  name:'shubham' } },\n    ];\n    @NgModule({\n      imports: [ RouterModule.forRoot(routes) ],\n      exports: [ RouterModule ]\n    })\n    export class AppRoutingModule {}\n</code></pre>\n\n<p><em>In this above route, I want to send data via a pipeexamples path to PowerBoosterComponent.So now I can receive this data in PowerBoosterComponent like this:</em></p>\n\n<p><strong>power-booster-component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params, Data } from '@angular/router';\n\n@Component({\n  selector: 'power-booster',\n  template: `\n    &lt;h2&gt;Power Booster&lt;/h2&gt;`\n})\n\nexport class PowerBoosterComponent implements OnInit {\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router\n\n  ) { }\n  ngOnInit() {\n    //this.route.snapshot.data['name']\n    console.log(\"Data via params: \",this.route.snapshot.data['name']);\n  }\n}\n</code></pre>\n\n<p>So you can get the data by <code>this.route.snapshot.data['name']</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2873, "user_id": 1457219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bHSVY.jpg?s=128&g=1", "display_name": "Jeremy Quick", "link": "https://stackoverflow.com/users/1457219/jeremy-quick"}, "is_accepted": false, "score": 1, "last_activity_date": 1565974007, "creation_date": 1565974007, "answer_id": 57528348, "question_id": 37157838, "link": "https://stackoverflow.com/questions/37157838/angular-2-passing-data-to-routes/57528348#57528348", "title": "Angular 2: Passing Data to Routes?", "body": "<p><strong>1. Set up your routes to accept data</strong></p>\n\n<pre><code>{\n    path: 'some-route',\n    loadChildren: \n      () =&gt; import(\n        './some-component/some-component.module'\n      ).then(\n        m =&gt; m.SomeComponentModule\n      ),\n    data: {\n      key: 'value',\n      ...\n    },\n}\n</code></pre>\n\n<p><strong>2. Navigate to route:</strong></p>\n\n<p>From HTML:</p>\n\n<pre><code>&lt;a [routerLink]=['/some-component', { key: 'value', ... }&gt; ... &lt;/a&gt;\n</code></pre>\n\n<p>Or from Typescript:</p>\n\n<pre><code>import {Router} from '@angular/router';\n\n...\n\n this.router.navigate(\n    [\n       '/some-component',\n       {\n          key: 'value',\n          ...\n       }\n    ]\n );\n</code></pre>\n\n<p><strong>3. Get data from route</strong></p>\n\n<pre><code>import {ActivatedRoute} from '@angular/router';\n\n...\n\nthis.value = this.route.snapshot.params['key'];\n</code></pre>\n"}], "owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129536, "favorite_count": 8, "accepted_answer_id": 37157905, "answer_count": 4, "score": 39, "last_activity_date": 1565974007, "creation_date": 1462957506, "question_id": 37157838, "link": "https://stackoverflow.com/questions/37157838/angular-2-passing-data-to-routes", "title": "Angular 2: Passing Data to Routes?", "body": "<p>I am working on this angular2 project in which I am using <code>ROUTER_DIRECTIVES</code> to navigate from one component to other.</p>\n\n<p>There are 2 components. i.e. <code>PagesComponent</code> &amp; <code>DesignerComponent</code>.</p>\n\n<p>I want to navigate from PagesComponent to DesignerComponent.</p>\n\n<p>So far its routing correctly but I needed to pass <code>page</code> Object so designer can load that page object in itself.</p>\n\n<p>I tried using RouteParams But its getting page object <code>undefined</code>.</p>\n\n<p>below is my code:</p>\n\n<p><strong>pages.component.ts</strong></p>\n\n<pre><code>import {Component, OnInit ,Input} from 'angular2/core';\nimport { GlobalObjectsService} from './../../shared/services/global/global.objects.service';\nimport { ROUTER_DIRECTIVES, RouteConfig } from 'angular2/router';\nimport { DesignerComponent } from './../../designer/designer.component';\nimport {RouteParams} from 'angular2/router';\n\n@Component({\n    selector: 'pages',    \n    directives:[ROUTER_DIRECTIVES,],\n    templateUrl: 'app/project-manager/pages/pages.component.html'\n})\n@RouteConfig([\n  { path: '/',name: 'Designer',component: DesignerComponent }      \n])\n\nexport class PagesComponent implements OnInit {\n@Input() pages:any;\npublic selectedWorkspace:any;    \nconstructor(private globalObjectsService:GlobalObjectsService) {\n    this.selectedWorkspace=this.globalObjectsService.selectedWorkspace;                    \n}\nngOnInit() { }   \n}\n</code></pre>\n\n<p>In the html, I am doing following:</p>\n\n<pre><code>&lt;scrollable height=\"300\" class=\"list-group\" style=\"overflow-y: auto; width: auto; height: 200px;\" *ngFor=\"#page of pages\"&gt;\n    {{page.name}}&lt;a [routerLink]=\"['Designer',{page: page}]\" title=\"Page Designer\"&gt;&lt;i class=\"fa fa-edit\"&gt;&lt;/i&gt;&lt;/a&gt;\n&lt;/scrollable&gt;\n</code></pre>\n\n<p>In the DesignerComponent constructor I have done the following:</p>\n\n<pre><code>constructor(params: RouteParams) {\n    this.page = params.get('page');\n    console.log(this.page);//undefined\n}\n</code></pre>\n\n<p>So far its routing correctly to designer, but when I am trying to access <code>page</code> Object in designer then its showing <code>undefined</code>.\nAny solutions?</p>\n"}, {"tags": ["angularjs", "safari", "typescript", "angular"], "comments": [{"owner": {"reputation": 463, "user_id": 2773398, "user_type": "registered", "profile_image": "https://graph.facebook.com/558116902/picture?type=large", "display_name": "Danny Blue", "link": "https://stackoverflow.com/users/2773398/danny-blue"}, "edited": false, "score": 0, "creation_date": 1462998640, "post_id": 37156767, "comment_id": 61880049, "body": "can you post some code or replicate in a plunkr?"}, {"owner": {"reputation": 707, "user_id": 1826349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4bf1493ce913c98985542517022c724?s=128&d=identicon&r=PG", "display_name": "Martino Lessio", "link": "https://stackoverflow.com/users/1826349/martino-lessio"}, "edited": false, "score": 1, "creation_date": 1468394741, "post_id": 37156767, "comment_id": 64103737, "body": "This issue seems to be ngFor related. I&#39;m experiencing this too on safari, everything is fine on chrome and firefox. However i can&#39;t replicate it in plunkr so the debug process is gonna be so difficult."}], "owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1462954500, "creation_date": 1462954500, "question_id": 37156767, "link": "https://stackoverflow.com/questions/37156767/angular-2-safari-doesnt-appear-to-work-correctly", "title": "Angular 2 safari doesnt appear to work correctly", "body": "<p>I have a problem. I'm on angular2 beta 17 and my code works properly in chrome and firefox but in Safari my component doesnt appear. I get the data from firebase and put it in a component. Actually it is a chat, I get the messages from firebase. Getting the data is fast, but the messages doesnt appear until I manually put the focus in the input field. I have tried manual change detection but didn't work. </p>\n\n<p>Any ideas what can be the problem or how can I solve this?</p>\n\n<p>Best Regards</p>\n"}, {"tags": ["javascript", "typescript", "gruntjs"], "comments": [{"owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "edited": false, "score": 0, "creation_date": 1462956891, "post_id": 37156469, "comment_id": 61851464, "body": "Interfaces in Typescript are not compiled into JS code due to absence of corresponding JS code constructions. From this TS code you can get &quot;.d.ts&quot; files - typescript definitions. Vars, functions, classes will produce some JS code."}, {"owner": {"reputation": 885, "user_id": 2348129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dc814c721abad2b3e3e8e51d5581fc1?s=128&d=identicon&r=PG", "display_name": "Qerts", "link": "https://stackoverflow.com/users/2348129/qerts"}, "reply_to_user": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "edited": false, "score": 0, "creation_date": 1462957384, "post_id": 37156469, "comment_id": 61851837, "body": "@TSV - yeah, you are right, I began with typescript and grunt yesterday and obviously got it wrong way, thanks a lot. Make an answer and I will mark it."}, {"owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "edited": false, "score": 0, "creation_date": 1462960708, "post_id": 37156469, "comment_id": 61854121, "body": "glad to help you :) I&#39;ve made an answer."}], "answers": [{"tags": [], "owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "is_accepted": true, "score": 1, "last_activity_date": 1462960666, "creation_date": 1462960666, "answer_id": 37159112, "question_id": 37156469, "link": "https://stackoverflow.com/questions/37156469/grunt-generates-empty-file-from-typescript-source/37159112#37159112", "title": "Grunt generates empty file from typescript source", "body": "<p>Interfaces in Typescript are not compiled into JS code due to absence of corresponding JS code constructions.</p>\n\n<p>From given TS code (interface declarations) you can get \".d.ts\" files only - typescript definitions.</p>\n\n<p>Vars, functions, classes will produce some JS code.</p>\n"}], "owner": {"reputation": 885, "user_id": 2348129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dc814c721abad2b3e3e8e51d5581fc1?s=128&d=identicon&r=PG", "display_name": "Qerts", "link": "https://stackoverflow.com/users/2348129/qerts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 37159112, "answer_count": 1, "score": 1, "last_activity_date": 1462960666, "creation_date": 1462953623, "question_id": 37156469, "link": "https://stackoverflow.com/questions/37156469/grunt-generates-empty-file-from-typescript-source", "title": "Grunt generates empty file from typescript source", "body": "<p>I am using grunt to compile typescripts and generate some .js files from these. Problem is, for some reason I always get empty file in which is only one line - reference from compiled file. But is should contain quite complex javascript module.</p>\n\n<p>Gruntfile.js:</p>\n\n<pre><code>module.exports = function (grunt) {\n    grunt.initConfig({\n\n        pkg: grunt.file.readJSON(\"package.json\"),\n\n        clean: {\n            dist: { src: [\"dist\"], force: true }\n        },\n\n        copy: {\n\n        },\n\n        typescript: {\n            base: {\n                src: [\n                    \"AwesomeGrid/**/*.ts\"\n                ],\n                //dest: \"dist/grid-fp.js\",\n                dest: \"dist\",\n                options: {\n                    target: \"es5\"\n                }\n            }\n        }\n    });\n\n    grunt.loadNpmTasks(\"grunt-contrib-clean\");\n    grunt.loadNpmTasks(\"grunt-typescript\");\n\n    grunt.registerTask(\"default\", [\"clean\", \"typescript:base\"]);\n};\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"name\": \"FalsePositiveManagement\",\n  \"version\": \"2.0.0-alpha\",\n  \"private\": true,\n  \"author\": \"Moravia s.r.o.\",\n  \"license\": \"none\",\n  \"devDependencies\": {\n    \"grunt\": \"~0.4.5\",\n    \"grunt-contrib-clean\": \"~0.6.0\",\n    \"grunt-contrib-watch\": \"~0.6.1\",\n    \"grunt-typescript\": \"^0.8.0\"\n  }\n}\n</code></pre>\n\n<p>source .ts file:</p>\n\n<pre><code>    ///&lt;reference path=\"../../typings/tsd.d.ts\"/&gt;\n\n    module Fp {\n        export interface IGroupSettings {\n            key: string;\n            title: string;\n            icon: string;\n            url: string;\n            active: boolean;\n        }\n\n        export interface IFPGridTableSettings {\n            tableElement: JQuery;\n            gridOptions: AwesomeGrid.IGridOptions;\n        }\n</code></pre>\n\n<p>generated .js file:</p>\n\n<pre><code>///&lt;reference path=\"../../typings/tsd.d.ts\"/&gt;\n</code></pre>\n\n<p>tsd.d.ts file:</p>\n\n<pre><code>    /// &lt;reference path=\"jquery/jquery.d.ts\" /&gt;\n\n    /// &lt;reference path=\"bootstrap/bootstrap.d.ts\" /&gt;\n\n    /// &lt;reference path=\"chance/chance.d.ts\" /&gt;\n\n    /// &lt;reference path=\"moment/moment.d.ts\" /&gt;\n\n    /// &lt;reference path=\"grid/grid.d.ts\" /&gt;\n\n    /// &lt;reference path=\"jasmine/jasmine.d.ts\"/&gt;\n</code></pre>\n\n<p>I am quite new to this, but it suppose grunt should take code from referenced files and compile it into target .js file, but it doesn't. It just generates files with reference rows...</p>\n"}, {"tags": ["typescript", "angular", "angular2-template"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1466409855, "last_edit_date": 1466409855, "creation_date": 1462953757, "answer_id": 37156501, "question_id": 37156356, "link": "https://stackoverflow.com/questions/37156356/change-the-order-of-the-child-components-in-angular-2-while-rendering-on-the-fly/37156501#37156501", "title": "Change the order of the child components in angular 2 while rendering on the fly", "body": "<p>If you don't want to use <code>DynamicComponentLoader</code> (deprecated in favor of <code>ViewContainerRef.createComponent()</code> with the same restrictions) I see only the option of using an element that wraps all possible components and renders only the one that is selected</p>\n\n<pre><code>@Component({\n  selector: 'wrapper-component',\n  directives: [Cmp1, Cmp2, Cmp3, ... Cmp10],\n  template: `\n    &lt;div [ngSwitch]=\"type\"&gt;\n      &lt;cmp1 *ngSwitchCase=\"'cmp1'\"&gt;&lt;/cmp1&gt;\n      &lt;cmp2 *ngSwitchCase=\"cmp2\"&gt;&lt;/cmp2&gt;\n      &lt;cmp3 *ngSwitchCase=\"cmp3\"&gt;&lt;/cmp3&gt;\n      ....\n      &lt;cmp10 *ngSwitchCase=\"cmp4\"&gt;&lt;/cmp4&gt;\n      &lt;div *ngSwitchDefault&gt;not supported&lt;/div&gt;\n    &lt;/div&gt;\n`})\nexport class WrapperComponent {\n  @Input() type:string;\n}\n</code></pre>\n\n<p>and use it like</p>\n\n<pre><code>@Component({\n  selector: 'parent-cmp',\n  template: `\n    &lt;wrapper-component *ngFor=\"let item of someJson\" [type]=\"item.componentName\"&gt;&lt;/wrapper-component&gt;\n  `})\nexport class ParentComponent {\n  someJson; // assign the JSON here\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3437085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09262264221a4cb3f9dc8ce5fb0764e6?s=128&d=identicon&r=PG&f=1", "display_name": "DaWanderer", "link": "https://stackoverflow.com/users/3437085/dawanderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1866, "favorite_count": 0, "accepted_answer_id": 37156501, "answer_count": 1, "score": 4, "last_activity_date": 1466409855, "creation_date": 1462953297, "question_id": 37156356, "link": "https://stackoverflow.com/questions/37156356/change-the-order-of-the-child-components-in-angular-2-while-rendering-on-the-fly", "title": "Change the order of the child components in angular 2 while rendering on the fly", "body": "<p>I'm a bit new to the angular 2 world so please excuse me if it's a naive question.</p>\n\n<p>I want to read a json file which contains the meta for various components that I need to display for a page. </p>\n\n<p>I need to read this json and render the child components in the order they are listed here.</p>\n\n<p>I've successfully used dynamic component loader API that angular 2 provides to dynamically load the child components inside a for loop. However, there are some other requirements that make the use of this API a bit complex.</p>\n\n<p>So I'm looking for another way to do the same thing. It'd be like manipulating the DOM from within the ts file of the parent component to get the child components in the same order as mentioned in the JSON.</p>\n\n<p>Any leads would be very helpful.\nThanks a lot!</p>\n\n<p>PS: sorry for not publishing the code. I've Posted this using my mobile.</p>\n"}, {"tags": ["module", "typescript", "commonjs"], "answers": [{"comments": [{"owner": {"reputation": 12020, "user_id": 2702504, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c5a2887fe39245e9abfd2fc5963cd7c7?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthivasan", "link": "https://stackoverflow.com/users/2702504/keerthivasan"}, "edited": false, "score": 0, "creation_date": 1462953398, "post_id": 37156025, "comment_id": 61849257, "body": "ok, but, we have the add function declaration inside an interface in module <code>s</code>, not directly in module <code>s</code>. Did you check out the seneca.d.ts  file?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 12020, "user_id": 2702504, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c5a2887fe39245e9abfd2fc5963cd7c7?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthivasan", "link": "https://stackoverflow.com/users/2702504/keerthivasan"}, "edited": false, "score": 0, "creation_date": 1462953542, "post_id": 37156025, "comment_id": 61849343, "body": "I checked your comment there with you trying to call <code>seneca.add</code>. If that is the call you need to make then this is the definition you need."}, {"owner": {"reputation": 12020, "user_id": 2702504, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c5a2887fe39245e9abfd2fc5963cd7c7?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthivasan", "link": "https://stackoverflow.com/users/2702504/keerthivasan"}, "edited": false, "score": 0, "creation_date": 1462953655, "post_id": 37156025, "comment_id": 61849415, "body": "ok, i will go with that. Thanks for the help. I really appreciate."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1462952211, "creation_date": 1462952211, "answer_id": 37156025, "question_id": 37155875, "link": "https://stackoverflow.com/questions/37155875/import-nested-typescript-module/37156025#37156025", "title": "Import nested Typescript module", "body": "<p>Just add it to the <code>module s</code> e.g. </p>\n\n<pre><code>    module s {\n      export var add:Function; // Sample\n</code></pre>\n"}], "owner": {"reputation": 12020, "user_id": 2702504, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c5a2887fe39245e9abfd2fc5963cd7c7?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthivasan", "link": "https://stackoverflow.com/users/2702504/keerthivasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462952211, "creation_date": 1462951828, "question_id": 37155875, "link": "https://stackoverflow.com/questions/37155875/import-nested-typescript-module", "title": "Import nested Typescript module", "body": "<p>I have got the type definition file for a library - seneca. I don't know know how to import this module into typescript source.</p>\n\n<p>I have used</p>\n\n<pre><code>/// &lt;reference path=\"../custom_typings/seneca.d.ts\" /&gt;\n</code></pre>\n\n<p>Please see the below <a href=\"https://gist.github.com/psnider/0afa89e1bd2992756e55\" rel=\"nofollow\">seneca.d.ts</a> file</p>\n\n<p>I want to use the add(..) function in the seneca module. </p>\n"}, {"tags": ["typescript", "browserify", "tsify"], "answers": [{"tags": [], "owner": {"reputation": 988, "user_id": 2684980, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RfsfZ.png?s=128&g=1", "display_name": "J&#248;rgen Tvedt", "link": "https://stackoverflow.com/users/2684980/j%c3%b8rgen-tvedt"}, "is_accepted": true, "score": 1, "last_activity_date": 1462951921, "creation_date": 1462951921, "answer_id": 37155924, "question_id": 37155531, "link": "https://stackoverflow.com/questions/37155531/mixing-javascript-and-typescript-in-gulp-browserify/37155924#37155924", "title": "Mixing javascript and typescript in gulp browserify", "body": "<p>Sorry, but the above code is actually working.  I was missing the correct <strong>exports</strong> from the tsx file, and browserify/tsify must have found that there was nothing useful to output.</p>\n\n<p>Anyway, it's really cool that this setup works. It makes it very easy to continue building on javascript projects - using the strength of typescript.</p>\n"}], "owner": {"reputation": 988, "user_id": 2684980, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RfsfZ.png?s=128&g=1", "display_name": "J&#248;rgen Tvedt", "link": "https://stackoverflow.com/users/2684980/j%c3%b8rgen-tvedt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "accepted_answer_id": 37155924, "answer_count": 1, "score": 0, "last_activity_date": 1463036310, "creation_date": 1462950736, "last_edit_date": 1463036310, "question_id": 37155531, "link": "https://stackoverflow.com/questions/37155531/mixing-javascript-and-typescript-in-gulp-browserify", "title": "Mixing javascript and typescript in gulp browserify", "body": "<p>I have nice gulp browserify workflows for javascript and now typescript.  These combine the source files with modules and generates a single .js file for use in the browser.</p>\n\n<p>However, having an older javascript project I now wanted to introduce new functionality using typescript - without converting everything to typescript.</p>\n\n<p>Ideally I want browserify to detect and pre-compile ts and tsx, and pass the result along with js-files to babel before browserifying:</p>\n\n<pre><code>function compileBrowserify(file, folder, watch, typescript) {\n    // cache and packageCache is required for watchify to perform, debug produces sourcemaps. })\n    var bundlerRaw = browserify(file, { debug: true, cache: {}, packageCache: {}}) \n    var bundler = watch ? watchify(bundlerRaw) : bundlerRaw\n\n    bundler = typescript ? bundler.plugin(tsify, { noImplicitAny: false,  jsx: 'react', moduleResolution: 'node', target: 'ES6'}) : bundler\n    bundler.transform(babelify.configure({\n        presets: ['react', 'es2015', 'stage-0'],\n        }))\n\n    var rebundle = function() {\n        return bundler\n            .bundle()\n            .on('error', function(err) { console.error(err.toString()); this.emit('end'); })\n            .on('end', function() { console.log('Done browserifying'); })\n            .pipe(source(\"app/main.js\"))\n            .pipe(buffer())\n            .pipe(sourcemaps.init({ loadMaps: true }))\n            .pipe(sourcemaps.write('./'))\n            .pipe(gulp.dest(folder));\n    }\n    bundler.on('update', rebundle)\n    return rebundle()\n}\n</code></pre>\n\n<p>This setup actually compiles and works for the js-part, but my typescript file is not bundled.  <strong>Is it possible to add typescript files to an existing javascript project in this fashion?</strong></p>\n\n<p>Note: I'm adding a React tsx file for the moment, but assume that the case would be the same for regular ts files.</p>\n\n<p>Note: I have tried to manually \"add()\" the tsx file to the browserify bundle, without any high hopes or results. </p>\n\n<p>Note: The tsx is compiled, atleast it fails the build on errors, it's just not put into the bundle.</p>\n"}, {"tags": ["javascript", "typescript", "angular", "angular2-services"], "answers": [{"comments": [{"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1462949341, "post_id": 37155003, "comment_id": 61846758, "body": "My bad :p thnx for the help"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462949363, "post_id": 37155003, "comment_id": 61846769, "body": "It&#39;s good practice according to the style guide to add <code>@Injectable()</code> but if the constructor doesn&#39;t have any parameters, it is not necessary."}], "tags": [], "owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "is_accepted": true, "score": 2, "last_activity_date": 1462949385, "last_edit_date": 1462949385, "creation_date": 1462949206, "answer_id": 37155003, "question_id": 37154882, "link": "https://stackoverflow.com/questions/37154882/global-service-not-working-in-angular2/37155003#37155003", "title": "global service not working in angular2", "body": "<p>Your service is missing the <code>@Injectable()</code> directive. Just add it like this:</p>\n\n<pre><code>import {Injectable} from 'angular/core';\nimport {Http} from 'angular2/http';\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport 'rxjs/add/operator/share';\n\n@Injectable()\nexport class GlobalObjectsService {\n  workspace:any;     \n  constructor() {    \n  }  \n}\n</code></pre>\n\n<p>Read more on dependency injection in Angular 2 <a href=\"https://angular.io/docs/ts/latest/guide/dependency-injection.html\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462949318, "creation_date": 1462949318, "answer_id": 37155051, "question_id": 37154882, "link": "https://stackoverflow.com/questions/37154882/global-service-not-working-in-angular2/37155051#37155051", "title": "global service not working in angular2", "body": "<p>It seems what you are missing is to inject a <code>WorkspaceService</code> into <code>GlobalObjectsService</code></p>\n\n<pre><code>@Injectable()\nexport class GlobalObjectsService {\n  constructor(public workspace:WorkspaceService) {    \n  }  \n}\n</code></pre>\n\n<p>You need to provide <code>WorkspaceService</code> like <code>GlobalObjectsService</code>. A global <code>GlobalObjectsService</code> can't have a more local <code>WorkspaceService</code> injected depending on where you inject <code>GlobalObjectsService</code></p>\n"}], "owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 37155003, "answer_count": 2, "score": 1, "last_activity_date": 1462949385, "creation_date": 1462948856, "question_id": 37154882, "link": "https://stackoverflow.com/questions/37154882/global-service-not-working-in-angular2", "title": "global service not working in angular2", "body": "<p>I have created one global service in angular2 for accessing variables across all components like below.</p>\n\n<p><strong>global.objects.service.ts</strong></p>\n\n<pre><code>import {Http} from 'angular2/http';\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport 'rxjs/add/operator/share';\n\nexport class GlobalObjectsService {\n  workspace:any;     \n  constructor() {    \n  }  \n}\n</code></pre>\n\n<p>Then I am able to access &amp; set new value to this object in my <code>workspace.component</code> like below:</p>\n\n<pre><code>import {Component, OnInit,Input} from 'angular2/core';\nimport { GlobalService} from './../../../app/shared/services/global/global.service';\nimport { GlobalObjectsService} from './../../shared/services/global/global.objects.service';\nimport { WorkspaceService } from './../../../app/shared/services/pm/workspaces.service';   \n\n@Component({\n    selector: 'workspaces',\n    providers:[WorkspaceService],        \n    templateUrl: 'app/project-manager/workspaces/workspaces.component.html'\n})\n\nexport class WorkspacesComponent implements OnInit {\n    @Input() workspaces:any;    \n    constructor(private globalService:GlobalService,private globalObjectsService:GlobalObjectsService,private workspaceService:WorkspaceService) { }\n\n    ngOnInit() { }    \n    selectWorkspace(workspace_id:string){\n       this.workspaceService.getWorkspaceById(workspace_id,this.globalService.baseUrl).subscribe((workspace)=&gt;{\n           this.globalObjectsService.workspace=workspace; \n           console.log(this.globalObjectsService.workspace);  //this prints workspace correctly        \n       });           \n    }    \n}\n</code></pre>\n\n<p>But when I am trying to access this global Object in below component its showing <code>undefined</code></p>\n\n<pre><code>import {Component, OnInit ,Input} from 'angular2/core';\nimport { GlobalObjectsService} from './../../shared/services/global/global.objects.service';\n@Component({\n    selector: 'pages',    \n    templateUrl: 'app/project-manager/pages/pages.component.html'\n})\nexport class PagesComponent implements OnInit {\n    @Input() pages:any;\n    public workspace:any;    \n    constructor(private globalObjectsService:GlobalObjectsService) {\n        this.workspace=this.globalObjectsService.workspace; \n        console.log(this.workspace);  //this is not working           \n    }\n    ngOnInit() { }        \n}\n</code></pre>\n\n<p>I have not included <code>global.objects.service</code> in <code>providers</code> of any component except the root component while bootstrapping.</p>\n\n<p>any suggestions?</p>\n"}, {"tags": ["visual-studio", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6309373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjAZj.jpg?s=128&g=1", "display_name": "kalakak", "link": "https://stackoverflow.com/users/6309373/kalakak"}, "edited": false, "score": 0, "creation_date": 1462946753, "post_id": 37153750, "comment_id": 61845432, "body": "thanks bro (dont have enough reputation to + your rep)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 1, "last_activity_date": 1462944494, "creation_date": 1462944494, "answer_id": 37153750, "question_id": 37153731, "link": "https://stackoverflow.com/questions/37153731/my-typescript-is-working-though-visual-studio-is-showing-ts-parameter-even/37153750#37153750", "title": "My typescript is working though!! visual studio is showing &quot;[ts] Parameter &#39;event&#39; implicitly has an &#39;any&#39; type. (parameter) event: any&quot;", "body": "<p>Try adding</p>\n\n<pre><code>\"noImplicitAny\": false\n</code></pre>\n\n<p>in your tsconfig.json</p>\n\n<p>or</p>\n\n<p>adding <code>any</code> to the line that your are getting the error. Ex: <code>(res: any) =&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6309373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjAZj.jpg?s=128&g=1", "display_name": "kalakak", "link": "https://stackoverflow.com/users/6309373/kalakak"}, "is_accepted": false, "score": -1, "last_activity_date": 1462947022, "creation_date": 1462947022, "answer_id": 37154328, "question_id": 37153731, "link": "https://stackoverflow.com/questions/37153731/my-typescript-is-working-though-visual-studio-is-showing-ts-parameter-even/37154328#37154328", "title": "My typescript is working though!! visual studio is showing &quot;[ts] Parameter &#39;event&#39; implicitly has an &#39;any&#39; type. (parameter) event: any&quot;", "body": "<p>did this,</p>\n\n<pre><code>mouseClickedMe(event: any){\n    console.log(event);\n}\n</code></pre>\n\n<p>worked....NieeeeCee.</p>\n"}], "owner": {"reputation": 11, "user_id": 6309373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjAZj.jpg?s=128&g=1", "display_name": "kalakak", "link": "https://stackoverflow.com/users/6309373/kalakak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 37153750, "answer_count": 2, "score": 1, "last_activity_date": 1462947022, "creation_date": 1462944382, "last_edit_date": 1462945330, "question_id": 37153731, "link": "https://stackoverflow.com/questions/37153731/my-typescript-is-working-though-visual-studio-is-showing-ts-parameter-even", "title": "My typescript is working though!! visual studio is showing &quot;[ts] Parameter &#39;event&#39; implicitly has an &#39;any&#39; type. (parameter) event: any&quot;", "body": "<pre><code>mouseClickedMe(event){\n    console.log(event);\n}\n</code></pre>\n\n<p>My typescript is working though!! visual studio is showing \"[ts] Parameter 'event' implicitly has an 'any' type. (parameter) event: any\"\nIts also compiling the code into JavaScript file but how to recover from this error?</p>\n"}, {"tags": ["types", "typescript"], "comments": [{"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "edited": false, "score": 0, "creation_date": 1462966732, "post_id": 37153331, "comment_id": 61858308, "body": "Related: <a href=\"http://stackoverflow.com/questions/36940687/why-does-typescript-not-narrow-the-any-type-in-this-type-guard\" title=\"why does typescript not narrow the any type in this type guard\">stackoverflow.com/questions/36940687/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6433, "user_id": 1064917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/219d10e3fc486c3173291954195d537c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/1064917/rick"}, "edited": false, "score": 1, "creation_date": 1462975584, "post_id": 37153565, "comment_id": 61865689, "body": "Thanks for the heads up (and everything else you do for TS :-P)."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1462943498, "creation_date": 1462943498, "answer_id": 37153565, "question_id": 37153331, "link": "https://stackoverflow.com/questions/37153331/user-defined-type-guards-dont-work-with-any-type/37153565#37153565", "title": "User defined type guards don&#39;t work with `any` type?", "body": "<p>Verified bug. Reported here already : <a href=\"https://github.com/Microsoft/TypeScript/issues/6015\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/6015</a></p>\n"}], "owner": {"reputation": 6433, "user_id": 1064917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/219d10e3fc486c3173291954195d537c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/1064917/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 37153565, "answer_count": 1, "score": 2, "last_activity_date": 1462975759, "creation_date": 1462942191, "last_edit_date": 1462975759, "question_id": 37153331, "link": "https://stackoverflow.com/questions/37153331/user-defined-type-guards-dont-work-with-any-type", "title": "User defined type guards don&#39;t work with `any` type?", "body": "<p>If I am writing a user defined type guard such as the following:</p>\n\n<pre><code>interface Cat {\n  meow: () =&gt; void;\n}\n\nfunction isCat(a: any): a is Cat {\n  return a.name === 'kitty';\n}\n\nvar x: Cat|{};\nif(isCat(x)) {\n  x.meow(); // OK, x is Cat in this block\n}\n</code></pre>\n\n<p>Typescript is able to figure out the type of <code>x</code> within the <code>if</code> block above.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GhkYa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GhkYa.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, if I change the code to:</p>\n\n<pre><code>var x; // No type here. It's an \"any\" for now.\nif(isCat(x)) {\n  x.meow(); // What!? It's type `any`??\n}\n</code></pre>\n\n<p>Typescript assumes that <code>x</code> is <code>any</code>, even within the \"safety\" of a type guard <code>if</code> statement.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wYHRB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wYHRB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["import", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1462949628, "post_id": 37152481, "comment_id": 61846931, "body": "Note: This might change in the future <a href=\"https://github.com/nodejs/node-eps/blob/8e2ac8ffbe17c837ffa9546f9324727040d0ebce/002-es6-modules.md#es-consuming-commonjs\" rel=\"nofollow noreferrer\">github.com/nodejs/node-eps/blob/&hellip;</a> if NodeJS provides native loading for ES6 syntax"}, {"owner": {"reputation": 5291, "user_id": 4543343, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1847af72c08bdda76ab6c8099262e6a2?s=128&d=identicon&r=PG&f=1", "display_name": "stackdave", "link": "https://stackoverflow.com/users/4543343/stackdave"}, "edited": false, "score": 0, "creation_date": 1501385892, "post_id": 37152481, "comment_id": 77752990, "body": "in July, 2017 something changed?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 5291, "user_id": 4543343, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1847af72c08bdda76ab6c8099262e6a2?s=128&d=identicon&r=PG&f=1", "display_name": "stackdave", "link": "https://stackoverflow.com/users/4543343/stackdave"}, "edited": false, "score": 0, "creation_date": 1501468458, "post_id": 37152481, "comment_id": 77773988, "body": "@stackdave nope"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 5, "last_activity_date": 1462936308, "creation_date": 1462936308, "answer_id": 37152481, "question_id": 37152436, "link": "https://stackoverflow.com/questions/37152436/importing-package-in-typescript/37152481#37152481", "title": "Importing package in Typescript", "body": "<blockquote>\n  <p>In typescript(es6 mode), it only accepts, has to split into two importings:</p>\n</blockquote>\n\n<p>You have to do it like that. And you should do it like that for Babel as well. </p>\n\n<p>Otherwise you will end up with <a href=\"https://medium.com/@kentcdodds/misunderstanding-es6-modules-upgrading-babel-tears-and-a-solution-ad2d5ab93ce0#.rqwfwfetx\" rel=\"noreferrer\">tears</a>.</p>\n\n<p>This is because <code>React</code> is <em>not the default export</em> but it is synthetically made one by Babel. It emits a function that copies <code>export =</code> to <code>default</code> which is something that TypeScript refuses to do to prevent future troubles. </p>\n"}], "owner": {"reputation": 889, "user_id": 4967576, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DMIbw.png?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/4967576/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "accepted_answer_id": 37152481, "answer_count": 1, "score": 0, "last_activity_date": 1557250916, "creation_date": 1462936055, "last_edit_date": 1557250916, "question_id": 37152436, "link": "https://stackoverflow.com/questions/37152436/importing-package-in-typescript", "title": "Importing package in Typescript", "body": "<p>How do I write a importing is equivalent to <code>import React, { Component } from 'react-native'</code>?</p>\n\n<p>In typescript(es6 mode), it only accepts, has to split into two importings: </p>\n\n<pre><code>import * as React from 'react-native'\nimport { Component } from 'react-native'\n</code></pre>\n\n<p>How do I do?</p>\n"}, {"tags": ["typescript", "angular", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "is_accepted": true, "score": 7, "last_activity_date": 1462936024, "creation_date": 1462936024, "answer_id": 37152430, "question_id": 37150891, "link": "https://stackoverflow.com/questions/37150891/issue-with-rxjs-behaviorsubjects-subscriber-not-being-notified-of-value-change/37152430#37152430", "title": "Issue with RxJs BehaviorSubject&#39;s subscriber not being notified of value change", "body": "<p>It seems like you have multiple instances of <code>SessionService</code>. e.g. you provided it more than once and the instance that you call <code>signin</code> in is not the same instance as the one you injected in <code>NavbarComponent</code>.</p>\n\n<p>It depends on your project design how you provide your services. Usually session services are singletons.<br>\nI recommend removing <code>providers: [SessionService],</code> from <code>NavbarComponent</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462946169, "post_id": 37154093, "comment_id": 61845170, "body": "I like <code>bootstrap()</code> as well because it makes it more obvious that the providers are supposed to be global but according to the style guide, global providers should not be added to <code>bootstrap()</code> but instead to the root component. There are no technical reasons for this. They just consider it more maintainable."}], "tags": [], "owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "is_accepted": false, "score": 1, "last_activity_date": 1462946080, "last_edit_date": 1462946080, "creation_date": 1462946031, "answer_id": 37154093, "question_id": 37150891, "link": "https://stackoverflow.com/questions/37150891/issue-with-rxjs-behaviorsubjects-subscriber-not-being-notified-of-value-change/37154093#37154093", "title": "Issue with RxJs BehaviorSubject&#39;s subscriber not being notified of value change", "body": "<p>I usually provide <code>SessionService</code> at bootstrap (and not with <code>providers: []</code>) to make sure you share <strong>one global</strong> <code>SessionService</code> instance throughout the entire app.</p>\n\n<pre><code>bootstrap(AppComponent,\n            [SessionService]);\n</code></pre>\n"}], "owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1817, "favorite_count": 1, "accepted_answer_id": 37152430, "answer_count": 2, "score": 5, "last_activity_date": 1462946080, "creation_date": 1462924947, "question_id": 37150891, "link": "https://stackoverflow.com/questions/37150891/issue-with-rxjs-behaviorsubjects-subscriber-not-being-notified-of-value-change", "title": "Issue with RxJs BehaviorSubject&#39;s subscriber not being notified of value change", "body": "<p>I am trying to use a RxJS <code>BehaviorSubject</code> that contains a <code>boolean</code> representing whether or not a user is connected/logged in the application.</p>\n\n<p>Here is the component that subscribes to the new <code>BehaviorSubject</code> value i.e. <strong><code>true</code></strong> when the user has authenticated:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {CollapseDirective} from 'ng2-bootstrap';\nimport {PublicNavbarComponent} from './public.navbar.component';\nimport {PrivateNavbarComponent} from './private.navbar.component';\nimport {SessionService} from '../../session/session.service';\n\n@Component({\n    selector: 'navbar',\n    templateUrl: 'app/shared/components/navbar.component.html',\n    providers: [SessionService],\n    directives: [PublicNavbarComponent, PrivateNavbarComponent, CollapseDirective]\n})\nexport class NavbarComponent implements OnInit {\n\n    constructor(private sessionService:SessionService) {\n    }\n\n    ngOnInit() {\n        this.sessionService.authenticated$.subscribe({\n            next: (value)=&gt; this.isAuthenticated = value\n        });\n    }\n\n    isAuthenticated:boolean = false;\n\n    isCollapsed:boolean = true;\n}\n</code></pre>\n\n<p>Here is the class/service containing the <code>BehaviorSubject</code>:</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {Http, Headers, RequestOptions} from '@angular/http';\nimport {Credentials} from '../shared/models/credentials.model';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class SessionService {\n\n    authenticated$:BehaviorSubject&lt;boolean&gt; = new BehaviorSubject(false);\n    currentUserAccount;\n\n    constructor(private http:Http) {\n    }\n\n    signin(credentials:Credentials) {\n        let headers = new Headers({'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'});\n        let options = new RequestOptions({headers: headers});\n        this.http.post('/api/signin', 'username=' + credentials.username + '&amp;password=' + credentials.password, options)\n            .subscribe(response=&gt;\n                this.setPersonalInfo(response.headers.get('x-auth-token'))\n            );\n    }\n\n    setPersonalInfo(sessionToken) {\n        localStorage.setItem('authenticated', 'true');\n        localStorage.setItem('sessionToken', sessionToken);\n        this.authenticated$.next(true);//next() from false to true\n        this.http.get('/api/utils/current-useraccount')\n            .subscribe(param =&gt; this.currentUserAccount = param);\n    }\n}\n</code></pre>\n\n<p>However this does not have the expected behavior: it seems that <code>authenticated$</code> from session service is only true within <code>setPersonalInfo</code> function and <code>isAuthenticated</code> from <code>NavbarComponent</code> isn't notified at all when <code>this.authenticated$.next(true)</code> is invoked.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 6042115, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-O-V9rU2auCY/AAAAAAAAAAI/AAAAAAAAAI4/soEzKyL7mqk/photo.jpg?sz=128", "display_name": "Ronan M", "link": "https://stackoverflow.com/users/6042115/ronan-m"}, "edited": false, "score": 0, "creation_date": 1462923452, "post_id": 37150301, "comment_id": 61839191, "body": "Thanks, I think i got so caught up in how Typescript is different that I forgot principles that are the same between each."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 0, "last_activity_date": 1462921242, "creation_date": 1462921242, "answer_id": 37150301, "question_id": 37150176, "link": "https://stackoverflow.com/questions/37150176/convert-namespaced-javascript-functions-to-typescript/37150301#37150301", "title": "Convert Namespaced Javascript Functions to Typescript", "body": "<p>That's because you did not add an important part of your javascript code into the typescript version, and that's the return object which contains the reference for the <code>build</code> function, it should be:</p>\n\n<pre><code>namespace MyCompany.Uploader {\n    export var Core = (config: any) {\n        function build() {\n            console.log(\"building\");\n        }\n\n        return {\n            build: build\n        }\n    };\n}\n\nlet configobj = { here: \"there\" };\nMyCompany.Uploader.Core(configobj).build();\n</code></pre>\n\n<p>You can also define interfaces for the config and the return object:</p>\n\n<pre><code>namespace MyCompany.Uploader {\n    export interface Config {\n        here: string;\n    }\n\n    export interface Builder {\n        build: () =&gt; void;\n    }\n\n    export var Core = (config: Config): Builder =&gt; {\n        function build() {\n            console.log(config.here);\n        }\n\n        return {\n            build: build\n        }\n    };\n}\n\nlet configobj = { here: \"there\" };\nMyCompany.Uploader.Core(configobj).build();\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6042115, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-O-V9rU2auCY/AAAAAAAAAAI/AAAAAAAAAI4/soEzKyL7mqk/photo.jpg?sz=128", "display_name": "Ronan M", "link": "https://stackoverflow.com/users/6042115/ronan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 37150301, "answer_count": 1, "score": 0, "last_activity_date": 1462921242, "creation_date": 1462920466, "question_id": 37150176, "link": "https://stackoverflow.com/questions/37150176/convert-namespaced-javascript-functions-to-typescript", "title": "Convert Namespaced Javascript Functions to Typescript", "body": "<p>I know that all javascript is valid typescript but I'd like to start converting my javascript to typescript conventions.  I'm battling this one snippet of JS:</p>\n\n<h2>My standard Javascript that works</h2>\n\n<pre><code>if (MyCompany === undefined) {\n    var MyCompany = {};\n}\nMyCompany.Uploader = MyCompany.Uploader || {};\nMyCompany.Uploader.Core = function (config) {\n    'use strict';\n    function build() {\n        console.log(\"building\");\n    }\n    return {\n        build: build\n    };\n};\nvar config = {this: \"that};\nMyCompany.Uploader.Core(config).build(); // outputs building to console\n</code></pre>\n\n<p>I've been messing with multiple approaches and I feel like I not close enough.  </p>\n\n<h2>My failed attempt at converting to Typescript</h2>\n\n<pre><code>namespace MyCompany.Uploader {\n    export var Core = (config:any) =&gt; {\n        function build() {\n            console.log(\"building\");\n        }\n    };\n}\nlet configobj = {here:\"there\"};\nMyCompany.Uploader.Core(configobj).build();\n</code></pre>\n\n<p>This simply doesn't work.  I can't seem to access the build function.  I'm sure this is a rookie mistake.</p>\n\n<p>The error I get: <em>Property build does not exist on type void</em></p>\n"}, {"tags": ["typescript", "visual-studio-2015", "angular", "asp.net5"], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1462977993, "post_id": 37150568, "comment_id": 61867550, "body": "Thanks but those are the ones I have in my package.json. I will post am an update Larry when I&#39;m at my computer. I just kept the angular 2 folder name in my lib folder"}], "tags": [], "owner": {"reputation": 31950, "user_id": 407704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fecf35ed3fd247e5d240256fe241d7c?s=128&d=identicon&r=PG", "display_name": "Morteza Manavi", "link": "https://stackoverflow.com/users/407704/morteza-manavi"}, "is_accepted": false, "score": 1, "last_activity_date": 1462928904, "last_edit_date": 1462928904, "creation_date": 1462923006, "answer_id": 37150568, "question_id": 37149990, "link": "https://stackoverflow.com/questions/37149990/angular2-rc1-unexpected-token/37150568#37150568", "title": "Angular2 RC1 Unexpected Token &lt;", "body": "<p>You are missing the entire Angular 2 RC modules which are now published under <code>@angular</code> name. You have modules under name <code>angular2</code> which is related to Angular 2 beta and has been renamed to <code>@angular</code> in RC1 release. Details of this change has been documented <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md\" rel=\"nofollow\"><strong>here</strong></a>. You can also see that you are referencing these modules via <code>packageNames</code> array in your <code>system.config.js</code> script. </p>\n\n<p>Make sure you are getting the dependencies by adding them to your <code>package.json</code> file:</p>\n\n<pre><code>\"dependencies\": {\n  \"@angular/common\": \"2.0.0-rc.1\",\n  \"@angular/compiler\": \"2.0.0-rc.1\",\n  \"@angular/core\": \"2.0.0-rc.1\",\n  \"@angular/http\": \"2.0.0-rc.1\",\n  \"@angular/platform-browser\": \"2.0.0-rc.1\",\n  \"@angular/platform-browser-dynamic\": \"2.0.0-rc.1\",\n  \"@angular/router\": \"2.0.0-rc.1\",\n  \"@angular/router-deprecated\": \"2.0.0-rc.1\",\n  \"@angular/upgrade\": \"2.0.0-rc.1\",\n\n  \"systemjs\": \"0.19.27\",\n  \"es6-shim\": \"^0.35.0\",\n  \"reflect-metadata\": \"^0.1.3\",\n  \"rxjs\": \"5.0.0-beta.6\",\n  \"zone.js\": \"^0.6.12\",\n\n  \"angular2-in-memory-web-api\": \"0.0.7\",\n  \"bootstrap\": \"^3.3.6\"\n},\n</code></pre>\n\n<p>And that they are deployed in your lib folder with your gulp build.</p>\n"}, {"comments": [{"owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1462978056, "post_id": 37164241, "comment_id": 61867589, "body": "It&#39;s during runtime, no problems with the npm install"}], "tags": [], "owner": {"reputation": 1152, "user_id": 374512, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/80c9022d33714bae275eb3c83f8ff1ab?s=128&d=identicon&r=PG", "display_name": "Elijah", "link": "https://stackoverflow.com/users/374512/elijah"}, "is_accepted": false, "score": 0, "last_activity_date": 1462973477, "creation_date": 1462973477, "answer_id": 37164241, "question_id": 37149990, "link": "https://stackoverflow.com/questions/37149990/angular2-rc1-unexpected-token/37164241#37164241", "title": "Angular2 RC1 Unexpected Token &lt;", "body": "<p>Are you getting this error when running an NPM install step? This could be an NPM Caching proxy issue. If you are using slightly older Nexus that does not support NPM package namespacing (ex: \"@angular\"), you will get errors that look a little similar to yours. </p>\n\n<blockquote>\n  <p>npm ERR! Unexpected token &lt;</p>\n</blockquote>\n\n<p><a href=\"https://github.com/ReactiveX/RxJS/issues/706\" rel=\"nofollow\">Can't install when behind an npm proxy such as Nexus or Artifactory #706</a></p>\n"}, {"comments": [{"owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1462978278, "post_id": 37165290, "comment_id": 61867743, "body": "Oooh, never thought of that... So you think this is related to a 404?"}, {"owner": {"reputation": 615, "user_id": 5328302, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201003891056563/picture?type=large", "display_name": "David Gabrichidze", "link": "https://stackoverflow.com/users/5328302/david-gabrichidze"}, "reply_to_user": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1462978371, "post_id": 37165290, "comment_id": 61867805, "body": "exactly, I had same issue."}, {"owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1462982746, "post_id": 37165290, "comment_id": 61870944, "body": "unfortunately, there&#39;s not missed xhr request. It&#39;s calling my core.js and platform-browser-dynamic.js correctly (both from angular) and my own main.js and app.component.js...there&#39;s no 404 on any xhr request"}, {"owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1462983774, "post_id": 37165290, "comment_id": 61871573, "body": "I just inspected every call...it turns out that core and platform-browser-dynamic are being called without an extension...thus it&#39;s not returning the correct result. I wonder why it&#39;s not doing it, according to systemjs documentation, adding the defaultExtension should be enough..."}, {"owner": {"reputation": 615, "user_id": 5328302, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201003891056563/picture?type=large", "display_name": "David Gabrichidze", "link": "https://stackoverflow.com/users/5328302/david-gabrichidze"}, "reply_to_user": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1463374823, "post_id": 37165290, "comment_id": 62022376, "body": "Xavier, didn&#39;t it helped? Do you have another issues regarding this?"}, {"owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1464013950, "post_id": 37165290, "comment_id": 62296414, "body": "Oh, i forgot about this question...sorry about that..It actually did, in the end I had quite some more problems getting angular2 to work, due to time constraints I did drop it and will just not use angular 2.  Regardless, your answer had me on the right track :), marking as answer"}, {"owner": {"reputation": 615, "user_id": 5328302, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201003891056563/picture?type=large", "display_name": "David Gabrichidze", "link": "https://stackoverflow.com/users/5328302/david-gabrichidze"}, "reply_to_user": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "edited": false, "score": 0, "creation_date": 1464218663, "post_id": 37165290, "comment_id": 62400090, "body": "@XavierGuzman when you have time, look at angular-cli (<a href=\"https://cli.angular.io/\" rel=\"nofollow noreferrer\">cli.angular.io</a>) , usefull tool for starting up with new ng2 projects."}], "tags": [], "owner": {"reputation": 615, "user_id": 5328302, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201003891056563/picture?type=large", "display_name": "David Gabrichidze", "link": "https://stackoverflow.com/users/5328302/david-gabrichidze"}, "is_accepted": true, "score": 0, "last_activity_date": 1462991144, "last_edit_date": 1462991144, "creation_date": 1462975978, "answer_id": 37165290, "question_id": 37149990, "link": "https://stackoverflow.com/questions/37149990/angular2-rc1-unexpected-token/37165290#37165290", "title": "Angular2 RC1 Unexpected Token &lt;", "body": "<p>You are getting this error, because system.config.js has not enough (or has wrong) information to build correct paths to static .js files. It expects Javascript file but gets HTML response from your web server. </p>\n\n<p>Look again at Developers tools (Chrome) Network's XHR responses for JS files and will find what mappings do you need to add to system.config.js.</p>\n\n<p>Where are located your app files after build? is this 'app' folder? or 'app/dist'?...</p>\n\n<p><strong>Update</strong></p>\n\n<p>Try this:</p>\n\n<pre><code>(function (global) {\n\n    // map tells the System loader where to look for things\n    var map = {\n        'app': 'app', // 'dist',\n        'rxjs': 'lib',\n        '@angular': 'lib/@angular'\n    };\n\n    // packages tells the System loader how to load when no filename and/or no extension\n    var packages = {\n        'app': { main: 'main'},\n        'rxjs': { main: 'rx' }\n    };\n\n    var packageNames = [\n      '@angular/common',\n      '@angular/compiler',\n      '@angular/core',\n      '@angular/http',\n      '@angular/platform-browser',\n      '@angular/platform-browser-dynamic',\n      '@angular/router',\n      '@angular/router-deprecated',\n      '@angular/testing',\n      '@angular/upgrade'\n    ];\n\n    // add package entries for angular packages in the form '@angular/common': { main: 'index.js', defaultExtension: 'js' }\n    packageNames.forEach(function (pkgName) {\n        packages[pkgName] = { main: 'index' };\n    });\n\n    var config = {\n        defaultJSExtensions: true,\n        map: map,\n        packages: packages\n    }\n\n    // filterSystemConfig - index.html's chance to modify config before we register it.\n    if (global.filterSystemConfig) { global.filterSystemConfig(config); }\n\n    System.config(config);\n\n})(this);\n</code></pre>\n\n<ol>\n<li>Optional: You can use <code>defaultJSExtensions: true</code> for entire config object;</li>\n<li>Optional: Indicate default file <code>{main:'index'}</code> for @angular packages;</li>\n<li>Main reason: you are mapping to wrong folder for angular. Instead of '@angular': 'lib/angular2' should use '@angular': 'lib/@angular'. But if you have @angular.rc1 files in angular2 folder (just keeping old folder name) then please use your mapping but try with this Optional updates. They could help.</li>\n</ol>\n"}], "owner": {"reputation": 460, "user_id": 1155154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxAkp.jpg?s=128&g=1", "display_name": "Xavier Guzman", "link": "https://stackoverflow.com/users/1155154/xavier-guzman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1004, "favorite_count": 0, "accepted_answer_id": 37165290, "answer_count": 3, "score": 1, "last_activity_date": 1462991144, "creation_date": 1462919376, "question_id": 37149990, "link": "https://stackoverflow.com/questions/37149990/angular2-rc1-unexpected-token", "title": "Angular2 RC1 Unexpected Token &lt;", "body": "<p>I am trying to adapt to make the quickstart project from the angular tutorial to work with an asp.net5 site.</p>\n\n<p>So far, it does look like it should work fine...I followed the tutorial and took the code from there (adjusting paths to match the ones in my asp net site). However I keep getting this \"Unexpected Token &lt;\" error which is quite misleading...</p>\n\n<p>I found some samples which use beta9, but I would preffer to run the latest version of angular2 (rc1), so I have been stuck with this for some hours now...</p>\n\n<p>Anyways, this is how my project files look:</p>\n\n<p>index.html:</p>\n\n<pre><code>&lt;html lang=\"\"&gt;\n&lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n        &lt;title&gt;Trail Running Life&lt;/title&gt;\n        &lt;base href=\"/\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"/css/bootstrap.css\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"/css/site.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;app&gt;\n        Loading...\n    &lt;/app&gt;\n\n\n    &lt;script src=\"/lib/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/lib/bootstrap.js\"&gt;&lt;/script&gt;       \n\n    &lt;script src=\"/lib/es6-shim.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/lib/zone.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/lib/Reflect.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/lib/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/system.config.js\"&gt;&lt;/script&gt;\n\n    &lt;script&gt;       \n      System.import('app').catch(function(err){ console.error(err);  });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>the system.config.js:</p>\n\n<pre><code>(function (global) {\n\n    // map tells the System loader where to look for things\n    var map = {\n        'app': 'app', // 'dist',\n        'rxjs': 'lib',\n        '@angular': 'lib/angular2'\n    };\n\n    // packages tells the System loader how to load when no filename and/or no extension\n    var packages = {\n        'app': { main: 'main.js', defaultExtension: 'js' },\n        'rxjs': { defaultExtension: 'js' }\n    };\n\n    var packageNames = [\n      '@angular/common',\n      '@angular/compiler',\n      '@angular/core',\n      '@angular/http',\n      '@angular/platform-browser',\n      '@angular/platform-browser-dynamic',\n      '@angular/router',\n      '@angular/router-deprecated',\n      '@angular/testing',\n      '@angular/upgrade'\n    ];\n\n    // add package entries for angular packages in the form '@angular/common': { main: 'index.js', defaultExtension: 'js' }\n    packageNames.forEach(function (pkgName) {\n        packages[pkgName] = { defaultExtension: 'js' };\n    });\n\n    var config = {\n        map: map,\n        packages: packages\n    }\n\n    // filterSystemConfig - index.html's chance to modify config before we register it.\n    if (global.filterSystemConfig) { global.filterSystemConfig(config); }\n\n    System.config(config);\n\n})(this);\n</code></pre>\n\n<p>main.ts </p>\n\n<pre><code>import { bootstrap }    from '@angular/platform-browser-dynamic';\nimport { AppComponent } from './app.component';\n\nbootstrap(AppComponent);\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app',\n    template: '&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;'\n})\nexport class AppComponent { }\n</code></pre>\n\n<p>And this is my folder structure (the lib folder is generated via a gulp command):</p>\n\n<p><a href=\"https://i.stack.imgur.com/qCBoE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qCBoE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any help greatly appreciated!</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462918435, "post_id": 37149731, "comment_id": 61837595, "body": "Types are typescript only, they don&#39;t survive the compilation because javascript doesn&#39;t have the notion of types"}, {"owner": {"reputation": 30480, "user_id": 21061, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e5f4b1dac6954a32893de006ced98dc8?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/21061/ian"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462918534, "post_id": 37149731, "comment_id": 61837632, "body": "@NitzanTomer OK - when you think of it like that it makes perfect sense... Do you want to add that as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1462919734, "creation_date": 1462919734, "answer_id": 37150049, "question_id": 37149731, "link": "https://stackoverflow.com/questions/37149731/exporting-a-single-or-several-types/37150049#37150049", "title": "Exporting a single or several Types", "body": "<p>As javascript isn't a typed language, all of the declared types are being removed in the compilation process.</p>\n\n<p>The types you defined are just strings that the compiler will check against specific set of values.</p>\n\n<p>These three functions:</p>\n\n<pre><code>function fn1(value: \"A\" | \"B\" | \"C\"): boolean {\n    return value === \"A\" || value === \"B\" || value === \"C\";\n}\n\nfunction fn2(value: string): boolean {\n    return value === \"A\" || value === \"B\" || value === \"C\";\n}\n\nfunction fn3(value): boolean {\n    return value === \"A\" || value === \"B\" || value === \"C\";\n}\n</code></pre>\n\n<p>Will be compiled to the same js function:</p>\n\n<pre><code>function fnN(value) {\n    return value === \"A\" || value === \"B\" || value === \"C\";\n}\n</code></pre>\n\n<p>The difference is in compilation time (and in any normal IDE):</p>\n\n<pre><code>fn1(\"no good\");\n</code></pre>\n\n<p>Will result in compilation error as the passed string is neither of the 3 specific values we defined, but <code>fn2</code> and <code>fn3</code> will be ok with that value.</p>\n"}], "owner": {"reputation": 30480, "user_id": 21061, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e5f4b1dac6954a32893de006ced98dc8?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/21061/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 37150049, "answer_count": 1, "score": 0, "last_activity_date": 1462919734, "creation_date": 1462917802, "question_id": 37149731, "link": "https://stackoverflow.com/questions/37149731/exporting-a-single-or-several-types", "title": "Exporting a single or several Types", "body": "<p>I'm experimenting with TypeScript for the first time (and modules for that fact). I get the principle behind modules but whenever I try to export a <code>type</code> I seem to be having problems. </p>\n\n<p>For example given the following:</p>\n\n<pre><code>export type typeOne = \"A\" | \"B\" | \"C\" | \"D\";\n</code></pre>\n\n<p>When compiled essentially gives me empty output, leaving me with just a <code>\"use strict\"</code> in the generated file which I don't understand.</p>\n\n<p>What I originally started trying to do was to export several <code>enum</code> types in a <code>Constants</code> object:</p>\n\n<pre><code>export Constants {\n    type typeOne = \"A\" | \"B\" | \"C\" | \"D\";\n    type typeTwo = \"X\" | \"Y\" | \"Z\";\n}\n</code></pre>\n\n<p>But seems I can't even get the basic case working. Am I missing something really obvious, or am I hitting some sort of restriction in TypeScript?</p>\n"}, {"tags": ["typescript", "electron"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 9, "last_activity_date": 1462925878, "creation_date": 1462925878, "answer_id": 37151023, "question_id": 37149178, "link": "https://stackoverflow.com/questions/37149178/import-electron-browserwindow-in-typescript/37151023#37151023", "title": "Import electron.BrowserWindow in TypeScript", "body": "<blockquote>\n  <p>var mainWindow:BrowserWindow </p>\n</blockquote>\n\n<p>You probably want :</p>\n\n<pre><code>var mainWindow:Electron.BrowserWindow \n</code></pre>\n"}], "owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2647, "favorite_count": 0, "accepted_answer_id": 37151023, "answer_count": 1, "score": 5, "last_activity_date": 1462953972, "creation_date": 1462915249, "last_edit_date": 1462953972, "question_id": 37149178, "link": "https://stackoverflow.com/questions/37149178/import-electron-browserwindow-in-typescript", "title": "Import electron.BrowserWindow in TypeScript", "body": "<p>I'm trying to get electron (0.37) and typescript (1.8), with Typings, working properly. I'm having trouble with the import of BrowserWindow. In older examples it seems to be a seperate <code>require('browser-window')</code>, but in the current version its <code>electron.BrowserWindow</code>. </p>\n\n<p>following an example I found my TypeScript is:</p>\n\n<pre><code>import electron = require('electron');\nconst BrowserWindow = electron.BrowserWindow;\n...\nvar mainWindow:BrowserWindow = new BrowserWindow({width: main_width, height: main_height});\n</code></pre>\n\n<p>Unfortunately WebStorm and its TypeScript compiler is complaining: \"TS2304: Cannot find name BrowserWindow\"; specifically at the variable declaration.  if I remove the type declaration from the variable, it works. </p>\n\n<pre><code>var mainWindow = new BrowserWindow({width: main_width, height: main_height});\n</code></pre>\n\n<p>...but this seems to defeat the purpose of typescript though?</p>\n\n<p>I've tried a few different ways around this, but cannot get it working properly. For instance, if I do: <code>import BrowserWindow = Electron.BrowserWindow</code> the compiler is happy, but the javascript fails because <code>Electron</code> (a typescript namespace) isn't defined. </p>\n\n<p>Admittedly I'm new to typescript. </p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 5418, "user_id": 2573961, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ZqHZp.jpg?s=128&g=1", "display_name": "Diego Unanue", "link": "https://stackoverflow.com/users/2573961/diego-unanue"}, "edited": false, "score": 0, "creation_date": 1462915979, "post_id": 37148813, "comment_id": 61836704, "body": "Angular uses zones for change detection, e.g. external libraries can cause code to leave Angulars zone and &quot;break&quot; change detection <a href=\"http://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html\" rel=\"nofollow noreferrer\">blog.thoughtram.io/angular/2016/02/22/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1836, "user_id": 3081298, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ba218564dea7b5c0d002e87ed4cde05?s=128&d=identicon&r=PG", "display_name": "Eric N", "link": "https://stackoverflow.com/users/3081298/eric-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1462916517, "creation_date": 1462916517, "answer_id": 37149453, "question_id": 37148813, "link": "https://stackoverflow.com/questions/37148813/angular-2-why-do-i-need-zone-run/37149453#37149453", "title": "Angular 2 - Why do I need zone.run()?", "body": "<p>Is it possibly caused by referencing assetService, the argument, and not this.assetService, in your views? Maybe that is causing Angular's change detection not to be triggered without calling zone.run().</p>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462965294, "post_id": 37153393, "comment_id": 61857320, "body": "My AssetService is created using Injector.resolveAndCreate, however the event triggering the loadProject call is happening from an Electron menu. I have updated my post to include the AssetService code. I assume that you are correct and it simply isn&#39;t being monitored by Angular due to how the class is set up. If this is the case have I taken the proper approach to solving the issue?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462965380, "post_id": 37153393, "comment_id": 61857369, "body": "Sounds like this could be the cause. Just use <code>zone.run(...)</code> for code that is executed by the event handler."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462965549, "post_id": 37153393, "comment_id": 61857462, "body": "What method of your service is called when the Electron event is fired?"}, {"owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462965584, "post_id": 37153393, "comment_id": 61857483, "body": "I call <code>injector.get(AssetService).loadProject(ProjectService.curren&zwnj;&#8203;tProject);</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462965844, "post_id": 37153393, "comment_id": 61857668, "body": "I don&#39;t know Electron. This code is not included in your question. What of your methods get called from Electron?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462965951, "post_id": 37153393, "comment_id": 61857735, "body": "I think I got it. You can wrap <code>this.proejectLoadedEmitter.emit(null);</code> with <code>zone.run(...)</code>, then you don&#39;t need it on the subscriber of the emitted event."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462966035, "post_id": 37153393, "comment_id": 61857794, "body": "<code>EventEmitter</code> shouldn&#39;t be used in services. <code>@Output()</code> in a service is also redundant. Use an <code>Observer</code> or <code>Subject</code> instead. <code>EventEmitter</code> should only be used for <code>@Output()</code> in component and directives."}, {"owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462966107, "post_id": 37153393, "comment_id": 61857849, "body": "How would I get access to zone inside the service? I had the same thought but can&#39;t seem to get NgZone to inject properly"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462966312, "post_id": 37153393, "comment_id": 61858006, "body": "If it is actually a service that is instantiated by Angular, then injecting the zone should work exactly like in the component."}, {"owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462966874, "post_id": 37153393, "comment_id": 61858416, "body": "It should be as I am using <code>var injector = Injector.resolveAndCreate([ \tAssetService ]);</code> to create it. When I try to add NgZone to the constructor of Asset Service I get <code>Uncaught No provider for NgZone! (AssetService -&gt; NgZone)</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462967063, "post_id": 37153393, "comment_id": 61858531, "body": "I see. You mentioned it in the first comment. No, this doesn&#39;t count. It&#39;s Angular code but the created injector is not instantiated by Angular. This code is outside of your Angular application I guess (before <code>bootstrap()</code>)?"}, {"owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462967349, "post_id": 37153393, "comment_id": 61858750, "body": "I think I see the problem sort of. When the component injects AssetService  then NgZone is injected properly, however when I call <code>injector.get(AssetService).loadProject(ProjectService.curren&zwnj;&#8203;tProject);</code> outside the component then there is no provider for NgZone and thus it can&#39;t get the AssetService instance. I assumed that it should already be instantiated but perhaps not"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462967498, "post_id": 37153393, "comment_id": 61858897, "body": "That&#39;s exactly how it is. Angular has it&#39;s own injector. With <code>Injector.resolveAndCreate([ AssetService ]);</code> you create an independent injector that only has a single provider. Adding <code>NgZone</code> to this provider list also won&#39;t fix anything because it would inject a different zone. Only when Angulars injector instance creates the service instance you get the correct zone injected."}, {"owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462967682, "post_id": 37153393, "comment_id": 61859046, "body": "That makes sense, Is there an easy way to hook into that Injector or is it best to just switch to Observables/subscribers?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "edited": false, "score": 0, "creation_date": 1462967850, "post_id": 37153393, "comment_id": 61859189, "body": "I don&#39;t know your situation. Where is this code <code>Injector.resolveAndCreate([ AssetService ]);</code>. You can inject the injector inside Angular. <code>bootstrap(...).then(appRef =&gt; appRef.injector)</code> also provides access to the injector. (see also <a href=\"http://plnkr.co/edit/SF8gsYN1SvmUbkosHjqQ?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/SF8gsYN1SvmUbkosHjqQ?p=preview</a> <code>main.ts</code>)"}, {"owner": {"reputation": 6750, "user_id": 2098614, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cslmi.jpg?s=128&g=1", "display_name": "Ajey", "link": "https://stackoverflow.com/users/2098614/ajey"}, "edited": false, "score": 0, "creation_date": 1490259584, "post_id": 37153393, "comment_id": 73034970, "body": "@G&#252;nterZ&#246;chbauer Which has better performance, running zone or individually calling detectChanges() in each component?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1490259664, "post_id": 37153393, "comment_id": 73035022, "body": "<code>detectChanges</code> is better because it only runs change detection for the component (with descendants), while <code>zone.run()</code> runs CD for the whole application."}, {"owner": {"reputation": 130825, "user_id": 859154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UFFIs.jpg?s=128&g=1", "display_name": "Royi Namir", "link": "https://stackoverflow.com/users/859154/royi-namir"}, "edited": false, "score": 0, "creation_date": 1521470057, "post_id": 37153393, "comment_id": 85731388, "body": "@G&#252;nterZ&#246;chbauer So is it OK to say that if I   use the patched settimeout like : <code>setTimeout(()=&gt;somethingThatRunsOutsideAngularZone(),1000)</code> , then I don&#39;t need ngzone ? since setTimeout already runs change detection?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1521470399, "post_id": 37153393, "comment_id": 85731639, "body": "Code that is invoked automatically runs inside Angulars zone and you shouldn&#39;t need to take care. If you pass callbacks to code that was for example initialized outside Angular or some API (like GeoLocation) that is not fully covered by NgZone, then you might need to explicitely use <code>zone.run(...)</code>, but that should be the exception."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 15, "last_activity_date": 1462942495, "creation_date": 1462942495, "answer_id": 37153393, "question_id": 37148813, "link": "https://stackoverflow.com/questions/37148813/angular-2-why-do-i-need-zone-run/37153393#37153393", "title": "Angular 2 - Why do I need zone.run()?", "body": "<p>This would require knowledge about the inner workings of the <code>AssetService</code> you're using.</p>\n\n<p>Angular runs the code of your components within its zone where most async APIs (<code>addEventListener</code>, <code>setTimeout</code>, ...) are patched so the zone can notify Angular when such an async callback has happend. This is when Angular runs change detection.</p>\n\n<p>If you initialized <code>AssetService</code> outside Angular or <code>AssetService</code> by other means executes code outside Angulars zone, then Angular doesn't get notified about happened async callbacks and doesn't run change detection.</p>\n\n<p>With <code>zone.run(...)</code> you explicitely make code execute inside Angulars zone and change detection is run afterwards.</p>\n"}], "owner": {"reputation": 563, "user_id": 3366443, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68857b02d2a34389d07fba497e41e7ba?s=128&d=identicon&r=PG&f=1", "display_name": "rykeeboy", "link": "https://stackoverflow.com/users/3366443/rykeeboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17265, "favorite_count": 2, "accepted_answer_id": 37153393, "answer_count": 2, "score": 12, "last_activity_date": 1482778227, "creation_date": 1462913732, "last_edit_date": 1462965427, "question_id": 37148813, "link": "https://stackoverflow.com/questions/37148813/angular-2-why-do-i-need-zone-run", "title": "Angular 2 - Why do I need zone.run()?", "body": "<p>I am trying to create a component in Angular 2 which displays data from a service. The service basically loads some data from a json file after some input from the user. I've been trying to get the component to update but it does not seem to recognize changes unless I call zone.run() after submitting an event from from my service. My code is as follows for the component... </p>\n\n<pre><code>@Component({\n    selector: 'assess-asset-group',\n    directives: [AssetComponent, AssetHeaderComponent, NgFor, NgIf],\n    template: `\n\n            &lt;div *ngIf=\"assetService.schema != null\"&gt;\n                &lt;div class=\"asset-group\" *ngFor=\"#assetTypeName of assetService.schema.assetTypeNames\"&gt; \n                    &lt;div class=\"asset-type-title\"&gt;&lt;span&gt;{{assetService.schema.assetTypes[assetTypeName].name}}s&lt;/span&gt;&lt;/div&gt; \n                    &lt;table class=\"asset-group-table\" cellpadding=0 cellspacing=0&gt;\n                        &lt;thead&gt;\n                            &lt;tr assess-asset-header [assetType]=\"assetService.schema.assetTypes[assetTypeName]\"&gt;&lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            &lt;tr assess-asset *ngFor=\"#asset of assetService.assetsForType(assetTypeName)\" [asset]=\"asset\"&gt;&lt;/tr&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n                    &lt;button class=\"new-asset-btn\" (click)=\"assetService.addAsset(assetTypeName)\"&gt;New&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;`,\n    providers: [provide(AssetService, {useValue: injector.get(AssetService)})]\n})\nexport class AssetGroupComponent {\n\n    public assetService: AssetService;\n    public zone: NgZone;\n\n    constructor( @Inject(AssetService) assetService: AssetService, zone: NgZone) {\n        this.assetService = assetService;\n        this.zone = zone;\n    }\n\n    ngOnInit() {\n        this.assetService.proejectLoadedEmitter.subscribe((e) =&gt; { this.zone.run(() =&gt; { }) });\n    }\n\n    ngOnDestroy() {\n        this.assetService.proejectLoadedEmitter.unsubscribe();\n    }\n}\n</code></pre>\n\n<p>Am I doing something wrong or is this what I need to do in order to update the view?</p>\n\n<p>UPDATE - AssetService Class</p>\n\n<pre><code>@Injectable()\nexport class AssetService{\n    public assets: Assets.Asset[] = [];\n    public assetTypeDefinitions: any = null;\n\n    public schema: Schema = null;\n    public assetsAsObj: any = null; // Asset file loaded as object\n\n    @Output() proejectLoadedEmitter: EventEmitter&lt;any&gt; = new EventEmitter();\n\n    constructor(){\n    }\n\n    public loadProject(config: Project){\n        // Load schema\n        // populate AssetTypeDefinitions as object keyed by type\n        let data = fs.readFileSync(config.schemaPath, 'utf8');\n        if (!data) {\n            utils.logError(\"Error reading schema file\");\n            return;\n        }\n        let struc = fs.readFileSync(config.structurePath, 'utf8');\n        if (!struc) {\n            utils.logError(\"Error reading structure file\");\n            return;\n        }\n\n        this.schema = new Schema(JSON.parse(data), struc);\n        this.readAssets(config.assetFilePath);\n    }\n\n    /**\n     * @brief Adds a new asset to the assets array \n     * @details Constructs the asset based on the type and populates\n     *  its fields with appropreiate default values\n     * \n     * @param type The type of the asset - specified in the schema\n     */\n    public addAsset(type: string): void {\n        // Need to make sure there is a loaded type definition for the specified type\n        if(!this.schema.assetTypes.hasOwnProperty(type)){\n            utils.logError(\"Error occured during call to addAsset - type \\\"\" + type + \"\\\" is not specified in the loaded schema\");\n            return;\n        }\n        // Creeate a new asset object - passing in the type definition from the schema\n        this.assets.push(new Assets.Asset(this.schema.assetTypes[type]));\n    }   \n\n    /**\n     * Write the current assets to a file using the specified format\n     * If the outputPasth isn't specied try and load it from the project.json file\n     */\n    public writeAssets(format:AssetWriteFormat, outputPath?: string) : void {\n\n        var outStructureStr = this.schema.structureStr;\n        // insert AS properties from schema into output assets\n        this.schema.properties.forEach(prop =&gt; {\n            outStructureStr = outStructureStr.replace(new RegExp('\"' + prop +'\"', 'i'), this.retriveValueForSchemaProperty(prop));\n        });\n\n        fs.writeFileSync(\"C:/Projects/Assess/assets.json\", outStructureStr);\n    }\n\n    public readAssets(inputPath?: string) : void{\n        let assetsStr = fs.readFileSync(inputPath, 'utf8');\n\n        let strucToAssetMap = {};\n        let strucObj = JSON.parse(this.schema.structureStr);\n        this.schema.properties.forEach(p =&gt; {\n            strucToAssetMap[p] = this.findValueInObject(strucObj, p).reverse();\n        });\n\n        // @TODO Load custom properties\n        let assetsObj = JSON.parse(assetsStr);\n        var c = null;\n        strucToAssetMap[\"AS_ASSETS\"].forEach(p =&gt; {\n            if(c == null){\n                c = assetsObj[p];\n            }else{\n                c = c[p];\n            }\n        });\n        c.forEach((asset) =&gt; {\n            let a:Assets.Asset = new Assets.Asset(this.schema.assetTypes[asset.type], asset);\n            this.assets.push(a);\n        });\n        console.log(this.assets);\n        this.proejectLoadedEmitter.emit(null);\n    }\n\n    public assetsForType(type:string): Assets.Asset[]{\n        var ret: Assets.Asset[] = [];\n        for(let idx in this.assets){\n            if(this.assets[idx].definition.type === type){\n                ret.push(this.assets[idx]);\n            }\n        }\n        return ret;\n    }\n\n    public retriveValueForSchemaProperty(property: string) : string{\n        if(AS_SchemaTypes.indexOf(property) != -1){\n            switch (property) {\n                case \"AS_ASSETS\":\n                    let outAssets = [];\n                    this.assets.forEach((asset) =&gt; {\n                        let outAsset = {};\n                        outAsset[\"type\"] = asset.definition.type;\n\n                        for (let key in asset.fields) {\n                            outAsset[key] = asset.fields[key].value;\n                        }\n                        outAssets.push(outAsset);\n                    });\n                    return JSON.stringify(outAssets, null, \"\\t\");\n            }\n        }else{\n            // @TODO Retrive custom properties\n            return '\"DDDDDD\"';\n        }\n        return \"\";\n    }\n\n    public findValueInObject(obj: any, property: string, path: any[] = []): any[] {\n        for(let x in obj){;\n            let val = obj[x];\n            if (val == property){\n                path.push(x);\n                return path;\n            }\n            else if(val != null &amp;&amp; typeof val == 'object'){\n                let v = this.findValueInObject(val, property, path);\n                if(v != null){\n                    path.push(x);   \n                    return path;\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1462908912, "post_id": 37147394, "comment_id": 61832828, "body": "that&#39;s because of the arrow function which needs to save the scope. In the compiled version, just before what you included there should be a <code>_this = this</code>. If you compile for <code>ES6</code> it should then keep the arrow function notation which will then won&#39;t need the <code>_this</code>"}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 2465760, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7c65f3b23f03a99478cb28074872734?s=128&d=identicon&r=PG", "display_name": "david8", "link": "https://stackoverflow.com/users/2465760/david8"}, "edited": false, "score": 0, "creation_date": 1462909208, "post_id": 37147440, "comment_id": 61832991, "body": "Thank you, I didn&#39;t know that arrow changes scope"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 445, "user_id": 2465760, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7c65f3b23f03a99478cb28074872734?s=128&d=identicon&r=PG", "display_name": "david8", "link": "https://stackoverflow.com/users/2465760/david8"}, "edited": false, "score": 1, "creation_date": 1462913417, "post_id": 37147440, "comment_id": 61835321, "body": "@David8 It&#39;s the opposite of that. The fat arrow doesn&#39;t change the scope, a regular function does."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 7, "last_activity_date": 1462908904, "creation_date": 1462908904, "answer_id": 37147440, "question_id": 37147394, "link": "https://stackoverflow.com/questions/37147394/compiling-this-as-this/37147440#37147440", "title": "Compiling $(this) as $(_this)", "body": "<p>If you don't want to capture the lexical <code>this</code>, don't use an arrow function. Just use a regular function expression:</p>\n\n<pre><code>$(\".class\").click(function () {\n    var test = $(this);\n    console.log(test);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3983, "user_id": 1274424, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/71c66acfc0635d22236d479f8eb45dda?s=128&d=identicon&r=PG", "display_name": "Konst", "link": "https://stackoverflow.com/users/1274424/konst"}, "is_accepted": false, "score": 2, "last_activity_date": 1462908908, "creation_date": 1462908908, "answer_id": 37147443, "question_id": 37147394, "link": "https://stackoverflow.com/questions/37147394/compiling-this-as-this/37147443#37147443", "title": "Compiling $(this) as $(_this)", "body": "<p>Do not use fat arrow function.</p>\n\n<pre><code>$(\".class\").click(function() {\n    var test = $(this);\n    console.log(test);\n});\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 2465760, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7c65f3b23f03a99478cb28074872734?s=128&d=identicon&r=PG", "display_name": "david8", "link": "https://stackoverflow.com/users/2465760/david8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 37147440, "answer_count": 2, "score": 1, "last_activity_date": 1488709287, "creation_date": 1462908725, "last_edit_date": 1488709287, "question_id": 37147394, "link": "https://stackoverflow.com/questions/37147394/compiling-this-as-this", "title": "Compiling $(this) as $(_this)", "body": "<p>I have a problem with TypeScript replacing <code>$(this)</code> with <code>$(_this)</code> and breaking the code, because <code>test</code> refers to <code>window</code>.</p>\n\n<pre><code>$(\".class\").click(() =&gt; {\n    var test = $(this);\n    console.log(test);\n});\n</code></pre>\n\n<p>compiles to</p>\n\n<pre><code>$(\".class\").click(function () {\n    var test = $(_this);\n    console.log(test);\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "typescript"], "comments": [{"owner": {"reputation": 1133, "user_id": 351508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dda8420ae968089e20368c3909f637?s=128&d=identicon&r=PG", "display_name": "Jamie R Rytlewski", "link": "https://stackoverflow.com/users/351508/jamie-r-rytlewski"}, "edited": false, "score": 0, "creation_date": 1462908790, "post_id": 37146865, "comment_id": 61832775, "body": "Well for one, you are mixing getUser and getUsers. I don&#39;t think that&#39;s your issue though. Can you use <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescriptlang.org/play</a> to type out what you are inputting as I&#39;m lost on if the last . is there on purpose or what?"}, {"owner": {"reputation": 1133, "user_id": 351508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dda8420ae968089e20368c3909f637?s=128&d=identicon&r=PG", "display_name": "Jamie R Rytlewski", "link": "https://stackoverflow.com/users/351508/jamie-r-rytlewski"}, "edited": false, "score": 0, "creation_date": 1462909154, "post_id": 37146865, "comment_id": 61832959, "body": "Here&#39;s something that might help: <a href=\"https://www.typescriptlang.org/play/#src=%20namespace%20app%20%7B%0D%0A%20%20%20%20%20export%20class%20users%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20constructor()%7B%0D%0A%09%09%20%20%7D%0D%0A%09%09%20%20%0D%0A%09%09%20%20getUsers(req%3A%20any%2C%20res%3A%20any)%20%7B%0D%0A%09%09%09%20%20%0D%0A%09%09%20%20%7D%0D%0A%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%09%0D%0Alet%20exports%20%3D%20new%20app.users()%3B%0D%0Aexports.getUsers(1%2C%202)%3B\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 744, "user_id": 2325247, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/64f17550cac6874d4f49a137f95b1055?s=128&d=identicon&r=PG", "display_name": "user2325247", "link": "https://stackoverflow.com/users/2325247/user2325247"}, "reply_to_user": {"reputation": 1133, "user_id": 351508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dda8420ae968089e20368c3909f637?s=128&d=identicon&r=PG", "display_name": "Jamie R Rytlewski", "link": "https://stackoverflow.com/users/351508/jamie-r-rytlewski"}, "edited": false, "score": 0, "creation_date": 1462910018, "post_id": 37146865, "comment_id": 61833451, "body": "The question is how to write a nodejs (commonJS) module in Typescript?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462910238, "post_id": 37146865, "comment_id": 61833581, "body": "You mean like <a href=\"http://stackoverflow.com/q/23739044/215552\">stackoverflow.com/q/23739044/215552</a>?"}], "owner": {"reputation": 744, "user_id": 2325247, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/64f17550cac6874d4f49a137f95b1055?s=128&d=identicon&r=PG", "display_name": "user2325247", "link": "https://stackoverflow.com/users/2325247/user2325247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1463146833, "creation_date": 1462906926, "last_edit_date": 1462909819, "question_id": 37146865, "link": "https://stackoverflow.com/questions/37146865/typescript-migration", "title": "Typescript migration", "body": "<p>The question is how to write a nodejs (commonJS) module in Typescript?\nI have a node.js module  like this :</p>\n\n<pre><code>var testController = require(\"/controllers/test\").\napp.get('/testTS', testController.getUsers); \n</code></pre>\n\n<p>In test.js file, I have</p>\n\n<pre><code>exports.getUsers = function(req,res) {}.\n</code></pre>\n\n<p>If I have to convert my test.js file to Typescript, how would I proceed? \nI am compiling with commonjs module. Here is the file I tried : </p>\n\n<pre><code> module user {\n     export class getUsers {\n          constructor(req:any, res:any) {}\n     }\n    }\n    module.exports = user;\n</code></pre>\n\n<p>If I convert this file to JS, there are no callbacks of type </p>\n\n<pre><code>exports.getUsers = function(req,res);\n</code></pre>\n\n<p>If I say like </p>\n\n<pre><code> var testController = require(\"/controllers/test\").\ntestController.getUsers() =&gt; this works. but I cannot specify this in \napp.get('testTS', testController.getUsers());\n</code></pre>\n\n<p>Can someone help me to write the callbacks like this in Typescript?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "is_accepted": true, "score": 23, "last_activity_date": 1462917426, "creation_date": 1462917426, "answer_id": 37149657, "question_id": 37146858, "link": "https://stackoverflow.com/questions/37146858/typescript-module-has-no-exported-members-react/37149657#37149657", "title": "Typescript module has no exported members - react", "body": "<p>Your code should work if you fix your typo.</p>\n\n<p>Instead of </p>\n\n<pre><code>import { Nodelist } from \"../components/NodeList\"\n</code></pre>\n\n<p>you should write :</p>\n\n<pre><code>import { NodeList } from \"../components/NodeList\"\n//           ^ capital L\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2752, "user_id": 397010, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f2e7c4a80d10ae64da05b5fa4720d46c?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/397010/jon"}, "is_accepted": false, "score": 2, "last_activity_date": 1537555148, "creation_date": 1537555148, "answer_id": 52449433, "question_id": 37146858, "link": "https://stackoverflow.com/questions/37146858/typescript-module-has-no-exported-members-react/52449433#52449433", "title": "Typescript module has no exported members - react", "body": "<p>Another thing to check is ambiguous / similar file names.</p>\n\n<p>This can also happen if you have two files in the same package whose name differs only by the extension. For example if you have</p>\n\n<pre><code>folder\n      foo.tsx\n      foo.ts\n</code></pre>\n\n<p>When you do the following import:</p>\n\n<pre><code>import { Something } from \"./foo\";\n</code></pre>\n\n<p>It will only work with items from one of the files. </p>\n\n<p>The solution in this case is to rename one of the files to remove the ambiguity. Then the imports will work just fine.</p>\n"}, {"comments": [{"owner": {"reputation": 1386, "user_id": 4151970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DlMKN.jpg?s=128&g=1", "display_name": "aonepathan", "link": "https://stackoverflow.com/users/4151970/aonepathan"}, "edited": false, "score": 0, "creation_date": 1605115132, "post_id": 57084332, "comment_id": 114555062, "body": "For me I didn&#39;t have a typo and this fixed it for me, thanks"}], "tags": [], "owner": {"reputation": 415, "user_id": 10925260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R6uQB.png?s=128&g=1", "display_name": "kerosenekiwi", "link": "https://stackoverflow.com/users/10925260/kerosenekiwi"}, "is_accepted": false, "score": 4, "last_activity_date": 1563399275, "creation_date": 1563399275, "answer_id": 57084332, "question_id": 37146858, "link": "https://stackoverflow.com/questions/37146858/typescript-module-has-no-exported-members-react/57084332#57084332", "title": "Typescript module has no exported members - react", "body": "<p>If anyone is still having this problem, I found that I was only exporting one item from the file so changing</p>\n\n<pre><code>export default function App() {\n   ...\n};\n</code></pre>\n\n<p>to</p>\n\n<pre><code>export function App() {\n   ...\n}\n</code></pre>\n\n<p>seemed to do the trick! </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13527471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gKT_GnZvEkc/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmBI1wwwnvoE2w9s26tRF9oOryLPQ/photo.jpg?sz=128", "display_name": "Salah Osman", "link": "https://stackoverflow.com/users/13527471/salah-osman"}, "is_accepted": false, "score": -1, "last_activity_date": 1589315547, "creation_date": 1589315547, "answer_id": 61761389, "question_id": 37146858, "link": "https://stackoverflow.com/questions/37146858/typescript-module-has-no-exported-members-react/61761389#61761389", "title": "Typescript module has no exported members - react", "body": "<p>Avoid having two different file extensions such as 'js' and 'txs' in similar project scope/folders otherwise it will lead to type-errors such as this. </p>\n"}], "owner": {"reputation": 633, "user_id": 2302244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5cdf079a58c83a585e86d9eeba393043?s=128&d=identicon&r=PG", "display_name": "user2302244", "link": "https://stackoverflow.com/users/2302244/user2302244"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62527, "favorite_count": 2, "accepted_answer_id": 37149657, "answer_count": 4, "score": 14, "last_activity_date": 1589315547, "creation_date": 1462906907, "question_id": 37146858, "link": "https://stackoverflow.com/questions/37146858/typescript-module-has-no-exported-members-react", "title": "Typescript module has no exported members - react", "body": "<p>I am working on a react, redux Typescript application.  I have a strange situation where after some changes one of the modules has stopped exporting its members.</p>\n\n<p>The folder structure is:</p>\n\n<pre><code>src\n|---- components\n|---- containers\n</code></pre>\n\n<p>The 'components' folder has the .tsx files while the wrapping .ts files are in the 'containers' folder.</p>\n\n<p>The module NodeList.tsx is listed below:</p>\n\n<pre><code>import * as React from \"react\";\n\nexport const NodeList = (props) =&gt; (\n    &lt;div id=\"NodeList\"&gt;\n        &lt;ul&gt;\n        {props.items.map((item, i) =&gt; (\n            &lt;li key={i} &gt;\n                &lt;span id={\"Item_\"+i}&gt;{item}&lt;/span&gt;\n            &lt;/li&gt;\n            )\n        )}\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    )\n</code></pre>\n\n<p>The wrapping container NodeListContainer is:</p>\n\n<pre><code>import { connect } from \"react-redux\";\nimport { Provider } from \"react-redux\";\n\nimport { Nodelist } from \"../components/NodeList\"\n\nconst nodesAsArrayOfType = (state, nodeType: string) =&gt; {\n    console.log(\"Going for nodes of type \", nodeType)\n    let a = state.data.model.nodes\n    let k = Object.keys(a);\n    let sub = k.filter((e) =&gt; {\n                   return a[e].nodeType == nodeType\n        }).map((e) =&gt; a[e])\n    console.log(\"Got nodes \", sub)    \n    return sub\n}\n\nconst mapStateToProps = (state) =&gt; {\n    var list = nodesAsArrayOfType(state, state.UIstate.focusNodeType).map((e) =&gt; {return JSON.stringify(e)})\n    console.log(\"Returning \", list, list.length)\n    return {\n        items: list\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =&gt; {\n    return {\n        newTextValue: (e) =&gt; {dispatch({type: \"ON_CHANGE\", text: e.target.value})}\n    }\n}\n\nexport const NodeListContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n    )(NodeList)\n</code></pre>\n\n<p>The import of NodeList above is being flagged with the error message </p>\n\n<pre><code>ERROR in ./src/containers/NodeListContainer.ts\n(4,10): error TS2305: Module '\"MyProject/src/components/NodeList\"' has no exported member 'Nodelist'.\n</code></pre>\n\n<p>Can anyone provide any insight into what might have happened here?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions", "language-server-protocol"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 5789813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlesG.png?s=128&g=1", "display_name": "Redgis", "link": "https://stackoverflow.com/users/5789813/redgis"}, "is_accepted": true, "score": 0, "last_activity_date": 1466780204, "creation_date": 1466780204, "answer_id": 38016366, "question_id": 37146203, "link": "https://stackoverflow.com/questions/37146203/how-to-retrieve-the-rootpath-or-any-other-client-side-info-from-language-serve/38016366#38016366", "title": "How to retrieve the rootPath (or any other client side info) from language server side?", "body": "<p>It's actually very simple. The rootPath is provided to the language server at initialization, in the parameters of \"connection.onInitialize\".</p>\n\n<pre><code>connection.onInitialize(\n(params) : InitializeResult =&gt; {\n    connection.console.log(\"Initialization : \" + params.rootPath);\n});\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5789813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlesG.png?s=128&g=1", "display_name": "Redgis", "link": "https://stackoverflow.com/users/5789813/redgis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 1, "accepted_answer_id": 38016366, "answer_count": 1, "score": 0, "last_activity_date": 1545927039, "creation_date": 1462904641, "last_edit_date": 1545927039, "question_id": 37146203, "link": "https://stackoverflow.com/questions/37146203/how-to-retrieve-the-rootpath-or-any-other-client-side-info-from-language-serve", "title": "How to retrieve the rootPath (or any other client side info) from language server side?", "body": "<p>I am working on a language extention, based on the sample \"language server\" (<a href=\"https://code.visualstudio.com/docs/extensions/example-language-server\" rel=\"nofollow\">https://code.visualstudio.com/docs/extensions/example-language-server</a>).</p>\n\n<p>On the server side, I need to know the current folder used by vscode, which, on the client side, would be retrieved by :</p>\n\n<pre><code>import * as vscode from 'vscode';\n[...]\nlet curFolder : string =  vscode.workspace.rootPath;\n[...]\n</code></pre>\n\n<p>But if I try to use this on server side,</p>\n\n<ol>\n<li>I get a TS compiler error : <em>error TS2307: Cannot find module 'vscode'</em></li>\n<li>Once client is started (using F5 in client), I'm unable to attach to the server (using F5 in server).</li>\n</ol>\n\n<p>Both my server and client package.json specify :</p>\n\n<pre><code>  \"devDependencies\": {\n    \"typescript\": \"^1.8.9\",\n    \"vscode\": \"^0.11.12\"\n  }\n</code></pre>\n\n<p>My understanding is that the server only communicates with the client via the IConnection object, and thus does not have access to vscode.* data that are maintained on the client side.</p>\n\n<p>My current work around it to use this on server side:</p>\n\n<pre><code>connection.sendRequest({ method: \"getRootPath\" })\n.then( (rootPath : string) =&gt; {\n    [...]\n</code></pre>\n\n<p>and this code on client side:</p>\n\n<pre><code>languageClient.onRequest({method: \"getRootPath\"}, (params : any) : string =&gt; {\n        return vscode.workspace.rootPath;\n} );\n</code></pre>\n\n<p>Is there any better way to do this ?</p>\n"}, {"tags": ["typescript", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5119397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lIaiQc_huk/AAAAAAAAAAI/AAAAAAAAAUE/hu4Md5Bu5Qs/photo.jpg?sz=128", "display_name": "Luiz Honda", "link": "https://stackoverflow.com/users/5119397/luiz-honda"}, "edited": false, "score": 5, "creation_date": 1462906522, "post_id": 37146155, "comment_id": 61831472, "body": "Thanks, @BradMartin, after installing  tns-platform-declarations package and adding the following snippet to tsconfig.json      &quot;files&quot;: [         &quot;/node_modules/tns-platform-declarations/android17.d.ts&quot;     ]   the compiler found the android package."}, {"owner": {"reputation": 4819, "user_id": 1893557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIfF2.jpg?s=128&g=1", "display_name": "Brad Martin", "link": "https://stackoverflow.com/users/1893557/brad-martin"}, "reply_to_user": {"reputation": 43, "user_id": 5119397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lIaiQc_huk/AAAAAAAAAAI/AAAAAAAAAUE/hu4Md5Bu5Qs/photo.jpg?sz=128", "display_name": "Luiz Honda", "link": "https://stackoverflow.com/users/5119397/luiz-honda"}, "edited": false, "score": 0, "creation_date": 1463684546, "post_id": 37146155, "comment_id": 62182177, "body": "Do you mind accepting the answer so this question can be resolved on the SO threads?"}, {"owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 1, "creation_date": 1477906848, "post_id": 37146155, "comment_id": 67933652, "body": "I was struggling for so long with this. For anyone else - if you are working with typescript and your compilation fails, because it cannot find some classes/functions (like <code>android.support.v4.content.ContextCompat.checkSelfPermission</code>&zwnj;&#8203;), wrap it as any - <code>(android.support.v4.content.ContextCompat as any).checkSelfPermission</code>"}, {"owner": {"reputation": 4819, "user_id": 1893557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIfF2.jpg?s=128&g=1", "display_name": "Brad Martin", "link": "https://stackoverflow.com/users/1893557/brad-martin"}, "edited": false, "score": 2, "creation_date": 1477916568, "post_id": 37146155, "comment_id": 67938182, "body": "Even simpler is to <code>declare var android: any</code> so then no need to cast as any each time you use the android namespace."}], "tags": [], "owner": {"reputation": 4819, "user_id": 1893557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIfF2.jpg?s=128&g=1", "display_name": "Brad Martin", "link": "https://stackoverflow.com/users/1893557/brad-martin"}, "is_accepted": true, "score": 13, "last_activity_date": 1462952644, "last_edit_date": 1462952644, "creation_date": 1462904477, "answer_id": 37146155, "question_id": 37145983, "link": "https://stackoverflow.com/questions/37145983/missing-android-package-in-nativescript-using-typescript/37146155#37146155", "title": "missing android package in nativescript using typescript", "body": "<p>That's a TypeScript compiler warning, it's not an error per se. You can install the platform definitions into your Nativescript project if you want to prevent these warnings: <code>npm i tns-platform-declarations</code></p>\n\n<p>You could still run the <code>TSC</code> to transpile the TypeScript into Javascript and it work. It's just for type checking warning which is the benefit of TypeScript :)</p>\n\n<p>Hope all of this makes sense and helps out.</p>\n\n<p><a href=\"https://www.npmjs.com/package/tns-platform-declarations\" rel=\"noreferrer\">https://www.npmjs.com/package/tns-platform-declarations</a></p>\n"}], "owner": {"reputation": 43, "user_id": 5119397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lIaiQc_huk/AAAAAAAAAAI/AAAAAAAAAUE/hu4Md5Bu5Qs/photo.jpg?sz=128", "display_name": "Luiz Honda", "link": "https://stackoverflow.com/users/5119397/luiz-honda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2083, "favorite_count": 0, "accepted_answer_id": 37146155, "answer_count": 1, "score": 4, "last_activity_date": 1462952644, "creation_date": 1462903872, "question_id": 37145983, "link": "https://stackoverflow.com/questions/37145983/missing-android-package-in-nativescript-using-typescript", "title": "missing android package in nativescript using typescript", "body": "<p>I get the following error message:</p>\n\n<pre><code>main-page.ts(15,26): error TS2304: Cannot find name 'android'.\n</code></pre>\n\n<p>After creating a new nativescript project using typescript.</p>\n\n<pre><code>tns create demo --template typescript\n</code></pre>\n\n<p>And adding the following xml, ts files.</p>\n\n<p>main-page.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Page xmlns=\"http://schemas.nativescript.org/tns.xsd\"&gt;\n  &lt;StackLayout&gt;\n    &lt;Placeholder creatingView=\"creatingView\"/&gt;\n  &lt;/StackLayout&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p>main-page.ts</p>\n\n<pre><code>import placeholder = require(\"ui/placeholder\");\n\nexport function creatingView(args: placeholder.CreateViewEventData) {\n    var nativeView = new android.widget.CalendarView(args.context);\n    args.view = nativeView;\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 0, "creation_date": 1462915653, "post_id": 37145346, "comment_id": 61836572, "body": "Thanks David - the docs on component interaction are really useful. That said I&#39;d be very grateful for a steer on the direction to take with my app as I lack the experience to pick out the right approach. I&#39;ve uploaded a chunk of code here: <a href=\"http://plnkr.co/edit/l0UFk2pkq2ZjrKOEB7vm\" rel=\"nofollow noreferrer\">plnkr.co/edit/l0UFk2pkq2ZjrKOEB7vm</a> which doesn&#39;t run (I think Plnkr is having issues with the deprecated router module). The goal is to get the <code>id</code> from the route attribute into the content-tree.component. Any thoughts on this would be massively appreciated!"}, {"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "reply_to_user": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 1, "creation_date": 1462931889, "post_id": 37145346, "comment_id": 61841299, "body": "I updated that a little and got it a lot closer, there is just one error now -- <a href=\"http://plnkr.co/edit/p8hJMapaLLs1A9J2EEHP?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/p8hJMapaLLs1A9J2EEHP?p=preview</a>. Something about an invalid provider, hidden by the <code>undefined.toString</code> attempt."}, {"owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 0, "creation_date": 1463001580, "post_id": 37145346, "comment_id": 61881585, "body": "At last!  I&#39;ve managed to get the Plnkr working, using the new release-candidate router (rather than the deprecated one): <a href=\"http://plnkr.co/edit/W3PVk3Ss5Wq59IbnLjaK?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/W3PVk3Ss5Wq59IbnLjaK?p=preview</a>. So to see what I mean, click &#39;content&#39; in the red panel on the left, then click one of the tree nodes in the purple panel.  You&#39;ll see the content on the left changes to show the selected tree item and the URL has an id appended to it.  What I want to do is access that id value in the content tree component. Any ideas most welcome! :)"}, {"owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 0, "creation_date": 1463038063, "post_id": 37145346, "comment_id": 61893674, "body": "(Can&#39;t seem to edit that comment, but it should read &quot;You&#39;ll see the content on the right&quot; rather than &quot;You&#39;ll see the content on the left&quot;.)"}, {"owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 1, "creation_date": 1463240637, "post_id": 37145346, "comment_id": 61987012, "body": "My current line of thinking is that a service might be necessary here.  So the service is set up to hold the id from the URL and the content-edit component updates this value on init. Sensible? Crazy? Better solution? Thanks!"}, {"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "reply_to_user": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 1, "creation_date": 1463247951, "post_id": 37145346, "comment_id": 61989643, "body": "I think a micro-service is a great way to approach this! Have one be the consumer and one be the producer, problem solved. <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/&hellip;</a>"}, {"owner": {"reputation": 1655, "user_id": 2802802, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aaf699017716bf13665ae81a7aba1530?s=128&d=identicon&r=PG", "display_name": "Richard Lee", "link": "https://stackoverflow.com/users/2802802/richard-lee"}, "reply_to_user": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 0, "creation_date": 1486487982, "post_id": 37145346, "comment_id": 71362562, "body": "Surprises me that it is a so hard to find solution, its not a specific scenario that you have @Dan, i&#39;m having this same issue too, &#39;cause i have a component that sets the page title, wich is dynamic (i can&#180;t put the title in the route configuration), and my component sits outside <i>router-outlet</i>... Did u solve that?"}], "tags": [], "owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "is_accepted": false, "score": 4, "last_activity_date": 1462902040, "last_edit_date": 1462902040, "creation_date": 1462901734, "answer_id": 37145346, "question_id": 37144999, "link": "https://stackoverflow.com/questions/37144999/angular2-get-router-params-outside-of-router-outlet/37145346#37145346", "title": "Angular2 Get router params outside of router-outlet", "body": "<blockquote>\n  <p>Is it only possible to access route params in a component rendered by a router-outlet? </p>\n</blockquote>\n\n<p>Yes, the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> tells <strong>Angular2</strong> to treat the containing component as a \"routing\" component. Therefore you cannot get a <code>RouteParams</code> instance injected into the class as it wasn't instantiated via the routing directive.</p>\n\n<blockquote>\n  <p>If not, then what am I doing wrong?</p>\n</blockquote>\n\n<p>I wouldn't say you're doing anything wrong, you simply had a misconception on how it was designed. I too has this initial misconception. I found <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html\" rel=\"nofollow\">this</a> <strong>Angular2</strong> article to be a great source for understanding how to pass data around and how to communicate betwixt parent and child components.\n<hr>\nIn your specific case I'd suggest removing the <code>RouteParams</code> from the <code>constructor</code> of the <code>ContentTreeComponent</code> as it will only be available if rendered from a \"routing\" component.</p>\n\n<pre><code>export class ContentTreeComponent implements OnInit {\n\n    constructor(\n        private _contentService: ContentService,\n        private _router: Router\n    ) { }\n\n    // Omitted for brevity...\n}\n</code></pre>\n\n<p>Then in order to get the <code>id</code>, you'd probably have to share a bit more of your top-level code so that I can see where it is coming from...</p>\n"}, {"comments": [{"owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 0, "creation_date": 1463258275, "post_id": 37230758, "comment_id": 61992897, "body": "Thanks G&#252;nter. Am I right in saying this will only work on a component that&#39;s rendered via a router-outlet? If so I&#39;ll need to employ the other way of doing it you mention in the other thread (<a href=\"http://stackoverflow.com/questions/37218706/angular-2-rc1-get-parameters-from-the-initial-url-used/37230716#37230716\" title=\"angular 2 rc1 get parameters from the initial url used\">stackoverflow.com/questions/37218706/&hellip;</a>) because the component I&#39;m seeking to get the param into is outside of the router-outlet, so I&#39;d need to use the constructor of <code>AppComponent</code> instead?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 0, "creation_date": 1463258492, "post_id": 37230758, "comment_id": 61992977, "body": "Sorry, I misinterpreted your question. Yes this is exactly the opposite of what you need. The approach you mentioned from the other answer should work everywhere where you can inject the <code>Router</code>. I updated the answer."}, {"owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "edited": false, "score": 1, "creation_date": 1463259212, "post_id": 37230758, "comment_id": 61993192, "body": "Awesome! So in my case I just needed to add this to the content.component.ts rather than the app.component.ts (as app.component.ts was too high up the routing hierarchy. Thanks so much, this has been a massive blocker!"}, {"owner": {"reputation": 26889, "user_id": 369792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fdc806d0a8834e57b2d9309849dea8cd?s=128&d=identicon&r=PG", "display_name": "Jason Goemaat", "link": "https://stackoverflow.com/users/369792/jason-goemaat"}, "edited": false, "score": 0, "creation_date": 1464157129, "post_id": 37230758, "comment_id": 62362629, "body": "There doesn&#39;t seem to be a &#39;Location&#39; class in <code>@angular&#47;router</code>.  Is there another import needed?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464157241, "post_id": 37230758, "comment_id": 62362677, "body": "Location was moved <code>import {Location} from &#39;@angular&#47;common&#39;;</code> See also <a href=\"http://stackoverflow.com/questions/36861628/location-and-hashlocationstrategy-stopped-working-in-beta-16\" title=\"location and hashlocationstrategy stopped working in beta 16\">stackoverflow.com/questions/36861628/&hellip;</a>"}, {"owner": {"reputation": 4562, "user_id": 1079609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4ed0dc250a24e6620e4c023d6bb07c8?s=128&d=identicon&r=PG", "display_name": "golfadas", "link": "https://stackoverflow.com/users/1079609/golfadas"}, "edited": false, "score": 3, "creation_date": 1467883871, "post_id": 37230758, "comment_id": 63904946, "body": "RouterUrlSerializer was removed somewhere in the <a href=\"http://victorsavkin.com/post/145672529346/angular-router\" rel=\"nofollow noreferrer\">new beta router</a>  I&#39;m getting the URL from Router and parsing it by hand.. <code>parseInt(this.router.url.split(&quot;&#47;&quot;)[2])</code>"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1564083328, "post_id": 37230758, "comment_id": 100924539, "body": "how to import RouterUrlSerializer ?"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1467886562, "last_edit_date": 1495535482, "creation_date": 1463252784, "answer_id": 37230758, "question_id": 37144999, "link": "https://stackoverflow.com/questions/37144999/angular2-get-router-params-outside-of-router-outlet/37230758#37230758", "title": "Angular2 Get router params outside of router-outlet", "body": "<p>In the new router (<strong>>= RC.0 &lt;=RC.2</strong>) this would be</p>\n\n<pre><code>  import 'rxjs/add/operator/first';\n  ...\n\n  constructor(private router:Router, private routeSerializer:RouterUrlSerializer, private location:Location) {\n    router.changes.first().subscribe(() =&gt; {\n\n    let urlTree = this.routeSerializer.parse(location.path());\n      console.log('id', urlTree.children(urlTree.children(urlTree.root)[0])[0].segment);\n    });\n  }\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/37218706/angular-2-rc1-get-parameters-from-the-initial-url-used/37230716#37230716\">Angular 2 RC1: Get parameters from the initial URL used</a></p>\n"}, {"comments": [{"owner": {"reputation": 9818, "user_id": 272539, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/451c927ee96675fa05751927524d9b45?s=128&d=identicon&r=PG", "display_name": "Amsakanna", "link": "https://stackoverflow.com/users/272539/amsakanna"}, "edited": false, "score": 2, "creation_date": 1496945764, "post_id": 40449041, "comment_id": 75883375, "body": "Filter the events before subscription -------&gt;     this.router.events.filter(event =&gt; event instanceof NavigationEnd).subscribe(event =&gt; console.log(event.url));"}, {"owner": {"reputation": 141, "user_id": 401532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1f792e2a674eee41d5bcd1b557c87a?s=128&d=identicon&r=PG", "display_name": "Dan Overlander", "link": "https://stackoverflow.com/users/401532/dan-overlander"}, "edited": false, "score": 0, "creation_date": 1561035472, "post_id": 40449041, "comment_id": 99938497, "body": "This did work for me, but it seems so clunky; I had to dot into the curUrlTree a good bit, and then the parameters are not named and had to be referenced by index.  The answer provided by Misi, below, seems to work well and references the params by name. (giving a point to both)"}], "tags": [], "owner": {"reputation": 349, "user_id": 1509865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa805e9e262254ab785274b054ab2480?s=128&d=identicon&r=PG", "display_name": "Oleg Hein", "link": "https://stackoverflow.com/users/1509865/oleg-hein"}, "is_accepted": false, "score": 15, "last_activity_date": 1478509826, "last_edit_date": 1478509826, "creation_date": 1478433280, "answer_id": 40449041, "question_id": 37144999, "link": "https://stackoverflow.com/questions/37144999/angular2-get-router-params-outside-of-router-outlet/40449041#40449041", "title": "Angular2 Get router params outside of router-outlet", "body": "<h1>Get the active route from outside a component in angular 2.1.0 and Router 3.1.0</h1>\n\n<p>I found a nice way to get all params, queryParmas, segments and fragments from the displayed route from anywhere inside your App. Just add this Code to any Component where you need it, or create a Service that can be injected throughout your App.</p>\n\n<pre><code>import { Router, NavigationEnd } from \"@angular/router\";\nimport { Component, OnInit } from '@angular/core';\n\n...\n\nexport class MyComponentOrService implements OnInit {\n\nconstructor(private router: Router) {}\n\nngOnInit() {\n\n  /* this subscription will fire always when the url changes */\n  this.router.events.subscribe(val=&gt; {\n\n    /* the router will fire multiple events */\n    /* we only want to react if it's the final active route */\n    if (val instanceof NavigationEnd) {\n\n     /* the variable curUrlTree holds all params, queryParams, segments and fragments from the current (active) route */\n     let curUrlTree = this.router.parseUrl(this.router.url);\n     console.info(curUrlTree);\n    }\n  });\n}\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8049, "user_id": 4314588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S0l6u.jpg?s=128&g=1", "display_name": "schankam", "link": "https://stackoverflow.com/users/4314588/schankam"}, "is_accepted": false, "score": 0, "last_activity_date": 1508989498, "creation_date": 1508989498, "answer_id": 46945525, "question_id": 37144999, "link": "https://stackoverflow.com/questions/37144999/angular2-get-router-params-outside-of-router-outlet/46945525#46945525", "title": "Angular2 Get router params outside of router-outlet", "body": "<p>Because of the solutions found in this post weren't able to solve my problem, I've just added an other solution that could currently fix or help you to deal with this kind of issue on an other post with a similar question: <a href=\"https://stackoverflow.com/questions/39836600/angular-2-how-do-i-get-params-of-a-route-from-outside-of-a-router-outlet/46945472#46945472\">Angular 2: How do I get params of a route from outside of a router-outlet</a></p>\n"}, {"tags": [], "owner": {"reputation": 718, "user_id": 1158647, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/db6739fb7625c2111641a7919ac931b8?s=128&d=identicon&r=PG", "display_name": "Misi", "link": "https://stackoverflow.com/users/1158647/misi"}, "is_accepted": false, "score": 3, "last_activity_date": 1555516361, "creation_date": 1555516361, "answer_id": 55731591, "question_id": 37144999, "link": "https://stackoverflow.com/questions/37144999/angular2-get-router-params-outside-of-router-outlet/55731591#55731591", "title": "Angular2 Get router params outside of router-outlet", "body": "<p>This solution worked for me: <a href=\"https://github.com/angular/angular/issues/21221\" rel=\"nofollow noreferrer\">complete example</a>.</p>\n\n<pre><code>constructor(\n  private readonly router: Router,\n  private readonly rootRoute: ActivatedRoute,\n){\n  router.events.pipe(\n    filter(e =&gt; e instanceof NavigationEnd),\n    map(e =&gt; this.getParams(this.rootRoute))\n  ).subscribe(params =&gt; {\n   //\n  });\n}\n\nprivate getParams(route: ActivatedRoute): Params {\n  // route param names (eg /a/:personId) must be ditinct within\n  // a route otherwise they'll be overwritten\n  let params = route.snapshot.params\n  params = { ...route.snapshot.queryParams, ...params}\n  if(route.children){\n    for(let r of route.children){\n      params = {...this.getParams(r), ...params};        \n    }\n  }\n  return params;\n}\n</code></pre>\n\n<p>Credits to <a href=\"https://github.com/Toxicable\" rel=\"nofollow noreferrer\">Toxicable</a>.</p>\n"}], "owner": {"reputation": 5326, "user_id": 405781, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/975ea1dff76ab929ad248ca62f30d216?s=128&d=identicon&r=PG&f=1", "display_name": "Briquette", "link": "https://stackoverflow.com/users/405781/briquette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9055, "favorite_count": 2, "accepted_answer_id": 37230758, "answer_count": 5, "score": 10, "last_activity_date": 1555516361, "creation_date": 1462900603, "last_edit_date": 1463209010, "question_id": 37144999, "link": "https://stackoverflow.com/questions/37144999/angular2-get-router-params-outside-of-router-outlet", "title": "Angular2 Get router params outside of router-outlet", "body": "<p>I have a dashboard application which consists of a treeview component (which lists various content nodes) and a dashboard-edit component which renders some editable content depending on which branch of the tree is selected.</p>\n\n<p>e.g. The tree is like this:</p>\n\n<pre><code>- Football\n- - Premier League\n- - - Arsenal\n- - - Chelsea\n- - - ...etc\n- - Championship\n- - - Derby\n- - - ...etc\n</code></pre>\n\n<p>You click 'Arsenal' in the tree and it renders some content for that team in an editable panel on the page.</p>\n\n<p>The component which renders the sub-components is like this:</p>\n\n<pre><code>@Component({\n    selector: 'my-dashboard',\n    template: `\n        &lt;div class=\"tree-panel-container\"&gt;\n            &lt;div class=\"tree-panel-content\"&gt;\n                &lt;content-tree [startNodeId]=\"startNodeIdContent\"&gt;&lt;/content-tree&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    `,\n    directives: [\n        ContentTreeComponent, \n        ContentDashboardComponent, \n        RouterOutlet\n    ],\n    providers: [\n        HTTP_PROVIDERS\n    ]\n})\n</code></pre>\n\n<p>The editable content is rendered in a <code>router-outlet</code> so that each editable piece of content has its own distinct URL e.g. <code>example.com/content/edit/123</code> where <code>123</code> is the id of the Arsenal content, for example.</p>\n\n<p>This all works fine.</p>\n\n<p>However, what I want to do is be able to access the <code>id</code> route parameter in the <code>content-tree</code> component.  Currently, I'm pretty sure the code I have in that component <em>should</em> work:</p>\n\n<pre><code>import {Component, Input, OnInit}   from '@angular/core';\nimport {Router, RouteParams}        from '@angular/router-deprecated';\n\nimport {ContentNode}                from './content-node';\nimport {ContentService}             from '../services/content.service';\n\n\n@Component({\n    selector: 'content-tree',\n    directives: [ContentTreeComponent],\n    template: `\n        &lt;ol class=\"tree\"&gt;\n            &lt;li *ngFor=\"let contentNode of contentNodes\" class=\"tree__branch\" [ngClass]=\"{'tree__branch--has-children': contentNode.HasChildren}\"&gt;\n                &lt;a *ngIf=\"contentNode.HasChildren\" (click)=\"contentNode.toggle=!contentNode.toggle\" class=\"tree__branch__toggle\"&gt;\n                    {{ !!contentNode.toggle ? '-' : '+' }}\n                &lt;/a&gt; \n                &lt;a class=\"tree__branch__link\" (click)=\"onSelect(contentNode)\"&gt;{{ contentNode.Name }}&lt;/a&gt;\n                &lt;content-tree *ngIf=\"contentNode.toggle\" [startNodeId]=\"contentNode.Id\"&gt;&lt;/content-tree&gt;\n            &lt;/li&gt;\n        &lt;/ol&gt;\n        &lt;div class=\"error\" *ngIf=\"errorMessage\"&gt;{{errorMessage}}&lt;/div&gt;\n    `\n})\nexport class ContentTreeComponent implements OnInit {\n\n    constructor(\n        private _contentService: ContentService,\n        private _router: Router,\n        private _routeParams: RouteParams\n    ) { }\n\n    errorMessage: string;\n\n    @Input('startNodeId')\n    private _startNodeId: number;\n\n    contentNodes: ContentNode[];\n\n    ngOnInit() { \n        let nodeId = +this._routeParams.get('id');\n        console.log('nodeId = ' + nodeId);\n        this.getContentNodes();\n    }\n\n    onSelect(contentNode: ContentNode) {\n        this._router.navigate( ['ContentEdit', { id: contentNode.Id }]  );\n    }\n\n    getContentNodes() {\n        this._contentService.getContentNodes(this._startNodeId)\n            .subscribe(\n                contentNodes =&gt; this.contentNodes = contentNodes,\n                error =&gt;  this.errorMessage = &lt;any&gt;error\n            );\n    }\n}\n</code></pre>\n\n<p>But the <code>nodeId</code> variable in the <code>ngOnInit</code> method is always returned as <code>0</code>.</p>\n\n<p><strong>Questions:</strong> \nIs it only possible to access route params in a component rendered by a router-outlet?  If so, then is the best method to deal with this to create a second (named, because there will now be 2) router-outlet?  If not, then what am I doing wrong?</p>\n\n<p>Many thanks.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>A working (and very ugly ;)) Plnkr has now been generated to show the basics of the app: <a href=\"http://plnkr.co/edit/W3PVk3Ss5Wq59IbnLjaK?p=preview\" rel=\"noreferrer\">http://plnkr.co/edit/W3PVk3Ss5Wq59IbnLjaK?p=preview</a>.  See comments for what is supposed to happen...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462901097, "post_id": 37144942, "comment_id": 61828337, "body": "Interesting. In the past I&#39;ve constructed an interface to represent the class data and had the class extend that, but I&#39;m guessing that won&#39;t be good enough here?"}, {"owner": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462904089, "post_id": 37144942, "comment_id": 61830091, "body": "@Paarth I have done that in other places as well.  For this case though I can&#39;t use that method due to how other developers are putting together the classes and a couple of other related constraints."}], "answers": [{"comments": [{"owner": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "edited": false, "score": 0, "creation_date": 1462904466, "post_id": 37145382, "comment_id": 61830319, "body": "That solution is awesome.  It does exactly what I want but I never thought of flipping the order of extends like like so the initial data is actually the &quot;parent&quot; of sorts.  Works great.  I am going to use your second form.  Thanks."}, {"owner": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "edited": false, "score": 0, "creation_date": 1462905328, "post_id": 37145382, "comment_id": 61830807, "body": "After looking closer, I will still use the second but it does have an issue that it doesn&#39;t ensure that T is a type that extends Base.  (note: The first option above doesn&#39;t actually work because it only ever has initialData setup with the properties from Base)"}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "reply_to_user": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "edited": false, "score": 0, "creation_date": 1462905640, "post_id": 37145382, "comment_id": 61830973, "body": "If you want to enforce that anything passed into this function has to extend from Base that&#39;s fine, the first one <i>should</i> work. Can you explain what&#39;s messing up?"}, {"owner": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "edited": false, "score": 0, "creation_date": 1462907192, "post_id": 37145382, "comment_id": 61831878, "body": "The first one only allows initialData to contain properties that exist in Base.  Whereas what I want is for it to only allow properties that exist in T which must be extended from Base.  As a test, the &quot;let v1 =..&quot; line in the above code doesn&#39;t work with option 1."}, {"owner": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "edited": false, "score": 0, "creation_date": 1462907435, "post_id": 37145382, "comment_id": 61832039, "body": "I take that back.  Your solution does work.  I must have missed something when putting into my real code base.  I will try again.  Thanks."}], "tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": true, "score": 1, "last_activity_date": 1462902705, "last_edit_date": 1462902705, "creation_date": 1462901839, "answer_id": 37145382, "question_id": 37144942, "link": "https://stackoverflow.com/questions/37144942/how-to-get-interface-type-of-class-properties-for-a-factory-method/37145382#37145382", "title": "How to get interface type of class properties for a factory method", "body": "<p>I think this is a lovely question.</p>\n\n<p>Here's my approach. Remove that interface entirely.</p>\n\n<pre><code>function factory&lt;T extends V, V extends Base&gt;(ctrFunc: IBaseCtr&lt;T&gt;,\n                                 initialData?: V): T\n{\n   let new_obj = new ctrFunc();\n   Object.assign(new_obj, initialData);\n   return new_obj;\n}\n</code></pre>\n\n<p>This sets up a hierarchy, Base is a subset of properties in V, which is itself a subset of properties in T (your final type). v1 is assigned without error. v2's assignment statement causes an error at compile time. </p>\n\n<p>You can actually go ahead and remove the <code>extends Base</code> portion to make this function applicable in more places. It will still typecheck the same way. </p>\n\n<p>For giggles, a completely independent factory function signature that type checks correctly:</p>\n\n<pre><code>function factory&lt;T extends V, V&gt;(ctrFunc: new () =&gt; T,\n                                 initialData?: V): T\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462902060, "post_id": 37145437, "comment_id": 61828852, "body": "This is how I&#39;ve often done it as well, but it doesn&#39;t work for a generic factory function which seems to be Allen&#39;s goal"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462902178, "post_id": 37145437, "comment_id": 61828919, "body": "@Paarth I added a link to the code in playground where it&#39;s clear that this is working well, unless I&#39;m missing something."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462902836, "post_id": 37145437, "comment_id": 61829294, "body": "I suppose it depends on his intention. My interpretation of the problem was that the classes presented were purely for background and not necessarily the desired hierarchy. If I&#39;m understanding your solution correctly, this will work for the hierarchy you&#39;ve got defined but you&#39;d have to set it up all over again for other classes."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462902144, "last_edit_date": 1462902144, "creation_date": 1462902002, "answer_id": 37145437, "question_id": 37144942, "link": "https://stackoverflow.com/questions/37144942/how-to-get-interface-type-of-class-properties-for-a-factory-method/37145437#37145437", "title": "How to get interface type of class properties for a factory method", "body": "<p>I did things a bit differently than you did, but first the code:</p>\n\n<pre><code>interface BaseProperties {\n    myId: number;\n}\n\nclass Base&lt;T extends BaseProperties&gt; {\n    protected myId: number;\n\n    init(props: T): void {\n        this.myId = props.myId;\n    }\n}\n\ninterface Klass1Properties extends BaseProperties {\n    myString: string;\n    myNumber: number\n}\n\nclass Klass1 extends Base&lt;Klass1Properties&gt; {\n    private myString: string;\n    private myNumber: number;\n\n    init(props: Klass1Properties): void {\n        super.init(props);\n\n        this.myString = props.myString;\n        this.myNumber = props.myNumber;\n    }\n}\n\ninterface IBaseCtr&lt;T&gt; {\n    new (): T;\n}\n\nfunction factory&lt;P extends BaseProperties, T extends Base&lt;P&gt;&gt;(ctrFunc: IBaseCtr&lt;T&gt;, initialData?: P): T {\n    let new_obj = new ctrFunc();\n    new_obj.init(initialData);\n    return new_obj;\n}\n\n\nlet v1 = factory(Klass1, {myId: 10, myString: 'foo'});\n\nlet v2 = factory(Klass1, {badVar: 10});\n</code></pre>\n\n<p>This matches your request, as the the 2nd call to <code>factory</code> results in an compilation error.</p>\n\n<p>I changed the class members to be private/protected and instead of using <code>Object.assign</code> I use an <code>init</code> method to assign the values.<br>\nWhy? because it's the object oriented thing to do.  This way you can use the hierarchy of the classes when assigning the values using <code>super.init</code> (or not calling it if you decide not to in a specific situation).<br>\nBasically you have more control this way.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20BaseProperties%20%7B%0A%09myId%3A%20number%3B%0A%7D%0A%0Aclass%20Base%3CT%20extends%20BaseProperties%3E%20%7B%0A%09protected%20myId%3A%20number%3B%0A%09%0A%20%20%20init(props%3A%20T)%3A%20void%20%7B%0A%09%20%20%20this.myId%20%3D%20props.myId%3B%0A%20%20%20%7D%0A%7D%0A%0Ainterface%20Klass1Properties%20extends%20BaseProperties%20%7B%0A%09myString%3A%20string%3B%0A%20%20%20%09myNumber%3A%20number%0A%7D%0A%0Aclass%20Klass1%20extends%20Base%3CKlass1Properties%3E%20%7B%0A%20%20%20private%20myString%3A%20string%3B%0A%20%20%20private%20myNumber%3A%20number%3B%0A%20%20%20%0A%20%20%20init(props%3A%20Klass1Properties)%3A%20void%20%7B%0A%09%20%20%20super.init(props)%3B%0A%09%20%20%20%0A%09%20%20%20this.myString%20%3D%20props.myString%3B%0A%09%20%20%20this.myNumber%20%3D%20props.myNumber%3B%0A%20%20%20%7D%0A%7D%0A%0Ainterface%20IBaseCtr%3CT%3E%20%7B%0A%20%20%20new%20()%3A%20T%3B%0A%7D%0A%0Afunction%20factory%3CP%20extends%20BaseProperties%2C%20T%20extends%20Base%3CP%3E%3E(ctrFunc%3A%20IBaseCtr%3CT%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initialData%3F%3A%20P)%3A%20T%20%7B%0A%20%20let%20new_obj%20%3D%20new%20ctrFunc()%3B%0A%20%20new_obj.init(initialData)%3B%0A%20%20%20return%20new_obj%3B%0A%7D%0A%0A%0Alet%20v1%20%3D%20factory(Klass1%2C%20%7BmyId%3A%2010%2C%20myString%3A%20&#39;foo&#39;%7D)%3B%0A%0Alet%20v2%20%3D%20factory(Klass1%2C%20%7BbadVar%3A%2010%7D)%3B\" rel=\"nofollow\">The code in playground</a></p>\n"}], "owner": {"reputation": 2738, "user_id": 205103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36f22c1261726d0b500cb15e925c3b6d?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/205103/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1515, "favorite_count": 1, "accepted_answer_id": 37145382, "answer_count": 2, "score": 2, "last_activity_date": 1462902705, "creation_date": 1462900415, "question_id": 37144942, "link": "https://stackoverflow.com/questions/37144942/how-to-get-interface-type-of-class-properties-for-a-factory-method", "title": "How to get interface type of class properties for a factory method", "body": "<p>I have a factory method in some of my code where I want to pass in not only a Class type to instantiate, but a set of default values for the properties in the class.  I would like to get the typing such that the compiler will tell me if I try to pass in properties that do not exist in the class type being instantiated.  I can't figure out how to do this though.</p>\n\n<p>Here is a simple example showing what I would like to do.</p>\n\n<p>When I try it, I get a compiler error of: \"An interface may only extend a class or another interface.\" for the interface <code>ClassProps</code> because it can't extend from <code>T</code>.</p>\n\n<pre><code>class Base {\n   myId: number;\n}\n\nclass Klass1 extends Base {\n   myString: string;\n   myNumber: number;\n}\n\ninterface IBaseCtr&lt;T&gt; {\n   new (): T;\n}\n\n// Get an interface that is the properties of the class passed\ninterface ClassProps&lt;T extends Base&gt; extends T {}\n\n// This method compiles, but doesn't check the prop names\n//function factory&lt;T extends Base&gt;(ctrFunc: IBaseCtr&lt;T&gt;,\n//                                 initialData?: Object): T\n\nfunction factory&lt;T extends Base&gt;(ctrFunc: IBaseCtr&lt;T&gt;,\n                                 initialData?: ClassProps&lt;T&gt;): T\n{\n   let new_obj = new ctrFunc();\n   Object.assign(new_obj, initialData);\n   return new_obj;\n}\n\n\nlet v1 = factory(Klass1, {myId: 10, myString: 'foo'});\n\nlet v2 = factory(Klass1, {badVar: 10});\n</code></pre>\n\n<p>Any ideas how to get <code>initialData</code> typed so it will flag <code>badVar</code> as not being allowed in this second call?</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462899646, "post_id": 37144689, "comment_id": 61827527, "body": "Does the error go away if you remove the <code>elm:ElementRef</code> constructor parameter?"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462899794, "post_id": 37144689, "comment_id": 61827628, "body": "woa! yes it does. HOW? I&#39;ve used <code>ElementRef</code> before, never this happened."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462899852, "post_id": 37144689, "comment_id": 61827664, "body": "I guess there isn&#39;t much you can do wrong with the <code>ElementRef</code> import. I guess there is something wrong with your configuration. The error indicates a problem with DI resolving or passing a dependency (don&#39;t know exactly but the error was always related to DI)"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462900137, "post_id": 37144689, "comment_id": 61827785, "body": "Is there any specific provider setup before using <code>ElementRef</code>?"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462900277, "post_id": 37144689, "comment_id": 61827874, "body": "Ok then why would the DI not work in this case? seems a rather straight forward, done it before, solution."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462900600, "post_id": 37144689, "comment_id": 61828079, "body": "This is why I think it&#39;s an issue with the configuration but I can&#39;t help you here. I&#39;m not using TS (only Dart)"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462900747, "post_id": 37144689, "comment_id": 61828161, "body": "<a href=\"https://plnkr.co/edit/tyn4dgRm2VThmAOttK49?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/tyn4dgRm2VThmAOttK49?p=preview</a>"}, {"owner": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 0, "creation_date": 1463753685, "post_id": 37144689, "comment_id": 62214140, "body": "Possibly the same issue as this? <a href=\"http://stackoverflow.com/questions/37105614/how-to-fix-angular-2-uncaught-in-promise-typeerror-cannot-read-property-qu\" title=\"how to fix angular 2 uncaught in promise typeerror cannot read property qu\">stackoverflow.com/questions/37105614/&hellip;</a> I&#39;m still struggling to find a fix, none of the answers so far here and in the other post have worked."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 0, "creation_date": 1463767699, "post_id": 37144689, "comment_id": 62221841, "body": "@Harry it&#39;s the same issue. It was fixed after changing CommonJS to SystemJS on <code>module</code> element in <code>tsconfig.json</code>."}, {"owner": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 0, "creation_date": 1463994650, "post_id": 37144689, "comment_id": 62283614, "body": "@Hani thanks, unfortunately that change still hasn&#39;t fixed things for me. I&#39;ll keep looking."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 0, "creation_date": 1464019664, "post_id": 37144689, "comment_id": 62300116, "body": "@Harry welcome to beta programming! I would&#39;ve still used knockout if it was my choice since ASP.NET takes care of most things for me. All really needed was organizing client-side code and behaviors."}, {"owner": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 0, "creation_date": 1464033098, "post_id": 37144689, "comment_id": 62307262, "body": "@Hani :P what&#39;s very annoying actually is that this is supposed to be a &quot;Release Candidate&quot; and as far as I can tell more things are broken than the last beta, and they switched in a new, undocumented, and untested router that everyone is struggling with. I don&#39;t have a problem with using a beta, just don&#39;t pretend it&#39;s an RC!"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 1, "creation_date": 1464039115, "post_id": 37144689, "comment_id": 62310423, "body": "@Harry I think i mentioned somewhere in SO that i fell back to beta.15 for now. Bundling is an issue as well, couldn&#39;t figure out all the RC1 files, with that <code>index</code> added to the mix, and how to bundle them."}, {"owner": {"reputation": 2866, "user_id": 1108828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pvGBk.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1108828/harry"}, "edited": false, "score": 0, "creation_date": 1464041336, "post_id": 37144689, "comment_id": 62311285, "body": "@Hani I&#39;m back on beta.17 with few issues. I&#39;d recommend JSPM for bundling (RC or beta), I&#39;ve found it a lot more straightforward to use than Webpack."}], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1463248321, "post_id": 37228153, "comment_id": 61989775, "body": "In Visual Studio, your solution won&#39;t build. If you don&#39;t have that configuration TSC will complain about it."}], "tags": [], "owner": {"reputation": 1373, "user_id": 1970939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4be823d9c37caf4c3306675a9667a860?s=128&d=identicon&r=PG", "display_name": "nut", "link": "https://stackoverflow.com/users/1970939/nut"}, "is_accepted": false, "score": 3, "last_activity_date": 1463237794, "creation_date": 1463237794, "answer_id": 37228153, "question_id": 37144689, "link": "https://stackoverflow.com/questions/37144689/weird-cant-access-query-of-null-error/37228153#37228153", "title": "Weird can&#39;t access &#39;query&#39; of null error", "body": "<p>In my case, I solved this issue by setting typescript option <code>--emitDecoratorMetadata</code>, hope it will help some people.</p>\n"}, {"comments": [{"owner": {"reputation": 756, "user_id": 1256902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59671d4912e2a814e43a57f259153c14?s=128&d=identicon&r=PG", "display_name": "Sushruth", "link": "https://stackoverflow.com/users/1256902/sushruth"}, "edited": false, "score": 0, "creation_date": 1463521790, "post_id": 37242918, "comment_id": 62098620, "body": "I&#39;m just a beginner here, so when you say &quot;original module setup&quot;, where was that set up ?"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 756, "user_id": 1256902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59671d4912e2a814e43a57f259153c14?s=128&d=identicon&r=PG", "display_name": "Sushruth", "link": "https://stackoverflow.com/users/1256902/sushruth"}, "edited": false, "score": 1, "creation_date": 1463548707, "post_id": 37242918, "comment_id": 62105898, "body": "I was referring to Angular2 setup. If you&#39;ve seen their tutorials, they setup SystemJS scripts to run in browser. Issue here was that typescript was transpiling CommonJS. I never figured out why the error was happening, specially since SystemJS does pollyfill for CommonJS."}], "tags": [], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "is_accepted": true, "score": 2, "last_activity_date": 1464810728, "last_edit_date": 1464810728, "creation_date": 1463341438, "answer_id": 37242918, "question_id": 37144689, "link": "https://stackoverflow.com/questions/37144689/weird-cant-access-query-of-null-error/37242918#37242918", "title": "Weird can&#39;t access &#39;query&#39; of null error", "body": "<p>Make sure your typescript configuration matches your module configuration (aka modules 101). Issue was that original module setup was done as <code>SystemJS</code> but <code>module</code>option was set to 'commonjs' in <code>tsconfig.json</code>. No wonder it was too crazy to be true, although 'SystemJS' supposed to pollyfill for 'commonjs' and it had, there was still this crazy error.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Change your <code>tsconfig.json</code> file to look like this:</p>\n\n<pre><code>//if planning to build a release bundle, remember to use the following on top of every .ts file if using this configuration.\n//use /// &lt;amd-module name=\"your .ts file path from site root\" /&gt; for a named system.register (module: \"system\") or define (module: \"amd\")\n{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"module\": \"amd\",\n    \"moduleResolution\": \"node\",\n    \"removeComments\": true,\n    \"noImplicitAny\": false,\n    \"sourceMap\": true,\n    \"target\": \"es3\" //or es5, es6 if you can\n  }\n}\n</code></pre>\n\n<p>Additionally, you might also want to exclude <code>node_modules</code> and <code>typings</code>, I didn't need to:</p>\n\n<pre><code>...\nexclude: [\"node_modules\", \"typings\"]\n...\n</code></pre>\n\n<p>A trick here was not to use <code>commonjs</code> as the value <code>module</code>, so you can use <code>amd</code> or <code>system</code>. In my case, due to release build process with <code>systemjs-builder</code>, I chose <code>amd</code> in order not to include any module loaders.</p>\n\n<p>Following is <code>systemjs</code> configuration which I used for DEV environment only:</p>\n\n<pre><code>System.config({\n    defaultJSExtensions: true,\n    baseURL: '/',\n    map: {\n        '@angular/common': 'node_modules/@angular/common/index',\n        '@angular/core': 'node_modules/@angular/core/index',\n        '@angular/compiler': 'node_modules/@angular/compiler/index',\n        '@angular/http': 'node_modules/@angular/http/index',\n        '@angular/platform-browser': 'node_modules/@angular/platform-browser/index',\n        '@angular/platform-browser-dynamic': 'node_modules/@angular/platform-browser-dynamic/index',\n        '@angular/router': 'node_modules/@angular/router/index',\n        'rxjs': 'node_modules/rxjs'\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1841, "favorite_count": 0, "accepted_answer_id": 37242918, "answer_count": 2, "score": 3, "last_activity_date": 1464810728, "creation_date": 1462899504, "last_edit_date": 1463342053, "question_id": 37144689, "link": "https://stackoverflow.com/questions/37144689/weird-cant-access-query-of-null-error", "title": "Weird can&#39;t access &#39;query&#39; of null error", "body": "<p>What's this error for? Could benefit from a more descriptive error, but this had me lost. It has no reference to anything i've done, and it just happens. The code was working in Angular2 beta.9 but after upgrading to rc1 this is started to happen. No extensions to Angular2 or anything crazy in the solution, just a component:</p>\n\n<p><strong>Component</strong></p>\n\n<pre><code>import {Component, ElementRef} from '@angular/core';\n\n@Component({\n    selector: 'login-form',\n    templateUrl: '/Home/Login.html'  \n})\nexport class Login {        \n    constructor(elm: ElementRef) { } \n}\n</code></pre>\n\n<p>Also all angular files are loaded properly. This is the stack trace of the error:</p>\n\n<pre><code>browser_adapter.ts:78 EXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property 'query' of null\nBrowserDomAdapter.logError \n@ browser_adapter.ts:78 BrowserDomAdapter.logGroup \n@ browser_adapter.ts:89 ExceptionHandler.call \n@ exception_handler.ts:53(anonymous function) \n@ application_ref.ts:304 schedulerFn \n@ async.ts:131 SafeSubscriber.__tryOrUnsub \n@ Subscriber.ts:240 SafeSubscriber.next \n@ Subscriber.ts:192 Subscriber._next \n@ Subscriber.ts:133 Subscriber.next \n@ Subscriber.ts:93 Subject._finalNext \n@ Subject.ts:154 Subject._next \n@ Subject.ts:144Subject.next \n@ Subject.ts:90EventEmitter.emit \n@ async.ts:117NgZone._zoneImpl.ng_zone_impl_1.NgZoneImpl.onError \n@ ng_zone.ts:138NgZoneImpl.inner.inner.fork.onHandleError \n@ ng_zone_impl.ts:90ZoneDelegate.handleError \n@ zone.js:327Zone.runGuarded \n@ zone.js:233_loop_1 \n@ zone.js:487drainMicroTaskQueue \n@ zone.js:494ZoneTask.invoke \n@ zone.js:426 browser_adapter.ts:78STACKTRACE:BrowserDomAdapter.logError \n@ browser_adapter.ts:78ExceptionHandler.call \n@ exception_handler.ts:56(anonymous function) \n@ application_ref.ts:304schedulerFn \n@ async.ts:131SafeSubscriber.__tryOrUnsub \n@ Subscriber.ts:240SafeSubscriber.next\n@ Subscriber.ts:192Subscriber._next \n@ Subscriber.ts:133Subscriber.next \n@ Subscriber.ts:93Subject._finalNext \n@ Subject.ts:154Subject._next \n@ Subject.ts:144Subject.next \n@ Subject.ts:90EventEmitter.emit \n@ async.ts:117NgZone._zoneImpl.ng_zone_impl_1.NgZoneImpl.onError \n@ ng_zone.ts:138NgZoneImpl.inner.inner.fork.onHandleError \n@ ng_zone_impl.ts:90ZoneDelegate.handleError \n@ zone.js:327Zone.runGuarded \n@ zone.js:233_loop_1 \n@ zone.js:487drainMicroTaskQueue \n@ zone.js:494ZoneTask.invoke \n@ zone.js:426\nbrowser_adapter.ts:78Error: Uncaught (in promise): TypeError: Cannot read property 'query' of null\n    at resolvePromise (zone.js:538)\n    at PromiseCompleter.reject (zone.js:515)\n    at eval (application_ref.ts:340)\n    at ZoneDelegate.invoke (zone.js:323)\n    at Object.NgZoneImpl.inner.inner.fork.onInvoke (ng_zone_impl.ts:67)\n    at ZoneDelegate.invoke (zone.js:322)\n    at Zone.run (zone.js:216)\n    at zone.js:571\n    at ZoneDelegate.invokeTask (zone.js:356)\n    at Object.NgZoneImpl.inner.inner.fork.onInvokeTask (ng_zone_impl.ts:56)BrowserDomAdapter.logError \n@ browser_adapter.ts:78ExceptionHandler.call \n@ exception_handler.ts:57(anonymous function) \n@ application_ref.ts:304schedulerFn \n@ async.ts:131SafeSubscriber.__tryOrUnsub \n@ Subscriber.ts:240SafeSubscriber.next \n@ Subscriber.ts:192Subscriber._next \n@ Subscriber.ts:133Subscriber.next \n@ Subscriber.ts:93Subject._finalNext \n@ Subject.ts:154Subject._next \n@ Subject.ts:144Subject.next \n@ Subject.ts:90EventEmitter.emit \n@ async.ts:117NgZone._zoneImpl.ng_zone_impl_1.NgZoneImpl.onError \n@ ng_zone.ts:138NgZoneImpl.inner.inner.fork.onHandleError \n@ ng_zone_impl.ts:90ZoneDelegate.handleError \n@ zone.js:327Zone.runGuarded \n@ zone.js:233_loop_1 \n@ zone.js:487drainMicroTaskQueue \n@ zone.js:494ZoneTask.invoke \n@ zone.js:426\nzone.js:461 Unhandled Promise rejection: Cannot read property 'query' of null ; Zone: angular ; Task: Promise.then ; Value: TypeError: Cannot read property 'query' of null(\u2026)consoleError \n@ zone.js:461_loop_1 \n@ zone.js:490drainMicroTaskQueue \n@ zone.js:494ZoneTask.invoke \n@ zone.js:426\nzone.js:463 Error: Uncaught (in promise): TypeError: Cannot read property 'query' of null(\u2026)\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>This is the configuration:</p>\n\n<pre><code>  &lt;script src=\"/node_modules/es6-shim/es6-shim.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/node_modules/reflect-metadata/Reflect.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/node_modules/zone.js/dist/zone.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/node_modules/systemjs/dist/system.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n            System.config({\n                defaultJSExtensions: true,\n                baseURL: 'lib/src/scripts',\n                map: {\n                    '@angular/common': '../../node_modules/@angular/common/index',\n                    '@angular/core': '../../node_modules/@angular/core/index',\n                    '@angular/compiler': '../../node_modules/@angular/compiler/index',\n                    '@angular/http': '../../node_modules/@angular/http/index',\n                    '@angular/platform-browser': '../../node_modules/@angular/platform-browser/index',\n                    '@angular/platform-browser-dynamic': '../../node_modules/@angular/platform-browser-dynamic/index',\n                    '@angular/router': '../../node_modules/@angular/router/index',\n                    'rxjs': '../../node_modules/rxjs'\n                }\n            });\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["types", "typescript", "guid", "uuid"], "comments": [{"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 3, "creation_date": 1491126068, "post_id": 37144672, "comment_id": 73407809, "body": "The relevant issue is at <a href=\"https://github.com/Microsoft/TypeScript/issues/6579\" rel=\"nofollow noreferrer\">Suggestion: Regex-validated string type</a>."}, {"owner": {"reputation": 3755, "user_id": 183704, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xdlU1.jpg?s=128&g=1", "display_name": "BuZZ-dEE", "link": "https://stackoverflow.com/users/183704/buzz-dee"}, "edited": false, "score": 0, "creation_date": 1522334977, "post_id": 37144672, "comment_id": 86126078, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26501688/a-typescript-guid-class\">A typescript Guid class?</a>"}, {"owner": {"reputation": 10169, "user_id": 2470524, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/30572a95a69e05b8c921c1ac6672cb63?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/2470524/fred"}, "edited": false, "score": 0, "creation_date": 1530107154, "post_id": 37144672, "comment_id": 89118790, "body": "You could use a type alias, but it wouldn&#39;t provide any compile time checks. Just a hint to the developer. <code>type Guid = string;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4298, "user_id": 3914072, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MCDsv.png?s=128&g=1", "display_name": "Rajab Shakirov", "link": "https://stackoverflow.com/users/3914072/rajab-shakirov"}, "edited": false, "score": 4, "creation_date": 1462900437, "post_id": 37144720, "comment_id": 61827974, "body": "but this wrapper moves my problem in other place, because I still can do: const guid = new GUID(&quot;notGuidbutJustString&quot;). Sure I can add some runtime checking in GUID class but I want see error before application starts..."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 4298, "user_id": 3914072, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MCDsv.png?s=128&g=1", "display_name": "Rajab Shakirov", "link": "https://stackoverflow.com/users/3914072/rajab-shakirov"}, "edited": false, "score": 4, "creation_date": 1462900751, "post_id": 37144720, "comment_id": 61828164, "body": "@Rajab there&#39;s no way to ensure a string value based on regex or some other function at compile time. I would recommend written unit tests to catch this problem."}, {"owner": {"reputation": 4298, "user_id": 3914072, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MCDsv.png?s=128&g=1", "display_name": "Rajab Shakirov", "link": "https://stackoverflow.com/users/3914072/rajab-shakirov"}, "edited": false, "score": 0, "creation_date": 1462901180, "post_id": 37144720, "comment_id": 61828383, "body": "It&#39;s a pity. Maybe this will change in the future but anyway your answer is helpful. Thanks!"}, {"owner": {"reputation": 3755, "user_id": 183704, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xdlU1.jpg?s=128&g=1", "display_name": "BuZZ-dEE", "link": "https://stackoverflow.com/users/183704/buzz-dee"}, "edited": false, "score": 0, "creation_date": 1522334172, "post_id": 37144720, "comment_id": 86125442, "body": "I have created a little Typescript <a href=\"https://www.npmjs.com/package/uuid-generator-ts\" rel=\"nofollow noreferrer\">npm package</a> on <a href=\"https://github.com/BuZZ-dEE/uuid-generator-ts/tree/master/src\" rel=\"nofollow noreferrer\">GitHub</a> including unit tests."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 16, "last_activity_date": 1596843159, "last_edit_date": 1596843159, "creation_date": 1462899612, "answer_id": 37144720, "question_id": 37144672, "link": "https://stackoverflow.com/questions/37144672/guid-uuid-type-in-typescript/37144720#37144720", "title": "GUID / UUID type in typescript", "body": "<p>You could create a wrapper around a string and pass that around:</p>\n<pre><code>class GUID {\n    private str: string;\n\n    constructor(str?: string) {\n        this.str = str || GUID.getNewGUIDString();\n    }\n\n    toString() {\n        return this.str;\n    }\n\n    private static getNewGUIDString() {\n        // your favourite guid generation function could go here\n        // ex: http://stackoverflow.com/a/8809472/188246\n        let d = new Date().getTime();\n        if (window.performance &amp;&amp; typeof window.performance.now === &quot;function&quot;) {\n            d += performance.now(); //use high-precision timer if available\n        }\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) =&gt; {\n            let r = (d + Math.random() * 16) % 16 | 0;\n            d = Math.floor(d/16);\n            return (c=='x' ? r : (r &amp; 0x3 | 0x8)).toString(16);\n        });\n    }\n}\n\nfunction getProduct(id: GUID) {    \n    alert(id); // alerts &quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;\n}\n\nconst guid = new GUID(&quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;);\ngetProduct(guid); // ok\ngetProduct(&quot;notGuidbutJustString&quot;); // errors, good\n\nconst guid2 = new GUID();\nconsole.log(guid2.toString()); // some guid string\n</code></pre>\n<p><strong>Update</strong></p>\n<p>Another way of doing this is to use a brand:</p>\n<pre><code>type Guid = string &amp; { _guidBrand: undefined };\n\nfunction makeGuid(text: string): Guid {\n  // todo: add some validation and normalization here\n  return text as Guid;\n}\n\nconst someValue = &quot;someString&quot;;\nconst myGuid = makeGuid(&quot;ef3c1860-5ce6-47af-a13d-1ed72f65b641&quot;);\n\nexpectsGuid(someValue); // error, good\nexpectsGuid(myGuid); // ok, good\n\nfunction expectsGuid(guid: Guid) {\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "is_accepted": false, "score": 2, "last_activity_date": 1599555821, "creation_date": 1599555821, "answer_id": 63790625, "question_id": 37144672, "link": "https://stackoverflow.com/questions/37144672/guid-uuid-type-in-typescript/63790625#63790625", "title": "GUID / UUID type in typescript", "body": "<p>I think one should extend a bit on the answer by David Sherret. <br />\nLike this:</p>\n<pre><code>// export \nclass InvalidUuidError extends Error {\n    constructor(m?: string) {\n        super(m || &quot;Error: invalid UUID !&quot;);\n\n        // Set the prototype explicitly.\n        Object.setPrototypeOf(this, InvalidUuidError.prototype);\n    }\n\n}\n\n\n// export \nclass UUID \n{\n    protected m_str: string;\n\n    constructor(str?: string) {\n        this.m_str = str || UUID.newUuid().toString();\n\n        let reg:RegExp = new RegExp(&quot;[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}&quot;, &quot;i&quot;)\n        if(!reg.test(this.m_str))\n            throw new InvalidUuidError();\n    }\n\n    toString() {\n        return this.m_str;\n    }\n\n    public static newUuid(version?:number) :UUID\n    {\n        version = version || 4;\n\n\n        // your favourite guid generation function could go here\n        // ex: http://stackoverflow.com/a/8809472/188246\n        let d = new Date().getTime();\n        if (window.performance &amp;&amp; typeof window.performance.now === &quot;function&quot;) {\n            d += performance.now(); //use high-precision timer if available\n        }\n        let uuid:string = ('xxxxxxxx-xxxx-' + version.toString().substr(0,1) + 'xxx-yxxx-xxxxxxxxxxxx').replace(/[xy]/g, (c) =&gt; {\n            let r = (d + Math.random() * 16) % 16 | 0;\n            d = Math.floor(d/16);\n            return (c=='x' ? r : (r &amp; 0x3 | 0x8)).toString(16);\n        });\n\n        return new UUID(uuid);\n    }\n}\n\n\nfunction getProduct(id: UUID) {    \n    alert(id); // alerts &quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;\n}\n\n\nconst guid2 = new UUID();\nconsole.log(guid2.toString()); // some guid string\n\n\nconst guid = new UUID(&quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;);\ngetProduct(guid); // ok\ngetProduct(&quot;notGuidbutJustString&quot;); // errors, good\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92, "user_id": 4863758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09b6eef6033211dc8964daa31e688ee?s=128&d=identicon&r=PG&f=1", "display_name": "Krispies", "link": "https://stackoverflow.com/users/4863758/krispies"}, "edited": false, "score": 0, "creation_date": 1611676921, "post_id": 65765788, "comment_id": 116524824, "body": "I am curious on how often you are writing out full UUIDs that this would be needed, this would only validate at compile time right? Sorry, I am just not seeing the use case."}, {"owner": {"reputation": 227, "user_id": 4061681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sOvgt.png?s=128&g=1", "display_name": "aahoogendoorn", "link": "https://stackoverflow.com/users/4061681/aahoogendoorn"}, "reply_to_user": {"reputation": 92, "user_id": 4863758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09b6eef6033211dc8964daa31e688ee?s=128&d=identicon&r=PG&f=1", "display_name": "Krispies", "link": "https://stackoverflow.com/users/4863758/krispies"}, "edited": false, "score": 1, "creation_date": 1611778274, "post_id": 65765788, "comment_id": 116563219, "body": "We don&#39;t write out UUIDs, but sometimes want to be able to recognize them, for instance when one of our microservices talks to a database with unstructured data, or to other services."}], "tags": [], "owner": {"reputation": 227, "user_id": 4061681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sOvgt.png?s=128&g=1", "display_name": "aahoogendoorn", "link": "https://stackoverflow.com/users/4061681/aahoogendoorn"}, "is_accepted": false, "score": 1, "last_activity_date": 1610916554, "creation_date": 1610916554, "answer_id": 65765788, "question_id": 37144672, "link": "https://stackoverflow.com/questions/37144672/guid-uuid-type-in-typescript/65765788#65765788", "title": "GUID / UUID type in typescript", "body": "<p>It would be nice to be able to define types in TypeScript based on a regular expression. I know there are string literal types since TypeScript 4.1 but I would really like to be able to define a type <code>UUID</code> for instance using a regular expression like below.</p>\n<pre><code>export type UUID = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i; \n</code></pre>\n<p>Is this foreseeable?</p>\n"}], "owner": {"reputation": 4298, "user_id": 3914072, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MCDsv.png?s=128&g=1", "display_name": "Rajab Shakirov", "link": "https://stackoverflow.com/users/3914072/rajab-shakirov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33815, "favorite_count": 2, "accepted_answer_id": 37144720, "answer_count": 3, "score": 17, "last_activity_date": 1610916554, "creation_date": 1462899427, "last_edit_date": 1462974896, "question_id": 37144672, "link": "https://stackoverflow.com/questions/37144672/guid-uuid-type-in-typescript", "title": "GUID / UUID type in typescript", "body": "<p>I have this function:</p>\n\n<pre><code>function getProduct(id: string){    \n    //return some product \n}\n</code></pre>\n\n<p>where id is actually GUID. Typescript doesn't have guid type. Is it possible create type <code>GUID</code> manually?</p>\n\n<pre><code>function getProduct(id: GUID){    \n    //return some product \n}\n</code></pre>\n\n<p>so if instead <code>'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</code> will be some <code>'notGuidbutJustString'</code> then I will see typescript compilation error.</p>\n\n<p><strong>Update:</strong> as David Sherret said: there is no way to ensure a string value based on regex or some other function at compile time but it is possible do all the checks in one place at run time.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462894805, "post_id": 37143148, "comment_id": 61824593, "body": "Can you please try to add <code>console.log(_legislatorService)</code> to the constructor and post what it prints? You don&#39;t need to do anything but injecting using the constructor. There is something else wrong. Did you add <code>LegislatorService</code> anywhere to <code>providers</code>?"}, {"owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 0, "creation_date": 1462894961, "post_id": 37143148, "comment_id": 61824703, "body": "The <code>LegislatorService</code>, if written by you, needs the <code>@Injectable</code> decorator and should be added to the providers of your component or the providers array in your bootstrap call."}, {"owner": {"reputation": 195, "user_id": 3984103, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/32ea8387e969ce2a56362ca51fd5a53a?s=128&d=identicon&r=PG&f=1", "display_name": "dave", "link": "https://stackoverflow.com/users/3984103/dave"}, "edited": false, "score": 0, "creation_date": 1462895127, "post_id": 37143148, "comment_id": 61824834, "body": "It does have the @Injectable decorator.  It works fine if I call it in the &quot;ngOnInit()&quot;  The issue occurred when I moved it into the geoSuccess() method"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 3984103, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/32ea8387e969ce2a56362ca51fd5a53a?s=128&d=identicon&r=PG&f=1", "display_name": "dave", "link": "https://stackoverflow.com/users/3984103/dave"}, "edited": false, "score": 1, "creation_date": 1462895663, "post_id": 37143334, "comment_id": 61825205, "body": "Exactly like magic.  This did the trick, and thanks for the very informative response!"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1462895229, "creation_date": 1462895229, "answer_id": 37143334, "question_id": 37143148, "link": "https://stackoverflow.com/questions/37143148/using-a-service-in-a-method/37143334#37143334", "title": "using a service in a method", "body": "<p>Your code loses the <code>this.</code> scope with this line</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition(this.geoSuccess, this.geoError);\n</code></pre>\n\n<p>if you change it to</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition((pos) =&gt; this.geoSuccess(pos), this.geoError);\n</code></pre>\n\n<p>it should work.</p>\n\n<p>The magic is the <code>=&gt;</code> which ensures that when <code>geoSuccess()</code> gets called from within <code>getCurrentPosition()</code> <code>this</code> will still point to the current instance of <code>LocalLegislatorsComponent</code> while otherwise it will point to the <code>getCurrentPosition()</code> function or whereever <code>geoSuccess</code> is being called from.</p>\n\n<p>See also <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a></p>\n\n<p>Another way of working around would be</p>\n\n<pre><code>    navigator.geolocation.getCurrentPosition(this.geoSuccess.bind(this), this.geoError);\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 3984103, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/32ea8387e969ce2a56362ca51fd5a53a?s=128&d=identicon&r=PG&f=1", "display_name": "dave", "link": "https://stackoverflow.com/users/3984103/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 37143334, "answer_count": 1, "score": 0, "last_activity_date": 1462901253, "creation_date": 1462894705, "last_edit_date": 1462901253, "question_id": 37143148, "link": "https://stackoverflow.com/questions/37143148/using-a-service-in-a-method", "title": "using a service in a method", "body": "<p>I'm trying to retrieve the user's geolocation and then use it in a separate api call.  When I do the following I get this error.  The service is 'getLegislatorByLocation' and it's in the geoSuccess method.</p>\n\n<blockquote>\n  <p>EXCEPTION: TypeError: Cannot read property 'getLegislatorByLocation' of undefined</p>\n</blockquote>\n\n<pre><code>export class LocalLegislatorsComponent implements OnInit {\n\n    constructor(private _legislatorService: LegislatorService) {\n\n    }\n\n    ngOnInit(): void {       \n        this.geoFindUser();                     \n    }\n\n\n\n    geoFindUser(): void {\n\n        if (!navigator.geolocation) {\n            this.geoSupport = false;\n            return;\n        }\n\n        navigator.geolocation.getCurrentPosition(this.geoSuccess, this.geoError);\n    }\n\n    geoSuccess(position): void {\n        this.geoSupport = true;\n        this.latitude = position.coords.latitude;\n        this.longitude = position.coords.longitude;\n\n        this._legislatorService.getLegislatorByLocation(this.latitude, this.longitude)\n            .subscribe(legislators =&gt; this.legislators = legislators, error =&gt; this.errorMessage = &lt;any&gt;error); \n    }\n\n    geoError(): void {\n        console.log('Unable to retrieve location');\n        this.geoSupport = false;\n    }\n}\n</code></pre>\n\n<p>Do I somehow need to inject the service into the method?</p>\n"}, {"tags": ["node.js", "typescript", "angular", "systemjs"], "comments": [{"owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "edited": false, "score": 0, "creation_date": 1462895998, "post_id": 37143054, "comment_id": 61825442, "body": "have you added any base path in your main HTMl file? like  &lt;base href=&quot;foo/&quot; /&gt;, are you using any build tool like Gulp\\Grunt to publish files?"}, {"owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "reply_to_user": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "edited": false, "score": 0, "creation_date": 1462896075, "post_id": 37143054, "comment_id": 61825481, "body": "I&#39;m simply using Visual Studio 2015 to publish right now. I have not added any base paths other than what is shown in my code above."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 0, "creation_date": 1462899871, "post_id": 37143730, "comment_id": 61827680, "body": "I&#39;m not completely clear on how this works. I used the baseurl &#39;/foo&#39; .. what do you mean by &lt;angular import&gt; . Can you give me an example of using this?   This still doesnt answer to me why it works fine locally but not on the server. Why do I need to add the map on the server?"}, {"owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "reply_to_user": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 0, "creation_date": 1462900439, "post_id": 37143730, "comment_id": 61827976, "body": "you have to provide the baseurl from where your content will be renderd all the paths will be relatie to that. hence if you add baseUrl it will mimic your server configuratio, otherwise you have to map the angular source file path using map configuration, does that answers your quetion? where you able to resolve using baseUrl?"}, {"owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 0, "creation_date": 1462901294, "post_id": 37143730, "comment_id": 61828439, "body": "Adding the baseURL helped with System.import piece. I&#39;m just unclear on exactly why in my local environment I don&#39;t need these mappings but on the server I do. I&#39;m not really familiar with deploying websites to a server in general."}, {"owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "reply_to_user": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 0, "creation_date": 1462904467, "post_id": 37143730, "comment_id": 61830320, "body": "when you publish from VS studio it dumps to a folder and the files are served relative to that, so you get localhost/..path and when you deploy it takes serverIdentifer/&lt;folder&gt;/..path, hence adding baseUrl lets server know where to look for all the content files."}], "tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1462896351, "creation_date": 1462896351, "answer_id": 37143730, "question_id": 37143054, "link": "https://stackoverflow.com/questions/37143054/server-is-not-looking-for-node-modules-folder/37143730#37143730", "title": "Server is not looking for node_modules folder", "body": "<p>you have to introduce map in the system config</p>\n\n<pre><code>    System.config({\n        baseURL: '/foo',\n        defaultJSExtensions: true,\n        map: {\n           \"&lt;angular import&gt;\": \"&lt;adjust URL based upon your structure&gt;node_modules/angular2/core.js\"\n        }      \n      });\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462896351, "creation_date": 1462894446, "last_edit_date": 1462895900, "question_id": 37143054, "link": "https://stackoverflow.com/questions/37143054/server-is-not-looking-for-node-modules-folder", "title": "Server is not looking for node_modules folder", "body": "<p>I am trying to deploy my application to a web server which has an application added to the default website. I used System.js to set the baseURL and enabled the defaultJSExtensions to be true: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;script&gt;\r\n        System.config({\r\n            baseURL: '/foo',\r\n            defaultJSExtensions: true        \r\n    });\r\n\r\n    System.import('Scripts/typescript/main.js').then(null, console.error.bind(console));\r\n    &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The problem comes when it's trying to search for my js files, such as \"/foo/node_modules/angular2/core.js\". It is not searching for the node_modules folder, it is simply looking for \"/foo/angular2/core.js\".</p>\n\n<p>In my local environment, this all works perfectly fine, it automatically looks for the \"node_modules\" folder, but when I publish it to the server, it doesnt. </p>\n\n<p>I saw some solutions to add the paths option to my system.config, but I am curious as to why I don't need to do this in my local web server but I do in my test server? Is it because I don't have the \"foo\" site name in my local environment? </p>\n\n<p>Do I need to install nodejs on the server? </p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["typescript", "es6-shim"], "comments": [{"owner": {"reputation": 5466, "user_id": 893630, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7Ekpp.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/893630/michael"}, "edited": false, "score": 0, "creation_date": 1466497123, "post_id": 37142587, "comment_id": 63327211, "body": "Did you end up finding a solution to your problem? I&#39;m also experiencing this."}], "answers": [{"comments": [{"owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 0, "creation_date": 1462895012, "post_id": 37142997, "comment_id": 61824743, "body": "Instead of copying over the lib.es6.d.ts file, I would prefer to just change the compiler target to es6. That seems like an easier way to get the same result.That might be what I end up doing, but I was hoping that I could leave the target set to es5 and use the es6-shim type definitions because they state exactly what es6-shim provides. Setting the target to es6, would tell the compiler that I&#39;m supporting a bunch of features that aren&#39;t necessarily there at runtime."}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "reply_to_user": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 0, "creation_date": 1462895843, "post_id": 37142997, "comment_id": 61825347, "body": "That would be the best. The only issue if you target es6, is that the javascript generated would be ES6 valid. For instance, if you had an arrow function, after compiling it would still use the arrow syntax, same thing for let, const, etc... In that case, I&#39;d recommend recompile your code once again using babel"}, {"owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 0, "creation_date": 1462896090, "post_id": 37142997, "comment_id": 61825487, "body": "I&#39;m already using babel. I&#39;m conducting an experiment to see if I can still write the same code and have it run on all the same browsers without using babel.  Actually, I&#39;m starting to see the benefit of copying over the lib.es6.d.ts file like you said. By doing that, I can still compile to es5 but also be able to reference es6 functionality."}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "reply_to_user": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 0, "creation_date": 1462896667, "post_id": 37142997, "comment_id": 61825829, "body": "I updated the answer. Actually, you can target TypeScript to es5 and just install the typings for es6-shim. This would have the same effect."}, {"owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 0, "creation_date": 1462896952, "post_id": 37142997, "comment_id": 61826015, "body": "That&#39;s what I&#39;m already doing! I explain that in the second sentence of my question. Running <code>typings install es6-shim --ambient --save</code> will create the <code>es6-shim&#47;index.d.ts</code> file."}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "reply_to_user": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 0, "creation_date": 1462897722, "post_id": 37142997, "comment_id": 61826458, "body": "Sorry. So there&#39;s an error even with the typings installed?Can you post your tsconfig.json file?"}], "tags": [], "owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "is_accepted": false, "score": 0, "last_activity_date": 1462896627, "last_edit_date": 1462896627, "creation_date": 1462894325, "answer_id": 37142997, "question_id": 37142587, "link": "https://stackoverflow.com/questions/37142587/typescript-doesnt-recognize-destructuring-when-target-is-es5/37142997#37142997", "title": "TypeScript doesn&#39;t recognize destructuring when target is ES5", "body": "<p>If you want to use TypeScript and target it to es5 and still use features such as Map, you do need to use a polyfill or a shim as you are using.</p>\n\n<p>TypeScript can't know you're using that. But you can tell the compiler to allow it by copying the lib.es6.d.ts in your project.</p>\n\n<p>When you install TypeScript using npm, there will be a file called lib.es6.d.ts, just copy it into your typings or src folder and it should work.</p>\n\n<p>One other file you might want to copy is the lib.core.es6.d.ts, if you'd like to use things such as Object.assign</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>One other option is to install the typings for the es6-shim:</p>\n\n<pre><code>typings install es6-shim --ambient --save\n</code></pre>\n"}], "owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462984163, "creation_date": 1462893382, "last_edit_date": 1462984163, "question_id": 37142587, "link": "https://stackoverflow.com/questions/37142587/typescript-doesnt-recognize-destructuring-when-target-is-es5", "title": "TypeScript doesn&#39;t recognize destructuring when target is ES5", "body": "<p>I'm using TypeScript with <code>\"target\": \"es5\"</code>. I'm also using <code>es6-shim</code>, and I have installed the <code>es6-shim/index.d.ts</code> file. That's all fine. My question is why I get an error when I try to do the following:</p>\n\n<pre><code>const map = new Map&lt;string, number&gt;([\n    ['A', 1],\n    ['B', 2]\n]);\n</code></pre>\n\n<p>The error looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ORv1A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ORv1A.png\" alt=\"TypeScript Map error\"></a></p>\n\n<p>However, if I \"cast\" the array to explicitly state that it contains tuples of string/number pairs, then it works:</p>\n\n<pre><code>const map = new Map&lt;string, number&gt;(&lt;[string, number][]&gt;[\n    ['A', 1],\n    ['B', 2]\n]);\n</code></pre>\n\n<p>On the other hand, if I change my compiler setting to <code>\"target\": \"es6\"</code>, then again the error goes away and no cast is required.</p>\n\n<p>So my question is, why can't the compiler figure out that the array contains string/number tuples when in es5 mode? Is there a way to \"fix\" it so that no cast is required?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Here's my <code>tsconfig.json</code> file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "inheritance", "typescript", "prototypal"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462893949, "post_id": 37142477, "comment_id": 61824017, "body": "Can you elaborate on <code>&quot;Using typescripts extend method would not work&quot;</code>, what do you mean by not working? and <code>&quot;Typescript does not know the inherited methods from the prototypal inheritance&quot;</code>, can you give an example?"}, {"owner": {"reputation": 3035, "user_id": 1189620, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/f3syT.jpg?s=128&g=1", "display_name": "ramon22", "link": "https://stackoverflow.com/users/1189620/ramon22"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462894761, "post_id": 37142477, "comment_id": 61824556, "body": "In the prototypal inheritance case the compiler shows the super methods as an error in the subclasses &quot;the red squiggly line with message: error method does not exist on class&quot;. In the case of Type script inheritance using extend i forgot what happened, but i remember jslint and jshint lost it cause of the namespace or module redefining with ifi&#39;s  and other errors as well. i will try using Typescripts way once more to record the errors."}], "answers": [{"comments": [{"owner": {"reputation": 3035, "user_id": 1189620, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/f3syT.jpg?s=128&g=1", "display_name": "ramon22", "link": "https://stackoverflow.com/users/1189620/ramon22"}, "edited": false, "score": 0, "creation_date": 1462896165, "post_id": 37143345, "comment_id": 61825525, "body": "I have tried this method you suggested but i got errors when i used jshint and jslint it freaked me out should i just ignore the messages like:   var __extends = (this &amp;&amp; this.__extends) || function (d, b) {                           ^ Possible strict violation. var __extends = (this &amp;&amp; this.__extends) || function (d, b) {                                ^ Possible strict violation. function __() { this.constructor = d; }                   ^ Possible strict violation. function BookRepository() { \t\t\t\t  ^ &#39;BookRepository&#39; is already defined."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 3035, "user_id": 1189620, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/f3syT.jpg?s=128&g=1", "display_name": "ramon22", "link": "https://stackoverflow.com/users/1189620/ramon22"}, "edited": false, "score": 0, "creation_date": 1462896678, "post_id": 37143345, "comment_id": 61825836, "body": "Haven&#39;t used those so not sure what they complain about, but if you try the code in playground (the url is too long to put in a comment so I&#39;ll edit my answer with the link), you can then try to run the compiled js output and see that it works fine."}, {"owner": {"reputation": 3035, "user_id": 1189620, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/f3syT.jpg?s=128&g=1", "display_name": "ramon22", "link": "https://stackoverflow.com/users/1189620/ramon22"}, "edited": false, "score": 0, "creation_date": 1462896904, "post_id": 37143345, "comment_id": 61825979, "body": "I ran it it works thanks, it just jslint and jshint complaining about all global variables generated from typescript i will try to find ways to suppress the warnings. Thank you again for your help"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 3035, "user_id": 1189620, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/f3syT.jpg?s=128&g=1", "display_name": "ramon22", "link": "https://stackoverflow.com/users/1189620/ramon22"}, "edited": false, "score": 0, "creation_date": 1462897026, "post_id": 37143345, "comment_id": 61826065, "body": "Yeah, I&#39;m not too fond of those as well"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1462896728, "last_edit_date": 1592644375, "creation_date": 1462895261, "answer_id": 37143345, "question_id": 37142477, "link": "https://stackoverflow.com/questions/37142477/typescript-inheritance-in-angularjs-1-x/37143345#37143345", "title": "Typescript inheritance in Angularjs 1.x", "body": "<p>Your question is not that clear, even with the comment you answered my question I'm still not sure what the problem is.</p>\n<p>I'm not angular developer, so I can't answer angular specific questions, but as inheritance goes in typescript this is how you do it:</p>\n<pre><code>namespace Data {\n    export interface IAbstractRepository {\n        sayHellow(): string;\n    }\n\n    abstract class AbstractRepository implements IAbstractRepository {\n        constructor() {}\n        \n        sayHellow(): string {\n            return 'Hello world';\n        }\n    }\n\n    \n    class BookRepository extends AbstractRepository {\n        constructor() {\n            super();\n        }\n\n        getAllBooks(): string {\n            return this.sayHellow();\n        }\n    }\n    \n    angular.module(&quot;core&quot;).factory(&quot;BookRepository&quot;, BookRepository);\n}\n</code></pre>\n<p>If you'll tell me what's wrong with this, then I might be able to help you solve that.</p>\n<hr />\n<h3>Edit</h3>\n<p>Since the playground url is too long for the comments, <a href=\"https://www.typescriptlang.org/play/#src=namespace%20Data%20%7B%0A%09export%20interface%20IAbstractRepository%20%7B%0A%09%09sayHellow()%3A%20string%3B%0A%09%7D%0A%0A%09export%20abstract%20class%20AbstractRepository%20implements%20IAbstractRepository%20%7B%0A%09%09constructor()%20%7B%7D%0A%09%09%0A%09%09sayHellow()%3A%20string%20%7B%0A%09%09%09return%20%27Hello%20world%27%3B%0A%09%09%7D%0A%09%7D%0A%0A%09%0A%09export%20class%20BookRepository%20extends%20AbstractRepository%20%7B%0A%09%09constructor()%20%7B%0A%09%09%09super()%3B%0A%09%09%7D%0A%0A%09%09getAllBooks()%3A%20string%20%7B%0A%09%09%09return%20this.sayHellow()%3B%0A%09%09%7D%0A%09%7D%0A%7D\" rel=\"nofollow noreferrer\">here it is</a>.</p>\n"}], "owner": {"reputation": 3035, "user_id": 1189620, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/f3syT.jpg?s=128&g=1", "display_name": "ramon22", "link": "https://stackoverflow.com/users/1189620/ramon22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 37143345, "answer_count": 1, "score": 0, "last_activity_date": 1462898775, "creation_date": 1462893075, "last_edit_date": 1462898775, "question_id": 37142477, "link": "https://stackoverflow.com/questions/37142477/typescript-inheritance-in-angularjs-1-x", "title": "Typescript inheritance in Angularjs 1.x", "body": "<p>Am trying to make an abstract class service with methods and properties that other services can inherit n Angularjs. Using typescripts extend method would not work or i don't if am doing it properly, so tried using this pattern but sadly it too did not work. Typescript does not know the inherited methods from the prototypal inheritance. Is their any workaround or a solution to this, thank you for the help</p>\n\n<p>example code for the Abstract service Class</p>\n\n<pre><code>'use strict';\n\nnamespace Data {\nexport interface IAbstractRepository {\n    sayHellow(): string;\n}\n\nclass AbstractRepository implements IAbstractRepository{  \n    static extend = function (repoCtor): void {\n        repoCtor.prototype = new AbstractRepository();\n        repoCtor.prototype.constructor = repoCtor;\n    };\n    sayHellow(): string {\n        return 'Hello world';\n    }\n}\nfunction factory(): IAbstractRepository {\n    return AbstractRepository;\n}\nangular.module('core').factory('AbstractRepository', factory);\n}\n</code></pre>\n\n<p>and for the sub service class </p>\n\n<pre><code>'use strict';\n\nnamespace Data{\nclass BookRepository {\n    constructor(AbstractRepository) {\n         AbstractRepository.extend(this);\n    }\n\n    getAllBooks(): string {\n     // this shows as an error now it cant know that its inherited \n        return this.sayHellow();\n    }\n}\nfactory.$inject = ['AbstractRepository'];\nfunction factory(AbstractRepository): any {\n    return new BookRepository(AbstractRepository);\n}\nangular.module('core').factory('BookRepository', factory);\n}\n</code></pre>\n\n<p>for the solution proposed down the flags for JshintRC to suppress warnings produced by Typescript \n\"validthis\": true and \"shadow\": \"false</p>\n"}, {"tags": ["typescript", "angular", "angular2-router"], "answers": [{"comments": [{"owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 5, "creation_date": 1463561017, "post_id": 37142394, "comment_id": 62112341, "body": "Don&#39;t understand how this can possibly called a RC."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 1, "creation_date": 1463768117, "post_id": 37142394, "comment_id": 62222031, "body": "That was because of ng-conf. These guys are working really hard for us. We shouldn&#39;t be stingy when they announce RC a bit premature for such an important event."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 0, "creation_date": 1463776416, "post_id": 37142394, "comment_id": 62226179, "body": "Also only Angular2 core is RC. The router (like http) are not considered part of core. They will be moved out as distinctive modules and versioned independently of Angular2 core eventually. They are currently only maintained inside the <code>angular</code> GitHub repository for convenience."}, {"owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 0, "creation_date": 1463841225, "post_id": 37142394, "comment_id": 62241530, "body": "Interesting, why did they &quot;need&quot; a RC for ng-conf? Would you expect another huge update for the ng-europe? (if yes, i would definititly attend the workshop there :) ). But well, you&#39;re right. Shouldn&#39;t be stingy, they are really fast paced update-wise. It wasn&#39;t they wisest choice to start a serious angular2 project anyway."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 0, "creation_date": 1463846088, "post_id": 37142394, "comment_id": 62243124, "body": "I don&#39;t know. I guess they assumed to be quite close to RC anyway and just used this event to make it a bigger announcement."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1462892848, "creation_date": 1462892848, "answer_id": 37142394, "question_id": 37142176, "link": "https://stackoverflow.com/questions/37142176/componentinstruction-and-canactivate-are-not-available-in-angular-2-rc1/37142394#37142394", "title": "ComponentInstruction and CanActivate are not available in angular 2 rc1", "body": "<p>This has yet to be implemented. See <a href=\"https://github.com/angular/angular/issues/4015#issuecomment-217678683\" rel=\"nofollow\">https://github.com/angular/angular/issues/4015#issuecomment-217678683</a></p>\n\n<blockquote>\n  <p>Did anyone attend Brandon's workshop (<a href=\"https://www.ng-conf.org/#/sessions/bdogg64FD\" rel=\"nofollow\">https://www.ng-conf.org/#/sessions/bdogg64FD</a>) yesterday? It was scheduled to discuss \"resolving data before loading routes\", and appears to have been using the new-new router (with CanActivate moved/relocated).</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p>I attended :smile: I didn't cover resolving data before loading routes because that mechanism doesn't exist in the new router yet.</p>\n</blockquote>\n\n<p>Maybe also <a href=\"https://github.com/angular/angular/issues/7784#issuecomment-217912079\" rel=\"nofollow\">https://github.com/angular/angular/issues/7784#issuecomment-217912079</a></p>\n"}], "owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1992, "favorite_count": 0, "accepted_answer_id": 37142394, "answer_count": 1, "score": 3, "last_activity_date": 1462892848, "creation_date": 1462892253, "question_id": 37142176, "link": "https://stackoverflow.com/questions/37142176/componentinstruction-and-canactivate-are-not-available-in-angular-2-rc1", "title": "ComponentInstruction and CanActivate are not available in angular 2 rc1", "body": "<p>I'm writing an angular2 application using typescript with angular 2 rc.1</p>\n\n<p>I'm guessing that the angular 2 documents are not updated yet. </p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/router/ComponentInstruction-interface.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/router/ComponentInstruction-interface.html</a></p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html</a></p>\n\n<p>the ComponentInstruction Interface and CanActivate decorator  are no longer available in angular2-rc.1. what is there instead ?</p>\n\n<p>I have the following class that I need to upgrade to the latest angular version.</p>\n\n<pre><code>class RequireUserAnnotation extends CanActivate {\n  constructor() {\n    super(this.canProceed.bind(this));\n  }\n\n  canProceed(prev: ComponentInstruction,\n         next: ComponentInstruction) {\n    return !!Meteor.user();\n  }\n}\n</code></pre>\n\n<p>the new @angular/router package now has CanDeactivate and OnActivate. which confuses me a bit.</p>\n\n<p>I guess that \n<a href=\"https://angular.io/docs/js/latest/api/router/CanDeactivate-interface.html\" rel=\"nofollow\">https://angular.io/docs/js/latest/api/router/CanDeactivate-interface.html</a>\nis not updated also because it says that: <code>The routerCanDeactivate hook is called with two ComponentInstructions as parameters</code>, and ComponentInstruction is not defined anymore.</p>\n\n<p>I don't want to use the <code>angular/@router-deprecated</code> package. i wanna fix this! please! :)</p>\n\n<p>any information regarding the issue would be greatly appreciated.</p>\n"}, {"tags": ["html", "cordova", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "edited": false, "score": 0, "creation_date": 1462895984, "post_id": 37141790, "comment_id": 61825433, "body": "try putting together a running sample of what you&#39;re trying to do using the <a href=\"https://gist.run/?id=7542e061bc940cde506b\" rel=\"nofollow noreferrer\">Aurelia Gist</a>. This will make it easier for people to help you"}, {"owner": {"reputation": 227, "user_id": 3670051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EScu6.jpg?s=128&g=1", "display_name": "cnotes", "link": "https://stackoverflow.com/users/3670051/cnotes"}, "reply_to_user": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "edited": false, "score": 0, "creation_date": 1462897620, "post_id": 37141790, "comment_id": 61826405, "body": "@JeremyDanyow - Thanks for the info, but I&#39;m totally new to Aurelia and have no idea what that is.  I&#39;ll check out the link.  I literally started a new job and got thrown into a project using Aurelia."}], "answers": [{"tags": [], "owner": {"reputation": 227, "user_id": 3670051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EScu6.jpg?s=128&g=1", "display_name": "cnotes", "link": "https://stackoverflow.com/users/3670051/cnotes"}, "is_accepted": true, "score": 1, "last_activity_date": 1462905091, "creation_date": 1462905091, "answer_id": 37146313, "question_id": 37141790, "link": "https://stackoverflow.com/questions/37141790/hierarchical-select-using-aurelia/37146313#37146313", "title": "Hierarchical Select Using Aurelia", "body": "<p>Here's how I resolved this...</p>\n\n<p>First, I had to add a computed property in the view model that was based off of a property bound to the selCategory SELECT list from above.</p>\n\n<p>Added import statement:</p>\n\n<pre><code>import { computedFrom } from 'aurelia-framework';\n</code></pre>\n\n<p>Added property:</p>\n\n<pre><code>@computedFrom('selectedCategory')\n    get rateditems() {\n        if (this.selectedCategory &amp;&amp; this.selectedCategory.rateditems) {\n            return Object.keys(this.selectedCategory.rateditems).map(key =&gt; this.selectedCategory.rateditems[&lt;any&gt;key]);\n        }\n        else {\n            var array: any[] = [];\n            return array;\n        }\n    }\n</code></pre>\n\n<p>Then, I bound the SELECT list that is to be filtered, in this case, selRatedItem, to the computed property.</p>\n\n<p>Newly bound SELECT list:</p>\n\n<pre><code>                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"form-group form-group-sm\"&gt;\n                            &lt;label for=\"selRatedItem\" class=\"col-sm-2 control-label\"&gt;Rated Item&lt;/label&gt;\n                            &lt;div class=\"col-sm-10\"&gt;\n                                &lt;select class=\"form-control\" id=\"selRatedItem\" value.bind=\"selectedItem\" required&gt;\n                                    &lt;option value=\"\"&gt;Select an item...&lt;/option&gt;\n                                    &lt;option repeat.for=\"item of rateditems\" model.bind=\"item.id\"&gt;${item.name}&lt;/option&gt;\n                                &lt;/select&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 227, "user_id": 3670051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EScu6.jpg?s=128&g=1", "display_name": "cnotes", "link": "https://stackoverflow.com/users/3670051/cnotes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 37146313, "answer_count": 1, "score": 0, "last_activity_date": 1462905091, "creation_date": 1462891334, "question_id": 37141790, "link": "https://stackoverflow.com/questions/37141790/hierarchical-select-using-aurelia", "title": "Hierarchical Select Using Aurelia", "body": "<p>I'm writing a mobile application using Aurelia (Cordova, Typescript, HTML5, &amp; Bootstrap) and I need to do a hierarchical select where the selection from one SELECT list filters the options in the next SELECT list.  Does anyone know how to do this in Aurelia?  My code with the bindings are below.  The list in selRatedItems needs to be filtered by what is selected in selCategories.  Thanks for any help.</p>\n\n<pre><code>                &lt;div class=\"row\"&gt;\n                    &lt;div class=\"form-group form-group-sm\"&gt;\n                        &lt;label for=\"selCategory\" class=\"col-sm-2 control-label\"&gt;Category&lt;/label&gt;\n                        &lt;div class=\"col-sm-10\"&gt;\n                            &lt;select class=\"form-control\" id=\"selCategory\" value.bind=\"selectedCategory\" required&gt;\n                                &lt;option value=\"\"&gt;Select a category...&lt;/option&gt;\n                                &lt;option repeat.for=\"option of categories\" model.bind=\"option\"&gt;${option.name}&lt;/option&gt;\n                            &lt;/select&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"row\"&gt;\n                    &lt;div class=\"form-group form-group-sm\"&gt;\n                        &lt;label for=\"selRatedItem\" class=\"col-sm-2 control-label\"&gt;Rated Item&lt;/label&gt;\n                        &lt;div class=\"col-sm-10\"&gt;\n                            &lt;select class=\"form-control\" id=\"selRatedItem\" value.bind=\"selectedItem\" required&gt;\n                                &lt;option value=\"\"&gt;Select an item...&lt;/option&gt;\n                                &lt;option repeat.for=\"option of selectedCategory.rateditems\" model.bind=\"option.rateditems.id\"&gt;${option.rateditems.name}&lt;/option&gt;\n                            &lt;/select&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "less"], "comments": [{"owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 1, "creation_date": 1462888989, "post_id": 37140666, "comment_id": 61820288, "body": "How about clean up your question so the HTML you are asking for help with is valid. You are missing a couple <code>&lt;</code>s and your <code>ui-grid-auto-resize</code> class is outside the quotes. It&#39;s nearly impossible to tell what you issue might be with what you have provided. Also, <code>this.$scope...</code>, is that even valid?"}, {"owner": {"reputation": 97, "user_id": 6315561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4cf7aaeb49ffb8d5d44aeace2ae94c?s=128&d=identicon&r=PG&f=1", "display_name": "Anik Rai", "link": "https://stackoverflow.com/users/6315561/anik-rai"}, "reply_to_user": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 1, "creation_date": 1462889263, "post_id": 37140666, "comment_id": 61820470, "body": "this is the controller instance and $scope is the private instance of it which I am setting in  controller constructor and initializing it with injected $scope.  The Grid is loading with data coming from real service."}], "answers": [{"comments": [{"owner": {"reputation": 7051, "user_id": 4252741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/L3CRt.jpg?s=128&g=1", "display_name": "Chic", "link": "https://stackoverflow.com/users/4252741/chic"}, "edited": false, "score": 0, "creation_date": 1462890592, "post_id": 37141223, "comment_id": 61821441, "body": "ui-grid is it&#39;s own table component. I don&#39;t think the OP wants a bootstrap grid"}, {"owner": {"reputation": 97, "user_id": 6315561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4cf7aaeb49ffb8d5d44aeace2ae94c?s=128&d=identicon&r=PG&f=1", "display_name": "Anik Rai", "link": "https://stackoverflow.com/users/6315561/anik-rai"}, "edited": false, "score": 0, "creation_date": 1462959444, "post_id": 37141223, "comment_id": 61853213, "body": "I have constraint to use ui-grid library"}], "tags": [], "owner": {"reputation": 18201, "user_id": 586227, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bb85f92a56d4431cb1c74357a755d68f?s=128&d=identicon&r=PG", "display_name": "Ali Adravi", "link": "https://stackoverflow.com/users/586227/ali-adravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1462889966, "creation_date": 1462889966, "answer_id": 37141223, "question_id": 37140666, "link": "https://stackoverflow.com/questions/37140666/how-to-make-ui-grid-responsive-to-browser-resize-event-in-angular-typescript/37141223#37141223", "title": "How to make ui-grid responsive to browser resize event in Angular typescript", "body": "<p>You are using bootstrap so you can use:</p>\n\n<p>Create responsive tables by wrapping any .table in .table-responsive to make them scroll horizontally on small devices (under 768px). When viewing on anything larger than 768px wide, you will not see any difference in these tables.</p>\n\n<pre><code>&lt;div class='table-responsive'&gt;\n   &lt;table class='table'&gt;\n   ........\n   ........\n   ........\n   &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>See <a href=\"http://getbootstrap.com/css/\" rel=\"nofollow\">Responsive tables</a></p>\n\n<p>Other way is to write the JavaScript to convert the table structure into two columns Label: Value, which is not so easy.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 6315561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4cf7aaeb49ffb8d5d44aeace2ae94c?s=128&d=identicon&r=PG&f=1", "display_name": "Anik Rai", "link": "https://stackoverflow.com/users/6315561/anik-rai"}, "edited": false, "score": 0, "creation_date": 1462959711, "post_id": 37141533, "comment_id": 61853405, "body": "Thanks for your inputs but unfortunately that directive i have tried with no luck and it has slighly different purpose. If you try to resize the window of ui-grid tutorial link you have shared, even the tutorial Grid is unresponsive to browser resizing"}, {"owner": {"reputation": 97, "user_id": 6315561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4cf7aaeb49ffb8d5d44aeace2ae94c?s=128&d=identicon&r=PG&f=1", "display_name": "Anik Rai", "link": "https://stackoverflow.com/users/6315561/anik-rai"}, "edited": false, "score": 1, "creation_date": 1462964472, "post_id": 37141533, "comment_id": 61856773, "body": "Just adding to above. My new approach till now. I have written a custom directive with   restrict: &quot;A&quot;. In the link phase i am binding angular element  $window resize event. After checking browser innerheight and innerwidth, applying a css property on element.  I am using my code along with attribute &#39;ui-grid-auto-resize&#39; from ui-grid"}, {"owner": {"reputation": 10688, "user_id": 1483954, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aSqmJ.jpg?s=128&g=1", "display_name": "dman", "link": "https://stackoverflow.com/users/1483954/dman"}, "edited": false, "score": 0, "creation_date": 1481694928, "post_id": 37141533, "comment_id": 69474981, "body": "Does anyone know if this causes a <code>$digest</code> every 250 ms it checks?"}], "tags": [], "owner": {"reputation": 7051, "user_id": 4252741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/L3CRt.jpg?s=128&g=1", "display_name": "Chic", "link": "https://stackoverflow.com/users/4252741/chic"}, "is_accepted": false, "score": 1, "last_activity_date": 1462890748, "creation_date": 1462890748, "answer_id": 37141533, "question_id": 37140666, "link": "https://stackoverflow.com/questions/37140666/how-to-make-ui-grid-responsive-to-browser-resize-event-in-angular-typescript/37141533#37141533", "title": "How to make ui-grid responsive to browser resize event in Angular typescript", "body": "<p>According to the <a href=\"http://ui-grid.info/docs/#/tutorial/213_auto_resizing\" rel=\"nofollow\">ui-grid tutorial</a> you need to </p>\n\n<blockquote>\n  <p>include the 'ui.grid.autoResize' module in your angular app's dependencies</p>\n</blockquote>\n"}], "owner": {"reputation": 97, "user_id": 6315561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4cf7aaeb49ffb8d5d44aeace2ae94c?s=128&d=identicon&r=PG&f=1", "display_name": "Anik Rai", "link": "https://stackoverflow.com/users/6315561/anik-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5684, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1462890748, "creation_date": 1462888561, "last_edit_date": 1462889882, "question_id": 37140666, "link": "https://stackoverflow.com/questions/37140666/how-to-make-ui-grid-responsive-to-browser-resize-event-in-angular-typescript", "title": "How to make ui-grid responsive to browser resize event in Angular typescript", "body": "<p>I am coding Angular 1.x in typescript 1.5 + less css + bootstrap. \nui-grid is used as an attribute on div as </p>\n\n<p>Template</p>\n\n<pre><code>&lt;div ui-grid=\"gridOptions\" \n     class=\"ui-grid-collapsible\" \n     ui-grid-auto-resize &gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The view controller is setting <code>gridOption</code> in <code>$scope</code> </p>\n\n<pre><code> this.$scope.gridOptions = {\n                enableSorting: true,\n                headerTemplate: \"path to header template\",\n                rowTemplate: \"path to row template\"\n                enableVerticalScrollbar: 0,\n                enableHorizontalScrollbar: 0,\n                columnDefs: []\n                ......\n}\n</code></pre>\n\n<p>Any pointers on why grid is not resizing on browser resize when other components on controller view are resizing.</p>\n\n<p>Please assist. Do I need to catch the browser resize event and set chart grid height and width accordingly? If yes, then how? </p>\n"}, {"tags": ["meteor", "typescript", "angular", "angular2-meteor"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6076774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q7MYU.jpg?s=128&g=1", "display_name": "Vijay Vittal", "link": "https://stackoverflow.com/users/6076774/vijay-vittal"}, "is_accepted": false, "score": 0, "last_activity_date": 1463984032, "creation_date": 1463984032, "answer_id": 37383713, "question_id": 37140593, "link": "https://stackoverflow.com/questions/37140593/typeerror-cannot-read-property-getlocation-of-null-when-starting-an-angular/37383713#37383713", "title": "&quot;TypeError: Cannot read property &#39;getLocation&#39; of null&quot; when starting an angular2-meteor project", "body": "<p>try changing dev dependencies from \n\"@angular/platform-browser\": \"^2.0.0-rc.1\", to \"angular2-meteor-auto-bootstrap\": \"^0.5.5\",</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6379266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9300f68ae13ebd85a2de6b3b209929ac?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad Pawar", "link": "https://stackoverflow.com/users/6379266/prasad-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1464150301, "creation_date": 1464150301, "answer_id": 37427820, "question_id": 37140593, "link": "https://stackoverflow.com/questions/37140593/typeerror-cannot-read-property-getlocation-of-null-when-starting-an-angular/37427820#37427820", "title": "&quot;TypeError: Cannot read property &#39;getLocation&#39; of null&quot; when starting an angular2-meteor project", "body": "<p>Resolved the issue of routing only by changing package.json for reflect-metadata and for rxjs. We should not use latest version of reflect (0.1.3).\n\"reflect-metadata\": \"=0.1.2\",\n\"rxjs\": \"=5.0.0-beta.6\",</p>\n"}], "owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 800, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1464150301, "creation_date": 1462888408, "last_edit_date": 1592644375, "question_id": 37140593, "link": "https://stackoverflow.com/questions/37140593/typeerror-cannot-read-property-getlocation-of-null-when-starting-an-angular", "title": "&quot;TypeError: Cannot read property &#39;getLocation&#39; of null&quot; when starting an angular2-meteor project", "body": "<p>I've been playing with angular2-meteor with typescript lately and I've already created several projects.</p>\n<p>the problem that I'm having occurred before, and to resolve it I removed and reinstalled node_modules and meteor to resolve the issue.</p>\n<p>since the issue happened again, I'm posting this question instead of reinstalling everything to see if someone can give me some insights about this error.</p>\n<p>In general I created a angular2-meteor project as described at <a href=\"http://www.angular-meteor.com/tutorials/socially/angular2/bootstrapping\" rel=\"nofollow noreferrer\">http://www.angular-meteor.com/tutorials/socially/angular2/bootstrapping</a></p>\n<p>for now the application is very basic.</p>\n<p>I have a main app.ts in the client directory with the following code:</p>\n<pre><code>import 'reflect-metadata';\nimport 'zone.js/dist/zone';\nimport {Component,provide} from '@angular/core';\nimport {APP_BASE_HREF} from '@angular/common';\nimport {bootstrap} from 'angular2-meteor-auto-bootstrap';\nimport {ROUTER_PROVIDERS, ROUTER_DIRECTIVES, Routes} from '@angular/router';\n\nimport {MdToolbar} from '@angular2-material/toolbar';\n\nimport {Welcome} from './imports/pages/welcome/welcome';\nimport {Statistics} from './imports/pages/statistics/statistics';\n\n\n@Component({\n   selector: 'app',\n   templateUrl: 'client/app.html',\n   directives: [ROUTER_DIRECTIVES,MdToolbar],\n   providers: [ROUTER_PROVIDERS,provide(APP_BASE_HREF, { useValue: '/' })]\n})\n@Routes([\n { path: '/', component: Welcome },\n {path: '/statistics',component:Statistics}  \n])\nclass BingoDriveStatisticsApp {\n\n}\n\nbootstrap(BingoDriveStatisticsApp);\n</code></pre>\n<p>as you can see, I have two views components, 'Welcome' and 'Statistics'. I'm also using angular2-material for the toolbar for now.</p>\n<p>the view components pretty much contains templateUrl that points to an empty html file.</p>\n<p>example: welcome.ts</p>\n<pre><code>import {Component} from '@angular/core';\n\n@Component({\n templateUrl: '/imports/pages/welcome/welcome.html'\n})\nexport class Welcome {\n\n}\n</code></pre>\n<p>my main index.html file in client directory contains:</p>\n<pre><code>&lt;body&gt;&lt;app&gt;&lt;/app&gt;&lt;/body&gt;\n</code></pre>\n<p>and app.html contains:</p>\n<pre><code>&lt;md-toolbar [color]=&quot;primary&quot;&gt;\n    &lt;span&gt;BingoDrive Statistics&lt;/span&gt;&amp;nbsp;\n    &lt;a [routerLink]=&quot;['/']&quot;&gt;Welcome&lt;/a&gt;\n    &lt;a [routerLink]=&quot;['/statistics']&quot;&gt;Statistics&lt;/a&gt;\n&lt;/md-toolbar&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n<p>again.. i don't think that this error got anything to do with my code, since it has happened before on other projects.</p>\n<p>this is my package.json:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;bingodrive-statistics&quot;,\n  &quot;private&quot;: true,\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;meteor run&quot;\n  },\n  &quot;dependencies&quot;: {\n    &quot;@angular/common&quot;: &quot;^2.0.0-rc.1&quot;,\n    &quot;@angular/compiler&quot;: &quot;^2.0.0-rc.1&quot;,\n    &quot;@angular/core&quot;: &quot;^2.0.0-rc.1&quot;,\n    &quot;@angular/platform-browser&quot;: &quot;^2.0.0-rc.1&quot;,\n    &quot;@angular/router&quot;: &quot;^2.0.0-rc.1&quot;,\n    &quot;@angular2-material/core&quot;: &quot;^2.0.0-alpha.4&quot;,\n    &quot;@angular2-material/toolbar&quot;: &quot;^2.0.0-alpha.4&quot;,\n    &quot;angular2-meteor&quot;: &quot;^0.5.5&quot;,\n    &quot;angular2-meteor-auto-bootstrap&quot;: &quot;^0.5.5&quot;,\n    &quot;es6-shim&quot;: &quot;^0.35.0&quot;,\n    &quot;meteor-node-stubs&quot;: &quot;^0.2.3&quot;,\n    &quot;reflect-metadata&quot;: &quot;=0.1.2&quot;,\n    &quot;rxjs&quot;: &quot;=5.0.0-beta.6&quot;,\n    &quot;zone.js&quot;: &quot;^0.6.12&quot;\n  }\n}\n</code></pre>\n<p>my <code>.meteor/packages</code> file contains the following:</p>\n<pre><code>meteor-base             # Packages every Meteor app needs to have\nmobile-experience       # Packages for a great mobile UX\nmongo                   # The database Meteor supports right now\nreactive-var            # Reactive variable for tracker\njquery                  # Helpful client-side library\ntracker                 # Meteor's client-side reactive programming library\n\nstandard-minifier-css   # CSS minifier run for production mode\nstandard-minifier-js    # JS minifier run for production mode\nes5-shim                # ECMAScript 5 compatibility for older browsers.\necmascript              # Enable ECMAScript2015+ syntax in app code\n\nangular2-compilers\nbarbatus:angular2-runtime\naccounts-password\n</code></pre>\n<p>after all of that... the error message itself! :)</p>\n<p>it's repeated and very long but the main exception is this:</p>\n<pre><code>EXCEPTION: Error in :0:0\nVM2668:27 ORIGINAL EXCEPTION: TypeError: Cannot read property 'getLocation' of null\nVM2668:27 ORIGINAL STACKTRACE:\nVM2668:27 TypeError: Cannot read property 'getLocation' of null\nat BrowserPlatformLocation._init (browser_platform_location.js:19)\nat new BrowserPlatformLocation (browser_platform_location.js:14)\nat DebugAppView.Object.defineProperty.get (BingoDriveStatisticsApp_Host.template.js:35)\nat DebugAppView.Object.defineProperty.get (BingoDriveStatisticsApp_Host.template.js:47)\nat DebugAppView.Object.defineProperty.get (BingoDriveStatisticsApp_Host.template.js:53)\nat DebugAppView.Object.defineProperty.get (BingoDriveStatisticsApp_Host.template.js:59)\nat DebugAppView._View_BingoDriveStatisticsApp_Host0.injectorGetInternal (BingoDriveStatisticsApp_Host.template.js:82)\nat DebugAppView.AppView.injectorGet (view.js:96)\nat DebugAppView.injectorGet (view.js:269)\nat ElementInjector.get (element_injector.js:20)\nVM2668:27 ERROR CONTEXT:\nVM2668:27 \nDebugContext {_view: _View_BingoDriveStatisticsApp_Host0, _nodeIndex: 0, _tplRow: 0, _tplCol: 0}\n</code></pre>\n<p>any ideas what's going on ?</p>\n<h1>update</h1>\n<p>I backup the project to another directory, after that delete node_modules and executed <code>meteor npm install --save</code>. after that, the application works fine. so.. something broke the application, and by deleting node_modules and re-creating it i resolved the issue.</p>\n<p>so... i hate to do that every time I start a new project.</p>\n<p>any information regarding the issue would be greatly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462901977, "post_id": 37140291, "comment_id": 61828797, "body": "can you post the tsconfig.json files you&#39;re using in each location?"}, {"owner": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1463332065, "post_id": 37140291, "comment_id": 62011352, "body": "Sorry for the long delay. I have updated the question as you requested."}], "answers": [{"tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": true, "score": 0, "last_activity_date": 1463341248, "creation_date": 1463341248, "answer_id": 37242886, "question_id": 37140291, "link": "https://stackoverflow.com/questions/37140291/adding-another-tsconfig-json-file-to-project-confuses-tsc-when-finding-definitio/37242886#37242886", "title": "Adding another tsconfig.json file to project confuses tsc when finding definitions", "body": "<p>A couple thoughts.</p>\n\n<p>One, would you object to introducing a <code>files</code> property? I've got a tsconfig that has a files property like this:</p>\n\n<pre><code>\"files\": [\n    \"typings/tsd.d.ts\",\n    \"src/main.ts\",\n    ...\n]\n</code></pre>\n\n<p>Everything that src/main.ts imports is still compiled. You only really have to specify the entry points of the import graph, and this is working out well enough for me.</p>\n\n<p>Another slightly more controversial option may be to introduce the typings directory into your wiki directory via a <a href=\"https://en.wikipedia.org/wiki/Symbolic_link\" rel=\"nofollow\">symlink</a> rather than manually copying it.</p>\n"}], "owner": {"reputation": 3930, "user_id": 2796614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/51a1578fc9a2692b8a1b65f296ddd19d?s=128&d=identicon&r=PG", "display_name": "Ciel", "link": "https://stackoverflow.com/users/2796614/ciel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 37242886, "answer_count": 1, "score": 0, "last_activity_date": 1463341248, "creation_date": 1462887570, "last_edit_date": 1463320442, "question_id": 37140291, "link": "https://stackoverflow.com/questions/37140291/adding-another-tsconfig-json-file-to-project-confuses-tsc-when-finding-definitio", "title": "Adding another tsconfig.json file to project confuses tsc when finding definitions", "body": "<p>I have a file structure for an application using <code>typescript</code> that looks akin to this;</p>\n\n<pre><code>./\n./tsconfig.json\n      /typings   /* typescript d.ts from typings */\n      /src\n      /sites\n            /wiki\n                  /scripts\n                        /typescript-file.ts\n                        /typescript-file.ts\n</code></pre>\n\n<p>and that works fine. but I have a situation where I would like to add a new <code>tsconfig.json</code> to the <code>/wiki/</code> directory, to change the way it behaves in just that part of the project.</p>\n\n<p>At first glance this seems fine, but whenever I try to run <code>tsc</code> on that directory, I get a notification that it cannot find the typescript definitions in the <code>/typings/</code> directory - which is a higher level.</p>\n\n<p>is there anything I can do about this that doesn't require me to clone the typings directory into the lower-level folder?</p>\n\n<h1>root level <code>tsconfig.json</code></h1>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"experimentalDecorators\": true,\n    \"stripInternal\": true,\n    \"noImplicitAny\": false,\n    \"removeComments\": false,\n    \"sourceMap\": false,\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"allowSyntheticDefaultImports\": true,\n    \"noEmitOnError\": false,\n    \"moduleResolution\": \"node\",\n    \"pretty\": true,\n    \"declaration\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"bower_components\",\n  ]\n}\n</code></pre>\n\n<h2>higher level <code>tsconfig.json</code></h2>\n\n<pre><code>{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"module\": \"amd\",\n  }\n}\n</code></pre>\n"}, {"tags": ["syntax", "typescript", "strong-typing"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1462889038, "post_id": 37140056, "comment_id": 61820317, "body": "I have no idea, but since types are not mandatory, consider this: <code>function fn(value1: MyType1, value2: MyType2)</code> vs <code>function fn(MyType1 value1, MyType2 value2)</code>, now if I decide to remove one of the types: <code>function fn(value1: MyType1, value2)</code> vs <code>function fn(MyType1 value1, value2)</code>. The later looks a bit weird, as opposed  to how it is in typescript. Also, some languages had this syntax before typescript, for example <code>ActionScript</code>."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462889515, "post_id": 37140056, "comment_id": 61820648, "body": "There are other strongly typed languages that seem to have influenced typescript as well. OCaml and Haskell are probably the two most famous strongly typed functional languages and they have this syntax (though haskell uses two colons)"}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462889606, "post_id": 37140056, "comment_id": 61820735, "body": "The team&#39;s active on here so one of them may drop by your post and give the background and they&#39;d be much better equipped to speak about it, I just wanted to say that there is definitely precedent."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 2, "creation_date": 1462893212, "post_id": 37140056, "comment_id": 61823474, "body": "Also, this was the syntax used by ECMAScript 4 (implemented by ActionScript 3 but never by JavaScript), so I would be surprised if the TypeScript team didn&#39;t consider this as design precedent to follow."}], "answers": [{"tags": [], "owner": {"reputation": 2017, "user_id": 6302131, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh5.googleusercontent.com/-upxNYfE-Cr4/AAAAAAAAAAI/AAAAAAAAAB8/FR6BaGFHNo8/photo.jpg?sz=128", "display_name": "Sancarn", "link": "https://stackoverflow.com/users/6302131/sancarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1548466024, "creation_date": 1548466024, "answer_id": 54374869, "question_id": 37140056, "link": "https://stackoverflow.com/questions/37140056/why-does-typescript-use-type-annotations-instead-of-keywords-like-other-strong/54374869#54374869", "title": "Why does TypeScript use &quot;type annotations&quot; instead of keywords like other strongly-typed languages?", "body": "<p>A friend and I were discussing it and he raised a good example:</p>\n\n<pre><code>type student_detail = {\n  id:number,\n  name:string,\n  percentage:number,\n  clg_data:{\n    college_id: number,\n    college_name:string\n  }\n}\n</code></pre>\n\n<p>This almost looks like standard JS. Now imagine what you'd have with C style syntax:</p>\n\n<pre><code>struct student_detail {\n    number id;\n    string name;\n    number percentage;\n    // structure within structure\n    struct {\n        number college_id;\n        string college_name;\n    } clg_data;\n}\n</code></pre>\n\n<p>When it comes to structures in structures the only way to really do it is by splitting them out into separate structures:</p>\n\n<pre><code>struct student_college_detail {\n    number college_id;\n    string college_name;\n};\nstruct student_detail {\n    number id;\n    string name;\n    number percentage;\n    struct student_college_detail clg_data;\n}\n</code></pre>\n\n<p>This is fine but doesn't really fit into JavaScript. This is likely the reason why they stuck with the <code>var:type</code> syntax. It would maybe be nice if you could do either though. :)</p>\n"}], "owner": {"reputation": 929, "user_id": 3628241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68079e44c15736cf650be757b905d403?s=128&d=identicon&r=PG", "display_name": "glcheetham", "link": "https://stackoverflow.com/users/3628241/glcheetham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548466024, "creation_date": 1462887015, "question_id": 37140056, "link": "https://stackoverflow.com/questions/37140056/why-does-typescript-use-type-annotations-instead-of-keywords-like-other-strong", "title": "Why does TypeScript use &quot;type annotations&quot; instead of keywords like other strongly-typed languages?", "body": "<p>TypeScript's type system uses <em>type annotations</em>, which look like this:</p>\n\n<pre><code>private currentState: IAppState;\n</code></pre>\n\n<p>I read this as \"currentState is an IAppState\"</p>\n\n<p>Why does this syntax make more design sense than this, which is what I'm used to from other strongly-typed languages?</p>\n\n<pre><code>private IAppState currentState;\n</code></pre>\n\n<p>I understand that TypeScript is supposed to be an <em>extension</em> of JavaScript syntax, but in that case, what made the designers of TypeScript choose the current syntax over this:</p>\n\n<pre><code>private IAppState: currentState;\n</code></pre>\n"}, {"tags": ["ajax", "typescript", "angular", "ionic2", "es6-promise"], "comments": [{"owner": {"reputation": 413, "user_id": 5227280, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/D8RzC.jpg?s=128&g=1", "display_name": "C. Sysmans", "link": "https://stackoverflow.com/users/5227280/c-sysmans"}, "edited": false, "score": 0, "creation_date": 1462883476, "post_id": 37138557, "comment_id": 61815956, "body": "For those wondering, I use the following import:  import { Http, Headers, RequestOptions, Response, HTTP_PROVIDERS } from &#39;angular2/http&#39;;  and inject it into my class inside the constructor"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462883529, "post_id": 37138557, "comment_id": 61816011, "body": "Please rather edit your question and add additional information there. Code is cumbersome to read in comments."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1462884442, "post_id": 37138557, "comment_id": 61816735, "body": "What do you import regarding rxjs?"}], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 5227280, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/D8RzC.jpg?s=128&g=1", "display_name": "C. Sysmans", "link": "https://stackoverflow.com/users/5227280/c-sysmans"}, "edited": false, "score": 0, "creation_date": 1462884055, "post_id": 37138667, "comment_id": 61816416, "body": "Will this not only catch the timeout? I also don&#39;t think the map function will be sufficient for me, since I do a lot of other (async) tasks within the success handler, such as storing the returned json to the database. I understand http will return a promise, but shouldn&#39;t it be possible to nest promises?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 413, "user_id": 5227280, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/D8RzC.jpg?s=128&g=1", "display_name": "C. Sysmans", "link": "https://stackoverflow.com/users/5227280/c-sysmans"}, "edited": false, "score": 0, "creation_date": 1462884433, "post_id": 37138667, "comment_id": 61816729, "body": "Sure it&#39;s possible but it seems a bit cumbersome. There are operators (like flatMap) that wait for async calls. I think code will be much more readable the Rx way than mixing observables and promises."}, {"owner": {"reputation": 413, "user_id": 5227280, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/D8RzC.jpg?s=128&g=1", "display_name": "C. Sysmans", "link": "https://stackoverflow.com/users/5227280/c-sysmans"}, "edited": false, "score": 1, "creation_date": 1462959941, "post_id": 37138667, "comment_id": 61853576, "body": "I got a working with a small variation on your code! Thanks for the input on using promises instead of observables... helped me a lot!"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1462883501, "creation_date": 1462883501, "answer_id": 37138667, "question_id": 37138557, "link": "https://stackoverflow.com/questions/37138557/observable-not-firing-during-angular-2-http-request/37138667#37138667", "title": "Observable not firing during Angular 2 HTTP request", "body": "<p>If you want to return a <code>Promise</code> I would do it this way:</p>\n\n<pre><code>private login(params: any, url: string){\n        let body = JSON.stringify(params);\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n        return this.http.post(url, body, options)\n            .timeout(10000, new Error('Timeout exceeded during login'))\n            .catch(err =&gt; {\n              console.log(err);\n              return Observable.of([]));\n            })\n            .map((res) =&gt; {\n                return new JsonResult().deserialize(res.json());\n            }) \n            .toPromise();\n}\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 5227280, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/D8RzC.jpg?s=128&g=1", "display_name": "C. Sysmans", "link": "https://stackoverflow.com/users/5227280/c-sysmans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462883501, "creation_date": 1462883239, "question_id": 37138557, "link": "https://stackoverflow.com/questions/37138557/observable-not-firing-during-angular-2-http-request", "title": "Observable not firing during Angular 2 HTTP request", "body": "<p>I have the following method, using Ionic 2 with Angular 2:</p>\n\n<pre><code>private login(params: any, url: string){\n    var p = new Promise&lt;JsonResult&gt;((resolve, reject) =&gt; {\n        let body = JSON.stringify(params);\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n        this.http.post(url, body, options)\n            .timeout(10000, new Error('Timeout exceeded during login'))\n            .subscribe((res) =&gt; {\n                let json = new JsonResult().deserialize(res.json());\n                resolve(json);   \n            }, (err) =&gt; { \n                reject(err);\n            });\n    });\n    return p;\n}\n</code></pre>\n\n<p>No matter what I do, the subscribe is not working as expected. \nThe error handler never gets fired. Not even after the timeout has exceeded.</p>\n\n<p>Is this a known problem, or is there something wrong with my syntax?</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["typescript", "gulp", "gulp-typedoc"], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 4824299, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8077860854040d73a71c79ed047d88e1?s=128&d=identicon&r=PG", "display_name": "Bert Willekens", "link": "https://stackoverflow.com/users/4824299/bert-willekens"}, "is_accepted": false, "score": 0, "last_activity_date": 1463604273, "creation_date": 1463604273, "answer_id": 37309802, "question_id": 37138088, "link": "https://stackoverflow.com/questions/37138088/gulp-with-typedoc-error/37309802#37309802", "title": "Gulp with TypeDoc error", "body": "<p>Try adding the <code>experimentalDecorators</code> option to your gulpfile, as follows:</p>\n\n<pre><code>var gulp = require('gulp');    \n\nvar typedoc = require(\"gulp-typedoc\");\ngulp.task(\"typedoc\", function() {\n    return gulp\n        .src([\"src/**/*.ts\"])\n        .pipe(typedoc({\n            module: \"commonjs\",\n            target: \"es5\",\n            out: \"docs/\",\n            name: \"My project title\",\n            \"experimentalDecorators\": \"true\",\n        }))\n        ;\n});\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 4317989, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/572033e322ab9803e68dadb4c6cd648f?s=128&d=identicon&r=PG&f=1", "display_name": "Akin D&#246;nmez", "link": "https://stackoverflow.com/users/4317989/akin-d%c3%b6nmez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463604273, "creation_date": 1462882059, "question_id": 37138088, "link": "https://stackoverflow.com/questions/37138088/gulp-with-typedoc-error", "title": "Gulp with TypeDoc error", "body": "<p>I m trying to run the gulp task for TypeDoc but i m getting this errors for every ts file i have </p>\n\n<pre><code> Experimental support for decorators is a feature that is subject to change in a future release. Specify '--experimentalDecorators' to remove this warning\n</code></pre>\n\n<p>my gulp file :</p>\n\n<pre><code>var gulp = require('gulp');\n\nvar typedoc = require(\"gulp-typedoc\");\ngulp.task(\"typedoc\", function() {\n    return gulp\n        .src([\"src/**/*.ts\"])\n        .pipe(typedoc({\n            module: \"commonjs\",\n            target: \"es5\",\n            out: \"docs/\",\n            name: \"My project title\"\n        }))\n        ;\n});\n</code></pre>\n\n<p>Any idea why this is happening ?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 12071, "user_id": 2114871, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/32014397a1d14951a2f9170e1805766f?s=128&d=identicon&r=PG", "display_name": "iberbeu", "link": "https://stackoverflow.com/users/2114871/iberbeu"}, "edited": false, "score": 0, "creation_date": 1462884111, "post_id": 37137767, "comment_id": 61816468, "body": "Maybe <code>this</code> is what is undefined. Have you tried <code>changeController() =&gt; {...}</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 13358, "user_id": 3878940, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v1J2L.jpg?s=128&g=1", "display_name": "Aditya Singh", "link": "https://stackoverflow.com/users/3878940/aditya-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1462884283, "creation_date": 1462884283, "answer_id": 37138965, "question_id": 37137767, "link": "https://stackoverflow.com/questions/37137767/how-do-i-make-services-available-outside-of-constructor-in-angular/37138965#37138965", "title": "How do I make services available outside of constructor in angular?", "body": "<p>In your case the value of <code>this</code> is incorrect which is a very common issue due to misunderstanding of ES6 classes. Try using lambda to have lexical scoping:</p>\n\n<pre><code>  changeController = () =&gt; {\n    console.log(\"change controller\");\n    this.$state.go('test'); // Fails here\n  };\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4891608, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c056aa3ea4b8e7fd13a0fc0ec219d1?s=128&d=identicon&r=PG&f=1", "display_name": "acloD128", "link": "https://stackoverflow.com/users/4891608/aclod128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 37138965, "answer_count": 1, "score": 1, "last_activity_date": 1462884283, "creation_date": 1462881188, "last_edit_date": 1462883998, "question_id": 37137767, "link": "https://stackoverflow.com/questions/37137767/how-do-i-make-services-available-outside-of-constructor-in-angular", "title": "How do I make services available outside of constructor in angular?", "body": "<p>I have the following problem. When I have a class in ionic with angular I can access angular services in the constructor after injecting them:</p>\n\n<pre><code>export class HomeController {\n    static $inject = [\n        '$scope',\n        '$state'\n    ];\n\n    constructor(\n       public $scope : any,\n       public $state : any\n    ) {\n        this.$state.go('test');\n        this.$scope.changeController = this.changeController;\n    }\n\n    changeController() {\n        console.log(\"change controller\");\n    };\n}\n</code></pre>\n\n<p>However when I change it to the change controller function, it doesn't work</p>\n\n<pre><code>export class HomeController {\n    static $inject = [\n        '$scope',\n        '$state'\n    ];\n\n    constructor(\n       public $scope : any,\n       public $state : any\n    ) {\n        this.$scope.changeController = this.changeController;\n    }\n\n    changeController() {\n        console.log(\"change controller\");\n        this.$state.go('test'); // Fails here\n    };\n}\n</code></pre>\n\n<p>This is the error: </p>\n\n<blockquote>\n  <p>Error: undefined is not an object (evaluating 'this.$state.go')</p>\n</blockquote>\n\n<p>What can I do?</p>\n\n<p>On top of that, is it correct add the changeController function to the scope or is there an easier method to make it available to a template?</p>\n\n<p>Thx in advance</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1462880626, "post_id": 37137492, "comment_id": 61813774, "body": "You are setting the property of IAnimal, not Animal. Logic: You are creating an anonymous json with a <code>name</code> field. Then it is accepted &#39;implicitly&#39; as the interface structure in the constructor because the signature matches. As far as i know, the only way to trigger the setter is to say <code>new Animal().name = &#39;&#39;</code>"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462881864, "post_id": 37137492, "comment_id": 61814714, "body": "The ctor does not &quot;know&quot; to use your setter. The setters/getters are methods that you expose to be used from outside the class. If you want the ctor to use it you need to do so yourself in the ctor: <code>this.name = data.name;</code>"}, {"owner": {"reputation": 5200, "user_id": 848706, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4fadbeb3bbc0593c7bec755bf94d52bf?s=128&d=identicon&r=PG", "display_name": "Peter Boomsma", "link": "https://stackoverflow.com/users/848706/peter-boomsma"}, "edited": false, "score": 0, "creation_date": 1462882023, "post_id": 37137492, "comment_id": 61814826, "body": "Thanks Nitza, just figured it out. Came to the same conclusion :). If you want you can write an answer so I can give your some credit."}, {"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1462886553, "post_id": 37137492, "comment_id": 61818434, "body": "Tips: you can use <code>constructor( private _data: IAnimal )</code> <a href=\"https://www.typescriptlang.org/docs/tutorial.html#classes\" rel=\"nofollow noreferrer\">Ref</a>"}], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1462882750, "creation_date": 1462882750, "answer_id": 37138363, "question_id": 37137492, "link": "https://stackoverflow.com/questions/37137492/typescript-new-skips-properties/37138363#37138363", "title": "Typescript &#39;new&#39; skips properties", "body": "<p>I've decided to write an answer, not in order to answer your question but to point out an issue you might get yourself into.</p>\n\n<p>First of, to answer what I did in my comment, you need to call the setter yourself, so you ctor should look something like this:</p>\n\n<pre><code>constructor(data: IAnimal) {\n    this.name = data.name;\n}\n</code></pre>\n\n<p>Another problem you have here is that you don't assign a value to the <code>_data</code> member, so it should look like:</p>\n\n<pre><code>constructor(data: IAnimal) {\n    this._data = {};\n    this.name = data.name;\n}\n</code></pre>\n\n<p>And then you'll be good, but beware of doing this:</p>\n\n<pre><code>this._data = data;\n</code></pre>\n\n<p>Because then you might find yourself having a reference for the same object in different instance of <code>Animal</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3560, "user_id": 90690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32f91d1f201ae0d7a2f2ecdcaaf1760?s=128&d=identicon&r=PG", "display_name": "Andy Hopper", "link": "https://stackoverflow.com/users/90690/andy-hopper"}, "is_accepted": false, "score": 2, "last_activity_date": 1462883938, "last_edit_date": 1462883938, "creation_date": 1462882792, "answer_id": 37138378, "question_id": 37137492, "link": "https://stackoverflow.com/questions/37137492/typescript-new-skips-properties/37138378#37138378", "title": "Typescript &#39;new&#39; skips properties", "body": "<p>It appears that you're trying to use the C# \"property initializer\" syntax with your Animal type. However, what you're actually doing is passing an object into the constructor and then ONLY printing the value of the name property. If you were to follow that console.log statement with an assignment to this.name, you would see the runtime error:</p>\n\n<pre><code>this._data = new Animal(); // Otherwise we'll get a reference error\nconsole.log('name: ' + data.name);\nthis.name = data.name;\n</code></pre>\n\n<p>Now, that should resolve your original issue, but I do see another conceptual issue with your code: you're defining an IAnimal interface, but you're <em>containing</em> that interface in your Animal class instead of implementing it. While this isn't technically a problem, you should be asking yourself whether Animal <em>is an</em> IAnimal or whether it <em>has an</em> IAnimal. In this case, I suspect you intend the former, which would make your code look like:</p>\n\n<pre><code>interface IAnimal {\n    name: string;\n}\n\nclass Animal implements IAnimal {\n    // Note that we now have a member to contain the\n    // backing value for the 'name' property here instead\n    // of the original IAnimal type.\n    private _name : string;\n\n    // Constructor\n    constructor(\n        data: IAnimal\n    ) {\n        console.log('name: ' + data.name);\n        this.name = data.name;\n    }\n\n    // Properties\n    get name() {\n        return this._name\n    }\n\n    set name(value: string) {\n        if (value.length &lt; 1) {\n            alert(\"No name\");\n        } else {\n            this._name = value;\n        }\n    }\n}\n\nlet lionJon = new Animal({name: ''});\n</code></pre>\n"}], "owner": {"reputation": 5200, "user_id": 848706, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4fadbeb3bbc0593c7bec755bf94d52bf?s=128&d=identicon&r=PG", "display_name": "Peter Boomsma", "link": "https://stackoverflow.com/users/848706/peter-boomsma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1463174279, "creation_date": 1462880448, "last_edit_date": 1463174279, "question_id": 37137492, "link": "https://stackoverflow.com/questions/37137492/typescript-new-skips-properties", "title": "Typescript &#39;new&#39; skips properties", "body": "<p>I have a animal class and interface,</p>\n\n<pre><code>interface IAnimal {\n    name: string;\n}\n\nclass Animal {\n\n    // Fields\n    _data: IAnimal;\n\n    // Constructor\n    constructor(\n        data: IAnimal\n    ) {\n        console.log('name: ' + data.name);\n    }\n\n    // Propperties\n    get name() {\n        return this._data.name\n    }\n\n    set name(value: string) {\n        if (value.length &lt; 1) {\n            alert(\"No name\");\n        } else {\n            this._data.name = value\n        }\n    }\n\n}\n\nlet lionJon = new Animal({name: ''});\n</code></pre>\n\n<p>As you can see I'm creating a new object but with an empty name string. I would expect the <code>set name</code> to throw an alert since the value of name is less then 1 character long.</p>\n\n<p>Instead it skips the whole get and set and goes straight to the contructor, bypassing the check.</p>\n"}, {"tags": ["typescript", "angular", "angular2-directives"], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 2, "last_activity_date": 1462880374, "creation_date": 1462880374, "answer_id": 37137457, "question_id": 37137393, "link": "https://stackoverflow.com/questions/37137393/angular2-angular2-dev-js23501-exception-no-directive-annotation-found-on-art/37137457#37137457", "title": "Angular2 - angular2.dev.js:23501 EXCEPTION: No Directive annotation found on ArticleComponent", "body": "<p>You define the <code>@Component</code> on the wrong class: <code>Article</code> instead of <code>ArticleComponent</code>. You set the <code>ArticleComponent</code> class within the <code>directives</code> attribute of the <code>RedditApp</code> class.</p>\n\n<p>You could change this this way:</p>\n\n<pre><code>class Article {\n  (...)\n}\n\n@Component({\n  (...)\n})\nclass ArticleComponent {\n  (...)\n}\n\n@Component({\n  (...)\n})\nclass RedditApp {\n  (...)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462880381, "creation_date": 1462880381, "answer_id": 37137460, "question_id": 37137393, "link": "https://stackoverflow.com/questions/37137393/angular2-angular2-dev-js23501-exception-no-directive-annotation-found-on-art/37137460#37137460", "title": "Angular2 - angular2.dev.js:23501 EXCEPTION: No Directive annotation found on ArticleComponent", "body": "<p>You list <code>ArticleComponent</code> in <code>directives</code> of <code>RedditApp</code> but <code>ArticleComponent</code> isn't a directive. It doesn't have a <code>@Directive(...)</code> or <code>@Component(...)</code> decorator.</p>\n"}], "owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 37137457, "answer_count": 2, "score": 0, "last_activity_date": 1462880381, "creation_date": 1462880223, "question_id": 37137393, "link": "https://stackoverflow.com/questions/37137393/angular2-angular2-dev-js23501-exception-no-directive-annotation-found-on-art", "title": "Angular2 - angular2.dev.js:23501 EXCEPTION: No Directive annotation found on ArticleComponent", "body": "<p>I'm following ng-book2 in writing a simple reddit clone app. So far all I have is a index.html file and a single app.ts file.</p>\n\n<p>Now in my app.ts file, I declare 2 components. The second component - <code>reddit</code> is supposed to load the first component - <code>reddit-article</code> and the <code>Article</code> class. Now upon running the server I get the following error:</p>\n\n<blockquote>\n  <p>angular2.dev.js:23501 EXCEPTION: No Directive annotation found on\n  ArticleComponentBrowserDomAdapter.logError @\n  angular2.dev.js:23501BrowserDomAdapter.logGroup @\n  angular2.dev.js:23512ExceptionHandler.call @\n  angular2.dev.js:1185(anonymous function) @\n  angular2.dev.js:12489NgZone._notifyOnError @\n  angular2.dev.js:13533collection_1.StringMapWrapper.merge.onError @\n  angular2.dev.js:13437Zone.run @ angular2-polyfills.js:1247(anonymous\n  function) @ angular2.dev.js:13456zoneBoundFn @\n  angular2-polyfills.js:1220lib$es6$promise$$internal$$tryCatch @\n  angular2-polyfills.js:468lib$es6$promise$$internal$$invokeCallback @\n  angular2-polyfills.js:480lib$es6$promise$$internal$$publish @\n  angular2-polyfills.js:451(anonymous function) @\n  angular2-polyfills.js:123microtask @ angular2.dev.js:13488Zone.run @\n  angular2-polyfills.js:1243(anonymous function) @\n  angular2.dev.js:13456zoneBoundFn @\n  angular2-polyfills.js:1220lib$es6$promise$asap$$flush @\n  angular2-polyfills.js:262 angular2.dev.js:23501\n  STACKTRACE:BrowserDomAdapter.logError @\n  angular2.dev.js:23501ExceptionHandler.call @\n  angular2.dev.js:1187(anonymous function) @\n  angular2.dev.js:12489NgZone._notifyOnError @\n  angular2.dev.js:13533collection_1.StringMapWrapper.merge.onError @\n  angular2.dev.js:13437Zone.run @ angular2-polyfills.js:1247(anonymous\n  function) @ angular2.dev.js:13456zoneBoundFn @\n  angular2-polyfills.js:1220lib$es6$promise$$internal$$tryCatch @\n  angular2-polyfills.js:468lib$es6$promise$$internal$$invokeCallback @\n  angular2-polyfills.js:480lib$es6$promise$$internal$$publish @\n  angular2-polyfills.js:451(anonymous function) @\n  angular2-polyfills.js:123microtask @ angular2.dev.js:13488Zone.run @\n  angular2-polyfills.js:1243(anonymous function) @\n  angular2.dev.js:13456zoneBoundFn @\n  angular2-polyfills.js:1220lib$es6$promise$asap$$flush @\n  angular2-polyfills.js:262 angular2.dev.js:23501 Error: No Directive\n  annotation found on ArticleComponent\n      at new BaseException (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:7385:21\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:7385:21</a>)\n      at DirectiveResolver.resolve (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:6688:13\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:6688:13</a>)\n      at RuntimeMetadataResolver.getDirectiveMetadata (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:22724:47\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:22724:47</a>)\n      at <a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:22792:22\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:22792:22</a>\n      at Array.map (native)\n      at Array.map (<a href=\"http://localhost:8080/node_modules/es6-shim/es6-shim.js:1101:14\" rel=\"nofollow\">http://localhost:8080/node_modules/es6-shim/es6-shim.js:1101:14</a>)\n      at RuntimeMetadataResolver.getViewDirectivesMetadata (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:22791:25\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:22791:25</a>)\n      at TemplateCompiler._compileNestedComponentRuntime (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24763:63\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24763:63</a>)\n      at <a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24748:26\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24748:26</a>\n      at Array.forEach (native)</p>\n  \n  <p>-----async gap----- Error\n      at _getStacktraceWithUncaughtError (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2244:29\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2244:29</a>)\n      at Zone.fork (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2293:47\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2293:47</a>)\n      at Zone.bind (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:1218:53\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:1218:53</a>)\n      at bindArguments (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:1401:36\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:1401:36</a>)\n      at lib$es6$promise$promise$$Promise.obj.(anonymous function) [as then]\n  (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:1413:46\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:1413:46</a>)\n      at TemplateCompiler._compileComponentRuntime (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24741:14\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24741:14</a>)\n      at TemplateCompiler.compileHostComponentRuntime (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24693:14\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:24693:14</a>)\n      at RuntimeCompiler_.compileInHost (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:25044:37\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:25044:37</a>)\n      at DynamicComponentLoader_.loadAsRoot (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12253:29\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12253:29</a>)\n      at di_1.provide.useFactory (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12351:39\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12351:39</a>)</p>\n  \n  <p>-----async gap----- Error\n      at _getStacktraceWithUncaughtError (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2244:29\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2244:29</a>)\n      at Zone.fork (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2293:47\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2-polyfills.js:2293:47</a>)\n      at NgZone._createInnerZone (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:13444:39\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:13444:39</a>)\n      at new NgZone (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:13310:32\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:13310:32</a>)\n      at createNgZone (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12373:12\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12373:12</a>)\n      at PlatformRef_.application (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12448:31\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:12448:31</a>)\n      at Object.bootstrap (<a href=\"http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:25239:64\" rel=\"nofollow\">http://localhost:8080/node_modules/angular2/bundles/angular2.dev.js:25239:64</a>)\n      at execute (<a href=\"http://localhost:8080/app.js:76:23\" rel=\"nofollow\">http://localhost:8080/app.js:76:23</a>)\n      at ensureEvaluated (<a href=\"http://localhost:8080/node_modules/systemjs/dist/system.src.js:2981:26\" rel=\"nofollow\">http://localhost:8080/node_modules/systemjs/dist/system.src.js:2981:26</a>)\n      at Object.execute (<a href=\"http://localhost:8080/node_modules/systemjs/dist/system.src.js:3099:13\" rel=\"nofollow\">http://localhost:8080/node_modules/systemjs/dist/system.src.js:3099:13</a>)</p>\n</blockquote>\n\n<p>index.html:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Angular 2 - Simple Reddit&lt;/title&gt;\n    &lt;link rel=\"icon\" type=\"image/png\" href=\"resources/images/favicon-32x32.png\" sizes=\"32x32\" /&gt;\n    &lt;link rel=\"icon\" href=\"resources/images/favicon.ico\" /&gt;\n    &lt;!-- Libraries --&gt;\n    &lt;script src=\"node_modules/es6-shim/es6-shim.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Stylesheet --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"resources/vendor/semantic.min.css\"&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\"&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;!-- Configure System.js, our module loader --&gt;\n    &lt;script&gt;\n      System.config({\n        packages: {        \n          app: {\n            format: 'register',\n            defaultExtension: 'js'\n          }\n        }\n      });\n      System.import('app.js')\n            .then(null, console.error.bind(console));\n    &lt;/script&gt;\n\n    &lt;!-- Menu Bar --&gt;\n    &lt;div class=\"ui menu\"&gt;\n      &lt;div class=\"ui container\"&gt;\n        &lt;a href=\"#\" class=\"header item\"&gt;\n          &lt;img class=\"logo\" src=\"resources/images/ng-book-2-minibook.png\"&gt;\n          ng-book 2\n        &lt;/a&gt;\n        &lt;div class=\"header item borderless\"&gt;\n          &lt;h1 class=\"ui header\"&gt;\n            Angular 2 Simple Reddit\n          &lt;/h1&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"ui main text container\"&gt;\n      &lt;reddit&gt;Loading...&lt;/reddit&gt; &lt;!-- &lt;--- Our app loads here! --&gt;\n    &lt;/div&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>app.ts:</p>\n\n<pre><code>import { bootstrap } from 'angular2/platform/browser';\nimport { Component } from 'angular2/core';\n\n@Component({\n  selector: 'reddit-article',\n  host: {\n    class: 'row'\n  },\n  template: `\n&lt;div class=\"four wide column center aligned votes\"&gt; &lt;div class=\"ui statistic\"&gt;\n&lt;div class=\"value\"&gt; {{ article.votes }}\n&lt;/div&gt;\n&lt;div class=\"label\"&gt;\nPoints\n        &lt;/div&gt;\n      &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"twelve wide column\"&gt;\n&lt;a class=\"ui large header\" href=\"{{ article.link }}\"&gt; {{ article.title }}\n&lt;/a&gt;\n&lt;ul class=\"ui big horizontal list voters\"&gt;\n&lt;li class=\"item\"&gt;\n&lt;a href (click)=\"voteUp()\"&gt;\n&lt;i class=\"arrow up icon\"&gt;&lt;/i&gt; upvote\n&lt;/a&gt; &lt;/li&gt;\n&lt;li class=\"item\"&gt;\n&lt;a href (click)=\"voteDown()\"&gt;\n&lt;i class=\"arrow down icon\"&gt;&lt;/i&gt;\ndownvote\n&lt;/a&gt; &lt;/li&gt;\n&lt;/ul&gt; &lt;/div&gt;\n`\n})\n\nclass Article {\n  title: string;\n  link: string;\n  votes: number;\n\n  constructor(title: string, link: string, votes?: number) {\n    this.title = title;\n    this.link = link;\n    this.votes = votes || 0;\n  }\n\n  voteUp(): void {\n    this.votes += 1;\n  }\n\n  voteDown(): void {\n    this.votes -= 1;\n  }\n}\n\nclass ArticleComponent {\n  article: Article;\n\n  constructor() {\n    this.article = new Article('Angular 2', 'http://angular.io', 10);\n  }\n\n  voteUp(): boolean {\n    this.article.voteUp();\n    return false;\n  }\n\n  voteDown(): boolean {\n    this.article.voteDown();\n    return false;\n  }\n}\n\n@Component({\n  selector: 'reddit',\n  directives: [ArticleComponent],\n  template: `\n    &lt;form class=\"ui large form segment\"&gt;\n      &lt;h3 class=\"ui header\"&gt;Add a Link&lt;/h3&gt;\n&lt;div class=\"field\"&gt;\n&lt;label for=\"title\"&gt;Title:&lt;/label&gt; &lt;input name=\"title\" #newtitle&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field\"&gt;\n        &lt;label for=\"link\"&gt;Link:&lt;/label&gt;\n        &lt;input name=\"link\" #newlink&gt;\n&lt;/div&gt;\n      &lt;button (click)=\"addArticle(newtitle, newlink)\"\n              class=\"ui positive right floated button\"&gt;\n        Submit link\n      &lt;/button&gt;\n&lt;/form&gt; \n&lt;div class=\"ui grid posts\"&gt;\n  &lt;reddit-article&gt;\n  &lt;/reddit-article&gt;\n&lt;/div&gt;`\n})\n\nclass RedditApp {\n  constructor() {\n  }\n  addArticle(title: HTMLInputElement, link: HTMLInputElement): void {\n    console.log(`Adding article title: ${title.value} and link: ${link.value}`);\n  }\n}\n\nbootstrap(RedditApp);\n</code></pre>\n"}, {"tags": ["typescript", "angular", "commonjs"], "comments": [{"owner": {"reputation": 3084, "user_id": 5868331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpLps.jpg?s=128&g=1", "display_name": "mayur", "link": "https://stackoverflow.com/users/5868331/mayur"}, "edited": false, "score": 0, "creation_date": 1462880536, "post_id": 37136985, "comment_id": 61813706, "body": "Angular apps are modular. They consist of many files each dedicated to a purpose.  Angular itself is modular. It is a collection of library modules each made up of several, related features that we&#39;ll use to build our application.  When we need something from a module, we import it. Here we import the Angular Component decorator function from @angular/core because we need it to define our component.  app/app.component.ts (import)  import { Component } from &#39;@angular/core&#39;;"}, {"owner": {"reputation": 2166, "user_id": 339803, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a909dd778f428502ebc3d2a03a3f4325?s=128&d=identicon&r=PG", "display_name": "redfox05", "link": "https://stackoverflow.com/users/339803/redfox05"}, "reply_to_user": {"reputation": 3084, "user_id": 5868331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpLps.jpg?s=128&g=1", "display_name": "mayur", "link": "https://stackoverflow.com/users/5868331/mayur"}, "edited": false, "score": 1, "creation_date": 1476980583, "post_id": 37136985, "comment_id": 67588209, "body": "@mayur, I think you may have misunderstood the question. The OP is not asking what or why the import functions are used, but they are asking about the use of the <code>&quot;@&quot;</code> symbol. The answer below from Gunter explains this. Check out the changelog in the link they posted."}], "answers": [{"comments": [{"owner": {"reputation": 1692, "user_id": 2237684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/43SMP.jpg?s=128&g=1", "display_name": "Ryan Rahlf", "link": "https://stackoverflow.com/users/2237684/ryan-rahlf"}, "edited": false, "score": 0, "creation_date": 1463340970, "post_id": 37137000, "comment_id": 62014490, "body": "Any idea why the switch?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1692, "user_id": 2237684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/43SMP.jpg?s=128&g=1", "display_name": "Ryan Rahlf", "link": "https://stackoverflow.com/users/2237684/ryan-rahlf"}, "edited": false, "score": 1, "creation_date": 1463341055, "post_id": 37137000, "comment_id": 62014513, "body": "@RyanRahlf AFAIK there are name restrictions for namespaces on NPM and the <code>@</code> is one of these. They also don&#39;t want different namespaces for different Angular versions, just one for everything Angular."}, {"owner": {"reputation": 7520, "user_id": 4642530, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/8mVz6.jpg?s=128&g=1", "display_name": "garrettmac", "link": "https://stackoverflow.com/users/4642530/garrettmac"}, "edited": false, "score": 0, "creation_date": 1474771009, "post_id": 37137000, "comment_id": 66665652, "body": "what if you use a module below <b>beta.17</b> in a <b>r.c.</b> project? Which syntax do you use then?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474786293, "post_id": 37137000, "comment_id": 66668124, "body": "What beta 17 module? I&#39;m sure Angular2 modules won&#39;t work together if versions differ. Perhaps with some luck you can make something work if ther versions only differ a bit, but there were always so many changes that it&#39;s very unlikely."}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "edited": false, "score": 0, "creation_date": 1488271610, "post_id": 37137000, "comment_id": 72145831, "body": "@G&#252;nterZ&#246;chbauer. If I import only one component like <code>import { Component } from &#39;@angular&#47;core&#39;</code> instead of <code>import * from &#39;@angular&#47;core&#39;</code>, will it affect on the effectiveness of the code, not at the first glance ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1488271834, "post_id": 37137000, "comment_id": 72145963, "body": "Sorry, don&#39;t know about that. I&#39;m not really using TS myself."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1488271996, "post_id": 37137000, "comment_id": 72146062, "body": "<a href=\"http://stackoverflow.com/questions/33305954/typescript-export-vs-default-export/33307487#33307487\" title=\"typescript export vs default export\">stackoverflow.com/questions/33305954/&hellip;</a> also doesn&#39;t say anything about effectiveness. I guess it won&#39;t make a difference."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 9, "last_activity_date": 1462879103, "creation_date": 1462879103, "answer_id": 37137000, "question_id": 37136985, "link": "https://stackoverflow.com/questions/37136985/import-from-angular-instead-of-angular2/37137000#37137000", "title": "import { * } from &quot;@angular&quot; instead of &quot;angular2&quot;", "body": "<p>That's a change that was introduced with the update from beta.17 to rc.0</p>\n\n<p><a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#200-rc0-2016-05-02\" rel=\"noreferrer\">https://github.com/angular/angular/blob/master/CHANGELOG.md#200-rc0-2016-05-02</a></p>\n"}], "owner": {"reputation": 15293, "user_id": 2837412, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e3799ff084fe44182f5d8b1d22e49c9a?s=128&d=identicon&r=PG", "display_name": "Nishchit", "link": "https://stackoverflow.com/users/2837412/nishchit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5872, "favorite_count": 3, "answer_count": 1, "score": 11, "last_activity_date": 1462879103, "creation_date": 1462879053, "question_id": 37136985, "link": "https://stackoverflow.com/questions/37136985/import-from-angular-instead-of-angular2", "title": "import { * } from &quot;@angular&quot; instead of &quot;angular2&quot;", "body": "<p>I am little confused here in angular2. Many example show like</p>\n\n<pre><code>import { Component } from \"@angular/core\"\n</code></pre>\n\n<p>But actually in <code>node_module</code> there is <code>angular2</code>directory exists. So logically it should be</p>\n\n<pre><code>import { Component } from \"angular2/core\" \n</code></pre>\n\n<p>What is the difference between this two ?</p>\n"}, {"tags": ["typescript", "npm", "angular", "gsap", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 3055, "user_id": 5476757, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gCVFl.jpg?s=128&g=1", "display_name": "Saiyaff Farouk", "link": "https://stackoverflow.com/users/5476757/saiyaff-farouk"}, "edited": false, "score": 0, "creation_date": 1503251277, "post_id": 38643255, "comment_id": 78527780, "body": "Hey since angular-cli files are changed, can you update the answer? for an example, step2 and step3 are not there anymore.  PS - I&#39;ve been looking for solutions for my error and came across this. <a href=\"https://github.com/greensock/GreenSock-JS/issues/228\" rel=\"nofollow noreferrer\">github.com/greensock/GreenSock-JS/issues/228</a>"}, {"owner": {"reputation": 10453, "user_id": 5904566, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-0EFYFwb0YqE/AAAAAAAAAAI/AAAAAAAAAA0/4Kehw78dfgg/photo.jpg?sz=128", "display_name": "AIon", "link": "https://stackoverflow.com/users/5904566/aion"}, "reply_to_user": {"reputation": 3055, "user_id": 5476757, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gCVFl.jpg?s=128&g=1", "display_name": "Saiyaff Farouk", "link": "https://stackoverflow.com/users/5476757/saiyaff-farouk"}, "edited": false, "score": 0, "creation_date": 1503328320, "post_id": 38643255, "comment_id": 78558983, "body": "@Saiyaff Farouk thank you for telling me :) Can you please verify that now is ok? I don&#39;t work with angular anymore. I&#39;m using <code>elm</code> for almost everything now. I&#39;ve gotten a bit rusty on angular :)"}, {"owner": {"reputation": 268, "user_id": 883631, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b5cdaaf32a21f3c316fa450aa95623e8?s=128&d=identicon&r=PG", "display_name": "Eugene Kuzmin", "link": "https://stackoverflow.com/users/883631/eugene-kuzmin"}, "edited": false, "score": 0, "creation_date": 1507198059, "post_id": 38643255, "comment_id": 80118748, "body": "Could you help me what to do with Angular 1 ?"}], "tags": [], "owner": {"reputation": 10453, "user_id": 5904566, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-0EFYFwb0YqE/AAAAAAAAAAI/AAAAAAAAAA0/4Kehw78dfgg/photo.jpg?sz=128", "display_name": "AIon", "link": "https://stackoverflow.com/users/5904566/aion"}, "is_accepted": false, "score": 6, "last_activity_date": 1503328188, "last_edit_date": 1503328188, "creation_date": 1469727571, "answer_id": 38643255, "question_id": 37135894, "link": "https://stackoverflow.com/questions/37135894/using-tweenmax-in-angular2-project/38643255#38643255", "title": "Using TweenMax in Angular2 project", "body": "<p>Adding <strong>this</strong> external package to angular 2 is almost the same like any other package out there. jquery, firebase, you name it..</p>\n\n<p>But you should know that at this moment, there are no typings file for the gsap module. So you can't cherry pick the imports however you want. This also means no intelisense in typescript :( But you can still use it like this:</p>\n\n<p><strong>Step 1:</strong> npm install it</p>\n\n<pre><code>npm install gsap --save\n</code></pre>\n\n<p><strong>Step 2:</strong> prevent typescript for complaining about not finding the clases by adding the following line to <code>typings.d.ts</code> file:</p>\n\n<pre><code>declare var module: { id: string };\n\ndeclare let TimelineMax: any; // declare it as any.\n // so no error complains, Typescript compiler is happy now:)\n</code></pre>\n\n<p>Once the typings file are created for this module step 4 becomes: </p>\n\n<pre><code>typings install gsap --save. After that make sure you have included: /// &lt;reference path=\"../typings/path to your gsap typings\" /&gt;\n</code></pre>\n\n<p><strong>Step 3:</strong> use it in your component - for example in <code>app.component.ts</code>:</p>\n\n<pre><code>import 'gsap' // this is required for TimelineMax() to work\n// decorator stuff here.\nexport class AppComponent implements OnInit{\n\n  ngOnInit(){\n\n    let targetObject = document.getElementByTagName('h1');\n\n    let tl = TimelineMax(); // this is free of errors now\n\n    tl.from(targetObject, 1, { x:400 });\n    tl.play();\n  }\n}\n</code></pre>\n\n<p><strong>Step 4:</strong> in this setup, there is no need to add anything to the main.ts (bootstrap file) so enjoy!</p>\n"}, {"comments": [{"owner": {"reputation": 973, "user_id": 3620174, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/913803286e58f4e0a881024bfadc9680?s=128&d=identicon&r=PG&f=1", "display_name": "pikausp", "link": "https://stackoverflow.com/users/3620174/pikausp"}, "edited": false, "score": 0, "creation_date": 1500477528, "post_id": 42937220, "comment_id": 77356871, "body": "When I do that <code>TweenLite</code> is undefined, any idea?"}, {"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "edited": false, "score": 1, "creation_date": 1504185077, "post_id": 42937220, "comment_id": 78924067, "body": "Worked for me. Thank you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8923822"}, "edited": false, "score": 1, "creation_date": 1522404438, "post_id": 42937220, "comment_id": 86152201, "body": "@types/gsap works perfect, all methods recognized, thanks! (angular 5.2.9)"}], "tags": [], "owner": {"reputation": 4785, "user_id": 303723, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3xgj7.jpg?s=128&g=1", "display_name": "Johansrk", "link": "https://stackoverflow.com/users/303723/johansrk"}, "is_accepted": false, "score": 6, "last_activity_date": 1490127007, "creation_date": 1490127007, "answer_id": 42937220, "question_id": 37135894, "link": "https://stackoverflow.com/questions/37135894/using-tweenmax-in-angular2-project/42937220#42937220", "title": "Using TweenMax in Angular2 project", "body": "<p>There is an easier way\njust</p>\n\n<pre><code>npm install --save-dev gsap\nnpm install --save-dev @types/gsap\n</code></pre>\n\n<p>in your ts file, import gsap</p>\n\n<pre><code>import {TweenLite} from \"gsap\";\n</code></pre>\n\n<p>and in your method or on ngOnInit you can write</p>\n\n<pre><code>let photo = document.getElementById(\"photo\");\nTweenLite.to(photo, 2, {width:\"200px\", height:\"550px\"});\n</code></pre>\n\n<p>if you have a div with and ID of photo</p>\n"}, {"tags": [], "owner": {"reputation": 2016, "user_id": 2091104, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4mlwF.jpg?s=128&g=1", "display_name": "Pageii Studio", "link": "https://stackoverflow.com/users/2091104/pageii-studio"}, "is_accepted": false, "score": 0, "last_activity_date": 1518626538, "creation_date": 1518626538, "answer_id": 48792159, "question_id": 37135894, "link": "https://stackoverflow.com/questions/37135894/using-tweenmax-in-angular2-project/48792159#48792159", "title": "Using TweenMax in Angular2 project", "body": "<p>Beside adding type definition for gsap, try:</p>\n\n<ul>\n<li>running it outside Angular Zone</li>\n<li>assign an instance with <code>this</code></li>\n</ul>\n\n<p>like so:</p>\n\n<pre><code>import { NgZone } from '@angular/core';\nimport {TweenMax} from \"gsap\";\n\nmyTween: any;\n\nconstructor( private ngZone: NgZone ){}\n\nngOnInit() {\n\n    this.ngZone.runOutsideAngular(() =&gt; \n      {\n        this.tween = TweenMax;\n        this.tween.to( some params ); // do your stuff\n      }\n    );\n}\n</code></pre>\n\n<p>Note: Tested on Angular 5.2.4 / Cli: 1.6.8 / typescript: 2.53</p>\n"}], "owner": {"reputation": 183, "user_id": 1106282, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/fc860b68d1e8e2d7b6252377f7e7e347?s=128&d=identicon&r=PG", "display_name": "Marcelo Concei&#231;&#227;o", "link": "https://stackoverflow.com/users/1106282/marcelo-concei%c3%a7%c3%a3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6625, "favorite_count": 4, "answer_count": 3, "score": 4, "last_activity_date": 1518626538, "creation_date": 1462876217, "last_edit_date": 1462882963, "question_id": 37135894, "link": "https://stackoverflow.com/questions/37135894/using-tweenmax-in-angular2-project", "title": "Using TweenMax in Angular2 project", "body": "<p>How can I setup TweenMax in my Angular2 project. Instead of adding the script in my HTML I want to be able to import TweenMax similar to this:</p>\n\n<pre><code>import { TweenMax } from 'gsap';\n</code></pre>\n\n<p>NOTE: I'm using angular-cli.</p>\n"}, {"tags": ["angularjs", "typescript", "angular-directive"], "comments": [{"owner": {"reputation": 12071, "user_id": 2114871, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/32014397a1d14951a2f9170e1805766f?s=128&d=identicon&r=PG", "display_name": "iberbeu", "link": "https://stackoverflow.com/users/2114871/iberbeu"}, "edited": false, "score": 0, "creation_date": 1462878755, "post_id": 37135673, "comment_id": 61812361, "body": "what is exactly not working? do you get any error? Haven&#39;t you forgot to call <code>vm.toolbarButtons</code> instead of only <code>toolbarButtons</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 285, "user_id": 6202910, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/BOUqB.png?s=128&g=1", "display_name": "Abel", "link": "https://stackoverflow.com/users/6202910/abel"}, "edited": false, "score": 0, "creation_date": 1462888515, "post_id": 37140018, "comment_id": 61819933, "body": "Actually, I had forgotten to use the alias in the view, but this is not the (only) problem. View is still not render anything. Any idea?"}], "tags": [], "owner": {"reputation": 3560, "user_id": 90690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32f91d1f201ae0d7a2f2ecdcaaf1760?s=128&d=identicon&r=PG", "display_name": "Andy Hopper", "link": "https://stackoverflow.com/users/90690/andy-hopper"}, "is_accepted": false, "score": 2, "last_activity_date": 1462886880, "creation_date": 1462886880, "answer_id": 37140018, "question_id": 37135673, "link": "https://stackoverflow.com/questions/37135673/angularjs-directive-as-typescript-way/37140018#37140018", "title": "AngularJS directive as Typescript way", "body": "<p>You're almost there; you're just running into an issue with the 'controllerAs' option. You're specifying that the controller for your directive should be referenced in the template using the prefix 'vm', but your template isn't using that. As @iberbeu mentioned, you should make sure that you're using the controller alias:</p>\n\n<pre><code>&lt;!-- Note the use of 'vm.toolbarButtons' below! --&gt;\n&lt;div class=\"row\" ng-repeat=\"toolBtn in vm.toolbarButtons\" ng-click=\"toolbarBtnAction(toolBtn, $index)\"&gt;\n    &lt;div class=\"{{toolBtn.isPressed ? toolBtn.enabledBck : toolBtn.disabledBck}}\"&gt;\n        &lt;img ng-src=\"{{toolBtn.isPressed ? toolBtn.enabledImgIcon : toolBtn.disabledImgIcon}}\"&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 6202910, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/BOUqB.png?s=128&g=1", "display_name": "Abel", "link": "https://stackoverflow.com/users/6202910/abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1462891394, "creation_date": 1462891394, "answer_id": 37141808, "question_id": 37135673, "link": "https://stackoverflow.com/questions/37135673/angularjs-directive-as-typescript-way/37141808#37141808", "title": "AngularJS directive as Typescript way", "body": "<p>Finally, I find the solution. The problem was the use of Doctype in the view. I remove it and now it works fine!</p>\n\n<p>My fault for not including the doctype in example, my apologies.</p>\n"}], "owner": {"reputation": 285, "user_id": 6202910, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/BOUqB.png?s=128&g=1", "display_name": "Abel", "link": "https://stackoverflow.com/users/6202910/abel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462891394, "creation_date": 1462875666, "question_id": 37135673, "link": "https://stackoverflow.com/questions/37135673/angularjs-directive-as-typescript-way", "title": "AngularJS directive as Typescript way", "body": "<p>First of all, I have looked for examples and none of them offer the solution I'm looking for.</p>\n\n<p>I have an AngularJS directive and it works fine, but actually I really want it with Typescript. </p>\n\n<p>My question is not related to the way to translate the javascript code to typescript, but I really want to understand data binding with Controller, because when translated into typescript the view has stopped working.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>Directive</strong></p>\n\n<pre><code>namespace Directives {\n\n\"use strict\";\n\nexport interface ISidebarController {\n    toolbarButtons: any[];\n    toolbarBck: string;\n    toolbarBtnAction: Function;\n}\n\nclass SidebarController implements ISidebarController {\n    static $inject = [\"$location\"];\n    constructor(private $location: ng.ILocationService) {\n    }\n    public toolbarBck = \"sidebar-disabled\";\n    public toolbarButtons = [\n        {\n            enabledImgIcon: \"../resources/img/sidebar/enabled/list_icon.png\",\n            disabledImgIcon: \"../resources/img/sidebar/disabled/list_icon.png\",\n            enabledBck: \"sidebar-enabled\",\n            disabledBck: \"sidebar-disabled\",\n            isEnabled: true,\n            isPressed: false\n        }, {\n            enabledImgIcon: \"../resources/img/sidebar/enabled/create.png\",\n            disabledImgIcon: \"../resources/img/sidebar/disabled/create.png\",\n            enabledBck: \"sidebar-enabled\",\n            disabledBck: \"sidebar-disabled\",\n            isEnabled: true,\n            isPressed: false\n        }\n    ];\n    public toolbarBtnAction = function(btnObj, index) {\n        btnObj.isPressed = !btnObj.isPressed;            \n    };\n}\nfunction sidebar(): ng.IDirective {\n    return {\n        restrict: \"E\",\n        templateUrl: \"widgets/sidebar.html\",\n        replace: true,\n        scope: {},\n        controller: SidebarController,\n        controllerAs: \"vm\",\n        bindToController: true\n    };\n}\nangular.module(\"app.confVersion\").directive(\"sidebar\", sidebar);\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>&lt;div class=\"row\" ng-repeat=\"toolBtn in toolbarButtons\" ng-click=\"toolbarBtnAction(toolBtn, $index)\"&gt;\n    &lt;div class=\"{{toolBtn.isPressed ? toolBtn.enabledBck : toolBtn.disabledBck}}\"&gt;\n        &lt;img ng-src=\"{{toolBtn.isPressed ? toolBtn.enabledImgIcon : toolBtn.disabledImgIcon}}\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["json", "web-services", "typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462875642, "post_id": 37135361, "comment_id": 61810156, "body": "What is <code>jsonObject</code> or how does it look like? Looks like a dup of <a href=\"http://stackoverflow.com/questions/22875636/how-do-i-cast-a-json-object-to-a-typescript-class\" title=\"how do i cast a json object to a typescript class\">stackoverflow.com/questions/22875636/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 6314484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OYhToyGy6xs/AAAAAAAAAAI/AAAAAAAAAHc/HZ_QG3xnTSg/photo.jpg?sz=128", "display_name": "Philip Harper", "link": "https://stackoverflow.com/users/6314484/philip-harper"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462875753, "post_id": 37135361, "comment_id": 61810229, "body": "@G&#252;nterZ&#246;chbauer The jsonObject looks like this. <code>export class JsonObject{   constructor(     public fullDisplayName:string,     public result:string) { } }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6314484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OYhToyGy6xs/AAAAAAAAAAI/AAAAAAAAAHc/HZ_QG3xnTSg/photo.jpg?sz=128", "display_name": "Philip Harper", "link": "https://stackoverflow.com/users/6314484/philip-harper"}, "edited": false, "score": 0, "creation_date": 1462876403, "post_id": 37135793, "comment_id": 61810677, "body": "Ah I see, that makes sense. However it is still not showing in my HTML.  {{ jsonObject.result }}   This outputs no data even though the log is showing the object as being populated."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 6314484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OYhToyGy6xs/AAAAAAAAAAI/AAAAAAAAAHc/HZ_QG3xnTSg/photo.jpg?sz=128", "display_name": "Philip Harper", "link": "https://stackoverflow.com/users/6314484/philip-harper"}, "edited": false, "score": 1, "creation_date": 1462876598, "post_id": 37135793, "comment_id": 61810802, "body": "Is it printing to the console? Do you get an error in the console? I guess you need <code>{{jsonObject?.result }}</code> See also the link in my comment below your question."}, {"owner": {"reputation": 23, "user_id": 6314484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OYhToyGy6xs/AAAAAAAAAAI/AAAAAAAAAHc/HZ_QG3xnTSg/photo.jpg?sz=128", "display_name": "Philip Harper", "link": "https://stackoverflow.com/users/6314484/philip-harper"}, "edited": false, "score": 2, "creation_date": 1462876838, "post_id": 37135793, "comment_id": 61810968, "body": "That was it. It just needed the question mark! I have created used web services before but they have always returned arrays which have not needed the ? to be referenced.  Thanks you for your help."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1462875959, "creation_date": 1462875959, "answer_id": 37135793, "question_id": 37135361, "link": "https://stackoverflow.com/questions/37135361/how-do-you-call-a-web-service-that-returns-single-json-object-in-angular-2/37135793#37135793", "title": "How do you call a web service that returns single JSON object in Angular 2?", "body": "<pre><code>     console.log(this.jsonObject)\n     console.log(\"AFTER\")\n</code></pre>\n\n<p>is executed before the request to <code>this.url</code> is even sent to the server. <code>Observable</code> is async and execution is enqueued into the event queue and when the response arrives the callback you passed to <code>subscribe(...)</code> is executed.</p>\n\n<p>This is what you actually need to do:</p>\n\n<pre><code>getJsonObject() {\n   console.log('BEFORE')\n   this.service.getJsonObject()\n      .subscribe(\n          jsonObject=&gt; {\n              this.jsonObject = jsonObject,\n              console.log(this.jsonObject)\n              console.log(\"AFTER\")\n          },\n          error =&gt;  this.errorMessage = &lt;any&gt;error);\n }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6314484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OYhToyGy6xs/AAAAAAAAAAI/AAAAAAAAAHc/HZ_QG3xnTSg/photo.jpg?sz=128", "display_name": "Philip Harper", "link": "https://stackoverflow.com/users/6314484/philip-harper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 37135793, "answer_count": 1, "score": 2, "last_activity_date": 1462875959, "creation_date": 1462874859, "question_id": 37135361, "link": "https://stackoverflow.com/questions/37135361/how-do-you-call-a-web-service-that-returns-single-json-object-in-angular-2", "title": "How do you call a web service that returns single JSON object in Angular 2?", "body": "<p>Trying to call a webservice from Angular 2 that returns a single Json object:</p>\n\n<pre><code>{\n   \"fullDisplayName\": \"test\",\n   \"result\": \"SUCCESS\"\n}\n</code></pre>\n\n<p>Below are the code snippets for my route:</p>\n\n<p><strong>Service</strong></p>\n\n<pre><code>getJsonObject () {\n    return this.http.get(this.url)\n                    .map(res =&gt; &lt;jsonObject&gt; res.json())\n                    .do(jsonObject=&gt; console.log(jsonObject))\n                    .catch(this.handleError);\n}\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>getJsonObject() {\n   console.log('BEFORE')\n   this.service.getJsonObject()\n      .subscribe(\n          jsonObject=&gt; this.jsonObject = jsonObject,\n          error =&gt;  this.errorMessage = &lt;any&gt;error);\n          console.log(this.jsonObject)\n          console.log(\"AFTER\")\n }\n</code></pre>\n\n<p>All that I get is a undefined object but I can see the JSON in the console log in chrome. The funny thing is I place a log in the component before and after the call, both those logs are displayed before the JSON found is displayed in log, making it look like it's somehow trying to map the object before the web service returns the data.</p>\n\n<p><strong>Console Log</strong></p>\n\n<pre><code> Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode.\n BEFORE\n undefined\n AFTER\n Object {fullDisplayName: \"test\", result: \"SUCCESS\"}\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1462887309, "post_id": 37135276, "comment_id": 61819027, "body": "Have you checked <code>typings&#47;main.d.ts</code>?"}, {"owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "edited": false, "score": 0, "creation_date": 1462897247, "post_id": 37135276, "comment_id": 61826195, "body": "does your source ts files reside inside proxy\\&lt;another folder&gt;\\ts files?"}, {"owner": {"reputation": 1798, "user_id": 1640736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d611d8f6008eb8c9f881e54c2055e058?s=128&d=identicon&r=PG", "display_name": "taigi100", "link": "https://stackoverflow.com/users/1640736/taigi100"}, "reply_to_user": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1462897400, "post_id": 37135276, "comment_id": 61826281, "body": "@Zen Yes, it looks good!"}, {"owner": {"reputation": 1798, "user_id": 1640736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d611d8f6008eb8c9f881e54c2055e058?s=128&d=identicon&r=PG", "display_name": "taigi100", "link": "https://stackoverflow.com/users/1640736/taigi100"}, "reply_to_user": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "edited": false, "score": 0, "creation_date": 1462897437, "post_id": 37135276, "comment_id": 61826307, "body": "@MadhuRanjan Only have one ts file called proxy.ts inside the proxy folder. I&#39;ve also tried moving everything to the root folder but same problems."}], "answers": [{"comments": [{"owner": {"reputation": 1798, "user_id": 1640736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d611d8f6008eb8c9f881e54c2055e058?s=128&d=identicon&r=PG", "display_name": "taigi100", "link": "https://stackoverflow.com/users/1640736/taigi100"}, "edited": false, "score": 0, "creation_date": 1462945616, "post_id": 37144131, "comment_id": 61844954, "body": "Tried it, with that I&#39;m getting duplicate identifier ( also tried excluding the main.d.ts in typings from tsconfig and still getting the duplicate error)."}], "tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1462897676, "creation_date": 1462897676, "answer_id": 37144131, "question_id": 37135276, "link": "https://stackoverflow.com/questions/37135276/typescript-module-is-not-defined/37144131#37144131", "title": "Typescript module is not defined", "body": "<p>Put a new main.d.ts inside proxy folder with below content</p>\n\n<pre><code> /// &lt;reference path=\"./typings/main.d.ts\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 584, "user_id": 6332642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd6ae047df1e886499cea3052155ea3?s=128&d=identicon&r=PG&f=1", "display_name": "DollarCoffee", "link": "https://stackoverflow.com/users/6332642/dollarcoffee"}, "edited": false, "score": 0, "creation_date": 1467484765, "post_id": 37166857, "comment_id": 63754677, "body": "I have  question about an <code>npm</code> package that you published.  Are you willing to help resolve it?  Here is the link:  <a href=\"http://stackoverflow.com/questions/38162115/what-is-the-user-in-this-node-js-package-code\" title=\"what is the user in this node js package code\">stackoverflow.com/questions/38162115/&hellip;</a>"}], "tags": [], "owner": {"reputation": 414, "user_id": 1090990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7436e2338a2ae070a61ad78d853a6be?s=128&d=identicon&r=PG", "display_name": "blakeembrey", "link": "https://stackoverflow.com/users/1090990/blakeembrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1462979755, "creation_date": 1462979755, "answer_id": 37166857, "question_id": 37135276, "link": "https://stackoverflow.com/questions/37135276/typescript-module-is-not-defined/37166857#37166857", "title": "Typescript module is not defined", "body": "<p>I answered on the GitHub issue (<a href=\"https://github.com/typings/typings/issues/491\" rel=\"nofollow\">https://github.com/typings/typings/issues/491</a>). In summary, you need to correct the <code>gulp.src()</code> call to not ignore <em>all</em> typings and only ignore either <em>main</em> or <em>browser</em> typings. E.g. <code>gulp.src(['proxy/**/*.ts', '!proxy/typings/main/**', '!proxy/typings/main.d.ts']</code>.</p>\n"}], "owner": {"reputation": 1798, "user_id": 1640736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d611d8f6008eb8c9f881e54c2055e058?s=128&d=identicon&r=PG", "display_name": "taigi100", "link": "https://stackoverflow.com/users/1640736/taigi100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1462979755, "creation_date": 1462874647, "question_id": 37135276, "link": "https://stackoverflow.com/questions/37135276/typescript-module-is-not-defined", "title": "Typescript module is not defined", "body": "<p>I'm working on upgrading to Angular2 RC1 and I've suddenly got the following errors on a pretty simple typescript server :\n<a href=\"https://i.stack.imgur.com/UkWyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkWyG.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have installed the typings I though were required and I'm building it using gulp:\ntypings.json:</p>\n\n<pre><code>{\n  \"ambientDependencies\": {\n  \"es6-collections\": \"registry:dt/es6-collections#0.5.1+20160316155526\",\n  \"es6-promise\": \"registry:dt/es6-promise#0.0.0+20160423074304\",\n  \"es6-shim\": \"registry:dt/es6-shim#0.31.2+20160317120654\",\n  \"express\": \"registry:dt/express#4.0.0+20160317120654\",\n  \"express-serve-static-core\": \"registry:dt/express-serve-static-core#0.0.0+20160322035842\",\n  \"node\": \"registry:dt/node#4.0.0+20160505172921\",\n  \"require\": \"registry:dt/require#2.1.20+20160316155526\",\n  \"serve-static\": \"registry:dt/serve-static#0.0.0+20160501131543\"\n  }\n}\n</code></pre>\n\n<p>gulp task for proxy building:</p>\n\n<pre><code>gulp.task('build:proxy', function () {\n    var tsProject = ts.createProject('tsconfig.json');\n    var tsResult = gulp.src(['proxy/**/*.ts','!proxy/typings/**/*.*'])\n        .pipe(sourcemaps.init())\n        .pipe(ts(tsProject))\n    return tsResult.js\n        .pipe(concat('proxy.js'))\n        .pipe(sourcemaps.write())\n        .pipe(gulp.dest('dist'))\n});\n</code></pre>\n\n<p>and tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"proxy/typings/main\",\n    \"proxy/typings/main.d.ts\"\n  ],\n  \"buildOnSave\": false,\n  \"disableCompileOnSave\": true,\n  \"compileOnSave\" : false\n}    \n</code></pre>\n\n<p>Since everything seems to look like before I've kept my imports the same, for example <code>import express = require('express')</code>. I can't seem to figure out what I have to do to get those modules in.</p>\n"}, {"tags": ["events", "typescript", "angular", "eventemitter"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1462869809, "creation_date": 1462869809, "answer_id": 37133357, "question_id": 37133325, "link": "https://stackoverflow.com/questions/37133325/angular2-how-to-communicate-between-two-separate-components/37133357#37133357", "title": "angular2- how to communicate between two separate components?", "body": "<p>For communication between components that are not in a direct parent-child relationship use a shared service to share data and communicate.</p>\n\n<p>For more info see <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow\">https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service</a></p>\n"}, {"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 1, "last_activity_date": 1462869835, "last_edit_date": 1495540944, "creation_date": 1462869835, "answer_id": 37133366, "question_id": 37133325, "link": "https://stackoverflow.com/questions/37133325/angular2-how-to-communicate-between-two-separate-components/37133366#37133366", "title": "angular2- how to communicate between two separate components?", "body": "<p>If there is no relation (parent/child) between your two components, you need to leverage a shared service.</p>\n\n<p>See this question for more details:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36283803/angular-2-using-observables-in-a-component-to-emit-values-to-other-components/36283857#36283857\">Angular 2 - Using Observables in a component to emit values to other components</a></li>\n</ul>\n\n<p>This link from the angular doc could also help you:</p>\n\n<ul>\n<li><a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service</a></li>\n</ul>\n"}], "owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2592, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462884000, "creation_date": 1462869695, "last_edit_date": 1462884000, "question_id": 37133325, "link": "https://stackoverflow.com/questions/37133325/angular2-how-to-communicate-between-two-separate-components", "title": "angular2- how to communicate between two separate components?", "body": "<p>I am working on this angular2 project.\nI have 2 components i.e. <code>WorkspacesComponent &amp; PagesComponent</code>.</p>\n\n<p>in database,each workspace contains number of pages. \nI have written below code to populate list of workspaces in workspacesComponent &amp; list of pages in PagesComponent.</p>\n\n<p><strong>getting workspaces from database</strong></p>\n\n<pre><code> this.workspaceService.getAllWorkspaces(this.baseUrl)\n        .subscribe((workspaces) =&gt; {\n            this.workspaces = workspaces;\n            console.log(this.workspaces);\n        }\n        );\n</code></pre>\n\n<p><strong>getting pages from databases</strong></p>\n\n<pre><code>this.pagesService.getAllpages(this.baseUrl)\n        .subscribe((pages) =&gt; {\n            this.pages = pages;\n            console.log(this.pages);\n        }\n        );\n</code></pre>\n\n<p>so far , they are returning me correct data.but I want to implement the functionality where I will be selecting workspace in <code>workspaceComponent</code> &amp; all the pages in that workspace only should be listed in <code>pagesComponent</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UY7dO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UY7dO.png\" alt=\"Expected result\"></a></p>\n\n<p>that is, on click of workspace, its index can be passed to below method.</p>\n\n<pre><code>getPagesByWorkspaceId(index:string){\n    console.log(index);\n}\n</code></pre>\n\n<p>and this method will load the list of pages in that workspace accordingly.\nthe problem is that I am not sure how to call a method in <code>PagesComponent</code> from <code>WorkspacesComponent</code></p>\n\n<p>any inputs?</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 2, "last_activity_date": 1462868641, "creation_date": 1462868641, "answer_id": 37132978, "question_id": 37132953, "link": "https://stackoverflow.com/questions/37132953/cannot-find-name-x-even-though-name-was-imported-directly-above/37132978#37132978", "title": "Cannot find name &#39;X&#39;, even though name was imported directly above", "body": "<p>You can't use interface for provider tokens since they doesn't exist at runtime. You need to use a class, a string or an <code>OpqueToken</code> instead.</p>\n\n<p>Otherwise I would try the following:</p>\n\n<pre><code>export interface StorageBackend extends Storage { }\n</code></pre>\n\n<p>The <code>declare</code> keyword is to \"declare\" an element but in a definition file (<code>.d.ts</code>) not in a TypeScript module itself.</p>\n"}], "owner": {"reputation": 798, "user_id": 390450, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/sWT6c.jpg?s=128&g=1", "display_name": "Te-j&#233; Rodgers", "link": "https://stackoverflow.com/users/390450/te-j%c3%a9-rodgers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 37132978, "answer_count": 1, "score": 1, "last_activity_date": 1462868641, "creation_date": 1462868574, "question_id": 37132953, "link": "https://stackoverflow.com/questions/37132953/cannot-find-name-x-even-though-name-was-imported-directly-above", "title": "Cannot find name &#39;X&#39;, even though name was imported directly above", "body": "<p>I'm not sure exactly what's going on here. The name is clearly imported directly above.</p>\n\n<p><a href=\"https://i.stack.imgur.com/D0CEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D0CEV.png\" alt=\"Error\"></a></p>\n\n<p>Here's the content of <code>storage-backend.interface.ts</code>:</p>\n\n<pre><code>export declare interface StorageBackend extends Storage { }\n</code></pre>\n\n<p>What's happening?</p>\n"}, {"tags": ["javascript", "mongodb", "mongoose", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4405, "user_id": 2857638, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5IX24.jpg?s=128&g=1", "display_name": "Istv&#225;n", "link": "https://stackoverflow.com/users/2857638/istv%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1462866155, "creation_date": 1462866155, "answer_id": 37132193, "question_id": 37132039, "link": "https://stackoverflow.com/questions/37132039/convert-mongoose-javascript-code-to-typescript-this-reference-lost/37132193#37132193", "title": "Convert mongoose javascript code to typescript. This reference lost", "body": "<p>Try this:</p>\n\n<pre><code>var personSchema = new mongoose.Schema({\n    created: {\n       type: Date,\n       default: Date.now\n    },\n\n    updated: {\n        type: Date\n    }\n\n    saveHandler(next) {\n        // Make sure updated holds the current date/time\n        this.updated = new Date();\n\n        next();\n    }\n});\n\npersonSchema.pre('save', personSchema.saveHandler);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 3359185, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0c5296f14d565e515b50ad19f3a30e2e?s=128&d=identicon&r=PG&f=1", "display_name": "deathandtaxes", "link": "https://stackoverflow.com/users/3359185/deathandtaxes"}, "is_accepted": false, "score": 0, "last_activity_date": 1479399102, "last_edit_date": 1479399102, "creation_date": 1479259037, "answer_id": 40622524, "question_id": 37132039, "link": "https://stackoverflow.com/questions/37132039/convert-mongoose-javascript-code-to-typescript-this-reference-lost/40622524#40622524", "title": "Convert mongoose javascript code to typescript. This reference lost", "body": "<p>So this question is kind of old and I'm not sure that you already solved it but there is no chosen answer for it, so this might help someone else out there.</p>\n\n<p>I struggled with this for a bit myself and I believe I figured it out.</p>\n\n<p>Also, take into account that every code is different, so this might not solve it in every case, but do <strong>try getting rid of the arrow function</strong>. Use a regular function instead.</p>\n\n<p>ES6's arrow functions use lexical scoping, so \"this\" is not what you actually expect in this case. It's more than likely, well... undefined, or the Schema itself. It's not pointing to the document, therefore it won't find any of its methods and/or properties.</p>\n"}], "owner": {"reputation": 41, "user_id": 4034952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sKQlAzEexpo/AAAAAAAAAAI/AAAAAAAAAJ0/cC8Iedl535Y/photo.jpg?sz=128", "display_name": "Marco Trani", "link": "https://stackoverflow.com/users/4034952/marco-trani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1479399102, "creation_date": 1462865711, "question_id": 37132039, "link": "https://stackoverflow.com/questions/37132039/convert-mongoose-javascript-code-to-typescript-this-reference-lost", "title": "Convert mongoose javascript code to typescript. This reference lost", "body": "<p>I started this new adventure in learning typescript. I took a nodejs project written of course in javascript and I'm converting it into typescript. My idea is to see all the benefits and to learn where are the problems, which pattern should I use and so on.<br>\nThe project uses mongodb database with the mongoose javascript library and I'm struggling with how typescript transpilers the code. In simple words: <strong>I lose the this reference</strong>.<br>\nHere is good example that will cause the problem.<br></p>\n\n<pre><code> var personSchema = new mongoose.Schema({\n  created: {\n   type: Date,\n\n   default: Date.now\n  },\n\n  updated:{\n   type: Date,  \n  },\n });\n\n personSchema.pre('save', function(next) {\n\n // Make sure updated holds the current date/time\n\n this.updated = new Date();\n\n next();\n\n });\n\n var Person = mongoose.model('Person', personSchema);\n</code></pre>\n\n<p>In the pre save function there is a <strong>this</strong> reference. The this is a reference of the current person with the updated property. Everything is fine. I saw this pattern in different examples<br><br>\nThis is for me the first time that I'm working on nodejs project.<br>\nHere is how I tried a simple typescript conversion:</p>\n\n<pre><code> interface IPerson extends mongoose.Document{\n  created:Date;\n  updated:Date;\n}\n\n\n var personSchema = new mongoose.Schema({\n  created: {\n   type: Date,\n   default: Date.now\n },\n\n updated: {\n  type: Date\n }\n});\n\npersonSchema.pre('save', (next) =&gt; {\n // Make sure updated holds the current date/time\n this.updated = new Date();\n\n next();\n});\n\nexport =  mongoose.model&lt;IPerson&gt;('Person', personSchema);\n</code></pre>\n\n<p>After typescript transpilers the code the this is swapped with <strong>_this</strong>. On the top of the file you see <strong>var _this = this;</strong>. This is wrong. The new javascript file looses the reference of the person object.<br></p>\n\n<p>Can someone help me how to convert correctly the javascript into typescript? How should I solve this kind of problems? Is there some pattern?<br>\nMy first impression is that sometimes is not straight forward convert javascript into typescript, but I really like it.</p>\n"}, {"tags": ["javascript", "typescript", "angular", "angular2-routing"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462863406, "post_id": 37130712, "comment_id": 61802179, "body": "Please add the relevant code directly to the question instead of just linking to an external resource."}, {"owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462863510, "post_id": 37130712, "comment_id": 61802249, "body": "Actually it was a large block of code so I thought it would be better to use a paste bin . I will edit my question."}, {"owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462863701, "post_id": 37130712, "comment_id": 61802365, "body": "@G&#252;nterZ&#246;chbauer I have edited my question."}], "answers": [{"comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1468611636, "post_id": 38403643, "comment_id": 64216237, "body": "Although the links probably provide useful information, please include in your answer the parts that are relevant for the question: links can break."}], "tags": [], "owner": {"reputation": 1, "user_id": 6546063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JizPS_2YIqM/AAAAAAAAAAI/AAAAAAAAFq4/l15v0RPTMf4/photo.jpg?sz=128", "display_name": "Ridhi", "link": "https://stackoverflow.com/users/6546063/ridhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1468610338, "creation_date": 1468610338, "answer_id": 38403643, "question_id": 37130712, "link": "https://stackoverflow.com/questions/37130712/how-to-pass-filter-value-from-url-after-rebuilding-url-with-the-goal-of-implemen/38403643#38403643", "title": "How to pass filter value from URL after rebuilding url with the goal of implementing infinite scroll using Angular2 and Typescript?", "body": "<p>I'm too very new to angular 2 but this tutorial helped me a lot:\n<a href=\"https://www.pluralsight.com/courses/angular-2-getting-started\" rel=\"nofollow\">https://www.pluralsight.com/courses/angular-2-getting-started</a>\nfurther to implement infinite scroll use:\n<a href=\"https://www.npmjs.com/package/angular2-infinite-scroll\" rel=\"nofollow\">https://www.npmjs.com/package/angular2-infinite-scroll</a>.\nhope this helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 677, "user_id": 6651959, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8492e06732db6b63cdf169bbfbdd6545?s=128&d=identicon&r=PG&f=1", "display_name": "lock42", "link": "https://stackoverflow.com/users/6651959/lock42"}, "is_accepted": true, "score": 0, "last_activity_date": 1515065044, "creation_date": 1515065044, "answer_id": 48094199, "question_id": 37130712, "link": "https://stackoverflow.com/questions/37130712/how-to-pass-filter-value-from-url-after-rebuilding-url-with-the-goal-of-implemen/48094199#48094199", "title": "How to pass filter value from URL after rebuilding url with the goal of implementing infinite scroll using Angular2 and Typescript?", "body": "<p>This is more of an advise than answer. You should avoid using jQuery in Angular. The reason being jQuery modifies the DOM directly and Angular modifies the DOM via an abstraction. You'll run into a lot of trouble doing so.</p>\n\n<p>I couldn't be stuff reading through all that, it's a big mess and doesn't look like you're doing it the proper way anyways and your methods are big and fat and noisy.</p>\n\n<p>If your aim is after scrolling to a certain length then query and display more data then you can try something like:</p>\n\n<pre><code>@HostListener('window:scroll', []) onWindowScroll($event: any) {\n    // your logic...\n}\n</code></pre>\n\n<p>Then in your template use <code>*ngIf</code>etc...</p>\n"}], "owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 48094199, "answer_count": 2, "score": 1, "last_activity_date": 1515065044, "creation_date": 1462861471, "last_edit_date": 1462863665, "question_id": 37130712, "link": "https://stackoverflow.com/questions/37130712/how-to-pass-filter-value-from-url-after-rebuilding-url-with-the-goal-of-implemen", "title": "How to pass filter value from URL after rebuilding url with the goal of implementing infinite scroll using Angular2 and Typescript?", "body": "<p>I have a search page where you can search books and apply several filters. On allpying filter I am sending the request in the URL to server. I have implemented that using the following javascript -> </p>\n\n<pre><code>$(document).ready(function(){\nvar base_url = 'https://'+window.location.hostname;\nvar url = base_url+'/books/search/';\nvar next_url = base_url+'/books/search/next/';\nvar filter_url = base_url+'/books/search/filter/';\nvar search_input = $('.search-bar input');\n\nvar bookSeach = {\n\n    searchQueryAsString : function(el){\n        var id = $(el).attr('id');\n        var id = id.substr(id.lastIndexOf('_')+1)\n        var filter_type = $(el).closest('ul.p-search-var-items').attr('filter-type')\n        var name = $(el).val();\n        $('#'+filter_type+'_id').val(id)\n        $('#'+filter_type+'_name').val(name)\n        return this.buildSearchQuery()\n    },\n\n    searchQueryAsArray : function(el){\n\n        el.find('input:checkbox:checked').each(function(){\n            var filter=$(this).closest('.p-search-var-items').attr('filter-type')\n            var id = $(this).attr('id')\n            var name = $(this).val()\n            id = id.substr(id.lastIndexOf('_')+1)\n            var value = $('#'+filter+'_id').val()!='' ?$('#'+filter+'_id').val()+','+id : id\n            $('#'+filter+'_id').val(value)\n            var nvalue = $('#'+filter+'_name').val()!='' ?$('#'+filter+'_name').val()+','+name : name\n            $('#'+filter+'_name').val(nvalue)\n        })\n        return this.buildSearchQuery()\n    },\n\n    buildSearchQuery : function(){\n        var self = this;\n        var query_url = base_url+'/books/search/';\n        $('input.filter_value').each(function(){\n            var el = $(this);\n            if(el.val()!=''){\n                value = $.trim(el.val())\n                query_url = self.updateQueryStringParameter(query_url,el.attr('id'),value)\n                next_url = self.updateQueryStringParameter(next_url,el.attr('id'),value)\n                filter_url = self.updateQueryStringParameter(filter_url,el.attr('id'),value)\n            }\n        })\n        return {'url':query_url,'next_url':next_url,'filter_url':filter_url};\n    },\n\n    updateQueryStringParameter : function(uri, key, value) {\n      var re = new RegExp(\"([?&amp;])\" + key + \"=.*?(&amp;|$)\", \"i\");\n      var separator = uri.indexOf('?') !== -1 ? \"&amp;\" : \"?\";\n      if (uri.match(re)) {\n        return uri.replace(re, '$1' + key + \"=\" + value + '$2');\n      }\n      else {\n        return uri + separator + key + \"=\" + value;\n      }\n    },\n\n    filterText : function (elem) {\n        var value = elem.val().toLowerCase();\n        var filter = elem.attr('data-filter')\n        $(\".p-search-var-items[filter-type='\"+filter+\"'] &gt; li\").each(function() {\n            if ($(this).text().toLowerCase().search(value) &gt; -1) {\n                $(this).show();\n            }\n            else {\n                $(this).hide();\n            }\n        });\n    },\n\n    loadBooksOnScroll : function(count){\n        var ajax_url = bookSeach.buildSearchQuery()\n        if($('#dropdownMenu1').attr('data-filter-applied')!=''){\n            ajax_url = ajax_url['filter_url']\n            data = {'index':count,'type':$('#dropdownMenu1').attr('data-filter-applied')}\n        }else{\n            ajax_url = ajax_url['next_url']\n            data = {'index':count}\n\n        }\n        this.ajaxHandler(ajax_url,'GET',data,this.renderBookList)\n    },\n    loadBooksOnSort : function(type){\n        var ajax_url = bookSeach.buildSearchQuery()\n        ajax_url = ajax_url['filter_url']\n        this.ajaxHandler(ajax_url,'GET',{'index':0,'type':type},function(response){\n            $('.p-result').html('')\n            bookSeach.renderBookList(response)\n        })\n    },\n    ajaxHandler : function(url,method,data,callback){\n        $.ajax({\n            'url':url,\n            'type':method,\n            'data':data,\n            'success':function(response){\n                if(response){\n                    callback(response)\n                }\n            }\n        })\n    },\n\n    filterContentByKeyWord: function(key,type){\n        var keyword = {}\n        keyword[type+'_key']=key\n        var ajax_url = base_url+'/'+type+'s/search/';\n        this.ajaxHandler(ajax_url,'GET',keyword,function(result){\n            bookSeach.renderFilterContent(result,type)\n        })\n    },\n\n    renderFilterContent: function(results,type){\n        $('.'+type+'-results').html('')\n        var template =_.template($('#'+type+'_template').html())\n        var id = this.getUrlParameter(type+'_id')\n        console.log(id, results,id)\n        $('.'+type+'-results').append(template({'results':results,'id':id}))\n    },\n\n    renderBookList : function(books){\n        var template =_.template($('#book_detail').html())\n        $('.p-result').append(template({'books':books}))\n    },\n\n    removeParameter : function(url, parameter){\n\n      var urlparts= url.split('?');\n\n      if (urlparts.length&gt;=2)\n      {\n          var urlBase=urlparts.shift(); //get first part, and remove from array\n          var queryString=urlparts.join(\"?\"); //join it back up\n\n          var prefix = encodeURIComponent(parameter)+'=';\n          var pars = queryString.split(/[&amp;;]/g);\n          for (var i= pars.length; i--&gt;0;)\n              if (pars[i].lastIndexOf(prefix, 0)!==-1)   //idiom for string.startsWith\n                  pars.splice(i, 1);\n          url = urlBase+'?'+pars.join('&amp;');\n      }\n      return url;\n    },\n\n    getUrlParameter : function(sParam){\n        var sPageURL = window.location.search.substring(1);\n        var sURLVariables = sPageURL.split('&amp;');\n        for (var i = 0; i &lt; sURLVariables.length; i++)\n        {\n            var sParameterName = sURLVariables[i].split('=');\n            if (sParameterName[0] == sParam)\n            {\n                return sParameterName[1];\n            }\n        }\n    }\n\n};\n\n// Search within filters by keyword - START\n\n//Delay function to prevent calling the function on every key press\nvar delay = (function(){\n  var timer = 0;\n  return function(callback, ms){\n    clearTimeout (timer);\n    timer = setTimeout(callback, ms);\n  };\n})();\n\n//On keyup for search within filters\n$('.p-search-cat-box').on('keyup',function(){\n    var self = this\n    delay(function(){\n        var filter = $(self).attr('data-filter');\n        if(filter=='author' || filter=='publisher' || filter=='seller' || filter=='institute'){\n            $('#'+filter+'_key').val($(self).val())\n            bookSeach.filterContentByKeyWord($(self).val(),filter)\n        }else{\n            bookSeach.filterText($(self))\n        }\n    }, 600 )\n\n});\n\n// Search within filters by keyword - END\n\n\n//Filters on change event  - START\n\n// For category and sub category\n$('.p-search-var-items input:radio').on('change',function(){\n    var redirect_url = bookSeach.searchQueryAsString($(this))\n    window.location.href = redirect_url['url'];\n})\n\n// For Authors, Publishers and Binding\n$(document).on('change','.p-search-var-items input:checkbox',function(){\n    elem = $(this)\n    el = elem.closest('.p-search-var-items')\n    $('#'+el.attr('filter-type')+'_id').val('')\n    $('#'+el.attr('filter-type')+'_name').val('')\n    var redirect_url = bookSeach.searchQueryAsArray(elem.closest('.p-search-cat-list'))\n    window.location.href = redirect_url['url'];\n})\n\n//Filters on change event  - END\n\n// Filters - collapse up and down - START\n\n$('.filter-container .p-sub-cat i').on('click',function(){\n    if($(this).hasClass('fa-minus')){\n        $(this).closest('.filter-container').find('.p-search-cat').hide(\"slide\",{direction:'up'},500)\n        $(this).removeClass('fa-minus')\n        $(this).addClass('fa-plus')\n    }else{\n        $(this).closest('.filter-container').find('.p-search-cat').show(\"slide\",{direction:'up'},500)\n        $(this).removeClass('fa-plus')\n        $(this).addClass('fa-minus')\n    }\n\n})\n\n// Filters - collapse up and down - END\n\n\n//Search box Header - START\n\n$('#search_books').on('click',function(){\n    var redirect_url = bookSeach.buildSearchQuery()\n    window.location.href = redirect_url['url'];\n})\n\n$(\"#query\").keyup(function(event){\n    if(event.keyCode == 13){\n        $(\"#search_books\").trigger('click');\n    }\n});\n\n//Search box Header - END\n\n//Applied FIlters - remove option\n\n$('.p-filter-title img').on('click',function(){\n    var param = $(this).attr('data-applied-filter')\n    if(param=='author' || param=='publisher' || param=='seller' || param=='institute' || param=='binding' ){\n        var id = $(this).attr('data-filter-id')\n        $('#'+param+'_'+id).removeAttr('checked')\n        $('#'+param+'_'+id).trigger('change')\n    }else{\n        var paramname = param.substr(0,param.lastIndexOf('_')+1)\n        url = bookSeach.removeParameter(window.location.href,paramname+'name')\n        redirect_url = bookSeach.removeParameter(url,param)\n        window.location.href = redirect_url\n    }\n\n})\n\n\n\n//Infinite Scroll - Book Results - START\nif(location.href.indexOf('books/search/')&gt;0){\n    var count =10;\n    $(window).scroll(function(){\n        if  ($(window).scrollTop() == $(document).height() - $(window).height()){\n           bookSeach.loadBooksOnScroll(count);\n           count+=10;\n        }\n    });\n\n}\n\n//Infinite Scroll - Book Results - END\n\n\n//Filters in Responsive Layout - START\n\n$('.apply').on('click',function(){\n    $('.mobile-filters ul.p-search-var-items span.m_apply_filter').each(function(){\n        if($(this).attr('data-is-selected')=='true'){\n            var id = $(this).attr('data-id')\n            var type = $(this).attr('data-type')\n            var value = $('#m_'+type+'_id').val()!=''? $('#m_'+type+'_id').val()+','+id : id\n            $('#m_'+type+'_id').val(value)\n        }\n    })\n\n    $('.m_filter').each(function(){\n        var param = $(this).attr('id');\n        param = param.substr(param.indexOf('m_')+2)\n        value = $.trim($(this).val())\n        redirect_url = bookSeach.updateQueryStringParameter(url,param,value)\n    })\n    window.location.href = redirect_url\n})\n\n$('.m_apply_filter').on('click',function(){\n\n    if($(this).attr('data-is-selected')=='false'){\n        $(this).closest('li').addClass('p-search-var-items-active')\n        $(this).attr('data-is-selected','true')\n    }else{\n        $(this).closest('li').removeClass('p-search-var-items-active')\n\n        $(this).attr('data-is-selected','false')\n    }\n\n})\n\n//Filters in Responsive Layout - END\n\n$('.back-to-top').on('click', function(){\n    $(window).scrollTop(0   )\n})\n\n$(window).on('scroll', function(){\n    if($(window).scrollTop()&gt;1200){\n\n      $('.back-to-top').removeClass('hide')\n    }else{\n      $('.back-to-top').addClass('hide')\n\n    }\n})\n\n$('.presentation a').on('click', function(e){\n    e.preventDefault();\n    var type= $(this).data('type')\n    bookSeach.loadBooksOnSort(type)\n    $('#dropdownMenu1 .sort_filter').text('Sort by :'+type)\n    $('#dropdownMenu1').attr('data-filter-applied',type)\n})\n\n   }\n\n})\n\n})\n</code></pre>\n\n<p>What it does is when you select a filters it changes the url makes a server call and displays the data accordingly.</p>\n\n<p>It also implements infinite scroll on scrolling down it loads 10 more results. </p>\n\n<p>I want to implement the entire thing using Angular2 with typescript. Can someone please suggest me how to implement my js code using typescritp and Angular2. I am new to angular so I am having some problem in implementing the same. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["build", "typescript", "phantomjs", "ecmascript-6", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "edited": false, "score": 0, "creation_date": 1462848303, "post_id": 37127767, "comment_id": 61797174, "body": "I am getting the following error ...  <code>PhantomJS 2.1.1 (Windows 7 0.0.0) ERROR   SyntaxError: Use of reserved word &#39;class&#39;   at e:&#47;Natarajan&#47;Git&#47;mission&#47;mission.api&#47;dist&#47;dev&#47;appsettings.js&zwnj;&#8203;:2</code>"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "edited": false, "score": 0, "creation_date": 1462853179, "post_id": 37127767, "comment_id": 61798225, "body": "<code>Use of reserved word &#39;class&#39; a</code> it seems PhantomJS <i>doesn&#39;t support ES6</i>. Please change <code>target</code> to <code>es5</code> \ud83c\udf39"}, {"owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "edited": false, "score": 0, "creation_date": 1462880884, "post_id": 37127767, "comment_id": 61813972, "body": "we are using <code>async</code> and <code>await</code> in <code>es6</code>. so  I can not change the target to <code>es5</code>."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1462842786, "creation_date": 1462842786, "answer_id": 37127767, "question_id": 37127619, "link": "https://stackoverflow.com/questions/37127619/uncaught-referenceerror-require-is-not-defined-target-to-es6/37127767#37127767", "title": "Uncaught ReferenceError: require is not defined - Target to es6", "body": "<p>Recommend compiling your code with additionally <code>--module commonjs</code> and using a karma plugin that understands commonjs i.e. <a href=\"https://github.com/karma-runner/karma-commonjs\" rel=\"nofollow\">https://github.com/karma-runner/karma-commonjs</a></p>\n"}], "owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 969, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462842786, "creation_date": 1462841556, "question_id": 37127619, "link": "https://stackoverflow.com/questions/37127619/uncaught-referenceerror-require-is-not-defined-target-to-es6", "title": "Uncaught ReferenceError: require is not defined - Target to es6", "body": "<p>i am getting the <code>Uncaught ReferenceError: require is not defined</code> in <code>jasmine</code> unit test with <code>karma</code>.</p>\n\n<p>this my <code>karma.conf.js</code> file.</p>\n\n<p><code>tsconfig.json</code> - target <code>\"target\": \"es6\"</code></p>\n\n<pre><code>module.exports = function (config) {\n  config.set({\n    basePath: './',\n    frameworks: ['jasmine'],\n    files: [\n      'node_modules/reflect-metadata/Reflect.js',\n      'node_modules/systemjs/dist/system-polyfills.js',\n      'node_modules/systemjs/dist/system.src.js',\n      { pattern: 'node_modules/rxjs/**/*.js', included: false, watched: false },\n      { pattern: 'node_modules/rxjs/**/*.js.map', included: false, watched: false },\n      { pattern: 'dist/dev/**/*.js', included: false, watched: true },\n      { pattern: 'node_modules/systemjs/dist/system-polyfills.js', included: false, watched: false }, // PhantomJS2 (and possibly others) might require it\n      'dist/**/*.spec.js',\n    ],\n    proxies: { },\n    exclude: [    ],\n    preprocessors: {\n      'dist/**/!(*spec).js': ['coverage']\n    },\n    reporters: ['mocha', 'coverage'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: [\n      'PhantomJS',\n      'Chrome'\n    ],\n    singleRun: false,\n    client: {    }\n  });\n};\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JBDHl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBDHl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "angular", "observable"], "answers": [{"comments": [{"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1462995633, "post_id": 37126219, "comment_id": 61878403, "body": "Yes! that really helped , thx ;-) Just asked myself why that same error never occured with angular 1.x using NOT reactive extensions like .subscribe(). Is there not a general configuration setting to do a null check before a property is access?"}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1462996275, "post_id": 37126219, "comment_id": 61878769, "body": "Better working is this:   &lt;div *ngIf=&quot;test&quot;&gt;         &lt;b&gt;id: &lt;/b&gt;{{test.id}}        &lt;/div&gt; then I have not to do the ?-operator on every property :)"}], "tags": [], "owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "is_accepted": true, "score": 1, "last_activity_date": 1462833817, "last_edit_date": 1462833817, "creation_date": 1462831656, "answer_id": 37126219, "question_id": 37126048, "link": "https://stackoverflow.com/questions/37126048/mapping-of-http-returned-observable-result-in-null-object/37126219#37126219", "title": "Mapping of http returned observable result in null object", "body": "<p>You are referencing <code>{{test.id}}</code> before <code>test</code> gets the assigned value from the backend. The error will actually stop the script from execution and will never even get to the <code>map</code>. To overcome this problem, use the Elvis Operator <code>?</code></p>\n\n<p>From <a href=\"https://angular.io/cheatsheet\" rel=\"nofollow\">Angular.io cheat sheet</a>:</p>\n\n<blockquote>\n  <p><code>&lt;p&gt;Employer: {{employer?.companyName}}&lt;/p&gt;</code><br>\n  The safe navigation operator (?) means that the employer field is optional and if undefined, the rest of the expression should be ignored.</p>\n</blockquote>\n\n<p>Use it like this:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;label&gt;id: &lt;/label&gt;{{test?.id}}\n    &lt;label&gt;number: &lt;/label&gt;{{test?.number}}\n    &lt;label&gt;date: &lt;/label&gt;{{test?.date}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Also, you didn't show the constructor of <code>EditTest</code>, so I assume it takes the properties and assign them.</p>\n"}], "owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 37126219, "answer_count": 1, "score": 0, "last_activity_date": 1462833817, "creation_date": 1462830688, "question_id": 37126048, "link": "https://stackoverflow.com/questions/37126048/mapping-of-http-returned-observable-result-in-null-object", "title": "Mapping of http returned observable result in null object", "body": "<p>I am doing a http request to my backend getTest method. Thata the data returned from the server tested with fiddler:</p>\n\n<pre><code>{\n  \"number\": \"1a\",\n  \"testId\": 1,\n  \"testNumber\": 5,\n  \"testDate\": \"2016-05-20T00:00:00\",\n  \"assignedPupils\": [],\n  \"unAssignedPupils\": []\n}\n</code></pre>\n\n<p>Something is wrong with the subscribe or rather - so I assume - with the .map function but I am not sure. When I try to debug the mapping I never get into the EditTest class :/ and the error message shows the error in the bound html which is way too late. I need to know WHY 'test' object is undefined! </p>\n\n<p>Anyone sees the problem?</p>\n\n<pre><code>export class EditTestComponent implements OnInit {\n    test: EditTest;\n\n    constructor(\n        private _testsService: TestsService,\n        private _routeParams: RouteParams)\n    { }\n\n    ngOnInit() {\n        let id = this._routeParams.get('id');\n        this._testsService.getTest(id).subscribe(test =&gt; this.test = test.map(t =&gt; new EditTest(t))); \n    }\n\n}\n\n\nTestService.ts:\n\n getTest(id) {\n        return this.http.get('api/tests/edit/' + id).map(res =&gt; res.json());\n    }\n</code></pre>\n\n<p>Html:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;label&gt;id: &lt;/label&gt;{{test.id}}\n    &lt;label&gt;number: &lt;/label&gt;{{test.number}}\n    &lt;label&gt;date: &lt;/label&gt;{{test.date}}\n&lt;/div&gt;\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code>XCEPTION: TypeError: Cannot read property 'id' of undefined in [{{test.id}}\n         in EditTestComponent@3:27]\n</code></pre>\n"}, {"tags": ["node.js", "visual-studio", "typescript", "typescript1.8"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1462837062, "creation_date": 1462837062, "answer_id": 37127085, "question_id": 37125796, "link": "https://stackoverflow.com/questions/37125796/how-do-you-choose-the-version-of-typescript-for-your-node-visual-studio-project/37127085#37127085", "title": "How do you choose the version of typescript for your node visual studio project", "body": "<blockquote>\n  <p>Where do I do that? I am also using Resharper.</p>\n</blockquote>\n\n<p>TypeScript ships with nightlies : <a href=\"http://blogs.msdn.com/b/typescript/archive/2015/07/27/introducing-typescript-nightlies.aspx\" rel=\"nofollow noreferrer\">http://blogs.msdn.com/b/typescript/archive/2015/07/27/introducing-typescript-nightlies.aspx</a> </p>\n\n<h1>More:</h1>\n\n<p>Documentation on how to use it with visual studio <a href=\"https://github.com/Microsoft/TypeScript/wiki/Dev-Mode-in-Visual-Studio\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/Dev-Mode-in-Visual-Studio</a> </p>\n\n<p>From that link : </p>\n\n<p><a href=\"https://i.stack.imgur.com/zI5xU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zI5xU.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1764, "user_id": 970673, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/94b2447e847a20d32c93c5e77e66b041?s=128&d=identicon&r=PG", "display_name": "Jordan Morris", "link": "https://stackoverflow.com/users/970673/jordan-morris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 37127085, "answer_count": 1, "score": 0, "last_activity_date": 1462837062, "creation_date": 1462829342, "question_id": 37125796, "link": "https://stackoverflow.com/questions/37125796/how-do-you-choose-the-version-of-typescript-for-your-node-visual-studio-project", "title": "How do you choose the version of typescript for your node visual studio project", "body": "<p>I have a node console application in VS2015 Update 2. Some Typescript features are missing and I'd like to tell my project to use TS1.8. Where do I do that? I am also using Resharper.</p>\n"}, {"tags": ["angularjs", "typescript", "angular", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 3765, "user_id": 843443, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07748ad3a158dfc6aee92c9bbac06b90?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/843443/jeff"}, "edited": false, "score": 0, "creation_date": 1462884687, "post_id": 37125791, "comment_id": 61816922, "body": "This is for the <code>system-config.ts</code> file in my <code>tsroll</code> library?"}, {"owner": {"reputation": 3765, "user_id": 843443, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07748ad3a158dfc6aee92c9bbac06b90?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/843443/jeff"}, "edited": false, "score": 0, "creation_date": 1462887056, "post_id": 37125791, "comment_id": 61818848, "body": "That was it! thanks! I had to add it to a variable since my packages was set to a variable... <code>cliSystemConfigPackages[&quot;tsroll&quot;] = { &quot;defaultExtension&quot;: &quot;js&quot;}</code>"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 2, "last_activity_date": 1462829323, "creation_date": 1462829323, "answer_id": 37125791, "question_id": 37125014, "link": "https://stackoverflow.com/questions/37125014/issue-importing-typescript-in-angular-cli/37125791#37125791", "title": "Issue importing Typescript in Angular CLI", "body": "<p>I think that an entry is missing in the <code>packages</code> block for your tsroll libary, as described below:</p>\n\n<pre><code>System.config({\n  (...)\n  packages: {\n    tsroll: {\n      defaultExtension: 'js'\n    }\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 3765, "user_id": 843443, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07748ad3a158dfc6aee92c9bbac06b90?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/843443/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "accepted_answer_id": 37125791, "answer_count": 1, "score": 0, "last_activity_date": 1462829323, "creation_date": 1462826224, "question_id": 37125014, "link": "https://stackoverflow.com/questions/37125014/issue-importing-typescript-in-angular-cli", "title": "Issue importing Typescript in Angular CLI", "body": "<p>I rewrote (wrapped) a js library to be a TypeScript one (<a href=\"https://github.com/jdell64/tsroll\" rel=\"nofollow\">tsroll</a>). The purpose of this library is to roll dice. I am trying to use this in my Angular2 CLI applia</p>\n\n<p>I installed it successfully (it now appears in my <code>node_modules</code>). I added it to the <code>angular-cli-build.js</code> file:</p>\n\n<pre><code>module.exports = function(defaults) {\n  return new Angular2App(defaults, {\n    vendorNpmFiles: [\n      'systemjs/dist/system-polyfills.js',\n      'systemjs/dist/system.src.js',\n      'zone.js/dist/*.js',\n      'es6-shim/es6-shim.js',\n      'reflect-metadata/*.js',\n      'rxjs/**/*.js',\n      '@angular/**/*.js',\n      'tsroll/dist/tsroll.js'\n    ]\n  }); \n};\n</code></pre>\n\n<p>I also added the resulting vendor folder to my <code>src/system-config.ts</code> file:</p>\n\n<pre><code>// Apply the CLI SystemJS configuration.\nSystem.config({\n  map: {\n    '@angular': 'vendor/@angular',\n    'rxjs': 'vendor/rxjs',\n    'main': 'main.js',\n    'tsroll': 'vendor/tsroll/dist'\n  },\n  packages: cliSystemConfigPackages\n});\n</code></pre>\n\n<p>I also import it into my <code>die-roller.component.ts</code> file:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as tsroll from 'tsroll/tsroll'; \n\n\n@Component({\n  moduleId: module.id,\n  selector: 'die-roller-app',\n  templateUrl: 'die-roller.component.html',\n  styleUrls: ['die-roller.component.css']\n})\nexport class DieRollerComponent implements OnInit {\n\n  numberOf: number;\n  sides = [2, 4, 6, 8, 10, 12, 20, 100];\n  selectedSide: number;\n\n  constructor() {}\n\n  ngOnInit() {\n    this.numberOf = 1;\n    this.selectedSide = 20;\n  }\n  onSubmit(event) {\n    console.log(this.numberOf);\n    console.log(this.sides);\n    console.log(this.selectedSide);\n    // this line give me probs\n    var dr = new tsroll.DiceRoller.Droll();\n  }\n}\n</code></pre>\n\n<p>Which gives me the following error:</p>\n\n<pre><code>zone.js:101 GET http://localhost:4200/vendor/tsroll/dist/tsroll 404 (Not Found)scheduleTask @ zone.js:101ZoneDelegate.scheduleTask @ zone.js:336Zone.scheduleMacroTask @ zone.js:273(anonymous function) @ zone.js:122send @ VM20162:3fetchTextFromURL @ system.src.js:1154(anonymous function) @ system.src.js:1735ZoneAwarePromise @ zone.js:584(anonymous function) @ system.src.js:1734(anonymous function) @ system.src.js:2759(anonymous function) @ system.src.js:3333(anonymous function) @ system.src.js:3600(anonymous function) @ system.src.js:3985(anonymous function) @ system.src.js:4448(anonymous function) @ system.src.js:4700(anonymous function) @ system.src.js:406ZoneDelegate.invoke @ zone.js:323Zone.run @ zone.js:216(anonymous function) @ zone.js:571ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256drainMicroTaskQueue @ zone.js:474ZoneTask.invoke @ zone.js:426\nzone.js:461 Unhandled Promise rejection: Error: XHR error (404 Not Found) loading http://localhost:4200/vendor/tsroll/dist/tsroll\n        at XMLHttpRequest.wrapFn [as _onreadystatechange] (http://localhost:4200/vendor/zone.js/dist/zone.js:769:30)\n        at ZoneDelegate.invokeTask (http://localhost:4200/vendor/zone.js/dist/zone.js:356:38)\n        at Zone.runTask (http://localhost:4200/vendor/zone.js/dist/zone.js:256:48)\n        at XMLHttpRequest.ZoneTask.invoke (http://localhost:4200/vendor/zone.js/dist/zone.js:423:34)\n    Error loading http://localhost:4200/vendor/tsroll/dist/tsroll as \"tsroll/tsroll\" from http://localhost:4200/app/die-roller/die-roller.component.js ; Zone: &lt;root&gt; ; Task: Promise.then ; Value: Error: Error: XHR error (404 Not Found) loading http://localhost:4200/vendor/tsroll/dist/tsroll(\u2026)consoleError @ zone.js:461_loop_1 @ zone.js:490drainMicroTaskQueue @ zone.js:494ZoneTask.invoke @ zone.js:426\nzone.js:463 Error: Uncaught (in promise): Error: Error: XHR error (404 Not Found) loading http://localhost:4200/vendor/tsroll/dist/tsroll(\u2026)\n</code></pre>\n\n<p><strong>How do I import my own/borrowed TypeScript into an Angular2 CLI Project?</strong></p>\n\n<p>I pasted what I thought was relevant code in here, but the full code can be found:</p>\n\n<p><a href=\"https://github.com/jdell64/testCli\" rel=\"nofollow\">https://github.com/jdell64/testCli</a></p>\n"}, {"tags": ["typescript", "requirejs"], "comments": [{"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1462826122, "post_id": 37124867, "comment_id": 61790700, "body": "My understanding is that tsc will only combine the TS files it transpiles.  If you want to include other files, like the ones mentioned in the shims, you&#39;d need to use a build tool.  But in that case you wouldn&#39;t need the shim.  Is your goal to produce a single file?"}, {"owner": {"reputation": 57, "user_id": 1431343, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a26f6f93098d4761b6d172462e831eaf?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1431343/marc"}, "reply_to_user": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1462827480, "post_id": 37124867, "comment_id": 61791477, "body": "Thanks for the answer.  Well, I would like to create a single file output for much of the app.  I have some utility files that are shared by the different apps in our suite of apps (each app is equal to a page).  I wanted to create bundles for those utilities (e.g., a jquery plus plugins bundle, a bundle of in house utilities, etc..).  And a singe file for app specific code.  I&#39;ve started to look at using requirejs for specifying bundles, but i&#39;m not clear on what to use to build all of this.  thanks in advance."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 3487106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9deef8f7a5ab79cd4978236fe06da0d?s=128&d=identicon&r=PG&f=1", "display_name": "GrayTower", "link": "https://stackoverflow.com/users/3487106/graytower"}, "is_accepted": false, "score": 0, "last_activity_date": 1462833019, "last_edit_date": 1462833019, "creation_date": 1462832694, "answer_id": 37126410, "question_id": 37124867, "link": "https://stackoverflow.com/questions/37124867/mixing-requirejs-shims-with-typescript-how-to-compile-for-production/37126410#37126410", "title": "Mixing RequireJS shims with TypeScript - how to compile for production?", "body": "<p>I would not try and make the TypeScript compiler do the bundling process. Instead I would have a two step build process. </p>\n\n<ol>\n<li>TypeScript files to javascript.</li>\n<li>Use r.js to bundle and minify all of your files to one .js file.</li>\n</ol>\n\n<p>You can find the r.js stuff here:\n<a href=\"http://requirejs.org/docs/optimization.html#download\" rel=\"nofollow\">http://requirejs.org/docs/optimization.html#download</a></p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 4143142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f33c5a0b14c735f792e3ec69608784a?s=128&d=identicon&r=PG&f=1", "display_name": "itavq", "link": "https://stackoverflow.com/users/4143142/itavq"}, "is_accepted": false, "score": 0, "last_activity_date": 1532218705, "last_edit_date": 1532218705, "creation_date": 1532217651, "answer_id": 51460986, "question_id": 37124867, "link": "https://stackoverflow.com/questions/37124867/mixing-requirejs-shims-with-typescript-how-to-compile-for-production/51460986#51460986", "title": "Mixing RequireJS shims with TypeScript - how to compile for production?", "body": "<p>Just an add on to Mark's answer with real life production requireJS setup including shim:</p>\n\n<p>run typescript compiler:</p>\n\n<pre><code>tsc -p .\n</code></pre>\n\n<p>with the following project level\n<strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"noImplicitAny\": false,\n    \"noEmitOnError\": true,\n    \"removeComments\": false,\n    \"sourceMap\": false,\n    \"target\": \"es5\",\n    \"outDir\": \"scripts/dist\",\n}\n</code></pre>\n\n<p>next, this r.js command would do the job:</p>\n\n<pre><code>node r.js -o buildSpec.js name=src/init mainConfigFile=deps.js baseUrl=../\n</code></pre>\n\n<p>with the following <strong>deps.js</strong></p>\n\n<pre><code>require.config({\n\n    baseUrl: \"scripts\",\n\n    // The shim config allows us to configure dependencies for\n    // scripts that do not call define() to register a module\n    shim: {\n        'underscore': {\n            exports: '_'\n        },\n        'jquery': {\n            exports: '$'\n        }\n    },\n    paths: {\n        chartJs: '//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.bundle.min',\n        appRouter: 'infra/appRouter',\n        paymentsHub: 'infra/paymentsHub'\n    }\n});\n</code></pre>\n\n<p><strong>buildSpec.js:</strong></p>\n\n<pre><code>({\n    out: \"../target/app-optimized.js\",\n    include:['someExternalModule'],\n    paths: {\n       jquery: 'lib/jquery/2.2.4/jquery.min'\n    }\n})\n</code></pre>\n\n<p><strong>src/init.js:</strong></p>\n\n<pre><code>require.config({\n    urlArgs: window.siteVersion,\n    waitSeconds: 20\n});\n\nrequire(['scripts/controller'], function () { ... });\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 1431343, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a26f6f93098d4761b6d172462e831eaf?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1431343/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1532218705, "creation_date": 1462825657, "question_id": 37124867, "link": "https://stackoverflow.com/questions/37124867/mixing-requirejs-shims-with-typescript-how-to-compile-for-production", "title": "Mixing RequireJS shims with TypeScript - how to compile for production?", "body": "<p>I'm new to using TypeScript and RequireJS, and I'm in the process of converting a large application written in Marionette/Backbone.</p>\n\n<p>I'm confused by the relationship between TypeScript dependencies within each ts file, and dependencies in the RequireJS config shim for non-AMD compliant files. My app loads fine using individual files and dependencies within ts files and the requirejs config shim section.</p>\n\n<p>I've tried compiling my TypeScript files into a single output file; is the ts transpiler aware of the dependencies as defined in shim section?  It doesn't seem to be as my single output file doesn't have all the required files.</p>\n\n<p>Is this the wrong approach to take?</p>\n\n<p>thanks...</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1462825702, "creation_date": 1462825702, "answer_id": 37124880, "question_id": 37124404, "link": "https://stackoverflow.com/questions/37124404/angular-2-formbuilder-error-during-instantiation/37124880#37124880", "title": "Angular 2 FormBuilder Error During Instantiation", "body": "<p>Since <code>getClients()</code> is an observable, you'd need to set the length inside of the subscribe callback.</p>\n\n<pre><code>var clis: Client[];\nvar length = 0;\nthis._clientService.getClients().subscribe(clients =&gt; {\n    clis = clients;\n    length = clis.length;\n});\n</code></pre>\n\n<p>This ensures that length is properly set once data is returned to your subscribe.  </p>\n\n<p>As for WHY you are getting the error in the first place, you have not initialized your array.  You'd need to actually provide a default value since currently it is undefined which throws an error when you try to check length.</p>\n\n<pre><code>var clis: Client[] = [];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 1, "creation_date": 1462882161, "post_id": 37125725, "comment_id": 61814923, "body": "Thank you so much. I refactored and this is great. Do you know how to display an error message on my page if the controlgroup has the &quot;npiNameDupe&quot; error? I updated my code above with the refactor as well as my template which includes what I thought would work for the npiNameDupe error."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 0, "creation_date": 1462882442, "post_id": 37125725, "comment_id": 61815127, "body": "You&#39;re welcome! Look fine for me. Perhaps a small comment: you could leverage the <code>pending</code> property since you use an asynchronous validator. See this article for more details: <a href=\"http://restlet.com/blog/2016/02/17/implementing-angular2-forms-beyond-basics-part-2/\" rel=\"nofollow noreferrer\">restlet.com/blog/2016/02/17/&hellip;</a>"}, {"owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "edited": false, "score": 0, "creation_date": 1462883839, "post_id": 37125725, "comment_id": 61816262, "body": "My error message isn&#39;t appearing for some reason. I can&#39;t figure out why. It disables the button perfectly fine, but the error message doesnt show up. Any thoughts?"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 1, "last_activity_date": 1462829032, "creation_date": 1462829032, "answer_id": 37125725, "question_id": 37124404, "link": "https://stackoverflow.com/questions/37124404/angular-2-formbuilder-error-during-instantiation/37125725#37125725", "title": "Angular 2 FormBuilder Error During Instantiation", "body": "<p>I think that you try to implement an asynchronous validator. You should use the <code>asyncValidator</code> attribute instead on the <code>validator</code> one:</p>\n\n<pre><code>_fb.group({\n  'name': ['', Validators.compose([Validators.required])],\n  'npi': ['', Validators.compose([Validators.required, (...)])]\n}, { asyncValidator: this.npiNameDupValidator.bind(this) });\n</code></pre>\n\n<p>I would refactor your validator this way:</p>\n\n<pre><code>npiNameDupValidator(group: ControlGroup) {\n  return new Promise((resolve, reject) =&gt; {\n    let name = group.controls['name'];\n    let npi = group.controls['npi'];\n\n    this._clientService.getClients().subscribe(clients =&gt; {\n      var clis = clients;\n      var length = clis.length;\n      var found = (...); // your processing here\n\n      if (found) {\n        resolve({ npiNameDupe: true });\n      } else {\n        resolve(null);\n      }\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 37125725, "answer_count": 2, "score": 2, "last_activity_date": 1462882318, "creation_date": 1462823884, "last_edit_date": 1462882318, "question_id": 37124404, "link": "https://stackoverflow.com/questions/37124404/angular-2-formbuilder-error-during-instantiation", "title": "Angular 2 FormBuilder Error During Instantiation", "body": "<p>(Code has been updated with fix)</p>\n\n<p>I am trying to build a form and add validation to a controlgroup so that I can check to see if the combination of two controls exist in an array of objects. I have the following code, but when I try to run my page, it gives me an error.</p>\n\n<blockquote>\n  <p>EXCEPTION: Error during instantiation of ClientFormComponent!.\n  ORIGINAL EXCEPTION: TypeError: Cannot read property 'length' of undefined</p>\n</blockquote>\n\n<p>I am unsure of why it is unable to access the length property of my array. The \"getClients()\" method of my service works perfectly fine elsewhere in my app.Any thoughts would be great.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Component({\r\n    selector: 'client-form',\r\n    templateUrl: './Scripts/typescript/client-form.component.html',\r\n    directives: [FORM_DIRECTIVES],\r\n    providers: [ClientService]\r\n})\r\n\r\nexport class ClientFormComponent\r\n{\r\n    clientForm: ControlGroup;\r\n    npi: AbstractControl;\r\n    name: AbstractControl;\r\n\r\n    constructor(private _clientService: ClientService, _fb: FormBuilder) {\r\n        this.clientForm = _fb.group({ 'name': ['', Validators.compose([Validators.required])], 'npi': ['', Validators.compose([Validators.required, npiNumValidator, Validators.maxLength(10), Validators.minLength(10)])] }, { asyncValidator: this.npiNameDupValidator.bind(this) });\r\n        this.name = this.clientForm.controls['name'];\r\n        this.npi = this.clientForm.controls['npi'];\r\n    }\r\n    \r\n\r\n    clientList: Client[];\r\n    active = true;\r\n\r\n\r\n    onSubmit(value: Client) {\r\n        this._clientService.addDeleteClient(value, true)\r\n            .subscribe(\r\n            client =&gt; this.clientList.push(client));        \r\n    }    \r\n\r\n    npiNameDupValidator(group: ControlGroup) {\r\n        return new Promise((resolve, reject) =&gt; {\r\n            let name = group.controls['name'];\r\n            let npi = group.controls['npi'];\r\n            var found = false;\r\n\r\n            this._clientService.getClients().subscribe(clients =&gt; {                \r\n                for (var i = 0; i &lt; clients.length; i++) {\r\n                    alert(clients[i].name + ':' + name.value);\r\n                    alert(clients[i].npi + ':' + npi.value);\r\n\r\n                    if (clients[i].name == name.value &amp;&amp; clients[i].npi == npi.value) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (found) {\r\n                    alert('Found!');\r\n                    resolve({ npiNameDupe: true });\r\n                }\r\n                else {\r\n                    resolve(null);\r\n                }\r\n            });            \r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction npiNumValidator(control: Control): { [s: string]: boolean } {\r\n    if (isNaN(control.value)) {\r\n        return { npiNAN: true };\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My template HTML: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n    &lt;form *ngIf=\"active\" (ngSubmit)=\"onSubmit(clientForm.value)\" [ngFormModel]=\"clientForm\"&gt;\r\n        &lt;div class=\"form-group\" style=\"float: left;\"&gt;\r\n            &lt;label for=\"clientid\"&gt;Client Id:&lt;/label&gt;\r\n            &lt;input placeholder=\"QDX\"id=\"clientid\" type=\"text\" class=\"form-control\"  [ngFormControl]=\"clientForm.controls['name']\"&gt;\r\n            &lt;div *ngIf=\"name.hasError('required') &amp;&amp; name.touched\"\r\n                 class=\"alert alert-danger\"&gt;Client ID is required&lt;/div&gt;\r\n            &lt;div *ngIf=\"name.hasError('npiNAN')\"\r\n                 class=\"alert alert-danger\"&gt;NPI must be a number&lt;/div&gt;\r\n            \r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"form-group\" style=\"float: left; padding-left: 10px;\"&gt;\r\n            &lt;label for=\"npi\"&gt;NPI:&lt;/label&gt;\r\n            &lt;input placeholder=\"0123456789\" maxlength=\"10\" id=\"npi\" type=\"text\" class=\"form-control\" [ngFormControl]=\"clientForm.controls['npi']\"&gt;\r\n            &lt;div *ngIf=\"npi.hasError('required') &amp;&amp; npi.touched\"\r\n                 class=\"alert alert-danger\"&gt;NPI is required&lt;/div&gt;\r\n            &lt;div *ngIf=\"npi.hasError('npiNAN') &amp;&amp; npi.touched\"\r\n                 class=\"alert alert-danger\"&gt;NPI must be a number&lt;/div&gt;\r\n            &lt;div *ngIf=\"npi.hasError('minlength') &amp;&amp; npi.touched\"\r\n                 class=\"alert alert-danger\"&gt;NPI must be 10 characters&lt;/div&gt;\r\n            \r\n        &lt;/div&gt;\r\n        \r\n        &lt;div style=\"float: left; margin: 25px 0 0 10px;\"&gt;\r\n            &lt;button type=\"submit\" class=\"btn btn-default\" [disabled]=\"!clientForm.valid\"&gt;Add&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;br style=\"clear:both;\" /&gt;\r\n        &lt;div *ngIf=\"clientForm.hasError('npiNameDupe')\"\r\n             class=\"alert alert-danger\"&gt;NPI &amp;amp; Name Combo Already Exist&lt;/div&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["jquery", "angularjs", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5564634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33803c6eb3cef57b425150e002a6d7ab?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenz", "link": "https://stackoverflow.com/users/5564634/eugenz"}, "edited": false, "score": 2, "creation_date": 1462879980, "post_id": 37124628, "comment_id": 61813244, "body": "Works great! Thank you! By the way, I found another one method - to bind a JavaScript variable to the angular context and then call functions using it:  <code>var self = this;</code> <code>jQuery(this.elementRef.nativeElement).find(&#39;input&#39;).on(&#39;inpu&zwnj;&#8203;t&#39;, function {             self.onChange();         });</code>"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 7, "last_activity_date": 1462824708, "creation_date": 1462824708, "answer_id": 37124628, "question_id": 37124385, "link": "https://stackoverflow.com/questions/37124385/angular-2-calling-a-typescript-function-from-jquery-causes-uncaught-typeerror/37124628#37124628", "title": "Angular 2 calling a Typescript function from Jquery causes uncaught TypeError", "body": "<p>I would use an arrow function. This way you could use the lexical this (that corresponds to the component instance):</p>\n\n<pre><code>jQuery(this.elementRef.nativeElement).find('input').on('input', () =&gt; {\n  this.onChange();\n});\n</code></pre>\n\n<p>See this link for more details:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a></p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5564634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33803c6eb3cef57b425150e002a6d7ab?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenz", "link": "https://stackoverflow.com/users/5564634/eugenz"}, "edited": false, "score": 1, "creation_date": 1462885421, "post_id": 37129776, "comment_id": 61817503, "body": "Thank you! I&#39;m using Jquery-UI to make a table sortable using drag-and-drop because I didn&#39;t find such a simple solution for native Angular 2."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1462857297, "creation_date": 1462857297, "answer_id": 37129776, "question_id": 37124385, "link": "https://stackoverflow.com/questions/37124385/angular-2-calling-a-typescript-function-from-jquery-causes-uncaught-typeerror/37129776#37129776", "title": "Angular 2 calling a Typescript function from Jquery causes uncaught TypeError", "body": "<p>Try to avoid using jQuery in Angular2.</p>\n\n<p>A more angulary approach to get a reference to an element would be</p>\n\n<pre><code>@Component({\n    selector: 'setting-priority',\n    template: '&lt;input #prio [(ngModel)]=\"priority\" class=\"setting-priority\" type=\"text\"&gt;'\n})\nexport class SettingPriorityComponent implements OnInit{\n  @ViewChild('prio') priority;\n\n  ngOnInit() {\n    console.log(this.priority);\n  }\n}\n</code></pre>\n\n<p>but for adding an event handler you just need:</p>\n\n<pre><code>template: '&lt;input [(ngModel)]=\"priority\" (input)=\"onChange()\" class=\"setting-priority\" type=\"text\"&gt;'\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5564634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33803c6eb3cef57b425150e002a6d7ab?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenz", "link": "https://stackoverflow.com/users/5564634/eugenz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3629, "favorite_count": 0, "accepted_answer_id": 37124628, "answer_count": 2, "score": 3, "last_activity_date": 1462857297, "creation_date": 1462823816, "question_id": 37124385, "link": "https://stackoverflow.com/questions/37124385/angular-2-calling-a-typescript-function-from-jquery-causes-uncaught-typeerror", "title": "Angular 2 calling a Typescript function from Jquery causes uncaught TypeError", "body": "<p>I have a component with input text field to which I have attached an input event listener using JQuery. When the value of the input changes I want to call a Typescript function but it throws an uncaught TypeError.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import {Component, Input, Output, EventEmitter, ElementRef, OnInit} from 'angular2/core';\ndeclare var jQuery: any;\n\n@Component({\n    selector: 'setting-priority',\n    template: '&lt;input [(ngModel)]=\"priority\" class=\"setting-priority\" type=\"text\"&gt;'\n})\n\nexport class SettingPriorityComponent implements OnInit{\n    @Input() priority: number;\n    @Output() prioChanged: EventEmitter&lt;number&gt; = new EventEmitter();\n\n    constructor(private elementRef:ElementRef) { }\n\n    ngOnInit() {\n        jQuery(this.elementRef.nativeElement).find('input').on('input', function() {\n            // Here I will pass the changed value to onChange function\n            this.onChange();\n        });\n    }\n\n    ngOnChanges(changes) { \n        this.prioChanged.emit(this.priority);\n    }\n\n    // In this function I will receive the value and assign it to the priority variable\n    onChange() {\n        console.log(\"onchange!\");\n    }\n}\n</code></pre>\n\n<p>I'm using Jquery because the input value will be set programmatically - in this case Angular's Change Detection doesn't work <a href=\"http://www.bennadel.com/blog/3053-changing-directive-inputs-programmatically-won-t-trigger-ngonchanges-in-angularjs-2-beta-9.htm\" rel=\"nofollow\">Details here</a></p>\n\n<p>When I trigger the input event, I receive an <strong>Uncaught TypeError: this.onChange is not a function</strong> </p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "android", "typescript", "visual-studio-code", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 698, "user_id": 2134614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fa65b72233733b6aae68bc370ed9f7?s=128&d=identicon&r=PG", "display_name": "GJSmith3rd", "link": "https://stackoverflow.com/users/2134614/gjsmith3rd"}, "edited": false, "score": 0, "creation_date": 1462924336, "post_id": 37128486, "comment_id": 61839433, "body": "Good to know as I&#39;d like to venture into NativeScript and TypeScript."}, {"owner": {"reputation": 5211, "user_id": 4643009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXPtF.png?s=128&g=1", "display_name": "Nathanael", "link": "https://stackoverflow.com/users/4643009/nathanael"}, "reply_to_user": {"reputation": 698, "user_id": 2134614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fa65b72233733b6aae68bc370ed9f7?s=128&d=identicon&r=PG", "display_name": "GJSmith3rd", "link": "https://stackoverflow.com/users/2134614/gjsmith3rd"}, "edited": false, "score": 0, "creation_date": 1462939766, "post_id": 37128486, "comment_id": 61843091, "body": "You don&#39;t need the extra type declarations for TypeScript; they are only really useful if you are planning on doing specific Native Android stuff.  The type declarations files are present for the whole framework by default."}, {"owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "edited": false, "score": 0, "creation_date": 1490734114, "post_id": 37128486, "comment_id": 73242542, "body": "using the definitions in <code>tns-platform-declarations&#47;android.d.ts</code> there&#39;s missing things? For instance, I can&#39;t access <code>android.support.design.widget.Snackbar</code> because &#39;android.support&#39; has no exported member &#39;design&#39; what am I missing?"}, {"owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "edited": false, "score": 0, "creation_date": 1490738737, "post_id": 37128486, "comment_id": 73244728, "body": "made a question to clarify: <a href=\"http://stackoverflow.com/questions/43079773/how-to-use-the-native-android-widgets-type-definitions-in-nativescript\" title=\"how to use the native android widgets type definitions in nativescript\">stackoverflow.com/questions/43079773/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5211, "user_id": 4643009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXPtF.png?s=128&g=1", "display_name": "Nathanael", "link": "https://stackoverflow.com/users/4643009/nathanael"}, "is_accepted": true, "score": 4, "last_activity_date": 1462848619, "creation_date": 1462848619, "answer_id": 37128486, "question_id": 37124267, "link": "https://stackoverflow.com/questions/37124267/cannot-use-android-classes-in-nativescript-2/37128486#37128486", "title": "Cannot use Android classes in NativeScript 2", "body": "<p>The TypeScript definition files for Android are by default not included as they are fairly large.  </p>\n\n<p>You can get then by doing a <strong>npm install tns-platform-declarations --save-dev</strong></p>\n"}], "owner": {"reputation": 85, "user_id": 6303213, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-8BjON4izzsw/AAAAAAAAAAI/AAAAAAAAAIs/F22nW8aGRPU/photo.jpg?sz=128", "display_name": "Marcel Kloubert", "link": "https://stackoverflow.com/users/6303213/marcel-kloubert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 2, "accepted_answer_id": 37128486, "answer_count": 1, "score": 1, "last_activity_date": 1462848619, "creation_date": 1462823361, "last_edit_date": 1462823902, "question_id": 37124267, "link": "https://stackoverflow.com/questions/37124267/cannot-use-android-classes-in-nativescript-2", "title": "Cannot use Android classes in NativeScript 2", "body": "<p>I am using <strong>NativeScript 2.0</strong> with <strong>Visual Studio Code</strong> and <strong>TypeScript 1.8</strong> support (<strong>Windows</strong>).</p>\n\n<p>I am developing a module, lets say <strong>MyModule-common.ts</strong> with an Android specific implementation (<strong>MyModule.android.ts</strong>).</p>\n\n<p><strong>Currently I cannot access Android classes!</strong></p>\n\n<p>If I write something like</p>\n\n<pre><code>var MyModule = require(\"./MyModule-common\");\n\nexport class MyClass {\n    private _activity: android.app.Activity;\n}\n</code></pre>\n\n<p>I get </p>\n\n<blockquote>\n  <p>error TS2503: Cannot find namespace 'android'</p>\n</blockquote>\n\n<p>when I build my project.</p>\n\n<p>Is there something to install extra or configure?</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 2592413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/68e69370d30ef371d02572dc8779d4a8?s=128&d=identicon&r=PG", "display_name": "user2592413", "link": "https://stackoverflow.com/users/2592413/user2592413"}, "edited": false, "score": 0, "creation_date": 1462823412, "post_id": 37124203, "comment_id": 61789372, "body": "That worked, thank you so much! and such a simple solution. thanks for the link,  I have some more learnings to do.  I&#39;ll mark it as answered once the time limit is up haha"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 8, "last_activity_date": 1462823149, "creation_date": 1462823149, "answer_id": 37124203, "question_id": 37124179, "link": "https://stackoverflow.com/questions/37124179/filereader-onload-not-within-controller-scope-angular-2/37124203#37124203", "title": "FileReader onload not within controller scope Angular 2", "body": "<p>Use <code>() =&gt;</code> instead of <code>function()</code> to retain the scope of <code>this</code></p>\n\n<pre><code>uploadFile() {\n    let temp = document.getElementById(\"fileToUpload\");\n    let fr = new FileReader();\n    let file = temp.files[0];\n    let fb = fr.readAsArrayBuffer(file);\n\n    fr.onload = (data) =&gt; {\n        this.fs.beginFileUpload(file.name, (data) =&gt; {\n            let chunkSize = 200000;\n            let startIndex = 0;\n            let stopIndex = chunkSize;\n            let file = data.target.result;\n            let fileChunk = null;\n\n            while (startIndex &lt; file.length) {\n                if (stopIndex &lt; length) {\n                    fileChunk = file.subArray(startIndex, stopIndex);\n                    startIndex = stopIndex;\n                    stopIndex += chunkSize;\n                }\n                else {\n                    fileChunk = file.subArray(startIndex);\n                    startIndex = stopIndex;\n                }\n                //fs.uploadChunk(fileChunk);\n            }\n        });\n\n    }\n}\n</code></pre>\n\n<p>See also <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"noreferrer\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a></p>\n"}], "owner": {"reputation": 65, "user_id": 2592413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/68e69370d30ef371d02572dc8779d4a8?s=128&d=identicon&r=PG", "display_name": "user2592413", "link": "https://stackoverflow.com/users/2592413/user2592413"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2834, "favorite_count": 1, "accepted_answer_id": 37124203, "answer_count": 1, "score": 4, "last_activity_date": 1462823149, "creation_date": 1462823055, "question_id": 37124179, "link": "https://stackoverflow.com/questions/37124179/filereader-onload-not-within-controller-scope-angular-2", "title": "FileReader onload not within controller scope Angular 2", "body": "<p>I'm trying to send a file in chunks to be saved in a database and I'm using FileReader.readAsArrayBuffer() to trigger the onload event.  My issue comes into play once I'm in the onload event, the scope of 'this' only contains the FileReader properties and nothing from my class.  Even variables defined just before the onload event are not accessible.  I was thinking I could try to pass the value of 'this' through as a parameter so I could access my functions, service and variables but I haven't had any success thus far. Has anyone tried anything similar or know if maybe I've reached some sort of limitation? </p>\n\n<p>Thank you for any help</p>\n\n<p>Here's my component class</p>\n\n<pre><code>export class UploadComponent {\ntitle = 'Upload File';\nfileData = null;\nfiles = null;\nfs;\n@Input()\nshowUpload: boolean;\n\nconstructor(fileService: FileService) {\n    this.fs = fileService;\n}\n\nuploadFile() {\n    let temp = document.getElementById(\"fileToUpload\");\n    let fr = new FileReader();\n    let file = temp.files[0];\n    let fb = fr.readAsArrayBuffer(file);\n\n    fr.onload = function(data) {\n        this.fs.beginFileUpload(file.name, function(data) {\n            let chunkSize = 200000;\n            let startIndex = 0;\n            let stopIndex = chunkSize;\n            let file = data.target.result;\n            let fileChunk = null;\n\n            while (startIndex &lt; file.length) {\n                if (stopIndex &lt; length) {\n                    fileChunk = file.subArray(startIndex, stopIndex);\n                    startIndex = stopIndex;\n                    stopIndex += chunkSize;\n                }\n                else {\n                    fileChunk = file.subArray(startIndex);\n                    startIndex = stopIndex;\n                }\n                //fs.uploadChunk(fileChunk);\n            }\n        });\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>my component template</p>\n\n<pre><code>&lt;input type=\"file\" [(value)]=\"fileData\" [(files)]=\"files\" id=\"fileToUpload\" /&gt;\n&lt;input type=\"button\" (click)=\"uploadFile()\" value=\"Upload File\" /&gt;\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462822682, "post_id": 37123982, "comment_id": 61788949, "body": "I guess you need to create a bug report."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462859444, "post_id": 37123982, "comment_id": 61800353, "body": "Angular2 Issue <a href=\"https://github.com/angular/angular/issues/8554\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/8554</a>"}, {"owner": {"reputation": 85, "user_id": 3245504, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e9a82dcfd9df0849173533fb8e3d5f1?s=128&d=identicon&r=PG&f=1", "display_name": "user3245504", "link": "https://stackoverflow.com/users/3245504/user3245504"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462859993, "post_id": 37123982, "comment_id": 61800560, "body": "yes, i created that)"}], "owner": {"reputation": 85, "user_id": 3245504, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e9a82dcfd9df0849173533fb8e3d5f1?s=128&d=identicon&r=PG&f=1", "display_name": "user3245504", "link": "https://stackoverflow.com/users/3245504/user3245504"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1335, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462822342, "creation_date": 1462822342, "question_id": 37123982, "link": "https://stackoverflow.com/questions/37123982/angular-2-route-with-dots", "title": "Angular 2 route with dots", "body": "<p>When i navigate to url that contain a dot like: /track.t my application returns html with message:\nCannot GET /track.t</p>\n\n<p>How to solve this issue? I need to redirect to ['Dashboard'];</p>\n\n<p>Central component which handles routes:</p>\n\n<pre><code>export class AppComponent {\n     constructor(router:Router, location:Location, translate:TranslateService) {\n            console.log(location.path());\n            router.recognize(location.path())\n                .then((instruction) =&gt; {\n                    if (!instruction) {\n                        // this code will execute if there no route exists for the current url\n                        router.navigate(['Dashboard']);\n                    }\n                });\n    }\n    } \n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "edited": false, "score": 3, "creation_date": 1479731608, "post_id": 37127142, "comment_id": 68667208, "body": "Thanks for the example, but the ComponentResolver is no more the part of angular/core package. Is there a work around for this?"}], "tags": [], "owner": {"reputation": 3818, "user_id": 4319253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQv8N.jpg?s=128&g=1", "display_name": "S.Klechkovski", "link": "https://stackoverflow.com/users/4319253/s-klechkovski"}, "is_accepted": true, "score": 11, "last_activity_date": 1462837506, "creation_date": 1462837506, "answer_id": 37127142, "question_id": 37123514, "link": "https://stackoverflow.com/questions/37123514/read-html-file-into-template-in-angular-2/37127142#37127142", "title": "Read HTML File into template in Angular 2?", "body": "<p>What you need here is something like <em>ng-include</em> I suppose. And as you can see in this <a href=\"https://github.com/angular/angular/issues/2753\">issue</a> on the Angular repo, most probably we won't get that directive. There has been a long discussion whether we need this directive or not, and if not provided how we can implement it by our self.  </p>\n\n<p>I tried to make a simple example of how it can be implemented. </p>\n\n<pre><code>@Component({\n    selector: 'my-ng-include',\n    template: '&lt;div #myNgIncludeContent&gt;&lt;/div&gt;'\n})\nexport class MyNgInclude implements OnInit {\n\n    @Input('src')\n    private templateUrl: string;\n\n    @ViewChild('myNgIncludeContent', { read: ViewContainerRef })\n    protected contentTarget: ViewContainerRef;\n\n    constructor(private componentResolver: ComponentResolver) {}\n\n    ngOnInit() {\n        var dynamicComponent = this.createContentComponent(this.templateUrl);\n        this.componentResolver.resolveComponent(dynamicComponent)\n            .then((factory: any) =&gt; this.contentTarget.createComponent(factory));\n    }\n\n    createContentComponent(templateUrl) {\n        @Component({\n            selector: 'my-ng-include-content',\n            templateUrl: templateUrl,\n            directives: FORM_DIRECTIVES,\n        })\n        class MyNgIncludeContent {}\n        return MyNgIncludeContent ;\n    }\n}\n</code></pre>\n\n<p>For a demo check this <a href=\"http://plnkr.co/edit/OjxKE9HWnDInKojuhhk8?p=preview\">Plunker</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 1437, "user_id": 3202958, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qdmqu.png?s=128&g=1", "display_name": "Nrzonline", "link": "https://stackoverflow.com/users/3202958/nrzonline"}, "edited": false, "score": 0, "creation_date": 1504085201, "post_id": 37134422, "comment_id": 78871102, "body": "And what if you need to implement the modals on multiple pages? You need to copy-past it in every page. And what if you need to modify a few lines of that code? You will need to modify it in all the pages where it got implemented... Not really dry"}, {"owner": {"reputation": 71, "user_id": 6208520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CTcV40cSRVA/AAAAAAAAAAI/AAAAAAAAAsU/RQbvYil6_yw/photo.jpg?sz=128", "display_name": "Maxime Bouveron", "link": "https://stackoverflow.com/users/6208520/maxime-bouveron"}, "reply_to_user": {"reputation": 1437, "user_id": 3202958, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qdmqu.png?s=128&g=1", "display_name": "Nrzonline", "link": "https://stackoverflow.com/users/3202958/nrzonline"}, "edited": false, "score": 0, "creation_date": 1509382230, "post_id": 37134422, "comment_id": 80987427, "body": "@Nrzonline Didn&#39;t work with Angular since this answer, but you can extract that code in a different component, no?"}], "tags": [], "owner": {"reputation": 71, "user_id": 6208520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CTcV40cSRVA/AAAAAAAAAAI/AAAAAAAAAsU/RQbvYil6_yw/photo.jpg?sz=128", "display_name": "Maxime Bouveron", "link": "https://stackoverflow.com/users/6208520/maxime-bouveron"}, "is_accepted": false, "score": 0, "last_activity_date": 1462872570, "creation_date": 1462872570, "answer_id": 37134422, "question_id": 37123514, "link": "https://stackoverflow.com/questions/37123514/read-html-file-into-template-in-angular-2/37134422#37134422", "title": "Read HTML File into template in Angular 2?", "body": "<p>If the templates aren't that different, you can just add all your different bodies in the same html file and choose which one is displayed with the <code>*ngIf</code> directive :</p>\n\n<pre><code>&lt;modal&gt;\n  &lt;modal-header&gt;\n    &lt;h4 class=\"modal-title\"&gt;Title&lt;/h4&gt;\n  &lt;/modal-header&gt;\n  &lt;modal-body&gt;\n    &lt;div *ngIf='modalID == \"1\"'&gt;\n        content1\n    &lt;/div&gt;\n    &lt;div *ngIf='modalID == \"2\"'&gt;\n        content2\n    &lt;/div&gt;\n    &lt;div *ngIf='modalID != \"1\" &amp;&amp; modalID != \"2\"'&gt;\n        content3\n    &lt;/div&gt;\n  &lt;/modal-body&gt;\n  &lt;modal-footer [show-default-buttons]=\"true\"&gt;&lt;/modal-footer&gt;\n&lt;/modal&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2661, "user_id": 3164070, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5woQK.jpg?s=128&g=1", "display_name": "Dave Nottage", "link": "https://stackoverflow.com/users/3164070/dave-nottage"}, "edited": false, "score": 0, "creation_date": 1495517785, "post_id": 41511061, "comment_id": 75271790, "body": "Upvote for putting me on the right track. I ended up using: @ViewChild(&#39;static&#39;) StaticElement: ElementRef; (where &#39;static&#39; is the name of my target element)"}], "tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 1, "last_activity_date": 1483724640, "last_edit_date": 1483724640, "creation_date": 1483723946, "answer_id": 41511061, "question_id": 37123514, "link": "https://stackoverflow.com/questions/37123514/read-html-file-into-template-in-angular-2/41511061#41511061", "title": "Read HTML File into template in Angular 2?", "body": "<p>It may be maligned as \"verboten\" for a number of reasons that I understand, including the underscore you will see, but this works. Fact is I have a need to do this very simply and I don't want to (nor should I have to) write a lot of code to do it. I can scrub the HTML etc. I get if this is more helpful than an answer but some may find it useful. </p>\n\n<p>In the component API (ES6 style), declare a queries entry (or otherwise create your ViewChild using TS), this should map to an element with a template reference variable and so on. Note that using the queries part of the component API as I show here works fine in TS:</p>\n\n<pre><code>  // Assumes you have &lt;div #targetdiv&gt;&lt;/div&gt; in your component template\n  queries: {\n    targetDivRef : new ViewChild ( 'targetdiv' )\n  }\n</code></pre>\n\n<p>Then in some click handler, onInit or whatever (keeping in mind not to try this too early in the comp lifecycle) get the page you want async, and just dump the contents into the div. </p>\n\n<pre><code>   let elem = this.targetDivRef.nativeElement;\n\n   let svc = this.http.get ( './thepage.html' )\n      .map ( response =&gt; { return response [ '_body' ] } );\n\n   svc.subscribe (\n      ( x ) =&gt; { elem.innerHTML = x },\n      ( err ) =&gt; console.log ( err ),\n      ( ) =&gt; console.log ( 'Complete' )\n    )\n</code></pre>\n\n<p>Again, almost surely not \"recommended\". But it's simple and it works. You actually don't even need the subscribe, you can just set the val in the map func, this is just more complete etc.</p>\n\n<p>When we get an option similar to ng-include (which IMHO is a glaring ommission), or an otherwise three-line option to do this, I'll make the switch. Handle request errors etc. as you see fit. </p>\n"}], "owner": {"reputation": 379, "user_id": 1431626, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f047e699f15624773481369340febf3?s=128&d=identicon&r=PG", "display_name": "EMChamp", "link": "https://stackoverflow.com/users/1431626/emchamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17642, "favorite_count": 3, "accepted_answer_id": 37127142, "answer_count": 3, "score": 4, "last_activity_date": 1595770129, "creation_date": 1462820676, "last_edit_date": 1595770129, "question_id": 37123514, "link": "https://stackoverflow.com/questions/37123514/read-html-file-into-template-in-angular-2", "title": "Read HTML File into template in Angular 2?", "body": "<p>I'm trying to create dynamic modals in Angular 2 using the ng2-bs3-modals. I would like to fill in the modal html body text dynamically based on the parameter passed to the selector used in the main component's view. When I use this code however it seems to treat my entire function as text and so my modal displays the code of my 'function determineModalContent' rather than the intended behavior which is to display the contents of the file. </p>\n\n<p>I also know that my code won't return the contents of the file, just the string but I haven't yet figured out how in Angular2/TypeScript to read in the file contents.</p>\n\n<pre><code>import { Component, Input } from 'angular2/core'\n\n@Component({\n    selector: 'static-modal',\n    template: '{{modalBody}}'\n})\n\n\nexport class StaticModalComponent {\n    @Input() modalID;\n    template = 'app/shared/modals/static-message-1.html'\n    modalBody = function determineModalContent(modalID){\n            if(modalID == \"1\")\n                return 'app/shared/modals/static-message-1.html';\n            else if(modalID == \"2\")\n                return 'app/shared/modals/static-message-2.html';\n            else   \n                return 'app/shared/modals/static-message-default.html';\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular", "angular2-routing"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462817207, "post_id": 37122399, "comment_id": 61785919, "body": "Do you actually have <code>KeyValue</code> and <code>KeyValueService</code> in the same file like shown above?"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462817432, "post_id": 37122399, "comment_id": 61786050, "body": "Yes, i do have them like that. Does that make a difference when a provider is defined at the <code>Root</code> or <code>Child</code>?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462817663, "post_id": 37122399, "comment_id": 61786186, "body": "A class can&#39;t be referred to that comes later within the same file. The order of these files should be changed or moved to separate files. I don&#39;t adsume this solves your actual problem, except when you have the other classes in the same file as well."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462817897, "post_id": 37122399, "comment_id": 61786325, "body": "Same error after moving them to separate files. EXCEPTION: No provider for KeyValueService!"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462818029, "post_id": 37122399, "comment_id": 61786417, "body": "I guess @hkm posted the correct solution. Still worth to keep an eye on the order of classes if you have more than one in the same file."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462818103, "post_id": 37122399, "comment_id": 61786455, "body": "Not really, i can compile the code and run the application. The exception i posted in previous comment is inside the browser when click a link to navigate to <code>Child</code>."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462818212, "post_id": 37122399, "comment_id": 61786527, "body": "Then it will probanly require a Plunker to reproduce."}], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1462818024, "post_id": 37122709, "comment_id": 61786409, "body": "That was a typo, fixed it. Thanks and your code won&#39;t compile if you&#39;re missing &#39;,&#39;."}], "tags": [], "owner": {"reputation": 1656, "user_id": 4146943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54e34c794b157fdb8097d92c236aa8fb?s=128&d=identicon&r=PG", "display_name": "Habib Kazemi", "link": "https://stackoverflow.com/users/4146943/habib-kazemi"}, "is_accepted": false, "score": 1, "last_activity_date": 1462817769, "creation_date": 1462817769, "answer_id": 37122709, "question_id": 37122399, "link": "https://stackoverflow.com/questions/37122399/angular2-rc1-component-provider-only-works-if-defined-at-root-component/37122709#37122709", "title": "Angular2 rc1, component provider only works if defined at root component", "body": "<p>You should put ',' after <code>providers: [KeyValueService]</code>\nlike this:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {KeyValueService} from './KeyValueService';\n\n@Component({\n    providers: [KeyValueService],\n    selector: 'Child',\n    template: \n        '&lt;div&gt;\n         Child!!\n         &lt;/div&gt;'\n})\nexport class Child {\n    constructor(keyValue: KeyValueService) {\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1464655793, "creation_date": 1464655793, "answer_id": 37535271, "question_id": 37122399, "link": "https://stackoverflow.com/questions/37122399/angular2-rc1-component-provider-only-works-if-defined-at-root-component/37535271#37535271", "title": "Angular2 rc1, component provider only works if defined at root component", "body": "<p>Visual studio wasn't overwriting any generated <code>.js</code> files from <code>tsc</code> output. No errors were thrown, so never figured why it was happening, but after manually deleting the generated <code>.js</code> files it started to work properly.</p>\n"}], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 37535271, "answer_count": 2, "score": 1, "last_activity_date": 1464655793, "creation_date": 1462816728, "last_edit_date": 1462818002, "question_id": 37122399, "link": "https://stackoverflow.com/questions/37122399/angular2-rc1-component-provider-only-works-if-defined-at-root-component", "title": "Angular2 rc1, component provider only works if defined at root component", "body": "<p>I have an Angular2 component, with a constructor that needs an injection of a <code>KeyValueService</code>. This is to 'patch' the new router missing <code>data</code> on routes. </p>\n\n<p><strong>KeyValueService</strong></p>\n\n<pre><code>import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class KeyValueService {\n    private KeyValues: Array&lt;KeyValue&gt;;\n\n    constructor() { }\n\n    Set(key, value) {\n        ...\n    }\n    Get(key): any {\n        ...\n    }\n}\n\nexport class KeyValue {\n    Key;\n    Value;\n\n    constructor(key, value) {\n        this.Key = key;\n        this.Value = value;\n    }\n}\n</code></pre>\n\n<p><strong>Root component</strong></p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {Child} from './Child';\n\n@Routes([\n    { path: '/Child', component: Child}\n])\n@Component({\n    providers: [\n        ROUTER_PROVIDERS\n    ],\n    directives: [ROUTER_DIRECTIVES],\n    selector: 'Root',\n    template: \n        '&lt;div&gt;\n            &lt;router-outlet&gt;&lt;/router-outlet&gt;\n            &lt;a [routerLink]=\"['/Child']\"&gt;Child&lt;/a&gt;\n        &lt;/div&gt;'\n})\nexport class Root {\n}\n</code></pre>\n\n<p><strong>Child</strong></p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {KeyValueService} from './KeyValueService';\n\n@Component({\n    providers: [KeyValueService],\n    selector: 'Child',\n    template: \n        '&lt;div&gt;\n            Child!!\n        &lt;/div&gt;'\n})\nexport class Child {\n    constructor(keyValue: KeyValueService) {\n\n    }\n}\n</code></pre>\n\n<p>The error I'm getting says no providers for <code>keyValueService</code>. If the <code>KeyValueService</code> provider is at the root component, it works fine but if I define a provider where it's actually needed, it won't work. Why? it's already defined as a provider for <code>Child</code> component.</p>\n"}, {"tags": ["node.js", "typescript", "timeout", "promise", "async-await"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1462810107, "post_id": 37120240, "comment_id": 61781942, "body": "Are you using a specific promise library?"}, {"owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1462810163, "post_id": 37120240, "comment_id": 61781979, "body": "No, just standard promise."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1462811096, "post_id": 37120240, "comment_id": 61782523, "body": "So 2 + 0.5 + 5 + 3 makes a timeout of 11.5 seconds?"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "edited": false, "score": 1, "creation_date": 1462810736, "post_id": 37120577, "comment_id": 61782302, "body": "@nkint: We don&#39;t need to clear it because the rejection is not considered when <code>doSomethingInSeries()</code> settles first. We could clear it, but that would be rather complicated (optimally <code>race</code> would have a way to cancel the slower promises, but that&#39;s not possible with native promises)."}, {"owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "edited": false, "score": 1, "creation_date": 1463564355, "post_id": 37120577, "comment_id": 62114596, "body": "Maybe I have problem in testing async stuff but seems to me that even if <code>race</code> rejects, doSomethingInSeries keep on going its own stuffs. How to be sure to stop everything inside <code>doSomethingInSeries</code> if the timeout rejects?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "edited": false, "score": 1, "creation_date": 1463565096, "post_id": 37120577, "comment_id": 62115096, "body": "@nkint: You cannot stop a promise - it only represents a result (disclaimer: unless you use a promise implementation that supports cancellation). So if there is anything you need to do about the ongoing stuff, you need to do it manually (in the same way you did it with <code>clearTimeout</code> in your answer below)."}, {"owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "edited": false, "score": 0, "creation_date": 1463567615, "post_id": 37120577, "comment_id": 62116865, "body": "<code>it only represents a result</code> - vary clear, thanks. It&#39;s a little bit messy. Some promise I&#39;m <code>await</code>-ing in <code>doSomethingInSeries</code> is a call to <code>request</code> with a retry.. I need some other way to handle it, thank you anyway."}, {"owner": {"reputation": 3665, "user_id": 740245, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edff2767a740bdfb38d87928424bbeda?s=128&d=identicon&r=PG", "display_name": "vitalets", "link": "https://stackoverflow.com/users/740245/vitalets"}, "edited": false, "score": 0, "creation_date": 1509541699, "post_id": 37120577, "comment_id": 81058122, "body": "To have promise-wraped version of <code>setTimeout</code> / <code>clearTimeout</code> you may have a look on <a href=\"https://github.com/vitalets/await-timeout\" rel=\"nofollow noreferrer\">await-timeout</a>"}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 54, "last_activity_date": 1502308969, "last_edit_date": 1502308969, "creation_date": 1462810379, "answer_id": 37120577, "question_id": 37120240, "link": "https://stackoverflow.com/questions/37120240/timeout-in-async-await/37120577#37120577", "title": "Timeout in async/await", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\" rel=\"noreferrer\"><code>Promise.race</code></a> to make a timeout:</p>\n\n<pre><code>Promise.race([\n    doSomethingInSeries(),\n    new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('timeout')), 11.5e3))\n]).catch(function(err) {\n    // errors in res1, res2, res3 and the timeout will be caught here\n})\n</code></pre>\n\n<p>You cannot use <code>setTimeout</code> without wrapping it in a promise.</p>\n"}, {"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1462810925, "post_id": 37120585, "comment_id": 61782415, "body": "You&#39;re not clearing the timeout if <code>_doSomethingInSeries()</code> fails. You should use <code>try { return await Promise.race(\u2026); } finally { clearTimeout(timeoutId); }</code>"}], "tags": [], "owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "is_accepted": false, "score": 5, "last_activity_date": 1462810396, "creation_date": 1462810396, "answer_id": 37120585, "question_id": 37120240, "link": "https://stackoverflow.com/questions/37120240/timeout-in-async-await/37120585#37120585", "title": "Timeout in async/await", "body": "<p>Ok I found this way:</p>\n\n<pre><code>async function _doSomethingInSeries() {\n    const res1 = await callApi();\n    const res2 = await persistInDB(res1);\n    const res3 = await doHeavyComputation(res1);\n    return 'simle';\n}\n\nasync function doSomethingInSeries(): Promise&lt;any&gt; {\n  let timeoutId;\n\n  const delay = new Promise(function(resolve, reject){\n    timeoutId = setTimeout(function(){\n      reject(new Error('timeout'));\n    }, 1000);\n  });\n\n  // overall timeout\n  return Promise.race([delay, _doSomethingInSeries()])\n    .then( (res) =&gt; {\n      clearTimeout(timeoutId);\n      return res;\n    });\n\n}\n</code></pre>\n\n<p>Anyone errors?</p>\n\n<p>The things that smells a bit to me is that using Promises as asynchronicity strategy will send us to allocate too many object that some other strategy needs but this is off-topic.</p>\n"}, {"tags": [], "owner": {"reputation": 2129, "user_id": 1768179, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a8ed54a29fb1321058b8f0e1625c4c0a?s=128&d=identicon&r=PG", "display_name": "Alexander  Danilov", "link": "https://stackoverflow.com/users/1768179/alexander-danilov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566521978, "last_edit_date": 1566521978, "creation_date": 1566521462, "answer_id": 57618569, "question_id": 37120240, "link": "https://stackoverflow.com/questions/37120240/timeout-in-async-await/57618569#57618569", "title": "Timeout in async/await", "body": "<p>Problem with @Bergi answer that <code>doSomethingInSeries</code> continues executing even if you already rejected the promise. It is much better to just cancel by timeout.</p>\n\n<p>Here is support of cancellation:</p>\n\n<pre><code>async function doSomethingInSeries(cancellationToken) {\n  cancellationToken.throwIfCancelled();\n  const res1 = await callApi();\n  cancellationToken.throwIfCancelled();\n  const res2 = await persistInDB(res1);\n  cancellationToken.throwIfCancelled();\n  const res3 = await doHeavyComputation(res1);\n  cancellationToken.throwIfCancelled();\n  return 'simle';\n}\n</code></pre>\n\n<p>But it is even better to pass cancellation token to each async function and use it there.</p>\n\n<p>Here is implementation of cancellation:</p>\n\n<pre><code>let cancellationToken = {\n  cancelled: false,\n  cancel: function() {\n    this.cancelled = true;\n  },\n  throwIfCancelled: function() {\n    if (this.cancelled) throw new Error('Cancelled');\n  }\n}\n</code></pre>\n\n<p>You can wrap it as class if you want.</p>\n\n<p>And finally usage:</p>\n\n<pre><code>doSomethingInSeries(cancellationToken);\n\nsetTimeout(cancellationToken.cancel, 5000);\n</code></pre>\n\n<p>Keep in mind that task is not cancelled immediately, so continuation (awaiting, then or catch) is not called exactly after 5 secs. To guarantee that you can combine this and @Bergi approach.</p>\n"}], "owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31617, "favorite_count": 8, "accepted_answer_id": 37120577, "answer_count": 3, "score": 29, "last_activity_date": 1566521978, "creation_date": 1462809315, "question_id": 37120240, "link": "https://stackoverflow.com/questions/37120240/timeout-in-async-await", "title": "Timeout in async/await", "body": "<p>I'm with Node.js and TypeScript and I'm using <code>async/await</code>.\nThis is my test case:</p>\n\n<pre><code>async function doSomethingInSeries() {\n    const res1 = await callApi();\n    const res2 = await persistInDB(res1);\n    const res3 = await doHeavyComputation(res1);\n    return 'simle';\n}\n</code></pre>\n\n<p>I'd like to set a timeout for the overall function. I.e. if <code>res1</code> takes 2 seconds, <code>res2</code> takes 0.5 seconds, <code>res3</code> takes 5 seconds I'd like to have a timeout that after 3 seconds let me throw an error.</p>\n\n<p>With a normal <code>setTimeout</code> call is a problem because the scope is lost:</p>\n\n<pre><code>async function doSomethingInSeries() {\n    const timerId = setTimeout(function() {\n        throw new Error('timeout');\n    });\n\n    const res1 = await callApi();\n    const res2 = await persistInDB(res1);\n    const res3 = await doHeavyComputation(res1);\n\n    clearTimeout(timerId);\n\n    return 'simle';\n}\n</code></pre>\n\n<p>And I cannot catch it with normal <code>Promise.catch</code>:</p>\n\n<pre><code>doSomethingInSeries().catch(function(err) {\n    // errors in res1, res2, res3 will be catched here\n    // but the setTimeout thing is not!!\n});\n</code></pre>\n\n<p>Any ideas on how to resolve?</p>\n"}]